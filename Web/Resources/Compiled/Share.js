!function(){var t="<div class='social-media-share'>    <div class='list-menu active has-icon' data-binding='{@source: shareOptions}{@visible: shareOptions}'>        <div data-binding='{@template-for: shareOptions}'>            <a href='javascript:void(0)' data-binding='{@event-click: handleClick}' target='_blank'>                <div class='list-menu-item'>                    <img class='list-menu-icon' data-binding='{@visible: icon}{src: iconUri}' alt=' ' />                    <div class='list-menu-details'>                        <strong class='list-menu-name' data-binding='{@text: displayName}'></strong>                    </div>                </div>            </a>        </div>    </div></div>";function o(e,t,r){if("string"==typeof e&&(r=t,t=e),void 0!==r)for(var o=t.split("."),i=null,n=window,a=0,s=o.length;a<s;a++)i=o[a],a==s-1?n[i]=r:n[i]||(n[i]={}),n=n[i];else console.warn("Undefined shim for: "+t)}require({cache:{"Mapping/modules/Share/ShareModule":function(){var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});define(["require","exports","geocortex/framework/application/ModuleBase","geocortex/framework/observables"],function(e,t,r,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=(o=r.ModuleBase,a(n,o),n.prototype.initialize=function(e){var s=this;e.shareOptions&&e.shareOptions.forEach(function(e,t,r){if(e){var o=e.displayName,i=e.url,n=e.iconUri,a=e.id;o&&i&&n&&a&&(s.shareOptions[a]={displayName:new p.Observable(o),url:new p.Observable(i),iconUri:new p.Observable(n)})}}),this._registerCommands()},n.prototype._registerCommands=function(){var i=this;this.app.commandRegistry.command("ShareOn").register(this,function(t){var e=i.shareOptions[t];if(e){var r=i.app.getResource(i.libraryId,"language-share-share-on-prompt-content").format(e.displayName.get()),o=i.app.getResource(i.libraryId,"language-share-share-on-prompt-title").format(e.displayName.get());i.app.commandRegistry.command("Confirm").execute(r,o,function(e){e&&i._openUrl(i.shareOptions[t].url.get())})}},function(e){return!!i.shareOptions[e]}),this.app.commandRegistry.command("GetShareOptions").register(this,this._getShareOptions)},n.prototype._getShareOptions=function(e){e(this.shareOptions)},n.prototype._openUrl=function(r){var o=this;this.app.commandRegistry.command("HandleGenerateSharingLink").execute(function(e){e=encodeURIComponent(e);var t=r.replace(o._urlToken,e);t&&t.toLowerCase().startsWith("mailto")&&o.app.configuration.mobileMode?window.open(t,"_top"):window.open(t,"_blank")})},n);function n(e,t){var r=o.call(this,e,t)||this;return r.shareOptions={},r._urlToken="{ViewerUrl}",r}t.ShareModule=i})},"Mapping/modules/Share/ShareView":function(){var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});define(["require","exports","geocortex/framework/ui/ViewBase"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=(o=r.ViewBase,a(n,o),n.prototype.attach=function(e){var t=this;o.prototype.attach.call(this,e),this.app.commandRegistry.command("ShowShareView").register(this,function(){t.app.viewManager.activateView(t)},function(){return!!t.viewModel&&!!t.viewModel.shareOptions.get()&&0<t.viewModel.shareOptions.get().length})},n.prototype.handleClick=function(e,t,r){var o=this;return this.app.commandRegistry.command("HandleGenerateSharingLink").execute(function(e){e=encodeURIComponent(e),t.href=r.url.get().replace(o.urlToken,e)}),!0},n);function n(e,t){var r=o.call(this,e,t)||this;return r.urlToken="{ViewerUrl}",r}t.ShareView=i})},"Mapping/modules/Share/ShareViewModel":function(){var o,s=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});define(["require","exports","geocortex/framework/observables","geocortex/framework/ui/ViewModelBase"],function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=(i=r.ViewModelBase,s(a,i),a.prototype.initialize=function(e){var t=this,r=[];e.shareOptionIds&&e.shareOptionIds.hasOwnProperty("length")&&(r=e.shareOptionIds),this.app.commandRegistry.command("GetShareOptions").execute(function(e){t._populateShareOptions(e,r)})},a.prototype._populateShareOptions=function(r,e){var o=this;if(0===e.length)for(var t in e=[],r)e.push(t);e.forEach(function(e){var t=r[e];t&&o.shareOptions.addItem(t)})},a);function a(e,t){var r=i.call(this,e,t)||this;return r.shareOptions=new o.ObservableCollection,r}t.ShareViewModel=n})},"url:/Mapping/modules/Share/ShareView.html":t}}),require(["geocortex/framework/resourceManager"],function(e){e.resourceManager.register("Mapping","inv","Mapping/modules/Share/CSS/common.css","css","LnNvY2lhbC1tZWRpYS1wYWdlcyB7DQogICAgZGlzcGxheTogdGFibGUtY2VsbDsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBoZWlnaHQ6IDEwMCU7DQogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgcGFkZGluZzogMWVtOw0KfQ=="),e.resourceManager.register("Mapping","inv","Mapping/modules/Share/ShareView.html","html",t)}),require({cache:{}}),define(["Mapping/modules/Share/ShareModule","Mapping/modules/Share/ShareView","Mapping/modules/Share/ShareViewModel"],function(e,t,r){o(e,"geocortex.essentialsHtmlViewer.mapping.modules.share.ShareModule",e.ShareModule),o(t,"geocortex.essentialsHtmlViewer.mapping.modules.share.ShareView",t.ShareView),o(r,"geocortex.essentialsHtmlViewer.mapping.modules.share.ShareViewModel",r.ShareViewModel)})}();