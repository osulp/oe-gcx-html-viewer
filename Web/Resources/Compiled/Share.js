function shim(e,i,n){if("string"==typeof e&&(n=i,i=e),"undefined"==typeof n)return void console.warn("Undefined shim for: "+i);for(var r=i.split("."),t=null,a=window,o=0,s=r.length;o<s;o++)t=r[o],o==s-1?a[t]=n:a[t]||(a[t]={}),a=a[t]}require({cache:{"Mapping/modules/Share/ShareModule":function(){define(["require","exports","geocortex/framework/application/ModuleBase","geocortex/framework/observables"],function(e,i,n,r){"use strict";var t=function(e){function i(i,n){var r=e.call(this,i,n)||this;return r.shareOptions={},r._urlToken="{ViewerUrl}",r}return __extends(i,e),i.prototype.initialize=function(e){var i=this;e.shareOptions&&e.shareOptions.forEach(function(e,n,t){if(e){var a=e.displayName,o=e.url,s=e.iconUri,p=e.id;a&&o&&s&&p&&(i.shareOptions[p]={displayName:new r.Observable(a),url:new r.Observable(o),iconUri:new r.Observable(s)})}}),this._registerCommands()},i.prototype._registerCommands=function(){var e=this;this.app.commandRegistry.command("ShareOn").register(this,function(i){var n=e.shareOptions[i];if(n){var r=e.app.getResource(e.libraryId,"language-share-share-on-prompt-content").format(n.displayName.get()),t=e.app.getResource(e.libraryId,"language-share-share-on-prompt-title").format(n.displayName.get());e.app.commandRegistry.command("Confirm").execute(r,t,function(n){n&&e._openUrl(e.shareOptions[i].url.get())})}},function(i){return!!e.shareOptions[i]}),this.app.commandRegistry.command("GetShareOptions").register(this,this._getShareOptions)},i.prototype._getShareOptions=function(e){e(this.shareOptions)},i.prototype._openUrl=function(e){var i=this;this.app.commandRegistry.command("HandleGenerateSharingLink").execute(function(n){n=encodeURIComponent(n);var r=e.replace(i._urlToken,n);r&&r.toLowerCase().startsWith("mailto")&&i.app.configuration.mobileMode?window.open(r,"_top"):window.open(r,"_blank")})},i}(n.ModuleBase);i.ShareModule=t})},"Mapping/modules/Share/ShareView":function(){define(["require","exports","geocortex/framework/ui/ViewBase"],function(e,i,n){"use strict";var r=function(e){function i(i,n){var r=e.call(this,i,n)||this;return r.urlToken="{ViewerUrl}",r}return __extends(i,e),i.prototype.attach=function(i){var n=this;e.prototype.attach.call(this,i),this.app.commandRegistry.command("ShowShareView").register(this,function(){n.app.viewManager.activateView(n)},function(){return!!n.viewModel&&!!n.viewModel.shareOptions.get()&&n.viewModel.shareOptions.get().length>0})},i.prototype.handleClick=function(e,i,n){var r=this;return this.app.commandRegistry.command("HandleGenerateSharingLink").execute(function(e){e=encodeURIComponent(e),i.href=n.url.get().replace(r.urlToken,e)}),!0},i}(n.ViewBase);i.ShareView=r})},"Mapping/modules/Share/ShareViewModel":function(){define(["require","exports","geocortex/framework/observables","geocortex/framework/ui/ViewModelBase"],function(e,i,n,r){"use strict";var t=function(e){function i(i,r){var t=e.call(this,i,r)||this;return t.shareOptions=new n.ObservableCollection,t}return __extends(i,e),i.prototype.initialize=function(e){var i=this,n=[];e.shareOptionIds&&e.shareOptionIds.hasOwnProperty("length")&&(n=e.shareOptionIds),this.app.commandRegistry.command("GetShareOptions").execute(function(e){i._populateShareOptions(e,n)})},i.prototype._populateShareOptions=function(e,i){var n=this;if(0===i.length){i=[];for(var r in e)i.push(r)}i.forEach(function(i){var r=e[i];r&&n.shareOptions.addItem(r)})},i}(r.ViewModelBase);i.ShareViewModel=t})},"url:/Mapping/modules/Share/ShareView.html":'<div class="social-media-share">\r\n    <div class="list-menu active has-icon" data-binding="{@source: shareOptions}{@visible: shareOptions}">\r\n        <div data-binding="{@template-for: shareOptions}">\r\n            <a href="javascript:void(0)" data-binding="{@event-click: handleClick}" target="_blank">\r\n                <div class="list-menu-item">\r\n                    <img class="list-menu-icon" data-binding="{@visible: icon}{src: iconUri}" alt=" " />\r\n                    <div class="list-menu-details">\r\n                        <strong class="list-menu-name" data-binding="{@text: displayName}"></strong>\r\n                    </div>\r\n                </div>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}}),define(["Mapping/modules/Share/ShareModule","Mapping/modules/Share/ShareView","Mapping/modules/Share/ShareViewModel"],function(e,i,n){shim(e,"geocortex.essentialsHtmlViewer.mapping.modules.share.ShareModule",e.ShareModule),shim(i,"geocortex.essentialsHtmlViewer.mapping.modules.share.ShareView",i.ShareView),shim(n,"geocortex.essentialsHtmlViewer.mapping.modules.share.ShareViewModel",n.ShareViewModel)});