!function(){var e="<div class='module notification prompt'>    <p class='desc' data-binding='{@text: description}'></p>    <form data-binding='{@event-onsubmit: handleClickOk}'>        <div class='form-item'>            <input type='text' data-binding='{@value: promptText}{aria-label: @language-prompt-accessibility-input-label}' />        </div>        <input type='submit' class='bound-invisible' data-binding='{@event-onclick: handleClickOk}' />    </form>    <div class='form-btns'>        <button class='button' data-binding='{@var: okButtonElement}{@event-onclick: handleClickOk}{@text: @language-common-ok}' />        <button class='button' data-binding='{@event-onclick: handleClickCancel}{@text: @language-common-cancel}' />    </div></div>";function o(t,e,o){if("string"==typeof t&&(o=e,e=t),void 0!==o)for(var i=e.split("."),r=null,n=window,p=0,a=i.length;p<a;p++)r=i[p],p==a-1?n[r]=o:n[r]||(n[r]={}),n=n[r];else console.warn("Undefined shim for: "+e)}require({cache:{"Mapping/modules/Prompt/PromptModule":function(){var i,p=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});define(["require","exports","geocortex/framework/application/ModuleBase","geocortex/framework/observables"],function(t,e,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=o.ModuleBase,p(n,i),n.prototype.initialize=function(t){var p=this;function r(t,e,o,i){if(!i)return p.oldPrompt(t,o);try{var r=p.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.modules.prompt.PromptView",markupResource:"Mapping/modules/Prompt/PromptView.html",isVisible:!1,regionName:p.promptRegion,libraryId:p.libraryId}),n={title:t,description:e,defaultText:o,callback:i,promptText:new a.Observable(o)};r.attach(n),r.title.set(t),p.app.viewManager.activateView(r)}catch(t){p.app.trace.error("Error: Could not display prompt: "+t)}}i.prototype.initialize.call(this,t),this.promptRegion=t.promptRegion,this.oldPrompt=window.prompt,this.overrideNativePrompt=t.overrideNativePrompt,this.overrideNativePrompt&&(window.prompt=r),this.app.command("Prompt").register(this,function(t,e,o,i){t=t||p.app.getResource(p.libraryId,"language-prompt-default-title"),r(t,e,o,i=i||function(){})})},n);function n(){var t=null!==i&&i.apply(this,arguments)||this;return t.promptRegion="ModalWindowRegion",t.oldPrompt=null,t.overrideNativePrompt=!0,t}e.PromptModule=r})},"Mapping/modules/Prompt/PromptView":function(){var i,p=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});define(["require","exports","geocortex/framework/ui/ViewBase"],function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=o.ViewBase,p(n,i),n.prototype.attach=function(t){var e=this;if(i.prototype.attach.call(this,t),this.promptResult=null,this.title.set(t.promptTitle),this.okButtonElement)try{this.okButtonElement.focus()}catch(t){}this.viewContainerViewClosedEventToken||(this.viewContainerViewClosedEventToken=this.app.event("ViewContainerViewClosedEvent").subscribe(this,function(t){t&&t.viewId===e.id&&e._deactivateForUser()}))},n.prototype.destroyBindings=function(){i.prototype.destroyBindings.call(this),this.viewContainerViewClosedEventToken&&(this.app.event("ViewContainerViewClosedEvent").unsubscribe(this.viewContainerViewClosedEventToken),this.viewContainerViewClosedEventToken=null)},n.prototype.handleClickOk=function(t,e,o){return this.viewModel&&(this.promptResult=this.viewModel.promptText.get()),this._deactivateForUser(),!1},n.prototype.handleClickCancel=function(t,e,o){return this.promptResult=null,this._deactivateForUser(),!1},n.prototype._deactivateForUser=function(){this.app.viewManager.deactivateView(this),this.app.viewManager.destroyView(this),this.viewModel&&this.viewModel.callback&&this.viewModel.callback(this.promptResult)},n);function n(){var t=null!==i&&i.apply(this,arguments)||this;return t.promptResult=null,t}e.PromptView=r})},"url:/Mapping/modules/Prompt/PromptView.html":e}}),require(["geocortex/framework/resourceManager"],function(t){t.resourceManager.register("Mapping","inv","Mapping/modules/Prompt/PromptView.html","html",e)}),require({cache:{}}),define(["Mapping/modules/Prompt/PromptModule","Mapping/modules/Prompt/PromptView"],function(t,e){o(t,"geocortex.essentialsHtmlViewer.mapping.modules.prompt.PromptModule",t.PromptModule),o(e,"geocortex.essentialsHtmlViewer.mapping.modules.prompt.PromptView",e.PromptView)})}();