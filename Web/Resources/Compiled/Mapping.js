/*
	
	Copyright (c) 2016, Latitude Geographics Group Ltd.
	All rights reserved.
	       
	Redistribution is not permitted. 
	
	Use in binary form, without modification, is permitted provided that neither 
	the name of the organization nor the names of its contributors may be used 
	to endorse or promote products derived from this software without specific 
	prior written permission.
	       
	THIS SOFTWARE IS PROVIDED BY COPYRIGHT HOLDER ''AS IS'' AND ANY
	EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
	WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
	DISCLAIMED. IN NO EVENT SHALL LATITUDE GEOGRAPHICS GROUP LTD. BE LIABLE FOR ANY
	DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
	(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
	LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
	ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
	(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
	SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

var __extends=this&&this.__extends||function(d,g){function f(){this.constructor=d}for(var m in g)g.hasOwnProperty(m)&&(d[m]=g[m]);d.prototype=null===g?Object.create(g):(f.prototype=g.prototype,new f)},geocortex;
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(){f.apply(this,arguments);this.userInitiatedDA=!1}__extends(b,f);b.prototype.attach=function(a){if(a){f.prototype.attach.call(this,a);if(null!==this.viewModel.content.get())this._activateAccessibilityView();else var c=this.app.eventRegistry.event("AccessibilityIconContentInitializedEvent").subscribe(this,function(){this._activateAccessibilityView();this.app.eventRegistry.event("AccessibilityIconContentInitializedEvent").unsubscribe(c)});
if(this.okButtonElement)try{this.okButtonElement.focus()}catch(e){}this.viewContainerViewClosedEventToken||(this.viewContainerViewClosedEventToken=this.app.event("ViewContainerViewClosedEvent").subscribe(this,function(a){a&&a.viewId==this.id&&this._deactivateForUser()}))}};b.prototype._canExecuteActivateAccessibilityView=function(){return this.viewModel.included.get()};b.prototype._executeActivateAccessibilityView=function(){this.app.commandRegistry.command("ActivateView").execute(this.id)};b.prototype._activateAccessibilityView=
function(){this.viewModel.included.get()&&this.title.set(this.viewModel.title.get());this.app.commandRegistry.command("ShowAccessibilityView").register(this,this._executeActivateAccessibilityView,this._canExecuteActivateAccessibilityView)};b.prototype.resolveWidget=function(a,c){f.prototype.resolveWidget.call(this,a,c);if("GetHTMLContent"===a){var e=new d.essentialsHtmlViewer.mapping.infrastructure.FeatureDescriptionPresenterView(this.app,this.libraryId);e.root=document.createElement("div");e.root.className=
"content";e.root.innerHTML=e.insertLinkAndImageBindings(c);e.attach(null);return e}};b.prototype.handleClickOk=function(a,c,e){this._deactivateForUser();return!1};b.prototype._deactivateForUser=function(){this.userInitiatedDA=!0;this.app.viewManager.deactivateView(this);this.viewModel.callback&&this.userInitiatedDA&&this.viewModel.callback()};return b}(d.framework.ui.ViewBase);f.AccessibilityIconView=g})(f.accessibility||(f.accessibility={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.included=new Observable(!0);this.content=new Observable(null);this.title=new Observable(null)}__extends(b,d);b.prototype.initialize=function(a){a&&(a.hasOwnProperty("included")&&this.included.set(a.included),a.hasOwnProperty("title")&&this.title.set(a.title),a.hasOwnProperty("content")&&(this.content.set(decodeURIComponent(a.content)),this.app.eventRegistry.event("AccessibilityIconContentInitializedEvent").publish()))};
return b}(d.framework.ui.ViewModelBase);f.AccessibilityIconViewModel=g})(f.accessibility||(f.accessibility={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=window.HTMLElement||window.Element,l=function(b){function a(){b.apply(this,arguments);this.includeProviders=new Observable(!0);this._keyupHandle=this._keydownHandle=null;this._panning=!1;this._viewsIgnoreAutoFocus="LoadingStatus StatusIndicatorView StatusMessageView View- ProviderView geometryEditingStatus".split(" ");this._modalContainerView=null}__extends(a,b);a.prototype.initialize=function(c){var e=this;b.prototype.initialize.call(this,
c);if(c.keyboardFocusIndicatorEnabled){var k=c.keyboardFocusIndicatorColor||a.DEFAULT_KEYBOARD_FOCUS_INDICATOR_COLOR,q=document.createElement("style");q.textContent="\n                    .keyboard-focus-active :focus,\n                    .keyboard-focus-active #map_root:focus:after {\n                        outline-color: "+k+" !important;\n                    }\n                ";document.head.appendChild(q);$(document).on("mousedown",function(a){$(document.documentElement).hasClass("keyboard-focus-active")&&
(e.app.trace.debug("Keyboard focus deactivated."),$(document.documentElement).removeClass("keyboard-focus-active"))});$(document).on("keydown",function(a){9==a.keyCode&&!1===$(document.documentElement).hasClass("keyboard-focus-active")&&(e.app.trace.debug("Keyboard focus active."),$(document.documentElement).addClass("keyboard-focus-active"))})}if(this.app.map)this.enableMapFocusedText();else this.app.event("SiteServiceLayersLoadedEvent").once(this,this.enableMapFocusedText);c.hasOwnProperty("includeProviders")&&
this.includeProviders.set(c.includeProviders);if(c.providers&&this.includeProviders.get())for(k=0;k<c.providers.length;k++){q=c.providers[k];if(!1===q.isEnabled)return;var n=dojo.getObject(q.type);n&&(new n(this.app,q.libraryId||this.libraryId)).initialize(q)}c.expandedMapKeyboardAccessibility&&this.enableKeyboardNavigation();c.automaticElementFocusing&&this.enableAutomaticElementFocusing()};a.prototype.enableMapFocusedText=function(){$(this.app.map.root).attr("aria-label",this.app.getResource(this.libraryId,
"language-accessibility-map-focused"));$(this.app.map.root).attr("role","main");$(this.app.map.root).children(".esriMapContainer, .esriControlsBR").attr("aria-hidden","true")};a.prototype.enableAutomaticElementFocusing=function(){var a=this;this.app.command("FocusOnFirstInputInView").register(this,function(a){f.infrastructure.FocusUtils&&setTimeout(function(){f.infrastructure.FocusUtils.focusOnFirstInput(a)},0)});this.app.event("ViewActivatedEvent").subscribe(this,function(e){if(!a._modalContainerView){var b=
a.app.viewManager.getRegionForViewId(e.id);b&&"ModalWindowPlaceholderRegion"===b.name&&(a._modalContainerView=e)}for(b=0;b<a._viewsIgnoreAutoFocus.length;b++)if(-1!==e.id.search(a._viewsIgnoreAutoFocus[b]))return;a.app.trace.debug("View focused: "+e.id);a.app.command("FocusOnFirstInputInView").execute(e)});var e=function(e){return a._interceptTabsWhileModalActive(e)};this.app.event("RegionActivatedEvent").subscribe(this,function(a){if("ModalWindowRegion"===a.name)$(document).on("keydown",e)});this.app.event("RegionDeactivatedEvent").subscribe(this,
function(a){"ModalWindowRegion"===a.name&&$(document).off("keydown",e)})};a.prototype._resetModalFocus=function(a){if(a&&a.root)try{var e=$(a.root).find(":visible:input, a:visible, button:visible").not(".bound-disabled, .disabled, [tabindex=-1]");e&&0<e.length&&f.infrastructure.FocusUtils.focus(e[0])}catch(k){this.app.trace.debug("Could not focus: "+k)}};a.prototype._interceptTabsWhileModalActive=function(a){var e=a.keyCode||a.which;if(9===e||9===e&&a.shiftKey){var k=document.activeElement,b=$(this._modalContainerView.root).find(":focusable");
b&&k===b[0]&&9===e&&a.shiftKey?a.preventDefault():k===b[b.length]&&9===e&&a.preventDefault();0===$(k).parents(".ModalViewContainerView").length&&(this._resetModalFocus(this._modalContainerView),a.preventDefault())}};a.prototype.enableKeyboardNavigation=function(){var a=this;this.disableKeyboardNavigation();if(this.app.map&&this.app.map.loaded)this._keydownHandle=dojo.on(document,"keydown",function(e){return a._onKeyDownHandler(e)}),this._keyupHandle=dojo.on(document,"keyup",function(e){return a._onKeyUpHandler(e)});
else this.app.event("MapLoadedEvent").once(this,function(e){a._keydownHandle=dojo.on(document,"keydown",function(e){return a._onKeyDownHandler(e)});a._keyupHandle=dojo.on(document,"keyup",function(e){return a._onKeyUpHandler(e)})})};a.prototype.disableKeyboardNavigation=function(){this._keydownHandle&&this._keydownHandle.remove();this._keyupHandle&&this._keyupHandle.remove();this._keydownHandle=this._keyupHandle=null;this._panning=!1};a.prototype._onKeyDownHandler=function(a){var e=a.target||a.srcElement,
k=null;e instanceof g&&(k=e.className);if(e===this.app.map.root||"ovwHighlight"===k)e=this.app.map,e.navigationManager._keyHandle&&(this._panning=!0,e.navigationManager._keyHandle.advice(a))};a.prototype._onKeyUpHandler=function(a){var e=a.target||a.srcElement,k=null;e instanceof g&&(k=e.className);if(e===this.app.map.root||"ovwHighlight"===k)e=this.app.map,e.navigationManager._keyEndHandle&&this._panning&&(this._panning=!1,e.navigationManager._keyEndHandle.advice(a))};a.DEFAULT_KEYBOARD_FOCUS_INDICATOR_COLOR=
"#550055";return a}(d.framework.application.ModuleBase);h.AccessibilityModule=l})(g.accessibility||(g.accessibility={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=f.infrastructure.FormatUtils,l=f.infrastructure.NumberFormat,b=function(a){function c(){a.apply(this,arguments);this.changedDescription=this.fullDescription="";this.decimalPrecision=4;this.readAttributionInformation=!1;this._viewDelay=0;this._timeoutId=null;this._eventDelay=250;this._mapReadDelay=1250;this._previousTimeExtentMax=this._previousTimeExtentMin=this._previousScale=this._previousExtent=null;this._queryTaskCollection=
[];this._identifyTaskCollection=[];this._lastIdentifyMap=this._lastQueryMap=null;this._completedIdentifies=this._completedQueries=!1}__extends(c,a);c.prototype.initialize=function(c){var k=this;a.prototype.initialize.call(this,c);0<=c.decimalPrecision&&10>c.decimalPrecision?this.decimalPrecision=c.decimalPrecision:this.app.trace.warning("MapTextProvider: decimalPrecision entered in config is out of range (0-9). Using default value of "+this.decimalPrecision+".");this.readAttributionInformation=c.readAttributionInformation;
this.app.event("MapExtentChangedEvent").subscribe(this,this._delayMapDescriptionChanged);this.app.event("MapTimeExtentChangedEvent").subscribe(this,function(){return k.app.map&&k._delayMapDescriptionChanged(k.app.map.extent)});this.app.event("MapPanStartedEvent").subscribe(this,function(a,c){clearTimeout(k._timeoutId);k._timeoutId=null});if(this.app.map)this._handleMapLoadedEvent(this.app.map);else this.app.event("SiteServiceLayersLoadedEvent").once(this,this._handleMapLoadedEvent)};c.prototype._handleMapLoadedEvent=
function(a){var c=this;$(this.app.map.root).focus(function(a){clearTimeout(c._timeoutId);c._timeoutId=setTimeout(function(){c.app.command("ScreenReaderNarrate").execute(c.fullDescription)},c._mapReadDelay)});if(this.readAttributionInformation)$(this.app.map.attribution.listNode).on("DOMSubtreeModified",function(a){c._delayMapDescriptionChanged(c.app.map.extent)})};c.prototype._delayMapDescriptionChanged=function(a){var c=this;clearTimeout(this._timeoutId);this._timeoutId=setTimeout(function(){c._timeoutId=
null;c._handleMapDescriptionChanged(a)},this._eventDelay)};c.prototype._handleMapDescriptionChanged=function(a){var c=this;setTimeout(function(){c.app.trace.debug("setTimeout() called for loadingChanges.");c.app.command("ScreenReaderNarrate").execute(c.app.getResource(c.libraryId,"language-accessibility-map-loading-changes"))},this._viewDelay);var b="",n=function(n){0===n.length&&(n=c.app.getResource(c.libraryId,"language-accessibility-map-none"));var d=c._getTimeExtentDescription();c.fullDescription=
"";c.fullDescription=b;c.fullDescription+=" "+c._getScaleDescription();d&&(c.fullDescription+=" "+d);c.fullDescription+=" "+c.app.getResource(c.libraryId,"language-accessibility-map-visible-features").format(n);c.changedDescription="";if(null===c._previousExtent||a.getCenter()!=c._previousExtent.getCenter())c.changedDescription+=b;c._previousScale!=c.app.map.getScale()&&(c.changedDescription+=" "+c._getScaleDescription());d&&c.app.map.timeExtent&&c.app.map.timeExtent.startTime&&c.app.map.timeExtent.endTime&&
(c._previousTimeExtentMin!==c.app.map.timeExtent.startTime.getTime()||c._previousTimeExtentMax!==c.app.map.timeExtent.endTime.getTime())&&(c.changedDescription+=" "+d);c.changedDescription+=" "+c.app.getResource(c.libraryId,"language-accessibility-map-visible-features").format(n);c.readAttributionInformation&&(n=c._getAttributionInformation(),c.fullDescription+=" "+n,c.changedDescription+=" "+n);setTimeout(function(){c.app.trace.debug("setTimeout() called for changedDescription.");c.app.command("ScreenReaderNarrate").execute(c.app.getResource(c.libraryId,
"language-accessibility-map-changed-information").format(c.changedDescription))},c._viewDelay);$(c.app.map.root).attr("aria-label",c.app.getResource(c.libraryId,"language-accessibility-map-focused"));c._previousExtent=a;c._previousScale=c.app.map.getScale();c._previousTimeExtentMin=c.app.map.timeExtent&&c.app.map.timeExtent.startTime?c.app.map.timeExtent.startTime.getTime():null;c._previousTimeExtentMax=c.app.map.timeExtent&&c.app.map.timeExtent.endTime?c.app.map.timeExtent.endTime.getTime():null};
this._getCentreCoordinatesDescription(a,function(d){b=d;c._setVisibleFeaturesDescription(a,n)})};c.prototype._getCentreCoordinatesDescription=function(a,c){var b=this,n="",d="",l=new esri.SpatialReference(102100);f.infrastructure.GeometryUtils.projectGeometry(a,l,function(a){a instanceof esri.geometry.Extent&&(n=b._getFormattedLatitudeString(a),d=b._getFormattedLongitudeString(a));c(b.app.getResource(b.libraryId,"language-accessibility-map-coordinates-introduction").format(n,d))},function(a){b.app.trace.info("Error encountered attempting to project geometry: "+
a);c(b.app.getResource(b.libraryId,"language-accessibility-map-coordinates-error"))},this.app)};c.prototype._getFormattedLatitudeString=function(a){var c=g.formatNumber(Math.abs(a.getCenter().getLatitude()),l.NUMBER,{fractionalDigits:this.decimalPrecision});return 0<a.getCenter().getLatitude()?this.app.getResource(this.libraryId,"language-accessibility-map-coordinates-north").format(c):this.app.getResource(this.libraryId,"language-accessibility-map-coordinates-south").format(c)};c.prototype._getFormattedLongitudeString=
function(a){var c=g.formatNumber(Math.abs(a.getCenter().getLongitude()),l.NUMBER,{fractionalDigits:this.decimalPrecision});return 0>a.getCenter().getLongitude()?this.app.getResource(this.libraryId,"language-accessibility-map-coordinates-west").format(c):this.app.getResource(this.libraryId,"language-accessibility-map-coordinates-east").format(c)};c.prototype._getScaleDescription=function(){var a=g.formatNumber(this.app.map.getScale(),l.NUMBER,{fractionalDigits:this.decimalPrecision});return this.app.getResource(this.libraryId,
"language-accessibility-map-scale").format(a)};c.prototype._getTimeExtentDescription=function(){var a,c;return this.app.map&&this.app.map.timeExtent&&this.app.map.timeExtent.startTime&&this.app.map.timeExtent.endTime&&(a=f.infrastructure.FormatUtils.formatDate(this.app.map.timeExtent.startTime,f.infrastructure.DateFormat.DATE_TIME_LONG),c=f.infrastructure.FormatUtils.formatDate(this.app.map.timeExtent.endTime,f.infrastructure.DateFormat.DATE_TIME_LONG),a&&c)?this.app.getResource(this.libraryId,"language-accessibility-map-time-extent").format(a,
c):""};c.prototype._setVisibleFeaturesDescription=function(a,c){for(var b="",n=this._getVisibleLayers(a),f=[],l=[],h=0;h<n.length;h++){var g=n[h];if(g.mapService.mapServiceFunction!==d.essentials.MapServiceFunction.BASE)if(g.mapService.serviceLayer instanceof esri.layers.GraphicsLayer){var m=this._countGraphicsInExtent(a,g.mapService.serviceLayer);0<m&&(b+=" "+this.app.getResource(this.libraryId,"language-accessibility-map-visible-feature-information").format(m,g.name))}else if(g.mapService.serviceLayer instanceof
esri.layers.KMLLayer){for(var p=g.mapService.serviceLayer.getLayers(),r=g.mapService.displayName,t=m=0;t<p.length;t++){var w=p[t];w.graphics&&w.visible&&w.isVisibleAtScale(this.app.map.getScale())&&(m+=this._countGraphicsInExtent(a,w))}0<m&&(b+=" "+this.app.getResource(this.libraryId,"language-accessibility-map-visible-feature-information").format(m,r))}else m=g.mapService.serviceLayer,m.capabilities&&0>m.capabilities.toLowerCase().indexOf("query")&&0>m.capabilities.toLowerCase().indexOf("identify")||
(g.queryable&&g.supportsQuery?0===l.filter(function(a){return a.mapService.serviceUrl+"/"+a.id===g.mapService.serviceUrl+"/"+g.id}).length&&l.push(g):g.identifiable&&g.supportsIdentify?(m=f.filter(function(a){return a.mapService.serviceUrl===g.mapService.serviceUrl}),0<m.length&&0===m[0].layers.filter(function(a){return a.toString()===g.id}).length?m[0].layers.push(parseInt(g.id)):0===m.length&&f.push({mapService:g.mapService,layers:[parseInt(g.id)]})):this.app.trace.debug(g.name+" layer does not support identify or query. Not supported for screenreader."))}0===
f.length?this._completedIdentifies=!0:this._completedIdentifies=!1;0===l.length?this._completedQueries=!0:this._completedQueries=!1;0===f.length&&0===l.length?c(b):(0<f.length&&this._performIdentify(c,b,a,f),0<l.length&&this._performQueries(c,b,a,l))};c.prototype._countGraphicsInExtent=function(a,c){for(var b=0,n=0;n<c.graphics.length;n++){var d=c.graphics[n];a.intersects(d.geometry)&&d.visible&&b++}return b};c.prototype._performIdentify=function(a,c,b,n){var d=this,l={};this._identifyTaskCollection=
[];null!=this._lastIdentifyMap&&this._lastIdentifyMap.cancel();for(var h=0;h<n.length;h++){var g=new esri.tasks.IdentifyParameters;g.mapExtent=b;g.geometry=b;g.layerIds=n[h].layers;g.layerOption=esri.tasks.IdentifyParameters.LAYER_OPTION_VISIBLE;g.returnGeometry=!1;g.tolerance=0;g.height=$(this.app.map.root).height();g.width=$(this.app.map.root).width();var m=f.infrastructure.taskUtils.getIdentifyTask(n[h].mapService);this._identifyTaskCollection.push({identifyTask:m,identifyParameters:g})}var p=
!1;this._lastIdentifyMap=Promise.map(this._identifyTaskCollection,function(a){return(new Promise(function(c,e){p||a.identifyTask.execute(a.identifyParameters,c,e)})).then(function(a){if(!p)for(var c=0;c<a.length;c++){var e=a[c];l[e.layerName]=void 0!==l[e.layerName]?l[e.layerName]+1:1}})["catch"](function(a){d.app.trace.info("Error performing identify on server for feature count in MapTextProvider: "+a)})},{concurrency:1}).then(function(){for(var b in l)l.hasOwnProperty(b)&&0<l[b]&&(c+=" "+d.app.getResource(d.libraryId,
"language-accessibility-map-visible-feature-information").format(l[b],b));!p&&d._completedQueries&&a(c)}).cancellable()["catch"](Promise.CancellationError,function(a){p=!0;d.app.trace.debug("Feature information retrieval for MapTextProvider cancelled.")})["catch"](function(a){d.app.trace.info("Error retrieving MapTextProvider info: "+a)}).lastly(function(){d._completedIdentifies=!0})};c.prototype._performQueries=function(a,c,b,n){var d=this,l=new esri.tasks.Query;l.geometry=esri.geometry.Polygon.fromExtent(b);
l.returnGeometry=!1;l.where="1=1";this._queryTaskCollection=[];null!=this._lastQueryMap&&this._lastQueryMap.cancel();for(b=0;b<n.length;b++){var h=n[b],g=h.name;h.mapService.serviceLayer.url.split("?");h=f.infrastructure.taskUtils.getQueryTask(h);this._queryTaskCollection.push({queryTask:h,layerName:g})}var m=!1;this._lastQueryMap=Promise.map(this._queryTaskCollection,function(a){if(!m)return(new Promise(function(c,e){a.queryTask.executeForCount(l,c,e)})).then(function(e){0<e&&(c+=" "+d.app.getResource(d.libraryId,
"language-accessibility-map-visible-feature-information").format(e,a.layerName))})["catch"](function(a){d.app.trace.info("Error querying server for feature count in MapTextProvider: "+a)})},{concurrency:1}).then(function(){!m&&d._completedIdentifies&&a(c)}).cancellable()["catch"](Promise.CancellationError,function(a){m=!0;d.app.trace.debug("Feature information retrieval for MapTextProvider cancelled.")})["catch"](function(a){d.app.trace.info("Error retrieving MapTextProvider info: "+a)}).lastly(function(){d._completedQueries=
!0})};c.prototype._getVisibleLayers=function(a){a=this.app.site.essentialsMap.allLayers();for(var c=[],b=0;b<a.length;b++){var n=a[b],d=f.infrastructure.gis.LayerInfo.fromGcxLayer(n);d.getMaxScale()>this.app.map.getScale()||d.getMinScale()<this.app.map.getScale()||d.isVisible()&&d.subLayerIds&&0===d.subLayerIds.length&&c.push(n)}return c};c.prototype._getAttributionInformation=function(){for(var a="",c=$(this.app.map.attribution.listNode).children(),b=0;b<c.length;b++){var n=c[b];"none"!==$(n).css("display")&&
(a+=n.textContent+" ")}return a};return c}(f.infrastructure.accessibility.AccessibilityProviderBase);h.MapTextProvider=b})(g.accessibility||(g.accessibility={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(h){var g=function(d){function b(){d.apply(this,arguments);this._notifications={};this._subviewNotifications={};this._message="";this._isDataFrameOpen=!1;this._openViews=[];this._closedViews=[];this._dataFrameOpenViews=[];this._dataFrameClosedViews=[];this._currentDataFrameViewId="LayerListView";this._activeContainerViews=["LayerDataContainerView"];this.startTime=(new Date).getTime();this.timeDelay=250;this.newEventTime=null}__extends(b,
d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);a.notifications&&(this._notifications=a.notifications);a.subviewNotifications&&(this._subviewNotifications=a.subviewNotifications);this._resetViewArrays();this.app.event("ViewActivatedEvent").subscribe(this,this._handleViewActivated);this.app.event("ViewDeactivatedEvent").subscribe(this,this._handleViewDeactivated);this.app.event("DataFrameOpenedEvent").subscribe(this,this._handleDataFrameOpened);this.app.event("DataFrameClosedEvent").subscribe(this,
this._handleDataFrameClosed);this.app.event("FlyoutActivated").subscribe(this,this._compactToolbarFlyoutActivated);this.app.event("FlyoutDeactivated").subscribe(this,this._compactToolbarFlyoutDeactivated)};b.prototype._handleViewActivated=function(a){var c=this.app.getResource(this.libraryId,"language-accessibility-map-open");this.app.trace.debug("View activated: "+a.id);null!=this._notifications[a.id]?(-1<this._openViews.indexOf(a.id)||this._openViews.push(a.id),this._handleView(a)):"DataRegion"==
a.regionName&&this._isDataFrameOpen?(-1<this._activeContainerViews.indexOf(a.id)||(this._activeContainerViews.push(a.id),this.app.trace.debug("Active container views: {0}".format(this._activeContainerViews.length.toString()))),this._handleDataRegionView(a,c)):this.app.trace.debug("No corresponding notification message for "+a.id)};b.prototype._handleViewDeactivated=function(a){this.app.getResource(this.libraryId,"language-accessibility-map-closed");this.app.trace.debug("View deactivated: "+a.id);
-1<this._activeContainerViews.indexOf(a.id)?(a=this._activeContainerViews.indexOf(a.id),this._activeContainerViews.splice(a,1),this.app.trace.debug("Active container views: {0}".format(this._activeContainerViews.length.toString())),0==this._activeContainerViews.length&&(this._currentDataFrameViewId="PlaceholderView")):null!=this._notifications[a.id]?(-1<this._closedViews.indexOf(a.id)||this._closedViews.push(a.id),this._handleView(a)):null!=this._subviewNotifications[a.id]&&this._isDataFrameOpen?
(-1<this._dataFrameClosedViews.indexOf(a.id)||this._dataFrameClosedViews.push(a.id),this._handleView(a)):this.app.trace.debug("No corresponding notification message for "+a.id)};b.prototype._handleView=function(a){var c=this;this.newEventTime=(new Date).getTime();setTimeout(function(){(new Date).getTime()-c.newEventTime>c.timeDelay&&c._arraysNotEmpty()&&(c._composeMessage(),c.app.trace.debug("Message: {0}".format(c._message)),c.app.command("ScreenReaderNarrate").execute(c._message),c._message="",
c._resetViewArrays())},this.timeDelay)};b.prototype._arraysNotEmpty=function(){return 0<this._openViews.length||0<this._closedViews.length||0<this._dataFrameOpenViews.length||0<this._dataFrameClosedViews.length};b.prototype._handleDataRegionView=function(a,c){var e="";if(a.id==this.app.getResource(this.libraryId,"language-accessibility-map-workflowlist-view"))e=a.id;else if(a.viewModel&&a.viewModel.currentView)e=a.viewModel.currentView.id;else return;null!=this._subviewNotifications[e]?e==this._currentDataFrameViewId?
this.app.trace.debug("Active view = Current data frame view."):(c==this.app.getResource(this.libraryId,"language-accessibility-map-open")?(-1<this._dataFrameOpenViews.indexOf(a.id)||this._dataFrameOpenViews.push(e),null==this._currentDataFrameViewId||-1<this._dataFrameClosedViews.indexOf(this._currentDataFrameViewId)||this._dataFrameClosedViews.push(this._currentDataFrameViewId),this._currentDataFrameViewId=e):-1<this._dataFrameClosedViews.indexOf(this._currentDataFrameViewId)||this._dataFrameClosedViews.push(e),
this._handleView(a)):this._handleView(a)};b.prototype._composeMessage=function(){this._isDataFrameOpen||(this._dataFrameOpenViews=[]);this._addOpenViews();this._addDataFrameOpenViews();this._addClosedViews();this._addDataFrameClosedViews()};b.prototype._addOpenViews=function(){for(var a=this.app.getResource(this.libraryId,"language-accessibility-map-open"),c=0;c<this._openViews.length;c++)this._message+=this._notifications[this._openViews[c]].format(a)};b.prototype._addClosedViews=function(){for(var a=
this.app.getResource(this.libraryId,"language-accessibility-map-closed"),c=0;c<this._closedViews.length;c++)this._message+=this._notifications[this._closedViews[c]].format(a)};b.prototype._addDataFrameOpenViews=function(){for(var a=this.app.getResource(this.libraryId,"language-accessibility-map-open"),c=0;c<this._dataFrameOpenViews.length;c++)this._message+=this._subviewNotifications[this._dataFrameOpenViews[c]].format(a)};b.prototype._addDataFrameClosedViews=function(){for(var a=this.app.getResource(this.libraryId,
"language-accessibility-map-closed"),c=0;c<this._dataFrameClosedViews.length;c++)this._message+=this._subviewNotifications[this._dataFrameClosedViews[c]].format(a)};b.prototype._resetViewArrays=function(){this._openViews=[];this._closedViews=[];this._dataFrameOpenViews=[];this._dataFrameClosedViews=[]};b.prototype._handleDataFrameOpened=function(){var a=this.app.getResource(this.libraryId,"language-accessibility-map-data-frame-open"),c=this.app.getResource(this.libraryId,"language-accessibility-map-open"),
a=a+this._subviewNotifications[this._currentDataFrameViewId].format(c);this._isDataFrameOpen=!0;this.app.trace.debug(a);this.app.command("ScreenReaderNarrate").execute(a)};b.prototype._handleDataFrameClosed=function(){var a=this.app.getResource(this.libraryId,"language-accessibility-map-data-frame-closed");this._isDataFrameOpen=!1;this.app.trace.debug(a);this.app.command("ScreenReaderNarrate").execute(a)};b.prototype._compactToolbarFlyoutActivated=function(a){a.id===this.app.getResource(this.libraryId,
"language-accessibility-map-compact-toolbar-view")&&(this.app.trace.debug("View activated: "+a.id),this._openViews.push(a.id),this._handleView(a))};b.prototype._compactToolbarFlyoutDeactivated=function(a){a.id===this.app.getResource(this.libraryId,"language-accessibility-map-compact-toolbar-view")&&(this.app.trace.debug("View deactivated: "+a.id),this._closedViews.push(a.id),this._handleView(a))};return b}(d.infrastructure.accessibility.AccessibilityProviderBase);h.ViewActivatorProvider=g})(g.accessibility||
(g.accessibility={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.ariaLabelText=new Observable("");this.screenNarrationEnabled=!0;this._numNarrateDeactivations=0}__extends(b,d);b.prototype.initialize=function(a){var c=this;d.prototype.initialize.call(this,a);this.app.command("EnableScreenReaderNarrate").register(this,function(){c._numNarrateDeactivations=0<c._numNarrateDeactivations?--c._numNarrateDeactivations:0;0===c._numNarrateDeactivations&&
(c.screenNarrationEnabled=!0)});this.app.command("DisableScreenReaderNarrate").register(this,function(){c._numNarrateDeactivations++;c.screenNarrationEnabled=!1});this.app.command("ScreenReaderNarrate").register(this,function(a){c.screenNarrationEnabled?setTimeout(function(){c.screenNarrationEnabled&&(c.app.trace.debug("ScreenReader Narration Enabled. Now Narrating: {0}".format(a)),c.ariaLabelText.set(a))},0):c.app.trace.debug("ScreenReader Narration Disabled by {0} components. Not narrating '{1}'".format(c._numNarrateDeactivations,
a))})};return b}(d.framework.ui.ViewModelBase);f.AccessibilityViewModel=g})(f.accessibility||(f.accessibility={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.handleOnClick=function(a,c,e){this.app.command("ShowAccessibilityView").execute();return!1};return b}(d.framework.ui.ViewBase);f.AccessibilityButtonView=g})(f.accessibility||(f.accessibility={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this._longPressTimer=null;this._pressLengthMs=1E3;this._firstEvent=null}__extends(b,d);b.prototype.handleTouchStart=function(a){a=a.target||a.srcElement;this._firstEvent||"gcx_search"===a.id||(this._firstEvent="touch start",this._beginLongPress());return!0};b.prototype.handleMouseDown=function(a){a=a.target||a.srcElement;this._firstEvent||"gcx_search"===a.id||(this._firstEvent="mouse down",
this._beginLongPress());return!0};b.prototype.handleTouchEnd=function(a){"touch start"===this._firstEvent&&(this._firstEvent=null,this._cancelLongPress());return!0};b.prototype.handleMouseUp=function(a){"mouse down"===this._firstEvent&&(this._firstEvent=null,this._cancelLongPress());return!0};b.prototype.handleMouseOut=function(a){"mouse down"===this._firstEvent&&(this._firstEvent=null,this._cancelLongPress());return!0};b.prototype.handleTouchCancel=function(a){"touch start"===this._firstEvent&&(this._firstEvent=
null,this._cancelLongPress());return!0};b.prototype.handleTouchMove=function(a){"touch start"===this._firstEvent&&(this._firstEvent=null,this._cancelLongPress());return!0};b.prototype.handleDoubleClick=function(a){this.app.command("ToggleToolbar").execute()};b.prototype._beginLongPress=function(){this._longPressTimer&&clearTimeout(this._longPressTimer);var a=this;this._longPressTimer=setTimeout(function(){a.app.command("ActivateView").execute("LogView")},a._pressLengthMs)};b.prototype._cancelLongPress=
function(){this._longPressTimer&&(clearTimeout(this._longPressTimer),this._longPressTimer=null)};return b}(d.framework.ui.ViewBase);f.BannerView=g})(f.banner||(f.banner={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this._outstandingWorkCount=0;this._attachedVideoEventListeners=!1}__extends(b,d);b.prototype.activated=function(){d.prototype.activated.call(this);(this._getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia)?Worker?(this._startJsqrcodeWorker(),this._startJobWorker(),this._startVideo()):this.app.trace.error(this.id+
" shown but web workers aren't available.  Barcode and QR code scanning won't work."):this.app.trace.error(this.id+" shown but getUserMedia isn't available.  Barcode and QR code scanning won't work.")};b.prototype.deactivated=function(){d.prototype.deactivated.call(this);this._stopVideo()};b.prototype._startJsqrcodeWorker=function(){var a=this;this._jsqrcodeWorker||(this.configuration.jsqrcodeSource?(this._jsqrcodeWorker=new Worker(this.configuration.jsqrcodeSource),this._jsqrcodeWorker.onmessage=
function(c){a._outstandingWorkCount--;c.data.success&&(a.app.command("DeactivateView").execute(a.id),a.app.event("_HtmlBarcodeScannerResult").publish({format:"QR",value:c.data.result}))},this._jsqrcodeWorker.onerror=function(c){a.app.trace.error("Error scanning barcode. "+c.message)}):this.app.trace.error(this.id+" shown but jsqrcodeSource is not configured.  QR code scanning won't work."))};b.prototype._startJobWorker=function(){var a=this;this._jobWorker||(this.configuration.jobDecoderWorkerSource?
(this._jobWorker=new Worker(this.configuration.jobDecoderWorkerSource),this._jobWorker.onmessage=function(c){"boolean"===typeof c.data.success&&a._outstandingWorkCount--;!0===c.data.success&&0<c.data.result.length&&(a.app.command("DeactivateView").execute(a.id),a.app.event("_HtmlBarcodeScannerResult").publish({format:c.data.result[0].Format,value:c.data.result[0].Value}))},this._jobWorker.onerror=function(c){a.app.trace.error("Error scanning barcode. "+c.message)}):this.app.trace.error(this.id+" shown but jobDecoderWorkerSource is not configured.  Barcode scanning won't work."))};
b.prototype._startVideo=function(){var a=this;this._attachedVideoEventListeners||(this._attachVideoEventListeners(),this._attachedVideoEventListeners=!0);this._lastSourceInfo?this._startVideoWithSourceInfo(this._lastSourceInfo):MediaStreamTrack&&MediaStreamTrack.getSources?MediaStreamTrack.getSources(function(c){c=c.filter(function(a){return"video"===a.kind});if(0===c.length)a._startVideoWithConstraints({video:!0,audio:!1});else if(1===c.length)a._startVideoWithSourceInfo(c[0]);else{var e=c.filter(function(a){return"environment"===
a.facing});0<e.length?a._startVideoWithSourceInfo(e[0]):(a._sourceInfos=c,a.viewModel.showSourceSwitcher.set(!0),a._startVideoWithSourceInfo(c[0]))}}):this._startVideoWithConstraints({video:!0,audio:!1})};b.prototype._attachVideoEventListeners=function(){var a=this,c,e=0,k=function(){c||(c=setInterval(function(){0<a._outstandingWorkCount?(e++,0===e%5&&a.app.trace.warning(a.id+" skipped processing "+e+" frames in a row.")):(0>a._outstandingWorkCount&&(a.app.trace.error(a.id+" outstanding work count is negative. Work dispatching and results have gone out of sync."),
a._outstandingWorkCount=0),e=0,a._scan())},a.configuration.scanInterval||750))},b=function(){c&&(clearInterval(c),c=null)};this.videoElement.addEventListener("play",k);this.videoElement.addEventListener("playing",k);this.videoElement.addEventListener("abort",b);this.videoElement.addEventListener("ended",b);this.videoElement.addEventListener("pause",b);this.videoElement.addEventListener("waiting",b)};b.prototype._startVideoWithSourceInfo=function(a){this._lastSourceInfo=a;this._startVideoWithConstraints({video:{optional:[{sourceId:a.id}]},
audio:!1})};b.prototype._startVideoWithConstraints=function(a){var c=this;this._stopVideo();this._getUserMedia.call(navigator,a,function(a){c._mediaStream=a;var k=window.URL||window.webkitURL;c.videoElement.src=k?k.createObjectURL(a):a;c.videoElement.play();c.videoElement.focus()},function(a){c.app.trace.error("Error getting user media. "+a.message)})};b.prototype._stopVideo=function(){this.videoElement.pause();this.videoElement.src="";this._mediaStream&&((this._mediaStream.getTracks()||[]).forEach(function(a){return a.stop()}),
this._mediaStream=null)};b.prototype._scan=function(){if(!this.videoElement.paused&&!this.videoElement.ended){this._canvasContext||(this._canvasContext=this.canvasElement.getContext("2d"));this._canvasContext.drawImage(this.videoElement,0,0);var a=this.canvasElement.clientWidth,c=this.canvasElement.clientHeight;if(this.canvasElement.width!=a||this.canvasElement.height!=c)this.canvasElement.width=a,this.canvasElement.height=c;var e=this._canvasContext.getImageData(0,0,a,c);e&&(this._jsqrcodeWorker&&
(this._jsqrcodeWorker.postMessage({imageData:e,width:a,height:c}),this._outstandingWorkCount++),this._jobWorker&&(this._jobWorker.postMessage({scan:e.data,scanWidth:a,scanHeight:c}),this._outstandingWorkCount++))}};b.prototype.handleKeyDown=function(a,c,e){(a.which?a.which:a.keyCode)===dojo.keys.ESCAPE&&this.app.command("DeactivateView").execute(this.id)};b.prototype.handleBackClick=function(a,c,e){this.app.command("DeactivateView").execute(this.id)};b.prototype.handleSwitchSource=function(a,c,e){this._sourceInfos?
(a=this._sourceInfos.indexOf(this._lastSourceInfo),this._startVideoWithSourceInfo(this._sourceInfos[a+1<this._sourceInfos.length?a+1:0])):this.app.trace.error(this.id+" handleSwitchSource called but source switching is not available.")};return b}(d.framework.ui.ViewBase);f.BarcodeScannerView=g})(f.barcodescanner||(f.barcodescanner={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.showSourceSwitcher=new Observable(!1)}__extends(b,d);return b}(d.framework.ui.ViewModelBase);f.BarcodeScannerViewModel=g})(f.barcodescanner||(f.barcodescanner={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(l){function b(a,c,e){l.call(this,a,c);this.displayName=new Observable;this.visible=new Observable;this.iconUri=new Observable;this.services=[];this.slider=null;this._serviceIds=[];this._visibilityChangeHandles=[];this._sliderVisibilityBindToken=null;this.DEFAULT_ICON="Resources/Images/Icons/basemap-24.png";this.iconUri.set(this.DEFAULT_ICON);e&&this.setServices(e)}__extends(b,l);b.prototype.setServices=function(a){var c=
this;if(a){this._visibilityChangeHandles.forEach(function(a){return a.remove()});this._visibilityChangeHandles=[];this.slider&&(this.slider.visible.unbind(this._sliderVisibilityBindToken),this.slider.destroy());this.services=[];this._serviceIds=[];this.slider=null;var e=[];a.forEach(function(a){c._serviceIds.push(a.mapService.id);a.mapService.baseMapGroup&&0===e.length?e.push(a):a.mapService.baseMapGroup&&a.mapService.baseMapGroup===e[0].mapService.baseMapGroup?e.push(a):c.services.push(a)});1<e.length?
(e.sort(function(a,c){return a.mapService.baseMapGroupIndex-c.mapService.baseMapGroupIndex}),this.slider=new f.BasemapSliderViewModel(this.app,e,!e[0].mapService.baseMapGroupIsMutuallyExclusive,this.libraryId),this._sliderVisibilityBindToken=this.slider.visible.bind(this,function(a){return c.visible.set(c._calculateIsVisible())})):1==e.length&&this.services.push(e[0]);this.visible.set(this._calculateIsVisible());var k=this.app.site.essentialsMap.layerThemesInfo;this.app.site.essentialsMap.mapServices.forEach(function(a){c._visibilityChangeHandles.push(a.serviceLayer.on("visibility-change",
function(a){k&&k.layerThemesConfigured&&k.themeChangeInProgress||c.visible.set(c._calculateIsVisible())}))})}};b.prototype.setVisibility=function(a){var c=this;this.services.forEach(function(c){return c.setVisibility(a)});this.slider&&this.slider.setVisibility(a);this.app.site.essentialsMap.mapServices.filter(function(a){return a.mapServiceFunction===d.essentials.MapServiceFunction.BASE}).forEach(function(a){c.hasMapService(a)||a.setVisibility(!1)})};b.prototype.hasMapService=function(a){return a?
this._serviceIds.some(function(c){return c===a.id}):!1};b.prototype.onDestroy=function(){l.prototype.onDestroy.call(this);this._visibilityChangeHandles.forEach(function(a){return a.remove()});this.slider&&(this.slider.visible.unbind(this._sliderVisibilityBindToken),this.slider.destroy())};b.prototype._calculateIsVisible=function(){var a=this,c=this.app.site.essentialsMap.mapServices.filter(function(a){return a.mapServiceFunction===d.essentials.MapServiceFunction.BASE}).every(function(c){return!c.isVisible()||
a.hasMapService(c)}),c=c&&this.services.every(function(a){return a.isVisible()});this.slider&&(c=c&&this.slider.visible.get());return c};return b}(d.framework.ui.ViewModelBase);f.BasemapViewModel=g})(f.basemap||(f.basemap={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c,e,k){d.call(this,a,k);this.services=[];this.selectedIndex=new Observable;this.allowTransition=!0;this.selectedLabel=new Observable("");this.minLabel=new Observable("");this.maxLabel=new Observable("");this.visible=new Observable(!1);this._settingSelection=!1;this._visibilityChangeHandles=[];this._opacityChangeHandles=[];this.allowTransition="undefined"===typeof e?!0:e;this.setMapServices(c)}__extends(b,
d);b.prototype.setMapServices=function(a){var c=this;if(!a||2>a.length)throw Error("A basemap slider must contain at least two map services.");this._visibilityChangeHandles.forEach(function(a){return a.remove()});this._opacityChangeHandles.forEach(function(a){return a.remove()});this._visibilityChangeHandles=[];this._opacityChangeHandles=[];this.services=a;this.selectedIndex.set(a.length-1);for(a=0;a<this.services.length;a++){var e=this.services[a];e.isVisible&&this.selectedIndex.set(a);e.mapService.serviceLayer&&
(this._visibilityChangeHandles.push(e.mapService.serviceLayer.on("visibility-change",function(){return c._onChildVisibilityChange()})),this._opacityChangeHandles.push(e.mapService.serviceLayer.on("opacity-change",function(){return c._onChildVisibilityChange()})))}this._onChildVisibilityChange();this._refreshSelectedLabel();this.minLabel.set(this.services[0].displayName());this.maxLabel.set(this.services[this.services.length-1].displayName())};b.prototype.setVisibility=function(a){if(a){var c=this.selectedIndex.get();
if(0>c||c>=this.services.length)c=this.services.length-1;this.setSelection(c)}else this.services.forEach(function(a){return a.setVisibility(!1)});this.visible.set(a)};b.prototype.setSelection=function(a){var c=this.services[Math.floor(a)];if(!c)throw Error("Basemap index out of range.");this.allowTransition||(a=Math.floor(a));this._settingSelection=!0;this.selectedIndex.set(a);this._refreshSelectedLabel();var e=this.services[Math.floor(a)+1],k=a-Math.floor(a),b=k&&e;this.services.forEach(function(a){a===
c?(a.setVisibility(!0),a.mapService.setOpacity(1)):b&&a===e?(a.setVisibility(!0),a.mapService.setOpacity(k)):(a.setVisibility(!1),a.mapService.setOpacity(1))});this._settingSelection=!1};b.prototype.onDestroy=function(){d.prototype.onDestroy.call(this);this._visibilityChangeHandles.forEach(function(a){return a.remove()});this._opacityChangeHandles.forEach(function(a){return a.remove()})};b.prototype._onChildVisibilityChange=function(){if(!this._settingSelection){var a=[];this.services.forEach(function(c,
e){c.mapService.serviceLayer.visible&&a.push(e)});1===a.length&&1===this.services[a[0]].mapService.opacity?(this.selectedIndex.set(a[0]),this.visible.set(!0)):2===a.length&&this.allowTransition&&1===a[1]-a[0]&&1==this.services[a[0]].mapService.opacity&&1>this.services[a[1]].mapService.opacity?(this.selectedIndex.set(a[0]+this.services[a[1]].mapService.opacity),this.visible.set(!0)):this.visible.set(!1);this._refreshSelectedLabel()}};b.prototype._refreshSelectedLabel=function(){var a=0.5>=this.selectedIndex.get()-
Math.floor(this.selectedIndex.get())?Math.floor(this.selectedIndex.get()):Math.floor(this.selectedIndex.get())+1;this.selectedLabel.set(this.services[a].displayName())};return b}(d.framework.ui.ViewModelBase);f.BasemapSliderViewModel=g})(f.basemap||(f.basemap={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){function d(b,a){this.relatedLayerListItem=this.mapService=null;if(!b)throw Error("Map service is required.");this.mapService=b;this.relatedLayerListItem=a}d.prototype.isVisible=function(){return this.mapService.isVisible()};d.prototype.displayName=function(){return this.mapService.shortDisplayName||this.mapService.displayName};d.prototype.setVisibility=function(b){this.relatedLayerListItem?this.relatedLayerListItem.setVisibility(b,
!0):this.mapService.setVisibility(b)};return d}();d.BasemapServiceViewModel=f})(d.basemap||(d.basemap={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(d){function b(a,c){var e=this;d.call(this,a,c);this._visibilityChangeTokens=[];this.hideIfNoBasemapsAvailable=!1;this.visibleBasemaps=[];this.backArrowVisible=new Observable(!1);this.backArrowEnabled=new Observable(!1);this.forwardArrowVisible=new Observable(!1);this.forwardArrowEnabled=new Observable(!0);this.topArrowVisible=new Observable(!1);this.topArrowEnabled=new Observable(!1);this.bottomArrowVisible=new Observable(!1);
this.bottomArrowEnabled=new Observable(!0);this.multipleRows=new Observable(!1);this.isExpanded=new Observable(!1);this.sliderMinLabel=new Observable;this.sliderMaxLabel=new Observable;this.sliderSelectedLabel=new Observable;this.sliderIsExpanded=new Observable(!0);this.sliderTicks=new ObservableCollection;this.basemaps=new ObservableCollection;this.layerThemes=new ObservableCollection;this.selectedBasemap=new Observable;this.selectedBasemapIconUri=new Observable;this.selectedLayerTheme=new Observable;
this.buttonHeight=this.buttonWidth=0;this.hasHorizontalControls=new Observable(!1);this.hasVerticalControls=new Observable(!1);this._basemapsAutoCreated=!1;this.headerLabel=new Observable(a.getResource(c,"language-basemap-switcher-basemaps"));this.selectedBasemapIconUri.set("Resources/Images/Icons/basemap-24.png");this.selectedBasemap.bind(this,this._updateBasemapSwitcherButton);this.selectedLayerTheme.bind(this,function(){e._populateBaseMaps();e.layerList&&e._orderBaseMaps();e._updateVisibleBasemaps()});
this.app.command("SelectBaseMap").register(this,this._executeSelectBaseMap)}__extends(b,d);b.prototype.initialize=function(a){var c=this;this.app.event("SiteInitializedEvent").once(this,function(){c._populateBaseMaps();c._populateLayerThemes();c._updateVisibleBasemaps()});this.app.event("LayerListInitializedEvent").once(this,function(a){c.layerList=a;c._orderBaseMaps()})};b.prototype._layerListInitialized=function(){this._populateBaseMaps();this._populateLayerThemes();this._updateVisibleBasemaps()};
b.prototype._orderBaseMaps=function(){var a=this,c=[];this.layerList.children.get().forEach(function(a){return c.push.apply(c,a.getSelfAndDescendants())});c=c.filter(function(a){return a.type===f.infrastructure.layerList.LayerListItemType.MAPSERVICE&&"Base"===a.mapService.serviceLayerFunction&&a.inActiveTheme.get()});c.forEach(function(c){a.basemaps.get().forEach(function(a){a.services.forEach(function(a){c.mapService.id==a.mapService.id&&(a.relatedLayerListItem=c)});a.slider&&a.slider.services.forEach(function(a){c.mapService.id==
a.mapService.id&&(a.relatedLayerListItem=c)})})});if(this._basemapsAutoCreated){var e=[];e.push.apply(e,c.map(function(a){return a.mapService.id}));e.push.apply(e,this.app.site.essentialsMap.mapServices.map(function(a){return a.id}));var k=this.basemaps.get().slice(),b=function(a){return e.indexOf((a.slider&&a.slider.services?a.slider.services[0]:a.services[0]).mapService.id)};k.sort(function(a,c){return b(a)-b(c)});this.basemaps.set(k)}};b.prototype._populateBaseMaps=function(){var a=this;this._visibilityChangeTokens.forEach(function(a){return a.remove()});
this._visibilityChangeTokens=[];this.basemaps.get().forEach(function(a){return a.destroy()});this.basemaps.clear();var c=this.app.site.essentialsMap.mapServicesFilteredView||[],c=c.filter(function(a){return"Base"===a.mapServiceFunction}),e=c.map(function(a){return new h.BasemapServiceViewModel(a)});if(this.app.site&&this.app.site.essentialsMap&&this.app.site.essentialsMap.baseMaps&&this.app.site.essentialsMap.baseMaps.length)this.app.site.essentialsMap.baseMaps.forEach(function(c){var k=[];c.services.forEach(function(a){var c=
e.filter(function(c){return c.mapService===a.mapService})[0];c&&k.push(c)});if(k.length){var b=new h.BasemapViewModel(a.app,a.libraryId,k);b.displayName.set(c.displayName);c.iconUri&&b.iconUri.set(c.iconUri);a.basemaps.addItem(b);b.visible.bind(a,function(c){return a._updateVisibleBasemaps()})}});else{this._basemapsAutoCreated=!0;var k={};e.forEach(function(c){var b=c.mapService.iconUri,d=c.displayName(),f=[c];if(c.mapService.baseMapGroup){var l=c.mapService.baseMapGroup;if(k[l])return;d=l;k[l]=!0;
e.forEach(function(a){a!==c&&a.mapService.baseMapGroup===l&&(f.push(a),b=b||a.mapService.iconUri)})}var g=new h.BasemapViewModel(a.app,a.libraryId,f);g.displayName.set(d);g.iconUri.set(b);a.basemaps.addItem(g);g.visible.bind(a,function(c){return a._updateVisibleBasemaps()})})}(c=1>=this.basemaps.getLength()&&this.hideIfNoBasemapsAvailable)?(this.isExpanded.set(!c),this.app.command("DeactivateView").execute("BasemapSwitcherButtonView")):this.app.command("ActivateView").execute("BasemapSwitcherButtonView")};
b.prototype._populateLayerThemes=function(){var a=this;if(this.app.site&&this.app.site.essentialsMap&&this.app.site.essentialsMap.layerThemesInfo){var c=this.app.site.essentialsMap.layerThemesInfo;this.layerThemes.addItems(c.themes);c.activeTheme&&this.selectedLayerTheme.set(c.activeTheme);dojo.connect(c,"layerThemeChangedEvent",function(c){c.currTheme&&c.currTheme.displayName&&a.selectedLayerTheme.get()!==c.currTheme&&a.selectedLayerTheme.set(c.currTheme)})}};b.prototype._updateVisibleBasemaps=function(){this.visibleBasemaps=
[];for(var a=0;a<this.basemaps.length();a++){var c=this.basemaps.getAt(a);c.visible.get()&&this.visibleBasemaps.push(c)}a=null;1==this.visibleBasemaps.length&&(a=this.visibleBasemaps[0],a!=this.selectedBasemap.get()&&this.selectedBasemap.set(a))};b.prototype._updateBasemapSwitcherButton=function(a){if(a&&null!=a.slider){this.sliderMinLabel.sync(a.slider.minLabel);this.sliderMaxLabel.sync(a.slider.maxLabel);this.sliderSelectedLabel.sync(a.slider.selectedLabel);this.sliderTicks.clear();for(var c=100/
(a.slider.services.length-1),e=0;100>e;e+=c)this.sliderTicks.addItem({position:e+"%"})}else this.sliderMinLabel.removeSync(),this.sliderMinLabel.set(""),this.sliderMaxLabel.removeSync(),this.sliderMaxLabel.set(""),this.sliderSelectedLabel.removeSync(),this.sliderSelectedLabel.set("");a&&a.visible.get()?(this.headerLabel.set(a.displayName.get()),this.selectedBasemapIconUri.set(a?a.iconUri.get():"Resources/Images/Icons/basemap-24.png")):(this.headerLabel.set(this.app.getResource(this.libraryId,"language-basemap-switcher-basemaps")),
this.selectedBasemapIconUri.set("Resources/Images/Icons/basemap-24.png"))};b.prototype._executeSelectBaseMap=function(a){if(a){a=a.toString().toLowerCase();for(var c,e=0;e<this.basemaps.getLength();e++){var k=this.basemaps.getAt(e);if(k&&k.displayName.get()&&k.displayName.get().toLowerCase()===a){c=k;break}}c&&(c.setVisibility(!0),this.selectedBasemap.set(c),this.app.eventRegistry.event("BaseMapSelected").publish(a))}};b.prototype._getActiveLayerTheme=function(){return this.app.site.essentialsMap.layerThemesInfo?
this.app.site.essentialsMap.layerThemesInfo.activeTheme:null};return b}(d.framework.ui.ViewModelBase);h.BasemapSwitcherViewModel=g})(g.basemap||(g.basemap={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.basemapSlider=new Observable;this.sliderLabelElement=this.sliderElement=null}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a);a.selectedBasemap.bind(this,this._onSwitcherBasemapChanged)};b.prototype.added=function(a){d.prototype.added.call(this,a);this._setupJQuerySlider()};b.prototype.toggleExpanded=function(){this.viewModel.sliderIsExpanded.set(!this.viewModel.sliderIsExpanded.get())};
b.prototype._onSwitcherBasemapChanged=function(a){var c=this;this.basemapSlider.get()&&this.basemapSlider.get().selectedIndex.unbind(this.selectedIndexBindingToken);a&&a.slider&&1<a.slider.services.length?(this.isActive||this.app.viewManager.activateView(this),this.basemapSlider.set(a.slider),this.selectedIndexBindingToken=this.basemapSlider.get().selectedIndex.bind(this,function(){return c._updateSlider()}),this._updateSlider(),this._updateSelection(this.basemapSlider.get().selectedIndex.get())):
(!this.isActive||this.app.viewManager.deactivateView(this),this.basemapSlider.set(null))};b.prototype._setupJQuerySlider=function(){var a=this;$(this.sliderElement).slider({animate:!1,min:0,max:1,step:0.1,orientation:"horizontal",value:0,slide:function(c,e){return a._handleSliderValueChanged(c,e)}});$(".ui-slider-handle",this.sliderElement).unbind("keydown");$(".ui-slider-handle",this.sliderElement).keydown(function(c){if(a.basemapSlider.get()){var e=a.basemapSlider.get().allowTransition?0.1:1,k=
a.basemapSlider.get().selectedIndex.get(),b=null;switch(c.which){case 38:case 39:b=Math.min(a.basemapSlider.get().services.length-1,k+e);break;case 37:case 40:b=Math.max(0,k-e);break;case 33:b=Math.min(a.basemapSlider.get().services.length-1,Math.floor(k+1));break;case 34:b=Math.max(0,Math.ceil(k-1));break;case 36:b=0;break;case 35:b=a.basemapSlider.get().services.length-1}null!=b&&(a._updateSelection(b),c.preventDefault(),c.stopPropagation())}})};b.prototype._handleSliderValueChanged=function(a,
c){c&&void 0!=c.value&&this._updateSelection(c.value)};b.prototype._updateSlider=function(){if(this.basemapSlider.get()){var a=$(this.sliderElement);a.slider("option","max",this.basemapSlider.get().services.length-1);a.slider("option","step",this.basemapSlider.get().allowTransition?0.1:1);a.slider("value",this.basemapSlider.get().selectedIndex.get());a=$(".ui-slider-handle",this.sliderElement);a.attr("aria-label",this.basemapSlider.get().selectedLabel.get());a.attr("title",this.getResource("language-basemap-slider-tooltip"));
a.text(this.getResource("language-basemap-slider-handle"))}};b.prototype._updateSelection=function(a){this.basemapSlider.get().setSelection(a);a=$(this.sliderLabelElement).width();var c=$(this.sliderElement).width(),e=$(".ui-slider-handle",this.sliderElement).position().left-0.5*a,e=Math.max(-parseFloat($(this.sliderElement).css("marginLeft")),e),e=Math.min(c-a+parseFloat($(this.sliderElement).css("marginRight")),e);this.sliderLabelElement.style.left=e+"px"};return b}(d.framework.ui.ViewBase);f.BasemapSliderView=
g})(f.basemap||(f.basemap={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(a){a[a.Vertical=0]="Vertical";a[a.Horizontal=1]="Horizontal";a[a.None=2]="None"})(f.ExpandDirection||(f.ExpandDirection={}));var g=f.ExpandDirection;(function(a){a[a.Back=0]="Back";a[a.Forward=1]="Forward";a[a.Top=2]="Top";a[a.Bottom=3]="Bottom"})(f.ScrollDirection||(f.ScrollDirection={}));var l=f.ScrollDirection,b=function(a){function c(){a.apply(this,arguments);this._collapsibleAreaHeight=this._collapsibleAreaWidth=null;
this._numberOfColumnsMaximumLimit=this._numberOfRowsMaximumLimit=5;this._numberOfColumnsMinimumLimit=this._numberOfRowsMinimumLimit=2;this._numberOfColumns=3;this._numberOfRows=1;this._numberOfDrawerItems=this._numberOfElementsBeforeCurrentWindow=this._numberOfElementsAfterCurrentWindow=this._adjustedNumberOfColumns=this._adjustedNumberOfRows=0}__extends(c,a);c.prototype.resolveWidget=function(c,k){a.prototype.resolveWidget.call(this,c,k);if(!c||"basemapsList"!==c||!k)return null;var b=this.app.viewManager.createView({markupResource:"Mapping/modules/Basemap/BasemapSwitcherView.html",
typeName:"geocortex.essentialsHtmlViewer.mapping.modules.basemap.BasemapSwitcherView",isVisible:!0,libraryId:this.libraryId});b.attach(k);return b};c.prototype.attach=function(c){var k=this;a.prototype.attach.call(this,c);this.configuration&&this.configuration.hasOwnProperty("grid")&&this.configuration.grid.hasOwnProperty("numberOfRows")&&this.configuration.grid.hasOwnProperty("numberOfColumns")&&(this._numberOfRows=this.configuration.grid.numberOfRows,this._numberOfColumns=this.configuration.grid.numberOfColumns);
if(this.app.site&&this.app.site.isInitialized)this._numberOfDrawerItems=this.viewModel.basemaps.getLength(),this.viewModel.isExpanded.get()&&this._sizeDrawer();else this.app.event("SiteInitializedEvent").once(this,function(){k._numberOfDrawerItems=k.viewModel.basemaps.getLength();k.viewModel.isExpanded.get()&&k._sizeDrawer()});this.viewModel.selectedLayerTheme.bind(this,function(){k._numberOfDrawerItems=k.viewModel.basemaps.getLength();k.viewModel.isExpanded.get()&&(k._sizeDrawer(!0),0===k.viewModel.basemaps.getLength()&&
k.viewModel.isExpanded.set(!1))});this.app.command("ToggleBasemapsDrawer").register(this,function(){k.viewModel.isExpanded.set(!k.viewModel.isExpanded.get());k.viewModel.isExpanded.get()||k.viewModel.selectedBasemap.pulse();k.viewModel.isExpanded.get()&&k.app.command("DeactivateView").execute("BasemapSliderView");k._sizeDrawer(k.viewModel.isExpanded.get())});this.app.eventRegistry.event("BaseMapSelected").subscribe(this,function(){k.viewModel.isExpanded.set(!1);k.app.command("ShowMap").execute()});
this.viewModel.isExpanded.bind(this,this._handleIsExpandedChanged)};c.prototype._handleIsExpandedChanged=function(a){var c=this;a?(this.app.event("FlyoutActivated").publish(this),a={view:this,onOtherInteracted:function(a){return c._onOtherInteracted(a)}},this.app.command("TapToDismiss").execute(a)):this.app.event("FlyoutDeactivated").publish(this)};c.prototype._onOtherInteracted=function(a){0===$(a.target).closest(".BasemapSwitcherButtonView").length&&this.viewModel.isExpanded.set(!1)};c.prototype._adjustDrawerGrid=
function(){this._adjustedNumberOfRows=this._numberOfRows;this._adjustedNumberOfColumns=this._numberOfColumns;0>=this._numberOfRows&&(this._adjustedNumberOfRows=1);0>=this._numberOfColumns&&(this._adjustedNumberOfColumns=1);1<this._numberOfDrawerItems&&this._numberOfColumns<this._numberOfColumnsMinimumLimit&&this._numberOfRows<this._numberOfRowsMinimumLimit&&(this._adjustedNumberOfColumns=this._numberOfColumnsMinimumLimit);this._adjustedNumberOfColumns>this._numberOfColumnsMaximumLimit&&(this._adjustedNumberOfColumns=
this._numberOfColumnsMaximumLimit);this._adjustedNumberOfRows>this._numberOfRowsMaximumLimit&&(this._adjustedNumberOfRows=this._numberOfRowsMaximumLimit);var a=this._adjustedNumberOfColumns*this._adjustedNumberOfRows,a=a-this._numberOfDrawerItems;if(0<a)for(;0<a;){var a=(this._adjustedNumberOfColumns-1)*this._adjustedNumberOfRows-this._numberOfDrawerItems,c=this._adjustedNumberOfColumns*(this._adjustedNumberOfRows-1)-this._numberOfDrawerItems;if(0>a&&0>c)return;0<=a&&0<=c?a<c?this._adjustedNumberOfColumns-=
1:this._adjustedNumberOfRows-=1:0>a&&0<=c?this._adjustedNumberOfRows-=1:0<=a&&0>c&&(this._adjustedNumberOfColumns-=1);a=this._adjustedNumberOfColumns*this._adjustedNumberOfRows;a-=this._numberOfDrawerItems}1<this._adjustedNumberOfRows?this.viewModel.multipleRows.set(!0):this.viewModel.multipleRows.set(!1)};c.prototype._getExpandDirection=function(a,c,b){if(a>b*c){if(c===b)return g.Horizontal;if(c>b)return g.Vertical;if(b>c)return g.Horizontal}return g.None};c.prototype._sizeDrawer=function(a){this._adjustDrawerGrid();
var c=$(this.forwardArrowElement).outerWidth(),b=$(this.bottomArrowElement).outerHeight(),n=this._getExpandDirection(this._numberOfDrawerItems,this._adjustedNumberOfRows,this._adjustedNumberOfColumns);if(0===this._numberOfElementsBeforeCurrentWindow||a)this._numberOfElementsBeforeCurrentWindow=0,this._numberOfElementsAfterCurrentWindow=Math.ceil(this._numberOfDrawerItems/(n===g.Vertical?this._adjustedNumberOfColumns:this._adjustedNumberOfRows))-(n===g.Vertical?this._adjustedNumberOfRows:this._adjustedNumberOfColumns);
var d=Math.ceil(this.viewModel.buttonWidth*this._adjustedNumberOfColumns);n===g.Horizontal&&(d+=2*c);c=Math.ceil(this.viewModel.buttonHeight)*this._adjustedNumberOfRows;n===g.Vertical&&(c+=2*b);this._initializeControllerElements(n,a);this._collapsibleAreaWidth=d;this._collapsibleAreaHeight=c;this._sizeDrawerContent(n)};c.prototype._sizeDrawerContent=function(a){$(this.collapsibleAreaElement).width(this._collapsibleAreaWidth);$(this.collapsibleAreaElement).height(this._collapsibleAreaHeight);$(this.drawerElement).width(this._collapsibleAreaWidth);
$(this.drawerElement).height(this._collapsibleAreaHeight);this._numberOfDrawerItems>this._adjustedNumberOfColumns*this._adjustedNumberOfRows?a===g.Horizontal?($(this.drawerContentElement).width(Math.ceil(Math.ceil(this._numberOfDrawerItems/this._adjustedNumberOfRows)*this.viewModel.buttonWidth+$(this.forwardArrowElement).outerWidth())),$(this.drawerContentElement).height(this._collapsibleAreaHeight)):a===g.Vertical&&($(this.drawerContentElement).height(Math.ceil(Math.ceil(this._numberOfDrawerItems/
this._adjustedNumberOfColumns)*this.viewModel.buttonHeight+$(this.bottomArrowElement).outerHeight())),$(this.drawerContentElement).width(this._collapsibleAreaWidth)):($(this.drawerContentElement).width(this._collapsibleAreaWidth),$(this.drawerContentElement).height(this._collapsibleAreaHeight))};c.prototype._initializeControllerElements=function(a,c){a===g.None&&(this.viewModel.hasHorizontalControls.set(!1),this.viewModel.hasVerticalControls.set(!1),this.viewModel.backArrowVisible.set(!1),this.viewModel.forwardArrowVisible.set(!1),
this.viewModel.bottomArrowVisible.set(!1),this.viewModel.topArrowVisible.set(!1));a===g.Horizontal&&(this.viewModel.hasHorizontalControls.set(!0),this.viewModel.hasVerticalControls.set(!1),this.viewModel.backArrowVisible.set(!0),this.viewModel.forwardArrowVisible.set(!0),c&&(this.viewModel.backArrowEnabled.set(!1),this.viewModel.forwardArrowEnabled.set(!0),$(this.drawerElement).scrollLeft(0)));a===g.Vertical&&(this.viewModel.hasVerticalControls.set(!0),this.viewModel.hasHorizontalControls.set(!1),
this.viewModel.topArrowVisible.set(!0),this.viewModel.bottomArrowVisible.set(!0),c&&(this.viewModel.topArrowEnabled.set(!1),this.viewModel.bottomArrowEnabled.set(!0),$(this.drawerElement).scrollTop(0)))};c.prototype._enableDisableScrollArrows=function(a,c){a===g.Horizontal?(c===l.Forward?(this._numberOfElementsAfterCurrentWindow-=this._adjustedNumberOfColumns,this._numberOfElementsBeforeCurrentWindow+=this._adjustedNumberOfColumns):(this._numberOfElementsAfterCurrentWindow+=this._adjustedNumberOfColumns,
this._numberOfElementsBeforeCurrentWindow-=this._adjustedNumberOfColumns),0>this._numberOfElementsAfterCurrentWindow&&(this._numberOfElementsBeforeCurrentWindow+=this._numberOfElementsAfterCurrentWindow,this._numberOfElementsAfterCurrentWindow=0),0<this._numberOfElementsBeforeCurrentWindow?this.viewModel.backArrowEnabled.set(!0):this.viewModel.backArrowEnabled.set(!1),0<this._numberOfElementsAfterCurrentWindow?this.viewModel.forwardArrowEnabled.set(!0):this.viewModel.forwardArrowEnabled.set(!1)):
(c===l.Bottom?(this._numberOfElementsAfterCurrentWindow-=this._adjustedNumberOfRows,this._numberOfElementsBeforeCurrentWindow+=this._adjustedNumberOfRows):(this._numberOfElementsAfterCurrentWindow+=this._adjustedNumberOfRows,this._numberOfElementsBeforeCurrentWindow-=this._adjustedNumberOfRows),0<this._numberOfElementsBeforeCurrentWindow?this.viewModel.topArrowEnabled.set(!0):this.viewModel.topArrowEnabled.set(!1),0<this._numberOfElementsAfterCurrentWindow?this.viewModel.bottomArrowEnabled.set(!0):
this.viewModel.bottomArrowEnabled.set(!1))};c.prototype.handleScrollForward=function(a,c,b){a=$(this.drawerElement);a.scrollLeft(a.scrollLeft()+$(this.drawerElement).width()-2*$(this.backArrowElement).width());this._enableDisableScrollArrows(g.Horizontal,l.Forward);$(this.forwardArrowElement).blur()};c.prototype.handleScrollBack=function(a,c,b){a=$(this.drawerElement);a.scrollLeft(a.scrollLeft()-$(this.drawerElement).width()+2*$(this.forwardArrowElement).width());this._enableDisableScrollArrows(g.Horizontal,
l.Back);$(this.backArrowElement).blur()};c.prototype.handleScrollTop=function(a,c,b){a=$(this.drawerElement);a.scrollTop(a.scrollTop()-$(this.drawerElement).height()+2*$(this.bottomArrowElement).height());this._enableDisableScrollArrows(g.Vertical,l.Top);$(this.topArrowElement).blur()};c.prototype.handleScrollBottom=function(a,c,b){a=$(this.drawerElement);a.scrollTop(a.scrollTop()+$(this.drawerElement).height()-2*$(this.topArrowElement).height());this._enableDisableScrollArrows(g.Vertical,l.Bottom);
$(this.bottomArrowElement).blur()};return c}(d.framework.ui.ViewBase);f.BasemapSwitcherViewControllerView=b})(f.basemap||(f.basemap={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);return b}(d.framework.ui.ViewBase);f.BasemapView=g})(f.basemap||(f.basemap={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(l){function b(){l.apply(this,arguments);this.targetCommandSettings={};this._bufferWkid=-1;this._bufferSpatialReference=null;this._geodesic=!0;this._extentExpansionFactor=1.25;this._statusMsgTimers={};this.DEFAULT_NUM_FEATURES_WARNING_THRESHOLD=250;this.BUFFERING_STATUS_DISPLAY_DELAY=300}__extends(b,l);b.prototype.initialize=function(a){l.prototype.initialize.call(this,a);this._bufferWkid=a&&a.bufferProjectionWkid&&""!=
a.bufferProjectionWkid?parseInt(a.bufferProjectionWkid,10):-1;this._geodesic=void 0!=a.geodesic?!!a.geodesic:-1===this._bufferWkid?!0:!1;-1!==this._bufferWkid&&(this._bufferSpatialReference=new esri.SpatialReference(this._bufferWkid));this._bufferLayerId=a.bufferLayerName?a.bufferLayerName:"Buffering";this._lineColor=a.lineColor?new esri.Color(a.lineColor):new esri.Color("#cf4c40");this._fillColor=a.fillColor?new esri.Color(a.fillColor):new esri.Color("#cf4c40");this._numFeaturesWarningThreshold=
void 0!=a.numFeaturesWarningThreshold?parseInt(a.numFeaturesWarningThreshold,10):this.DEFAULT_NUM_FEATURES_WARNING_THRESHOLD;if(this.app.map&&this.app.map.loaded)this.onMapLoaded();else this.app.event("MapLoadedEvent").once(this,this.onMapLoaded)};b.prototype.registerCommands=function(){this.app.command("ActivateBuffering").register(this,this.executeActivateBuffering);this.app.command("DeactivateBuffering").register(this,this.executeDeactivateBuffering);this.app.command("BufferGeometry").register(this,
this.executeBufferGeometry,this.canExecuteBufferGeometry);this.app.command("IdentifyBufferedGeometry").register(this,this.executeIdentifyBufferedGeometry,this.canExecuteIdentifyBufferedGeometry);this.app.command("IdentifyBufferedFeature").register(this,this.executeIdentifyBufferedFeature,this.canExecuteIdentifyBufferedFeature);this.app.command("IdentifyBufferedFeatureSet").register(this,this.executeIdentifyBufferedFeatureSet,this.canExecuteIdentifyBufferedFeatureSet);this.app.command("IdentifyBufferedFeatureSetCollection").register(this,
this.executeIdentifyBufferedFeatureSetCollection,this.canExecuteIdentifyBufferedFeatureSetCollection)};b.prototype.subscribeEvents=function(){this.app.event("BufferDistanceChangedEvent").subscribe(this,this.handleBufferDistanceChangedEvent)};b.prototype.onMapLoaded=function(){this.registerCommands();this.subscribeEvents();var a=this.app.map.spatialReference;this._geodesic=void 0!=a.wkid&&f.infrastructure.buffer.BufferUtils.isGeographicWkid(a.wkid)?!0:this._geodesic;this._bufferSpatialReference||(this._bufferSpatialReference=
a)};b.prototype.executeActivateBuffering=function(a){this._setCmdBufferStatusAndRaiseEvent(a,!0)};b.prototype.executeDeactivateBuffering=function(a){this._setCmdBufferStatusAndRaiseEvent(a,!1)};b.prototype.handleBufferDistanceChangedEvent=function(a){if(a&&a.targetCommands)for(var c=0;c<a.targetCommands.length;c++){var e=a.targetCommands[c],k=this.targetCommandSettings[e];k?(k.bufferDistance=a.distance,k.bufferUnit=a.unit.config,k.writeToMarkupLayer=a.writeToMarkupLayer):k=this._createEntryForTargetCommand(e,
a.distance,a.unit.config);this._updateTargetCommandToolStatusMessages(e,k)}};b.prototype.executeBufferGeometry=function(a){var c=this;if(this._performBufferOperation(a)){var e=void 0==a.bufferId?d.framework.utils.alphaNumericToken():a.bufferId;this._addBufferingStatusMsg(e);f.infrastructure.buffer.BufferUtils.bufferGeometry(this.app,a).then(function(k){c._processBufferResults(k,a);c._removeBufferingStatusMsg(e)},function(k){c._reportBufferingError(k,a.errback);c._removeBufferingStatusMsg(e)})}};b.prototype.executeBufferGeometries=
function(a){var c=this;if(this._performBufferOperation(a)){var e=function(){var e=void 0==a.bufferId?d.framework.utils.alphaNumericToken():a.bufferId;c._addBufferingStatusMsg(e);f.infrastructure.buffer.BufferUtils.bufferGeometries(c.app,a).then(function(b){c._processBufferResults(b,a);c._removeBufferingStatusMsg(e)},function(b){c._reportBufferingError(b,a.errback);c._removeBufferingStatusMsg(e)})};a.geometries.length>this._numFeaturesWarningThreshold?this.app.command("Confirm").execute(this.app.getResource(this.libraryId,
"language-buffer-excess-features-warning").format(a.geometries.length),null,function(a){a&&e()}):e()}};b.prototype.canExecuteBufferGeometry=function(a){return!!a.geometry&&f.infrastructure.GeometryUtils.isValidGeometry(a.geometry)&&(a.bufferUnit&&null!=a.bufferDistance&&!isNaN(Number(a.bufferDistance))||!!a.sourceCommand)};b.prototype.executeIdentifyBufferedGeometry=function(a){a&&this._showBufferOptionsAndExecuteBufferGeometry("IdentifyBufferedGeometry",a)};b.prototype.canExecuteIdentifyBufferedGeometry=
function(a){return!!a&&f.infrastructure.GeometryUtils.isValidGeometry(a)};b.prototype.executeIdentifyBufferedFeature=function(a){(a=a instanceof esri.Graphic?a.geometry:a&&a.esriFeature.get()?a.esriFeature.get().geometry:null)&&this._showBufferOptionsAndExecuteBufferGeometry("IdentifyBufferedFeature",a)};b.prototype.canExecuteIdentifyBufferedFeature=function(a){var c=null;a&&a instanceof esri.Graphic?c=a.geometry:a&&a instanceof f.infrastructure.Feature&&a.esriFeature&&a.esriFeature.get()&&(c=a.esriFeature.get().geometry);
return!!c&&f.infrastructure.GeometryUtils.isValidGeometry(c)};b.prototype.executeIdentifyBufferedFeatureSet=function(a){var c=null;"string"===typeof a&&(a=this.app.featureSetManager.getCollectionById(a));a instanceof f.infrastructure.FeatureSetCollection&&(c=a.featureSets.get().filter(function(a){return a.isSelectedInCollection.get()})[0]||a.featureSets.get()[0]||null);a instanceof f.infrastructure.FeatureSet&&(c=a);c?(a=this._retrieveGeometries(c),a.length&&this._showBufferOptionsAndExecuteBufferGeometries("IdentifyBufferedFeatureSet",
a)):(a=this.app.getResource(this.libraryId,"language-buffer-error-identify-buffered-feature-set"),this._reportBufferingError(this._generateErrorObjFromString(a,"IdentifyBufferedFeatureSet")))};b.prototype.canExecuteIdentifyBufferedFeatureSet=function(a){return a&&"string"===typeof a?!!this.app.featureSetManager.getCollectionById(a):!!a};b.prototype.executeIdentifyBufferedFeatureSetCollection=function(a){(a="string"===typeof a?this.app.featureSetManager.getCollectionById(a):a)?(a=this._retrieveGeometries(a),
a.length&&this._showBufferOptionsAndExecuteBufferGeometries("IdentifyBufferedFeatureSetCollection",a)):(a=this.app.getResource(this.libraryId,"language-buffer-error-identify-buffered-feature-set-collection"),this._reportBufferingError(this._generateErrorObjFromString(a,"IdentifyBufferedFeatureSetCollection")))};b.prototype.canExecuteIdentifyBufferedFeatureSetCollection=function(a){return a&&"string"===typeof a?!!this.app.featureSetManager.getCollectionById(a):!!a};b.prototype._createEntryForTargetCommand=
function(a,c,e,k){if(a&&!this.targetCommandSettings[a]){var b={};b.isActive=!!k;b.bufferDistance=c||null;b.bufferUnit=e||null;return this.targetCommandSettings[a]=b}};b.prototype._performBufferOperation=function(a){if(this._processBufferArgs(a))return!0;var c=this.targetCommandSettings[a.sourceCommand];if(!c||c&&!c.isActive)return c={},c.bufferId=a.bufferId,c.sourceCommand=a.sourceCommand,c.geometry=a.geometry,c.geometries=a.geometries,a.callback(c),!1;c=this.app.getResource(this.libraryId,"language-buffer-error-process-args");
this._reportBufferingError(this._generateErrorObjFromString(c,a.sourceCommand,a.bufferId),a.errback)};b.prototype._processBufferArgs=function(a){a.bufferSpatialReference=a.bufferSpatialReference||this._bufferSpatialReference;a.outSpatialReference=this.app.map.spatialReference;a.geodesic=void 0!=a.geodesic?a.geodesic:this._geodesic;a.bufferId=void 0==a.bufferId?d.framework.utils.alphaNumericToken():a.bufferId;if((void 0==a.bufferDistance||void 0==a.bufferUnit)&&a.sourceCommand){var c=this.targetCommandSettings[a.sourceCommand];
c&&c.isActive&&void 0!=c.bufferDistance&&c.bufferUnit&&(a.bufferDistance=c.bufferDistance,a.bufferUnit=c.bufferUnit,a.writeToMarkupLayer=c.writeToMarkupLayer);if(c&&c.isActive&&(void 0==c.bufferDistance||void 0==c.bufferUnit))return!1}return void 0==a.bufferDistance||void 0==a.bufferUnit?!1:!0};b.prototype._processBufferResults=function(a,c){var e=this,k=a.geometry||a.geometries,b=function(k){if("point"!==k.type){var b=k.getExtent().expand(e._extentExpansionFactor);e.app.map.extent.contains(b)||e.app.command("ZoomToExtent").execute(b)}if(c.writeToMarkupLayer)e.app.command("AddMarkupGeometry").execute(k);
else{var q=e._addGeometryMarkup(k);$(document.body).one("mouseup touchend keydown",function(a){return e._removeGeometryMarkup(q)})}c.callback&&dojo.isFunction(c.callback)&&c.callback(a);e.app.event("BufferingCompletedEvent").publish(a)};dojo.isArray(k)?1>k.length?this._reportBufferingError(this._generateErrorObjFromString(this.app.getResource(this.libraryId,"language-buffer-error-invalid-results"),c.sourceCommand,c.bufferId),c.errback):1===k.length?b(k[0]):f.infrastructure.GeometryUtils.unionGeometries(k).then(function(c){a.geometry=
c;b(c)},function(a){e._reportBufferingError(e._generateErrorObjFromString(e.app.getResource(e.libraryId,"language-buffer-error-union-operation"),c.sourceCommand,c.bufferId),c.errback)}):b(k)};b.prototype._setCmdBufferStatusAndRaiseEvent=function(a,c){var e=this,k=function(a){var k=e.targetCommandSettings[a];k?k.isActive=c:k=e._createEntryForTargetCommand(a,null,null,!0);e._updateTargetCommandToolStatusMessages(a,k)};if("string"===typeof a)k(a);else if(a.length)a.forEach(function(a){return k(a)});
else return;c?this.app.event("BufferingActivatedEvent").publish(a):this.app.event("BufferingDeactivatedEvent").publish(a)};b.prototype._retrieveGeometries=function(a){var c=[],e=[];a instanceof f.infrastructure.FeatureSet&&e.push(a);a instanceof f.infrastructure.FeatureSetCollection&&(e=a.featureSets.get());for(a=0;a<e.length;a++)for(var k=e[a],b=0;b<k.features.length();b++){var n=k.features.getAt(b);(n=n.esriFeature.get()?n.esriFeature.get().geometry:null)&&f.infrastructure.GeometryUtils.isValidGeometry(n)&&
c.push(n)}return c};b.prototype._showBufferOptionsAndExecuteBufferGeometry=function(a,c){this._showBufferOptionsAndExecuteBufferGeometries(a,[c])};b.prototype._showBufferOptionsAndExecuteBufferGeometries=function(a,c){var e=this,k={targetCommand:a,delegateFunction:function(k){k={};k.geometries=c;k.callback=function(a){return e._performIdentifyForGeometry(a,!0)};k.sourceCommand=a;k.unionResults=!0;e.executeActivateBuffering(a);e.executeBufferGeometries(k);e.app.command("DeactivateBufferingAndDismissOptions").execute(a)}};
this.app.command("DisplayBufferOptions").execute(k)};b.prototype._performIdentifyForGeometry=function(a,c){var e=this;void 0===c&&(c=!1);var k=a.geometry||(a.geometries&&1===a.geometries.length?a.geometries[0]:null);if(k){var b={};b.geometry=k;b.source="Identify";b.layerRestriction=function(a){return a.identifiable};b.doNotBuffer=c;d.framework.ui.animation.runWhenIdle(function(){e.app.command("Identify").execute(b)})}};b.prototype._generateErrorObjFromString=function(a,c,e){var k={};k.sourceCommand=
c;k.error=Error(a);void 0!=e&&(k.bufferId=e);return k};b.prototype._reportBufferingError=function(a,c){this.app.event("BufferingErrorEvent").publish(a);c&&dojo.isFunction(c)&&c(a)};b.prototype._updateTargetCommandToolStatusMessages=function(a,c){var e=this,k=this._getToolsByCommand(a);if(k&&k.length){var b=function(a){a.isActive&&e.app.command("UpdateStatus").execute(a.statusText)},n=function(a){a.originalStatusText&&(a.statusText=a.originalStatusText,delete a.originalStatusText,b(a))};k.forEach(function(a){if(c.isActive)if(null!=
c.bufferDistance&&c.bufferUnit){a.originalStatusText||(a.originalStatusText=a.statusText);var k=f.infrastructure.buffer.BufferUtils.getUnitDescFromConfig(c.bufferUnit).displayName,k=e.app.getResource(e.libraryId,"language-buffer-active-tool-addon-message").format(c.bufferDistance,k);a.statusText="{0} {1}".format(a.originalStatusText,k);b(a)}else n(a);else n(a)})}};b.prototype._getToolsByCommand=function(a){var c=[],e=this.app.toolRegistry.tools,k;for(k in e){if(!e.hasOwnProperty(k))return;var b=e[k];
b.command===a&&c.push(b)}return c};b.prototype._addGeometryMarkup=function(a){var c=new esri.Graphic;c.setGeometry(a);"polygon"===c.geometry.type||"extent"===c.geometry.type?(a=f.infrastructure.SymbolUtils.defaultFillSymbol(),a.setColor(this._fillColor),a.color.a=0.3,a.outline.setColor(this._lineColor)):(a="polyline"===c.geometry.type?f.infrastructure.SymbolUtils.defaultLineSymbol():f.infrastructure.SymbolUtils.defaultMarkerSymbol(),a.setColor(this._lineColor));c.setSymbol(a);f.infrastructure.GraphicUtils.addGraphicToLayer(c,
this._bufferLayerId,this.app);return c};b.prototype._removeGeometryMarkup=function(a){var c=this.app.map.getLayer(this._bufferLayerId);c&&a&&c.remove(a)};b.prototype._addBufferingStatusMsg=function(a){if(a){var c=setTimeout(dojo.hitch(this,function(){var c=this.app.getResource(this.libraryId,"language-buffer-status-msg"),c=new d.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(c);c.id=a;c.showBusyIcon=!0;c.timeoutMS=0;this.app.command("AddStatus").execute(c)}),this.BUFFERING_STATUS_DISPLAY_DELAY);
this._statusMsgTimers[a]=c}};b.prototype._removeBufferingStatusMsg=function(a){if(a){var c=this._statusMsgTimers[a];c&&(clearTimeout(c),this.app.command("RemoveStatus").execute(a),delete this._statusMsgTimers[a])}};return b}(d.framework.application.ModuleBase);h.BufferModule=g})(g.buffer||(g.buffer={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(d){function b(a,c){d.call(this,a,c);this.childViewModels=[];this.bufferUnits=new ObservableCollection([]);this._addBufferToMarkupLayerByDefault=!1;this._getSupportedBufferUnitLanguageResources()}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);this._setBufferUnits(a.bufferUnits);this._setDefaultBufferUnit(a.defaultBufferUnit);this.DEFAULT_BUFFER_DISTANCE=isNaN(parseInt(a.defaultBufferDistance,
10))?0:parseInt(a.defaultBufferDistance,10);this._addBufferToMarkupLayerByDefault=!!a.addBufferToMarkupLayerByDefault;this.bufferUnits.length()&&this.DEFAULT_BUFFER_UNIT?this.subscribeEvents():this.app.trace.error(this.app.getResource(this.libraryId,"language-buffer-config-units-error"))};b.prototype.subscribeEvents=function(){this.app.event("BufferingErrorEvent").subscribe(this,this.handleBufferingErrorEvent)};b.prototype.registerView=function(a,c){if(!a||!c||!c.length||this.childViewModels.filter(function(c){return c.viewId===
a}).length)return!1;var e={};e.viewId=a;e.bufferUnits=this.bufferUnits;e.targetCommands=c.slice(0);e.bufferDistance=new Observable(this.DEFAULT_BUFFER_DISTANCE?this.DEFAULT_BUFFER_DISTANCE:null);e.selectedBufferUnit=new Observable(this.DEFAULT_BUFFER_UNIT.config);e.inputError=new Observable("");e.bufferingError=new Observable("");e.writeToMarkupLayer=new Observable(this._addBufferToMarkupLayerByDefault);this.childViewModels.push(e)};b.prototype.validateAndProcessInput=function(a){var c=this.getViewModelForView(a);
if(!c)return a=this.app.getResource(this.libraryId,"language-buffer-error-input-validation").format(a),this.app.trace.error(a),c.bufferingError.set(a),!1;a="number"===typeof c.bufferDistance.get()?c.bufferDistance.get():c.bufferDistance.get()?f.infrastructure.FormatUtils.parseNumber(c.bufferDistance.get()):null;if(null===a||isNaN(a))return c.inputError.set(this.app.getResource(this.libraryId,"language-buffer-invalid-distance")),!1;c.inputError.set("");c.bufferingError.set("");c.bufferDistance.set(f.infrastructure.FormatUtils.formatNumber(a));
this._raiseChangedBufferDistanceEvent(c);return!0};b.prototype.getViewModelForView=function(a){var c=this.childViewModels.filter(function(c){return c.viewId===a});if(!c.length)return this.app.trace.error("BufferOptionsViewModel: Could not find child view model for view with id {0}".format(a)),null;1<c.length&&this.app.trace.warning("Multiple child view models registered for view with id {0}. Please check your configuration. Using first instance of view model.".format(a));return c[0]};b.prototype.getViewModelForCommand=
function(a){var c=this.childViewModels.filter(function(c){return-1<c.targetCommands.indexOf(a)});return c.length?c[0]:null};b.prototype.handleBufferingErrorEvent=function(a){if(a&&a.sourceCommand){var c=this.getViewModelForCommand(a.sourceCommand);if(c){var e=a&&a.error?a.error.message||a.error.name:"";(a=a.error.details)&&a.length&&(e=e.concat(" ",a.join(" ")));e=e?this.app.getResource(this.libraryId,"language-buffer-operation-error").format(e):this.app.getResource(this.libraryId,"language-buffer-error-details-unavailable");
c.bufferingError.set(e);c=this.app.viewManager.getViewById(c.viewId);this.app.viewManager.activateView(c)}}};b.prototype.generateBufferDistanceChangedEventArgs=function(a,c){var e={};e.distance=f.infrastructure.FormatUtils.parseNumber(a.bufferDistance.get());e.unit=f.infrastructure.buffer.BufferUtils.getUnitDescFromConfig(a.selectedBufferUnit.get());e.writeToMarkupLayer=a.writeToMarkupLayer.get();e.targetCommands=c&&c.length?c:a.targetCommands.slice(0);return e};b.prototype._raiseChangedBufferDistanceEvent=
function(a){a=this.generateBufferDistanceChangedEventArgs(a);this.app.event("BufferDistanceChangedEvent").publish(a)};b.prototype._getSupportedBufferUnitLanguageResources=function(){for(var a in f.infrastructure.buffer.BufferUtils.SUPPORTED_BUFFER_UNITS)f.infrastructure.buffer.BufferUtils.SUPPORTED_BUFFER_UNITS.hasOwnProperty(a)&&(f.infrastructure.buffer.BufferUtils.SUPPORTED_BUFFER_UNITS[a]={displayName:this.app.getResource(this.libraryId,"language-buffer-unit-"+a.toLowerCase()+"-display-name"),
config:a})};b.prototype._setBufferUnits=function(a){var c=this;a&&a.length&&a.forEach(function(a){var k=f.infrastructure.buffer.BufferUtils.SUPPORTED_BUFFER_UNITS[a];k?c.bufferUnits.addItem(k):c.app.trace.warning(c.app.getResource(c.libraryId,"language-buffer-invalid-unit-warning").format(a))})};b.prototype._setDefaultBufferUnit=function(a){var c;a&&(c=f.infrastructure.buffer.BufferUtils.SUPPORTED_BUFFER_UNITS[a]);if(!c)if(this.bufferUnits.length())c=this.bufferUnits.getAt(0);else{this.app.trace.warning(this.app.getResource(this.libraryId,
"language-buffer-invalid-unit-warning").format(a));return}this.DEFAULT_BUFFER_UNIT=c};return b}(d.framework.ui.ViewModelBase);h.BufferOptionsViewModel=g})(g.buffer||(g.buffer={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this._currentTargetCommands=[]}__extends(b,d);b.prototype.attach=function(a){if(this.configuration&&this.configuration.targetCommands&&this.configuration.targetCommands.length){if(this.masterViewModel=a,a.registerView(this.id,this.configuration.targetCommands),a=a.getViewModelForView(this.id))d.prototype.attach.call(this,a),this.registerCommands()}else this.app.trace.error(this.app.getResource(this.libraryId,
"language-buffer-target-modules-error"))};b.prototype.registerCommands=function(){this.app.command("DisplayBufferOptions").register(this,this.executeDisplayBufferOptions,this.canExecuteDisplayBufferOptions);this.app.command("ActivateBufferingAndDisplayOptions").register(this,this.executeActivateBufferingAndDisplayOptions,this.canExecuteDisplayBufferOptions);this.app.command("DeactivateBufferingAndDismissOptions").register(this,this.executeDeactivateBufferingAndDismissOptions,this.canExecuteDisplayBufferOptions)};
b.prototype.executeDisplayBufferOptions=function(a){var c="string"===typeof a?a:a.targetCommand;(a="string"===typeof a?null:a.delegateFunction)&&dojo.isFunction(a)&&(this._oneTimeCommandDelegateParams={},this._oneTimeCommandDelegateParams.delegateFunction=a,this._oneTimeCommandDelegateParams.targetCommand=c);this._currentTargetCommands.push(c);this.app.viewManager.activateView(this)};b.prototype.executeActivateBufferingAndDisplayOptions=function(a){var c="string"===typeof a?a:a.targetCommand;this.canExecuteDisplayBufferOptions(c)&&
(this.app.command("ActivateBuffering").execute(c),this.app.command("DisplayBufferOptions").execute(a))};b.prototype.executeDeactivateBufferingAndDismissOptions=function(a){a="string"===typeof a?a:a.targetCommand;this.canExecuteDisplayBufferOptions(a)&&(this.app.command("DeactivateBuffering").execute(a),this.dismissBufferOptions(a))};b.prototype.canExecuteDisplayBufferOptions=function(a){return a?(a="string"===typeof a?a:a.targetCommand)?this.canDisplayOptionsForTargetCommand(a):!1:!1};b.prototype.canDisplayOptionsForTargetCommand=
function(a){var c=this.viewModel.targetCommands;return c&&c.length?-1<c.indexOf(a):!1};b.prototype.validateAndApplyInput=function(){this.masterViewModel.validateAndProcessInput(this.id)};b.prototype.handleContinueButtonClick=function(){this.masterViewModel.validateAndProcessInput(this.id)&&(this._executeOneTimeCommandDelegate(),this.dismissBufferOptions())};b.prototype.handleCancelButtonClick=function(){this._oneTimeCommandDelegateParams&&(this._oneTimeCommandDelegateParams=null);var a=this._currentTargetCommands.length?
this._currentTargetCommands[this._currentTargetCommands.length-1]:null;a&&this.app.command("DeactivateBufferingAndDismissOptions").execute(a)};b.prototype.handleClearButtonClick=function(){this.viewModel.bufferingError.set("");this.viewModel.bufferDistance.set(null);this.masterViewModel._raiseChangedBufferDistanceEvent(this.viewModel)};b.prototype.dismissBufferOptions=function(a){a&&(a=this._currentTargetCommands.indexOf(a),-1<a&&this._currentTargetCommands.splice(a,1));0===this._currentTargetCommands.length&&
this.isActive&&this.app.viewManager.deactivateView(this);(a=this.viewModel.targetCommands)&&a.length&&(a=this.masterViewModel.generateBufferDistanceChangedEventArgs(this.viewModel),this.app.event("BufferOptionsDismissedEvent").publish(a))};b.prototype._executeOneTimeCommandDelegate=function(){if(this._oneTimeCommandDelegateParams&&dojo.isFunction(this._oneTimeCommandDelegateParams.delegateFunction)){var a=this.masterViewModel.generateBufferDistanceChangedEventArgs(this.viewModel,[this._oneTimeCommandDelegateParams.targetCommand]);
this._oneTimeCommandDelegateParams.delegateFunction(a);this._oneTimeCommandDelegateParams=null}};return b}(d.framework.ui.ViewBase);f.BufferOptionsView=g})(f.buffer||(f.buffer={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(l){function b(){l.apply(this,arguments);this.clusterLayers=new ObservableCollection(null)}__extends(b,l);b.prototype.initialize=function(a){var c=this;this.app.command("AddClusterLayer").register(this,this._addClusterLayer,this._canExecuteAddClusterLayer);this.app.command("RemoveClusterLayer").register(this,this._removeClusterLayer,this._canExecuteRemoveClusterLayer);if(this.app.map&&this.app.map.loaded)this._checkIfClustersAreEnabledByDefault(this.app.site);
else this.app.event("MapLoadedEvent").once(this,function(a){c._checkIfClustersAreEnabledByDefault(c.app.site)});this.app.event("MapServiceRemovedEvent").subscribe(this,function(a){a.featureClustering&&a.featureClustering.enabled&&c.app.command("RemoveClusterLayer").execute({gcxLayer:a.layers[0]})})};b.prototype._addClusterLayer=function(a){a=this._returnGeocortexLayer(a);if(a.type!==d.essentials.LayerType.FEATURE_LAYER)this.app.trace.info("Can only create a cluster layer from a feature layer.");else{this.app.command("RemoveVisualization").execute({gcxLayer:a});
var c=new f.infrastructure.ClusterLayer(a,this.app);a.mapService.featureClustering.enabled=!0;var e;for(e=0;e<this.app.map.graphicsLayerIds.length&&this.app.map.graphicsLayerIds[e]!==a.mapService.id;e++);this.app.map.addLayer(c,e+1);this.clusterLayers.addItem(c);this.app.command("AddClusterLayer").raiseCanExecuteChanged();this.app.command("RemoveClusterLayer").raiseCanExecuteChanged();this.app.event("ClusterLayerAddedEvent").publish(c);this.app.event("LayerVisualizationChangedEvent").publish(a)}};
b.prototype._canExecuteAddClusterLayer=function(a){return(a=this._returnGeocortexLayer(a))&&a.mapService&&a.mapService.featureClustering?!a.mapService.featureClustering.enabled:!1};b.prototype._removeClusterLayer=function(a){if(a=this._returnGeocortexLayer(a)){for(var c=0;c<this.clusterLayers.getLength();c++){var e=this.clusterLayers.getAt(c);e.id===a.mapService.id+"-cluster"&&(this.clusterLayers.removeItem(e),this.app.event("ClusterLayerRemovedEvent").publish(e),this.app.event("LayerVisualizationChangedEvent").publish(a))}a.mapService.featureClustering.enabled=
!1;this.app.command("AddClusterLayer").raiseCanExecuteChanged();this.app.command("RemoveClusterLayer").raiseCanExecuteChanged()}};b.prototype._canExecuteRemoveClusterLayer=function(a){return(a=this._returnGeocortexLayer(a))&&a.mapService&&a.mapService.featureClustering?a.mapService.featureClustering.enabled:!1};b.prototype._canExecuteSetActiveClusterLayer=function(a){return!this._returnGeocortexLayer(a)||0>=this.clusterLayers.getLength()?!1:!0};b.prototype._checkIfClustersAreEnabledByDefault=function(a){for(var c=
0;c<a.essentialsMap.mapServices.length;c++){var e=a.essentialsMap.mapServices[c];if(e.featureClustering&&e.featureClustering.enabled)for(var k=0;k<e.layers.length;k++)this._addClusterLayer({gcxLayer:e.layers[k]})}};b.prototype._returnGeocortexLayer=function(a){return"string"===typeof a?this.app.site&&this.app.site.essentialsMap?this.app.site.essentialsMap.allLayers().filter(function(c){return a===c.mapService.id})[0]:null:a.gcxLayer};return b}(d.framework.application.ModuleBase);h.ClusterLayerModule=
g})(g.clusterLayers||(g.clusterLayers={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);return b}(d.framework.ui.ViewBase);f.ClusterLayerView=g})(f.clusterLayers||(f.clusterLayers={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.clusterLayers=new ObservableCollection(null);this.selectedClusterLayer=new Observable(null);this.selectedGeocortexLayer=new Observable(null)}__extends(b,d);b.prototype.initialize=function(a){var c=this;d.prototype.initialize.call(this,a);this.app.event("ClusterLayerAddedEvent").subscribe(this,function(a){c.clusterLayers.addItem(a)});this.app.event("ClusterLayerRemovedEvent").subscribe(this,
function(a){c.clusterLayers.removeItem(a);c.selectedClusterLayer.get()===a&&c.selectedClusterLayer.set(null)});this.app.event("VisualizationViewActivatedEvent").subscribe(this,function(a){c.selectedGeocortexLayer.set(a);var k=c.clusterLayers.get().filter(function(c){return c.gcxLayer===a});0<k.length&&c.selectedClusterLayer.set(k[0])});this.app.event("LayerVisualizationChangedEvent").subscribe(this,function(a){var k=c.clusterLayers.get().filter(function(c){return c.gcxLayer===a});0<k.length&&c.selectedClusterLayer.set(k[0])});
this.app.event("ClusterLayerOptionsChangedEvent").subscribe(this,function(){c.selectedClusterLayer.get().recluster()})};return b}(d.framework.ui.ViewModelBase);f.ClusterLayerViewModel=g})(f.clusterLayers||(f.clusterLayers={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(h){var g=function(d){function b(a,c){d.call(this,a,c);this.displayName=this.app.getResource(c,"language-clustering-name");var e={provider:this,name:this.displayName,id:this.displayName};this.visualizations.push(e);this.enabledVisualization=e}__extends(b,d);b.prototype.canSupport=function(a){return a&&a.mapService?a.mapService.featureClustering&&a.mapService.featureClustering.userCanToggle:!1};b.prototype.handleCurrentLayerChanged=function(a){a.mapService&&
a.mapService.featureClustering?(this.isEnabled.set(a.mapService.featureClustering.enabled),this.isSupported.set(a.mapService.featureClustering.userCanToggle),this.app.event("LayerVisualizationChangedEvent").publish(a)):(this.isEnabled.set(!1),this.isSupported.set(!1));this.isEnabled.get()&&(this.enabledVisualization=this.visualizations[0])};b.prototype.handleActivate=function(){this.app.command("AddClusterLayer").execute({gcxLayer:this.currentLayer.get()})};b.prototype.handleApply=function(){this.app.event("ClusterLayerOptionsChangedEvent").publish()};
return b}(d.infrastructure.visualization.VisualizationProviderBase);h.ClusterLayerVisualizationProvider=g})(g.clusterLayers||(g.clusterLayers={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c);this.appResizedSubToken=this.delayedExecuteToken=this.scrollTabRightElement=this.scrollTabLeftElement=this.tabElements=this.tabContainerElement=this.scrollingTabContainerElement=this.viewModel=null}__extends(b,d);b.prototype.handleClickTab=function(a,c,e){d.prototype.handleClickTab.call(this,a,c,e);this._refreshTabControlVisibility()};b.prototype.activated=function(){d.prototype.activated.call(this);
this.appResizedSubToken=this.app.event("ApplicationResizedEvent").subscribe(this,this.handleResize)};b.prototype.deactivated=function(){d.prototype.deactivated.call(this);this.app.event("ApplicationResizedEvent").unsubscribe(this.appResizedSubToken);this.appResizedSubToken=null};b.prototype.handleResize=function(){var a=this;this.isActive&&(this.delayedExecuteToken&&(clearTimeout(this.delayedExecuteToken),this.delayedExecuteToken=null),this.delayedExecuteToken=setTimeout(function(){a._refreshTabControlVisibility()},
200));this._refreshTabControlVisibility()};b.prototype._updateScrollTabDisabledStatus=function(){if(this.tabContainerElement){var a=this.tabContainerElement.scrollWidth-this.tabContainerElement.offsetWidth;this.viewModel.leftScrollTabDisabled.set(0===this.tabContainerElement.scrollLeft);this.viewModel.rightScrollTabDisabled.set(this.tabContainerElement.scrollLeft>a-1)}};b.prototype.handleTabScrollBack=function(a,c,e){a=$(this.tabContainerElement);c=a.scrollLeft()-2*this.scrollTabLeftElement.offsetWidth;
a.scrollLeft(0>c?0:c);this._updateScrollTabDisabledStatus()};b.prototype.handleTabScrollForward=function(a,c,e){a=$(this.tabContainerElement);c=this.tabContainerElement.scrollWidth-this.tabContainerElement.offsetWidth;e=a.scrollLeft()+2*this.scrollTabRightElement.offsetWidth;a.scrollLeft(e>c?c:e);this._updateScrollTabDisabledStatus()};b.prototype._refreshTabControlVisibility=function(){var a=this;setTimeout(function(){a.scrollingTabContainerElement&&a.tabElements&&(a.viewModel.tabControlsEnabled.set(a.tabElements.offsetWidth>
a.scrollingTabContainerElement.offsetWidth),a._updateScrollTabDisabledStatus())},100)};return b}(d.framework.ui.ViewSwitcher.ViewSwitcherView);f.FeatureDetailsSwitcherView=g})(f.FeatureDetails||(f.FeatureDetails={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c)}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);this._config=a};return b}(d.framework.application.ModuleBase);f.LabelOptionsModule=g})(f.labelOptions||(f.labelOptions={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(d){function b(a,c){d.call(this,a,c);this.registerCommands();this.subscribeToEvents()}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a)};b.prototype.registerCommands=function(){var a=this;this.app.commandRegistry.command("ShowLabelOptionsView").register(this,this.showLabelOptionsView,this.canExecuteShowLabelOptionsView);this.app.command("HideLabelOptionsView").register(this,function(){a.isActive&&
a.app.viewManager.deactivateView(a)})};b.prototype.subscribeToEvents=function(){var a=this;this.app.event("LabelsResetEvent").subscribe(this,function(){a.fontWidget.reset();a.haloWidget.reset()})};b.prototype.resolveWidget=function(a,c,e){switch(a){case "FontColorPickerWidget":return this.fontWidget=this._setUpColorPickerWidget(this.viewModel.selectedFontColor,this.viewModel.viewConfig.fontColor,"font-color");case "HaloColorPickerWidget":return this.haloWidget=this._setUpColorPickerWidget(this.viewModel.selectedHaloColor,
this.viewModel.viewConfig.haloColor,"halo-color");default:return d.prototype.resolveWidget.call(this,a,c)}};b.prototype._setUpColorPickerWidget=function(a,c,e){void 0===c&&(c=this.viewModel.defaultColor);var k=this.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.infrastructure.ui.components.ColorPicker.ColorPickerView",markupResource:"Mapping/infrastructure/ui/components/ColorPicker/ColorPickerView.html",libraryId:"Mapping.Infrastructure",isVisible:!0});k&&(e=new f.infrastructure.ui.components.ColorPicker.ColorPickerViewModel(this.app,
"mapping.infrastructure",e),a.sync(e.selectedColor),e.originalColor.sync(a),e.defaultColor.set(new esri.Color(c)),k.attach(e));return k};b.prototype.canExecuteShowLabelOptionsView=function(a){var c=this;if(null!=a&&null!=a.mapService&&"None"!=a.featureType&&a.mapService.supportsDynamicLayers&&a.mapService.serviceLayer instanceof esri.layers.ArcGISDynamicMapServiceLayer){var e=a.mapService.serviceLayer;if(!e.layerDrawingOptions){a=e.layerInfos[0].id;for(var k=1;k<e.layerInfos.length;k++)e.layerInfos[k].id>
a&&(a=e.layerInfos[k].id);e.setLayerDrawingOptions(Array(a));e.layerInfos.forEach(function(a){e.layerDrawingOptions[a.id]=new esri.layers.LayerDrawingOptions;e.layerDrawingOptions[a.id].showLabels=!0;c.viewModel.showLabels.set(!0)});e.refresh()}return!0}return!1};b.prototype.showLabelOptionsView=function(a){this.viewModel.obsLayer.set(a);this.title.set(a.displayName);this.app.command("ActivateView").execute(this.id)};b.prototype.handleClickButtonOK=function(a,c,e){this.viewModel.applyLabelOptions();
this.app.viewManager.deactivateView(this)};b.prototype.handleClickButtonCancel=function(a,c,e){this.app.viewManager.deactivateView(this)};b.prototype.handleClickButtonApply=function(a,c,e){this.viewModel.applyLabelOptions()};b.prototype.handleClickButtonReset=function(a,c,e){this.viewModel.warningAcknowledged.set(!1);this.viewModel.resetLabelOptions()};b.prototype.handleClickButtonCustomize=function(a,c,e){this.viewModel.warningAcknowledged.set(!0)};return b}(d.framework.ui.ViewBase);h.LabelOptionsView=
g})(g.labelOptions||(g.labelOptions={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(b){function a(a,e){b.call(this,a,e);this.obsLayer=new Observable;this.labelClassOriginal=[];this.labelClassConfigured=[];this.showLabels=new Observable(!0);this.layerName=new Observable("");this.layerFields=new ObservableCollection;this.fontFamilies=new ObservableCollection;this.fontSize=new Observable;this.originalFontSize=12;this.fontIsBold=new Observable(!1);this.fontIsItalic=new Observable(!1);this.fontIsUnderline=
new Observable(!1);this.haloSize=new Observable;this.isLayerFeatureTypePoint=new Observable(!1);this.isLayerFeatureTypePolygon=new Observable(!1);this.pointLabelPlacements=[];this.lineLabelPlacements=[];this.labelPlacements=new ObservableCollection;this.selectedFieldName=new Observable("");this.selectedFont=new Observable("");this.selectedFontColor=new Observable;this.selectedHaloColor=new Observable;this.selectedPlacement=new Observable("");this.selectedFontSizeChoice=new Observable("");this.fontSizeChoice=
new ObservableCollection;this.fontSizeExtraSmall=new Observable;this.fontSizeSmall=new Observable;this.fontSizeMedium=new Observable;this.fontSizeLarge=new Observable;this.fontSizeExtraLarge=new Observable;this.fontSizeChoiceIsEnabled=new Observable(!0);this.showLabelsIsVisible=new Observable(!0);this.haloSizeIsVisible=new Observable(!0);this.haloColorIsVisible=new Observable(!0);this.fontStyleIsVisible=new Observable(!0);this.fontSizeIsVisible=new Observable(!0);this.fontColorIsVisible=new Observable(!0);
this.fontFamiliesIsVisible=new Observable(!0);this.fieldIsVisible=new Observable(!0);this.labelPlacementIsVisible=new Observable(!0);this.tailoredWarning=new Observable("");this.warningAcknowledged=new Observable(!1);this.hasDrawingInfo=new Observable(!1);this.defaultColor="#000000";this.isLabelCustom=new Observable(!1);this.toggledOnly=new Observable(!0)}__extends(a,b);a.prototype.initialize=function(a){var e=this;b.prototype.initialize.call(this,a);this.viewConfig=a;this.fontSizeChoiceIsEnabled.set(this.viewConfig.fontSizeChoiceIsEnabled);
this.fontSizeChoiceIsEnabled.get()&&this.selectedFontSizeChoice.bind(this,function(){switch(e.selectedFontSizeChoice.get()){case e.getResource("language-labelOptions-extra-small"):e.fontSize.set(e.viewConfig.fontSizeExtraSmall);break;case e.getResource("language-labelOptions-small"):e.fontSize.set(e.viewConfig.fontSizeSmall);break;case e.getResource("language-labelOptions-medium"):e.fontSize.set(e.viewConfig.fontSizeMedium);break;case e.getResource("language-labelOptions-large"):e.fontSize.set(e.viewConfig.fontSizeLarge);
break;case e.getResource("language-labelOptions-extra-large"):e.fontSize.set(e.viewConfig.fontSizeExtraLarge);break;default:e.fontSize.set(e.originalFontSize)}});this.warningAcknowledged.bind(this,function(){e.haloSizeIsVisible.set(e.warningAcknowledged.get()&&e.viewConfig.haloSizeIsVisible);e.haloColorIsVisible.set(e.warningAcknowledged.get()&&e.viewConfig.haloColorIsVisible);e.fontStyleIsVisible.set(e.warningAcknowledged.get()&&e.viewConfig.fontStyleIsVisible);e.fontSizeIsVisible.set(e.warningAcknowledged.get()&&
e.viewConfig.fontSizeIsVisible);e.fontColorIsVisible.set(e.warningAcknowledged.get()&&e.viewConfig.fontColorIsVisible);e.fontFamiliesIsVisible.set(e.warningAcknowledged.get()&&e.viewConfig.fontFamiliesIsVisible);e.fieldIsVisible.set(e.warningAcknowledged.get()&&e.viewConfig.fieldIsVisible);e.labelPlacementIsVisible.set(e.warningAcknowledged.get()&&!e.isLayerFeatureTypePolygon.get()&&e.viewConfig.labelPlacementIsVisible)});this.isLayerFeatureTypePolygon.bind(this,function(){e.labelPlacementIsVisible.set(!e.isLayerFeatureTypePolygon.get()&&
e.warningAcknowledged.get()&&e.viewConfig.labelPlacementIsVisible)});this._registerCommands()};a.prototype._registerCommands=function(){var a=this;this.obsLayer.bind(this,function(e){a.populateLabelOptionsView(e)});this.app.commandRegistry.command("ToggleDynamicLabels").register(this,this.toggleDynamicLabels,this.canExecuteToggleDynamicLabels)};a.prototype.populateLabelOptionsView=function(a){var e=this;this.layer=a;this.tailoredWarning.set(this.getResource("language-labelOptions-unknown-label-warning").format(this.layer.displayName));
this.loadLabelPlacements();this.loadLayerInformation();this.loadFonts();this.fontSizeChoiceIsEnabled.get()&&this.loadFontSizeChoice();var k=a.mapService.serviceLayer,b=k.layerDrawingOptions,n=b[a.id];this.isLabelClassStored(this.labelClassOriginal)||this.labelClassOriginal.push(new f.LabelConfig(a,n.showLabels,n.labelingInfo));var d=this.getLabelClass(this.labelClassOriginal).labelClass,d=!!d&&d.length;if(this.isLabelClassStored(this.labelClassConfigured))d?this.hasDrawingInfo.set(!0):this.hasDrawingInfo.set(!1),
this.warningAcknowledged.set(!0),this.loadConfiguration();else if(d)this.hasDrawingInfo.set(!0),this.warningAcknowledged.set(!0),this.loadOriginalValues();else{var l=[];this.requestLabelInfo(k.url+"/"+this.layer.id+"?f=json").then(function(a){a&&l.push(a)}).then(function(){l.length?(e.setLabelClass(l,e.labelClassOriginal),n.labelingInfo=l,b[a.id]=n,k.setLayerDrawingOptions(b),k.refresh(),e.populateLabelOptionsView(e.layer)):(e.hasDrawingInfo.set(!1),e.warningAcknowledged.set(!1),e.loadDefaultConfiguration())})["catch"](function(){e.hasDrawingInfo.set(!1);
e.warningAcknowledged.set(!1);e.loadDefaultConfiguration()})}};a.prototype.requestLabelInfo=function(a){var e=this;return new Promise(function(k,b){d.request({url:a}).then(function(a){a||k(null);(a=a.drawingInfo.labelingInfo)?(a=new esri.layers.LabelClass(a[0]),k(a)):k(null)},function(a){e.app.trace.error("LabelOptions - Error requesting labels: "+a.message);b(a)})})};a.prototype.loadLayerInformation=function(){this.layerName.set(this.layer.displayName);this.layerFields.clear();var a=this.layer.fields.filter(function(a){return a.visible&&
!!a.dataType&&!/Object/i.test(a.dataType)&&!/GUID/i.test(a.dataType)});this.layerFields.set(d.essentialsHtmlViewer.mapping.infrastructure.ArrayUtils.sortBy(a,function(a){return a.displayName}));this.layerFields.getLength()?(this.selectedFieldName.set(this.layerFields.getAt(0).name),this.fieldIsVisible.set(!0)):this.fieldIsVisible.set(!1);switch(this.layer.featureType){case "Point":case "Multipoint":this.isLayerFeatureTypePoint.set(!0);this.isLayerFeatureTypePolygon.set(!1);break;case l.Polygon.toString():this.isLayerFeatureTypePolygon.set(!0);
break;default:this.isLayerFeatureTypePoint.set(!1),this.isLayerFeatureTypePolygon.set(!1)}this.isLayerFeatureTypePoint.get()?this.labelPlacements.set(this.pointLabelPlacements):this.labelPlacements.set(this.lineLabelPlacements);this.selectedPlacement.set(this.labelPlacements.getAt(0).config)};a.prototype.loadFonts=function(){this.fontFamilies.clear();0<this.viewConfig.fontFamilies.length?this.fontFamilies.set(this.viewConfig.fontFamilies):this.fontFamiliesIsVisible.set(!1);this.selectedFont.set(this.fontFamilies.getAt(0))};
a.prototype.loadFontSizeChoice=function(){this.fontSizeChoice.clear();this.fontSizeChoice.addItems([this.getResource("language-labelOptions-extra-small"),this.getResource("language-labelOptions-small"),this.getResource("language-labelOptions-medium"),this.getResource("language-labelOptions-large"),this.getResource("language-labelOptions-extra-large")]);this.selectedFontSizeChoice.set(this.getResource("language-labelOptions-medium"))};a.prototype.loadLabelPlacements=function(){this.pointLabelPlacements=
[{config:"above-center",displayName:this.getResource("language-labelOptions-above-center")},{config:"above-left",displayName:this.getResource("language-labelOptions-above-left")},{config:"above-right",displayName:this.getResource("language-labelOptions-above-right")},{config:"center-center",displayName:this.getResource("language-labelOptions-center-center")},{config:"center-left",displayName:this.getResource("language-labelOptions-center-left")},{config:"center-right",displayName:this.getResource("language-labelOptions-center-right")},
{config:"below-center",displayName:this.getResource("language-labelOptions-below-center")},{config:"below-left",displayName:this.getResource("language-labelOptions-below-left")},{config:"below-right",displayName:this.getResource("language-labelOptions-below-right")}];this.lineLabelPlacements=[{config:"above-after",displayName:this.getResource("language-labelOptions-above-after")},{config:"above-along",displayName:this.getResource("language-labelOptions-above-along")},{config:"above-before",displayName:this.getResource("language-labelOptions-above-before")},
{config:"above-start",displayName:this.getResource("language-labelOptions-above-start")},{config:"above-end",displayName:this.getResource("language-labelOptions-above-end")},{config:"below-after",displayName:this.getResource("language-labelOptions-below-after")},{config:"below-along",displayName:this.getResource("language-labelOptions-below-along")},{config:"below-before",displayName:this.getResource("language-labelOptions-below-before")},{config:"below-start",displayName:this.getResource("language-labelOptions-below-start")},
{config:"below-end",displayName:this.getResource("language-labelOptions-below-end")},{config:"center-after",displayName:this.getResource("language-labelOptions-center-after")},{config:"center-along",displayName:this.getResource("language-labelOptions-center-along")},{config:"center-before",displayName:this.getResource("language-labelOptions-center-before")},{config:"center-start",displayName:this.getResource("language-labelOptions-center-start")},{config:"center-end",displayName:this.getResource("language-labelOptions-center-end")}]};
a.prototype.loadDefaultConfiguration=function(){this.showLabels.get()&&this.showLabels.set(this.viewConfig.showLabels);this.fontSizeChoiceIsEnabled.get()?(this.fontSizeExtraSmall.set(this.viewConfig.fontSizeExtraSmall),this.fontSizeSmall.set(this.viewConfig.fontSizeSmall),this.fontSizeMedium.set(this.viewConfig.fontSizeMedium),this.fontSizeLarge.set(this.viewConfig.fontSizeLarge),this.fontSizeExtraLarge.set(this.viewConfig.fontSizeExtraLarge)):this.fontSize.set(this.viewConfig.fontSize);this.fontIsBold.set(this.viewConfig.fontIsBold);
this.fontIsItalic.set(this.viewConfig.fontIsItalic);this.fontIsUnderline.set(this.viewConfig.fontIsUnderline);this.selectedFontColor.set(new esri.Color(this.viewConfig.fontColor));this.haloSize.set(this.viewConfig.haloSize);this.selectedHaloColor.set(new esri.Color(this.viewConfig.haloColor));this.app.event("LabelsResetEvent").publish();this.setIsVisibles();this.fieldIsVisible.get()&&this.fieldIsVisible.set(this.viewConfig.fieldIsVisible);this.fontFamiliesIsVisible.get()&&this.fontFamiliesIsVisible.set(this.viewConfig.fontFamiliesIsVisible);
this.warningAcknowledged.pulse()};a.prototype.loadConfiguration=function(){var a=this.getLabelClass(this.labelClassConfigured),e=a.labelClass[0].symbol,k=this.layer;this.showLabels.set(k.mapService.serviceLayer.layerDrawingOptions[k.id].showLabels);this.selectedFieldName.set(a.labelClass[0].labelExpression.replace("[","").replace("]",""));this.selectedFont.set(e.font.family);this.fontSize.set(e.font.size);if(this.fontSizeChoiceIsEnabled.get())switch(this.fontSize.get()){case this.viewConfig.fontSizeExtraSmall:this.selectedFontSizeChoice.set(this.getResource("language-labelOptions-extra-small"));
break;case this.viewConfig.fontSizeSmall:this.selectedFontSizeChoice.set(this.getResource("language-labelOptions-small"));break;case this.viewConfig.fontSizeMedium:this.selectedFontSizeChoice.set(this.getResource("language-labelOptions-medium"));break;case this.viewConfig.fontSizeLarge:this.selectedFontSizeChoice.set(this.getResource("language-labelOptions-large"));break;case this.viewConfig.fontSizeExtraLarge:this.selectedFontSizeChoice.set(this.getResource("language-labelOptions-extra-large"));
break;default:this.originalFontSize=this.fontSize.get(),this.selectedFontSizeChoice.set(this.getResource("language-labelOptions-original").format(this.originalFontSize))}this.fontIsBold.set("bold"===e.font.weight);this.fontIsItalic.set("italic"===e.font.style);this.fontIsUnderline.set("underline"===e.font.decoration);this.selectedFontColor.set(e.color);this.selectedPlacement.set(a.labelClass[0].labelPlacement);a=new esri.Color(e.haloColor);this.selectedHaloColor.set(a);this.app.event("LabelsResetEvent").publish();
this.haloSize.set(e.haloSize);this.isLabelCustom.set(!0)};a.prototype.loadOriginalValues=function(){var a=this.layer,a=a.mapService.serviceLayer.layerDrawingOptions[a.id];this.showLabels.set(a.showLabels);a=a.labelingInfo;this.selectedPlacement.set(a[0].labelPlacement);var e=a[0].symbol.font;if(this.fontSizeChoiceIsEnabled.get())switch(this.fontSizeExtraSmall.set(this.viewConfig.fontSizeExtraSmall),this.fontSizeSmall.set(this.viewConfig.fontSizeSmall),this.fontSizeMedium.set(this.viewConfig.fontSizeMedium),
this.fontSizeLarge.set(this.viewConfig.fontSizeLarge),this.fontSizeExtraLarge.set(this.viewConfig.fontSizeExtraLarge),e.size){case this.fontSizeExtraSmall.get():this.selectedFontSizeChoice.set(this.getResource("language-labelOptions-extra-small"));break;case this.fontSizeSmall.get():this.selectedFontSizeChoice.set(this.getResource("language-labelOptions-small"));break;case this.fontSizeMedium.get():this.selectedFontSizeChoice.set(this.getResource("language-labelOptions-medium"));break;case this.fontSizeLarge.get():this.selectedFontSizeChoice.set(this.getResource("language-labelOptions-large"));
break;case this.fontSizeExtraLarge.get():this.selectedFontSizeChoice.set(this.getResource("language-labelOptions-extra-large"));break;default:this.originalFontSize=e.size,this.fontSizeChoice.addItem(this.getResource("language-labelOptions-original").format(e.size)),this.selectedFontSizeChoice.set(this.getResource("language-labelOptions-original").format(e.size))}else this.fontSize.set(e.size);this.fontIsBold.set(/bold/.test(e.weight));this.fontIsItalic.set(/italic/.test(e.style));this.fontIsUnderline.set(/underline/.test(e.decoration));
var k=a[0].symbol;this.selectedFontColor.set(k.color);this.haloSize.set(k.haloSize);this.selectedHaloColor.set(k.haloColor);this.app.event("LabelsResetEvent").publish();this.setIsVisibles();if(this.fieldIsVisible.get()){this.fieldIsVisible.set(this.viewConfig.fieldIsVisible);a=a[0].labelExpression.replace("[","").replace("]","");for(k=0;k<this.layerFields.getLength();k++)if(a===this.layerFields.getAt(k).displayName){a=this.layerFields.getAt(k).name;break}this.selectedFieldName.set(a)}this.fontFamiliesIsVisible.get()&&
(this.fontFamiliesIsVisible.set(this.viewConfig.fontFamiliesIsVisible),this.fontFamilies.get().find(function(a){return e.family===a})||this.fontFamilies.addItem(e.family),this.selectedFont.set(e.family));this.warningAcknowledged.pulse();this.isLabelCustom.set(!1)};a.prototype.setIsVisibles=function(){this.showLabelsIsVisible.set(this.viewConfig.showLabelsIsVisible);this.fontSizeIsVisible.set(this.viewConfig.fontSizeIsVisible);this.fontStyleIsVisible.set(this.viewConfig.fontStyleIsVisible);this.fontColorIsVisible.set(this.viewConfig.fontColorIsVisible);
this.haloSizeIsVisible.set(this.viewConfig.haloSizeIsVisible);this.haloColorIsVisible.set(this.viewConfig.haloColorIsVisible)};a.prototype.applyLabelOptions=function(){var a=this.layer,e=a.mapService.serviceLayer,k=e.layerDrawingOptions,b=k[a.id],n;b.labelingInfo&&b.labelingInfo.length&&(n=b.labelingInfo[0]);this.isLabelClassStored(this.labelClassOriginal)||this.labelClassOriginal.push(new f.LabelConfig(a,b.showLabels,b.labelingInfo));b.showLabels=this.showLabelsIsVisible.get()||null==n?this.showLabels.get():
b.showLabels;if(this.warningAcknowledged.get()){var d=this.fieldIsVisible.get()||null==n?this.selectedFieldName.get():n.labelExpression.replace("[","").replace("]",""),l=new esri.symbol.Font;l.setFamily(this.fontFamiliesIsVisible.get()||null==n?this.selectedFont.get():n.symbol.font.family);l.setSize(this.fontSizeIsVisible.get()||null==n?this.fontSize.get():n.symbol.font.size);this.fontStyleIsVisible.get()||null==n?(this.fontIsBold.get()?l.setWeight("bold"):l.setWeight("normal"),this.fontIsItalic.get()?
l.setStyle("italic"):l.setStyle("normal"),this.fontIsUnderline.get()?l.setDecoration("underline"):l.setDecoration("normal")):(l.setWeight(n.symbol.font.weight),l.setStyle(n.symbol.font.style),l.setDecoration(n.symbol.font.decoration));var g=this.fontColorIsVisible.get()||null==n?this.selectedFontColor.get():n.symbol.color,m;this.labelPlacementIsVisible.get()||null==n?(m="always-horizontal","Polygon"!=a.featureType&&(m=this.selectedPlacement.get())):m=n.labelPlacement;var p=this.selectedHaloColor.get();
p.a=1;n={haloColor:this.haloColorIsVisible.get()||null==n||null==n.symbol||null==n.symbol.haloColor?p.toRgba():n.symbol.haloColor.toRgba(),haloSize:this.haloColorIsVisible.get()||null==n||null==n.symbol||null==n.symbol.haloSize?0.75*this.haloSize.get():0.75*n.symbol.haloSize};n=new esri.symbol.TextSymbol(n);n.haloColor.a=1;n.setFont(l);n.setColor(g);l=new esri.layers.LabelClass;l.labelExpression=String.format("[{0}]",d);l.useCodedValues=!1;l.symbol=n;l.labelPlacement=m;b.labelingInfo=[l];k[a.id]=
b;e.setLayerDrawingOptions(k);e.refresh();this.isLabelCustom.set(!0);this.toggledOnly.set(!1);this.setLabelClass([l],this.labelClassConfigured);this.app.eventRegistry.event("LabelOptionsChanged").publish()}else k[a.id]=b,e.setLayerDrawingOptions(k),e.refresh()};a.prototype.resetLabelOptions=function(){this.selectedFontColor.set(new esri.Color(this.viewConfig.fontColor));this.selectedHaloColor.set(new esri.Color(this.viewConfig.haloColor));this.app.event("LabelsResetEvent").publish();var a=this.layer,
e=a.mapService.serviceLayer,k=e.layerDrawingOptions,b=k[a.id],n=this.getLabelClass(this.labelClassOriginal);b.labelingInfo=n.labelClass;b.showLabels=n.showLabels;k[a.id]=b;e.setLayerDrawingOptions(k);e.refresh();this.removeConfiguredLabelClass();this.showLabels.set(n.showLabels);this.populateLabelOptionsView(a);this.isLabelCustom.set(!1);this.toggledOnly.set(!0)};a.prototype.canExecuteToggleDynamicLabels=function(a){var e=this;if(null!=a&&null!=a.mapService&&"None"!=a.featureType&&a.mapService.supportsDynamicLayers&&
a.mapService.serviceLayer instanceof esri.layers.ArcGISDynamicMapServiceLayer){var k=a.mapService.serviceLayer;if(!k.layerDrawingOptions){for(var b=k.layerInfos[0].id,n=1;n<k.layerInfos.length;n++)k.layerInfos[n].id>b&&(b=k.layerInfos[n].id);k.setLayerDrawingOptions(Array(b));k.layerInfos.forEach(function(a){k.layerDrawingOptions[a.id]=new esri.layers.LayerDrawingOptions;k.layerDrawingOptions[a.id].showLabels=!0;e.showLabels.set(!0)});k.refresh()}this.layer=a;return!0}return!1};a.prototype.toggleDynamicLabels=
function(a){var e=a.mapService.serviceLayer,k=e.layerDrawingOptions,b=k[a.id];this.isLabelClassStored(this.labelClassOriginal)||this.labelClassOriginal.push(new f.LabelConfig(a,b.showLabels,b.labelingInfo));b.showLabels?(b.showLabels=!1,this.showLabels.set(!1)):(b.showLabels=!0,this.showLabels.set(!0));this.labelClassOriginal[0].showLabels!=this.showLabels.get()?this.isLabelCustom.set(!0):this.toggledOnly.get()&&this.isLabelCustom.set(!1);k[a.id]=b;e.setLayerDrawingOptions(k);e.refresh()};a.prototype.isLabelClassStored=
function(a){for(var e=!1,k=0;k<a.length;k++)if(this.layer===a[k].layer){e=!0;break}return e};a.prototype.getLabelClass=function(a){for(var e=null,k=0;k<a.length;k++)if(this.layer===a[k].layer){e=a[k];break}return e};a.prototype.setLabelClass=function(a,e){for(var k=0;k<e.length;k++)if(this.layer===e[k].layer){e[k].labelClass=a;return}e.push(new f.LabelConfig(this.layer,this.showLabels.get(),a))};a.prototype.removeConfiguredLabelClass=function(){var a=!1,e;for(e=0;e<this.labelClassConfigured.length;e++)if(this.layer===
this.labelClassConfigured[e].layer){a=!0;break}a&&this.labelClassConfigured.splice(e,1)};return a}(d.framework.ui.ViewModelBase);f.LabelOptionsViewModel=g;var l;(function(b){b[b.Polygon="Polygon"]="Polygon"})(l||(l={}))})(f.labelOptions||(f.labelOptions={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){return function(d,b,a){this.labelClass=a;this.showLabels=b;this.layer=d}}();d.LabelConfig=f})(d.labelOptions||(d.labelOptions={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){function d(b,a){this.originalItem=b;this.layers=a;this.serviceProviderName=b.serviceProviderName;this.url=b.url;this.setName(b.displayName);this.disabled=!1;-1<(b.serviceType||[]).indexOf("FeatureServer")?this.supportsAddition=!1:this.supportsAddition=!0}d.prototype.setName=function(b){this.name=b;this.displayName=b+" ("+(this.layers||[]).length+")"};return d}();d.MapServiceItem=f})(d.layerAddition||(d.layerAddition=
{}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){function d(b){this.originalItem=b;this.displayName=b.displayName;this.url=b.url;this.setDescription(b.description);this.supportsAddition=!0}d.prototype.setDescription=function(b){this.longDescription=b;this.description=this._trunc(b,100)};d.prototype._trunc=function(b,a){return b&&b.length>a?b.substr(0,a-1)+"...":b};return d}();d.SubLayerItem=f})(d.layerAddition||(d.layerAddition={}))})(d.modules||(d.modules={}))})(d.mapping||
(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.obsLayer=new Observable;this.layerName=new Observable("");this.layerIsSearchable=new Observable(!1);this.layerIsIdentifiable=new Observable(!1);this.layerIsQueryable=new Observable(!1);this.layerShowsMapTips=new Observable(!1);this.layerSupportsIdentify=new Observable(!1);this.layerSupportsQuery=new Observable(!1);this.isGroupLayer=new Observable(!1);this.isHandheld=new Observable(!1)}
__extends(b,d);b.prototype.initialize=function(a){var c=this;this.obsLayer.bind(this,function(a){c.loadLayerInformation(a)})};b.prototype.loadLayerInformation=function(a){this.layer=a;this.layerName.set(this.layer.displayName);this.layerIsIdentifiable.set(this.layer.identifiable);this.layerIsSearchable.set(this.layer.searchable);this.layerShowsMapTips.set(this.layer.showMapTips);this.layerIsQueryable.set(this.layer.queryable);this.layerSupportsQuery.set(this.layer.supportsQuery);this.layerSupportsIdentify.set(this.layer.supportsIdentify);
this.isHandheld.set(this.app.configuration.mobileMode);this.isGroupLayer.set(this.layer.subLayerIds&&0<this.layer.subLayerIds.length)};b.prototype.applyChanges=function(){this.layer.displayName=this.layerName.get();this.app.event("LayerDisplayNameChanged").publish(this.layer);this.layer.identifiable=this.layerIsIdentifiable.get();this.layer.searchable=this.layerIsSearchable.get();this.layer.showMapTips=this.layerShowsMapTips.get();this.layer.queryable=this.layerIsQueryable.get();var a=this.layer.mapService;
2>a.layers.length&&!(a.supportsDynamicLayers||a.serviceLayer instanceof esri.layers.ArcGISDynamicMapServiceLayer)&&(this.layer.mapService.displayName=this.layer.displayName);this.app.event("MapServicePropertyChangedEvent").publish(this.layer.mapService);this.app.event("MapServiceLayersChangedEvent").publish(this.layer.mapService)};return b}(d.framework.ui.ViewModelBase);f.LayerPropertiesViewModel=g})(f.layerAddition||(f.layerAddition={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=f.infrastructure.layerList.LayerListLayerItem,l=f.infrastructure.layerList.LayerListMapServiceItem,b=f.infrastructure.layerList.LayerListKmlFolderItem,a=d.framework.utils.ArrayUtils,c=f.infrastructure.PromiseUtils,e=function(e){function q(a,c){e.call(this,a,c)}__extends(q,e);q.prototype.initialize=function(a){var c=this;this.enableLayerListLegendIntegration=void 0!=a.enableLegendIntegration?a.enableLegendIntegration:!1;this.onlyShowSwatchesOnVisibleLayers=
void 0!=a.onlyShowSwatchesOnVisibleLayers?a.onlyShowSwatchesOnVisibleLayers:!1;this.autoActivateAncestorVisibilities=void 0!=a.autoActivateAncestorVisibilities?a.autoActivateAncestorVisibilities:!1;this.groupByOperationalAndBase=void 0!=a.groupByOperationalAndBase?a.groupByOperationalAndBase:!0;this.enableLayerIcons=void 0!=a.enableLayerIcons?a.enableLayerIcons:!1;this.enableLayerListLegendIntegration||this.app.trace.debug("Inline legend integration not enabled for the Configurable LayerList module");
this.onlyShowSwatchesOnVisibleLayers||this.app.trace.debug("The option to only show legend swatches for visible layers is not enabled for the Configurable LayerList module.");if(this.app.isArcGisWebApp)this.appInfo=d.essentialsHtmlViewer.mapping.infrastructure.gis.AppInfo.fromGeocortexApp(this.app),this._setupLayerList();else if(this.app.site&&this.app.site.isInitialized)this._setupLayerList();else this.app.event("SiteInitializedEvent").once(this,function(){c.appInfo=d.essentialsHtmlViewer.mapping.infrastructure.gis.AppInfo.fromGeocortexApp(c.app);
c._setupLayerList()});this.app.event("MapServiceLayersChangedWithResultEvent").subscribe(this,this._handleMapServiceLayersChanged);this.registerActivityHandlers()};q.prototype.registerActivityHandlers=function(){var a=this;this.app.registerActivityTypeHandler("Geocortex.Workflow.Activities.GetLayerListItemInfo",function(c){d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleGetLayerListItemInfo(a,c)});this.app.registerActivityTypeHandler("Geocortex.Workflow.Activities.SetLayerListItemInfo",
function(c){d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleSetLayerListItemInfo(a,c)});this.app.registerActivityIdHandler("__GetLayerListItemInfo",function(c){d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleGetLayerListItemInfo(a,c)});this.app.registerActivityIdHandler("__SetLayerListItemInfo",function(c){d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleSetLayerListItemInfo(a,c)})};q.prototype.subscribeEvents=function(){this.app.event("MapServiceAddedEvent").subscribe(this,
this._handleMapServicesAdded);this.app.event("MapServiceRemovedEvent").subscribe(this,this._handleMapServiceRemoved);this.app.event("MapServicePropertyChangedEvent").subscribe(this,this._updateMapService);this.app.event("LayerVisualizationChangedEvent").subscribe(this,this._handleLayerVisualizationChanged)};q.prototype.waitUntilLayerListInitialized=function(){var a=this;return new Promise(function(c,e){if(a.layerList&&a.layerList.layerListInitialized)c();else a.app.event("LayerListInitializedEvent").once(a,
function(){return c()})})};q.prototype.getStateFilter=function(){return{activeTheme:!0,layerList:{item:this._getItemFilter()}}};q.prototype.exportState=function(){var a=this.app.site.essentialsMap.layerThemesInfo.activeTheme;return Promise.resolve({activeTheme:a?a.id:null,layerList:this._exportChildItemsState(this.layerList)})};q.prototype.applyState=function(c){var e=this;return this.waitUntilLayerListInitialized().then(function(){e.layerList.suspendMapUpdates=!0;var k=e.app.site.essentialsMap.layerThemesInfo,
b=a.firstOrDefault(k.themes,function(a){return a.id===c.activeTheme});b&&b!==k.activeTheme&&b.applyToMap()}).then(function(){return e._applyChildrenState(e.layerList,c.layerList)}).then(function(){e.layerList.suspendMapUpdates=!1})};q.prototype._exportItemState=function(a){var c=this.app.project.convert,e={id:a.id.get(),name:a.name.get(),isVisible:a.isVisible.get(),isExpanded:a.isExpanded.get(),children:[]};a instanceof g?e.layer=c.fromGcxLayer(a.layer.gcxLayer):a instanceof l&&(e.mapService=c.fromGcxMapService(a.mapService.gcxMapService));
e.children=this._exportChildItemsState(a);return e};q.prototype._exportChildItemsState=function(a){var c=this;a=a.children.get().filter(function(a){return!(a instanceof b)});return f.infrastructure.ArrayUtils.mapWithErrorCallback(a,function(a){return c._exportItemState(a)},function(a,e){return c.app.trace.warning('Unable to save layer list item "'+a.name.get()+'" to project: '+e)})};q.prototype._applyItemState=function(c,e){var k=this,b=e.children.get(),q=this.app.project.convert;return(c.layer?q.toGcxLayer(c.layer,
c.layer.serviceLayer).then(function(c){return a.firstOrDefault(b,function(a){return a instanceof g&&a.layer.gcxLayer===c})}):c.mapService?q.toGcxMapService(c.mapService).then(function(c){return a.firstOrDefault(b,function(a){return a instanceof l&&a.mapService.gcxMapService===c})}):Promise.resolve(a.firstOrDefault(b,function(a){return a.name.get()===c.name}))).then(function(a){a&&(a.isExpanded.set(c.isExpanded),a.isVisible.set(c.isVisible),k._applyChildrenState(a,c.children))})["catch"](function(a){})};
q.prototype._applyChildrenState=function(a,e){var k=this;return c.mapSkipRejected(e,function(c){return k._applyItemState(c,a)})["return"]()};q.prototype._setupLayerList=function(){var a=this,c=this.app&&this.app.site&&this.app.site.layerListRestEndpoint?this.app.site.layerListRestEndpoint:null;this.app.isArcGisWebApp||(this.layerListRestUrl=this.app.site.url+"/map/layerlist");var e=0,k={enableLegendIntegration:this.enableLayerListLegendIntegration,onlyShowSwatchesOnVisibleLayers:this.onlyShowSwatchesOnVisibleLayers,
autoActivateAncestorVisibilities:this.autoActivateAncestorVisibilities,serviceLoadFailureIconUri:"Resources/Images/Icons/Toolbar/error-24.png",serviceLoadFailureIconTooltip:this.appInfo.gcxApp.getResource(this.libraryId,"language-layerlist-service-unavailable"),singleLegendIconTooltip:this.appInfo.gcxApp.getResource(this.libraryId,"language-layerlist-single-legend-icon-tooltip"),multiLegendIconTooltip:this.appInfo.gcxApp.getResource(this.libraryId,"language-layerlist-multiple-legend-icon-tooltip"),
multiLegendSwatchElement:"<img src='"+q.MULTI_LEGEND_SWATCH_URI+"'  alt=' '/>",groupByOperationalAndBase:this.groupByOperationalAndBase,enableLayerIcons:this.enableLayerIcons};this.layerList=new d.essentialsHtmlViewer.mapping.infrastructure.layerList.LayerList(this.appInfo,this.layerListRestUrl,c,k);dojo.connect(this.layerList,"onLayerListInitialized",function(c){e=(new Date).getTime()-e;a.app.trace.debug("Layer List initialization took {0}ms ({1}s)".format(e,e/1E3));a.subscribeEvents();a.app.event("LayerListInitializedEvent").publish(c)});
dojo.connect(this.layerList,"onLayerListInitializationFailed",function(c){a.app.command("Alert").execute("Layer List initialization failed with error: ".concat(c.message))});e=(new Date).getTime();this.layerList.initialize()};q.prototype._handleMapServicesAdded=function(a){this.layerList&&this.layerList.addUserAddedServiceLayer(a)};q.prototype._handleMapServiceRemoved=function(a){this.layerList&&this.layerList.removeServiceLayer(a)};q.prototype._updateMapService=function(a){var c=this.layerList.getUserAddedLayersFolderIndex(a),
c=c||0;this.layerList&&(this.layerList.removeServiceLayer(a),this.layerList.addUserAddedServiceLayer(a,c))};q.prototype._handleMapServiceLayersChanged=function(a){var c=this;this.waitUntilLayerListInitialized().then(function(){c.layerList&&a&&a.mapService&&c.layerList.updateServiceLayer(a.mapService,a.newItems,a.oldItems)})};q.prototype._handleLayerVisualizationChanged=function(a){var c=this;this.layerList&&a&&a.mapService&&setTimeout(function(){c.layerList.updateServiceLayerLegendSwatch(a.mapService)},
1E3)};q.prototype._getItemFilter=function(){var a=this;return{id:!0,name:!0,isVisible:!0,isExpanded:!0,layer:this.app.project.filter.layer,mapService:this.app.project.filter.serviceLayer,children:{item:function(){return a._getItemFilter()}}}};q.MULTI_LEGEND_SWATCH_URI="Resources/Images/Icons/legend-16.png";return q}(d.framework.application.ModuleBase);h.LayerListModule=e})(g.layerList||(g.layerList={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c);this._registerCommandsAndEvents()}__extends(b,d);b.prototype._registerCommandsAndEvents=function(){var a=this;this.trackCommandHandler(this.app.command("ShowMapServiceActions"),this.app.command("ShowMapServiceActions").register(this,this._executeShowMapServiceActions,this._canExecuteShowMapServiceActions));this.trackCommandHandler(this.app.command("HideMapServiceActions"),this.app.command("HideMapServiceActions").register(this,
this._executeHideMapServiceActions,function(){return a.isActive}))};b.prototype._canExecuteShowMapServiceActions=function(a){return null!=this.viewModel&&null!=a&&a.isUserCreated};b.prototype._executeShowMapServiceActions=function(a){this.title.set(a.shortDisplayName||a.displayName);this.viewModel.menuContext.set(a);this.app.command("ActivateView").execute(this.id)};b.prototype._executeHideMapServiceActions=function(){this.app.command("DeactivateView").execute(this.id)};return b}(d.essentialsHtmlViewer.mapping.infrastructure.menus.MenuView);
f.MapServiceActionsView=g})(f.layerList||(f.layerList={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(f){function b(a,c){f.call(this,a,c);this.displayName=this.app.getResource(c,"language-layerstyles-custom-name");this.customStyleMenuItem=this.app.getResource(c,"language-layerstyles-custom-menuitem")}__extends(b,f);b.prototype.canSupport=function(a){return(a.allowSymbolization||a.isUserCreated)&&"None"!==a.featureType&&(a.mapService.serviceLayer instanceof esri.layers.ArcGISDynamicMapServiceLayer&&a.mapService.serviceLayer.supportsDynamicLayers||
a.mapService.serviceLayer instanceof esri.layers.FeatureLayer)?!0:!1};b.prototype.handleCurrentLayerChanged=function(a){this.isEnabled.set(a.styles?a.styles.some(function(a){return a.id===h.CUSTOM_STYLE_ID&&a.enabled}):!1);this.isSupported.set(this.canSupport(a));this.visualizations=[];a={provider:this,name:this.customStyleMenuItem,id:h.CUSTOM_STYLE_ID};this.visualizations.push(a);this.isEnabled.get()&&(this.enabledVisualization=a)};b.prototype.handleActivate=function(a){for(var c=this.currentLayer.get(),
e=c.styles.filter(function(a){return a.id===h.CUSTOM_STYLE_ID})[0],k=0,b=c.styles;k<b.length;k++)b[k].enabled=!1;e&&(this.enabledVisualization=a,e.enabled=!0,this.app.command("ResymbolizeLayer").execute({gcxLayer:c,renderer:e.getRenderer()}));this.app.event("CustomSymbolizationStartedEvent").publish(c)};b.prototype.handleApply=function(){var a=this.currentLayer.get(),c=a.styles.filter(function(a){return a.id===h.CUSTOM_STYLE_ID})[0],e=this.app.viewManager.getViewById("LayerStyleSelectorView").apply();
e&&(c?c.setRenderer(e):(c=new d.essentials.LayerStyle(e,h.CUSTOM_STYLE_ID,h.CUSTOM_STYLE_ID,!0),a.styles.push(c),this.enabledVisualization={provider:this,name:this.customStyleMenuItem,id:h.CUSTOM_STYLE_ID}),this.handleActivate(this.enabledVisualization))};return b}(f.infrastructure.visualization.VisualizationProviderBase);h.CustomLayerStylesVisualizationProvider=g})(g.layerStyles||(g.layerStyles={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.reset=function(){this.symbologySettingsWidget.reset();this.attributeSettingsWidget.reset();this.viewModel.symbologyType.set(this.viewModel.simpleType)};b.prototype.apply=function(){return this.viewModel.symbolizeByAttribute.get()?this.attributeSettingsWidget.viewModel.getRenderer():this.symbologySettingsWidget.viewModel.getRenderer()};return b}(d.framework.ui.ViewBase);
f.LayerStyleSelectorView=g})(f.layerStyles||(f.layerStyles={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.name=new Observable(null);this.symbolizeByAttribute=new Observable(!1);this.availableSymbologyTypes=new ObservableCollection([]);this.symbologyType=new Observable("")}__extends(b,d);b.prototype.initialize=function(a){var c=this;d.prototype.initialize.call(this,a);this.simpleType=this.app.getResource(this.libraryId,"language-layerstyles-symbology-simple");this.attributeType=
this.app.getResource(this.libraryId,"language-layerstyles-symbology-attribute");this.availableSymbologyTypes.addItem(this.simpleType);this.availableSymbologyTypes.addItem(this.attributeType);this.symbologyType.set(this.simpleType);this.symbolizeByAttribute.syncTransform(this.symbologyType,function(a){return a===c.attributeType})};return b}(d.framework.ui.ViewModelBase);f.LayerStyleSelectorViewModel=g})(f.layerStyles||(f.layerStyles={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){f.CUSTOM_STYLE_ID="__CUSTOM__";var g=function(l){function b(){l.apply(this,arguments);this.defaultRenderers={};this.initialized=!1;this.symbolizableDataTypes=[d.essentials.EssentialsFieldTypes.essentialsFieldTypeDate,d.essentials.EssentialsFieldTypes.essentialsFieldTypeDouble,d.essentials.EssentialsFieldTypes.essentialsFieldTypeInteger,d.essentials.EssentialsFieldTypes.essentialsFieldTypeSingle,d.essentials.EssentialsFieldTypes.essentialsFieldTypeSmallInteger,
d.essentials.EssentialsFieldTypes.essentialsFieldTypeString]}__extends(b,l);b.prototype.initialize=function(){var a=this;this.app.command("ResymbolizeLayer").register(this,this.executeResymbolizeLayer,function(){return a.initialized});this.app.command("RemoveSymbolization").register(this,this.executeRemoveSymbolization,function(){return a.initialized});this.app.event("LayerListInitializedEvent").once(this,function(){a.populateDefaultRenderers();a.app.event("LayerAddedEvent").subscribe(a,function(c,
e){a.storeMapServiceRenderers(e)});a.app.event("CatalogLayerAddedEvent").subscribe(a,function(c){a.storeMapServiceRenderers(c.mapService)})});this.app.event("CustomSymbolizationStartedEvent").subscribe(this,function(c){c!==a.currentLayer&&(a.applyConfiguration(c),a.currentLayer=c)});this.app.event("ProjectLoadedEvent").subscribe(this,function(){a.currentLayer=null;setTimeout(function(){for(var c=0,e=a.app.site.essentialsMap.allLayers();c<e.length;c++){var k=e[c];(k.mapService.serviceLayer instanceof
esri.layers.FeatureLayer||k.mapService.serviceLayer instanceof esri.layers.ArcGISDynamicMapServiceLayer)&&k.styles.some(function(a){return a.enabled})&&a.app.event("LayerVisualizationChangedEvent").publish(k)}},1E3)})};b.prototype.executeRemoveSymbolization=function(a){a=this._getGeocortexLayer(a.gcxLayer);for(var c=a.mapService.serviceLayer,e=a.mapService.id,k=a.id,b=0,n=a.styles;b<n.length;b++)n[b].enabled=!1;c instanceof esri.layers.ArcGISDynamicMapServiceLayer?(b=(c.layerDrawingOptions||[]).slice(),
n=void 0,n=b[k]?b[k]:new esri.layers.LayerDrawingOptions,n.renderer=this.defaultRenderers[e]&&this.defaultRenderers[e][k]?esri.renderer.fromJson(JSON.parse(this.defaultRenderers[e][k])):null,b[k]=n,c.setLayerDrawingOptions(b)):c instanceof esri.layers.FeatureLayer&&this.defaultRenderers[e]&&(e=esri.renderer.fromJson(JSON.parse(this.defaultRenderers[e])),e instanceof esri.renderer.Renderer&&(c.setRenderer(e),c.redraw()));this.app.event("LayerVisualizationChangedEvent").publish(a)};b.prototype.executeResymbolizeLayer=
function(a){if(a.gcxLayer&&a.renderer){var c=this._getGeocortexLayer(a.gcxLayer),e=c.mapService.serviceLayer;a=this._getRenderer(a.renderer);var k=!1;c.mapService.featureClustering&&c.mapService.featureClustering.enabled&&(this.app.command("RemoveClusterLayer").execute({gcxLayer:c}),k=!0);c.mapService.heatMap&&c.mapService.heatMap.enabled&&this.app.command("RemoveHeatMap").execute({gcxLayer:c});if(e instanceof esri.layers.ArcGISDynamicMapServiceLayer){var k=(e.layerDrawingOptions||[]).slice(),b=void 0,
b=k[c.id]?k[c.id]:new esri.layers.LayerDrawingOptions;b.renderer=a;k[c.id]=b;e.setLayerDrawingOptions(k)}else e instanceof esri.layers.FeatureLayer&&(e.setRenderer(a),c.isUserCreated||k?e.refresh():e.redraw());this.app.event("LayerVisualizationChangedEvent").publish(c)}};b.prototype.applyConfiguration=function(a){var c=this,e=this.app.viewManager.getViewById("LayerStyleSelectorView"),k=e.viewModel,b=e.symbologySettingsWidget.viewModel,n=e.attributeSettingsWidget.viewModel,l,g=a.mapService.serviceLayer;
e.reset();b.noMarker.set("Point"!==a.featureType);n.noMarker.set("Point"!==a.featureType);b.noFill.set("Polygon"!==a.featureType);n.featureType=a.featureType;g instanceof esri.layers.ArcGISDynamicMapServiceLayer?n.attributes.set(a.fields.filter(function(e){return-1<c.symbolizableDataTypes.indexOf(e.dataType)&&e.name!==(a.primaryKeyField?a.primaryKeyField.name:"OBJECTID")&&e.visible&&e.dataType!==d.essentials.EssentialsFieldTypes.essentialsFieldTypeDate})):n.attributes.set(a.fields.filter(function(e){return-1<
c.symbolizableDataTypes.indexOf(e.dataType)&&e.name!==(a.primaryKeyField?a.primaryKeyField.name:"OBJECTID")&&e.visible}));k.name.set(f.CUSTOM_STYLE_ID);if(g=a.styles.filter(function(a){return a.id===f.CUSTOM_STYLE_ID})[0])l=g.getRenderer(),g.isSimple()?(b.setFromRenderer(l),k.symbologyType.set(k.simpleType)):(n.setFromRenderer(l),k.symbologyType.set(k.attributeType),k=n.attributes.getItems().filter(function(a){return a.name===c._getAttribute(l)})[0],e.attributeSettingsWidget.attributeInput.selectedIndex=
n.attributes.indexOf(k)+1,n.currentAttribute.set(k.displayName));e.attributeSettingsWidget.applyConfiguration();e.symbologySettingsWidget.applyConfiguration()};b.prototype.populateDefaultRenderers=function(){for(var a=0,c=this.app.site.essentialsMap.mapServices;a<c.length;a++)this.storeMapServiceRenderers(c[a]);this.initialized=!0};b.prototype.storeMapServiceRenderers=function(a){var c=a.serviceLayer;if(c instanceof esri.layers.FeatureLayer&&!this.defaultRenderers[a.id])if(a.heatMap&&a.heatMap.defaultRenderer&&
JSON.stringify(a.heatMap.defaultRenderer.toJson()))this.defaultRenderers[a.id]=JSON.stringify(a.heatMap.defaultRenderer.toJson());else if(a.featureClustering&&a.featureClustering.enabled){var e=this.app.map.graphicsLayerIds.filter(function(a){return a===c.id+"-cluster"});0<e.length&&(e=this.app.map.getLayer(e[0]))&&e.featureLayerRenderer&&JSON.stringify(e.featureLayerRenderer.toJson())&&(this.defaultRenderers[a.id]=JSON.stringify(e.featureLayerRenderer.toJson()))}else c.renderer&&JSON.stringify(c.renderer.toJson())&&
(this.defaultRenderers[a.id]=JSON.stringify(c.renderer.toJson()));if(c instanceof esri.layers.ArcGISDynamicMapServiceLayer){var e=[],k;for(k in c.layerDrawingOptions)c.layerDrawingOptions.hasOwnProperty(k)&&c.layerDrawingOptions[k].renderer&&(this.defaultRenderers[a.id]&&this.defaultRenderers[a.id][k]?this.defaultRenderers[a.id]&&(e[k]=this.defaultRenderers[a.id][k]):e[k]=JSON.stringify(c.layerDrawingOptions[k].renderer.toJson()));this.defaultRenderers[a.id]=e}};b.prototype._getAttribute=function(a){a=
a.toJson();return a.field?a.field:a.field1?a.field1:""};b.prototype._getGeocortexLayer=function(a){return"string"===typeof a?this.app.site&&this.app.site.essentialsMap?this.app.site.essentialsMap.allLayers().filter(function(c){return a===c.mapService.id})[0]:null:a};b.prototype._getRenderer=function(a){return"string"===typeof a?esri.renderer.fromJson(JSON.parse(a)):a};return b}(d.framework.application.ModuleBase);f.LayerStylesModule=g})(f.layerStyles||(f.layerStyles={}))})(f.modules||(f.modules={}))})(g.mapping||
(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(h){var g=function(d){function b(a,c){d.call(this,a,c);this.displayName=this.app.getResource(c,"language-layerstyles-name")}__extends(b,d);b.prototype.canSupport=function(a){return a.allowSymbolization&&"None"!==a.featureType&&(a.mapService.serviceLayer instanceof esri.layers.ArcGISDynamicMapServiceLayer&&a.mapService.serviceLayer.supportsDynamicLayers||a.mapService.serviceLayer instanceof esri.layers.FeatureLayer)?!0:!1};b.prototype.handleCurrentLayerChanged=
function(a){this.isEnabled.set(a.styles?a.styles.some(function(a){return a.enabled&&a.id!==h.CUSTOM_STYLE_ID}):!1);this.isSupported.set(this.canSupport(a));this.visualizations=[];var c=0;for(a=a.styles.filter(function(a){return a.id!==h.CUSTOM_STYLE_ID});c<a.length;c++){var e=a[c],k={provider:this,name:e.displayName,id:e.id};this.visualizations.push(k);e.enabled&&(this.enabledVisualization=k)}};b.prototype.handleActivate=function(a){for(var c=this.currentLayer.get(),e=c.styles.filter(function(c){return c.id===
a.id})[0],k=0,b=c.styles;k<b.length;k++)b[k].enabled=!1;e&&(this.enabledVisualization=a,e.enabled=!0,this.app.command("ResymbolizeLayer").execute({gcxLayer:c,renderer:e.getRenderer()}))};b.prototype.handleApply=function(){this.handleActivate(this.enabledVisualization)};return b}(d.infrastructure.visualization.VisualizationProviderBase);h.LayerStylesVisualizationProvider=g})(g.layerStyles||(g.layerStyles={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){function d(b,a){this.services=a;this.setName(b)}d.prototype.setName=function(b){this.name=b;this.displayName=b+" ("+(this.services||[]).length+")"};return d}();d.ServiceConnectionItem=f})(d.layerAddition||(d.layerAddition={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c);this.registerCommands()}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a);this.viewModel=a};b.prototype.registerCommands=function(){var a=this;this.app.command("ShowLayerPropertiesView").register(this,this.showLayerPropertiesView,this.canExecuteShowLayerPropertiesView);this.app.command("HideLayerPropertiesView").register(this,function(){a.isActive&&a.app.viewManager.deactivateView(a)})};
b.prototype.canExecuteShowLayerPropertiesView=function(a){return a&&a.isUserCreated&&String.isNullOrEmpty(a.catalogId)};b.prototype.showLayerPropertiesView=function(a){this.viewModel.obsLayer.set(a);this.title.set(this.getResource("language-layer-addition-layer-properties"));this.app.command("ActivateView").execute(this.id)};b.prototype.handleClickButtonOK=function(a,c,e){this.viewModel.applyChanges();this.app.viewManager.deactivateView(this)};b.prototype.handleClickButtonCancel=function(a,c,e){this.app.viewManager.deactivateView(this)};
return b}(d.framework.ui.ViewBase);f.LayerPropertiesView=g})(f.layerAddition||(f.layerAddition={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(h){var g=function(d){function b(a,c){d.call(this,a,c);this.autoCompleteMinPrefixLength=3;this.autoCompleteMinPopulateDelay=300;this.autoCompleteMaxEntries=10;this.app.command("AddMapLayerInteractive").register(this,this.show,this._canExecuteAddMapLayerInteractive)}__extends(b,d);b.prototype.added=function(a){d.prototype.added.call(this,a);this._setupAutoComplete()};b.prototype.show=function(){this.viewModel&&this.viewModel.reset();this.app.viewManager.activateView(this)};
b.prototype.getSuggestions=function(a,c){var e=this;void 0===c&&(c=this.autoCompleteMaxEntries);return this.viewModel.searchFragment.getSuggestions(a).then(function(a){return 0<c?e._clampResults(a,c):a}).then(function(a){return a.sort()})["catch"](function(a){return[]})};b.prototype.findServices=function(a){var c=this;return this.viewModel.searchFragment.findServices(a).then(function(e){return c.saveState(a,e)}).then(function(){return c.goNext()})["catch"](function(a){c.app.trace.error("Service Discovery - Error searching for services: "+
a.message);return null})};b.prototype.handleSearchClick=function(a,c,e){this._closeAutoComplete();this.findServices(this.viewModel.searchFragment.searchText.get())};b.prototype.handleCancelClick=function(a,c,e){this.viewModel.reset();this.app.viewManager.deactivateView(this)};b.prototype.saveState=function(a,c){var e=this.viewModel.getCurrentState();e.searchText=a;e.serviceConnections=c};b.prototype.goNext=function(){for(var a=0;a<arguments.length;a++);this.app.command("LayerAddition_PerformSearch").execute()};
b.prototype.handleKeyDown=function(a,c,e){a=a.which?a.which:a.keyCode;if(this._isSpecialChar(a))return!0;a===dojo.keys.ENTER&&(this._closeAutoComplete(),this.findServices(this.viewModel.searchFragment.searchText.get()));return!0};b.prototype._canExecuteAddMapLayerInteractive=function(){return this.viewModel&&this.viewModel.supported&&!this.app.isOffline.get()};b.prototype._setupAutoComplete=function(){var a=this,c={minLength:this.autoCompleteMinPrefixLength,delay:this.autoCompleteMinPopulateDelay,
source:function(c,k){a._handleAutoCompleteSearch(c,k)},select:function(c,k){a._handleAutoCompleteSelect(c,k);return!1}};$(this.autoCompleteInput).autocomplete(c)};b.prototype._handleAutoCompleteSearch=function(a,c){this.getSuggestions(a.term,this.autoCompleteMaxEntries).then(function(a){return c(a)})["catch"](function(a){return c([])})};b.prototype._handleAutoCompleteSelect=function(a,c){this.viewModel.searchFragment.searchText.set(c.item.value)};b.prototype._closeAutoComplete=function(){$(this.autoCompleteInput).autocomplete("close")};
b.prototype._clampResults=function(a,c){return a&&0<a.length?a.slice(0,c):[]};b.prototype._isSpecialChar=function(a){switch(a){case dojo.keys.TAB:case dojo.keys.SHIFT:case dojo.keys.CTRL:case dojo.keys.ALT:case dojo.keys.PAUSE:case dojo.keys.CAPS_LOCK:case dojo.keys.ESCAPE:case dojo.keys.PAGE_UP:case dojo.keys.PAGE_DOWN:case dojo.keys.END:case dojo.keys.HOME:case dojo.keys.LEFT_ARROW:case dojo.keys.UP_ARROW:case dojo.keys.RIGHT_ARROW:case dojo.keys.DOWN_ARROW:case dojo.keys.NUM_LOCK:case dojo.keys.SCROLL_LOCK:case dojo.keys.INSERT:return!0}return!1};
return b}(d.infrastructure.ui.components.WizardPanel.WizardFragmentView);h.AddLayerDialogView=g})(g.layerAddition||(g.layerAddition={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c,e){d.call(this,c,e);this.disabled=new Observable(!1);this.searchText=new Observable(null);this.owner=a}__extends(b,d);b.prototype.reset=function(){this.disabled.set(!1);this.searchText.set(null)};b.prototype.getSuggestions=function(a){return Promise.resolve(this.owner.getServiceDiscoveryProvider().suggestHints(a))};b.prototype.findServices=function(a){return Promise.resolve(this.owner.getServiceDiscoveryProvider().findServices(a))};
return b}(d.framework.ui.ViewModelBase);f.AddLayerDialogViewModel=g})(f.layerAddition||(f.layerAddition={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){h.ERROR_CANCELLED="LayerAdditionError/Cancelled";h.ERROR_INVALID_SERVICE_METADATA="LayerAdditionError/InvalidServiceMetadata";h.ERROR_CANNOT_ZOOM_TO_LAYER_EXTENT="LayerAdditionError/CannotZoomToLayerExtent";var g=function(l){function b(a,c){l.call(this,a,c);this.supported=this.initialized=!1;this.statusMessageViewId="LayerAdditionStatusMessageView";this.statusMessageRegionName="LayerListStatusMessageRegion";this.smartOrderUserAddedLayers=
this.zoomToUserAddedLayers=!0;this.layerDefaults={insertPosition:"top",searchable:!0,identifiable:!0,showMapTips:!0};this._wizardState={searchText:void 0,serviceConnections:void 0,selectedConnection:void 0,selectedMapServiceItem:void 0,selectedSubLayerItem:void 0,mapServices:void 0};this.searchFragment=new h.AddLayerDialogViewModel(this,a,c);this.serviceConnectionsFragment=new h.ServiceConnectionsDialogViewModel(this,a,c);this.mapServicesFragment=new h.MapServicesDialogViewModel(this,a,c);this.subLayersFragment=
new h.SubLayersDialogViewModel(this,a,c)}__extends(b,l);b.prototype.initialize=function(a,c){var e=this;l.prototype.initialize.call(this,a);a=a||{};this.zoomToUserAddedLayers=void 0!=a.zoomToUserAddedLayers?a.zoomToUserAddedLayers:this.zoomToUserAddedLayers;this.smartOrderUserAddedLayers=void 0!=a.smartOrderUserAddedLayers?a.smartOrderUserAddedLayers:this.smartOrderUserAddedLayers;var k=a.layerDefaults;void 0!=k&&(this.layerDefaults.insertPosition=void 0!=k.insertPosition?k.insertPosition:this.layerDefaults.insertPosition,
this.layerDefaults.searchable=void 0!=k.searchable?k.searchable:this.layerDefaults.searchable,this.layerDefaults.identifiable=void 0!=k.identifiable?k.identifiable:this.layerDefaults.identifiable,this.layerDefaults.showMapTips=void 0!=k.showMapTips?k.showMapTips:this.layerDefaults.showMapTips);this._registerCommandsAndEvents();this._initProvider(c).then(function(a){e.setServiceDiscoveryProvider(a);e.initialized=!0;e.supported=!0;a instanceof d.essentials.serviceDiscovery.SiteServiceDiscoveryProvider&&
(e.supported=a.supported);return a}).lastly(function(){return e._raiseCanExecuteChanged()})};b.prototype._initProvider=function(a){var c=this;return a?Promise.resolve(a):this.app.waitUntilSiteInitialized().then(function(){var a=new d.essentials.serviceDiscovery.SiteServiceDiscoveryProvider;a.initialize(c.app.site);return a})};b.prototype.getCurrentState=function(){return this._wizardState};b.prototype.getServiceDiscoveryProvider=function(){return this._serviceDiscovery};b.prototype.setServiceDiscoveryProvider=
function(a){this._serviceDiscovery=a};b.prototype._registerCommandsAndEvents=function(){};b.prototype._raiseCanExecuteChanged=function(){this.app.command("AddMapLayerInteractive").raiseCanExecuteChanged()};b.prototype.reset=function(){this.searchFragment.reset();this.serviceConnectionsFragment.reset();this.mapServicesFragment.reset();this.subLayersFragment.reset();this._wizardState={searchText:void 0,serviceConnections:void 0,selectedConnection:void 0,selectedMapServiceItem:void 0,selectedSubLayerItem:void 0,
mapServices:void 0}};b.prototype.canSaveProject=function(){var a=this;return new Promise(function(c){var e=a.app.command("SaveProject").canExecute();return c(e)})};b.prototype.zoomTo=function(a){var c=this,e=[];a instanceof d.essentials.KmlService?(a=a.serviceLayer.getLayers(),e.push.apply(e,a)):e.push.apply(e,a.layers);a=[];for(var k=0;k<e.length;k++){var b=e[k];b.fullExtent&&f.infrastructure.GeometryUtils.isValidGeometry(b.fullExtent)&&a.push(b.fullExtent)}return f.infrastructure.GeometryUtils.unionGeometries(a).then(function(a){return c._convertToExtent(a)}).then(function(a){return a&&
c.app.command("ZoomToExtent").execute(a)})["catch"](function(a){a=Error(a.message);a.name=h.ERROR_CANNOT_ZOOM_TO_LAYER_EXTENT;throw a;})};b.prototype._convertToExtent=function(a){switch(a?a.type:null){case "extent":return a;case "polygon":case "polyline":return a.getExtent();default:return null}};b.prototype.switchToLayerList=function(a,c){var e=this;return new Promise(function(a){e.app.command("SwitchToLayerView").execute();c&&e.addStatus(c);return a()})};b.prototype.addStatus=function(a,c){if(a){var e=
new f.infrastructure.commandArgs.AddStatusArgs(a);e.id=c||this.statusMessageViewId;e.timeoutMS=0;this.statusMessageRegionName&&(e.regionName=this.statusMessageRegionName);this.app.command("AddStatus").execute(e);return e.id}return null};b.prototype.removeStatus=function(a){this.app.command("RemoveStatus").execute(a||this.statusMessageViewId)};b.prototype.handleError=function(a){a.name!==h.ERROR_CANCELLED&&(a.name===h.ERROR_INVALID_SERVICE_METADATA?this.app.command("Alert").execute(this.getResource("language-layer-addition-error-no-service-metadata-message"),
this.getResource("language-layer-addition-error-no-service-metadata")):a.name===h.ERROR_CANNOT_ZOOM_TO_LAYER_EXTENT?this.app.trace.warning(this.getResource("language-layer-addition-error-cannot-zoom-to-layer")):/The ID .* is not the well-known ID of a supported coordinate system\./.test(a.message)?this.app.command("Alert").execute(this.getResource("language-layer-addition-error-unsupported-wkid-message"),this.getResource("language-layer-addition-error-unsupported-wkid")):(this.app.trace.error(a.message,
a),this.app.command("Alert").execute(this.getResource("language-layer-addition-error-message"),this.getResource("language-layer-addition-error"))));return Promise.reject(a)};return b}(d.framework.ui.ViewModelBase);h.LayerAdditionViewModel=g})(g.layerAddition||(g.layerAddition={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(h){var g=function(d){function b(a,c){d.call(this,a,c);this.app.command("LayerAddition_ListMapServices").register(this,this.show)}__extends(b,d);b.prototype.show=function(){this.loadState();this.app.viewManager.activateView(this)};b.prototype.loadState=function(){var a=this.viewModel.getCurrentState().selectedConnection,c=this.viewModel.mapServicesFragment;c.reset();c.process(a)};b.prototype.saveState=function(a){this.viewModel.getCurrentState().selectedMapServiceItem=
a};b.prototype.goNext=function(){for(var a=0;a<arguments.length;a++);this.app.command("LayerAddition_ExpandMapService").execute()};b.prototype.handleItemClick=function(a,c,e){this.saveState(e);this.goNext()};b.prototype.handleAddServiceClick=function(a,c,e){var k=this;this.saveState(e);var b=this.viewModel.mapServicesFragment;this._confirmBeforeAdding(e).then(function(a){return b.realizeMapService(a)}).then(function(a){return k._verifyMapService(a)}).then(function(a){return k._addToMap(a)}).then(function(a){return k.viewModel.switchToLayerList(a,
k.getResource("language-layer-addition-success"))["return"](a)}).then(function(a){return k._zoomToFullExtent(a)})["catch"](function(a){return k.viewModel.handleError(a)})["finally"](function(){return k.finishWizard()})};b.prototype._confirmBeforeAdding=function(a){var c=this;return this.viewModel.canSaveProject().then(function(e){return a.originalItem&&a.originalItem.isWhitelisted?Promise.resolve(a):new Promise(function(k,b){var d=c.getResource("language-layer-addition-confirm-add-layer"),f;f=e?c.getResource("language-layer-addition-confirm-add-layer-message"):
c.getResource("language-layer-addition-confirm-add-layer-message-anonymous");c.app.command("Confirm").execute(f,d,function(c){if(c)return k(a);c=Error("Layer addition process was cancelled.");c.name=h.ERROR_CANCELLED;return b(c)})})})};b.prototype._addToMap=function(a){this.app.command("AddMapService").execute(a);return a};b.prototype._zoomToFullExtent=function(a){return this.viewModel.zoomToUserAddedLayers?this.viewModel.zoomTo(a)["return"](a):Promise.resolve(a)};b.prototype._verifyMapService=function(a){if(!a)throw Error("Layer Addition: could not get metadata for service.");
return a};return b}(d.infrastructure.ui.components.WizardPanel.WizardFragmentView);h.MapServicesDialogView=g})(g.layerAddition||(g.layerAddition={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(h){var g=function(d){function b(a,c){d.call(this,a,c);this.app.command("LayerAddition_ExpandMapService").register(this,this.show)}__extends(b,d);b.prototype.show=function(){this.loadState();this.app.viewManager.activateView(this)};b.prototype.loadState=function(){var a=this.viewModel.getCurrentState().selectedMapServiceItem,c=this.viewModel.subLayersFragment;c.reset();c.process(a)};b.prototype.saveState=function(a){this.viewModel.getCurrentState().selectedSubLayerItem=
a};b.prototype.goNext=function(a){this.finishWizard()};b.prototype.handleAddLayerClick=function(a,c,e){var k=this;this.saveState(e);var b=this.viewModel.subLayersFragment;this._confirmBeforeAdding(e).then(function(a){return b.realizeFeatureLayer(a)}).then(function(a){return k._verifyMapService(a)}).then(function(a){return k._addToMap(a)}).then(function(a){return k.viewModel.switchToLayerList(a,k.getResource("language-layer-addition-success"))["return"](a)}).then(function(a){return k._zoomToFullExtent(a)})["catch"](function(a){return k.viewModel.handleError(a)})["finally"](function(){return k.finishWizard()})};
b.prototype._confirmBeforeAdding=function(a){var c=this;return this.viewModel.canSaveProject().then(function(e){return a.originalItem&&a.originalItem.isWhitelisted?Promise.resolve(a):new Promise(function(k,b){var d=c.getResource("language-layer-addition-confirm-add-layer"),f;f=e?c.getResource("language-layer-addition-confirm-add-layer-message"):c.getResource("language-layer-addition-confirm-add-layer-message-anonymous");c.app.command("Confirm").execute(f,d,function(c){if(c)return k(a);c=Error("Layer addition process was cancelled.");
c.name=h.ERROR_CANCELLED;return b(c)})})})};b.prototype._addToMap=function(a){this.app.command("AddMapService").execute(a);return a};b.prototype._zoomToFullExtent=function(a){return this.viewModel.zoomToUserAddedLayers?this.viewModel.zoomTo(a)["return"](a):Promise.resolve(a)};b.prototype._verifyMapService=function(a){if(!a)throw Error("Layer Addition: could not get metadata for service.");return a};return b}(d.infrastructure.ui.components.WizardPanel.WizardFragmentView);h.SubLayersDialogView=g})(g.layerAddition||
(g.layerAddition={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(h){var g=function(d){function b(a,c){d.call(this,a,c);this.app.command("LayerAddition_PerformSearch").register(this,this.show)}__extends(b,d);b.prototype.show=function(){this.loadState();this.app.viewManager.activateView(this)};b.prototype.loadState=function(){var a=this.viewModel.getCurrentState().serviceConnections;this.viewModel.serviceConnectionsFragment.process(a)};b.prototype.saveState=function(a){this.viewModel.getCurrentState().selectedConnection=
a};b.prototype.goNext=function(){for(var a=0;a<arguments.length;a++);this.app.command("LayerAddition_ListMapServices").execute()};b.prototype.handleItemClick=function(a,c,e){this.saveState(e);this.goNext()};return b}(d.infrastructure.ui.components.WizardPanel.WizardFragmentView);h.ServiceConnectionsDialogView=g})(g.layerAddition||(g.layerAddition={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c,e){d.call(this,c,e);this.disabled=new Observable(!1);this.serviceResults=new ObservableCollection;this.owner=a}__extends(b,d);b.prototype.process=function(a){var c=this,e=a.services;a=function(){var a=e[b];k.getChildren(a).then(function(e){var k=new f.MapServiceItem(a,e);e||(k.disabled=!0);c.serviceResults.addItem(k)})};for(var k=this,b=0;b<e.length;b++)a()};b.prototype.getChildren=function(a){var c=
this;return Promise.resolve(this.owner.getServiceDiscoveryProvider().expandService(a)).then(function(a){var c=[];if(null==a)return null;a.children.length&&a.children.forEach(function(a){/\/[0-9]+$/.test(a.url)&&(a.serviceType.find(function(a){return/GroupLayer/.test(a)})?a.children.forEach(function(a){c.push(a)}):c.push(a))});return c})["catch"](function(a){c.app.trace.error("Service Discovery - Error expanding map service: "+a.message);return null})};b.prototype.realizeMapService=function(a){return Promise.resolve(this.owner.getServiceDiscoveryProvider().realizeMapService(a.originalItem,
this.app.map.spatialReference.wkid.toString()))};b.prototype.reset=function(){this.serviceResults.clear();this.disabled.set(!1)};return b}(d.framework.ui.ViewModelBase);f.MapServicesDialogViewModel=g})(f.layerAddition||(f.layerAddition={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c,e){d.call(this,c,e);this.disabled=new Observable(!1);this.subLayers=new ObservableCollection;this.owner=a}__extends(b,d);b.prototype.reset=function(){this.subLayers.clear();this.disabled.set(!1)};b.prototype.process=function(a){if(a=a.layers)for(var c=0;c<a.length;c++){var e=new f.SubLayerItem(a[c]);this.subLayers.addItem(e)}};b.prototype.realizeFeatureLayer=function(a){return Promise.resolve(this.owner.getServiceDiscoveryProvider().realizeMapService(a.originalItem,
this.app.map.spatialReference.wkid.toString()))};return b}(d.framework.ui.ViewModelBase);f.SubLayersDialogViewModel=g})(f.layerAddition||(f.layerAddition={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c,e){d.call(this,c,e);this.disabled=new Observable(!1);this.serviceConnections=new ObservableCollection;this.owner=a}__extends(b,d);b.prototype.reset=function(){this.serviceConnections.clear();this.disabled.set(!1)};b.prototype.process=function(a){this.reset();for(var c=[],e=[],k=[],b=[],d=[],f=[],l=[],h=[],g=[],m=[],p=0;p<a.length;p++){var r=a[p];switch(r.discoveryProviderName){case "BingMapsDiscoveryProvider":this.findMapServices(r,
c);break;case "VoyagerDiscoveryProvider":this.findMapServices(r,e);break;case "ArcGisOnlineDiscoveryProvider":this.findMapServices(r,k);break;case "ArcGisPortalDiscoveryProvider":this.findMapServices(r,b);break;case "GeoRssDiscoveryProvider":this.findMapServices(r,f);break;case "WmsDiscoveryProvider":this.findMapServices(r,l);break;case "WmtsDiscoveryProvider":this.findMapServices(r,h);break;case "ArcGisServerDiscoveryProvider":this.findMapServices(r,g);break;case "WebTiledLayerDiscoveryProvider":this.findMapServices(r,
d);break;default:this.findMapServices(r,m)}}this._addServiceConnection(c,this.getResource("language-layer-addition-bing-map-name"));this._addServiceConnection(e,this.getResource("language-layer-addition-voyager-search-name"));this._addServiceConnection(k,this.getResource("language-layer-addition-arcgis-online-name"));this._addServiceConnection(b,this.getResource("language-layer-addition-arcgis-portal-name"));this._addServiceConnection(h,this.getResource("language-layer-addition-wmts-name"));this._addServiceConnection(d,
this.getResource("language-layer-addition-webtiled-name"));this._addServiceConnection(f,this.getResource("language-layer-addition-georss-name"));this._addServiceConnection(l,this.getResource("language-layer-addition-wms-name"));this._addServiceConnection(g,this.getResource("language-layer-addition-arcgis-server-name"));this._addServiceConnection(m,this.getResource("language-layer-addition-general-name"))};b.prototype._addServiceConnection=function(a,c){if(a&&0<a.length){var e=new f.ServiceConnectionItem(c,
a);this.serviceConnections.addItem(e)}};b.prototype.findMapServices=function(a,c){var e=this;a.serviceType.find(function(a){return/Catalog/.test(a)})?a.children.forEach(function(a){e.findMapServices(a,c)}):c.push(a)};return b}(d.framework.ui.ViewModelBase);f.ServiceConnectionsDialogViewModel=g})(f.layerAddition||(f.layerAddition={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(){function f(b,a){this.layerListResolved=$.Deferred();this.app=b;this.libraryId=a}f.prototype.initialize=function(b){var a=this;this.app.event("LayerListInitializedEvent").once(this,function(c){a.layerList=c;a.layerListResolved.resolve()})};f.geocortexRequest=function(b){var a=$.Deferred();d.request({url:b,content:{f:"json"},load:a.resolve,error:a.reject,callbackParamName:"Callback"});return a.promise()};f.prototype._geocortexRequest=
function(b){return f.geocortexRequest(b)};f.prototype.executeGetLayerCatalog=function(b){b.reject()};f.prototype.canExecuteGetLayerCatalog=function(b){return!1};f.prototype.restoreMapService=function(b){};f.prototype.executeGetLayerCatalogDetails=function(b,a){b.reject()};f.prototype.canExecuteGetLayerCatalogDetails=function(b,a){return!1};f.prototype.executeApplyLayerCatalogDetails=function(b){};f.prototype.canExecuteApplyLayerCatalogDetails=function(b){return!1};f.prototype.executeClearLayerCatalogLayers=
function(){};f.prototype.executeGetLayerCatalogMapServiceIds=function(b){b.reject()};f.prototype.canShowLayerCatalog=function(){return!1};f.prototype.getState=function(){return null};f.prototype.reset=function(b){};f.prototype.executeRemoveLayerCatalogItem=function(b){};f.prototype._hackRefreshModules=function(b){var a=this.app.site.getMap();(b=a.getLayer(b))&&a.removeLayer(b);b._img=null;a.addLayer(b)};return f}();f.BaseProvider=g})(f.layerCatalog||(f.layerCatalog={}))})(f.modules||(f.modules={}))})(g.mapping||
(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(l){function b(){l.apply(this,arguments);this.smartOrderUserAddedLayers=!0;this.flattenedList=[]}__extends(b,l);b.prototype.initialize=function(a){l.prototype.initialize.call(this,a);this.app.command("RestoreDynamicLayer").register(this,this.restoreDynamicLayers);this.app.event("ProjectLoadingEvent").subscribe(this,this.executeClearLayerCatalogLayers)};b.prototype.smartOrderUserAddedLayersWhileLoadingProject=function(a,
c){var e=[];e.push(c);e=this._getOrderedLayerIdArray(a.layers,e);a.add(c);this._setDynamicLayerInfosWithSmartOrderedLayers(a,e)};b.prototype.restoreDynamicLayers=function(a){var c=a.gcxLayerDefinition,e=a.mapService,k=new d.essentials.Layer(c.url);k.createFromDefinition(c);k.isUserCreated=!0;k.catalogId=k.id;this.smartOrderUserAddedLayers?this.smartOrderUserAddedLayersWhileLoadingProject(e,k):e.add(k);this.app.event("MapServiceLayersChangedWithResultEvent").publish({mapService:e,newItems:[].concat([k]),
oldItems:[].concat([])});this.app.event("MapServiceLayersChangedEvent").publish(e);a.callback(k)};b.prototype.executeGetLayerCatalog=function(a){this.app.site.getLayerCatalog(new d.essentials.catalog.LayerCatalogParams,function(){},function(c){a.resolve(c)},function(c){a.reject(c)})};b.prototype.canExecuteGetLayerCatalog=function(){return this.canShowLayerCatalog()};b.prototype.executeGetLayerCatalogDetails=function(a,c){this.app.site.getLayerCatalogDetails(c,function(){},function(c){a.resolve(c)},
function(c){a.reject(c)})};b.prototype.canExecuteGetLayerCatalogDetails=function(){return this.canExecuteGetLayerCatalog()};b.prototype.getFlatListAfterFiringGetLayerCatalog=function(a){var c=this;if(this.flattenedList&&0<this.flattenedList.length)a.resolve(this.flattenedList);else{var e=$.Deferred();this.executeGetLayerCatalog(e);e.done(function(e){c.flattenedList=c.getFlatEntries(e.catalogs[0].entries);a.resolve(c.flattenedList)})}};b.prototype.restoreMapService=function(a){var c=this,e=a.serviceLayer;
if("WMS"!=e.layerType)a.callback(null);else{var k=[],e=e.layers;if(0<e.length)for(var b=0;b<e.length;b++)k.push(e[b].gcxLayerDefinition.catalogId);var e=$.Deferred(),d=$.Deferred(),f=[];this.getFlatListAfterFiringGetLayerCatalog(e);e.done(function(e){for(var b=0;b<k.length;b++){var q=c.getIdForWMSFromDisplayName(e,k[b]);f.push(q)}e={ids:f};c.app.commandRegistry.command("GetLayerCatalogDetails").execute(d,e);d.done(function(e){c._createNewWmsServices(e.catalogs[0].entries,a.callback)})})}};b.prototype.getIdForWMSFromDisplayName=
function(a,c){for(var e=0;e<a.length;e++)if(a[e].displayName===c)return a[e].id};b.prototype.getFlatEntries=function(a){var c=[];if(0<a.length)for(var e=0;e<a.length;e++)if("folder"===a[e].type){var k=this.getFlatEntries(a[e].entries);if(0<k.length)for(var b=0;b<k.length;b++)c.push(k[b])}else c.push(a[e]);return c};b.prototype.executeApplyLayerCatalogDetails=function(a){if(a&&a.catalogs)for(var c=0;c<a.catalogs.length;c++)if(a.catalogs[c]){var e=a.catalogs[c];this._removeExistingCataLogWmsServices();
this._createNewWmsServices(e.entries);e&&this._createNewDynamicLayers(e)}};b.prototype._createNewDynamicLayers=function(a){var c=a.mapServiceId,e=[],k=new d.essentials.catalog.LayerCatalogDetail;k.mapServiceId=c;for(var b=0;b<a.entries.length;b++)a.entries[b].isDynamic&&e.push(a.entries[b]);k.entries=e;(a=this.app.site.essentialsMap.findMapServiceById(c))&&this._addCatalogLayerToMapService(k,a)};b.prototype._addCatalogLayerToMapService=function(a,c){var e=!1,k=[];if(c.id==a.mapServiceId){for(var b=
0;b<a.entries.length;b++){var n=c.findLayerById(a.entries[b].id);n||(n=new d.essentials.Layer(c.url+"/layers/"+a.entries[b].id),a.entries[b].visible=!0,n.createFromDefinition(a.entries[b]),n.isUserCreated=!0,n.userLayerType=d.essentials.UserLayerType.LAYER_CATALOG,n.includeInLayerList=!0,n.setInActiveTheme(!0),n.catalogId=n.id);k.push(n)}b=c.layers.filter(function(a){return a.isUserCreated&&0>k.indexOf(a)});n=k.filter(function(a){return 0>c.layers.indexOf(a)});b.forEach(function(a){c.remove(a);e=
!0});var f=this._getOrderedLayerIdArray(c.layers,n);n.forEach(function(a){c.add(a);e=!0});this.smartOrderUserAddedLayers&&this._setDynamicLayerInfosWithSmartOrderedLayers(c,f);return e?(this.app.event("MapServiceLayersChangedWithResultEvent").publish({mapService:c,newItems:[].concat(n),oldItems:[].concat(b)}),this.app.event("MapServiceLayersChangedEvent").publish(c),n):[]}};b.prototype._getOrderedLayerIdArray=function(a,c){var e=this._getLayerIDArrayByGeoTypems(a,["point","multipoint"]),k=this._getLayerIDArrayByGeoTypems(a,
["line"]),b=this._getLayerIDArrayByGeoTypems(a,["polygon"]),d=this._getLayerIDArrayByGeoTypems(c,["point","multipoint"]),f=this._getLayerIDArrayByGeoTypems(c,["line"]),l=this._getLayerIDArrayByGeoTypems(c,["polygon"]);return d.concat(e).concat(f).concat(k).concat(l).concat(b)};b.prototype._getLayerIDArrayByGeoTypems=function(a,c){var e=[];a.forEach(function(a){0<=c.indexOf(a.featureType.toLowerCase())&&e.push(a.id)});return e};b.prototype._setDynamicLayerInfosWithSmartOrderedLayers=function(a,c){var e=
a.serviceLayer,k=[],b=[];if(e.dynamicLayerInfos){k=e.dynamicLayerInfos;b=[];c.forEach(function(a){for(var c=null,e=0;e<k.length;e++)if(k[e].id.toString()===a){c=k[e];break}c&&b.push(c)});var d=e.visibleLayers;e.setDynamicLayerInfos(b,!0);0<d.length?e.setVisibleLayers(d,!0):e.setVisibleLayers(["-1"],!0);e.refresh()}};b.prototype.canExecuteApplyLayerCatalogDetails=function(){return this.canExecuteGetLayerCatalog()};b.prototype.canShowLayerCatalog=function(){return this.app.site&&this.app.site.essentialsMap&&
this.app.site.essentialsMap.mapServices&&dojo.some(this.app.site.essentialsMap.mapServices,function(a){return a.hasLayerCatalog})?!0:!1};b.prototype.executeClearLayerCatalogLayers=function(){this._removeExistingCataLogWmsServices();this._removeAllCatalogLayersFromMap()};b.prototype.executeGetLayerCatalogMapServiceIds=function(a){for(var c=[],e=this.app.site.essentialsMap.mapServices,k=0;k<e.length;k++){var b=e[k];b.hasLayerCatalog&&c.push(b.id)}a.resolve(c)};b.prototype._removeExistingCataLogWmsServices=
function(){var a=this.app.site.essentialsMap.mapServices;if(a)for(var c=0;c<a.length;c++)if(a[c].isUserCreated&&a[c].hasLayerCatalog&&a[c].mapServiceType===d.essentials.MapServiceType.WMS){var e=a[c];this.app.site.essentialsMap.getMap().removeLayer(e.serviceLayer);a.splice(c,1);c--;this.app.eventRegistry.event("MapServiceRemovedEvent").publish(e)}};b.prototype._removeAllCatalogLayersFromMap=function(){for(var a=this.app.site.essentialsMap.mapServices,c=0;c<a.length;c++){var e=a[c];if(e.hasLayerCatalog){var k=
new d.essentials.catalog.LayerCatalogDetail;k.mapServiceId=e.id;this.app.site.essentialsMap.applyCatalogLayersChange(k)}}};b.prototype._createNewWmsServices=function(a,c){for(var e={},k=0;k<a.length;k++)if(!a[k].isDynamic)for(var b=0;b<a[k].properties.length;b++)if(a[k].properties[b].name===f.WmsPropertyNames.WMS_SERVICE_URL){var d=a[k].properties[b].value;e[d]||(e[d]=[]);e[d].push(a[k])}for(var E in e)e.hasOwnProperty(E)&&this._createWmsClosure(E,e,c)};b.prototype._createWmsClosure=function(a,c,
e){var k=this,b=new esri.layers.WMSLayer(a),n=dojo.connect(b,"onLoad",function(l){var h=new d.essentials.MapService(l.url);h.mapServiceType=d.essentials.MapServiceType.WMS;h.serviceLayer=l;h.id=k._getUniqueMapServiceId();h.catalogId=h.id;h.isUserCreated=!0;h.userLayerType=d.essentials.UserLayerType.LAYER_CATALOG;h.hasLayerCatalog=!0;h.drawingBehavior="MapService";h.displayName=l.title;h.configuredVisible=!0;h.serverVersion=l.version;h.includeInLayerList=!0;h.mapServiceFunction=d.essentials.MapServiceFunction.OPERATIONAL;
h.essentialsMap=k.app.site.essentialsMap;h.serviceUrl=l.url;h._extendWms();h._handleServiceLayerLoaded(h.serviceLayer);b.visible=!0;b.setImageFormat("image/png");b.setOpacity(l.opacity);for(var g=[],m=0;m<c[a].length;m++){var p=new d.essentials.Layer(a);p.mapService=h;p.createFromDefinition(c[a][m]);p.name=k._getWmsLayerName(c[a][m]);p.wmsLayerName=p.name;k._fillEssLayerFromWmsLayerInfo(p,l.layerInfos);p.id=m.toString();p.includeInLegend=!1;p.isUserCreated=!0;p.userLayerType=d.essentials.UserLayerType.LAYER_CATALOG;
p.includeInLayerList=!0;p.configuredVisible=!0;p._visible=!0;p.catalogId=p.displayName;if(c[a][m]&&c[a][m].properties){var r=c[a][m].properties.filter(function(a){return"catalogDisplayName"==a.name})[0];r&&(p.catalogId=r.value)}g.push(p.id);h.layers.push(p)}b.setVisibleLayers(g);h.essentialsMap.getMap().addLayer(b);k.app.site.essentialsMap.mapServices.push(h);b.show();k.app.eventRegistry.event("MapServiceAddedEvent").publish(h);e&&e(h);dojo.disconnect(n);dojo.disconnect(f)}),f=dojo.connect(b,"onError",
function(a){e&&e(null);dojo.disconnect(n);dojo.disconnect(f);throw Error("Failed to get capabilities for WMS Service.");})};b.prototype._fillEssLayerFromWmsLayerInfo=function(a,c){for(var e=this._flattenWmsLayerInfos(c),k=null,b=0;b<e.length;b++)if(e[b].name.toLowerCase()===a.wmsLayerName.toLowerCase()){k=e[b];break}k&&k.hasOwnProperty("extent")&&(a.fullExtent=k.extent)};b.prototype._flattenWmsLayerInfos=function(a){for(var c=[],e=0;e<a.length;e++){c.push(a[e]);var k=this._flattenWmsLayerInfos(a[e].subLayers);
if(0<k.length)for(var b=0;b<k.length;b++)c.push(k[b])}return c};b.prototype._getUniqueMapServiceId=function(){var a=this.app.site.essentialsMap.mapServices;if(a){var c=[];dojo.forEach(a,function(a){c.push(a.id)});if(0<c.length)return a=Math.max.apply(null,c),a++,a.toString()}return"0"};b.prototype._getWmsLayerName=function(a){if(a)for(var c=0;c<a.properties.length;c++)if(a.properties[c].name===f.WmsPropertyNames.WMS_LAYER_NAME)return a.properties[c].value;return null};b.prototype.executeRemoveLayerCatalogItem=
function(a){var c=[],e=a.mapService;if(e.serviceLayer instanceof esri.layers.ArcGISDynamicMapServiceLayer)e.remove(a),this._hackRefreshModules(e.serviceLayer.id);else if(e.serviceLayer instanceof esri.layers.WMSLayer){a.setVisibility(!1);e.layers.splice(e.layers.indexOf(a),1);if(0==e.layers.length){this.app.site.essentialsMap.mapServices.indexOf(e);this.app.site.essentialsMap.removeMapService(e);this.app.event("MapServiceRemoved").publish(e);return}this._hackRefreshModules(e.serviceLayer.id)}c.push(a);
this.app.event("MapServiceLayersChangedWithResultEvent").publish({mapService:e,newItems:[].concat([]),oldItems:[].concat(c)});this.app.event("MapServiceLayersChangedEvent").publish(e)};return b}(d.essentialsHtmlViewer.mapping.modules.layerCatalog.BaseProvider);f.AssemblyProvider=g})(f.layerCatalog||(f.layerCatalog={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(){f.apply(this,arguments);this.minFilterLength=3;this.autocompleteEnabled=!1}__extends(b,f);b.prototype.attach=function(a){f.prototype.attach.call(this,a);this.configuration&&(this.configuration.hasOwnProperty("minFilterLength")&&(a=parseInt(this.configuration.minFilterLength))&&(this.minFilterLength=a),this.configuration.hasOwnProperty("autocompleteEnabled")&&this.configuration.autocompleteEnabled&&(this.autocompleteEnabled=
!0));this.enableAutoComplete(this.autocompleteEnabled)};b.prototype.activated=function(){this.viewModel.ready()};b.prototype.enableAutoComplete=function(a){if(a){var c=this;$("#lc-filter-input").autocomplete({source:this.viewModel.autocompleteValues,minLength:this.minFilterLength,select:function(a,k){k&&k.item&&k.item.value&&(c.viewModel.filterText.set(k.item.value),c.handleSearch(null,null,null))}})}};b.prototype.handleSearch=function(a,c,e){};b.prototype.handleClickOk=function(a,c,e){this.viewModel.applyChanges();
this.app.commandRegistry.command("DeactivateView").execute("LayerCatalogView");this.app.commandRegistry.command("ShowMap").execute()};b.prototype.handleClickCancel=function(a,c,e){this.app.commandRegistry.command("DeactivateView").execute("LayerCatalogView")};b.prototype._isSpecialChar=function(a){switch(a){case 16:case 17:case 18:case 19:case 20:case 27:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 144:case 145:return!0}return!1};b.prototype.handleShowDetails=function(a,c,
e){a=this.viewModel.infoLinkCommandName;c=new d.essentials.catalog.CatalogEntry;c.id=e.id;c.displayName=e.displayName;c.type=e.type;this.app.commandRegistry.command(a).execute(c)};return b}(d.framework.ui.ViewBase);f.BaseLayerCatalogView=g})(f.layerCatalog||(f.layerCatalog={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(l){function b(a,c){l.call(this,a,c);this.autocompleteValues=[];this.catalogCached=!1;this.showingAll=this.showSelectedButtonText=this.isBusy=this.filterText=this.filteredCatalog=this.clearButtonVisible=null;this.showInfoLink=!1;this.showNotFinishedText=this.showMoreLayersText=this.showNoLayersSelectedText=null;this.layerCatalogProviderFinished=!0;this.showLayerMessageText=null;this.filteredCatalog=new ObservableCollection;
this.isBusy=new Observable(!1);this.filterText=new Observable("");this.showSelectedButtonText=new Observable(a.getResource(c,"language-layer-catalog-show-selected-button"));this.autocompleteValues=[];this.showNoLayersSelectedText=new Observable(!1);this.showMoreLayersText=new Observable(!1);this.showNotFinishedText=new Observable(!1);this.showingAll=new Observable(!0);this.clearButtonVisible=new Observable(!1);this.showLayerMessageText=new Observable(!1)}__extends(b,l);b.prototype.initialize=function(a){var c=
this;l.prototype.initialize.call(this,a);dojo.subscribe("CatalogLayersChangedEvent",this,function(a){a&&c.app.event("MapServiceLayersChangedEvent").publish(a)});this.app.event("OnAddCatalogLayersCommandEvent").subscribe(this,this._handleOnAddCatalogLayersCommandFired);this.app.event("OnAppendCatalogLayersCommandEvent").subscribe(this,this._handleOnAppendCatalogLayersCommandFired);this.app.event("LayerCatalogProviderUpdatedEvent").subscribe(this,this._handleLayerCatalogProviderUpdated);this.app.event("LayerCatalogProviderStartedEvent").subscribe(this,
this._handleLayerCatalogProviderStarted);this.app.event("LayerCatalogProviderFinishedEvent").subscribe(this,this._handleLayerCatalogProviderFinished);this.loadConfiguration(a)};b.prototype.ready=function(){this.showMoreLayersText.set(!1);this._updatedLayerCatalogResults=null;this.catalogCached||this._getLayerCatalog();this._calcShowText()};b.prototype._handleLayerCatalogProviderUpdated=function(a){this.showNotFinishedText.set(!1);this.showMoreLayersText.set(!0);this._updatedLayerCatalogResults=a;
this.catalogCached=!1};b.prototype.refreshLayerCatalog=function(){this._updatedLayerCatalogResults&&(this._onLoadBegin(),this._onLoadCompleted(this._updatedLayerCatalogResults),this.ready())};b.prototype._calcShowText=function(){this.layerCatalogProviderFinished?(this.showNotFinishedText.set(!1),this.showLayerMessageText.set(!1)):(this.showNotFinishedText.set(!0),this.showLayerMessageText.set(!0))};b.prototype._handleLayerCatalogProviderStarted=function(){this.layerCatalogProviderFinished=!1};b.prototype._handleLayerCatalogProviderFinished=
function(){this.layerCatalogProviderFinished=!0};b.prototype.loadConfiguration=function(a){var c=this;if(a){if(a.hasOwnProperty("infoLink")){var e=a.infoLink;e&&(this.showInfoLink=!!e.enabled,e.hasOwnProperty("command")&&(this.infoLinkCommandName=e.command),e.hasOwnProperty("tooltip")&&(this.infoLinkTooltip=e.tooltip),e.hasOwnProperty("text")&&(this.infoLinkText=e.text),e.hasOwnProperty("iconUri")&&(this.infoLinkIconUri=e.iconUri))}if(a.hasOwnProperty("filterProvider")){var k=a.filterProvider;k&&
(this._lazyFilterProvider=new d.framework.ui.LazyObservable(null,function(){var a=dojo.getObject(k.type);if(a)return a=new a(c.app,k.libraryId||c.libraryId),a.initialize(k.configuration||{}),a;c.app.trace.error(c.id+" can't find layer catalog filter provider typed "+k.type)},!0))}}};b.prototype.getFilterProvider=function(){return this._lazyFilterProvider?this._lazyFilterProvider.get():null};b.prototype.catalogLayersInLayerList=function(){var a=this,c=$.Deferred(),e=[],k=$.Deferred();this.app.commandRegistry.command("GetLayerCatalogMapServiceIds").execute(k);
k.done(function(k){var b=[],d={};a.app.site.essentialsMap.mapServices.forEach(function(a){d[a.id]=a});k.forEach(function(a){a=d[a];null!=a&&b.push(a)});for(k=0;k<b.length;k++)for(var f=b[k],h=0;h<f.layers.length;h++)f.layers[h].isUserCreated&&e.push(f.layers[h]);c.resolve(e)}).fail(function(){c.reject()});return c.promise()};b.prototype.syncAddedLayers=function(){var a=this;this._resetCatalogVisibility();this.catalogLayersInLayerList().done(function(c){for(var e=[],k=a._getFlattenedEntries(),b=0;b<
c.length;b++){var d=a._findEntry(c[b],k);d&&(e.push(d),d.isChecked.set(!0))}for(b=0;b<e.length;b++)for(c=0;c<k.length&&e[b]!==k[c];c++);})};b.prototype.uncheckAllEntries=function(){this._resetCatalogVisibility()};b.prototype.applyChanges=function(){var a=this.getCheckedEntries(),c=a.length;if(a&&0<c){for(var e=new d.essentials.catalog.LayerCatalogDetailsParams,k=0;k<c;k++)e.ids.push(a[k].id);this._getLayerCatalogDetails(e)}else this.app.commandRegistry.command("ClearLayerCatalogLayers").execute()};
b.prototype.loadLayerDetails=function(a,c,e){var k=new d.essentials.catalog.LayerCatalogDetailsParams;k.ids.push(a);this.app.site.getLayerCatalogDetails(k,function(){},function(a){if(a&&a.catalogs&&(a=a.catalogs[0],a.entries&&(a=a.entries[0]))){var e=new d.essentials.Layer("detailsLayer");e.createFromDefinition(a);if(a.hasOwnProperty("layerHyperlinks"))for(var k=0;k<a.layerHyperlinks.length;k++)e.layerHyperlinks[k]=new d.essentials.LayerHyperlink(a.layerHyperlinks[k],e);c(e);return}c(null)},function(a){e(a)})};
b.prototype._onLoadCompleted=function(a){this.filteredCatalog.clear();if(a&&a.catalogs)for(var c=0;c<a.catalogs.length;c++)if(a.catalogs[c]){var e=a.catalogs[c];if(e.entries)for(var k=0;k<e.entries.length;k++){var b=f.CatalogEntryViewModel.fromJson(e.entries[k],this.app,this.libraryId);b&&(b.calculateShowGroupCheckbox(f.LayerCatalogModule.instance.checkboxVisibility,f.LayerCatalogModule.instance.checkboxSuffix),this.filteredCatalog.addItem(b))}}this._populateAutocompleteValues();this.syncAddedLayers();
if(this.showInfoLink)for(a=this._getFlattenedEntries(!0),c=0;c<a.length;c++)a[c].infoLinkVisible.set(!0),a[c].infoLinkTooltip.set(this.infoLinkTooltip),a[c].infoLinkText.set(this.infoLinkText),a[c].infoLinkIconUri.set(this.infoLinkIconUri);this.isBusy.set(!1);this.catalogCached=!0};b.prototype._populateAutocompleteValues=function(){for(var a=this._getFlattenedEntries(!0),c=0;c<a.length;c++)this.autocompleteValues.push(a[c].displayName);this.autocompleteValues.sort()};b.prototype._getLayerCatalog=
function(){var a=this;this._onLoadBegin();var c=$.Deferred();this.app.commandRegistry.command("GetLayerCatalog").execute(c);c.done(function(c){a._onLoadCompleted(c)}).fail(function(){a._onLoadError(null)})};b.prototype._getLayerCatalogDetails=function(a){var c=this,e=$.Deferred();this.app.commandRegistry.command("GetLayerCatalogDetails").execute(e,a);e.done(function(a){c.app.commandRegistry.command("ApplyLayerCatalogDetails").execute(a)})};b.prototype._onLoadBegin=function(){this.isBusy.set(!0)};
b.prototype._handleOnAddCatalogLayersCommandFired=function(a){if(a){var c=[],c=a.split(",");a=new d.essentials.catalog.LayerCatalogDetailsParams;for(var e=0;e<c.length;e++)a.ids.push(c[e]);this._getLayerCatalogDetails(a)}};b.prototype._handleOnAppendCatalogLayersCommandFired=function(a){var c=this;if(a){var e=[],e=a.split(","),k=new d.essentials.catalog.LayerCatalogDetailsParams;for(a=0;a<e.length;a++)k.ids.push(e[a]);this.catalogLayersInLayerList().done(function(a){for(var e=c._getFlattenedEntries(!0),
b=0;b<a.length;b++){var d=c._findEntry(a[b],e);d&&(d=d.id,0>k.ids.indexOf(d)&&k.ids.push(d))}});this._getLayerCatalogDetails(k)}};b.prototype._getUniqueMapServiceId=function(){var a=this.app.site.essentialsMap.mapServices;if(a){var c=[];dojo.forEach(a,function(a){c.push(a.id)});if(0<c.length)return a=Math.max.apply(null,c),a++,a.toString()}return"0"};b.prototype._getWmsLayerName=function(a){if(a)for(var c=0;c<a.properties.length;c++)if(a.properties[c].name===f.WmsPropertyNames.WMS_LAYER_NAME)return a.properties[c].value;
return null};b.prototype._resetCatalogVisibility=function(){for(var a=this._getFlattenedEntries(),c=0;c<a.length;c++)a[c].isChecked.set(!1)};b.prototype._onLoadError=function(a){this.isBusy.set(!1);throw Error(a.message);};b.prototype.getCheckedEntries=function(){for(var a=[],c=this._getFlattenedEntries(!0),e=0;e<c.length;e++)c[e].isChecked.get()&&a.push(c[e]);return a};b.prototype._getFlattenedEntries=function(a){return a?this._flattenCollection(this.filteredCatalog,!0):this._flattenCollection(this.filteredCatalog,
!1)};b.prototype._flattenCollection=function(a,c){for(var e=[],k=0;k<a.get().length;k++)if(a.getAt(k).type===f.CatalogEntryType.FOLDER){c||e.push(a.getAt(k));var b=this._flattenCollection(a.getAt(k).entries,c);if(0<b.length)for(var d=0;d<b.length;d++)e.push(b[d])}else e.push(a.getAt(k));return e};b.prototype._findEntry=function(a,c){var e=null,k=a.id,b=a.catalogId;null!=b&&(k=b);for(b=0;b<c.length;b++)if(null!=a.wmsLayerName&&a.mapService.mapServiceType==d.essentials.MapServiceType.WMS){if(c[b].displayName===
(a.properties.catalogDisplayName?a.properties.catalogDisplayName:a.displayName)){e=c[b];break}}else if(c[b].id===k){e=c[b];break}return e};return b}(d.framework.ui.ViewModelBase);f.LayerCatalogViewModelBase=g;(function(d){d[d.all=0]="all";d[d.configuredOnly=1]="configuredOnly";d[d.none=2]="none"})(f.CheckboxVisibility||(f.CheckboxVisibility={}))})(f.layerCatalog||(f.layerCatalog={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(l){function b(a,c){var e=this;l.call(this,a,c);this.folderId=this.showGroupCheckbox=this.infoLinkIconUri=this.infoLinkText=this.infoLinkTooltip=this.infoLinkVisible=this.someChecked=this.allChecked=this.bindingEntries=this.entries=this.visible=this.parent=this.type=this.displayName=this.isChecked=this.expanded=this.id=this.libraryId=null;this.app=a;this.libraryId=c;this.entries=new ObservableCollection;this.isChecked=
new Observable(!1);this.allChecked=new Observable(!1);this.someChecked=new Observable(!1);this.expanded=new Observable(!1);this.visible=new Observable(!0);this.isChecked.bind(this,this._handleIsCheckedChanged);this.infoLinkVisible=new Observable(!1);this.infoLinkTooltip=new Observable("");this.infoLinkText=new Observable("");this.infoLinkIconUri=new Observable("");this.folderId=new Observable("");this.showGroupCheckbox=new Observable(!1);this.bindingEntries=new ObservableCollection;this.expanded.bind(this,
function(a){a?e.bindingEntries.set(e.entries.get()):e.bindingEntries.clear()})}__extends(b,l);b.fromJson=function(a,c,e){if(a.hasOwnProperty("id")&&a.hasOwnProperty("type")&&a.hasOwnProperty("displayName")){var k=new b(c,e);k.displayName=a.displayName;k.type=a.type;k.id=a.id;k.type==f.CatalogEntryType.FOLDER&&k.folderId.set("folderItem-{0}".format(d.framework.utils.alphaNumericToken()));if(a.hasOwnProperty("entries"))for(var q=0;q<a.entries.length;q++){var n=b.fromJson(a.entries[q],c,e);n&&(k.entries.addItem(n),
n.parent=k)}return k}return null};b.prototype.calculateShowGroupCheckbox=function(a,c){var e=!1;c&&""!=c&&this.displayName.endsWith(c)&&(this.displayName=this.displayName.slice(0,this.displayName.length-c.length),e=!0);this.type==f.CatalogEntryType.FOLDER&&this.showGroupCheckbox.set(a==f.CheckboxVisibility.all||a==f.CheckboxVisibility.configuredOnly&&e);this.entries&&this.entries.getItems().forEach(function(e){e.calculateShowGroupCheckbox(a,c)})};b.prototype.toggleAllChildren=function(a){this.entries.getItems().forEach(function(c){c.isChecked.set(a);
c.toggleAllChildren(a)})};b.prototype.areAllChildrenChecked=function(){return this.entries&&0<this.entries.length()?this.entries.getItems().every(function(a){return a.visible.get()?a.isChecked.get()&&a.areAllChildrenChecked():!0}):!0};b.prototype._handleIsCheckedChanged=function(a){if(this.type===f.CatalogEntryType.FOLDER){a=dojo.some(this.entries.get(),function(a){return a.isChecked.get()&&a.visible.get()});var c=!1;a&&(c=this.areAllChildrenChecked());c?(this.allChecked.set(!0),this.someChecked.set(!1)):
a?(this.allChecked.set(!1),this.someChecked.set(!0)):(this.allChecked.set(!1),this.someChecked.set(!1));this.isChecked.get()!=a&&this.isChecked.set(a)}this.parent&&(this.parent.isChecked.set(this.isChecked.get()),this.app.configuration.mobileMode&&this.app.command("ReevaluateAllChecked").execute(this.parent.areAllChildrenChecked()))};b.prototype.filter=function(a){a?-1<this.displayName.toLowerCase().indexOf(a.toLowerCase())&&this.type===f.CatalogEntryType.LAYER?(this.visible.set(!0),this.expandUpTree()):
this.visible.set(!1):(this.visible.set(!0),this.expanded.set(!1));for(var c=0;c<this.entries.get().length;c++)this.entries.getAt(c).filter(a);this._setFolderVisibilityBasedOnChildren()};b.prototype.expandUpTree=function(){this.parent&&(this.parent.expanded.get()||this.parent.expanded.set(!0),this.parent.expandUpTree())};b.prototype.expandAll=function(a){this.expanded.set(a);for(var c=0;c<this.entries.get().length;c++)this.entries.getAt(c).expandAll(a)};b.prototype._setFolderVisibilityBasedOnChildren=
function(){var a=!1;if(this.type===f.CatalogEntryType.FOLDER){for(var c=0;c<this.entries.get().length;c++)if(this.entries.getAt(c)._setFolderVisibilityBasedOnChildren()){a=!0;break}this.visible.set(a)}else this.visible.get()&&(a=!0);return a};return b}(d.framework.ui.ViewModelBase);f.CatalogEntryViewModel=g})(f.layerCatalog||(f.layerCatalog={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){d=d.essentialsHtmlViewer||(d.essentialsHtmlViewer={});d=d.mapping||(d.mapping={});d=d.modules||(d.modules={});d=d.layerCatalog||(d.layerCatalog={});d=d.CatalogEntryType||(d.CatalogEntryType={});d.FOLDER="folder";d.LAYER="layer"})(geocortex||(geocortex={}));
(function(d){d=d.essentialsHtmlViewer||(d.essentialsHtmlViewer={});d=d.mapping||(d.mapping={});d=d.modules||(d.modules={});d=d.layerCatalog||(d.layerCatalog={});d=d.WmsPropertyNames||(d.WmsPropertyNames={});d.WMS_LAYER_NAME="wmsLayerName";d.WMS_SERVICE_URL="wmsServiceUrl";d.WMS_INSERT_POSITION="defaultInsertPosition"})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){function d(){}d.createDeferredList=function(b){var a=$.Deferred(),c=[];$.when.apply($,b).then(function(){for(var e=[],k=0;k<arguments.length;k++)e[k-0]=arguments[k];for(k=0;k<e.length;k++)c.push(e[k]);a.resolve(c)}).fail(function(c){a.reject(c)});return a.promise()};return d}();d.Deferred=f})(d.layerCatalog||(d.layerCatalog={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){function d(){this._backingStore={}}d.prototype.containsKey=function(b){return this._backingStore.hasOwnProperty(b)};d.prototype.get=function(b){return this._backingStore[b]};d.prototype.set=function(b,a){this._backingStore[b]=a};d.prototype.deleteEntry=function(b){delete this._backingStore[b]};d.prototype.values=function(){var b=[],a;for(a in this._backingStore)b.push(this._backingStore[a]);return b};d.prototype.clear=
function(){for(var b in this._backingStore)delete this._backingStore[b]};d.prototype.keys=function(){var b=[],a;for(a in this._backingStore)b.push(a);return b};d.fromArray=function(b,a){for(var c=new d,e=0;e<b.length;e++){var k=b[e],q=a(k);c.set(q,k)}return c};return d}();d.Dictionary=f})(d.layerCatalog||(d.layerCatalog={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=d.essentialsHtmlViewer.mapping.infrastructure.layerList,l=d.essentialsHtmlViewer.mapping.infrastructure.gis,b=function(a){function c(){a.apply(this,arguments);this._siteUrls=[];this._restoredMapServicesPromises=[];this._mapServiceCreatedPromises=[];this._failedMapServices=[];this._failedLayerNames=[]}__extends(c,a);c.prototype.initialize=function(c){var k=this;a.prototype.initialize.call(this,c);this._layerCatalogFolderInLayerList=
!1;this._addedMapServices=new h.Dictionary;this._addedLayerListItems=new h.Dictionary;this._layerListLookup=new h.Dictionary;this._fetchedMapServiceJsons=new h.Dictionary;this._atLeastOneLayerListDeferred=$.Deferred();this._allLayerListsFinished=$.Deferred();this._restoredMapServices=[];var b=[],d;this.app.event("SiteInitializedEvent").subscribe(this,function(a){if(0<a.layerCatalogs.length){for(var c=0;c<a.layerCatalogs.length;c++)k._siteUrls[c]=a.url.replace(a.id,a.layerCatalogs[c].siteId.toString());
d=k._siteUrls.map(function(a){return{siteUrl:a,rootFolder:null}})}if(d){k.layerListResolved.done(function(){k._layerListRoot||(k._layerListRoot=new g.LayerListFolderItem("LayerCatalogRoot",k.app.getResource(k.libraryId,"language-layer-catalog-home-text"),k.layerList),k._layerListRoot.isUserCreated=!0,k._layerListRoot.configuredVisible=!0)});var e=0;d.forEach(function(a,c){var d=k._geocortexRequest(a.siteUrl+"/map/layerlist?verbose=true");d.done(function(e){k._processLayerListLookup(a.rootFolder?[{type:"folder",
name:a.rootFolder,items:e.items}]:e.items,null,c);k._atLeastOneLayerListDeferred.resolve();k.app.event("LayerCatalogProviderUpdatedEvent").publish(new h.LayerCatalogConstructor(k._layerListLookup))});d.always(function(){e+=1;1==e&&k.app.event("LayerCatalogProviderStartedEvent").publish();e==k._siteUrls.length&&k.app.event("LayerCatalogProviderFinishedEvent").publish()});b.push(d)});h.Deferred.createDeferredList(b).done(function(){k._allLayerListsFinished.resolve()}).fail(function(){k._allLayerListsFinished.reject()})}k.app.command("ShowLayerCatalog").raiseCanExecuteChanged()})};
c.prototype.restoreMapService=function(a){var c=this,b=$.Deferred();this._restoredMapServicesPromises.push(b);this._getMapServiceJson(a.lookupId).done(function(b){if(b){b.properties.push({name:"layerCatalogLookupId",value:a.lookupId});var q=a.lookupId.split(".")[0],q=c._getSeedSiteUrlFromSiteId(q),f=$.Deferred();c._mapServiceCreatedPromises.push(f);h.MapUtilities.createMapServiceFromJson(b,q).done(function(q){a.layerLookupIds.forEach(function(f){var l=f.indexOf(".",f.indexOf(".")+1);if(-1!=l)var E=
f.substring(l+1);var g=null;if(E){g=b.layers.filter(function(a){return a.name==E})[0];if(!g){c._failedMapServices.push(a.lookupId);return}g.properties.push({name:"layerCatalogLookupId",value:f})}else g=b;var x=q.serviceLayer;require(["esri/layers/VectorTileLayer"],function(a){x instanceof a&&h.MapUtilities.addLayerToVectorTiledService(g,q)});x instanceof esri.layers.WebTiledLayer?h.MapUtilities.addLayerToWebTiledService(g,q):x instanceof esri.layers.ArcGISDynamicMapServiceLayer?(q.mapServiceType===
d.essentials.MapServiceType.TILED&&h.MapUtilities.addLayerToTiledService(g,q),x.supportsDynamicLayers&&(q.supportsDynamicLayers=!0),h.MapUtilities.addLayersWithDynamicDefinitions([g],q),h.MapUtilities.addLayersToDynamicMapService([g],q)):x instanceof esri.layers.FeatureLayer?h.MapUtilities.addLayerToFeatureService(g,q):x instanceof esri.layers.ArcGISImageServiceLayer?h.MapUtilities.addLayerToImageService(g,q):x instanceof esri.layers.ArcGISTiledMapServiceLayer?h.MapUtilities.addLayerToTiledService(g,
q):x instanceof esri.virtualearth.VETiledLayer?h.MapUtilities.addLayerToBingService(g,q):x instanceof esri.layers.WMSLayer&&(f=q.catalogId.split(".")[0],f=c._getSeedSiteUrlFromSiteId(f),h.MapUtilities.addLayersToWMSService([g],q,f))});q.id=a.mapServiceId;q.serviceLayer.id=q.id;c._addedMapServices.get(q.catalogId)?(c.app.site.getMap().removeLayer(q.serviceLayer),c.app.site.essentialsMap.removeMapService(c._addedMapServices.get(q.catalogId)),c.app.site.essentialsMap.mapServices.push(q),c._addedMapServices.set(q.catalogId,
q)):(c.app.site.essentialsMap.mapServices.push(q),c._mapServiceEvent(q,"MapServiceAddedEvent"));c._restoredMapServices.push(q);a.callback(q)}).fail(function(){c._failedMapServices.push(a.lookupId);a.callback(null)}).always(function(){f.resolve()})}}).fail(function(){c._failedMapServices.push(a.lookupId);a.callback(null)}).always(function(){b.resolve()})};c.prototype.reset=function(a){var c=this;this._allLayerListsFinished.always(function(){c.addStatus(c.app.getResource(c.libraryId,"language-layer-catalog-restoration-status"),
"LayerCatalogRestoration");h.Deferred.createDeferredList(c._restoredMapServicesPromises).always(function(){h.Deferred.createDeferredList(c._mapServiceCreatedPromises).always(function(){var a=c._addedMapServices.keys();c.executeClearLayerCatalogLayers();var e=c.app.site.getMap();c._restoredMapServices.forEach(function(b){-1<a.indexOf(b.catalogId)&&(c.app.site.essentialsMap.mapServices.push(b),c._mapServiceEvent(b,"MapServiceAddedEvent"));b.serviceLayer instanceof esri.layers.WMSLayer&&b.serviceLayer.setVisibleLayers(b.layers.map(function(a){return a.wmsLayerName}));
b.serviceLayer instanceof esri.layers.ArcGISDynamicMapServiceLayer&&b.serviceLayer.setVisibleLayers(b.layers.map(function(a){return a.id}));e.addLayer(b.serviceLayer);c._addedMapServices.set(b.catalogId,b);c._createLayerListItems(b)});var b="The following map services fully or partially were unable to be restored: "+c._failedMapServices.join(", ");0<c._failedMapServices.length&&c.app.trace.warning(b);c._restoredMapServices.length=0;c.layerList._processEligibleSingleMapServiceFolders();c._layerListRoot.refreshOnDemandItemCollection();
c._restoredMapServicesPromises.length=0;c._mapServiceCreatedPromises.length=0;c._failedLayerNames.length=0;c._failedMapServices.length=0;c._layerListRoot.setItemVisibility(!1);setTimeout(function(){c._layerListRoot.setItemVisibility(!0)},100);c.removeStatus("LayerCatalogRestoration")})})})};c.prototype._treeItemCmp=function(a,c){var b=this._layerListLookup.get(a),d=this._layerListLookup.get(c),f=b.siteIndex,h=d.siteIndex;return f==h?b.order-d.order:f-h};c.prototype._processLayerListLookup=function(a,
c,b){var d=this;a.forEach(function(a,e){var f=[],h,l;l=d._getSeedSiteIdFromUrl(d._siteUrls[b]);if("folder"==a.type){h=d._generateFolderId(a,c);a.items&&(f=d._generateItemsChildrenIds(a,h,l),d._processLayerListLookup(a.items,h,b));l=d._layerListLookup.get(h);if(null!=l){d._editExistingLookupItem(l,b,e,f);return}l=!0}else h=null!=a.layerID?"{0}.{1}.{2}".format(l,a.mapServiceID,a.layerName):"{0}.{1}".format(l,a.mapServiceID),l=!1;h&&d._layerListLookup.set(h,{childrenLookupIds:f,siteIndex:b,order:e,parentLookupId:c,
displayName:a.name,addedChildrenLookupIds:[],isFolder:l})})};c.prototype._generateItemsChildrenIds=function(a,c,b){return a.items.map(function(a){return"folder"==a.type?"{0}.{1}".format(c,a.name):null!=a.layerID?"{0}.{1}.{2}".format(b,a.mapServiceID,a.layerName):"{0}.{1}".format(b,a.mapServiceID)})};c.prototype._generateFolderId=function(a,c){var b=a.name;c&&""!=c&&(b="{0}.{1}".format(c,b));return b};c.prototype._editExistingLookupItem=function(a,c,b,d){c<a.siteIndex&&(a.siteIndex=c,a.order=b);d.forEach(function(c){0<=
a.childrenLookupIds.indexOf(c)||a.childrenLookupIds.push(c)});a.childrenLookupIds.sort(dojo.hitch(this,this._treeItemCmp))};c.prototype.executeGetLayerCatalog=function(a){var c=this;this.layerListResolved.done(function(){c._atLeastOneLayerListDeferred.done(function(){var b=new h.LayerCatalogConstructor(c._layerListLookup);a.resolve(b)})})};c.prototype.canExecuteGetLayerCatalog=function(){return this.canShowLayerCatalog()};c.prototype.executeGetLayerCatalogDetails=function(a,c){var b=this;this.addStatus(this.app.getResource(this.libraryId,
"language-layer-catalog-get-layer-details-status"),"GetLayerDetails");var d=[],f=c.ids.filter(function(a){return b._isLookupIdForAMapService(a)}),l=c.ids.filter(function(a){return!b._isLookupIdForAMapService(a)}),g=l.map(function(a){return b._getMapServiceKeyFromLayerLookupId(a)});this._getAndSetMapServiceJsons(g).always(function(){var c=[];l.forEach(function(a){var e=a.indexOf(".",a.indexOf(".")+1);if(-1!=e)var k=a.substring(e+1);var e=b._getMapServiceKeyFromLayerLookupId(a),f=b._fetchedMapServiceJsons.get(e);
f?(f.properties.push({name:"layerCatalogLookupId",value:e}),(e=f.layers.filter(function(a){return a.name==k})[0])?(e.properties.push({name:"layerCatalogLookupId",value:a}),a=$.Deferred(),a.resolve(e),d.push(a)):c.push(a)):c.push(a)});f.forEach(function(a){var e=$.Deferred();d.push(e.promise());b._getMapServiceJson(a).done(function(c){c.properties.push({name:"layerCatalogLookupId",value:a});e.resolve(c)}).fail(function(){c.push(a);e.resolve(null)})});h.Deferred.createDeferredList(d).done(function(k){b.removeStatus("GetLayerDetails");
0<c.length&&b.app.command("Alert").execute(b.app.getResource(b.libraryId,"language-layer-catalog-failed-items-error").format(c.join(", ")));a.resolve({catalogs:[{entries:k,mapServiceId:"N/A"}]})})})};c.prototype._getAndSetMapServiceJsons=function(a){var c=this,b=[];a.forEach(function(a){var e=$.Deferred();c._fetchedMapServiceJsons.containsKey(a)||(b.push(e),c._getMapServiceJson(a).done(function(b){c._fetchedMapServiceJsons.set(a,b);e.resolve()}).fail(function(){e.reject()}))});return h.Deferred.createDeferredList(b)};
c.prototype._getMapServiceKeyFromLayerLookupId=function(a){if(this._isLookupIdForAMapService(a))return a;a=a.split(".");return a[0]+"."+a[1]};c.prototype._isLookupIdForAMapService=function(a){return 2==a.split(".").length};c.prototype._getMapServiceJson=function(a){var c=$.Deferred();a=this._getMapServiceRestUrl(a);this._geocortexRequest(a).done(function(a){c.resolve(a)}).fail(function(){c.reject()});return c.promise()};c.prototype._getMapServiceRestUrl=function(a){a=a.split(".");var c=this._getSeedSiteUrlFromSiteId(a[0]);
return"{0}/map/mapservices/{1}?deep=true".format(c,a[1])};c.prototype.canExecuteGetLayerCatalogDetails=function(){return this.canExecuteGetLayerCatalog()};c.prototype.addStatus=function(a,c){console.log("Adding status:"+c);var b=new d.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(a,null,null,null,c,3E4,!0);this.app.command("AddStatus").execute(b)};c.prototype.removeStatus=function(a){this.app.command("RemoveStatus").execute(a)};c.prototype.executeApplyLayerCatalogDetails=function(a){this.addStatus(this.app.getResource(this.libraryId,
"language-layer-catalog-updating-layer-list-status"),"UpdatingLayerList");if(a&&a.catalogs)for(var c=0;c<a.catalogs.length;c++)if(a.catalogs[c]){for(var b=a.catalogs[c],d=[],f=this._addedLayerListItems.keys(),c=0;c<f.length;c++){var h=this._addedLayerListItems.get(f[c]);h instanceof g.LayerListFolderItem&&d.push(h)}this.layerList._addedFolderReferences.forEach(function(a){d.find(function(c){return c===a})&&a.canAdjustOpacity.set(!1)});this._removeEntriesIfNecessary(b.entries);this._addEntriesToMap(b.entries)}};
c.prototype.executeRemoveLayerCatalogItem=function(a){var c=a.catalogId;a=this.getState().layers.filter(function(a){return 0>c.indexOf(a.layerId)}).map(function(a){return{properties:[{name:"layerCatalogLookupId",value:a.layerId}]}});this._removeEntriesIfNecessary(a)};c.prototype._removeEntriesIfNecessary=function(a){var c=this,b=new h.Dictionary;a.forEach(function(a){a&&(a=a.properties.filter(function(a){return"layerCatalogLookupId"==a.name})[0],null!=a&&b.set(a.value,a.value))});0==a.length?this.executeClearLayerCatalogLayers():
(this._addedMapServices.keys().forEach(function(a){var e=c._addedMapServices.get(a),d=c._findLayersToBeRemoved(e,b),f=d.map(function(a){return e.layers[a].catalogId});d.forEach(function(a){e.supportsLayerVisibility()&&e.layers[a].setVisibility(!1);e.layers.splice(a,1)});f.forEach(function(a){c._removeItemFromLayerList(a)});0==e.layers.length?c._removeMapService(a):(e.serviceLayer instanceof esri.layers.ArcGISDynamicMapServiceLayer||e.serviceLayer instanceof esri.layers.WMSLayer)&&c._hackRefreshModules(e.serviceLayer.id);
c._resetMapServiceReferences(e)}),this._layerListRoot.refreshOnDemandItemCollection(),a=this.layerList._addedFolderReferences.filter(function(a){return 0==a.children.length()}).map(function(a){return c.layerList._addedFolderReferences.indexOf(a)}),a.reverse(),a.forEach(function(a){c.layerList._addedFolderReferences.splice(a,1)}))};c.prototype._removeMapService=function(a){var c=this._addedMapServices.get(a),b=this.app.site.essentialsMap.mapServices.indexOf(c);-1<b&&this.app.site.essentialsMap.mapServices.splice(b,
1);this.app.site.getMap().removeLayer(c.serviceLayer);this._addedMapServices.deleteEntry(a);this.layerList.removeServiceLayer(c.serviceLayer);a=this.layerList._allMapServiceReferences.filter(function(a){return a.id==c.id})[0];b=this.layerList._allMapServiceReferences.indexOf(a);-1<b&&this.layerList._allMapServiceReferences.splice(b,1)};c.prototype._findLayersToBeRemoved=function(a,c){for(var b=[],d=a.layers,f=d.length-1;0<=f;f--){var h=d[f].catalogId;null!=h&&(c.containsKey(h)||b.push(f))}return b};
c.prototype._removeItemFromLayerList=function(a){var c=this._layerListLookup.get(a),b=this._addedLayerListItems.get(a),d=this._addedLayerListItems.get(c.parentLookupId),f=this._layerListLookup.get(c.parentLookupId);f&&f.addedChildrenLookupIds.splice(f.addedChildrenLookupIds.indexOf(a),1);b&&(d?d.children.removeItem(b):0<=this._layerListRoot.children.indexOf(b)&&this._layerListRoot.children.removeItem(b),b.type==g.LayerListItemType.LAYER&&b.layer&&b.layer.serviceLayerInfo&&(b.layer.serviceLayerInfo.id=
null));this._addedLayerListItems.deleteEntry(a);f&&(0==f.addedChildrenLookupIds.length?this._removeItemFromLayerList(c.parentLookupId):d&&d.refreshOnDemandItemCollection())};c.prototype.executeGetLayerCatalogMapServiceIds=function(a){var c=this,b=[];this._addedMapServices.keys().forEach(function(a){a=c._addedMapServices.get(a).id;b.push(a)});a.resolve(b)};c.prototype.canExecuteApplyLayerCatalogDetails=function(){return this.canExecuteGetLayerCatalog()};c.prototype.canShowLayerCatalog=function(){return 0<
this._siteUrls.length};c.prototype.executeClearLayerCatalogLayers=function(){var a=this,c=this._addedMapServices.keys();c.forEach(function(c){a.app.event("MapServiceRemovedEvent").publish(a._addedMapServices.get(c));a._removeMapService(c)});if(c=this.layerList._userAddedLayersFolder){var b=c.children.getItems().filter(function(a){return"LayerCatalogRoot"==a.id.get()})[0],d=c.children.indexOf(b);b&&(c.children.getAt(d).children.clear(),c.children.removeAt(d),c.refreshOnDemandItemCollection())}c=this._layerListLookup.keys();
c.forEach(function(c){a._layerListLookup.get(c).addedChildrenLookupIds.length=0});this._addedLayerListItems.keys().forEach(function(c){var k=a._addedLayerListItems.get(c);k.type==g.LayerListItemType.FOLDER&&(k=a.layerList._addedFolderReferences.map(function(a){return a.id.get()}).indexOf(k.id.get()),a.layerList._addedFolderReferences.splice(k,1));a._removeItemFromLayerList(c)});c=this.layerList._addedFolderReferences.map(function(a){return a.id.get()}).indexOf("LayerCatalogRoot");this.layerList._addedFolderReferences.splice(c,
1);this._addedLayerListItems.clear();c=this.layerList.children.indexOf(this._layerListRoot);0<=c&&!this._layerListRoot.children.getLength()&&(this.layerList.children.getAt(c).cleanUp(),this.layerList.children.removeAt(c));this._layerCatalogFolderInLayerList=!1};c.prototype._addEntriesToMap=function(a){var c=this,b=[];a.forEach(function(a){if(a){var e=a.properties.filter(function(a){return"layerCatalogLookupId"==a.name})[0].value.split("."),d=e[0],n=c._siteUrls.indexOf(c._getSeedSiteUrlFromSiteId(d)),
f=e[1],h=!1;2==e.length?h=!0:(e=b.filter(function(a){return a.mapServiceId==f&&a.siteIndex==n})[0],null==e?h=!0:e.layerJsons.push(a));h&&b.push({siteIndex:n,siteId:d,mapServiceId:f,layerJsons:[a]})}});var d=[];b.forEach(function(a,e){var b=$.Deferred();d[e]=b.promise();c._applyLayerCatalogDetailsToMapService(a).always(function(){b.resolve()})});h.Deferred.createDeferredList(d).always(function(){c.layerList._processEligibleSingleMapServiceFolders();c._layerListRoot.refreshOnDemandItemCollection();
c.removeStatus("UpdatingLayerList")})};c.prototype._applyLayerCatalogDetailsToMapService=function(a){var c=this,b=$.Deferred(),n=this.app.site.getMap(),f=$.Deferred(),l="{0}.{1}".format(a.siteId,a.mapServiceId),g=this._addedMapServices.get(l);null!=g?f.resolve(g):this._getNewMapService(l).done(function(a){c._isLayerInLayerList(a.serviceLayer)?(c.app.trace.error("We can't add the same service layer twice to the layer list"),f.reject()):(c.app.site.essentialsMap.mapServices.push(a),c._addedMapServices.set(l,
a),f.resolve(a))}).fail(function(){f.reject()});f.done(function(f){var l=f.serviceLayer,E=a.layerJsons;require(["esri/layers/VectorTileLayer"],function(a){l instanceof a&&h.MapUtilities.addLayerToVectorTiledService(E[0],f)});if(l instanceof esri.layers.WebTiledLayer)h.MapUtilities.addLayerToWebTiledService(E[0],f);else if(l instanceof esri.layers.ArcGISDynamicMapServiceLayer)f.mapServiceType===d.essentials.MapServiceType.TILED&&h.MapUtilities.addLayerToTiledService(E[0],f),l.supportsDynamicLayers&&
(f.supportsDynamicLayers=!0),h.MapUtilities.addLayersWithDynamicDefinitions(E,f),h.MapUtilities.addLayersToDynamicMapService(E,f);else if(l instanceof esri.layers.FeatureLayer)h.MapUtilities.addLayerToFeatureService(E[0],f);else if(l instanceof esri.layers.ArcGISImageServiceLayer)h.MapUtilities.addLayerToImageService(E[0],f);else if(l instanceof esri.layers.ArcGISTiledMapServiceLayer)h.MapUtilities.addLayerToTiledService(E[0],f);else if(l instanceof esri.virtualearth.VETiledLayer)h.MapUtilities.addLayerToBingService(E[0],
f);else if(l instanceof esri.layers.WMSLayer){var g=f.catalogId.split(".")[0],g=c._getSeedSiteUrlFromSiteId(g);h.MapUtilities.addLayersToWMSService(E,f,g)}c._mapServiceEvent(f,"MapServiceRemovedEvent");c._mapServiceEvent(f,"MapServiceAddedEvent");c._createLayerListItems(f);n.getLayer(f.serviceLayer.id)&&"Dynamic"==f.mapServiceType?c._hackRefreshModules(f.serviceLayer.id):n.addLayer(l);b.resolve()}).fail(function(){b.reject()});return b.promise()};c.prototype._getNewMapService=function(a){var c=this,
b=$.Deferred();if(this._fetchedMapServiceJsons.containsKey(a)){var d=this._fetchedMapServiceJsons.get(a),f=a.split(".")[0],f=this._getSeedSiteUrlFromSiteId(f);h.MapUtilities.createMapServiceFromJson(d,f).done(function(a){b.resolve(a)})}else this._getMapServiceJson(a).done(function(d){d.properties.push({name:"layerCatalogLookupId",value:a});c._fetchedMapServiceJsons.set(a,d);var n=a.split(".")[0],n=c._getSeedSiteUrlFromSiteId(n);h.MapUtilities.createMapServiceFromJson(d,n).done(function(a){b.resolve(a)})});
return b.promise()};c.prototype._resetMapServiceReferences=function(a,c){c=c||l.ServiceLayerInfo.fromGcxMapService(a);for(var b=this.layerList._allMapServiceReferences,n=0;n<b.length;n++)c.id==b[n].id&&(b[n]=c);n=d.essentials.MapServiceType;if(-1<[n.TILED,n.WEBTILED,n.IMAGE,n.BING,n.VECTORTILE].indexOf(c.serviceType))for(b=this.layerList._handledMapServiceReferences,n=0;n<b.length;n++)c.id==b[n].id&&(b[n]=c);b=this.layerList._addedFolderReferences;for(n=0;n<b.length;n++)for(var f=b[n].containedMapServices,
h=0;h<f.length;h++)if(c.id==f[h].id){f[h]=c;break}};c.prototype._isLayerInLayerList=function(a){for(var c=this.layerList.getDescendants(),b=0;b<c.length;b++){var d=c[b];if(d.mapService&&d.mapService.serviceLayer.url===a.url&&!d.mapService.isUserCreated)return!0}return!1};c.prototype._createLayerListItems=function(a){var c=this,b=l.ServiceLayerInfo.fromGcxMapService(a);this._resetMapServiceReferences(null,b);var n=function(a,e){a._applyDeferredInitialVisibility();a.unbindFromActiveTheme();a.inActiveTheme.set(!0);
c._addToLayerList(a,e)};switch(a.mapServiceType){case d.essentials.MapServiceType.TILED:case d.essentials.MapServiceType.WEBTILED:case d.essentials.MapServiceType.IMAGE:case d.essentials.MapServiceType.BING:case d.essentials.MapServiceType.VECTORTILE:var f=a.layers[0].catalogId;null==f||this._addedLayerListItems.containsKey(f)||(a=new g.LayerListMapServiceItem(a.layers[0].id,b,this.layerList),a.setItemVisibility(!0),n(a,f),a.populateMapServicesInParentFolders());break;case d.essentials.MapServiceType.DYNAMIC:case d.essentials.MapServiceType.FEATURE:case d.essentials.MapServiceType.WMS:b.layers.forEach(function(a){var e=
a.gcxLayer.catalogId;null==e||c._addedLayerListItems.containsKey(e)||(a=new g.LayerListLayerItem(a.id,a,c.layerList),a.canNotAssignVisibility.set(!1),n(a,e),c._resetAddedFolderReferences(),a.populateMapServicesInParentFolders())})}};c.prototype._resetAddedFolderReferences=function(){var a=this,c=new h.Dictionary,b=new h.Dictionary,d=0,f=[],l=function(a){f.length=0;a.forEach(function(a){b.set(a,d++);(a=c.get(a))&&a.children&&a.children.getItems().forEach(function(a){a.type==g.LayerListItemType.FOLDER&&
f.push(a.id.get())})});0<f.length&&l(f.slice())};this.layerList._addedFolderReferences.forEach(function(b){c.set(b.id.get(),b);b.parent&&b.parent!=a.layerList._userAddedLayersFolder||f.push(b.id.get())});l(f.slice());this.layerList._addedFolderReferences.sort(function(a,c){return b.get(a.id.get())-b.get(c.id.get())})};c.prototype._mapServiceEvent=function(a,c){var b=this.app.event(c),d=Object.keys(b.subscriptions),f,h,l;for(f=0;f<d.length;f++){var g=b.subscriptions[d[f]];if(g.scope&&g.scope.id&&"module-Mapping-LayerList"===
g.scope.id){h=d[f];l=g;break}}h&&b.unsubscribe(h);this.app.event(c).publish(a);b.subscriptions[h]=l};c.prototype._addToLayerList=function(a,c){var b=this._layerListLookup.get(c);b||Error("Layer list tree structure unable to be built for the following item: "+c);null!=b.parentLookupId?this._addChildToLayerList(a,c):this._addOrphanToLayerList(a,c)};c.prototype._addChildToLayerList=function(a,c){var b=this._layerListLookup.get(c),d=this._addedLayerListItems.get(b.parentLookupId),f=this._layerListLookup.get(b.parentLookupId);
null==d?((d=h.LayerCatalogModule.instance.checkboxSuffix)&&""!=d&&f.displayName.endsWith(d)&&(f.displayName=f.displayName.slice(0,f.displayName.length-d.length)),d=new g.LayerListFolderItem(b.parentLookupId,f.displayName,this.layerList),d.isUserCreated=!0,d.children.addItem(a),f.addedChildrenLookupIds.push(c),d.isExpanded.set(!0),d.configuredVisible=!0,d.isVisible.set(!0),this._addToLayerList(d,b.parentLookupId),this._addedLayerListItems.set(b.parentLookupId,d)):(b=this._findIndexToInsertChildLayerListItem(f.addedChildrenLookupIds,
b),d.children.insertItem(b,a),f.addedChildrenLookupIds.splice(b,0,c),d.refreshOnDemandItemCollection());this._addedLayerListItems.set(c,a)};c.prototype._addOrphanToLayerList=function(a,c){var b=this,d=this._layerListLookup.get(c);if(0==this._layerListRoot.children.getLength()){var h;this.layerList._userAddedLayersFolder?(h=this.layerList._userAddedLayersFolder,h.children.contains(this._layerListRoot)||h.children.insertItem(0,this._layerListRoot)):(h=this._layerListRoot,this._layerCatalogFolderInLayerList||
(this.layerList.children.insertItem(0,h),this._layerCatalogFolderInLayerList=!0));this._layerListRoot.configuredVisible=!0;-1<this.layerList._addedFolderReferences.map(function(a){return a.id.get()}).indexOf(this._layerListRoot.id.get())||this.layerList._addedFolderReferences.push(this._layerListRoot);this._layerListRoot.isVisible.set(!0);this.layerList._userAddedFolderInitialized=!0}var l=this._layerListLookup.keys().filter(function(a){return null==b._layerListLookup.get(a).parentLookupId&&b._addedLayerListItems.containsKey(a)}),
d=this._findIndexToInsertChildLayerListItem(l,d);this._layerListRoot.children.insertItem(d,a);this._addedLayerListItems.set(c,a);this._layerListRoot.isExpanded.set(!0);this.layerList._userAddedLayersFolder&&this.layerList._userAddedLayersFolder.isExpanded.set(!0);h&&(h.inActiveTheme.set(!0),h.displayItem.set(!0),h.isExpanded.set(!0),h.isVisible.set(!0),h.parent&&h.parent instanceof f.infrastructure.layerList.LayerListFolderItem&&h.parent.refreshOnDemandItemCollection())};c.prototype._findIndexToInsertChildLayerListItem=
function(a,c){var b;for(b=0;b<a.length;b++){var d=this._layerListLookup.get(a[b]);if(d.siteIndex>c.siteIndex)break;if(d.siteIndex==c.siteIndex&&d.order>c.order)break}return b};c.prototype.getState=function(){var a=this,c=[];this._addedLayerListItems.keys().forEach(function(b){var d=a._addedLayerListItems.get(b),f,h;d.type==g.LayerListItemType.LAYER&&(f=d.layer.displayName,h=d.layer.gcxLayer.mapService.id);d.type==g.LayerListItemType.MAPSERVICE&&(f=d.mapService.displayName,h=d.mapService.id);f&&h&&
c.push({layerId:b,layerDisplayName:f,mapServiceObjectId:h})});return{layers:c}};c.prototype._getSeedSiteIdFromUrl=function(a){return a.substring(a.lastIndexOf("/")+1)};c.prototype._getSeedSiteUrlFromSiteId=function(a){var c=this;return this._siteUrls.filter(function(b){return c._getSeedSiteIdFromUrl(b)==a})[0]};return c}(d.essentialsHtmlViewer.mapping.modules.layerCatalog.BaseProvider);h.EssentialsSiteProvider=b})(g.layerCatalog||(g.layerCatalog={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping=
{}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){return function(a){this.catalogs=[];this.catalogs.push(new l(a))}}();d.LayerCatalogConstructor=f;var l=function(){return function(a){var c=this;this.mapServiceId="N/A";var e=a.keys();0<e.length&&(this.entries=[],e=e.filter(function(c){return null==a.get(c).parentLookupId}),e.sort(function(c,e){var b=a.get(c),d=a.get(e),f=b.siteIndex,h=d.siteIndex;return f==h?b.order-d.order:f-h}),e.forEach(function(e){c.entries.push(new b(e,
a))}))}}();d.LayerCatalogRoot=l;var b=function(){function a(c,e){var k=this;this.id=c;var b=e.get(c);this.displayName=b.displayName;this.type=b.isFolder?"folder":"layer";b.isFolder&&(this.entries=[]);0<b.childrenLookupIds.length&&b.childrenLookupIds.forEach(function(c){k.entries.push(new a(c,e))})}return a}();d.LayerCatalogEntry=b})(d.layerCatalog||(d.layerCatalog={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex=
{}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(l){function b(a,c){l.call(this,a,c);this._providers=[];this.app.site&&this.app.site.isInitialized?this._siteInitialized():this.app.eventRegistry.event("SiteInitializedEvent").subscribe(this,this._siteInitialized);f.MapUtilities.app=this.app;this.checkboxVisibility=f.CheckboxVisibility.none;this.checkboxSuffix=null;b.instance=this}__extends(b,l);b.prototype.initialize=function(a){a.hasOwnProperty("layerCatalogProviders")&&dojo.isArray(a.layerCatalogProviders)&&
this._loadProviders(a.layerCatalogProviders);a.hasOwnProperty("checkboxes")&&(a=a.checkboxes,a.hasOwnProperty("visibility")&&(this.checkboxVisibility=f.CheckboxVisibility[a.visibility]),a.hasOwnProperty("suffix")&&(this.checkboxSuffix=a.suffix))};b.prototype.getStateFilter=function(){return{layers:{item:this.app.project.filter.object}}};b.prototype.applyState=function(a){var c=this;this.app.event("ProjectLoadedEvent").once(this,function(){var e=c._providers.filter(function(a){return a.isEnabled&&
a.canExecuteApplyLayerCatalogDetails(null)})[0];null!=e&&e.reset(a)});return Promise.resolve()};b.prototype.exportState=function(){var a=this._providers.filter(function(a){return a.isEnabled&&a.canExecuteApplyLayerCatalogDetails(null)})[0],c;null!=a&&(c=a.getState());return Promise.resolve(c)};b.prototype._loadProviders=function(a){var c=this;a.forEach(function(a){a.libraryId&&!c.app.allLibrariesLoaded?c._loadProviderWhenLibrariesDownloaded(a):c._loadProvider(a)})};b.prototype._loadProviderWhenLibrariesDownloaded=
function(a){var c=this,e=this.app.event("ViewerLibrariesDownloadedEvent").subscribe(this,function(){c.app.event("ViewerLibrariesDownloadedEvent").unsubscribe(e);c._loadProvider(a)})};b.prototype._loadProvider=function(a){var c=dojo.getObject(a.type);c?(c=new c(this.app,a.libraryId||this.libraryId),c.isEnabled=!1!==a.enabled,c.initialize(a.configuration||{}),this._providers.push(c)):this.app.trace.error(this.id+" can't find layer catalog provider typed "+a.type)};b.prototype._siteInitialized=function(){this.app.commandRegistry.command("GetLayerCatalog").register(this,
this._executeGetLayerCatalog,this._canExecuteGetLayerCatalog);this.app.commandRegistry.command("GetLayerCatalogDetails").register(this,this._executeGetLayerCatalogDetails,this._canExecuteGetLayerCatalogDetails);this.app.commandRegistry.command("ApplyLayerCatalogDetails").register(this,this._executeApplyLayerCatalogDetails,this._canExecuteApplyLayerCatalogDetails);this.app.commandRegistry.command("ClearLayerCatalogLayers").register(this,this._executeClearLayerCatalogLayers);this.app.commandRegistry.command("ShowLayerCatalog").register(this,
this._executeShowLayerCatalog,this._canExecuteShowLayerCatalog);this.app.commandRegistry.command("GetLayerCatalogMapServiceIds").register(this,this._executeGetLayerCatalogMapServiceIds);this.app.commandRegistry.command("RemoveLayerCatalogItem").register(this,this._executeRemoveLayerCatalogItem);this.app.command("LayerCatalogRestoreMapService").register(this,this.restoreMapService);d.essentialsHtmlViewer.Commands.commandsMetadata.push({name:"ShowLayerCatalog",metadata:{arguments:"none",description:"Shows the layer catalog view.",
isHyperlinkable:!0,visibility:"public"}});this.app.commandRegistry.command("AddCatalogLayers").register(this,this._executeAddCatalogLayers,this._canExecuteAddCatalogLayers);d.essentialsHtmlViewer.Commands.commandsMetadata.push({name:"AddCatalogLayers",metadata:{arguments:"Comma seperated string of layer ids.",description:"Adds catalog layers.",isHyperlinkable:!1,visibility:"public"}});this.app&&this.app.urlParameters&&this.app.urlParameters.catalogLayers&&this.app.commandRegistry.command("AddCatalogLayers").execute(this.app.urlParameters.catalogLayers);
this.app.commandRegistry.command("AppendCatalogLayers").register(this,this._executeAppendCatalogLayers,this._canExecuteAppendCatalogLayers);d.essentialsHtmlViewer.Commands.commandsMetadata.push({name:"AppendCatalogLayers",metadata:{arguments:"Comma seperated string of layer ids.",description:"Appends catalog layers.",isHyperlinkable:!1,visibility:"public"}})};b.prototype.restoreMapService=function(a){var c=this._providers.filter(function(a){return a.isEnabled&&a.canExecuteApplyLayerCatalogDetails(null)})[0];
null!=c&&c.restoreMapService(a)};b.prototype._executeGetLayerCatalog=function(a){var c=this._providers.filter(function(a){return a.isEnabled&&a.canExecuteGetLayerCatalog(null)})[0];null!=c&&c.executeGetLayerCatalog(a)};b.prototype._canExecuteGetLayerCatalog=function(){return this._providers.some(function(a){return a.isEnabled&&a.canExecuteGetLayerCatalog(null)})};b.prototype._executeGetLayerCatalogDetails=function(a,c){var e=this._providers.filter(function(a){return a.isEnabled&&a.canExecuteGetLayerCatalog(null)})[0];
null!=e&&e.executeGetLayerCatalogDetails(a,c)};b.prototype._canExecuteGetLayerCatalogDetails=function(){return this._providers.some(function(a){return a.isEnabled&&a.canExecuteGetLayerCatalogDetails(null,null)})};b.prototype._executeApplyLayerCatalogDetails=function(a){var c=this._providers.filter(function(a){return a.isEnabled&&a.canExecuteApplyLayerCatalogDetails(null)})[0];null!=c&&c.executeApplyLayerCatalogDetails(a)};b.prototype._canExecuteApplyLayerCatalogDetails=function(){return this._providers.some(function(a){return a.isEnabled&&
a.canExecuteApplyLayerCatalogDetails(null)})};b.prototype._executeClearLayerCatalogLayers=function(){var a=this._providers.filter(function(a){return a.isEnabled&&a.canShowLayerCatalog()})[0];null!=a&&a.executeClearLayerCatalogLayers()};b.prototype._executeShowLayerCatalog=function(){this.app.commandRegistry.command("ActivateView").execute("LayerCatalogView")};b.prototype._canExecuteShowLayerCatalog=function(){return this._providers.some(function(a){return a.isEnabled&&a.canShowLayerCatalog()})};b.prototype._executeAddCatalogLayers=
function(a){a&&this.app.eventRegistry.event("OnAddCatalogLayersCommandEvent").publish(a)};b.prototype._executeAppendCatalogLayers=function(a){a&&this.app.eventRegistry.event("OnAppendCatalogLayersCommandEvent").publish(a)};b.prototype._canExecuteAddCatalogLayers=function(){return this._canExecuteShowLayerCatalog()};b.prototype._canExecuteAppendCatalogLayers=function(){return this._canExecuteShowLayerCatalog()};b.prototype._executeGetLayerCatalogMapServiceIds=function(a){var c=this._providers.filter(function(a){return a.isEnabled&&
a.canShowLayerCatalog()})[0];null!=c&&c.executeGetLayerCatalogMapServiceIds(a)};b.prototype._executeRemoveLayerCatalogItem=function(a){var c=this._providers.filter(function(a){return a.isEnabled&&a.canShowLayerCatalog()})[0];null!=c&&c.executeRemoveLayerCatalogItem(a)};return b}(d.framework.application.ModuleBase);f.LayerCatalogModule=g})(f.layerCatalog||(f.layerCatalog={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.handleKeyDown=function(a,c,e){a=a.which?a.which:a.keyCode;if(this._isSpecialChar(a))return!0;13===a&&(this.viewModel.filterCatalog(),c.blur());return!0};b.prototype.handleExpand=function(a,c,e){if(this._ignoreHandleExpand)return this._ignoreHandleExpand=!1,!0;e&&e.expanded.set(!e.expanded.get())};b.prototype.handleSelectAllChecked=function(a,c,e){e.toggleAllChildren(c.checked);
return this._ignoreHandleExpand=!0};b.prototype.handleLayerChecked=function(a,c,e){e&&e.isChecked.set(!e.isChecked.get())};b.prototype.handleClear=function(a,c,e){this.viewModel.showingAll.get()&&this.viewModel.reset()};b.prototype.handleSearch=function(a,c,e){this.viewModel.filterCatalog()};b.prototype.handleShowSelectedClick=function(){this.viewModel.toggleSelected()};b.prototype.handleRefreshClick=function(){this.viewModel.refreshLayerCatalog()};return b}(d.essentialsHtmlViewer.mapping.modules.layerCatalog.BaseLayerCatalogView);
f.LayerCatalogView=g})(f.layerCatalog||(f.layerCatalog={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(f){function b(a,c){f.call(this,a,c)}__extends(b,f);b.prototype.ready=function(){f.prototype.ready.call(this);this.catalogCached&&(this.reset(),this.syncAddedLayers())};b.prototype.reset=function(){this._clearFilter();this.showingAll.get()||this.toggleSelected()};b.prototype.filterCatalog=function(){var a=this.filterText.get(),c=this.getFilterProvider();if(c)c.filter(a,this.filteredCatalog);else for(c=0;c<this.filteredCatalog.get().length;c++)this.filteredCatalog.getAt(c).filter(a)};
b.prototype._clearFilter=function(){this.filterText.set("");this.filterCatalog()};b.prototype.toggleSelected=function(){this.filterText.set("");this.showingAll.set(!this.showingAll.get());var a="",c=!1;if(this.showingAll.get())this.showNoLayersSelectedText.set(!1),this._clearFilter(),a="language-layer-catalog-show-selected-button";else{this.filterText.set("");for(var a=this._getFlattenedEntries(),e=0;e<a.length;e++){var k=!1;if(a[e].type===d.CatalogEntryType.LAYER)a[e].isChecked.get()&&(k=c=!0);else if(a[e].someChecked.get()||
a[e].allChecked.get())k=!0;a[e].visible.set(k)}for(e=0;e<this.filteredCatalog.get().length;e++)(this.filteredCatalog.getAt(e).someChecked.get()||this.filteredCatalog.getAt(e).allChecked.get())&&this.filteredCatalog.getAt(e).expandAll(!0);a="language-layer-catalog-show-all-button";c?this.showNoLayersSelectedText.set(!1):this.showNoLayersSelectedText.set(!0)}c&&!this.showingAll.get()?this.clearButtonVisible.set(!0):this.clearButtonVisible.set(!1);this.showSelectedButtonText.set(this.app.getResource(this.libraryId,
a))};return b}(d.LayerCatalogViewModelBase);d.LayerCatalogViewModel=f})(d.layerCatalog||(d.layerCatalog={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(){function f(){}f.addLayerToWebTiledService=function(b,a){this._addDummyLayerToService(b,a)};f.addLayerToVectorTiledService=function(b,a){this._addDummyLayerToService(b,a)};f.addLayerToTiledService=function(b,a){this._addDummyLayerToService(b,a)};f.addLayerToImageService=function(b,a){this._addDummyLayerToService(b,a)};f.addLayerToBingService=function(b,a){this._addDummyLayerToService(b,a)};f.addLayersToWMSService=function(b,
a,c){var e=this;b.forEach(function(c){if(!a.layers.some(function(a){return a.id==c.id})){c.parentLayerId=null;var b=e._createGcxLayer(a.url+"/layers/"+c.id,c,a,c.name,c.id);b.wmsLayerName=c.nativeID;a.layers.push(b);var d=new esri.layers.WMSLayerInfo({name:b.wmsLayerName,title:b.name});d.styleName=b.styleName;a.serviceLayer.layerInfos.push(d)}});(b=a.layers)&&0<b.length&&(b=b.filter(function(a){return!0==a.isVisible()}))&&0<b.length&&(b=b.map(function(a){return a.wmsLayerName}))&&0<b.length&&a.serviceLayer.setVisibleLayers(b)};
f._addDummyLayerToService=function(b,a){var c=b.properties.filter(function(a){return"layerCatalogLookupId"==a.name})[0].value;if(!a.layers.some(function(a){return a.id==c})){var e=new d.essentials.Layer(a.originalUrl);e.id=c;e.isUserCreated=!0;e.userLayerType=d.essentials.UserLayerType.LAYER_CATALOG;e.mapService=a;e.catalogId=d._getProperties(b.properties).layerCatalogLookupId;a.layers.push(e)}};f.addLayersWithDynamicDefinitions=function(b,a){var c=this;b.forEach(function(e){if(e.dynamicDefinition&&
""!=e.dynamicDefinition&&!a.layers.some(function(a){return a.id==e.id})){var k=c._createGcxLayer(a.url+"/layers/"+e.id,e,a,e.displayName,e.id);a.add(k)}})};f.addLayersToDynamicMapService=function(b,a){var c=this,e=b.map(function(a){return a.id}),k=e.slice(),q=a.serviceLayer;q.layerInfos.forEach(function(q,d){if(0<=e.indexOf(q.id.toString())){var f=a.layers.filter(function(a){return a.id==q.id.toString()})[0];null==f?(f=b.filter(function(a){return a.id==q.id})[0],f=c._createGcxLayer(a.url+"/layers/"+
f.id,f,a,q.name,q.id.toString()),f.parentLayerId=null,a.layers.push(f)):f.isVisible()||k.splice(k.indexOf(q.id.toString()),1)}});k&&0<k.length?q.setVisibleLayers(k):q.setVisibleLayers(["-1"])};f.addLayerToFeatureService=function(b,a){var c=a.serviceLayer;if(!a.layers.some(function(a){return a.id==c.layerId.toString()})){var e=this._createGcxLayer(a.url+"/layers/"+b.id,b,a,b.displayName,c.layerId.toString());a.layers.push(e)}};f._createGcxLayer=function(b,a,c,e,k){var q=this.app.site.getMap(),n=new d.essentials.Layer(b);
a.visible=!0;n.mapService=c;n._configureObject(a);n.catalogId=d._getProperties(a.properties).layerCatalogLookupId;n.queryable=a.queryable?a.queryable:!1;n.maxScale=a.maxScale;n.minScale=a.minScale?a.minScale:q.getMinScale();n.supportsIdentify=a.supportsIdentify?a.supportsIdentify:!1;n.supportsQuery=a.supportsQuery?a.supportsQuery:!1;n.includeInLayerList=!0;n.site=this.app.site;n.name=e;n.id=k;n.identifiable=a.identifiable?a.identifiable:!1;n.isInitialized=!0;n.configuredVisible=!0;n.isUserCreated=
!0;n.userLayerType=d.essentials.UserLayerType.LAYER_CATALOG;b=b.split("/");var f;for(a=0;a<b.length;a++)if("sites"==b[a]){f=b[a+1];break}n.iconUri&&(n.iconUri=n.iconUri.replace(this.app.site.id,f));return n};f.getUrlForCreatingServiceLayer=function(b){var a=b.serviceUrl;return b.serviceToken?a+(-1<a.indexOf("?")?"&token=":"?token=")+encodeURIComponent(b.serviceToken):a};f.createMapServiceFromJson=function(b,a){var c=this,e=$.Deferred(),k=d.essentials.ServiceHelper.extractConnectionStringValue,q=k(b.connectionString,
"styleUrl"),n,f=a+"/map/mapservices/"+b.id,h,l=b.drawingBehavior,g=b.serviceType;if(l===d.essentials.DrawingBehavior.MAP_SERVICE)switch(g){case d.essentials.MapServiceType.WEBTILED:l=k(b.connectionString,"subDomains");k=[];l&&(k=l.split(","));l={copyright:b.copyright,id:b.id,subDomains:k};h=new d.essentials.MapService;h.mapServiceType=g;h.essentialsMap=this.app.site.essentialsMap;h.subDomains=k;h._processConnectionString(b.connectionString,b);n=new esri.layers.WebTiledLayer(this.getUrlForCreatingServiceLayer(h),
l);h.url=f;break;case d.essentials.MapServiceType.TILED:h=new d.essentials.MapService(f);h.mapServiceType=g;h.essentialsMap=this.app.site.essentialsMap;h._processConnectionString(b.connectionString,b);n=new esri.layers.ArcGISTiledMapServiceLayer(this.getUrlForCreatingServiceLayer(h));this._applyAttributionUrl(b,n);break;case d.essentials.MapServiceType.DYNAMIC:h=new d.essentials.MapService(f);h.mapServiceType=g;h.essentialsMap=this.app.site.essentialsMap;h._processConnectionString(b.connectionString,
b);n=new esri.layers.ArcGISDynamicMapServiceLayer(this.getUrlForCreatingServiceLayer(h));this._applyAttributionUrl(b,n);h.layerVisibilityEventManager=new d.essentials.LayerVisibilityEventManager(h,n);null!=b.format&&n.setImageFormat(b.format.toLowerCase());break;case d.essentials.MapServiceType.IMAGE:h=new d.essentials.MapService(f);h.mapServiceType=g;h.essentialsMap=this.app.site.essentialsMap;h._processConnectionString(b.connectionString,b);n=new esri.layers.ArcGISImageServiceLayer(this.getUrlForCreatingServiceLayer(h));
this._applyAttributionUrl(b,n);n.setImageFormat(this._getAgsImageServiceImageFormat(b.imageFormat));break;case d.essentials.MapServiceType.VECTORTILE:require(["esri/layers/VectorTileLayer"],function(a){h=new d.essentials.MapService(f);h.mapServiceType=g;h.essentialsMap=c.app.site.essentialsMap;h._processConnectionString(b.connectionString,b);var e=c.getUrlForCreatingServiceLayer(h);if(q&&(e=q,c.app&&c.app.site)){var k=c.app.site.getTokenFromPrincipal(q,d.essentials.MapServiceType.VECTORTILE);k&&(e=
e+"?token="+k)}n=new a(e)});this._applyAttributionUrl(b,n);break;case d.essentials.MapServiceType.BING:var l={},m;(m=k(b.connectionString,"mapStyle"))&&0<m.length&&(l.mapStyle=m);(m=k(b.connectionString,"culture"))&&0<m.length&&(l.culture=m);(m=k(b.connectionString,"key"))&&0<m.length&&(l.bingMapsKey=m);n=new esri.virtualearth.VETiledLayer(l);h=new d.essentials.MapService(f);h.mapServiceType=g;h.bingProperties=l;h.essentialsMap=this.app.site.essentialsMap;h._processConnectionString(b.connectionString,
b);break;case d.essentials.MapServiceType.WMS:this._extendWms();h=new d.essentials.MapService(f);h.mapServiceType=g;h.essentialsMap=this.app.site.essentialsMap;h._processConnectionString(b.connectionString,b);n=new esri.layers.WMSLayer(this.getUrlForCreatingServiceLayer(h),{resourceInfo:{extent:this.app.site.essentialsMap.initialExtent,layerInfos:[],version:b.serverVersion},visibleLayers:[]});k=this.app.site.essentialsMap.spatialReference.wkid;102100==k&&(k=3857);n.spatialReferences.push(k);n.preferredSpatialReference=
k;this._applyAttributionUrl(b,n);h.layerVisibilityEventManager=new d.essentials.LayerVisibilityEventManager(h,n);k=null;null!=b.imageFormat&&(k=b.imageFormat.replace(/^image\//,""),k="jpeg"==k?"jpg":k);n.setImageFormat(k);n.show();this._corsRequest(this.getUrlForCreatingServiceLayer(h)).then(function(){n.refresh()},function(a){n.refresh()});break;default:e.reject()}else l===d.essentials.DrawingBehavior.FEATURE_LAYER&&(h=new d.essentials.FeatureLayerService(f),h.essentialsMap=this.app.site.essentialsMap,
h.mapServiceType=g,h._processConnectionString(b.connectionString,b),h.editVerticesEnabled=b.editVerticesEnabled,h.moveEnabled=b.moveEnabled,h.rotateEnabled=b.rotateEnabled,h.scaleEnabled=b.scaleEnabled,n=new esri.layers.FeatureLayer(this.getUrlForCreatingServiceLayer(h)),this._applyAttributionUrl(b,n));this.app.site.getMap();var p=function(){h.serviceLayer=n;h.displayName=b.displayName;h.mapServiceFunction=b.serviceFunction;h.isUserCreated=!0;h.userLayerType=d.essentials.UserLayerType.LAYER_CATALOG;
h.essentialsMap=c.app.site.essentialsMap;h.includeInLayerList=!0;h.isInitialized=!0;h.copyright=b.copyright;h.disableClientCaching=b.disableClientCaching;h.catalogId=d._getProperties(b.properties).layerCatalogLookupId;h.opacity=b.opacity;h.imageFormat=b.format;n.setOpacity(h.opacity);h.drawingBehavior=b.drawingBehavior;var a=b.properties.filter(function(a){return"layerCatalogLookupId"==a.name})[0].value.split(".")[0];h.id="{0}-{1}".format(a,b.id);h.serviceLayer.id=h.id};n.loaded?(p(),e.resolve(h)):
(n.on("load",function(a){p();e.resolve(h)}),n.on("error",function(a){console.log("Error in initializing layer: {0}".format(a.error));e.reject()}));return e.promise()};f._corsRequest=function(b,a,c){var e=this;return new d.framework.SimplePromise(function(k,q){try{require(["dojo/request"],function(d){a=!!a;c=!!c;return d(b,{headers:{"X-Requested-With":null},withCredentials:a}).response.then(function(a){return k()},function(d){return c?q(d):k(e._corsRequest(b,!a,!0))})})}catch(d){return console.log("Error in initializing WMS layer: "+
d),q(d)}})};f._getAgsImageServiceImageFormat=function(b){if("undefined"==typeof b||null===b||1>b.length)return null;b=b.toLowerCase();switch(b){case "jpgpng":case "png":case "png8":case "png24":case "png32":case "jpeg":case "jpg":case "gif":case "bmp":case "tiff":return b;default:return null}};f._extendWms=function(){if(!d.essentials.MapService._wmsExtended){var b=esri.layers.WMSLayer._meta.hidden.getImageUrl,a=/.*images\/pixel.png$/;esri.layers.WMSLayer.extend({getImageUrl:function(c,e,k,q){var d=
this;b.apply(this,[c,e,k,function(c){if(!a.test(c)){for(var e={},k=0;k<d.layerInfos.length;k++)e[d.layerInfos[k].name]=d.layerInfos[k].styleName;for(var b=[],k=0;k<d.visibleLayers.length;k++)b.push(e[d.visibleLayers[k]]);e=b.join(",");k=c.substring(c.lastIndexOf("?")+1,c.length);k=dojo.queryToObject(k);k.STYLES=e;d.preferredSpatialReference&&(k[k.CRS?"CRS":"SRS"]="EPSG:"+d.preferredSpatialReference);d.__gcxWmsImageFormat&&(k.FORMAT=d.__gcxWmsImageFormat);c=c.substring(0,c.lastIndexOf("?")+1)+dojo.objectToQuery(k)}q(c)}])}});
d.essentials.MapService._wmsExtended=!0}};f._applyAttributionUrl=function(b,a){var c=b.attributionDataUrl,e=b.hasAttributionData;c&&""!==c?(a.attributionDataUrl=c,a.hasAttributionData=!0):e&&(a.attributionDataUrl=d.essentials.utilities.UrlUtilities.simplify(b.url)+"/attribution",a.hasAttributionData=!0,c=d.essentials.RestHelperHTTPService.getTokenForScope(a.attributionDataUrl))&&(a.attributionDataUrl+="?token="+c)};return f}();f.MapUtilities=g})(f.layerCatalog||(f.layerCatalog={}))})(f.modules||(f.modules=
{}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.handleKeyDown=function(a,c,e){a=a.which?a.which:a.keyCode;if(this._isSpecialChar(a))return!0;13===a&&c.value&&(a=this.viewModel.filterText.get(),this.viewModel.filterCatalog(a),c.blur());return!0};b.prototype.handleSearch=function(a,c,e){this.viewModel.filterCatalog(this.viewModel.filterText.get())};b.prototype.handleLayerClick=function(a,c,e){e&&e.isChecked.set(!e.isChecked.get())};
b.prototype.handleFolderClick=function(a,c,e){if(this._ignoreHandleFolderClick)return this._ignoreHandleFolderClick=!1,!0;this.viewModel.presentableCatalog.attachToCollection(e.entries);this.viewModel.setBackText(this.viewModel.breadcrumb.get());this.viewModel.setBreadcrumbText(e.displayName);this.viewModel.currentFolderName.set(e.displayName);this.viewModel.backDisabled.set(!1);this.app.command("FocusOnFirstInputInView").execute(this)};b.prototype.handleSelectAllChecked=function(a,c){return this.viewModel.resultPage&&
this.viewModel.resultPage.getLength()?(this.viewModel.resultPage.getAt(0).parent.toggleAllChildren(c.checked),!0):!1};b.prototype.handleBackClick=function(a,c,e){this.viewModel.showingAll.get()?(a=this.viewModel.presentableCatalog.items.getAt(0).parent)&&a.parent&&a.parent.entries?(a=a.parent,this.viewModel.presentableCatalog.attachToCollection(a.entries),this.viewModel.setBreadcrumbText(a.displayName),this.viewModel.currentFolderName.set(a.displayName),this.viewModel.backDisabled.set(!1),a.parent?
this.viewModel.setBackText(a.parent.displayName):this.viewModel.setBackText(this.viewModel.homeText)):(this.viewModel.presentableCatalog.attachToCollection(this.viewModel.filteredCatalog),this.viewModel.setBreadcrumbText(null),this.viewModel.currentFolderName.set(this.viewModel.homeText),this.viewModel.backDisabled.set(!0),this.viewModel.setBackText(this.viewModel.homeText)):this.viewModel.reset()};b.prototype.handleShowSelectedClick=function(a,c,e){this.viewModel.toggleShowSelection()};b.prototype.handleClear=
function(a,c,e){this.viewModel.showingAll.get()&&this.viewModel.reset()};b.prototype.handleRefreshClick=function(){this.viewModel.refreshLayerCatalog()};return b}(d.essentialsHtmlViewer.mapping.modules.layerCatalog.BaseLayerCatalogView);f.PagedLayerCatalogView=g})(f.layerCatalog||(f.layerCatalog={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,c){var e=this;f.call(this,a,c);this.showGroupCheckbox=this.allChecked=this.backString=this.currentFolderName=this.homeText=this.backDisabled=this.backText=this.breadcrumb=this.resultPage=this.presentableCatalog=null;this.presentableCatalog=new d.framework.ui.PresentableCollection;this.presentableCatalog.attachToCollection(this.filteredCatalog);this.resultPage=this.presentableCatalog.items;this.presentableCatalog.isPaginated.set(!1);
this.homeText=a.getResource(c,"language-layer-catalog-home-text");this.presentableCatalog.pageSize.set(10);this.currentFolderName=new Observable(this.homeText);this.backString=new Observable(a.getResource(c,"language-layer-catalog-folder-up").format(this.currentFolderName.get()));this.breadcrumb=new Observable(this.homeText);this.backDisabled=new Observable(!0);this.backText=new Observable(this.homeText);this.allChecked=new Observable(!1);this.showGroupCheckbox=new Observable(!1);this.currentFolderName.bind(this,
function(){e.backString.set(a.getResource(c,"language-layer-catalog-folder-up").format(e.currentFolderName.get()))});this.backDisabled.bind(this,function(){e.resultPage&&e.resultPage.getLength()&&e.resultPage.getAt(0).parent?(e.allChecked.set(e.resultPage.getAt(0).parent.allChecked.get()),e.showGroupCheckbox.set(e.resultPage.getAt(0).parent.showGroupCheckbox.get()&&!e.backDisabled.get())):(e.allChecked.set(!1),e.showGroupCheckbox.set(!1))});this.app.command("ReevaluateAllChecked").register(this,function(a){e.allChecked.set(a)})}
__extends(b,f);b.prototype.ready=function(){f.prototype.ready.call(this);this.catalogCached&&(this.reset(),this.syncAddedLayers())};b.prototype._clearFilter=function(){this.filterText.set("");for(var a=0;a<this.filteredCatalog.get().length;a++)this.filteredCatalog.getAt(a).filter(this.filterText.get())};b.prototype.filterCatalog=function(a){var c=this;if(a){var e=this.getFilterProvider();(e?e.filter(a,this.filteredCatalog):new Promise(function(e,b){for(var d=0;d<c.filteredCatalog.get().length;d++)c.filteredCatalog.getAt(d).filter(a);
e()})).then(function(){for(var a=[],e=c._getFlattenedEntries(!0),b=0;b<e.length;b++)e[b].visible.get()&&a.push(e[b]);c.presentableCatalog.attachToCollection(new ObservableCollection(a))})}};b.prototype.reset=function(){this.backDisabled.set(!0);this.filterText.set("");this._clearFilter();this.presentableCatalog.attachToCollection(this.filteredCatalog);this.setBreadcrumbText(null);this.setBackText(this.homeText);this.showingAll.set(!0);this.showNoLayersSelectedText.set(!1);this.showSelectedButtonText.set(this.app.getResource(this.libraryId,
"language-layer-catalog-show-selected-button"));this.allChecked.set(!1);this.showGroupCheckbox.set(!1);this.currentFolderName.set(this.homeText)};b.prototype.setBreadcrumbText=function(a){a?this.breadcrumb.set(a):this.breadcrumb.set(this.homeText)};b.prototype.setBackText=function(a){a&&(20<a.length&&(a=a.substring(0,20),a="< "+a+"..."),this.backText.set(a))};b.prototype.toggleShowSelection=function(){var a=this.getCheckedEntries();if(this.showingAll.get()){for(var c=0;c<a.length;c++)a[c].visible.set(!0);
this.showSelectedButtonText.set(this.app.getResource(this.libraryId,"language-layer-catalog-show-all-button"));this.breadcrumb.set(this.app.getResource(this.libraryId,"language-layer-catalog-showing-selected-text"));this.backDisabled.set(!0);this.presentableCatalog.attachToCollection(new ObservableCollection(a));0===a.length&&this.showNoLayersSelectedText.set(!0)}else this.showNoLayersSelectedText.set(!0),this.showSelectedButtonText.set(this.app.getResource(this.libraryId,"language-layer-catalog-show-selected-button")),
this.breadcrumb.set(this.homeText),this.backDisabled.set(!0),this.presentableCatalog.attachToCollection(this.filteredCatalog),this.showNoLayersSelectedText.set(!1);this.setBackText(this.homeText);this.showingAll.set(!this.showingAll.get());this.presentableCatalog.sortCollection()};return b}(f.LayerCatalogViewModelBase);f.PagedLayerCatalogViewModel=g})(f.layerCatalog||(f.layerCatalog={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(d){function b(a,c,e){var k=this;d.call(this,a,c);this._disabled=!1;this._supportedDisplayTypeConfig=["dd","ddm","dms","xy"];this.mapCoordinateDataModelId=e;this.app.coordinatesManager.getCoordinatesModel(this.mapCoordinateDataModelId).then(function(a){return k.initializeCoordinateDataModel(a)},function(a){return k._handleCoordinateModelError(a)})}__extends(b,d);b.prototype.initializeCoordinateDataModel=function(a){var c=
this;if(a)if(this._dataModel=a,a=function(){c._processCoordinatesDataModel();c._disabled||c.app.coordinatesManager.registerModel(c._dataModel,!0)},this.app.map&&this.app.map.loaded)a();else this.app.event("MapLoadedEvent").once(this,a)};b.prototype._processCoordinatesDataModel=function(){var a=this;if(this._dataModel){var c=this._dataModel.configuration,e=function(c,e,b,d){e&&"latlon"===e.trim().toLowerCase()&&(e="dd");if(c&&e&&0<=a._supportedDisplayTypeConfig.indexOf(e.trim())&&(b||d)){var h={};
h.displayName=c.trim();h.output=e.trim();if(b){if(h.wkid=b,"xy"!==e&&!f.infrastructure.buffer.BufferUtils.isGeographicWkid(b)){a.app.trace.error("Could not add coordinate system {0}. This coordinate system uses a geographic output type. Please configure a valid WKID for a geographic coordinate system.".format(c));return}}else d&&(h.wkt=d);a._dataModel.coordinateSystems.addItem(h)}else a.app.trace.error("Could not add coordinate system {0} due to a configuration error. Please check your configuration settings.".format(c))};
c.defaultCoordinateDisplayTypes&&c.defaultCoordinateDisplayTypes.length&&c.defaultCoordinateDisplayTypes.forEach(function(c){c=c.toLowerCase().trim();if(0<=a._supportedDisplayTypeConfig.indexOf(c)){var b=a._dataModel.defaultGcsWkid,d=a.getResource("language-map-coordinates-{0}".format(c.toUpperCase())),f=a.getResource("language-map-coordinates-WKID")+": "+b,h="";"xy"===c&&(b=a.app.map.spatialReference.wkid,h=a.getResource("language-map-coordinates-default-coordinate-system-label"),f=b?a.getResource("language-map-coordinates-WKID")+
": "+b:a.getResource("language-map-coordinates-WKT"));e(h+" "+f+" "+d,c,b,a.app.map.spatialReference.wkt)}});c.customCoordinateSystems&&c.customCoordinateSystems.length&&c.customCoordinateSystems.forEach(function(a){return e(a.displayName,a.output,a.wkid,a.wkt)});0===this._dataModel.coordinateSystems.length()?this._disabled=!0:(c.defaultGcsWkid&&!isNaN(parseInt(c.defaultGcsWkid,10))&&(this._dataModel.defaultGcsWkid=parseInt(c.defaultGcsWkid,10)),c.fractionalDigits&&!isNaN(parseInt(c.fractionalDigits,
10))&&(this._dataModel.fractionalDigits=parseInt(c.fractionalDigits,10)),this._dataModel.currentCoordinateSystem.set(this._dataModel.coordinateSystems.getAt(0)),c.disableMouseLocationMonitoring||this._dataModel.isActive.bind(this,this._logCoordinates))}};b.prototype._logCoordinates=function(a){var c=this;this._disabled||(this._mouseMoveToken&&(this._mouseMoveToken.remove(),this._mouseMoveToken=null),this._keyboardMoveToken&&(this.app.event("EditVertexMovedEvent").unsubscribe(this._keyboardMoveToken),
this._keyboardMoveToken=null),a&&(this._keyboardMoveToken=this.app.event("EditVertexMovedEvent").subscribe(this,function(a){a.mapPoint&&c._dataModel.inputStream.set(a.mapPoint)}),this._mouseMoveToken=this.app.map.on("mouse-move",function(a){c.app.map.snappingManager?c.app.map.snappingManager.getSnappingPoint(a.screenPoint).then(function(k){k?c._dataModel.inputStream.set(k):c._dataModel.inputStream.set(a.mapPoint)},function(k){c._dataModel.inputStream.set(a.mapPoint)}):c._dataModel.inputStream.set(a.mapPoint)})))};
b.prototype._handleCoordinateModelError=function(a){this.app.trace.error("MapCoordinatesController: An error occurred while trying to retrieve the coordinatesModel {0}. Details of the error are: {1}".format(this.mapCoordinateDataModelId||"<unknown>",a.message))};return b}(d.framework.FrameworkObject);h.MapCoordinatesController=g})(g.map||(g.map={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.getStateFilter=function(){return{coordinateSystem:this.app.project.filter.coordinateSystem,isActive:!0}};b.prototype.exportState=function(){var a=this,c={coordinateSystem:null,isActive:!1};return Promise["try"](function(){a.app.command("_ExportCoordinatesState").execute(c);return c})};b.prototype.applyState=function(a){var c=this,e={state:a,completePromise:null};
return this.app.waitUntilAllLibrariesLoaded().then(function(){c.app.command("_ApplyCoordinatesState").execute(e);return e.completePromise})};return b}(d.framework.application.ModuleBase);f.CoordinatesModule=g})(f.coordinates||(f.coordinates={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.activated=function(){var a=this;!1!==this.viewModel.isEnabled.get()&&($(this.root).parent("[class*='top']").length&&(this.viewModel.isTop.set(!0),$(this.root).find(".arrow-closed").text(this.getResource("language-feature-coordinates-down-arrow")),$(this.root).find(".arrow-opened").text(this.getResource("language-feature-coordinates-up-arrow"))),$(this.root).parent("[class*='left']").length&&
this.viewModel.isLeft.set(!0),$(this.root).parent("[class*='right']").length&&this.viewModel.isRight.set(!0),$(this.root).parent("[class*='bottom']").length&&$(this.root).parent("[class*='right']").length&&$(".esriControlsBR").addClass("coordinate-attribution-override"),$(this.root).parent("[class*='bottom']").length&&this.viewModel.isBottom.set(!0),this.viewModel.coordinateSystemsLoaded.bind(this,function(c){return c?a.selectFirstInListOfCoordinateSystems():null}),this.app.command("ToggleMouseCoordinates").register(this,
function(){a.toggleCoordinatesActive()}),this.viewModel.coordinateSelectEnabled.bind(this,function(c){c?(a.app.event("FlyoutActivated").publish(a),c={view:a,onOtherInteracted:function(c){return a._onOtherInteracted(c)}},a.app.command("TapToDismiss").execute(c)):a.app.event("FlyoutDeactivated").publish(a)}))};b.prototype.toggleCoordinatesActive=function(a,c,e){!1==this.viewModel.isActive.get()?this.viewModel.startTracking():this.viewModel.stopTracking();this.viewModel.coordinateSelectEnabled.set(!1)};
b.prototype.toggleSelectContainer=function(a,c,e){this.viewModel.coordinateSelectEnabled.set(!this.viewModel.coordinateSelectEnabled.get());this.viewModel.isTop.get()||(a=$(this.root).find(".coords-select-item")[0],$(a).height())};b.prototype.changeCoordinateSystem=function(a,c,e){a=$(c.parentElement).index();$(c.parentElement.parentElement).children().children().removeClass("coords-select-item-selected");$(c).addClass("coords-select-item-selected");this.viewModel.currentCoordinateSystem.set(this.viewModel.coordinateSystems.getAt(a));
this.viewModel.coordinateSelectEnabled.set(!1)};b.prototype.selectFirstInListOfCoordinateSystems=function(){var a=$(this.root).find(".coords-select-item").get(0);$(a.firstElementChild).addClass("coords-select-item-selected")};b.prototype._onOtherInteracted=function(a){this.viewModel.coordinateSelectEnabled.set(!1)};return b}(d.framework.ui.ViewBase);f.CoordinatesView=g})(f.coordinates||(f.coordinates={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=d.framework.utils.ArrayUtils,l=function(b){function a(a,e){b.call(this,a,e);this.coordinatesModel=new Observable(null);this.isEnabled=new Observable(!0);this.isActive=new Observable(!1);this.coordinateSystems=new ObservableCollection([]);this.currentCoordinateSystem=new Observable(null);this.coordinateSelectEnabled=new Observable(!1);this.coordinateSelectArrow=new Observable(null);this.xValue=new Observable(null);this.yValue=new Observable(null);
this.xValueType=new Observable(null);this.yValueType=new Observable(null);this.coordinateSystemsLoaded=new Observable(!1);this.isTop=new Observable(!1);this.isBottom=new Observable(!1);this.isLeft=new Observable(!1);this.isRight=new Observable(!1);this._openByDefault=!1;this._outPutStreamBindingToken=null;this.app.command("_ExportCoordinatesState").register(this,this._exportState);this.app.command("_ApplyCoordinatesState").register(this,this._applyState)}__extends(a,b);a.prototype.initialize=function(a){var e=
this;void 0==a.isEnabled||a.isEnabled?a.coordinatesModel?(this._openByDefault=!!a.openByDefault,this._initializePromise=this.app.coordinatesManager.getCoordinatesModel(a.coordinatesModel).then(function(a){return e._integrateCoordinatesModel(a)})["catch"](function(k){e.isEnabled.set(!1);e.app.trace.error("CoordinatesViewModel: Error Initializing ViewModel. Could not retrieve {0}. {1}".format(a.coordinatesModel,k.message));throw k;}),this.coordinateSelectArrow.syncTransform(this.coordinateSelectEnabled,
function(a){return e.isTop.get()?a?e.getResource("language-feature-coordinates-up-arrow"):e.getResource("language-feature-coordinates-down-arrow"):a?e.getResource("language-feature-coordinates-down-arrow"):e.getResource("language-feature-coordinates-up-arrow")})):this.app.trace.error("CoordinatesViewModel: Failed to initialize. A coordinatesModel must be specified in configuration."):this.isEnabled.set(!1)};a.prototype.startTracking=function(){var a=this.coordinatesModel.get();a&&(this.isActive.set(!0),
this._outPutStreamBindingToken=a.outputStream.bind(this,this._updateDisplaySettings))};a.prototype.stopTracking=function(){this.isActive.set(!1);var a=this.coordinatesModel.get();a&&this._outPutStreamBindingToken&&(a.outputStream.unbind(this._outPutStreamBindingToken),this._outPutStreamBindingToken=null)};a.prototype._updateDisplaySettings=function(a){a?(this.xValue.set(a.formattedLatitudeOrX),this.yValue.set(a.formattedLongitudeOrY)):(this.xValue.set(""),this.yValue.set(""))};a.prototype._integrateCoordinatesModel=
function(a){this.coordinatesModel.set(a);this.coordinateSystems.sync(a.coordinateSystems);this.currentCoordinateSystem.sync(a.currentCoordinateSystem);this.currentCoordinateSystem.bind(this,function(e){a.currentCoordinateSystem.get()!==e&&a.currentCoordinateSystem.set(e)});this.currentCoordinateSystem.bind(this,this._updateCoordinateSystemDisplay);this._openByDefault&&this.startTracking()};a.prototype._updateCoordinateSystemDisplay=function(a){this.coordinateSystemsLoaded.get()||this.coordinateSystemsLoaded.set(!0);
this.xValue.set("");this.yValue.set("");"xy"===a.output?(this.xValueType.set(this._getCoordinateResource("x")),this.yValueType.set(this._getCoordinateResource("y"))):(this.xValueType.set(this._getCoordinateResource("latitude-abbrev")+":"),this.yValueType.set(this._getCoordinateResource("longitude-abbrev")+":"))};a.prototype._getCoordinateResource=function(a){return f.infrastructure.coordinates.CoordinateUtils.getResource(this.app,a)};a.prototype._exportState=function(a){a.isActive=this.isActive.get();
var e=this.currentCoordinateSystem.get();e&&(a.coordinateSystem={wkid:e.wkid,wkt:e.wkt,output:e.output})};a.prototype._applyState=function(a){var e=this;a.completePromise=this._initializePromise.then(function(){a.state.isActive?e.startTracking():e.stopTracking();var k=a.state.coordinateSystem;if(k){var b=g.firstOrDefault(e.coordinateSystems.get(),function(a){return a.output===k.output&&a.wkid===k.wkid&&a.wkt===k.wkt});b&&e.currentCoordinateSystem.set(b)}})};return a}(d.framework.ui.ViewModelBase);
h.CoordinatesViewModel=l})(g.coordinates||(g.coordinates={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){function d(){}d.decodeArrayBuffer=function(b){var a=Math.ceil(3*b.length/4),a=new ArrayBuffer(a);this.decode(b,a);return a};d.decode=function(b,a){var c=this._keyStr.indexOf(b.charAt(b.length-1)),e=this._keyStr.indexOf(b.charAt(b.length-1)),k=Math.ceil(3*b.length/4);64==c&&k--;64==e&&k--;var q,d,f,h,l=0,g=0,c=a?new Uint8Array(a):new Uint8Array(k);b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(l=0;l<k;l+=3)q=this._keyStr.indexOf(b.charAt(g++)),
d=this._keyStr.indexOf(b.charAt(g++)),e=this._keyStr.indexOf(b.charAt(g++)),h=this._keyStr.indexOf(b.charAt(g++)),q=q<<2|d>>4,d=(d&15)<<4|e>>2,f=(e&3)<<6|h,c[l]=q,64!=e&&(c[l+1]=d),64!=h&&(c[l+2]=f);return c};d._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return d}();d.BinTool=f})(d.editing||(d.editing={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(){function f(){}f.getRelatedFeatures=function(b,a,c){var e=new dojo.Deferred;if(!b)return b=Error("getRelatedFeatures: mapService cannot be null."),d.deferredReject(e,b),e;if(isNaN(a))return b=Error("getRelatedFeatures: relationshipId cannot be null."),d.deferredReject(e,b),e;if(!c)return b=Error("getRelatedFeatures: objectId cannot be null."),d.deferredReject(e,b),e;var k=new esri.tasks.RelationshipQuery;k.outFields=
["*"];k.relationshipId=a;k.objectIds=[c];b&&b.serviceLayer&&b.serviceLayer.queryRelatedFeatures?b.serviceLayer.queryRelatedFeatures(k).then(function(a){var c=[],k;for(k in a)if(a.hasOwnProperty(k))for(var b=0;b<a[k].features.length;b++)c.push(a[k].features[b]);d.deferredResolve(e,c)},function(a){d.deferredReject(e,a)}):d.deferredResolve(e,[]);return e};return f}();f.FeatureUtilities=g})(f.editing||(f.editing={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){function b(a,c){void 0===c&&(c={});if(!c.graphicsLayer)throw Error("Add Operation: Initialization failed. Graphics layer is not provided.");if(!c.addedGraphics)throw Error("Add Operation: Initialization failed. Added graphics are not provided.");this.state=c;this.displayName=a}b.prototype.performRedo=function(a,c){var e=this;return Promise.resolve().then(function(){e.state.addedGraphics.map(function(a){e.state.graphicsLayer.add(a);e.state.app.event("MarkupAddedEvent").publish(a)})})};
b.prototype.performUndo=function(a,c){var e=this;return Promise.resolve().then(function(){e.state.addedGraphics.map(function(a){e.state.graphicsLayer.remove(a);e.state.app.event("MarkupDeletedEvent").publish(a)})})};return b}();d.Add=f})(d.undoable||(d.undoable={}))})(d.editing||(d.editing={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){function b(a,c){var e=this;this._preUpdatedGraphicsGeometries=[];this._preUpdatedGraphicsAttributes=[];this._postUpdatedGraphicsGeometries=[];this._postUpdatedGraphicsAttributes=[];if(!c.graphicsLayer)throw Error("Add/Update Operation: Initialization failed. Graphics layer is not provided.");if(!c.addedGraphics)throw Error("Add/Update Operation: Initialization failed. Added graphics are not provided.");
if(!c.preUpdatedGraphics||!c.updatedGraphics)throw Error("Add/Update Operation: Initialization failed. Pre/Post updated graphics are not provided.");this.state=c;this.displayName=a;c.preUpdatedGraphics.map(function(a,c){e._preUpdatedGraphicsGeometries[c]=a.geometry.toJson();e._preUpdatedGraphicsAttributes[c]=JSON.stringify(a.attributes||{})});c.updatedGraphics.map(function(a,c){e._postUpdatedGraphicsGeometries[c]=a.geometry.toJson();e._postUpdatedGraphicsAttributes[c]=JSON.stringify(a.attributes||
{})})}b.prototype.performRedo=function(a,c){var e=this;return Promise.resolve().then(function(){e.state.addedGraphics.map(function(a){e.state.graphicsLayer.add(a);e.state.app.event("MarkupAddedEvent").publish(a)});e.state.updatedGraphics.map(function(a,c){a.setGeometry(esri.geometry.fromJson(e._postUpdatedGraphicsGeometries[c]));a.setAttributes(JSON.parse(e._postUpdatedGraphicsAttributes[c]));e.state.app.event("MarkupUpdatedEvent").publish(a)})})};b.prototype.performUndo=function(a,c){var e=this;
return Promise.resolve().then(function(){e.state.addedGraphics.map(function(a){e.state.graphicsLayer.remove(a);e.state.app.event("MarkupDeletedEvent").publish(a)});e.state.updatedGraphics.map(function(a,c){a.setGeometry(esri.geometry.fromJson(e._preUpdatedGraphicsGeometries[c]));a.setAttributes(JSON.parse(e._preUpdatedGraphicsAttributes[c]));e.state.app.event("MarkupUpdatedEvent").publish(a)})})};return b}();d.AddAndUpdate=f})(d.undoable||(d.undoable={}))})(d.editing||(d.editing={}))})(d.modules||
(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){function b(a,c){void 0===c&&(c={});if(!c.graphicsLayer)throw Error("Delete Operation: Initialization failed. Graphics layer is not provided.");if(!c.deletedGraphics)throw Error("Delete Operation: Initialization failed. Deleted graphics are not provided.");this.state=c;this.displayName=a}b.prototype.performRedo=function(a,c){var e=this;return Promise.resolve().then(function(){e.state.deletedGraphics.map(function(a){e.state.graphicsLayer.remove(a);
e.state.app.event("MarkupDeletedEvent").publish(a)})})};b.prototype.performUndo=function(a,c){var e=this;return Promise.resolve().then(function(){e.state.deletedGraphics.map(function(a){e.state.graphicsLayer.add(a);e.state.app.event("MarkupAddedEvent").publish(a)})})};return b}();d.Delete=f})(d.undoable||(d.undoable={}))})(d.editing||(d.editing={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){function b(a,c){var e=this;this._preUpdatedGraphicsGeometries=[];this._preUpdatedGraphicsAttributes=[];this._postUpdatedGraphicsGeometries=[];this._postUpdatedGraphicsAttributes=[];if(!c.graphicsLayer)throw Error("Delete/Update Operation: Initialization failed. Graphics layer is not provided.");if(!c.deletedGraphics)throw Error("Delete/Update Operation: Initialization failed. Deleted graphics are not provided.");
if(!c.preUpdatedGraphics||!c.updatedGraphics)throw Error("Delete/Update Operation: Initialization failed. Pre/Post updated graphics are not provided.");this.state=c;this.displayName=a;c.preUpdatedGraphics.map(function(a,c){e._preUpdatedGraphicsGeometries[c]=a.geometry.toJson();e._preUpdatedGraphicsAttributes[c]=JSON.stringify(a.attributes||{})});c.updatedGraphics.map(function(a,c){e._postUpdatedGraphicsGeometries[c]=a.geometry.toJson();e._postUpdatedGraphicsAttributes[c]=JSON.stringify(a.attributes||
{})})}b.prototype.performRedo=function(a,c){var e=this;return Promise.resolve().then(function(){e.state.deletedGraphics.map(function(a){e.state.graphicsLayer.remove(a);e.state.app.event("MarkupDeletedEvent").publish(a)});e.state.updatedGraphics.map(function(a,c){a.setGeometry(esri.geometry.fromJson(e._postUpdatedGraphicsGeometries[c]));a.setAttributes(JSON.parse(e._postUpdatedGraphicsAttributes[c]));e.state.app.event("MarkupUpdatedEvent").publish(a)})})};b.prototype.performUndo=function(a,c){var e=
this;return Promise.resolve().then(function(){e.state.deletedGraphics.map(function(a){e.state.graphicsLayer.add(a);e.state.app.event("MarkupAddedEvent").publish(a)});e.state.updatedGraphics.map(function(a,c){a.setGeometry(esri.geometry.fromJson(e._preUpdatedGraphicsGeometries[c]));a.setAttributes(JSON.parse(e._preUpdatedGraphicsAttributes[c]));e.state.app.event("MarkupUpdatedEvent").publish(a)})})};return b}();d.DeleteAndUpdate=f})(d.undoable||(d.undoable={}))})(d.editing||(d.editing={}))})(d.modules||
(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){function b(a,c){var e=this;void 0===c&&(c={});this._preUpdatedGraphicsGeometries=[];this._preUpdatedGraphicsAttributes=[];this._postUpdatedGraphicsGeometries=[];this._postUpdatedGraphicsAttributes=[];if(!c.graphicsLayer)throw Error("Update Operation: Initialization failed. Graphics layer is not provided.");if(!c.preUpdatedGraphics||!c.updatedGraphics)throw Error("Update Operation: Initialization failed. Pre/Post updated graphics are not provided.");
this.state=c;this.displayName=a;c.preUpdatedGraphics.map(function(a,c){e._preUpdatedGraphicsGeometries[c]=a.geometry.toJson();e._preUpdatedGraphicsAttributes[c]=JSON.stringify(a.attributes||{})});c.updatedGraphics.map(function(a,c){e._postUpdatedGraphicsGeometries[c]=a.geometry.toJson();e._postUpdatedGraphicsAttributes[c]=JSON.stringify(a.attributes||{})})}b.prototype.performRedo=function(a,c){var e=this;return Promise.resolve().then(function(){e.state.updatedGraphics.map(function(a,c){a.setGeometry(esri.geometry.fromJson(e._postUpdatedGraphicsGeometries[c]));
a.setAttributes(JSON.parse(e._postUpdatedGraphicsAttributes[c]));e.state.app.event("MarkupUpdatedEvent").publish(a)})})};b.prototype.performUndo=function(a,c){var e=this;return Promise.resolve().then(function(){e.state.updatedGraphics.map(function(a,c){a.setGeometry(esri.geometry.fromJson(e._preUpdatedGraphicsGeometries[c]));a.setAttributes(JSON.parse(e._preUpdatedGraphicsAttributes[c]));e.state.app.event("MarkupUpdatedEvent").publish(a)})})};return b}();d.Update=f})(d.undoable||(d.undoable={}))})(d.editing||
(d.editing={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){function d(){}d.findFeatureInLayer=function(b,a){if(!b||!a)return null;var c=a.graphics;if(1>c.length)return null;var e=["timestamp"];if(a.editFieldsInfo)for(var k in a.editFieldsInfo)a.editFieldsInfo.hasOwnProperty(k)&&e.push(a.editFieldsInfo[k]);var d=function(a){var c=0,k;for(k in a)!Array.contains(e,k)&&a.hasOwnProperty(k)&&++c;return c};k=c[0].attributes;if(d(k)!==d(b.attributes))return null;var d=0,n=[],f=[],h;
for(h in k){var l=Array.contains(e,h);if(!(l||k.hasOwnProperty(h)&&b.attributes.hasOwnProperty(h)))return null;l||(n.push(h),f.push(h),++d)}for(h=0;h<d;++h)if(n[h]!==f[h])return null;for(h=0;h<c.length;h++);return null};return d}();d.EditingUtils=f})(d.editing||(d.editing={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){var e=this;d.call(this,a,c);this.app.command("HideCreateEditView").register(this,function(){e.isActive&&e.app.viewManager.deactivateView(e)})}__extends(b,d);b.prototype.handleClickCreateNewFeature=function(a,c,e){this.viewModel.initiateCreateNewFeature()};b.prototype.handleClickSelectExistingFeature=function(a,c,e){this.viewModel.selectGeometry()};return b}(d.framework.ui.ViewBase);f.CreateOrEditView=
g})(f.editing||(f.editing={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var p=function(){return function(b,a){this.featureServiceId=b.featureServiceId;this.where="{0} = '{1}'".format(b.scanResultFieldName,a.replace("'","''"));this.template={};this.template[b.scanResultFieldName]=a}}();h.CreateOrEditFeatureDescriptor=p;var l=function(b){function a(a,e){b.call(this,a,e);this.geolocationEnabled=new Observable;this.searchRadius=new Observable(100)}__extends(a,b);a.prototype.initialize=function(a){a&&a.tools&&
this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,!0);a&&a.searchRadiusMeters&&this.searchRadius.set(a.searchRadiusMeters);this.app.command("CreateOrEditFeatureFromBarcodeScan").register(this,this._executeCreateOrEditFeatureFromBarcodeScan);this.app.command("CreateOrEditFeature").register(this,this._executeCreateOrEditFeature);this.app.command("SelectFeatureForEditing").register(this,this._findExistingFeature);this.app.event("Internal.EditorFormSetupEvent").subscribe(this,
this._fillTemplateDataInForm);this.geolocationEnabled.set(navigator&&void 0!==navigator.geolocation)};a.prototype._executeCreateOrEditFeatureFromBarcodeScan=function(a){var e=this;this.app.command("LaunchBarcodeScannerWithCallback").execute(function(k){"Success"==k.status&&(k=k.content,e.app.command("CreateOrEditFeature").execute([new p(a,k)]))})};a.prototype._executeCreateOrEditFeature=function(a){var e=this;this.resultsFSC=new d.essentialsHtmlViewer.mapping.infrastructure.FeatureSetCollection;this.inputFeatureDescriptors=
a||[];this.currentFeatureServiceDescriptor=null;for(a=0;a<this.inputFeatureDescriptors.length;a++){var k=this.inputFeatureDescriptors[a],b=this.app.site.essentialsMap.findMapServiceById(k.featureServiceId),n=new esri.tasks.Query;n.outFields=["*"];n.where=k.where;b.queryFeatures(n,function(a,c){return function(k){e._collectSearchResults(a,c,k)}}(b,k),function(a){e.app.trace.error("Error querying for feature data: {0}".format(a.toString()))})}};a.prototype._fillTemplateDataInForm=function(a,e){if(this.currentFeatureServiceDescriptor)for(var k=
a.get(),b=0;b<k.fields.length();b++){var d=k.fields.getAt(b),f=this.currentFeatureServiceDescriptor.template,h;for(h in f)f.hasOwnProperty(h)&&d.name.get()===h&&d.value.set(f[h])}};a.prototype._collectSearchResults=function(a,e,k){var b=this;this.currentFeatureLayer=a.layers[0];a=new d.essentialsHtmlViewer.mapping.infrastructure.FeatureSet({esriFeatureSet:k,layer:this.currentFeatureLayer});this.resultsFSC.featureSets.addItem(a);if(this.resultsFSC.featureSets.length()==this.inputFeatureDescriptors.length)if(1==
this.resultsFSC.countFeatures())this.app.trace.debug("Found one feature, start editing it."),e=this.resultsFSC.firstFeature(),this._startEditingFeature(e);else if(1<this.resultsFSC.countFeatures())this.app.trace.debug("Multiple features found, select one to edit."),this.app.command("ShowSelectionListOfFeaturesWithCallback").execute(a,this._startEditingFeature);else{this.app.trace.debug("Creating a new feature.");this.currentFeatureServiceDescriptor=e;this.app.command("ActivateView").execute("CreateOrEditView");
var n=this.app.event("ViewDeactivatedEvent").subscribe(this,function(a){"CreateOrEditView"===a.id&&(b.currentFeatureServiceDescriptor=null,b.app.event("ViewDeactivatedEvent").unsubscribe(n))})}};a.prototype.initiateCreateNewFeature=function(){this.app.command("ShowFeatureTemplatePicker").execute(this.currentFeatureLayer)};a.prototype.selectGeometry=function(){var a=this.app.toolRegistry.tool("SelectFeaturesForEditingTool");a&&a.setActive(!0)};a.prototype._findExistingFeature=function(a,e){var k=this,
b=new g.identify.MapIdentifyTask(this.app.map,this.app);b.layerRestriction=function(a){return a===k.currentFeatureLayer};var n=!1,h=function(a,c,e){c&&0<c.length&&(n=!0,a=new esri.tasks.FeatureSet,a.features=c.map(function(a){return a.feature}),c=new f.infrastructure.FeatureSet({esriFeatureSet:a,layer:e.layers[0]}),k.app.command("ShowSelectionListOfFeaturesWithCallback").execute(c,k._startEditingFeature))},l=dojo.hitch(this,function(a){n&&this._setSelectionToolActive(!1)}),s=function(a,c,e){k.app.trace.warning("Failed to find features: {0}".format(c.message))};
if("point"===a.type){var p=new esri.SpatialReference({wkid:102100}),v=this.searchRadius.get(),p=d.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.createCircle(p,a,e&&e>v?e:v,60);b.execute(p,h,l,s)}else b.execute(a,h,l,s)};a.prototype._startEditingFeature=function(a){this.app.command("HideCreateEditView").execute();this.app.command("HideMultiFeatureSelectorView").execute();this.app.command("ZoomToFeature").execute(a);this.app.command("StartEditingFeature").execute(a,!1)};a.prototype._setSelectionToolActive=
function(a){var e=this.app.toolRegistry.tool("SelectFeaturesForEditingTool");e&&(void 0!=a?e.setActive(a):e.setActive(!0))};return a}(d.framework.ui.ViewModelBase);h.CreateOrEditViewModel=l})(g.editing||(g.editing={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(d){function b(a,c){var e=this;d.call(this,a,c);this.app.command("HideMultiFeatureSelectorView").register(this,function(){e.isActive&&e.app.viewManager.deactivateView(e)});this.app.event("ViewActivatedEvent").subscribe(this,this.setDisplayResultPickerListOffset)}__extends(b,d);b.prototype.setDisplayResultPickerListOffset=function(){this.topContainer&&this.viewModel.topOffset.set(this.topContainer.clientHeight);this.bottomContainer&&
this.viewModel.bottomOffset.set(this.bottomContainer.clientHeight)};b.prototype.handleClickButton=function(a,c,e){0<this.viewModel.selectedFeatures.get().length?this.viewModel.submitResults():this.viewModel.showError()};b.prototype.handleClick=function(a,c,e){this._firstEvent&&this._cancelLongPress&&(this._firstEvent=null,this._cancelLongPress());"A"!==a.target.tagName&&this.viewModel.featureClicked(e);return!0};b.prototype.handleClearTextBox=function(a,c,e){this.viewModel.clearTextBox()};b.prototype.handleSelectAll=
function(a,c,e){this.viewModel.selectAll()};b.prototype.handleSelectNone=function(a,c,e){this.viewModel.selectNone()};b.prototype.resolveWidget=function(a,c){d.prototype.resolveWidget.call(this,a,c);var e;if("GetLabel"===a)return e=new f.infrastructure.FeatureDescriptionPresenterView(this.app,this.libraryId),e.contentField="label",e.root=dojo.create("div"),e.root.className="feature-label",e.attach(c),e;if("GetDescription"===a)return e=new f.infrastructure.FeatureDescriptionPresenterView(this.app,
this.libraryId),e.root=dojo.create("div"),e.root.className="feature-description",e.attach(c),e;if("RenderComplexResultTemplate"===a&&"complex"===this.viewModel.resultTemplateComplexity)return e=this.app.viewManager.createView({markupResource:"Mapping/modules/Workflow/Templates/DisplayResultPickerComplexResultTemplateView.html",typeName:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.templates.DisplayResultPickerResultTemplateView"}),e.app=this.app,e.libraryId=this.libraryId,e.parentView=
this,e.attach(c),e;if("RenderSimpleResultTemplate"===a&&"simple"===this.viewModel.resultTemplateComplexity)return e=this.app.viewManager.createView({markupResource:"Mapping/modules/Workflow/Templates/DisplayResultPickerSimpleResultTemplateView.html",typeName:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.templates.DisplayResultPickerResultTemplateView"}),e.app=this.app,e.libraryId=this.libraryId,e.parentView=this,e.attach(c),e};return b}(d.framework.ui.ViewBase);h.MultiFeatureSelectorView=
g})(g.editing||(g.editing={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(h){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);return b}(d.infrastructure.Feature);h.DisplayResultPickerFeature=g;h.generateDisplayResultPickerFeaturefromFeature=function(d){d.isSelected=new Observable(!1);d.cssClass=new Observable("");d.isFiltered=new Observable(!1);d.showIcon=!0;d.showCheckbox=!0;return d}})(g.workflow||(g.workflow={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(){f.apply(this,arguments);this.buttons=null;this.filterSectionVisible=new Observable(!0);this.showFilterTextBox=new Observable(!1);this.isSingleSelectionMode=new Observable(!0);this.filterText=new Observable("");this.disabledLinkCssClass=new Observable("");this.topOffset=new Observable("0px");this.bottomOffset=new Observable("0px");this.message=null}__extends(b,f);b.prototype.initialize=function(a){this.app.command("ShowSelectionListOfFeaturesWithCallback").register(this,
this._showSelectionListOfFeatures);this.featureSet=null;this.features=new ObservableCollection([]);this.selectedFeatures=new ObservableCollection([]);this.resultsList=new ObservableCollection([]);this.cssClass=new Observable("display-result-picker-list");a=a.displayResultPickerTemplateComplexity;this.resultTemplateComplexity=void 0===a||"complex"!=a&&"simple"!=a?"complex":a.toLowerCase();this.message=new Observable(this.app.getResource(this.libraryId,"language-feature-editing-multi-feature-selector-message"));
this.requiredValueErrorMessage=new Observable("");a=[];a.push(new d.forms.FormButton("Done","Done",!0,!0));this.buttons=Observable.makeBindableProxy(a)};b.prototype._showSelectionListOfFeatures=function(a,c){this.callback=c;this.featureSet=a;this.features.clear();for(var e=0;e<a.features.length();e++){var k=d.essentialsHtmlViewer.mapping.modules.workflow.generateDisplayResultPickerFeaturefromFeature(a.features.getAt(e));k.showCheckbox=!1;this.features.addItem(k)}this.selectedFeatures.set([]);this.resultsList.set(this.features.get());
this.requiredValueErrorMessage.set("");this.cssClass.set("display-result-picker-list");this.app.command("ActivateView").execute("MultiFeatureSelectorView")};b.prototype.featureClicked=function(a){this.clearSelection();this.addFeatureToSelection(a,!0)};b.prototype.featureChecked=function(a){this.clearSelection();this.addFeatureToSelection(a,!0)};b.prototype.addFeatureToSelection=function(a,c){if(void 0!=a.isFiltered.get()&&!a.isFiltered.get()){a.isSelected.set(!0);a.cssClass.set("selected");for(var e=
!1,k=0;k<this.selectedFeatures.getItems().length;k++)if(this.selectedFeatures.getItems()[k]===a){e=!0;break}e||this.selectedFeatures.addItem(a);this.features.indexOf(a)}};b.prototype.clearSelection=function(){if(this.selectedFeatures.length()){for(var a=0;a<this.selectedFeatures.length();a++)this.selectedFeatures.getAt(a).isSelected.set(!1),this.selectedFeatures.getAt(a).cssClass.set("");this.selectedFeatures.clear()}};b.prototype.clearTextBox=function(){this.filterText.set("")};b.prototype.selectAll=
function(){this.addFeatureToSelection(this.features.getAt(0),!0);for(var a=1;a<this.features.get().length;a++)this.addFeatureToSelection(this.features.getAt(a),!1)};b.prototype.selectNone=function(){this.clearSelection()};b.prototype.submitResults=function(){this.callback&&this.callback(this.selectedFeatures.getAt(0))};b.prototype.showError=function(){this.requiredValueErrorMessage.set(this.app.getResource(this.libraryId,"language-feature-editing-multi-feature-selector-error-message"));this.cssClass.set("display-result-picker-list error")};
return b}(d.framework.ui.ViewModelBase);f.MultiFeatureSelectorViewModel=g})(f.editing||(f.editing={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);return b}(d.framework.application.ModuleBase);f.ExportMapModule=g})(f.exportMap||(f.exportMap={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){var e=this;d.call(this,a,c);this.app.command("ShowExportMapDialog").register(this,function(){e.app.viewManager.activateView(e);e.viewModel.exportComplete.set(!1)},function(){return e.app.site&&!!e.app.site.essentialsMap&&!!e.app.site.essentialsMap.supportedExportFormats})}__extends(b,d);b.prototype.handleExportMapClick=function(a,c,e){this.viewModel.exportMap()};b.prototype.handleViewImageClick=function(a,
c,e){window.open(this.viewModel.url.get());this.viewModel.exportComplete.set(!1)};return b}(d.framework.ui.ViewBase);f.ExportMapView=g})(f.exportMap||(f.exportMap={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,c){var e=this;f.call(this,a,c);this.formatSupportsIncludeGeoreferenceData=new Observable(!1);this.isExporting=new Observable(!1);this.exportComplete=new Observable(!1);this.url=new Observable(null);this.outputFormats=new ObservableCollection;this.allowIncludeGeoreferenceData=new Observable(!0);this.selectedFormat=new Observable(null);this.includeGeoreferenceData=new Observable(!1);if(this.app.site&&this.app.site.isInitialized)this.siteInitialized();
else this.app.event("SiteInitializedEvent").once(this,this.siteInitialized);this.formatSupportsIncludeGeoreferenceData.syncTransform(this.selectedFormat,function(a){return a&&"GeoTIFF"!=a&&"PDF"!=a});this.includeGeoreferenceData.syncTransform(this.selectedFormat,function(a){return a&&"GeoTIFF"!=a&&"PDF"!=a&&e.includeGeoreferenceData.get()})}__extends(b,f);b.prototype.siteInitialized=function(){var a=this;if(this.app.site&&this.app.site.essentialsMap&&this.app.site.essentialsMap.supportedExportFormats){var c=
this.app.site.essentialsMap.supportedExportFormats.filter(function(c){return!(4.03>a.app.site.getEssentialsVersion()&&"pdf"===c.toLowerCase())});this.outputFormats.set(c);this.app.site.essentialsMap.exportMapImageOptions&&this.app.site.essentialsMap.exportMapImageOptions.defaultOutputFormat?this.selectedFormat.set(this.getFormatIgnoreCase(this.app.site.essentialsMap.exportMapImageOptions.defaultOutputFormat)):0<this.outputFormats.get().length?this.selectedFormat.set(this.outputFormats.getAt(0)):this.selectedFormat.set(this.app.getResource(this.libraryId,
"language-export-map-none"));this.app.site.essentialsMap.exportMapImageOptions&&this.allowIncludeGeoreferenceData.set(this.app.site.essentialsMap.exportMapImageOptions.allowIncludeGeoreferenceData)}this.app.command("ShowExportMapDialog").raiseCanExecuteChanged()};b.prototype.getFormatIgnoreCase=function(a){var c=this.outputFormats.get();if(!c||0>=c.length)return null;if(a){a=a.toUpperCase();for(var e=0;e<c.length;e++){var k=c[e];if(k&&k.toUpperCase()===a)return c[e]}}return c[0]};b.prototype.exportMap=
function(){var a=this;this.isExporting.set(!0);var c=this.app.site.essentialsMap;this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-export-map-is-exporting"));var e=new d.essentials.ReportParameters;e.outputFormat=this.selectedFormat.get();e.customExtent=this.app.map.extent;e.extentType=d.essentials.ReportParameters.CURRENT_EXTENT;this.allowIncludeGeoreferenceData&&(e.includeGeoreferenceData=this.includeGeoreferenceData.get());void 0!=this.app&&null!=this.app.map&&
e.populateMapGraphicsLayers(this.app.map);c.exportMap(e,function(c){a.app.command("ScreenReaderNarrate").execute(a.app.getResource(a.libraryId,"language-export-map-complete-description"));a.isExporting.set(!1);a.url.set(c.href);a.exportComplete.set(!0)},function(c){a.app.command("Alert").execute(a.app.getResource(a.libraryId,"language-export-map-error").format(c.message));a.app.command("ScreenReaderNarrate").execute(a.app.getResource(a.libraryId,"language-export-map-error").format(c.message));a.isExporting.set(!1)})};
return b}(d.framework.ui.ViewModelBase);f.ExportMapViewModel=g})(f.exportMap||(f.exportMap={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);return b}(d.framework.application.ModuleBase);f.ExportWebMapModule=g})(f.exportWebMap||(f.exportWebMap={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(d){function b(a,c){var e=this;d.call(this,a,c);this.app.command("ShowExportWebMapDialog").register(this,function(){e.app.viewManager.activateView(e);e.app.command("ScreenReaderNarrate").execute(e.app.getResource(e.libraryId,"language-export-web-map-narrate-view-activated"))},function(){return e.viewModel?f.infrastructure.PortalUtils.hasCreateContentPrivilege(e.app):!1})}__extends(b,d);b.prototype.activated=function(){d.prototype.activated.call(this);
this.viewModel&&this.viewModel.clearFields()};b.prototype.handleExportWebMapClick=function(a,c,e){this.viewModel.exportWebMap()};b.prototype.handleOpenPortalItem=function(a,c,e){a=f.infrastructure.PortalUtils.getPortalItemUrl(this.viewModel.itemId,this.app);window.open(a);this.app.viewManager.deactivateView(this)};return b}(d.framework.ui.ViewBase);h.ExportWebMapView=g})(g.exportWebMap||(g.exportWebMap={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(h){function b(a,c){var e=this;h.call(this,a,c);this.itemId="";this.title=new Observable(null);this.isExporting=new Observable(!1);this.exportComplete=new Observable(!1);this.app.command("OpenPortalMyContentWindow").register(this,function(){var a=f.infrastructure.PortalUtils.getPortalMyContentUrl(e.app);window.open(a)},function(){return f.infrastructure.PortalUtils.hasAccessToPortal(e.app)});if(this.app.site&&this.app.site.isInitialized)this.siteInitialized();
else this.app.event("SiteInitializedEvent").once(this,this.siteInitialized)}__extends(b,h);b.prototype.siteInitialized=function(){this.app.command("ShowExportWebMapDialog").raiseCanExecuteChanged();this.app.command("OpenPortalMyContentWindow").raiseCanExecuteChanged()};b.prototype.exportWebMap=function(){var a=this;this.title.get()?(this.isExporting.set(!0),this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-export-web-map-is-exporting")),this.app.webMap.create().then(function(c){var e=
a.app.site.essentialsMap.getMap().extent,k=new esri.SpatialReference(4326);f.infrastructure.GeometryUtils.projectGeometry(e,k,function(e){a._uploadWebmapToPortal(a.title.get(),c,e)},function(c){a._handleError(c)},a.app)},function(c){a._handleError(c)})):(this.app.command("Alert").execute(this.app.getResource(this.libraryId,"language-export-web-map-invalid-title")),this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-export-web-map-invalid-title")))};b.prototype._uploadWebmapToPortal=
function(a,c,e){var k=this;e=String.format("{0}, {1}, {2}, {3}",e.xmin,e.ymin,e.xmax,e.ymax);d.request({url:this.app.site.url+"/additem",content:{f:"json",extent:e,text:JSON.stringify(c),title:a,type:"Web Map"},load:function(a){k.itemId=a.id;k.app.command("ScreenReaderNarrate").execute(k.app.getResource(k.libraryId,"language-export-web-map-complete-description"));k.isExporting.set(!1);k.exportComplete.set(!0)},error:function(a){k._handleError(a)}},{usePost:!0})};b.prototype._handleError=function(a){this.app.trace.error("Error exporting web map to Portal.",
a);this.app.command("Alert").execute(this.app.getResource(this.libraryId,"language-export-web-map-error"));this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-export-web-map-error"));this.clearFields()};b.prototype.clearFields=function(){this.itemId="";this.title.set(null);this.isExporting.set(!1);this.exportComplete.set(!1)};return b}(d.framework.ui.ViewModelBase);h.ExportWebMapViewModel=g})(g.exportWebMap||(g.exportWebMap={}))})(f.modules||(f.modules={}))})(g.mapping||
(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){(function(h){var l=d.framework.utils.ArrayUtils,b=d.essentialsHtmlViewer.mapping.infrastructure.TimeZoneUtils,a=function(a){function e(e,b){a.call(this,e,b);this.DEFAULT_VIEW_ID="FeatureRelationsProviderView";this.DEFAULT_PAGED=!0;this.DEFAULT_PAGE_SIZE=50;this.REL_FEATURES_TABLE_ITEM_CLICKED_EVENT="RelatedFeatureTableItemClickedEvent";this.REL_FEATURES_TABLE_ITEM_PRESSED_EVENT="RelatedFeatureTableItemPressedEvent";this.hasRelationships=
new Observable(!1);this.relationList=new ObservableCollection([]);this.parentFeature=new Observable(null);this.relatedLayers=new ObservableCollection([]);this.relatedFeatures=new ObservableCollection;this.relatedFeatureViews=[];this._onViewsCreated=this._viewModeRegionConfig=this._config=this._viewContainerViewClosedEventBindingToken=null;this._allRelatedFeatureInfo=[];this._addedRelatedFeatures=[];this._relatedFeatureListBindingTokens=[];this._relatedLayerPromises=null;this.app.command("ShowFeatureParentDetails").register(this,
this.showParentView);this.app.command("ClearFeatureInformation").register(this,this._cleanup);this.app.event(this.REL_FEATURES_TABLE_ITEM_CLICKED_EVENT).subscribe(this,this.activateRelatedFeatureView)}__extends(e,a);e.prototype.createAttachedViews=function(a,c,e,b){this._config=a;this._viewModeRegionConfig=c;this._onViewsCreated=e};e.prototype.createAttachedViewsSuper=function(e,b,d,f){a.prototype.createAttachedViews.call(this,e,b,d,f)};e.prototype.activateRelatedFeatureView=function(a){if(a=a instanceof
f.infrastructure.Feature?this._getFeatureInfoFromFeature(a):a)for(var c=0;c<this._allRelatedFeatureInfo.length;c++){var e=this._allRelatedFeatureInfo[c].featureInfo;if(!(a.id.get()!==e.id.get()||a.layer&&e.layer&&a.layer!==e.layer&&a.layer.layerId!==e.layer.layerId)){this._displayGeocortexFeatureDetails(this._allRelatedFeatureInfo[c].gcxFeature);break}}};e.prototype.showParentView=function(){1>this.relatedFeatures.getLength()?this.parentFeature.get()&&this.parentFeature.set(null):(this.relatedFeatures.removeItem(this.currentFeature.get()),
0==this.relatedFeatures.getLength()?this.app.command("ShowFeatureDetails").execute(this.parentFeature.get()):this.app.command("ShowFeatureDetails").execute(this.relatedFeatures.getAt(this.relatedFeatures.length()-1)))};e.prototype._generateRelatedFeaturesViewIdFromConfigViewId=function(a,c){var e=d.framework.utils.alphaNumericToken();return"{0} relatedfeatures-{1}".format(a||this.DEFAULT_VIEW_ID,c?c+"-"+e:e)};e.prototype._createConfiguredPresentableResultCollection=function(a){a=new d.framework.ui.PresentableCollection(a);
a.pageSize.set(this.DEFAULT_PAGE_SIZE);this.DEFAULT_PAGED!=a.isPaginated.get()&&a.isPaginated.set(this.DEFAULT_PAGED);a.items.useThrottling=!0;a.sortingPredicate=null;return a};e.prototype._createColumnHeaderItems=function(a){var c=[],e=new d.essentialsHtmlViewer.mapping.infrastructure.ui.components.Table.TableColumnHeaderViewModel.SharedState(a,"sort","sort-up","sort-down");a=a.items.get();if(a.length){a=a[0].attributes.get();for(var b=0;b<a.length;b++)a[b].visible&&!a[b].visible.get()||c.push(new f.infrastructure.ui.components.Table.TableColumnHeaderViewModel(this.app,
this.libraryId,e,a[b].displayName.get(),a[b].type.get(),b))}return c};e.prototype._getFeatureInfoFromFeature=function(a){for(var c=0;c<this._allRelatedFeatureInfo.length;c++)if(this._allRelatedFeatureInfo[c].gcxFeature===a)return this._allRelatedFeatureInfo[c].featureInfo;return null};e.prototype._getFeatureFromFeatureInfo=function(a){for(var c=0;c<this._allRelatedFeatureInfo.length;c++)if(this._allRelatedFeatureInfo[c].featureInfo===a)return this._allRelatedFeatureInfo[c].gcxFeature;return null};
e.prototype._displayGeocortexFeatureDetails=function(a){this._addFeatureToBucket(a);this.app.command("ShowFeatureDetails").execute(a)};e.prototype._addFeatureToBucket=function(a){a!=this.relatedFeatures.getAt(this.relatedFeatures.getLength())&&this.relatedFeatures.addItem(a)};e.prototype._destroyAttachedViews=function(){for(var a=this,c=this.relatedFeatureViews.length-1;0<=c;c--){var e=this.relatedFeatureViews[c];this.relatedFeatureViews.splice(c,1);this.app.viewManager.destroyView(e);delete e.viewModel}this._relatedFeatureListBindingTokens.forEach(function(c){return a.relationList.unbind(c)});
this._addedRelatedFeatures=[];this._relatedFeatureListBindingTokens=[]};e.prototype._getRelationshipObjectFromFeatureInfo=function(a){for(var c=null,e=0;e<this.relationList.length();e++)for(var c=this.relationList.getAt(e),b=0;b<c.relatedEsriFeatureInfo.length();b++)if(a===c.relatedEsriFeatureInfo.getAt(b))return c;return c};e.prototype._processGeneratedGCXFeature=function(a){this._allRelatedFeatureInfo.push(a);var c=this._getRelationshipObjectFromFeatureInfo(a.featureInfo);c&&(c.relatedGcxFeatures.addItem(a.gcxFeature),
c.columnHeaders.length()||c.columnHeaders.addItems(this._createColumnHeaderItems(c.presentableResults)))};e.prototype._generateGeocortexFeature=function(a,c,e){var d=b.getTimeZoneFromLayer(c),h=null;this.parentFeature.get()&&this.parentFeature.get().layer&&(h=b.getDisplayTimeZoneFromMapService(this.parentFeature.get().layer.mapService),d||(d=b.getTimeZoneFromMapService(this.parentFeature.get().layer.mapService)));a=new f.infrastructure.Feature({graphic:a,layer:c,featureLayer:e,timeZoneId:d,displayTimeZoneId:h});
a.loadAttributes(!0);c?(a.defaultNumberFormat=l.firstOrDefault([c.defaultNumberFormat,c.mapService.defaultNumberFormat],function(a){return!!a}),a.defaultDateFormat=l.firstOrDefault([c.defaultDateFormat,c.mapService.defaultDateFormat],function(a){return!!a})):this.parentFeature.get()&&(c=this.parentFeature.get().layer)&&(a.defaultNumberFormat=c.mapService.defaultNumberFormat,a.defaultDateFormat=c.mapService.defaultDateFormat);if(e&&"Table"===e.type&&0<e.relationships.length&&0<this.app.site.getFeatureServices().length)for(a.hasVisibleRelationships.set(!0),
c=0;c<e.relationships.length;c++)d=e.relationships[c],d.visible||(d.visible=!0);return a};e.prototype._makeAttributesObservable=function(a,c){var e=new ObservableCollection,b=this._getAttributeTypes(c);if(a)for(var d in a)if(a.hasOwnProperty(d)){var f=a[d];b[d]&&"esriFieldTypeDate"===b[d]&&f&&(f=this._formatDate(f));e.addItem({name:new Observable(d),value:new Observable(f)})}return e};e.prototype._getAttributeTypes=function(a){var c={};a&&a.fields&&dojo.forEach(a.fields,function(a){c[a.name]=a.type});
return c};e.prototype._formatDate=function(a){return f.infrastructure.FormatUtils.formatDate(f.infrastructure.FormatUtils.parseDate(a))};e.prototype._cleanup=function(){this.parentFeature.set(null);this.relatedFeatures.clear()};e.prototype._processRelatedFeature=function(a,c,e){var b=new ObservableCollection,d=c.attributes[a.displayField];if(a.getField&&d){var h=f.infrastructure.gis.FieldInfo.fromEsriField(a.getField(a.displayField),a);h.isCodedValueDomain()||h.hasSubtypeCodedValueDomains()?d=h.resolveCodedDomainValue(d,
c.attributes[a.typeIdField]):"esriFieldTypeDate"===h.type&&(d=this._formatDate(d))}d||(d=c.attributes[a.objectIdField]);return{id:new Observable(c.attributes[a.objectIdField]),displayName:new Observable(d),relationName:new Observable(e.displayName.get()),layer:a,featureUrl:a.url+"/"+c.attributes[a.objectIdField],attributes:this._makeAttributesObservable(c.attributes,a),geometry:new Observable(c.geometry),hasAttachments:new Observable(!1),attachmentInfos:b}};e.prototype._loadAttachments=function(a){var c=
this,e=a.featureUrl+"/attachments",b=null,b={url:e+"?f=json&ts="+(new Date).getTime(),handleAs:"json"},b=a.layer instanceof esri.layers.FeatureLayer&&a.layer.url?a.layer.queryAttachmentInfos(parseInt(a.id.get())):esri.request(b);b.then(function(c){if(0<c.length&&!c.attachmentInfos&&c instanceof Array){c.attachmentInfos=[];for(var b=0;b<c.length;b++)c.attachmentInfos[b]=c[b]}if(c&&c.attachmentInfos&&0<c.attachmentInfos.length){for(b=0;b<c.attachmentInfos.length;b++){var q=c.attachmentInfos[b],f=new d.essentialsHtmlViewer.mapping.infrastructure.AttachmentInfo;
f.id.set(q.id);f.contentType.set(q.contentType);f.size.set(q.size);f.name.set(q.name);f.url.set(e+"/"+q.id);a.attachmentInfos.addItem(f)}a.hasAttachments.set(!0)}},function(e){c.app.trace.error("Unable to retrieve attachment information for related feature '"+a.featureUrl+"': "+e.message)})};e.prototype._updateProviderState=function(){var a=this,c=!1;this.updateProviderState(c);var e=function(e){if(e.canAdd.get()||!e.errorFetchingRelatedFeatures.get()&&e.relatedEsriFeatureInfo.length())c=!0;a.updateProviderState(c)};
if(this.relationList.length())for(var b=0;b<this.relationList.length();b++)(function(){if(!c){var d=a.relationList.getAt(b);if(d.hasRetrievedData.get())e(d);else d.hasRetrievedData.once(a,function(){return e(d)})}})()};e.prototype._createAttachedViews=function(e,b,d){var f=this;e=e||this._config;d=d||this._onViewsCreated;b=b||this._viewModeRegionConfig;if(e){var h=function(){f.relationList.get().forEach(function(h){if(-1===f._addedRelatedFeatures.indexOf(h.displayName.get())){var l=dojo.clone(e);
l.title=h.displayName.get();l.viewId=f._generateRelatedFeaturesViewIdFromConfigViewId(l.viewId,h.displayName.get());a.prototype.createAttachedViews.call(f,l,b,function(a){f.relatedFeatureViews=f.relatedFeatureViews.concat(a);d&&d(a)},h);f._addedRelatedFeatures.push(h.displayName.get())}})};h();this._relatedFeatureListBindingTokens.push(this.relationList.bind(this,function(){return h()}))}};e.prototype._checkRelatedFeature=function(a){var c=this;if(a){var e=a.layer,b=a.esriFeature,h=null;if(e&&(h=
this._findGeocortexLayer(e,this.app.site),!h&&"Table"!==e.type)){this.app.trace.debug("Could not find related layer in site. Related features will not be editable/viewable.");a.gcxFeature=new f.infrastructure.Feature({graphic:b,featureLayer:e});this._processGeneratedGCXFeature(a);return}if(!b.geometry&&h&&h.mapService&&h.mapService.serviceLayer&&h.type!==d.essentials.LayerType.TABLE_LAYER){var e=null,l=h.mapService.serviceLayer;l instanceof esri.layers.FeatureLayer&&(e=d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.findFeatureInMap(b,
this.app.site,l));if(e)a.gcxFeature=this._generateGeocortexFeature(e,h,l),this._processGeneratedGCXFeature(a);else{var g=new esri.tasks.Query;g.objectIds=[b.attributes[h.getObjectIdFieldName()]];g.outFields=["*"];g.returnGeometry=!0;if(l instanceof esri.layers.FeatureLayer)l.queryFeatures(g,function(e){e.features&&(b=e.features[0],a.gcxFeature=c._generateGeocortexFeature(b,h,l),c._processGeneratedGCXFeature(a))},function(a){c.app.trace.error("There was an error in retrieving the related feature: "+
a)});else{h.mapService.serviceUrl.split("?");var m=f.infrastructure.taskUtils.getQueryTask(h);h.getFeatureLayer().then(function(e){m.execute(g,function(d){d.features&&(b=d.features[0],a.gcxFeature=c._generateGeocortexFeature(b,h,e),c._processGeneratedGCXFeature(a))},function(a){c.app.trace.error("There was an error in retrieving the related feature: "+a)})})["catch"](function(a){c.app.trace.error("There was an error in returning the feature layer: "+a)})}}}else a.gcxFeature=this._generateGeocortexFeature(b,
h,e),this._processGeneratedGCXFeature(a)}};e.prototype._findGeocortexLayer=function(a,c){if(a&&c&&c.essentialsMap)return c.essentialsMap.findLayerFromMatchingEsriFeatureLayer(a)};e.prototype._getProperMapServiceUrlForComparison=function(a,c){var e=a.serviceUrl;a.serviceToken&&0<c.search(/token=.[^&]*/g)&&(e+="?token="+a.serviceToken);return e};return e}(f.infrastructure.featureDetails.FeatureProviderBase);h.RelatedFeaturesViewModelBase=a})(h.FeatureDetailsProviders||(h.FeatureDetailsProviders={}))})(g.FeatureDetails||
(g.FeatureDetails={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.FeatureProviderBase=geocortex.essentialsHtmlViewer.mapping.infrastructure.featureDetails.FeatureProviderBase;
(function(d){(function(g){(function(f){(function(g){(function(h){(function(h){var l=function(b){function a(a,e){b.call(this,a,e);this.SEARCHTABLE_KEY="parentSearchTable";this.SEARCH_TABLE_ID_KEY="SearchTableId";this.datalinkSearches=[];this.currentSearchTable=null;if(a.site&&a.site.isInitialized)this._siteInitialized();else a.event("SiteInitializedEvent").once(this,this._siteInitialized)}__extends(a,b);a.prototype.activateRelatedFeatureView=function(a){a instanceof f.infrastructure.Feature||(a=this._getFeatureFromFeatureInfo(a));
var e=this.parentFeature.get();e&&a&&a instanceof f.infrastructure.Feature&&e.getExtendedPropertyByName(this.SEARCH_TABLE_ID_KEY)==a.getExtendedPropertyByName(this.SEARCH_TABLE_ID_KEY)?this.showParentView():b.prototype.activateRelatedFeatureView.call(this,a)};a.prototype.handleCurrentFeatureChanged=function(a){var e=this;if(a){this._destroyAttachedViews();this.hasRelationships.set(!1);this.relationList.clear();this._allRelatedFeatureInfo=[];this.datalinkSearches=[];this.currentSearchTable=null;this._featureLayers=
{};this._allLayers=[];this._relatedLayerPromises&&(this._relatedLayerPromises.cancel(),this._relatedLayerPromises=null);var b=a.getExtendedPropertyByName(this.SEARCHTABLE_KEY);if(b){var q=b.getExtendedPropertyByName(this.SEARCH_TABLE_ID_KEY),n=this._getSearchTable(q);if(n){var h=new Observable(this.providerEnabled.get()),l=new ObservableCollection([]),g=b.esriFeature.get(),m={id:new Observable("Parent_SearchTable"),displayName:new Observable(f.infrastructure.FilterUtils.sanitize(b.label.get(),{allowFrames:!1,
uriTransformer:function(a){return a}})),relationName:new Observable(null),layer:null,featureUrl:"",attributes:b.attributes,geometry:new Observable(g.geometry),hasAttachments:new Observable(!1),attachmentInfos:new ObservableCollection([])};h.sync(this.providerEnabled);n={displayName:new Observable(n.displayName),id:new Observable(0),relatedTableId:new Observable(null),visible:new Observable(!0),relatedEsriFeatureInfo:new ObservableCollection([m]),relatedGcxFeatures:l,hasRetrievedData:new Observable(!0),
noRelatedFeatures:new Observable(!1),canAdd:new Observable(!1),validCardinality:new Observable(!1),errorFetchingRelatedFeatures:new Observable(!1),presentableResults:this._createConfiguredPresentableResultCollection(l),columnHeaders:new ObservableCollection([]),providerEnabled:h,masterViewModel:this};this.relationList.addItem(n);b={featureInfo:m,esriFeature:g,gcxFeature:b,layer:null};this._checkRelatedFeature(b);b.gcxFeature.setExtendedProperty(this.SEARCH_TABLE_ID_KEY,q);this._createAttachedViews();
this.updateProviderState(!0)}}else if(q=a.getExtendedPropertyByName(this.SEARCH_TABLE_ID_KEY),(this.currentSearchTable=this._getSearchTable(q))&&this._searchTablesRelationships.hasOwnProperty(this.currentSearchTable.id)){this.datalinkSearches=this._searchTablesRelationships[this.currentSearchTable.id];for(var p=[],u=0,q=this.datalinkSearches.length;u<q;u++)(function(){var a=e.datalinkSearches[u],c=a&&a.dataLink?a.dataLink.layer:null;e._allLayers.push(c);c&&c instanceof d.essentials.Layer&&(a=c.getFeatureLayer(),
a.then(function(a){e._featureLayers[c.url]=a}),p.push(a))})();this._relatedLayerPromises=Promise.all(p);this._relatedLayerPromises.then(function(){e._relatedLayerPromises=null;if(0<e.datalinkSearches.length){e.hasRelationships.set(!0);for(var b=0,k=e.datalinkSearches.length;b<k;b++){var d=e.datalinkSearches[b],q=d.dataLink.layer,n=d.displayName,f=new Observable(e.providerEnabled.get()),h=new ObservableCollection([]);f.sync(e.providerEnabled);n={displayName:new Observable(n),id:new Observable(b),relatedTableId:new Observable(null),
visible:new Observable(!0),relatedEsriFeatureInfo:new ObservableCollection([]),relatedGcxFeatures:h,hasRetrievedData:new Observable(!1),noRelatedFeatures:new Observable(!1),canAdd:new Observable(!1),validCardinality:new Observable(!1),errorFetchingRelatedFeatures:new Observable(!1),presentableResults:e._createConfiguredPresentableResultCollection(h),columnHeaders:new ObservableCollection([]),providerEnabled:f,masterViewModel:e};e._resolveRelatedFeatures(n,a,d,e._featureLayers[q.url]);e.relationList.addItem(n)}}e._createAttachedViews();
e._updateProviderState();null==e.parentFeature.get()&&(e.parentFeature.set(e.currentFeature.get()),e.parentFeature.get())})}}else throw Error("Feature cannot be null for the related features view model");};a.prototype._findGeocortexLayer=function(a){for(var e in this._featureLayers)if(this._featureLayers.hasOwnProperty(e)&&this._featureLayers[e]==a)for(var k=0,d=this._allLayers.length;k<d;k++){var n=this._allLayers[k];if(n&&n.url==e)return n}return b.prototype._findGeocortexLayer.call(this,a,this.app.site)};
a.prototype._siteInitialized=function(){this._findSearchTableRelationships()};a.prototype._findSearchTableRelationships=function(){this._searchTablesRelationships={};if(this.app.site&&this.app.site.essentialsMap)for(var a=this.app.site.essentialsMap.allLayers(),e=0,b=a.length;e<b;e++)for(var d=a[e],n=0,f=d.dataLinks.length;n<f;n++)for(var h=d.dataLinks[n],l=0,g=h.searches.length;l<g;l++){var m=h.searches[l],p=m.searchTableId;this._searchTablesRelationships.hasOwnProperty(p)||(this._searchTablesRelationships[p]=
[]);this._searchTablesRelationships[p].push(m)}};a.prototype._resolveRelatedFeatures=function(a,e,b,q){var n=this;if(a&&e&&b&&q){var h=b.dataLink,l=h?h.layer:null,h=(h=e.esriFeature.get())&&h.attributes&&b.tableField?h.attributes[b.tableField]:null,g=l?l.getFieldByName(b.featureField):null,m=this._getEsriField(q,b.featureField),g=m?f.infrastructure.gis.FieldInfo.fromEsriField(m,null,g):null,m=[];l&&g&&(g.searchable=!0,m.push(g),h=f.infrastructure.taskUtils.getSearchTextWhereClause(l,m,h),g=new esri.tasks.Query,
g.where=h,g.outFields=["*"],g.outSpatialReference=this.app.map.spatialReference,g.returnGeometry=!0,f.infrastructure.taskUtils.getQueryTask(l).execute(g,function(b){if(0==b.features.length)a.noRelatedFeatures.set(!0);else{for(var k=new d.essentialsHtmlViewer.mapping.infrastructure.FeatureSet({layer:l,app:n.app,esriFeatureSet:new esri.tasks.FeatureSet}),f=0,h=b.features.length;f<h;f++){var g={featureInfo:null,esriFeature:null,gcxFeature:null,layer:q},E=b.features[f];g.esriFeature=E;E=n._processRelatedFeature(q,
E,a);g.featureInfo=E;a.relatedEsriFeatureInfo.addItem(E);n._checkRelatedFeature(g);k.addFeature(g.gcxFeature);g.gcxFeature.setExtendedProperty(n.SEARCHTABLE_KEY,e);g.gcxFeature.hasVisibleRelationships.set(!0);q.hasAttachments&&setTimeout(function(a,c){return function(){c._loadAttachments(a)}}(E,n),100)}k.resolveDataLinks(function(a){n.app.event("FeatureChangedEvent").publish(a)})}a.hasRetrievedData.set(!0)},function(e){a.errorFetchingRelatedFeatures.set(!0);a.hasRetrievedData.set(!0);n.app.trace.error("Error getting related record for search table datalink {0}: {1}.".format(b.displayName,
e.message))}))}else this.app.trace.error("_resolveRelatedFeatures missing parameters")};a.prototype._getEsriField=function(a,e){var b=null;if(a&&a.fields)for(var d=a.fields,n=0,f=d.length;n<f;n++)if(d[n].name==e){b=d[n];break}return b};a.prototype._getSearchTable=function(a){var e=null,b=this.app.site;a&&b&&b.hasSearchTables&&(e=b.getResourceById(b.searchTables,a));return e};return a}(h.RelatedFeaturesViewModelBase);h.SearchTablesRelatedFeaturesViewModel=l})(h.FeatureDetailsProviders||(h.FeatureDetailsProviders=
{}))})(g.FeatureDetails||(g.FeatureDetails={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(){function g(b,a){this.app=b;this.libraryId=a}g.prototype.registerCommands=function(){this.app.commandRegistry.command("CreateFeature").register(this,this._executeCreateFeature);this.app.commandRegistry.command("UpdateFeature").register(this,this._executeUpdateFeature);this.app.commandRegistry.command("DeleteFeature").register(this,this._executeDeleteFeature);this.app.commandRegistry.command("CreateRelatedRecord").register(this,
this._executeCreateRelatedRecord);this.app.commandRegistry.command("UpdateRelatedRecord").register(this,this._executeUpdateRelatedRecord);this.app.commandRegistry.command("DeleteRelatedRecord").register(this,this._executeDeleteRelatedRecord);this.app.commandRegistry.command("CreateAttachment").register(this,this._executeCreateAttachment)};g.prototype._executeCreateFeature=function(b){var a=this._getMapService(b.mapService);a?b.feature&&this._applyFeatureLayerEdits({mapService:a,layer:b.layer,additions:[b.feature],
updates:[],deletions:[],successCallback:b.successCallback,errorCallback:b.errorCallback}):b.errorCallback&&b.errorCallback(Error(this.app.getResource(this.libraryId,"language-feature-editing-error-no-mapservice")))};g.prototype._executeUpdateFeature=function(b){var a=this._getMapService(b.mapService);a?this._applyFeatureLayerEdits({mapService:a,layer:b.layer,additions:[],updates:[b.feature],deletions:[],successCallback:b.successCallback,errorCallback:b.errorCallback}):b.errorCallback&&b.errorCallback(Error(this.app.getResource(this.libraryId,
"language-feature-editing-error-no-mapservice")))};g.prototype._getMapService=function(b){return"string"===typeof b?this.app.site.essentialsMap.findMapServiceById(b):b};g.prototype._executeDeleteFeature=function(b){var a=this._getMapService(b.mapService);a?b.feature&&this._applyFeatureLayerEdits({mapService:a,layer:b.layer,additions:[],updates:[],deletions:[b.feature],successCallback:b.successCallback,errorCallback:b.errorCallback}):b.errorCallback&&b.errorCallback(Error(this.app.getResource(this.libraryId,
"language-feature-editing-error-no-mapservice")))};g.prototype._executeCreateRelatedRecord=function(b){b.feature&&this._applyFeatureLayerEdits({mapService:null,layer:b.layer,additions:[b.feature],updates:[],deletions:[],successCallback:b.successCallback,errorCallback:b.errorCallback})};g.prototype._executeUpdateRelatedRecord=function(b){b.feature&&this._applyFeatureLayerEdits({mapService:null,layer:b.layer,additions:[],updates:[b.feature],deletions:[],successCallback:b.successCallback,errorCallback:b.errorCallback})};
g.prototype._executeDeleteRelatedRecord=function(b){b.feature&&this._applyFeatureLayerEdits({mapService:null,layer:b.layer,additions:[],updates:[],deletions:[b.feature],successCallback:b.successCallback,errorCallback:b.errorCallback})};g.prototype._applyFeatureLayerEdits=function(b){if(b){var a=b.mapService,c=b.layer;if(a)c=a.serviceLayer;else if(c)a=new d.essentials.MapService(c.url),a.serviceLayer=c;else{this.app.trace.warning("Cannot apply edits: Missing map service and/or layer in edit descriptor.");
return}var e=b.additions||[],k=b.successCallback||function(){},q=b.errorCallback||function(){};c.applyEdits(e,b.updates||[],b.deletions||[]).then(function(a,b,d){d=null;if(b&&0<b.length)for(var f=0;f<b.length;++f){var h=b[f];if(!h.success){d=h.error;break}}if(a&&0<a.length)for(f=0;f<a.length;++f)if(b=a[f],b.success)b.GID&&c.globalIdField&&(e[f].attributes[c.globalIdField]=b.GID);else{d=b.error;break}d?q((d||{message:"Editing operation was not successful"}).message):k&&k()},function(a){q(a)})}};g.prototype._executeCreateAttachment=
function(b){var a=b.featureUrl,c=b.feature.attributes[b.layer.objectIdField],a=-1<a.indexOf("?")?a.replace("?","/{0}?".format(c)):"{0}/{1}".format(a,c);b.featureUrl=a;this._syncAttachmentToServer(b.featureUrl,b.filename,b.contentType,b.payload,b.callback)};g.prototype._syncAttachmentToServer=function(b,a,c,e,k){this.app.trace.debug("--- _syncAttachmentToServer called");try{for(var q=function(a){for(var c=new ArrayBuffer(a.length),c=new Uint8Array(c),e=0,b=a.length;e<b;e++)c[e]=a.charCodeAt(e)%255;
return c},n=b.lastIndexOf("/"),g=b.substring(0,n),l=this.app.map.graphicsLayerIds,m=null,n=0;n<l.length;n++){var p=this.app.map.getLayer(l[n]);if(p.url){var v=p.url.match(/^(.[^?]*)/);if(v&&v[0]===g){m=p;break}}}m||(m=new esri.layers.FeatureLayer(b.replace(/\/\d$/g,"")));b=-1<b.indexOf("?")?b.replace("?","/addattachment?"):b+"/addAttachment";this.app.isOffline.get()&&this.app.command("RewriteUrlForOffline").execute(b,function(a){b=a});g=null;if(m.credential&&m.credential.token)g=m.credential.token;
else{var u=m.url.match(/token=([^\?&$]*)/);u&&(g=u[1])}g&&-1===b.indexOf(g)&&(b+=0<b.indexOf("?")?"&":"?",b+="token="+g);this.app.configuration.proxyUri&&(b=d.framework.utils.makeUrlAbsolute(this.app.configuration.proxyUri)+b);this.app.trace.debug("--- Creating XHR");var r=new XMLHttpRequest;r.open("POST",b,!0);r.setRequestHeader("Content-Type","multipart/form-data; boundary=---------------------------L4717uD3G30");r.responseType="";r.onload=k;this.app.trace.debug("--- Creating request preamble");
var t="-----------------------------L4717uD3G30\r\n"+'Content-Disposition: form-data; name="attachment"; filename="{0}";\r\n'.format(a)+"Content-Type: {0}".format(c)+"\r\n\r\n";this.app.trace.debug("--- Encoding request preamble");var w=q(t);this.app.trace.debug("--- Encoding request payload");var B=f.BinTool.decode(e);this.app.trace.debug("--- Creating request suffix");this.app.trace.debug("--- Encoding request suffix");var z=q('\r\n-----------------------------L4717uD3G30\r\nContent-Disposition: form-data; name="gdbVersion"\r\n\r\n\r\n-----------------------------L4717uD3G30\r\nContent-Disposition: form-data; name="f"\r\n\r\njson\r\n-----------------------------L4717uD3G30--\r\n');
this.app.trace.debug("--- Creating payload buffer");var C=new ArrayBuffer(w.length+B.length+z.length),D=new Uint8Array(C);a=0;this.app.trace.debug("--- Merging output buffers");for(n=0;n<w.length;n++,a++)D[a]=w[n]&255;for(n=0;n<B.length;n++,a++)D[a]=B[n]&255;for(n=0;n<z.length;n++,a++)D[a]=z[n]&255;this.app.trace.debug("--- Sending request");r.send(D.buffer)}catch(F){this.app.trace.error("--- ERROR: {0}".format(F.toString())),k&&k(F)}};return g}();f.CoreEditCommands=g})(f.editing||(f.editing={}))})(f.modules||
(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));(function(d){d=d.essentialsHtmlViewer||(d.essentialsHtmlViewer={});d=d.mapping||(d.mapping={});d=d.modules||(d.modules={});(d.geolocate||(d.geolocate={})).GeolocateSpoofer=null})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.handleClickClose=function(a,c,e){this.app.viewManager.deactivateView(this);if(e&&e.onClose)e.onClose()};return b}(d.framework.ui.ViewBase);f.GeolocateStatusView=g})(f.geolocate||(f.geolocate={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(d){function b(){d.apply(this,arguments);this.status=new Observable("");this.showCoordinates=new Observable(!1);this.xValueType=new Observable("");this.yValueType=new Observable("");this.xValue=new Observable("");this.yValue=new Observable("");this.imageUri=new Observable("");this.onClose=null}__extends(b,d);b.prototype.initialize=function(a){this.config=a;a.coordinateWkid&&(a.coordinateWkid=parseInt(a.coordinateWkid.toString()))};
b.prototype.updateStatus=function(a,c){var e=this;"following"===a?(this.status.set(this.app.getResource(this.libraryId,"language-geolocate-follow-in-progress")),this.imageUri.set(this.config.busyIcon||"Resources/Images/loader-small.gif"),this.showCoordinates.set(this.config.showFollowingCoordinates)):"tracking"===a?(this.status.set(this.app.getResource(this.libraryId,"language-geolocate-track-in-progress")),this.imageUri.set(this.config.busyIcon||"Resources/Images/loader-small.gif"),this.showCoordinates.set(this.config.showTrackingCoordinates)):
(this.status.set(""),this.imageUri.set(this.config.geolocateIcon||"Resources/Images/Icons/geolocate-24.png"),this.showCoordinates.set(this.config.showGeolocateCoordinates));if(this.showCoordinates)if("xy"===(this.config.coordinateFormat?this.config.coordinateFormat.toLowerCase():f.infrastructure.coordinates.AngleFormat.DD)){this.xValueType.set(this._getCoordinateResource("x"));this.yValueType.set(this._getCoordinateResource("y"));var b=this.config.coordinateWkid||this.app.map.spatialReference.wkid,
d=new esri.SpatialReference({wkid:4326}),d=new esri.geometry.Point(c.coords.longitude,c.coords.latitude,d);f.infrastructure.GeometryUtils.projectGeometry(d,new esri.SpatialReference(b),function(a){e.xValue.set(f.infrastructure.coordinates.CoordinateUtils.formatXYCoordinate(a.x,e.app,e.config.coordinateFractionalDigits));e.yValue.set(f.infrastructure.coordinates.CoordinateUtils.formatXYCoordinate(a.y,e.app,e.config.coordinateFractionalDigits))},function(a){e.app.trace.warning("Unable to project geometry for coordinate tracking: "+
a);e.xValue.set(e.getResource("language-geolocate-error-cannot-convert-coordinate"));e.yValue.set(e.getResource("language-geolocate-error-cannot-convert-coordinate"))},this.app)}else b=f.infrastructure.coordinates.CoordinateUtils.formatLatLon(c.coords.latitude,c.coords.longitude,this.config.coordinateFormat,this.app,this.config.coordinateFractionalDigits),this.xValueType.set(this._getCoordinateResource("latitude-abbrev")),this.yValueType.set(this._getCoordinateResource("longitude-abbrev")),this.xValue.set(b.latitude),
this.yValue.set(b.longitude)};b.prototype._getCoordinateResource=function(a){return this.app.getResource("Mapping.Infrastructure","language-coordinates-"+a)};return b}(d.framework.ui.ViewModelBase);h.GeolocateStatusViewModel=g})(g.geolocate||(g.geolocate={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c,e){d.call(this,a,c,e);this.tabControlsEnabled=new Observable(!1);this.leftScrollTabDisabled=new Observable(!1);this.rightScrollTabDisabled=new Observable(!1);this._defaultLayerTabView=null;this._layerTabViews={};this._currFeatureProviderBindings=[];this.app.event("Internal.FeatureProviderTargetRegionsChanged").subscribe(this,this._handleFeatureChanged);this.app.command("_updateFeatureDetailViewModels").register(this,
this._handleFeatureChanged)}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);if(a&&a.hasOwnProperty("defaultTabViewForLayer")){a=a.defaultTabViewForLayer;for(var c in a)if(a.hasOwnProperty(c)){var e=a[c];if(dojo.isArray(e))for(var b=0;b<e.length;b++)this._addProperty(c,e[b]);else this._addProperty(c,e)}}};b.prototype.createDescriptorForView=function(a){a=new f.FeatureDetailsSwitcherViewDescriptor(a,this);this._processViewDescriptor(a);return a};b.prototype.checkIfSwitcherActive=
function(){return 1<dojo.filter(this.viewDescriptors.get(),function(a){return a.providerEnabled.get()}).length};b.prototype._addProperty=function(a,c){this._layerTabViews[a]||(this._layerTabViews[a]=[]);a&&"default"===c?this._defaultLayerTabView=a:null!=c.mapServiceId&&null!=c.layerId?this._layerTabViews[a].push(c):this.app.trace.warning("Invalid configuration for default layer tab view. Syntax is - {PreferredViewId} : { {mapServiceId}, {layerId} }")};b.prototype._getPreferredViewDescriptor=function(a,
c){if(!a||!c)return null;for(var e in this._layerTabViews)if(this._layerTabViews.hasOwnProperty(e))for(var b=this._layerTabViews[e],d=0;d<b.length;d++)if(a===b[d].mapServiceId&&c===b[d].layerId){var f=this._getDescriptorForFirstEligibleTabView(e);if(f)return f}};b.prototype._processViewDescriptor=function(a){var c=this,e=function(e){a.providerEnabled.bind(c,c.updateViewSwitcherState);a.providerEnabled.sync(e.providerEnabled)};a.view.viewModel?e(a.view.viewModel):dojo.aspect.after(a.view,"attach",
dojo.hitch(this,e),!0)};b.prototype._handleFeatureChanged=function(a){0!==this.viewDescriptors.length()&&(this._cancelBindingsIfApplicable(),a&&a.layer&&this._activateDefaultTabViewForLayer(a.layer.mapService?a.layer.mapService.id:null,a.layer.id))};b.prototype._activateDefaultTabViewForLayer=function(a,c){var e=this,b=null,d=!1,f=null,h=function(){for(var a=0;a<e.viewDescriptors.length();a++)if(e.viewDescriptors.getAt(a).providerEnabled.get()&&e.viewDescriptors.getAt(a).view)return e.viewDescriptors.getAt(a);
return null},g=function(a){var c=a.providerEnabled,b=a.providerEnabled.bind(e,function(c){c&&(c=f&&a.view.id===f.view.id,!d||c)&&(e.app.viewManager.activateView(a.view),c&&e._cancelBindingsIfApplicable()&&(f=null),d=!0)});e._currFeatureProviderBindings.push({currentFeatureProviderEnabledRef:c,currentFeatureProviderBindingToken:b})},b=this._getPreferredViewDescriptor(a,c);!b&&this._defaultLayerTabView&&(b=this._getDescriptorForFirstEligibleTabView(this._defaultLayerTabView));b&&!b.providerEnabled.get()&&
(f=b,b=null);!b&&(b=h());b?(this.app.viewManager.activateView(b.view),d=!0,f&&g(f)):this.viewDescriptors.get().forEach(function(a){return g(a)})};b.prototype._cancelBindingsIfApplicable=function(){this._currFeatureProviderBindings.length&&(this._currFeatureProviderBindings.forEach(function(a){a.currentFeatureProviderEnabledRef.unbind(a.currentFeatureProviderBindingToken)}),this._currFeatureProviderBindings=[])};b.prototype._getDescriptorForFirstEligibleTabView=function(a){var c=null,c=this.getDescriptorForView(this.app.viewManager.getViewById(a));
if(!c){var e=this.app.viewManager.getViews().filter(function(c){return c.id.startsWith(a)});if(e.length)for(var b=0;b<e.length&&!(c=this.getDescriptorForView(e[b]));b++);}return c};return b}(d.framework.ui.ViewSwitcher.ViewSwitcherViewModel);f.FeatureDetailsSwitcherViewModel=g})(f.FeatureDetails||(f.FeatureDetails={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c);this._multiRegionCssBindingToken="";this.app.event("FeatureDetailsCurrentFeatureChanged").subscribe(this,this._handleFeatureChanged)}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a);this.title.syncTransform(a.headerText,function(a){return String.unescapeHtml(a)});-1===a.viewsToActivate.indexOf(this.id)&&a.viewsToActivate.push(this.id)};b.prototype.resolveWidget=
function(a,c,e){d.prototype.resolveWidget.call(this,a,c,e);switch(a){case "FeatureDetailsRegionWidget":return(a=this.app.viewManager.createView({markupResource:"Framework.UI/geocortex/framework/ui/MultiRegion/MultiRegionView.html",libraryId:"Framework.UI",typeName:"geocortex.framework.ui.MultiRegion.MultiRegionView",isVisible:!1}))&&a.attach(c),this._processView(a),a;case "FeatureActionsWidget":return this.app.menuRegistry.createMenuWidget(this,c,e)}};b.prototype.activated=function(){d.prototype.activated.call(this)};
b.prototype.deactivated=function(){d.prototype.deactivated.call(this);this.app.behavior("FeatureDetailsClosedBehavior").run()};b.prototype._handleFeatureChanged=function(a){var c=this,e=this.app.command("ShowMap").postExecute.once(this,function(){setTimeout(function(){c.app.command("FocusOnFirstInputInView").execute(c)},0);e=null});this.app.event("ViewActivated").once(this,function(){e&&(c.app.command("ShowMap").postExecute.unsubscribe(e),setTimeout(function(){c.app.command("FocusOnFirstInputInView").execute(c)},
0))})};b.prototype._processView=function(a){var c=this,e=a.multiRegionViewElement,b="";a=function(){e.className=b+" "+c.viewModel.featureMultiRegionCss.get().trim()};this._multiRegionCssBindingToken&&(this.viewModel.featureMultiRegionCss.unbind(this._multiRegionCssBindingToken),this._multiRegionCssBindingToken="");e&&(b=e.className.trim(),a(),this._multiRegionCssBindingToken=this.viewModel.featureMultiRegionCss.bind(this,a))};return b}(d.framework.ui.ViewBase);f.FeatureDetailsView=g})(f.FeatureDetails||
(f.FeatureDetails={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.providerEnabled=new Observable(!1)}__extends(b,d);return b}(d.framework.ui.ViewSwitcher.ViewSwitcherViewDescriptor);f.FeatureDetailsSwitcherViewDescriptor=g})(f.FeatureDetails||(f.FeatureDetails={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);a&&a.menus&&this.app.menuRegistry.loadMenus(a)};return b}(d.framework.application.ModuleBase);f.FooterModule=g})(f.footer||(f.footer={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);return b}(d.framework.ui.ViewBase);f.FooterView=g})(f.footer||(f.footer={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.backgroundColor=new Observable("White");this.height=new Observable(0)}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);a.hasOwnProperty("backgroundColor")&&this.backgroundColor.set(a.backgroundColor);a.hasOwnProperty("height")&&this.height.set(a.height)};return b}(d.framework.ui.ViewModelBase);f.FooterViewModel=g})(f.footer||(f.footer={}))})(f.modules||
(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.handleMenuItemClick=function(a,c,e){this.deactivateIWTM();d.prototype.handleMenuItemClick.call(this,a,c,e)};b.prototype.deactivateIWTM=function(){this.app.command("DeactivateView").execute("IWantToMenuView")};return b}(d.essentialsHtmlViewer.mapping.infrastructure.menus.MenuView);f.GlobalMenuView=g})(f.GlobalMenu||(f.GlobalMenu={}))})(f.modules||(f.modules=
{}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);a&&a.menus&&this.app.menuRegistry.loadMenus(a)};return b}(d.framework.application.ModuleBase);f.GlobalMenuModule=g})(f.GlobalMenu||(f.GlobalMenu={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(h){var g=function(d){function b(){d.apply(this,arguments);this.mobileMode=new Observable(!1)}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);this.mobileMode.set(!!this.app.configuration.mobileMode)};return b}(d.infrastructure.menus.MenuViewModel);h.GlobalMenuViewModel=g})(g.GlobalMenu||(g.GlobalMenu={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){(function(b){b[b.OUTERMOST=0]="OUTERMOST";b[b.OUTER=1]="OUTER";b[b.INNER=2]="INNER";b[b.INNERMOST=3]="INNERMOST"})(h.GradientColorType||(h.GradientColorType={}));var g=h.GradientColorType,l=function(b){function a(){b.apply(this,arguments);this._allowToggleForUserAddedLayers=!0;this._defaultIntensity=30;this._defaultGradient=["#00FFFFFF","#FF0000FF","#FFFF0000","#FFFFFF00"]}__extends(a,b);a.prototype.initialize=function(a){var e=this;
b.prototype.initialize.call(this,a);if(Modernizr.canvas){null!=a.allowToggleForUserAddedLayers&&(this._allowToggleForUserAddedLayers=a.allowToggleForUserAddedLayers);a.intensity&&(this._defaultIntensity=a.intensity);a.gradientOptions&&(a=a.gradientOptions,a.outermostColor&&(this._defaultGradient[g.OUTERMOST]=a.outermostColor),a.outerColor&&(this._defaultGradient[g.OUTER]=a.outerColor),a.innerColor&&(this._defaultGradient[g.INNER]=a.innerColor),a.innermostColor&&(this._defaultGradient[g.INNERMOST]=
a.innermostColor));if(this.app.map&&this.app.map.loaded)this._handleMapLoaded(this.app.map);else this.app.event("MapLoadedEvent").once(this,function(a){e._handleMapLoaded(a)});this._registerCommandsAndEvents()}else this.app.trace.warning("The heat map module requires a Canvas enabled Browser. IE8 does not support Canvas.")};a.prototype._handleMapLoaded=function(a){a=this.app.site;for(var e=0;e<a.essentialsMap.mapServices.length;e++){var b=a.essentialsMap.mapServices[e];if(b.heatMap&&b.heatMap.enabled)for(var d=
0;d<b.layers.length;d++)this.app.command("AddHeatMap").execute({gcxLayer:b.layers[d],onStartUp:!0})}};a.prototype._registerCommandsAndEvents=function(){this.app.command("AddHeatMap").register(this,this._executeAddHeatMap,this._canExecuteAddHeatMap);this.app.command("RemoveHeatMap").register(this,this._executeRemoveHeatMap,this._canExecuteRemoveHeatMap)};a.prototype._executeAddHeatMap=function(a){var e=this._getGeocortexLayer(a),b=f.infrastructure.VisualizationUtils.getFeatureHeatMap(e),d=this._createHeatMapRenderer(b);
if(d){var n=e.mapService.serviceLayer;n&&n instanceof esri.layers.GraphicsLayer?(a.onStartUp||this.app.command("RemoveVisualization").execute({gcxLayer:e}),b.enabled=!0,b.respectScaleRange||(b.defaultMaxScale=n.maxScale?n.maxScale:0,b.defaultMinScale=n.minScale?n.minScale:0,n.setMaxScale(0),n.setMinScale(0)),b.defaultRenderer=n.renderer,n.setRenderer(d),this.app.command("AddHeatMap").raiseCanExecuteChanged(),this.app.command("RemoveHeatMap").raiseCanExecuteChanged(),this.app.event("HeatMapAddedEvent").publish(e),
this.app.event("LayerVisualizationChangedEvent").publish(e)):this.app.trace.warning("Could not add heat map for layer with ID '{0}'. Heat map requires a graphics layer".format(e.id))}else this.app.trace.warning("Could not add heat map for layer with ID '{0}'. Invalid renderer configuration".format(e.id))};a.prototype._canExecuteAddHeatMap=function(a){return"string"!==typeof a&&a.onStartUp?!0:(a=this._getGeocortexLayer(a))&&a.mapService&&a.mapService.heatMap?!a.mapService.heatMap.enabled:!1};a.prototype._executeRemoveHeatMap=
function(a){a=this._getGeocortexLayer(a);var e=f.infrastructure.VisualizationUtils.getFeatureHeatMap(a),b=a.mapService.serviceLayer;if(b&&b instanceof esri.layers.GraphicsLayer){e.enabled=!1;var d=f.infrastructure.VisualizationUtils.getHeatMapRenderer(a);d&&(e.respectScaleRange||(b.setMaxScale(e.defaultMaxScale),b.setMinScale(e.defaultMinScale)),e.intensity=d.blurRadius,e.field=d.field,b.setRenderer(e.defaultRenderer),e.defaultRenderer=null,e=d._canvas,e.parentNode.removeChild(e));this.app.command("AddHeatMap").raiseCanExecuteChanged();
this.app.command("RemoveHeatMap").raiseCanExecuteChanged();this.app.event("HeatMapRemovedEvent").publish(a);this.app.event("LayerVisualizationChangedEvent").publish(a)}else this.app.trace.warning("Could not remove heat map for layer with ID '{0}'. Heat map requires a graphics layer".format(a.id))};a.prototype._canExecuteRemoveHeatMap=function(a){return"string"!==typeof a&&a.onStartUp?!0:(a=this._getGeocortexLayer(a))&&a.mapService&&a.mapService.heatMap?a.mapService.heatMap.enabled:!1};a.prototype._getGeocortexLayer=
function(a){return"string"===typeof a?this.app.site&&this.app.site.essentialsMap?this.app.site.essentialsMap.allLayers().filter(function(e){return a===e.mapService.id})[0]:null:a.gcxLayer};a.prototype._createHeatMapRenderer=function(a){if(a){var e=this._getHeatMapColors(a),b=new esri.renderer.HeatmapRenderer({colors:e,blurRadius:a.intensity?a.intensity:this._defaultIntensity,field:a.field?a.field:null});if(a.offset){for(var d=[],f=0;f<a.offset.length;f++)d[f]={ratio:a.offset[f],color:e[f]};b.setColorStops(d)}return b}};
a.prototype._getHeatMapColors=function(a){var e=this;return 0===a.gradient.length?this._defaultGradient.map(function(a){return f.infrastructure.ColorUtils.getStringFromHex(a)}):a.gradient.map(function(a,c){return f.infrastructure.ColorUtils.getStringFromList(a)||f.infrastructure.ColorUtils.getStringFromHex(e._defaultGradient[c])})};return a}(d.framework.application.ModuleBase);h.HeatMapsModule=l})(g.heatMaps||(g.heatMaps={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.sliderElement=null;this.layerName=""}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a);a.selectedLayer.bind(this,this._onSelectedLayerChanged)};b.prototype.added=function(a){d.prototype.added.call(this,a);this._setupJQuerySlider()};b.prototype._onSelectedLayerChanged=function(a){this.layerName=a.displayName;$(this.sliderElement).slider("value",this.viewModel.intensity.get())};
b.prototype._setupJQuerySlider=function(){var a=this,c={animate:!1,min:b.SLIDER_MIN_VAL,max:b.SLIDER_MAX_VAL,step:b.SLIDER_STEP_INCREMENT,orientation:"horizontal",value:b.SLIDER_MIN_VAL,change:function(c,b){return a._handleSliderValueChanged(c,b)}};$(this.sliderElement).slider(c);c=$(this.sliderElement).children(".ui-slider-handle");c.attr("title",this.getResource("language-heat-maps-intensity-slider-tooltip"));c.text(this.getResource("language-heat-maps-intensity-slider-handle"))};b.prototype._handleSliderValueChanged=
function(a,c){if(c&&void 0!=c.value){this.viewModel.intensity.set(c.value);var e="{0} {1}: {2} {3}".format(this.layerName,this.app.getResource(this.libraryId,"language-heat-maps-intensity-slider-intensity"),c.value,this.app.getResource(this.libraryId,"language-heat-maps-intensity-slider-pixels"));$(this.sliderElement).children("a").attr("aria-label",e)}};b.SLIDER_MIN_VAL=0;b.SLIDER_MAX_VAL=100;b.SLIDER_STEP_INCREMENT=1;return b}(d.framework.ui.ViewBase);f.HeatMapsView=g})(f.heatMaps||(f.heatMaps=
{}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(h){function b(a,c){var e=this;h.call(this,a,c);this._currentHeatMap=null;this.selectedLayer=new Observable(null);this.intensity=new Observable(null);this.fields=new ObservableCollection;this.selectedField=new Observable(null);this.disableFields=new Observable(!1);this.selectedLayer.bind(this,function(a){e._currentHeatMap=f.infrastructure.VisualizationUtils.getFeatureHeatMap(a);e._currentHeatMap&&(e.fields.set(e._getNumericFields(a)),
e.selectedField.set(e._currentHeatMap.field?e._currentHeatMap.field:b.EMPTY_FIELD),e.intensity.set(e._currentHeatMap.intensity))});this.fields.bind(this,function(a){e.disableFields.set(2>e.fields.get().length)});this.selectedField.bind(this,function(a){e._currentHeatMap&&e._currentHeatMap.field!==a&&(e._currentHeatMap.field=a)});this.intensity.bind(this,function(a){e._currentHeatMap&&e._currentHeatMap.intensity!==a&&(e._currentHeatMap.intensity=a)});this.app.event("VisualizationViewActivatedEvent").subscribe(this,
function(a){e.selectedLayer.set(a)})}__extends(b,h);b.prototype._getNumericFields=function(a){a=a.fields;for(var c=[{name:b.EMPTY_FIELD,displayName:this.app.getResource(this.libraryId,"language-heat-maps-none")}],e=0;e<a.length;e++){var k=a[e];this._isNumericFieldType(k.dataType)&&c.push({name:k.name,displayName:k.displayName})}1===c.length&&(c[e].displayName=this.app.getResource(this.libraryId,"language-heat-maps-no-fields"));return c};b.prototype._isNumericFieldType=function(a){switch(a){case d.essentials.EssentialsFieldTypes.essentialsFieldTypeInteger:case d.essentials.EssentialsFieldTypes.essentialsFieldTypeSmallInteger:case d.essentials.EssentialsFieldTypes.essentialsFieldTypeSingle:case d.essentials.EssentialsFieldTypes.essentialsFieldTypeDouble:return!0}return!1};
b.EMPTY_FIELD="";return b}(d.framework.ui.ViewModelBase);h.HeatMapsViewModel=g})(g.heatMaps||(g.heatMaps={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(h){var g=function(h){function b(a,c){h.call(this,a,c);this.displayName=this.app.getResource(c,"language-heat-maps-name");var e={provider:this,name:this.displayName,id:this.displayName};this.enabledVisualization=e;this.visualizations.push(e)}__extends(b,h);b.prototype.canSupport=function(a){return Modernizr.canvas?a&&a.mapService?a.mapService.heatMap&&a.mapService.heatMap.userCanToggle:!1:!1};b.prototype.handleCurrentLayerChanged=function(a){Modernizr.canvas&&
(a=d.infrastructure.VisualizationUtils.getFeatureHeatMap(a),this.isEnabled.set(a?a.enabled:!1),this.isSupported.set(a?a.userCanToggle:!1),this.isEnabled.get()&&(this.enabledVisualization=this.visualizations[0]))};b.prototype.handleActivate=function(){this.app.command("AddHeatMap").execute({gcxLayer:this.currentLayer.get()})};b.prototype.handleApply=function(){var a=this.currentLayer.get(),c=d.infrastructure.VisualizationUtils.getFeatureHeatMap(a),e=d.infrastructure.VisualizationUtils.getHeatMapRenderer(a);
if(e){var b=!1;e.blurRadius!==c.intensity&&(e.setBlurRadius(c.intensity),b=!0);e.field!==c.field&&(e.setField(c.field),b=!0);b&&a.mapService.serviceLayer.refresh()}};return b}(d.infrastructure.visualization.VisualizationProviderBase);h.HeatMapVisualizationProvider=g})(g.heatMaps||(g.heatMaps={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c)}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a)};b.prototype.handleClickClose=function(){this.app.command("ClearActiveTool").execute()};b.prototype.handleToolbarItemClick=function(a,c,e){e.execute()};return b}(d.framework.ui.ViewBase);f.IdentifyOptionsView=g})(f.identify||(f.identify={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(h){function b(a,c){h.call(this,a,c);this.DEFAULT_BUFFER_ICON_URI="Resources/Images/Icons/Toolbar/buffer-identify-24.png";this.DEFAULT_SELECT_LAYERS_ICON_URI="Resources/Images/Icons/Toolbar/layers-filtered-24.png"}__extends(b,h);b.prototype.initialize=function(a){this.bufferOnIconUri=a.bufferOnIconUri||a.bufferIconUri||this.DEFAULT_BUFFER_ICON_URI;this.bufferOffIconUri=a.bufferOffIconUri||a.bufferIconUri||this.DEFAULT_BUFFER_ICON_URI;
this.selectLayersIconUri=a.selectLayersOnIconUri||a.selectLayersIconUri||this.DEFAULT_SELECT_LAYERS_ICON_URI;this.bufferToggleButton=new f.infrastructure.toolbarGroup.ToolbarToggleButton(this.app,this.libraryId,this._getBufferToggleButtonEntry());this.selectLayersButton=new f.infrastructure.toolbarGroup.ToolbarButton(this.app,this.libraryId,this._getSelectLayersButtonEntry())};b.prototype._getBufferToggleButtonEntry=function(){var a={};a.id=d.framework.utils.alphaNumericToken();a.type="toggleButton";
a.hideOnDisable=!1;a.tooltip=this.app.getResource(this.libraryId,"language-toolbar-buffer-toggle-tooltip");a.toggleOn={};a.toggleOn.name=this.app.getResource(this.libraryId,"language-toolbar-toggle-buffer-on-name");a.toggleOn.iconUri=this.bufferOnIconUri;a.toggleOn.command="ActivateBufferingAndDisplayOptions";a.toggleOn.commandParameter="Identify";a.toggleOff={};a.toggleOff.name=this.app.getResource(this.libraryId,"language-toolbar-toggle-buffer-off-name");a.toggleOff.iconUri=this.bufferOffIconUri;
a.toggleOff.command="DeactivateBufferingAndDismissOptions";a.toggleOff.commandParameter="Identify";return a};b.prototype._getSelectLayersButtonEntry=function(){var a={};a.id=d.framework.utils.alphaNumericToken();a.type="button";a.tooltip=this.app.getResource(this.libraryId,"language-toolbar-select-layers-toggle-tooltip");a.name=this.app.getResource(this.libraryId,"language-toolbar-select-layers-toggle-on-name");a.command="ActivateSelectLayersForIdentify";a.commandParameter=null;a.hideOnDisable=!1;
a.iconUri=this.selectLayersIconUri;return a};return b}(d.framework.ui.ViewModelBase);h.IdentifyOptionsViewModel=g})(g.identify||(g.identify={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){function d(b,a){this.mapServiceLayersToIdentify=[];this.app=b;this.identifyModule=a;if(this.app.site&&this.app.site.isInitialized)this.onSiteInitialized();else this.app.event("SiteInitializedEvent").once(this,this.onSiteInitialized)}d.prototype.onSiteInitialized=function(){this._loadMapServicesAndLayers();this.registerCommands();this.subscribeEvents()};d.prototype.registerCommands=function(){this.app.command("EnableAllLayersForIdentify").register(this,
this.executeEnableAllLayersForIdentify);this.app.command("DisableAllLayersForIdentify").register(this,this.executeDisableAllLayersForIdentify);this.app.command("EnableLayerForIdentify").register(this,this.executeEnableLayerForIdentify);this.app.command("DisableLayerForIdentify").register(this,this.executeDisableLayerForIdentify)};d.prototype.subscribeEvents=function(){this.app.event("MapServiceAddedEvent").subscribe(this,this._loadMapServicesAndLayers);this.app.event("MapServiceRemovedEvent").subscribe(this,
this._loadMapServicesAndLayers);this.app.event("MapServiceLayersChangedWithResultEvent").subscribe(this,this._loadMapServicesAndLayers)};d.prototype.executeEnableAllLayersForIdentify=function(){for(var b=0;b<this.mapServiceLayersToIdentify.length;b++){var a=this.mapServiceLayersToIdentify[b],c=this.app.site.essentialsMap.findMapServiceById(a.mapServiceId);if(c){for(var e=[],k=0;k<c.layers.length;k++)c.layers[k].identifiable&&e.push(c.layers[k].id);a.layerIds=e;a.mapServiceIdentifiable=!!c.identifiable;
this.app.event("AllLayersEnabledForIdentifyEvent").publish(this.mapServiceLayersToIdentify)}else this.app.trace.error("LayerSelectorForIdentify: Could not apply EnableAllLayersForIdentify to map service with id {0}. Map service not found.".format(a.mapServiceId))}};d.prototype.executeDisableAllLayersForIdentify=function(){for(var b=0;b<this.mapServiceLayersToIdentify.length;b++){var a=this.mapServiceLayersToIdentify[b];a.mapServiceIdentifiable=!1;a.layerIds=[]}this.app.event("AllLayersDisabledForIdentifyEvent").publish(this.mapServiceLayersToIdentify)};
d.prototype.executeEnableLayerForIdentify=function(b){for(var a=0;a<this.mapServiceLayersToIdentify.length;a++){var c=this.mapServiceLayersToIdentify[a];if(c.mapServiceId===b.mapServiceId){var e=this.app.site.essentialsMap.findMapServiceById(b.mapServiceId),k=b.layerId?e&&e.findLayerById(b.layerId):null;if(k&&k.identifiable||!k&&e&&e.identifiable){k?c.layerIds.push(b.layerId):c.mapServiceIdentifiable=!0;this.app.event("LayerEnabledForIdentifyEvent").publish(b);break}}}};d.prototype.executeDisableLayerForIdentify=
function(b){for(var a=0;a<this.mapServiceLayersToIdentify.length;a++){var c=this.mapServiceLayersToIdentify[a];if(c.mapServiceId===b.mapServiceId)if(null!=b.layerId)for(var e=c.layerIds.length-1;0<=e;e--){if(null!=b.layerId&&c.layerIds[e]===b.layerId){c.layerIds.splice(e,1);this.app.event("LayerDisabledForIdentifyEvent").publish(b);break}}else if(!0===c.mapServiceIdentifiable){c.mapServiceIdentifiable=!1;this.app.event("LayerDisabledForIdentifyEvent").publish(b);break}}};d.prototype._loadMapServicesAndLayers=
function(){for(var b=this.mapServiceLayersToIdentify.length=0;b<this.app.site.essentialsMap.mapServices.length;b++){for(var a=this.app.site.essentialsMap.mapServices[b],c=[],e=0;e<a.layers.length;e++)a.layers[e].identifiable&&c.push(a.layers[e].id);this.mapServiceLayersToIdentify.push({mapServiceId:this.app.site.essentialsMap.mapServices[b].id,mapServiceIdentifiable:!!a.identifiable,layerIds:c})}this.app.event("AllLayersEnabledForIdentifyEvent").publish(this.mapServiceLayersToIdentify)};return d}();
d.LayerSelectorForIdentify=f})(d.identify||(d.identify={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(){function h(b,a){this._identifyTaskErrorCount=this._identifyTaskCompletedCount=this._identifyTaskExecutedCount=0;this._isCancelled=this._taskExecutionComplete=!1;this._featureLayers={};this.mapServicesAndLayersToIdentify=this.delayedFSCOpen=this.tag=this.map=this.app=null;this.app=a||null;this.map=b}h.prototype.getFeatureLayer=function(b){return b?this._featureLayers[b.id]:null};h.prototype.execute=function(b,a,c,e,k){var q=
this;k=this.app.site.essentialsMap.mapServices.filter(function(a){if(a.mapServiceType===d.essentials.MapServiceType.IMAGE&&a.isVisible()){var c=a.identifiable;if(q.mapServicesAndLayersToIdentify)for(var e in q.mapServicesAndLayersToIdentify)q.mapServicesAndLayersToIdentify.hasOwnProperty(e)&&q.mapServicesAndLayersToIdentify[e].mapServiceId===a.id&&(c=q.mapServicesAndLayersToIdentify[e].mapServiceIdentifiable);return c}return!1});this.delayedFSCOpen&&k&&0<k.length&&this.delayedFSCOpen();this._identifyTaskErrorCount=
this._identifyTaskCompletedCount=this._identifyTaskExecutedCount=0;this._taskExecutionComplete=!1;var n=new esri.tasks.ImageServiceIdentifyParameters,h=this._getIdentifyGeometry(b);n.geometry=h;n.returnGeometry=!0;for(b=0;b<k.length;b++){var g=k[b],l=g.serviceLayer;n.returnCatalogItems=g.includeCatalogItems||g.includeMosaicDatasetValues;l.mosaicRule&&(n.mosaicRule=l.mosaicRule);l.renderingRule&&(n.renderingRule=l.renderingRule);this._identifyTaskExecutedCount++;var m=this,p=new esri.tasks.ImageServiceIdentifyTask(f.infrastructure.taskUtils.getTokenizedUrl(g.serviceUrl,
g));this._fetchFieldMetadata(g)["catch"](function(a){}).then(function(){p.execute(n,dojo.hitch(g,function(e){m._isCancelled||(e.location=h,m._identifyTaskCompletedCount++,a(m,e,this),m._conditionallyInvokeCompleteCallback(m,c))}),dojo.hitch(g,function(a){m._isCancelled||(m._identifyTaskCompletedCount++,m._identifyTaskErrorCount++,e(m,a,this),m._conditionallyInvokeCompleteCallback(m,c))}))})}this._taskExecutionComplete=!0;this._conditionallyInvokeCompleteCallback(this,c)};h.prototype._getIdentifyGeometry=
function(b){if(b instanceof esri.geometry.Point)return b;if(b instanceof esri.geometry.Polygon)return b.getCentroid();if(b instanceof esri.geometry.Polyline)return f.infrastructure.GeometryUtils.getMiddle(b)};h.prototype._conditionallyInvokeCompleteCallback=function(b,a){b._taskExecutionComplete&&b._identifyTaskExecutedCount==b._identifyTaskCompletedCount&&a(b)};h.prototype.cancel=function(){this._isCancelled=!0};h.prototype._fetchFieldMetadata=function(b){var a=this;return this._featureLayers[b.id]?
Promise.resolve():b.getFeatureLayer().then(function(c){a._featureLayers[b.id]=c})};return h}();h.RasterIdentifyTask=g})(g.identify||(g.identify={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this._identifyTask=null}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a)};b.prototype.search=function(a,c){var e=this,b=null;if(!c.restrictRasterIdentifyToPoint||"point"===c.geometry.type){if(c.delayFSCOpen)var d=a.id,n=!1,b=function(){n||(n=!0,e.app.featureSetManager.openCollection(d))};else this.app.featureSetManager.openCollection(a.id);this._identifyTask=
new f.RasterIdentifyTask(this.app.map,this.app);this._identifyTask.tag=a;c.identifiableLayerInfo&&(this._identifyTask.mapServicesAndLayersToIdentify=c.identifiableLayerInfo);b&&(this._identifyTask.delayedFSCOpen=b);setTimeout(function(){e._identifyTask.execute(c.geometry,function(a,c,b){e.identifyTaskProgress(a,c,b)},function(a){e.identifyTaskComplete(a)},function(a,c,b){e.identifyTaskError(a,c,b)})},0)}};b.prototype.identifyTaskProgress=function(a,c,e){a=a.tag;var b=new f.RasterIdentifyUtils(e,this.app,
this.libraryId);b.featureLayer=this._identifyTask.getFeatureLayer(e);b.includeCatalogItems=e.includeCatalogItems;b.includeMosaicDatasetValues=e.includeMosaicDatasetValues;b.appendToFeatureSetCollection(c,a)};b.prototype.identifyTaskComplete=function(a){this.app.featureSetManager.tryCloseCollection(a.tag.id)};b.prototype.identifyTaskError=function(a,c,e){this.app.featureSetManager.tryCloseCollection(a.tag.id);a=this.getResource("language-identify-error-message",null).format(c.message,c.details);this.app.command("Alert").execute(a);
e&&this.app.trace.error("Error performing identify operation on service {0}. Message: {1}. Error details: {2}.".format(e.serviceLayer.url,c.message,c.details))};b.prototype.cancelSearch=function(){this._identifyTask&&this._identifyTask.cancel()};return b}(d.essentialsHtmlViewer.mapping.infrastructure.identify.IdentifyProviderBase);f.RasterIdentifyTaskIdentifyProvider=g})(f.identify||(f.identify={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=d.essentialsHtmlViewer.mapping.infrastructure.TimeZoneUtils,l=function(){function b(a,c,e){this.includeMosaicDatasetValues=this.includeCatalogItems=!1;this._libraryId=e;this._mapService=a;this._app=c}b.prototype.appendToFeatureSetCollection=function(a,c){if(a){null==c&&(c=new f.infrastructure.FeatureSetCollection);if("NoData"!==a.value){var e=this._mapService.serviceLayer.fields;if(a.location){var b=[],q=[],n=this._mapService.serviceLayer.bandCount;
if((n&&0<n||!n)&&a.value){var h=[a.value];this.includeMosaicDatasetValues&&a.properties&&0<a.properties.Values.length&&(h=h.concat(a.properties.Values));if(h&&0<h.length)for(var g=0;g<h.length;g++){var l=new esri.Graphic(a.location);l.attributes=[];var m;m=-1!==h[g].indexOf(",")?h[g].replace(/ /g,""):h[g].replace(/ /g,",");var p={};if(!n||1<n)p.value=m,0===g&&q.push({name:"value",alias:"value",type:d.essentials.EsriFieldTypes.esriFieldTypeString});for(var u=function(){var a=m.indexOf(","),a=-1!==
a?a:0,c=0!=a?m.substring(0,a):m,e=1<n?"value"+(t+1).toString():"value";m=m.substring(0!==a?a+1:a,m.length);a=null;0===g?(a=r._getFieldTypeInformation(c),q.push({name:e,alias:e,type:a})):a=q.filter(function(a){return a.name===e})[0].type;p[e]=r._parseAttributeValue(c,a)},r=this,t=0;t<n;t++)u();l.setAttributes(p);b.push(l)}}this._createAndAddGcxFeatureSet("value",c,b,a.location.type,a.location.spatialReference,this._mapService.displayName+", {value}",q)}this.includeCatalogItems&&a.catalogItems&&a.catalogItems.features&&
(b=a.catalogItems,b.displayFieldName=b.displayFieldName?0<e.length?e[0].name:b.displayFieldName:b.objectIdFieldName,b.features=b.features.filter(function(c,e){return a.catalogItems&&1===a.catalogItemVisibilities[e]?!0:!1}),e=this._app.getResource(this._libraryId,"language-rasterIdentify-catalogItem-labelFormat").format(this._mapService.displayName,"{"+b.displayFieldName+"}"),this._createAndAddGcxFeatureSetFromEsriFeatureSet(b,e,c,null))}return c}};b.prototype._parseAttributeValue=function(a,c){switch(c){case d.essentials.EsriFieldTypes.esriFieldTypeSingle:case d.essentials.EsriFieldTypes.esriFieldTypeDouble:return parseFloat(a);
case d.essentials.EsriFieldTypes.esriFieldTypeSmallInteger:case d.essentials.EsriFieldTypes.esriFieldTypeInteger:return parseInt(a);default:return null}};b.prototype._getFieldTypeInformation=function(a){if($.isNumeric(a))if(a=Number(a),0!==Math.abs(a%1)){if(-3.4E38<=a&&1.2E38>=a)return d.essentials.EsriFieldTypes.esriFieldTypeSingle;if(-Infinity<=a&&Infinity>=a)return d.essentials.EsriFieldTypes.esriFieldTypeDouble}else{if(-32768<=a&&32767>=a)return d.essentials.EsriFieldTypes.esriFieldTypeSmallInteger;
if(-2147483648<=a&&2147483647>=a)return d.essentials.EsriFieldTypes.esriFieldTypeInteger}return d.essentials.EsriFieldTypes.esriFieldTypeString};b.prototype._createAndAddGcxFeatureSet=function(a,c,e,b,d,f,h){a=new esri.tasks.FeatureSet({displayFieldName:a});a.geometryType=b;a.spatialReference=d;a.features=e;this._createAndAddGcxFeatureSetFromEsriFeatureSet(a,f,c,h)};b.prototype._createAndAddGcxFeatureSetFromEsriFeatureSet=function(a,c,e,b){var d=this,n,h=this.featureLayer.fields;try{b&&(this.featureLayer.fields=
b),n=new f.infrastructure.FeatureSet({esriFeatureSet:a,featureLayer:this.featureLayer,defaultDateFormat:this._mapService.defaultDateFormat,defaultNumberFormat:this._mapService.defaultNumberFormat})}finally{b&&(this.featureLayer.fields=h)}n.displayName.set(this._mapService.displayName);n.iconUri.set(this._mapService.iconUri);n.features.get().forEach(function(a){a.labelFormat.set(c);a.timeZoneId=g.getTimeZoneFromMapService(d._mapService);a.displayTimeZoneId=g.getDisplayTimeZoneFromMapService(d._mapService)});
0<n.features.get().filter(function(a){return f.infrastructure.GeometryUtils.needsProjection(a.esriFeature.get().geometry,d._app)}).length&&e?(a=n.features.get().map(function(a){return a.esriFeature.get().geometry}),b=new esri.tasks.ProjectParameters,b.geometries=a,b.outSR=this._app.map.extent.spatialReference,f.infrastructure.GeometryUtils.project(b,function(a){n.features.get().forEach(function(c,e){c.esriFeature.get().setGeometry(a[e])});e.featureSets.addItem(n)},function(a){e.featureSets.addItem(n)},
this._app)):e.featureSets.addItem(n)};b.prototype._convertEsriFeatureToGcxFeature=function(a,c,e,b,d){c=new f.infrastructure.Feature({graphic:c,layer:e,resolveLayerFields:!!b,allowUnsafeContent:!!d});c.labelFormat.set(a);return c};return b}();h.RasterIdentifyUtils=l})(g.identify||(g.identify={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(h){function b(a,c){h.call(this,a,c);this.VIEWER_TYPE_FOR_INSIGHT="Geocortex Viewer for HTML5";this.SECURITY_ISSUER_NAME="http://www.geocortex.net/security/claims/issuer-name";this.I_WANT_TO_MENU_ID="IWANTTO";this.TOOL_EVENT_SOURCE_IWTM="IWantToMenu";this.TOOL_EVENT_SOURCE_TOOLBAR="Toolbar";this._eventRelay=null;this._pendingEvents=[];this._datalinkResolutionTimes={};this._layerLoadTimes={};this._searchTimes={};this._webRequestTimes=
{};this._workflowTimes={}}__extends(b,h);b.prototype.initialize=function(a){var c=this;this._loggingEnabled=a&&void 0!=a.enabled?a.enabled:!1;if(!1!==this._loggingEnabled&&!this.app.isOffline.get()){this._dataRelayIntervalInSeconds=a&&a.dataRelayIntervalInSeconds?a.dataRelayIntervalInSeconds:30;this._dataRelayUri=a&&a.dataRelayUri?a.dataRelayUri:"http://localhost/Geocortex/Analytics/ClientRelay";this._requiresProxy(this._dataRelayUri)&&(this._dataRelayUri=this.app.configuration.proxyUri+this._dataRelayUri);
a=this.app.configModel.viewerId;var e=this.app.version,b=this.app.configModel.moduleConfigs.filter(function(a){return"Site"===a.moduleName});if(0===b.length)this._loggingEnabled=!1;else{var b=b[0].configuration.siteUri,b=this.app.performTokenReplacement(b),b=this.app.makeAbsolute(b),b=d.essentials.utilities.UrlUtilities.simplify(b),q=/(.*)\/(REST\/sites)\/(.*)(\/)?/i.exec(b);if(null==q||4>q.length)this._loggingEnabled=!1;else{this._eventRelay=new d.insight.EventRelay(this.VIEWER_TYPE_FOR_INSIGHT,
a,q[3],b,e,this._dataRelayUri);this._listenForUnhandledExceptions();null!=this.app.site&&this.app.site.isInitialized||(this.app.event("SiteInitializingEvent").once(this,this._handleSiteInitializingStarted),this.app.event("SiteInitializedEvent").once(this,this._handleSiteInitializedCompleted));if(this.app.map&&this.app.map.loaded)this._onMapInitialized();else this.app.event("MapLoadedEvent").once(this,function(){c._onMapInitialized()});this.app.event("AuthenticationSucceededEvent").once(this,function(a){return c._logAuthenticationEvent(a,
!0)});this.app.event("AuthenticationFailedEvent").once(this,function(a){return c._logAuthenticationEvent(a,!1)});this.app.event("ActiveToolChangedEvent").subscribe(this,this._handleActiveToolChanged);this.app.event("DatalinkResolutionStartedEvent").subscribe(this,this._handleDatalinkResolutionStarted);this.app.event("DatalinkResolutionCompletedEvent").subscribe(this,this._handleDatalinkResolutionCompleted);this.app.event("EsriWebRequestStartedEvent").subscribe(this,this._handleWebRequestStarted);
this.app.event("EsriWebRequestCompletedEvent").subscribe(this,this._handleWebRequestCompleted);this.app.event("LayerVisibilityChangedEvent").subscribe(this,this._handleLayerVisibilityChanged);this.app.event("MenuItemInvokedEvent").subscribe(this,this._handleMenuItemInvoked);this.app.event("PrintTemplateStartedEvent").subscribe(this,this._handlePrintTemplateStarted);this.app.event("ReportTemplateStartedEvent").subscribe(this,this._handleReportTemplateStarted);this.app.event("ReportStartedEvent").subscribe(this,
this._handleReportStarted);this.app.event("SearchProgressEvent").subscribe(this,this._handleSearchProgressChanged);this.app.event("SiteLayerLoadingEvent").subscribe(this,this._handleSiteLayerLoading);this.app.event("SiteLayerLoadedEvent").subscribe(this,this._handleSiteLayerLoaded);this.app.event("ToolbarButtonClickedEvent").subscribe(this,this._handleToolbarButtonClicked);this.app.event("TraceEvent").subscribe(this,this._handleTrace);this.app.event("WorkflowWebRequestStartedEvent").subscribe(this,
this._handleWorkflowWebRequestStarted);this.app.event("WorkflowWebRequestCompletedEvent").subscribe(this,this._handleWorkflowWebRequestCompleted)}}}};b.prototype._onMapInitialized=function(){this._eventRelay.setupMap(this.app.map)};b.prototype._logEvent=function(a,c){!1!==this._loggingEnabled&&(null!=this._eventRelay?this._eventRelay.logEvent(a,c):this._pendingEvents.push({eventName:a,eventData:c}))};b.prototype._listenForUnhandledExceptions=function(){var a=this,c=window;"undefined"!==typeof window.addEventListener&&
-1===navigator.appVersion.indexOf("MSIE 9.")?window.addEventListener("error",function(c){return a._onUnhandledException(c)}):"undefined"!==typeof c.attachEvent&&c.attachEvent("onerror",function(c){return a._onUnhandledException(c)});if("undefined"!==typeof Promise)Promise.onPossiblyUnhandledRejection(function(c){return a._onUnhandledException(c)})};b.prototype._logAuthenticationEvent=function(a,c){var e=this,b=this.app.site.principal.identities[0].claims.filter(function(a){return a.type===e.SECURITY_ISSUER_NAME}),
d={username:a.username,success:c};0<b.length&&(d.authority=b[0].value);this._logEvent("Authentication",d)};b.prototype._handleActiveToolChanged=function(a){if(a.tool){var c={name:a.tool.name,location:this.TOOL_EVENT_SOURCE_TOOLBAR};a.tool instanceof f.infrastructure.tools.MapTool&&(a=a.tool,c.command=a.command,c.drawMode=a.drawMode);this._logEvent("Tool",c)}};b.prototype._handleDatalinkResolutionStarted=function(a,c){this._datalinkResolutionTimes[a]=(new Date).getTime()};b.prototype._handleDatalinkResolutionCompleted=
function(a,c){var e=(new Date).getTime(),b=this._datalinkResolutionTimes[a];this._datalinkResolutionTimes[a]=null;if(null!=b){var d=0;c.features.get().forEach(function(c){d+=c.dataLinkingResults.get().filter(function(c){return c.dataLink.get().id===a}).length});this._logEvent("Datalink",{datalinkID:a,featureResults:d,time:e-b})}};b.prototype._handleLayerVisibilityChanged=function(a){if(!1!==this.app.map.loaded)for(var c=0;c<a.length;c++){var e=a[c],b,q;switch(e.mapService.mapServiceType){case d.essentials.MapServiceType.DYNAMIC:b=
e.mapService.serviceUrl+"/"+e.layer.id;q=e.mapService.serviceUrl;break;case d.essentials.MapServiceType.FEATURE:b=e.mapService.serviceUrl;q=/(.*)\/(MapServer|FeatureServer)\/(d*)/.exec(e.mapService.serviceUrl);q=q[1]+"/"+q[2];break;case d.essentials.MapServiceType.WMS:q=e.mapService.mapUrl;b=e.mapService.mapUrl+"layers="+e.layer.name;break;default:continue}this._logEvent("VisibleLayer",{layerURL:b,mapServiceURL:q,visible:e.visibility})}};b.prototype._handleMenuItemInvoked=function(a){if(null!=a.menuItem&&
null!=a.menuItem.menuViewModel&&a.menuItem.menuViewModel.menuId.toUpperCase()===this.I_WANT_TO_MENU_ID){var c={name:a.menuItem.menuItem.text,location:this.TOOL_EVENT_SOURCE_IWTM};c.command=a.menuItem.menuItem.command.name;c.commandParameter=a.menuItem.menuItem.commandParameter;this._logEvent("Tool",c)}};b.prototype._handlePrintTemplateStarted=function(a){var c=this,e=(new Date).getTime(),b=null,d=null,d=this.app.event("PrintTemplateCompletedEvent").once(this,function(a){null!=b&&c.app.event("PrintTemplateErrorEvent").unsubscribe(b);
a={templateID:a.id,time:(new Date).getTime()-e};c._logEvent("Print",a)}),b=this.app.event("PrintTemplateErrorEvent").once(this,function(a){null!=d&&c.app.event("PrintTemplateCompletedEvent").unsubscribe(d)})};b.prototype._handleReportTemplateStarted=function(a,c,e){var b=this,d=(new Date).getTime();this.app.event("ReportTemplateCompletedEvent").once(this,function(a,c,e){c=b._getMapServiceFromMapServiceId(c);if(null!=c){var f=c.layers.filter(function(a){return a.name===e});0!==f.length&&(a={templateID:b._createInsightReportId(c.serviceUrl,
f[0].id,a),time:(new Date).getTime()-d},b._logEvent("Report",a))}})};b.prototype._handleReportStarted=function(a,c,e){var b=this,d=(new Date).getTime(),f=this._getMapServiceFromMapServiceId(c);if(null!=f&&null!=e)var h=null,g=null,g=this.app.event("ReportResultEvent").once(this,function(c){null!=h&&b.app.event("ReportErrorEvent").unsubscribe(h);c={templateID:b._createInsightReportId(f.serviceUrl,e,a),time:(new Date).getTime()-d};b._logEvent("Report",c)}),h=this.app.event("ReportErrorEvent").once(this,
function(a){null!=g&&b.app.event("ReportResultEvent").unsubscribe(g)})};b.prototype._createInsightReportId=function(a,c,e){return a+"|"+c+"|"+e};b.prototype._getMapServiceFromMapServiceId=function(a){if(null!=a){var c=this.app.site.essentialsMap.mapServices.filter(function(c){return c.id===a});if(0!==c.length)return c[0]}};b.prototype._handleSearchProgressChanged=function(a){if(null!=a.searchType&&""!==a.searchType&&("ArcGIS"===a.searchType||"InstantSearch"===a.searchType||"InstantSearchHints"===
a.searchType||"ArcGISGeocode"===a.searchType))if(a.status===f.infrastructure.search.Status.SEARCHING)null==this._searchTimes[a.searchType]&&(this._searchTimes[a.searchType]=(new Date).getTime());else if(a.status===f.infrastructure.search.Status.IDLE){var c=(new Date).getTime(),e=this._searchTimes[a.searchType];if(null!=e){var b=0;if(null!=a.results)for(var d=0;d<a.results.featureSets.getLength();d++)var n=a.results.featureSets.getAt(d),b=b+n.features.getLength();"ArcGISGeocode"===a.searchType?this._logEvent("Geocode",
{mapServiceURL:a.endpointUrl,searchText:a.query,geocodeType:"Forward",resultCount:b,time:c-e}):this._logEvent("Search",{searchText:a.query,searchType:a.searchType,resultCount:b,time:c-e})}this._searchTimes[a.searchType]=null}};b.prototype._handleSiteInitializingStarted=function(a){this._siteInitializationStartTime=(new Date).getTime()};b.prototype._handleSiteInitializedCompleted=function(a){a=(new Date).getTime();var c=this._siteInitializationStartTime;null!=c&&this._logEvent("SiteInitialization",
{time:a-c})};b.prototype._handleSiteLayerLoading=function(a){this._layerLoadTimes[a.url]=(new Date).getTime()};b.prototype._handleSiteLayerLoaded=function(a){var c=(new Date).getTime(),e=this._layerLoadTimes[a.url];this._layerLoadTimes[a.url]=null;if(null!=e){var b="",d="",d=/(.*)\/(MapServer|FeatureServer)\/(d*)/;d.test(a.url)?(b=d.exec(a.url),d=b[1]+"/"+b[2],b=a.url):d=a.url;this._logEvent("ServiceLayerInitialization",{layerURL:b,mapServiceURL:d,time:c-e})}};b.prototype._handleToolbarButtonClicked=
function(a){this._logEvent("Tool",{name:a.id,location:this.TOOL_EVENT_SOURCE_TOOLBAR,command:a.commandName,commandParameter:a.commandParameter})};b.prototype._handleTrace=function(a){"debug"!==a.level&&"trace"!==a.level&&"info"!==a.level&&this._logEvent("Log",{message:a.message,level:a.level,stackTrace:a.stack})};b.prototype._handleWebRequestStarted=function(a){/^(.*)\/GeometryServer\/(\w+)$/.test(a)&&(this._webRequestTimes[a]=(new Date).getTime())};b.prototype._handleWebRequestCompleted=function(a){var c=
/^(.*)\/GeometryServer\/(\w+)$/;if(c.test(a)){var e=(new Date).getTime(),b=this._webRequestTimes[a];null!=b&&(c=c.exec(a),this._logEvent("GeometryRequest",{mapServiceURL:c[1]+"/GeometryServer",geometryCommand:c[2],time:e-b}));this._webRequestTimes[a]=null}};b.prototype._handleWorkflowWebRequestStarted=function(a,c){this._workflowTimes[c.id]=(new Date).getTime()};b.prototype._handleWorkflowWebRequestCompleted=function(a,c){var e=(new Date).getTime(),b=this._workflowTimes[c.id];this._workflowTimes[c.id]=
null;null!=b&&this._logEvent("WorkflowRequest",{workflowID:c.id,workflowURL:a,time:e-b})};b.prototype._onUnhandledException=function(a){var c=a.error;a={message:"undefined"!==typeof c?c.message:a};"undefined"!==typeof c&&(a.stackTrace=c.stack);this._logEvent("UnhandledException",a)};b.prototype._requiresProxy=function(a){a=new dojo._Url(a);var c=window.location;return(a.scheme||a.host||a.port)&&c.protocol+"//"+c.hostname+(c.port?":"+c.port:"")!==a.scheme+"://"+a.host+(a.port?":"+a.port:"")?!0:!1};
return b}(d.framework.application.ModuleBase);h.InsightIntegrationModule=g})(g.insightIntegration||(g.insightIntegration={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(m){(function(h){var m=function(h){function b(){h.apply(this,arguments);this._connectedComponents=[];this._componentStates=[];this._eventSubscriptions=[];this._commandSubscriptions=[];this._previousScale=this._pitch=this._heading=0;this._componentIgnoreUpdates=this._ignoreUpdates=!1;this._ignoreUpdateInterval=250}__extends(b,h);b.prototype.initialize=function(a){var c=this;this._incomingMessageTransport=new g.integration.PostMessageTransport(window,
null,"Viewer");this._incomingMessageTransport.allowOrigin("{0}//{1}".format(window.location.protocol,window.location.host));this._incomingMessageTransport.onMessage=function(a){return c._handleBridgeMessage(a)};a.allowedOrigins&&a.allowedOrigins.forEach(function(a){return c._incomingMessageTransport.allowOrigin(a)});this._registerCommandsAndEvents()};b.prototype._registerCommandsAndEvents=function(){this.app.command("ListenToExternalComponentFrame").register(this,this._executeListenToExternalComponentFrame);
this.app.command("ToggleExternalComponentSyncById").register(this,this._executeToggleExternalComponentSyncById);this.app.command("BroadcastCurrentViewpoint").register(this,this._executeBroadcastCurrentViewpoint);this.app.event("ComponentViewpointUpdatedEvent").subscribe(this,this._handleComponentViewpointUpdatedEvent);this.app.event("MapExtentChangedEvent").subscribe(this,this._handleMapExtentChangedEvent);this.app.event("ApplicationResizedEvent").subscribe(this,this._handleApplicationResizedEvent)};
b.prototype._handleComponentViewpointUpdatedEvent=function(a){var c=this;if(a){var e=this._getComponent(this._commandOrEventSender);if(e){this._lastUpdaterName=e.id;e.sync&&a.heading&&(this._heading=a.heading);var b;b=a.extent?new esri.geometry.Extent(a.extent):new esri.geometry.Point(a.center);b.spatialReference=b.spatialReference||e.preferredSpatialReference;var d=new esri.tasks.ProjectParameters;d.geometries=[b];d.outSR=this.app.map.spatialReference;f.infrastructure.GeometryUtils.project(d,function(b){b=
b[0];b instanceof esri.geometry.Extent?e.sync&&!c._ignoreUpdates?(c.app.command("ZoomToExtent").execute(b),c._updateSyncedViewpointIndicator()):e.sync||c._updateViewpointIndicator(e.name,e.viewpointIndicatorUri,b.getCenter(),a.heading):e.sync&&!c._ignoreUpdates?(a.scale&&a.scale!==c._previousScale&&(c._previousScale=a.scale,c.app.command("ZoomToScale").execute(a.scale)),c.app.command("PanToPoint").execute(b),c._updateSyncedViewpointIndicator()):e.sync||c._updateViewpointIndicator(e.name,e.viewpointIndicatorUri,
b,a.heading)},function(a){c.app.trace.warning("An error occurred while attempting to project the current extent for third-party map components: "+a)},this.app)}else this.app.trace.warning("Received a viewpoint update from an unrecognized component.")}};b.prototype._executeBroadcastCurrentViewpoint=function(a){if(a=this._getComponentByName(a)){var c=this._currentViewpoint;this._lastUpdaterName=null;c.updaterName=this._lastUpdaterName;this._updateViewpointIndicator(a.name,a.viewpointIndicatorUri,c.extent.getCenter(),
this._heading);this._broadcastViewpoint(c,a,!0)}else this.app.trace.warning("Received a broadcast request from an unrecognized component.")};b.prototype._executeListenToExternalComponentFrame=function(a){var c=$(a.elementSelector,this.app.getHostElement())[0],e=c?c.contentWindow:a.contentWindow;if(e){var c=d.framework.utils.alphaNumericToken(32),b=a.name,e=new g.integration.PostMessageTransport(null,e,b);a={id:c,name:b,transport:e,preferredSpatialReference:new esri.SpatialReference({wkid:4326}),sync:!1,
viewpointIndicatorUri:a.viewpointIndicatorUri};this._connectedComponents.push(a)}else this.app.trace.error("Could not listen to remote component. No element to listen to found for selector '{0}' and no context window provided.".format(a.elementSelector))};b.prototype._executeToggleExternalComponentSyncById=function(a){if(a=this._getComponentByName(a))if(a.sync=!a.sync,a.sync){this._removeViewpointIndicator(a.name);this._updateSyncedViewpointIndicator();var c=this._currentViewpoint;c.updaterName=null;
this._broadcastViewpoint(c,a)}else this._removeSyncedViewpointIndicator(),this._updateViewpointIndicator(a.name,a.viewpointIndicatorUri,this.app.map.extent.getCenter(),this._heading);else this.app.trace.warning("Received a sync update from an unrecognized component.")};b.prototype._handleHandshakeRequest=function(a){a.payload?(a=this._getComponentByName(a.payload))?(a.transport.send({messageName:d.essentialsHtmlViewer.integration.protocol.HandshakeResponse,componentId:a.id}),this._handleRemoteComponentInitialized(a)):
this.app.trace.warning("Received a handshake request from an unrecognized component."):this.app.trace.warning("Received a handshake request without a specified id.")};b.prototype._handleRemoteComponentDisconnect=function(a){var c=this._getComponent(a.componentId);c?(a.payload&&this._updateComponentState(a.payload),this._removeComponent(a.componentId),c.sync?this._removeSyncedViewpointIndicator():this._removeViewpointIndicator(c.name)):this.app.trace.warning("An unknown component broadcasted a disconnect message.")};
b.prototype._updateComponentState=function(a){var c=d.framework.utils.ArrayUtils.firstOrDefault(this._componentStates,function(c){return c.id===a.id});c&&d.framework.utils.ArrayUtils.removeItem(this._componentStates,c);this._componentStates.push(a)};b.prototype._removeComponent=function(a){a=this._getComponent(a);if(!a)return!1;a=this._connectedComponents.indexOf(a);if(0>a)return!1;this._connectedComponents.splice(a,1);return!0};b.prototype._sendToAll=function(a,c){var e=this;this._connectedComponents.forEach(function(b){if(!c||
b.id!==c)try{b.transport.send(a)}catch(d){e.app.trace.warning("Could not send message '{0}' to component '{1}' (ID: '{2}'): {3}".format(a.messageName,b.name,b.id,d))}})};b.prototype._sendTo=function(a,c){var e=this._getComponent(a);e&&e.transport.send(c)};b.prototype._getComponent=function(a){var c=this._connectedComponents.filter(function(c){return c.id===a})[0];return c?c:(this.app.trace.warning("Could not find connected component with ID '{0}'.".format(a)),null)};b.prototype._getComponentByName=
function(a){var c=this._connectedComponents.filter(function(c){return c.name===a})[0];return c?c:(this.app.trace.warning("Could not find connected component with name '{0}'.".format(a)),null)};b.prototype._handleBridgeMessage=function(a){var c=this;if(a.messageName===g.integration.protocol.HandshakeRequest)this._handleHandshakeRequest(a);else{var e=a.componentId,b=this._getComponent(e);if(e&&b)switch(a.messageName){case g.integration.protocol.RemoteDisconnect:this._handleRemoteComponentDisconnect(a);
break;case g.integration.protocol.RemotePublish:var d=a.commandOrEventName;if(!d){this.app.trace.warning("Message from integration bridge was missing the 'commandOrEventName' field.");break}try{this._commandOrEventSender=a.componentId,d.endsWith("Event")?this.app.event(d).publish(a.payload):this.app.command(d).execute(a.payload)}finally{this._commandOrEventSender=null}break;case g.integration.protocol.RemoteSubscribe:d=a.commandOrEventName;if(!d){this.app.trace.warning("Message from integration bridge was missing the 'commandOrEventName' field.");
break}if(d.endsWith("Event")){if(this._eventSubscriptions[d])break;this._eventSubscriptions[d]=this.app.event(d).subscribe(this,function(a){c._sendToAll({messageName:g.integration.protocol.RemotePublish,commandOrEventName:d,payload:a})})}else{if(this._commandSubscriptions[d])break;this._commandSubscriptions[d]=this.app.command(d).register(this,function(a){c._sendToAll({messageName:g.integration.protocol.RemotePublish,commandOrEventName:d,payload:a})})}break;case g.integration.protocol.RemoteUnsubscribe:d=
a.commandOrEventName,d.endsWith("Event")?(a=this._eventSubscriptions[d],this.app.event(d).unsubscribe(a),delete this._eventSubscriptions[d]):(a=this._commandSubscriptions[d],this.app.command(d).unregister(a),delete this._commandSubscriptions[d])}else this.app.trace.warning("Received a bridge message with missing or unknown component ID from sender. Discarding.")}};b.prototype._handleMapExtentChangedEvent=function(a,c){this._updateViewpoint(a)};b.prototype._handleApplicationResizedEvent=function(){var a=
this;this._componentIgnoreUpdates=!0;this._ignoreUpdatesTimer=setTimeout(function(){a._componentIgnoreUpdates=!1},this._ignoreUpdateInterval)};b.prototype._updateViewpoint=function(a){var c=a.getCenter();this._currentViewpoint=a={timestamp:(new Date).getTime(),extent:a,position:{x:c.x,y:c.y},scale:this.app.map.getScale(),heading:this._heading,pitch:this._pitch,updaterName:this._lastUpdaterName};this._lastUpdaterName=null;this._updateSyncedViewpointIndicator(c);this._broadcastViewpoint(a)};b.prototype._updateSyncedViewpointIndicator=
function(a,c){this._connectedComponents.some(function(a){return a.sync})&&(a=a||this.app.map.extent.getCenter(),this._updateViewpointIndicator("sync",b.DEFAULT_VIEWPOINT_INDICATOR_URI,a,this._heading))};b.prototype._updateViewpointIndicator=function(a,c,e,b){var q=this;void 0===b&&(b=0);if(c){var f=this.app.site.getMap();f&&f.spatialReference&&(this._indicatorLayer||(this._indicatorLayer=new esri.layers.GraphicsLayer,this._indicatorLayer.on("mouse-down",function(a){q._onMouseDown(a)}),f.addLayer(this._indicatorLayer),
Modernizr.touch&&this._indicatorLayer.getNode().addEventListener("touchstart",function(a){q._onTouchStart(a)})),f=d.framework.utils.ArrayUtils.firstOrDefault(this._indicatorLayer.graphics,function(c){return c.attributes.ID===a}),f||(c=new esri.symbol.PictureMarkerSymbol(c,32,32),f=new esri.Graphic(e,c,{ID:a},null),this._indicatorLayer.add(f)),f.symbol.setAngle((b+45)%360),f.setGeometry(e))}};b.prototype._removeSyncedViewpointIndicator=function(){this._connectedComponents.some(function(a){return a.sync})||
this._removeViewpointIndicator("sync")};b.prototype._removeViewpointIndicator=function(a){if(this._indicatorLayer){var c=d.framework.utils.ArrayUtils.firstOrDefault(this._indicatorLayer.graphics,function(c){return c.attributes.ID==a});c&&this._indicatorLayer.remove(c)}};b.prototype._onMouseDown=function(a){var c=this;a.preventDefault();if(0===a.button){var e=a.graphic.attributes.ID;if("sync"!==e){var b=this._getComponentByName(e);if(b){this.app.map.disableMapNavigation();this._ignoreUpdates=!0;var d=
null,f=null,h=null,g=a.graphic.symbol.angle-45,l=function(a){a.preventDefault();d.remove();f.remove();h.remove();c._updateViewpointIndicatorComponent(b,a.mapPoint,g);c._ignoreUpdates=!1;c.app.map.enableMapNavigation()},f=this.app.map.on("mouse-drag",function(a){a.preventDefault();0!==a.button&&l(a);c._updateViewpointIndicatorComponent(b,a.mapPoint,g)}),d=this.app.map.on("mouse-up",l),h=this.app.map.on("mouse-out",l)}else this.app.trace.warning("Viewpoint indicator is not associated with a remote component.")}}};
b.prototype._onTouchStart=function(a){var c=this;a.preventDefault();var e=a.target.e_graphic.attributes.ID;if("sync"!==e){var b=this._getComponentByName(e);if(b){this.app.map.disableMapNavigation();this._ignoreUpdates=!0;var d=a.target.e_graphic.symbol.angle-45,f=function(a){a.preventDefault();c._updateViewpointIndicatorComponent(b,a.mapPoint,d)},h=function(a){a.preventDefault();c.app.map.root.removeEventListener("touchmove",f);c.app.map.root.removeEventListener("touchend",h);c._updateViewpointIndicatorComponent(b,
a.mapPoint,d);c._ignoreUpdates=!1;c.app.map.enableMapNavigation()};this.app.map.root.addEventListener("touchmove",f);this.app.map.root.addEventListener("touchend",h)}else this.app.trace.warning("Viewpoint indicator is not associated with a remote component.")}};b.prototype._updateViewpointIndicatorComponent=function(a,c,e){var b=this;void 0===e&&(e=0);a&&c&&(this._updateViewpointIndicator(a.name,a.viewpointIndicatorUri,c,e),e=new esri.tasks.ProjectParameters,e.geometries=[c],e.outSR=a.preferredSpatialReference,
f.infrastructure.GeometryUtils.project(e,function(c){a.transport.send({messageName:g.integration.protocol.RemotePublish,commandOrEventName:"ViewpointIndicatorUpdatedEvent",payload:c[0]})},function(a){b.app.trace.warning("An error occurred while attempting to project the current extent for third-party map components: "+a)},this.app))};b.prototype._broadcastViewpoint=function(a,c,e){var b=this;void 0===e&&(e=!1);var d=c?[c]:this._connectedComponents;if(!this._componentIgnoreUpdates||e)for(var n=0;n<
d.length;n++)if(c=d[n],c.sync||e){var h=new esri.tasks.ProjectParameters;h.geometries=[this.app.map.extent];h.outSR=c.preferredSpatialReference;f.infrastructure.GeometryUtils.project(h,function(e){a.extent=e[0];a.position=a.extent.getCenter();b._ignoreUpdates=!0;b._ignoreUpdatesTimer=setTimeout(function(){b._ignoreUpdates=!1},b._ignoreUpdateInterval);c.transport.send({messageName:g.integration.protocol.RemotePublish,commandOrEventName:"ViewerPositionUpdatedEvent",payload:a})},function(a){b.app.trace.warning("An error occurred while attempting to project the current extent for third-party map components: "+
a)},this.app)}};b.prototype._handleRemoteComponentInitialized=function(a){var c=d.framework.utils.ArrayUtils.firstOrDefault(this._componentStates,function(c){return c.id===a.name});c&&(a.sync=c.sync);var e={viewpoint:null,sync:a.sync,hasPreviousState:c?!0:!1};c&&!c.sync&&(e.viewpoint={extent:c.viewpoint.extent,heading:c.viewpoint.heading,pitch:c.viewpoint.pitch,position:c.viewpoint.center,scale:c.viewpoint.scale,updaterName:null});a.transport.send({messageName:g.integration.protocol.RemotePublish,
commandOrEventName:"ExternalComponentInitializedEvent",payload:e});c?c.sync?(this._broadcastViewpoint(this._currentViewpoint,a,!0),this._updateSyncedViewpointIndicator()):this._updateViewpointIndicator(a.name,a.viewpointIndicatorUri,this._currentViewpoint.extent.getCenter(),c.viewpoint.heading):(this._broadcastViewpoint(this._currentViewpoint,a,!0),this._updateViewpointIndicator(a.name,a.viewpointIndicatorUri,this._currentViewpoint.extent.getCenter(),0))};b.DEFAULT_VIEWPOINT_INDICATOR_URI="Resources/Images/Icons/location-direction-blue-32.png";
return b}(d.framework.application.ModuleBase);h.IntegrationModule=m})(m.integration||(m.integration={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(f){function b(){f.apply(this,arguments)}__extends(b,f);b.prototype.attach=function(a){var c=this;f.prototype.attach.call(this,a);var e="iframe[data-frame-id='{0}']".format(a.frameId);d.framework.utils.addEventListener(this.frameElement,"load",function(){c.app.command("ListenToExternalComponentFrame").execute({elementSelector:e,name:c.viewModel.currentPaneItem.get().id,viewpointIndicatorUri:c.viewModel.currentPaneItem.get().viewpointIndicatorUri})})};
return b}(f.infrastructure.ui.components.MultiPane.PaneView);h.ExternalComponentPaneView=g})(g.integration||(g.integration={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(f){function b(){f.apply(this,arguments);this.uri=new Observable("")}__extends(b,f);b.prototype.initialize=function(a){f.prototype.initialize.call(this,a);this.frameId="frame-"+d.framework.utils.alphaNumericToken();a&&a.hasOwnProperty("uri")&&this.uri.set(a.uri)};return b}(f.infrastructure.ui.components.MultiPane.PaneViewModel);h.ExternalComponentPaneViewModel=g})(g.integration||(g.integration={}))})(f.modules||(f.modules=
{}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(f){function b(){f.apply(this,arguments);this.undockedPaneItems=new ObservableCollection;this.overlayIsVisible=new Observable(!1);this.statusText=new Observable("")}__extends(b,f);b.prototype.initialize=function(a){f.prototype.initialize.call(this,a);a&&(a.hasOwnProperty("externalComponents")&&this.paneItems.addItems(a.externalComponents),a.hasOwnProperty("defaultComponents")&&this.setDefaultComponents(a.defaultComponents),
a.hasOwnProperty("statusText")&&this.statusText.set(a.statusText));this._registerCommandsAndEvents()};b.prototype.setDefaultComponents=function(a){if(0!=this.paneItems.length()){for(var c=0;c<a.length;c++){var e=d.framework.utils.ArrayUtils.firstOrDefault(this.paneItems.getItems(),function(e){return e.id===a[c]});this.defaultPaneItems.addItem(e)}0==this.defaultPaneItems.getLength()&&this.defaultPaneItems.addItem(this.paneItems.getAt(0))}};b.prototype.findUndockedPaneItemById=function(a){return d.framework.utils.ArrayUtils.firstOrDefault(this.undockedPaneItems.getItems(),
function(c){return c.id&&c.id===a})};b.prototype.isUndockedPaneItem=function(a){return d.framework.utils.ArrayUtils.contains(this.undockedPaneItems.getItems(),a)};b.prototype.isDockedPaneItem=function(a){return d.framework.utils.ArrayUtils.contains(this.displayedPaneItems.getItems(),a)&&!d.framework.utils.ArrayUtils.contains(this.undockedPaneItems.getItems(),a)};b.prototype.haveDockedPanes=function(){return this.displayedPaneItems.length()>this.undockedPaneItems.length()};b.prototype._registerCommandsAndEvents=
function(){var a=this;this.app.event("MapMouseDownEvent").subscribe(this,function(){return a.overlayIsVisible.set(!0)});this.app.event("MapMouseUpEvent").subscribe(this,function(){return a.overlayIsVisible.set(!1)});this.app.event("PanelResizeStartEvent").subscribe(this,function(){return a.overlayIsVisible.set(!0)});this.app.event("PanelResizeEndEvent").subscribe(this,function(){return a.overlayIsVisible.set(!1)})};return b}(f.infrastructure.ui.components.MultiPane.MultiPaneViewModel);h.ExternalComponentViewModel=
g})(g.integration||(g.integration={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(g){function b(a,c){g.call(this,a,c);this._statusMessageViewId="externalComponentStatusMessageView";this._windowUnloadInterval=500;this._windowLoadInterval=250;this._isIE9=!1;this._registerCommands();if(this.app.site&&this.app.site.isInitialized)this._siteInitialized();else this.app.event("SiteInitializedEvent").once(this,this._siteInitialized);this._isIE9=$(document.documentElement).hasClass("dj_ie9")}__extends(b,g);b.prototype.deactivated=
function(){g.prototype.deactivated.call(this);this.app.command("RemoveStatus").execute(this._statusMessageViewId)};b.prototype.resolveWidget=function(a,c,e){var b=this;return"Selector"===a?(this._selectorView=this.app.viewManager.createView({typeName:"geocortex.framework.ui.Selector.SelectorView",markupResource:"Framework.UI/geocortex/framework/ui/Selector/SelectorView.html",isVisible:!0,libraryId:"Framework.UI"}),this.selector=new d.framework.ui.Selector.SelectorViewModel(this.app,this.libraryId,
!!this.app.configuration.mobileMode,!!this.app.configuration.mobileMode),this.selector.setCollection(this.viewModel.paneItems,"displayName",null),this.selector.selectorText.set(this.viewModel.selectorText.get()||this.app.getResource(this.libraryId,"language-integration-selector-text")),this.selector.noItemsText.set(this.app.getResource(this.libraryId,"language-integration-no-items")),this.selector.onSelectItem=function(a){return b.handleSelectPane(a.item)},this.selector.onUnselectItem=function(a){return b.handleUnSelectPane(a.item)},
this._selectorView.attach(this.selector),this._selectorView):g.prototype.resolveWidget.call(this,a,c,null)};b.prototype.handleUnSelectPane=function(a){this.destroyPaneItemById(a.id)};b.prototype.handleClickClose=function(){this.clearDockedPaneItems();this.deactivateContainer()};b.prototype.addPaneItem=function(a){if(!a||!this.canAddPaneItem(a))return null;this.viewModel.displayedPaneItems.addItem(a);this.app.command("ActivateView").execute(this.id);var c=new h.ExternalComponentPaneViewModel(this.app,
this.libraryId);c.currentPaneItem.set(a);c.initialize({uri:a.uri});var e=this.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.modules.integration.ExternalComponentPaneView",markupResource:"Mapping/modules/Integration/ExternalComponentPaneView.html",libraryId:this.libraryId||"Mapping",regionName:this.viewModel.regionName.get(),isVisible:!0});this._panes.push(e);e.attach(c);this.selector.selectItem(a);this.handleApplicationResizedEvent();return e};b.prototype.destroyPaneItemById=
function(a,c){void 0===c&&(c=!1);var e=this.viewModel.findUndockedPaneItemById(a);e?this.destroyUndockedPaneItem(e):c||(e=this.viewModel.findDisplayedPaneItemById(a),this.destroyPaneItem(e))};b.prototype.destroyPaneItem=function(a){a=g.prototype.destroyPaneItem.call(this,a);this.viewModel.haveDockedPanes()||this.app.command("DeactivateView").execute(this.id);return a};b.prototype.destroyUndockedPaneItem=function(a){a&&this.viewModel.isUndockedPaneItem(a)&&(a.window&&(a.window.close(),a.window=null),
this.viewModel.undockedPaneItems.removeItem(a),this.viewModel.displayedPaneItems.removeItem(a),this.selector.unselectItem(a))};b.prototype.clearDockedPaneItems=function(){for(var a=this.viewModel.displayedPaneItems.getLength();a--;){var c=this.viewModel.displayedPaneItems.getAt(a);this.viewModel.isDockedPaneItem(c)&&this.destroyPaneItem(c)}};b.prototype.dockPaneItemById=function(a){var c=this,e=this.viewModel.findPaneItemById(a);this.viewModel.isUndockedPaneItem(e)&&this.destroyUndockedPaneItem(e);
setTimeout(function(){c.addPaneItem(e)},this._windowUnloadInterval)};b.prototype.undockPaneItemById=function(a){var c=this;if("Tablet"==this.app.shellName||this._isIE9)this.app.trace.warning("Undocking an external component is not supported."),this.dockPaneItemById(a);else{var e=this.viewModel.findPaneItemById(a);if(e){a=e.id.replace(/\W/g,"");var b=window.open(e.uri,a);this.app.command("ListenToExternalComponentFrame").execute({elementSelector:null,name:e.id,contentWindow:b,viewpointIndicatorUri:e.viewpointIndicatorUri});
setTimeout(function(){d.framework.utils.addEventListener(b,"unload",function(){c.destroyPaneItemById(e.id,!0)})},this._windowLoadInterval);this.viewModel.isDockedPaneItem(e)&&this.destroyPaneItem(e);this.viewModel.haveDockedPanes()||this.app.command("DeactivateView").execute(this.id);e.window=b;this.viewModel.undockedPaneItems.addItem(e);this.viewModel.displayedPaneItems.addItem(e);this.selector.selectItem(e)}}};b.prototype.handleApplicationResizedEvent=function(){g.prototype.handleApplicationResizedEvent.call(this);
var a=this.scrollRegionElement,c=$(".view .pane .map-frame",a);0!==c.length&&$(c).height(a.clientHeight)};b.prototype._registerCommands=function(){this.app.command("ShowExternalComponentView").register(this,this._executeShowExternalComponentView,this._canExecuteExternalComponentView);this.app.command("DisplayDockedExternalComponentById").register(this,this.dockPaneItemById);this.app.command("DisplayUndockedExternalComponentById").register(this,this.undockPaneItemById);this.app.command("RemoveExternalComponentById").register(this,
this.destroyPaneItemById)};b.prototype._siteInitialized=function(){var a=this;this.app.command("ShowExternalComponentView").raiseCanExecuteChanged();d.framework.utils.addEventListener(window,"unload",function(){a.viewModel.undockedPaneItems.getItems().forEach(function(a){a.window.close()})})};b.prototype._executeShowExternalComponentView=function(){this._executeShowMultiPaneView();var a=this.viewModel.statusText.get();a&&(a=new f.infrastructure.commandArgs.AddStatusArgs(a),a.id=this._statusMessageViewId,
a.timeoutMS=0,this.app.command("AddStatus").execute(a))};b.prototype._canExecuteExternalComponentView=function(){return this.viewModel&&0<this.viewModel.paneItems.getLength()};return b}(f.infrastructure.ui.components.MultiPane.MultiPaneView);h.ExternalComponentView=g})(g.integration||(g.integration={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c,e,b){d.call(this,a,b);this._defaultIconUri="Resources/Images/Icons/link-external-24.png";this._defaultTarget="_blank";this.uri=new Observable("");this.iconUri=new Observable(this._defaultIconUri);this.text=new Observable("");this.tooltip=new Observable("");this.target=new Observable(this._defaultTarget);(e=e||c.layer)?c.uri?(this.uri.set(this.replaceTokens(c.uri,e)),c.iconUri&&this.iconUri.set(this.replaceTokens(c.iconUri,
e)),c.text&&this.text.set(this.replaceTokens(c.text,e)),c.toolTip&&this.tooltip.set(this.replaceTokens(c.toolTip,e)),c.target&&this.target.set(c.target)):a.trace.warning(a.getResource(b,"language-hyperlink-no-url-warning")):a.trace.warning(a.getResource(b,"language-hyperlink-no-layer-warning"))}__extends(b,d);b.prototype.replaceTokens=function(a,c){var e=this,b=/{[^}]*}/g,d="",f=-1,h=a.match(b)||[],b=a.replace(b,function(){f++;return"{"+f.toString()+"}"}),g=[];h.forEach(function(a){var b=a.substring(1,
a.length-1),k=null;c&&(k=e.getLayerTokenValue(b,c));c.mapService&&!k&&(k=e.getMapServiceTokenValue(b,c.mapService));g.push(k?k:a)});d=String.prototype.format.apply(b,g);c.properties&&(h=Object.getOwnPropertyNames(c.properties),h.forEach(function(a){d=e.replaceToken(a,d,c.properties[a].toString())}));c.mapService.properties&&(h=Object.getOwnPropertyNames(c.mapService.properties),h.forEach(function(a){d=e.replaceToken(a,d,c.mapService.properties[a].toString())}));return d};b.prototype.replaceToken=
function(a,c,e){return c?c.replace("{"+a+"}",e):c};b.prototype.getLayerTokenValue=function(a,c){switch(a.toUpperCase()){case "LAYERDISPLAYNAME":return c.displayName;case "LAYERID":return c.id;case "LAYERNAME":return c.name;case "LAYERDESCRIPTION":return c.description;default:return null}};b.prototype.getMapServiceTokenValue=function(a,c){switch(a.toUpperCase()){case "MAPSERVICEDISPLAYNAME":return c.displayName;case "MAPSERVICEID":return c.id;case "MAPSERVICEURL":return c.url;case "MAPSERVICETOKEN":return c.serviceToken;
default:return null}};return b}(d.essentialsHtmlViewer.mapping.infrastructure.menus.MenuViewModel);f.LayerHyperlinkViewModel=g})(f.layerList||(f.layerList={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(h){var g=function(h){function b(a,c){h.call(this,a,c);this._layerListItemType=d.infrastructure.layerList.LayerListItemType;this._rixits="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz+/";this.name="layers";this.priority=d.infrastructure.sharing.LayerListLinkPriority.LAYERS}__extends(b,h);b.prototype.initialize=function(a){var c=this;h.prototype.initialize.call(this,a);this.app.event("LayerListInitializedEvent").once(this,
function(a){c.layerList=a})};b.prototype.apply=function(a){var c=this;if(a)if(this.layerList)this._applyLayers(a,this.layerList);else this.app.event("LayerListInitializedEvent").once(this,function(e){c._applyLayers(a,e)})};b.prototype.generate=function(){var a=this;this.layerList.children.get();var c=[],e=function(c,b){for(var k=0;k<b.length;k++)a._getItemConfiguredVisiblity(b[k])!==b[k].isVisible.get()&&c.push(b[k].name.get()),b[k].children&&b[k].children.length()&&e(c,b[k].children.get())};e(c,
this.layerList.children.get());for(var b="",d=0;d<c.length;d++)var f=this._getHashValue(c[d]),b=b+this._base10ToBase64(f);return b};b.prototype._applyLayers=function(a,c){var e=this,b={},d=function(a,c){for(var b=0;b<c.length;b++){var k=e._getHashValue(c[b].name.get()).toString();a[k]=c[b];c[b].children&&c[b].children.length()&&d(a,c[b].children.get())}};d(b,this.layerList.children.get());for(var f=a.match(/.{1,6}/g),h=0;h<f.length;h++){var g=this._base64ToBase10(f[h]).toString();b.hasOwnProperty(g)&&
(g=b[g],g.setItemVisibility(!this._getItemConfiguredVisiblity(g)))}};b.prototype._getItemConfiguredVisiblity=function(a){switch(a.type){case this._layerListItemType.FOLDER:return a.configuredVisible;case this._layerListItemType.MAPSERVICE:case this._layerListItemType.KMLFOLDER:return a.mapService.gcxMapService.configuredVisible;case this._layerListItemType.LAYER:case this._layerListItemType.GRAPHICSLAYER:return a.layer.gcxLayer.configuredVisible;default:return null}};b.prototype._getHashValue=function(a){a=
String.quickHashCode(a);0>a&&(a>>>=0);return a};b.prototype._base10ToBase64=function(a){if(isNaN(Number(a))||null===a||0>a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)return"";for(var c=Math.floor(a),e="";a=c%64,e=this._rixits.charAt(a)+e,c=Math.floor(c/64),0!=c;);for(;6>e.length;)e=this._rixits.charAt(0)+e;return e};b.prototype._base64ToBase10=function(a){if(6!=a.length)return-1;var c=0;a=a.split("");for(var e=0;e<a.length;e++){var b=this._rixits.indexOf(a[e]);if(0>b)return-1;c=64*
c+b}return c};return b}(d.infrastructure.sharing.SharingLinkProviderBase);h.LayersSharingLinkProvider=g})(g.layerList||(g.layerList={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(f){function b(){f.apply(this,arguments)}__extends(b,f);b.prototype.attach=function(a){a&&(f.prototype.attach.call(this,a),this.registerCommands())};b.prototype.registerCommands=function(){this.app.command("ActivateSelectLayersForIdentify").register(this,this.executeActivateSelectLayersForIdentify);this.app.command("DeactivateSelectLayersForIdentify").register(this,this.executeDeactivateSelectLayersForIdentify)};b.prototype.executeActivateSelectLayersForIdentify=
function(){var a=this;d.framework.ui.animation.runWhenIdle(function(){a.app.viewManager.activateView(a);a.viewModel.activateSelectLayersForIdentify()})};b.prototype.executeDeactivateSelectLayersForIdentify=function(){this.app.viewManager.deactivateView(this);this.viewModel.deactivateSelectLayersForIdentify()};return b}(f.infrastructure.layerSelector.LayerSelectorViewBase);h.IdentifyLayerSelectorView=g})(g.identify||(g.identify={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(h){var g=function(d){function b(a,c){d.call(this,a,c);this.selectAllButtonTitle.set(this.app.getResource(c,"language-layer-selector-identify-select-all-tooltip"));this.clearAllButtonTitle.set(this.app.getResource(c,"language-layer-selector-identify-clear-all-tooltip"))}__extends(b,d);b.prototype.filter=function(a){return(a="serviceLayer"===a.itemType?a.serviceLayer.gcxMapService:a.layer.gcxLayer)?a.identifiable:!1};b.prototype.handleLayerStateChange=
function(a){this._setLayerStateForIdentify(a)};b.prototype.handleAllLayersEnabled=function(){this.app.command("EnableAllLayersForIdentify").execute()};b.prototype.handleAllLayersDisabled=function(){this.app.command("DisableAllLayersForIdentify").execute()};b.prototype.activateSelectLayersForIdentify=function(){var a=this,c=this.layerSelector.filteredLayerSelectorLayerItems.filter(function(a){return!a.isEnabled.get()});this.app.command("EnableAllLayersForIdentify").execute();c.length&&c.forEach(function(c){return a._setLayerStateForIdentify(c)});
this.app.event("SelectLayersForIdentifyActivatedEvent").publish(this.layerSelector.filteredLayerSelectorLayerItems.slice(0))};b.prototype.deactivateSelectLayersForIdentify=function(){this.app.command("EnableAllLayersForIdentify").execute();this.app.event("SelectLayersForIdentifyDeactivatedEvent").publish(this.layerSelector.filteredLayerSelectorLayerItems.slice(0))};b.prototype._setLayerStateForIdentify=function(a){var c="serviceLayer"===a.itemType?a.serviceLayer.gcxMapService:a.layer.serviceLayerInfo.gcxMapService,
e="layer"===a.itemType?a.layer.gcxLayer:null;if(c){var b={};b.mapServiceId=c.id;b.layerId=e?e.id:null;a.isEnabled.get()?this.app.command("EnableLayerForIdentify").execute(b):this.app.command("DisableLayerForIdentify").execute(b)}else this.app.trace.error("IdentifyLayerSelectorViewModel: Could not handle layer state change. MapService not defined.")};return b}(d.infrastructure.layerSelector.LayerSelectorViewModelBase);h.IdentifyLayerSelectorViewModel=g})(g.identify||(g.identify={}))})(d.modules||(d.modules=
{}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);return b}(d.framework.application.ModuleBase);f.LayerSelectorModule=g})(f.layerSelector||(f.layerSelector={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(d){function b(a,c){d.call(this,a,c)}__extends(b,d);b.prototype.sayHello_Click=function(){var a=this;this.output.textContent="Sending message...\n";this.app.nativeManager.message("MessageTest_Hello",{name:this.nameInput.value}).then(function(c){a.output.textContent+="Promise resolved: "+c.hello+"\n"})["catch"](function(c){a.output.textContent+="Error: "+c.message+"\n"})};b.prototype.workerJob_Click=function(){var a=this;
this._workerJobCancellation=new f.infrastructure.CancellationTokenSource;this.output.textContent="Sending message...\n";this.app.nativeManager.message("MessageTest_Worker",{iterations:this.iterationsInput.value,durationPerIteration:this.iterationDurationInput.value},this._workerJobCancellation.token(),function(c){a.output.textContent+=c.status+": "+c.details.message+"\n"}).then(function(c){a.output.textContent+="Promise resolved."})["catch"](function(c){a.output.textContent="OperationCanceled"==c.name?
a.output.textContent+"Canceled.\n":a.output.textContent+("Error: "+c.message+"\n")})};b.prototype.workerJobCancel_Click=function(){this._workerJobCancellation&&this._workerJobCancellation.cancel()};b.prototype.download_Click=function(){var a=this;this._downloadCancellation=new f.infrastructure.CancellationTokenSource;this.output.textContent="Sending message...\n";this.app.nativeManager.message("DownloadResource",{url:this.downloadInput.value},this._downloadCancellation.token(),function(c){a.output.textContent+=
c.status+": "+c.details.status+". "+c.details.message+". Bytes downloaded: "+c.details.bytesDownloaded+"\n"}).then(function(c){a.output.textContent+="Promise resolved."}).error(function(c){a.output.textContent+="Error: "+c.message+"\n"})};b.prototype.downloadCancel_Click=function(){this._downloadCancellation&&this._downloadCancellation.cancel()};return b}(d.framework.ui.ViewBase);h.NativeMessageTesterView=g})(g.nativeIntegration||(g.nativeIntegration={}))})(f.modules||(f.modules={}))})(g.mapping||
(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){(function(h){(function(h){var b=function(a){function c(c,b){a.call(this,c,b);this._bindings=[];this._statusId="offlineBasemapDefineLevels";this.app.command("ShowOfflineMapEditorBasemapLevels").register(this,this._showOfflineMapEditorBasemapLevels)}__extends(c,a);c.prototype._showOfflineMapEditorBasemapLevels=function(a){this.viewModel.basemap.set(a.basemap);this.app.command("ActivateView").execute(this.id)};c.prototype.attach=function(c){var b=
this;a.prototype.attach.call(this,c);this.viewModel.basemap.bind(this,function(){return b._initSliderAndMapBindings()})};c.prototype.deactivated=function(){a.prototype.deactivated.call(this);for(var c=0;c<this._bindings.length;c++){var b=this._bindings[c];b.observable&&b.token?b.observable.unbind(b.token):b.esriHandle&&b.esriHandle.remove()}this._bindings.length=0;this.app.command("RemoveStatus").execute(this._statusId);this.app.map._params.maxZoom=this._mapMaxZoom};c.prototype._initSliderAndMapBindings=
function(){var a=this;$(this.slider).slider({range:!1,min:Math.max(this.viewModel.basemap.get().exportTilesMapServiceMinLevel.get(),this.app.map.getMinZoom()),max:Math.min(this.viewModel.basemap.get().exportTilesMapServiceMaxLevel.get(),this.app.map.getMaxZoom()),value:this.viewModel.basemap.get().exportTilesMaxLevel.get(),slide:function(c,b){a.viewModel.basemap.get().exportTilesMaxLevel.get()!==b.value&&a.viewModel.basemap.get().exportTilesMaxLevel.set(b.value)}});this._bindings.push({observable:this.viewModel.basemap.get().exportTilesMaxLevel,
token:this.viewModel.basemap.get().exportTilesMaxLevel.bind(this,function(c){$(a.slider).slider("value",c);a.app.map.getLevel()!==c&&a.app.map.setLevel(c)})});this._bindings.push({esriHandle:this.app.map.on("extent-change",function(c){c.lod.level!==a.viewModel.basemap.get().exportTilesMaxLevel.get()&&a.viewModel.basemap.get().exportTilesMaxLevel.set(c.lod.level)})});this.app.map.setZoom(this.viewModel.basemap.get().exportTilesMaxLevel.get());if("Handheld"!=this.app.shellName){var c=new f.infrastructure.commandArgs.AddStatusArgs(this.getResource("language-offlinemapeditor-basemaps-levels-mapinstructions"),
null,function(){a.app.command("DeactivateView").execute(a.id)},null,this._statusId,-1,!1);this.app.command("AddStatus").execute(c)}c=this.app.map;this._mapMaxZoom=c._params.maxZoom;c._params.maxZoom=this.viewModel.basemap.get().exportTilesMapServiceMaxLevel.get()};c.prototype.handleDoneClick=function(a,c,b){this.app.command("DeactivateView").execute(this.id)};return c}(d.framework.ui.ViewBase);h.OfflineMapEditorBasemapLevelsView=b})(h.basemap||(h.basemap={}))})(h.editor||(h.editor={}))})(g.offlineMaps||
(g.offlineMaps={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function c(c,b){a.call(this,c,b);this.basemap=new Observable(null)}__extends(c,a);return c}(d.framework.ui.ViewModelBase);f.OfflineMapEditorBasemapLevelsViewModel=b})(f.basemap||(f.basemap={}))})(f.editor||(f.editor={}))})(f.offlineMaps||(f.offlineMaps={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex=
{}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function c(){a.apply(this,arguments)}__extends(c,a);c.prototype.resolveWidget=function(c,b,d){a.prototype.resolveWidget.call(this,c,b);if(!c)return null;switch(c){case "GrantEditorWidget":return(c=this.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.infrastructure.documents.GrantEditorView",markupResource:"Mapping/infrastructure/documents/GrantEditorView.html",libraryId:"Mapping.Infrastructure",
isVisible:!0}))&&c.attach(this.viewModel.grantEditorViewModel),c;default:return null}};c.prototype.handleBackClick=function(a,c,b){this.app.command("DeactivateView").execute(this.id)};return c}(d.framework.ui.ViewBase);f.OfflineMapEditorSharingView=b})(f.sharing||(f.sharing={}))})(f.editor||(f.editor={}))})(f.offlineMaps||(f.offlineMaps={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c)}__extends(b,d);b.prototype.attach=function(a){var c=this;d.prototype.attach.call(this,a);this.peephole.style.borderWidth=this.viewModel.printPreviewSymbol.outline.width+"px";this.peephole.style.borderColor=this.viewModel.printPreviewSymbol.outline.color.toCss(!0);this.peephole.style.backgroundColor=this.viewModel.printPreviewSymbol.color.toCss(!0);this.viewModel.printPreviewIsLocked.bind(this,
function(a){return c.setPeepholeVisibility(a)})};b.prototype.activated=function(){this.mapZoomStartedToken||(this.mapZoomStartedToken=this.app.event("MapZoomStartedEvent").subscribe(this,this.mapZoomStartedEvent));this.mapZoomEndedToken||(this.mapZoomEndedToken=this.app.event("MapZoomEndedEvent").subscribe(this,this.handleMapZoomEvent));this.mapExtentChangedToken||(this.mapExtentChangedToken=this.app.event("MapExtentChangedEvent").subscribe(this,this.setExtentFromPeepholePosition));this.selectedScaleToken||
(this.selectedScaleToken=this.app.event("PrintPreviewScaleChangedEvent").subscribe(this,this.printMapScaleHasChanged));this.selectedTemplateToken||(this.selectedTemplateToken=this.app.event("PrintPreviewLayoutChangedEvent").subscribe(this,this.handleTemplateSelectionChanged));this.calculatePeepholeDimensionsFromExtent(this.viewModel.printPreviewExtent)};b.prototype.deactivated=function(){this.mapZoomStartedToken&&(this.app.event("MapZoomStartedEvent").unsubscribe(this.mapZoomStartedToken),this.mapZoomStartedToken=
null);this.mapZoomEndedToken&&(this.app.event("MapZoomEndedEvent").unsubscribe(this.mapZoomEndedToken),this.mapZoomEndedToken=null);this.mapExtentChangedToken&&(this.app.event("MapExtentChangedEvent").unsubscribe(this.mapExtentChangedToken),this.mapExtentChangedToken=null);this.selectedScaleToken&&(this.app.event("PrintPreviewScaleChangedEvent").unsubscribe(this.selectedScaleToken),this.selectedScaleToken=null);this.selectedTemplateToken&&(this.app.event("PrintPreviewLayoutChangedEvent").unsubscribe(this.selectedTemplateToken),
this.selectedTemplateToken=null)};b.prototype.setPeepholeVisibility=function(a){a?this.app.command("DeactivateView").execute(this.id):this.app.command("ActivateView").execute(this.id)};b.prototype.handleTemplateSelectionChanged=function(){var a=this.viewModel.calculateExtentFromPrintTemplate(this.app.map.extent.getCenter());this.calculatePeepholeDimensionsFromExtent(a)};b.prototype.printMapScaleHasChanged=function(){var a=this,c=parseFloat(this.viewModel.selectedScale.get().scale),e;if(c&&c.toFixed(2)!==
this.app.map.getScale().toFixed(2))this.app.event("MapZoomEndedEvent").once(this,function(){e=a.viewModel.calculateExtentFromPrintTemplate(a.app.map.extent.getCenter(),c);a.calculatePeepholeDimensionsFromExtent(e);a.viewModel.printPreviewExtent=e});else e=c&&c.toFixed(2)===this.app.map.getScale().toFixed(2)?this.viewModel.calculateExtentFromPrintTemplate(this.app.map.extent.getCenter(),c):this.app.map.extent,this.calculatePeepholeDimensionsFromExtent(e),this.viewModel.printPreviewExtent=e;return!0};
b.prototype.mapZoomStartedEvent=function(){this.peephole.style.opacity="0"};b.prototype.handleMapZoomEvent=function(){var a=parseFloat(this.viewModel.selectedScale.get().scale);this.app.map.extent.contains(this.viewModel.printPreviewExtent)&&a?(a=this.viewModel.getGraphicPositionFromExtent(this.viewModel.printPreviewExtent),this.peephole.style.top=a.top+"px",this.peephole.style.left=a.left+"px",this.peephole.style.width=a.width+"px",this.peephole.style.height=a.height+"px"):a?this.calculatePeepholeDimensionsFromExtent(this.viewModel.printPreviewExtent):
this.calculatePeepholeDimensionsFromExtent(this.app.map.extent);this.peephole.style.opacity="1"};b.prototype.calculatePeepholeDimensionsFromExtent=function(a){var c=this.viewModel.getGraphicPositionFromExtent(a);if(this.app.map.extent.contains(this.viewModel.printPreviewExtent))this.peephole.style.top=c.top+"px",this.peephole.style.left=c.left+"px",this.peephole.style.width=c.width+"px",this.peephole.style.height=c.height+"px";else{a=this.app.map.toScreen(this.app.map.extent.getCenter());var e=c.width,
c=c.height,b=a.x-e/2;this.peephole.style.top=a.y-c/2+"px";this.peephole.style.left=b+"px";this.peephole.style.width=e+"px";this.peephole.style.height=c+"px";this.setExtentFromPeepholePosition()}};b.prototype.setExtentFromPeepholePosition=function(){var a=parseInt(this.peephole.style.top),c=parseInt(this.peephole.style.left),e=parseInt(this.peephole.style.width),b=parseInt(this.peephole.style.height),d=this.app.map.toMap({x:c,y:a}),a=this.app.map.toMap({x:c+e,y:a+b}),d=new esri.geometry.Extent(d.x,
a.y,a.x,d.y,this.app.map.spatialReference);this.viewModel.printPreviewExtent=d};return b}(d.framework.ui.ViewBase);f.UnlockedPrintPreviewView=g})(f.printing||(f.printing={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c)}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a);$(this.root).parent("[class*='left']").length?this.viewModel.isLeft.set(!0):$(this.root).parent("[class*='right']").length&&this.viewModel.isRight.set(!0)};b.prototype.toggleScaleInputBoxActive=function(){this.app.command("ToggleScaleInputBox").execute()};return b}(d.framework.ui.ViewBase);f.ScaleInputBoxButtonView=
g})(f.scalebar||(f.scalebar={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,c){f.call(this,a,c);this._registerCommandsAndEvents()}__extends(b,f);b.prototype._registerCommandsAndEvents=function(){this.app.command("ToggleScaleInputBox").register(this,this.toggleScaleInputBox)};b.prototype.attach=function(a){f.prototype.attach.call(this,a)};b.prototype.activated=function(){this.app.configuration.mobileMode&&this.viewModel.scaleInputBoxIsVisible.set(!0)};b.prototype.deactivated=function(){this.app.configuration.mobileMode&&
this.viewModel.scaleInputBoxIsVisible.set(!1)};b.prototype.resetInputScaleToMapScale=function(){this.viewModel.setScale(this.app.map.getScale())};b.prototype.handleFocusOnInput=function(){var a=this;this.tapToDismissRegistered||(d.framework.ui.utils.tapToDismissThis(this,function(){return a._onOtherInteracted()}),this.tapToDismissRegistered=!0)};b.prototype.handleChangeOnInput=function(){var a=this,c=this.viewModel.stringToScale(this.viewModel.inputScale.get());if(!this.isValidScale(c))return this.resetInputScaleToMapScale(),
!0;this.viewModel.inputScale.set(this.viewModel.scaleToString(c));this.tapToDismissRegistered||(d.framework.ui.utils.tapToDismissThis(this,function(){return a._onOtherInteracted()}),this.tapToDismissRegistered=!0);return!0};b.prototype.isValidScale=function(a){return!isNaN(parseFloat(a))&&isFinite(a)&&0<parseFloat(a)};b.prototype._onOtherInteracted=function(){this.resetInputScaleToMapScale();this.tapToDismissRegistered=!1};b.prototype.toggleScaleInputBox=function(){this.app.configuration.mobileMode?
this.app.viewManager.activateView(this):!1!==this.viewModel.isScaleInputBoxEnabled.get()&&(this.viewModel.scaleInputBoxIsVisible.get()?(this.viewModel.scaleInputBoxIsVisible.set(!1),this.app.viewManager.deactivateView(this)):(this.viewModel.scaleInputBoxIsVisible.set(!0),this.app.viewManager.activateView(this)))};b.prototype.handleScaleChange=function(){var a=this;setTimeout(function(){a.viewModel.inputScale.set(a.viewModel.scaleToString(Math.round(a.viewModel.selectedScale.get().scale)));a.app.command("ZoomToScale").execute(a.viewModel.stringToScale(a.viewModel.inputScale.get()))})};
b.prototype.handleApply=function(){var a=this;setTimeout(function(){a.app.command("ZoomToScale").execute(a.viewModel.stringToScale(a.viewModel.inputScale.get()))})};return b}(d.framework.ui.ViewBase);f.ScaleInputBoxView=g})(f.scalebar||(f.scalebar={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(g){var l=function(b){function a(a,e){b.call(this,a,e);this.app=a;this._switchedToOnline=!1;this.app.command("StartOfflineSyncAndShowProgress").register(this,this._startOfflineSyncAndShowProgress);this.app.command("StartOfflineDownloadAndShowProgress").register(this,this._startOfflineDownloadAndShowProgress)}__extends(a,b);a.prototype.attach=function(a){b.prototype.attach.call(this,a)};a.prototype.activated=function(){b.prototype.activated.call(this)};
a.prototype.resolveWidget=function(a,e,k){b.prototype.resolveWidget.call(this,a,e,k);if("syncProgressBar"===a)return a=this.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.modules.offlineMaps.widgets.ProgressBarWidget",markupResource:"Mapping/modules/OfflineMaps/Widgets/ProgressBarWidget.html"}),a.app=this.app,a.libraryId=this.libraryId,this.progressBarViewModel=new f.widgets.ProgressBarWidgetViewModel(this.app,this.libraryId),a.attach(this.progressBarViewModel),a};a.prototype.deactivated=
function(){b.prototype.deactivated.call(this);this.viewModel.reset();this.progressBarViewModel.widthStyle.set("0%");this._switchedToOnline&&this.app.isOffline.set(!0)};a.prototype._startOfflineSyncAndShowProgress=function(a){var e=this,b=this.app.offlineManager.getOfflineMapById(a.offlineMap.id);this._setup(b);this.app.offlineManager.syncOfflineMap(a.offlineMap,function(a){e.progressBarViewModel.widthStyle.set(a.percentage+"%");setTimeout(function(){e.viewModel.overallPercentage.set(Math.round(10*
a.percentage)/10);e.viewModel.statusText.set(a.message);a.isWarning&&e.viewModel.warnings.addItem(a.message)},500)}).then(function(){setTimeout(function(){e.viewModel.completeText.set(e.getResource("language-offline-maps-sync-done"));e._closeConditionally()},500)})["catch"](function(a){setTimeout(function(){e.viewModel.errorText.set(a.message||a)},500)})["finally"](function(){setTimeout(function(){e.viewModel.showProgress.set(!1);e.viewModel.showCancel.set(!1);e.viewModel.showClose.set(!0)},500)})};
a.prototype._startOfflineDownloadAndShowProgress=function(a){var e=this;this._setup(a.offlineMap);this.app.offlineManager.addOfflineMap(a.offlineMap,function(a){e.progressBarViewModel.widthStyle.set(a.percentage+"%");setTimeout(function(){e.viewModel.overallPercentage.set(Math.round(10*a.percentage)/10);e.viewModel.statusText.set(a.message);a.isWarning&&e.viewModel.warnings.addItem(a.message)},500)}).then(function(){e.app.offlineManager.activateOfflineMap(a.offlineMap,!0)}).then(function(){setTimeout(function(){e.viewModel.completeText.set(e.getResource("language-offline-maps-sync-done"));
e._closeConditionally()},500)})["catch"](function(a){setTimeout(function(){e.viewModel.errorText.set(a.message||a)},500)})["finally"](function(){setTimeout(function(){e.viewModel.showProgress.set(!1);e.viewModel.showCancel.set(!1);e.viewModel.showClose.set(!0)},500)})};a.prototype._closeConditionally=function(){var a=this;this.viewModel.closeWhenDone.get()&&0===this.viewModel.warnings.get().length&&setTimeout(function(){a._close()},100)};a.prototype._close=function(){this.app.viewManager.deactivateView(this)};
a.prototype._open=function(){this.app.command("ActivateView").execute(this.id)};a.prototype._setup=function(a){this.app.isOffline.get()?(this.app.isOffline.set(!1),this._switchedToOnline=!0):this._switchedToOnline=!1;this.viewModel.reset();this.viewModel.setup(a);this._open()};a.prototype.handleCancelClick=function(a,e,b){var d=this;this.viewModel.cancellingText.set(this.getResource("language-offline-maps-sync-cancelling"));this.viewModel.showProgress.set(!1);this.viewModel.isCancelling=!0;this.app.offlineManager.cancel()["finally"](function(){d.viewModel.isCancelling&&
d._close()});setTimeout(function(){d.viewModel.isCancelling&&(d.viewModel.showCancel.set(!1),d.viewModel.showClose.set(!0))},1E4)};a.prototype.handleCloseClick=function(a,e,b){this.viewModel.isCancelling&&(this.app.offlineManager.forgetLast(),this.app.offlineManager.removeOfflineMap(this.viewModel.offlineMap));this._close()};a.prototype.handleToggleDetailsClick=function(a,e,b){this.viewModel.showStatusText.set(!this.viewModel.showStatusText.get())};return a}(d.framework.ui.ViewBase);g.SyncStatusView=
l})(f.sync||(f.sync={}))})(f.offlineMaps||(f.offlineMaps={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){var h=function(b){function a(a,e){b.call(this,a,e);this.app=a;this._bindings=[];this.name=new Observable;this.overallPercentage=new Observable;this.completeText=new Observable(null);this.cancellingText=new Observable;this.errorText=new Observable;this.statusText=new Observable;this.closeWhenDone=new Observable(!1);this.warnings=new ObservableCollection;this.showStatusText=new Observable(!1);this.hideStatusText=new Observable(!0);
this.showProgress=new Observable(!0);this.showCancel=new Observable(!0);this.showClose=new Observable(!1);this.canCancel=new Observable(!1);this.isCancelling=!1}__extends(a,b);a.prototype.setup=function(a){this._bindings.push({token:this.showStatusText.bind(this,this.showStatusTextChanged),observable:this.showStatusText});this._bindings.push({token:this.closeWhenDone.bind(this,this.closeWhenDoneChanged),observable:this.closeWhenDone});this.canCancel.sync(this.app.offlineManager.canCancel);var e=localStorage.getItem("geocortex.offlineMaps.SyncStatusViewModel.showStatusText");
"string"===typeof e&&this.showStatusText.set("true"===e);e=localStorage.getItem("geocortex.offlineMaps.SyncStatusViewModel.closeWhenDone");"string"===typeof e&&this.closeWhenDone.set("true"===e);this.name.set(a.title);this.statusText.set(this.getResource("language-offline-maps-progress-pending"));this.offlineMap=a;this.showClose.set(!1);this.showCancel.set(!0)};a.prototype.reset=function(){this._bindings.forEach(function(a){return a.observable.unbind(a.token)});this._bindings.length=0;this.overallPercentage.set(0);
this.cancellingText.set(null);this.errorText.set(null);this.statusText.set(null);this.completeText.set(null);this.showProgress.set(!0);this.warnings.clear();this.isCancelling=!1};a.prototype.showStatusTextChanged=function(a){localStorage.setItem("geocortex.offlineMaps.SyncStatusViewModel.showStatusText",a+"");this.hideStatusText.set(!a)};a.prototype.closeWhenDoneChanged=function(a){localStorage.setItem("geocortex.offlineMaps.SyncStatusViewModel.closeWhenDone",a+"")};return a}(d.framework.ui.ViewModelBase);
f.SyncStatusViewModel=h})(f.sync||(f.sync={}))})(f.offlineMaps||(f.offlineMaps={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){var h=function(b){function a(){b.apply(this,arguments);this.widthStyle=new Observable("0%")}__extends(a,b);return a}(d.framework.ui.ViewModelBase);f.ProgressBarWidgetViewModel=h})(f.widgets||(f.widgets={}))})(f.offlineMaps||(f.offlineMaps={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){var h=function(b){function a(){b.apply(this,arguments)}__extends(a,b);return a}(d.framework.ui.ViewBase);f.ProgressBarWidget=h})(f.widgets||(f.widgets={}))})(f.offlineMaps||(f.offlineMaps={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,c){f.call(this,a,c);this.SEARCH_TYPE="SearchTable";this._cancelFunction=null;this.name="Search Table";this.description="Search provider for Search Tables.";this.isEnabled=!0}__extends(b,f);b.prototype.initialize=function(a){f.prototype.initialize.call(this,a)};b.prototype.search=function(a,c){var e=this,b=!1,q=0,f=new d.essentialsHtmlViewer.mapping.infrastructure.eventArgs.SearchProgressEventArgs;f.results=
a;f.error=null;f.searchType=this.SEARCH_TYPE;f.query=c;this.status=d.essentialsHtmlViewer.mapping.infrastructure.search.Status.IDLE;f.status=this.status;if(a)if(c){var h=this._getSearchableTables();0==h.length?this.app.event("SearchProgressEvent").publish(f):(this.status=d.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING,f.status=this.status,this.app.event("SearchProgressEvent").publish(f),h.forEach(function(g){for(var l={},m=0,p=g.parameters.length;m<p;m++)l[g.parameters[m].name]=
c;g.performSearch(l,function(c){b||(0<c.features.length&&e._addFsToFsc(c,g,a),q++,e.status=q===h.length?d.essentialsHtmlViewer.mapping.infrastructure.search.Status.IDLE:d.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING,f.status=e.status,e.app.event("SearchProgressEvent").publish(f))},function(c){b||(q++,q===h.length&&(e.status=d.essentialsHtmlViewer.mapping.infrastructure.search.Status.IDLE),e._handleError(c,a,g.displayName))})}),this._cancelFunction=function(){b||(b=!0,e._cancelFunction=
null,e.status=d.essentialsHtmlViewer.mapping.infrastructure.search.Status.IDLE)})}else this.app.trace.error("Search Table Search Provider: Cannot perform search without search text.");else this.app.trace.error("Search Table Search Provider: Cannot perform search without a feature set collection.")};b.prototype._getSearchableTables=function(){for(var a=[],c=0,e=this.app.site.searchTables.length;c<e;c++){var b=this.app.site.searchTables[c];b.includeInGlobalSearch&&a.push(b)}return a};b.prototype._addFsToFsc=
function(a,c,e){a=new d.essentialsHtmlViewer.mapping.infrastructure.FeatureSet({esriFeatureSet:a,app:this.app});a.displayName.set(c.displayName);a.features.getItems().forEach(function(a){a.descriptionFormat.set(c.featureDescription);a.longDescriptionFormat.set(c.featureLongDescription);a.labelFormat.set(c.featureLabel);a.iconUri.set(c.iconUri);a.setExtendedProperty("SearchTableId",c.id)});e.featureSets.addItem(a)};b.prototype.cancelSearch=function(){this._cancelFunction&&this._cancelFunction()};b.prototype._handleError=
function(a,c,e,b){e="Search Table Search Provider"+(e?" ("+e+"): ":": ")+a.message;var q=new d.essentialsHtmlViewer.mapping.infrastructure.eventArgs.SearchProgressEventArgs;q.results=c;q.status=d.essentialsHtmlViewer.mapping.infrastructure.search.Status.ERROR;q.error=a;q.message=e;q.searchType=this.SEARCH_TYPE;q.query=b;this.app.trace.error(e);this.app.event("SearchProgressEvent").publish(q)};return b}(d.essentialsHtmlViewer.mapping.infrastructure.search.SearchProviderBase);f.SearchTableSearchProvider=
g})(f.search||(f.search={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){(function(h){var g=function(){function b(a,c,e){var k=this;this.app=a;this.libraryId=c;this.source=e;this.type=new Observable(null);this.isNone=new Observable(!0);this.isStatic=new Observable(!1);this.isExportTiles=new Observable(!1);this.isValid=new Observable(!0);this.geometry=new Observable(null);this.supportsStatic=new Observable(!1);this.supportsExportTiles=new Observable(!1);this.supportsAny=new Observable(!1);this.staticTpks=
new ObservableCollection([]);this.staticTpk=new Observable(null);this.exportTilesMinLevel=new Observable(0);this.exportTilesMaxLevel=new Observable(22);this.exportTilesMapServiceMinLevel=new Observable(0);this.exportTilesMapServiceMaxLevel=new Observable(22);this.exportTilesRefreshInterval=new Observable(0);this.filename=new Observable("");this.displayName=new Observable("");this.iconUri=new Observable("");this.size=new Observable(b.sizeUnknown);this.sizePresentable=new Observable("");this.errorConfigurationMessage=
new Observable(null);this.errorExportTilesMessage=new Observable(null);this._staticTpksSet=this._hasTiledMapService=!1;this._exportFileName=null;this._calculateSizeGen=1;this.displayName.set(e.displayName);this.iconUri.set(e.iconUri);this.type.bind(this,function(a){k.isNone.set("none"===a);k.isStatic.set(a===f.infrastructure.offline.OfflineMapBasemap.Type.PREGENERATED);k.isExportTiles.set(a===f.infrastructure.offline.OfflineMapBasemap.Type.EXPORT_TILES);k._calculateSize();k._calculateFileName()});
this.staticTpks.bind(this,function(){k._staticTpksSet=!0;var a=k.staticTpks.isEmpty();k.supportsStatic.set(k._hasTiledMapService&&!a);k.staticTpk.get()||a||k.staticTpk.set(k.staticTpks.getAt(0))});this.staticTpk.bind(this,function(){k._calculateSize();k._calculateFileName()});this.supportsExportTiles.bind(this,function(){return k.supportsAny.set(k.supportsExportTiles.get()||k.supportsStatic.get())});this.supportsStatic.bind(this,function(){return k.supportsAny.set(k.supportsExportTiles.get()||k.supportsStatic.get())});
this.exportTilesMinLevel.bind(this,function(){return k._calculateSize()});this.exportTilesMaxLevel.bind(this,function(){return k._calculateSize()});this.exportTilesMapServiceMinLevel.bind(this,function(a){k.exportTilesMinLevel.get()<a&&k.exportTilesMinLevel.set(a);k.exportTilesMaxLevel.get()<a&&k.exportTilesMaxLevel.set(a)});this.exportTilesMapServiceMaxLevel.bind(this,function(a){k.exportTilesMinLevel.get()>a&&k.exportTilesMinLevel.set(a);k.exportTilesMaxLevel.get()>a&&k.exportTilesMaxLevel.set(a)});
this.geometry.bind(this,function(){return k._calculateSize()});this.size.bind(this,function(){return k._calculateIsValid()});this.sizePresentable.syncTransform(this.size,function(a){return k._formatBytes(a)});(this._hasTiledMapService=0<e.services.filter(function(a){return a.mapService.mapServiceType===d.essentials.MapServiceType.TILED}).length)?this._calculateExportTilesMapServiceUri():(this.supportsStatic.set(!1),this.supportsExportTiles.set(!1),this.errorConfigurationMessage.set(this.getResource("language-offlinemapeditor-basemaps-notiled")))}
b.prototype.load=function(a){var c=this;this.type.set(a.sourceType);this.filename.set(a.filename);this._exportFileName=null;switch(a.sourceType){case f.infrastructure.offline.OfflineMapBasemap.Type.PREGENERATED:if(this._staticTpksSet)this._setStaticTpkByUrl(a.url);else this.staticTpks.once(this,function(){c._setStaticTpkByUrl(a.url)});break;case f.infrastructure.offline.OfflineMapBasemap.Type.EXPORT_TILES:this.exportTilesMinLevel.set(Math.max(a.minLevel,this.app.map.getMinZoom()));this.exportTilesMaxLevel.set(Math.min(a.maxLevel,
this.app.map.getMaxZoom()));this.exportTilesRefreshInterval.set(this._sanitizeRefreshInterval(a.refreshInterval));this._exportFileName=a.filename;break;default:throw Error("Unknown sourceType.");}};b.prototype.save=function(){switch(this.type.get()){case "none":throw Error("This OfflineMapBasemap is set to none and not savable.");case f.infrastructure.offline.OfflineMapBasemap.Type.PREGENERATED:return{baseMapId:this.source.id,sourceType:this.type.get(),url:this.staticTpk.get()?this.staticTpk.get().url:
null,filename:this.filename.get(),size:Math.max(this.size.get(),0)};case f.infrastructure.offline.OfflineMapBasemap.Type.EXPORT_TILES:return{baseMapId:this.source.id,sourceType:this.type.get(),url:this._exportTilesMapServiceUri,filename:this.filename.get(),minLevel:this.exportTilesMinLevel.get(),maxLevel:this.exportTilesMaxLevel.get(),size:Math.max(this.size.get(),0),refreshInterval:this._sanitizeRefreshInterval(this.exportTilesRefreshInterval.get())};default:throw Error("Unknown sourceType.");}};
b.prototype.reset=function(){this.type.set("none");this.staticTpks.isEmpty()||this.staticTpk.set(this.staticTpks.getAt(0));this.exportTilesMinLevel.set(Math.max(this.exportTilesMapServiceMinLevel.get(),this.app.map.getMinZoom()));this.exportTilesMaxLevel.set(Math.min(this.exportTilesMapServiceMaxLevel.get(),this.app.map.getMaxZoom()));this.exportTilesRefreshInterval.set(0);this._exportFileName=null};b.prototype._calculateExportTilesMapServiceUri=function(){var a=this;this.errorConfigurationMessage.set(null);
if(this.source.exportTilesMapServiceUri)this._getExportTilesMapServiceInfo(this.source.exportTilesMapServiceUri).then(function(c){return a._enableExportTilesSupport(a.source.exportTilesMapServiceUri,c)},function(c){a.app.trace.warning("Unable to use configured Map Service '"+a.source.exportTilesMapServiceUri+"' to create the Custom Offline Basemap. "+(c.message||c));c.message&&/No token available for service /.test(c.message)?a.errorConfigurationMessage.set(a.getResource("language-offlinemapeditor-basemaps-exporttiles-error-agollogin")):
c.error&&499==c.error.code?a.errorConfigurationMessage.set(a.getResource("language-offlinemapeditor-basemaps-exporttiles-error-auth")):a.errorConfigurationMessage.set(a.getResource("language-offlinemapeditor-basemaps-exporttiles-error-misconfigured"));a._exportTilesMapServiceUri=null;a.supportsExportTiles.set(!1)});else{var c=this.source.services.map(function(a){return a.mapService.serviceUrl}).filter(function(a){return!!a}),e=c.map(function(c){return a._getExportTilesMapServiceInfo(c)}),b=function(d){d>=
e.length?(a._exportTilesMapServiceUri=null,a.supportsExportTiles.set(!1)):e[d].then(function(e){return a._enableExportTilesSupport(c[d],e)},function(){return b(d+1)})};b(0)}};b.prototype._getExportTilesMapServiceInfo=function(a){return esri.request({callbackParamName:"callback",content:{f:"json"},handleAs:"json",url:a}).then(function(a){if(!a.currentVersion||!a.tileInfo)throw Error("Not a map service.");if(10.2>a.currentVersion)throw Error("Version not supported.");if(!a.exportTilesAllowed)throw Error("Export tiles not supported.");
return a})};b.prototype._enableExportTilesSupport=function(a,c){var e=c.tileInfo;this._exportTilesMapServiceUri=a;this.exportTilesMapServiceMinLevel.set(e.lods[0].level);this.exportTilesMapServiceMaxLevel.set(e.lods[e.lods.length-1].level);this.supportsExportTiles.set(this._hasTiledMapService)};b.prototype._setStaticTpkByUrl=function(a){var c=this.staticTpks.length(),e;for(e=0;e<c&&this.staticTpks.getAt(e).url!==a;e++);e===c&&(e=0);this.staticTpk.set(this.staticTpks.getAt(e))};b.prototype._calculateSize=
function(){var a=this;this._calculateSizeHandle&&clearTimeout(this._calculateSizeHandle);this.errorExportTilesMessage.set(null);var c=b.sizeUnknown,e=++this._calculateSizeGen;this.isExportTiles.get()?(c=b.sizeCalculating,this._calculateSizeHandle=setTimeout(function(){if(e===a._calculateSizeGen){var c=a.geometry.get();if(c){var d=a.exportTilesMinLevel.get(),n=a.exportTilesMaxLevel.get();f.infrastructure.ExportTilesUtils.estimateExportTilesSize(a._exportTilesMapServiceUri,{tilePackage:!0,optimizeTilesForSize:!0,
compressionQuality:90,exportBy:"levelId",levels:d!==n?d+"-"+n:""+d,areaOfInterest:JSON.stringify({features:[{geometry:c.toJson()}]})}).then(function(c){e===a._calculateSizeGen&&(c&&"number"===typeof c.totalSize?a.size.set(c.totalSize):(a.app.trace.error('ExportTilesUtils.estimateExportTilesSize returned unexpected result. "'+JSON.stringify(c)+'"'),a.size.set(b.sizeUnknown)))},function(c){e===a._calculateSizeGen&&(c=c&&c.message?c.message:c,a.errorExportTilesMessage.set(c),a.app.trace.error("Error fetching TPK size: "+
c),a.size.set(b.sizeInvalid))})}else a.size.set(b.sizeUnknown)}},2E3)):this.isStatic.get()&&this.staticTpk.get()&&(c=this.staticTpk.get().size);this.size.set(c)};b.prototype._calculateFileName=function(){var a=null;this.isStatic.get()?a=(a=this.staticTpk.get())?a.filename:null:this.isExportTiles.get()&&(this._exportFileName||(a=/([^\/]+)\/MapServer\/?/.exec(this._exportTilesMapServiceUri),this._exportFileName=encodeURIComponent(a?a[1]:this.source.id)+"-"+d.framework.utils.alphaNumericToken(12)+".tpk"),
a=this._exportFileName);this.filename.set(a)};b.prototype._calculateIsValid=function(){var a=!1;this.isNone.get()?a=!0:this.isStatic.get()?a=!0:this.isExportTiles.get()&&(a=0<=this.size.get());this.isValid.set(a)};b.prototype._formatBytes=function(a){if(-3===a)return this.app.getResource(this.libraryId,"language-offlinemapeditor-basemaps-size-invalid");if(-2===a)return this.app.getResource(this.libraryId,"language-offlinemapeditor-basemaps-size-calculating");if(-1===a)return this.app.getResource(this.libraryId,
"language-offlinemapeditor-basemaps-size-unknown");if(0===a)return"0";var c;for(c=0;1E3<a;c++)a/=1E3;return a.toFixed(0<c?2:0)+" "+"B KB MB GB TB PB".split(" ")[c]};b.prototype._sanitizeRefreshInterval=function(a){a=parseInt(a);isNaN(a)&&(a=0);0>a&&(a=0);return a};b.prototype.getResource=function(a){return this.app.getResource(this.libraryId,a)};b.sizeUnknown=-1;b.sizeCalculating=-2;b.sizeInvalid=-3;return b}();h.OfflineMapEditorBasemap=g})(h.editor||(h.editor={}))})(g.offlineMaps||(g.offlineMaps=
{}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){(function(h){(function(h){var b=function(a){function c(){a.apply(this,arguments);this.geometry=new Observable}__extends(c,a);c.prototype.filter=function(a){return a.layer&&(a=a.layer,a.gcxLayer&&(!a.gcxLayer.isUserCreated||a.gcxLayer.catalogId&&a.serviceLayerInfo.gcxMapService.mapServiceType===d.essentials.MapServiceType.DYNAMIC&&a.gcxLayer.isDynamic))?a.serviceLayerInfo.gcxMapService?a.serviceLayerInfo.gcxMapService.mapServiceType===
d.essentials.MapServiceType.DYNAMIC||a.serviceLayerInfo.gcxMapService.mapServiceType===d.essentials.MapServiceType.FEATURE:a.serviceLayerInfo.serviceType===d.essentials.MapServiceType.FEATURE&&a.gcxLayer.type===d.essentials.LayerType.FEATURE_LAYER:!1};c.prototype.handleLayerStateChange=function(a){if(this.filter(a)&&a.layer){var c=this.filter(a)&&a.isEnabled.get();a.layer.setEsriLayerVisibility(c);if(this.onEnabledItemsChanged)this.onEnabledItemsChanged()}};c.prototype.handleAllLayersEnabled=function(){this.setVisibleLayersFromSelectedItems();
if(this.onEnabledItemsChanged)this.onEnabledItemsChanged();if(this.onAllLayersEnabled)this.onAllLayersEnabled()};c.prototype.handleAllLayersDisabled=function(){this.setVisibleLayersFromSelectedItems();if(this.onEnabledItemsChanged)this.onEnabledItemsChanged();if(this.onAllLayersDisabled)this.onAllLayersDisabled()};c.prototype.onLayerSelectorFolderItemCreated=function(a){this._addCustomLayerSelectorMembers(a)};c.prototype.onLayerSelectorLayerItemCreated=function(a){var c=this;a.isEnabled.set(!1);this._addCustomLayerSelectorMembers(a);
a.definitionExpression.bind(this,function(c){a.layer.setDefinitionExpression(c)});a.isEnabled.bind(this,function(){return c._calculateNumFeaturesInLayer(a)});a.definitionExpression.bind(this,function(){return c._calculateNumFeaturesInLayer(a)});this.geometry.bind(this,function(){return c._calculateNumFeaturesInLayer(a)});var b=a.layer.serviceLayerInfo.capabilities;b&&0<=b.indexOf("Sync")?a.editableOrReadOnlyText.set(this.getResource("language-offlinemapeditor-layers-editable-offline")):a.editableOrReadOnlyText.set(this.getResource("language-offlinemapeditor-layers-readonly-offline"))};
c.prototype.onLayerSelectorServiceLayerItemCreated=function(a){this._addCustomLayerSelectorMembers(a)};c.prototype._addCustomLayerSelectorMembers=function(a){a.definitionExpression=new Observable(null);a.invalidDefinitionExpression=new Observable(!1);a.numFeatures=new Observable("0");a.numFeaturesTitle=new Observable("");a.editableOrReadOnlyText=new Observable("")};c.prototype._calculateNumFeaturesInLayer=function(a){var c=this;a.invalidDefinitionExpression.set(!1);if(!a.isEnabled.get()||!this.geometry.get()||
a.layer.gcxLayer&&!a.layer.gcxLayer.supportsQuery)a.numFeatures.set("0"),a.numFeaturesTitle.set(this.getResource("language-offlinemapeditor-layers-numfeatures-title").format(0));else{a.numFeatures.set(this.getResource("language-offlinemapeditor-layers-numfeatures-calculating"));a.numFeaturesTitle.set(this.getResource("language-offlinemapeditor-layers-numfeatures-calculating-title"));var b=new esri.tasks.Query;b.where=a.definitionExpression.get();b.geometry=this.geometry.get();f.infrastructure.taskUtils.getQueryTask(a.layer.gcxLayer).executeForCount(b).then(function(b){a.numFeatures.set(b);
a.numFeaturesTitle.set(c.getResource("language-offlinemapeditor-layers-numfeatures-title").format(b))},function(b){dojo.isArray(b.details)&&b.details.some(function(a){return"Invalid query"===a})&&a.invalidDefinitionExpression.set(!0);c.app.trace.error("Error querying layer '"+a.layer.id+"': "+(b.message?b.message:b));a.numFeatures.set(c.getResource("language-offlinemapeditor-layers-numfeatures-unknown"));a.numFeaturesTitle.set(c.getResource("language-offlinemapeditor-layers-numfeatures-unknown-title"))})}};
c.prototype.setVisibleLayersFromSelectedItems=function(){var a=this;this.getAllItems().forEach(function(c){if(c.layer){var b=a.filter(c)&&c.isEnabled.get();c.layer.setEsriLayerVisibility(b)}})};c.prototype.setSelectedItemsFromVisibleLayers=function(){var a=this;this.getAllItems().forEach(function(c){return c.isEnabled.set(a.filter(c)&&c.layer.isVisible()&&!!c.layer.gcxLayer&&(!c.layer.gcxLayer.isUserCreated||!!c.layer.gcxLayer.catalogId&&c.layer.serviceLayerInfo.gcxMapService.mapServiceType===d.essentials.MapServiceType.DYNAMIC&&
c.layer.gcxLayer.isDynamic))})};return c}(f.infrastructure.layerSelector.LayerSelectorViewModelBase);h.LayerSelectorViewModel=b})(h.layers||(h.layers={}))})(h.editor||(h.editor={}))})(g.offlineMaps||(g.offlineMaps={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(){function h(b,a){this.geocoder=this._noGeocoderConfigured;this.geocoderUrl=this.geocoderToken=null;this.SEARCH_RADIUS=1E3;this.AGS_ADDRESS_FIELD="Match_addr";this.BING_REQUEST_TEMPLATE="http://dev.virtualearth.net/REST/v1/Locations/{0},{1}?{2}key={3}";this.app=b;this._initializeGeocoder(a)}h.prototype.reverseGeocode=function(b){var a=this;return new Promise(function(c,e){if(a.app.isOffline.get())return e(Error("Could not execute Reverse Geocode: Application is offline"));
if(!b.spatialReference)return e(Error("Could not execute Reverse Geocode: Point had no spatial reference"));a.geocoder(b).then(function(a){c(a)},function(a){e(a)})})};h.prototype._initializeGeocoder=function(b){var a=this;b&&b.geocoderUrl&&(this.geocoderUrl=b.geocoderUrl);b&&b.geocoderToken&&(this.geocoderToken=b.geocoderToken);b.geocoderType===d.essentials.GeocodingEndpointType.ARCGIS_GEOCODER?(this._agsGeocoder&&this._agsGeocoder.url===b.geocoderUrl||(b=this._updateUrl(this.geocoderToken),this._agsGeocoder=
new esri.tasks.Locator(b)),this.geocoderToken&&dojo.subscribe("ServiceTokenRefreshed",function(c){c.serviceUrl==a.geocoderUrl&&(c=a._updateUrl(c.token),a._agsGeocoder=new esri.tasks.Locator(c))}),this.geocoder=this._executeAgsReverseGeocode):b.geocoderType===d.essentials.GeocodingEndpointType.BING_GEOCODER&&b.bingProperties&&b.bingProperties.bingMapsKey&&(this._bingMapsKey=b.bingProperties.bingMapsKey,b.bingProperties.culture&&(this._bingMapsCulture=b.bingProperties.culture),this.geocoder=this._executeBingReverseGeocode)};
h.prototype._updateUrl=function(b){this.geocoderToken=b;return this.geocoderUrl+(this.geocoderToken?"?token="+encodeURIComponent(this.geocoderToken):"")};h.prototype._parseAddressObject=function(b){var a=[],c=null,e;for(e in b)b[e]&&a.push(b[e]);0<a.length&&(c=a.join(", "));return c};h.prototype._executeAgsReverseGeocode=function(b){var a=this;return new Promise(function(c,e){a._agsGeocoder.locationToAddress(b,a.SEARCH_RADIUS).then(function(b){if(!b.address||!b.location)return a.app.trace.warning("Check geocoder configuration. No results were returned from a reverse geocode."),
e("Check geocoder configuration. No results were returned from a reverse geocode.");b={address:b.address[a.AGS_ADDRESS_FIELD]||a._parseAddressObject(b.address),location:b.location};return c(b)},function(a){return e(a)})})};h.prototype._executeBingReverseGeocode=function(b){var a=this;return new Promise(function(c,e){f.infrastructure.GeometryUtils.projectGeometry(b,new esri.SpatialReference(4326),function(b){b=a.BING_REQUEST_TEMPLATE.format(b.y,b.x,a._bingMapsCulture?"c="+a._bingMapsCulture+"&":"",
a._bingMapsKey);dojo.xhrGet({url:a.app.configuration.proxyUri+b,handleAs:"json",load:function(a){a&&0<a.resourceSets.length&&0<a.resourceSets[0].resources.length?(a=a.resourceSets[0].resources[0],a={location:new esri.geometry.Point(a.point.coordinates[1],a.point.coordinates[0],new esri.SpatialReference(4326)),address:a.address.formattedAddress},c(a)):e(Error("Reverse Geocode: No response from Bing Geocoder."))},error:function(a){e(a)}})},function(a){},a.app)})};h.prototype._noGeocoderConfigured=function(b){return new Promise(function(a,
c){c(Error("Reverse Geocoder: No geocoder configured"))})};return h}();h.ReverseGeocoder=g})(g.map||(g.map={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(d){function b(){d.apply(this,arguments);this.showCoordinates=new Observable(!1);this.xValue=new Observable;this.yValue=new Observable;this.xType=new Observable("");this.yType=new Observable("");this._isActive=!1}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);a.showCoordinates&&(this._isActive=!0,this.app.event("MapContextMenuPointUpdatedEvent").subscribe(this,this._updatePointInfo))};
b.prototype._updatePointInfo=function(a){var c=this;this._isActive&&this.app.coordinatesManager.getCoordinate(a).then(function(a){c.xType.set("xy"===a.targetCoordinateSystem.output?f.infrastructure.coordinates.CoordinateUtils.getResource(c.app,"x")+":":f.infrastructure.coordinates.CoordinateUtils.getResource(c.app,"latitude-abbrev")+":");c.yType.set("xy"===a.targetCoordinateSystem.output?f.infrastructure.coordinates.CoordinateUtils.getResource(c.app,"y")+":":f.infrastructure.coordinates.CoordinateUtils.getResource(c.app,
"longitude-abbrev")+":");c.xValue.set(a.formattedLatitudeOrX);c.yValue.set(a.formattedLongitudeOrY);c.showCoordinates.set(!0)},function(a){c.app.trace.warning(a.message);c.showCoordinates.set(!1)})};return b}(d.framework.ui.ViewModelBase);h.CoordinatesViewModel=g})(g.map||(g.map={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a);this.title.set(this.getResource("language-menu-map-context-menu-title"))};b.prototype.resolveWidget=function(a,c,e){d.prototype.resolveWidget.call(this,a,c);if("MapContextMenuWidget"===a)return this.app.menuRegistry.createMenuWidget(this,c,e)};b.prototype._deactivateContextMenu=function(){this.app.command("DeactivateContextMenu").execute()};
b.prototype.handleMenuItemClick=function(a,c,e){this.app.configuration.mobileMode||this._deactivateContextMenu();d.prototype.handleMenuItemClick.call(this,a,c,e)};return b}(d.essentialsHtmlViewer.mapping.infrastructure.menus.MenuView);f.MapMenuView=g})(f.map||(f.map={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(h){var g=function(d){function b(){d.apply(this,arguments);this.showMenu=new Observable(!1);this.mapPoint=new Observable}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);a.showMenu&&this.app.menuRegistry.getMenu("MapContextMenu")&&(this.showMenu.set(!0),this.app.event("MapContextMenuPointUpdatedEvent").subscribe(this,this._updatePointInfo))};b.prototype._updatePointInfo=function(a){this.mapPoint.set(a)};
return b}(d.infrastructure.menus.MenuViewModel);h.MapMenuViewModel=g})(g.map||(g.map={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.showReverseGeocoder=new Observable(!1);this.label=new Observable;this.address=new Observable;this.isSearching=new Observable(!1)}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);if(a.showReverseGeocoder)if(this.app.site&&this.app.site.isInitialized)this._handleSiteInitialized();else this.app.event("SiteInitializedEvent").once(this,this._handleSiteInitialized)};
b.prototype._handleSiteInitialized=function(){var a=this.app.site.geocodingEndpoints;if(a)for(var c=0;c<a.length;c++){var e=a[c];if(e.isDefaultReverseGeocoder){this._endpoint=e;break}}this._endpoint&&(this.showReverseGeocoder.set(!0),this.reverseGeocoder=new f.ReverseGeocoder(this.app,this._endpoint),this.label.set(this.getResource("language-map-context-menu-reverse-geocode-label")),this.app.event("MapContextMenuPointUpdatedEvent").subscribe(this,this._updatePointInfo))};b.prototype._updatePointInfo=
function(a){var c=this;this.app.isOffline.get()?this.showReverseGeocoder.set(!1):(this.showReverseGeocoder.set(!0),this.address.set(this.getResource("language-map-context-menu-reverse-geocode-search-in-progress")),this.isSearching.set(!0),this.reverseGeocoder.reverseGeocode(a).then(function(a){c.isSearching.set(!1);a&&a.address?c.address.set(a.address):c._handleResultError()},function(a){c.isSearching.set(!1);c._handleResultError()}))};b.prototype._handleResultError=function(){this.address.set(this.getResource("language-map-context-menu-reverse-geocode-search-no-result"))};
return b}(d.framework.ui.ViewModelBase);f.ReverseGeocodeViewModel=g})(f.map||(f.map={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c)}__extends(b,d);b.prototype.attach=function(a){a&&(a.coordinateActionsView=this,d.prototype.attach.call(this,a))};b.prototype.handleMenuItemClick=function(a,c,e){d.prototype.handleMenuItemClick.call(this,a,c,e);this.app.command("DeactivateView").execute(this.id)};return b}(d.essentialsHtmlViewer.mapping.infrastructure.menus.MenuView);f.CoordinateActionsView=g})(f.plotCoordinates||(f.plotCoordinates=
{}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c);this.registerCommands();this.subscribeEvents()}__extends(b,d);b.prototype.registerCommands=function(){var a=this;this.app.command("ShowCoordinateActions").register(this,function(c){void 0!=c&&a.coordinateActionsView&&(a.menuContext.set(c),a.coordinateActionsView.title.set(a.app.getResource(a.libraryId,"language-plotcoordinates-coordinate-actions-title").format(c)),a.app.command("ActivateView").execute(a.coordinateActionsView.id))});
this.app.command("HideCoordinateActions").register(this,function(){a.coordinateActionsView&&a.coordinateActionsView.isActive&&a.app.command("DeactivateView").execute(a.coordinateActionsView.id)})};b.prototype.subscribeEvents=function(){var a=this;this.app.event("CoordinateDeletedEvent").subscribe(this,function(c){c.coordinateId===a.menuContext.get()&&a.coordinateActionsView.isActive&&a.app.command("DeactivateView").execute(a.coordinateActionsView.id)})};return b}(d.essentialsHtmlViewer.mapping.infrastructure.menus.MenuViewModel);
f.CoordinateActionsViewModel=g})(f.plotCoordinates||(f.plotCoordinates={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(h){var g=function(){function h(b,a,c,e,k){this.id=new Observable("");this.mapPoint=null;this.coordinate=new Observable(null);this.isEditing=new Observable(!1);this.highlightLabel=this.feature=this.layer=this.coordinatesModel=null;this.coordClass=new Observable("");this.degreeLat=new Observable(" ");this.degreeLon=new Observable(" ");this.minuteLat=new Observable("");this.minuteLon=new Observable("");this.secondLat=new Observable("");this.secondLon=
new Observable("");this.outputX=new Observable("");this.outputY=new Observable("");this.bearingLat=new Observable("");this.bearingLon=new Observable("");this.xLabel=new Observable("");this.xVal=new Observable("");this.yLabel=new Observable("");this.yVal=new Observable("");this.isNew=new Observable(!0);this.isVisible=new Observable(!1);this.showDegree=new Observable(!1);this.showMinute=new Observable(!1);this.showSecond=new Observable(!1);this._descriptorOptions=this._coordSystemBindingToken=this._inputStreamBindingToken=
this._outPutStreamBindingToken=null;this._inputStreamUpdatedAfterLastClear=!1;this.app=b;this.id.set(a||"");this._populateStringResources();this._integrateCoordinatesModel(c);this.isEditing.bind(this,this._handleEditingModeChanged);this._descriptorOptions=e;k?this.setBaseCoordinate(k):this.isEditing.set(!0)}h.prototype.setBaseCoordinate=function(b){this.mapPoint=b instanceof esri.geometry.Point?b:new esri.geometry.Point(b.x,b.y,b.spatialReference);this._updateCoordinateAndRefreshLabel(this.isEditing.get()&&
!this.isNew.get());this.isEditing.set(!1);this.isNew.set(!1)};h.prototype.removeLabelFromLayer=function(b,a){void 0===b&&(b=!1);void 0===a&&(a=!1);if(this.highlightLabel){this.highlightLabel.removeFromLayer(b);this._coordSystemBindingToken&&this.coordinatesModel.currentCoordinateSystem.unbind(this._coordSystemBindingToken);if(a){var c={sender:this,coordinateId:this.id.get(),coordinate:this.coordinate.get()};this.app.event("CoordinateDeletedEvent").publish(c)}this._raiseCanExecuteChanged()}else this.app.trace.error("CoordinateDescriptor: Graphic not added to map. Cannot remove.")};
h.prototype.showLabel=function(){this.highlightLabel&&(this.highlightLabel.show(),this.isVisible.set(!0))};h.prototype.hideLabel=function(){this.highlightLabel&&(this.highlightLabel.hide(),this.isVisible.set(!1))};h.prototype.labelVisible=function(){if(this.highlightLabel)return this.highlightLabel.isVisible()};h.prototype.updateCoordinateId=function(b){if(b&&this.id.get()!=b){var a=this.id.get();this.id.set(b);this.highlightLabel&&(this.highlightLabel.assignGraphicIdentifierKey(d.infrastructure.coordinates.coordinateIdentifierProperty,
this.id.get()),this.highlightLabel.updateIdTagText(this.id.get()));b={sender:this,oldId:a,updatedId:this.id.get()};this.app.event("CoordinateIdUpdatedEvent").publish(b)}};h.prototype.clearValues=function(){this._inputStreamUpdatedAfterLastClear=!1;this._updateDisplaySettings()};h.prototype._addLabelToLayer=function(){if(this.highlightLabel)return this.app.trace.error("CoordinateDescriptor: Graphic already added to map."),Promise.reject(Error("CoordinateDescriptor: Graphic already added to map."));
var b=this._descriptorOptions;return(this.layer=d.infrastructure.GraphicUtils.getGraphicsLayer(b.layerId,!0,this.app))?this._createHighlightLabel(!0,b.fontSize,b.fontFamily,b.cornerRadius,b.textColor,b.highlightColor,b.highlightOutlineSymbol):Promise.reject(Error("CoordinateDescriptor: Could not create graphics layer {0}".format(b.layerId)))};h.prototype._integrateCoordinatesModel=function(b){var a=this;if(this.coordinatesModel=b instanceof d.infrastructure.coordinates.CoordinatesModel?b:null)this._updateDisplaySettings(),
this._coordSystemBindingToken=this.coordinatesModel.currentCoordinateSystem.bind(this,function(c){return a._updateCoordinateAndRefreshLabel(!1,!0)})};h.prototype._handleEditingModeChanged=function(b){var a=this;if(this.coordinatesModel){var c=function(){a._inputStreamBindingToken&&(a.coordinatesModel.inputStream.unbind(a._inputStreamBindingToken),a._inputStreamBindingToken=null);a._outPutStreamBindingToken&&(a.coordinatesModel.outputStream.unbind(a._outPutStreamBindingToken),a._outPutStreamBindingToken=
null)};b?(this.coordinate.get()&&this._updateDisplaySettings(this.coordinate.get()),c(),this._inputStreamBindingToken=this.coordinatesModel.inputStream.bind(this,function(){a._inputStreamUpdatedAfterLastClear=!0}),this._outPutStreamBindingToken=this.coordinatesModel.outputStream.bind(this,function(c){a._updateDisplaySettings(c,!0)})):c()}};h.prototype._createHighlightLabel=function(b,a,c,e,k,q,n){var h=this;return this.mapPoint&&this.coordinate?new Promise(function(g){h._getTextLabel().then(function(l){var m=
{};m.layerId=h.layer.id;m.mapPoint=h.mapPoint;m.calloutWithIdTag=!0;m.idTagText=h.id.get();m.text=l;m.fontSize=void 0==a?void 0:a;m.fontFamily=void 0==c?void 0:c;m.cornerRadius=void 0==e?10:e;m.textColor=k instanceof esri.Color?k:void 0;m.highlightColor=q instanceof esri.Color?q:void 0;m.highlightOutlineSymbol=void 0==n?new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color("white"),4):n;h.highlightLabel=new d.infrastructure.highlightedLabel.HighlightedLabelGraphic(m,
h.app);h.highlightLabel.assignGraphicIdentifierKey(d.infrastructure.coordinates.coordinateIdentifierProperty,h.id.get());h.highlightLabel.addToLayer(b);h.isVisible.set(b);h._raiseCanExecuteChanged();g()})}):Promise.reject(Error("MapPoint or Coordinate not defined."))};h.prototype._updateCoordinateAndRefreshLabel=function(b,a){var c=this;void 0===a&&(a=!1);this.mapPoint?this.app.coordinatesManager.getCoordinate(this.mapPoint,this.coordinatesModel.currentCoordinateSystem.get(),this.coordinatesModel.id).then(function(e){c.coordinate.set(e);
c._updateDisplaySettings(e);c._getTextLabel().then(function(e){var d=function(){var e={sender:c,coordinateId:c.id.get(),coordinate:c.coordinate.get()};a?c.app.event("CoordinateSystemUpdateAppliedEvent").publish(e):b?c.app.event("CoordinateEditedEvent").publish(e):c.app.event("CoordinateAddedEvent").publish(e);c._raiseCanExecuteChanged()};c.highlightLabel?(b?c.highlightLabel.update(c.mapPoint,e):c.highlightLabel.refresh(e),d()):c._addLabelToLayer().then(d)})}):this._updateDisplaySettings()};h.prototype._getTextLabel=
function(){var b=this;return new Promise(function(a,c){var e=function(){var c="xy"===b.coordinatesModel.currentCoordinateSystem.get().output?b._XDisplayName:b._latitudeDisplayName,e="xy"===b.coordinatesModel.currentCoordinateSystem.get().output?b._YDisplayName:b._longitudeDisplayName,c=b._labelFormat.format(c,b.coordinate.get().formattedLatitudeOrX,e,b.coordinate.get().formattedLongitudeOrY);a(c)};if(b.coordinate.get()&&b.coordinatesModel&&b.coordinate.get().targetCoordinateSystem===b.coordinatesModel.currentCoordinateSystem.get())e();
else b.coordinate.once(b,e)})};h.prototype._updateDisplaySettings=function(b,a){var c=b?b.targetCoordinateSystem:this.coordinatesModel.currentCoordinateSystem.get(),e="xy"===c.output?this._XDisplayName:this._latitudeDisplayName,k="xy"===c.output?this._YDisplayName:this._longitudeDisplayName;this.coordClass.set("coord-inputs {0}".format(c.output));this._updateInputParams(c.output,b,a);this.xLabel.get()!==e&&this.xLabel.set(e);this.yLabel.get()!==k&&this.yLabel.set(k)};h.prototype._updateInputParams=
function(b,a,c){var e=this;if(!c||this._inputStreamUpdatedAfterLastClear){var k=function(a,c,b,k,d,q,f,n,h,g){e.degreeLat.set(a);e.degreeLon.set(c);e.minuteLat.set(b);e.minuteLon.set(k);e.secondLat.set(d);e.secondLon.set(q);e.bearingLat.set(f);e.bearingLon.set(n);e.outputX.set(h);e.outputY.set(g)},d=function(){k("","","","","","","","","","")},f=function(a,c,b){e.showDegree.set(a);e.showMinute.set(c);e.showSecond.set(b)};switch(b){case "xy":f(!1,!1,!1);k("","","","","","","","",a?a.formattedLatitudeOrX||
" ":" ",a?a.formattedLongitudeOrY||" ":" ");break;case "dd":f(!0,!1,!1);a?(b=a.formattedLatitudeOrX.split(this.degreeSymbol),d=a.formattedLongitudeOrY.split(this.degreeSymbol),k(b[0].trim(),d[0].trim(),"","","","",b[1].trim(),d[1].trim(),"","")):d();break;case "ddm":f(!0,!0,!1);if(a){b=a.formattedLatitudeOrX.split(this.degreeSymbol);var d=a.formattedLongitudeOrY.split(this.degreeSymbol),f=b[1].split(this.minuteSymbol),h=d[1].split(this.minuteSymbol);k(b[0].trim(),d[0].trim(),f[0].trim(),h[0].trim(),
"","",f[1].trim(),h[1].trim(),"","")}else d();break;case "dms":f(!0,!0,!0);if(a){b=a.formattedLatitudeOrX.split(this.degreeSymbol);var d=a.formattedLongitudeOrY.split(this.degreeSymbol),f=b[1].split(this.minuteSymbol),h=d[1].split(this.minuteSymbol),g=f[1].split(this.secondSymbol),l=h[1].split(this.secondSymbol);k(b[0].trim(),d[0].trim(),f[0].trim(),h[0].trim(),g[0].trim(),l[0].trim(),g[1].trim(),l[1].trim(),"","")}else d();break;default:f(!1,!1,!1),d()}a&&!c&&(this.xVal.set(a.formattedLatitudeOrX),
this.yVal.set(a.formattedLongitudeOrY))}};h.prototype._raiseCanExecuteChanged=function(){this.app.command("EditMarkup").raiseCanExecuteChanged();this.app.command("DeleteMarkup").raiseCanExecuteChanged();this.app.command("ClearMarkup").raiseCanExecuteChanged();this.app.command("ShowCoordinates").raiseCanExecuteChanged();this.app.command("ShowAllCoordinates").raiseCanExecuteChanged();this.app.command("HideCoordinates").raiseCanExecuteChanged();this.app.command("HideAllCoordinates").raiseCanExecuteChanged();
this.app.command("DeleteAllCoordinates").raiseCanExecuteChanged()};h.prototype._populateStringResources=function(){this.degreeSymbol=d.infrastructure.coordinates.CoordinateUtils.getResource(this.app,"degrees");this.minuteSymbol=d.infrastructure.coordinates.CoordinateUtils.getResource(this.app,"minutes");this.secondSymbol=d.infrastructure.coordinates.CoordinateUtils.getResource(this.app,"seconds");this._latitudeDisplayName=d.infrastructure.coordinates.CoordinateUtils.getResource(this.app,"language-coordinates-latitude-abbrev");
this._longitudeDisplayName=d.infrastructure.coordinates.CoordinateUtils.getResource(this.app,"language-coordinates-longitude-abbrev");this._XDisplayName=d.infrastructure.coordinates.CoordinateUtils.getResource(this.app,"language-coordinates-x");this._YDisplayName=d.infrastructure.coordinates.CoordinateUtils.getResource(this.app,"language-coordinates-y");this._labelFormat=this.app.getResource("Mapping","language-plotcoordinates-label-format")};return h}();h.CoordinateDescriptor=g})(g.plotCoordinates||
(g.plotCoordinates={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(d){function b(a,c){d.call(this,a,c);this._featureIdMapping=[];this._coordinatesFeatureSetCollection=this._getCoordinateResultsCollection();this.subscribeEvents()}__extends(b,d);b.prototype.subscribeEvents=function(){this.app.event("CoordinateAddedEvent").subscribe(this,this._handleCoordinateAddedEvent);this.app.event("CoordinateEditedEvent").subscribe(this,this._refreshCoordinateData);this.app.event("CoordinateDeletedEvent").subscribe(this,
this._handleCoordinateDeletedEvent);this.app.event("CoordinateIdUpdatedEvent").subscribe(this,this._refreshCoordinateData);this.app.event("CoordinateSystemUpdateAppliedEvent").subscribe(this,this._refreshCoordinateData)};b.prototype._handleCoordinateAddedEvent=function(a){this._addDescriptorOnCoordinatePopulated(a.sender)};b.prototype._handleCoordinateDeletedEvent=function(a){(a=a.sender.feature)&&this._removeFeature(a)};b.prototype._refreshCoordinateData=function(a){this._refreshData(a instanceof
h.CoordinateDescriptor?a:a.sender)};b.prototype._addDescriptorOnCoordinatePopulated=function(a){var c=this;if(a.coordinate.get())this._addDescriptor(a);else a.coordinate.once(this,function(){return c._addDescriptor(a)})};b.prototype._addDescriptor=function(a){this._updateDescriptorFeature(a);this._setCoordinateData(a)};b.prototype._updateDescriptorFeature=function(a){a.feature||(a.feature=new esri.Graphic);a.feature.geometry=a.mapPoint;this._setFeatureAttributes(a)};b.prototype._setFeatureAttributes=
function(a){if(a.feature){var c={},e=a.coordinate.get();e&&(c.Id=a.id.get(),c.X=e.x,c.Y=e.y,c.Latitude="xy"===e.targetCoordinateSystem.output?null:e.formattedLatitudeOrX,c.Longitude="xy"===e.targetCoordinateSystem.output?null:e.formattedLongitudeOrY,c["Coordinate System"]=e.targetCoordinateSystem.displayName,c.WKID=e.targetCoordinateSystem.wkid||"");a.feature.setAttributes(c)}};b.prototype._getCoordinateResultsCollection=function(){var a=this.app.featureSetManager.getCollectionById("Coordinates");
a||(a=new f.infrastructure.FeatureSetCollection,a.id="Coordinates",a.sourceName="Coordinates",a.displayName.set(this.app.getResource(this.libraryId,"language-plotcoordinates-results-collection-name")),this.app.featureSetManager.addCollection(a));return a};b.prototype._getEsriFeatureSet=function(){this._esriFeatureSet||(this._esriFeatureSet=new esri.tasks.FeatureSet);return this._esriFeatureSet};b.prototype._setCoordinateData=function(a){var c=this._getEsriFeatureSet();c.features.push(a.feature);this._featureIdMapping.push({id:a.id.get(),
feature:a.feature});this._coordinatesData?(this._coordinatesData.esriFeatureSet=c,this._coordinatesData.loadFeatures()):(this._coordinatesData=new f.infrastructure.FeatureSet({esriFeatureSet:c}),this._coordinatesData.displayName.set(this.app.getResource(this.libraryId,"language-plotcoordinates-results-display-name")),this._coordinatesData.isSelectedInCollection.set(!0),this._coordinatesData.extendedProperties.addItem({name:f.infrastructure.coordinates.featureSetExtendedProperty,value:!0}));this._setFeatureExtendedProperties();
a=this._getCoordinateResultsCollection();a.featureSets.contains(this._coordinatesData)||a.featureSets.addItem(this._coordinatesData);this.app.featureSetManager.openCollection(a.id);this.app.featureSetManager.closeCollection(a.id)};b.prototype._removeFeature=function(a){if(this._coordinatesData){var c=this._getEsriFeatureSet();c.features=c.features.filter(function(c){return c!==a});this._featureIdMapping=this._featureIdMapping.filter(function(c){return c.feature!==a});this._coordinatesData.loadFeatures();
this._setFeatureExtendedProperties()}};b.prototype._refreshData=function(a){a.feature&&(a.feature.geometry=a.mapPoint);this._setFeatureAttributes(a);this._coordinatesData.loadFeatures();this._setFeatureExtendedProperties()};b.prototype._setFeatureExtendedProperties=function(){var a=this;this._coordinatesData.features.get().forEach(function(c){var e=c.esriFeature.get();if(e){var b=a._featureIdMapping.filter(function(a){return a.feature===e});if(b&&b.length){var d=c.extendedProperties.get().filter(function(a){return a.name===
f.infrastructure.coordinates.coordinateIdentifierProperty});d&&d.length||c.extendedProperties.addItem({name:f.infrastructure.coordinates.coordinateIdentifierProperty,value:b[0].id})}}})};return b}(d.framework.FrameworkObject);h.CoordinatesFscIntegration=g})(g.plotCoordinates||(g.plotCoordinates={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this._plotCoordinatesCommandName="PlotCoordinates"}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);a&&a.tools&&this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,!0);this.subscribeEvents();this.registerCommands();this._monitorToolActivations()};b.prototype.registerCommands=function(){this.app.command("EditCoordinate").register(this,
this.editCoordinateImpl)};b.prototype.subscribeEvents=function(){this.app.event("ToolCommandDeactivatedEvent").subscribe(this,this._handleToolCommandDeactivatedEvent)};b.prototype.editCoordinateImpl=function(){var a=this.app.toolRegistry.getActiveTool();a&&a.command&&a.command===this._plotCoordinatesCommandName||(a=this._getToolNamesByCommand(this._plotCoordinatesCommandName))&&a.length&&this.app.command("SetActiveTool").execute(a[0]);this.app.behavior("CoordinateEditingStartedBehavior").run()};b.prototype.getStateFilter=
function(){return{coordinates:{item:this.app.project.filter.point},coordinateSystem:this.app.project.filter.coordinateSystem,hiddenCoordinateIds:!0}};b.prototype.exportState=function(){var a=this,c={coordinates:[],coordinateSystem:null};return Promise["try"](function(){a.app.command("_ExportPlotCoordinatesState").execute(c);return c})};b.prototype.applyState=function(a){var c=this,e={state:a,completePromise:null};return this.app.waitUntilAllLibrariesLoaded().then(function(){c.app.command("_ApplyPlotCoordinatesState").execute(e);
return e.completePromise})};b.prototype._handleToolCommandDeactivatedEvent=function(a){a===this._plotCoordinatesCommandName&&(this.app.command("CancelEditCoordinate").execute(),this.app.event("PlotCoordinatesToolDeactivatedEvent").publish())};b.prototype._monitorToolActivations=function(){var a=this;this.app.event("ActiveToolChangedEvent").subscribe(this,function(c){(c=c.tool)&&c.command&&c.command===a._plotCoordinatesCommandName&&(a.app.command("EditCoordinate").execute(),a.app.event("PlotCoordinatesToolActivatedEvent").publish())})};
b.prototype._getToolNamesByCommand=function(a){var c=[],e=this.app.toolRegistry.tools,b;for(b in e){if(!e.hasOwnProperty(b))return;var d=e[b];d.command===a&&c.push(d.name)}return c};return b}(d.framework.application.ModuleBase);f.PlotCoordinatesModule=g})(f.plotCoordinates||(f.plotCoordinates={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.attach=function(a){a&&(d.prototype.attach.call(this,a),a.coordinateDescriptors.bind(this,this._scrollToBottom),this.initialize())};b.prototype.initialize=function(){this.title.set(this.app.getResource(this.libraryId,"language-plotcoordinates-title"));this.app.viewManager.notifyDimensionsChanged(this);this.registerCommands()};b.prototype.registerCommands=
function(){this.app.command("ActivatePlotCoordinatesView").register(this,this._activatePlotCoordinatesView)};b.prototype.resolveWidget=function(a,c,e){d.prototype.resolveWidget.call(this,a,c);return"CoordinatesListActionsWidget"===a?this.app.menuRegistry.createMenuWidget(this,c,e):null};b.prototype.handleCoordinateActions=function(a,c,e){e&&this.app.command("ShowCoordinateActions").execute(e.id.get())};b.prototype.handleAddCoordinateClick=function(a,c,e){var b=this,d=function(){b.app.command("Alert").execute(b.getResource("language-plotcoordinates-invalid-coordinate-alert"))};
a=this.viewModel.coordinatesModel.get().currentCoordinateSystem.get();var n;if("xy"===a.output){if(c=parseFloat(e.outputX.get()),n=parseFloat(e.outputY.get()),isNaN(c)||isNaN(n)){d();return}}else if(n=f.infrastructure.coordinates.CoordinateUtils.convertDmsToDecimalDegrees(this.app,e.degreeLat.get(),e.minuteLat.get()||"0",e.secondLat.get()||"0",e.bearingLat.get()),c=f.infrastructure.coordinates.CoordinateUtils.convertDmsToDecimalDegrees(this.app,e.degreeLon.get(),e.minuteLon.get()||"0",e.secondLon.get()||
"0",e.bearingLon.get()),null==n||null==c){d();return}e=new esri.geometry.Point(c,n,new esri.SpatialReference(a.wkid||a.wkt));f.infrastructure.GeometryUtils.projectGeometry(e,this.app.map.spatialReference,function(a){b.app.command("PlotCoordinates").execute(a)},function(a){d()},this.app)};b.prototype.handleUpdateCoordinateClick=function(a,c,e){this.handleAddCoordinateClick(a,c,e)};b.prototype.handleCancelAddCoordinateClick=function(a,c,e){this.app.command("CancelEditCoordinate").execute()};b.prototype.handleClickAddAnotherCoordinate=
function(a,c,e){this.app.coordinatesManager.hasRegisteredCoordinatesModel(this.viewModel.coordinatesModel.get()&&this.viewModel.coordinatesModel.get().id)?this.app.command("SetActiveTool").execute("PlotCoordinatesTool"):this.app.trace.warning(this.getResource("language-plotcoordinates-target-coordinates-model-not-configured"))};b.prototype.handleCoordinateItemClick=function(a,c,e){e&&(a=new f.infrastructure.Feature({graphic:e.feature}),a.extendedProperties.addItem({name:f.infrastructure.coordinates.coordinateIdentifierProperty,
value:e.id.get()}),this.app.behavior("CoordinateListItemClickedBehavior").run(a))};b.prototype._scrollToBottom=function(){var a=this;this.coordList&&setTimeout(function(){return a.coordList.scrollTop=a.coordList.scrollHeight},0)};b.prototype._activatePlotCoordinatesView=function(){this.app.viewManager.activateView(this);this.viewModel.focusOnMapDelayed()};return b}(d.framework.ui.ViewBase);h.PlotCoordinatesView=g})(g.plotCoordinates||(g.plotCoordinates={}))})(f.modules||(f.modules={}))})(g.mapping||
(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=d.framework.utils.ArrayUtils,l=function(b){function a(){b.apply(this,arguments);this.isEnabled=new Observable(!1);this.coordinatesModel=new Observable(null);this.coordinateDescriptors=new ObservableCollection([]);this.descCurrentlyBeingEdited=null;this.currentlyEditing=new Observable(!1);this.hasCoordinates=new Observable(!1);this.coordId=0;this._mouseOutBindingToken=null;this._highlightedCoordinateIds=[];this.LAYER_NAME="Drawings_coordinates";
this._highlightedLabelHighlightWidth=3}__extends(a,b);a.prototype.initialize=function(a){var e=this;!1!==a.isEnabled&&a.coordinatesModel&&(this._fontFamily=a.fontFamily?a.fontFamily:"Arial",this._fontSize=a.fontSize?a.fontSize:"12px",this._highlightColor=a.highlightColor?a.highlightColor:"#333333",this._textColor=a.textColor?a.textColor:"#FFFFFF",this._editingHighlightColor=a.editingHighlightColor?a.editingHighlightColor:"#1A72C4",this._editingTextColor=a.editingTextColor?a.editingTextColor:"#FFFFFF",
this._cornerRadius=void 0!=a.cornerRadius?parseInt(a.cornerRadius,10):5,this._highlightOutlineColor=a.highlightOutlineColor?a.highlightOutlineColor:"#FFFFFF",this._highlightOutlineWidth=void 0!=a.highlightOutlineWidth?parseInt(a.highlightOutlineWidth,10):1,this.coordinateDescriptors.bind(this,this._setHasCoordinates),this.app.coordinatesManager.getCoordinatesModel(a.coordinatesModel).then(function(a){e.isEnabled.set(!0);e.coordinatesModel.set(a)},function(b){e.app.trace.error("PlotCoordinatesViewModel: Error Initializing ViewModel. Could not retrieve {0}. {1}".format(a.coordinatesModel,
b.message))}),this.coordinatesFscIntegration=new h.CoordinatesFscIntegration(this.app,this.libraryId),this.registerCommands())};a.prototype.registerCommands=function(){this.app.command("PlotCoordinates").register(this,this._plotCoordinatesImpl,this._canExecutePlotCoordinates);this.app.command("DeleteCoordinates").register(this,this._deleteCoordinatesImpl,this._canExecuteDeleteCoordinates);this.app.command("HideCoordinates").register(this,this._hideCoordinatesImpl,this._canExecuteHideCoordinatesImpl);
this.app.command("ShowCoordinates").register(this,this._showCoordinatesImpl,this._canExecuteShowCoordinatesImpl);this.app.command("DeleteAllCoordinates").register(this,this._deleteAllCoordinatesImpl,this._canExecuteDeleteAllCoordinates);this.app.command("HideAllCoordinates").register(this,this._hideAllCoordinatesImpl,this._canExecuteHideAllCoordinatesImpl);this.app.command("ShowAllCoordinates").register(this,this._showAllCoordinatesImpl,this._canExecuteShowAllCoordinatesImpl);this.app.command("EditCoordinate").register(this,
this._editCoordinateImpl,this._canExecuteEditCoordinate);this.app.command("CancelEditCoordinate").register(this,this._cancelEditCoordinateImpl,this._canExecuteCancelEditCoordinate);this.app.command("HighlightFeature").register(this,this._highlightCoordinateFeature);this.app.command("HighlightFeatureDefault").register(this,this._highlightCoordinateFeature);this.app.command("HighlightFeatureSet").register(this,this._highlightCoordinateFeatureSet);this.app.command("ClearHighlights").register(this,this._clearCoordinateHighlights);
this.app.command("ClearDefaultHighlights").register(this,this._clearCoordinateHighlights);this.app.command("_ExportPlotCoordinatesState").register(this,this._exportState);this.app.command("_ApplyPlotCoordinatesState").register(this,this._applyState)};a.prototype._hideAllCoordinatesImpl=function(){this._hideCoordinatesImpl(this.coordinateDescriptors.get().map(function(a){return a.id.get()}))};a.prototype._canExecuteHideAllCoordinatesImpl=function(){return this._testSomeDescriptorVisibility(this.coordinateDescriptors.get().map(function(a){return a.id.get()}),
!0)};a.prototype._showAllCoordinatesImpl=function(){this._showCoordinatesImpl(this.coordinateDescriptors.get().map(function(a){return a.id.get()}))};a.prototype._canExecuteShowAllCoordinatesImpl=function(){return this._testSomeDescriptorVisibility(this.coordinateDescriptors.get().map(function(a){return a.id.get()}),!1)};a.prototype._hideCoordinatesImpl=function(a){this._setDescriptorVisibilities(a,!1)};a.prototype._canExecuteHideCoordinatesImpl=function(a){return this._testSomeDescriptorVisibility(a,
!0)};a.prototype._showCoordinatesImpl=function(a){this._setDescriptorVisibilities(a,!0)};a.prototype._canExecuteShowCoordinatesImpl=function(a){return this._testSomeDescriptorVisibility(a,!1)};a.prototype._plotCoordinatesImpl=function(a){var e=this;a&&(a=dojo.isArray(a)?a:[a],1<a.length&&this._cancelDescCurrentlyBeingEdited(),a.forEach(function(a){e.descCurrentlyBeingEdited?e.descCurrentlyBeingEdited.setBaseCoordinate(a):e._addDescForBaseCoord(a);e._cancelDescCurrentlyBeingEdited()}),(a=this.app.toolRegistry.getActiveTool())&&
"PlotCoordinates"===a.command&&a.isSticky&&(this.app.command("UpdateStatus").execute(this.app.getResource(this.libraryId,"language-plotcoordinates-tool-status")),this.app.command("EditCoordinate").execute()))};a.prototype._canExecutePlotCoordinates=function(a){return!a||dojo.isArray(a)&&0===a.length||!this.app.coordinatesManager.hasRegisteredCoordinatesModel(this.coordinatesModel.get()&&this.coordinatesModel.get().id)?!1:!0};a.prototype._editCoordinateImpl=function(a){if(this.app.coordinatesManager.hasRegisteredCoordinatesModel(this.coordinatesModel.get()&&
this.coordinatesModel.get().id)){if(a){if(a=this._getCoordinateDescriptorById(a))this._setDescriptorCurrentlyBeingEdited(a),this.app.command("UpdateStatus").execute(this.app.getResource(this.libraryId,"language-plotcoordinates-update-tool-status"))}else this.descCurrentlyBeingEdited?this.descCurrentlyBeingEdited.isNew.get()||(this._cancelDescCurrentlyBeingEdited(),this._addNewDescInEditMode()):this._addNewDescInEditMode();this.focusOnMapDelayed()}else a=this.getResource("language-plotcoordinates-target-coordinates-model-not-configured"),
this.app.trace.warning(a)};a.prototype._canExecuteEditCoordinate=function(a){return void 0==a||this._getCoordinateDescriptorById(a)?!0:!1};a.prototype._cancelEditCoordinateImpl=function(){this._cancelDescCurrentlyBeingEdited();this.app.command("UpdateStatus").execute(this.app.getResource(this.libraryId,"language-plotcoordinates-tool-status"));this.app.behavior("CancelEditCoordinateBehavior").run()};a.prototype._canExecuteCancelEditCoordinate=function(){return!0};a.prototype._deleteAllCoordinatesImpl=
function(){var a=this,e=this.coordinateDescriptors.get().filter(function(a){return!a.isEditing.get()});if(e.length){var b=this.app.getResource(this.libraryId,"language-plotcoordinates-delete-all-coordinates-confirm"),d=this.app.getResource(this.libraryId,"language-plotcoordinates-delete-all-coordinates");this.app.command("Confirm").execute(b,d,function(b){b&&a._deleteCoordinatesImpl(e.map(function(a){return a.id.get()}))})}};a.prototype._canExecuteDeleteAllCoordinates=function(){return 0<this.coordinateDescriptors.get().filter(function(a){return!a.isEditing.get()}).length};
a.prototype._deleteCoordinatesImpl=function(a){var e=this;a&&(a=dojo.isArray(a)?a:[a],a.forEach(function(a){if(a=e._getCoordinateDescriptorById(a))e.coordinateDescriptors.removeItem(a),a.removeLabelFromLayer(!0,!0)}),a.length&&this._reorderCoordinateIds())};a.prototype._canExecuteDeleteCoordinates=function(a){var e=this;return void 0==a?!1:(dojo.isArray(a)?a:[a]).some(function(a){return void 0!=e._getCoordinateDescriptorById(a)})};a.prototype._clearCoordinates=function(){this._deleteCoordinatesImpl(this.coordinateDescriptors.get().map(function(a){return a.id.get()}))};
a.prototype._getCoordinateDescriptorById=function(a){return null==a?null:this.coordinateDescriptors.get().filter(function(e){return e.id.get()===a})[0]};a.prototype._setDescriptorCurrentlyBeingEdited=function(a){this._cancelDescCurrentlyBeingEdited();this.descCurrentlyBeingEdited=a;a.highlightLabel&&(a.highlightLabel.setHighlightColor(new esri.Color(this._editingHighlightColor)),a.highlightLabel.setTextColor(new esri.Color(this._editingTextColor)));a.isEditing.set(!0);this.currentlyEditing.set(!0);
this._manageMapMouseOutActions()};a.prototype._cancelDescCurrentlyBeingEdited=function(){this.descCurrentlyBeingEdited&&(this.descCurrentlyBeingEdited.isNew.get()&&(this.coordId--,this.coordinateDescriptors.removeItem(this.descCurrentlyBeingEdited)),this.descCurrentlyBeingEdited.highlightLabel&&(this.descCurrentlyBeingEdited.highlightLabel.setHighlightColor(new esri.Color(this._highlightColor)),this.descCurrentlyBeingEdited.highlightLabel.setTextColor(new esri.Color(this._textColor))),this.descCurrentlyBeingEdited.isEditing.set(!1));
this.descCurrentlyBeingEdited=null;this.currentlyEditing.set(!1);this._manageMapMouseOutActions()};a.prototype._addNewDescInEditMode=function(){this.coordId++;this.descCurrentlyBeingEdited=this._addDescriptor(void 0,this.coordId.toString());this.coordinateDescriptors.addItem(this.descCurrentlyBeingEdited);this.currentlyEditing.set(!0);this._manageMapMouseOutActions()};a.prototype._addDescForBaseCoord=function(a,e){e||this.coordId++;var b=this._addDescriptor(a,e);e||this.coordinateDescriptors.addItem(b);
return b};a.prototype._addDescriptor=function(a,e){var b=void 0!=e?e:this.coordId.toString(),d=new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color(this._highlightOutlineColor),this._highlightOutlineWidth),d={layerId:this.LAYER_NAME,fontSize:this._fontSize,fontFamily:this._fontFamily,cornerRadius:this._cornerRadius,textColor:new esri.Color(this._textColor),highlightColor:new esri.Color(this._highlightColor),highlightOutlineSymbol:d};return new h.CoordinateDescriptor(this.app,
b,this.coordinatesModel.get(),d,a)};a.prototype._setHasCoordinates=function(){var a=this;setTimeout(function(){a.hasCoordinates.set(0<a.coordinateDescriptors.length())},0)};a.prototype._manageMapMouseOutActions=function(){var a=this;this.descCurrentlyBeingEdited&&this.app.map&&this.app.map.loaded?this._mouseOutBindingToken=this.app.map.on("mouse-out",function(){a.descCurrentlyBeingEdited&&a.descCurrentlyBeingEdited.clearValues()}):this._mouseOutBindingToken&&(this._mouseOutBindingToken.remove(),this._mouseOutBindingToken=
null)};a.prototype._reorderCoordinateIds=function(){var a=this;this.coordId=0;this.coordinateDescriptors.get().forEach(function(e){a.coordId++;e.updateCoordinateId(a.coordId.toString())})};a.prototype._exportState=function(a){var e=this;a.coordinates=this.coordinateDescriptors.get().filter(function(a){return!a.isEditing.get()}).map(function(a){return e.app.project.convert.fromEsriGeometry(a.mapPoint)});var b=this.coordinatesModel.get().currentCoordinateSystem.get();b&&(a.coordinateSystem={wkid:b.wkid,
wkt:b.wkt,output:b.output});(b=this.coordinateDescriptors.get().filter(function(a){return!a.isEditing.get()&&!a.isVisible.get()}).map(function(a){return a.id.get()}))&&b.length&&(a.hiddenCoordinateIds=b)};a.prototype._applyState=function(a){var e=this;this._clearCoordinates();var b=a.state.coordinateSystem;if(b){var d=g.firstOrDefault(this.coordinatesModel.get().coordinateSystems.get(),function(a){return a.output===b.output&&a.wkid===b.wkid&&a.wkt===b.wkt});d&&this.coordinatesModel.get().currentCoordinateSystem.set(d)}var f=
a.state.hiddenCoordinateIds;if(f&&f.length)var h=this.app.event("CoordinateAddedEvent").subscribe(this,function(a){a=f.indexOf(a.coordinateId);-1<a&&(e._hideCoordinatesImpl(f[a]),f.splice(a,1));0===f.length&&e.app.event("CoordinateAddedEvent").unsubscribe(h)});d=(a.state.coordinates||[]).map(function(a){return{x:a.x,y:a.y,spatialReference:e.app.project.convert.toEsriSpatialReference(a.spatialReference)}});this._plotCoordinatesImpl(d);a.completePromise=Promise.resolve()};a.prototype._testSomeDescriptorVisibility=
function(a,e){if(!a)return!1;for(var b=dojo.isArray(a)?a:[a],d=0;d<b.length;d++){var f=this._getCoordinateDescriptorById(b[d]);if(f&&!f.isEditing.get()&&(e&&f.labelVisible()||!e&&!f.labelVisible()))return!0}return!1};a.prototype._setDescriptorVisibilities=function(a,e){var b=this;a&&((dojo.isArray(a)?a:[a]).forEach(function(a){if(a=b._getCoordinateDescriptorById(a))e?(a.showLabel(),b.app.event("CoordinateSetVisibleEvent").publish(a.id.get())):(b._highlightedCoordinateIds.length&&b.app.command("ClearDefaultHighlights").execute(),
a.hideLabel(),b.app.event("CoordinateSetHiddenEvent").publish(a.id.get()))}),this._raiseCanExecuteChangedForShowHideCoords())};a.prototype._raiseCanExecuteChangedForShowHideCoords=function(){this.app.command("ShowCoordinates").raiseCanExecuteChanged();this.app.command("ShowAllCoordinates").raiseCanExecuteChanged();this.app.command("HideCoordinates").raiseCanExecuteChanged();this.app.command("HideAllCoordinates").raiseCanExecuteChanged()};a.prototype._highlightCoordinateFeature=function(a){a&&(a=(a=
a.extendedProperties.get().filter(function(a){return a.name===f.infrastructure.coordinates.coordinateIdentifierProperty}))&&a.length?this._getCoordinateDescriptorById(a[0].value):null)&&this._highlightCoordinateImpl(a)};a.prototype._highlightCoordinateFeatureSet=function(a){var e=this;a&&a.features&&a.features.get().forEach(function(a){return e._highlightCoordinateFeature(a)})};a.prototype._clearCoordinateHighlights=function(){var a=this;this._highlightedCoordinateIds.slice(0).forEach(function(e){return a._clearCoordinateHighlightImpl(a._getCoordinateDescriptorById(e))})};
a.prototype._highlightCoordinateImpl=function(a){if(a&&a.highlightLabel&&!(-1<this._highlightedCoordinateIds.indexOf(a.id.get()))){a.highlightLabel.moveToTop();var e=this.app.highlightManager&&this.app.highlightManager.getHighlightBorderColor();if(e){var b=new esri.symbol.SimpleLineSymbol;b.setColor(new esri.Color(e));b.setWidth(this._highlightedLabelHighlightWidth);a.highlightLabel.highlightSymbol.setOutline(b);a.highlightLabel.highlightGraphic.setSymbol(a.highlightLabel.highlightSymbol);this._highlightedCoordinateIds.push(a.id.get())}}};
a.prototype._clearCoordinateHighlightImpl=function(a){if(a&&a.highlightLabel){var e=this._highlightedCoordinateIds.indexOf(a.id.get());if(-1<e){var b=a.highlightLabel.getConfig().highlightOutlineSymbol||null;a.highlightLabel.highlightSymbol.setOutline(b);a.highlightLabel.highlightGraphic.setSymbol(a.highlightLabel.highlightSymbol);this._highlightedCoordinateIds.splice(e,1)}}};a.prototype.focusOnMapDelayed=function(a){var e=this;void 0===a&&(a=300);setTimeout(function(){f.infrastructure.FocusUtils.focusOnMap(e.app.map)},
a)};return a}(d.framework.ui.ViewModelBase);h.PlotCoordinatesViewModel=l})(g.plotCoordinates||(g.plotCoordinates={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(h){var g=function(d){function b(a,c){d.call(this,a,c);this._registerCommandsAndEvents()}__extends(b,d);b.prototype.handleMenuItemClick=function(a,c,e){this.app.command("DeactivateView").execute(this.id);d.prototype.handleMenuItemClick.call(this,a,c,e)};b.prototype._registerCommandsAndEvents=function(){this.app.command("ShowProjectActions").register(this,this._executeShowProjectActions)};b.prototype._executeShowProjectActions=function(a){a&&
(this.title.set(a.title),this.viewModel.menuContext.set(a),this.app.command("ActivateView").execute(this.id))};return b}(d.infrastructure.menus.MenuView);h.ProjectActionsView=g})(g.project||(g.project={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=d.framework.utils.TimeDelayedAction,l=function(b){function a(a,e){b.call(this,a,e);this._listenForDataFrameEvents=!0;this._validationDelayMS=300;this._keyDownTimer=null;this._registerCommandsAndEvents()}__extends(a,b);a.prototype.attach=function(a){var e=this;b.prototype.attach.call(this,a);this._keyDownTimer=new g(this._validationDelayMS,function(){return e.viewModel.validateInput()},this)};a.prototype.activated=function(){b.prototype.activated.call(this);
this._listenForDataFrameEvents=!1};a.prototype.deactivated=function(){b.prototype.deactivated.call(this);this._listenForDataFrameEvents=!0;this.viewModel.reset()};a.prototype.handleInputChanged=function(a,e,b){this.viewModel.handleInputChanged();this._keyDownTimer.reset()};a.prototype.handleSaveButtonClick=function(a,e,b){this.viewModel.finishEditing()};a.prototype.handleCancelButtonClick=function(a,e,b){this.viewModel.finishEditing(!0)};a.prototype._registerCommandsAndEvents=function(){var a=this;
this.app.command("ShowProjectEditor").register(this,this._executeShowProjectEditor,this._canExecuteShowProjectEditor);this.app.event("DataFrameOpenedEvent").subscribe(this,function(){return a._handleDataFrameEvent(!0)});this.app.event("DataFrameClosedEvent").subscribe(this,function(){return a._handleDataFrameEvent(!1)})};a.prototype._executeShowProjectEditor=function(a){"object"!==typeof a||a.id?this.title.set(this.getResource("language-project-editor-title")):this.title.set(this.getResource("language-project-save-title"));
this.viewModel.startEditing(a);this.app.command("ActivateView").execute(this.id)};a.prototype._canExecuteShowProjectEditor=function(a){return"string"===typeof a?!0:a?this.app.site.documentStore.isOwner(a):!1};a.prototype._handleDataFrameEvent=function(a){this._listenForDataFrameEvents&&(this.viewModel.dataFrameIsOpen=a)};return a}(d.framework.ui.ViewBase);f.ProjectEditorView=l})(f.project||(f.project={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){var g=function(d){function b(a,c,e){d.call(this,a,c);this.description=new Observable;this.canExpand=!1;this.isExpanded=new Observable(!1);e&&this.update(e);this.isExpanded.bind(this,this._onIsExpandedChanged)}__extends(b,d);b.prototype.update=function(a){this.project=a;this.name=a.title||"";this.projectUrl=this.app.project.getProjectUrl(a);a.thumbnail&&(a.thumbnail.location?this.thumbnail=a.thumbnail.location:a.thumbnail.text&&(this.thumbnail=
a.thumbnail.text));String.isNullOrEmpty(this.thumbnail)&&(this.thumbnail=" ");a.description&&100<a.description.length?(this.canExpand=!0,this.description.set(this._trunc(a.description,100))):(this.canExpand=!1,this.description.set(a.description||""));var c=this.getResource("language-projects-created-by-label"),e=a.author?a.author.title:this.getResource("language-projects-author-guest"),b=f.infrastructure.FormatUtils.formatDateFromNow(a.timeOfCreation);this.createdBy="{0} {1} {2}".format(c,e,b);c=
this.getResource("language-projects-last-modified-by-label");e=a.editor?a.editor.title:this.getResource("language-projects-author-guest");a=f.infrastructure.FormatUtils.formatDateFromNow(a.timeOfLastModification);this.lastModifiedBy="{0} {1} {2}".format(c,e,a)};b.prototype._onIsExpandedChanged=function(a){this.canExpand&&(a?this.description.set(this.project.description):this.description.set(this._trunc(this.project.description,100)))};b.prototype._trunc=function(a,c){return a.length>c?a.substr(0,
c-1)+"...":a};return b}(d.framework.FrameworkObject);h.ProjectModel=g})(g.project||(g.project={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c);this._registerCommandsAndEvents()}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a);this.configuration.showXButton=!1};b.prototype.handleShareButtonClick=function(a,c,e){this._deactivateView();this.app.command("ShowShareProject").execute(this.viewModel.project)};b.prototype.handleCloseButtonClick=function(a,c,e){this._deactivateView()};b.prototype._registerCommandsAndEvents=
function(){this.app.event("ProjectLoadingEvent").subscribe(this,this._handleProjectLoadingEvent);this.app.event("ProjectLoadedEvent").subscribe(this,this._handleProjectLoadedEvent);this.app.event("ProjectSavingEvent").subscribe(this,this._handleProjectSavingEvent);this.app.event("ProjectSavedEvent").subscribe(this,this._handleProjectSavedEvent);this.app.event("ProjectErrorEvent").subscribe(this,this._handleProjectErrorEvent)};b.prototype._handleProjectLoadingEvent=function(a){this.viewModel.project=
a;this.viewModel.statusMessage.set(this.getResource("language-project-status-loading"));this.viewModel.isBusy.set(!0);this._activateView()};b.prototype._handleProjectLoadedEvent=function(a){this.viewModel.project=null;this._deactivateView()};b.prototype._handleProjectSavingEvent=function(a){this.viewModel.project=a;this.viewModel.statusMessage.set(this.getResource("language-project-status-saving"));this.viewModel.isBusy.set(!0);this._activateView()};b.prototype._handleProjectSavedEvent=function(a){this.viewModel.projectUrl.set(this.app.project.getProjectUrl(a));
this.viewModel.isBusy.set(!1);this.app.command("FocusOnFirstInputInView").execute(this);this.app.viewManager.notifyDimensionsChanged(this)};b.prototype._handleProjectErrorEvent=function(a){this.viewModel.project=null;this._deactivateView()};b.prototype._activateView=function(){this.isActive||this.app.command("ActivateView").execute(this.id)};b.prototype._deactivateView=function(){this.isActive&&this.app.command("DeactivateView").execute(this.id)};return b}(d.framework.ui.ViewBase);f.ProjectStatusView=
g})(f.project||(f.project={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.project=null;this.isBusy=new Observable(!0);this.statusMessage=new Observable;this.projectUrl=new Observable;this.showProjectUrl=new Observable}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);a.showUrlOnSave&&this.showProjectUrl.set(a.showUrlOnSave)};return b}(d.framework.ui.ViewModelBase);f.ProjectStatusViewModel=g})(f.project||(f.project=
{}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=d.essentials.documents.GrantKind,l=function(b){function a(a,e){b.call(this,a,e);this._registerCommandsAndEvents()}__extends(a,b);a.prototype.handleAddLinkButtonClick=function(a,e,b){this.viewModel.addGuestLink(b)};a.prototype.handleRemoveLinkButtonClick=function(a,e,b){var d=this;a=this.getResource("language-project-confirm-remove-guest-link-title");e=this.getResource("language-project-confirm-remove-guest-link-description");this.app.command("Confirm").execute(e,
a,function(a){a&&d.viewModel.removeGuestLink(b)})};a.prototype.handleClearButtonClick=function(a,e,b){var d=this;a=this.getResource("language-project-confirm-stop-sharing-title");e="language-project-confirm-stop-sharing-{0}".format(this.viewModel.showGuestLinks.get()?"all-description":"description");e=this.getResource(e).format(this.viewModel.project.get().title);this.app.command("Confirm").execute(e,a,function(a){a&&d.viewModel.updateProjectGrants(!0)})};a.prototype.handleSaveButtonClick=function(a,
e,b){var d=this;this.viewModel.confirmSharedPublicly&&this._isPublic(this.viewModel.project.get())?(a=this.getResource("language-project-confirm-share-public-title"),e=this._getConfirmPublicDescription(this.viewModel.project.get()),this.app.command("Confirm").execute(e,a,function(a){a&&d.viewModel.updateProjectGrants()})):this.viewModel.updateProjectGrants()};a.prototype.handleCloseButtonClick=function(a,e,b){this._deactivateView()};a.prototype.resolveWidget=function(a,e,k){b.prototype.resolveWidget.call(this,
a,e);if(!a)return null;switch(a){case "GrantEditorWidget":return(a=this.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.infrastructure.documents.GrantEditorView",markupResource:"Mapping/infrastructure/documents/GrantEditorView.html",libraryId:"Mapping.Infrastructure",isVisible:!0}))&&a.attach(this.viewModel.grantEditorViewModel),a;default:return null}};a.prototype._registerCommandsAndEvents=function(){this.app.command("ShowShareProject").register(this,this._executeShowShareProject)};
a.prototype._executeShowShareProject=function(a){this.viewModel.loadProject(a);this.app.command("ActivateView").execute(this.id)};a.prototype._deactivateView=function(){this.app.command("DeactivateView").execute(this.id)};a.prototype._isPublic=function(a){return this.app.site.documentStore.isPublic(a)||this.viewModel.allowPublicReadAccess&&this._hasLink(a,g.READER_LINK)||this.viewModel.allowPublicEditAccess&&this._hasLink(a,g.WRITER_LINK)?!0:!1};a.prototype._getConfirmPublicDescription=function(a){return this.viewModel.allowPublicEditAccess&&
this._hasLink(a,g.WRITER_LINK)?this.getResource("language-project-confirm-share-public-edit-description").format(this.viewModel.project.get().title):this.getResource("language-project-confirm-share-public-description").format(this.viewModel.project.get().title)};a.prototype._hasLink=function(a,e){return a.grants.some(function(a){return a.kind===e&&(!1===a.revoke||!0===a.assert)})};return a}(d.framework.ui.ViewBase);f.ShareProjectView=l})(f.project||(f.project={}))})(f.modules||(f.modules={}))})(g.mapping||
(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=d.essentials.documents.BatchRequestBuilder,l=f.infrastructure.documents.GrantEditorViewModel,b=d.essentials.documents.GrantID,a=d.essentials.documents.GrantKind,c=f.infrastructure.documents.GuestLinkModel,e=d.essentials.documents.LINK_QUERY_STRING_KEY,k=function(k){function d(a,c){k.call(this,a,c);this.allowPublicEditAccess=this.allowPublicReadAccess=!1;this.project=new Observable;this.projectUrl=new Observable;this.guestLinks=
new ObservableCollection;this.showGuestLinks=new Observable;this.statusMessage=new Observable;this.isOwner=new Observable(!1);this.isBusy=new Observable(!1);this.grantEditorViewModel=new l(a,"Mapping.Infrastructure");this._setupGuestLinks()}__extends(d,k);d.prototype.initialize=function(c){var e=this;k.prototype.initialize.call(this,c);c.showGuestLinks&&this.showGuestLinks.set(c.showGuestLinks);c.confirmSharedPublicly&&(this.confirmSharedPublicly=c.confirmSharedPublicly);this.app.waitUntilDocumentStoreInitialized().then(function(){e.allowPublicReadAccess=
e.app.site.documentStore.hasPolicyGrant(function(c){return c.kind===a.GLOBAL_READER&&c.globalId===b.PUBLIC});e.allowPublicEditAccess=e.app.site.documentStore.hasPolicyGrant(function(c){return c.kind===a.GLOBAL_WRITER&&c.globalId===b.PUBLIC});e.allowPublicReadAccess&&e.guestLinks.getItems().filter(function(c){return c.kind===a.READER_LINK}).forEach(function(a){return a.name.set(e.getResource("language-share-project-links-public-view-label"))});e.allowPublicEditAccess&&e.guestLinks.getItems().filter(function(c){return c.kind===
a.WRITER_LINK}).forEach(function(a){return a.name.set(e.getResource("language-share-project-links-public-edit-label"))})})};d.prototype.loadProject=function(a){var c=this;this.statusMessage.set(this.getResource("language-common-loading"));this.isBusy.set(!0);a=this.app.project.getProjectID(a);this.grantEditorViewModel.loadById(a).then(function(){return c._updateModel(c.grantEditorViewModel.document)})["catch"](function(a){c.app.trace.error("Error loading project: {0}".format(a.message),a);c._reset()})["finally"](function(){return c.isBusy.set(!1)})};
d.prototype.addGuestLink=function(a){var c=a.grant;c&&c.globalId===a.link?(c.assert=!0,c.revoke=!1):(c&&(c.assert=!1,c.revoke=!0),c={globalId:a.link,kind:a.kind,assert:!0,revoke:!1},a.grant=c,this.project.get().grants.push(c));a.linkUrl.set(this._buildGuestLinkUrl(this.projectUrl.get(),a.link))};d.prototype.removeGuestLink=function(a){a.grant?(a.grant.assert=!1,a.grant.revoke=!0,a.linkUrl.set(null)):this.app.trace.error("Error removing guest link: No grant provided.")};d.prototype.updateProjectGrants=
function(a){var c=this;void 0===a&&(a=!1);this.statusMessage.set(this.getResource("language-project-status-updating"));this.isBusy.set(!0);var e=this.project.get().id,b=this.project.get().grants;a&&b.forEach(function(a){a.assert=!1;a.revoke=!0});return this.app.project.write({id:e,grants:b}).then(function(){return c.grantEditorViewModel.loadById(e)}).then(function(){return c._updateModel(c.grantEditorViewModel.document)})["catch"](function(a){c.app.trace.error("Error updating project grants: {0}".format(a.message),
a)})["finally"](function(){return c.isBusy.set(!1)})};d.prototype._buildGuestLinkUrl=function(a,c){var b=a,b=b+(-1<b.indexOf("?")?"&":"?");return b+="{0}={1}".format(e,c)};d.prototype._updateModel=function(a){if(!a)return Promise.resolve(this._reset());this.project.set(a);this.projectUrl.set(this.app.project.getProjectUrl(a));this.isOwner.set(this.app.site.documentStore.isOwner(a));return this._updateGuestLinks(a)};d.prototype._updateGuestLinks=function(a){var c=this,e=this.guestLinks.getItems(),
b=this.app.project.getProjectUrl(a);e.forEach(function(a){return a.reset()});if(a.grants)for(var k=0;k<a.grants.length;k++){var d=a.grants[k];e.forEach(function(a){d.kind===a.kind&&(a.grant=d,a.linkUrl.set(c._buildGuestLinkUrl(b,d.globalId)))})}var f=m.generateLinks(this.guestLinks.length());return this.app.waitUntilSiteInitialized().then(function(){return c.app.site.documentStore.perform(f,!0)}).then(function(a){e.forEach(function(c,e){return c.link=a.links[e]})})["catch"](function(a){c.app.trace.error("Error generating guest links: {0}".format(a.essage),
a)})};d.prototype._reset=function(){this.project.set(null);this.projectUrl.set(null);this.isOwner.set(!1);this.guestLinks.getItems().forEach(function(a){return a.reset()})};d.prototype._setupGuestLinks=function(){this.guestLinks.addItem(new c({name:this.getResource("language-share-project-links-view-label"),kind:a.READER_LINK}));this.guestLinks.addItem(new c({name:this.getResource("language-share-project-links-edit-label"),kind:a.WRITER_LINK}))};return d}(d.framework.ui.ViewModelBase);g.ShareProjectViewModel=
k})(g.project||(g.project={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=d.essentials.documents.GrantID,l=d.essentials.documents.GrantKind,b=d.framework.utils.TimeDelayedAction,a=function(a){function e(e,b){var d=this;a.call(this,e,b);this._keyDownTimer=null;this._registerCommandsAndEvents();this.app.waitUntilDocumentStoreInitialized().then(function(){d.app.command("ShowProjects").raiseCanExecuteChanged()})}__extends(e,a);e.prototype.attach=function(e){a.prototype.attach.call(this,e);this._keyDownTimer=
new b(this.viewModel.minimumFilterDelay,this._filterProjects,this)};e.prototype.activated=function(){a.prototype.activated.call(this);this.viewModel.activated()};e.prototype.handleKeyDown=function(a,c,e){a=a.which?a.which:a.keyCode;if(this._isSpecialChar(a))return!0;this._keyDownTimer.stop();a===dojo.keys.ENTER?this._filterProjects():this._keyDownTimer.start();return!0};e.prototype.handleClearFilterClick=function(a,c,e){this.viewModel.clearFilter();this.app.command("FocusOnFirstInputInView").execute(this)};
e.prototype.handleProjectClick=function(a,c,e){this.app.command("LoadProject").execute(e.project)};e.prototype.handleProjectActions=function(a,c,e){this.app.command("ShowProjectActions").execute(e.project)};e.prototype.handleProjectExpanderClick=function(a,c,e){a=e.isExpanded.get();c.textContent=a?this.getResource("language-projects-description-more"):this.getResource("language-projects-description-less");e.isExpanded.set(!a)};e.prototype.handleThumbnailLoadError=function(a,c,e){c.src!==this.viewModel.defaultThumbnail&&
(c.src=this.viewModel.defaultThumbnail,c.src!==this.viewModel.defaultThumbnail&&(this.viewModel.defaultThumbnail=c.src))};e.prototype.resolveWidget=function(e,b,d){a.prototype.resolveWidget.call(this,e,b);if(!e)return null;switch(e){case "ProjectsActionsWidget":return this.app.menuRegistry.createMenuWidget(this,b,d);case "PagingControlsWidget":if(e=this.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.infrastructure.ui.components.PagingControls.PagingControlsView",markupResource:"Mapping/infrastructure/ui/components/PagingControls/PagingControlsView.html",
libraryId:"Mapping.Infrastructure",isVisible:!0}))b=new f.infrastructure.ui.components.PagingControls.PagingControlsViewModel(this.app,b),e.attach(b);return e;default:return null}};e.prototype._registerCommandsAndEvents=function(){this.app.command("ShowProjects").register(this,this._executeShowProjects,this._canExecuteShowProjects);this.app.event("ProjectLoadedEvent").subscribe(this,this._handleProjectLoadedEvent)};e.prototype._executeShowProjects=function(){this.app.command("ActivateView").execute(this.id)};
e.prototype._canExecuteShowProjects=function(){return this.app.site&&this.app.site.documentStore?this.app.site.documentStore.supported?this.app.site.documentStore.canCreate()?!0:this.app.site.documentStore.hasPolicyGrant(function(a){return a.globalId===m.PUBLIC&&a.kind===l.GLOBAL_READER}):!1:!1};e.prototype._filterProjects=function(){var a=this.viewModel.filterText.get();this.viewModel.updateFilter(a)};e.prototype._handleProjectLoadedEvent=function(a){this.app.command("DeactivateView").execute(this.id)};
e.prototype._isSpecialChar=function(a){switch(a){case dojo.keys.TAB:case dojo.keys.SHIFT:case dojo.keys.CTRL:case dojo.keys.ALT:case dojo.keys.PAUSE:case dojo.keys.CAPS_LOCK:case dojo.keys.ESCAPE:case dojo.keys.PAGE_UP:case dojo.keys.PAGE_DOWN:case dojo.keys.END:case dojo.keys.HOME:case dojo.keys.LEFT_ARROW:case dojo.keys.UP_ARROW:case dojo.keys.RIGHT_ARROW:case dojo.keys.DOWN_ARROW:case dojo.keys.NUM_LOCK:case dojo.keys.SCROLL_LOCK:case dojo.keys.INSERT:return!0}return!1};return e}(d.framework.ui.ViewBase);
g.ProjectsView=a})(g.project||(g.project={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=f.infrastructure.documents.DocumentCollection,l=d.essentials.documents.DocumentField,b=d.essentials.documents.FilterMethod,a=l.TIME_CREATION,c=function(c){function k(a,b){var k=this;c.call(this,a,b);this._activated=!1;this.defaultPageSize=10;this.minimumFilterDelay=300;this.filterText=new Observable;this.privateProjectsOnly=new Observable(!1);this.fieldSorters=new ObservableCollection;this.selectedFieldSorter=new Observable;this.isAuthenticated=
new Observable(!1);this.isBusy=new Observable(!1);this.statusOffline=new Observable(!1);this.statusEmpty=new Observable(!1);this.presentableResults=new m(this.app,this.libraryId,function(a){return new g.ProjectModel(k.app,k.libraryId,a.entity)});this.projectsPage=this.presentableResults.items;this._filterTextField=[l.TITLE,l.DESCRIPTION,l.AUTHOR_TITLE,l.EDITOR_TITLE].join();this._registerCommandsAndEvents()}__extends(k,c);k.prototype.initialize=function(a){var b=this;c.prototype.initialize.call(this,
a);a.defaultThumbnail&&(this.defaultThumbnail=a.defaultThumbnail);a.minimumFilterDelay&&(this.minimumFilterDelay=a.minimumFilterDelay);this.isBusy.sync(this.presentableResults.statusFetching);this.statusOffline.sync(this.presentableResults.statusOffline);this.statusEmpty.syncTransform(this.presentableResults.numberOfItems,function(a){return 0===a&&b.presentableResults.isInitialized});this.privateProjectsOnly.bind(this,this._privateProjectsOnlyChanged);this.selectedFieldSorter.bind(this,this._selectedFieldSorterChanged);
this._setFieldSorters()};k.prototype.activated=function(){var c=this;this._activated||(this._activated=!0,this.app.waitUntilDocumentStoreInitialized().then(function(){0<c.app.site.documentStore.userMonikers.length&&(c.isAuthenticated.set(!0),c.privateProjectsOnly.set(!0));c.presentableResults.addFilter({field:"properties.{0}.string".format(f.infrastructure.project.SITE_ID_PROPERTY_NAME),range:[{string:c.app.site.id}]});c.presentableResults.initialize({fileType:f.infrastructure.project.PROJECT_TYPE,
queryParams:{sortDescending:[a]}})}))};k.prototype.refreshProjects=function(){this.presentableResults.refresh()};k.prototype.clearFilter=function(){this.filterText.set(null);this.updateFilter(null)};k.prototype.updateFilter=function(a){String.isNullOrEmpty(a)?this.presentableResults.removeFilter(this._filterTextField):this.presentableResults.addFilter({field:this._filterTextField,method:b.MATCHES,range:[{string:a}]})};k.prototype._registerCommandsAndEvents=function(){this.app.command("RefreshProjectsList").register(this,
this.refreshProjects);this.app.event("ProjectSavedEvent").subscribe(this,this._handleProjectSavedEvent);this.app.event("ProjectDeletingEvent").subscribe(this,this._handleProjectDeletingEvent)};k.prototype._handleProjectSavedEvent=function(a){this.refreshProjects()};k.prototype._handleProjectDeletingEvent=function(a){this.isBusy.set(!0);this.presentableResults.stopFetching=!0;this._projectDeleteToken=this.app.event("ProjectDeletedEvent").once(this,this._handleProjectDeletedEvent);this._projectErrorToken=
this.app.event("ProjectErrorEvent").once(this,this._handleProjectDeletedEvent)};k.prototype._handleProjectDeletedEvent=function(){this.app.event("ProjectDeletedEvent").unsubscribe(this._projectDeleteToken);this.app.event("ProjectErrorEvent").unsubscribe(this._projectErrorToken);this._projectErrorToken=this._projectDeleteToken=null;this.presentableResults.stopFetching=!1;this.refreshProjects()};k.prototype._privateProjectsOnlyChanged=function(a){a?this.presentableResults.addFilter(this.app.site.documentStore.userFilter):
this.presentableResults.removeFilter(l.GRANT_TOKEN)};k.prototype._selectedFieldSorterChanged=function(a){a.fields&&this.presentableResults.sortBy(a)};k.prototype._setFieldSorters=function(){var a=[{fields:null,displayName:this.app.getResource(this.libraryId,"language-projects-sort-default-display-name")},{fields:[l.TITLE],displayName:this.app.getResource(this.libraryId,"language-projects-sort-name-display-name")},{fields:[l.TIME_CREATION,l.TITLE],displayName:this.app.getResource(this.libraryId,"language-projects-sort-created-display-name"),
descending:!0},{fields:[l.TIME_LAST_MODIFICATION,l.TITLE],displayName:this.app.getResource(this.libraryId,"language-projects-sort-modified-display-name"),descending:!0},{fields:[l.EDITOR_TITLE],displayName:this.app.getResource(this.libraryId,"language-projects-sort-modifiedby-display-name")},{fields:[l.AUTHOR_TITLE],displayName:this.app.getResource(this.libraryId,"language-projects-sort-createdby-display-name")}];this.fieldSorters.set(a)};return k}(d.framework.ui.ViewModelBase);g.ProjectsViewModel=
c})(g.project||(g.project={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){var g;(function(f){var l=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.initialize=function(a){var e=this;b.prototype.initialize.call(this,a);this._registerCommandsAndEvents();this.app.waitUntilDocumentStoreInitialized().then(function(){e.app.command("SaveProject").raiseCanExecuteChanged();e.app.command("SaveAsProject").raiseCanExecuteChanged()})};a.prototype._registerCommandsAndEvents=function(){this.app.command("SaveProject").register(this,
this._executeSaveProject,this._canExecuteSaveProject);this.app.command("SaveAsProject").register(this,this._executeSaveAsProject,this._canExecuteSaveAsProject);this.app.command("LoadProject").register(this,this._executeLoadProject);this.app.command("DeleteProject").register(this,this._executeDeleteProject,this._canExecuteDeleteProject);this.app.event("ProjectEditorFinishedEvent").subscribe(this,this._handleProjectEditorFinishedEvent);this.app.event("ProjectDeletedEvent").subscribe(this,this._handleCurrentProjectUpdated);
this.app.event("ProjectLoadedEvent").subscribe(this,this._handleCurrentProjectUpdated);this.app.event("ProjectSavedEvent").subscribe(this,this._handleCurrentProjectUpdated)};a.prototype._executeSaveProject=function(){var a=this;if(this.app.project.current)if(this.app.site.documentStore.isReadOnly(this.app.project.current)){var e=this.getResource("language-project-confirm-save-title"),b=this._getConfirmActionDescription(g,"save");this.app.command("Confirm").execute(b,e,function(e){e&&a._executeSaveAsProject()})}else this._saveProject({id:this.app.project.current.id});
else e=this.app.project.createEmpty(null),this.app.command("ShowProjectEditor").execute(e)};a.prototype._canExecuteSaveProject=function(){return this.app.project.current?this.app.site&&(this.app.site.documentStore.canCreate()||!this.app.site.documentStore.isReadOnly(this.app.project.current)):this.app.site&&this.app.site.documentStore.canCreate()};a.prototype._executeSaveAsProject=function(){var a=this.app.project.createEmpty(null);this.app.project.current&&(a.title=this.app.project.current.title,
a.description=this.app.project.current.description);this.app.command("ShowProjectEditor").execute(a)};a.prototype._canExecuteSaveAsProject=function(){return this.app.site&&this.app.site.documentStore.canCreate()};a.prototype._executeLoadProject=function(a){var e=this,b=this.getResource("language-project-confirm-load-title"),d="{0} {1}".format(this._getConfirmActionDescription(a,"load"),this.getResource("language-project-confirm-load-overwrite"));this.app.command("Confirm").execute(d,b,function(b){b&&
e._loadProject(a)})};a.prototype._executeDeleteProject=function(a){var e=this,b=this.getResource("language-project-confirm-delete-title"),d=this._getConfirmActionDescription(a,"delete");this.app.command("Confirm").execute(d,b,function(b){b&&e._deleteProject(a)})};a.prototype._canExecuteDeleteProject=function(a){return"string"===typeof a?!0:a?this.app.site.documentStore.isOwner(a):!1};a.prototype._getConfirmActionDescription=function(a,e){return"object"===typeof a&&a.title?this.getResource("language-project-confirm-"+
e+"-description-with-title").format(a.title):this.getResource("language-project-confirm-"+e+"-description")};a.prototype._handleProjectEditorFinishedEvent=function(a){var e=this;if(!a.canceled)if(a.existingProject.id)a.newProject.id=a.existingProject.id,this._saveProject(a.newProject,!1);else{var b=dojo.mixin(a.existingProject,a.newProject);this._saveProject(b).then(function(){return e.app.project.current=b})}};a.prototype._handleCurrentProjectUpdated=function(a){this.app.command("SaveProject").raiseCanExecuteChanged()};
a.prototype._deleteProject=function(a){var e=this;return this.app.project.remove(a)["catch"](function(a){e.app.trace.error("Error deleting project: {0}".format(a.message),a)})};a.prototype._loadProject=function(a){var e=this;return this.app.project.load(a)["catch"](function(a){e.app.trace.error("Error loading project: {0}".format(a.message),a)})};a.prototype._saveProject=function(a,e){var b=this;void 0===e&&(e=!0);return this.app.project.save(a,e)["catch"](function(a){b.app.trace.error("Error saving project: {0}".format(a.message),
a)})};return a}(d.framework.application.ModuleBase);f.ProjectModule=l})(g=f.project||(f.project={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=d.essentials.documents.DocumentField,l=d.essentials.documents.FilterMethod,b=f.infrastructure.project.PROJECT_TYPE,a="{0}_exact".format(m.TITLE),c=function(c){function k(){c.apply(this,arguments);this.name=new Observable;this.description=new Observable;this.projectUrl=new Observable;this.isBusy=new Observable(!1);this.inputErrorMessage=new Observable;this.dataFrameIsOpen=!1}__extends(k,c);k.prototype.startEditing=function(a){var c=
this;this.isBusy.set(!0);this.app.project.getProject(a,!1).then(function(a){return c.app.project.validateProjectOwnership(a)}).then(function(a){return c._updateModel(a)})["catch"](function(a){c.app.trace.error("Error editing project: {0}".format(a.message),a);c.reset()})["finally"](function(){return c.isBusy.set(!1)})};k.prototype.finishEditing=function(a){var c=this;void 0===a&&(a=!1);var e={existingProject:this.project,newProject:null,canceled:a};return a?(this._deactivateView(),Promise.resolve(this.app.event("ProjectEditorFinishedEvent").publish(e))):
this.validateInput().then(function(){e.newProject={title:c.name.get().trim(),description:c.description.get()};c._deactivateView();c.app.event("ProjectEditorFinishedEvent").publish(e)})};k.prototype.validateInput=function(){var a=this;if(this._validateInputPromise)return this._validateInputPromise;var c=this.name.get()?this.name.get().trim():"";return this.project&&this.project.id&&this.project.title&&this.project.title===c?Promise.resolve():this._validateInputPromise=Promise.resolve().then(function(){if(String.isNullOrEmpty(c))throw Error(a.getResource("language-project-editor-error-name-required"));
}).then(function(){return a.app.site.documentStore.query(a._buildNameQueryParams(c))}).then(function(e){if(0<e.total)throw Error(a.getResource("language-project-editor-error-name-exists").format(c));})["catch"](function(c){a.inputErrorMessage.set(c.message);return Promise.reject(c)})["finally"](function(){a._validateInputPromise=null})};k.prototype.handleInputChanged=function(){this.inputErrorMessage.get()&&this.name.get()&&!String.isNullOrEmpty(this.name.get().trim())&&this.inputErrorMessage.set("")};
k.prototype.reset=function(){this.project=null;this.name.set("");this.description.set("");this.projectUrl.set("");this.inputErrorMessage.set("")};k.prototype._buildNameQueryParams=function(c){var e=[];e.push(this.app.site.documentStore.userFilter);e.push({field:a,method:l.VALUES,range:[{string:c}]});e.push({field:m.FILE_TYPE,method:l.VALUES,range:[{string:b}]});return{filters:{require:e},limit:0}};k.prototype._updateModel=function(a){this.project=a;this.name.set(a.title);this.description.set(a.description);
this.projectUrl.set(this.app.project.getProjectUrl(a))};k.prototype._deactivateView=function(){this.app.command("DeactivateView").execute("ProjectEditorView");this.dataFrameIsOpen||this.app.command("CloseDataFrame").execute()};return k}(d.framework.ui.ViewModelBase);g.ProjectEditorViewModel=c})(g.project||(g.project={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(g){var h=function(b){function a(){b.apply(this,arguments);this.timeoutId=null;this.resizeDelay=300}__extends(a,b);a.prototype.attach=function(a){var e=this;this.app.event("DataFrameOpenedEvent").subscribe(this,function(){$(e.buttonElement).removeClass("inactive");$(e.buttonElement).addClass("active")});this.app.event("DataFrameClosedEvent").subscribe(this,function(){$(e.buttonElement).removeClass("active");$(e.buttonElement).addClass("inactive")})};
a.prototype.handleMouseDown=function(a,e,b){var d=this;1<a.button&&"mousedown"===a.type||(this.timeoutId=setTimeout(function(){d._resizeDataFrame(a.pageX,a.pageY)},this.resizeDelay))};a.prototype.handleTouchStart=function(a,e,b){var d=this,f=null;$(this.app.getHostElement()).one("touchend.dataframe-toggle-click",function(){clearTimeout(f)});f=setTimeout(function(){$(d.app.getHostElement()).off("touchend.dataframe-toggle-click");d._resizeDataFrame(a.targetTouches[0].pageX,a.targetTouches[0].pageY)},
this.resizeDelay)};a.prototype._resizeDataFrame=function(a,e){this.viewModel.currentView instanceof f.infrastructure.ui.components.SmartPanel.SmartPanelView?this.viewModel.currentView.resizeSmartPanel(a,e):this.app.viewManager.getViewById("DataFrameViewContainer").resizeSmartPanel(a,e)};return a}(d.framework.ui.ViewBase);g.DataFrameResizeButtonView=h})(g.components||(g.components={}))})(g.shells||(g.shells={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=d.framework.utils.ArrayUtils,l=function(){function b(){}b.isProjectView=function(a){return 0<=b.All.indexOf(a.id)};b.containsProjectView=function(a){return a instanceof d.framework.ui.ViewContainer.ViewContainerView?a.viewModel.viewDescriptors.get().some(function(a){return b.isProjectView(a.view)}):!1};b.getTopmostViewInRegion=function(a){if(a)return(a=g.lastOrDefault(a.activeViews,function(a){return b.isProjectView(a)||b.containsProjectView(a)}))?
a.id:void 0};b.HomePanel="InfoView";b.LayerList="LayerListView";b.Legend="LegendView";b.Results="ResultsListView";b.ResultsTable="ResultsTableView";b.FeatureDetails="FeatureDetailsCompactView";b.FeatureDetailsExpanded="FeatureDetailsExpandedView";b.QueryBuilder="SimpleQueryBuilderView";b.FilterBuilder="SimpleFilterBuilderView";b.Charting="ChartingView";b.PlotCoordinates="PlotCoordinatesView";b.TimeSliderView="TimeSliderSettingsView";b.All=[b.HomePanel,b.LayerList,b.Legend,b.QueryBuilder,b.FilterBuilder,
b.Results,b.PlotCoordinates,b.TimeSliderView,b.Charting,b.ResultsTable,b.FeatureDetails,b.FeatureDetailsExpanded];return b}();f.ProjectView=l})(f.shells||(f.shells={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);a&&a.menus&&this.app.menuRegistry.loadMenus(a)};return b}(d.framework.application.ModuleBase);f.ContextMenuModule=g})(f.ContextMenu||(f.ContextMenu={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c);this.app.command("ActivateContextMenu").register(this,this._positionAndActivateMenu);this.app.command("DeactivateContextMenu").register(this,this._deactivateMenu)}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a)};b.prototype.activated=function(){var a=this;d.prototype.activated.call(this);this.app.command("TapToDismiss").execute({view:this,onOtherInteracted:function(c){return a._onOtherViewTapped(c)}});
this.app.event("ContextMenuActivated").publish()};b.prototype.deactivated=function(){d.prototype.deactivated.call(this);this.viewModel.isOffsetLeft.set(!1);this.viewModel.isOffsetUp.set(!1);this.app.event("ContextMenuDeactivated").publish()};b.prototype._positionAndActivateMenu=function(a){this._tryActivateView(a.viewId);if(!this.app.configuration.mobileMode){this.root.style.left=a.pageX+"px";this.root.style.top=a.pageY+"px";var c=this.contextMenu;c.style.opacity="0";this.app.viewManager.activateView(this);
var e=document.body.clientWidth,b=document.body.clientHeight,d=c.getBoundingClientRect();a.pageX+d.width>e?(this.viewModel.isOffsetLeft.set(!0),this.root.style.left=a.pageX-d.width+"px"):this.viewModel.isOffsetLeft.set(!1);a.pageY+d.height>b?(this.viewModel.isOffsetUp.set(!0),this.root.style.top=a.pageY-d.height+"px"):this.viewModel.isOffsetUp.set(!1);c.style.opacity="1"}};b.prototype._tryActivateView=function(a){var c=this.app.viewManager.getViewById(a);c?this.app.viewManager.activateView(c):this.app.trace.error(String.format("ContextMenuView: Could not find view by id when activating the context menu: {0}",
a))};b.prototype._deactivateMenu=function(){this.app.viewManager.deactivateView(this)};b.prototype._onOtherViewTapped=function(a){this._deactivateMenu()};return b}(d.framework.ui.ViewBase);f.ContextMenuView=g})(f.ContextMenu||(f.ContextMenu={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.isOffsetLeft=new Observable(!1);this.isOffsetUp=new Observable(!1)}__extends(b,d);return b}(d.framework.ui.ViewModelBase);f.ContextMenuViewModel=g})(f.ContextMenu||(f.ContextMenu={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(d){function b(a,c){d.call(this,a,c);this._pushPinId="MapContextMenuPushPin";this.app.event("MapContextMenuPointUpdatedEvent").subscribe(this,this._updatePointInfo);this.app.configuration.mobileMode?this.app.event("SmallBottomPanelClosedEvent").subscribe(this,this._smallBottomPanelClosedHandler):this.app.event("ContextMenuDeactivated").subscribe(this,this._contextMenuDeactivatedHandler)}__extends(b,d);b.prototype.activated=
function(){this._stopMapClicks()};b.prototype.deactivated=function(){this._enableMapClicks();this._removePushPin()};b.prototype._stopMapClicks=function(){this.app.event("FlyoutActivated").publish(this)};b.prototype._enableMapClicks=function(){this.app.event("FlyoutDeactivated").publish(this)};b.prototype._contextMenuDeactivatedHandler=function(){this.isActive&&(this._removePushPin(),this._enableMapClicks())};b.prototype._smallBottomPanelClosedHandler=function(){this.isActive&&this._enableMapClicks()};
b.prototype._updatePointInfo=function(a){this._showPushPin(a)};b.prototype._deactivateContextMenu=function(){this.app.command("DeactivateContextMenu").execute()};b.prototype._showPushPin=function(a){var c=document.createElement("div"),e=document.createElement("img");e.src="Resources/Images/Pushpins/map-marker-green-32.png";e.style.pointerEvents="none";c.appendChild(e);c=new f.infrastructure.commandArgs.ShowMapElementArgs(this._pushPinId,a,c);this.app.command("ShowMapElement").execute(c);if(this.app.configuration.mobileMode)this.app.command("PanToPoint").execute(a);
else this.app.event("MapExtentChangingEvent").once(this,this._handleExtentChangedEvent)};b.prototype._removePushPin=function(){this.app.command("HideMapElement").execute(this._pushPinId)};b.prototype._handleExtentChangedEvent=function(){this._deactivateContextMenu();this._removePushPin()};return b}(d.framework.ui.ViewBase);g.MapContextMenuView=m})(g.map||(g.map={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex=
{}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=d.framework.utils.ArrayUtils,l=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.attach=function(a){b.prototype.attach.call(this,a);this._registerCommands()};a.prototype.resolveWidget=function(a,e,k){if("PagingControlsWidget"===a){if(a=this.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.infrastructure.ui.components.PagingControls.PagingControlsView",markupResource:"Mapping/infrastructure/ui/components/PagingControls/PagingControlsView.html",libraryId:"Mapping.Infrastructure",
isVisible:!0}))e=new f.infrastructure.ui.components.PagingControls.PagingControlsViewModel(this.app,e),a.attach(e);return a}return b.prototype.resolveWidget.call(this,a,e,k)};a.prototype._registerCommands=function(){this.app.command("ListSelections").register(this,this.show)};a.prototype.show=function(){var a=this;this.viewModel&&this.viewModel.findAllMetadata().then(function(e){return a._processMetadata(e)}).then(function(e){return a._disableCurrentlyOpenedCollection(e)}).then(function(e){a.viewModel.selections.set(e);
a.viewModel.selections.pulse();a.app.viewManager.activateView(a)})};a.prototype.handleRestoreSelectionClick=function(a,e,b){a=b?b.name:null;if(!a)throw Error("Cannot restore named selection into the results view: selection name is required.");this.app.viewManager.deactivateView(this);this.app.command("RestoreSelection").execute({name:a})};a.prototype.handleRenameClick=function(a,e,b){var d=this;this.promptForSelectionName(b).then(function(a){return d._processName(a,b)}).then(function(a){return a}).then(function(a){return d.viewModel.renameSelection(b,
a)})["catch"](function(a){return d._processError(a)})};a.prototype.handleDeleteClick=function(a,e,b){var d=this;this.confirmDelete(b).then(function(a){a&&d.viewModel.deleteSelection(b)})};a.prototype.confirmDelete=function(a){var e=this,b=this.getResource("language-saved-results-delete-prompt").format(a.name),d=this.getResource("language-saved-results-delete-prompt-title").format(a.name);return new Promise(function(a,c){return e.app.command("Confirm").execute(b,d,a)})};a.prototype.promptForSelectionName=
function(a){var e=this,b=this.getResource("language-saved-results-rename-prompt-title"),d=this.getResource("language-saved-results-rename-prompt"),f=a.name;return new Promise(function(a,c){return e.app.command("Prompt").execute(b,d,f,a)})};a.prototype._processMetadata=function(a){var e=this;return a.map(function(a){a=new g.SelectionItem(a);return e.viewModel.setTooltips(a)})};a.prototype._disableCurrentlyOpenedCollection=function(a){var e=this.viewModel.featureSetCollection.get(),b=e&&"Selection"===
e.sourceName?e.displayName.get():null;(e=a&&b?m.firstOrDefault(a,function(a){return a.name===b}):null)&&e.disabled.set(!0);return a};a.prototype._processName=function(a,e){var b=this.viewModel.selections.get();if(!a)throw b=Error(this.getResource("language-saved-results-no-name-error").format(e.name)),b.name="UiError",b;if(a===e.name)return e.name;if(b.some(function(e){return e.name===a}))throw b=Error(this.getResource("language-saved-results-rename-prompt-error").format(a)),b.name="UiError",b;return a};
a.prototype._processError=function(a){var e=a&&"UiError"==a.name?a.message:this.getResource("language-saved-results-error-message");this.app.command("AddResultsStatus").execute(e);this.app.trace.error(e,a);return a};return a}(d.framework.ui.ViewBase);g.ListSelectionsView=l})(g.selection||(g.selection={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,c){f.call(this,a,c);this.featureSetCollection=new Observable;this.isPaged=!0;this.pageSize=10;this.selections=new ObservableCollection;this.presentableResults=new d.framework.ui.PresentableCollection(this.selections);this.resultsPage=this.presentableResults.items;this.presentableResults.items.useThrottling=!0}__extends(b,f);b.prototype.initialize=function(a){f.prototype.initialize.call(this,a);a=a||{};
a.hasOwnProperty("isPaged")&&(this.isPaged=a.isPaged);a.hasOwnProperty("pageSize")&&(this.pageSize=a.pageSize);this.presentableResults.isPaginated.set(this.isPaged);this.presentableResults.pageSize.set(this.pageSize);this.app.command("ShowResultsList").register(this,this._trackDisplayedResults);this.app.command("ShowResultsTable").register(this,this._trackDisplayedResults)};b.prototype.findAllMetadata=function(){var a=this;return new Promise(function(c,e){a.app.command("FindAllSelectionMetadata").execute({successCallback:c,
errorCallback:e})})};b.prototype.deleteSelection=function(a){var c=this;return new Promise(function(e,b){var d={name:a.name,successCallback:function(){c.selections.removeItem(a);e()},errorCallback:b};c.app.command("DeleteSelection").execute(d)})};b.prototype.renameSelection=function(a,c){var e=this;return new Promise(function(b,d){var f={name:a.name,newName:c,successCallback:function(){a.name=c;e.setTooltips(a);e.resultsPage.pulse();b()},errorCallback:d};e.app.command("RenameSelection").execute(f)})};
b.prototype.setTooltips=function(a){var c=this.getResource("language-saved-results-item-restore-description").format(a.name),e=this.getResource("language-saved-results-item-rename-description").format(a.name),b=this.getResource("language-saved-results-item-delete-description").format(a.name);a.restoreTooltip=c;a.renameTooltip=e;a.deleteTooltip=b;return a};b.prototype._trackDisplayedResults=function(a){(a="string"===typeof a?this.app.featureSetManager.getCollectionById(a):a)&&a!==this.featureSetCollection.get()&&
this.featureSetCollection.set(a)};return b}(d.framework.ui.ViewModelBase);f.ListSelectionsViewModel=g})(f.selection||(f.selection={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a);this._registerCommands()};b.prototype.deactivated=function(){this.viewModel.reset()};b.prototype._registerCommands=function(){this.app.command("ShowSearchOptions").register(this,this.show);this.app.command("CombineResultsInteractive").register(this,this._executeCombineResultsInteractive)};b.prototype.resolveWidget=
function(a,c,e){if("CombineResultsOptionsWidget"===a)return this.app.menuRegistry.createMenuWidget(this,c,e);if("PagingControlsWidget"===a){if(a=this.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.infrastructure.ui.components.PagingControls.PagingControlsView",markupResource:"Mapping/infrastructure/ui/components/PagingControls/PagingControlsView.html",libraryId:"Mapping.Infrastructure",isVisible:!0}))c=new f.infrastructure.ui.components.PagingControls.PagingControlsViewModel(this.app,
c),a.attach(c);return a}return d.prototype.resolveWidget.call(this,a,c,e)};b.prototype.show=function(a){this.viewModel&&((a="string"===typeof a?this.app.featureSetManager.getCollectionById(a):a)?(this.viewModel.featureSetCollection.set(a),this.app.viewManager.activateView(this)):this.app.trace.warning("Cannot save feature set collection: No feature set collection with matching ID found."))};b.prototype.handleOkClick=function(a,c,e){var b=this;a={nameOfCurrentResults:this.viewModel.featureSetCollection.get().displayName.get(),
collectionNames:this.viewModel.getSelectedItems().map(function(a){return a.name}),combineResponse:void 0};Promise.resolve(a).then(function(a){b.app.viewManager.deactivateView(b);return a}).then(function(a){return b._combineResults(a)}).then(function(a){return b._displayNotification(a)})["catch"](function(a){return b._processError(a)})};b.prototype.handleCancelClick=function(a,c,e){this.app.viewManager.deactivateView(this)};b.prototype._executeCombineResultsInteractive=function(a){var c=this;this.viewModel&&
Promise["try"](function(){var e,b=a?a.mode:null;e=a?a.currentResults:null;e="string"===typeof e?c.app.featureSetManager.getCollectionById(e):e;c.viewModel.combineModeChosen.set(!0);c.viewModel.combineMode=b||f.infrastructure.selection.CombineMode.REPLACE;e&&c.viewModel.featureSetCollection.get()&&e.id!==c.viewModel.featureSetCollection.get().id&&c.viewModel.featureSetCollection.set(e)}).then(function(){return c.viewModel.populateFromMetadata()})["catch"](function(a){return c._processError(a)})};b.prototype._combineResults=
function(a){var c=this;return new Promise(function(e,b){var d={combineMode:c.viewModel.combineMode,featureSetCollectionIds:c.viewModel.getSelectedItems().map(function(a){return a.featureSetCollectionId}),successCallback:function(c){a.combineResponse=c;e(a)},errorCallback:b};c.app.command("CombineResults").execute(d)})};b.prototype._displayNotification=function(a){var c,e=a.combineResponse,b=a.collectionNames.map(function(a){return"'"+a+"'"}).join(", "),d=a.nameOfCurrentResults;switch(e.combineMode){case f.infrastructure.selection.CombineMode.UNION:c=
this.getResource("language-common-results-union-confirmation");break;case f.infrastructure.selection.CombineMode.INTERSECT:c=this.getResource("language-common-results-intersect-confirmation");break;case f.infrastructure.selection.CombineMode.SUBTRACT:c=this.getResource("language-common-results-subtract-confirmation")}c&&(c=c.format(d,b),this.app.command("AddResultsStatus").execute(c));return a};b.prototype._processError=function(a){var c=a&&"UiError"==a.name?a.message:this.getResource("language-saved-results-error-message");
this.app.command("AddResultsStatus").execute(c);this.app.trace.error(a.message,a);return a};return b}(d.framework.ui.ViewBase);g.CombineResultsView=m})(g.selection||(g.selection={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(l){function b(a,c){l.call(this,a,c);this.featureSetCollection=new Observable;this.combineModeChosen=new Observable(!1);this.isPaged=!0;this.pageSize=10;this.combineMode=f.infrastructure.selection.CombineMode.REPLACE;this.selections=new ObservableCollection;this.presentableResults=new d.framework.ui.PresentableCollection(this.selections);this.resultsPage=this.presentableResults.items;this.presentableResults.items.useThrottling=
!0}__extends(b,l);b.prototype.initialize=function(a){l.prototype.initialize.call(this,a);a=a||{};a.hasOwnProperty("isPaged")&&(this.isPaged=a.isPaged);a.hasOwnProperty("pageSize")&&(this.pageSize=a.pageSize);this.presentableResults.isPaginated.set(this.isPaged);this.presentableResults.pageSize.set(this.pageSize)};b.prototype.reset=function(){this.combineModeChosen.set(!1)};b.prototype.getSelectedItems=function(){return(this.selections?this.selections.getItems():[]).filter(function(a){return a&&a.isSelected.get()})};
b.prototype.populateFromMetadata=function(){var a=this;return this._fetchMetadata().then(function(a){return a.map(function(a){return new g.SelectableSelectionItem(a)})}).then(function(c){return a._excludeCurrentResultsFromList(c)}).then(function(c){return a._populatePresentableCollection(c)}).then(function(c){return a.presentableResults.currPageNumber.set(1)})};b.prototype._fetchMetadata=function(){var a=this;return new Promise(function(c,e){a.app.command("FindAllSelectionMetadata").execute({successCallback:c,
errorCallback:e})})};b.prototype._excludeCurrentResultsFromList=function(a){var c=this.featureSetCollection.get();return a&&c&&"Selection"===c.sourceName?a.filter(function(a){return a.name!==c.getExtendedPropertyByName("SelectionName")}):a};b.prototype._populatePresentableCollection=function(a){this.selections.set(a);return a};return b}(d.framework.ui.ViewModelBase);g.CombineResultsViewModel=m})(g.selection||(g.selection={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(){function g(b){var a=this;this.disabled=new Observable(!1);this.id=b.id;this.featureSetCollectionId=b.featureSetCollectionId;this.name=b.name||"";this.count=b.count||0;this.modified=b.modified||!1;this.timeCreated=b.timeCreated;this.timeModified=b.timeModified;this.timeExpiration=b.timeExpiration;this.dateCreated=f.infrastructure.FormatUtils.parseUtcDate(this.timeCreated);this.dateModified=f.infrastructure.FormatUtils.parseUtcDate(this.timeModified);
this.dateExpiration=f.infrastructure.FormatUtils.parseUtcDate(this.timeExpiration);this.displayName=new d.framework.ui.LazyObservable(null,function(){return a.formatDisplayName()})}g.prototype.formatDisplayName=function(){var b=this.name||"",a=this.count||0;return b?"{0} ({1})".format(b,a):""};g.prototype.toMetaData=function(){return{id:this.id,featureSetCollectionId:this.featureSetCollectionId,name:this.name,count:this.count,modified:this.modified,timeCreated:this.timeCreated,timeModified:this.timeModified,
timeExpiration:this.timeExpiration}};return g}();g.SelectionItem=m})(g.selection||(g.selection={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(d){function b(a){d.call(this,a);this.isSelected=new Observable(!1)}__extends(b,d);return b}(d.SelectionItem);d.SelectableSelectionItem=f})(d.selection||(d.selection={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){var m=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.attach=function(a){a&&(d.prototype.attach.call(this,a),this.registerCommands())};b.prototype.registerCommands=function(){this.app.command("ActivateSelectLayersForSnapping").register(this,this.executeActivateSelectLayersForSnapping,this.canExecuteSnapping);this.app.command("DeactivateSelectLayersForSnapping").register(this,this.executeDeactivateSelectLayersForSnapping,
this.canExecuteSnapping)};b.prototype.executeActivateSelectLayersForSnapping=function(){this.app.viewManager.activateView(this);this.viewModel.activateSelectLayersForSnapping()};b.prototype.executeDeactivateSelectLayersForSnapping=function(){this.app.viewManager.deactivateView(this);this.viewModel.deactivateSelectLayersForSnapping()};b.prototype.canExecuteSnapping=function(){return this.app.command("ActivateSnapping").canExecute()};return b}(d.infrastructure.layerSelector.LayerSelectorViewBase);g.SnappingLayerSelectorView=
m})(g.snapping||(g.snapping={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){var m=function(d){function b(a,c){d.call(this,a,c);this._providerRegistered=!1;this._initializeHandler=null;this.selectAllButtonTitle.set(this.app.getResource(c,"language-layer-selector-snapping-select-all-tooltip"));this.clearAllButtonTitle.set(this.app.getResource(c,"language-layer-selector-snapping-clear-all-tooltip"))}__extends(b,d);b.prototype.initialize=function(a){var c=this;d.prototype.initialize.call(this,a);this.app.event("SnappingProviderRegistered").once(this,
function(a){c._providerRegistered=!0;c._initializeHandler&&(c._initializeHandler(),c._initializeHandler=null)})};b.prototype.filter=function(a){if(a&&a.layer&&a.layer.gcxLayer)return(a=a.layer.gcxLayer)?a.snappable:!1};b.prototype.handleLayerStateChange=function(a){this._setLayerStateForSnapping(a)};b.prototype.handleAllLayersEnabled=function(){var a=this._getListedLayers();this.app.command("EnableAllLayersForSnapping").execute(a)};b.prototype.handleAllLayersDisabled=function(){var a=this._getListedLayers();
this.app.command("DisableAllLayersForSnapping").execute(a)};b.prototype.onInitialized=function(a){var c=this;this._providerRegistered?this._handleInitialize(a):this._initializeHandler=function(){c._handleInitialize(a)}};b.prototype._handleMapServicesAdded=function(a){d.prototype._handleMapServicesAdded.call(this,a);var c=0;for(a=a.layers;c<a.length;c++){var e=a[c];!1!==e.snappable&&e.snappingEnabled&&this.app.command("RegisterSnappingLayer").execute(e)}};b.prototype._handleMapServiceRemoved=function(a){d.prototype._handleMapServiceRemoved.call(this,
a);var c=0;for(a=a.layers;c<a.length;c++){var e=a[c];this.app.command("RemoveSnappingLayer").execute(e)}};b.prototype._handleInitialize=function(a){a.filteredLayerSelectorLayerItems.forEach(function(a){a&&a.layer&&a.layer.gcxLayer&&a.isEnabled.set(a.layer.gcxLayer.snappingEnabled)})};b.prototype._getListedLayers=function(){var a=[];this.layerSelector.filteredLayerSelectorLayerItems.forEach(function(c){c&&c.layer&&c.layer.gcxLayer&&a.push(c.layer.gcxLayer)});return a};b.prototype.activateSelectLayersForSnapping=
function(){this.app.event("SelectLayersForSnappingActivatedEvent").publish(this.layerSelector.filteredLayerSelectorLayerItems.slice(0))};b.prototype.deactivateSelectLayersForSnapping=function(){this.app.event("SelectLayersForSnappingDeactivatedEvent").publish(this.layerSelector.filteredLayerSelectorLayerItems.slice(0))};b.prototype._setLayerStateForSnapping=function(a){if(a&&a.layer&&a.layer.gcxLayer){var c=a.layer.gcxLayer;c?a.isEnabled.get()?this.app.command("EnableLayerForSnapping").execute(c):
this.app.command("DisableLayerForSnapping").execute(c):this.app.trace.error("SnappingLayerSelectorViewModel: Could not handle layer state change. Layer not defined.")}};return b}(d.infrastructure.layerSelector.LayerSelectorViewModelBase);g.SnappingLayerSelectorViewModel=m})(g.snapping||(g.snapping={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){var m=function(g){function b(a,c){g.call(this,a,c);this.name="layerTheme";this.priority=d.infrastructure.sharing.LayerListLinkPriority.LAYERTHEME}__extends(b,g);b.prototype.generate=function(){var a=this.app.site.essentialsMap.layerThemesInfo;return a&&a.layerThemesConfigured?this.app.site.essentialsMap.layerThemesInfo.activeTheme.id:""};b.prototype.apply=function(a){var c=this;if(a)if(this.app.site&&this.app.site.serviceLayersLoaded)this._applyLayerTheme(a);
else this.app.event("LayerListInitializedEvent").once(this,function(){c._applyLayerTheme(a)})};b.prototype._applyLayerTheme=function(a){var c=this.app.site.essentialsMap.layerThemesInfo;c&&c.layerThemesConfigured?(c=c.getTheme(a,!0))&&!c.isActive?c.applyToMap():this.app.trace.warning("Could not switch layer theme to {0}: Specified theme not found.".format(a)):this.app.trace.warning("Could not switch layer theme to {0}: No layer themes configured.".format(a))};return b}(d.infrastructure.sharing.SharingLinkProviderBase);
g.LayerThemeSharingLinkProvider=m})(g.layerThemes||(g.layerThemes={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(h){(function(h){var l=function(){function b(a,c,e){this.app=a;this.libraryId=c;this.useThrottledCollections=!!e}b.prototype.supportsOffline=function(){return!0};b.prototype.provide=function(a){if(!(a instanceof d.infrastructure.ClusterLayer))return new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.NotFound,null);for(var c=this.app.site,e,b=0;b<c.essentialsMap.mapServices.length;b++){var q=
c.essentialsMap.mapServices[b];if(q.serviceLayer===a.featureLayer){e=q;break}}c=new d.infrastructure.legend.LegendItem(a,this.useThrottledCollections);c.label.set(e.displayName);for(b=0;b<e.layers.length;b++)e.layers[b].includeInLayerList&&this.populateItemForLayer(c,a,null);if(c&&c.children&&c.children.length()&&e.featureClustering.enabled)return new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.Show,c);if(!e.featureClustering.enabled)return new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.Hide,
c)};b.prototype.populateItemForLayer=function(a,c,e){e=[];a.essLayer=c.gcxLayer;if(c&&c.renderer&&c.gcxLayer.includeInLegend){(new g.legend.providers.FeatureLayerLegendProvider(this.app,this.libraryId,!0)).populateItemForLayer(a,c.gcxLayer,c.singleFeatureLayer,c.gcxLayer.mapService.serviceUrl);for(var b=c.renderer.infos,q=0;q<b.length;q++){var n=b[q].symbol,h=String.escapeHtml(n.color.toHex()),l=String.escapeHtml(""+n.size),n=n.color.toRgb(),s=new d.infrastructure.legend.LegendItem(c.featureLayer,
this.useThrottledCollections);s.isCluster=!0;s.essLayer=c.gcxLayer;s.isVisible.sync(c.rendererInformation[q].isVisible);s.label.sync(c.rendererInformation[q].rangeString);s.swatchElement="<div class='simple-swatch circle' style='background-color: "+h+"; width: "+l+"px; height: "+l+"px; border-radius: 50%; background-clip: padding-box; border: 4px solid rgba("+n[0]+", "+n[1]+", "+n[2]+", 0.25);'></div>";e.push(s)}}a.children.addItems(e);0<a.children.getLength()&&(a.templateType="group")};return b}();
h.ClusterLayerLegendProvider=l})(h.providers||(h.providers={}))})(g.legend||(g.legend={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){(function(g){var h=function(){function b(a,c,e){this.app=a;this.libraryId=c;this.useThrottledCollections=!!e}b.prototype.supportsOffline=function(){return!0};b.prototype.provide=function(a){if(!(a instanceof esri.layers.FeatureLayer&&Modernizr.canvas))return new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.NotFound,null);for(var c=this.app.site,e,b=0;b<c.essentialsMap.mapServices.length;b++){var q=
c.essentialsMap.mapServices[b];if(q.serviceLayer===a){e=q;break}}if(!(e&&e.heatMap&&e.heatMap.enabled&&e.heatMap.includeInLegend))return new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.NotFound,null);c=new d.infrastructure.legend.LegendItem(a,this.useThrottledCollections);c.label.set(e.displayName);for(b=0;b<e.layers.length;b++)q=e.layers[b],q.includeInLayerList&&this.populateItemForLayer(c,q,a,null);return c&&c.children&&c.children.length()?
new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.Show,c):new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.Hide,c)};b.prototype.populateItemForLayer=function(a,c,e,b){b=[];a.essLayer=c;var q=e.renderer;if(q&&q instanceof esri.renderer.HeatmapRenderer){var n=q.colors;!n&&q.colorStops&&(n=q.colorStops.map(function(a){a=a.color;return a instanceof dojo.Color?a.toCss(!0):a instanceof
Array?d.infrastructure.ColorUtils.getStringFromList(a):a}));q=n.filter(function(a){return!a.match(/rgba.*,(?= 0\))/g)});for(n=q.length-1;0<=n;n--){var g=String.escapeHtml(q[n]),h=new d.infrastructure.legend.LegendItem(e,this.useThrottledCollections);h.essLayer=c;var l="";0===n?l=this.app.getResource(this.libraryId,"language-legend-heat-maps-low"):n===q.length-1&&(l=this.app.getResource(this.libraryId,"language-legend-heat-maps-high"));h.label.set(l);h.swatchElement="<div class='simple-swatch square' style='background-color: "+
g+"; border-color: "+g+";'></div>";b.push(h)}}a.children.addItems(b);0<a.children.getLength()&&(a.templateType="group")};return b}();g.HeatMapLayerLegendProvider=h})(g.providers||(g.providers={}))})(g.legend||(g.legend={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){(function(g){var h=function(){function b(a,c,e){this.app=a;this.libraryId=c;this._featureLayerProvider=new g.FeatureLayerLegendProvider(this.app,this.libraryId);this.useThrottledCollections=!!e}b.prototype.supportsOffline=function(){return!0};b.prototype.provide=function(a){if(!(a instanceof esri.layers.KMLLayer))return new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.NotFound,
null);for(var c=this.app.site,e,b=0;b<c.essentialsMap.mapServices.length;b++){var q=c.essentialsMap.mapServices[b];q.serviceLayer===a&&(e=q)}a=new d.infrastructure.legend.LegendItem(a,this.useThrottledCollections);e?a.label.set(e.displayName):a.label.set(this.app.getResource(this.libraryId,"language-legend-kml-default-title"));e=e.serviceLayer.getLayers();for(b=0;b<e.length;b++)e[b]instanceof esri.layers.FeatureLayer&&this._featureLayerProvider.populateItemForLayer(a,null,e[b],null);return a&&a.children&&
a.children.length()?new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.Show,a):new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.Hide,a)};return b}();g.KMLLayerLegendProvider=h})(g.providers||(g.providers={}))})(g.legend||(g.legend={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){var m=function(g){function b(a,c){g.call(this,a,c);this._separator=",";this.name="center";this.priority=d.infrastructure.sharing.ExtentLinkPriority.CENTER}__extends(b,g);b.prototype.generate=function(){if(!this.app.map.extent)return"";var a=this.app.map.extent.getCenter();return"{1}{0}{2}".format(this._separator,a.x,a.y)};b.prototype.apply=function(a){var c=this;if(a){var e=a.split(this._separator);if(2<=e.length)if(this.app.site&&this.app.site.serviceLayersLoaded)this._applyCenter(e);
else this.app.event("SiteServiceLayersLoadedEvent").once(this,function(){c._applyCenter(e)});else this.app.trace.warning("Unable to parse the center parameter {0}: expected two comma separated number values.".format(a))}};b.prototype._applyCenter=function(a){for(var c=0;c<a.length;c++)if(isNaN(parseFloat(a[c]))){this.app.trace.warning("Unable to parse the center parameter value '{0}': invalid number value.".format(a[c]));return}c=new esri.geometry.Point(parseFloat(a[0]),parseFloat(a[1]));3<=a.length&&
!isNaN(parseInt(a[2]))?c.spatialReference=new esri.SpatialReference(parseInt(a[2])):this.app.map&&this.app.map.spatialReference&&(c.spatialReference=this.app.map.spatialReference);d.infrastructure.MapUtils.panToPointWithPriority(this.app,c,7,!0)};return b}(d.infrastructure.sharing.SharingLinkProviderBase);g.CenterSharingLinkProvider=m})(g.map||(g.map={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){var m=function(g){function b(a,c){g.call(this,a,c);this._separator=",";this.name="extent";this.priority=d.infrastructure.sharing.ExtentLinkPriority.EXTENT}__extends(b,g);b.prototype.generate=function(){if(!this.app.map.extent)return"";var a=this.app.map.extent;return"{1}{0}{2}{0}{3}{0}{4}".format(this._separator,a.xmin,a.ymin,a.xmax,a.ymax)};b.prototype.apply=function(a){var c=this;if(a){var e=a.split(this._separator);if(4<=e.length)if(this.app.site&&
this.app.site.serviceLayersLoaded)this._applyExtent(e);else this.app.event("SiteServiceLayersLoadedEvent").once(this,function(){c._applyExtent(e)});else this.app.trace.warning("Unable to parse the extent parameter '{0}': expected four comma separated number values.".format(a))}};b.prototype._applyExtent=function(a){for(var c=0;c<a.length;c++)if(isNaN(parseFloat(a[c]))){this.app.trace.warning("Unable to parse the extent parameter value '{0}': invalid number value.".format(a[c]));return}c=new esri.geometry.Extent(parseFloat(a[0]),
parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]),new esri.SpatialReference(4326));5<=a.length&&!isNaN(parseInt(a[4]))?c.setSpatialReference(new esri.SpatialReference(parseInt(a[4]))):this.app.map&&this.app.map.spatialReference&&c.setSpatialReference(this.app.map.spatialReference);d.infrastructure.MapUtils.zoomToExtentWithPriority(this.app,c,7,!0)};return b}(d.infrastructure.sharing.SharingLinkProviderBase);g.ExtentSharingLinkProvider=m})(g.map||(g.map={}))})(d.modules||(d.modules={}))})(d.mapping||
(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){var m=function(g){function b(a,c){g.call(this,a,c);this.name="scale";this.priority=d.infrastructure.sharing.ExtentLinkPriority.SCALE}__extends(b,g);b.prototype.generate=function(){return this.app.map.extent?this.app.map.getScale().toString():""};b.prototype.apply=function(a){var c=this;if(a){var e=parseFloat(a);if(isNaN(e))this.app.trace.warning("Unable to parse the scale parameter {0}: expected a single number value.".format(a));else if(this.app.site&&
this.app.site.serviceLayersLoaded)this.app.site.essentialsMap.extentManager.setScaleWithPriority(e,7);else this.app.event("SiteServiceLayersLoadedEvent").once(this,function(){c.app.site.essentialsMap.extentManager.setScaleWithPriority(e,7)})}};return b}(d.infrastructure.sharing.SharingLinkProviderBase);g.ScaleSharingLinkProvider=m})(g.map||(g.map={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(g){function b(a,c){var e=this;g.call(this,a,c);this._markersLayer=null;this._markerConfigurations=[];this._activeMarkers=[];this._moveable=this._selectedMarker=null;if(this.app.map)this._map=this.app.map;else this.app.eventRegistry.event("MapLoadedEvent").once(this,function(){e._map=e.app.map});this._registerCommandsAndEvents()}__extends(b,g);b.prototype.initialize=function(a){g.prototype.initialize.call(this,a);a.markers&&
(this._markerConfigurations=a.markers)};b.prototype._registerCommandsAndEvents=function(){this.app.command("ShowMarkers").register(this,this._executeShowMarkers);this.app.command("HideMarkers").register(this,this._executeHideMarkers);this.app.command("AddMarker").register(this,this._executeAddMarker);this.app.command("UpdateMarker").register(this,this._executeUpdateMarker);this.app.command("RemoveMarker").register(this,this._executeRemoveMarker)};b.prototype._executeShowMarkers=function(){this._setMarkersVisibility(!0)};
b.prototype._executeHideMarkers=function(){this._setMarkersVisibility(!1)};b.prototype._executeAddMarker=function(a){if("string"===typeof a){var c=d.framework.utils.ArrayUtils.firstOrDefault(this._markerConfigurations,function(c){return c.id===a});c?this._addMarker(c):this.app.trace.warning("Could not find marker with ID '{0}'.".format(a))}else this._addMarker(a)};b.prototype._executeUpdateMarker=function(a){var c=this._getMarkerById(a.id);if(c){if(a.iconUri){if(!a.iconWidth||!a.iconHeight){this.app.trace.warning("Could not update the marker symbol because the required 'iconWidth' and 'iconHeight' was not supplied.");
return}var e=new esri.symbol.PictureMarkerSymbol(a.iconUri,a.iconWidth,a.iconHeight);if(!e){this.app.trace.warning("Could not update the marker symbol. Invalid icon configuration.");return}c.graphic.setSymbol(e)}if(a.symbolJson){e=esri.symbol.fromJson(a.symbolJson);if(!e){this.app.trace.warning("Could not update the marker symbol. Invalid json object.");return}c.graphic.setSymbol(e)}a.center&&this._updateGraphicCenter(c.graphic,a.center);a.geometry&&c.graphic.setGeometry(a.geometry);e=this._getEsriMarkerSymbol(c.graphic);
if(!d.framework.utils.isNullOrUndefined(a.angle)&&e)if(c===this._selectedMarker&&a.angle!=e.angle){var b=this._getGraphicCenter(c.graphic),f=this._moveable.shape,n=f.getTransform(),g=this._calculateRotationMatrix(e.angle,b),n=dojox.gfx.matrix.translate(n.dx-g.dx,n.dy-g.dy),b=this._calculateRotationMatrix(a.angle,b);b.dx+=n.dx;b.dy+=n.dy;e.setAngle(a.angle);f.setTransform(b)}else e.setAngle(a.angle),c.graphic.setSymbol(e);null!=a.visible&&(c.graphic.visible=a.visible);null!=a.draggable&&(c.draggable=
a.draggable);this.app.event("MarkerUpdatedEvent").publish(c.graphic)}else this.app.trace.warning("Could not find marker with ID '{0}'.".format(a.id))};b.prototype._executeRemoveMarker=function(a){var c=this._getMarkerById(a);c?(a=this._getMarkersLayer(),c.graphic&&a.remove(c.graphic),c=this._activeMarkers.indexOf(c),0>c||this._activeMarkers.splice(c,1)):this.app.trace.warning("Could not find marker with ID '{0}'.".format(a))};b.prototype._setMarkersVisibility=function(a){this._getMarkersLayer().setVisibility(a)};
b.prototype._addMarker=function(a){0<this._activeMarkers.filter(function(c){return c.id===a.id}).length&&(this.app.trace.warning("Removing previous marker with ID '{0}'. ".format(a.id)),this._executeRemoveMarker(a.id));var c;if(a.symbolJson)c=esri.symbol.fromJson(a.symbolJson);else if(a.iconUri){if(!a.iconWidth||!a.iconHeight){this.app.trace.warning("Could not create the marker symbol because the required 'iconWidth' and 'iconHeight' was not supplied.");return}c=new esri.symbol.PictureMarkerSymbol(a.iconUri,
a.iconWidth,a.iconHeight)}if(c){var e=a.geometry||a.center;!e||e instanceof esri.geometry.Geometry||(e=esri.geometry.fromJson(e));e||(e=this._map.extent.getCenter());var k={};k[b.MARKER_ATTRIBUTE_ID]=a.id;c=new esri.Graphic(e,c,k);this._getMarkersLayer().add(c);this._activeMarkers.push({id:a.id,draggable:!1===a.draggable?!1:!0,graphic:c})}else this.app.trace.warning("Could not create the marker symbol.")};b.prototype._getGraphicCenter=function(a){return f.infrastructure.GeometryUtils.getMiddle(a.geometry)};
b.prototype._updateGraphicCenter=function(a,c){var e=this._map.toScreen(this._getGraphicCenter(a)),b=this._map.toScreen(c);this._updateGraphicPosition(a,b.x-e.x,b.y-e.y)};b.prototype._updateGraphicPosition=function(a,c,e){if(a)switch(a.geometry.type){case "point":var b=a.geometry,b=this._offsetPoint(b,c,e);a.setGeometry(b);break;case "multipoint":for(var b=a.geometry,d=0;d<b.points.length;d++){var n=b.getPoint(d),n=this._offsetPoint(n,c,e);b.setPoint(d,n)}a.setGeometry(b);break;case "polyline":case "polygon":c=
f.infrastructure.MatrixUtils.translate(a.geometry,this._map,c,e);a.setGeometry(c.geometry);break;case "extent":b=a.geometry,d=b.getCenter(),e=this._offsetPoint(d,c,e),c=e.x-d.x,e=e.y-d.y,b.xmin+=c,b.ymin+=e,b.xmax+=c,b.ymax+=e,a.setGeometry(b)}};b.prototype._offsetPoint=function(a,c,e){a=this._map.toScreen(a);return this._map.toMap(a.offset(c,e))};b.prototype._getMarkersLayer=function(){this._markersLayer||(this._markersLayer=new esri.layers.GraphicsLayer,this._map.addLayer(this._markersLayer),this._attachEventHandlers(this._markersLayer));
return this._markersLayer};b.prototype._attachEventHandlers=function(a){var c=this;dojo.on(a,"click",function(a){c.app.event("MarkerClickedEvent").publish(c._getPointerEventFromAGSMouseEvent(a));"function"===typeof a.preventDefault&&"function"===typeof a.stopPropagation&&(a.preventDefault(),a.stopPropagation())});dojo.on(a,"mouse-down",function(a){var b=c._getPointerEventFromAGSMouseEvent(a);c.app.event("MarkerPointerDownEvent").publish(b);b=c._getMarkerById(b.id);b.draggable&&c._handleMarkerDragStart(b,
a)});dojo.on(a,"mouse-up",function(a){c.app.event("MarkerPointerUpEvent").publish(c._getPointerEventFromAGSMouseEvent(a))})};b.prototype._getPointerEventFromAGSMouseEvent=function(a){var c=a.graphic.attributes[b.MARKER_ATTRIBUTE_ID],e=this._getMarkerById(c);return{id:c,graphic:e.graphic,mapPoint:a.mapPoint,screenPoint:a.screenPoint,button:a.button}};b.prototype._handleMarkerDragStart=function(a,c){var e=this;if(a.draggable){var b=a.graphic.getShape();this._moveable=new dojox.gfx.Moveable(b);this._selectedMarker=
a;this._map.disableMapNavigation();b=this._getGraphicCenter(a.graphic);this._moveable.mover=new dojox.gfx.Mover(this._moveable.shape,c,this._moveable);this._dragOffset={x:c.screenPoint.x-this._moveable.mover.lastX,y:c.screenPoint.y-this._moveable.mover.lastY,initialCenter:b};this._moveable.onMoved=function(a){e._onMoveableMoved(a)};this._moveable.onMoveStop=function(a){e._onMoveableMoveStop(a)};this.app.event("MarkerDragStartEvent").publish({id:a.id,centerPoint:b,mapPoint:c.mapPoint,screenPoint:c.screenPoint})}};
b.prototype._onMoveableMoved=function(a){this.app.event("MarkerDragEvent").publish(this._getDragEventFromMover(a))};b.prototype._onMoveableMoveStop=function(a){var c=this._getDragEventFromMover(a),e=this._getGraphicCenter(this._selectedMarker.graphic),b=this._dragOffset.initialCenter;a=a.shape;var d=a.getTransform(),f=this._getEsriMarkerSymbol(this._selectedMarker.graphic);f&&0!==f.angle?(f=this._calculateRotationMatrix(f.angle,e),d.dx-=f.dx,d.dy-=f.dy,a.setTransform(f)):a.setTransform(null);e.x==
b.x&&e.y==b.y&&this._updateGraphicPosition(this._selectedMarker.graphic,d.dx,d.dy);this.app.event("MarkerDragEndEvent").publish(c);this._map.enableMapNavigation();this._selectedMarker=null;this._moveable.destroy();this._moveable=null};b.prototype._getDragEventFromMover=function(a){var c=this._getGraphicCenter(this._selectedMarker.graphic),e=0,b=0;this._dragOffset&&(e=this._dragOffset.x,b=this._dragOffset.y);a=new esri.geometry.ScreenPoint(a.lastX+e,a.lastY+b);e=this._map.toMap(a);return{id:this._selectedMarker.id,
centerPoint:c,mapPoint:e,screenPoint:a}};b.prototype._getMarkerById=function(a){var c=d.framework.utils.ArrayUtils.firstOrDefault(this._activeMarkers,function(c){return c.id===a});return c?c:(this.app.trace.warning("Could not find marker with ID '{0}'.".format(a)),null)};b.prototype._calculateRotationMatrix=function(a,c){var e=this.app.map.toScreen(c);return dojox.gfx.matrix.rotategAt(a,e.x,e.y)};b.prototype._getEsriMarkerSymbol=function(a){return a.symbol instanceof esri.symbol.MarkerSymbol?a.symbol:
null};b.MARKER_ATTRIBUTE_ID="id";return b}(d.framework.application.ModuleBase);g.MarkersModule=m})(g.markers||(g.markers={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){(function(d){d[d.LINE_SEGMENT=0]="LINE_SEGMENT";d[d.POLYLINE=1]="POLYLINE";d[d.POLYGON=2]="POLYGON"})(g.DescriptorType||(g.DescriptorType={}));var m=function(){function l(b,a,c){this.id="";this.graphicSymbol=this.graphic=this.spatialReference=this.labelStr=this.unitStr=this.lengthUnit=this.length=this.type=this.geometry=null;this.isActive=!0;this.highlightedLabelGraphic=this.feature=null;this.app=c;this.type=b;this.spatialReference=
a}l.prototype.addSegment=function(b){};l.prototype.setMeasurementUnit=function(b,a){};l.prototype.setGeometry=function(b){};l.prototype.addToMap=function(b,a){var c=null;this.isActive&&(a||this.graphic||(this.graphic=new esri.Graphic,this.graphic.geometry=this.geometry,this.graphic.symbol=this.graphicSymbol),c=a?a:this.graphic,c.measurementId=this.id,c=g.MeasurementUtils.addGraphicToLayer(c,b,this.app)?c:null);return c};l.prototype.updateFeature=function(){this.feature||(this.feature=new esri.Graphic,
this.feature.geometry=this._polygonToPolyLine(this.geometry),this.feature.symbol=this.graphicSymbol);this.feature.setAttributes(this._createAttributes())};l.prototype.exportState=function(){return{id:this.id,geometry:this.app.project.convert.fromEsriGeometry(this.geometry),length:this.length,type:this.type,spatialReference:this.app.project.convert.fromEsriSpatialReference(this.spatialReference),graphic:this.app.project.convert.fromEsriGraphic(this.graphic),feature:this.app.project.convert.fromEsriGraphic(this.feature),
label:this.highlightedLabelGraphic?this.highlightedLabelGraphic.exportState(this.app):null}};l.prototype.applyState=function(b){var a=this,c=this.app.project.convert,e={graphic:c.toEsriGraphic(b.graphic),feature:c.toEsriGraphic(b.feature),label:d.infrastructure.highlightedLabel.HighlightedLabelGraphic.fromExportedState(b.label,this.app,g.HighlightedMeasurementLabel.prototype)};return Promise.props(e).then(function(e){a.id=b.id;a.geometry=c.toEsriGeometry(b.geometry);a.length=b.length;a.type=b.type;
a.spatialReference=c.toEsriSpatialReference(b.spatialReference);a.graphic=e.graphic;a.feature=e.feature;a.lengthUnit=g.measurementMarkupManager._lengthUnit;a.unitStr=g.measurementMarkupManager._lengthUnitString;a.highlightedLabelGraphic=e.label})};l.prototype._createAttributes=function(){throw Error("DescriptorBase._createAttributes is abstract and must be overridden in derived classes.");};l.prototype._getResource=function(b){return this.app.getResource(g.measurementMarkupManager.libraryId,b)};l.prototype._polygonToPolyLine=
function(b){if(!b||"polygon"!==b.type)return b;var a=new esri.geometry.Polyline(b.rings);a.setSpatialReference(b.spatialReference);return a};return l}();g.DescriptorBase=m})(g.measurement||(g.measurement={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){function b(){}b.getIdNumber=function(a){a=a||window.event;a=a.currentTarget?a.currentTarget.id:this.getId(a.target||a.srcElement);return parseInt(a.replace(/^\D+/g,""))};b.getId=function(a){return null==a?"":"BUTTON"==a.tagName&&a.id?a.id:this.getId(a.parentNode)};return b}();d.StyleSelectorUtils=f})(d.styleSelector||(d.styleSelector={}))})(d.markup||(d.markup={}))})(d.modules||(d.modules={}))})(d.mapping||
(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){(function(g){var h=function(){function b(a,c,e,b,d){this.app=a;this.libraryId=c;this.layerType=e?e:"";this.offlineSupported=b?b:!1;this.useThrottledCollections=d?d:!1}b.prototype.supportsOffline=function(){return this.offlineSupported};b.prototype.provide=function(a){var c=this;if((null!=a.declaredClass?a.declaredClass:null)!==this.layerType||10.01>Number(a.version)||a.url&&0<=a.url.indexOf("/ImageServer"))return new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.NotFound,
null);for(var e=this.app.site,b="",q=null,n=0;n<e.essentialsMap.mapServices.length;++n){var g=e.essentialsMap.mapServices[n];if(g.serviceLayer===a){q=g;break}}e=null;q&&(e=this._getLegendUrl(q));null==e&&(e=a.url.replace("/MapServer","/MapServer/legend"));var h=new d.infrastructure.legend.LegendItem(a,this.useThrottledCollections),e=esri.request({url:e,content:{f:"json"},handleAs:"json",callbackParamName:"callBack"}),l=new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.Pending,
h);e.then(function(e){c._handleLegendResponse(e,l,h,a,q)},function(a){c._handleLegendError(h,a)});q?b=g.displayName:(g=a.url.lastIndexOf("/"),-1<g&&(b=a.url.substr(g)));h.label.set(b);h.templateType="group";return l};b.prototype._handleLegendResponse=function(a,c,e,b,d){this._populateItemForLayer(a,c,e,b,d)};b.prototype._findGcxLayerForEsriLayer=function(a,c){return a.findLayerById(c.layerId)};b.prototype._populateItemForLayer=function(a,c,e,b,q){if(a){e.isVisible.set(!0);for(var n=0;n<a.layers.length;++n){var g=
a.layers[n],h=null,l=null;if(q)if(h=this._findGcxLayerForEsriLayer(q,g)){if(!h.includeInLegend)continue;l=h.displayName}else continue;var m=new d.infrastructure.legend.LegendItem(b,this.useThrottledCollections);m.label.set(l||g.layerName);m.essLayer=h;for(l=0;l<g.legend.length;++l){var p=g.legend[l],u=String.escapeHtml(p.imageData),r=new d.infrastructure.legend.LegendItem(b,this.useThrottledCollections);r.label.set(p.label?p.label:g.layerName);r.sublayerId=g.layerId;r.essLayer=h;p="data:"+p.contentType+
";base64,"+u;u=this.app.getResource(this.libraryId,"language-legend-icon-alt-text").format(r.label.get());r.swatchElement="<img src='"+p+"' alt='"+u+"' />";m.children.addItem(r)}1===m.children.getLength()?(g=m.children.getAt(0),g.templateType="single-item",g.label.set(m.label.get()),e.children.addItem(g)):1<m.children.getLength()&&(m.templateType="group",e.children.addItem(m))}0<e.children.getLength()&&(e.templateType="group");c.code.set(d.infrastructure.legend.LegendItemProviderResponseCode.Show)}else this.app.trace.warning("Could not fetch legend entry for '{0}'".format(b.url))};
b.prototype._handleLegendError=function(a,c){this.app.trace.warning("Error fetching legend information: "+c.toString());a.isVisible.set(!1)};b.prototype._getLegendUrl=function(a){var c=null;a&&a.serviceLayer&&a.serviceLayer.url&&(c=(c=a.serviceLayer.url.match(/(\/MapServer\/jobs\/[\d\w]+)[\?\/]?/))&&c[1]?c[1]:"/MapServer",c=a.serviceLayer.url.replace(c,c+"/legend"));c&&a.serviceToken&&!/.*token=.*/.test(c)&&(c+=-1<c.indexOf("?")?"&token=":"?token=",c+=encodeURIComponent(a.serviceToken));return c};
return b}();g.ArcGISMapServiceLegendProvider=h})(g.providers||(g.providers={}))})(g.legend||(g.legend={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(b){function a(a,e,k){b.call(this,a,e,"esri.layers.ArcGISTiledMapServiceLayer",!1,!!k)}__extends(a,b);return a}(d.ArcGISMapServiceLegendProvider);d.ArcGISTiledMapServiceLegendProvider=f})(d.providers||(d.providers={}))})(d.legend||(d.legend={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(l){function b(){l.apply(this,arguments);this._calloutMap={};this._calloutViewMap={};this._count=0;this._mapTipHeaderView=this._mapTipContentView=null;this._allowMultiple=!1;this._lockWidth=!0;this._contentField=null;this._isZooming=this._isPanning=!1;this._pendingCommands=[];this._mapTipSuspended=!1;this._nullGeometryStatusMessageEnabled=this._mapTipEnabled=!0;this._nullGeometryStatusMessageArgs=null;this._nullGeometry=
!1}__extends(b,l);b.prototype.initialize=function(a){l.prototype.initialize.call(this,a);if(a&&(!1===a.lockWidth&&(this._lockWidth=a.lockWidth),a.allowMultiple&&(this._allowMultiple=!!a.allowMultiple),a.contentField&&(this._contentField=a.contentField),a.customSearchSuggestions&&this.app.featureSetManager.addSearchSuggestions(a.customSearchSuggestions),null!=a.nullGeometryStatusMessageEnabled&&(this._nullGeometryStatusMessageEnabled=a.nullGeometryStatusMessageEnabled),a.nullGeometryStatusMessageArgs&&
a.nullGeometryStatusMessageEnabled)){var c=this.app.getResource(this.libraryId,"language-map-tip-null-geometry-status-message-text");this._nullGeometryStatusMessageArgs=new f.infrastructure.commandArgs.AddStatusArgs(c);this._nullGeometryStatusMessageArgs.id=this.app.getResource(this.libraryId,"language-map-tip-null-geometry-status-message-view");a.nullGeometryStatusMessageArgs.imageUri&&(this._nullGeometryStatusMessageArgs.imageUri=a.nullGeometryStatusMessageArgs.imageUri);a.nullGeometryStatusMessageArgs.timeoutMS&&
(this._nullGeometryStatusMessageArgs.timeoutMS=a.nullGeometryStatusMessageArgs.timeoutMS)}this.registerCommands();this.subscribeEvents()};b.prototype._canExecuteMapTips=function(){return this._mapTipEnabled&&!this._mapTipSuspended};b.prototype.getStateFilter=function(){return{results:this.app.project.filter.featureSetCollection,currentFeature:this.app.project.filter.feature}};b.prototype.exportState=function(){var a=this;return Promise["try"](function(){var c=a.app.project.convert,e=a.app.viewManager.getViewById("MapTipView"),
b=e.isActive?c.fromGcxFeatureSetCollection(a._currentMapTipFeatureSetCollection):null,c=e.isActive?c.fromGcxFeature(a._currentMapTipFeature):null;return{results:b,currentFeature:c}})};b.prototype.applyState=function(a){var c=this;return Promise.props({results:this.app.project.convert.toGcxFeatureSetCollection(a.results),currentFeature:this.app.project.convert.toGcxFeature(a.currentFeature)}).then(function(a){if(a.results)return c._showMapTipResultsInFixedView(a.results).then(function(){a.currentFeature&&
c._showMapTipInFixedView(a.currentFeature)});if(a.currentFeature)return c._showMapTipInFixedView(a.currentFeature);c._hideAll()})};b.prototype.subscribeEvents=function(){var a=this;this.app.event("MapPanStartedEvent").subscribe(this,function(c,e){a._isPanning=!0});this.app.event("MapPanEndedEvent").subscribe(this,function(c,e){a._isPanning=!1;a._isZooming||a.flushPendingCommands()});this.app.event("MapZoomStartedEvent").subscribe(this,function(){a._isZooming=!0});this.app.event("MapZoomEndedEvent").subscribe(this,
function(){a._isZooming=!1;a._isPanning||a.flushPendingCommands()});this.app.event("MapTipClosedEvent").subscribe(this,function(){a._clearCurrentMapTipFeature();a._currentMapTipFeatureSetCollection=null});this.app.event("ViewDimensionsChangedEvent").subscribe(this,this._onViewDimensionsChangedEvent);this.app.event("FeatureDeletedEvent").subscribe(this,function(c){a._currentMapTipFeature&&c&&f.infrastructure.MapUtils.esriFeaturesEqual(a._currentMapTipFeature.esriFeature.get(),c)&&a.app.command("DeactivateView").execute("MapTipView")});
this.app.event("Internal.ResetCalloutPosition").subscribe(this,function(c){(c=a._calloutMap[c])&&c.fixPositionDelayed&&c.fixPositionDelayed()})};b.prototype.presentFeature=function(a){if(a&&this.configuration&&this.configuration.webMapFeaturePresenter)if(this.app.allLibrariesLoaded){var c=this.configuration.webMapFeaturePresenter;if(c.view&&c.viewModel){var e=c.view,b=c.viewModel,q=a instanceof f.infrastructure.Feature?a:new d.essentialsHtmlViewer.mapping.infrastructure.Feature(a),n=this.app.viewManager.createView({typeName:e.type,
markupResource:e.markup,isVisible:!0,libraryId:e.libraryId});"object"==typeof e.configuration&&(n.configuration=e.configuration);e=this.app.instantiateFrameworkObject(b.type,b.libraryId);e.id=b.viewModelId||d.framework.utils.alphaNumericToken();e.initialize(b.configuration||{});c=c.featurePropertyName||"currentFeature";e[c]&&(e[c].set(q),n.attach(e),n.title.sync(e.title),c=this.getMapTipCalloutId(),this._allowMultiple&&(c+=q.layer.id),a=a.mapPoint,!a&&q.esriFeature.get()&&(a=d.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.getMiddle(q.esriFeature.get().geometry)),
q=new f.infrastructure.commandArgs.ShowMapElementArgs(c,a,n),q.destroyContentView=!0,this.app.command("ShowMapCallout").execute(q))}}else this.app.trace.warning("Aborting map tip because not all libraries are loaded.")};b.prototype.flushPendingCommands=function(){for(var a=0;a<this._pendingCommands.length;a++){var c=this._pendingCommands[a];this.app.command(c.commandName).execute(c.commandArgs)}this._pendingCommands.length=0};b.prototype.registerCommands=function(){var a=this;this.app.command("SuspendMapTips").register(this,
function(){a._mapTipSuspended=!0});this.app.command("ResumeMapTips").register(this,function(){a._mapTipSuspended=!1});this.app.command("InvokeMapTip").register(this,this._onInvokeMapTip,this._canExecuteMapTips);this.app.command("ShowMapTip").register(this,this._onShowMapTip,this._canExecuteMapTips);this.app.command("ShowMapTipInCallout").register(this,this._onShowMapTipInCallout,this._canExecuteMapTips);this.app.command("ShowMapTipResults").register(this,this._onShowMapTipResults,this._canExecuteMapTips);
this.app.command("ShowMapTipResultsInCallout").register(this,this._onShowMapTipResultsInCallout,this._canExecuteMapTips);this.app.command("ShowMapCallout").register(this,this._onShowMapCallout);this.app.command("ShowMapElement").register(this,this._onShowMapElement);this.app.command("HideMapElement").register(this,this._onHideMapElement);this.app.command("FixMapElementPosition").register(this,this._onFixMapElementPosition);this.app.command("DisableMapTips").register(this,this._executeDisableMapTips);
this.app.command("EnableMapTips").register(this,this._executeEnableMapTips);this.app.command("HideAllMapTips").register(this,this._executeHideAllMapTips);this.app.command("RestoreAllMapTips").register(this,this._executeRestoreAllMapTips);this.app.command("HideMapTips").register(this,this._executeHideMapTips);this.app.command("ShowMapTips").register(this,this._executeShowMapTips)};b.prototype._onInvokeMapTip=function(a){this.app.command("Identify").execute({geometry:a,source:"MapTip",delayFSCOpen:!0,
layerRestriction:function(a){return a.showMapTips}})};b.prototype._onShowMapTip=function(a){this._showMapTip(a,"ShowMapTip")};b.prototype._onShowMapTipInCallout=function(a){this._showMapTip(a,"ShowMapTipInCallout")};b.prototype._showMapTip=function(a,c){if(a)if(a&&(this.configuration.webMapFeaturePresenter&&this.configuration.webMapFeaturePresenter.force||a.useFeaturePresenter))this.presentFeature(a);else if("string"===typeof a)"ShowMapTipInCallout"===c?this.app.command("ShowMapTipResultsInCallout").execute(a):
this.app.command("ShowMapTipResults").execute(a);else if(!this.tryQueueCommand(c,a))if(a.length&&0<a.length&&a[0]&&(a=a[0]),!a||a&&a.layer&&!a.layer.showMapTips)this.app.command("DeactivateView").execute("MapTipView");else{var e=d.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.getMiddle(a.esriFeature.get().geometry);null==e&&(e=this.app.map.extent.getCenter(),this._nullGeometry=!0);"ShowMapTipInCallout"===c?this._showMapTipInCallout(a,e):this._showMapTipInFixedView(a);this._nullGeometry&&
this._nullGeometryStatusMessageArgs&&this._nullGeometryMessage();this._nullGeometry=!1}};b.prototype._showMapTipInCallout=function(a,c){(null==this._mapTipContentView||this._allowMultiple)&&this.createMapTipViews();this._mapTipContentView.viewModel.currentFeature.set(a);this._mapTipHeaderView.viewModel.hasMultipleFeatures.set(!1);var e=this.getMapTipCalloutId();this.showMapTipInCallout(e,c,0)};b.prototype._showMapTipInFixedView=function(a){var c=this;return a?this.app.waitUntilViewInitialized("MapTipView").then(function(e){c.app.viewManager.activateView(e);
if(a!=c._currentMapTipFeature){e.viewModel.contentField=c._contentField;e.viewModel.currentFeature.set(a);for(var b=!1,d=0;d<e.viewModel.features.length();d++)if(e.viewModel.features.getAt(d)===a){b=!0;break}b||(e.viewModel.features.clear(),c._currentMapTipFeatureBindingToken&&e.viewModel.currentFeature.unbind(c._currentMapTipFeatureBindingToken),c._setCurrentMapTipFeature(a))}}):Promise.resolve()};b.prototype._onShowMapTipResults=function(a){this._showMapTipResults(a,"ShowMapTipResults")};b.prototype._onShowMapTipResultsInCallout=
function(a){this._showMapTipResults(a,"ShowMapTipResultsInCallout")};b.prototype._showMapTipResults=function(a,c){if("object"===typeof a&&a instanceof f.infrastructure.Feature)this.app.command("ShowMapTip").execute(a);else if(!this.tryQueueCommand(c,a)){var e=this.app.featureSetManager.getCollectionById(a);if("ShowMapTipResultsInCallout"===c){var b=d.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.getMiddle(e.tag);if(null==b){b=e.firstFeature();if(null==b){var q;q=e.featureSets.bind(this,
function(a){this.tryRerunShowMapTipResults(a,e,q)});return}b=d.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.getMiddle(b.esriFeature.get().geometry);if(null==b){b=this.app.getResource(this.libraryId,"language-identify-no-geometry-for-map-tip-results");this.app.command("Alert").execute(b);this.app.trace.error(b);return}}this._showMapTipResultsInCallout(e,b)}else this._showMapTipResultsInFixedView(e)}};b.prototype._showMapTipResultsInFixedView=function(a){var c=this;return this.app.waitUntilViewInitialized("MapTipView").then(function(e){c._currentMapTipFeatureSetCollection=
a;c.app.viewManager.activateView(e);c.app.project.isLoading||c.app.command("RemovePushpins").execute();e.viewModel.contentField=c._contentField;c._currentMapTipFeatureBindingToken&&e.viewModel.currentFeature.unbind(c._currentMapTipFeatureBindingToken);e.viewModel.setFeatureSetCollection(a);c._setCurrentMapTipFeature(e.viewModel.currentFeature.get());c._currentMapTipFeatureBindingToken=e.viewModel.currentFeature.bind(c,function(a){c._currentMapTipFeature!==a&&c._setCurrentMapTipFeature(a)})})};b.prototype._showMapTipResultsInCallout=
function(a,c){(null==this._mapTipContentView||this._allowMultiple)&&this.createMapTipViews();this._mapTipContentView.setFeatureSetCollection(a);var e=this.getMapTipCalloutId();this.showMapTipInCallout(e,c,1E3)};b.prototype._onShowMapCallout=function(a){var c=this;if(!this.tryQueueCommand("ShowMapCallout",a)){var e;this._calloutViewMap.hasOwnProperty(a.elementID)?e=this._calloutViewMap[a.elementID]:(e=this.createView("MapCalloutView"),this._calloutViewMap[a.elementID]=e,dojo.addClass(e.root,"map-callout-wrapper"));
a.title?e.titleContent.set(a.getTitleNode()):a.contentIsView()&&a.content.title?e.titleContent.syncTransform(a.content.title,function(a){return c._toHtmlElement(a)}):e.titleContent=new Observable(null);e.innerContent.set(a.getNode());e.titleView=a.titleIsView()?a.title:null;e.innerContentView=a.contentIsView()?a.content:null;e.buildTree();e.pulseAll();var b=new f.infrastructure.commandArgs.ShowMapElementArgs(a.elementID,a.mapPoint,e);b.delay=a.delay;e.destroyContentView=a.destroyContentView;this.app.command("ShowMapElement").execute(b)}};
b.prototype._onShowMapElement=function(a){if(!this.tryQueueCommand("ShowMapElement",a)){var c;this._calloutMap[a.elementID]?(c=this._calloutMap[a.elementID],c.getNode()==a.getNode()?c.show(a.mapPoint,a.delay):null!=a.getNode()?(c.attachToMap(a.elementID,a.getNode(),this.app.map,a.mapPoint,a.delay,a.contentIsView()?a.content:null),this._calloutMap[a.elementID]=c):c.doDelayedShow()):(c=new d.essentialsHtmlViewer.mapping.modules.maptips.MapCallout(this.app),c.lockWidth=this._lockWidth,c.attachToMap(a.elementID,
a.getNode(),this.app.map,a.mapPoint,a.delay,a.contentIsView()?a.content:null),this._calloutMap[a.elementID]=c);a.contentIsView()&&(a.content.attached_calloutID=c.id)}};b.prototype._onHideMapElement=function(a){this.tryQueueCommand("HideMapElement",a)||(this._calloutMap[a]&&(this._calloutMap[a].destroy(),delete this._calloutMap[a]),this._calloutViewMap[a]&&(this.app.viewManager.destroyView(this._calloutViewMap[a]),delete this._calloutViewMap[a]))};b.prototype._onFixMapElementPosition=function(a){!this.tryQueueCommand("FixMapElementPosition",
a)&&this._calloutMap[a]&&(this._calloutMap[a].notifyContentChanged(),this._calloutMap[a].fixPosition())};b.prototype._onViewDimensionsChangedEvent=function(a){(a=a.view.attached_calloutID)&&this._calloutMap[a]&&(this.app.command("FixMapElementPosition").execute(a),a=new f.infrastructure.commandArgs.ShowMapElementArgs(a),this.app.command("ShowMapElement").execute(a))};b.prototype._executeDisableMapTips=function(){this._destroyAll();this._mapTipEnabled=!1};b.prototype._executeEnableMapTips=function(){this._mapTipEnabled=
!0;this._mapTipSuspended=!1};b.prototype._executeHideAllMapTips=function(){this._hideAll()};b.prototype._executeRestoreAllMapTips=function(){this._showAll()};b.prototype._executeHideMapTips=function(){this._hideAll();this.app.command("SuspendMapTips").execute()};b.prototype._executeShowMapTips=function(){this._showAll();this.app.command("ResumeMapTips").execute()};b.prototype._hideAll=function(){for(var a in this._calloutMap)a&&this._calloutMap.hasOwnProperty(a)&&this._calloutMap[a]&&this._calloutMap[a].hide();
this.app.command("DeactivateView").execute("MapTipView")};b.prototype._showAll=function(){for(var a in this._calloutMap)if(a&&this._calloutMap.hasOwnProperty(a)&&this._calloutMap[a]){var c=this._calloutMap[a];c.show(c.getMapPoint())}this.app.command("ActivateView").execute("MapTipView")};b.prototype._destroyAll=function(){var a=this,c=[],e;for(e in this._calloutMap)e&&this._calloutMap.hasOwnProperty(e)&&c.push(e);dojo.forEach(c,function(c){a.app.command("HideMapElement").execute(c)})};b.prototype._toHtmlElement=
function(a){if(a){if(a instanceof d.framework.ui.ViewBase)return a.root;if(a.nodeName)return a;if("string"===typeof a){var c=document.createElement("div");this.app.configuration.allowUnsafeContent||(a=String.escapeHtmlEncode(a));c.innerHTML=(new f.infrastructure.FilterUtils.UnsafeHtml(a)).safeHtml;return c}}else return null};b.prototype._nullGeometryMessage=function(){this.app.command("RemoveStatus").execute(this._nullGeometryStatusMessageArgs.id);this.app.command("AddStatus").execute(this._nullGeometryStatusMessageArgs);
this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-map-tip-null-geometry-status-message-text"))};b.prototype._clearCurrentMapTipFeature=function(){this._currentMapTipFeature&&this._currentMapTipFeature.esriFeature.get()&&this._currentMapTipFeature.esriFeature.get().geometry&&!this.app.project.isLoading&&("point"==this._currentMapTipFeature.esriFeature.get().geometry.type?(this.app.command("ClearHighlights").execute(),this.app.command("RemovePushpin").execute(this._currentMapTipFeature)):
this.app.command("ClearHighlights").execute());this._currentMapTipFeature=null};b.prototype._setCurrentMapTipFeature=function(a){a!=this._currentMapTipFeature&&(this._clearCurrentMapTipFeature(),(this._currentMapTipFeature=a)&&a.esriFeature.get()&&a.esriFeature.get().geometry&&!this.app.project.isLoading&&("point"==a.esriFeature.get().geometry.type?(this.app.command("EnablePushpins").execute(),this.app.command("ShowPushpins").execute(),this.app.command("AddPushpin").execute(a)):this.app.command("HighlightFeature").execute(a)),
this.app.project.isLoading||this.app.behavior("MapTipFeatureChangedBehavior").run(a))};b.prototype._onCurrentMapCalloutFeatureChanged=function(a){a&&this._mapTipContentView&&(this.app.command("ClearHighlights").execute(),this.app.command("HighlightFeature").execute(a),this.app.project.isLoading||this.app.behavior("MapCalloutFeatureChangedBehavior").run(a))};b.prototype.createMapTipViews=function(){this._mapTipContentView=this.createView("MapTipContent");this._mapTipHeaderView=this.createView("MapTipHeaderView");
var a=new g.MapTipContentViewModel(this.app,this.libraryId);a.initialize({});a.contentField=this._contentField;this._mapTipContentView.attach(a);this._mapTipHeaderView.attach(a);this._mapTipContentView.viewModel.currentFeature.bind(this,this._onCurrentMapCalloutFeatureChanged)};b.prototype.getMapTipCalloutId=function(){var a="MapTipResultsCallout";this._allowMultiple?a+=this._count++:this.app.command("HideMapElement").execute(a);return a};b.prototype.showMapTipInCallout=function(a,c,e){c=new f.infrastructure.commandArgs.ShowMapElementArgs(a,
c,this._mapTipContentView,this._mapTipHeaderView);c.delay=e;this.app.command("ShowMapCallout").execute(c);this._mapTipContentView.viewModel.containerView=this._calloutViewMap[a];this._mapTipContentView.viewModel.calloutID=a};b.prototype.tryQueueCommand=function(a,c){return this._isPanning||this._isZooming?(this._pendingCommands.push({commandName:a,commandArgs:c}),!0):!1};b.prototype.tryRerunShowMapTipResults=function(a,c,e){c.featureSets.unbind(e);this.app.command("ShowMapTipResults").execute(c.id)};
b.prototype.createView=function(a,c){return this.app.viewManager.createView({viewId:c,typeName:"geocortex.essentialsHtmlViewer.mapping.modules.maptips."+a,markupResource:this.libraryId+"/modules/MapTips/"+a+".html",isVisible:!0,libraryId:this.libraryId})};return b}(d.framework.application.ModuleBase);g.MapTipsModule=m})(g.maptips||(g.maptips={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(d){function b(){d.apply(this,arguments);this._descriptionChangedToken=this._currentFeatureChangedToken=this._view=this._featureChangedSubscriptionToken=null}__extends(b,d);b.prototype.attach=function(a){var c=this;d.prototype.attach.call(this,a);this._featureChangedSubscriptionToken&&this.app.event("FeatureChangedEvent").unsubscribe(this._featureChangedSubscriptionToken);this._featureChangedSubscriptionToken=this.app.event("FeatureChangedEvent").subscribe(this,
this.handleFeatureChanged);this._currentFeatureChangedToken&&a.currentFeature.unbind(this._currentFeatureChangedToken);this._currentFeatureChangedToken=a.currentFeature.bind(this,function(a){c._currentFeature&&c._descriptionChangedToken&&c._currentFeature.description.unbind(c._descriptionChangedToken);if(c._currentFeature=a)c._descriptionChangedToken=a.description.bind(c,function(b){c.handleFeatureChanged(a)})});this.viewModel.currentFeature.pulse()};b.prototype.destroy=function(){d.prototype.destroy.call(this);
this._featureChangedSubscriptionToken&&(this.app.event("FeatureChangedEvent").unsubscribe(this._featureChangedSubscriptionToken),this._featureChangedSubscriptionToken=null);this._currentFeature&&this._descriptionChangedToken&&this._currentFeature.description.unbind(this._descriptionChangedToken);this.viewModel&&this._currentFeatureChangedToken&&this.viewModel.currentFeature.unbind(this._currentFeatureChangedToken)};b.prototype.resolveWidget=function(a,c,e){var b=this;d.prototype.resolveWidget.call(this,
a,c);if(c)switch(a){case "GetDescription":return a=new f.infrastructure.FeatureDescriptionPresenterView(this.app,this.libraryId),a.app=this.app,a.libraryId=this.libraryId,a.contentField=this.viewModel.contentField,a.root=dojo.create("div"),a.root.className="feature-description",a.root.setAttribute("tabindex","0"),a.attach(c).then(function(){return b.resetCalloutPosition()}),this.viewModel.showNoResults.set(!1),this.viewModel.showLoading.set(!1),this._view=a,a.handleImgLoad=function(a){return b.resetCalloutPosition()},
this.resetCalloutPosition(),a;case "MapTipActionsWidget":return c=this.app.menuRegistry.createMenuWidget(this,c,e),this.resetCalloutPosition(),c;default:return null}};b.prototype.setFeatureSetCollection=function(a){this.viewModel&&this.viewModel.setFeatureSetCollection(a)};b.prototype.resetCalloutPosition=function(){void 0!=this.viewModel.calloutID&&this.app.event("Internal.ResetCalloutPosition").publish(this.viewModel.calloutID)};b.prototype.handleFeatureChanged=function(a){var c=this;if(a&&this.viewModel.currentFeature.get()&&
this.viewModel.currentFeature.get().token===a.token){var e=this._view;e.destroyBindings();e.attach(a).then(function(){c.resetCalloutPosition()})}};return b}(d.framework.ui.ViewBase);g.MapTipContent=m})(g.maptips||(g.maptips={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.innerContent=new Observable(null);this.titleContent=new Observable(null);this.destroyContentView=!1}__extends(b,d);b.prototype.activated=function(){this.innerContentView&&(this.innerContentView.isActive=!0,this.innerContentView.activated());this.titleView&&(this.titleView.isActive=!0,this.titleView.activated())};b.prototype.deactivated=function(){this.innerContentView&&(this.innerContentView.isActive=
!1,this.innerContentView.deactivated());this.titleView&&(this.titleView.isActive=!1,this.titleView.deactivated())};b.prototype.destroy=function(){d.prototype.destroy.call(this);this.innerContentView&&this.destroyContentView&&this.innerContentView.destroy();this.titleView&&this.destroyContentView&&this.titleView.destroy()};b.prototype.handleClose=function(a,c,e){dojo.style(this.root,"display","none");(a=this.attached_calloutID)&&this.app.command("HideMapElement").execute(a);this.app.event("MapCalloutClosedEvent").publish(a)};
return b}(d.framework.ui.ViewBase);f.MapCalloutView=g})(f.maptips||(f.maptips={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){function d(b){this.position=this.id=null;this.lockWidth=!0;this._lastScreenPointY=this._lastScreenPointX=0;this._mapPoint=this._map=this._node=null;this._isVisible=!1;this._connections=[];this._lastUpdateTime=null;this._makeVisibleAfterDelay=!1;this.app=b}d.prototype.attachToMap=function(b,a,c,e,k,d){void 0===d&&(d=null);this.destroy();this.id=b;this._map=c;this._node=a;this._nodeView=d;this._mapPoint=e;this._isVisible=
!1;dojo.style(a,{position:"absolute",left:"0px",bottom:"0px",display:"none"});dojo.place(a,dojo.byId("map_root"));this.show(e,k)};d.prototype.show=function(b,a){a||(a=0);this._mapPoint=b;this._isVisible=!0;0<a?(this._makeVisibleAfterDelay=!0,setTimeout(dojo.hitch(this,this.doDelayedShow),a)):(dojo.style(this._node,"width","auto"),this._mapPoint=b,this._makeVisibleAfterDelay=!1,this._doResetPosition(),this._disconnectEventHandlers(),this._subscribeToMapEvent("onPanStart",this._onPanStart),this._subscribeToMapEvent("onPanEnd",
this._onPanEnd),this._subscribeToMapEvent("onPan",this._onPan),this._subscribeToMapEvent("onZoomStart",this._onZoomStart),this._subscribeToMapEvent("onZoomEnd",this._onZoomEnd),this.notifyContentChanged(),this._nodeView&&(this._nodeView.isActive=!0,this._nodeView.activated()))};d.prototype.doDelayedShow=function(){this._makeVisibleAfterDelay&&this.show(this._mapPoint)};d.prototype.hide=function(){this._makeNotVisible();this._disconnectEventHandlers();this._makeVisibleAfterDelay=this._isVisible=!1;
this._nodeView&&(this._nodeView.isActive=!1,this._nodeView.deactivated())};d.prototype._disconnectEventHandlers=function(){for(var b=0;b<this._connections.length;b++)dojo.disconnect(this._connections[b]);this._connections.length=0};d.prototype._makeNotVisible=function(){null!=this._node&&dojo.style(this._node,"display","none")};d.prototype._makeVisible=function(){null!=this._node&&dojo.style(this._node,"display","block")};d.prototype.destroy=function(){this.hide();this._node&&this._node.parentNode&&
this._node.parentNode.removeChild(this._node)};d.prototype.getNode=function(){return this._node};d.prototype.getMapPoint=function(){return this._mapPoint};d.prototype._subscribeToMapEvent=function(b,a){this._connections.push(dojo.connect(this._map,b,this,a))};d.prototype._onPanStart=function(b,a){this._setPositionByMapPoint(this._mapPoint);this._lastUpdateTime=(new Date).getTime()};d.prototype._onPan=function(b,a){0<=this._getEllapsedMilliseconds()&&(void 0===this._node.style.WebkitTransform?this._setPositionByScreenPoint(this._lastScreenPointX+
a.x,this._lastScreenPointY+a.y):this._node.style.WebkitTransform="translate({0}px, {1}px)".format(a.x,a.y),this._lastUpdateTime=(new Date).getTime())};d.prototype._onPanEnd=function(b,a){if(this._map.wrapAround180&&b.spatialReference._isWrappable()){if(b.spatialReference._isWebMercator()){for(;111319.4917*this._mapPoint.x+111319.4917<b.xmin;)this._mapPoint.x+=360;for(;111319.4917*this._mapPoint.x-111319.4917>b.xmax;)this._mapPoint.x-=360}else if(4326==b.spatialReference.wkid){for(;this._mapPoint.x<
b.xmin;)this._mapPoint.x+=360;for(;this._mapPoint.x>b.xmax;)this._mapPoint.x-=360}this._setPositionByMapPoint(this._mapPoint)}};d.prototype._getEllapsedMilliseconds=function(){null==this._lastUpdateTime&&(this._lastUpdateTime=(new Date).getTime());return(new Date).getTime()-this._lastUpdateTime};d.prototype.fixPosition=function(){this._isVisible&&this._doResetPosition()};d.prototype.fixPositionDelayed=function(b){var a=this;void 0===b&&(b=0);this._isVisible&&(this._makeNotVisible(),setTimeout(function(){a._doResetPosition()},
b))};d.prototype.notifyContentChanged=function(){var b=this;$(this._node).find("img").each(function(){this.complete||this.naturalWidth||(this.attached_calloutConnection&&(dojo.disconnect(this.attached_calloutConnection),delete this.attached_calloutConnection),Object.prototype.hasOwnProperty.call(this,"attached_originalDisplayValue")||(this.attached_originalDisplayValue=dojo.style(this,"display")),dojo.style(this,"display","none"),this.attached_calloutConnection=dojo.connect(this,"load",b,function(a){this._contentLoaded(a)}))})};
d.prototype._contentLoaded=function(b){this._isVisible&&(b=b.target,dojo.style(b,"display",b.attached_originalDisplayValue),b.attached_calloutConnection&&(dojo.disconnect(b.attached_calloutConnection),delete b.attached_calloutConnection),this._doResetPosition())};d.prototype._doResetPosition=function(){var b=dojo.style(this._node,"opacity");dojo.style(this._node,"opacity",0);this._makeVisible();0>=dojo.position(this._node).w||(dojo.style(this._node,"width","auto"),this._setPositionByMapPoint(this._mapPoint,
this.lockWidth));dojo.style(this._node,"opacity",b)};d.prototype._setPositionByMapPoint=function(b,a){var c=this._map.toScreen(b),e=dojo.position(this._node);e&&c&&(this.position&&0===e.w&&0===e.h?(this._lastScreenPointX=c.x-this.position.w/2,this._lastScreenPointY=c.y):(this._lastScreenPointX=c.x-e.w/2,this._lastScreenPointY=c.y,this.position=e),a&&dojo.style(this._node,"width",e.w+3+"px"),this._setPositionByScreenPoint(this._lastScreenPointX,this._lastScreenPointY))};d.prototype._setPositionByScreenPoint=
function(b,a){a=this._map&&this._map.height?this._map.height-a:a;void 0!==this._node.style.WebkitTransform&&(this._node.style.WebkitTransform="translate(0px, 0px)");dojo.style(this._node,{left:b+"px",bottom:a+"px"})};d.prototype._onZoomStart=function(b,a,c,e){this._makeNotVisible()};d.prototype._onZoomEnd=function(b,a,c,e){this._isVisible&&(this._makeVisible(),this._setPositionByMapPoint(this._mapPoint))};return d}();d.MapCallout=f})(d.maptips||(d.maptips={}))})(d.modules||(d.modules={}))})(d.mapping||
(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.attach=function(){this.app.event("ViewActivatedEvent").subscribe(this,this._activateMapHost);this.app.event("ViewDeactivatedEvent").subscribe(this,this._deactivateMapHost)};b.prototype._activateMapHost=function(a){"MapView"==a.id&&(this.app.command("ActivateView").execute(this.id),this.app.command("MapResize").execute())};b.prototype._deactivateMapHost=
function(a){"MapView"==a.id&&this.app.command("DeactivateView").execute(this.id)};return b}(d.framework.ui.ViewBase);f.MapHostView=g})(f.map||(f.map={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=f.infrastructure.PromiseUtils,l=function(b){function a(a,e){b.call(this,a,e);this._subscribedToMapEvents=!1;this._config=null;this._isAndroid3plus=this._isAndroid=!1;this._shownProjectError=null;this._showMapOnZoom=!0;this._showMapOnPan=!1;this._mapExtentLog=null;this._maxLogEntries=100;this._executeMapClickCommands=!0;this._mapClickTimerHandles=[];this._mapCoordinatesControllers=[];this._coordModelType="geocortex.essentialsHtmlViewer.mapping.infrastructure.coordinates.CoordinatesModel";
this._recenterRetryIntervalMs=100;this._postCenterFixupDelay=1E3;this.registerCommands();this._shownProjectError=!1;this.app.event("SiteInitializedEvent").subscribe(this,this._handleSiteInitialized);this.app.event("LayerUpdateStartedEvent").subscribe(this,this._handleLayerUpdateStart);this.app.event("LayerUpdateEndedEvent").subscribe(this,this._handleLayerUpdateEnd);this.app.event("LayerAddedEvent").subscribe(this,this._handleLayerAdded);this.app.event("LayerRemovedEvent").subscribe(this,this._handleLayerRemoved);
this._isAndroid3plus=this._androidSieve(navigator.userAgent,3);this._isAndroid=$(document.documentElement).hasClass("dj_android")}__extends(a,b);a.prototype.initialize=function(a){b.prototype.initialize.call(this,a);a||(a={});a&&a.menus&&this.app.menuRegistry.loadMenus(a);a.hasOwnProperty("showLoadingStatus")||(a.showLoadingStatus=!0);a.hasOwnProperty("loadingMessageTiming")&&a.loadingMessageTiming.length||(a.loadingMessageTiming=[1E3,3E3,3E3]);a.hasOwnProperty("defaultPointFeatureZoomScales")&&a.defaultPointFeatureZoomScales.length||
(a.defaultPointFeatureZoomScales=[]);if(a.hasOwnProperty("panDuration")){var e=parseInt(a.panDuration);isNaN(e)||(esri.config.defaults.map.panDuration=e)}a.hasOwnProperty("panRate")&&(e=parseInt(a.panRate),isNaN(e)||(esri.config.defaults.map.panRate=e));a.hasOwnProperty("zoomDuration")&&(e=parseInt(a.zoomDuration),isNaN(e)||(esri.config.defaults.map.zoomDuration=e));a.hasOwnProperty("zoomRate")&&(e=parseInt(a.zoomRate),isNaN(e)||(esri.config.defaults.map.zoomRate=e));this._initializeCoordinateModels();
a.tools&&this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,!0);a.hasOwnProperty("showMapOnZoom")&&(this._showMapOnZoom=a.showMapOnZoom);a.hasOwnProperty("showMapOnPan")&&(this._showMapOnPan=a.showMapOnPan);a.hasOwnProperty("maxExtentLogSize")&&(this._maxLogEntries=isNaN(parseInt(a.maxExtentLogSize,10))?this._maxLogEntries:parseInt(a.maxExtentLogSize,10));this._config=a;this._mapExtentLog=new d.essentialsHtmlViewer.mapping.modules.map.MapExtentLog(this.app,this.libraryId,this._maxLogEntries);
this.app.event("MapLoadedEvent").subscribe(this,this.subscribeToMapEvents);dojo.subscribe("FeatureClickedEvent",this,this.featureClickHandler);dojo.subscribe("geoRssLayerLoaded",this,this._onGeoRssLayerLoaded)};a.prototype.registerCommands=function(){this.app.command("ZoomToLayerVisibleScale").register(this,this._executeZoomToVisibleScale);this.app.command("ZoomToLayerExtent").register(this,this._executeZoomToLayerExtent);this.app.command("PanToAllFeatures").register(this,this._executePanToAllFeatures);
this.app.command("PanToFeature").register(this,this._executePanToFeature,function(a){return a&&a.esriFeature&&a.esriFeature.get()&&a.esriFeature.get().geometry});this.app.command("PanToFeatureIfOutsideMapExtent").register(this,this._executePanToFeatureIfOutsideMapExtent,function(a){return a&&a.esriFeature&&a.esriFeature.get()&&a.esriFeature.get().geometry});this.app.command("PanToPoint").register(this,this._executePanToPoint);this.app.command("Project").register(this,this._executeProject);this.app.command("RecenterMapOnNextMapResize").register(this,
this._executeRecenterMapOnNextMapResize);this.app.command("ZoomOutToExtent").register(this,this._executeZoomOutToExtent);this.app.command("ZoomToFeatures").register(this,this._executeZoomToFeatures);this.app.command("ZoomToAllFeatures").register(this,this._executeZoomToAllFeatures);this.app.command("ZoomToExtent").register(this,this._executeZoomToExtent);this.app.command("ZoomToFeature").register(this,this._executeZoomToFeature,this._canExecuteZoomToFeature);this.app.command("ZoomToFeatureIfOutsideMapExtent").register(this,
this._executeZoomToFeatureIfOutsideMapExtent,this._canExecuteZoomToFeature);this.app.command("ZoomToScale").register(this,this._executeZoomToScale);this.app.command("ZoomToNamedExtent").register(this,this._executeZoomToNamedExtent);this.app.command("ZoomToOfflineMapExtent").register(this,this._executeZoomToOfflineMapExtent);this.app.command("PanUp").register(this,this._executePanUp);this.app.command("PanDown").register(this,this._executePanDown);this.app.command("PanLeft").register(this,this._executePanLeft);
this.app.command("PanRight").register(this,this._executePanRight);this.app.command("SetTimeExtent").register(this,this._executeSetTimeExtent);this.app.command("EnableMapClick").register(this,this._executeEnableMapClick);this.app.command("DisableMapClick").register(this,this._executeDisableMapClick);this.app.command("EnableMapOnNextClick").register(this,this._enableMapNextClick)};a.prototype.getStateFilter=function(){return{serviceLayers:{item:this.app.project.filter.serviceLayer},graphicsLayers:{item:this.app.project.filter.operationalLayer}}};
a.prototype.exportState=function(){var a=this;return Promise["try"](function(){var e=f.infrastructure.ArrayUtils.mapWithErrorCallback(a.app.site.essentialsMap.mapServices,function(e){return a.app.project.convert.fromGcxMapService(e)},function(e,b){a.app.trace.warning('Unable to save map service "{0}" to project: {1}'.format(e.displayName,b))}),b=f.infrastructure.GraphicUtils.getUserGraphicsLayers(a.app),b=b.filter(function(a){return"Drawings_coordinates"!==a.id}),b=f.infrastructure.ArrayUtils.mapWithErrorCallback(b,
function(e){return a.app.project.convert.fromEsriLayer(e)},function(e,b){a.app.trace.warning('Unable to save graphics layer "{0}" to project: {1}'.format(e.id,b))});return{serviceLayers:e,graphicsLayers:b}})};a.prototype.applyState=function(a){var e=this;return Promise["try"](function(){e.app.site.essentialsMap.mapServices.filter(function(a){return a.isUserCreated}).forEach(function(a){e.app.site.essentialsMap.removeMapService(a)});["Drawings","Drawings_measurement"].forEach(function(a){(a=f.infrastructure.GraphicUtils.getGraphicsLayer(a,
!1,e.app))&&a.clear()});e.app.event("MarkupClearedEvent").publish();var b=e.app.project.convert,d=m.mapSkipRejected(a.serviceLayers,function(a){return m.warnOnReject(b.toGcxMapService(a),e.app,'Unable to restore map service "{0}": {{0}}'.format(a.id))})["return"](),n=m.mapSkipRejected(a.graphicsLayers,function(a){return m.warnOnReject(b.toEsriLayer(a),e.app,'Unable to restore graphics layer "{0}": {{0}}'.format(a.id))})["return"]();return Promise.join(d,n).then(function(){e._fixGraphicsLayersOrder();
e.app.command("ClearMarkup").raiseCanExecuteChanged();e.app.command("ClearMarkupQuiet").raiseCanExecuteChanged();e.app.command("EditMarkup").raiseCanExecuteChanged();e.app.command("DeleteMarkup").raiseCanExecuteChanged()})})};a.prototype._fixGraphicsLayersOrder=function(){var a=this,e=["Drawings","Drawings_measurement","Drawings_coordinates"].filter(function(e){return 0<=a.app.map.graphicsLayerIds.indexOf(e)});if(e.length){var b=Math.min.apply(null,e.map(function(e){return a.app.map.graphicsLayerIds.indexOf(e)}));
e.forEach(function(e,d){var f=a.app.map.getLayer(e);a.app.map.reorderLayer(f,d+b)})}};a.prototype._androidSieve=function(a,e){var b=a.match(/Android (\d+(?:\.\d+)+)/);return null!==b&&parseFloat(b[1])>=e?!0:!1};a.prototype._executeEnableMapClick=function(){this._executeMapClickCommands=!0};a.prototype._executeDisableMapClick=function(){this._executeMapClickCommands=!1;$(document.body).off("mousedown.nextClick touchstart.nextClick")};a.prototype._enableMapNextClick=function(){var a=this;$(document.body).off("mousedown.nextClick touchstart.nextClick");
if(this._isAndroid)setTimeout(function(){$(document.body).one("mousedown.nextClick touchstart.nextClick",function(){return a.app.command("EnableMapClick").execute()})},100);else $(document.body).one("mousedown.nextClick touchstart.nextClick",function(){return a.app.command("EnableMapClick").execute()})};a.prototype._executeRecenterMapOnNextMapResize=function(){var a=this;this._previousCenter=this.app.map.extent.getCenter();if(!this._recenterRetryTimerHandler){var e=this.app.map,b=0;e.layerIds.map(function(a){return e.getLayer(a)}).filter(function(a){return a.updating}).map(function(a){return++b});
if(0<b||this.app.map.updating)this.app.trace.debug("RecenterMapOnNextResize: Map updating, deferring recenter..."),this._recenterRetryTimerHandler=setTimeout(function(){a._recenterRetryTimerHandler=null;a._executeRecenterMapOnNextMapResize()},this._recenterRetryIntervalMs);else{var d=function(){setTimeout(function(){a.app.site.essentialsMap.extentManager.centerAtWithPriority(a._previousCenter,4)},0)};d();if(this.app.map&&this.app.map.extent)var f=dojo.connect(this.app.map,"onResize",function(){a._previousCenter&&
(dojo.disconnect(f),dojo.disconnect(g),dojo.disconnect(h),dojo.disconnect(l),d())}),g=dojo.connect(this.app.map,"onExtentChange",function(e,b,k,d){a._previousCenter=e.getCenter()}),h=dojo.connect(this.app.map,"onPanStart",function(){a._previousCenter=null}),l=dojo.connect(this.app.map,"onPanEnd",function(e,b){a._previousCenter=e.getCenter()})}}};a.prototype._executeZoomOutToExtent=function(a){var e=this,b=function(a){var c=null;if(a&&0<a.length){c=a[0];e.app.command("ShowMap").execute();var b=2;a=
2;0<c.getWidth()&&(b=e.app.map.extent.getWidth()/c.getWidth());0<c.getHeight()&&(a=e.app.map.extent.getHeight()/c.getHeight());b*=e.app.map.extent.getWidth();a*=e.app.map.extent.getHeight();c=new esri.geometry.Extent(c.getCenter().x-b/2,c.getCenter().y-a/2,c.getCenter().x+b/2,c.getCenter().y+a/2,c.spatialReference);e.app.site.essentialsMap.extentManager.setExtentWithPriority(c,5)}};a&&a.isInstanceOf(esri.geometry.Extent)&&(!a.spatialReference&&this.app.map.spatialReference?(a.spatialReference=this.app.map.spatialReference,
b([a])):(a=new d.essentialsHtmlViewer.mapping.infrastructure.commandArgs.ProjectArgs([a],b,function(a){e.app.trace.warning("ZoomOutToExtent: "+a.message)}),this.app.command("Project").execute(a)))};a.prototype._executeZoomToExtent=function(a){d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(this.app,a,10,this._showMapOnZoom)};a.prototype._executePanToPoint=function(a){d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.panToPointWithPriority(this.app,a,9,this._showMapOnPan)};
a.prototype._executeProject=function(a){var e=this;if(a&&a instanceof d.essentialsHtmlViewer.mapping.infrastructure.commandArgs.ProjectArgs)if(0<a.geometries.length&&!d.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.needsProjection(a.geometries[0],this.app)){var b=a.callback,f=a.errback;a.callback&&dojo.isFunction(b)?b(a.geometries):f&&dojo.isFunction(f)&&f(Error("callback function required."))}else{var f=function(b){e.app.command("Alert").execute(e.app.getResource(e.libraryId,"language-map-operation-project-failed"));
e.app.trace.warning(b);a.errback&&a.errback(b)},b=void 0!==esri.tasks.ProjectParameters?new esri.tasks.ProjectParameters:{};b.geometries=a.geometries;b.outSR=a.outputSpatialReference?a.outputSpatialReference:this.app.map.spatialReference;b.transformation=a.transformation;d.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.project(b,a.callback,f,this.app)}};a.prototype._executeZoomToVisibleScale=function(a){if(a){var e=1,b=null,f=this.app.map;if(this.app.site.essentialsMap){var n=this.app.site.essentialsMap.calculateScale();
!n||0>=n||(a.withinScaleRange(n)?b=null:n<a.maxScale?b=this._getClosestLODScale("greaterThan",a.maxScale)+1:n>a.minScale&&(b=this._getClosestLODScale("lessThan",a.minScale)-1),b&&(e=b/n),1===e?this.app.command("ShowMap").execute():(a=f.extent.getCenter(),d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(this.app,f.extent.expand(e).centerAt(a),8,this._showMapOnZoom)))}}};a.prototype._getClosestLODScale=function(a,e){var b=this.app.map,b=b.__tileInfo&&b.__tileInfo.lods;
if(!b||!b.length)return e;for(var d=0,f=0;f<b.length;f++){if(b[f].scale===e)return e;if("lessThan"===a){if(e<b[f].scale)continue}else if(b[f].scale>e){d=b[f].scale;continue}return"lessThan"===a?b[f].scale:d}};a.prototype._executeZoomToLayerExtent=function(a){a&&a.fullExtent&&d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(this.app,a.fullExtent,8,this._showMapOnZoom)};a.prototype._executeZoomToNamedExtent=function(a){var e=this;a?this.app.doWhenMapInitialized(function(){var b=
e.app.site.namedExtents.filter(function(e){return e.displayName.toLowerCase().trim()===a.toLowerCase().trim()});(b=b.length?b[0]:null)?d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(e.app,b.extent,8,e._showMapOnZoom):e.app.trace.error("Error ZoomToNamedExtent: could not find extent '{0}'.".format(a))}):this.app.trace.error("Error ZoomToNamedExtent: extent name was null.")};a.prototype._executeZoomToOfflineMapExtent=function(){var a=this;this.app.doWhenMapInitialized(function(){var e=
a.app.offlineManager.getActiveOfflineMap();e?(e=(new esri.geometry.Polygon(e.content.geometry)).getExtent(),f.infrastructure.MapUtils.zoomToExtentWithPriority(a.app,e,8,a._showMapOnZoom)):a.app.trace.warning("ZoomToOfflineMapExtent: no active offline map.")})};a.prototype._executePanToFeature=function(a){a&&a instanceof d.essentialsHtmlViewer.mapping.infrastructure.Feature?(a=a.esriFeature.get())&&a.geometry?this.app.command("PanToPoint").execute(a.geometry):this.app.trace.warning("Error PanToFeature: No geometry."):
this.app.trace.error("Error PanToFeature: not a feature.")};a.prototype._executePanToFeatureIfOutsideMapExtent=function(a){if(a&&a instanceof d.essentialsHtmlViewer.mapping.infrastructure.Feature){var e=a.esriFeature.get();e&&e.geometry?this.app&&this.app.map?this.app.map.extent.intersects(e.geometry)&&!this._isObscuredByMapTipView(e.geometry)||this.app.command("PanToFeature").execute(a):this.app.trace.error("Error ZoomToFeature: No access to the Esri map."):this.app.trace.warning("Error PanToFeatureIfOutsideMapExtent: No geometry.")}else this.app.trace.error("Error PanToFeatureIfOutsideMapExtent: not a feature.")};
a.prototype._executePanToAllFeatures=function(a){if(a&&dojo.isArray(a))if(1==a.length)this.app.command("PanToFeature").execute(a[0]);else{for(var e=null,b=0;b<a.length;b++){var f=a[b];f&&f instanceof d.essentialsHtmlViewer.mapping.infrastructure.Feature&&(f=f.esriFeature.get())&&f.geometry&&(f=d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.getExtent(f.geometry),e=null==e?f:e.union(f))}e&&d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.panToPointWithPriority(this.app,e,8,this._showMapOnPan)}};
a.prototype._executeZoomToFeatures=function(a){a&&a instanceof d.essentialsHtmlViewer.mapping.infrastructure.FeatureSet&&this._executeZoomToAllFeatures(a.features.getItems())};a.prototype._executeZoomToAllFeatures=function(a){if(a&&dojo.isArray(a))if(1==a.length)this._executeZoomToFeature(a[0]);else{for(var e=null,b=0;b<a.length;b++){var f=a[b];f&&f instanceof d.essentialsHtmlViewer.mapping.infrastructure.Feature&&(f=f.esriFeature.get())&&f.geometry&&(f=d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.getExtent(f.geometry),
e=null==e?f:e.union(f))}e&&(0==e.getWidth()&&0==e.getHeight()?d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.panToPointWithPriority(this.app,e.getCenter(),8,this._showMapOnPan):(e=e.expand(1.5),d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(this.app,e,8,this._showMapOnZoom)))}};a.prototype._executeZoomToFeature=function(a){var e=this;if(a&&a instanceof d.essentialsHtmlViewer.mapping.infrastructure.Feature)if(this.app&&this.app.map){var b;if(a.zoomExtent.get())d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(this.app,
a.zoomExtent.get(),8,this._showMapOnZoom);else if(a.esriFeature.get()&&a.esriFeature.get().geometry){var f=a.esriFeature.get().geometry;if(b=a.zoomScale.get()){var n=null;n="point"==f.type?f:(f=f.getExtent())?f.getCenter():null;var f=this.app.map.spatialReference.wkid?esri.geometry.getScale(this.app.map.extent,this.app.map.width,this.app.map.spatialReference.wkid):esri.geometry.getScale(this.app.map.extent,this.app.map.width,this.app.map.spatialReference.wkt),g=b/f;b=new d.essentialsHtmlViewer.mapping.infrastructure.commandArgs.ProjectArgs([n],
function(a){var c=null;a&&0<a.length&&(c=a[0]);c&&d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(e.app,e.app.map.extent.centerAt(c).expand(g),8,e._showMapOnZoom)},function(a){})}else"point"==f.type?b=new d.essentialsHtmlViewer.mapping.infrastructure.commandArgs.ProjectArgs([f],function(b){var k=null;b&&0<b.length&&(k=b[0]);k&&(b=e.app.map.extent.centerAt(k),k=e._pickDefaultZoomScaleForPointFeature(a),isNaN(k)&&(k=e.app.map.spatialReference.wkid?esri.geometry.getScale(b,
e.app.map.width,e.app.map.spatialReference.wkid):esri.geometry.getScale(b,e.app.map.width,e.app.map.spatialReference.wkt)),b=esri.geometry.getExtentForScale(e.app.map,a.calculateScaleToMakeVisible(k)).centerAt(b.getCenter()),d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(e.app,b,8,e._showMapOnZoom))},function(a){}):((b=a.zoomFactor.get())||(b=1.5),(f=f.getExtent())&&(f=d.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.fixAspectRatio(f.expand(b),this.app.map.extent)),
b=new d.essentialsHtmlViewer.mapping.infrastructure.commandArgs.ProjectArgs([f],function(b){var k=null;b&&0<b.length&&(k=b[0]);k&&(b=e.app.map.spatialReference.wkid?esri.geometry.getScale(k,e.app.map.width,e.app.map.spatialReference.wkid):esri.geometry.getScale(k,e.app.map.width,e.app.map.spatialReference.wkt),a.withinScaleRange(b)||(b=a.calculateScaleToMakeVisible(b),k=esri.geometry.getExtentForScale(e.app.map,b).centerAt(k.getCenter())),d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(e.app,
k,8,e._showMapOnZoom))},function(a){}));this.app.command("Project").execute(b)}else this.app.trace.warning("Error ZoomToFeature: No geometry.")}else this.app.trace.error("Error ZoomToFeature: No access to the Esri map.");else this.app.trace.error("Error ZoomToFeature: No feature provided.")};a.prototype._executeZoomToFeatureIfOutsideMapExtent=function(a){if(a&&a instanceof d.essentialsHtmlViewer.mapping.infrastructure.Feature)if(this.app&&this.app.map){if(this.app.map.extent){var e;if(a.zoomExtent.get())e=
a.zoomExtent.get();else if(a.esriFeature.get()&&a.esriFeature.get().geometry)e=a.esriFeature.get().geometry;else{this.app.trace.warning("Error ZoomToFeatureIfOutsideMapExtent: No geometry.");return}if(this.app.map.extent.intersects(e)&&!this._isObscuredByMapTipView(e))return}this.app.command("ZoomToFeature").execute(a)}else this.app.trace.error("Error ZoomToFeature: No access to the Esri map.");else this.app.trace.error("Error ZoomToFeatureIfOutsideMapExtent: No feature provided.")};a.prototype._canExecuteZoomToFeature=
function(a){if(a&&a.esriFeature&&a.esriFeature.get()&&a.esriFeature.get().geometry){if(this.app.isOffline.get()){var e=this.app.map.spatialReference;return(a=a.esriFeature.get().geometry.spatialReference)?e.equals(a)||e.isWebMercator()&&4326===a.wkid||a.isWebMercator()&&4326===e.wkid:e.equals(a)}return!0}return!1};a.prototype._isObscuredByMapTipView=function(a){if(!a)return!1;var e=this.app.viewManager.getViewById("MapTipView");if(!e||!e.root)return!1;var b=e.root.getBoundingClientRect(),e=this.app.map.toMap(new esri.geometry.ScreenPoint(b.left-
this.app.map.position.x,b.bottom-this.app.map.position.y)),b=this.app.map.toMap(new esri.geometry.ScreenPoint(b.right-this.app.map.position.x,b.top-this.app.map.position.y));return(new esri.geometry.Extent(e.x,e.y,b.x,b.y,this.app.map.spatialReference)).contains(f.infrastructure.MapUtils.getExtent(a))};a.prototype.calculateScaleToMakeVisible=function(a){return null};a.prototype._executeZoomToScale=function(a){a&&this.app&&this.app.site&&this.app.site.essentialsMap&&this.app.site.essentialsMap.extentManager.setScaleWithPriority(a,
6)};a.prototype._executePanUp=function(c){if(c){var e=this.app.map.extent;c=this._calculateVerticalPanAmount(c);e=new esri.geometry.Extent(e.xmin,e.ymin+c,e.xmax,e.ymax+c,e.spatialReference);this.app.site.essentialsMap.extentManager.setExtentWithPriority(e,a.extentChangePriority)}else this.app.site.essentialsMap.extentManager.changeExtentWithPriority(function(a){return a.panUp()},a.extentChangePriority)};a.prototype._executePanDown=function(c){if(c){var e=this.app.map.extent;c=this._calculateVerticalPanAmount(c);
e=new esri.geometry.Extent(e.xmin,e.ymin-c,e.xmax,e.ymax-c,e.spatialReference);this.app.site.essentialsMap.extentManager.setExtentWithPriority(e,a.extentChangePriority)}else this.app.site.essentialsMap.extentManager.changeExtentWithPriority(function(a){return a.panDown()},a.extentChangePriority)};a.prototype._executePanLeft=function(c){if(c){var e=this.app.map.extent;c=this._calculateHorizontalPanAmount(c);e=new esri.geometry.Extent(e.xmin-c,e.ymin,e.xmax-c,e.ymax,e.spatialReference);this.app.site.essentialsMap.extentManager.setExtentWithPriority(e,
a.extentChangePriority)}else this.app.site.essentialsMap.extentManager.changeExtentWithPriority(function(a){return a.panLeft()},a.extentChangePriority)};a.prototype._executePanRight=function(c){if(c){var e=this.app.map.extent;c=this._calculateHorizontalPanAmount(c);e=new esri.geometry.Extent(e.xmin+c,e.ymin,e.xmax+c,e.ymax,e.spatialReference);this.app.site.essentialsMap.extentManager.setExtentWithPriority(e,a.extentChangePriority)}else this.app.site.essentialsMap.extentManager.changeExtentWithPriority(function(a){return a.panRight()},
a.extentChangePriority)};a.prototype._calculateHorizontalPanAmount=function(a){return this.app.map&&this.app.map.extent?this.app.map.extent.getWidth()*a:0};a.prototype._calculateVerticalPanAmount=function(a){return this.app.map&&this.app.map.extent?this.app.map.extent.getHeight()*a:0};a.prototype._executeSetTimeExtent=function(a){this.app.map&&this.app.map.setTimeExtent(a)};a.prototype._pickDefaultZoomScaleForPointFeature=function(a){if(a=a.layer)for(var e=0;e<this._config.defaultPointFeatureZoomScales.length;e++){var b=
this._config.defaultPointFeatureZoomScales[e];if(a.withinScaleRange(b))return b}else if(0<this._config.defaultPointFeatureZoomScales.length)return this._config.defaultPointFeatureZoomScales[0];return NaN};a.prototype._pointToExtent=function(a){var e=5*(this.app.map.extent.getWidth()/this.app.map.width);return new esri.geometry.Extent(a.x-e,a.y-e,a.x+e,a.y+e,this.app.map.spatialReference)};a.prototype.featureClickHandler=function(a){a&&this.app.behavior("MapOnFeatureClickBehavior").run(a)};a.prototype.subscribeToMapEvents=
function(){var a=this,e=this,b=!1,d=0,f=null,g=null,h=function(e){if(b)return b=!1;if(!a._executeMapClickCommands)return!1;var h=(new Date).getTime();a._isAndroid3plus?300>=h-d&&f&&50>Math.abs(f.x-e.screenPoint.x)&&50>Math.abs(f.y-e.screenPoint.y)?clearTimeout(g):g=setTimeout(function(){a._executeMapClickCommands&&a.app.behavior("MapOnClickBehavior").run(e.mapPoint)},300):a.app.behavior("MapOnClickBehavior").run(e.mapPoint);d=h;f=e.screenPoint},l=null,m=function(a){null!=l&&(clearTimeout(l),l=null)},
p=function(e){m(e);b=!1;l=setTimeout(function(){l=null;b=!0;esri.MapNavigationManager?esri.MapNavigationManager.prototype._panEnd?a.app.map.navigationManager?a.app.map.navigationManager._panHandle&&esri.MapNavigationManager.prototype._panEnd.call(a.app.map.navigationManager):a.app.trace.warning("Can't prevent panning: missing map.navigationManager."):a.app.trace.warning("Can't prevent panning: missing esri.MapNavigationManager._panEnd"):a.app.trace.warning("Can't prevent panning: missing esri.MapNavigationManager.");
e.preventDefault();if(!(700>Date.now()-d)&&e.touches&&0<e.touches.length){var f=e.touches[0],n=$(a.app.map.root).offset(),f=new esri.geometry.ScreenPoint(Math.floor(f.pageX)-n.left,Math.floor(f.pageY)-n.top),f=a.app.map.toMap(f);d=Date.now();a.app.behavior("MapOnLongClickBehavior").run(f)}},a._config.longClickMilliseconds||500)},u=function(e){e.preventDefault();if(!(Modernizr.touch&&700>Date.now()-d)){var b=$(a.app.map.root).offset();e=new esri.geometry.ScreenPoint({x:e.pageX-b.left,y:e.pageY-b.top});
e=a.app.map.toMap(e);d=Date.now();a.app.behavior("MapOnContextMenuBehavior").run(e)}},r=[],t=function(){dojo.forEach(r,dojo.disconnect);r.length=0;Modernizr.touch&&(a.app.map.root.removeEventListener("touchstart",p,!1),a.app.map.root.removeEventListener("touchend",m,!1),a.app.map.root.removeEventListener("touchcancel",m,!1),a.app.map.root.removeEventListener("touchleave",m,!1),a.app.map.root.removeEventListener("touchmove",m,!1))},w=function(){t();var e=a.app.behaviorRegistry.behaviors.MapOnClickBehavior;
e&&0<e.commands.length&&r.push(dojo.connect(a.app.map,"onClick",h));(e=a.app.behaviorRegistry.behaviors.MapOnLongClickBehavior)&&0<e.commands.length&&(r.push(dojo.connect(a.app.map,"onMouseDown",p)),r.push(dojo.connect(a.app.map,"onMouseUp",m)),r.push(dojo.connect(a.app.map,"onMouseDrag",m)),r.push(dojo.connect(a.app.map,"onPanStart",m)),r.push(dojo.connect(a.app.map,"onZoomStart",m)),Modernizr.touch&&(a.app.map.root.addEventListener("touchstart",p,!1),a.app.map.root.addEventListener("touchend",m,
!1),a.app.map.root.addEventListener("touchcancel",m,!1),a.app.map.root.addEventListener("touchleave",m,!1),a.app.map.root.addEventListener("touchmove",m,!1)));(e=a.app.behaviorRegistry.behaviors.MapOnContextMenuBehavior)&&0<e.commands.length&&a.app.map.root.addEventListener("contextmenu",u,!1)};w();this.app.event("GraphicDrawActivatedEvent").subscribe(this,function(){0!==a._mapClickTimerHandles.length&&(a._mapClickTimerHandles.forEach(function(a){clearTimeout(a)}),a._mapClickTimerHandles=[]);t()});
this.app.event("GraphicDrawDeactivatedEvent").subscribe(this,function(){a._isAndroid?a._mapClickTimerHandles.push(setTimeout(w,950)):w()});var B=esri.toolbars.Draw.prototype.activate;esri.toolbars.Draw.prototype.activate=function(){if(!this.__attached_isActive)if(B.apply(this,arguments),this.__attached_isActive=!0,this.__attached_stopEvent)delete this.__attached_stopEvent;else{var a=arguments[0];e.app.event("GraphicDrawActivatedEvent").publish({sender:this,geometryType:a})}};var z=esri.toolbars.Draw.prototype.deactivate;
esri.toolbars.Draw.prototype.deactivate=function(){this.__attached_isActive&&(this.__attached_stopEvent?delete this.__attached_stopEvent:e.app.event("GraphicDrawDeactivatedEvent").publish({sender:this,geometryType:null}),z.apply(this,arguments),this.__attached_isActive=!1)};this.app.event("GraphicEditActivatedEvent").subscribe(this,t);this.app.event("GraphicEditDeactivatedEvent").subscribe(this,w);if("undefined"!==typeof esri.toolbars.Edit){var C=0,D=null,F=esri.toolbars.Edit.prototype.activate;esri.toolbars.Edit.prototype.activate=
function(){if(!this.__attached_isActive)if(F.apply(this,arguments),this.__attached_isActive=!0,this.__attached_stopEvent)delete this.__attached_stopEvent;else{C=arguments[0];D=arguments[1];var a={tool:C,graphic:D,sender:this};e.app.event("GraphicEditActivatedEvent").publish(a)}};var H=esri.toolbars.Edit.prototype.deactivate;esri.toolbars.Edit.prototype.deactivate=function(){if(this.__attached_isActive){if(this.__attached_stopEvent)delete this.__attached_stopEvent;else{var a={tool:C,graphic:D,sender:this};
C=0;D=null;e.app.event("GraphicEditDeactivatedEvent").publish(a)}H.apply(this,arguments);this.__attached_isActive=!1}}}};a.prototype._onGeoRssLayerLoaded=function(a){a&&a.esriLayer&&dojo.connect(a.esriLayer,"onClick",this,function(a){dojo.stopEvent(a);a=new d.essentialsHtmlViewer.mapping.infrastructure.Feature({graphic:a.graphic,allowUnsafeContent:this.app.configuration.allowUnsafeContent});a.descriptionFormat.set("{content}");a.labelFormat.set("{title}");this.app.command("ShowMapTip").execute(a)})};
a.prototype._handleSiteInitialized=function(a){a&&a.isInitialized?this._previousCenter=this.app.map.extent.getCenter():this.app.trace.error("Error processing MapModule._handleSiteInitialized. - site was not initialized.")};a.prototype._handleLayerUpdateStart=function(a,e){if(e){e.attached_isLoading=!0;e.attached_timers||(e.attached_timers=[]);var b=setTimeout(dojo.hitch(this,function(){if(!(1>this._config.loadingMessageTiming.length)&&this._config.showLoadingStatus&&e.attached_isLoading){var b=this.app.getResource(this.libraryId,
"language-map-loading-stage1").format(e.displayName),k=new d.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(b);k.id=a.id+"LoadingStatus";k.showBusyIcon=!0;this.app.command("AddStatus").execute(k);2>this._config.loadingMessageTiming.length||(b=setTimeout(dojo.hitch(this,function(){if(e.attached_isLoading){var a=this.app.viewManager.getViewById(k.id);a&&a.viewModel&&a.viewModel.text.set(this.app.getResource(this.libraryId,"language-map-loading-stage2").format(e.displayName));
3>this._config.loadingMessageTiming.length||(a=setTimeout(dojo.hitch(this,function(){if(e.attached_isLoading){var a=this.app.viewManager.getViewById(k.id);a&&a.viewModel&&a.viewModel.text.set(this.app.getResource(this.libraryId,"language-map-loading-stage3").format(e.displayName))}}),this._config.loadingMessageTiming[2]),e.attached_timers.push(a))}}),this._config.loadingMessageTiming[1]),e.attached_timers.push(b))}}),this._config.loadingMessageTiming[0]);e.attached_timers.push(b)}};a.prototype._handleLayerUpdateEnd=
function(a,e){if(e){if(e.attached_timers){for(var b=0;b<e.attached_timers.length;b++)clearTimeout(e.attached_timers[b]);e.attached_timers.length=0}e.attached_isLoading=!1;b=a.id+"LoadingStatus";this.app.command("RemoveStatus").execute(b)}};a.prototype._handleLayerAdded=function(a,e){};a.prototype._handleLayerRemoved=function(a){a=a.id+"LoadingStatus";this.app.command("RemoveStatus").execute(a)};a.prototype._initializeCoordinateModels=function(){var a=this,e=this.id.split("-").pop(),b=this.app.configModel.moduleConfigs.filter(function(a){return a.moduleName===
e})[0];b&&b.viewModelConfigs.length&&b.viewModelConfigs.forEach(function(e){var b=e.viewModelId;e.typeName===a._coordModelType&&a._mapCoordinatesControllers.push(new g.MapCoordinatesController(a.app,a.libraryId,b))})};a.extentChangePriority=6;return a}(d.framework.application.ModuleBase);g.MapModule=l})(g.map||(g.map={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,c){f.call(this,a,c);this._zoomedExtent=null;this.showMap=new Observable(!0);this.showError=new Observable(!1);this.showAuthError=new Observable(!1);this.showCriticalServicesError=new Observable(!1);this.siteFailed=new Observable(!1);this.temporaryMarkupSymbol=this.temporaryGraphicsLayer=null;this.stepZoomFactor=0.5;this.registerCommands()}__extends(b,f);b.prototype.initialize=function(a){f.prototype.initialize.call(this,
a);a&&a.hasOwnProperty("stepZoomFactor")&&(a=parseFloat(a.stepZoomFactor),this.stepZoomFactor=!isNaN(a)&&0<a?a:0.5);this.temporaryMarkupSymbol=new esri.symbol.SimpleMarkerSymbol(esri.symbol.SimpleMarkerSymbol.STYLE_DIAMOND,20,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color([0,0,0]),1),new esri.Color([255,255,0,0.5]));this.app.event("SiteInitializationFailedEvent").subscribe(this,function(a){this.showMap.set(!1);this.showError.set(!0)});this.app.event("SiteAuthorizationFailedEvent").subscribe(this,
function(a){this.showMap.set(!1);this.showAuthError.set(!0)});this.app.event("SiteServiceLayersFailedEvent").subscribe(this,function(a){dojo.some(a,function(a){return a.failureAction===d.essentials.FailureAction.ERROR})&&(this.showMap.set(!1),this.showCriticalServicesError.set(!0))});this.app.event("UserSignInCancelledEvent").subscribe(this,function(a){this.showMap.set(!1);this.showAuthError.set(!0)});this.app.event("MapLoadedEvent").subscribe(this,this._subscribeToMapEvents)};b.prototype.registerCommands=
function(){var a=this;this.app.command("AddTemporaryMarkupGeometry").register(this,function(a){this.temporaryGraphicsLayer||(this.temporaryGraphicsLayer=new esri.layers.GraphicsLayer({id:"TemporaryMarkup"}),this.app.map.addLayer(this.temporaryGraphicsLayer));if(a){var e=null;switch(a.type){case "polygon":case "extent":e=new esri.symbol.SimpleFillSymbol(esri.symbol.SimpleFillSymbol.STYLE_SOLID,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color([255,51,51,0.8]),
2),new esri.Color([255,51,51,0.5]));break;case "polyline":e=new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color([204,51,51,0.8]),2);break;default:e=new esri.symbol.SimpleMarkerSymbol(esri.symbol.SimpleMarkerSymbol.STYLE_CIRCLE,14,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color([0,0,0]),1),new esri.Color([204,51,51]))}this.temporaryGraphicsLayer.add(new esri.Graphic(a,e))}});this.app.command("ClearTemporaryMarkup").register(this,
function(){a.temporaryGraphicsLayer&&a.temporaryGraphicsLayer.clear()});this.app.command("AddMapService").register(this,this._executeAddMapService);this.app.command("RemoveMapService").register(this,this._executeRemoveMapService,this._canExecuteRemoveMapService);this.app.command("RemoveUserAddedLayer").register(this,this._executeRemoveUserAddedLayer,this._canExecuteRemoveUserAddedLayer);this.app.command("ZoomToInitialExtent").register(this,function(){setTimeout(function(){null!=a.app.map&&(null!==
a.app.site&&a.app.site.isInitialized&&null!==a.app.site.essentialsMap?a.app.site.essentialsMap.isInitialized&&null!==a.app.site.essentialsMap.initialExtent?a.app.site.essentialsMap.extentManager.setExtentWithPriority(a.app.site.essentialsMap.initialExtent,8):a.app.trace.warning("Could not zoom to initial extent - Map was not initialized or has no initial extent."):a.app.trace.warning("Could not zoom to initial extent - Site was null or uninitialized."))},1)});this.app.command("ZoomToFullExtent").register(this,
function(){setTimeout(function(){null!=a.app.map&&(null!==a.app.site&&a.app.site.isInitialized&&null!==a.app.site.essentialsMap?a.app.site.essentialsMap.isInitialized&&null!==a.app.site.essentialsMap.fullExtent?a.app.site.essentialsMap.extentManager.setExtentWithPriority(a.app.site.essentialsMap.fullExtent,8):a.app.trace.warning("Could not zoom to full extent - Map was not initialized or has no full extent."):a.app.trace.warning("Could not zoom to full extent - Site was null or uninitialized."))},
1)});this.app.command("StepZoomIn").register(this,this._executeStepZoomIn);this.app.command("StepZoomOut").register(this,this._executeStepZoomOut)};b.prototype._executeAddMapService=function(a){this.app.site.essentialsMap.addMapService(a)};b.prototype._canExecuteRemoveMapService=function(a){return this.app.site&&this.app.site.essentialsMap&&this.app.site.essentialsMap.mapServices&&this.app.site.essentialsMap.mapServices.some(function(c){return c.isUserCreated&&c.serviceLayer==a.serviceLayer})?!0:
!1};b.prototype._executeRemoveMapService=function(a){a.catalogId?this.app.command("RemoveLayerCatalogItem").execute(a):this.app.site.essentialsMap.removeMapService(a)};b.prototype._executeRemoveUserAddedLayer=function(a){a.catalogId?this.app.command("RemoveLayerCatalogItem").execute(a):this.app.site.essentialsMap.removeMapService(a.mapService);(a=this.app.viewManager.getViewById("LayerActionsView"))&&this.app.viewManager.deactivateView(a)};b.prototype._canExecuteRemoveUserAddedLayer=function(a){if(!a||
!a.isUserCreated)return!1;if(a.catalogId)return this._canRemoveCatalogLayer(a);a=a.mapService;return a.mapServiceType==d.essentials.MapServiceType.FEATURE||a.drawingBehavior==d.essentials.DrawingBehavior.FEATURE_LAYER?!0:!1};b.prototype._canRemoveCatalogLayer=function(a){return a&&a.isUserCreated&&0<a.mapService.layers.length&&!String.isNullOrEmpty(a.catalogId)};b.prototype._executeStepZoomOut=function(){this.app.command("ShowMap").execute();this._zoomedExtent=d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.stepZoomWithPriority(this.app.site,
this.stepZoomFactor,this._zoomedExtent,5)};b.prototype._executeStepZoomIn=function(){this.app.command("ShowMap").execute();this._zoomedExtent=d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.stepZoomWithPriority(this.app.site,1/this.stepZoomFactor,this._zoomedExtent,5)};b.prototype._subscribeToMapEvents=function(){dojo.connect(this.app.map,"onPanEnd",this,function(){this._zoomedExtent=null});dojo.connect(this.app.map,"onZoomEnd",this,function(){this._zoomedExtent=null})};return b}(d.framework.ui.ViewModelBase);
f.MapViewModel=g})(f.map||(f.map={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(g){function b(a,c){g.call(this,a,c);this.resizeTimer=this.hoverTimer=this.active=null;this.resizeDelay=200;this.initialized=this.firstResize=!1;this.maxScale=this.minScale=this.extentBroadcastFrequency=this.extentEpoch=null;this._layerEventsLookup={};this._mapHoverSubscriberCount=0;this._mapHoverTimeout=500;this._enableMapClickEvent=!0;this._coordChannelId="defaultMapCoordinates";this.app.event("ViewActivatedEvent").subscribe(this,
this._updateBingLogoPosition);this.app.event("ViewDeactivatedEvent").subscribe(this,this._updateBingLogoPosition);this.app.event("RegionActivatedEvent").subscribe(this,this._updateBingLogoPosition);this.app.event("RegionDeactivatedEvent").subscribe(this,this._updateBingLogoPosition);this.app.command("ActivateMapContextMenu").register(this,this._activateMapContextMenu)}__extends(b,g);b.prototype.removed=function(){null!=this.app.map&&this.app.map.destroy()};b.prototype.activated=function(){var a=this;
g.prototype.activated.call(this);this.initialized||this.initialize();this.active=!0;setTimeout(function(){return f.infrastructure.FocusUtils.focusOnMap(a.app.map)},0);this.resize()};b.prototype.deactivated=function(){g.prototype.deactivated.call(this);this.active=!1;clearTimeout(this.resizeTimer);clearTimeout(this.hoverTimer)};b.prototype.attach=function(a){g.prototype.attach.call(this,a);this.viewModel&&(this.initialized||this.initialize(),this._addBrokenPanDetection())};b.prototype._activateMapContextMenu=
function(a){var c=this.mapDiv.getBoundingClientRect(),e=this.app.map.toScreen(a),b=c.left+e.x,c=c.top+e.y;this.app.event("MapContextMenuPointUpdatedEvent").publish(a);this.app.command("ActivateContextMenu").execute({pageX:b,pageY:c,viewId:"MapContextMenuView"})};b.prototype._addBrokenPanDetection=function(){if(/.*Trident\/([0-9]+)\..*/.test(navigator.userAgent)){var a,c;if(navigator.msPointerEnabled)a="MSPointerMove",c="MSPointerUp";else if(navigator.pointerEnabled)a="pointermove",c="pointerup";else return;
var e=this.mapDiv.childNodes[0].childNodes[0],b=this.app.map;if(void 0===b.__panning)throw Error("Missing __panning property on esri.Map");this._addEventListener(e,a,function(a){a=a||window.event;if(b.__panning&&0===a.buttons&&(void 0===a.pointerType||"mouse"===a.pointerType||4===a.pointerType)){var d=document.createEvent("HTMLEvents");d.initEvent(c,!1,!0);dojo.mixin(d,a);d.type=c;d.button=0;d.buttons=0;d.which=0;e.dispatchEvent(d)}})}};b.prototype.resize=function(){var a=this,c=this.app.map,e=this.mapDiv;
null!=c&&null!=c.extent&&(this.resizeTimer&&(clearTimeout(this.resizeTimer),this.resizeTimer=null),this.resizeTimer=setTimeout(function(){try{if(e){var b=dojo.coords(e);!0===a.isActive&&2<b.w&&2<b.h&&c.width&&c.height&&(c.resizeDelay=0,a.app.map.reposition(),a.app.site.essentialsMap.extentManager.blockForResize(b.w,b.h,!0),setTimeout(function(){},a.resizeDelay))}}catch(d){}},0))};b.prototype.initialize=function(){var a=this;if(!this.initialized&&this.viewModel&&this.root){var c=!1,e=!!Modernizr.csstransforms3d,
b=!0,d=!1;this.configuration&&this.configuration.hasOwnProperty("wrapAround180")&&(c=this.configuration.wrapAround180);this.configuration&&this.configuration.hasOwnProperty("force3DTransforms")&&(e=this.configuration.force3DTransforms);this.configuration&&this.configuration.hasOwnProperty("showAttribution")&&(b=!!this.configuration.showAttribution);this.configuration&&this.configuration.hasOwnProperty("fitTiledMapsToExtent")&&(d=!!this.configuration.fitTiledMapsToExtent);this.configuration&&this.configuration.hasOwnProperty("resizeDelay")&&
(this.resizeDelay=parseInt(this.configuration.resizeDelay));c={slider:!1,logo:!1,showAttribution:b,wrapAround180:c,force3DTransforms:e,autoResize:!1,fitExtent:d,showInfoWindowOnClick:!1};this.configuration&&this.configuration.hasOwnProperty("minScale")&&(e=parseFloat(this.configuration.minScale),isNaN(e)||(this.minScale=e,c.minScale=e));this.configuration&&this.configuration.hasOwnProperty("maxScale")&&(e=parseFloat(this.configuration.maxScale),isNaN(e)||(this.maxScale=e,c.maxScale=e));this.app.map=
new esri.Map("map",c);this.app.map._fitTiledMapsToExtent=d;this.app.map.hideZoomSlider();this.extentBroadcastFrequency=this.configuration.extentBroadcastFrequency||0;this.app.command("InitializeSite").execute(this.app.map);this.app.command("ZoomToInitialExtent").register(this,function(){a.app.command("ActivateView").execute(a.id)});this.app.command("ZoomToFullExtent").register(this,function(){a.app.command("ActivateView").execute(a.id)});this.app.event("ApplicationResizedEvent").subscribe(this,function(){this.resize()});
this.app.command("MapResize").register(this,function(){this.resize()});this.app.command("ShowMap").register(this,function(){this.app.command("ActivateView").execute(this.id)});this.app.command("EnableMapClick").register(this,function(){return a._enableMapClickEvent=!0});this.app.command("DisableMapClick").register(this,function(){return a._enableMapClickEvent=!1});this.app.event("ActiveToolChangedEvent").subscribe(this,this._toolChanged);dojo.connect(this.app.map,"onExtentChange",function(c,e,b,k){!k&&
a.app.site.essentialsMap&&(k=a._getLevelOfDetails(c));a.app.map.graphicsLayerIds.forEach(function(c){c=a.app.map.getLayer(c);var e=c.getNode();e&&e.style&&"none"===e.style.display&&c.visible&&c.visibleAtMapScale&&!c.suspended&&$(e).show()});a.app.event("MapExtentChangeEvent").publish(c,e,b,k);a._publishWithMapExtent("MapExtentChangedEvent",c,k)});dojo.connect(this.app.map,"onLayerAdd",this,this._layerAdd);dojo.connect(this.app.map,"onLayerAddResult",this,function(c,e){a.app.event("LayerAddResultEvent").publish(c,
e);a.app.event("LayerAddedWithResultEvent").publish(c,e);a._updateBingLogoPosition()});dojo.connect(this.app.map,"onLayerRemove",this,function(c){if(c){var e=a._layerEventsLookup[c.id];if(e){for(var b=0;b<e.length;b++)dojo.disconnect(e[b]);delete a._layerEventsLookup[c.id]}a.app.event("LayerRemovedEvent").publish(c);a._updateBingLogoPosition()}});dojo.connect(this.app.map,"onLayersAddResult",this,function(c){a.app.event("LayersAddedWithResultEvent").publish(c||[]);a._updateBingLogoPosition()});dojo.connect(this.app.map,
"onPanStart",function(c,e){a.app.event("MapPanStartEvent").publish(c,e);a.app.event("MapPanStartedEvent").publish(c,e)});dojo.connect(this.app.map,"onPan",function(c,e){a.app.event("MapPanEvent").publish(c,e);a._broadcastExtent(c)});dojo.connect(this.app.map,"onPanEnd",function(c,e){a.app.event("MapPanEndEvent").publish(c,e);a.app.event("MapPanEndedEvent").publish(c,e)});dojo.connect(this.app.map,"onZoomStart",function(c,e,b,k){a.app.event("MapZoomStartEvent").publish(c,e,b,k);a.app.event("MapZoomStartedEvent").publish(c,
e,b,k)});dojo.connect(this.app.map,"onZoom",function(c,e,b){a.app.event("MapZoomEvent").publish(c,e,b);a._broadcastExtent(c)});dojo.connect(this.app.map,"onZoomEnd",function(c,e,b,k){a.app.event("MapZoomEndEvent").publish(c,e,b,k);a.app.event("MapZoomEndedEvent").publish(c,e,b,k)});dojo.connect(this.app.map,"onLoad",function(c){if(a.minScale||a.maxScale){var e=a.app.map._params,b=e.lods;if(b&&b.length){var k=a.app.map.__tileInfo.lods;if(a.minScale){for(;b[0].scale<a.minScale;){var d=Math.min(a.minScale,
2*b[0].scale),f=new esri.layers.LOD;f.level=0;f.scale=d;f.resolution=b[0].resolution*d/b[0].scale;b.splice(0,0,f);k.splice(0,0,f);e.hasOwnProperty("maxZoom")&&e.maxZoom++}for(d=0;d<b.length;d++)b[d].level=d,k[d].level=d}if(a.maxScale)for(var q=b.length-1;b[q].scale>a.maxScale;)d=Math.max(a.maxScale,0.5*b[q].scale),f=new esri.layers.LOD,f.level=b[q].level+1,f.scale=d,f.resolution=b[q].resolution*d/b[q].scale,b.push(f),k.push(f),e.maxZoom=f.level,q++}}a._installZoomFix();a.resize();a.app.event("MapLoadedEvent").publish(c)});
dojo.connect(this.app.map,"onClick",function(c){a._enableMapClickEvent&&(a.app.event("MapClickEvent").publish(c),a.app.event("MapClickedEvent").publish(c))});dojo.connect(this.app.map,"onMouseDown",function(c){a.app.event("MapMouseDownEvent").publish(c)});dojo.connect(this.app.map,"onMouseUp",function(c){a.app.event("MapMouseUpEvent").publish(c)});dojo.connect(this.app.map,"onTimeExtentChange",function(c){a.app.event("MapTimeExtentChangedEvent").publish(c)});dojo.subscribe("LayerVisibilityChange",
function(c){var e=[];if(c&&0<c.length)for(var b=0;b<c.length;b++){var k=c[b];if(k&&k.mapServiceId&&k.layerId){var d=a.app.site.essentialsMap.findMapServiceById(k.mapServiceId);if(d){var f=d.findLayerById(k.layerId);f&&e.push({layer:f,mapService:d,visibility:k.visibility})}}else a.app.trace.error(a.id+" can't find map service for layer. Either mapServiceId or layerId are not available.")}a.app.event("LayerVisibilityChangedEvent").publish(e)});dojo.subscribe("ServiceLayerInitializedEvent",function(c){a.app.event("SiteLayerLoadingEvent").publish(c)});
dojo.subscribe("MapServiceVisibilityChangedEvent",function(c){c&&(a.app.event("MapServiceVisibilityChangedEvent").publish(c.serviceLayer,c),a._updateBingLogoPosition())});dojo.subscribe("MapServiceAddedEvent",function(c){c&&a.app.event("MapServiceAddedEvent").publish(c)});dojo.subscribe("MapServiceRemovedEvent",function(c){c&&a.app.event("MapServiceRemovedEvent").publish(c)});dojo.subscribe("CatalogLayerAddedEvent",function(c){return a.app.event("CatalogLayerAddedEvent").publish(c)});dojo.subscribe("CatalogLayerRemovedEvent",
function(c){return a.app.event("CatalogLayerRemovedEvent").publish(c)});dojo.subscribe("MapServiceLayersChangedWithResultEvent",function(c){return a.app.event("MapServiceLayersChangedWithResultEvent").publish(c)});this._attachMouseHoverHandlers();this._updateBingLogoPosition();this.initialized=!0}};b.prototype._installZoomFix=function(){var a=this;this.app.map.on("zoom-start",function(c){a.app.map.layerIds.map(function(c){(c=a.app.map.getLayer(c))&&c instanceof esri.layers.DynamicMapServiceLayer&&
c.updating&&(c=c._img)&&(c.style.display="none")})})};b.prototype._addEventListener=function(a,c,e){a.addEventListener?a.addEventListener(c,e,!1):a.attachEvent&&a.attachEvent("on"+c,e)};b.prototype._removeEventListener=function(a,c,e){a.removeEventListener?a.removeEventListener(c,e,!1):a.detachEvent&&a.detachEvent("on"+c,e)};b.prototype._attachMouseHoverHandlers=function(){var a=this,c=function(c){clearTimeout(a.hoverTimer);var e={clientX:c.clientX,clientY:c.clientY};a.hoverTimer=setTimeout(function(){a.app.event("MapMouseHoverEvent").publish(e)},
a._mapHoverTimeout)},e=function(c){c.explicitOriginalTarget&&"path"==c.explicitOriginalTarget.localName||clearTimeout(a.hoverTimer)};dojo.require("dojo.aspect");dojo.aspect.after(this.app.event("MapMouseHoverEvent"),"subscribe",function(b){0>=a._mapHoverSubscriberCount++&&(a._addEventListener(a.app.map.root,"mousemove",c),a._addEventListener(a.app.map.root,"mouseout",e));return b});dojo.aspect.after(this.app.event("MapMouseHoverEvent"),"unsubscribe",function(){0>=--a._mapHoverSubscriberCount&&(a._removeEventListener(a.app.map.root,
"mousemove",c),a._removeEventListener(a.app.map.root,"mouseout",e))})};b.prototype._updateBingLogoPosition=function(){for(var a=0;this.app.map&&a<this.app.map.layerIds.length;a++){var c=this.app.map.getLayer(this.app.map.layerIds[a]);if(c.isInstanceOf(esri.virtualearth.VETiledLayer)&&c.visible){if((a=this.app.viewManager.getExistingRegionByName("BottomLeftMapRegion"))&&(a=a.activeViews)&&0<a.length){for(var e=c=0;e<a.length;e++)a[e].root.clientHeight>c&&(c=a[e].root.clientHeight);$(".bingLogo-lg").css("bottom",
c)}break}}};b.prototype._broadcastExtent=function(a){var c=null,e=null;this.extentEpoch||(this.extentEpoch=+new Date);c=+new Date;c-this.extentEpoch>this.extentBroadcastFrequency&&(this.app.site.essentialsMap&&(e=this._getLevelOfDetails(a)),this._publishWithMapLod("MapExtentChangingEvent",e),this.extentEpoch=c)};b.prototype._layerAdd=function(a){var c=this,e=this.app.site.essentialsMap.mapServices.filter(function(c){return c.serviceLayer===a});if(0!=e.length){var b=e[0];this.app.event("LayerAddEvent").publish(a,
b);this.app.event("LayerAddedEvent").publish(a,b);e=[];this._layerEventsLookup[a.id]=e;e.push(dojo.connect(a,"onUpdateStart",this,function(){c.app.event("LayerUpdateStartEvent").publish(a,b);c.app.event("LayerUpdateStartedEvent").publish(a,b)}));e.push(dojo.connect(a,"onUpdateEnd",this,function(){c.app.event("LayerUpdateEndEvent").publish(a,b);c.app.event("LayerUpdateEndedEvent").publish(a,b)}));e.push(dojo.connect(a,"onVisibilityChange",this,function(){c.app.event("MapServiceVisibilityChangedEvent").publish(a,
b);c._updateBingLogoPosition()}));this._updateBingLogoPosition()}};b.prototype._getLevelOfDetails=function(a){var c={scale:this.app.site.essentialsMap.calculateScale()};a&&this.app.map&&0<this.app.map.width&&(c.resolution=a.getWidth()/this.app.map.width);return c};b.prototype._publishWithMapLod=function(a,c){var e=null;c&&(e=new d.essentialsHtmlViewer.mapping.infrastructure.eventArgs.MapExtentEventArgs,e.currentScale=c.scale,e.currentResolution=c.resolution);this.app.event(a).publish(e)};b.prototype._publishWithMapExtent=
function(a,c,e){var b=null;e&&(b=new d.essentialsHtmlViewer.mapping.infrastructure.eventArgs.MapExtentEventArgs,b.currentScale=e.scale,b.currentResolution=e.resolution);this.app.event(a).publish(c,b)};b.prototype._toolChanged=function(a){a.tool&&this.app.command("ActivateView").execute(this.id)};return b}(d.framework.ui.ViewBase);g.MapView=m})(g.map||(g.map={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex=
{}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(){function f(b,a,c){this._mapLoadedEventToken=null;this._previousExtentArray=[];this._nextExtentArray=[];this._currentExtent=null;this._prevNextExtentCommandInProgress=this._pauseRecordExtentChange=!1;this._disableExtentChangeTimeoutId=null;this._maxLogEntries=100;this._extentChangeRecordDelayMs=500;this.app=b;this.libraryId=a;if(this._maxLogEntries=void 0!=c?c:this._maxLogEntries)this._mapLoadedEventToken=this.app.event("MapLoadedEvent").subscribe(this,this._onMapLoaded)}
f.prototype._onMapLoaded=function(){this.app.event("MapLoadedEvent").unsubscribe(this._mapLoadedEventToken);this.app.map.on("extent-change",dojo.hitch(this,this._recordExtentChange));this.app.map.on("resize",dojo.hitch(this,this._onMapResized));this._registerCommands()};f.prototype._onMapResized=function(){this._pauseRecordExtentChangeOperation()};f.prototype._registerCommands=function(){this.app.command("ZoomToPreviousExtent").register(this,this._executeZoomToPreviousExtent,this._canExecuteZoomToPreviousExtent);
this.app.command("ZoomToNextExtent").register(this,this._executeZoomToNextExtent,this._canExecuteZoomToNextExtent)};f.prototype._canExecuteZoomToPreviousExtent=function(){return!this._prevNextExtentCommandInProgress&&0!==this._previousExtentArray.length};f.prototype._canExecuteZoomToNextExtent=function(){return!this._prevNextExtentCommandInProgress&&0!==this._nextExtentArray.length};f.prototype._executeZoomToPreviousExtent=function(){if(this._previousExtentArray.length){var b=this._previousExtentArray.pop();
this._prevNextExtentCommandInProgress=!0;this._addExtentConditionally(this._nextExtentArray,this._currentExtent);this._currentExtent=b;d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtent(this.app,this._currentExtent,!0);this._zoomToPrevNextExtentCanExecuteChanged()}};f.prototype._executeZoomToNextExtent=function(){if(this._nextExtentArray.length){var b=this._nextExtentArray.pop();this._prevNextExtentCommandInProgress=!0;this._addExtentConditionally(this._previousExtentArray,this._currentExtent);
this._currentExtent=b;d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtent(this.app,this._currentExtent,!0);this._zoomToPrevNextExtentCanExecuteChanged()}};f.prototype._recordExtentChange=function(b){this._pauseRecordExtentChange||this._prevNextExtentCommandInProgress||(this._currentExtent&&this._addExtentConditionally(this._previousExtentArray,this._currentExtent),this._nextExtentArray=[]);this._currentExtent=b.extent;this._pauseRecordExtentChangeOperation(this._extentChangeRecordDelayMs);
this._prevNextExtentCommandInProgress=!1;this._zoomToPrevNextExtentCanExecuteChanged()};f.prototype._numLogEntries=function(){return this._previousExtentArray.length+this._nextExtentArray.length};f.prototype._addExtentConditionally=function(b,a){var c=this._numLogEntries();this._isValidExtentObject(a)?(c>=this._maxLogEntries&&b.length&&b.shift(),(!b.length||b.length&&!this._extentsEqual(b[b.length-1],a))&&b.push(new esri.geometry.Extent(a.toJson()))):this.app.trace.error("MapExtentLog: Invalid extent specified. Could not add to extent log")};
f.prototype._pauseRecordExtentChangeOperation=function(b){var a=this;this._disableExtentChangeTimeoutId&&(clearTimeout(this._disableExtentChangeTimeoutId),this._disableExtentChangeTimeoutId=null);this._pauseRecordExtentChange=!0;void 0!=b&&(this._disableExtentChangeTimeoutId=setTimeout(function(){a._pauseRecordExtentChange=!1},b))};f.prototype._extentsEqual=function(b,a){return b&&a&&b.spatialReference&&a.spatialReference&&b.xmin===a.xmin&&b.xmax===a.xmax&&b.ymin===a.ymin&&b.ymax===a.ymax&&d.essentials.GeometryUtilities.spatialRefsAreEqual(b.spatialReference,
a.spatialReference,!1)};f.prototype._isValidExtentObject=function(b){return b&&b instanceof esri.geometry.Extent?!0:b&&"number"===typeof parseFloat(b.xmin)&&"number"===typeof parseFloat(b.xmax)&&"number"===typeof parseFloat(b.ymin)&&"number"===typeof parseFloat(b.ymax)&&b.spatialReference&&(b.spatialReference.wkid&&"number"===typeof parseInt(b.spatialReference.wkid,10)||b.spatialReference.wkt)};f.prototype._zoomToPrevNextExtentCanExecuteChanged=function(){this.app.command("ZoomToPreviousExtent").raiseCanExecuteChanged();
this.app.command("ZoomToNextExtent").raiseCanExecuteChanged()};return f}();f.MapExtentLog=g})(f.map||(f.map={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(){f.apply(this,arguments);this._additionalLayers=null;this._defaultHighlightLayerName="defaultHighlightLayer";this._isInitialized=!1}__extends(b,f);b.prototype.initialize=function(a){f.prototype.initialize.call(this,a);a.borderColor&&this.app.highlightManager.setHighlightBorderColor(a.borderColor);a.borderWidth&&this.app.highlightManager.setHighlightBorderWidth(a.borderWidth);a.fillColor&&this.app.highlightManager.setHighlightFillColor(a.fillColor);
a.additionalLayers&&(this._additionalLayers=a.additionalLayers);this.app.command("CreateHighlightLayer").register(this,this._createHighlightLayer,this._canCreateHighlightLayer);this.app.command("SetActiveHighlightLayer").register(this,this._setActiveHighlightLayer,this._canSetActiveHighlightLayer);this.app.command("SetActiveHighlightLayerDefault").register(this,this._setActiveHighlightLayerDefault,this._canSetActiveHighlightLayerDefault);this.app.command("HighlightEsriFeatureSet").register(this,this._highlightEsriFeatureSet,
this._canHighlightEsriFeatureSet);this.app.command("SetHighlightBorderColor").register(this,this._setHighlightBorderColor);this.app.command("SetHighlightBorderWidth").register(this,this._setHighlightBorderWidth);this.app.command("SetHighlightFillColor").register(this,this._setHighlightFillColor);this.app.command("RemoveHighlightLayer").register(this,this._removeHighlightLayer,this._canRemoveHighlightLayer);this.app.command("ClearHighlights").register(this,this._clearHighlights,this._canClearHighlights);
this.app.command("HighlightFeatureSet").register(this,this._highlightFeatureSet,this._canHighlightFeatureSet);this.app.command("HighlightFeature").register(this,this._highlightFeature,this._canHighlightFeature);this.app.event("LayerVisualizationChangedEvent").subscribe(this,this._refreshHighlights);this.app.command("HighlightFeatureDefault").register(this,this._highlightFeatureDefault,this._canHighlightFeatureDefault);this.app.command("ClearDefaultHighlights").register(this,this._clearHighlightsDefault);
this.app.command("HighlightFeatureSetTestHarness").register(this,function(a){a=this.app.featureSetManager.getCollectionById(a).featureSets;a.bind(this,function(a){if("append"===a.type)for(var c=a.rangeStart;c<a.rangeEnd+1;c++)this.app.command("HighlightFeatureSet").execute(a.sender.getAt(c))});for(var e=0;e<a.length;e++)this.app.command("HighlightFeatureSet").execute(a[e])});this.app.command("HighlightFeatureTestHarness").register(this,function(a){var e=this.app.featureSetManager.getCollectionById(a);
if(a=e.firstFeature())this.app.command("HighlightFeature").execute(a);else var b=e.featureSets.bind(this,function(a){if(a=e.firstFeature())e.featureSets.unbind(b),this.app.command("HighlightFeature").execute(a)})});this._layersReady()?this._initializeDefaultHighlights():this.app.event("SiteServiceLayersLoaded").subscribe(this,this._initializeDefaultHighlights)};b.prototype.getStateFilter=function(){var a=this;return{highlightLayers:function(c){var e={},b=0;for(c=Object.keys(c);b<c.length;b++)e[c[b]]=
a.app.project.filter.operationalLayer;return e},activeHighlightLayerName:!0,highlights:{item:{feature:this.app.project.filter.feature,highlightLayer:this.app.project.filter.operationalLayer}}}};b.prototype.exportState=function(){return this.app.highlightManager.exportState()};b.prototype.applyState=function(a){return this.app.highlightManager.applyState(a)};b.prototype._layersReady=function(){if(this.app.site&&this.app.site.essentialsMap&&this.app.site.essentialsMap.mapServices){for(var a=this.app.site.essentialsMap.mapServices,
c=0;c<a.length;c++)if(!a[c].serviceLayer.loaded)return!1;return!0}return!1};b.prototype._initializeDefaultHighlights=function(){this.app.highlightManager._defaultHighlightLayerName=this._defaultHighlightLayerName;this.app.highlightManager.createHighlightLayer(this._defaultHighlightLayerName);if(this._additionalLayers)for(var a=0;a<this._additionalLayers.length;a++){var c=this._additionalLayers[a];this.app.highlightManager.createHighlightLayer(c.name,c.hasOwnProperty("fillColor")?c.fillColor:void 0,
c.hasOwnProperty("borderColor")?c.borderColor:void 0)}this._setActiveHighlightLayerDefault();this._isInitialized=!0;c="CreateHighlightLayer SetActiveHighlightLayer SetActiveHighlightLayerDefault HighlightEsriFeatureSet RemoveHighlightLayer ClearHighlights HighlightFeatureSet HighlightFeature".split(" ");for(a=0;a<c.length;a++)this.app.command(c[a]).raiseCanExecuteChanged()};b.prototype._canCreateHighlightLayer=function(a){return this._isInitialized&&!this.app.project.isLoading&&!this.app.highlightManager.getHighlightLayer(a)};
b.prototype._createHighlightLayer=function(a,c,e){this.app.highlightManager.createHighlightLayer(a,c,e)};b.prototype._canSetActiveHighlightLayer=function(a){return this._isInitialized&&!this.app.project.isLoading&&!!this.app.highlightManager.getHighlightLayer(a)};b.prototype._setActiveHighlightLayer=function(a){this.app.highlightManager.setActiveHighlightLayer(a)};b.prototype._canSetActiveHighlightLayerDefault=function(){return this._isInitialized&&!this.app.project.isLoading&&!!this.app.highlightManager.getHighlightLayer(this.app.highlightManager._defaultHighlightLayerName)};
b.prototype._setActiveHighlightLayerDefault=function(){this.app.highlightManager.setActiveHighlightLayer(this.app.highlightManager._defaultHighlightLayerName)};b.prototype._canHighlightEsriFeatureSet=function(a){return this._isInitialized&&!this.app.project.isLoading&&a&&a instanceof esri.tasks.FeatureSet?!0:!1};b.prototype._highlightEsriFeatureSet=function(a){this.app.highlightManager.highlightEsriFeatureSet(a)};b.prototype._setHighlightBorderColor=function(a){this.app.highlightManager.setHighlightBorderColor(a)};
b.prototype._setHighlightBorderWidth=function(a){this.app.highlightManager.setHighlightBorderWidth(a)};b.prototype._setHighlightFillColor=function(a){this.app.highlightManager.setHighlightFillColor(a)};b.prototype._canRemoveHighlightLayer=function(a){return this._isInitialized&&!this.app.project.isLoading&&!!this.app.highlightManager.getHighlightLayer(a)};b.prototype._removeHighlightLayer=function(a){this.app.highlightManager.removeHighlightLayer(a)};b.prototype._clearHighlights=function(){this.app.highlightManager.clearHighlights()};
b.prototype._canClearHighlights=function(){return this._isInitialized&&!this.app.project.isLoading};b.prototype._clearHighlightsDefault=function(){this.app.highlightManager.clearHighlights(this._defaultHighlightLayerName)};b.prototype._canHighlightFeatureSet=function(a){return this._isInitialized&&!this.app.project.isLoading&&a&&0<a.features.getLength()};b.prototype._highlightFeatureSet=function(a){this.app.highlightManager.highlightFeatures(a.features.get())};b.prototype._refreshHighlights=function(a){this._isInitialized&&
!this.app.project.isLoading&&this.app.highlightManager.refreshHighlights()};b.prototype._featureInHighlights=function(a,c){if(a&&a.esriFeature&&a.esriFeature.get()&&a.esriFeature.get().geometry){a=new d.essentialsHtmlViewer.mapping.infrastructure.Feature({graphic:a.esriFeature.get()});var e=c.apply(this.app.highlightManager);if(e)for(var b=0;b<e.length;b++){var f=new d.essentialsHtmlViewer.mapping.infrastructure.Feature({graphic:e[b]});if(a.equals(f))return!1}return!0}return!1};b.prototype._canHighlightFeature=
function(a){return this._isInitialized&&!this.app.project.isLoading&&this._featureInHighlights(a,this.app.highlightManager.activeHighlightLayerGraphics)};b.prototype._canHighlightFeatureDefault=function(a){return this._isInitialized&&!this.app.project.isLoading&&this._featureInHighlights(a,this.app.highlightManager.defaultHighlightLayerGraphics)};b.prototype._highlightFeature=function(a){this.app.highlightManager.highlightFeatures([a])};b.prototype._highlightFeatureDefault=function(a){this._clearHighlightsDefault();
this.app.highlightManager.highlightFeatures([a],this.app.highlightManager._defaultHighlightLayerName)};return b}(d.framework.application.ModuleBase);f.HighlightModule=g})(f.Highlight||(f.Highlight={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(g){function b(){g.apply(this,arguments);this._identifyTask=null;this.defaultPixelTolerance=5;this.defaultPolygonPixelTolerance=2;this._layersInVisibleScaleRangeOnly=this._visibleLayersOnly=this._returnGeometry=this._topMostLayerOnly=this._polygonPixelTolerance=this._pixelTolerance=null}__extends(b,g);b.prototype.initialize=function(a){g.prototype.initialize.call(this,a);null!=a.pixelTolerance&&(this._pixelTolerance=a.pixelTolerance);
null!=a.polygonPixelTolerance&&(this._polygonPixelTolerance=a.polygonPixelTolerance);null!=a.visibleLayersOnly&&(this._visibleLayersOnly=!!a.visibleLayersOnly);null!=a.layersInVisibleScaleRangeOnly&&(this._layersInVisibleScaleRangeOnly=!!a.layersInVisibleScaleRangeOnly);null!=a.topMostLayerOnly&&(this._topMostLayerOnly=!!a.topMostLayerOnly);null!=a.returnGeometry&&(this._returnGeometry=!!a.returnGeometry)};b.prototype.search=function(a,c){var e=this,b=null;if(c.delayFSCOpen)var d=a.id,g=!1,b=function(){g||
(g=!0,e.app.featureSetManager.openCollection(d))};else this.app.featureSetManager.openCollection(a.id);this._identifyTask=new f.MapIdentifyTask(this.app.map,this.app);this._identifyTask.tag=a;this._identifyTask.pixelTolerance=null!=this._pixelTolerance?this._pixelTolerance:c.pixelTolerance;this._identifyTask.polygonPixelTolerance=null!=this._polygonPixelTolerance?this._polygonPixelTolerance:c.polygonPixelTolerance;this._identifyTask.topMostLayerOnly=null!=this._topMostLayerOnly?this._topMostLayerOnly:
!!c.topMostLayerOnly;this._identifyTask.returnGeometry=null!=this._returnGeometry?this._returnGeometry:!!c.returnGeometry;this._identifyTask.layersInVisibleScaleRangeOnly=null!=this._layersInVisibleScaleRangeOnly?this._layersInVisibleScaleRangeOnly:!!c.layersInVisibleScaleRangeOnly;this._identifyTask.restrictRasterIdentifyToPoint=!!c.restrictRasterIdentifyToPoint;c.identifiableLayerInfo&&(this._identifyTask.mapServicesAndLayersToIdentify=c.identifiableLayerInfo);isNaN(this._identifyTask.pixelTolerance)&&
(this._identifyTask.pixelTolerance=this.defaultPixelTolerance);isNaN(this._identifyTask.polygonPixelTolerance)&&(this._identifyTask.polygonPixelTolerance=this.defaultPolygonPixelTolerance);c.extent&&(this._identifyTask.extent=c.extent);c.width&&(this._identifyTask.width=c.width);c.height&&(this._identifyTask.height=c.height);null!==c.visibleLayersOnly&&(this._identifyTask.visibleLayersOnly=c.visibleLayersOnly);null!==c.visibleMapServicesOnly&&(this._identifyTask.visibleMapServicesOnly=c.visibleMapServicesOnly);
c.layerRestriction&&(this._identifyTask.layerRestriction=c.layerRestriction);b&&(this._identifyTask.delayedFSCOpen=b);setTimeout(function(){e._identifyTask.execute(c.geometry,function(a,c,b){e.identifyTaskProgress(a,c,b)},function(a){e.identifyTaskComplete(a)},function(a,c,b){e.identifyTaskError(a,c,b)})},0)};b.prototype.identifyTaskProgress=function(a,c,e){d.essentialsHtmlViewer.mapping.modules.identify.IdentifyUtils.appendToFeatureSetCollection(c,a.tag,e,this.app)};b.prototype.identifyTaskComplete=
function(a){this.app.featureSetManager.tryCloseCollection(a.tag.id)};b.prototype.identifyTaskError=function(a,c,e){this.app.featureSetManager.tryCloseCollection(a.tag.id);a=this.getResource("language-identify-error-message",null).format(c.message,c.details);this.app.command("Alert").execute(a);e&&this.app.trace.error("Error performing identify operation on service {0}. Message: {1}. Error details: {2}.".format(e.serviceLayer.url,c.message,c.details))};b.prototype.cancelSearch=function(){this._identifyTask&&
this._identifyTask.cancel()};return b}(d.essentialsHtmlViewer.mapping.infrastructure.identify.IdentifyProviderBase);f.MapIdentifyTaskIdentifyProvider=g})(f.identify||(f.identify={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.userInitiatedDA=!1}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a);this.title.set(a.alertTitle);if(this.okButtonElement)try{this.okButtonElement.focus()}catch(c){}this.viewContainerViewClosedEventToken||(this.viewContainerViewClosedEventToken=this.app.event("ViewContainerViewClosedEvent").subscribe(this,function(a){a&&a.viewId==this.id&&this._deactivateForUser()}))};
b.prototype.destroyBindings=function(){d.prototype.destroyBindings.call(this);this.viewContainerViewClosedEventToken&&(this.app.event("ViewContainerViewClosedEvent").unsubscribe(this.viewContainerViewClosedEventToken),this.viewContainerViewClosedEventToken=null)};b.prototype.handleClickOk=function(a,c,e){this._deactivateForUser();return!1};b.prototype._deactivateForUser=function(){this.userInitiatedDA=!0;this.app.viewManager.deactivateView(this);this.app.viewManager.destroyView(this);this.viewModel.callback&&
this.userInitiatedDA&&this.viewModel.callback()};return b}(d.framework.ui.ViewBase);f.AlertView=g})(f.alert||(f.alert={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.alertRegion="ModalWindowRegion";this.overrideNativeAlert=!0;this.nativeImplementation=null}__extends(b,d);b.prototype.initialize=function(a){var c=this;d.prototype.initialize.call(this,a);this.nativeImplementation=window.alert;this.alertRegion=a.alertRegion;this.overrideNativeAlert=a.overrideNativeAlert;var e=function(a,e,b){if(b)try{var d=c.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.modules.alert.AlertView",
markupResource:"Mapping/modules/Alert/AlertView.html",isVisible:!0,regionName:c.alertRegion,libraryId:c.libraryId});e||(e=c.app.getResource(c.libraryId,"language-alert-default-title"));b={alertTitle:e,alertBody:a,callback:b,isOpen:!0,pending:[]};d.title.set(e);d.attach(b);c.app.viewManager.activateView(d);c.app.command("ScreenReaderNarrate").execute(a)}catch(f){c.app.trace.error("Error: Could not display alert: "+f)}else try{c.nativeImplementation.apply(window,[a])}catch(g){c.nativeImplementation(a)}};
this.overrideNativeAlert&&(window.alert=e);this.app.command("Alert").register(this,function(a,c,b){b||(b=function(){});e(a,c,b)})};return b}(d.framework.application.ModuleBase);f.AlertModule=g})(f.alert||(f.alert={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.userCanceled=this.userHasClicked=!1}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a);this.title.set(a.title);if(this.cancelButtonElement)try{this.cancelButtonElement.focus()}catch(c){}this.viewContainerViewClosedEventToken||(this.viewContainerViewClosedEventToken=this.app.event("ViewContainerViewClosedEvent").subscribe(this,function(a){a&&a.viewId===
this.id&&this._deactivateForUser(!0)}))};b.prototype.destroyBindings=function(){d.prototype.destroyBindings.call(this);this.viewContainerViewClosedEventToken&&(this.app.event("ViewContainerViewClosedEvent").unsubscribe(this.viewContainerViewClosedEventToken),this.viewContainerViewClosedEventToken=null)};b.prototype.handleClickOk=function(a,c,e){this._deactivateForUser(!1);return!1};b.prototype.handleClickCancel=function(a,c,e){this._deactivateForUser(!0);return!1};b.prototype._deactivateForUser=function(a){this.userCanceled=
a;this.userHasClicked=!0;this.app.viewManager.deactivateView(this);this.app.viewManager.destroyView(this);this.userHasClicked&&this.viewModel&&this.viewModel.callback&&this.viewModel.callback(!this.userCanceled)};return b}(d.framework.ui.ViewBase);f.ConfirmView=g})(f.confirm||(f.confirm={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.confirmRegion="ModalWindowRegion";this.nativeImplementation=null;this.overrideNativeConfirm=!1}__extends(b,d);b.prototype.initialize=function(a){var c=this;d.prototype.initialize.call(this,a);this.nativeImplementation=window.confirm;this.confirmRegion=a.confirmRegion;this.overrideNativeConfirm=a.overrideNativeConfirm;var e=function(a,e,b,d){if(!b)return c.nativeImplementation.apply(window,
[a]);d=d||{};d.okLabel=d.okLabel||c.app.getResource(c.libraryId,"language-common-ok");d.cancelLabel=d.cancelLabel||c.app.getResource(c.libraryId,"language-common-cancel");try{var f=c.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.modules.confirm.ConfirmView",markupResource:"Mapping/modules/Confirm/ConfirmView.html",isVisible:!0,regionName:c.confirmRegion,libraryId:c.libraryId});e||(e=c.app.getResource(c.libraryId,"language-confirm-default-title"));var g={title:e,confirmBody:a,
callback:b,isOpen:!0,pending:[],okLabel:d.okLabel,cancelLabel:d.cancelLabel};f.title.set(e);f.attach(g);c.app.viewManager.activateView(f)}catch(h){c.app.trace.error("Error: Could not display confirm: "+h)}};this.overrideNativeConfirm&&(window.confirm=e);this.app.command("Confirm").register(this,function(a,c,b,d){c||(c=this.app.getResource(this.libraryId,"language-confirm-default-title"));b||(b=function(){});e(a,c,b,d)})};return b}(d.framework.application.ModuleBase);f.ConfirmModule=g})(f.confirm||
(f.confirm={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c);a.command("ConsoleDir").register(this,this._consoleDir)}__extends(b,d);b.prototype._consoleDir=function(a){console.dir(a)};return b}(d.framework.application.ModuleBase);f.LogModule=g})(f.log||(f.log={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.logEntries=new ObservableCollection;this.isVisible=new Observable(!1);this.logToConsole=!0}__extends(b,d);b.prototype.initialize=function(a){this.logToConsole=a.logToConsole||!0;this.app.event("TraceEvent").subscribe(this,this._onTraceEvent);a=dojo.getObject(a.version||"geocortex.essentialsHtmlViewer.version");this.app.trace.info("Version {0}. {1}".format(a,this.app.locale));
this.app.trace.info("Esri JavaScript API version {0}.".format(esri.version));a=/https/i.test(window.location.protocol);if(/chrome/i.test(navigator.userAgent)){var c=/chrome\/\d+\.\d+/i.exec(navigator.userAgent).toString(),c=/\d+\.\d+/.exec(c).toString();(c=Number(c))&&50<=c&&!a&&this.app.trace.info(this.getResource("language-log-geolocation-not-available"))}};b.prototype._onTraceEvent=function(a){var c=a.timestamp,c="{0}:{1}:{2}.{3}".format(this._padDigits(c.getHours(),2),this._padDigits(c.getMinutes(),
2),this._padDigits(c.getSeconds(),2),this._padDigits(c.getMilliseconds(),3));a.timestamp=c;a.cssClass="trace "+a.level;this.logEntries.addItem(a)};b.prototype._padDigits=function(a,c,e){null==e&&(e=!0);a=a.toString();var b="";if(c>a.length)for(var d=0;d<c-a.length;d++)b+="0";return e?b.toString()+a:a+b.toString()};return b}(d.framework.ui.ViewModelBase);f.LogViewModel=g})(f.log||(f.log={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){var e=this;d.call(this,a,c);this.isActive=!1;this.app.command("ToggleLogView").register(this,function(){e.isActive?e.app.command("DeactivateView").execute(e.id):e.app.command("ActivateView").execute(e.id)});this.app.command("ShowLog").register(this,function(a){a?e.app.command("ActivateView").execute(e.id):e.app.command("DeactivateView").execute(e.id)});this.app.command("HideLog").register(this,function(){e.app.command("DeactivateView").execute(e.id)})}
__extends(b,d);b.prototype.handleClickClear=function(a,c,e){this.viewModel.logEntries.clear();this._deactivateView()};b.prototype.handleClickHide=function(a,c,e){this._deactivateView()};b.prototype._deactivateView=function(){this.app.command("DeactivateView").execute(this.id);this.app.event("ToolbarViewTilePressedEvent").publish("IWantToMenuView")};return b}(d.framework.ui.ViewBase);f.LogView=g})(f.log||(f.log={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.handleClick=function(a,c,e){this.app.command("ToggleLogView").execute()};return b}(d.framework.ui.ViewBase);f.LogStatusView=g})(f.log||(f.log={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(d){function b(){d.apply(this,arguments);this.messageRegionName="LayerListStatusMessageRegion";this._longPressTimer=null;this._pressLengthMs=1500}__extends(b,d);b.prototype.activated=function(){d.prototype.activated.call(this);this._dismissNotifications()};b.prototype.deactivated=function(){d.prototype.deactivated.call(this);this._dismissNotifications()};b.prototype._dismissNotifications=function(){var a=this.app.viewManager.getExistingRegionByName(this.messageRegionName);
if(a&&0<a.views.length)for(var c=0,a=a.views;c<a.length;c++){var e=a[c];this.app.command("RemoveStatus").execute(e.id)}};b.prototype.attach=function(a){a&&(d.prototype.attach.call(this,a),this.initialize())};b.prototype.initialize=function(){this.viewModel&&!this.viewModel.viewInitialized.get()&&this.root&&(this.title.set(this.app.getResource(this.libraryId,"language-layerlist-title")),this.app.viewManager.notifyDimensionsChanged(this),this.registerCommands(),this.viewModel.viewInitialized.set(!0))};
b.prototype.registerCommands=function(){var a=this,c=function(){a.app.command("ActivateView").execute(a.id)};this.app.command("ShowLayerList").register(this,c);this.app.command("SwitchToLayerView").register(this,c)};b.prototype.resolveWidget=function(a,c,e){d.prototype.resolveWidget.call(this,a,c);switch(a){case "TransparencySlider":if(!c||!c.opacity)return null;a=this.app.viewManager.createView({markupResource:"Mapping/modules/LayerList/Widgets/TransparencySliderView.html",typeName:"geocortex.essentialsHtmlViewer.mapping.modules.layerList.TransparencySliderView",
isVisible:!0,libraryId:this.libraryId});a.attach(c);return a;case "LayerListActionsWidget":return this.app.menuRegistry.createMenuWidget(this,c,e);default:return this.app.trace.warning("LayerListView: Unknown Widget"),null}};b.prototype.handleExpanderClick=function(a,c,e){e.isExpanded.set(!e.isExpanded.get())};b.prototype.handleLegendExpanderClick=function(a,c,e){return e.legendItems&&1<e.legendItems.length()?(e.expandLegend.set(!e.expandLegend.get()),!1):!0};b.prototype.setItemVisibility=function(a,
c,e){if(!e)return!1;e.setItemVisibility(void 0!=c.checked?c.checked:c.status);if(e.type===f.infrastructure.layerList.LayerListItemType.FOLDER)this.app.event("FolderClickedEvent").publish(e);else if(e.type===f.infrastructure.layerList.LayerListItemType.MAPSERVICE)this.app.event("MapServiceClickedEvent").publish(e);else if(e.type===f.infrastructure.layerList.LayerListItemType.LAYER||e.type===f.infrastructure.layerList.LayerListItemType.GRAPHICSLAYER)this.app.event("LayerClickedEvent").publish(e),this.app.event("LayerPressedEvent").publish(e);
return!0};b.prototype.setItemVisibilityExclusive=function(a,c,e){if(!e)return!1;e.setItemVisibility(!0);a=e.getSiblings(!1);for(c=0;c<a.length;c++){var b=a[c];b.radioGroup.get()===e.radioGroup.get()&&b.isVisible.set(!1)}if(e.type===f.infrastructure.layerList.LayerListItemType.FOLDER)this.app.eventRegistry.event("FolderClickedEvent").publish(e);else if(e.type===f.infrastructure.layerList.LayerListItemType.MAPSERVICE)this.app.eventRegistry.event("MapServiceClickedEvent").publish(e);else if(e.type===
f.infrastructure.layerList.LayerListItemType.LAYER||e.type===f.infrastructure.layerList.LayerListItemType.GRAPHICSLAYER)this.app.eventRegistry.event("LayerClickedEvent").publish(e),this.app.eventRegistry.event("LayerPressedEvent").publish(e);return!0};b.prototype.handleClickShowLegend=function(){this.app.command("SwitchToLegendView").execute()};b.prototype.handleOpacityChanged=function(a,c,e){e.opacity.set(parseFloat(c.value))};b.prototype.handleLayerActions=function(a,c,e){if(e){var b;switch(e.type){case f.infrastructure.layerList.LayerListItemType.LAYER:case f.infrastructure.layerList.LayerListItemType.GRAPHICSLAYER:b=
e.layer.gcxLayer}b&&this.app.command("ShowLayerActions").execute(b)}};b.prototype.handleMapServiceActions=function(a,c,e){if(e){var b;e.type==f.infrastructure.layerList.LayerListItemType.MAPSERVICE&&(b=e.mapService.gcxMapService);b&&this.app.command("ShowMapServiceActions").execute(b)}};b.prototype.handleTouchStart=function(a,c,e){this._beginLongPress(e);return!0};b.prototype.handleMouseDown=function(a,c,e){this._beginLongPress(e);return!0};b.prototype.handleTouchEnd=function(){this._cancelLongPress();
return!0};b.prototype.handleMouseUp=function(){this._cancelLongPress();return!0};b.prototype._beginLongPress=function(a){var c=this;this._longPressTimer&&clearTimeout(this._longPressTimer);this._longPressTimer=setTimeout(function(){c.app.event("LayerLongPressedEvent").publish(a)},this._pressLengthMs)};b.prototype._cancelLongPress=function(){this._longPressTimer&&(clearTimeout(this._longPressTimer),this._longPressTimer=null)};return b}(d.framework.ui.ViewBase);g.LayerListView=m})(g.layerList||(g.layerList=
{}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(g){function b(){g.apply(this,arguments);this.providerViewModelList=[];this.providerViewList=[];this._defaultViewMode=this._currentFeature=this._providerConfig=null;this._viewModes={}}__extends(b,g);b.prototype.initialize=function(a){g.prototype.initialize.call(this,a);this._processConfig(a);this.registerCommands()};b.prototype.getStateFilter=function(){return{currentFeature:this.app.project.filter.feature,viewMode:!0}};
b.prototype.exportState=function(){var a=this;return Promise["try"](function(){var c=a.app.viewManager.getViewById(a._viewModes[a._defaultViewMode].viewId);return{currentFeature:c&&c.isActive?a.app.project.convert.fromGcxFeature(a._currentFeature):null,viewMode:a._defaultViewMode}})};b.prototype.applyState=function(a){var c=this;return this.app.project.convert.toGcxFeature(a.currentFeature)["catch"](function(a){return null}).then(function(e){var b=a.viewMode;c._viewModes[b]||(b=c._defaultViewMode);
c._executeSetFeatureDetailsMode({viewMode:b,feature:e})})};b.prototype._processConfig=function(a){if(a){if(a.viewModes)for(var c in a.viewModes)a.viewModes.hasOwnProperty(c)&&(a.viewModes[c].viewId&&a.viewModes[c].defaultProviderTargetRegion?(a.defaultViewMode||(a.defaultViewMode=c.toLowerCase()),this._viewModes[c.toLowerCase()]=a.viewModes[c]):this.app.trace.warning("FeatureDetailsModule: Error loading view mode - viewId or defaultProviderTargetRegion not specified. Please check your configuration"));
this._defaultViewMode=a.defaultViewMode;this._defaultViewMode?a.providers&&(this._providerConfig=a.providers):this.app.trace.error("FeatureDetailsModule: Could not compute default view mode. Please check your configuration settings")}};b.prototype.registerCommands=function(){var a=this;this.app.command("ShowFirstFeatureFromCollection").register(this,function(c){var e=null;!c&&a._currentFeature?a.app.command("ShowFeatureDetails").execute(a._currentFeature):"string"===typeof c?e=a.app.featureSetManager.getCollectionById(c):
c instanceof f.infrastructure.FeatureSetCollection?e=c:a.app.trace.error("No FeatureSetCollection or ID given");e?(c=e.firstFeature())?a.app.command("ShowFeatureDetails").execute(c):a.app.trace.error("No feature in FeatureSetCollection"):a.app.trace.error("No FeatureSetColection found.")});this.app.command("ShowFeatureDetails").register(this,function(c){!c&&a._currentFeature&&(c=a._currentFeature);c?"string"===typeof c?a.app.command("ShowFirstFeatureFromCollection").execute(c):(a.app.command("_updateFeatureDetailViewModels").execute(c),
a._processFeatureDetails(c)):a.app.trace.error("ShowFeatureDetails: Could not execute command. No feature found.")});this.app.command("HideFeatureDetails").register(this,this._deactivateFeatureDetailsView);this.app.command("GetFeatureDetailsProviders").register(this,this._processFeatureDetails);this.app.command("ShowFeatureDetailsCompact").register(this,function(c){a._executeSetFeatureDetailsMode({viewMode:"compact",feature:c});a.app.command("ShowFeatureDetailsExpanded").raiseCanExecuteChanged()},
function(c){return a._canExecuteSetFeatureDetailsMode({viewMode:"compact",feature:c})});this.app.command("ShowFeatureDetailsExpanded").register(this,function(c){a._executeSetFeatureDetailsMode({viewMode:"expanded",feature:c});a.app.command("ShowFeatureDetailsCompact").raiseCanExecuteChanged()},function(c){return a._canExecuteSetFeatureDetailsMode({viewMode:"expanded",feature:c})});this.app.command("SetFeatureDetailsMode").register(this,this._executeSetFeatureDetailsMode,this._canExecuteSetFeatureDetailsMode);
this.app.command("GetRelatedFeatures").register(this,this._executeGetRelatedFeatures)};b.prototype._executeSetFeatureDetailsMode=function(a){this._defaultViewMode="string"===typeof a?a:a.viewMode;this._getViewModeConfigParams(this._defaultViewMode);"string"!==typeof a&&a.feature&&a.feature!==this._currentFeature&&(this.app.command("_updateFeatureDetailViewModels").execute(a.feature),this._processFeatureDetails(a.feature));this._activateFeatureDetailsView(this._currentFeature)};b.prototype._canExecuteSetFeatureDetailsMode=
function(a){var c=this._getViewModeConfigParams("string"===typeof a?a:a.viewMode);if(c)var e=this.app.viewManager.getViewById(c.viewId);return(a=a.feature)&&a!==this._currentFeature?!!e&&!!c.defaultProviderTargetRegion:!!e&&!e.isActive&&!!c.defaultProviderTargetRegion&&!(!a&&!this._currentFeature)};b.prototype.updateFeature=function(a){a&&a!==this._currentFeature&&(this._currentFeature=a,this.providerViewModelList.forEach(function(c){return c.currentFeature.set(a)}),this.app.project.isLoading||this.app.event("FeatureDetailsCurrentFeatureChanged").publish(a))};
b.prototype._processFeatureDetails=function(a){var c=this,e=function(){c._loadProviders(c._providerConfig);c.updateFeature(a);c._activateFeatureDetailsView(a);c.app.event("FeatureDetailsInvokedEvent").publish(a)};if(this.app.allLibrariesLoaded)e();else this.app.event("ViewerLibrariesDownloadedEvent").once(this,e)};b.prototype._activateFeatureDetailsView=function(a){if(a){if(!this.app.project.isLoading)for(var c in this._viewModes)if(this._viewModes.hasOwnProperty(c))if(a=this._viewModes[c].viewId,
c===this._defaultViewMode)this.app.command("ActivateView").execute(a);else{var e=this.app.viewManager.getViewById(a);e&&e.isActive&&this.app.command("DeactivateView").execute(a)}this._setProviderTargetRegions(this._defaultViewMode)}};b.prototype._deactivateFeatureDetailsView=function(){var a=this._getViewModeConfigParams(this._defaultViewMode);a&&this.app.command("DeactivateView").execute(a.viewId)};b.prototype._loadProviders=function(a){var c=this;if(!(0<this.providerViewModelList.length)){var e=
function(a,e){e.forEach(function(a){c._wireUpViewBindings(a);c.providerViewList.push(a)});c._setProviderTargetRegions(c._defaultViewMode)};a.forEach(function(a){if(!1!==a.enabled){var b=dojo.getObject(a.type);if(b){var d=new b(c.app,a.libraryId||c.libraryId),b=c._getProviderViewModeRegionConfig(a);d.app=c.app;d.libraryId=a.libraryId||c.libraryId;d.initialize(a.config);d.createAttachedViews(a,b,function(a){return e(d,a)});c.providerViewModelList.push(d)}else c.app.trace.warning("Cannot find FeatureDetailsProvider '{0}'.".format(a.type))}})}};
b.prototype._getProviderConfigByView=function(a){if(this._providerConfig)for(var c=0;c<this._providerConfig.length;c++){var e=this._providerConfig[c].markup;if(e&&"string"===typeof e){if(e===a.markupResource)return this._providerConfig[c]}else for(var b in e)if(e.hasOwnProperty(b)&&e[b]===a.markupResource)return this._providerConfig[c]}return null};b.prototype._getProviderTargetRegionForMode=function(a,c){var e=null;if(a.targetRegion&&a.targetRegion[c])e=a.targetRegion[c];else{var b=this._getViewModeConfigParams(c);
b&&(e=b.defaultProviderTargetRegion)}return e};b.prototype._getViewModeConfigParams=function(a){for(var c in this._viewModes)if(this._viewModes.hasOwnProperty(c)&&c===a)return this._viewModes[a];return null};b.prototype._getProviderViewModeRegionConfig=function(a){var c={};if("string"===typeof a.markup)c["default"]=this._getProviderTargetRegionForMode(a,this._defaultViewMode);else for(var e in a.markup)a.markup.hasOwnProperty(e)&&(c[e]=this._getProviderTargetRegionForMode(a,e));return c};b.prototype._setProviderTargetRegions=
function(a){var c=this;a&&(this.providerViewList.forEach(function(e){var b=c._getProviderConfigByView(e),d=c._getProviderTargetRegionForMode(b,a),b="string"===typeof b.markup||b.markup[a]&&b.markup[a]===e.markupResource||void 0===b.markup[a];c.app.viewManager.deactivateView(e);if(b){b=null;if(d){var f=c.app.viewManager.getRegionForViewId(e.id);f&&(b=e.removed,e.removed=function(){},f.unhostView(e),e.regionName=d)}c.app.viewManager.activateView(e);b&&(e.removed=b);void 0!=e.viewModel.providerEnabled&&
e.viewModel.providerEnabled.pulse()}}),this.app.event("Internal.FeatureProviderTargetRegionsChanged").publish(this._currentFeature))};b.prototype._wireUpViewBindings=function(a){var c=this,e=function(e){e?(e=c.app.viewManager.getExistingRegionByName(a.regionName),!e||e instanceof d.framework.ui.MultiViewRegionAdapter&&1!==e.views.length||c.app.viewManager.activateView(a)):c.app.viewManager.deactivateView(a)};if(a.viewModel&&a.viewModel.providerEnabled&&a.viewModel.providerEnabled.isObservable){e(a.viewModel.providerEnabled.get());
var b=a.viewModel.providerEnabled.bind(this,e),f=a.onDestroy;a.onDestroy=function(){a.viewModel.providerEnabled.unbind(b);for(var e=c.providerViewList.length-1;0<=e;e--)c.providerViewList[e]===a&&c.providerViewList.splice(e,1);"function"===typeof f&&f()}}};b.prototype._executeGetRelatedFeatures=function(a){this._getRelatedFeatures(a.mapService,a.relationshipId,a.objectId,a.currentFeature,a.successCallback,a.errorCallback)};b.prototype._getRelatedFeatures=function(a,c,e,b,q,g){var h=new dojo.Deferred;
if(!a)return a=Error("_getRelatedFeatures: mapService cannot be null."),d.deferredReject(h,a),"function"==typeof g&&g(a),h;if(isNaN(c))return a=Error("_getRelatedFeatures: relationshipId cannot be null."),d.deferredReject(h,a),"function"==typeof g&&g(a),h;if(!e)return a=Error("_getRelatedFeatures: objectId cannot be null."),d.deferredReject(h,a),"function"==typeof g&&g(a),h;g=new esri.tasks.RelationshipQuery;g.outFields=["*"];g.relationshipId=c;g.objectIds=[e];c=null;b&&(b instanceof f.infrastructure.Feature?
c=b.layer?b.layer:b.featureLayer:b instanceof esri.Graphic&&(c=b.getLayer()));c||(c=a.serviceLayer);c?f.infrastructure.taskUtils.getQueryTask(c,a).executeRelationshipQuery(g).then(function(a){var c=[],e;for(e in a)if(a.hasOwnProperty(e))for(var b=0;b<a[e].features.length;b++)c.push(a[e].features[b]);d.deferredResolve(h,c);"function"==typeof q&&q(c)},function(a){d.deferredReject(h,a)}):d.deferredResolve(h,[]);return h};return b}(d.framework.application.ModuleBase);g.FeatureDetailsModule=m})(g.FeatureDetails||
(g.FeatureDetails={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){var g=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.attachment_click=function(a,e,b){var d=this;return this.app.isOffline.get()?(this.app.command("RewriteUrlForOffline").execute(b.url.get(),function(a){if(a)return d.app.command("OpenWebPage").execute({url:a,element:e});d.app.command("Alert").execute(d.getResource("language-feature-details-attachment-not-available-offline"))}),!1):this.app.followNavigationLink({url:b.url.get(),
element:e})};return a}(d.framework.ui.ViewBase);f.AttachmentsView=g})(f.FeatureDetailsProviders||(f.FeatureDetailsProviders={}))})(f.FeatureDetails||(f.FeatureDetails={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){(function(g){var h=function(b){function a(a,e){b.call(this,a,e);this.hasAttachments=new Observable(!1);this.attachmentInfos=new ObservableCollection;this.isAttachmentInfosInitialized=new Observable(!1);this.noAttachments=new Observable(!1);this.isOffline=new Observable(!1);this.bindToken=null;this.app.event("FeatureAttachmentAddedEvent").subscribe(this,this.handleCurrentFeatureChanged)}__extends(a,b);a.prototype.handleCurrentFeatureChanged=
function(a){var e=this;this.hasAttachments.set(!1);this.noAttachments.set(!1);this.isOffline.set(!1);this.isAttachmentInfosInitialized.set(!1);this._setAttachmentInfos(null);if(a)this.hasAttachments.set(a.hasAttachments.get()),this.hasAttachments.get()&&(a.attachmentInfosInitialized.get()?(this._setAttachmentInfos(a.attachmentInfos),0==this.attachmentInfos.length()&&(this.isOffline.set(this.app.isOffline.get()),this.noAttachments.set(!this.app.isOffline.get())),this.isAttachmentInfosInitialized.set(!0)):
this.bindToken=a.attachmentInfosInitialized.bind(this,function(b){b&&(e.isAttachmentInfosInitialized.set(!0),e._setAttachmentInfos(a.attachmentInfos),0==e.attachmentInfos.length()&&(e.isOffline.set(e.app.isOffline.get()),e.noAttachments.set(!e.app.isOffline.get())),a.attachmentInfosInitialized.unbind(e.bindToken))}),a.attachmentInfos.get());else throw Error("Feature cannot be null for the attachment infos view model");};a.prototype._setAttachmentInfos=function(a){this.attachmentInfos.clear();if(a)for(var e=
a.getLength(),b=0;b<e;b++){var d=a.getAt(b);this.attachmentInfos.addItem({name:d.name,url:d.url,size:this.formatSize(d.size.get())})}this.updateProviderState(!!this.attachmentInfos.length())};a.prototype.formatSize=function(a){for(var e=0;1E3<a;e++)a=Math.round(a/1E3);return a+" "+"B KB MB GB TB PB".split(" ")[e]};return a}(d.infrastructure.featureDetails.FeatureProviderBase);g.AttachmentsViewModel=h})(g.FeatureDetailsProviders||(g.FeatureDetailsProviders={}))})(g.FeatureDetails||(g.FeatureDetails=
{}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){var g=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.handleClickAttributeLink=function(a,e,b){return this.app.followNavigationLink({url:b.value.get(),element:e})};return a}(d.framework.ui.ViewBase);f.AttributesView=g})(f.FeatureDetailsProviders||(f.FeatureDetailsProviders={}))})(f.FeatureDetails||(f.FeatureDetails={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(g){var h=function(b){function a(a,e){b.call(this,a,e);this.attributeTypes={};this.MAX_COLUMNS=3;this.COLUMN_THRESHOLD=5;this._attributesChangedSubscriptionToken=null;this.attributes=new ObservableCollection([]);this.multiColumnAttributeContainer=new ObservableCollection([])}__extends(a,b);a.prototype.initialize=function(a){b.prototype.initialize.call(this,a);a&&(this.MAX_COLUMNS=isNaN(parseInt(a.maxColumns,10))?this.MAX_COLUMNS:
parseInt(a.maxColumns,10),this.COLUMN_THRESHOLD=isNaN(parseInt(a.columnThreshold,10))?this.COLUMN_THRESHOLD:parseInt(a.columnThreshold,10))};a.prototype.handleCurrentFeatureChanged=function(a){if(a){this._getAttributeTypes(this.currentFeature.get());var e=a.getAttributes();this._attributesChangedSubscriptionToken&&this._prevFeatureLinkedAttributes&&this._prevFeatureLinkedAttributes.unbind(this._attributesChangedSubscriptionToken);this._attributesChangedSubscriptionToken=this._prevFeatureLinkedAttributes=
null;this._prevFeatureLinkedAttributes=a.linkedAttributes;this._attributesChangedSubscriptionToken=a.linkedAttributes.bind(this,this._handleAttributesChanged);this.processAttributes(e);this._setAttributes(e)}else this._setAttributes(null)};a.prototype._getAttributeTypes=function(a){this.attributeTypes={};if(a.layer&&a.layer.fields)for(var e=0;e<a.layer.fields.length;e++){var b=a.layer.fields[e];a.layer instanceof esri.layers.FeatureLayer&&(b.dataType=d.essentials.Field.convertFromEsriType(b.type));
this.attributeTypes[b.name]=b.dataType}};a.prototype._handleAttributesChanged=function(){var a=this.currentFeature.get().getAttributes();this.processAttributes(a);this._setAttributes(a)};a.prototype._setAttributes=function(a){this.attributes.clear();a&&this.attributes.set(a);this._populateMultiColumnAttributeContainer();this.updateProviderState(!!this.attributes.length())};a.prototype._populateMultiColumnAttributeContainer=function(){this.multiColumnAttributeContainer.clear();for(var a=dojo.filter(this.attributes.get(),
function(a){return a.visible.get()}),e=a.length>this.COLUMN_THRESHOLD?Math.ceil(a.length/this.COLUMN_THRESHOLD):1,e=e>this.MAX_COLUMNS?this.MAX_COLUMNS:e,b=Math.ceil(a.length/e),d=0;d<e;d++){var f=new ObservableCollection(a.slice(d*b,(d+1)*b));this.multiColumnAttributeContainer.addItem(f)}};a.prototype.processAttributes=function(a){for(var e=0;e<a.length;e++){a[e].name.get();var b=a[e].value.get();a[e].displayAsUrl=d.framework.utils.isUrl(b)}};return a}(f.infrastructure.featureDetails.FeatureProviderBase);
g.AttributesViewModel=h})(g.FeatureDetailsProviders||(g.FeatureDetailsProviders={}))})(g.FeatureDetails||(g.FeatureDetails={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(g){var h=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.attach=function(a){this.masterViewModel=a.masterViewModel;b.prototype.attach.call(this,a)};a.prototype.handleViewClick=function(a,e,b){for(a=0;a<this.viewModel.dataLinks.length();a++)if(e=this.viewModel.dataLinks.getAt(a),e===b){this.masterViewModel.currentDataLink.set(e);break}this.masterViewModel.activateDataLinkDetailsView()};a.prototype.resolveWidget=
function(a,e,k){b.prototype.resolveWidget.call(this,a,e);switch(a){case "DataLinksTableViewWidget":if(a=this.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.infrastructure.ui.components.Table.TableView",markupResource:"Mapping/infrastructure/ui/components/Table/TableView.html",libraryId:"Mapping.Infrastructure",isVisible:!0}))k=new d.essentialsHtmlViewer.mapping.infrastructure.ui.components.Table.TableViewModel(this.app,this.libraryId),k.addRecordClickEvents(this.masterViewModel.DATALINK_TABLE_ITEM_CLICKED_EVENT),
k.addRecordLongPressEvents(this.masterViewModel.DATALINK_TABLE_ITEM_PRESSED_EVENT),k.columnHeaders=e.columnHeaders,k.attachToPresentableCollection(e.presentableResults),a.attach(k);return a;case "PagingControlsWidget":return e=new f.infrastructure.ui.components.PagingControls.PagingControlsViewModel(this.app,e),(a=this.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.infrastructure.ui.components.PagingControls.PagingControlsView",markupResource:"Mapping/infrastructure/ui/components/PagingControls/PagingControlsView.html",
libraryId:"Mapping.Infrastructure",isVisible:!0}))&&e&&a.attach(e),a;default:return null}};return a}(d.framework.ui.ViewBase);g.DataLinksView=h})(g.FeatureDetailsProviders||(g.FeatureDetailsProviders={}))})(g.FeatureDetails||(g.FeatureDetails={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));var FormatUtils=geocortex.essentialsHtmlViewer.mapping.infrastructure.FormatUtils;
(function(d){(function(g){(function(f){(function(g){(function(g){(function(g){var h=f.infrastructure.FormatUtils,b=function(a){function c(c,b){a.call(this,c,b);this.hasDataLinks=new Observable(!1);this.dataLinksList=new ObservableCollection([]);this.currentDataLink=new Observable(null);this.targetDataLinkDetailsRegion=null;this.DEFAULT_VIEW_ID="FeatureDataLinksProviderView";this.DEFAULT_PAGED=!0;this.DEFAULT_PAGE_SIZE=50;this.DATALINK_TABLE_ITEM_CLICKED_EVENT="DataLinkTableItemClickedEvent";this.DATALINK_TABLE_ITEM_PRESSED_EVENT=
"DataLinkTableItemPressedEvent";this._featureDataLinkBindingToken=null;this._datalinkViews=[];this._addedDataLinks=[];this._dataLinkListBindingTokens=[];this._onViewsCreated=this._viewModeRegionConfig=this._config=null}__extends(c,a);c.prototype.initialize=function(c){a.prototype.initialize.call(this,c);c&&(c.dataLinkView||c.dataLinkDetailsView)&&(this.targetDataLinkDetailsRegion=c.dataLinkView||c.dataLinkDetailsView);this.hasDataLinks.bind(this,this.updateProviderState)};c.prototype.handleCurrentFeatureChanged=
function(a){this.hasDataLinks.set(!1);this._destroyAttachedViews();this.dataLinksList.clear();this._featureDataLinkBindingToken&&this._prevFeatureDataLinkingResults&&this._prevFeatureDataLinkingResults.unbind(this._featureDataLinkBindingToken);this._prevFeatureDataLinkingResults=this._featureDataLinkBindingToken=null;this._prevFeatureDataLinkingResults=a.dataLinkingResults;this._featureDataLinkBindingToken=a.dataLinkingResults.bind(this,this.handleCollectionChanged);this._handleDataLinks(a.dataLinkingResults.get());
this._createAttachedViews()};c.prototype.activateDataLinkDetailsView=function(){if(this.targetDataLinkDetailsRegion){if(!this.currentDataLink.get())throw Error("Cannot display data link details. Current datalink not set.");this.dataLinkView||(this.dataLinkView=this.app.viewManager.createView({markupResource:"Mapping/modules/FeatureDetails/FeatureDetailsProviders/DataLinkView.html",typeName:"geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.DataLinkView",iconUri:"Resources/Images/Icons/Toolbar/file-multi-24.png",
regionName:this.targetDataLinkDetailsRegion,isVisible:!1,libraryId:this.libraryId}),this.dataLinkView.attach(this));this.dataLinkView.title.set(this.currentDataLink.get().displayName);this.app.viewManager.activateView(this.dataLinkView);this.app.command("FocusOnFirstInputInView").execute(this.dataLinkView)}};c.prototype.createAttachedViews=function(a,c,b){this._config=a;this._viewModeRegionConfig=c;this._onViewsCreated=b};c.prototype._createAttachedViews=function(c,b,d){var f=this;c=c||this._config;
b=b||this._viewModeRegionConfig;d=d||this._onViewsCreated;if(c){var g=function(){f.dataLinksList.get().forEach(function(g){if(-1===f._addedDataLinks.indexOf(g.displayName)){var h=dojo.clone(c);h.title=g.displayName;h.viewId=f._generateDataLinksViewIdFromConfigViewId(h.viewId,h.title);a.prototype.createAttachedViews.call(f,h,b,function(a){f._datalinkViews=f._datalinkViews.concat(a);d&&d(a)},g);f._addedDataLinks.push(g.displayName)}})};g();this._dataLinkListBindingTokens.push(this.dataLinksList.bind(this,
function(){return g()}))}};c.prototype.handleCollectionChanged=function(a){"append"===a.type&&(a=a.sender.value.slice(a.rangeStart,a.rangeStart+1),this._handleDataLinks(a))};c.prototype._generateDataLinksViewIdFromConfigViewId=function(a,c){var b=d.framework.utils.alphaNumericToken();return"{0} datalink-{1}".format(a||this.DEFAULT_VIEW_ID,c?c+"-"+b:b)};c.prototype._createConfiguredPresentableResultCollection=function(a){a=new d.framework.ui.PresentableCollection(a);a.pageSize.set(this.DEFAULT_PAGE_SIZE);
this.DEFAULT_PAGED!=a.isPaginated.get()&&a.isPaginated.set(this.DEFAULT_PAGED);a.items.useThrottling=!0;a.sortingPredicate=null;return a};c.prototype._destroyAttachedViews=function(){var a=this;this._datalinkViews.forEach(function(c){a.app.viewManager.destroyView(c);delete c.viewModel});this._dataLinkListBindingTokens.forEach(function(c){return a.dataLinksList.unbind(c)});this._datalinkViews=[];this._addedDataLinks=[];this._dataLinkListBindingTokens=[]};c.prototype._handleDataLinks=function(a){for(var c=
0;c<a.length;c++){var b=a[c];if(b.dataLink&&b.dataLink.get()&&!b.dataLink.get().isOneToOne){var d=new ObservableCollection(this._buildLinkRecords(b)),f=new ObservableCollection(this._buildTableRows(b)),f=this._createConfiguredPresentableResultCollection(f),g=this._createColumnHeaderCollection(f),h=new Observable(this.providerEnabled.get());h.sync(this.providerEnabled);this.dataLinksList.addItem({displayName:b.dataLink.get().displayName,dataLinks:d,presentableResults:f,columnHeaders:g,providerEnabled:h,
masterViewModel:this});this.hasDataLinks.get()||this.hasDataLinks.set(!0)}}};c.prototype._buildTableRows=function(a){var c=[];a=a.table.get();for(var b=0;b<a.rows.length;b++){var d=this._buildTableColumns(a.columns,a.rows[b].row);c.push({attributes:new ObservableCollection(d)})}return c};c.prototype._buildTableColumns=function(a,c){for(var b=[],f=0;f<a.length;f++)b.push({visible:new Observable(!0),value:new Observable(c[f]),presentableValue:function(a){return new d.framework.ui.LazyObservable(null,
function(){return h.format(c[a])})}(f),displayAsUrl:d.framework.utils.isUrl(c[f]),columnHeader:a[f]});return b};c.prototype._createColumnHeaderCollection=function(a){var c=new ObservableCollection([]),b=new d.essentialsHtmlViewer.mapping.infrastructure.ui.components.Table.TableColumnHeaderViewModel.SharedState(a,"sort","sort-up","sort-down");a=a.items.get();if(a.length){a=a[0].attributes.get();for(var g=0;g<a.length;g++){var h="string";a[g].value.get()instanceof Date&&(h="DateTime");a[g].visible&&
!a[g].visible.get()||c.addItem(new f.infrastructure.ui.components.Table.TableColumnHeaderViewModel(this.app,this.libraryId,b,a[g].columnHeader,h,g))}}return c};c.prototype._buildLinkRecords=function(a){a=a.table.get();for(var c=[],b=0;b<a.rows.length;b++){var d=a.rows[b].row;c.push({displayName:d[0],attributes:new ObservableCollection(this.toDict(a.columns,d))})}return c};c.prototype.toDict=function(a,c){var b=[];f.infrastructure.PresentableDelegateFactory.valuePresenterDelegate(null,null);for(var g=
0;g<a.length;g++)b.push({name:a[g],value:c[g],presentableValue:h.format(c[g]),displayAsUrl:d.framework.utils.isUrl(c[g])});return b};return c}(f.infrastructure.featureDetails.FeatureProviderBase);g.DataLinksViewModel=b})(g.FeatureDetailsProviders||(g.FeatureDetailsProviders={}))})(g.FeatureDetails||(g.FeatureDetails={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){var g=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.handleClickDataLink=function(a,e,b){return this.app.followNavigationLink({url:b.value.get(),element:e})};return a}(d.framework.ui.ViewBase);f.DataLinkView=g})(f.FeatureDetailsProviders||(f.FeatureDetailsProviders={}))})(f.FeatureDetails||(f.FeatureDetails={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){var g=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.attach=function(a){var e=this;b.prototype.attach.call(this,a);this.viewModel.menuContext.sync(a.currentFeature);this.viewModel.visibleMenuItems.bind(this,function(b){var d=e.viewModel.visibleMenuItems.length();"clear"===b.type?d=0:"remove"===b.type&&(d=b.sender.get().slice(0),d.splice(b.rangeStart,b.rangeEnd-b.rangeStart+1),d=d.length);a.updateProviderState(!!d)})};
return a}(d.essentialsHtmlViewer.mapping.infrastructure.menus.MenuView);f.FeatureActionsView=g})(f.FeatureDetailsProviders||(f.FeatureDetailsProviders={}))})(f.FeatureDetails||(f.FeatureDetails={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){(function(g){var h=function(b){function a(){b.apply(this,arguments)}__extends(a,b);return a}(d.infrastructure.featureDetails.FeatureProviderBase);g.FeatureActionsViewModel=h})(g.FeatureDetailsProviders||(g.FeatureDetailsProviders={}))})(g.FeatureDetails||(g.FeatureDetails={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){return function(b,a){this.toolTip=this.target=this.iconUri=this.uri=this.text=null;this.isBroken=!1;if(a&&(this.currentFeature=a,b)){if(b.text)this.text=this.currentFeature.formatTemplateString(b.text);else if(b.uri)this.text=this.currentFeature.formatTemplateString(b.uri);else return;b.uri&&(this.uri=this.currentFeature.formatTemplateString(b.uri));b.iconUri&&(this.iconUri=b.iconUri);b.target&&(this.target=
b.target);b.toolTip&&(this.toolTip=this.currentFeature.formatTemplateString(b.toolTip))}}}();d.Hyperlink=f})(d.FeatureDetailsProviders||(d.FeatureDetailsProviders={}))})(d.FeatureDetails||(d.FeatureDetails={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){var g=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.handleClickHyperlink=function(a,e,b){return b.isBroken?!1:this.app.followNavigationLink({url:b.uri,element:e})};return a}(d.framework.ui.ViewBase);f.HyperlinksView=g})(f.FeatureDetailsProviders||(f.FeatureDetailsProviders={}))})(f.FeatureDetails||(f.FeatureDetails={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(g){var h=function(b){function a(a,e){b.call(this,a,e);this._numHyperlinksTotal=this._numHyperlinksChecked=0;this.hyperlinks=new ObservableCollection}__extends(a,b);a.prototype.handleCurrentFeatureChanged=function(a){this.hyperlinks.set(null);if(a&&a.hyperlinks){var e=dojo.getObject("geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.Hyperlink");if(e){var b=[];this._numHyperlinksChecked=0;
this._numHyperlinksTotal=a.hyperlinks.getLength();0!==a.hyperlinks.getLength()&&this.updateProviderState(!0);for(var d=0;d<this._numHyperlinksTotal;d++){var f=new e(a.hyperlinks.getAt(d),a);b.push(f);a.layer&&"ShowAll"!==a.layer.showFeatureHyperlinks&&this._testHyperlink(f,b,"HEAD")}a.layer&&"ShowAll"===a.layer.showFeatureHyperlinks&&this._showHyperlinks(b)}else this.hyperlinks.addItems(a.hyperlinks.get())}};a.prototype._testHyperlink=function(a,e,b){var f=this,g=function(){f._numHyperlinksChecked++;
f._numHyperlinksChecked===f._numHyperlinksTotal&&f._showHyperlinks(e)};if(a.uri)if(a.uri&&a.uri.length>d.config.io.postLength-500)this.app.trace.warning("Unable to test hyperlink with URI '{0}...'. The URI was too long.".format(a.uri.substr(0,100))),g();else{var h={type:b,cache:!0,url:a.uri};"GET"===b&&(h.headers={"If-Match":"LatitudeGeographics"});h.success=function(a,c,e){g()};h.error=function(d,h,l){d=d.status;"HEAD"!==b||405!==d&&0!==d?(a.isBroken=400<=d&&412!==d,g()):f._testHyperlink(a,e,"GET")};
$.ajax(h)}else a.isBroken=!0,g()};a.prototype._showHyperlinks=function(a){for(var e=this.currentFeature.get(),e=e&&e.layer?e.layer.showFeatureHyperlinks:null,b=0;b<a.length;b++){var d=a[b];null==d.uri||""===d.uri||e&&"HideBrokenLinks"===e&&d.isBroken||this.hyperlinks.addItem(d)}0===this.hyperlinks.getLength()&&this.updateProviderState(!1)};return a}(f.infrastructure.featureDetails.FeatureProviderBase);g.HyperlinksViewModel=h})(g.FeatureDetailsProviders||(g.FeatureDetailsProviders={}))})(g.FeatureDetails||
(g.FeatureDetails={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(g){var h=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.attach=function(a){this.masterViewModel=a.masterViewModel;b.prototype.attach.call(this,a);this.masterViewModel._viewContainerViewClosedEventBindingToken||(this.masterViewModel._viewContainerViewClosedEventBindingToken=this.app.event("ViewContainerViewClosedEvent").subscribe(this,this._checkIfEventIsRelevant))};a.prototype.destroy=function(){this.masterViewModel._viewContainerViewClosedEventBindingToken&&
0===this.masterViewModel.relatedFeatureViews.length&&(this.app.event("ViewContainerViewClosedEvent").unsubscribe(this.masterViewModel._viewContainerViewClosedEventBindingToken),this.masterViewModel._viewContainerViewClosedEventBindingToken=null)};a.prototype.resolveWidget=function(a,e,k){b.prototype.resolveWidget.call(this,a,e);switch(a){case "RelatedFeaturesTableViewWidget":if(a=this.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.infrastructure.ui.components.Table.TableView",
markupResource:"Mapping/infrastructure/ui/components/Table/TableView.html",libraryId:"Mapping.Infrastructure",isVisible:!0}))k=new d.essentialsHtmlViewer.mapping.infrastructure.ui.components.Table.TableViewModel(this.app,this.libraryId),k.addRecordClickEvents(this.masterViewModel.REL_FEATURES_TABLE_ITEM_CLICKED_EVENT),k.addRecordLongPressEvents(this.masterViewModel.REL_FEATURES_TABLE_ITEM_PRESSED_EVENT),k.columnHeaders=e.columnHeaders,k.attachToPresentableCollection(e.presentableResults),a.attach(k);
return a;case "PagingControlsWidget":return e=new f.infrastructure.ui.components.PagingControls.PagingControlsViewModel(this.app,e),(a=this.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.infrastructure.ui.components.PagingControls.PagingControlsView",markupResource:"Mapping/infrastructure/ui/components/PagingControls/PagingControlsView.html",libraryId:"Mapping.Infrastructure",isVisible:!0}))&&e&&a.attach(e),a;default:return null}};a.prototype.handleViewClick=function(a,
e,b){if(b&&b.attributes&&0<b.attributes.getLength())for(a=b.attributes.get(),e=0;e<a.length;e++){var f=a[e].value.get();a[e].displayAsUrl=d.framework.utils.isUrl(f)}this.isBusy.set(!0);this.masterViewModel.activateRelatedFeatureView(b)};a.prototype.handleClickAddRelatedRecord=function(a,e,b){var d=this;if(!b||b.editable&&!b.editable.get())return!1;(a=this.masterViewModel)&&a.generateRelatedLayerObject(b,function(a){d.app.command("StartEditingNewRelatedRecord").execute(a,!0)})};a.prototype._checkIfEventIsRelevant=
function(a){(a.backButtonClicked||a.xButtonClicked)&&this.masterViewModel.showParentView()};return a}(d.framework.ui.ViewBase);g.RelatedFeaturesView=h})(g.FeatureDetailsProviders||(g.FeatureDetailsProviders={}))})(g.FeatureDetails||(g.FeatureDetails={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(g){var h=function(b){function a(a,e){b.call(this,a,e);this._canEditOffline=!1;this.app.event("RelatedRecordCreatedEvent").subscribe(this,this._relatedRecordCreated);this.app.event("RelatedRecordEditedEvent").subscribe(this,this._relatedRecordEdited)}__extends(a,b);a.prototype.initialize=function(a){var e=this;b.prototype.initialize.call(this,a);this.app.nativeManager.hasNativeCapability("editing").then(function(a){e._canEditOffline=
a})};a.prototype.handleCurrentFeatureChanged=function(a){var e=this;if(a){this._destroyAttachedViews();this.hasRelationships.set(!1);this.relationList.clear();this._allRelatedFeatureInfo=[];this.relatedLayers=new ObservableCollection([]);this._relatedLayerPromises&&(this._relatedLayerPromises.cancel(),this._relatedLayerPromises=null);var b=[],f=this.currentFeature.get().layer||this.currentFeature.get().featureLayer;if(f&&f.relationships){for(var g=0;g<f.relationships.length;g++){var h=f.relationships[g];
f instanceof d.essentials.Layer&&b.push(new Promise(function(a,c){return f.getRelatedFeatureLayer(h.id,a,c)}))}this._relatedLayerPromises=Promise.all(b);this._relatedLayerPromises.then(function(b){e._relatedLayerPromises=null;e.relatedLayers.addItems(b);if(a.hasVisibleRelationships.get()&&f&&f.relationships&&e.app.site.getFeatureServices()){e.hasRelationships.set(!0);for(var d=0;d<f.relationships.length;d++)f.relationships[d].visible&&function(){var a=new Observable(e.providerEnabled.get()),c=new ObservableCollection([]);
a.sync(e.providerEnabled);a={displayName:new Observable(f.relationships[d].displayName||f.relationships[d].name),id:new Observable(f.relationships[d].id),relatedTableId:new Observable(f.relationships[d].relatedTableId),visible:new Observable(f.relationships[d].visible),relatedEsriFeatureInfo:new ObservableCollection([]),relatedGcxFeatures:c,hasRetrievedData:new Observable(!1),noRelatedFeatures:new Observable(!1),canAdd:new Observable(!0),validCardinality:new Observable(!0),errorFetchingRelatedFeatures:new Observable(!1),
presentableResults:e._createConfiguredPresentableResultCollection(c),columnHeaders:new ObservableCollection([]),providerEnabled:a,masterViewModel:e};a.relatedEsriFeatureInfo.bind(e,function(a){e._generateGCXFeaturesFromRelatedFeatureInfos(a.sender.getRange(a.rangeStart,a.rangeEnd))});e.relationList.addItem(a)}();e._fetchRelatedFeatures()}e._createAttachedViews();e._updateProviderState();null==e.parentFeature.get()&&e.parentFeature.set(e.currentFeature.get())})}}else throw Error("Feature cannot be null for the related features view model");
};a.prototype._generateGCXFeaturesFromRelatedFeatureInfos=function(a){for(var e=0;e<a.length;e++)this._generateRelatedGCXFeature(a[e])};a.prototype._generateRelatedGCXFeature=function(a){var e={featureInfo:a,esriFeature:null,gcxFeature:null,layer:null},b={};a.attributes.get().forEach(function(a){var c=a.name.get();a=a.value.get();b[c]=a});var d=new esri.Graphic;d.setAttributes(b);var f=null;(this.currentFeature.get().layer||this.currentFeature.get().featureLayer).relationships.forEach(function(e){(e.name?
e.name:e.displayName)==a.relationName.get()&&(f=e.relatedTableId)});for(var g=null,h=0;h<this.relatedLayers.getLength();h++){var l=this.relatedLayers.getAt(h);l.layerId===f&&(g=l)}if(g)null!=f&&(g.add(d),e.layer=g,e.esriFeature=d,this._checkRelatedFeature(e));else{for(var l=a.featureUrl.replace(/\/[^/]*.$/,""),m=this.app.site.getFeatureServices(),h=0;h<m.length;h++){var p=m[h],u=this._getProperMapServiceUrlForComparison(p,l);l==u&&(g=p.serviceLayer)}e.layer=g;e.esriFeature=d;this._checkRelatedFeature(e)}};
a.prototype.generateRelatedLayerObject=function(a,e){var b=this,d=null,f=null;try{this._getFeatureLayerForCurrentFeature(a,function(g){g.relationships.forEach(function(e){e.id==a.id.get()&&e.relatedTableId==a.relatedTableId.get()&&(f=e)});d={id:a.id.get(),text:"New "+a.displayName.get(),relatedFeature:b.currentFeature.get().esriFeature.get(),essentialsRelatedFeature:b.currentFeature.get(),feature:null,editable:!0,relationship:f};e(d)})}catch(g){this.app.trace.error("Error in generating related layer object for creation: "+
g)}};a.prototype._getFeatureLayerForCurrentFeature=function(a,e){var b=this.currentFeature.get().esriFeature.get().getLayer();if(b)e(b);else if(!b&&"Table"!=this.currentFeature.get().layer.type)this.app.command("GetFeatureDetailsProviders").execute(this.currentFeature.get()),(b=this.currentFeature.get().esriFeature.get().getLayer())||(b=this.currentFeature.get().layer.mapService.layers[0]),e(b);else if(!b)for(var d=this.app.site.getFeatureServices(),f=0;f<d.length;f++)for(var g=d[f],h=0;h<g.layers.length;h++)g.layers[h].id==
a.relatedTableId.get()&&g.getRelatedFeatureLayer(a.id.get(),function(a){b=a;e(b)},function(a){})};a.prototype._relatedRecordCreated=function(a){this.handleCurrentFeatureChanged(this.currentFeature.get())};a.prototype._relatedRecordEdited=function(a){a.attributes.Date&&(a.attributes.Date=this._formatDate(a.attributes.Date));var e=this.currentFeature.get().esriFeature.get().attributes,b;for(b in e)a.attributes[b]&&(e[b]=a.attributes[b]);this.currentFeature.get().loadAttributes(!0)};a.prototype._fetchRelatedFeatures=
function(){var a=this,e=this.currentFeature.get(),b=this.currentFeature.get().layer||this.currentFeature.get().featureLayer;if(e&&b&&this.relationList&&0<this.relationList.length()){var d=e.layer?e.layer:e.featureLayer;if(d)for(b=0;b<this.relationList.length();b++)(function(b){var k=b.id.get(),g=new esri.tasks.RelationshipQuery;g.outFields=["*"];g.relationshipId=b.id.get();null!=e.getPrimaryKeyValue()?g.objectIds=[e.getPrimaryKeyValue()]:g.objectIds=[e.esriFeature.get().attributes.OBJECTID];f.infrastructure.taskUtils.getQueryTask(d).executeRelationshipQuery(g).then(function(e){var f=
!1,g;for(g in e)if(e.hasOwnProperty(g)){f=!0;break}if(f){var h=null,f=null;if(d.getRelatedFeatureLayer)h=d.getRelatedFeatureLayer(k);else{var l=a.app.site.getFeatureServices(),m=d.url.match(/.*\//g);for(g=0;g<l.length;g++){var x=l[g],p=x.serviceLayer;if(x.serviceUrl.match(/.*\//g)[0]===m[0]){for(var z=0;z<p.relationships.length;z++){var C=p.relationships[z];if(C.relatedTableId==b.relatedTableId.get()){h=x.getRelatedFeatureLayer(C.id,null,null);break}}if(p.layerId==b.relatedTableId.get()){f=x.serviceLayer;
break}if(h)break}}}if(h)h.then(function(k){if(k.message)a._setCanAddNewFeature(d,b),b.noRelatedFeatures.set(!0);else{for(var f in e)if(e.hasOwnProperty(f)){a._resolveDatalinksAfterFeaturesResolved(b,e[f].features.length);for(var g=0;g<e[f].features.length;g++){var h=a._processRelatedFeature(k,e[f].features[g],b);b.relatedEsriFeatureInfo.addItem(h);k.hasAttachments&&setTimeout(function(a,c){return function(){c._loadAttachments(a)}}(h,a),100)}}a._setCanAddNewFeature(d,b)}b.hasRetrievedData.set(!0)},
function(e){b.errorFetchingRelatedFeatures.set(!0);b.hasRetrievedData.set(!0);a.app.trace.error("Error getting related record for layer {0}: {1}.".format(d.displayName,e.message))});else{for(var D in e)if(e.hasOwnProperty(D))for(a._resolveDatalinksAfterFeaturesResolved(b,e[D].features.length),g=0;g<e[D].features.length;g++)h=a._processRelatedFeature(f,e[D].features[g],b),b.relatedEsriFeatureInfo.addItem(h),f.hasAttachments&&setTimeout(function(a,c){return function(){c._loadAttachments(a)}}(h,a),100);
a._setCanAddNewFeature(d,b);b.hasRetrievedData.set(!0)}}else a._setCanAddNewFeature(d,b),b.noRelatedFeatures.set(!0),b.hasRetrievedData.set(!0)},function(e){b.errorFetchingRelatedFeatures.set(!0);b.hasRetrievedData.set(!0);a.app.trace.error("Error getting related record for layer {0}: {1}.".format(d.displayName,e.message))})})(this.relationList.getAt(b))}};a.prototype._setCanAddNewFeature=function(a,e){var b=null,f=null;e.canAdd.set(!0);e.validCardinality.set(!0);a instanceof d.essentials.Layer?(b=
a,b.mapService.serviceLayer instanceof esri.layers.FeatureLayer&&(f=b.mapService.serviceLayer)):a instanceof esri.layers.FeatureLayer&&(f=a);if(!f)this.app.trace.debug("Attempted to see if related feature could be created but layer is not a Essentials Layer or Esri FeatureLayer."),e.canAdd.set(!1),e.validCardinality.set(!1);else if(f){var g=f.relationships,h=null;if(g&&g.length)for(b=0;b<g.length;b++){var l=g[b];l.id===e.id.get()&&(h=l)}if(h){("esriRelCardinalityOneToOne"===h.cardinality||"esriRelCardinalityOneToMany"===
h.cardinality&&"esriRelRoleDestination"===h.role)&&0<e.relatedEsriFeatureInfo.get().length&&e.validCardinality.set(!1);g=this.app.site.essentialsMap.mapServices;for(b=0;b<g.length;b++)h=g[b].serviceLayer,h instanceof esri.layers.FeatureLayer&&h.layerId===e.relatedTableId.get()&&!1===h.getEditCapabilities().canCreate&&e.canAdd.set(!1);f=d.essentials.utilities.LayerUtilities.decomposeFeatureLayerUrl(f.url).serviceUrl+"/"+e.relatedTableId.get();this.app.offlineManager.isOfflineMapActive.get()&&(f=this.app.offlineManager.syncInfo.findLayerOrTable(f),
this._canEditOffline&&f&&f.canEdit||e.canAdd.set(!1))}}};a.prototype._resolveDatalinksAfterFeaturesResolved=function(a,e){if(a&&!(1>e)){var b=function(){var e=a.relatedGcxFeatures.getAt(0).layer;if(e){var b=new f.infrastructure.FeatureSet;b.features.set(a.relatedGcxFeatures.get());b.layer=e;b.esriFeatureSet=new esri.tasks.FeatureSet;b.esriFeatureSet.features=a.relatedGcxFeatures.get().map(function(a){return a.esriFeature.get()});b.resolveDataLinks()}};if(a.relatedGcxFeatures.length()===e)b();else var d=
a.relatedGcxFeatures.bind(this,function(){a.relatedGcxFeatures.length()===e&&(a.relatedGcxFeatures.unbind(d),d=null,b())})}};return a}(g.RelatedFeaturesViewModelBase);g.RelatedFeaturesViewModel=h})(g.FeatureDetailsProviders||(g.FeatureDetailsProviders={}))})(g.FeatureDetails||(g.FeatureDetails={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.initialize=function(a){var c=this;d.prototype.initialize.call(this,a);if(a&&"string"==typeof a.title)if(a.titleLibraryId&&a.title.startsWith("@"))if(this.app.allLibrariesLoaded)document.title=this.app.getResource(a.titleLibraryId,a.title.substring(1));else var e=this.app.event("ViewerLibrariesDownloadedEvent").subscribe(this,function(){c.app.event("ViewerLibrariesDownloadedEvent").unsubscribe(e);
document.title=c.app.getResource(a.titleLibraryId,a.title.substring(1))});else document.title=a.title};return b}(d.framework.application.ModuleBase);f.BrowserModule=g})(f.browser||(f.browser={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(l){function b(a,c){var e=this;l.call(this,a,c);this.headerText=new Observable("");this.currentFeature=new Observable(null);this.currentFeatureSet=this.currentEsriFeatureClone=null;this.viewsToActivate=[];this.featureMultiRegionCss=new Observable("");this.currentFeature.bind(this,function(){return e._handleCurrentFeatureChanged()});this.regionViewSwitcherWidgetMarkup="Mapping/modules/FeatureDetails/FeatureDetailsSwitcherView.html";
this.regionViewSwitcherWidgetType="geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsSwitcherView";this.regionViewSwitcherLibraryId=this.libraryId;this._registerCommands();this._subscribeEvents()}__extends(b,l);b.prototype.initialize=function(a){a&&(this._config=a,this._config.autoInsertViewSwitcher=!0);l.prototype.initialize.call(this,a)};b.prototype.createViewSwitcherViewModel=function(a){a=new g.FeatureDetailsSwitcherViewModel(this.app,this.libraryId,a);a.initialize(this._config);
return a};b.prototype.processRegion=function(a){var c=this;l.prototype.processRegion.call(this,a);a.regionActive.bind(this,function(e){return c._updateMultiRegionViewCss(a,e)})};b.prototype._updateMultiRegionViewCss=function(a,c){var e="";this.regionDescriptors.get().forEach(function(a){return e=e.concat(" {0}-{1}".format(a.regionName,a.regionActive.get()?"active":"inactive"))});this.featureMultiRegionCss.set(e.trim())};b.prototype._registerCommands=function(){var a=this;this.app.command("_updateFeatureDetailViewModels").register(this,
function(c){c&&c instanceof f.infrastructure.Feature&&(a._setCurrentFeature(c),a.currentFeatureSet=a.currentFeature.get()?a.currentFeature.get().featureSet:null)})};b.prototype._subscribeEvents=function(){this.app.event("FeatureEditedEvent").subscribe(this,this._handleEditedFeature);this.app.event("FeatureDeletedEvent").subscribe(this,this._handleDeletedFeature);this.app.event("FSMCollectionRemovedEvent").subscribe(this,this._onFeatureSetCollectionRemoved)};b.prototype._handleDeletedFeature=function(a){(a=
a.originalFeature||a instanceof esri.Graphic?a:null)&&this.currentEsriFeatureClone&&f.infrastructure.MapUtils.esriFeaturesEqual(this.currentEsriFeatureClone,a)&&(this.currentEsriFeatureClone=null,this._deactivateViews())};b.prototype._handleEditedFeature=function(a){a.originalFeature&&a.editedFeature?this.currentEsriFeatureClone&&f.infrastructure.MapUtils.esriFeaturesEqual(a.originalFeature,this.currentEsriFeatureClone)&&(this.currentFeature.get().esriFeature.set(a.editedFeature),this._processCurrentFeature(),
this.currentEsriFeatureClone=a.editedFeature):this.app.trace.warning("FeatureDetailsViewModel: Could not handle FeatureEditedEvent. Original or Edited feature not provided.")};b.prototype._onFeatureSetCollectionRemoved=function(a){var c=a.featureSetCollection;c&&(a=this.currentFeature.get())&&a.featureSet&&(c=c.getFeatureSetById(a.featureSet.id))&&c.uniqueId==a.featureSet.uniqueId&&(this.currentFeature.set(null),this._deactivateViews())};b.prototype._setCurrentFeature=function(a){if("string"==typeof a){var c=
this.app.featureSetManager.getCollectionById(a);c?(a=c.firstFeature())?this.currentFeature.set(a):this.app.trace.error("No feature in feature set collection"):this.app.trace.error("No feature set collection found matching id: "+a)}else a&&a instanceof d.essentialsHtmlViewer.mapping.infrastructure.Feature&&(null==a.featureSet&&(c=new f.infrastructure.FeatureSet({app:this.app}),c.addFeature(a),a.featureSet=c),this.currentFeature.set(a));this._processCurrentFeature()};b.prototype._handleCurrentFeatureChanged=
function(){var a=this.currentFeature.get();this.currentEsriFeatureClone=a?d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.cloneEsriFeature(a._graphic):null};b.prototype._processCurrentFeature=function(){var a=this.currentFeature.get();this.headerText.removeSync();a&&this.headerText.sync(a.plainLabel)};b.prototype._deactivateViews=function(){for(var a=0;a<this.viewsToActivate.length;a++){var c=this.viewsToActivate[a];this.app.command("DeactivateView").execute(c)}};return b}(d.framework.ui.MultiRegion.MultiRegionViewModel);
g.FeatureDetailsViewModel=m})(g.FeatureDetails||(g.FeatureDetails={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){(function(g){var h=function(b){function a(){b.apply(this,arguments);this.showLongDescription=!1}__extends(a,b);a.prototype.initialize=function(a){b.prototype.initialize.call(this,a);a&&a.longDescription&&(this.showLongDescription=!0)};a.prototype.handleCurrentFeatureChanged=function(a){a.longDescription||a.description?(a=this.showLongDescription?a.longDescription.get():a.description.get(),this.updateProviderState(!!a)):this.app.trace.warning("Input must be a Feature")};
return a}(d.infrastructure.featureDetails.FeatureProviderBase);g.DescriptionViewModel=h})(g.FeatureDetailsProviders||(g.FeatureDetailsProviders={}))})(g.FeatureDetails||(g.FeatureDetails={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(g){var h=function(b){function a(){b.apply(this,arguments);this._presenterView=this._relatedRecordEditedToken=this._featureEditedToken=this._featureChangedToken=null}__extends(a,b);a.prototype.attach=function(a){b.prototype.attach.call(this,a);this._featureChangedToken&&(this.app.event("FeatureChangedEvent").unsubscribe(this._featureChangedToken),this._featureChangedToken=null);this._featureEditedToken&&(this.app.event("FeatureEditedEvent").unsubscribe(this._featureEditedToken),
this._featureEditedToken=null);this._featureChangedToken=this.app.event("FeatureChangedEvent").subscribe(this,this._handleFeatureChangedEvent);this._featureEditedToken=this.app.event("FeatureEditedEvent").subscribe(this,this._updateDescription);this._relatedRecordEditedToken=this.app.event("RelatedRecordEditedEvent").subscribe(this,this._handleRelatedRecordsEdited)};a.prototype.destroy=function(){b.prototype.destroy.call(this);this._featureChangedToken&&(this.app.event("FeatureChangedEvent").unsubscribe(this._featureChangedToken),
this._featureChangedToken=null);this._featureEditedToken&&(this.app.event("FeatureEditedEvent").unsubscribe(this._featureEditedToken),this._featureEditedToken=null);this._relatedRecordEditedToken&&(this.app.event("RelatedRecordEditedEvent").unsubscribe(this._relatedRecordEditedToken),this._relatedRecordEditedToken=null);this._presenterView&&(this._presenterView.destroy(),this._presenterView=null)};a.prototype.resolveWidget=function(a,e,d){return e&&"GetDescription"===a?(a=new f.infrastructure.FeatureDescriptionPresenterView(this.app,
this.libraryId),a.contentField=this.viewModel.showLongDescription?"longDescription":"description",a.root=dojo.create("div"),a.root.className="feature-description",a.attach(e),this._presenterView=a):b.prototype.resolveWidget.call(this,a,e,d)};a.prototype._handleFeatureChangedEvent=function(a){this._presenterView&&a&&this.viewModel.currentFeature.get()&&this.viewModel.currentFeature.get().token===a.token&&this._updateDescription()};a.prototype._handleRelatedRecordsEdited=function(a){var e=this.viewModel.currentFeature.get(),
b=e&&e.esriFeature.get(),d=b&&b.getLayer();e&&d&&b.attributes[d.objectIdField]===a.attributes[d.objectIdField]&&(dojo.mixin(b.attributes,a.attributes),e.esriFeature.pulse())};a.prototype._updateDescription=function(){this._presenterView.destroyBindings();this._presenterView.attach(this.viewModel.currentFeature.get())};return a}(d.framework.ui.ViewBase);g.DescriptionView=h})(g.FeatureDetailsProviders||(g.FeatureDetailsProviders={}))})(g.FeatureDetails||(g.FeatureDetails={}))})(f.modules||(f.modules=
{}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);return b}(d.framework.application.ModuleBase);f.GeolocateModule=g})(f.geolocate||(f.geolocate={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.deactivateGeolocateMenuView=function(){this.app.event("FlyoutDeactivated").publish(this);this.app.command("DeactivateView").execute("GeolocateView")};b.prototype.handleClickGeolocate=function(a,c,e){var b=this;if(this.viewModel.isTracking.get()||this.viewModel.isFollowing.get())return this.app.command("GeolocateStop").execute(),!1;if(1===this.viewModel.optionsCount.get()){if(this.viewModel.geolocateEnabled.get())return this.app.command("Geolocate").execute(),
!1;if(this.viewModel.trackingEnabled.get())return this.app.command("GeolocateTrack").execute(),!1;if(this.viewModel.followingEnabled.get())return this.app.command("GeolocateFollow").execute(),!1}else this.app.event("FlyoutActivated").publish(this),this.app.configuration.mobileMode?this.app.command("ActivateView").execute("GeolocateView"):(a={view:this,onOtherInteracted:function(a){return b._onOtherInteracted(a)}},this.app.command("TapToDismiss").execute(a),this.app.command("ToggleView").execute("GeolocateView"))};
b.prototype.handleClickMenuFind=function(a,c,e){this.app.command("Geolocate").execute();this.deactivateGeolocateMenuView();return!1};b.prototype.handleClickMenuTrack=function(a,c,e){this.app.command("GeolocateTrack").execute();this.deactivateGeolocateMenuView();return!1};b.prototype.handleClickMenuFollow=function(a,c,e){this.app.command("GeolocateFollow").execute();this.deactivateGeolocateMenuView();return!1};b.prototype._onOtherInteracted=function(a){a=$(a.target||a.srcElement);a.hasClass("geolocate-base")&&
a.hasClass("toggle-btn")||this.deactivateGeolocateMenuView()};return b}(d.framework.ui.ViewBase);f.GeolocateView=g})(f.geolocate||(f.geolocate={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(g){function b(){g.apply(this,arguments);this.visible=new Observable(!0);this.geolocateEnabled=new Observable(!1);this.geolocateWatchId=new Observable(null);this.geolocateOptions={};this.trackingEnabled=new Observable(!1);this.followingEnabled=new Observable(!1);this.adjustExtentZoomOnGeolocate=new Observable(!0);this.geolocateExtentZoomLevel=new Observable(null);this.geolocateAccuracyCircleEnabled=new Observable(!0);this.optionsCount=
new Observable(0);this.isSingle=new Observable(!1);this.isTracking=new Observable(!1);this.isFollowing=new Observable(!1);this.geolocationLayer=new esri.layers.GraphicsLayer;this.accuracyCircle=new esri.symbol.SimpleFillSymbol(esri.symbol.SimpleFillSymbol.STYLE_SOLID,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color([42,84,155,0.65]),2),new esri.Color([42,84,155,0.35]));this.indicatorIcon=null;this.mapZoomEndEventId=new Observable(null);this.activeToolChangedEventId=
new Observable(null);this.lastProjectedPoint=null;this.singleGeolocationProfiles={};this.singleGeolocationFallbackProfile={accuracyThreshold:10,timeLimit:3E4}}__extends(b,g);b.prototype.initialize=function(a){this._registerCommands();if(a&&(this.geolocateEnabled.set(a.geolocateEnabled||!1),this.trackingEnabled.set(a.trackingEnabled||!1),this.followingEnabled.set(a.followingEnabled||!1),this.geolocateOptions.enableHighAccuracy=a.hasOwnProperty("enableHighAccuracy")?a.enableHighAccuracy:!0,this.geolocateOptions.timeout=
a.hasOwnProperty("timeout")?a.timeout:Infinity,this.geolocateOptions.maximumAge=a.maximumAge||0,a.hasOwnProperty("singleGeolocationProfiles")))for(var c in a.singleGeolocationProfiles)this.singleGeolocationProfiles[c]=a.singleGeolocationProfiles[c];this.geolocateEnabled.get()||this.trackingEnabled.get()||this.followingEnabled.get()||this.visible.set(!1);navigator.geolocation?("undefined"!==typeof a.adjustExtentZoomOnGeolocate?this.adjustExtentZoomOnGeolocate.set(a.adjustExtentZoomOnGeolocate):this.adjustExtentZoomOnGeolocate.set(!0),
"undefined"!==typeof a.geolocateExtentZoomLevel?this.geolocateExtentZoomLevel.set(a.geolocateExtentZoomLevel):this.geolocateExtentZoomLevel.set(5E4),"undefined"!==typeof a.geolocateAccuracyCircleEnabled?this.geolocateAccuracyCircleEnabled.set(a.geolocateAccuracyCircleEnabled):this.geolocateAccuracyCircleEnabled.set(!0),"undefined"!==typeof a.geolocationIndicator&&(this.indicatorIcon=new esri.symbol.PictureMarkerSymbol({angle:0,xoffset:0,yoffset:0,type:"esriPMS",url:a.geolocationIndicator,contentType:"image/png",
width:24,height:24}),null==this.indicatorIcon&&(this.indicatorIcon=new esri.symbol.PictureMarkerSymbol({angle:0,xoffset:0,yoffset:0,type:"esriPMS",url:"Resources/Images/Icons/geolocate-position-32.png",contentType:"image/png",width:24,height:24}))),navigator.geolocation?(this.app.event("SiteInitializedEvent").once(this,this._handleGeolocateStateChanged),this.app.event("ApplicationOnlineEvent").subscribe(this,this._handleGeolocateStateChanged),this.app.event("ApplicationOfflineEvent").subscribe(this,
this._handleGeolocateStateChanged),this.app.event("NativeApplicationReady").subscribe(this,this._handleGeolocateStateChanged)):this.visible.set(!1),this.optionsCount.set(this.geolocateEnabled.get()?this.optionsCount.get()+1:this.optionsCount.get()),this.optionsCount.set(this.followingEnabled.get()?this.optionsCount.get()+1:this.optionsCount.get()),this.optionsCount.set(this.trackingEnabled.get()?this.optionsCount.get()+1:this.optionsCount.get())):this.visible.set(!1)};b.prototype._registerCommands=
function(){var a=this;this.app.command("ShowGeolocateMenu").register(this,function(){a.app.command("ActivateView").execute("GeolocateView")},function(){return a.visible.get()});this.app.command("Geolocate").register(this,this._geolocate);this.app.command("GeolocateTrack").register(this,this._geolocateTrack);this.app.command("GeolocateFollow").register(this,this._geolocateFollow);this.app.command("GeolocateStop").register(this,this._stopGeolocation);this.app.command("GeolocateShowBuffer").register(this,
this._showBuffer);this.app.command("GeolocateHideBuffer").register(this,this._hideBuffer)};b.prototype._handleGeolocateStateChanged=function(){var a=this,c=this.app.map,e=this.app.isOffline.get();if(!this._geolocateIsEnabled())this.visible.set(!1);else if(this.app.isNative.get())this._setVisibilityForNativeApp(c);else if(!e)this.visible.set(!0);else if(c.loaded)this._checkSpatialReferencesAndSetVisibility(c);else if(!c.loaded)this.app.event("MapLoadedEvent").once(this,function(c){return a._checkSpatialReferencesAndSetVisibility(c)})};
b.prototype._checkSpatialReferencesAndSetVisibility=function(a){this._geolocateIsEnabled();this.visible.set(!1)};b.prototype._setVisibilityForNativeApp=function(a){var c=this;if(this._geolocateIsEnabled()){var e=function(a){!a.spatialReference||102100!==a.spatialReference.wkid&&4326!==a.spatialReference.wkid?a.spatialReference?c.app.command("NativeHasCapability").execute("project",function(a){return c.visible.set(a)}):c.visible.set(!1):c.visible.set(!0)};if(a.loaded)e(a);else this.app.event("MapLoadedEvent").once(this,
function(a){return e(a)})}else this.visible.set(!1)};b.prototype._geolocateIsEnabled=function(){return this.geolocateEnabled.get()||this.trackingEnabled.get()||this.followingEnabled.get()};b.prototype._geolocate=function(a){this._stopGeolocation();a&&"toolFriendly"in a&&a.toolFriendly||this.app.command("ClearActiveTool").execute();this.singleGeolocationAccuracyThreshold=this.singleGeolocationFallbackProfile.accuracyThreshold;this.singleGeolocationTimeLimit=this.singleGeolocationFallbackProfile.timeLimit;
var c=a&&a.profile?a.profile:"default";c in this.singleGeolocationProfiles?("accuracyThreshold"in this.singleGeolocationProfiles[c]&&(this.singleGeolocationAccuracyThreshold=this.singleGeolocationProfiles[c].accuracyThreshold),"timeLimit"in this.singleGeolocationProfiles[c]&&(this.singleGeolocationTimeLimit=this.singleGeolocationProfiles[c].timeLimit)):console.error("Single geolocation profile named '"+c+"' was not found. Fallback values will be used");a&&"accuracyThreshold"in a&&(this.singleGeolocationAccuracyThreshold=
a.accuracyThreshold);a&&"timeLimit"in a&&(this.singleGeolocationTimeLimit=a.timeLimit);this.isSingle.set(!0);this._initializeGeolocation()};b.prototype._geolocateTrack=function(){this.app.command("ClearActiveTool").execute();this._stopGeolocation();this.isTracking.set(!0);this._initializeGeolocation()};b.prototype._geolocateFollow=function(){var a=this;this.app.command("ClearActiveTool").execute();this._stopGeolocation();this.isFollowing.set(!0);this.app.map.disablePan();this.mapZoomEndEventId.set(this.app.event("MapZoomEndEvent").subscribe(this,
function(){a.app.map.enablePan();a.lastProjectedPoint&&a.app.command("PanToPoint").execute(a.lastProjectedPoint);a.isFollowing.get()&&a.app.map.disablePan()}));this._initializeGeolocation()};b.prototype._initializeGeolocation=function(){var a=this,c=d.essentialsHtmlViewer.mapping.modules.geolocate.GeolocateSpoofer||navigator.geolocation;if(navigator&&c)null!==this.geolocateWatchId.get()&&c&&(c.clearWatch(this.geolocateWatchId.get()),this.geolocateWatchId.set(null)),this.activeToolChangedEventId.set(this.app.event("ActiveToolChanged").subscribe(this,
function(){a._stopGeolocation(!0)})),this.isSingle.get()&&(this.singleGeolocationBestEventPayload=null,this.singleGeolocatedEventAlreadyPublished=!1,this.singleGeolocationTimeoutId&&(clearTimeout(this.singleGeolocationTimeoutId),this.singleGeolocationTimeoutId=null),this.singleGeolocationTimeoutId=setTimeout(function(){a._haltSingleGeolocation(!0)},this.singleGeolocationTimeLimit)),this.app.map.removeLayer(this.geolocationLayer),this._showBusyLocating(!0),c=d.essentialsHtmlViewer.mapping.modules.geolocate.GeolocateSpoofer||
navigator.geolocation,this.geolocateWatchId.set(c.watchPosition(function(c){return a._handleGeolocationResult(c)},function(c){return a._handleGeolocationError(c)},this.geolocateOptions));else{var c=this.app.getResource(this.libraryId,"language-geolocate-error"),e=this.app.getResource(this.libraryId,"language-geolocate-error-browser");this.app.command("Alert").execute(e,c)}};b.prototype._showBusyLocating=function(a){var c=this;a?(a=this.app.getResource(this.libraryId,"language-geolocate-in-progress"),
a=new d.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(a,null,this.isSingle.get()?function(){c._haltSingleGeolocation()}:function(){c._stopGeolocation()}),a.showBusyIcon=!0,a.timeoutMS=0,this.app.command("AddStatus").execute(a)):this.app.command("RemoveStatus").execute("")};b.prototype._hideBuffer=function(){this.accuracyGraphic&&this.geolocationLayer.remove(this.accuracyGraphic);this.indicatorGraphic&&this.geolocationLayer.remove(this.indicatorGraphic)};b.prototype._showBuffer=
function(){this.accuracyGraphic&&this.geolocationLayer.add(this.accuracyGraphic);this.indicatorGraphic&&this.geolocationLayer.add(this.indicatorGraphic)};b.prototype._handleGeolocationResult=function(a){var c=this;if(a&&a.coords){var e=new esri.SpatialReference({wkid:4326}),b=new esri.SpatialReference({wkid:102100}),e=new esri.geometry.Point(a.coords.longitude,a.coords.latitude,e),g=esri.geometry.geographicToWebMercator(e),b=d.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.createCircle(b,
g,a.coords.accuracy,60),e=new esri.tasks.ProjectParameters;e.geometries=[b];e.outSR=this.app.map.spatialReference;var n=function(a){c._showBusyLocating(!1);c._stopGeolocation();var e;e=c.app.isOffline.get()?c.getResource("language-geolocate-error-offline"):c.getResource("language-geolocate-error-projection").format(a.message);c.app.trace.warning(a.toString());c.app.command("Alert").execute(e)};f.infrastructure.GeometryUtils.project(e,function(e){var b=(e=e&&0<e.length?e[0]:null)?e.getExtent():null,
b=b?b.getCenter():null,k=new d.essentialsHtmlViewer.mapping.infrastructure.eventArgs.GeolocationEventArgs;k.mapPoint=g;k.projectedMapPoint=b;k.location=a;k.accuracyThreshold=c.singleGeolocationAccuracyThreshold;c.isFollowing.get()?k.typeOfGeolocation="following":c.isTracking.get()?k.typeOfGeolocation="tracking":k.typeOfGeolocation="single";(c.isFollowing.get()||c.isTracking.get())&&c.app.event("GeolocatedEvent").publish(k);if(c.isSingle.get()){if(!c.singleGeolocationBestEventPayload||k.location.coords.accuracy<=
c.singleGeolocationBestEventPayload.location.coords.accuracy)c.singleGeolocationBestEventPayload=k;k=c.singleGeolocationBestEventPayload;k.location.coords.accuracy<=c.singleGeolocationAccuracyThreshold&&(clearTimeout(c.singleGeolocationTimeoutId),c.singleGeolocationTimeoutId=null,c._showBusyLocating(!1),c._updateStatus(k.location),null!==c.geolocateWatchId.get()&&((d.essentialsHtmlViewer.mapping.modules.geolocate.GeolocateSpoofer||navigator.geolocation).clearWatch(c.geolocateWatchId.get()),c.geolocateWatchId.set(null)),
c.app.event("GeolocatedEvent").publish(k),c.singleGeolocatedEventAlreadyPublished=!0)}!c.isTracking.get()&&null==c.geolocationLayer.getMap()&&c.adjustExtentZoomOnGeolocate.get()&&c.app.map.setScale(c.geolocateExtentZoomLevel.get());e&&b?(c.lastProjectedPoint=b,c.isTracking.get()||(c.app.map.enablePan(),c.app.command("PanToPoint").execute(b),c.isFollowing.get()&&c.app.map.disablePan()),null==c.geolocationLayer.getMap()?((c.isFollowing.get()||c.isTracking.get())&&c._showBusyLocating(!1),"undefined"==
typeof c.indicatorGraphic&&(c.indicatorGraphic=new esri.Graphic(b,c.indicatorIcon),c.accuracyGraphic=new esri.Graphic(e,c.accuracyCircle)),c.geolocationLayer.add(c.indicatorGraphic),c.geolocateAccuracyCircleEnabled.get()?(c.accuracyGraphic.setGeometry(e),c.geolocationLayer.add(c.accuracyGraphic)):c.geolocationLayer.remove(c.accuracyGraphic),c.app.map.addLayer(c.geolocationLayer)):(c.indicatorGraphic.setGeometry(b),c.geolocateAccuracyCircleEnabled.get()&&c.accuracyGraphic.setGeometry(e)),(c.isFollowing.get()||
c.isTracking.get())&&c._updateStatus(a),c.app.map.on("click",function(a){if(c.accuracyGraphic===a.graphic||c.indicatorGraphic==a.graphic)c.geolocationLayer.remove(c.accuracyGraphic),c.isFollowing.get()||c.isTracking.get()||c._stopGeolocation()})):n(Error("Cannot add the indicators and status message to the map without a proper geometry."))},n,this.app)}};b.prototype._handleGeolocationError=function(a){this._showBusyLocating(!1);this._stopGeolocation();var c;switch(a.code){case a.PERMISSION_DENIED:c=
"language-geolocate-error-permission";break;case a.POSITION_UNAVAILABLE:c="language-geolocate-error-position-unavailable";break;case a.TIMEOUT:c="language-geolocate-error-timeout";break;default:c="language-geolocate-error-unknown"}this.app.event("GeolocationFailedEvent").publish({error:a,isFollowing:this.isFollowing.get(),isTracking:this.isTracking.get()});c=this.getResource("language-geolocate-error")+this.getResource(c);this.app.trace.warning(c+": "+a.message);this.app.command("Alert").execute(c)};
b.prototype._haltSingleGeolocation=function(a){void 0===a&&(a=!1);var c=this.geolocateWatchId.get(),e=d.essentialsHtmlViewer.mapping.modules.geolocate.GeolocateSpoofer||navigator.geolocation;null!==c&&e&&(e.clearWatch(c),this.geolocateWatchId.set(null));this.singleGeolocationTimeoutId&&(clearTimeout(this.singleGeolocationTimeoutId),this.singleGeolocationTimeoutId=null);this.singleGeolocationBestEventPayload?(this._showBusyLocating(!1),this._updateStatus(this.singleGeolocationBestEventPayload.location),
this.singleGeolocatedEventAlreadyPublished||(c=this.singleGeolocationBestEventPayload,c.timedOut=a,this.app.event("GeolocatedEvent").publish(c),this.singleGeolocatedEventAlreadyPublished=!0)):(this._stopGeolocation(),this.app.command("Alert").execute(this.app.getResource(this.libraryId,"language-geolocate-error-no-results"),this.app.getResource(this.libraryId,"language-geolocate-title")))};b.prototype._stopGeolocation=function(a){void 0==a&&(a=!1);var c=d.essentialsHtmlViewer.mapping.modules.geolocate.GeolocateSpoofer||
navigator.geolocation;null!==this.geolocateWatchId.get()&&c&&(c.clearWatch(this.geolocateWatchId.get()),this.geolocateWatchId.set(null));this.singleGeolocationTimeoutId&&(clearTimeout(this.singleGeolocationTimeoutId),this.singleGeolocationTimeoutId=null);this.lastProjectedPoint=null;this.app.event("MapZoomEndEvent").unsubscribe(this.mapZoomEndEventId.get());this.app.event("ActiveToolChanged").unsubscribe(this.activeToolChangedEventId.get());this.app.map.removeLayer(this.geolocationLayer);this.isSingle.set(!1);
this.isTracking.set(!1);this.isFollowing.set(!1);this.app.command("RemoveStatus").execute("");a||this.app.map.enableMapNavigation();this.app.command("DeactivateView").execute("GeolocateStatusView")};b.prototype._updateStatus=function(a){var c=this,e=this.app.viewManager.getViewById("GeolocateStatusView");if(e){e.viewModel.onClose=function(){c._stopGeolocation()};var b;this.isSingle.get()?b="single":this.isTracking.get()?b="tracking":this.isFollowing.get()&&(b="following");e.viewModel.updateStatus(b,
a);e.viewModel.status.get()||e.viewModel.showCoordinates.get()?this.app.viewManager.activateView(e):this.app.viewManager.deactivateView(e)}};return b}(d.framework.ui.ViewModelBase);g.GeolocateViewModel=m})(g.geolocate||(g.geolocate={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c)}__extends(b,d);b.prototype.attach=function(a){a&&(a.layerActionsView=this,d.prototype.attach.call(this,a))};b.prototype.handleClickHyperlink=function(a,c,e){return this.app.followNavigationLink({url:e.uri.get(),element:c})};return b}(d.essentialsHtmlViewer.mapping.infrastructure.menus.MenuView);f.LayerActionsView=g})(f.layerList||(f.layerList={}))})(f.modules||(f.modules={}))})(g.mapping||
(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c);this.layerHyperlinks=new ObservableCollection;this.registerCommands();this.subscribeToEvents()}__extends(b,d);b.prototype.registerCommands=function(){var a=this;this.app.command("ShowLayerActions").register(this,function(c){c&&a.layerActionsView&&(a.layerActionsView.viewModel.menuContext.set(c),a.layerActionsView.title.set(c.displayName),a.layerHyperlinks.clear(),a.generateHyperlinks(c),
a.app.command("ActivateView").execute(a.layerActionsView.id))})};b.prototype.subscribeToEvents=function(){var a=this;this.app.event("LayerDisplayNameChanged").subscribe(this,function(c){a.layerActionsView.title.set(c.displayName)})};b.prototype.generateHyperlinks=function(a){var c=this;a.layerHyperlinks.forEach(function(e){c.layerHyperlinks.addItem(new f.LayerHyperlinkViewModel(c.app,e,a,c.libraryId))});a.mapService&&a.mapService.layerHyperlinks&&a.mapService.layerHyperlinks.forEach(function(e){c.layerHyperlinks.addItem(new f.LayerHyperlinkViewModel(c.app,
e,a,c.libraryId))})};return b}(d.essentialsHtmlViewer.mapping.infrastructure.menus.MenuViewModel);f.LayerActionsViewModel=g})(f.layerList||(f.layerList={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(d){function b(a,c){d.call(this,a,c);this._layerList=this._childrenChangedToken=null;this._isApplyingState=!1;this.layerListItems=new ObservableCollection([]);this.layerThemes=new ObservableCollection;this.activeLayerTheme=new Observable(null);this.viewInitialized=new Observable(!1);this.activeLayerTheme.bind(this,dojo.hitch(this,this._setActiveLayerTheme))}__extends(b,d);b.prototype.initialize=function(a){var c=this;d.prototype.initialize.call(this,
a);this.showTransparencySlider=a.showTransparencySlider||!1;this.autoExpandLegendSwatches=a.autoExpandLegendSwatches||!1;this.showTransparencySlider||this.app.trace.info("Transparency sliders not enabled for map services in the Configurable LayerList module");this.app.event("LayerListInitializedEvent").once(this,function(a){c._layerList=a;a=c._layerList.children.get();c.layerListItems.clear();c.setupListItems(a);c.layerListItems.addItems(a);c._childrenChangedToken=c._layerList.children.bind(c,function(a){switch(a.type){case "append":case "insert":var e=
c._layerList.children.get().slice(a.rangeStart,a.rangeEnd+1);c.setupListItems(e);c.layerListItems.insertItems(a.rangeStart,e);break;case "remove":case "clear":c.layerListItems.removeRange(a.rangeStart,a.rangeEnd)}});c._layerList.mapInfo&&c._layerList.mapInfo.gcxMap&&c._layerList.mapInfo.gcxMap.layerThemesInfo&&(a=c._layerList.mapInfo.gcxMap.layerThemesInfo,c.layerThemes.addItems(a.themes),a.activeTheme&&c.activeLayerTheme.set(a.activeTheme),dojo.connect(a,"layerThemeChangedEvent",function(a){a.currTheme&&
c.activeLayerTheme.get()&&c.activeLayerTheme.get()!==a.currTheme&&c.activeLayerTheme.set(a.currTheme)}))})};b.prototype.onDestroy=function(){d.prototype.onDestroy.call(this);this._childrenChangedToken&&this._layerList&&this._layerList.children.unbind(this._childrenChangedToken)};b.prototype.setupListItems=function(a){var c=this,e=function(a){for(var b=0;b<a.length;b++)c._processListItem(a[b]),a[b].children&&a[b].children.length()&&e(a[b].children.get())};e(a)};b.prototype._processListItem=function(a){a.canAdjustOpacity.get()&&
!this.showTransparencySlider&&a.canAdjustOpacity.set(!1);if(a.layerList.enableLegendIntegration&&this.autoExpandLegendSwatches&&(a.type===f.infrastructure.layerList.LayerListItemType.LAYER||a.type===f.infrastructure.layerList.LayerListItemType.GRAPHICSLAYER)){var c=function(){a.expandLegend.set(a.legendItems&&1<a.legendItems.length())};if(a.legendItems&&!a.legendItems.length())a.legendItems.once(this,c);else c()}};b.prototype._setActiveLayerTheme=function(a){a&&!a.isActive&&a.applyToMap()};return b}(d.framework.ui.ViewModelBase);
g.LayerListViewModel=m})(g.layerList||(g.layerList={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=f.infrastructure.FormatUtils,l=f.infrastructure.NumberFormat,b=function(a){function c(){a.apply(this,arguments);this.tSliderElement=null;this.initialOpacity=1;this.layerName=this.descriptionText="";this.SLIDER_MIN_VAL=0;this.SLIDER_MAX_VAL=1;this.SLIDER_STEP_INCREMENT=0.01}__extends(c,a);c.prototype.attach=function(c){a.prototype.attach.call(this,c);if(this.viewModel.opacity){this.initialOpacity=this.viewModel.opacity.get();var b=
$(this.tSliderElement);this.viewModel.opacity.bind(this,function(a){return b.slider("value",a)})}this.layerName=c.name.get();this.descriptionText="{0} {1}: {2}".format(this.layerName,this.app.getResource(this.libraryId,"language-layerlist-opacity-slider-description"),m.formatNumber(c.opacity.get(),l.PERCENT,{fractionalDigits:0}))};c.prototype.added=function(c){a.prototype.added.call(this,c);this._setupJQuerySlider()};c.prototype._setupJQuerySlider=function(){var a=this,c={animate:!0,min:this.SLIDER_MIN_VAL,
max:this.SLIDER_MAX_VAL,step:this.SLIDER_STEP_INCREMENT,orientation:"horizontal",value:this.initialOpacity,slide:function(c,b){return a._handleSliderValueChanged(c,b)}},b=$(this.tSliderElement);b.slider(c);c=b.children(".ui-slider-handle");c.attr("aria-label",this.descriptionText);c.attr("title",this.getResource("language-layerlist-opacity"));c.text(this.getResource("language-layerlist-opacity-slider-handle"))};c.prototype._handleSliderValueChanged=function(a,c){c&&void 0!=c.value&&this.viewModel.opacity&&
(this.viewModel.opacity.set(c.value),this.descriptionText="{0} {1}: {2}".format(this.layerName,this.app.getResource(this.libraryId,"language-layerlist-opacity-slider-description"),m.formatNumber(c.value,l.PERCENT,{fractionalDigits:0})),$(this.tSliderElement).children("a").attr("aria-label",this.descriptionText))};c.prototype.handleTransparencySliderClick=function(){return!1};return c}(d.framework.ui.ViewBase);g.TransparencySliderView=b})(g.layerList||(g.layerList={}))})(f.modules||(f.modules={}))})(g.mapping||
(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,c){f.call(this,a,c)}__extends(b,f);b.prototype.initialize=function(a){var c=this;a=function(){c.app.site.essentialsMap&&c.app.site.essentialsMap.layerThemesInfo&&c.app.site.essentialsMap.layerThemesInfo.layerThemesConfigured&&(c.layerThemesInfo=c.app.site.essentialsMap.layerThemesInfo,c.app.site.hasNamedExtents&&(c.namedExtents=c.app.site.namedExtents),c.layerThemesInfo.activeTheme&&c._handleConfiguredThemeProperties({currTheme:c.layerThemesInfo.activeTheme,
prevTheme:c.layerThemesInfo.previousTheme}),c._registerEvents());c._registerCommands()};if(this.app.site&&this.app.site.isInitialized)a();else this.app.event("SiteInitializedEvent").once(this,a)};b.prototype._registerCommands=function(){this.app.command("SwitchToLayerTheme").register(this,this._switchToLayerThemeImpl)};b.prototype._registerEvents=function(){var a=this;this.layerThemesInfo&&(dojo.connect(this.layerThemesInfo,"layerThemeChangingEvent",function(c){a.app.event("LayerThemeChangingEvent").publish(c)}),
dojo.connect(this.layerThemesInfo,"layerThemeChangedEvent",function(c){a._handleConfiguredThemeProperties(c);a.app.event("LayerThemeChangedEvent").publish(c)}))};b.prototype._switchToLayerThemeImpl=function(a){if(this.layerThemesInfo&&this.layerThemesInfo.layerThemesConfigured){var c=this.layerThemesInfo.getTheme(a,!0);c?c.applyToMap():this.app.trace.warning("LayerThemeModule: Could not switch layer theme to: {0}. Specified theme not found.".format(a))}else this.app.trace.warning("LayerThemeModule: Could not switch layer theme to: {0}. No layer themes configured.".format(a))};
b.prototype._handleConfiguredThemeProperties=function(a){var c=this;if(a.currTheme&&a.currTheme.properties&&a.currTheme.properties.length)for(var e=0;e<a.currTheme.properties.length;e++){var b=a.currTheme.properties[e];switch(b.name){case "LayerThemeNamedExtent":case "layerThemeNamedExtent":case "layerthemenamedextent":case "LAYERTHEMENAMEDEXTENT":if(this.namedExtents)for(var f=0;f<this.namedExtents.length;f++)if(this.app.map&&(this.namedExtents[f].id===b.value||this.namedExtents[f].displayName===
b.value)){if(this.app.map.loaded)d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(this.app,this.namedExtents[f].extent,10,!0);else var g=this.app.map.on("load",function(){g.remove();d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(c.app,c.namedExtents[f].extent,10,!0)});break}break;default:this.app.trace.info("LayerThemesModule: Property {0} not supported by the Geocortex Viewer for HTML".format(b.name))}}};return b}(d.framework.application.ModuleBase);
f.LayerThemesModule=g})(f.layerThemes||(f.layerThemes={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c)}__extends(b,d);b.prototype.handleClose=function(a,c,e){this.app.viewManager.deactivateView(this);this.app.event("MapTipClosedEvent").publish()};return b}(d.framework.ui.ViewBase);f.MapTipView=g})(f.maptips||(f.maptips={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,c){f.call(this,a,c);this.fsc=null;this.currentFeature=new Observable(null);this.searchSuggestion=this.title=null;this.showNoResults=new Observable(!1);this.showLoading=new Observable(!0);this.containerView=this.contentField=this.calloutID=null;this.features=new ObservableCollection;this.presentableFeatures=new d.framework.ui.PresentableCollection(this.features);this.hasMultipleFeatures=new Observable(!1);
this.hasNullGeometry=new Observable(!1);this._esriFeatureBindToken=this._boundEsriFeature=this._fscBindHandle=null;this.currentFeature.bind(this,this.currentFeatureChanged);this.title=new Observable(this.app.getResource(this.libraryId,"language-common-results"));this.app.event("FSMCollectionClosedEvent").subscribe(this,this.fsmCollectionClosed);this.hasMultipleFeatures.syncTransform(this.presentableFeatures.numberOfItems,function(a){return 1<a});this.searchSuggestion=new Observable(this.app.getResource(this.libraryId,
"language-common-no-results-short"))}__extends(b,f);b.prototype.setFeatureSetCollection=function(a){this.fsc&&this._fscBindHandle&&(this.fsc.featureSets.bindingEvent.unsubscribe(this._fscBindHandle),this._fscBindHandle=null);this.fsc=a;this.updateFeatures();this.updateCurrentFeature();var c=this.app.featureSetManager.getSearchSuggestion(a.sourceName);this.searchSuggestion.set(c?c:this.app.getResource(this.libraryId,"language-common-no-results-short"));a&&(this._fscBindHandle=a.featureSets.bindingEvent.subscribe(this,
function(a){this.updateFeatures();"clear"===a.type?this.clearCurrentFeature():this.updateCurrentFeature()}))};b.prototype.updateCurrentFeature=function(){var a=[];this.fsc&&this.fsc.featureSets&&0<this.fsc.featureSets.length()&&(a=this.fsc.featureSets.get().filter(function(a){return!a.layer||a.layer&&a.layer.showMapTips}));a.length&&0<a[0].features.length()?(a=a[0].features.getAt(0))&&this.currentFeature.get()!==a&&this.currentFeature.set(a):this.currentFeature.set(null)};b.prototype.updateFeatures=
function(){var a=[];if(this.fsc&&this.fsc.featureSets)for(var c=0;c<this.fsc.featureSets.length();c++){var e=this.fsc.featureSets.getAt(c);if((!e.layer||e.layer.showMapTips)&&e.features)for(var b=0;b<e.features.length();b++)a.push(e.features.getAt(b))}else this.currentFeature.get()&&(a=[this.currentFeature.get()]);this.features.set(a)};b.prototype.clearCurrentFeature=function(){this.title.removeSync();this.title.set(this.app.getResource(this.libraryId,"language-common-results"));this.isFscOpen()?
(this.showNoResults.set(!1),this.showLoading.set(!0)):(this.showNoResults.set(!0),this.showLoading.set(!1))};b.prototype.currentFeatureChanged=function(a){var c=this;this.hasNullGeometry.set(!1);if(a){this._esriFeatureBindToken&&this._boundEsriFeature&&(this._boundEsriFeature.unbind(this._esriFeatureBindToken),this._esriFeatureBindToken=this._boundEsriFeature=null);this._boundEsriFeature=a.esriFeature;this._esriFeatureBindToken=this._boundEsriFeature.bind(this,function(a){return c.currentFeature.pulse()});
for(var e=0;e<this.features.length();e++)if(this.features.getAt(e)===this.currentFeature.get()){this.presentableFeatures.currIndexStart.set(e);this.presentableFeatures.currIndexEnd.set(e);break}this.title.sync(a.label);a&&a.esriFeature.get()&&!a.esriFeature.get().geometry&&this.hasNullGeometry.set(!0);this.showNoResults.set(!1);this.showLoading.set(!1)}else this.clearCurrentFeature();this.calloutID&&this.app.viewManager.notifyDimensionsChanged(this.containerView)};b.prototype.isFscOpen=function(){return this.fsc?
this.app.featureSetManager.isCollectionOpen(this.fsc.id):!1};b.prototype.fsmCollectionClosed=function(a){this.fsc&&a.featureSetCollectionId==this.fsc.id&&this.updateCurrentFeature()};return b}(d.framework.ui.ViewModelBase);f.MapTipContentViewModel=g})(f.maptips||(f.maptips={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.attach=function(a){var c=this;d.prototype.attach.call(this,a);this._fdpv=new f.infrastructure.FeatureDescriptionPresenterView(this.app,this.libraryId);this._fdpv.contentField="label";a.title.bind(this,function(a){var b=c.viewModel.currentFeature.get();c._fdpv.destroyBindings();c._fdpv.root=c.titleElement;b||(c._fdpv.root.innerHTML=null,c._fdpv.root.innerText=
a);c._fdpv.attach(b)})};b.prototype.handleMoveNext=function(){var a=this.viewModel.presentableFeatures.currIndexStart.get(),c=this.viewModel.presentableFeatures;a<c.numberOfItems.get()-1?this.selectFeature(c.getAt(a+1)):c.numberOfItems.get()&&this.selectFeature(c.getAt(0))};b.prototype.handleMovePrev=function(){var a=this.viewModel.presentableFeatures.currIndexStart.get(),c=this.viewModel.presentableFeatures;0<a?this.selectFeature(c.getAt(a-1)):c.numberOfItems.get()&&this.selectFeature(c.getAt(c.numberOfItems.get()-
1))};b.prototype.handleSelect=function(){this.viewModel.calloutID&&this.app.viewManager.notifyDimensionsChanged(this.viewModel.containerView)};b.prototype.selectFeature=function(a){this.viewModel.currentFeature.set(a);this.viewModel.calloutID&&this.app.viewManager.notifyDimensionsChanged(this.viewModel.containerView)};return b}(d.framework.ui.ViewBase);g.MapTipHeaderView=m})(g.maptips||(g.maptips={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){var m=function(d){function b(){d.apply(this,arguments);this._addedGraphicsToMapLayer=[]}__extends(b,d);b.prototype.addToMapGraphicLayer=function(a){var c=this;void 0===a&&(a=!1);a&&(this._addedGraphicsToMapLayer=[]);this._addedGraphicsToMapLayer.push(this.app.map.graphics.add(this.highlightGraphic));this.highlightIdTagGraphic&&this._addedGraphicsToMapLayer.push(this.app.map.graphics.add(this.highlightIdTagGraphic));this.textGraphics.forEach(function(a){c._addedGraphicsToMapLayer.push(c.app.map.graphics.add(a))});
this.show()};b.prototype.getMapGraphics=function(){return this._addedGraphicsToMapLayer};b.prototype.addToMeasurementLayer=function(a){void 0===a&&(a=!0);d.prototype.addToLayer.call(this,a)};b.prototype.hide=function(){d.prototype.hide.call(this);this._addedGraphicsToMapLayer.forEach(function(a){a.hide()});return this};b.prototype.show=function(){d.prototype.show.call(this);this._addedGraphicsToMapLayer.forEach(function(a){a.show()});return this};b.prototype.assignMeasurementId=function(a){d.prototype.assignGraphicIdentifierKey.call(this,
"measurementId",a)};return b}(d.infrastructure.highlightedLabel.HighlightedLabelGraphic);g.HighlightedMeasurementLabel=m})(g.measurement||(g.measurement={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c);this.measurementSwitcherView=null}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a);this.measurementSwitcherView=this.app.viewManager.getViewById("MeasurementUnitSwitcherView")};b.prototype.activateUnitSwitcherView=function(){this.measurementSwitcherView&&!this.measurementSwitcherView.isActive&&this.app.command("ActivateView").execute("MeasurementUnitSwitcherView")};
b.prototype.deactivateUnitSwitcherView=function(){this.measurementSwitcherView&&this.measurementSwitcherView.isActive&&this.app.command("DeactivateView").execute("MeasurementUnitSwitcherView")};b.prototype.handleClickClose=function(){this.deactivateUnitSwitcherView();this.app.command("ClearActiveTool").execute()};b.prototype.handleShowLengthSwitcher=function(){this.viewModel.measurementInProgress.get()||(this.viewModel.lengthSwitcherSelected.set(!0),this.activateUnitSwitcherView())};b.prototype.handleShowAreaSwitcher=
function(){this.viewModel.measurementInProgress.get()||(this.viewModel.lengthSwitcherSelected.set(!1),this.activateUnitSwitcherView())};b.prototype.handleSetLengthUnits=function(a,c,e){this.viewModel.selectedLengthUnits.set(e);this.deactivateUnitSwitcherView()};b.prototype.handleSetAreaUnits=function(a,c,e){this.viewModel.selectedAreaUnits.set(e);this.deactivateUnitSwitcherView()};return b}(d.framework.ui.ViewBase);f.MeasurementView=g})(f.measurement||(f.measurement={}))})(f.modules||(f.modules={}))})(g.mapping||
(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){var m=d.infrastructure.FormatUtils,l=d.infrastructure.NumberFormat,b=function(){function a(a,e,b){var g=this;this.GCX_UNIT_YARDS=12345;this.GCX_UNIT_SQ_NAUTICAL_MILES="gcXSqNauticalMileConstant";this.geometryIdCounter=1;this.descriptorContainer=[];this.measurementLayerId=this.markupLayerId=null;this.unit={feet:null,yard:null,meter:null,kilometer:null,mile:null,nauticalMile:null,sqFeet:null,sqYard:null,sqMeter:null,sqKilometer:null,sqMile:null,
sqNauticalMile:null,acre:null,hectare:null};this.measurementResultTypes=[];this.coordinateFractionalDigits=4;this.measurementFractionalDigits=2;this.degreeFormat=d.infrastructure.coordinates.AngleFormat.DD;this.angleDirectionSystem=d.infrastructure.coordinates.AngleDirectionSystem.POLAR;this.addedMapGraphics=[];this._measurementLayersCreated=this._currentGeometryInProcess=this._currentLineSegmentInProcess=this._areaUnitString=this._lengthUnitString=this._areaUnit=this._lengthUnit=this._predictiveMeasurementCount=
this._measurementModule=this._predictiveMeasurementsGraphic=this._mapOutToken=this._delayedExecuteToken=this._predictiveMeasurementToken=this._zoomEndToken=null;this._toolActive=!1;this._predictiveMeasurementTextSize=this._predictiveMeasurementHighlightRadius=this._predictiveMeasurementOutlineWidth=this._predictiveMeasurementOutlineColor=this._predictiveMeasurementHighlightColor=this._predictiveMeasurementTextColor=null;this.app=e;this.libraryId=b;this._measurementModule=a;this._predictiveMeasurementCount=
0;this._measurementLayersCreated=!1;this.measurementInProgress=new Observable(!1);this.descriptorContainerEmpty=new Observable(!0);this._getUnitLanguageResources();this._subscribeEvents();this.descriptorContainerEmpty.bind(this,function(a){a&&g._zoomEndToken?(g._zoomEndToken.remove(),g._zoomEndToken=null,g.app.command("ClearMarkup").raiseCanExecuteChanged()):a||g._zoomEndToken||(g._zoomEndToken=g.app.map.on("zoom-end",dojo.hitch(g,g.refreshLabels)))})}a.prototype._subscribeEvents=function(){this.app.event("MarkupEditingStartedEvent").subscribe(this,
this._processMarkupEditingStarted);this.app.event("MarkupEditingStoppedEvent").subscribe(this,this._processMarkupEditingStopped);this.app.event("MarkupDeletedEvent").subscribe(this,this._processMarkupDeleted);this.app.event("MarkupClearedEvent").subscribe(this,this.destroyAllDescriptors)};a.prototype.formatMeasurement=function(a,e){void 0===e&&(e=2);return null==a||"number"!==typeof a?"":m.formatNumber(a,l.NUMBER,{fractionalDigits:e})};a.prototype.measurementCompleted=function(){var a=this;this.addedMapGraphics.forEach(function(e){e.getMapGraphics().forEach(function(e){a.app.map.graphics.remove(e)})});
this.addedMapGraphics.forEach(function(a){a.addToMeasurementLayer(a.isVisible())})};a.prototype.createDescriptor=function(a,e){var b=null;switch(a){case g.DescriptorType.LINE_SEGMENT:this._currentLineSegmentInProcess=b=new g.LineSegmentDescriptor(e,this.app);break;case g.DescriptorType.POLYLINE:case g.DescriptorType.POLYGON:b=new g.GeometryDescriptor(this.geometryIdCounter.toString(),a,e,this.app);this.descriptorContainer.push(b);this.geometryIdCounter++;this._currentGeometryInProcess=b;break;default:this._reportStatus("MeasurementMarkupManager: Invalid Descriptor type",
"error",!1)}this.descriptorContainerEmpty.set(!1);return b};a.prototype.destroyDescriptor=function(a,e,b){var d=this;void 0===e&&(e=!1);void 0===b&&(b=!0);for(var f=0;f<this.descriptorContainer.length;f++)if(e||this.descriptorContainer[f].id===a){var g=this.descriptorContainer[f];g.setInactive();for(var h=0;h<g._lineSegments.length;h++){var l=g._lineSegments[h];this._removeGraphicFromLayer(l.graphic);this._removeHighlightedLabelFromLayer(l.highlightedLabelGraphic)}(e||!e&&b)&&this._removeGraphicFromLayer(g.graphic);
g.highlightedLabelGraphic&&(this._removeGraphicFromLayer(g.highlightedLabelGraphic.highlightGraphic),g.highlightedLabelGraphic.textGraphics.forEach(function(a){d._removeGraphicFromLayer(a)}),this._removeHighlightedLabelFromLayer(g.highlightedLabelGraphic));g.measurementData&&(h=this.app.featureSetManager.getCollectionById("Measurement"))&&h.featureSets.removeItem(g.measurementData);this._currentGeometryInProcess&&this._currentGeometryInProcess.id===g.id&&(this._currentGeometryInProcess=null);this.app.event("MeasurementMarkupDeleted").publish({graphic:g.graphic,
measurementDescriptor:g});if(e)f===this.descriptorContainer.length-1&&(this.descriptorContainer=[]);else{this.descriptorContainer.splice(f,1);break}}0===this.descriptorContainer.length&&this.descriptorContainerEmpty.set(!0)};a.prototype.getGeometryDescriptorById=function(a){for(var e=0;e<this.descriptorContainer.length;e++)if(this.descriptorContainer[e].id===a)return this.descriptorContainer[e];return null};a.prototype.getGeometryDescriptorByGeometry=function(a){for(var e=0;e<this.descriptorContainer.length;e++)if(a.declaredClass===
this.descriptorContainer[e].geometry.declaredClass){var b=this.descriptorContainer[e].geometry;if(a!==b){var d=a.paths?a.paths.length:a.rings?a.rings.length:0;if(d===(b.paths?b.paths.length:b.rings.length))for(;0<d;){d=a.paths?a.paths[0].length:a.rings[0].length;if(d===(b.paths?b.paths[0].length:b.rings[0].length))for(var f=0;f<d;f++){var g=a.getPoint(0,f),h=b.getPoint(0,f);if(g.x!==h.x||g.y!==h.y)break;if(f===d-1)return this.descriptorContainer[e]}break}}else return this.descriptorContainer[e]}return null};
a.prototype.getMeasurementResultsCollection=function(){var a=this.app.featureSetManager.getCollectionById("Measurement");a||(a=new d.infrastructure.FeatureSetCollection,a.id="Measurement",a.sourceName="Measurement",a.displayName.set(this.app.getResource(g.measurementMarkupManager.libraryId,"language-measurement-results-collection-name")),this.app.featureSetManager.addCollection(a));return a};a.prototype.destroyAllDescriptors=function(){this.destroyDescriptor("",!0)};a.prototype.refreshLabels=function(){for(var a=
0;a<this.descriptorContainer.length;a++)this.descriptorContainer[a].refreshLabelVisibilities()};a.prototype.activatePredictiveMeasurements=function(){var a=this;if(this._measurementModule._enablePrediction){var e=!0,b=0,d=0;this._predictiveMeasurementToken=this.app.map.on("mouse-move",function(f){if(b!==f.mapPoint.x||d!==f.mapPoint.y){b=f.mapPoint.x;d=f.mapPoint.y;var g=function(){a._predictiveMeasurementCount++;a._executePredictiveMeasurements(f.mapPoint,a._predictiveMeasurementCount)};switch(e){case !1:a._predictiveMeasurementsGraphic&&
a._predictiveMeasurementsGraphic.isVisible()&&a._predictiveMeasurementsGraphic.hide(),a._delayedExecuteToken&&(clearTimeout(a._delayedExecuteToken),a._delayedExecuteToken=null),e=!0;case !0:a._delayedExecuteToken=setTimeout(g,1E3),e=!1}}})}};a.prototype.deactivatePredictiveMeasurements=function(){this._measurementModule._enablePrediction&&(this._delayedExecuteToken&&(clearTimeout(this._delayedExecuteToken),this._delayedExecuteToken=null),this._predictiveMeasurementToken&&(this._predictiveMeasurementToken.remove(),
this._predictiveMeasurementToken=null),this._predictiveMeasurementCount=0,this._predictiveMeasurementsGraphic&&this._predictiveMeasurementsGraphic.hide())};a.prototype._setLayerIds=function(a,e){this.markupLayerId=a?a:this.markupLayerId;this.measurementLayerId=e?e:this.measurementLayerId};a.prototype._setMapTipPresentation=function(a,e,b,d,f,g){this._predictiveMeasurementTextColor=a;this._predictiveMeasurementHighlightColor=e;this._predictiveMeasurementOutlineColor=b;this._predictiveMeasurementOutlineWidth=
d;this._predictiveMeasurementHighlightRadius=f;this._predictiveMeasurementTextSize=g};a.prototype._executePredictiveMeasurements=function(a,e){var b=this;if(this._currentGeometryInProcess&&this._currentLineSegmentInProcess&&this._currentLineSegmentInProcess.mapPointStart){if(!this._measurementLayersCreated){var d=g.MeasurementUtils.getGraphicsLayer(this.markupLayerId,!0,this.app),f=g.MeasurementUtils.getGraphicsLayer(this.measurementLayerId,!0,this.app);d&&f&&(this._measurementLayersCreated=!0)}var l=
0,m=0===this._currentGeometryInProcess._lineSegments.length?this._currentLineSegmentInProcess.mapPointStart:this._currentGeometryInProcess._lineSegments[this._currentGeometryInProcess._lineSegments.length-1].mapPointEnd,p="";if(a.x!==m.x||a.y!==m.y)switch(this._currentGeometryInProcess.type){case g.DescriptorType.POLYLINE:d=new esri.geometry.Polyline(m.spatialReference);d.addPath([m,a]);this._measurementModule._processLineSegment(d,function(d){l=b._currentGeometryInProcess.length?d.length+b._currentGeometryInProcess.length:
d.length;d=g.measurementMarkupManager.formatMeasurement(d.length,b.measurementFractionalDigits);var f=g.measurementMarkupManager.formatMeasurement(l,b.measurementFractionalDigits);p=b.app.getResource(g.measurementMarkupManager.libraryId,"language-measurement-polyline-predictive-markup-label").format(d,b._lengthUnitString,f,b._lengthUnitString);e===b._predictiveMeasurementCount&&(b._predictiveMeasurementsGraphic=g.MeasurementUtils.addHighlightedLabelToMap(p,a,null,b.measurementLayerId,b.app,!0,0,0,
"Arial",b._predictiveMeasurementTextSize,b._predictiveMeasurementTextColor,b._predictiveMeasurementHighlightColor,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,b._predictiveMeasurementOutlineColor,b._predictiveMeasurementOutlineWidth),b._predictiveMeasurementHighlightRadius,0,!0))});break;case g.DescriptorType.POLYGON:for(var d=new esri.geometry.Polygon(m.spatialReference),f=[],y=0;y<this._currentGeometryInProcess._lineSegments.length;y++)f.push(this._currentGeometryInProcess._lineSegments[y].mapPointStart),
f.push(this._currentGeometryInProcess._lineSegments[y].mapPointEnd);0===f.length&&f.push(m,a);f.push(a);f.push(f[0]);d.addRing(f);this._measurementModule._processPolygon(d,function(d){var f=new esri.geometry.Polyline(m.spatialReference);f.addPath([m,a]);b._measurementModule._processLineSegment(f,function(f){var q=0===d.perimeter?2*f.length:d.perimeter;f=g.measurementMarkupManager.formatMeasurement(f.length,b.measurementFractionalDigits);var n=g.measurementMarkupManager.formatMeasurement(d.area,b.measurementFractionalDigits),
q=g.measurementMarkupManager.formatMeasurement(q,b.measurementFractionalDigits);p=b.app.getResource(g.measurementMarkupManager.libraryId,"language-measurement-polygon-predictive-markup-label").format(f,b._lengthUnitString,n,b._areaUnitString,q,b._lengthUnitString);e===b._predictiveMeasurementCount&&(b._predictiveMeasurementsGraphic=g.MeasurementUtils.addHighlightedLabelToMap(p,a,null,b.measurementLayerId,b.app,!0,0,0,"Arial",b._predictiveMeasurementTextSize,b._predictiveMeasurementTextColor,b._predictiveMeasurementHighlightColor,
new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,b._predictiveMeasurementOutlineColor,b._predictiveMeasurementOutlineWidth),b._predictiveMeasurementHighlightRadius,0,!0))})})}}};a.prototype._createMeasurementMarkupFromGeometry=function(a){if(a&&(a instanceof esri.geometry.Polyline||a instanceof esri.geometry.Polygon)){this.app.command("_clearMeasurementMarkup").execute("temporary",!0);var e=this.getGeometryDescriptorByGeometry(a),b=!0;e||(b=null,e=this.createDescriptor(a instanceof
esri.geometry.Polyline?g.DescriptorType.POLYLINE:g.DescriptorType.POLYGON,a.spatialReference),b=a instanceof esri.geometry.Polyline?new esri.geometry.Polyline(a.toJson()):new esri.geometry.Polygon(a.toJson()),e.setGeometry(b),b=!1,this.app.command("_addGeometryMarkup").execute(e));this._recreateMeasurementMarkup(e.graphic,b,!1)}else this._reportStatus("CreateMeasurementMarkup: Invalid geometry type. Measurement information can only be generated for Polyline or Polygon geometry types.","error",!1)};
a.prototype._recreateMeasurementMarkup=function(a,e,b){var q=this;void 0===e&&(e=!0);void 0===b&&(b=!0);var n=function(a){q.app.command(u).execute(a,function(){q.measurementInProgress.set(!1);a.refreshMeasurementData();q._reportStatus("Successfully computed measurement information for specified geometry/graphic.","info",!1)},l)},l=function(a){q.measurementInProgress.set(!1);g.measurementMarkupManager._reportStatus("Error recreating measurement markup: {0}","error",!1,[a])};if(a&&a.geometry&&void 0!=
a.measurementId){var m=a.measurementId,p=a.geometry,y=0,v=0;new Observable(0);p.paths?y=p.paths.length:p.rings&&(y=p.rings.length);if(a&&p instanceof esri.geometry.Polyline||p instanceof esri.geometry.Polygon){var u=p instanceof esri.geometry.Polyline?"MeasureDistance":"MeasureArea",r=p instanceof esri.geometry.Polyline?g.DescriptorType.POLYLINE:g.DescriptorType.POLYGON,t=this.getGeometryDescriptorById(m);if(!t||t&&e)e=null,t&&(e=t.originalZoomLevel,this.destroyDescriptor(m,!1,b)),t=this.createDescriptor(r,
p.spatialReference),t.originalZoomLevel=null===e?t.originalZoomLevel:e,t.drawMode="polyline"===p.type?d.infrastructure.tools.DrawMode.POLYLINE:d.infrastructure.tools.DrawMode.POLYGON,a.measurementId=t.id;t.setGeometry(p);t.graphic=a;var w=[];a=[];for(b=0;b<y;b++)for(m=p.paths?p.paths[b].length:p.rings[b].length,r=1;r<m;r++){e=p.getPoint(b,r-1);var B=p.getPoint(b,r);if(e&&B){var z=this.createDescriptor(g.DescriptorType.LINE_SEGMENT,p.spatialReference);z.id=t.id;z.setStartPt(e);z.setEndPt(B);if(z.mapPointStart.x!==
z.mapPointEnd.x||z.mapPointStart.y!==z.mapPointEnd.y)w.push(z),a.push(z.geometry),v++}}this.measurementInProgress.set(!0);this._measurementModule._processLineSegment(a,function(a){var c=a.serverResponse.lengths.length;a=a.serverResponse.lengths;for(var e=0;e<c;e++)w[e].setMeasurementUnit(q._lengthUnit),w[e].length=a[e],q.app.command("_addLineSegmentMeasurementMarkup").execute(w[e],function(a){a.isActive=t.isActive;t.addSegment(a);e===c-1&&n(t)},l)},l)}else this._reportStatus("Could not recreate measurement markup. Incompatible geometry. Only Polyline and Polygon geometry are supported.",
"warning",!1)}};a.prototype._hideMeasurementMarkup=function(a,e){void 0===e&&(e=!1);for(var b=0;b<this.descriptorContainer.length;b++)if(this.descriptorContainer[b].id===a.measurementId){this.app.command("ClearDefaultHighlights").execute();for(var d=0;d<this.descriptorContainer[b]._lineSegments.length;d++){var f=this.descriptorContainer[b]._lineSegments[d];f.graphic&&f.graphic.hide();f.highlightedLabelGraphic&&f.highlightedLabelGraphic.hide()}b=this.descriptorContainer[b];e&&b.graphic&&b.graphic.hide();
b.highlightedLabelGraphic&&b.highlightedLabelGraphic.hide();break}};a.prototype._updateMeasurementUnits=function(a,e){for(var b=0;b<this.descriptorContainer.length;b++)this.descriptorContainer[b].setMeasurementUnit(a,e);this._lengthUnit=a;this._areaUnit=e;this._lengthUnitString=g.MeasurementUtils.getUnitString(a);this._areaUnitString=g.MeasurementUtils.getUnitString(e)};a.prototype._removeGraphicFromLayer=function(a){if(a){var e=a.getLayer();e&&e.remove(a)}};a.prototype._removeHighlightedLabelFromLayer=
function(a){var e=this;a.textGraphics.forEach(function(a){e._removeGraphicFromLayer(a)});this._removeGraphicFromLayer(a.highlightGraphic);a=this.addedMapGraphics.indexOf(a);-1!==a&&this.addedMapGraphics.splice(a,1)};a.prototype._canExecuteMarkupIntegration=function(a){return a&&void 0!=a.measurementId?!0:!1};a.prototype._processMarkupEditingStarted=function(a){if(this._canExecuteMarkupIntegration(a)){var e=this.getGeometryDescriptorById(a.measurementId);e&&(this._hideMeasurementMarkup(a),e.editingInProgress=
!0)}};a.prototype._processMarkupEditingStopped=function(a){if(this._canExecuteMarkupIntegration(a)){var e=this.getGeometryDescriptorById(a.measurementId);e&&(this._recreateMeasurementMarkup(a,!0,!1),e.editingInProgress=!1)}};a.prototype._processMarkupDeleted=function(a){this._canExecuteMarkupIntegration(a)&&this.destroyDescriptor(a.measurementId)};a.prototype._getUnitLanguageResources=function(){for(var a in this.unit)this.unit.hasOwnProperty(a)&&(this.unit[a]={shortName:this.app.getResource(this.libraryId,
"language-measurement-unit-"+a.toLowerCase()+"-short"),longName:this.app.getResource(this.libraryId,"language-measurement-unit-"+a.toLowerCase()),config:a})};a.prototype._reportStatus=function(a,e,b,d){var f=this;void 0===b&&(b=!1);void 0===d&&(d=null);a="language-measurement-"===a.substring(0,21)?this.app.getResource(this.libraryId,a):a;d&&(a=a.format.apply(a,d));var g=function(){b&&f.app.command("ClearActiveTool").execute()};switch(e.toLowerCase()){case "alert":this.app.command("Alert").execute(a,
this.app.getResource(this.libraryId,"language-measurement-alert-title"),function(){g()});return;case "info":this.app.trace.info(a);break;case "warning":this.app.trace.warning(a);break;case "error":this.app.trace.error(a)}g()};return a}();g.MeasurementMarkupManager=b})(g.measurement||(g.measurement={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){function f(b){this.pointIndex=0;this._tool=this._prevSegEndPt=this._currentLineSegment=this._currentGeometry=null;this._tool=b;this._lineSegmentCommandCallbackCompleted=new Observable(0);this._drawEndInvoked=!1;this._totalSegmentCount=0}f.prototype.setStartPt=function(b){this._tool.app.command("ClearDefaultHighlights").execute();this._tool.app.command("_clearMeasurementMarkup").execute("temporary",!0);this._currentGeometry=
"POLYLINE"===this._tool.drawMode?d.measurementMarkupManager.createDescriptor(d.DescriptorType.POLYLINE,b.mapPoint.spatialReference):d.measurementMarkupManager.createDescriptor(d.DescriptorType.POLYGON,b.mapPoint.spatialReference);this._currentLineSegment=d.measurementMarkupManager.createDescriptor(d.DescriptorType.LINE_SEGMENT,b.mapPoint.spatialReference);this._currentLineSegment.id=this._currentGeometry.id;this._currentLineSegment.setStartPt(b.snappingPoint?b.snappingPoint:b.mapPoint);d.measurementMarkupManager.activatePredictiveMeasurements();
this.pointIndex=1};f.prototype.setEndPt=function(b){var a=this;if(this._currentLineSegment.mapPointStart.x!==b.mapPoint.x||this._currentLineSegment.mapPointStart.y!==b.mapPoint.y){if(this._prevSegEndPt){if(this._prevSegEndPt.x===b.mapPoint.x&&this._prevSegEndPt.y===b.mapPoint.y)return;this._currentLineSegment=d.measurementMarkupManager.createDescriptor(d.DescriptorType.LINE_SEGMENT,this._prevSegEndPt.spatialReference);this._currentLineSegment.id=this._currentGeometry.id;this._currentLineSegment.setStartPt(this._prevSegEndPt);
this._prevSegEndPt=null}this._currentLineSegment.setEndPt(b.snappingPoint?b.snappingPoint:b.mapPoint);this._prevSegEndPt=this._currentLineSegment.mapPointEnd;this._totalSegmentCount++;this._tool.executeToolCommand(this._currentLineSegment,function(c){a._currentGeometry.addSegment(c);a._lineSegmentCommandCallbackCompleted.set(a._lineSegmentCommandCallbackCompleted.get()+1)})}};f.prototype.plotPoint=function(b){0===this.pointIndex?this.setStartPt(b):this.setEndPt(b)};f.prototype.executeDrawEnd=function(b){var a=
this;d.measurementMarkupManager.deactivatePredictiveMeasurements();if(0===this._totalSegmentCount)d.measurementMarkupManager._reportStatus("No geometry drawn. Cannot compute measurements","info",!1),d.measurementMarkupManager.destroyDescriptor(this._currentGeometry.id);else{var c=function(){d.measurementMarkupManager.measurementInProgress.get()&&d.measurementMarkupManager.measurementInProgress.set(!1)},e=function(e){a._tool.onDrawCompleted(e,a._currentGeometry,function(e){c();a._tool.isSticky||a._tool.setActive(!1);
e.refreshMeasurementData()},function(e){c();a._tool.isSticky||a._tool.setActive(!1);a._tool._onDrawCompletedError(e)})};this._drawEndInvoked=!0;this._currentGeometry.setGeometry(b);this._tool.app.command("_addGeometryMarkup").execute(a._currentGeometry);if(this._lineSegmentCommandCallbackCompleted.get()===this._totalSegmentCount)e(b);else var k=this._lineSegmentCommandCallbackCompleted.bind(this,function(c){c===a._totalSegmentCount&&(a._lineSegmentCommandCallbackCompleted.unbind(k),e(b))})}};return f}();
d.MeasurementOperation=f})(d.measurement||(d.measurement={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.initialize=function(a){};return b}(d.framework.application.ModuleBase);f.BasemapModule=g})(f.basemap||(f.basemap={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a);this.configuration&&this.configuration.hasOwnProperty("hideIfNoBasemapsAvailable")&&(this.viewModel.hideIfNoBasemapsAvailable=this.configuration.hideIfNoBasemapsAvailable)};b.prototype.handleDrawerButtonClicked=function(){0<this.viewModel.basemaps.getLength()&&(this.app.viewManager.getViewById("BasemapSwitcherView")&&
this.app.command("ToggleView").execute("BasemapSwitcherView"),this.app.command("ToggleBasemapsDrawer").execute())};return b}(d.framework.ui.ViewBase);f.BasemapSwitcherButtonView=g})(f.basemap||(f.basemap={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a);this.viewModel.isExpanded.bind(this,this._setButtonSize);this.viewModel.selectedBasemap.get()instanceof f.BasemapSliderViewModel&&this.viewModel.sliderIsExpanded.set(!0)};b.prototype._setButtonSize=function(){var a=$(this.drawerContentParent).children().eq(0);this.viewModel.buttonWidth=$(a).outerWidth(!0);
this.viewModel.buttonHeight=$(a).outerHeight(!0)};b.prototype.handleBasemapClick=function(a,c,e){this.app.command("SelectBaseMap").execute(e.displayName.get())};return b}(d.framework.ui.ViewBase);f.BasemapSwitcherView=g})(f.basemap||(f.basemap={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=f.infrastructure.BookmarkSource,l=function(b){function a(a,e){b.call(this,a,e);this._registerCommands()}__extends(a,b);a.prototype.getStateFilter=function(){return{bookmarks:{item:this.app.project.filter.bookmark}}};a.prototype.exportState=function(){return this.app.bookmarks["export"]([m.User,m.Project]).then(function(a){return{bookmarks:a}})};a.prototype.applyState=function(a){var e=this;return this.app.bookmarks.getProjectBookmarks().then(function(a){a.forEach(function(a){return e.app.bookmarks.remove(a)})}).then(function(){return e.app.bookmarks.getUserBookmarks()}).then(function(b){a.bookmarks.filter(function(a){return!b.some(function(c){return c.name===
a.name})}).forEach(function(a){e.app.bookmarks.add({name:a.name,extent:e.app.project.convert.toEsriGeometry(a.extent),source:m.Project})})})};a.prototype._registerCommands=function(){var a=this;this.app.command("AddBookmark").register(this,function(e){if(a.isValidBookmarkName(e))a._addBookmark(e);else throw Error(a.app.getResource(a.libraryId,"language-bookmarks-name-required"));});this.app.command("RemoveBookmark").register(this,function(e){a._deleteBookmark(e)})};a.prototype._deleteBookmark=function(a){var e=
this;a&&this.app.bookmarks.remove(a)["catch"](function(a){e.app.trace.error("Error occurred while deleting bookmark: {0}".format(a))})};a.prototype._addBookmark=function(a){var e=this;a={name:a.trim(),extent:this.app.map.extent,source:m.User};this.app.bookmarks.add(a)["catch"](function(a){e.app.trace.error("Error occurred while adding bookmark: {0}".format(a))})};a.prototype.isValidBookmarkName=function(a){return"string"!==typeof a||null===a||""===a.trim()?!1:!0};return a}(d.framework.application.ModuleBase);
g.BookmarksModule=l})(g.bookmarks||(g.bookmarks={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){var m=d.infrastructure.BookmarkSource,l=function(){function b(a,c,e){this.defaultBookmarkName="Unspecified Bookmark Label";this.extent=null;if(!e)return null;this.displayName=e.name||this.defaultBookmarkName;this.deleteBookmarkString=a.getResource(c,"language-bookmarks-delete")+" "+this.displayName;this.isUserDefined=e.source!==m.Site;this.extent=e.extent;if(!this.extent)return null}b.prototype.setExtent=function(a){if(a&&a.spatialReference&&
a.xmin&&a.ymin&&a.xmax&&a.ymax&&!(!a.spatialReference.wkid&&!a.spatialReference.wkt||a.spatialReference.wkid&&isNaN(parseInt(a.spatialReference.wkid,10))))if(a instanceof esri.geometry.Extent)this.extent=a;else{var c=a.spatialReference.wkid?new esri.SpatialReference(parseInt(a.spatialReference.wkid,10)):new esri.SpatialReference(a.spatialReference.wkt);this.extent=new esri.geometry.Extent(a.xmin,a.ymin,a.xmax,a.ymax,c)}};return b}();g.BookmarkViewModel=l})(g.bookmarks||(g.bookmarks={}))})(d.modules||
(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c);this.bookmarks=new ObservableCollection;this.textErrorMessage=new Observable;this.bookmarksEnabled=new Observable(!1);this.showBookmarksButton=new Observable(!1);this.newBookmarkName=new Observable;this.active=new Observable(!1);this._buttonEnabled=!1;this.app=a;this.libraryId=c;this._registerCommand();this._subscribeEvents()}__extends(b,d);b.prototype.initialize=function(a){var c=this;
a&&(this.bookmarksEnabled.set(!!a.bookmarksEnabled),this._buttonEnabled=!!a.showBookmarksButton)&&(this.app.configuration.mobileMode?this.bookmarks.bind(this,function(a){c.showBookmarksButton.set("clear"!==a.type&&0<c.bookmarks.length())}):(this.bookmarks.bind(this,function(a){c.active.get()||c.showBookmarksButton.set("clear"!==a.type&&0<c.bookmarks.length())}),this.active.bind(this,function(a){a||c.showBookmarksButton.set(0<c.bookmarks.length())})));this.app.command("ShowBookmarks").raiseCanExecuteChanged();
this.app.command("ShowAddBookmark").raiseCanExecuteChanged();this.bookmarksEnabled.get()?this._initializePromise=this._initializeBookmarks():this._initializePromise=Promise.resolve()};b.prototype._registerCommand=function(){var a=this;this.app.command("ShowBookmarks").register(this,function(){a.app.command("ActivateView").execute("BookmarksView");a._buttonEnabled&&(a.showBookmarksButton.set(!0),a.active.set(!0))},function(){return a.bookmarksEnabled.get()});this.app.command("ShowAddBookmark").register(this,
function(){var c=a.app.viewManager.getViewById("BookmarksView");c&&c.showAddBookmarkDialog()},function(){return a.bookmarksEnabled.get()&&a._buttonEnabled})};b.prototype._subscribeEvents=function(){var a=this;this.app.event("BookmarksModifiedEvent").subscribe(this,function(c){a._initializeBookmarks()})};b.prototype._initializeBookmarks=function(){var a=this;return this.app.bookmarks.getAll().then(function(c){a.bookmarks.set(c.map(function(c){return new f.BookmarkViewModel(a.app,a.libraryId,c)}))})["catch"](function(c){return a.app.trace.error("Error occurred while retrieving the bookmark values: {0}".format(c))})};
b.prototype.existsBookmarkWithName=function(a){if(a){for(var c=0;c<this.bookmarks.getLength();c++)if(this.bookmarks.getAt(c).displayName===a.trim())return!0;return!1}};return b}(d.framework.ui.ViewModelBase);f.BookmarksViewModel=g})(f.bookmarks||(f.bookmarks={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.subscriptionToken=null}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a);this.subscriptionToken=this.app.event("ViewContainerViewClosedEvent").subscribe(this,function(a){a&&a.viewId===this.id&&this.destroyAddBookmarkView()})};b.prototype.activated=function(){this.viewModel.newBookmarkName.set(null);this.viewModel.textErrorMessage.set(null)};b.prototype.destroyAddBookmarkView=
function(){this.app.viewManager.destroyView(this);this.subscriptionToken&&this.app.event("ViewContainerViewClosedEvent").unsubscribe(this.subscriptionToken)};b.prototype.handleSubmit=function(){if(this.viewModel.existsBookmarkWithName(this.viewModel.newBookmarkName.get()))return this.viewModel.textErrorMessage.set(this.app.getResource(this.libraryId,"language-bookmarks-name-exists")),!1;try{this.app.command("AddBookmark").execute(this.viewModel.newBookmarkName.get())}catch(a){return this.viewModel.textErrorMessage.set(a.message),
!1}this.destroyAddBookmarkView()};b.prototype.handleCancelClick=function(a,c,e){this.destroyAddBookmarkView()};b.prototype.handleTextBoxClick=function(a,c,e){};return b}(d.framework.ui.ViewBase);f.AddBookmarkView=g})(f.bookmarks||(f.bookmarks={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.addBookMarksView=null;this.addBookmarksViewActive=!1}__extends(b,d);b.prototype.activated=function(){var a=this;if("BookmarksView"===this.id&&this.viewModel.showBookmarksButton.get()&&(this.viewModel.active.set(!0),!this.app.configuration.mobileMode)){this.app.event("FlyoutActivated").publish(this);var c={view:this,onOtherInteracted:function(c){return a._onOtherInteracted(c)}};
this.app.command("TapToDismiss").execute(c)}};b.prototype.deactivated=function(){"ModalWindowRegion"!==this.regionName&&(this.addBookmarksViewActive||this.addBookMarksView)&&(this.addBookMarksView&&(this.app.viewManager.destroyView(this.addBookMarksView),this.addBookMarksView=null),this.addBookmarksViewActive=!1);this.viewModel.showBookmarksButton.get()&&this.viewModel.active.set(!1)};b.prototype.deactivateBookmarksView=function(){this.app.command("DeactivateView").execute("BookmarksView");this.app.configuration.mobileMode||
this.app.event("FlyoutDeactivated").publish(this)};b.prototype.handleBookmarkSelectionChanged=function(a,c,e){if(null!==this.app.map){if(null===this.app.site||!this.app.site.isInitialized||null===this.app.site.essentialsMap||!this.app.site.essentialsMap.isInitialized||null===this.app.site.essentialsMap.initialExtent)return;this.app.map.setExtent(e.extent,!!this.app.map._fitTiledMapsToExtent)}this.deactivateBookmarksView();this.app.command("ShowMap").execute();this.app.command("LogOptimizerEvent").execute("SelectBookmark",
e.displayName)};b.prototype.handleClickToggleBookmark=function(a,c,e){this.app.configuration.mobileMode?this.app.command("ActivateView").execute("BookmarksView"):this.app.command("ToggleView").execute("BookmarksView")};b.prototype.handleHideBookmarks=function(a,c,e){this.deactivateBookmarksView()};b.prototype.handleDeleteBookmark=function(a,c,e){this.app.command("RemoveBookmark").execute(e.displayName)};b.prototype.handleAddBookmark=function(a,c,e){this.showAddBookmarkDialog()};b.prototype.showAddBookmarkDialog=
function(){var a=this;this.addBookMarksView=this.app.viewManager.createView({markupResource:"Mapping/modules/Bookmarks/AddBookmarkView.html",regionName:"ModalWindowRegion",typeName:"geocortex.essentialsHtmlViewer.mapping.modules.bookmarks.AddBookmarkView",title:this.app.getResource(this.libraryId,"language-bookmarks-add"),libraryId:this.libraryId});this.addBookMarksView.app=this.app;this.addBookMarksView.attach(this.viewModel);this.app.viewManager.activateView(this.addBookMarksView);this.addBookmarksViewActive=
!0;this.addBookMarksView&&dojo.connect(this.addBookMarksView,"destroy",function(){a.addBookmarksViewActive=!1;a.addBookMarksView=null;var c={view:a,onOtherInteracted:function(c){return a._onOtherInteracted(c)}};a.app.command("TapToDismiss").execute(c)})};b.prototype._onOtherInteracted=function(a){!this.addBookmarksViewActive&&this.isActive&&(a=$(a.target||a.srcElement),a.hasClass("bookmark")&&a.hasClass("toggle-btn")||this.deactivateBookmarksView())};return b}(d.framework.ui.ViewBase);f.BookmarksView=
g})(f.bookmarks||(f.bookmarks={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){(function(b){b[b.esriFieldTypeSmallInteger=0]="esriFieldTypeSmallInteger";b[b.esriFieldTypeInteger=1]="esriFieldTypeInteger";b[b.esriFieldTypeSingle=2]="esriFieldTypeSingle";b[b.esriFieldTypeDouble=3]="esriFieldTypeDouble";b[b.esriFieldTypeString=4]="esriFieldTypeString";b[b.esriFieldTypeDate=5]="esriFieldTypeDate";b[b.esriFieldTypeOID=6]="esriFieldTypeOID";b[b.esriFieldTypeGeometry=7]="esriFieldTypeGeometry";b[b.esriFieldTypeBlob=8]=
"esriFieldTypeBlob";b[b.esriFieldTypeRaster=9]="esriFieldTypeRaster";b[b.esriFieldTypeGUID=10]="esriFieldTypeGUID";b[b.esriFieldTypeGlobalID=11]="esriFieldTypeGlobalID";b[b.esriFieldTypeXML=12]="esriFieldTypeXML";b[b.other=13]="other"})(d.esriFieldTypeEnum||(d.esriFieldTypeEnum={}));var f=d.esriFieldTypeEnum,g=function(){function b(){var a=this;this.type=f.esriFieldTypeString;this._isSettingValue=this._isSettingPresentableValue=!1;this.name=new Observable;this.displayName=new Observable;this.editable=
new Observable(!0);this.readOnly=new Observable(!1);this.required=new Observable(!1);this.nullable=new Observable(!1);this.cssClass=new Observable;this.showIndicator=new Observable(!1);this.value=new Observable(null);this.presentableValue=new Observable;this.formatFunc=function(a){return null===a||void 0===a?"":a.toString()};this.value.bind(this,function(c){a._isSettingValue||(a._isSettingPresentableValue=!0,a.presentableValue.set(a.formatFunc(a.value.get())),a._isSettingPresentableValue=!1)});this.presentableValue.bind(this,
function(c){a._isSettingPresentableValue||(a._isSettingValue=!0,a.value.set(c),a._isSettingValue=!1)})}b.prototype.showFormattedValue=function(){this._isSettingPresentableValue=!0;this.presentableValue.set(this.formatFunc(this.value.get()));this._isSettingPresentableValue=!1};b.prototype.showActualValue=function(){this._isSettingPresentableValue=!0;this.presentableValue.set(this.value.get());this._isSettingPresentableValue=!1};return b}();d.EditingFormField=g})(d.editing||(d.editing={}))})(d.modules||
(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){var m=function(){function l(){}l.createValidationFunction=function(b,a,c,e){e=g.esriFieldTypeEnum[c.type];var d=function(c){return!1===c.editable.get()||!1!==c.nullable.get()&&!0!==c.required.get()?null:b.getResource(a,"language-feature-editing-requires-value").format(c.displayName.get())};if(c.domain){var f=function(e,f,g,q){f=b.getResource(a,"language-feature-editing-invalid-number").format(f,g,q);return e?l.isValidNumber(c,e)?e<g||
e>q?f:null:f:d(c)};if("codedValue"===c.domain.type)return function(e){return!c.required.get()||null!==e&&void 0!==e?null:b.getResource(a,"language-feature-editing-requires-value").format(c.displayName.get())};if("range"===c.domain.type){var n=c.domain;return c.domain.hasOwnProperty("range")?("Function"===typeof n.replace&&(n=n.replace("[","").replace("]","").split(",")),function(a){return f(a,c.displayName.get(),n[0],n[1])}):function(a){return f(a,c.displayName.get(),n.minValue,n.maxValue)}}return function(a){return null}}switch(e){case "esriFieldTypeDate":return function(a){return a?
null:d(c)};case "esriFieldTypeString":case "esriFieldTypeGUID":return function(e){return e?c.length&&e.toString().length>c.length?b.getResource(a,"language-feature-editing-value-too-long").format(c.displayName.get(),c.length):null:d(c)};case "esriFieldTypeSingle":case "esriFieldTypeDouble":return function(e){return e||0===e?l.isValidNumber(c,e)?l.isWithinNumericTypeRange(c,e)?null:b.getResource(a,"language-feature-editing-invalid-numeric-range").format(c.displayName.get()):b.getResource(a,"language-feature-editing-invalid-decimal").format(c.displayName.get()):
d(c)};case "esriFieldTypeSmallInteger":case "esriFieldTypeInteger":return function(e){return e||0===e?l.isValidNumber(c,e)?l.isWithinNumericTypeRange(c,e)?null:b.getResource(a,"language-feature-editing-invalid-numeric-range").format(c.displayName.get()):b.getResource(a,"language-feature-editing-invalid-integer").format(c.displayName.get()):d(c)};default:return function(a){return null}}};l.isWithinNumericTypeRange=function(b,a){var c=d.infrastructure.FormatUtils.parseNumber(a);if(isNaN(c))return!1;
var e=!0;b.type===g.esriFieldTypeEnum.esriFieldTypeSingle?(e=3.402823*Math.pow(10,38),e=c>=-e&&c<=e):b.type===g.esriFieldTypeEnum.esriFieldTypeSmallInteger?e=-32768<=c&&32767>=c:b.type===g.esriFieldTypeEnum.esriFieldTypeInteger&&(e=-2147483648<=c&&2147483647>=c);return e};l.isValidNumber=function(b,a){return!isNaN(d.infrastructure.FormatUtils.parseNumber(a))};return l}();g.ValidationFunctionFactory=m})(g.editing||(g.editing={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=f.infrastructure.FormatUtils,l=f.infrastructure.TimeZoneUtils,b=function(a){function c(c,b,d,f,g){a.call(this,c,b);this.textareaThreshold=80;this.doNotAdjustTime=!1;this.id="EditingFormViewModel";this.fields=new ObservableCollection;this.validationMessages=new ObservableCollection;this.buttons=new ObservableCollection;this.currentFeature=new Observable;this.featureIsNew=new Observable(!1);c=null;g&&(g.textareaThreshold&&(this.textareaThreshold=
g.textareaThreshold),g.fieldOrder&&(c=g.fieldOrder),g.doNotAdjustTime&&(this.doNotAdjustTime=g.doNotAdjustTime),g.timeZoneId&&(this.fallbackTimeZoneId=g.timeZoneId),g.displayTimeZoneId&&(this.fallbackDisplayTimeZoneId=g.displayTimeZoneId));d&&this.setup(d,f?f:null,c)}__extends(c,a);c.prototype.addValidationMessage=function(a){this.validationMessages.addItem(a)};c.prototype.clearValidationMessages=function(){this.validationMessages.clear()};c.prototype._fieldHasSubTypeDomainValues=function(a,c){for(var b=
0;b<c.types.length;++b){var d=c.types[b];if(d.domains&&a.name in d.domains)return!0}return!1};c.prototype.setup=function(a,c,b){var n=this;this.clear();var E=[];if(!c)throw Error("Attempted to edit a feature with no layer attached!");for(var x=null,s=this.app.site.getFeatureServices(),y=null,v=0;v<s.length;++v){var u=s[v];if(u.serviceLayer===c){y=u.layers[0];break}}s=function(a){if(!y)return null;for(var c=0;c<y.fields.length;++c){var e=y.fields[c];if(e.name===a)return e}return null};v=[];if((u=c._outFields)&&
0<u.length)for(var r=0;r<u.length;++r){var t=u[r];if(0===r&&"*"===t){v=c.fields;break}for(var w=0;w<c.fields.length;++w){var B=c.fields[w];if(B.name===t){v.push(B);break}}}else v=c.fields;if(b){var z=v.slice(),C=[];b.forEach(function(a){for(var c=z.length-1;-1<c;--c){var e=z[c];e.name===a&&(C.push(e),z.splice(c,1))}});C.concat(z);v=C}b=function(a,c){for(var e=0;e<c.length;e++){var b=c[e].prototype.attributes;if(a.name&&b.hasOwnProperty(a.name))return a.nullable=null===b[a.name],!0}return!1};for(u=
0;u<v.length;++u)if((r=v[u])&&r.editable&&(w=s(r.name),!w||w.visible)){var D=f.infrastructure.gis.FieldInfo.fromEsriField(r,c,w);if(void 0===r.nullable||null===r.nullable)if(c&&c.templates&&c.templates.length)b(r,c.templates);else if(c&&c.types&&c.types.length)for(t=0;t<c.types.length&&!(c.types[t].templates&&c.types[t].templates.length&&b(r,c.types[t].templates));t++);var F=!0===r.nullable,H=!1===r.editable,t=!1===F&&!H,B=null;this.featureIsNew.get()&&r.name!==c.typeIdField||a.attributes&&(B=a.attributes[r.name]);
var A=new g.EditingFormField;A.name.set(r.name);A.readOnly.set(H);A.nullable.set(F);A.required.set(t);A.showIndicator.set(A.required.get());A.type=g.esriFieldTypeEnum[r.type];A.renderType=r.type;(function(a){!a.timeZoneId&&n.fallbackTimeZoneId&&(a.timeZoneId=n.fallbackTimeZoneId);!a.displayTimeZoneId&&n.fallbackDisplayTimeZoneId&&(a.displayTimeZoneId=n.fallbackDisplayTimeZoneId);A.formatFunc=function(c){return a.formatValue(c)}})(D);A.value.set(B);A.length=r.length;A.editable.set(r.editable);w?A.displayName.set(w.displayName):
A.displayName.set(null!=r.alias?r.alias:r.name);if("esriFieldTypeDate"===r.type){var G=new d.forms.items.DatePickerFormItem(null,null);G.timePickerItem=new d.forms.items.TimePickerFormItem(null,null);a&&a.attributes[r.name]?(r=m.parseDate(a.attributes[r.name]),r=D.displayTimeZoneId?l.correctDatesForDisplayInDisplayTimeZone(r,D.timeZoneId,D.displayTimeZoneId):l.correctDatesForDisplayInLocalTime(r,D.timeZoneId)):r=A.nullable.get()?null:new Date;G.includeTimePicker.set(!0);G.initialDate.set(r);G.date.set(r);
G.isRequired.set(A.required.get());G.nullable.set(A.nullable.get());D.format&&(r=D.format.match(/\{0:([^}]*)\}/))&&2==r.length&&G.dateFormat.set(r[1]);(function(a){return G.date.bind(n,function(c){n.doNotAdjustTime||(c=l.correctDatesToSubmitInDatabaseTime(c,D.timeZoneId,D.displayTimeZoneId));a.value.set(c)})})(A);A.datePickerViewModel=G}else if(r.name===c.typeIdField)x={valueCollection:c.types,nullable:!t,nullOption:{name:"",code:null}},A.renderType="typeField",this._applyFieldConfiguration(x,A),
x=B;else if(D.isCodedValueDomain()||D.hasSubtypeCodedValueDomains()){if(w=r.domain)A.domain=w;else for(w=0;w<c.types.length;++w)if(B=c.types[w],B.domains&&r.name in B.domains){A.domain=B.domains[r.name];break}"codedValue"===A.domain.type&&(r={valueCollection:A.domain.codedValues,nullable:!t,nullOption:{name:"",code:null}},A.renderType="codedDomainValue",this._applyFieldConfiguration(r,A))}else A.type!==g.esriFieldTypeEnum.esriFieldTypeDouble&&A.type!==g.esriFieldTypeEnum.esriFieldTypeInteger&&A.type!==
g.esriFieldTypeEnum.esriFieldTypeOID&&A.type!==g.esriFieldTypeEnum.esriFieldTypeSingle&&A.type!==g.esriFieldTypeEnum.esriFieldTypeSmallInteger||A.value.set(m.formatNumber(m.parseNumber(B),"#.####################")),A.renderType=A.type===g.esriFieldTypeEnum.esriFieldTypeString&&A.length>this.textareaThreshold?"textArea":this._getRenderTypeForField(A);this.app.urlParameters.hasOwnProperty("noval")?A.validationFunc=function(){return null}:A.validationFunc=g.ValidationFunctionFactory.createValidationFunction(this.app,
this.libraryId,A,this);E.push(A)}this.fields.addItems(E);if(null!==x)for(w=0;w<c.types.length;w++)a=c.types[w],null!==a.id&&a.id.toString()===x.toString()&&this._applyCodedDomains(a.domains)};c.prototype.getRawFieldValue=function(a){for(var c=0;c<this.fields.getLength();++c){var b=this.fields.getAt(c);if(b.name.get()===a)return b.value.get()}return null};c.prototype.getAttributeValues=function(){for(var a={},c=0;c<this.fields.getLength();++c){var b=this.fields.getAt(c),d=b.value.get(),l=null;b.type===
g.esriFieldTypeEnum.esriFieldTypeDate?(d=b.value.get(),l=null===d?null:m.parseDate(d).getTime()):b.type===g.esriFieldTypeEnum.esriFieldTypeDouble||b.type===g.esriFieldTypeEnum.esriFieldTypeInteger||b.type===g.esriFieldTypeEnum.esriFieldTypeOID||b.type===g.esriFieldTypeEnum.esriFieldTypeSingle||b.type===g.esriFieldTypeEnum.esriFieldTypeSmallInteger?(l=f.infrastructure.FormatUtils.parseNumber(d),isNaN(l)&&(l=null)):l=d;""===d&&b.type!==g.esriFieldTypeEnum.esriFieldTypeString&&(l=null);a[b.name.get()]=
l}return a};c.prototype._getRenderTypeForField=function(a){return"text"};c.prototype._applyCodedDomains=function(a){if(a)for(var c in a)if(a.hasOwnProperty(c)&&"codedValue"===a[c].type)for(var b=0;b<this.fields.getLength();b++){var d=this.fields.getAt(b);if(d.name.get()===c){b={valueCollection:a[c].codedValues,nullable:d.nullable.get(),nullOption:{name:"",code:null}};d.renderType="codedDomainValue";this._applyFieldConfiguration(b,d);break}}};c.prototype._applyFieldConfiguration=function(a,c){c.valueOptions?
c.valueOptions.clear():c.valueOptions=new ObservableCollection([]);c.valueOptions.addItems(a.valueCollection);a.nullable&&c.valueOptions.insertItem(0,a.nullOption);for(var b=0;b<c.valueOptions.getLength();++b){var d=c.valueOptions.getAt(b);"undefined"===typeof d.code&&d.hasOwnProperty("id")&&(d.code=d.id)}};c.prototype.clear=function(){this.fields.clear();this.clearValidationMessages()};return c}(d.framework.ui.ViewModelBase);g.EditingFormViewModel=b})(g.editing||(g.editing={}))})(f.modules||(f.modules=
{}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(m){(function(h){var m=f.infrastructure.FormatUtils,l=f.infrastructure.NumberFormat;(function(a){a[a.Idle=0]="Idle";a[a.Paused=1]="Paused";a[a.CantEdit=2]="CantEdit";a[a.EditingAttributes=3]="EditingAttributes";a[a.EditingGeometry=4]="EditingGeometry";a[a.Saving=5]="Saving"})(h.EditorState||(h.EditorState={}));var b=h.EditorState,a=function(a){function e(e,d){a.call(this,e,d);this.state=b.Idle;this.isBusy=new Observable(!1);this.title=new Observable("");
this.headerText=new Observable("");this.form=new Observable;this.isEditingGeometry=new Observable(!1);this.isEditingNewFeature=new Observable(!1);this.isEditingLogEntry=new Observable(!1);this.isEditingRelatedFeature=new Observable(!1);this.isEditingRelatedFeatureNotInSite=new Observable(!1);this.currentFeatureRelationships=new ObservableCollection;this.hasRelatedLayers=new Observable(!1);this.showRelatedLayers=new Observable(!1);this.canDeleteFeature=new Observable(!0);this.canEditGeometry=new Observable(!1);
this.showEditGeometryButton=new Observable(!1);this.showStopEditingGeometryButton=new Observable(!1);this.geometryHasBeenEdited=new Observable(!1);this.validateGeometry=!1;this.configAllowsEditGeometry=!0;this.layerUpdateEndToken=null;this.textareaThreshold=80;this.doNotAdjustTime=this.canEditOffline=!1;this._registerCommands();this._subscribeToEvents();this.isEditingNewFeature.bind(this,this._calculateCanDeleteFeature);this.auto(this.hasRelatedLayers,this,this._hideOrShowRelateds);this.auto(this.isEditingRelatedFeatureNotInSite,
this,this._hideOrShowRelateds)}__extends(e,a);e.prototype.initialize=function(a){var c=this;a&&(a.tools&&this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,!0),this.validateGeometry=!!a.validateGeometry,this.configAllowsEditGeometry=void 0!==a.editGeometry?!!a.editGeometry:this.configAllowsEditGeometry,this.textareaThreshold=void 0!==a.textareaThreshold?parseInt(a.textareaThreshold):this.textareaThreshold,this.doNotAdjustTime=void 0!==a.doNotAdjustTime?!!a.doNotAdjustTime:
this.doNotAdjustTime);this.app.nativeManager.hasNativeCapability("editing").then(function(a){c.canEditOffline=a})};e.prototype._registerCommands=function(){var a=this;this.app.command("StartEditingFeature").register(this,this._executeStartEditingFeature,this._canExecuteStartEditingFeature);this.app.command("StartEditingNewFeature").register(this,this._executeStartEditingNewFeature,this._canExecuteStartEditingNewFeature);this.app.command("StartEditingEditLogEntry").register(this,this._executeStartEditingEditLogEntry,
this._canExecuteStartEditingEditLogEntry);this.app.command("StartEditingNewRelatedRecord").register(this,this._executeStartEditingRelatedRecord);this.app.command("StartEditingGraphicGeometry").postExecute.subscribe(this,this._onStartEditingGraphicGeometry);this.app.event("GeometryEditCompletedEvent").subscribe(this,this._onGeometryEditCompletedEvent);this.app.command("StartAddingFeatureGeometry").register(this,this._executeStartAddingFeatureGeometry,this._canExecuteStartEditingNewFeature);this.app.command("Internal.CancelEditingIfNotIdle").register(this,
function(){a.state!==b.Idle&&a.cancelEditing()})};e.prototype._executeStartAddingFeatureGeometry=function(a,c){this.app.command("StartEditingNewFeature").execute(a,c)};e.prototype._subscribeToEvents=function(){this.app.event("GeometryEditInvokedEvent").subscribe(this,this._handleGeometryEditInvokedEvent);this.app.event("GeometryEditCompletedEvent").subscribe(this,this._handleGeometryEditCompletedEvent);this.app.event("GeolocatedEvent").subscribe(this,this._handleGeolocation);this.app.event("LayerVisualizationChangedEvent").subscribe(this,
this._handleLayerVisualizationChangedEvent)};e.prototype.performValidation=function(){var a=!0;this.form.get().clearValidationMessages();a=this.performFormValidation()&&a;this.validateGeometry&&(a=this.performGeometryValidation()&&a);return a};e.prototype.performFormValidation=function(){for(var a=!0,c=this.form.get(),e=0;e<c.fields.getLength();++e){var b=c.fields.getAt(e);try{if(b.validationFunc){var d=b.validationFunc(b.value.get(),b,c);d&&(a=!1,c.addValidationMessage(d))}}catch(f){this.app.trace.warning("Error validating field {0}: {1}".format(b.displayName,
f))}}return a};e.prototype.performGeometryValidation=function(){var a=!0,c=this.form.get(),e=this.currentFeatureEsriClone;e.geometry&&"polygon"===e.geometry.type&&d.essentials.GeometryUtilities.isSelfIntersectingPolygon(e.geometry)&&(c.addValidationMessage(this.app.getResource(this.libraryId,"language-feature-editing-self-intersecting-polygon-need-fixing")),a=!1);return a};e.prototype.confirmDelete=function(){var a=this;this.app.command("Confirm").execute(this.app.getResource(this.libraryId,"language-feature-editing-delete-confirmation"),
this.app.getResource(this.libraryId,"language-feature-editing-module-title"),function(c){if(c){var e=!1;a._preventDeleteForRelOrigin(a.currentFeatureRelationships,function(){a.app.command("Alert").execute(a.app.getResource(a.libraryId,"language-feature-editing-delete-with-relation-forbidden"),a.app.getResource(a.libraryId,"language-feature-editing-module-title"));e=!0},function(){e||a.deleteCurrentFeature()})}})};e.prototype.deleteCurrentFeature=function(a,c){var e=this,b=this.currentFeatureEsri,
d=b.getLayer()||this._sourceLayer,f=this._getMapServiceByLayer(d);f?(f={mapService:f,layer:d,feature:b,successCallback:function(){e._deleteFeatureSuccessCallback(b,d,a)},errorCallback:function(a){e._deleteFeatureErrorCallback(a,d,c)}},this.isBusy.set(!0),this.app.command("DeleteFeature").execute(f)):(f={mapService:this.currentMapService,layer:d,feature:b,relatedFeature:this._relatedFeature,relationshipOrigin:this._editingRelationshipOrigin,relationshipDestination:this._editingRelationshipDestination,
successCallback:function(){e._deleteFeatureSuccessCallback(b,d,a)},errorCallback:function(a){e._deleteFeatureErrorCallback(a,d,c)}},this.isBusy.set(!0),this.app.command("DeleteRelatedRecord").execute(f),this.app.event("RelatedRecordDeletedEvent").publish())};e.prototype._deleteFeatureErrorCallback=function(a,c,e){a=this.app.getResource(this.libraryId,"language-feature-editing-error-feature-edits").format(a);c=this.app.getResource(this.libraryId,"language-feature-editing-error-title");this.app.command("Alert").execute(a,
c);this.app.trace.error(a);this.isBusy.set(!1)};e.prototype._deleteFeatureSuccessCallback=function(a,c,e){this._handleDeletedFeature(a);this.app.event("FeatureDeletedEvent").publish(a);c&&c.remove&&c.remove(a);this.app.command("ShowMap").execute();this.currentFeatureEsriClone.hide();this._destroyEditingLayer();this._sourceLayer.refresh&&this._sourceLayer.refresh();this.app.command("ShowFeatureParentDetails").execute();e&&e();this.isBusy.set(!1)};e.prototype._buildFeatureRelationships=function(){this.currentFeatureRelationships.clear();
for(var a=this.currentFeatureEsri,c=this._sourceLayer,e=this.currentMapService,b=0;b<c.relationships.length;++b){var d=c.relationships[b];if(e){var f=e._getRelation(d.id);if(f&&!f.visible)continue}var g=!0;if(!d.role)g=!1;else if("esriRelRoleOrigin"!==d.role)continue;var h=d.name;"undefined"!==typeof f&&(h=f.displayName);h=this.app.getResource(this.libraryId,"language-feature-editing-create-related-feature").format(h);this.currentFeatureRelationships.addItem({id:d.id,text:h,editable:g,relatedFeature:a,
relationship:d})}this.hasRelatedLayers.set(0<this.currentFeatureRelationships.getLength())};e.prototype._preventDeleteForRelOrigin=function(a,c,e){var b=this,d=this.currentFeatureEsri,g=this._sourceLayer,l=null,m=!1;if(d&&g&&a&&0<a.length()&&(l=a.length(),g))for(var p=0;p<a.length();p++){var r=function(){l--;0>=l&&e&&e()},t=function(a){var e=parseInt(a.id),k=a.relatedTableId?a.relatedTableId.get():a.relationship.relatedTableId,n=g.url||g._essentialsMetadata.serviceUrl;a=b._getMapServiceByLayer(g);
var l=new esri.tasks.RelationshipQuery;l.objectIds=[d.attributes[g.objectIdField]];l.outFields=["*"];l.relationshipId=e;f.infrastructure.taskUtils.getQueryTask(g,a);h.FeatureUtilities.getRelatedFeatures(b._getMapServiceByLayer(g),e,l.objectIds[0]).then(function(a){var e=!1,d;for(d in a)if(a.hasOwnProperty(d)){e=!0;break}e?b._getRelatedFeatureLayer(k,n,function(e){if(!m){e=[];for(var b in a)if(a.hasOwnProperty(b)){var d=a[b].features||a[b];if(d)if(d.length)for(var k=0;k<d.length;k++)e.push(d[k]);else e.push(d)}0<
e.length&&c&&(c(e),m=!0);r()}},function(a){r()}):r()},function(a){r()})},w=a.getAt(p);w.relationship&&"esriRelRoleOrigin"===w.relationship.role&&!1==w.relationship.composite?t(w):w.relationship.composite&&r()}(!l||0>=l)&&e&&e()};e.prototype._getMapServiceByLayer=function(a){a=a.url;var c=a.indexOf("?token=");-1!=c&&(a=a.substring(0,c));for(c=0;c<this.app.site.essentialsMap.mapServices.length;++c){var e=this.app.site.essentialsMap.mapServices[c];if(e.serviceUrl===a)return e}return null};e.prototype._getRelatedFeatureLayer=
function(a,c,e,b){var f=new dojo.Deferred,g=c.match(/token=.[^&]*/g);a=c.substring(0,c.lastIndexOf("/")+1)+a;g&&(a+="?"+g);g=new esri.layers.FeatureLayer(a,{mode:esri.layers.FeatureLayer.MODE_SELECTION,outFields:["*"]});dojo.connect(g,"onLoad",dojo.hitch(this,function(a){d.deferredResolve(f,a);"function"==typeof e&&e(a)}));dojo.connect(g,"onError",dojo.hitch(this,function(a){d.deferredReject(f,a);"function"===typeof b&&b(a)}));return f};e.prototype._getMapServiceForRelatedRecord=function(a){for(var c=
this.app.site.getFeatureServices(),e=0;e<c.length;e++){for(var b=c[e].serviceLayer,d=0;d<b.relationships.length;d++)if(b.relationships[d]==a.relationship){this._sourceLayer=b;this._calculateCanDeleteFeature();return}if(b.layerId==a.relationship.relatedTableId)for(e=0;e<b.fields.length;e++)b.fields[e].name==a.relationship.keyField&&(this._sourceLayer=b)}this._sourceLayer||this.app.trace.warning("Could not find a proper source layer.");(a=this._getMapServiceByLayer(this._sourceLayer))||this.app.trace.warning("Could not edit related feature. No map service for layer '{0}' was found.".format(this._sourceLayer.url));
return a};e.prototype._getRelatedKeyFieldForRelatedRecords=function(a,c){if(a.relationship.keyField){for(var e=null,b=0;b<c.relationships.length;++b){var d=c.relationships[b];if(d.id===a.relationship.id){this._editingRelationshipDestination=d;e=d.keyField;break}}if(e)return e;this.app.trace.error(this.app.getResource(this.libraryId,"language-feature-editing-relationships-key-field-missing"))}else this.app.trace.error(this.app.getResource(this.libraryId,"language-feature-editing-relationships-require-arcgis-version"))};
e.prototype._setupViewForRelatedRecordCreationAndEditing=function(a,c,e){this._editingRelationshipOrigin=a.relationship;this.canEditGeometry.set(this.configAllowsEditGeometry&&!!c.geometryType);this.showEditGeometryButton.set(this.canEditGeometry.get());this.showStopEditingGeometryButton.set(!1);this.currentFeatureEsri=e;this.currentFeatureEsriClone=this._cloneEsriFeature(this.currentFeatureEsri);this.originalFeatureClone=null;this.form.set(new h.EditingFormViewModel(this.app,this.libraryId,e,c,{textareaThreshold:this.textareaThreshold,
doNotAdjustTime:this.doNotAdjustTime,timeZoneId:a.timeZoneId,displayTimeZoneId:a.displayTimeZoneId}));this.app.event("Internal.EditorFormSetupForRelatedFeatureEvent").publish(this.form,e)};e.prototype._renderRelatedRecordEditingTable=function(a,c,e){for(var b=!1,d=0;d<this.form.get().fields.getLength();++d){var f=this.form.get().fields.getAt(d);f.name.get()===c&&("objectid"===c.toLowerCase()||"globalid"===c.toLowerCase()?f.editable.set(!1):a.feature?(f.value.set(a.feature.attributes[c]),a.relationship.keyField in
e.attributes&&(e.attributes[a.relationship.keyField]=a.feature.attributes[a.relationship.keyField]||a.feature.attributes[c])):a.relatedFeature&&(f.value.set(a.relatedFeature.attributes[a.relationship.keyField]),a.relationship.keyField in e.attributes&&(e.attributes[a.relationship.keyField]=a.relatedFeature.attributes[a.relationship.keyField]||a.relatedFeature.attributes[c])))}!0===this.isEditingNewFeature.get()&&(c in e.attributes&&(e.attributes[c]=a.relatedFeature.attributes[a.relationship.keyField]||
a.relatedFeature.attributes[c],b=!0),0===this.form.get().fields.getLength()||!1==b)&&(e.attributes[c]=a.relatedFeature.attributes[a.relationship.keyField]||a.relatedFeature.attributes[c])};e.prototype._executeStartEditingRelatedRecord=function(a,c){var e=this;this.isEditingNewFeature.set(c);this.isEditingRelatedFeature.set(!0);this._relatedFeature=a.relatedFeature;var b=null;this.app.map.getLayersVisibleAtScale().forEach(function(c){c.layerId&&c.layerId==a.relationship.relatedTableId&&c.fields[a.relationship.keyField]&&
(b=c)});if(b)this.isEditingRelatedFeatureNotInSite.set(!1),this.currentMapService=this._getMapServiceByLayer(b);else{this.isEditingRelatedFeatureNotInSite.set(!0);if(a.essentialsRelatedFeature){if(a.essentialsRelatedFeature.layer.getRelatedFeatureLayer)a.essentialsRelatedFeature.layer.getRelatedFeatureLayer(a.relationship.id,function(c){e._refreshRelatedRecord(a,c)},function(a){e.app.trace.error("Error in getting related feature layer: "+a)});else{var d=this._getMapServiceForRelatedRecord(a);this.currentMapService=
d;this._refreshRelatedRecord(a,d.serviceLayer)}return}b=this.currentFeatureGeocortex.featureLayer;this.currentMapService=null}this._refreshRelatedRecord(a,b)};e.prototype._refreshRelatedRecord=function(a,c){var e=this;a.feature?this._refreshEsriGraphic(a.feature,c).then(function(b){null!=b&&b.features&&0<b.features.length?a.feature=b.features[0]:e.app.trace.info("Error retrieving most recent version of related record. Falling back to currently loaded version.");e._displayEditorForRelatedFeatures(a,
c)}).caught(function(b){e.app.trace.info("Error retrieving most recent version of related record. Falling back to currently loaded version.");e._displayEditorForRelatedFeatures(a,c)}):this._displayEditorForRelatedFeatures(a,c)};e.prototype._displayEditorForRelatedFeatures=function(a,c){a.text?this.headerText.set(a.text):this.headerText.set(this.app.getResource(this.libraryId,"language-feature-editing-new-related-feature-default"));this.state!==b.Idle&&this.cancelEditing();this._sourceLayer=c;this._calculateCanDeleteFeature();
var e={};c.fields.forEach(function(a){e[a.name]=null});var d=null;this.isEditingNewFeature.get()?(d=this._createNewEsriFeature(null,e,null,null),d.setGeometry(null)):d=a.feature;this._setupViewForRelatedRecordCreationAndEditing(a,c,d);var f=this._getRelatedKeyFieldForRelatedRecords(a,c);this._renderRelatedRecordEditingTable(a,f,d);if(this.isEditingNewFeature.get()&&"Table"!=this._sourceLayer.type){for(var f=this.app.site.getFeatureServices(),g=void 0,h=0;h<f.length;h++)for(var l=f[h],m=0;m<l.layers.length;m++){var p=
l.layers[m];p.id==a.relationship.relatedTableId&&p.name==a.relationship.name&&(g=p)}this.app.command("ShowFeatureTemplatePicker").execute(g,d)}else this._activateEditingView()};e.prototype.startEditingGeometry=function(){if(!this.currentFeatureEsri)throw Error("Could not edit geometry - no feature selected.");this.app.command("StartEditingGraphicGeometry").execute(this.currentFeatureEsriClone,this._sourceLayer)};e.prototype.stopEditingGeometry=function(){this.app.command("StopEditingGraphicGeometry").execute()};
e.prototype._onStartEditingGraphicGeometry=function(a,c){this.state==b.Idle||!a||a!==this.currentFeatureEsri&&a!==this.currentFeatureEsriClone||this.currentFeatureEsriClone.hide();var e=this.app.toolRegistry.getActiveTool();e instanceof f.infrastructure.tools.MapTool&&"EditingPointTool"===e.name&&(this.app.event("GeometryEditPointActivatedEvent").publish(),this.app.command("OpenToolbar").execute())};e.prototype._onGeometryEditCompletedEvent=function(a){this.state==b.Idle||!this.currentFeatureEsriClone||
this.currentFeatureEsri!==a.originalGraphic&&this.currentFeatureEsriClone!==a.originalGraphic||(a.cancelled||this.currentFeatureEsri!==a.originalGraphic||this.currentFeatureEsriClone.setGeometry(a.editedGraphic.geometry),this.app.command("HideFeatureTemplatePicker").execute(),this.app.command("HideCreateEditView").execute(),this.app.command("ShowFeatureAttributeEditor").execute(),this.currentFeatureEsriClone.show(),a=new f.infrastructure.Feature({graphic:this.currentFeatureEsriClone}),this.app.behavior("EditorFeatureSelectedBehavior").run(a))};
e.prototype._handleGeolocation=function(a){var c=this,e=function(){c.currentFeatureEsriClone.setGeometry(a.projectedMapPoint);c.app.event("GeometryEditCompletedEvent").publish({editedGraphic:c.currentFeatureEsriClone,originalGraphic:c.currentFeatureEsri,cancelled:!1});setTimeout(function(){return c.app.command("GeolocateStop").execute()},0);c.app.command("StopEditingGraphicGeometry").execute();var e=new f.infrastructure.Feature({graphic:c.currentFeatureEsriClone});c.app.behavior("EditorFeatureSelectedBehavior").run(e)},
b=this.app.toolRegistry.getActiveTool(),b=this.isEditingNewFeature.get()&&"esriGeometryPoint"===this._sourceLayer.geometryType&&b&&"EditingPointTool"===b.name,d=a&&"single"===a.typeOfGeolocation&&a.location;b&&d&&(a.location.coords.accuracy<=a.accuracyThreshold?e():this.app.command("Confirm").execute(this.app.getResource(this.libraryId,"language-feature-editing-confirm-low-accuracy-geolocation").format(m.formatNumber(a.location.coords.accuracy,l.DEFAULT,{fractionalDigits:0}),this.getResource("language-common-ok")||
"'OK'",this.getResource("language-common-cancel")||"'Cancel'"),this.app.getResource(this.libraryId,"language-feature-editing-confirm-low-accuracy-geolocation-title"),function(a){a?e():setTimeout(function(){return c.app.command("GeolocateStop").execute()},0)}))};e.prototype._createEditingLayer=function(){this._destroyEditingLayer();this._editingLayer=new esri.layers.GraphicsLayer;this._sourceLayer&&this._editingLayer.setRenderer(this._sourceLayer.renderer);this.app.map.addLayer(this._editingLayer);
return this._editingLayer};e.prototype._destroyEditingLayer=function(){this.currentFeatureEsriClone&&(this.currentFeatureEsriClone.hide(),this._editingLayer&&this._editingLayer.remove(this.currentFeatureEsriClone));this._editingLayer&&(this._editingLayer.clear(),this.app.map.removeLayer(this._editingLayer),this._editingLayer=null)};e.prototype._createNewEsriFeature=function(a,c,e,b){var d=new esri.Graphic(null);d.attributes=c||{};d.geometry=a||new esri.geometry.Point(NaN,NaN);d.symbol=e||null;d.infoTemplate=
b||null;return d};e.prototype._handleLayerVisualizationChangedEvent=function(a){a.mapService&&a.mapService.serviceLayer&&this._sourceLayer&&a.mapService.serviceLayer.id===this._sourceLayer.id&&a.mapService.serviceLayer.renderer&&(a=a.mapService.serviceLayer.renderer,this.currentFeatureEsriClone&&this.currentFeatureEsriClone.setSymbol(a.getSymbol(this.currentFeatureEsri)),this._editingLayer&&this._editingLayer.setRenderer(a))};e.prototype.save=function(a,c){var e=this;this.stopEditingGeometry();var d=
this.performValidation();this.isBusy.set(!1);if(d){this.state=b.Saving;this.isBusy.set(!0);var d=this.currentFeatureEsri?this._cloneEsriFeature(this.currentFeatureEsri):new esri.Graphic(null),f;for(f in d.attributes)d.attributes.hasOwnProperty(f)&&(f||delete d.attributes[f]);f=this.currentFeatureEsri;var g=this._sourceLayer;try{var h=this.form.get().getAttributeValues(),l=null,m;if(this.isEditingNewFeature.get())for(m in l=h,f.attributes)f.attributes.hasOwnProperty(m)&&(l.hasOwnProperty(m)||null==
f.attributes[m]||(l[m]=f.attributes[m]));else{l={};for(m in h)h.hasOwnProperty(m)&&f.attributes[m]!==h[m]&&(l[m]=h[m]);var p=g.objectIdField,t=g.globalIdField;f.attributes.hasOwnProperty(p)&&(l[p]=f.attributes[p]);f.attributes.hasOwnProperty(t)&&(l[t]=f.attributes[t])}var w=!0;if(g.relationships){var B=[],z=[];for(m=0;m<g.relationships.length;m++){var C=g.relationships[m];B[m]={key:C.keyField,value:h[C.keyField]};if("esriRelCardinalityOneToOne"===C.cardinality||"esriRelCardinalityOneToMany"===C.cardinality&&
"esriRelRoleOrigin"===C.role){var D=null,F=new esri.tasks.Query;if(!h.hasOwnProperty(C.keyField)||null===h[C.keyField])continue;F.where=C.keyField+" = '"+h[C.keyField]+"'";D=Promise.resolve(g.queryFeatures(F,function(a){a.features&&(e.isEditingNewFeature.get()&&1<=a.features.length?w=!1:!e.isEditingNewFeature.get()&&1<a.features.length&&(w=!1))},function(a){e.app.trace.warning("Unable to query layer for cardinality check: "+a)}))}z.push(D)}}Promise.all(z).then(function(a){if(!1===w){for(var c="",
d="",k=0;k<B.length;k++){var f=B[k];$.each(a,function(e){e=a[e];e.features&&0<e.features.length&&e.features[0].attributes[f.key]===f.value&&(c=f.key,d=f.value)})}e.app.command("Alert").execute(e.app.getResource(e.libraryId,"language-feature-editing-cardinality-violation").format(d,c),e.app.getResource(e.libraryId,"language-feature-editing-error-dialogue"));e.state=b.Idle;e.isBusy.set(!1)}}).lastly(function(){if(!1!==w){var d=new esri.Graphic(e.currentFeatureEsriClone.toJson());d.attributes=l;e.geometryHasBeenEdited.get();
var f=null;if(!e.isEditingRelatedFeatureNotInSite.get()&&(f=e._getMapServiceByLayer(g),!f))throw Error("Could not find map service for feature layer while saving.");e.isBusy.set(!0);f={mapService:f,layer:g,feature:d,successCallback:function(){e.isBusy.set(!1);e._handleSaveSuccess(d,g,a,c)},errorCallback:function(a){e.isBusy.set(!1);e._handleSaveError(a,c)}};try{e.app.event("Internal.EditorFormPreSaveEvent").publish(e.form,f)}catch(h){return}e.isEditingRelatedFeature.get()?(f.relatedFeature=e._relatedFeature,
f.relationshipOrigin=e._editingRelationshipOrigin,f.relationshipDestination=e._editingRelationshipDestination,e.isEditingNewFeature.get()?(f.successCallback=function(c){e.app.event("RelatedRecordCreatedEvent").publish(d);e.isBusy.set(!1);a()},e.app.command("CreateRelatedRecord").execute(f)):(f.successCallback=function(c){e.app.event("RelatedRecordEditedEvent").publish(d);e.isBusy.set(!1);a()},e.app.command("UpdateRelatedRecord").execute(f))):e.isEditingNewFeature.get()?(e.app.event("EditorPreCreateFeatureEvent").publish(d),
e.app.command("CreateFeature").execute(f)):(e.app.event("EditorPreUpdateFeatureEvent").publish(d),e.app.command("UpdateFeature").execute(f));e.state=b.Saving}})}catch(H){this.state=b.Idle,this.isBusy.set(!1),this.app.trace.error("Error applying edits: {0}".format(H))}}};e.prototype._handleSaveError=function(a,c){this.isBusy.set(!1);this.state=b.Idle;var e=this.app.getResource(this.libraryId,"language-feature-editing-error-feature-edits").format(a),d=this.app.getResource(this.libraryId,"language-feature-editing-error-title");
this.app.command("Alert").execute(e,d);this.app.trace.error(e);c&&c(a)};e.prototype._handleSaveSuccess=function(a,c,e,f){this.layerUpdateEndToken&&(dojo.disconnect(this.layerUpdateEndToken),this.layerUpdateEndToken=null);if(f=d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.findFeatureInMap(this.currentFeatureEsri,this.app.site,this._sourceLayer)){var g=a.attributes;a.attributes=null;f.attributes={};dojo.mixin(f.attributes,this.originalFeatureClone.attributes);dojo.mixin(f.attributes,g);f.show()}this._destroyEditingLayer();
this.originalFeatureClone&&f?(f={originalFeature:this.originalFeatureClone,editedFeature:f},this._handleEditedFeature(f),this.app.event("FeatureEditedEvent").publish(f)):this.originalFeatureClone&&this.isEditingNewFeature.get()&&this.app.event("FeatureCreatedEvent").publish(a);this.isEditingNewFeature.set(!1);this.state=b.Idle;c&&c.refresh();this.isEditingRelatedFeatureNotInSite.get()&&(c=this.findGeocortexLayerForUrl(c.url),a=new d.essentialsHtmlViewer.mapping.infrastructure.Feature({graphic:a,layer:c}),
this.headerText.set(a.plainLabel.get()));this.cancelEditing();e&&e()};e.prototype._cloneEsriFeature=function(a){return new esri.Graphic(a.geometry,a.symbol,a.attributes,a.infoTemplate)};e.prototype._handleGeometryEditInvokedEvent=function(a){this.isEditingGeometry.set(!0);this.showEditGeometryButton.set(!1);this.showStopEditingGeometryButton.set(this.canEditGeometry.get());this.geometryHasBeenEdited.set(!0)};e.prototype._handleGeometryEditCompletedEvent=function(a){this.isEditingGeometry.set(!1);
this.showEditGeometryButton.set(this.canEditGeometry.get());this.showStopEditingGeometryButton.set(!1);this.currentFeatureEsriClone&&this.currentFeatureEsriClone===a.originalGraphic&&(this.currentFeatureEsriClone.setGeometry(a.editedGraphic.geometry),this.currentFeatureEsriClone.show(),this._swapOriginalFeatureForClone());this.isEditingNewFeature.get()&&this.isEditingRelatedFeature.get()&&this._activateEditingView()};e.prototype._handleLayerUpdateEnd=function(){this._swapOriginalFeatureForClone()};
e.prototype._handleDeletedFeature=function(a){(a=a instanceof esri.Graphic?a:a.originalFeature)&&a instanceof esri.Graphic?this._updateCollectionsOnFeatureDeletion(a):this.app.trace.warning("EditorViewModel: Could not update feature set collections on feature deletion. Original feature not provided.")};e.prototype._updateCollectionsOnFeatureDeletion=function(a,c){void 0===c&&(c=!0);(this.app.featureSetManager.featureSetCollections.get()||[]).forEach(function(e){for(var b=e.featureSets.length();b--;){var d=
e.featureSets.getAt(b),f=d.findFeatureByEsriFeature(a);f&&(d.removeFeature(f),c&&0===d.features.length()&&e.featureSets.removeItem(d))}})};e.prototype._handleEditedFeature=function(a){if(a.originalFeature&&a.editedFeature){var c=this.app.featureSetManager.findFeaturesByEsriFeature(a.editedFeature||a.originalFeature);a.editedFeature&&a.originalFeature&&a.editedFeature!==a.originalFeature&&c.concat(this.app.featureSetManager.findFeaturesByEsriFeature(a.originalFeature));(c=d.framework.utils.ArrayUtils.distinct(c))&&
c.length&&c.forEach(function(c){return c.esriFeature.set(a.editedFeature)})}else this.app.trace.warning("EditorViewModel: Could not update feature set collections on feature edit. Original or edited feature not provided.")};e.prototype._swapOriginalFeatureForClone=function(){if(this.currentFeatureEsri){var a=d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.findFeatureInMap(this.currentFeatureEsri,this.app.site,this._sourceLayer);a&&(a.hide(),!this.isEditingGeometry.get()&&this.currentFeatureEsriClone.getLayer()&&
this.currentFeatureEsriClone.show())}};e.prototype._restoreOriginalFeature=function(){if(this.currentFeatureEsri){var a=null;(a=this.currentFeatureGeocortex&&this.currentFeatureGeocortex.featureLayer&&"Table"==this.currentFeatureGeocortex.featureLayer.type?d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.findFeatureInLayer(this.currentFeatureEsri,this._sourceLayer):d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.findFeatureInMap(this.currentFeatureEsri,this.app.site,this._sourceLayer))&&
a.show()}};e.prototype.cancelEditing=function(){this.stopEditingGeometry();this.geometryHasBeenEdited.set(!1);this._restoreOriginalFeature();this._destroyEditingLayer();this.form.get()&&this.form.get().clear();this.isEditingGeometry.set(!1);this.isEditingLogEntry.set(!1);this.isEditingNewFeature.set(!1);this.isEditingRelatedFeature.set(!1);this.isEditingRelatedFeatureNotInSite.set(!1);this.layerUpdateEndToken&&dojo.disconnect(this.layerUpdateEndToken);this.app.behavior("EditorRemoveFeatureSelectedBehavior").run();
this.app.event("EditorClosedEvent").publish();this.state=b.Idle};e.prototype._canExecuteStartEditingFeature=function(a){if(!a||this.app.offlineManager.isOfflineMapActive.get()&&!this.canEditOffline)return!1;if(a.layer){var c=a.layer;if(c.mapService&&c.mapService.serviceLayer){if(c.mapService.serviceLayer.isEditable){if(!c.mapService.serviceLayer.isEditable())return!1}else return!1;if(this.app.offlineManager.isOfflineMapActive.get()){var e=this.app.offlineManager.syncInfo.findLayerOrTable(a.layer.mapService.serviceLayer.url);
if(!e.canEdit)return!1}}if(a=a.esriFeature.get()){if(a.getLayer())return!0;c.mapService&&c.mapService.serviceLayer&&(a._graphicsLayer=a._layer=c.mapService.serviceLayer);return!!d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.findFeatureInMap(a,this.app.site)}}else if(a.featureLayer)return this.app.offlineManager.isOfflineMapActive.get()?(e=this.app.offlineManager.syncInfo.findLayerOrTable(a.featureLayer.url),e.canEdit):a.featureLayer.isEditable();return!1};e.prototype._executeStartEditingFeature=
function(a,c){var e=this;void 0===c&&(c=!1);var b=!0;this.isEditingNewFeature.set(c);this.geometryHasBeenEdited.set(!1);var f;try{if(a&&a instanceof d.essentialsHtmlViewer.mapping.infrastructure.Feature?(a.layer&&a.layer.mapService&&(this.currentMapService=a.layer.mapService),a.featureLayer&&"Table"==a.featureLayer.type&&(b=!1),this.currentFeatureGeocortex=a,this.headerText.set(a.plainLabel.get()),f=a.esriFeature.get()):f=a,this.app.map&&this.app.site&&this.app.site.isInitialized)this.isEditingNewFeature.get()?
this._executeStartEditingFeatureImpl(f,c,b):this._refreshEsriGraphic(f).then(function(a){null!=a&&a.features&&0<a.features.length&&a.features[0].attributes?(f.attributes={},dojo.mixin(f.attributes,a.features[0].attributes)):e.app.trace.info("Error retrieving most recent version of related record. Falling back to currently loaded version.");e._executeStartEditingFeatureImpl(f,c,b)}).caught(function(a){e.app.trace.info("Error retrieving most recent version of feature for editing. Falling back to currently loaded version.");
e._executeStartEditingFeatureImpl(f,c,b)});else this.app.event("SiteInitializedEvent").once(this,function(){return e._executeStartEditingFeatureImpl(f,c,b)})}catch(g){this.app.trace.error("Could not start editing: {0}".format(g)),this.cancelEditing()}};e.prototype._refreshEsriGraphic=function(a,c){var e=null;c||(c=a.getLayer());var e=this._getMapServiceByLayer(c),b=c.objectIdField;!b&&e.serviceLayer instanceof esri.layers.FeatureLayer&&(b=e.serviceLayer.objectIdField);var d=new esri.tasks.Query;d.objectIds=
[a.attributes[b]];d.returnGeometry=!0;d.outFields=["*"];var g=f.infrastructure.taskUtils.getQueryTask(c,e);return new Promise(function(a,e){g.execute(d,function(e){e&&e.features&&e.features.length&&(e.features[0]._layer=c);a(e)},e)})};e.prototype._executeStartEditingFeatureImpl=function(a,c,e){void 0===c&&(c=!1);this.state!==b.Idle&&(this.cancelEditing(),this.isEditingNewFeature.set(c));var f=null;if(e)if(e=c?a:d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.findFeatureInMap(a,this.app.site),
this.originalFeatureClone=this._cloneEsriFeature(e),f=c?this._sourceLayer:e.getLayer()){if(f instanceof esri.layers.GraphicsLayer&&!(f instanceof esri.layers.FeatureLayer)){var g=f;if(g.id){var l=g.id.replace("-explodedClusterLayer",""),l=this.app.map.getLayer(l);l instanceof esri.layers.FeatureLayer&&(f=l)}g.renderer&&a.setSymbol(g.renderer.getSymbol(a))}c&&(f.objectIdField&&(a.attributes[f.objectIdField]=0),f.globalIdField&&(a.attributes[f.globalIdField]=""));this._sourceLayer=f;this._calculateCanDeleteFeature();
this.layerUpdateEndToken=dojo.connect(f,"onUpdateEnd",dojo.hitch(this,this._handleLayerUpdateEnd));this.state=b.EditingAttributes;this.isEditingRelatedFeatureNotInSite.set(!1);this.canEditGeometry.set(this.configAllowsEditGeometry&&!!f.geometryType&&f.allowGeometryUpdates);this.showStopEditingGeometryButton.set(!1);this.showEditGeometryButton.set(this.canEditGeometry.get());this.currentFeatureEsri=e;this.currentFeatureEsriClone=this._cloneEsriFeature(e);e.hasOwnProperty("_drawType")&&(this.currentFeatureEsriClone._drawType=
e._drawType);this._createEditingLayer();this._editingLayer.add(this.currentFeatureEsriClone);g={textareaThreshold:this.textareaThreshold,doNotAdjustTime:this.doNotAdjustTime};if(this.currentFeatureGeocortex&&this.currentFeatureGeocortex.layer){var m=[];this.currentFeatureGeocortex.layer.fields.forEach(function(a){m.push(a.name)});g.fieldOrder=m}this.form.set(new h.EditingFormViewModel(this.app,this.libraryId,a,f,g));this.app.event("Internal.EditorFormSetupEvent").publish(this.form,e);if(null!=this._sourceLayer.typeIdField)for(a=
this.form.get(),f=0;f<a.fields.getLength();f++)if(e=a.fields.getAt(f),e.name.get()===this._sourceLayer.typeIdField){this.handleTypeFieldSelected(e);break}try{this._buildFeatureRelationships()}catch(p){this.app.trace.warning("Could not set up related records for editing.")}this.isBusy.set(!1);c||this._activateEditingView()}else this.app.trace.error("Error - could not find layer for feature.");else this._editAsTable(a)};e.prototype._canExecuteStartEditingNewFeature=function(a){return this.app.offlineManager.isOfflineMapActive.get()&&
!this.canEditOffline?!1:!0};e.prototype._editAsTable=function(a){for(var c=this,e=this.app.site.getFeatureServices(),b=null,d=null,f=0;f<e.length;f++){var h=e[f];h.serviceLayer.relationships.forEach(function(e){var f=c.currentFeatureGeocortex.featureLayer;e.relatedTableId==f.layerId&&(d=f,b=e,f=e=null,(f=c.app.site&&c.app.site.essentialsMap?c.app.site.essentialsMap.findLayerFromMatchingEsriFeatureLayer(d):null)?(e=g.mapping.infrastructure.TimeZoneUtils.getTimeZoneFromLayer(f),f=g.mapping.infrastructure.TimeZoneUtils.getDisplayTimeZoneFromMapService(f.mapService)):
(e=g.mapping.infrastructure.TimeZoneUtils.getTimeZoneFromMapService(h),f=g.mapping.infrastructure.TimeZoneUtils.getDisplayTimeZoneFromMapService(h)),e={id:d.layerId,text:"Editing "+a.attributes.OBJECTID,relatedFeature:null,essentialsRelatedFeature:null,feature:a,editable:d.isEditable(),relationship:b,timeZoneId:e,displayTimeZoneId:f},c._executeStartEditingRelatedRecord(e,!1))})}};e.prototype._executeStartEditingNewFeature=function(a,c,e){void 0===e&&(e=!0);this.currentFeatureEsri=a;this._sourceLayer=
c;this._calculateCanDeleteFeature();var b=this.app.getResource(this.libraryId,"language-common-feature-editing");this.headerText.set(b);this._executeStartEditingFeature(a,!0);e?c.geometryType&&c.allowGeometryUpdates?this.startEditingGeometry():this._activateEditingView():(this._activateEditingView(),this.currentFeatureEsriClone.show())};e.prototype._canExecuteStartEditingEditLogEntry=function(a){return!0};e.prototype._executeStartEditingEditLogEntry=function(a){return!0};e.prototype.handleTypeFieldSelected=
function(a){if(a){var c=a.value.get();if(null!=c)for(var e=0;e<a.valueOptions.getLength();e++){var b=a.valueOptions.getAt(e);if(null!=b.id&&b.id.toString()===c.toString()){this._loadCodedDomainsForType(b.domains,a.name.get());break}}}};e.prototype._loadCodedDomainsForType=function(a,c){if(a){var e=this.form.get(),b;for(b in a)if(b!==c&&a.hasOwnProperty(b)&&a[b].type)for(var d=0;d<e.fields.getLength();d++){var f=e.fields.getAt(d),g=!0;if(f.name.get()===b){var h=[];if("inherited"!==a[b].type)h=a[b].codedValues;
else{for(var l=0;l<this._sourceLayer.fields.length;++l){var m=this._sourceLayer.fields[l];if(m.name===f.name.get()&&(m=m.domain)){m.codedValues?h=m.codedValues:g=!1;break}}if(!g)continue}g={viewModel:f,typeName:"codedDomainValue",collectionName:"codedDomainValues",valueCollection:h,nullable:f.nullable.get(),nullOption:{name:"",code:null}};this._addValueCollection(g);f.value.pulse()}}}};e.prototype._addValueCollection=function(a){function c(a){return null===a||void 0===a?"":a.toString()}if(a){var e=
a.viewModel.valueOptions;e||(e=a.viewModel.valueOptions=new ObservableCollection([]));e.clear();e.addItems(a.valueCollection);a.nullable&&e.insertItem(0,a.nullOption);var b=c(a.viewModel.value.get());e.get().some(function(a){return c(a.code)===b})||(e=e.get().filter(function(c){return c!==a.nullOption})[0],a.viewModel.value.set(e?e.code:a.nullOption.code))}};e.prototype._activateEditingView=function(){this.app.command("HideFeatureTemplatePicker").execute();this.app.command("ActivateView").execute("EditorView");
var a=new f.infrastructure.Feature({graphic:this.currentFeatureEsriClone});this.app.behavior("EditorFeatureSelectedBehavior").run(a)};e.prototype._getEditingToolMessage=function(a){switch(a){case esri.toolbars.Draw.POINT:return this.app.getResource(this.libraryId,"language-feature-editing-geometry-point");case esri.toolbars.Draw.MULTI_POINT:return this.app.getResource(this.libraryId,"language-feature-editing-geometry-multi-point");case esri.toolbars.Draw.POLYLINE:case esri.toolbars.Draw.FREEHAND_POLYLINE:return this.app.getResource(this.libraryId,
"language-feature-editing-geometry-polyline");case esri.toolbars.Draw.POLYGON:case esri.toolbars.Draw.FREEHAND_POLYGON:return this.app.getResource(this.libraryId,"language-feature-editing-geometry-polygon");case esri.toolbars.Draw.EXTENT:return this.app.getResource(this.libraryId,"language-feature-editing-geometry-rectangle")}return this.app.getResource(this.libraryId,"language-feature-editing-geometry-default")};e.prototype.findGeocortexLayerForUrl=function(a){for(var c=this.app.site,e=0;e<c.essentialsMap.mapServices.length;e++){var b=
c.essentialsMap.mapServices[e];if(b.serviceUrl===a&&0<b.layers.length)return b.layers[0]}return null};e.prototype._findServiceLayerForUrl=function(a){for(var c=this.app.site,e=0;e<c.essentialsMap.mapServices.length;e++){var b=c.essentialsMap.mapServices[e];if(b.url===a)return b.serviceLayer}return null};e.prototype._hideOrShowRelateds=function(){this.showRelatedLayers.set(this.hasRelatedLayers.get()&&!this.isEditingRelatedFeatureNotInSite.get()&&!this.isEditingNewFeature.get())};e.prototype._calculateCanDeleteFeature=
function(){this.canDeleteFeature.set(!this.isEditingNewFeature.get()&&this._sourceLayer&&/Delete/.test(this._sourceLayer.capabilities))};return e}(d.framework.ui.ViewModelBase);h.EditorViewModel=a})(m.editing||(m.editing={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(b){b[b.Create=0]="Create";b[b.Update=1]="Update";b[b.Delete=2]="Delete";b[b.Cut=3]="Cut";b[b.Explode=4]="Explode";b[b.Union=5]="Union"})(g.EditGraphicType||(g.EditGraphicType={}));var m=g.EditGraphicType,l=function(b){function a(){b.apply(this,arguments);this._hasGeometry=!1;this._editorDeactivatedHandle=null;this._isEditingGeometry=!1}__extends(a,b);a.prototype.initialize=function(a){b.prototype.initialize.call(this,a);this._registerCommands();
this._registerEvents()};a.prototype._registerCommands=function(){this.app.command("SetEditorFeatureGeometry").register(this,this._executeSetEditorFeatureGeometry,this._canExecuteSetEditorFeatureGeometry);this.app.command("StartEditingGraphicGeometry").register(this,this._executeStartEditingGeometry,this._canExecuteStartEditingGeometry);this.app.command("StopEditingGraphicGeometry").register(this,this._executeStopEditingGeometry,this._canExecuteStopEditingGeometry);(new g.CoreEditCommands(this.app,
this.libraryId)).registerCommands();this.app.command("StopFeaturePlacementState").register(this,this._executeStopFeaturePlacementState,this._canExecuteStopFeaturePlacementState);this.app.command("CreateGraphicsInMemory").register(this,this._executeCreateGraphicsInMemory);this.app.command("UpdateGraphicsInMemory").register(this,this._executeUpdateGraphicsInMemory);this.app.command("DeleteGraphicsInMemory").register(this,this._executeDeleteGraphicsInMemory);this.app.command("CutGraphicsInMemory").register(this,
this._executeCutGraphicsInMemory);this.app.command("ExplodeGraphicsInMemory").register(this,this._executeExplodeGraphicsInMemory);this.app.command("UnionGraphicsInMemory").register(this,this._executeUnionGraphicsInMemory)};a.prototype._registerEvents=function(){var a=this,e=null;this.app.event("StartFeaturePlacementEvent").subscribe(this,function(){e=a.app.event("ViewDeactivatedEvent").subscribe(a,function(e){"TemplatePickerView"===e.id&&a.app.event("StopFeaturePlacementEvent").publish()})});this.app.event("StopFeaturePlacementEvent").subscribe(this,
function(){a.app.event("ViewDeactivatedEvent").unsubscribe(e);a.app.command("ClearActiveTool").execute();var b=a.app.viewManager.getViewById("TemplatePickerView");b&&b.isActive&&a.app.command("DeactivateView").execute("TemplatePickerView")});this.app.event("LayerVisualizationChangedEvent").subscribe(this,this._handleLayerVisualizationChangedEvent)};a.prototype._executeStopFeaturePlacementState=function(){this.app.event("StopFeaturePlacementEvent").publish()};a.prototype._canExecuteStopFeaturePlacementState=
function(){return!0};a.prototype._canExecuteSetEditorFeatureGeometry=function(a){return!0};a.prototype._executeSetEditorFeatureGeometry=function(a){this._executeStopEditingGeometry();var e=this._feature;e&&("extent"===a.type&&(a=d.essentials.GeometryUtilities.envelopeToPolygon(a)),this._geometry=a,this._hasGeometry=!!a,this._graphic.setGeometry(a),this.app.event("GeometryEditCompletedEvent").publish({originalGraphic:this._feature,editedGraphic:this._graphic,cancelled:!1}),this._destroyEditingLayer(),
this.app.event("FeatureGeometryEditedEvent").publish(e))};a.prototype._canExecuteStartAddingFeatureGeometry=function(a){return!0};a.prototype._executeStartAddingFeatureGeometry=function(a){};a.prototype._canExecuteStartEditingGeometry=function(a,e){return!0};a.prototype._executeStartEditingGeometry=function(a,e){var b=this;this._isEditingGeometry=!0;this._editObject&&this._editObject.deactivate();this._feature=a;a.symbol||e.renderer||a.setSymbol(this._getMoveSymbol(a,e));this._graphic=new esri.Graphic(a.geometry,
a.symbol,a.attributes,a.infoTemplate);this._hasGeometry=!!this._graphic.geometry;var d=e?e:this._feature.getLayer();this._featureLayer=d;this._createEditingLayer();this._hideOriginalFeature();this._graphic.symbol=this._getMoveSymbol(a,d);this._editingLayer.add(this._graphic);this._layerUpdateEndToken&&dojo.disconnect(this._layerUpdateEndToken);this._layerUpdateEndToken=dojo.connect(this._graphic._graphicsLayer,"onUpdateEnd",dojo.hitch(this,this._handleLayerUpdateEnd));if(this._hasGeometry){d=null;
if(null===a)throw Error("Can't edit geometry of null feature");if(esri.toolbars.Edit){var d=this._getConfiguredEditMode(),f={allowAddVertices:!0,allowDeleteVertices:!0};this._editObject=this.app.accessibilityManager.createComponent("geocortex.accessibility.edit",this.app.map,f);var g=dojo.aspect.after(this._editObject,"onGraphicFirstMove",function(a){b.app.map.disableMapNavigation()},!0),h=dojo.aspect.after(this._editObject,"onGraphicMoveStop",function(a){b.app.map.enableMapNavigation()},!0);this._editorDeactivatedHandle&&
(this._editorDeactivatedHandle.remove(),this._editorDeactivatedHandle=null);this._editorDeactivatedHandle=dojo.aspect.after(this._editObject,"onDeactivate",function(a,c,e){g&&(g.remove(),g=null);h&&(h.remove(),h=null);null!=b._editingGeometryMapClickHandle&&(dojo.disconnect(b._editingGeometryMapClickHandle),b._editingGeometryMapClickHandle=null);b._layerUpdateEndToken&&(dojo.disconnect(b._layerUpdateEndToken),b._layerUpdateEndToken=null);b._editorDeactivatedHandle&&(b._editorDeactivatedHandle.remove(),
b._editorDeactivatedHandle=null);b._editObject&&(b._editObject=null);b._destroyEditingLayer();b._indicateGeometryEditing(!1);b.app.event("GeometryEditCompletedEvent").publish({originalGraphic:b._feature,editedGraphic:b._graphic,cancelled:!1})},!0);this._editingGeometryMapClickHandle=dojo.connect(this.app.map,"onClick",function(){b._executeStopEditingGeometry(!0)});this._indicateGeometryEditing(!0);this._editObject.activate(d,this._graphic,f);this.app.event("GeometryEditInvokedEvent").publish(this._feature)}else d=
this.app.getResource(this.libraryId,"language-feature-editing-package-required"),f=this.app.getResource(this.libraryId,"language-feature-editing-error-title"),this.app.command("Alert").execute(d,f)}else this._currentToolName=this._getToolNameByGeometryType(d.geometryType),this.app.command("SetActiveTool").execute(this._currentToolName),this._indicateGeometryEditing(!0)};a.prototype._createEditingLayer=function(){this._editingLayer=new esri.layers.GraphicsLayer;this._editingLayer.id="editing_layer";
this.app.map.addLayer(this._editingLayer)};a.prototype._destroyEditingLayer=function(){this._editingLayer&&(this._editingLayer.clear(),this.app.map.removeLayer(this._editingLayer),this._editingLayer=null)};a.prototype._handleLayerVisualizationChangedEvent=function(a){var e=this;this._feature&&this._graphic&&this._featureLayer&&this._editingLayer&&a&&a.mapService&&a.mapService.serviceLayer&&a.mapService.serviceLayer.id===this._featureLayer.id&&(this._featureLayer.renderer?this._graphic.setSymbol(this._featureLayer.renderer.getSymbol(this._feature)):
(a=this.app.map.graphicsLayerIds.filter(function(a){return a===e._featureLayer.id+"-cluster"}),0<a.length&&(a=this.app.map.getLayer(a[0]))&&a.featureLayerRenderer&&this._graphic.setSymbol(a.featureLayerRenderer.getSymbol(this._feature))),this._editingLayer.redraw(),this._editObject.refresh())};a.prototype._handleLayerUpdateEnd=function(){this._hideOriginalFeature()};a.prototype._hideOriginalFeature=function(){if(this._feature){var a=d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.findFeatureInMap(this._feature,
this.app.site);a&&a.hide()}};a.prototype._getMoveSymbol=function(a,e){function b(a){g||(d=new a(d.toJson()),g=!0);return d}var d=null;if(e.renderer)d=a.symbol?a.symbol:e.renderer.getSymbol(a);else{var f=this.app.map.graphicsLayerIds.filter(function(a){return a===e.id+"-cluster"});0<f.length&&(d=this.app.map.getLayer(f[0]).featureLayerRenderer.getSymbol(a))}var g=!1;d instanceof esri.symbol.SimpleMarkerSymbol&&(f=d,10>f.size&&b(esri.symbol.SimpleMarkerSymbol).setSize(10),0.5>f.color.a&&(!f.outline||
0.5>f.outline.color.a)&&(b(esri.symbol.SimpleMarkerSymbol).color.a=0.5));return d};a.prototype._canExecuteStopEditingGeometry=function(){return!0};a.prototype._executeStopEditingGeometry=function(a){this._isEditingGeometry&&(this.app.command("ClearActiveTool").execute(),this._editObject&&(this._editObject.deactivate(),this._editObject=null),null!=this._editingGeometryMapClickHandle&&(dojo.disconnect(this._editingGeometryMapClickHandle),this._editingGeometryMapClickHandle=null),this._layerUpdateEndToken&&
(dojo.disconnect(this._layerUpdateEndToken),this._layerUpdateEndToken=null),this._editorDeactivatedHandle&&(this._editorDeactivatedHandle.remove(),this._editorDeactivatedHandle=null),this._indicateGeometryEditing(!1))};a.prototype._indicateGeometryEditing=function(a){var e=this;if(this._feature&&this._feature.geometry)if(a){a=this._feature.geometry.type;var b=d.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.getEsriGeometryType(a,esri.toolbars.Draw.POINT),b=this.getEditingGeometryStatusMessage(this.app,
this.libraryId,b);a=new d.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(b,null,function(){e._executeStopEditingGeometry(!0)},"geometry-type-"+a.toLowerCase(),"geometryEditingStatus");this.app.command("AddStatus").execute(a);this.app.command("ShowMap").execute()}else this.app.command("RemoveStatus").execute("geometryEditingStatus")};a.prototype.getEditingGeometryStatusMessage=function(a,e,b){switch(b){case esri.toolbars.Draw.POINT:return a.getResource(e,"language-feature-editing-geometry-point");
case esri.toolbars.Draw.POLYLINE:case esri.toolbars.Draw.FREEHAND_POLYLINE:return a.getResource(e,"language-feature-editing-geometry-polyline");case esri.toolbars.Draw.CIRCLE:case esri.toolbars.Draw.ELLIPSE:case esri.toolbars.Draw.POLYGON:case esri.toolbars.Draw.FREEHAND_POLYGON:return a.getResource(e,"language-feature-editing-geometry-polygon");case esri.toolbars.Draw.EXTENT:return a.getResource(e,"language-feature-editing-geometry-rectangle")}return a.getResource(e,"language-feature-editing-geometry-default")};
a.prototype._getToolNameByDrawType=function(a){a||(a="Polygon");return"Editing{0}Tool".format(a)};a.prototype._getToolNameByGeometryType=function(a){a=a.slice(12);return"Editing{0}Tool".format(a)};a.prototype._getConfiguredEditMode=function(){var a=this,e=0,b=this.app.site.essentialsMap.mapServices.filter(function(e){return e.id===a._featureLayer.id});0==b.length?e=esri.toolbars.Edit.MOVE|esri.toolbars.Edit.EDIT_VERTICES|esri.toolbars.Edit.SCALE|esri.toolbars.Edit.ROTATE:(b=b[0],b.rotateEnabled&&
(e|=esri.toolbars.Edit.ROTATE),b.scaleEnabled&&(e|=esri.toolbars.Edit.SCALE),b.moveEnabled&&(e|=esri.toolbars.Edit.MOVE),b.editVerticesEnabled&&(e|=esri.toolbars.Edit.EDIT_VERTICES));return e};a.prototype._executeCreateGraphicsInMemory=function(a){var e=this;this._validateEditInMemoryArgs(a,m.Create)&&(a.graphics.map(function(b){a.graphicsLayer.add(b);e.app.event("MarkupAddedEvent").publish(b)}),a.successCallback(a.graphics,[],[]).then(function(){var b=e.app.getResource(e.libraryId,"language-feature-editing-undoable-add");
e.app.undoManager.add(new g.undoable.Add(b,{app:e.app,addedGraphics:a.graphics,graphicsLayer:a.graphicsLayer}))}))};a.prototype._executeUpdateGraphicsInMemory=function(a){var e=this;if(this._validateEditInMemoryArgs(a,m.Update))if(a.geometries&&a.geometries.length===a.graphics.length){for(var b=[],d=0;d<a.graphics.length;d++)b[d]=new esri.Graphic(a.graphics[d].toJson()),a.graphics[d].setGeometry(a.geometries[d]),this.app.event("MarkupUpdatedEvent").publish(a.graphics[d]);a.successCallback([],a.graphics,
[]).then(function(){var d=e.app.getResource(e.libraryId,"language-feature-editing-undoable-update");e.app.undoManager.add(new g.undoable.Update(d,{app:e.app,preUpdatedGraphics:b,updatedGraphics:a.graphics,graphicsLayer:a.graphicsLayer}))})}else a.errorCallback(Error("Could not update graphics: the graphic count does not match the updated geometry count."))};a.prototype._executeDeleteGraphicsInMemory=function(a){var e=this;if(this._validateEditInMemoryArgs(a,m.Delete)){for(var b=[],d=0;d<a.graphics.length;d++)a.graphicsLayer.remove(a.graphics[d])&&
(b.push(a.graphics[d]),this.app.event("MarkupDeletedEvent").publish(a.graphics[d]));0===b.length&&a.errorCallback(Error("Could not delete graphics: the provided graphics are not on the graphics layer."));a.successCallback([],[],b).then(function(){var d=e.app.getResource(e.libraryId,"language-feature-editing-undoable-delete");e.app.undoManager.add(new g.undoable.Delete(d,{app:e.app,deletedGraphics:b,graphicsLayer:a.graphicsLayer}))})}};a.prototype._executeCutGraphicsInMemory=function(a){var e=this;
if(this._validateEditInMemoryArgs(a,m.Cut))if(a.polyline){var b=a.graphics.map(function(a){return a.geometry});f.infrastructure.GeometryUtils.cutGeometries(b,a.polyline,this.app).then(function(b){for(var d=0;d<b.length;d++)if(2>b[d].length){a.errorCallback(Error("Could not cut graphics: the provided polyline does not cut a graphic."));return}var k=a.graphics.map(function(a){return new esri.Graphic(a.toJson())}),f=a.graphics,l=e._splitGraphics(f,b);f.map(function(a){return e.app.event("MarkupUpdatedEvent").publish(a)});
l.map(function(b){a.graphicsLayer.add(b);e.app.event("MarkupAddedEvent").publish(b)});a.successCallback(l,f,[]).then(function(){var b=e.app.getResource(e.libraryId,"language-feature-editing-undoable-cut");e.app.undoManager.add(new g.undoable.AddAndUpdate(b,{app:e.app,addedGraphics:l,preUpdatedGraphics:k,updatedGraphics:f,graphicsLayer:a.graphicsLayer}))})},function(e){a.errorCallback(e)})}else a.errorCallback(Error("Could not cut graphics: required polyline was not supplied."))};a.prototype._executeExplodeGraphicsInMemory=
function(a){var e=this;if(this._validateEditInMemoryArgs(a,m.Explode)){for(var b=a.graphics,d=[],n=0;n<b.length;n++)if(d[n]=f.infrastructure.GeometryUtils.explodeGeometry(b[n].geometry),!d[n]){a.errorCallback(Error("Could not explode graphics: invalid geometry."));return}var l=b.map(function(a){return new esri.Graphic(a.toJson())}),x=this._splitGraphics(b,d);b.map(function(a){return e.app.event("MarkupUpdatedEvent").publish(a)});x.map(function(b){a.graphicsLayer.add(b);e.app.event("MarkupAddedEvent").publish(b)});
a.successCallback(x,b,[]).then(function(){var d=e.app.getResource(e.libraryId,"language-feature-editing-undoable-explode");e.app.undoManager.add(new g.undoable.AddAndUpdate(d,{app:e.app,addedGraphics:x,preUpdatedGraphics:l,updatedGraphics:b,graphicsLayer:a.graphicsLayer}))})}};a.prototype._executeUnionGraphicsInMemory=function(a){var e=this;if(this._validateEditInMemoryArgs(a,m.Union)){var b=a.graphics[0],d=a.graphics.map(function(a){return a.geometry});f.infrastructure.GeometryUtils.unionGeometries(d).then(function(d){var f=
new esri.Graphic(b.toJson());b.setGeometry(d);e.app.event("MarkupUpdatedEvent").publish(b);var q=a.graphics.slice(1);for(d=0;d<q.length;d++)a.graphicsLayer.remove(q[d]),e.app.event("MarkupDeletedEvent").publish(q[d]);a.successCallback([],[b],q).then(function(){var d=e.app.getResource(e.libraryId,"language-feature-editing-undoable-union");e.app.undoManager.add(new g.undoable.DeleteAndUpdate(d,{app:e.app,deletedGraphics:q,preUpdatedGraphics:[f],updatedGraphics:[b],graphicsLayer:a.graphicsLayer}))})},
function(e){a.errorCallback(e)})}};a.prototype._validateEditInMemoryArgs=function(a,e){a.successCallback=a.successCallback||function(){return Promise.resolve()};a.errorCallback=a.errorCallback||function(){};if(!(a.graphicsLayer&&a.graphicsLayer instanceof esri.layers.GraphicsLayer))return a.errorCallback(Error("Could not edit graphics: required graphics layer was not supplied.")),!1;if(!a.graphics||0===a.graphics.length)return a.errorCallback(Error("Could not edit graphics: required graphics were not supplied.")),
!1;if(e===m.Cut||e===m.Explode||e===m.Union)for(var b=0;b<a.graphics.length;b++){var d=a.graphics[b];if(d.getLayer().id!==a.graphicsLayer.id)return a.errorCallback(Error("Could not edit graphics: graphic is not on the supplied graphics layer.")),!1;if(e===m.Union){if(d.geometry.type!==a.graphics[0].geometry.type)return a.errorCallback(Error("Could not edit graphics: graphics are not of the same type.")),!1;if(!d.geometry.spatialReference.equals(a.graphics[0].geometry.spatialReference))return a.errorCallback(Error("Could not edit graphics: graphics are not of the same spatial reference.")),
!1}}return!0};a.prototype._splitGraphics=function(a,e){for(var b=[],d=0;d<e.length;d++){var f=a[d];f.setGeometry(e[d][0]);for(var g=1;g<e[d].length;g++)b.push(new esri.Graphic(e[d][g],f.symbol,f.attributes,f.infoTemplate))}return b};return a}(d.framework.application.ModuleBase);g.EditingModule=l})(g.editing||(g.editing={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.attach=function(a){var c=this;d.prototype.attach.call(this,a);this.isBusy.sync(a.isBusy);this.title.syncTransform(a.headerText,function(a){return String.unescapeHtml(a)});this.app.event("ApplicationOfflineEvent").subscribe(this,this.cancelEditing);this.app.event("ApplicationOnlineEvent").subscribe(this,this.cancelEditing);this.app.event("FeatureDeletedEvent").subscribe(this,
this._onFeatureDeletedEvent);this.app.event("RelatedRecordDeletedEvent").subscribe(this,this._onRelatedRecordDeletedEvent);this.app.event("GeometryEditCompletedEvent").subscribe(this,this._onGeometryEditCompletedEvent);this.app.command("ShowFeatureAttributeEditor").register(this,function(){c._activateView()});this.app.command("HideFeatureAttributeEditor").register(this,function(){c.isActive&&c._deactivateView();return!1})};b.prototype.deactivated=function(){d.prototype.deactivated.call(this);this.viewModel.cancelEditing()};
b.prototype.handleTypeFieldChange=function(a,c,e){this.viewModel.handleTypeFieldSelected(e)};b.prototype.handleClickEditGeometry=function(a,c,e){this.viewModel.isEditingGeometry.get()?(this.viewModel.stopEditingGeometry(),a=new f.infrastructure.Feature({graphic:this.viewModel.currentFeatureEsriClone}),this.app.behavior("EditorFeatureSelectedBehavior").run(a)):(this.viewModel.startEditingGeometry(),this.app.behavior("EditorRemoveFeatureSelectedBehavior").run());return!1};b.prototype.handleClickDeleteFeature=
function(a,c,e){this.viewModel.state===g.EditorState.EditingGeometry&&this.viewModel.stopEditingGeometry();this.viewModel.confirmDelete();return!1};b.prototype.handleClickSave=function(a,c,e){var b=this;this.viewModel.state===g.EditorState.EditingGeometry&&this.viewModel.stopEditingGeometry();this.isBusy.set(!0);this.viewModel.save(function(){return b.saveSuccessCallback()},function(a){return b.saveErrorCallback(a)});return!1};b.prototype.saveSuccessCallback=function(){this._deactivateView()};b.prototype.saveErrorCallback=
function(a){};b.prototype.cancelEditing=function(){this.viewModel.cancelEditing();this.isActive&&this._deactivateView()};b.prototype._activateView=function(){this.app.command("ActivateView").execute(this.id)};b.prototype._deactivateView=function(a){void 0===a&&(a=!0);this.app.command("DeactivateView").execute(this.id);a&&this.app.event("_internalEvent.EditorViewDeactivated").publish(this.viewModel.currentFeatureEsri)};b.prototype._onFeatureDeletedEvent=function(a){this.viewModel&&this.viewModel.currentFeatureEsri&&
this.viewModel.currentFeatureEsri===a&&(this._deactivateView(!1),this.viewModel.currentFeatureEsriClone.hide())};b.prototype._onRelatedRecordDeletedEvent=function(){this._deactivateView()};b.prototype._onGeometryEditCompletedEvent=function(a){var c=null,c=a.cancelled?new f.infrastructure.Feature({graphic:a.editedGraphic}):new f.infrastructure.Feature({graphic:a.originalGraphic});this.app.behavior("EditorFeatureSelectedBehavior").run(c)};b.prototype.handleClickCancel=function(a,c,e){this.cancelEditing();
return!1};b.prototype.handleInputFocus=function(a,c,e){e.showActualValue()};b.prototype.handleInputBlur=function(a,c,e){e.showFormattedValue()};return b}(d.framework.ui.ViewBase);g.EditorView=m})(g.editing||(g.editing={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,c){var e=this;f.call(this,a,c);this.app.command("ShowFeatureTemplatePicker").register(this,this._onShowFeatureTemplatePicker,this._canShowFeatureTemplatePicker);this.app.command("HideFeatureTemplatePicker").register(this,function(){e.isActive&&e.app.viewManager.deactivateView(e)})}__extends(b,f);b.prototype._onShowFeatureTemplatePicker=function(a,c){this.app.command("ActivateView").execute(this.id);this.viewModel&&
(this.app.command("Internal.CancelEditingIfNotIdle").execute(),a||c?(this.viewModel.filteredLayers&&(this.viewModel.filteredLayers.length=0,this.viewModel.filteredLayers=null),this._loadTemplate(a,c)):this.viewModel.loadLayerTemplates())};b.prototype._canShowFeatureTemplatePicker=function(a,c){return this.viewModel&&this.app.isOffline.get()&&!this.viewModel.canEditOffline?!1:a||c?"object"===typeof a&&a instanceof d.essentials.Layer&&a.mapService&&a.mapService.serviceLayer&&a.mapService.serviceLayer.isEditable&&
/Create/.test(a.mapService.serviceLayer.capabilities)?a.mapService.serviceLayer.isEditable():!1:!0};b.prototype._loadTemplate=function(a,c){a?this.viewModel.loadTemplatesForCurrentLayer(a,c):this.viewModel.loadLayerTemplates(c)};b.prototype.handleFeatureTemplateClick=function(a,c,e){var b=this;this.app.command("Internal.CancelEditingIfNotIdle").execute();var d;if(e.proto&&e.proto.toJson&&!e.relatedFeature)d=new esri.Graphic(e.proto.toJson());else if(!e.relatedFeature)d=new esri.Graphic(null),e.proto&&
e.proto.attributes&&(d.attributes=e.proto.attributes);else if(e.proto&&e.proto.toJson){d=e.relatedFeature;for(var f in e.proto.attributes)a=e.proto.attributes[f],null!=a&&(d.attributes[f]=a)}f=null;if(e.drawingTool&&e.drawingTool.get())switch(e.drawingTool.get()){case "esriFeatureEditToolPoint":f="MapPoint";break;case "esriFeatureEditToolLine":f="Polyline";break;case "esriFeatureEditToolFreehand":"esriGeometryPolyline"===e.layer.geometryType?f="FreehandPolyline":"esriGeometryPolygon"===e.layer.geometryType&&
(f="FreehandPolygon");break;case "esriFeatureEditToolAutoCompletePolygon":case "esriFeatureEditToolPolygon":f="Polygon";break;case "esriFeatureEditToolEllipse":f="Ellipse";break;case "esriFeatureEditToolCircle":f="Circle";break;case "esriFeatureEditToolRectangle":f="Rectangle";break;default:f="Polygon"}if(!f)switch(e.layer.geometryType){case "esriGeometryPoint":f="MapPoint";break;default:f=e.layer.geometryType.replace("esriGeometry","")}d._drawType=f;this.app.configuration.mobileMode?(this.app.command("DisableMapClick").execute(),
this.app.command("ShowMap").execute(),this.app.command("CloseDataFrame").execute(),this.app.event("DataFrameClosedEvent").once(this,function(){setTimeout(function(){b.app.command("EnableMapClick").execute();b.app.event("StartFeaturePlacementEvent").publish();b.app.command("StartEditingNewFeature").execute(d,e.layer)},225)})):(this.app.command("ShowMap").execute(),this.app.event("StartFeaturePlacementEvent").publish(),this.app.command("StartEditingNewFeature").execute(d,e.layer))};return b}(d.framework.ui.ViewBase);
f.TemplatePickerView=g})(f.editing||(f.editing={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){return function(){this.name=new Observable("");this.description=new Observable;this.proto={};this.drawingTool=new Observable;this.symbolUri=new Observable;this.symbolStyle=new Observable("");this.swatchElement=null}}();d.FeatureTemplate=f})(d.editing||(d.editing={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.layerIsEditable=new Observable(!1);this.layerTemplates=new ObservableCollection;this.canEditOffline=!1}__extends(b,d);b.prototype.initialize=function(a){var c=this;this.app.site&&this.app.site.serviceLayersLoaded?this.loadLayerTemplates():this.app.event("SiteServiceLayersLoadedEvent").subscribe(this,function(){return c.loadLayerTemplates()});this.app.nativeManager.hasNativeCapability("editing").then(function(a){c.canEditOffline=
a})};b.prototype._layerIsValidForEditing=function(a){if(!a)return!1;var c=!0;if(this.filteredLayers)for(var c=!1,e=0;e<this.filteredLayers.length;e++)if(this.filteredLayers[e]===a){c=!0;break}return c};b.prototype.loadTemplatesForCurrentLayer=function(a,c){if(a&&a.mapService){this.layerTemplates.clear();var e=this._getFeatureLayerModel(a.mapService,c);e&&this.layerTemplates.addItem(e)}};b.prototype.loadLayerTemplates=function(a){var c=this.app.site;if(c&&c.essentialsMap&&c.isInitialized){c=c.getFeatureServices();
this.layerTemplates.clear();for(var e=[],b=0;b<c.length;b++){var d=this._getFeatureLayerModel(c[b],a);d&&!d.notAvailableReason.get()&&e.push(d)}this.layerTemplates.addItems(e)}};b.prototype._getFeatureLayerModel=function(a,c){var e=a.serviceLayer;if(!this._layerIsValidForEditing(a.id))return null;var b=null;if(this.app.offlineManager.isOfflineMapActive.get()){var d=this.app.offlineManager.syncInfo.findLayerOrTable(e.url);d&&d.canEdit||(this.app.trace.warning("Layer "+e.url+" not available offline. Make sure the layer is included in your offline map if you want to edit it offline."),
b=this.getResource("language-feature-editing-not-available-offline"))}e.isEditable&&e.isEditable()||(b=this.getResource("language-feature-editing-not-editable"));e=a.displayName;a&&a.layers&&0<a.layers.length&&(e=a.layers[0].displayName);d=new ObservableCollection;if(!b){var f=this._loadFeatureTemplates(a.serviceLayer,c);f&&0<f.length&&d.addItems(f)}return{displayName:new Observable(e),mapServiceId:new Observable(a.id),layer:a.serviceLayer,templates:d,proto:null,notAvailableReason:new Observable(b)}};
b.prototype.createTemplate=function(a,c,e){var b=new f.FeatureTemplate,d=null;if(!a.renderer){var g=this.app.map.graphicsLayerIds.filter(function(c){return c===a.id+"-cluster"});0<g.length&&(d=this.app.map.getLayer(g[0]))}if(c&&(b.name.set(c.name),b.description.set(c.description),b.drawingTool.set(c.drawingTool),b.proto=c.prototype,e&&e.attributes&&(b.relatedFeature=e),a.renderer||d)&&(e=a.renderer||d.featureLayerRenderer,e instanceof esri.renderer.HeatmapRenderer&&(d=this.app.site.essentialsMap.mapServices.filter(function(c){return c.serviceLayer.id===
a.id})[0],d.heatMap&&d.heatMap.defaultRenderer&&(e=d.heatMap.defaultRenderer)),c=this._getTemplateSymbol(c,e)))switch(c.type){case "picturemarkersymbol":b.symbolUri.set(c.url);b.swatchElement=null;break;case "simplelinesymbol":c=String.escapeHtml(c.color.toCss());b.swatchElement="<div class='simple-swatch line' style='color: "+c+"'></div>";break;case "simplefillsymbol":c=String.escapeHtml(c.color.toCss());b.swatchElement="<div class='simple-swatch square' style='background-color: "+c+"'></div>";break;
default:c=String.escapeHtml(c.color.toCss()),b.swatchElement="<div class='simple-swatch square' style='background-color: "+c+"'></div>"}b.layer=a;return b};b.prototype._consumeTemplate=function(a,c,e){return this.createTemplate(a,c,e)};b.prototype._getTemplateSymbol=function(a,c){var e=new esri.Graphic(null);e.attributes={};a.prototype.attributes&&dojo.mixin(e.attributes,a.prototype.attributes);return c.getSymbol(e)||c.defaultSymbol};b.prototype._loadFeatureTemplates=function(a,c){if(!a||!a.templates)return null;
var e=[];if(0<a.templates.length)for(var b=0;b<a.templates.length;++b)e.push(this._consumeTemplate(a,a.templates[b],c));else if(a.types&&0<a.types.length)for(b=0;b<a.types.length;++b){var d=a.types[b];if(d.templates)for(var f=0;f<d.templates.length;++f)e.push(this._consumeTemplate(a,d.templates[f],c))}return e};return b}(d.framework.ui.ViewModelBase);f.TemplatePickerViewModel=g})(f.editing||(f.editing={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,c){f.call(this,a,c);this.app.commandRegistry.command("ShowFeatureTemplatePicker").register(this,function(a){this.app.commandRegistry.command("ActivateView").execute(this.id);if(this.viewModel)if(!0===this.app.isOffline.get()){var c=this;this.app.store.get("__featureLayerModuleIndex",function(b){if(b&&(b=JSON.parse(b))){c.viewModel.filteredLayers=[];for(var d in b.featureLayers){if(!b.featureLayers.hasOwnProperty(d))break;c.viewModel.filteredLayers.push(b.featureLayers[d].serviceId)}}c._loadTemplate(a)})}else this.viewModel.filteredLayers&&
(this.viewModel.filteredLayers.length=0,this.viewModel.filteredLayers=null),this._loadTemplate(a)},function(a){return void 0===a?!0:"object"===typeof a&&a instanceof d.essentials.Layer&&a.mapService&&a.mapService.serviceLayer&&a.mapService.serviceLayer.isEditable?a.mapService.serviceLayer.isEditable():!1})}__extends(b,f);b.prototype._loadTemplate=function(a){a?this.viewModel.loadTemplatesForCurrentLayer(a):this.viewModel.loadLayerTemplates()};b.prototype.handleFeatureTemplateClick=function(a,c,e){a=
null;e.proto&&e.proto.toJson?a=new esri.Graphic(e.proto.toJson()):(a=new esri.Graphic(null),e.proto&&e.proto.attributes&&(a.attributes=e.proto.attributes));c=null;if(e.drawingTool&&e.drawingTool.value)switch(e.drawingTool.value){case "esriFeatureEditToolPoint":c="MapPoint";break;case "esriFeatureEditToolLine":c="Polyline";break;case "esriFeatureEditToolFreehand":"esriGeometryPolyline"===e.layer.geometryType?c="FreehandPolyline":"esriGeometryPolygon"===e.layer.geometryType&&(c="FreehandPolygon");break;
case "esriFeatureEditToolAutoCompletePolygon":case "esriFeatureEditToolPolygon":c="Polygon";break;case "esriFeatureEditToolRectangle":"esriGeometryPolygon"===e.layer.geometryType&&dojo.mixin(a,{needsConversion:!0});c="Rectangle";break;default:c="Polygon"}if(!c)switch(e.layer.geometryType){case "esriGeometryPoint":c="MapPoint";break;default:c=e.layer.geometryType.replace("esriGeometry","")}e.layer.add(a);e.layer.show&&e.layer.show();dojo.mixin(a,{drawType:c});this.app.commandRegistry.command("StartAddingFeatureGeometry").execute(a);
this.app.commandRegistry.command("ActivateView").execute("MapView")};return b}(d.framework.ui.ViewBase);f.TemplatePickerView=g})(f.featureEditing||(f.featureEditing={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,c){f.call(this,a,c);this.filteredLayers=this.layerTemplates=null;this.layerTemplates=new ObservableCollection}__extends(b,f);b.prototype.initialize=function(a){this.app.eventRegistry.event("SiteServiceLayersLoadedEvent").subscribe(this,this.loadLayerTemplates)};b.prototype._layerIsValidForEditing=function(a){if(!a)return!1;var c=!0;if(this.filteredLayers)for(var c=!1,e=0;e<this.filteredLayers.length;e++)if(this.filteredLayers[e]===
a){c=!0;break}return c};b.prototype.loadTemplatesForCurrentLayer=function(a){a&&a.mapService&&(this.layerTemplates.clear(),(a=this._getFeatureLayerModel(a.mapService))&&this.layerTemplates.addItem(a))};b.prototype.loadLayerTemplates=function(){if(this.app.site&&this.app.site.essentialsMap&&this.app.site.isInitialized){var a=this.app.site.getFeatureServices();this.layerTemplates.clear();for(var c=[],e=0;e<a.length;e++){var b=this._getFeatureLayerModel(a[e]);b&&c.push(b)}this.layerTemplates.addItems(c)}};
b.prototype._getFeatureLayerModel=function(a){if(a){if(!this._layerIsValidForEditing(a.id))return null;if(a.serviceLayer.isEditable&&a.serviceLayer.isEditable()){var c=a.displayName;a&&a.layers&&0<a.layers.length&&(c=a.layers[0].displayName);var e=new ObservableCollection,b=!0,d=this._loadFeatureTemplates(a.serviceLayer);d&&0<d.length&&(e.addItems(d),b=!1);c={displayName:new Observable(c),mapServiceId:new Observable(a.id),layer:a.serviceLayer,templates:e};if(b)for(c.proto={attributes:[]},b=0;b<a.serviceLayer.fields.length;b++)c.attributes.push(a.serviceLayer.fields[b]);
return c}}};b.prototype.createTemplate=function(a,c){var e=new d.essentialsHtmlViewer.mapping.modules.featureEditing.Templates.FeatureTemplateViewModel(this.app,this.libraryId);if(c){var b=c.name;e.name.set(b);e.description.set(c.description);e.drawingTool.set(c.drawingTool);e.proto=c.prototype;if(a.renderer&&(b=this._getTemplateSymbol(b,a.renderer)))switch(b.type){case "picturemarkersymbol":e.symbolUri.set(b.url);break;default:e.setTemplateShapeStyle("background-color:"+b.color.toCss()+";height:24px;width:24px"),
b=this._getSVGShapeType(b.type),e.createSVGElement(b.shapeType,b.points)}}e.layer=a;return e};b.prototype._consumeTemplate=function(a,c){return this.createTemplate(a,c)};b.prototype._getSVGShapeType=function(a){var c={shapeType:null,points:null};switch(a){case "simplelinesymbol":c.shapeType="polyline";c.points="20,1 25,9 16,21 8,2";break;case "simplemarkersymbol":case "simplefillsymbol":c.shapeType="polygon",c.points="30,1 35,9 20,21 8,2"}return c};b.prototype._getTemplateSymbol=function(a,c){if(a&&
c)if(c.infos)for(var e=0;e<c.infos.length;e++){var b=c.infos[e];if(b.label===a||b.value===a)return b.symbol}else return c.symbol};b.prototype._loadFeatureTemplates=function(a){if(a&&a.templates){var c=[];if(0<a.templates.length)for(var e=0;e<a.templates.length;++e)c.push(this._consumeTemplate(a,a.templates[e]));else if(a.types&&0<a.types.length)for(e=0;e<a.types.length;++e){var b=a.types[e];if(b.templates)for(var d=0;d<b.templates.length;++d)c.push(this._consumeTemplate(a,b.templates[d]))}return c}};
return b}(d.framework.ui.ViewModelBase);f.TemplatePickerViewModel=g})(f.featureEditing||(f.featureEditing={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){var g=function(b){function a(a,e){b.call(this,a,e);this.inactive=null;this.app.commandRegistry.command("ShowFeatureAttributeEditor").register(this,function(){this.app.commandRegistry.command("ActivateView").execute(this.id)});this.app.commandRegistry.command("HideFeatureAttributeEditor").register(this,function(){this.isActive&&this.app.viewManager.deactivateView(this);return!1})}__extends(a,b);a.prototype.deactivated=function(){this.inactive||
(this.inactive=!0,b.prototype.deactivated.call(this),this.viewModel&&this.viewModel._cancelEditing())};a.prototype.attach=function(a){b.prototype.attach.call(this,a);a&&this.title.sync(a.headerText)};a.prototype.handleButtonClick=function(a,e,b){this.viewModel.applyButtonClick(b);return!1};a.prototype.handleTypeFieldChange=function(a,e,b){this.viewModel.typeFieldSelected(b);return!1};return a}(d.framework.ui.ViewBase);f.AttributeEditorView=g})(f.Editor||(f.Editor={}))})(f.featureEditing||(f.featureEditing=
{}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){var g=function(b){function a(a,e){b.call(this,a,e);this._lastLayer=this._layerClickEvents=this._editObject=this._relatedFeature=this._editingGeometryMapClickHandle=this._editingRelationshipDestination=this._editingRelationshipOrigin=this.originalSymbol=this.headerText=this.validateGeometry=this.buttons=this.defaultButton=this.templates=this.attributes=this.geometry=this.hasGeometry=this.editGeometryButton=this.featureTypeHasGeometry=
this.isEditingGeometry=this.isEditingRelatedFeatureNotInSite=this.validationMessages=this.hasRelatedLayers=this.editingNewFeature=this.editingActive=this.currentToolName=this.currentMapService=this.fields=this.featureClone=this.feature=this.isApplyingEdits=null;this._newObjectId=0;this._editLogEntry=null;this.isApplyingEdits=new Observable(!1);this.feature=new Observable(null);this.gcxFeature=new Observable(null);this.fields=new ObservableCollection([]);this.editingActive=new Observable(!1);this.editingNewFeature=
new Observable(null);this.validationMessages=new ObservableCollection([]);this.hasRelatedLayers=new Observable(!1);this.isEditingRelatedFeatureNotInSite=new Observable(!1);this.isEditingGeometry=new Observable(!1);this.featureTypeHasGeometry=new Observable(!1);this.hasGeometry=new Observable(!1);this.geometry=new Observable(null);this.currentMapService=new Observable(null);this.headerText=new Observable("");this._layerClickEvents=[];this.buttons=new ObservableCollection;this._registerCommands();this._listenToMapEvents()}
__extends(a,b);a.prototype.initialize=function(a){a&&a.tools&&this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,!0);this.validateGeometry=a&&a.validateGeometry?a.validateGeometry:!0};a.prototype._getToolNameByDrawType=function(a){a||(a="Polygon");return"Editing"+a+"Tool"};a.prototype._registerCommands=function(){this.app.commandRegistry.command("StartAddingFeatureGeometry").register(this,function(a){a&&(this.headerText.set(this.app.getResource(this.libraryId,"language-common-feature-editing")),
this.currentToolName=this._getToolNameByDrawType(a.drawType),this.editingNewFeature.set(!0),this.setFeature(a),this.app.commandRegistry.command("ShowMap").execute(),this._editGeometry())});this.app.commandRegistry.command("StartEditingFeature").register(this,this._executeStartEditingFeature,function(a){return a&&a.layer&&(a=a.layer,a.mapService&&a.mapService.serviceLayer&&a.mapService.serviceLayer.isEditable)?a.mapService.serviceLayer.isEditable():!1});this.app.commandRegistry.command("StartEditingNewFeature").register(this,
this._executeStartEditingNewFeature);this.app.commandRegistry.command("SetEditorFeatureGeometry").register(this,this._executeSetEditorGeometry);this.app.commandRegistry.command("StartEditingEditLogEntry").register(this,function(a){this.headerText.set(a.getDescription(this.app,this.libraryId));this.editingNewFeature.set(!1);var e=new esri.Graphic(a.feature.toJson?a.feature.toJson():a.feature);this.setFeature(e,a.mapServiceUrl);this._editLogEntry=a;this._setupButtons();this.app.commandRegistry.command("ShowFeatureAttributeEditor").execute()});
this.app.event("FeatureDataSyncStartedEvent").register(this,this._cancelEditing)};a.prototype._listenToMapEvents=function(){this.app.eventRegistry.event("MapExtentChangedEvent").subscribe(this,function(a){var e=this;if(e.isEditingGeometry.get()&&!e.editingNewFeature.get()){var b=e.featureClone;if(b){var d=function(a){if(a=e._findFeatureInLayer(b,a))a.setGeometry(b.geometry),a.hide()};if(e._lastLayer.updating)var f=dojo.connect(e._lastLayer,"onUpdateEnd",function(){if(e._lastLayer.loaded)d(this);else var a=
dojo.connect(e._lastLayer,"onLoad",function(){d(this);dojo.disconnect(a)});dojo.disconnect(f)});else d(e._lastLayer)}}});this.app.eventRegistry.event("OfflineMapActivatedEvent").subscribe(this,this._resetGeometryEditingTool)};a.prototype._resetGeometryEditingTool=function(){this.editingNewFeature.get()&&(this.cancel(),this.app.commandRegistry.command("ShowFeatureTemplatePicker").execute())};a.prototype._setupButtons=function(){var a=[];this.buttons.clear();var e=new Observable(!0),b=null,f=null;null==
this._editLogEntry&&(b=this.app.getResource(this.libraryId,"language-common-delete"),b=dojo.mixin(new d.forms.FormButton(b,"Delete",!1,!1),{visibility:new Observable,callback:this._confirmDelete}),b.visibility.syncTransform(this.editingNewFeature,function(a){return!a}),a.push(b));this.featureTypeHasGeometry.get()&&(this.hasGeometry.get()?(b=this.app.getResource(this.libraryId,"language-feature-editing-edit-geometry-caption"),f="EditGeometry"):(b=this.app.getResource(this.libraryId,"language-feature-editing-add-geometry-caption"),
f="AddGeometry"),this.editGeometryButton=dojo.mixin(new d.forms.FormButton(b,f,!0,!1),{visibility:e,callback:this._editGeometry}),this.editGeometryButton.visibility.syncTransform(this.isEditingGeometry,function(a){return!a}),a.push(this.editGeometryButton),b=this.app.getResource(this.libraryId,"language-feature-editing-stop-editing-geometry-caption"),e=dojo.mixin(new d.forms.FormButton(b,"StopEditingGeometry",!1,!1),{visibility:new Observable,callback:this.stopEditingGeometry}),e.visibility.syncTransform(this.isEditingGeometry,
function(a){return a}),a.push(e));b=this.app.getResource(this.libraryId,"language-common-save");e=this.defaultButton=dojo.mixin(new d.forms.FormButton(b,"Save",!0,!0),{visibility:new Observable(!0),callback:this.save});a.push(e);b=this.app.getResource(this.libraryId,"language-common-cancel");a.push(dojo.mixin(new d.forms.FormButton(b,"Cancel",!1,!1),{visibility:new Observable(!0),callback:this._cancelEditing}));this.buttons.addItems(a)};a.prototype.applyButtonClick=function(a){a&&a.callback&&a.callback.apply(this)};
a.prototype._removeFeatureClickEvents=function(){for(var a=0;a<this._layerClickEvents.length;++a)dojo.disconnect(this._layerClickEvents[a]);this._layerClickEvents=[]};a.prototype._executeStartEditingFeature=function(a,e){this.app.commandRegistry.command("ClearDefaultHighlights").execute();e||(e=!1);try{if(this.app.map&&this.app.site&&this.app.site.isInitialized)this._executeStartEditingFeatureImpl(a,e);else{var b=this;this.app.eventRegistry.event("SiteInitializedEvent").subscribe(this,function(){b._executeStartEditingFeatureImpl(a,
e)})}}catch(d){this.app.trace.error("Could not start editing: {0}".format(d)),this.cancel()}};a.prototype._executeStartEditingNewFeature=function(a){this._executeStartEditingFeature(a,!0)};a.prototype._executeStartEditingFeatureImpl=function(a,e){this.cancel();try{var b=a;a&&a instanceof d.essentialsHtmlViewer.mapping.infrastructure.Feature&&(a.layer&&a.layer.mapService&&this.currentMapService.set(a.layer.mapService),this.headerText.set(a.label.get()),b=a.esriFeature.get());if(b){if("function"!=typeof b.getLayer){this.app.trace.warning("Could not edit feature - No associated graphic layer was found.");
return}this.editingNewFeature.set(e);this.setFeature(b)}this._setupButtons();this.app.commandRegistry.command("ShowFeatureAttributeEditor").execute()}catch(f){this.app.trace.error("Could not start editing: {0}".format(f)),this.cancel()}};a.prototype._findFeatureInLayer=function(a,e){if(!a||!e)return null;var b=e.objectIdField,d=e.graphics;if(1>d.length)return null;var f=["timestamp"];if(e.editFieldsInfo)for(var g in e.editFieldsInfo)e.editFieldsInfo.hasOwnProperty(g)&&f.push(e.editFieldsInfo[g]);
var h=function(a){var c=0,e;for(e in a)!Array.contains(f,e)&&a.hasOwnProperty(e)&&++c;return c};g=d[0].attributes;if(h(g)!==h(a.attributes))return null;var h=0,l=[],m=[],p;for(p in g){var u=Array.contains(f,p);if(!(u||g.hasOwnProperty(p)&&a.attributes.hasOwnProperty(p)))return null;u||(l.push(p),m.push(p),++h)}for(p=0;p<h;++p)if(l[p]!==m[p])return null;for(p=0;p<d.length;p++)if(g=d[p],!g.gcxIsClone&&g.attributes[b]===a.attributes[b])return g._graphicsLayer=e,g;return null};a.prototype._findFeatureInLayers=
function(a){var e=null;if(this._lastLayer&&(e=this._findFeatureInLayer(a,this._lastLayer)))return this._lastLayer=e._graphicsLayer=f,e;for(var b=this.app.site.getFeatureServices(),d=0;d<b.length;d++){var f=b[d].serviceLayer;if(f!==this._lastLayer&&(e=this._findFeatureInLayer(a,f))){this._lastLayer=e._graphicsLayer=f;break}}return e};a.prototype._findGeocortexLayerForUrl=function(a){if(this.app&&this.app.site&&this.app.site.essentialsMap&&this.app.site.essentialsMap.mapServices)for(var e=0;e<this.app.site.essentialsMap.mapServices.length;e++){var b=
this.app.site.essentialsMap.mapServices[e];if(b.serviceUrl===a&&0<b.layers.length)return b.layers[0]}return null};a.prototype._findServiceLayerForUrl=function(a){if(this.app&&this.app.site&&this.app.site.essentialsMap&&this.app.site.essentialsMap.mapServices)for(var e=0;e<this.app.site.essentialsMap.mapServices.length;e++){var b=this.app.site.essentialsMap.mapServices[e];if(b.url===a)return b.serviceLayer}return null};a.prototype._reAttachLayerToFeature=function(a,e){if(a.getLayer())this._lastLayer=
a.getLayer();else if(e)this._lastLayer=this._findServiceLayerForUrl(e);else{var b=this._findFeatureInLayers(a);b&&(a=b)}this._lastLayer&&this.featureTypeHasGeometry.set(!!this._lastLayer.geometryType);return a};a.prototype.setFeature=function(a,e,b){b||this.cancel();a?(a=this._reAttachLayerToFeature(a,e),this.feature.set(a),this.geometry.set(a.geometry),this.hasGeometry.set(!!a.geometry),b||(this._buildFeatureAttributes(),this._buildFeatureRelationships()),this.editingActive.set(!0)):(this.editingNewFeature.set(!0),
this.feature.set(null),this._lastLayer=null,this.geometry.set(null),this.hasGeometry.set(!1))};a.prototype.cloneFeature=function(a){return new esri.Graphic(a.toJson())};a.prototype._executeSetEditorGeometry=function(a){this.stopEditingGeometry();var e=this.feature.get();e&&(e.needsConversion&&"extent"===a.type&&"esriGeometryPolygon"===this._lastLayer.geometryType&&(a=d.essentials.GeometryUtilities.envelopeToPolygon(a)),this.geometry.set(a),this.hasGeometry.set(!!a),e.setGeometry(a),this.app.eventRegistry.event("FeatureGeometryEditedEvent").publish(e));
this._setupButtons();this.app.commandRegistry.command("ShowFeatureAttributeEditor").execute()};a.prototype._createNewFeature=function(a,e,b,d){var f=new esri.Graphic;f.attributes=e||{};f.geometry=a||new esri.geometry.Point(NaN,NaN);f.symbol=b||null;f.infoTemplate=d;return f};a.prototype._getMapServiceByLayer=function(a){a=a.url||a._essentialsMetadata.serviceUrl;if(!a)return null;var e=a.indexOf("?token=");-1!=e&&(a=a.substring(0,e));for(e=0;e<this.app.site.essentialsMap.mapServices.length;++e){var b=
this.app.site.essentialsMap.mapServices[e];if(b.serviceUrl===a)return b}return null};a.prototype._getRelatedFeatureLayer=function(a,e,b,f){var g=new dojo.Deferred;a=e.substring(0,e.lastIndexOf("/")+1)+a;a=new esri.layers.FeatureLayer(a,{mode:esri.layers.FeatureLayer.MODE_SELECTION,outFields:["*"]});dojo.connect(a,"onLoad",dojo.hitch(this,function(a){d.deferredResolve(g,a);"function"==typeof b&&b(a)}));dojo.connect(a,"onError",dojo.hitch(this,function(a){d.deferredReject(g,a);"function"==typeof f&&
f(a)}));return g};a.prototype._preventDeleteForRelOrigin=function(a,e,b){var d=this,f=this.feature.get(),g=this._lastLayer,h=null,l=!1;if(f&&g&&a&&0<a.length()&&(h=a.length(),g))for(var m=0;m<a.length();m++){var p=function(){h--;0>=h&&b&&b()},u=function(a){var c=parseInt(a.id.get()),b=a.relatedTableId?a.relatedTableId.get():a.relationship.relatedTableId,k=g.url||g._essentialsMetadata.serviceUrl;a=new esri.tasks.RelationshipQuery;a.objectIds=[f.attributes[g.objectIdField]];a.outFields=["*"];a.relationshipId=
c;c=c=(new esri.tasks.QueryTask(k)).executeRelationshipQuery(a);c.then(function(a){var c=!1,f;for(f in a)if(a.hasOwnProperty(f)){c=!0;break}c?d._getRelatedFeatureLayer(b,k).then(function(c){if(!l){c=[];for(var b in a)if(a.hasOwnProperty(b)){var d=a[b].features||a[b];if(d)if(d.length)for(var f=0;f<d.length;f++)c.push(d[f]);else c.push(d)}0<c.length&&e&&(e(c),l=!0);p()}},function(a){p()}):p()},function(a){p()})},r=a.getAt(m);r.relationship&&"esriRelRoleOrigin"===r.relationship.role&&u(r)}(!h||0>=h)&&
b&&b()};a.prototype._confirmDelete=function(){this.app.commandRegistry.command("Confirm").execute(this.app.getResource(this.libraryId,"language-feature-editing-delete-confirmation"),this.app.getResource(this.libraryId,"language-feature-editing-module-title"),function(a){})};a.prototype.deleteCurrentFeature=function(a,e){var b=this,d=this.feature.get(),f=d.getLayer()||this._lastLayer,g=null,g=this._getMapServiceByLayer(f);e||(e=function(a){b.isApplyingEdits.set(!1);a=b.app.getResource(b.libraryId,
"language-feature-layer-error-feature-edits").format(a);var c=b.app.getResource(b.libraryId,"language-feature-layer-error-title");b.app.trace.error(a);b.app.commandRegistry.command("Alert").execute(a,c)});g={mapService:g,layer:f,feature:d,successCallback:function(){f&&f.remove(d);b.app.commandRegistry.command("HideFeatureAttributeEditor").execute();b.app.commandRegistry.command("ShowMap").execute();b.app.eventRegistry.event("FeatureDeletedEvent").publish(d);a&&a();b.isApplyingEdits.set(!1)},errorCallback:e};
this.isApplyingEdits.set(!0);this.app.commandRegistry.command("DeleteFeature").execute(g)};a.prototype._editGeometry=function(){this.startEditingGeometry()};a.prototype.stopEditingGeometry=function(a){this.app.commandRegistry.command("ClearActiveTool").execute();var e=this.feature.get();e&&(this.featureClone&&!a&&e.setGeometry(this.featureClone.geometry),e.show());if(this._lastLayer)for(a=this._lastLayer.graphics,e=0;e<a.length;++e){var b=a[e];b.gcxIsClone&&this._lastLayer.remove(b)}this.featureClone=
null;this._editObject&&(this._editObject.deactivate(),this._editObject=null);null!=this._editingGeometryMapClickHandle&&(dojo.disconnect(this._editingGeometryMapClickHandle),this._editingGeometryMapClickHandle=null);this._indicateGeometryEditing(!1)};a.prototype.startEditingGeometry=function(){this._editObject&&this._editObject.deactivate();var a=this;this._lastLayer&&this.app.map.reorderLayer(this._lastLayer,this.app.map._layers.length-1);if(this.hasGeometry.get()){var e=null,e=this.feature.get();
if(null==e)throw Error("Can't edit geometry of null feature");e.geometry!=this.geometry.get()&&(e.geometry=this.geometry.get());this.featureClone&&this._lastLayer.remove(this.featureClone);this.featureClone=new esri.Graphic(e.toJson());this.featureClone=dojo.mixin(this.featureClone,{gcxIsClone:!0});this._lastLayer.add(this.featureClone);e.hide();this.originalSymbol=e.symbol;if(esri.toolbars.Edit){var e=esri.toolbars.Edit.MOVE|esri.toolbars.Edit.EDIT_VERTICES|esri.toolbars.Edit.SCALE|esri.toolbars.Edit.ROTATE,
b={allowAddVertices:!0,allowDeleteVertices:!0};this._editObject=new esri.toolbars.Edit(this.app.map,b);var d=this._editObject.on("graphic-first-move",function(e){a.app.map.disableMapNavigation()}),f=this._editObject.on("graphic-move-stop",function(e){a.app.map.enableMapNavigation()}),g=function(e,b,k){d.remove();f.remove();a._indicateGeometryEditing(!1);b.setSymbol(a.originalSymbol);k.isModified&&a.app.commandRegistry.command("SetEditorFeatureGeometry").execute(b.geometry)};dojo.connect(this._editObject,
"onDeactivate",g);null!=this._editingGeometryMapClickHandle&&(dojo.disconnect(this._editingGeometryMapClickHandle),this._editingGeometryMapClickHandle=null);this._editingGeometryMapClickHandle=dojo.connect(this.app.map,"onClick",function(){g(a._editObject,a.featureClone,{isModified:!0});dojo.disconnect(a._editingGeometryMapClickHandle);this._editingGeometryMapClickHandle=null});this._indicateGeometryEditing(!0);this._editObject.activate(e,this.featureClone,b)}else e=this.app.getResource(this.libraryId,
"language-feature-editing-package-required"),b=a.app.getResource(a.libraryId,"language-feature-layer-error-title"),this.app.commandRegistry.command("Alert").execute(e,b)}else this.app.commandRegistry.command("SetActiveTool").execute(this.currentToolName),this._indicateGeometryEditing(!0)};a.prototype._indicateGeometryEditing=function(a){this.isEditingGeometry.set(a);if(a){a=null;var e=this.feature.get(),b=this.geometry.get();e&&(a=e.drawType||null,!a&&b&&(a=b.type));b&&(e=d.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.getEsriGeometryType(a,
esri.toolbars.Draw.POINT),b=null,b=d.essentialsHtmlViewer.mapping.modules.featureEditing.FeatureEditingModule.getEditingGeometryStatusMessage(this.app,this.libraryId,e,!0),a=new d.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(b,null,null,"geometry-type-"+a.toLowerCase(),"geometryEditingStatus"),this.app.commandRegistry.command("AddStatus").execute(a));this.app.commandRegistry.command("ShowMap").execute()}else this.app.commandRegistry.command("RemoveStatus").execute("geometryEditingStatus")};
a.prototype.save=function(a,e){var b=this,f,g=this.feature.get();this.isEditingGeometry.get()&&g.setSymbol(this.originalSymbol);if(g){f=this.cloneFeature(g);for(var h in f.attributes)f.attributes.hasOwnProperty(h)&&(h||delete f.attributes[h])}var l=g&&g.getLayer()||this._lastLayer;this.stopEditingGeometry();f||(f=this._createNewFeature(),l.renderer&&(f.symbol=l.renderer.getSymbol(f)));l.geometryType&&this.hasGeometry.get()?f.geometry=this.geometry.get():f.geometry=null;this.validationMessages.clear();
for(h=0;h<this.fields.getLength();++h){var m=this.fields.getAt(h),p=m.value.get();"esriFieldTypeDate"===m.type.get()&&(p=m.value.get())&&(p=p.getTime());""===p&&"esriFieldTypeString"!==m.type.get()&&(p=null);var v=m.validationFunc(p);v?(m.cssClass.set("invalid"),this.validationMessages.addItem(v)):(m.cssClass.set(""),f.attributes[m.name.get()]=p)}this.validateGeometry&&f.geometry&&"polygon"===f.geometry.type&&d.essentials.GeometryUtilities.isSelfIntersectingPolygon(f.geometry)&&(h=this.app.getResource(this.libraryId,
"language-feature-editing-self-intersecting-polygon-need-fixing"),this.validationMessages.addItem(h));if(0<this.validationMessages.getLength())return e&&e(),!1;var u=new esri.Graphic(f.toJson());h=null;m=l.url||l._essentialsMetadata.serviceUrl;this.isEditingRelatedFeatureNotInSite.get()||(h=this._getMapServiceByLayer(l));var r=function(){f=u;b.app.eventRegistry.event("FeatureEditedEvent").publish(u);b.editingNewFeature.set(!1);b.isApplyingEdits.set(!1);var e=null;b._editLogEntry?(e=b._editLogEntry,
e.setFeature(f)):(l.remove(g)||(g=b._findFeatureInLayer(g,l))&&l.remove(g),null==f.getLayer()&&(l.add(f),l.refresh()));b.feature.set(f);b._buildFeatureAttributes();b._buildFeatureRelationships();e&&(b._editLogEntry=e);e||b.isEditingRelatedFeatureNotInSite.get()||(e=b._findGeocortexLayerForUrl(l.url),e=new d.essentialsHtmlViewer.mapping.infrastructure.Feature({graphic:f,layer:e}),b.headerText.set(e.label.get()));b.app.commandRegistry.command("DeactivateView").execute("AttributeEditorView");a&&a()};
l.url=m;h={mapService:h,layer:l,feature:u,successCallback:r,errorCallback:function(a){b.isApplyingEdits.set(!1);e&&e();b._cancelEditing();var c="";a.message&&(c+=a.message,a.details&&(c+=" (Details: {0})".format(a.details[0])));a=b.app.getResource(b.libraryId,"language-feature-layer-error-feature-edits").format(c?c:a);c=b.app.getResource(b.libraryId,"language-feature-layer-error-title");b.app.trace.error(a);b.app.commandRegistry.command("Alert").execute(a,c)}};null!=this._editLogEntry?(h.successCallback=
function(){b.app.commandRegistry.command("RefreshOfflineLayers").execute();r()},this.app.commandRegistry.command("ChangeEditLogEntry").execute(h)):this.isEditingRelatedFeatureNotInSite.get()?this.editingNewFeature.get()?(h.relatedFeature=b._relatedFeature,h.relationshipOrigin=b._editingRelationshipOrigin,h.relationshipDestination=b._editingRelationshipDestination,this.app.commandRegistry.command("CreateRelatedRecord").execute(h)):this.app.commandRegistry.command("UpdateRelatedRecord").execute(h):
this.editingNewFeature.get()?(this.app.eventRegistry.event("EditorPreCreateFeatureEvent").publish(u),this.app.commandRegistry.command("CreateFeature").execute(h),!1===this.app.isOffline.get()&&this._lastLayer.remove(this.feature.get())):(this.app.eventRegistry.event("EditorPreUpdateFeatureEvent").publish(u),this.app.commandRegistry.command("UpdateFeature").execute(h));this.isApplyingEdits.set(!0)};a.prototype._cancelEditing=function(){this._lastLayer&&(this.editingNewFeature.get()&&this._lastLayer.remove(this.feature.get()),
this._lastLayer.refresh());this.cancel();this.app.commandRegistry.command("HideFeatureAttributeEditor").execute()};a.prototype.cancel=function(){this.feature.get();this.validationMessages.clear();this.stopEditingGeometry(!0);this._editLogEntry=this._lastLayer=null;this.feature.set(null);this.editingActive.set(!1);this.isEditingRelatedFeatureNotInSite.set(!1);this.fields.clear();this.geometry.set(null);this.hasGeometry.set(!1);this._relatedFeature=this._editingRelationshipDestination=this._editingRelationshipOrigin=
null};a.prototype.startAddingNewRelatedRecord=function(a){var e=this,b=a.relationship,d=this._lastLayer,f=this._getMapServiceByLayer(d);this.setFeature(null);f?this.app.featureLayerModule._getRelatedFeatureLayer(f,b.id,function(d){var f=e._getMapServiceByLayer(d);f?(e.isEditingRelatedFeatureNotInSite.set(!1),e.currentMapService.set(f)):e.isEditingRelatedFeatureNotInSite.set(!0);d&&e.featureTypeHasGeometry.set(!!d.geometryType);f=a.feature.get();e._lastLayer=d;e._editingRelationshipOrigin=b;e._relatedFeature=
f;e.editingNewFeature.set(!0);e.feature.set(null);e.geometry.set(null);e.hasGeometry.set(!1);e._buildFeatureAttributes();if(b.keyField){for(var g=null,q=0;q<d.relationships.length;++q){var h=d.relationships[q];if(h.id===b.id){e._editingRelationshipDestination=h;g=h.keyField;break}}if(g){for(q=0;q<e.fields.getLength();++q)if(d=e.fields.getAt(q),d.name.get()===g)if("objectid"===g.toLowerCase()||"globalid"===g.toLowerCase())d.value.set("[Automatic]"),d.editable.set(!1),d.cantEdit.set(!0);else{d.value.set(f.attributes[b.keyField]);
break}e._setupButtons()}else e.app.trace.error(e.app.getResource(e.libraryId,"language-feature-editing-relationships-key-field-missing"))}else e.app.trace.error(e.app.getResource(e.libraryId,"language-feature-editing-relationships-require-arcgis-version"))},function(a){e.app.trace.error(e.app.getResource(e.libraryId,"language-feature-editing-related-feature-failed").format(b.id))}):this.app.trace.warning("Could not edit feature. No map service for layer '{0}' was found.".format(d.url))};a.prototype._buildFeatureRelationships=
function(){};a.prototype.typeFieldSelected=function(a){if(a)for(var e=0;e<a.subTypes.getLength();e++){var b=a.subTypes.getAt(e);if(null!==b.id&&b.id.toString()===a.value.get()){this._loadRelatedCodedDomains(b.domains);break}}};a.prototype._loadRelatedCodedDomains=function(a){if(a)for(var e in a)if(a.hasOwnProperty(e)&&"codedValue"===a[e].type)for(var b=0;b<this.fields.getLength();b++){var d=this.fields.getAt(b);d.name.get()===e&&(d={viewModel:d,typeName:"codedDomainValue",collectionName:"codedDomainValues",
valueCollection:a[e].codedValues,nullable:d.nullable.get(),nullOption:{name:"",code:null}},this._addValueCollection(d))}};a.prototype._addValueCollection=function(a){a&&(a.viewModel.renderType=new Observable(a.typeName),a.viewModel[a.collectionName]=new ObservableCollection([]),a.viewModel[a.collectionName].addItems(a.valueCollection),a.nullable&&a.viewModel[a.collectionName].insertItem(0,a.nullOption))};a.prototype._buildFeatureAttributes=function(){var a=null,e=this.feature.get();if(!this._lastLayer){var b=
this._findFeatureInLayers(e);b&&(this._lastLayer=b.getLayer())}if(b=this._lastLayer){this.fields.clear();null===e&&(e=new esri.Graphic);var f=[],g=[];if(b._outFields&&0<b._outFields.length)for(var h=0;h<b._outFields.length;++h){var l=b._outFields[h];if(0===h&&"*"===l){g=b.fields;break}for(var m=0;m<b.fields.length;++m){var p=b.fields[m];if(p.name===l){g.push(p);break}}}else g=b.fields;for(h=0;h<g.length;++h)if(m=g[h],m.editable){var v=!1===m.editable,l=!1===m.nullable&&!v,p=null;this.editingNewFeature.get()&&
m.name!==b.typeIdField||e.attributes&&(p=e.attributes[m.name]);var u=this._buildValidationFunc(m),v={name:new Observable(m.name),alias:new Observable(m.alias),length:new Observable(m.length),editable:new Observable(!v),cantEdit:new Observable(v),nullable:new Observable(!l),type:new Observable(m.type),renderType:new Observable(m.type),value:new Observable(p),cssClass:new Observable(""),attached_showIndicator:new Observable(l),attached_indicatorClass:new Observable(""),validationFunc:u||function(){return!0}};
if("esriFieldTypeDate"===m.type){u=new d.forms.items.DatePickerFormItem(void 0);u.timePickerItem=new d.forms.items.TimePickerFormItem(void 0);var r=this.feature.get()?new Date(this.feature.get().attributes[m.name]):new Date;u.includeTimePicker.set(!0);u.initialDate.set(r);u.date.set(r);v.value.sync(u.date);dojo.safeMixin(u,v);v=u}m.name===b.typeIdField&&(this._addValueCollection({viewModel:v,typeName:"subType",collectionName:"subTypes",valueCollection:b.types,nullable:!l,nullOption:{name:"",id:null}}),
a=p);m.hasOwnProperty("domain")&&(m=m.domain)&&"codedValue"===m.type&&this._addValueCollection({viewModel:v,typeName:"codedDomainValue",collectionName:"codedDomainValues",valueCollection:m.codedValues,nullable:!l,nullOption:{name:"",code:null}});f.push(v)}this.fields.addItems(f);if(null===a)for(h=0;h<b.types.length;h++)e=b.types[h],e.id===a&&this._loadRelatedCodedDomains(e.domains)}};a.prototype._isValidEsriDate=function(a){return"[object Date]"!==Object.prototype.toString.call(a)?!1:!isNaN(a.getTime())};
a.prototype._buildValidationFunc=function(a){if(this.app.urlParameters.hasOwnProperty("noval"))return function(){};var e=this,b=function(a){return!1!==a.editable&&!1===a.nullable?e.app.getResource(e.libraryId,"language-feature-editing-requires-value").format(a.alias):null},d=function(a,c){var e=null;if(!a)return!1;switch(a.type){case "esriFieldTypeSingle":case "esriFieldTypeDouble":e=/^[+-]?\d+.?\d*$/;break;case "esriFieldTypeSmallInteger":case "esriFieldTypeInteger":e=/^\s*(\+|-)?\d+\s*$/}return e.test(String(c.toString()))};
if(a.domain){var f=function(f,g,h,n){g=e.app.getResource(e.libraryId,"language-feature-editing-invalid-number").format(g,h,n);return f?d(a,f)?f<h||f>n?g:null:g:b(a)};if("codedValue"===a.domain.type)return function(a){return null};if("range"===a.domain.type){if(a.domain.hasOwnProperty("range")){var g=a.domain.range;g.replace&&(g=g.replace("[","").replace("]","").split(","));return function(e){return f(e,a.alias,g[0],g[1])}}return function(e){return f(e,a.alias,a.domain.minValue,a.domain.maxValue)}}return function(a){return null}}switch(a.type){case "esriFieldTypeDate":return function(d){return d?
e._isValidEsriDate(new Date(d))?null:e.app.getResource(e.libraryId,"language-feature-editing-invalid-date").format(a.alias):b(a)};case "esriFieldTypeString":case "esriFieldTypeGUID":return function(d){return d?a.length&&d.toString().length>a.length?e.app.getResource(e.libraryId,"language-feature-editing-value-too-long").format(a.alias,a.length):null:b(a)};case "esriFieldTypeSingle":case "esriFieldTypeDouble":return function(f){return f||0===f?d(a,f)?null:e.app.getResource(e.libraryId,"language-feature-editing-invalid-decimal").format(a.name):
b(a)};case "esriFieldTypeSmallInteger":case "esriFieldTypeInteger":return function(f){return f||0===f?d(a,f)?null:e.app.getResource(e.libraryId,"language-feature-editing-invalid-integer").format(a.name):b(a)};default:return function(a){return null}}};return a}(d.framework.ui.ViewModelBase);f.AttributeEditorViewModel=g})(f.Editor||(f.Editor={}))})(f.featureEditing||(f.featureEditing={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.getEditingGeometryStatusMessage=function(a,c,e,b){switch(e){case esri.toolbars.Draw.POINT:return a.getResource(c,"language-feature-editing-geometry-point");case esri.toolbars.Draw.MULTI_POINT:return b?a.getResource(c,"language-feature-editing-geometry-multi-point"):a.getResource(c,"language-feature-editing-geometry-point");case esri.toolbars.Draw.POLYLINE:case esri.toolbars.Draw.FREEHAND_POLYLINE:return a.getResource(c,"language-feature-editing-geometry-polyline");
case esri.toolbars.Draw.POLYGON:case esri.toolbars.Draw.FREEHAND_POLYGON:return a.getResource(c,"language-feature-editing-geometry-polygon");case esri.toolbars.Draw.EXTENT:return a.getResource(c,"language-feature-editing-geometry-rectangle")}return a.getResource(c,"language-feature-editing-geometry-default")};return b}(d.framework.application.ModuleBase);f.FeatureEditingModule=g})(f.featureEditing||(f.featureEditing={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){var g=function(b){function a(a,e){b.call(this,a,e);this.symbolStyle=this.symbolUri=this.drawingTool=this.layer=this.proto=this.description=this.name=null;this.name=new Observable;this.description=new Observable;this.drawingTool=new Observable;this.symbolUri=new Observable;this.symbolStyle=new Observable("");this.proto={}}__extends(a,b);a.prototype.setTemplateShapeStyle=function(a){a&&this.symbolStyle.set(a)};a.prototype.createSVGElement=
function(a,e){};return a}(d.framework.ui.ViewModelBase);f.FeatureTemplateViewModel=g})(f.Templates||(f.Templates={}))})(f.featureEditing||(f.featureEditing={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);return b}(d.framework.application.ModuleBase);f.InfoModule=g})(f.Info||(f.Info={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(){f.apply(this,arguments)}__extends(b,f);b.prototype.attach=function(a){f.prototype.attach.call(this,a);if(null!==this.viewModel.content.get())this._activateHomePanel();else var c=this.app.eventRegistry.event("HomePanelContentInitializedEvent").subscribe(this,function(){this._activateHomePanel();this.app.eventRegistry.event("HomePanelContentInitializedEvent").unsubscribe(c)})};b.prototype._registerCommands=
function(){this.app.commandRegistry.command("ShowHomePanel").register(this,this._executeActivateHomePanel,this._canExecuteActivateHomePanel);this.app.commandRegistry.command("ActivateHomePanel").register(this,this._executeActivateHomePanel,this._canExecuteActivateHomePanel);this.app.commandRegistry.command("HideHomePanel").register(this,this._executeDeactivateHomePanel)};b.prototype._canExecuteActivateHomePanel=function(){return this.viewModel.included.get()};b.prototype._executeActivateHomePanel=
function(){this.app.commandRegistry.command("ActivateView").execute(this.id)};b.prototype._executeDeactivateHomePanel=function(){this.app.commandRegistry.command("DeactivateView").execute(this.id)};b.prototype._activateHomePanel=function(){this.viewModel.included.get()&&this.title.set(this.viewModel.title.get());this._registerCommands()};b.prototype.resolveWidget=function(a,c){f.prototype.resolveWidget.call(this,a,c);if("GetHTMLContent"===a){var e=new d.essentialsHtmlViewer.mapping.infrastructure.FeatureDescriptionPresenterView(this.app,
this.libraryId);e.root=document.createElement("div");e.root.className="content";e.root.innerHTML=e.insertLinkAndImageBindings(c);e.attach(null);return e}};return b}(d.framework.ui.ViewBase);f.InfoView=g})(f.Info||(f.Info={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c);this.title=this.content=this.included=null;this.content=new Observable(null);this.title=new Observable;this.included=new Observable(!1)}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);a&&(a.hasOwnProperty("included")&&this.included.set(a.included),a.hasOwnProperty("title")&&this.title.set(a.title),a.hasOwnProperty("content")&&(this.content.set(decodeURIComponent(a.content)),
this.app.eventRegistry.event("HomePanelContentInitializedEvent").publish()))};return b}(d.framework.ui.ViewModelBase);f.InfoViewModel=g})(f.Info||(f.Info={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){(function(g){var h=function(a){function c(c,b,d){a.call(this,c,b,"esri.layers.ArcGISDynamicMapServiceLayer",!1,!!d);this.offlineSupported=!0}__extends(c,a);c.prototype.provide=function(a){var c=this;if((null!=a.declaredClass?a.declaredClass:null)!==this.layerType||10.01>Number(a.version))return new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.NotFound,null);for(var b=this.app.site,
g="",h=null,l=0;l<b.essentialsMap.mapServices.length;++l){var m=b.essentialsMap.mapServices[l];if(m.serviceLayer===a){h=m;break}}b=null;h&&(b=this._getLegendUrl(h));null==b&&(b=a.url.replace("/MapServer","/MapServer/legend"));var p=new d.infrastructure.legend.LegendItem(a,this.useThrottledCollections),l={};if(h){if(0===h.layers.length)return new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.NotFound,null);h.supportsDynamicLayers&&a.dynamicLayerInfos&&
0<a.dynamicLayerInfos.length&&(l.dynamicLayers=this.getDynamicLayersParameterJSON(a));g=h.displayName}else m=a.url.lastIndexOf("/"),-1<m&&(g=a.url.substr(m));p.label.set(g);p.templateType="group";l.f="json";var g=esri.request({url:b,content:l,handleAs:"json",callbackParamName:"callBack"}),v=new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.Pending,p);g.then(function(b){c._handleLegendResponse(b,v,p,a,h)},function(a){c._handleLegendError(p,
a)});return v};c.prototype.getDynamicLayersParameterJSON=function(a){var c=[];if(a.dynamicLayerInfos)for(var d=a.dynamicLayerInfos,f=0;f<d.length;f++)if(d[f]){var g=new b;g.source=d[f].source.toJson();g.id=d[f].id;a.layerDrawingOptions&&a.layerDrawingOptions[d[f].id]&&(g.drawingInfo=a.layerDrawingOptions[d[f].id].toJson());c.push(g)}return JSON.stringify(c)};return c}(g.ArcGISMapServiceLegendProvider);g.ArcGISDynamicMapServiceLegendProvider=h;var b=function(){return function(){}}()})(g.providers||
(g.providers={}))})(g.legend||(g.legend={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){(function(g){var h=function(){function b(a,c,e){this.app=a;this.libraryId=c;this.mapServiceLegends={};this.useThrottledCollections=!!e}b.prototype.supportsOffline=function(){return!0};b.prototype.provide=function(a){if("esri.layers.FeatureLayer"!==(null!=a.declaredClass?a.declaredClass:null))return new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.NotFound,null);for(var c=this.app.site,
e=0;e<c.essentialsMap.mapServices.length;e++){var b=c.essentialsMap.mapServices[e];if(b.serviceLayer instanceof esri.layers.KMLLayer)for(var b=b.serviceLayer.getLayers(),g=0;g<b.length;g++){if(b[g]===a)return new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.NotFound,null)}else if(b.serviceLayer===a&&(b.heatMap&&b.heatMap.enabled&&Modernizr.canvas||b.featureClustering&&b.featureClustering.enabled))return new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.NotFound,
null)}b=new d.infrastructure.legend.LegendItem(a,this.useThrottledCollections);c=c.getFeatureServices();g=null;for(e=0;e<c.length;++e){var h=c[e];if(h.serviceLayer===a){g=h;break}}if(g)for(b.label.set(g.displayName),e=0;e<g.layers.length;++e){var l=g.layers[e];l.includeInLegend&&this.populateItemForLayer(b,l,a,null)}else b.label.set(a.name),this.populateItemForLayer(b,l,a,null);return b&&b.children&&b.children.length()?new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.Show,
b):new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.Hide,b)};b.prototype._buildLegendItemForTemplate=function(a,c,e){var b;b=new d.infrastructure.legend.LegendItem(c,this.useThrottledCollections);b.essLayer=a;b.label.set(e.name);c.renderer&&(a=this._getTemplateSymbol(e,c.renderer))&&this._populateSwatchElement(b,a);return b};b.prototype._buildLegendItemFromSimpleRenderer=function(a,c,e){var b;b=new d.infrastructure.legend.LegendItem(c,this.useThrottledCollections);
b.essLayer=a;b.label.set(a&&a.displayName?a.displayName:c.name);e.symbol&&this._populateSwatchElement(b,e.symbol);return b};b.prototype._buildLegendItemFromRendererInfo=function(a,c,e){c=new d.infrastructure.legend.LegendItem(c,this.useThrottledCollections);c.essLayer=a;c.label.set(e.label);e.symbol&&this._populateSwatchElement(c,e.symbol);return c};b.prototype._populateSwatchElement=function(a,c){if(c&&c.type&&a){var e=c.color&&(!c.color.hasOwnProperty("a")||c.color.hasOwnProperty("a")&&0!==c.color.a)?
c.color.toCss():"rgb(255,255,255)",b=String.escapeHtml(e);switch(c.type){case "picturefillsymbol":case "picturemarkersymbol":b=c.url;e=this.app.getResource(this.libraryId,"language-legend-icon-alt-text").format(a.label.get());b=String.escapeHtml(b);a.swatchElement="<img src='"+b+"' alt='"+e+"' />";break;case "simplefillsymbol":case "simplemarkersymbol":b="rgb(255,255,255)";if("simplemarkersymbol"===c.type||c.style===esri.symbol.SimpleFillSymbol.STYLE_SOLID)b=e;e=c.outline&&c.outline.color?c.outline.color.toCss():
b;b=String.escapeHtml(b);e=String.escapeHtml(e);a.swatchElement="simplemarkersymbol"===c.type&&"circle"===c.style?"<div class='simple-swatch circle' style='background-color: "+b+"; border-color: "+e+";'></div>":"simplemarkersymbol"===c.type&&"diamond"===c.style?"<div class='simple-swatch diamond' style='background-color: "+b+"; border-color: "+e+";'></div>":"simplemarkersymbol"===c.type&&"cross"===c.style?"<div class='simple-swatch cross' style='background-color: "+b+"; border-color: "+e+";'>\n                                    <div class='simple-swatch cross2' style='background-color: "+
b+"; border-color: "+e+";'>\n                                 </div>":"simplemarkersymbol"===c.type&&"x"===c.style?"<div class='simple-swatch x' style='background-color: "+b+"; border-color: "+e+";'>\n                                    <div class='simple-swatch x2' style='background-color: "+b+"; border-color: "+e+";'>\n                                 </div>":"<div class='simple-swatch square' style='background-color: "+b+"; border-color: "+e+";'></div>";break;case "simplelinesymbol":a.swatchElement=
"<div class='simple-swatch line' style='color: "+b+";'></div>";break;default:a.swatchElement="<div class='simple-swatch square' style='background-color: "+b+"; border-color: "+b+";'></div>"}}};b.prototype._getTemplateSymbol=function(a,c){var e=new esri.Graphic(null);e.attributes={};a.prototype.attributes&&dojo.mixin(e.attributes,a.prototype.attributes);return c.getSymbol(e)};b.prototype.populateItemForLayer=function(a,c,e,b){b=[];a.essLayer=c;if(e.renderer&&(e.renderer instanceof esri.renderer.UniqueValueRenderer||
e.renderer instanceof esri.renderer.ClassBreaksRenderer)&&e.renderer.infos&&e.renderer.infos.length)for(var d=0;d<e.renderer.infos.length;++d)b.push(this._buildLegendItemFromRendererInfo(c,e,e.renderer.infos[d]));else if(e.renderer&&e.renderer instanceof esri.renderer.SimpleRenderer&&e.renderer.symbol)b.push(this._buildLegendItemFromSimpleRenderer(c,e,e.renderer));else if(e.templates&&0<e.templates.length)for(d=0;d<e.templates.length;++d)b.push(this._buildLegendItemForTemplate(c,e,e.templates[d]));
else if(e.types&&0<e.types.length)for(d=0;d<e.types.length;++d){var f=e.types[d];if(f.templates)for(var g=0;g<f.templates.length;++g)b.push(this._buildLegendItemForTemplate(c,e,f.templates[g]))}a.children.addItems(b);0<a.children.getLength()&&(a.templateType="group")};b.prototype._handleLegendError=function(a,c){this.app.trace.warning("Error fetching legend information: "+c.toString())};return b}();g.FeatureLayerLegendProvider=h})(g.providers||(g.providers={}))})(g.legend||(g.legend={}))})(d.modules||
(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){(function(g){var h=function(){function b(a,c,e){this.app=a;this.libraryId=c;this.useThrottledCollections=!!e}b.prototype.supportsOffline=function(){return!1};b.prototype.provide=function(a){if("esri.layers.WMSLayer"!==(null!=a.declaredClass?a.declaredClass:null))return new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.NotFound,null);for(var c=new d.infrastructure.legend.LegendItem(a,
this.useThrottledCollections),e=this.app.site,b="",g=null,h=0;h<e.essentialsMap.mapServices.length;++h)if(b=e.essentialsMap.mapServices[h],b.serviceLayer===a){g=b;break}if(g){b=g.displayName;e=[];for(h=0;h<g.layers.length;++h){var l=g.layers[h];if(l.includeInLegend&&l.legendUrl){var m=l.legendUrl;g.proxyUrl&&(m=g.proxyUrl+"?"+encodeURIComponent(m));var p=String.escapeHtml(m),y=this.app.getResource(this.libraryId,"language-legend-icon-alt-text").format(l.displayName),m=new d.infrastructure.legend.LegendItem(a,
this.useThrottledCollections);m.essLayer=l;m.swatchElement="<img src='"+p+"' alt='"+y+"' class='wms-legend-swatch'/>";p=new d.infrastructure.legend.LegendItem(a,this.useThrottledCollections);p.label.set(l.displayName);p.templateType="group";p.children.addItem(m);e.push(p)}}if(0<e.length)c.children.addItems(e);else return new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.Hide,c)}else return new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.NotFound,
null);c.label.set(b);0<c.children.getLength()&&(c.templateType="group");return new d.infrastructure.legend.LegendItemProviderResponse(d.infrastructure.legend.LegendItemProviderResponseCode.Show,c)};return b}();g.WMSLayerLegendProvider=h})(g.providers||(g.providers={}))})(g.legend||(g.legend={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(){return function(){}}();g.LegendItemViewModel=m;m=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.initialize=function(a){this.enableThrottling=a&&void 0!=a.enableThrottling?a.enableThrottling:!0;f.infrastructure.legend.LegendItemProviderFactory.registerLegendItemProvider(new g.providers.ArcGISDynamicMapServiceLegendProvider(this.app,this.libraryId,this.enableThrottling));f.infrastructure.legend.LegendItemProviderFactory.registerLegendItemProvider(new g.providers.ArcGISTiledMapServiceLegendProvider(this.app,
this.libraryId,this.enableThrottling));f.infrastructure.legend.LegendItemProviderFactory.registerLegendItemProvider(new g.providers.FeatureLayerLegendProvider(this.app,this.libraryId,this.enableThrottling));f.infrastructure.legend.LegendItemProviderFactory.registerLegendItemProvider(new g.providers.KMLLayerLegendProvider(this.app,this.libraryId,this.enableThrottling));f.infrastructure.legend.LegendItemProviderFactory.registerLegendItemProvider(new g.providers.WMSLayerLegendProvider(this.app,this.libraryId,
this.enableThrottling));f.infrastructure.legend.LegendItemProviderFactory.registerLegendItemProvider(new g.providers.HeatMapLayerLegendProvider(this.app,this.libraryId,this.enableThrottling));f.infrastructure.legend.LegendItemProviderFactory.registerLegendItemProvider(new g.providers.ClusterLayerLegendProvider(this.app,this.libraryId,this.enableThrottling))};return b}(d.framework.application.ModuleBase);g.LegendModule=m})(g.legend||(g.legend={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping=
{}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c);this.registerCommands()}__extends(b,d);b.prototype.registerCommands=function(){var a=this;this.app.command("SwitchToLegendView").register(this,function(){a.app.command("ActivateView").execute(a.id)})};b.prototype.resolveWidget=function(a,c,e){d.prototype.resolveWidget.call(this,a,c);switch(a){case "LegendActionsWidget":return this.app.menuRegistry.createMenuWidget(this,c,e);default:return this.app.trace.warning("LegendView: Unknown Widget"),
null}};b.prototype.activated=function(){this.viewModel.viewActive.set(!0)};b.prototype.deactivated=function(){this.viewModel.viewActive.set(!1)};b.prototype.handleSlideToggleClick=function(a,c,e){e.expanded.set(!e.expanded.get())};b.prototype.handleClickShowLayerList=function(){this.app.command("SwitchToLayerView").execute()};return b}(d.framework.ui.ViewBase);f.LegendView=g})(f.legend||(f.legend={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(d){function b(){d.apply(this,arguments);this.hasVisibleItems=new Observable(!1);this.viewActive=new Observable(!1);this.extentChangedBindingToken=null;this._topLevelItems=[];this._namePositionDictionary={}}__extends(b,d);b.prototype.initialize=function(){var a=this;this.rootNode=new f.infrastructure.legend.LegendItem(null);this.onDemandRootNode=new f.infrastructure.legend.LegendItem(null,!0);if(this.app.site&&this.app.site.isInitialized)this._handleInitializedSite(this.app.isOffline.get());
else this.app.event("SiteInitializedEvent").once(this,function(){return a._handleInitializedSite(a.app.isOffline.get())});this.app.event("MapServiceAddedEvent").subscribe(this,this._handleMapServiceAddedEvent);this.app.event("MapServicePropertyChangedEvent").subscribe(this,this._handleMapServiceAddedEvent);this.app.event("MapServiceLayersChangedEvent").subscribe(this,this._handleMapServiceAddedEvent);this.app.event("MapServiceRemovedEvent").subscribe(this,this._handleMapServiceRemovedEvent);this.app.event("MapExtentChangedEvent").subscribe(this,
this._handleMapExtentChangedEvent);this.app.event("LayerVisualizationChangedEvent").subscribe(this,this._handleLayerVisualizationChanged);this.app.event("ClusterLayerAddedEvent").subscribe(this,this._handleAddClusterLegend);this.app.isOffline.bind(this,function(c){try{a._clear(),a._handleInitializedSite(c),setTimeout(function(){a._handleMapExtentChangedEvent()},100)}catch(e){a.app.trace.warning("Legend error while transitioning between online/offline modes: "+e)}})};b.prototype._handleAddClusterLegend=
function(a){this._handleLayerAddition(a,this.app.isOffline.get())};b.prototype._handleLayerVisualizationChanged=function(a){var c=this;setTimeout(function(){c._handleMapServiceAddedEvent(a.mapService);c._removeClusteredLegendItems()},500)};b.prototype._handleMapServiceAddedEvent=function(a){if(a){a=a.serviceLayer;try{this._handleLayerAddition(a,this.app.isOffline.get())}catch(c){this.app.trace.warning("Error loading legend items for layer '{0}': {1}".format(a.url,c.toString()))}}};b.prototype._handleMapServiceRemovedEvent=
function(a){if(a){a=a.serviceLayer;for(var c=0;c<this.rootNode.children.get().length;c++)a===this.rootNode.children.get()[c].esriLayer&&(this.rootNode.children.removeAt(c),this._topLevelItems.splice(c,1))}};b.prototype._clear=function(){this._onServiceLayerAddConnectHandle&&(this._onServiceLayerAddConnectHandle.remove(),this._onServiceLayerAddConnectHandle=null);this._onLayerRemoveHandle&&(this._onLayerRemoveHandle.remove(),this._onLayerRemoveHandle=null);this._serviceLayerVisEventSubscribeHandle&&
(this.app.event("MapServiceVisibilityChangedEvent").unsubscribe(this._serviceLayerVisEventSubscribeHandle),this._serviceLayerVisEventSubscribeHandle=null);this._layerVisEventSubscribeHandle&&(this.app.event("LayerVisibilityChangedEvent").unsubscribe(this._layerVisEventSubscribeHandle),this._layerVisEventSubscribeHandle=null);this._topLevelItems.length=0;this.hasVisibleItems.set(!1)};b.prototype._handleInitializedSite=function(a){var c=this;this._map=this.app.map;for(var e={},b=this._map.layerIds.concat(this._map.graphicsLayerIds),
d=0;d<b.length;++d){var f=this._map.getLayer(b[d]);if(f){e[f.url]=f;try{this._handleLayerAddition(f,a)}catch(g){this.app.trace.warning("Error loading legend items for layer '{0}': {1}".format(f.url,g.toString()))}}}this._onServiceLayerAddConnectHandle=this._map.on("layer-add",function(b){if(!e[b.layer.url])try{c._handleLayerAddition(b.layer,a)}catch(d){c.app.trace.warning("Error loading legend items for layer '{0}': {1}".format(b.layer.url,d.toString()))}});this._onLayerRemoveHandle=this._map.on("layer-remove",
function(e){c._handleLayerRemoval(e.layer,a)});this._layerVisEventSubscribeHandle=this.app.event("LayerVisibilityChangedEvent").subscribe(this,this._handleMapExtentChangedEvent);this._serviceLayerVisEventSubscribeHandle=this.app.event("MapServiceVisibilityChangedEvent").subscribe(this,this._handleMapExtentChangedEvent)};b.prototype._handleMapExtentChangedEvent=function(){var a=this;if(this.viewActive.get())try{this._handleMapExtentChangedEventImpl()}catch(c){}else this.extentChangedBindingToken||
(this.extentChangedBindingToken=this.viewActive.bind(this,function(){a.viewActive.unbind(a.extentChangedBindingToken);a.extentChangedBindingToken=null;a._handleMapExtentChangedEventImpl()}))};b.prototype._handleMapExtentChangedEventImpl=function(){for(var a=this.app.map.getScale(),c=0,e=!1,b=0;b<this._topLevelItems.length;++b){var d=this._topLevelItems[b];d&&(c+=this._walkLegendTree(a,d),d.isVisible.get()&&("group"!==d.templateType||"group"===d.templateType&&d.children.length())&&(e=!0))}this._removeClusteredLegendItems();
this._populateOnDemandRootNode();e!==this.hasVisibleItems.get()&&this.hasVisibleItems.set(e)};b.prototype._populateOnDemandRootNode=function(){this.onDemandRootNode.children.clear();var a=this.rootNode.children.get().filter(function(a){return a.isVisible.get()});this.onDemandRootNode.children.addItems(a)};b.prototype._isVisibleInTree=function(a){if(a&&!a.isVisible())return!0;if(a){if(null==a.parentLayerId)return!1;if(a=a.mapService.findLayerById(a.parentLayerId))return this._isVisibleInTree(a)}return!1};
b.prototype._walkLegendTree=function(a,c){if(c.essLayer&&this._isVisibleInTree(c.essLayer)||!c.essLayer&&!c.esriLayer.visible)return this._hideLegendItem(c),0;if(c.isCluster)return 1;for(var e=0,b=0<c.children.getLength(),d=0;d<c.children.getLength();++d)e+=this._walkLegendTree(a,c.children.getAt(d));var d=Number.POSITIVE_INFINITY,f=0,d=c.essLayer?c.essLayer.minScale:c.esriLayer.minScale,f=c.essLayer?c.essLayer.maxScale:c.esriLayer.maxScale,g=!1;0===d&&0===f?g=!0:a>=f&&a<=d&&(g=!0);(g=g&&(c.essLayer?
c.essLayer.isVisible():c.esriLayer.visible))?b&&0===e?this._hideLegendItem(c):this._showLegendItem(c):this._hideLegendItem(c);return!g||0===e&&0<c.children.getLength()?0:e+(b?0:1)};b.prototype._hideLegendItem=function(a){!0===a.isVisible.get()&&a.isVisible.set(!1)};b.prototype._showLegendItem=function(a){!1===a.isVisible.get()&&a.isVisible.set(!0)};b.prototype._handleLayerAddition=function(a,c){var e=this._getProvider(a,c);if(e){var b=e.item;if(e.code.get()===f.infrastructure.legend.LegendItemProviderResponseCode.Show||
e.code.get()===f.infrastructure.legend.LegendItemProviderResponseCode.Pending)this._replaceDuplicate(b)||this._addTopLevelItem(b);else if(e.code.get()===f.infrastructure.legend.LegendItemProviderResponseCode.Hide){for(e=0;e<this.rootNode.children.length();e++)if(this.rootNode.children.getAt(e).esriLayer===b.esriLayer){this.rootNode.children.removeAt(e);break}for(e=0;e<this._topLevelItems.length;e++)if(this._topLevelItems[e]&&this._topLevelItems[e].esriLayer===b.esriLayer){this._topLevelItems.splice(e,
1);break}}this._handleMapExtentChangedEvent()}};b.prototype._handleLayerRemoval=function(a,c){var e=this._getProvider(a,c);if(e){for(var e=e.item,b=0;b<this.rootNode.children.length();b++)if(this.rootNode.children.getAt(b).esriLayer===e.esriLayer){if(e.esriLayer instanceof esri.layers.FeatureLayer){var d=e.esriLayer.name;if(!this._namePositionDictionary.hasOwnProperty(d)||this._namePositionDictionary[d]>b)this._namePositionDictionary[d]=b}this.rootNode.children.removeAt(b);break}for(b=0;b<this._topLevelItems.length;b++)if(this._topLevelItems[b]&&
this._topLevelItems[b].esriLayer===e.esriLayer){this._topLevelItems.splice(b,1);break}this._handleMapExtentChangedEvent()}};b.prototype._getProvider=function(a,c){for(var e=f.infrastructure.legend.LegendItemProviderFactory.getProviders(),b=0;b<e.length;++b){var d=e[b];if(!c||d.supportsOffline()){var g;try{g=d.provide(a)}catch(h){this.app.trace.warning("Error building legend: "+h);continue}if(g&&g.code.get()!==f.infrastructure.legend.LegendItemProviderResponseCode.NotFound)return g}}return null};b.prototype._replaceDuplicate=
function(a){for(var c=0;c<this.rootNode.children.get().length;c++)if(a.esriLayer===this.rootNode.children.get()[c].esriLayer)return this.rootNode.children.removeAt(c),this.rootNode.children.insertItem(c,a),this._topLevelItems[c]=a,!0;return!1};b.prototype._addTopLevelItem=function(a){var c=0;if(a.esriLayer instanceof esri.layers.FeatureLayer){var e=a.esriLayer.name;e&&this._namePositionDictionary.hasOwnProperty(e)&&(c=this._namePositionDictionary[e])}this.rootNode.children.insertItem(c,a);this._topLevelItems.unshift(a)};
b.prototype._removeClusteredLegendItems=function(){for(var a=0;a<this._topLevelItems.length;++a){var c=this._topLevelItems[a];c&&c.esriLayer instanceof esri.layers.FeatureLayer&&null===c.esriLayer.renderer&&c.isVisible.set(!1)}};return b}(d.framework.ui.ViewModelBase);g.LegendViewModel=m})(g.legend||(g.legend={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.POINT="point";b.MULTIPOINT="multipoint";b.POLYLINE="polyline";b.POLYGON="polygon";b.POLYGON_FILL="polygonFill";b.POLYGON_BORDER="polygonBorder";b.TEXT="text";b.TEXT_WEIGHT="textWeight";return b}(d.framework.application.ModuleBase);f.MarkupModule=g})(f.markup||(f.markup={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(g){var h=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.attach=function(a){b.prototype.attach.call(this,a);this.title.set(this.app.getResource(this.libraryId,"language-toolbar-markup-change-styles-dialog-title"));this.app.command("InitializePolylineSwatches").register(this,this.createLineSwatches);this.app.event("InitializeMarkupSwatches").publish("polyline");$(this.root).find("svg").attr("focusable","false")};
a.prototype.createLineSwatches=function(a){for(var e=$(".markup-swatch",this.root),b=0;b<e.length;b++){e[b].id="polyline"+b.toString();e[b].onclick=dojo.hitch(this,this.handleClickStyle);var d=null;switch(a[b].style){case "Solid":d={style:"Solid",width:a[b].width,cap:"round",color:a[b].color};break;case "Dash":d={style:"Dash",width:a[b].width,cap:"round",color:a[b].color};break;case "Dash Dot":d={style:"DashDot",width:a[b].width,cap:"round",color:a[b].color};break;case "Dash Dot Dot":d={style:"LongDashDotDot",
width:a[b].width,cap:"round",color:a[b].color};break;case "Dot":d={style:"Dot",width:a[b].width,cap:"round",color:a[b].color}}dojox.gfx.createSurface(e[b],30,30).createPolyline([{x:0,y:15},{x:30,y:15}]).setStroke(d)}};a.prototype.handleClickStyle=function(a){a=g.StyleSelectorUtils.getIdNumber(a||window.event);this.app.command("ChangeMarkupStyleFromId").execute("polyline",a);this.app.command("DeactivateView").execute(this.id);f.infrastructure.FocusUtils.focusOnMap(this.app.map)};a.prototype.handleClickCancel=
function(a,e,b){this.app.command("DeactivateView").execute(this.id)};return a}(d.framework.ui.ViewBase);g.StyleSelectorLineView=h})(g.styleSelector||(g.styleSelector={}))})(g.markup||(g.markup={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(g){var h=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.attach=function(a){b.prototype.attach.call(this,a);this.title.set(this.app.getResource(this.libraryId,"language-toolbar-markup-change-styles-dialog-title"));this.app.command("InitializePointSwatches").register(this,this.createPointSwatches);this.app.event("InitializeMarkupSwatches").publish("point");$(this.root).find("svg").attr("focusable",
"false")};a.prototype.createPointSwatches=function(a){for(var e=$(".markup-swatch",this.root),b=0;b<e.length;b++)switch(e[b].id="point"+b.toString(),e[b].onclick=dojo.hitch(this,this.handleClickStyle),a[b].style){case "Circle":var d=dojox.gfx.createSurface(e[b],1.2*a[b].size,1.2*a[b].size);d.createCircle({cx:a[b].size/2,cy:a[b].size/2,r:a[b].size/2}).setFill(a[b].color);break;case "Diamond":var f=a[b].size,f=f/Math.sqrt(2),d=dojox.gfx.createSurface(e[b],f*Math.sqrt(2),f*Math.sqrt(2));d.createRect({x:f*
Math.sqrt(2)/2-f/2,y:f*Math.sqrt(2)/2-f/2,width:f,height:f}).setFill(a[b].color).setTransform([dojox.gfx.matrix.rotategAt(45,f*Math.sqrt(2)/2,f*Math.sqrt(2)/2)]);break;case "Square":d=dojox.gfx.createSurface(e[b],a[b].size,a[b].size),d.createRect({x:0,y:0,width:a[b].size,height:a[b].size}).setFill(a[b].color)}};a.prototype.handleClickStyle=function(a){a=g.StyleSelectorUtils.getIdNumber(a||window.event);this.app.command("ChangeMarkupStyleFromId").execute("point",a);this.app.command("DeactivateView").execute(this.id);
f.infrastructure.FocusUtils.focusOnMap(this.app.map)};a.prototype.handleClickCancel=function(a,e,b){this.app.command("DeactivateView").execute(this.id)};return a}(d.framework.ui.ViewBase);g.StyleSelectorPointView=h})(g.styleSelector||(g.styleSelector={}))})(g.markup||(g.markup={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(g){var h=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.attach=function(a){b.prototype.attach.call(this,a);this.title.set(this.app.getResource(this.libraryId,"language-toolbar-markup-change-styles-dialog-title"));this.app.command("InitializePolygonSwatches").register(this,this.createPolygonSwatches);this.app.event("InitializeMarkupSwatches").publish("polygon");$(this.root).find("svg").attr("focusable",
"false")};a.prototype.createPolygonSwatches=function(a){for(var e=$(".markup-swatch",this.root),b=0;b<e.length;b++){e[b].id="polygon"+b.toString();e[b].onclick=dojo.hitch(this,this.handleClickStyle);var d=null;switch(a[b].borderStyle){case "Solid":d={style:"Solid",width:a[b].borderWidth,cap:"round",color:a[b].borderColor};break;case "Dash":d={style:"Dash",width:a[b].borderWidth,cap:"round",color:a[b].borderColor};break;case "Dash Dot":d={style:"DashDot",width:a[b].borderWidth,cap:"round",color:a[b].borderColor};
break;case "Dash Dot Dot":d={style:"LongDashDotDot",width:a[b].borderWidth,cap:"round",color:a[b].borderColor};break;case "Dot":d={style:"Dot",width:a[b].borderWidth,cap:"round",color:a[b].borderColor}}var f=null;switch(a[b].fillStyle){case "Solid":f=a[b].fillColor;break;case "Cross":f={type:"pattern",height:24,width:24,src:"Resources/Images/Markup/cross-24.png"};break;case "Diagonal Cross":f={type:"pattern",height:24,width:24,src:"Resources/Images/Markup/diagonal-cross-24.png"};break;case "Vertical":f=
{type:"pattern",height:24,width:24,src:"Resources/Images/Markup/vertical-24.png"};break;case "Horizontal":f={type:"pattern",height:24,width:24,src:"Resources/Images/Markup/horizontal-24.png"};break;case "Forward Diagonal":f={type:"pattern",height:12,width:12,src:"Resources/Images/Markup/forward-diagonal-12.png"};break;case "Backward Diagonal":f={type:"pattern",height:12,width:12,src:"Resources/Images/Markup/backward-diagonal-12.png"}}dojox.gfx.createSurface(e[b],30,30).createPolyline([{x:0,y:0},{x:30,
y:15},{x:30,y:30},{x:0,y:30},{x:0,y:0}]).setFill(f).setStroke(d)}};a.prototype.handleClickStyle=function(a){a=g.StyleSelectorUtils.getIdNumber(a||window.event);this.app.command("ChangeMarkupStyleFromId").execute("polygon",a);this.app.command("DeactivateView").execute(this.id);f.infrastructure.FocusUtils.focusOnMap(this.app.map)};a.prototype.handleClickCancel=function(a,e,b){this.app.command("DeactivateView").execute(this.id)};return a}(d.framework.ui.ViewBase);g.StyleSelectorPolygonView=h})(g.styleSelector||
(g.styleSelector={}))})(g.markup||(g.markup={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(g){var h=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.attach=function(a){b.prototype.attach.call(this,a);this.title.set(this.app.getResource(this.libraryId,"language-toolbar-markup-change-styles-dialog-title"));this.app.command("InitializeTextSwatches").register(this,this.createTextSwatches);this.app.event("InitializeMarkupSwatches").publish("text");$(this.root).find("svg").attr("focusable","false")};
a.prototype.createTextSwatches=function(a){for(var e=$(".markup-swatch",this.root),b=0;b<e.length;b++){e[b].id="text"+b.toString();e[b].onclick=dojo.hitch(this,this.handleClickStyle);var d={family:a[b].textFamily,style:a[b].style,weight:a[b].weight,size:a[b].size},f=a[b].color,g=parseInt(a[b].size.replace(/[^\d.]/g,""));dojox.gfx.createSurface(e[b],3*g,1.2*g).createText({x:0,y:g,text:"ABC",style:"italic",align:"start"}).setFont(d).setFill(f)}};a.prototype.handleClickStyle=function(a){a=g.StyleSelectorUtils.getIdNumber(a||
window.event);this.app.command("ChangeMarkupStyleFromId").execute("text",a);this.app.command("DeactivateView").execute(this.id);f.infrastructure.FocusUtils.focusOnMap(this.app.map)};a.prototype.handleClickCancel=function(a,e,b){this.app.command("DeactivateView").execute(this.id)};return a}(d.framework.ui.ViewBase);g.StyleSelectorTextView=h})(g.styleSelector||(g.styleSelector={}))})(g.markup||(g.markup={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(m){var l=function(b){function a(a,e){b.call(this,a,e);this.defaultPointStyles=[["point","#FF4CA0D8","Circle",16],["point","#FF2DB459","Circle",16],["point","#FF9B82BC","Circle",16],["point","#FFDB5A5A","Circle",16],["point","#FFF37521","Circle",16],["point","#FFFDF068","Circle",16],["point","#FF4CA0D8","Square",16],["point","#FF2DB459","Square",16],["point","#FF9B82BC","Square",16],["point","#FFDB5A5A","Square",16],["point",
"#FFF37521","Square",16],["point","#FFFDF068","Square",16],["point","#FF4CA0D8","Diamond",16],["point","#FF2DB459","Diamond",16],["point","#FF9B82BC","Diamond",16],["point","#FFDB5A5A","Diamond",16],["point","#FFF37521","Diamond",16],["point","#FFFDF068","Diamond",16]];this.defaultLineStyles=[["polyline","#FF4CA0D8","Dash",3],["polyline","#FF2DB459","Dash",3],["polyline","#FF9B82BC","Dash",3],["polyline","#FFDB5A5A","Dash",3],["polyline","#FFF37521","Dash",3],["polyline","#FFFDF068","Dash",3],["polyline",
"#FF4CA0D8","Solid",3],["polyline","#FF2DB459","Solid",3],["polyline","#FF9B82BC","Solid",3],["polyline","#FFDB5A5A","Solid",3],["polyline","#FFF37521","Solid",3],["polyline","#FFFDF068","Solid",3],["polyline","#FF4CA0D8","Dot",3],["polyline","#FF2DB459","Dot",3],["polyline","#FF9B82BC","Dot",3],["polyline","#FFDB5A5A","Dot",3],["polyline","#FFF37521","Dot",3],["polyline","#FFFDF068","Dot",3]];this.defaultPolygonStyles=[["polygon","#FF4CA0D8","#4D4CA0D8","Solid","Solid",3],["polygon","#FF2DB459",
"#4D2DB459","Solid","Solid",3],["polygon","#FF9B82BC","#4D9B82BC","Solid","Solid",3],["polygon","#FFDB5A5A","#4DDB5A5A","Solid","Solid",3],["polygon","#FFF37521","#4DF37521","Solid","Solid",3],["polygon","#FFFDF068","#4DFDF068","Solid","Solid",3],["polygon","#FF4CA0D8","#4D4CA0D8","Dash Dot","Solid",3],["polygon","#FF2DB459","#4D2DB459","Dash Dot","Solid",3],["polygon","#FF9B82BC","#4D9B82BC","Dash Dot","Solid",3],["polygon","#FFDB5A5A","#4DDB5A5A","Dash Dot","Solid",3],["polygon","#FFF37521","#4DF37521",
"Dash Dot","Solid",3],["polygon","#FFFDF068","#4DFDF068","Dash Dot","Solid",3],["polygon","#FF4CA0D8","#4D4CA0D8","Dot","Solid",3],["polygon","#FF2DB459","#4D2DB459","Dot","Solid",3],["polygon","#FF9B82BC","#4D9B82BC","Dot","Solid",3],["polygon","#FFDB5A5A","#4DDB5A5A","Dot","Solid",3],["polygon","#FFF37521","#4DF37521","Dot","Solid",3],["polygon","#FFFDF068","#4DFDF068","Dot","Solid",3]];this.defaultTextStyles=["text #FF000000 Normal Normal 12pt Arial".split(" "),"text #FF000000 Normal Normal 14pt Arial".split(" "),
"text #FF000000 Normal Normal 18pt Arial".split(" "),"text #FFCCCCCC Normal Normal 12pt Arial".split(" "),"text #FFCCCCCC Normal Normal 14pt Arial".split(" "),"text #FFCCCCCC Normal Normal 18pt Arial".split(" ")];this.pointStyles=new ObservableCollection;this.lineStyles=new ObservableCollection;this.polygonStyles=new ObservableCollection;this.textStyles=new ObservableCollection;this.app.event("InitializeMarkupSwatches").subscribe(this,this.handleInitializeMarkupSwatches);this.app.command("ChangeMarkupStyleFromId").register(this,
this.executeChangeMarkupFromId)}__extends(a,b);a.prototype.initialize=function(a){0<a.customPointStyles.length?this.initializePointStyles(a.customPointStyles):this.initializePointStyles(this.defaultPointStyles);0<a.customLineStyles.length?this.initializeLineStyles(a.customLineStyles):this.initializeLineStyles(this.defaultLineStyles);0<a.customPolygonStyles.length?this.initializePolygonStyles(a.customPolygonStyles):this.initializePolygonStyles(this.defaultPolygonStyles);0<a.customTextStyles.length?
this.initializeTextStyles(a.customTextStyles):this.initializeTextStyles(this.defaultTextStyles)};a.prototype.handleInitializeMarkupSwatches=function(a){switch(a){case g.MarkupModule.POLYGON:this.app.command("InitializePolygonSwatches").execute(this.polygonStyles.get());break;case g.MarkupModule.POLYLINE:this.app.command("InitializePolylineSwatches").execute(this.lineStyles.get());break;case g.MarkupModule.POINT:this.app.command("InitializePointSwatches").execute(this.pointStyles.get());break;case g.MarkupModule.TEXT:this.app.command("InitializeTextSwatches").execute(this.textStyles.get())}};
a.prototype.initializePointStyles=function(a){for(var e=0;e<a.length;e++)4!=a[e].length?this.app.trace.warning("Point Style "+(e+1)+" in the style selector has an incorrect number of elements."):this.pointStyles.addItem({type:a[e][0],color:f.infrastructure.ColorUtils.getColorFromString(a[e][1]).toRgba(),style:a[e][2],size:a[e][3]})};a.prototype.initializeLineStyles=function(a){for(var e=0;e<a.length;e++)4!=a[e].length?this.app.trace.warning("Line Style "+(e+1)+" in the style selector has an incorrect number of elements."):
this.lineStyles.addItem({type:a[e][0],color:f.infrastructure.ColorUtils.getColorFromString(a[e][1]).toRgba(),style:a[e][2],width:a[e][3]})};a.prototype.initializePolygonStyles=function(a){for(var e=0;e<a.length;e++)6!=a[e].length?this.app.trace.warning("Polygon Style "+(e+1)+" in the style selector has an incorrect number of elements."):this.polygonStyles.addItem({type:a[e][0],borderColor:f.infrastructure.ColorUtils.getColorFromString(a[e][1]).toRgba(),fillColor:f.infrastructure.ColorUtils.getColorFromString(a[e][2]).toRgba(),
borderStyle:a[e][3],fillStyle:a[e][4],borderWidth:a[e][5]})};a.prototype.initializeTextStyles=function(a){for(var e=0;e<a.length;e++)6!=a[e].length?this.app.trace.warning("Text Style "+(e+1)+" in the style selector has an incorrect number of elements."):this.textStyles.addItem({type:a[e][0],color:f.infrastructure.ColorUtils.getColorFromString(a[e][1]).toRgba(),style:a[e][2],weight:a[e][3],size:a[e][4],textFamily:a[e][5]})};a.prototype.executeChangeMarkupFromId=function(a,e){var b=null;switch(a){case g.MarkupModule.POINT:b=
this.pointStyles.getAt(e);b={type:b.type,style:b.style,size:b.size,color:b.color};this.app.command("ChangeMarkupStyle").execute(b);break;case g.MarkupModule.POLYLINE:b=this.lineStyles.getAt(e);b={type:b.type,style:b.style,width:b.width,color:b.color};this.app.command("ChangeMarkupStyle").execute(b);break;case g.MarkupModule.POLYGON:b=this.polygonStyles.getAt(e);b={type:b.type,borderStyle:b.borderStyle,fillStyle:b.fillStyle,borderWidth:b.borderWidth,borderColor:b.borderColor,fillColor:b.fillColor};
this.app.command("ChangeMarkupStyle").execute(b);break;case g.MarkupModule.TEXT:b=this.textStyles.getAt(e),b={type:b.type,textFamily:b.textFamily,style:b.style,weight:b.weight,size:b.size,color:b.color},this.app.command("ChangeMarkupStyle").execute(b)}};return a}(d.framework.ui.ViewModelBase);m.StyleSelectorViewModel=l})(g.styleSelector||(g.styleSelector={}))})(g.markup||(g.markup={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(l){function b(){l.apply(this,arguments);this.markupLayerId="Drawings";this.coordinatesMarkupLayerId="Drawings_coordinates";this.markupTools={point:[],polyline:[],polygon:[],text:[]};this.editToolbar=null;this.editToolbarTool=esri.toolbars.Edit.MOVE|esri.toolbars.Edit.EDIT_VERTICES|esri.toolbars.Edit.SCALE|esri.toolbars.Edit.ROTATE;this._editToolbarInputMethodChangeHandle=this.editToolbarDeactivatedHandle=this.editToolbarMoveStoppedHandle=
this.editToolbarMoveStartedHandle=this.modifiedGraphic=this.originalGraphic=null;this._markerSymbol=d.essentialsHtmlViewer.mapping.infrastructure.SymbolUtils.defaultMarkerSymbol();this._lineSymbol=d.essentialsHtmlViewer.mapping.infrastructure.SymbolUtils.defaultLineSymbol();this._polyFillSymbol=d.essentialsHtmlViewer.mapping.infrastructure.SymbolUtils.defaultFillSymbol();this._polyBorderSymbol=d.essentialsHtmlViewer.mapping.infrastructure.SymbolUtils.defaultLineSymbol();this._textSymbol=d.essentialsHtmlViewer.mapping.infrastructure.SymbolUtils.defaultTextSymbol();
this._fontSymbol=this._textSymbol.font;this.textStyleViewCreated=this.polygonStyleViewCreated=this.lineStyleViewCreated=this.pointStyleViewCreated=!1;this.pointSize=new Observable(15);this.lineWidth=new Observable(2);this.polyBorderWidth=new Observable(2);this.textSize=new Observable("12pt");this.pointColor=new Observable(f.infrastructure.ColorUtils.getColorFromString("#cc3333FF"));this.lineColor=new Observable(f.infrastructure.ColorUtils.getColorFromString("#cc3333FF"));this.polygonFillColor=new Observable(f.infrastructure.ColorUtils.getColorFromString("#cc333380"));
this.polygonBorderColor=new Observable(f.infrastructure.ColorUtils.getColorFromString("#cc3333FF"));this.textColor=new Observable(f.infrastructure.ColorUtils.getColorFromString("#000000FF"));this._coordinatesPointBuffer=35;this._coordinatesSmsSymbolBuffer=15;this.pointStyleObsv=new ObservableCollection(["Circle","Diamond","Square"]);this.lineStyleObsv=new ObservableCollection(["Dash","Dash Dot","Dash Dot Dot","Dot","Solid"]);this.polyBorderStyleObsv=new ObservableCollection(["Dash","Dash Dot","Dash Dot Dot",
"Dot","Solid"]);this.polyFillStyleObsv=new ObservableCollection("Solid;Forward Diagonal;Backward Diagonal;Cross;Diagonal Cross;Horizontal;Vertical".split(";"));this.textStyleObsv=new ObservableCollection(["Italic","Normal","Oblique"]);this.textStyleWeightObsv=new ObservableCollection(["Bold","Bolder","Lighter","Normal"]);this.selectedPointStyleObsv=new Observable("Circle");this.selectedLineStyleObsv=new Observable("Dash");this.selectedPolyBorderStyleObsv=new Observable("Dash");this.selectedPolyFillStyleObsv=
new Observable("Solid");this.selectedTextStyleObsv=new Observable("Italic");this.selectedTextStyleWeightObsv=new Observable("Bold");this.selectedTextFamily=new Observable("times");this.pointStyle=[esri.symbol.SimpleMarkerSymbol.STYLE_CIRCLE,esri.symbol.SimpleMarkerSymbol.STYLE_DIAMOND,esri.symbol.SimpleMarkerSymbol.STYLE_SQUARE];this.lineStyle=[esri.symbol.SimpleLineSymbol.STYLE_DASH,esri.symbol.SimpleLineSymbol.STYLE_DASHDOT,esri.symbol.SimpleLineSymbol.STYLE_DASHDOTDOT,esri.symbol.SimpleLineSymbol.STYLE_DOT,
esri.symbol.SimpleLineSymbol.STYLE_SOLID];this.polyBorderStyle=[esri.symbol.SimpleLineSymbol.STYLE_DASH,esri.symbol.SimpleLineSymbol.STYLE_DASHDOT,esri.symbol.SimpleLineSymbol.STYLE_DASHDOTDOT,esri.symbol.SimpleLineSymbol.STYLE_DOT,esri.symbol.SimpleLineSymbol.STYLE_SOLID];this.polyFillStyle=[esri.symbol.SimpleFillSymbol.STYLE_SOLID,esri.symbol.SimpleFillSymbol.STYLE_FORWARD_DIAGONAL,esri.symbol.SimpleFillSymbol.STYLE_BACKWARD_DIAGONAL,esri.symbol.SimpleFillSymbol.STYLE_CROSS,esri.symbol.SimpleFillSymbol.STYLE_DIAGONAL_CROSS,
esri.symbol.SimpleFillSymbol.STYLE_HORIZONTAL,esri.symbol.SimpleFillSymbol.STYLE_VERTICAL];this.textStyle=[esri.symbol.Font.STYLE_ITALIC,esri.symbol.Font.STYLE_NORMAL,esri.symbol.Font.STYLE_OBLIQUE];this.textStyleWeight=[esri.symbol.Font.WEIGHT_BOLD,esri.symbol.Font.WEIGHT_BOLDER,esri.symbol.Font.WEIGHT_LIGHTER,esri.symbol.Font.STYLE_NORMAL]}__extends(b,l);b.prototype.initialize=function(a){a.markupLayerName&&(this.markupLayerId=a.markupLayerName);a.defaultPointMarkup&&(a.defaultPointMarkup.pointStyle&&
this.selectedPointStyleObsv.set(a.defaultPointMarkup.pointStyle),a.defaultPointMarkup.pointSize&&this.pointSize.set(a.defaultPointMarkup.pointSize),a.defaultPointMarkup.pointColor&&this.pointColor.set(f.infrastructure.ColorUtils.getColorFromString(a.defaultPointMarkup.pointColor)));this.pointMarkupStyleChanged();a.defaultLineMarkup&&(a.defaultLineMarkup.lineStyle&&this.selectedLineStyleObsv.set(a.defaultLineMarkup.lineStyle),a.defaultLineMarkup.lineWidth&&this.lineWidth.set(a.defaultLineMarkup.lineWidth),
a.defaultLineMarkup.lineColor&&this.lineColor.set(f.infrastructure.ColorUtils.getColorFromString(a.defaultLineMarkup.lineColor)));this.polylineMarkupStyleChanged();a.defaultPolygonMarkup&&(a.defaultPolygonMarkup.polygonBorderStyle&&this.selectedPolyBorderStyleObsv.set(a.defaultPolygonMarkup.polygonBorderStyle),a.defaultPolygonMarkup.polygonFillStyle&&this.selectedPolyFillStyleObsv.set(a.defaultPolygonMarkup.polygonFillStyle),a.defaultPolygonMarkup.polygonBorderWidth&&this.polyBorderWidth.set(a.defaultPolygonMarkup.polygonBorderWidth),
a.defaultPolygonMarkup.polygonFillColor&&this.polygonFillColor.set(f.infrastructure.ColorUtils.getColorFromString(a.defaultPolygonMarkup.polygonFillColor)),a.defaultPolygonMarkup.polygonBorderColor&&this.polygonBorderColor.set(f.infrastructure.ColorUtils.getColorFromString(a.defaultPolygonMarkup.polygonBorderColor)));this.polygonMarkupStyleChanged();a.defaultTextMarkup&&(a.defaultTextMarkup.textStyle&&this.selectedTextStyleObsv.set(a.defaultTextMarkup.textStyle),a.defaultTextMarkup.textWeight&&this.selectedTextStyleWeightObsv.set(a.defaultTextMarkup.textWeight),
a.defaultTextMarkup.textSize&&this.textSize.set(a.defaultTextMarkup.textSize),a.defaultTextMarkup.textColor&&this.textColor.set(f.infrastructure.ColorUtils.getColorFromString(a.defaultTextMarkup.textColor)),a.defaultTextMarkup.textFamily&&this.selectedTextFamily.set(a.defaultTextMarkup.textFamily));this.app.toolRegistry.registerToolTypeForCommand("EditMarkup","geocortex.essentialsHtmlViewer.mapping.infrastructure.tools.DisablingMapTool");this.app.toolRegistry.registerToolTypeForCommand("DeleteMarkup",
"geocortex.essentialsHtmlViewer.mapping.infrastructure.tools.DisablingMapTool");this.textMarkupStyleChanged();this.markupTools.point=this.markupTools.point.concat(a.customMarkupTools.point);this.markupTools.polyline=this.markupTools.polyline.concat(a.customMarkupTools.polyline);this.markupTools.polygon=this.markupTools.polygon.concat(a.customMarkupTools.polygon);this.markupTools.text=this.markupTools.text.concat(a.customMarkupTools.text);this.initializeCommands();this.initializeEvents()};b.prototype.initializeCommands=
function(){this.app.command("AddMarkup").register(this,this.executeAddMarkupCommand,this.canExecuteAddMarkupCommand);this.app.command("AddMarkupGeometry").register(this,this.executeAddMarkupCommand,this.canExecuteAddMarkupCommand);this.app.command("AddTextMarkup").register(this,this.executeAddTextMarkupCommand,this.canExecuteAddTextMarkupCommand);this.app.command("ClearMarkup").register(this,this.executeClearMarkupCommand,this.canExecuteClearMarkupCommand);this.app.command("ClearMarkupQuiet").register(this,
this.executeClearMarkupQuietCommand,this.canExecuteClearMarkupQuietCommand);this.app.command("EditMarkup").register(this,this.executeEditMarkupCommand,this.canExecuteEditMarkupCommand);this.app.command("DeleteMarkup").register(this,this.executeDeleteMarkupCommand,this.canExecuteDeleteMarkupCommand);this.app.command("ExportMarkupLayer").register(this,this.executeExportMarkupLayerCommand,this.canExecuteExportMarkupLayerCommand);this.app.command("ExportGraphicsLayer").register(this,this.executeExportGraphicsLayerCommand);
this.app.command("ChangeMarkupStyle").register(this,this.executeChangeMarkupStyleCommand,this.canExecuteChangeMarkupStyleCommand);this.app.command("CreateMarkupStyleView").register(this,this.executeCreateStyleViewCommand,this.canExecuteCreateStyleViewCommand);this.app.command("StopEditingMarkup").register(this,this.executeStopEditingCommand,this.canExecuteStopEditingCommand)};b.prototype.initializeEvents=function(){var a=this;this.app.event("ActiveToolChangedEvent").subscribe(this,function(c){a.app.command("CreateMarkupStyleView").raiseCanExecuteChanged();
a.app.command("ExportMarkupLayer").raiseCanExecuteChanged()})};b.prototype.canExecuteAddMarkupCommand=function(a){return!!a};b.prototype.executeAddMarkupCommand=function(a){this.addMarkup(a)};b.prototype.canExecuteClearMarkupCommand=function(){return this._markupExists()};b.prototype.executeClearMarkupCommand=function(){this.clearMarkup()};b.prototype.canExecuteClearMarkupQuietCommand=function(){return this._markupExists()};b.prototype.executeClearMarkupQuietCommand=function(){this.clearMarkupQuiet()};
b.prototype.canExecuteAddTextMarkupCommand=function(a){return!!a};b.prototype.executeAddTextMarkupCommand=function(a){this.addTextMarkup(a)};b.prototype.canExecuteDeleteMarkupCommand=function(){return this._markupExists()};b.prototype.executeDeleteMarkupCommand=function(a){this.deleteMarkup(a)};b.prototype.canExecuteExportMarkupLayerCommand=function(){return this._hasExportableMarkup()};b.prototype.executeExportMarkupLayerCommand=function(){var a={format:"shp",graphicLayer:this.app.map.getLayer(this.markupLayerId)};
this.app.command("ExportGraphicsLayer").execute(a)};b.prototype.executeExportGraphicsLayerCommand=function(a){for(var c=a.graphicLayer.graphics,e,b,g,h,l=0;l<c.length;l++)if(null!=c[l].geometry)switch(c[l].geometry.type){case "point":null!=c[l].symbol&&"textsymbol"!=c[l].symbol.type&&(null==b&&(b=new esri.tasks.FeatureSet),b.features.push(new esri.Graphic(c[l].geometry,c[l].symbol,c[l].attributes,null)));break;case "polygon":null==g&&(g=new esri.tasks.FeatureSet);g.features.push(new esri.Graphic(c[l].geometry,
c[l].symbol,c[l].attributes,null));break;case "extent":null==g&&(g=new esri.tasks.FeatureSet);var m=d.essentials.GeometryUtilities.envelopeToPolygon(c[l].geometry);g.features.push(new esri.Graphic(m,c[l].symbol,c[l].attributes,null));break;case "polyline":null==e&&(e=new esri.tasks.FeatureSet);e.features.push(new esri.Graphic(c[l].geometry,c[l].symbol,c[l].attributes,null));break;case "multipoint":null==h&&(h=new esri.tasks.FeatureSet),h.features.push(new esri.Graphic(c[l].geometry,c[l].symbol,c[l].attributes,
null))}c=new d.essentialsHtmlViewer.mapping.infrastructure.FeatureSetCollection;null!=b&&(b=new f.infrastructure.FeatureSet({esriFeatureSet:b}),b.displayName.set("Point"),c.featureSets.addItem(b));null!=g&&(g=new f.infrastructure.FeatureSet({esriFeatureSet:g}),g.displayName.set("Polygon"),c.featureSets.addItem(g));null!=e&&(e=new f.infrastructure.FeatureSet({esriFeatureSet:e}),e.displayName.set("Polyline"),c.featureSets.addItem(e));null!=h&&(h=new f.infrastructure.FeatureSet({esriFeatureSet:h}),h.displayName.set("Multipoint"),
c.featureSets.addItem(h));a={format:a.format,fsc:c};this.app.command("ExportResultsTo").execute(a)};b.prototype.canExecuteEditMarkupCommand=function(){return this._markupExists()};b.prototype.executeEditMarkupCommand=function(a){this.editMarkup(a)};b.prototype.canExecuteChangeMarkupStyleCommand=function(){return!0};b.prototype.executeChangeMarkupStyleCommand=function(a){this.changeMarkupStyle(a)};b.prototype.canExecuteCreateStyleViewCommand=function(){var a=this.app.toolRegistry.getActiveTool();if(this.editToolbar)return!0;
if(!a)return!1;var c=["AddMarkup","AddMarkupGeometry","AddTextMarkup"];return a instanceof f.infrastructure.tools.MapTool&&-1!=c.indexOf(a.command)||-1!=$.inArray(a.name,this.markupTools.point)||-1!=$.inArray(a.name,this.markupTools.polyline)||-1!=$.inArray(a.name,this.markupTools.polygon)||-1!=$.inArray(a.name,this.markupTools.text)?!0:!1};b.prototype.executeCreateStyleViewCommand=function(){var a=this.app.toolRegistry.getActiveTool();if(a||this.editToolbar){this.editToolbar&&this._createStylePickerView(null);
var c=null,e=["AddMarkup","AddMarkupGeometry","AddTextMarkup"];if(a instanceof f.infrastructure.tools.MapTool&&-1!=e.indexOf(a.command)){switch(a.drawMode){case f.infrastructure.tools.DrawMode.POINT:c="AddTextMarkup"==a.command?g.MarkupModule.TEXT:g.MarkupModule.POINT;break;case f.infrastructure.tools.DrawMode.MULTI_POINT:c=g.MarkupModule.POINT;break;case f.infrastructure.tools.DrawMode.LINE:case f.infrastructure.tools.DrawMode.POLYLINE:case f.infrastructure.tools.DrawMode.FREEHAND_POLYLINE:c=g.MarkupModule.POLYLINE;
break;case f.infrastructure.tools.DrawMode.POLYGON:case f.infrastructure.tools.DrawMode.FREEHAND_POLYGON:case f.infrastructure.tools.DrawMode.EXTENT:case f.infrastructure.tools.DrawMode.ARROW:case f.infrastructure.tools.DrawMode.LEFT_ARROW:case f.infrastructure.tools.DrawMode.RIGHT_ARROW:case f.infrastructure.tools.DrawMode.UP_ARROW:case f.infrastructure.tools.DrawMode.DOWN_ARROW:case f.infrastructure.tools.DrawMode.TRIANGLE:case f.infrastructure.tools.DrawMode.CIRCLE:case f.infrastructure.tools.DrawMode.ELLIPSE:case f.infrastructure.tools.DrawMode.RECTANGLE:c=
g.MarkupModule.POLYGON}this._createStylePickerView(c)}else-1!=$.inArray(a.name,this.markupTools.point)?this._createStylePickerView(g.MarkupModule.POINT):-1!=$.inArray(a.name,this.markupTools.polyline)?this._createStylePickerView(g.MarkupModule.POLYLINE):-1!=$.inArray(a.name,this.markupTools.polygon)?this._createStylePickerView(g.MarkupModule.POLYGON):-1!=$.inArray(a.name,this.markupTools.text)?this._createStylePickerView(g.MarkupModule.TEXT):"EditMarkupTool"==a.name&&this._createStylePickerView(null)}};
b.prototype.canExecuteStopEditingCommand=function(){return!!this.editToolbar};b.prototype.executeStopEditingCommand=function(a){if(this.editToolbar){var c=this.editToolbar.getCurrentState().graphic||this.modifiedGraphic;this.removeMarkupHighlight(c);this.app.event("MarkupEditingStoppedEvent").publish(c);this._deactivateToolbar();this.originalGraphic=this.modifiedGraphic=null;this.app.toolRegistry.getActiveTool()&&a&&"EditMarkupTool"==this.app.toolRegistry.getActiveTool().name&&this.app.command("ClearActiveTool").execute();
this.app.command("CreateMarkupStyleView").raiseCanExecuteChanged()}};b.prototype._deactivateToolbar=function(){this.editToolbarMoveStartedHandle&&(this.editToolbarMoveStartedHandle.remove(),this.editToolbarMoveStartedHandle=null);this.editToolbarMoveStoppedHandle&&(this.editToolbarMoveStoppedHandle.remove(),this.editToolbarMoveStoppedHandle=null);this.editToolbarDeactivatedHandle&&(this.editToolbarDeactivatedHandle.remove(),this.editToolbarDeactivatedHandle=null);this._editToolbarInputMethodChangeHandle&&
(this._editToolbarInputMethodChangeHandle.remove(),this._editToolbarInputMethodChangeHandle=null);this.editToolbar&&(this.editToolbar.deactivate(),this.editToolbar=null)};b.prototype.pointMarkupStyleChanged=function(){this._markerSymbol.setStyle(this.getEsriStyle(g.MarkupModule.POINT,this.selectedPointStyleObsv.get()));this._markerSymbol.setSize(this.pointSize.get());this._markerSymbol.setColor(this.pointColor.get())};b.prototype.polylineMarkupStyleChanged=function(){this._lineSymbol.setStyle(this.getEsriStyle(g.MarkupModule.POLYLINE,
this.selectedLineStyleObsv.get()));this._lineSymbol.setWidth(this.lineWidth.get());this._lineSymbol.setColor(this.lineColor.get())};b.prototype.polygonMarkupStyleChanged=function(){this._polyBorderSymbol.setStyle(this.getEsriStyle(g.MarkupModule.POLYGON_BORDER,this.selectedPolyBorderStyleObsv.get()));this._polyBorderSymbol.setWidth(this.polyBorderWidth.get());this._polyBorderSymbol.setColor(this.polygonBorderColor.get());this._polyFillSymbol.setStyle(this.getEsriStyle(g.MarkupModule.POLYGON_FILL,
this.selectedPolyFillStyleObsv.get()));this._polyFillSymbol.setColor(this.polygonFillColor.get());this._polyFillSymbol.setOutline(this._polyBorderSymbol)};b.prototype.textMarkupStyleChanged=function(){this._fontSymbol.setSize(this.textSize.get());this._fontSymbol.setStyle(this.getEsriStyle(g.MarkupModule.TEXT,this.selectedTextStyleObsv.get()));this._fontSymbol.setWeight(this.getEsriStyle(g.MarkupModule.TEXT_WEIGHT,this.selectedTextStyleWeightObsv.get()));this._fontSymbol.setFamily(this.selectedTextFamily.get());
this._textSymbol.setColor(this.textColor.get())};b.prototype.clearMarkup=function(){var a=this;this.editToolbar&&this.app.command("StopEditingMarkup").execute();if(this._markupExists()){var c=this.app.getResource(this.libraryId,"language-markup-clear-all-prompt"),e=this.app.getResource(this.libraryId,"language-markup-clear-all-prompt-title");this.app.command("Confirm").execute(c,e,function(c){c&&a.clearMarkupQuiet()})}};b.prototype.clearMarkupQuiet=function(){var a=this;this.editToolbar&&setTimeout(function(){a.app.command("StopEditingMarkup").execute()},
0);if(this._markupExists()){var c=this._getGraphicsLayer(!1,this.markupLayerId),e=this._getGraphicsLayer(!1,this.coordinatesMarkupLayerId);if(e&&e.graphics&&e.graphics.length)for(;e.graphics.length;){var b=e.graphics[e.graphics.length-1];b.coordinateId&&this.app.command("DeleteCoordinates").execute(b.coordinateId);e.remove(b);this.app.event("MarkupDeletedEvent").publish(b)}if(!c)return;e=c.graphics.length;for(b=0;b<e;b++)c.graphics[0].measurementId?this.app.event("MarkupDeletedEvent").publish(c.graphics[0]):
(this.app.event("MarkupDeletedEvent").publish(c.graphics[0]),c.remove(c.graphics[0]));this._deactivateActiveToolIfNoMarkupExists();this.app.command("ClearMarkup").raiseCanExecuteChanged();this.app.command("EditMarkup").raiseCanExecuteChanged();this.app.command("DeleteMarkup").raiseCanExecuteChanged();this.app.command("ExportMarkupLayer").raiseCanExecuteChanged();this.app.event("MarkupClearedEvent").publish()}this.app.command("LogOptimizerEvent").execute("ClearMarkupTool","ClearAllMarkup")};b.prototype.deleteMarkup=
function(a){var c=this;d.essentialsHtmlViewer.mapping.infrastructure.GraphicUtils.deleteMarkup(a,[this.markupLayerId,this.markupLayerId+"_measurement",this.coordinatesMarkupLayerId],this.app,function(a){if(a&&a.length){for(var b=0;b<a.length;b++){var d=a[b];d[f.infrastructure.coordinates.coordinateIdentifierProperty]&&c.app.command("DeleteCoordinates").execute(d[f.infrastructure.coordinates.coordinateIdentifierProperty]);c.app.event("MarkupDeletedEvent").publish(d)}c._deactivateActiveToolIfNoMarkupExists();
c.app.command("ClearMarkup").raiseCanExecuteChanged();c.app.command("EditMarkup").raiseCanExecuteChanged();c.app.command("DeleteMarkup").raiseCanExecuteChanged();c.app.command("ExportMarkupLayer").raiseCanExecuteChanged()}c.app.command("ShowMap").execute()},!1,"language-markup-delete-multiple-prompt","language-markup-delete-multiple-prompt-title",this.libraryId)};b.prototype._deactivateActiveToolIfNoMarkupExists=function(){if(!this._markupExists()&&this.app.toolRegistry.getActiveTool()instanceof f.infrastructure.tools.MapTool){var a=
this.app.toolRegistry.getActiveTool();"EditMarkup"!==a.command&&"DeleteMarkup"!==a.command||this.app.command("ClearActiveTool").execute()}};b.prototype.addMarkup=function(a){if(!a)throw Error("geometry is null");"extent"===a.type&&(a=d.essentials.GeometryUtilities.envelopeToPolygon(a));var c=null;switch(a.type){case "point":case "multipoint":c=this._copySymbol(this._markerSymbol);break;case "polyline":c=this._copySymbol(this._lineSymbol);break;case "polygon":case "extent":c=this._copySymbol(this._polyFillSymbol)}if(c){var e=
new esri.Graphic;e.setGeometry(a);e.setSymbol(c);this._addGraphic(e,this.markupLayerId);this.app.event("MarkupAddedEvent").publish(e)}this.app.command("ClearMarkup").raiseCanExecuteChanged();this.app.command("EditMarkup").raiseCanExecuteChanged();this.app.command("DeleteMarkup").raiseCanExecuteChanged();this.app.command("ExportMarkupLayer").raiseCanExecuteChanged()};b.prototype.addTextMarkup=function(a){var c=this;if(a){var e=this.app.getResource(this.libraryId,"language-markup-add-text-title"),b=
this.app.getResource(this.libraryId,"language-markup-add-text");this.app.command("Prompt").execute(e,b,"",function(e){e&&c._addTextMarkup(e,a);c.app.command("ShowMap").execute()})}};b.prototype.editMarkup=function(a){var c=this,e=this._getGraphicsLayer(!1,this.coordinatesMarkupLayerId),b=null;e&&(b=d.essentialsHtmlViewer.mapping.infrastructure.GraphicUtils.getMarkupFromGeometry(a,e,this.app,this._coordinatesSmsSymbolBuffer,this._coordinatesPointBuffer));if(b&&b[b.length-1]&&(e=b[b.length-1],e.hasOwnProperty(f.infrastructure.coordinates.coordinateIdentifierProperty))){this.app.command("StopEditingMarkup").execute(!0);
this.app.command("EditCoordinate").execute(e[f.infrastructure.coordinates.coordinateIdentifierProperty]);return}this.editToolbar&&this.app.command("StopEditingMarkup").execute(!1);e=this._getGraphicsLayer(!1,this.markupLayerId);b=null;e&&(b=d.essentialsHtmlViewer.mapping.infrastructure.GraphicUtils.getMarkupFromGeometry(a,e,this.app));if(b&&b[b.length-1]){this.originalGraphic=b[b.length-1];this.app.event("MarkupEditingStartedEvent").publish(this.originalGraphic);this.originalGraphic.hasOwnProperty("measurementId")&&
this.app.event("MeasurementEditingStartedEvent").publish({graphic:this.originalGraphic});this.originalGraphic.symbol instanceof esri.symbol.TextSymbol&&(this.setMarkupHighlight(this.originalGraphic),a=this.app.getResource(this.libraryId,"language-markup-change-text-text-title"),e=this.app.getResource(this.libraryId,"language-markup-change-text-text"),this.app.command("Prompt").execute(a,e,this.originalGraphic.symbol.text,function(a){""!=a&&null!=a?(c.originalGraphic.symbol.setText(a),c.originalGraphic.draw(),
c.app.command("ShowMap").execute()):""===a&&(c.app.event("MarkupDeleteEvent").publish(c.originalGraphic),c._getGraphicsLayer(!1,c.markupLayerId).remove(c.originalGraphic),c._deactivateActiveToolIfNoMarkupExists(),c.app.command("ClearMarkup").raiseCanExecuteChanged(),c.app.command("EditMarkup").raiseCanExecuteChanged(),c.app.command("DeleteMarkup").raiseCanExecuteChanged(),c.app.command("ExportMarkupLayer").raiseCanExecuteChanged(),c.editToolbar.deactivate(),c.editToolbar=null,c.app.command("CreateMarkupStyleView").raiseCanExecuteChanged())}));
this.editToolbar=this.app.accessibilityManager.createComponent("geocortex.accessibility.edit",this.app.map);this.editToolbarMoveStartedHandle=dojo.aspect.after(this.editToolbar,"onGraphicFirstMove",function(a){c.app.map.disableMapNavigation()},!0);this.editToolbarMoveStoppedHandle=dojo.aspect.after(this.editToolbar,"onGraphicMoveStop",function(a){c.app.map.enableMapNavigation()},!0);this.editToolbarDeactivatedHandle=dojo.aspect.after(this.editToolbar,"onDeactivate",function(a,e,b){(a=c.editToolbar)&&
a.__attached_markupStyleChanged?delete a.__attached_markupStyleChanged:(c.modifiedGraphic=e,c.app.command("StopEditingMarkup").execute(!1))},!0);this.editToolbar instanceof d.essentialsHtmlViewer.mapping.infrastructure.accessibility.Edit&&(this._editToolbarInputMethodChangeHandle=dojo.aspect.after(this.editToolbar,"onInputMethodChange",function(a){var e=c.app.toolRegistry.getActiveTool();e&&"EditMarkupTool"===e.name&&(a={tool:e,previousMethod:a?a.previousMethod:null,newMethod:a?a.newMethod:null},
c.app.event("ToolInputMethodChangedEvent").publish(a))},!0));this.editToolbar.activate(this.editToolbarTool,this.originalGraphic);this.app.command("CreateMarkupStyleView").raiseCanExecuteChanged();var g=this.app.event("ActiveToolChangedEvent").subscribe(this,function(a){if(a.previousTool&&"EditMarkupTool"==a.previousTool.name&&!0==a.previousTool.isSticky)c.app.command("StopEditingMarkup").execute(!1),c.app.event("ActiveToolChangedEvent").unsubscribe(g);else c.app.map.on("click",function(){c.app.command("StopEditingMarkup").execute(!1);
c.app.event("ActiveToolChangedEvent").unsubscribe(g)});a.tool&&c.editToolbar&&(c.app.command("false").execute(),c.app.event("ActiveToolChangedEvent").unsubscribe(g))})}};b.prototype.changeMarkupStyle=function(a){if(this.editToolbar){var c=this.editToolbar.getCurrentState().graphic,e=null;c.measurementId&&(e=c.measurementId)}switch(a.type){case g.MarkupModule.POINT:case g.MarkupModule.MULTIPOINT:a.style&&this.selectedPointStyleObsv.set(a.style);a.size&&this.pointSize.set(a.size);a.color&&this.pointColor.set(new esri.Color(a.color));
this.pointMarkupStyleChanged();if(this.editToolbar){a=c.geometry;this.editToolbar.__attached_markupStyleChanged=!0;this.editToolbar.deactivate();this._getGraphicsLayer(!1,this.markupLayerId).remove(c);var c=this._copySymbol(this._markerSymbol),b=new esri.Graphic;b.geometry=a;b.symbol=c;e&&(b.measurementId=e);this._addGraphic(b,this.markupLayerId);this.editToolbar.activate(this.editToolbarTool,b)}break;case g.MarkupModule.POLYLINE:a.style&&this.selectedLineStyleObsv.set(a.style);a.color&&this.lineColor.set(new esri.Color(a.color));
a.width&&this.lineWidth.set(a.width);this.polylineMarkupStyleChanged();this.editToolbar&&(a=c.geometry,this.editToolbar.__attached_markupStyleChanged=!0,this.editToolbar.deactivate(),this._getGraphicsLayer(!1,this.markupLayerId).remove(c),c=this._copySymbol(this._lineSymbol),b=new esri.Graphic,b.geometry=a,b.symbol=c,e&&(b.measurementId=e),this._addGraphic(b,this.markupLayerId),this.editToolbar.activate(this.editToolbarTool,b));break;case g.MarkupModule.POLYGON:a.borderStyle&&this.selectedPolyBorderStyleObsv.set(a.borderStyle);
a.borderWidth&&this.polyBorderWidth.set(a.borderWidth);a.fillStyle&&this.selectedPolyFillStyleObsv.set(a.fillStyle);a.borderColor&&this.polygonBorderColor.set(new esri.Color(a.borderColor));a.fillColor&&this.polygonFillColor.set(new esri.Color(a.fillColor));this.polygonMarkupStyleChanged();this.editToolbar&&(a=c.geometry,this.editToolbar.__attached_markupStyleChanged=!0,this.editToolbar.deactivate(),this._getGraphicsLayer(!1,this.markupLayerId).remove(c),c=this._copySymbol(this._polyFillSymbol),b=
new esri.Graphic,b.geometry=a,b.symbol=c,e&&(b.measurementId=e),this._addGraphic(b,this.markupLayerId),this.editToolbar.activate(this.editToolbarTool,b));break;case g.MarkupModule.TEXT:a.textFamily&&this.selectedTextFamily.set(a.textFamily),a.style&&this.selectedTextStyleObsv.set(a.style),a.weight&&this.selectedTextStyleWeightObsv.set(a.weight),a.size&&this.textSize.set(a.size),a.color&&this.textColor.set(new esri.Color(a.color)),this.textMarkupStyleChanged(),this.editToolbar&&(a=c.geometry,b=c.symbol.text,
this.editToolbar.__attached_markupStyleChanged=!0,this.editToolbar.deactivate(),this._getGraphicsLayer(!1,this.markupLayerId).remove(c),c=this._copySymbol(this._textSymbol),c.text=b,b=new esri.Graphic,b.geometry=a,b.symbol=c,e&&(b.measurementId=e),this._addGraphic(b,this.markupLayerId),this.editToolbar.activate(this.editToolbarTool,b),this.setMarkupHighlight(b))}};b.prototype.setMarkupHighlight=function(a){a&&a.symbol instanceof esri.symbol.TextSymbol&&(a.symbol.setDecoration(esri.symbol.TextSymbol.DECORATION_UNDERLINE),
a.draw())};b.prototype.removeMarkupHighlight=function(a){a&&a.symbol instanceof esri.symbol.TextSymbol&&(a.symbol.setDecoration(esri.symbol.TextSymbol.DECORATION_NONE),a.draw())};b.prototype.getEsriStyle=function(a,c){var e=null;switch(a){case g.MarkupModule.POINT:return e=this.pointStyleObsv.indexOf(c),this.pointStyle[e];case g.MarkupModule.POLYLINE:return e=this.lineStyleObsv.indexOf(c),this.lineStyle[e];case g.MarkupModule.POLYGON_BORDER:return e=this.polyBorderStyleObsv.indexOf(c),this.polyBorderStyle[e];
case g.MarkupModule.POLYGON_FILL:return e=this.polyFillStyleObsv.indexOf(c),this.polyFillStyle[e];case g.MarkupModule.TEXT:return e=this.textStyleObsv.indexOf(c),this.textStyle[e];case g.MarkupModule.TEXT_WEIGHT:return e=this.textStyleWeightObsv.indexOf(c),this.textStyleWeight[e];default:throw Error("Illegal style type.");}};b.prototype._addTextMarkup=function(a,c){if(c.getExtent){var e=c.getExtent();e&&(c=e.getCenter())}e=this._copySymbol(this._textSymbol);e.setText(a);var b=new esri.Graphic;b.geometry=
c;b.symbol=e;this._addGraphic(b,this.markupLayerId);this.app.event("MarkupAddedEvent").publish(b);this.app.command("ClearMarkup").raiseCanExecuteChanged();this.app.command("EditMarkup").raiseCanExecuteChanged();this.app.command("DeleteMarkup").raiseCanExecuteChanged()};b.prototype._addGraphic=function(a,c){if(a){var e=this._getGraphicsLayer(!0,c);e.add(a);e.visible||e.setVisibility(!0)}};b.prototype._getGraphicsLayer=function(a,c){var e=this.app.map.getLayer(c);!e&&a&&(e=new esri.layers.GraphicsLayer,
e.id=c,this.app.map.addLayer(e),this.app.markupLayer.set(e));return e};b.prototype._copySymbol=function(a){var c=null,e=null;a&&a.isInstanceOf&&(a.isInstanceOf(esri.symbol.SimpleMarkerSymbol)?(e=this._copySymbol(a.outline),c=new esri.symbol.SimpleMarkerSymbol(a.style,a.size,e,a.color)):a.isInstanceOf(esri.symbol.SimpleLineSymbol)?c=new esri.symbol.SimpleLineSymbol(a.style,a.color,a.width):a.isInstanceOf(esri.symbol.SimpleFillSymbol)?(e=this._copySymbol(a.outline),c=new esri.symbol.SimpleFillSymbol(a.style,
e,a.color)):a.isInstanceOf(esri.symbol.TextSymbol)&&(c=new esri.symbol.TextSymbol(a.text),c.setFont(new esri.symbol.Font(a.font.size,a.font.style,a.font.variant,a.font.weight,a.font.family)),c.setColor(a.color),c.setAlign(a.align)));return c};b.prototype._markupExists=function(){var a=!1;if(this.app.map){var c=this._getGraphicsLayer(!1,this.markupLayerId);c&&c.graphics&&0<c.graphics.length&&(a=!0);(c=this._getGraphicsLayer(!1,this.coordinatesMarkupLayerId))&&c.graphics&&0<c.graphics.length&&(a=!0)}return a};
b.prototype._hasExportableMarkup=function(){var a=!1;if(this.app.map){var c=this._getGraphicsLayer(!1,this.markupLayerId);if(c&&c.graphics&&0<c.graphics.length){if(this.app.toolRegistry.getActiveTool()&&"EditMarkupTool"==this.app.toolRegistry.getActiveTool().name)return!1;for(var c=c.graphics,e=0;e<c.length;e++)if(null!=c[e].geometry)if("point"==c[e].geometry.type){if(null!=c[e].symbol&&"textsymbol"!=c[e].symbol.type){a=!0;break}}else{a=!0;break}}}return a};b.prototype._createStylePickerView=function(a){if(null==
a){if(null==this.editToolbar)return;switch(this.editToolbar.getCurrentState().graphic.geometry.type){case "point":a=this.editToolbar.getCurrentState().graphic.symbol instanceof esri.symbol.SimpleMarkerSymbol?g.MarkupModule.POINT:g.MarkupModule.TEXT;break;case "polyline":a=g.MarkupModule.POLYLINE;break;case "polygon":a=g.MarkupModule.POLYGON;break;case "multipoint":a=g.MarkupModule.MULTIPOINT}}switch(a){case g.MarkupModule.POINT:case g.MarkupModule.MULTIPOINT:this.pointStyleViewCreated?this.app.command("ActivateView").execute("PointStyleView"):
(c=this.app.viewManager.createView({viewId:"PointStyleView",markupResource:"Mapping/modules/Markup/StyleSelector/StyleSelectorPoint.html",typeName:"geocortex.essentialsHtmlViewer.mapping.modules.markup.styleSelector.StyleSelectorPointView",regionName:"ModalWindowRegion",isVisible:!0,libraryId:this.libraryId}),a=this.app.getFrameworkObjectById("StyleSelectorViewModel"),c.attach(a),this.pointStyleViewCreated=!0);break;case g.MarkupModule.POLYLINE:if(this.lineStyleViewCreated)this.app.command("ActivateView").execute("LineStyleView");
else{var c=this.app.viewManager.createView({viewId:"LineStyleView",markupResource:"Mapping/modules/Markup/StyleSelector/StyleSelectorLine.html",typeName:"geocortex.essentialsHtmlViewer.mapping.modules.markup.styleSelector.StyleSelectorLineView",regionName:"ModalWindowRegion",isVisible:!0,libraryId:this.libraryId});a=this.app.getFrameworkObjectById("StyleSelectorViewModel");c.attach(a);this.lineStyleViewCreated=!0}break;case g.MarkupModule.POLYGON:this.polygonStyleViewCreated?this.app.command("ActivateView").execute("PolygonStyleView"):
(c=this.app.viewManager.createView({viewId:"PolygonStyleView",markupResource:"Mapping/modules/Markup/StyleSelector/StyleSelectorPolygon.html",typeName:"geocortex.essentialsHtmlViewer.mapping.modules.markup.styleSelector.StyleSelectorPolygonView",regionName:"ModalWindowRegion",isVisible:!0,libraryId:this.libraryId}),a=this.app.getFrameworkObjectById("StyleSelectorViewModel"),c.attach(a),this.polygonStyleViewCreated=!0);break;case g.MarkupModule.TEXT:this.textStyleViewCreated?this.app.command("ActivateView").execute("TextStyleView"):
(c=this.app.viewManager.createView({viewId:"TextStyleView",markupResource:"Mapping/modules/Markup/StyleSelector/StyleSelectorText.html",typeName:"geocortex.essentialsHtmlViewer.mapping.modules.markup.styleSelector.StyleSelectorTextView",regionName:"ModalWindowRegion",isVisible:!0,libraryId:this.libraryId}),a=this.app.getFrameworkObjectById("StyleSelectorViewModel"),c.attach(a),this.textStyleViewCreated=!0)}};return b}(d.framework.ui.ViewModelBase);g.MarkupViewModel=m})(g.markup||(g.markup={}))})(f.modules||
(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(g){var l=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.handleClickDone=function(a,e,b){this.viewModel.editToggled.set(!1);this.viewModel.deleteToggled.set(!1);this.app.command("StopEditingMarkup").execute();this.app.command("ClearActiveTool").execute()};a.prototype.handleClickEdit=function(a,e,b){var d=this;this.viewModel.deleteToggled.get()&&this.viewModel.deleteToggled.set(!1);if(this.viewModel.editToggled.get())this.app.command("ClearActiveTool").execute();
else{this.app.command("SetActiveTool").execute("EditMarkupTool");this.viewModel.editToggled.set(!0);var f=this.app.event("ActiveToolChangedEvent").subscribe(this,function(){d.viewModel.editToggled.set(!1);d.app.event("ActiveToolChangedEvent").unsubscribe(f)})}};a.prototype.handleClickDelete=function(a,e,b){var d=this;if(!this.viewModel.clearDisabled.get())if(this.viewModel.editToggled.get()&&this.viewModel.editToggled.set(!1),this.viewModel.deleteToggled.get())this.app.command("ClearActiveTool").execute();
else{this.app.command("SetActiveTool").execute("DeleteMarkupTool");this.viewModel.deleteToggled.set(!0);var f=this.app.event("ActiveToolChangedEvent").subscribe(this,function(){d.viewModel.deleteToggled.set(!1);d.app.event("ActiveToolChangedEvent").unsubscribe(f)})}};a.prototype.handleClickChangeStyle=function(){var a=null;this.app.toolRegistry.getActiveTool()&&(a=this.app.toolRegistry.getActiveTool().name);var e=this.app.getFrameworkObjectById("MarkupViewModel").markupTools;-1!=$.inArray(a,e.point)?
this.app.command("CreateMarkupStyleView").execute(f.MarkupModule.POINT):-1!=$.inArray(a,e.polyline)?this.app.command("CreateMarkupStyleView").execute(f.MarkupModule.POLYLINE):-1!=$.inArray(a,e.polygon)?this.app.command("CreateMarkupStyleView").execute(f.MarkupModule.POLYGON):-1!=$.inArray(a,e.text)?this.app.command("CreateMarkupStyleView").execute(f.MarkupModule.TEXT):"EditMarkupTool"==a&&this.app.command("CreateMarkupStyleView").execute()};a.prototype.handleClickClear=function(a,e,b){this.app.command("StopEditingMarkup").execute();
this.app.command("ClearMarkup").execute()};return a}(d.framework.ui.ViewBase);g.TransientMarkupPaletteView=l})(f.toolPalettes||(f.toolPalettes={}))})(f.markup||(f.markup={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(l){function b(a,c){l.call(this,a,c);this._measurementWkid=-1;this._currentSpatialReference=this._measurementSpatialReference=null;this._numberValidator=new f.infrastructure.validation.NumberValidator;g.measurementMarkupManager=new g.MeasurementMarkupManager(this,a,c);this.app.toolRegistry.registerToolTypeForCommand("MeasureArea","geocortex.essentialsHtmlViewer.mapping.modules.measurement.MeasurementTool");this.app.toolRegistry.registerToolTypeForCommand("MeasureDistance",
"geocortex.essentialsHtmlViewer.mapping.modules.measurement.MeasurementTool")}__extends(b,l);b.prototype.initialize=function(a){this._registerCommands();this._measurementWkid=a&&a.measurementProjectionWkid&&""!=a.measurementProjectionWkid?parseInt(a.measurementProjectionWkid,10):-1;var c=-1===this._measurementWkid?"geodesic":"planar";this._calculationType=a&&a.calculationType?"planar"===a.calculationType||"geodesic"===a.calculationType||"preserveShape"===a.calculationType?a.calculationType:c:c;this._enablePrediction=
a&&void 0!=a.enablePrediction?a.enablePrediction:!0;this._measurementLengthUnits=g.MeasurementUtils.getGeometryServiceUnitConstant(a.measurementLengthUnits||"feet");this._measurementAreaUnits=g.MeasurementUtils.getGeometryServiceUnitConstant(a.measurementAreaUnits||"squarefeet");this._segmentWarningThreshold=void 0!=a.numSegmentsWarningThreshold?parseInt(a.numSegmentsWarningThreshold,10):1E3;a&&a.tools&&this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,!0);g.measurementMarkupManager._updateMeasurementUnits(this._measurementLengthUnits,
this._measurementAreaUnits);a&&a.measurementResultTypes&&(g.measurementMarkupManager.measurementResultTypes=a.measurementResultTypes);a&&a.coordinateFractionalDigits&&(g.measurementMarkupManager.coordinateFractionalDigits=a.coordinateFractionalDigits);a&&a.measurementFractionalDigits&&(g.measurementMarkupManager.measurementFractionalDigits=a.measurementFractionalDigits);a&&a.degreeFormat&&(g.measurementMarkupManager.degreeFormat=a.degreeFormat.toLowerCase());a&&a.angleDirectionSystem&&(g.measurementMarkupManager.angleDirectionSystem=
a.angleDirectionSystem.toLowerCase());-1!==this._measurementWkid&&(this._measurementSpatialReference=new esri.SpatialReference(this._measurementWkid));this.app.map&&this.app.map.loaded?this._onMapLoaded():this.app.event("MapLoadedEvent").subscribe(this,this._onMapLoaded)};b.prototype.getStateFilter=function(){return{lengthUnit:!0,areaUnit:!0,measurements:{item:this._getMeasurementShapeFilter()}}};b.prototype.exportState=function(){return Promise["try"](function(){return{lengthUnit:g.measurementMarkupManager._lengthUnit,
areaUnit:g.measurementMarkupManager._areaUnit,measurements:g.measurementMarkupManager.descriptorContainer.map(function(a){return a.exportState()})}})};b.prototype.applyState=function(a){var c=this;return Promise["try"](function(){g.measurementMarkupManager._lengthUnit=a.lengthUnit;g.measurementMarkupManager._lengthUnitString=g.MeasurementUtils.getUnitString(a.lengthUnit);g.measurementMarkupManager._areaUnit=a.areaUnit;g.measurementMarkupManager._areaUnitString=g.MeasurementUtils.getUnitString(a.areaUnit);
c._measurementLengthUnits=a.lengthUnit;c._measurementAreaUnits=a.areaUnit;c.app.command("_applyMeasurementUnits").execute(a.lengthUnit,a.areaUnit)}).then(function(){return c.app.waitUntilMapLoaded()}).then(function(){return Promise.map(a.measurements,function(a){var b=c.app.project.convert.toEsriSpatialReference(a.spatialReference),b=new g.GeometryDescriptor(a.id,a.type,b,c.app);b.applyState(a);return b})}).then(function(a){g.measurementMarkupManager.descriptorContainer=a;g.measurementMarkupManager.descriptorContainerEmpty.set(0===
a.length)})["return"]()};b.prototype._getHighlightedLabelFilter=function(){return{highlightGraphic:this.app.project.filter.graphic,highlightSymbol:this.app.project.filter.simpleMarkerSymbol,textGraphics:{item:this.app.project.filter.graphic},textSymbols:{item:this.app.project.filter.textSymbol},layerId:!0,mapPoint:this.app.project.filter.point,text:!0,labelXoffset:this._numberValidator,labelYoffset:this._numberValidator,fontFamily:!0,fontSize:!0,cornerRadius:this._numberValidator,angle:this._numberValidator,
anchor:!0,textColor:this.app.project.filter.color,highlightColor:this.app.project.filter.color,highlightOutlineSymbol:this.app.project.filter.simpleLineSymbol}};b.prototype._getDescriptorFilter=function(){return{id:!0,geometry:this.app.project.filter.geometry,length:this._numberValidator,type:this._numberValidator,spatialReference:this.app.project.filter.spatialReference,graphic:this.app.project.filter.graphic,feature:this.app.project.filter.feature,label:this._getHighlightedLabelFilter()}};b.prototype._getMeasurementSegmentFilter=
function(){return $.extend({},this._getDescriptorFilter(),{startPoint:this.app.project.filter.point,endPoint:this.app.project.filter.point})};b.prototype._getMeasurementShapeFilter=function(){return $.extend({},this._getDescriptorFilter(),{segments:{item:this._getMeasurementSegmentFilter()},area:this._numberValidator,simplifiedGeometry:this.app.project.filter.geometry,originalZoomLevel:this._numberValidator,drawMode:!0,measurementData:this.app.project.filter.featureSet})};b.prototype._onMapLoaded=
function(){this._currentSpatialReference=this.app.map.spatialReference;this._measurementSpatialReference||(this._measurementSpatialReference=this._currentSpatialReference)};b.prototype._registerCommands=function(){this.app.command("MeasureDistance").register(this,this._executeMeasurementCommand,this._canExecuteMeasureDistance);this.app.command("MeasureArea").register(this,this._executeMeasurementCommand,this._canExecuteMeasureArea);this.app.command("SetMeasurementUnits").register(this,this._setMeasurementUnits)};
b.prototype._canExecuteMeasureArea=function(a){if(a instanceof f.infrastructure.Feature&&a.featureSet&&a.featureSet.isMeasurement)return!1;var c=this._retrieveGeometry(a),e=f.infrastructure.GeometryUtils.getGeometryService(this.app);a=a instanceof g.LineSegmentDescriptor;return c?!!(c&&e&&(a||c instanceof esri.geometry.Polygon)):!1};b.prototype._canExecuteMeasureDistance=function(a){if(a instanceof f.infrastructure.Feature&&a.featureSet&&a.featureSet.isMeasurement)return!1;var c=this._retrieveGeometry(a),
e=f.infrastructure.GeometryUtils.getGeometryService(this.app);a=a instanceof g.LineSegmentDescriptor;return c?!!(c&&e&&(a||c instanceof esri.geometry.Polyline)):!1};b.prototype._executeMeasurementCommand=function(a,c,e){var b=this,d=function(a){var c=0;a=a.hasOwnProperty("rings")?a.rings:a.paths;for(var e=0;e<a.length;e++)c+=a[e].length-1;return c},f=function(a){b.app.command("ClearDefaultHighlights").execute();g.measurementMarkupManager._createMeasurementMarkupFromGeometry(a)};if(a instanceof g.DescriptorBase)this._executeMeasurement(a,
c,e);else{var l=this._retrieveGeometry(a);l&&(a=d(l),a>this._segmentWarningThreshold?this.app.command("Confirm").execute(this.app.getResource(this.libraryId,"language-measurement-high-line-segments-warning").format(a),null,function(a){a&&f(l)}):f(l))}};b.prototype._retrieveGeometry=function(a){var c=null;a&&(a instanceof g.DescriptorBase||a instanceof esri.Graphic?c=a.geometry:a instanceof esri.geometry.Geometry?c=a:a instanceof d.essentialsHtmlViewer.mapping.infrastructure.Feature&&a.esriFeature&&
(a=a.esriFeature.get())&&(c=a.geometry));return c};b.prototype._executeMeasurement=function(a,c,e){var b=this;g.measurementMarkupManager.measurementInProgress.get()||g.measurementMarkupManager.measurementInProgress.set(!0);switch(a.type){case g.DescriptorType.LINE_SEGMENT:this._processLineSegment(a,function(a){var d=g.measurementMarkupManager.getGeometryDescriptorById(a.id);a.isActive=d?d.isActive:!1;b.app.command("_addLineSegmentMeasurementMarkup").execute(a,c,function(a){b._tryErrorCallback(e,a)})},
function(a){b._tryErrorCallback(e,a)});break;case g.DescriptorType.POLYLINE:this.app.command("_addCompletedGeometryMeasurementMarkup").execute(a,c,function(a){b._tryErrorCallback(e,a)});break;case g.DescriptorType.POLYGON:b._processPolygon(a,function(a){b.app.command("_addCompletedGeometryMeasurementMarkup").execute(a,c,e)},function(a){b._tryErrorCallback(e,a)});break;default:b._tryErrorCallback(e,Error("Invalid Descriptor Type"))}};b.prototype._processLineSegment=function(a,c,e){var b=this,d=a instanceof
g.LineSegmentDescriptor?a.geometry:a,d=d instanceof Array?d:[d];this._tryProject(d,b._measurementSpatialReference,function(d){b._measurePolylineLengths(d,b._measurementLengthUnits,function(e){e={length:e.lengths[0],serverResponse:e};a instanceof g.LineSegmentDescriptor?(a.setMeasurementUnit(b._measurementLengthUnits),a.length=e.length,c(a)):c(e)},function(a){b._tryErrorCallback(e,a)})},function(a){b._projectionError(a);b._tryErrorCallback(e,a)})};b.prototype._processPolygon=function(a,c,e){var b=
this,d=function(e,d){a.area=e;a.simplifiedGeometry=d;a.unit||a.setMeasurementUnit(b._measurementLengthUnits,b._measurementAreaUnits);c(a)};if(a instanceof g.GeometryDescriptor&&2===a._lineSegments.length)d(0,null);else{var n=a instanceof g.GeometryDescriptor?a.geometry:a,n=n instanceof Array?n:[n];f.infrastructure.GeometryUtils.getGeometryService(this.app).simplify(n,function(f){b._tryProject(f,b._measurementSpatialReference,function(n){b._measurePolygonAreaAndPerimeter(n,b._measurementLengthUnits,
b._measurementAreaUnits,function(e){e={area:e.areas[0],perimeter:e.lengths[0],serverResponse:e};a instanceof g.GeometryDescriptor?d(e.area,f[0]):c(e)},function(a){b._tryErrorCallback(e,a)})},function(a){b._projectionError(a);b._tryErrorCallback(e,a)})},function(a){b._tryErrorCallback(e,a)})}};b.prototype._tryProject=function(a,c,e,b){if(d.essentials.GeometryUtilities.spatialRefsAreEqual(this._currentSpatialReference,c,!1))e(a);else{var f=new esri.tasks.ProjectParameters;f.geometries=a;f.outSR=c;this._calculationType=
"planar";var g=this;d.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.project(f,e,function(a){g._tryErrorCallback(b,a)},this.app)}};b.prototype._measurePolylineLengths=function(a,c,e,b){var d=this,n=!1;c===g.measurementMarkupManager.GCX_UNIT_YARDS&&(c=esri.tasks.GeometryService.UNIT_FOOT,n=!0);var l=new esri.tasks.LengthsParameters;l.calculationType=this._calculationType;"preserveShape"!=this._calculationType&&(l.geodesic="planar"!=this._calculationType);l.lengthUnit=c;l.polylines=a;f.infrastructure.GeometryUtils.getGeometryService(this.app).lengths(l,
function(a){if(n)for(var c=0;c<a.lengths.length;c++)a.lengths[c]=g.MeasurementUtils.convertLength(a.lengths[c],esri.tasks.GeometryService.UNIT_FOOT,g.measurementMarkupManager.GCX_UNIT_YARDS);e(a)},function(a){d._tryErrorCallback(b,a)})};b.prototype._measurePolygonAreaAndPerimeter=function(a,c,e,b,d){var n=this,l=!1;c===g.measurementMarkupManager.GCX_UNIT_YARDS&&(c=esri.tasks.GeometryService.UNIT_FOOT,l=!0);var m=!1;e===g.measurementMarkupManager.GCX_UNIT_SQ_NAUTICAL_MILES&&(e=esri.tasks.GeometryService.UNIT_SQUARE_MILES,
m=!0);var p=new esri.tasks.AreasAndLengthsParameters;p.lengthUnit=c;p.areaUnit=e;p.calculationType=this._calculationType;p.polygons=a;f.infrastructure.GeometryUtils.getGeometryService(this.app).areasAndLengths(p,function(a){if(l)for(var c=0;c<a.lengths.length;c++)a.lengths[c]=g.MeasurementUtils.convertLength(a.lengths[c],esri.tasks.GeometryService.UNIT_FOOT,g.measurementMarkupManager.GCX_UNIT_YARDS);if(m)for(c=0;c<a.areas.length;c++)a.areas[c]=g.MeasurementUtils.convertArea(a.areas[c],esri.tasks.GeometryService.UNIT_SQUARE_MILES,
g.measurementMarkupManager.GCX_UNIT_SQ_NAUTICAL_MILES);b(a)},function(a){n._tryErrorCallback(d,a)})};b.prototype._setMeasurementUnits=function(a,c){this._measurementLengthUnits=g.MeasurementUtils.getGeometryServiceUnitConstant(a);this._measurementAreaUnits=g.MeasurementUtils.getGeometryServiceUnitConstant(c);g.measurementMarkupManager._updateMeasurementUnits(this._measurementLengthUnits,this._measurementAreaUnits)};b.prototype._projectionError=function(a){g.measurementMarkupManager._reportStatus("language-measurement-projection-error",
"alert",!0,[this._measurementWkid,a])};b.prototype._tryErrorCallback=function(a,c){a&&a(c)};return b}(d.framework.application.ModuleBase);g.MeasurementModule=m})(g.measurement||(g.measurement={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(l){function b(a,c,e,b){l.call(this,c,e,b);this._lineSegments=[];this.showHighlightedLabel=!0;this.editingInProgress=!1;this.originalZoomLevel=0;this.id=a;this.length=0;this.originalZoomLevel=b.map.getZoom();c===g.DescriptorType.POLYGON?(this.graphicSymbol=d.essentialsHtmlViewer.mapping.infrastructure.SymbolUtils.defaultFillSymbol(),this.area=0,this.simplifiedGeometry=this.areaUnitStr=this.areaUnit=null):this.graphicSymbol=
d.essentialsHtmlViewer.mapping.infrastructure.SymbolUtils.defaultLineSymbol();(a=this.app.toolRegistry.getActiveTool())&&a instanceof f.infrastructure.tools.MapTool&&(this.drawMode=a.drawMode)}__extends(b,l);b.prototype.addSegment=function(a){a.id=this.id;a.isActive=this.isActive;null==this.lengthUnit&&null!=a.lengthUnit&&(a.unitStr?(this.lengthUnit=a.lengthUnit,this.unitStr=a.unitStr):(this.setMeasurementUnit(a.lengthUnit),a.unitStr=this.unitStr));null!=this.lengthUnit&&null!=a.lengthUnit&&this.lengthUnit!=
a.lengthUnit&&g.measurementMarkupManager._reportStatus("GeometryDescriptor: Added line segment unit differs from geometry.","error",!0);a.length?this.length=this.length?this.length+a.length:a.length:g.measurementMarkupManager._reportStatus("GeometryDescriptor: Line Segment added without computing length or length 0. Total geometry length not updated.","warning",!1);a.graphicSymbol&&!this.graphicSymbol&&this.type===g.DescriptorType.POLYLINE&&(this.graphicSymbol=new esri.symbol.SimpleLineSymbol(a.graphicSymbol.toJson()));
this._lineSegments.push(a)};b.prototype.setMeasurementUnit=function(a,c){var e=!1;if(null!=this.areaUnit&&this.areaUnit!=c||null==this.areaUnit&&c&&this.type===g.DescriptorType.POLYGON)this.area&&null!=this.areaUnit&&(this.area=g.MeasurementUtils.convertArea(this.area,this.areaUnit,c)),this.areaUnit=c,this.areaUnitStr=g.MeasurementUtils.getUnitString(this.areaUnit),e=!0;if(null!=this.lengthUnit&&this.lengthUnit!=a||null==this.lengthUnit&&null!=a){for(e=this.length=0;e<this._lineSegments.length;e++)this._lineSegments[e].setMeasurementUnit(a),
this.length+=this._lineSegments[e].length;this.unitStr=g.MeasurementUtils.getUnitString(a);this.lengthUnit=a;e=!0}if(e&&(this.labelStr=this.type===g.DescriptorType.POLYLINE?this._getResource("language-measurement-polyline-final-markup-label").format(g.measurementMarkupManager.formatMeasurement(this.length,g.measurementMarkupManager.measurementFractionalDigits),this.unitStr):this._getResource("language-measurement-polygon-final-markup-label").format(g.measurementMarkupManager.formatMeasurement(this.area,
g.measurementMarkupManager.measurementFractionalDigits),this.areaUnitStr,g.measurementMarkupManager.formatMeasurement(this.length,g.measurementMarkupManager.measurementFractionalDigits),this.unitStr),this.highlightedLabelGraphic&&this.highlightedLabelGraphic.refresh(this.labelStr),this.measurementData)){this.updateFeature();null!=this.measurementData.features.getAt(0)&&this.measurementData.features.getAt(0).loadAttributes(!1);for(e=1;e<this.measurementData.features.length();e++)this._lineSegments[e-
1].updateFeature(),this._lineSegments[e-1].feature.attributes.Segment=e.toString(),this.measurementData.features.getAt(e).loadAttributes(!1);this._formatMeasurementData();for(e=0;e<this.measurementData.features.length();e++)this.app.event("FeatureChangedEvent").publish(this.measurementData.features.getAt(e))}};b.prototype.setGeometry=function(a){d.essentials.GeometryUtilities.spatialRefsAreEqual(a.spatialReference,this.spatialReference,!1)?this.geometry=a:g.measurementMarkupManager._reportStatus("GeometryDescriptor: setGeometry error: Invalid Spatial Reference",
"error",!0)};b.prototype.refreshLabelVisibilities=function(){if(!this.editingInProgress){this.showHighlightedLabel=!1;for(var a=this.app.map.getZoom()>=this.originalZoomLevel,c=0;c<this._lineSegments.length;c++)this._lineSegments[c].refreshLabelVisibility(),this.showHighlightedLabel=this.showHighlightedLabel||a||this._lineSegments[c].showLabel;this.showHighlightedLabel?this.highlightedLabelGraphic&&this.highlightedLabelGraphic.highlightGraphic&&this.highlightedLabelGraphic.textGraphics&&0<this.highlightedLabelGraphic.textGraphics.length&&
(this.highlightedLabelGraphic.moveToTop(),this.highlightedLabelGraphic.show()):this.highlightedLabelGraphic&&this.highlightedLabelGraphic.highlightGraphic&&this.highlightedLabelGraphic.textGraphics&&0<this.highlightedLabelGraphic.textGraphics.length&&this.highlightedLabelGraphic.hide()}};b.prototype.refreshMeasurementData=function(){var a=this.drawMode||f.infrastructure.tools.DrawMode.POLYGON,c=new esri.tasks.FeatureSet;this.updateFeature();c.features.push(this.feature);if(0>[f.infrastructure.tools.DrawMode.CIRCLE,
f.infrastructure.tools.DrawMode.ELLIPSE,f.infrastructure.tools.DrawMode.FREEHAND_POLYGON,f.infrastructure.tools.DrawMode.FREEHAND_POLYLINE].indexOf(this.drawMode))for(var e=0;e<this._lineSegments.length;e++)this._lineSegments[e].updateFeature(),this._lineSegments[e].feature.attributes.Segment=(e+1).toString(),c.features.push(this._lineSegments[e].feature);this.measurementData?(this.measurementData.esriFeatureSet=c,this.measurementData.loadFeatures()):(this.measurementData=new f.infrastructure.FeatureSet({esriFeatureSet:c}),
this.measurementData.displayName.set(this._getDisplayName()),this.measurementData.isSelectedInCollection.set(!0),this.measurementData.isMeasurement=!0,this._setAttributeMetadata(this.measurementData.attributes));this._formatMeasurementData();0<=g.measurementMarkupManager.measurementResultTypes.indexOf(a)&&(a=g.measurementMarkupManager.getMeasurementResultsCollection(),a.featureSets.addItem(this.measurementData),this.app.featureSetManager.openCollection(a.id),this.app.featureSetManager.closeCollection(a.id))};
b.prototype.setInactive=function(){this.isActive=!1;for(var a=0;a<this._lineSegments.length;a++)this._lineSegments[a].isActive=!1};b.prototype.exportState=function(){var a=l.prototype.exportState.call(this);a.area=this.area;a.simplifiedGeometry=this.app.project.convert.fromEsriGeometry(this.simplifiedGeometry);a.drawMode=this.drawMode;a.measurementData=this.app.project.convert.fromGcxFeatureSet(this.measurementData);a.originalZoomLevel=this.originalZoomLevel;a.segments=this._lineSegments.map(function(a){return a.exportState()});
return a};b.prototype.applyState=function(a){var c=this,e={measurementData:this.app.project.convert.toGcxFeatureSet(a.measurementData),segments:Promise.map(a.segments,function(a){var e=new g.LineSegmentDescriptor(c.spatialReference,c.app);return e.applyState(a)["return"](e)})};return l.prototype.applyState.call(this,a).then(function(){return Promise.props(e)}).then(function(e){c.area=a.area;c.simplifiedGeometry=c.app.project.convert.toEsriGeometry(a.simplifiedGeometry);c.drawMode=a.drawMode;c.measurementData=
e.measurementData;c.originalZoomLevel=c.originalZoomLevel;c._lineSegments=e.segments;c.areaUnit=g.measurementMarkupManager._areaUnit;c.areaUnitStr=g.measurementMarkupManager._areaUnitString;c.refreshLabelVisibilities()})};b.prototype._createAttributes=function(){var a={};a.Segment=this._getResource("language-measurement-results-total");a.X=this._lineSegments[0].mapPointStart.x;a.Y=this._lineSegments[0].mapPointStart.y;a.Length=this.length;a.Units=this.unitStr;a.Area=this.area;a["Area Units"]=this.areaUnitStr;
a.Angle=0;a.Bearing="";return a};b.prototype._formatMeasurementData=function(){for(var a=0;a<this.measurementData.features.length();a++){var c=this.measurementData.features.getAt(a);0==a?(c.labelFormat.set(this._getResource("language-measurement-results-feature-label-total").format(this.measurementData.displayName.get())),c.descriptionFormat.set(this._getResource("language-measurement-results-feature-description-"+this.geometry.type))):(c.labelFormat.set(this._getResource("language-measurement-results-feature-label-segment").format(this.measurementData.displayName.get(),
a)),c.descriptionFormat.set(this._getResource("language-measurement-results-feature-description-segment")));for(var e=0;e<c.attributes.length();e++){var b=c.attributes.getAt(e),d=b.name.get(),n=b.value.get();0!=a||"X"!=d&&"Y"!=d&&"Angle"!=d?(0<a||"polyline"===this.geometry.type)&&"Area"===d?b.presentableValue.set(""):"X"===d||"Y"==d?b.presentableValue.set(g.measurementMarkupManager.formatMeasurement(n,g.measurementMarkupManager.coordinateFractionalDigits)):"Length"===d||"Area"===d?b.presentableValue.set(g.measurementMarkupManager.formatMeasurement(n,
g.measurementMarkupManager.measurementFractionalDigits)):"Angle"===d&&b.presentableValue.set(f.infrastructure.coordinates.CoordinateUtils.formatAngle(n,g.measurementMarkupManager.degreeFormat,this.app,g.measurementMarkupManager.coordinateFractionalDigits)):b.presentableValue.set("")}this._setAttributeMetadata(c.attributes)}};b.prototype._setAttributeMetadata=function(a){for(var c=0;c<a.length();c++){var e=a.getAt(c);switch(e.name.get()){case "Segment":e.displayName.set(this._getResource("language-measurement-results-field-segment"));
e.type.set(d.essentials.EssentialsFieldTypes.essentialsFieldTypeString);break;case "X":e.displayName.set(this._getResource("language-measurement-results-field-x"));e.type.set(d.essentials.EssentialsFieldTypes.essentialsFieldTypeDouble);break;case "Y":e.displayName.set(this._getResource("language-measurement-results-field-y"));e.type.set(d.essentials.EssentialsFieldTypes.essentialsFieldTypeDouble);break;case "Length":e.displayName.set(this._getResource("language-measurement-results-field-length"));
e.type.set(d.essentials.EssentialsFieldTypes.essentialsFieldTypeDouble);break;case "Units":e.displayName.set(this._getResource("language-measurement-results-field-units"));e.type.set(d.essentials.EssentialsFieldTypes.essentialsFieldTypeString);break;case "Area":e.displayName.set(this._getResource("language-measurement-results-field-area"));e.type.set(d.essentials.EssentialsFieldTypes.essentialsFieldTypeDouble);break;case "Area Units":e.displayName.set(this._getResource("language-measurement-results-field-area-units"));
e.type.set(d.essentials.EssentialsFieldTypes.essentialsFieldTypeString);break;case "Angle":e.displayName.set(this._getResource("language-measurement-results-field-angle"));e.type.set(d.essentials.EssentialsFieldTypes.essentialsFieldTypeDouble);break;case "Bearing":e.displayName.set(this._getResource("language-measurement-results-field-bearing")),e.type.set(d.essentials.EssentialsFieldTypes.essentialsFieldTypeString)}}};b.prototype._getDisplayName=function(){for(var a=1,c=this.drawMode||f.infrastructure.tools.DrawMode.POLYGON,
e=0;e<g.measurementMarkupManager.descriptorContainer.length;e++)(g.measurementMarkupManager.descriptorContainer[e].drawMode||f.infrastructure.tools.DrawMode.POLYGON)===c&&g.measurementMarkupManager.descriptorContainer[e].id!==this.id&&a++;c=this._getResource("language-measurement-drawmode-"+c.toLowerCase().replace("_","-"));return this._getResource("language-measurement-results-feature-set-name").format(c,a)};return b}(g.DescriptorBase);g.GeometryDescriptor=m})(g.measurement||(g.measurement={}))})(f.modules||
(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){var m=function(l){function b(a,c){l.call(this,g.DescriptorType.LINE_SEGMENT,a,c);this.mapPointEnd=this.mapPointStart=null;this.showLabel=!1;this.geometry=new esri.geometry.Polyline(a);this.length=0}__extends(b,l);b.prototype.setStartPt=function(a){a?(this.mapPointStart=new esri.geometry.Point(a.toJson()),0===this.geometry.paths.length?this.geometry.addPath([this.mapPointStart]):this.geometry.insertPoint(0,0,this.mapPointStart)):g.measurementMarkupManager._reportStatus("LineSegmentDescriptor: setStartPt - Start point not specified",
"error",!1)};b.prototype.setEndPt=function(a){a?(this.mapPointEnd=new esri.geometry.Point(a.toJson()),1===this.geometry.paths.length?this.geometry.insertPoint(0,1,this.mapPointEnd):g.measurementMarkupManager._reportStatus("LineSegmentDescroptor: setEndPt - Please set startPt of segment before setting endPt","error",!1)):g.measurementMarkupManager._reportStatus("LineSegmentDescriptor: setEndPt - End point not specified","error",!1)};b.prototype.setMeasurementUnit=function(a,c){if(null!=this.lengthUnit&&
this.lengthUnit!=a||null==this.lengthUnit&&null!=a)this.length&&null!=this.lengthUnit&&(this.length=g.MeasurementUtils.convertLength(this.length,this.lengthUnit,a)),this.lengthUnit=a,this.unitStr=c?c:g.MeasurementUtils.getUnitString(this.lengthUnit),this.highlightedLabelGraphic&&this.highlightedLabelGraphic.refresh(g.measurementMarkupManager.formatMeasurement(this.length,g.measurementMarkupManager.measurementFractionalDigits)+" "+this.unitStr)};b.prototype.refreshLabelVisibility=function(){if(this.highlightedLabelGraphic){var a=
g.MeasurementUtils.getRenderedLineSegmentLength(this);(this.showLabel=this.highlightedLabelGraphic.getWidth()<a?!0:!1)?this.highlightedLabelGraphic.show():this.highlightedLabelGraphic.hide()}};b.prototype.exportState=function(){var a=l.prototype.exportState.call(this);a.startPoint=this.app.project.convert.fromEsriGeometry(this.mapPointStart);a.endPoint=this.app.project.convert.fromEsriGeometry(this.mapPointEnd);return a};b.prototype.applyState=function(a){var c=this;return l.prototype.applyState.call(this,
a).then(function(){c.mapPointStart=c.app.project.convert.toEsriGeometry(a.startPoint);c.mapPointEnd=c.app.project.convert.toEsriGeometry(a.endPoint)})};b.prototype._createAttributes=function(){var a={};a.Segment=this.id;a.X=this.mapPointStart.x;a.Y=this.mapPointStart.y;a.Length=this.length;a.Units=this.unitStr;a.Area=0;a["Area Units"]="";a.Angle=this.getAngle();a.Bearing=this.getQuadrantBearing();return a};b.prototype.getAngle=function(){return g.measurementMarkupManager.angleDirectionSystem===d.infrastructure.coordinates.AngleDirectionSystem.NORTH_AZIMUTH?
this.getNorthAzimuth():g.measurementMarkupManager.angleDirectionSystem===d.infrastructure.coordinates.AngleDirectionSystem.SOUTH_AZIMUTH?this.getSouthAzimuth():this.getPolarAngle()};b.prototype.getAngleDegree=function(){var a=0;this.mapPointStart&&this.mapPointEnd&&(a=Math.atan2(this.mapPointStart.y-this.mapPointEnd.y,this.mapPointEnd.x-this.mapPointStart.x)*(180/Math.PI),a=0>a?360+a:a,a=0<=a&&180>=a?90<a?180+a:a:270>a?a-180:a);return a};b.prototype.getPolarAngle=function(){return(180*Math.atan2(this.mapPointEnd.y-
this.mapPointStart.y,this.mapPointEnd.x-this.mapPointStart.x)/Math.PI+360)%360};b.prototype.getNorthAzimuth=function(){return(360-this.getPolarAngle()+90)%360};b.prototype.getSouthAzimuth=function(){return(360-this.getPolarAngle()+270)%360};b.prototype.getLabelLocation=function(){if(this.mapPointStart&&this.mapPointEnd)return new esri.geometry.Point((this.mapPointStart.x+this.mapPointEnd.x)/2,(this.mapPointStart.y+this.mapPointEnd.y)/2,this.spatialReference)};b.prototype.getQuadrantBearing=function(){return d.infrastructure.coordinates.CoordinateUtils.formatBearing(this.getNorthAzimuth(),
g.measurementMarkupManager.degreeFormat,this.app,g.measurementMarkupManager.coordinateFractionalDigits)};return b}(g.DescriptorBase);g.LineSegmentDescriptor=m})(g.measurement||(g.measurement={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(m){function l(a){return a.split(e)}var b=null,a=null,c={},e=/\r\n|\r|\n/g;m.getUnitString=function(a,c){void 0===c&&(c=!1);var e="";if(!a)return e;switch(a){case esri.Units.FEET:case esri.tasks.GeometryService.UNIT_FOOT:case g.measurementMarkupManager.unit.feet.shortName:case g.measurementMarkupManager.unit.feet.longName:case g.measurementMarkupManager.unit.feet.config:e=c?g.measurementMarkupManager.unit.feet.longName:g.measurementMarkupManager.unit.feet.shortName;
break;case esri.Units.YARDS:case g.measurementMarkupManager.GCX_UNIT_YARDS:case g.measurementMarkupManager.unit.yard.shortName:case g.measurementMarkupManager.unit.yard.longName:case g.measurementMarkupManager.unit.yard.config:e=c?g.measurementMarkupManager.unit.yard.longName:g.measurementMarkupManager.unit.yard.shortName;break;case esri.Units.METERS:case esri.tasks.GeometryService.UNIT_METER:case g.measurementMarkupManager.unit.meter.shortName:case g.measurementMarkupManager.unit.meter.longName:case g.measurementMarkupManager.unit.meter.config:e=
c?g.measurementMarkupManager.unit.meter.longName:g.measurementMarkupManager.unit.meter.shortName;break;case esri.Units.KILOMETERS:case esri.tasks.GeometryService.UNIT_KILOMETER:case g.measurementMarkupManager.unit.kilometer.shortName:case g.measurementMarkupManager.unit.kilometer.longName:case g.measurementMarkupManager.unit.kilometer.config:e=c?g.measurementMarkupManager.unit.kilometer.longName:g.measurementMarkupManager.unit.kilometer.shortName;break;case esri.Units.MILES:case esri.tasks.GeometryService.UNIT_STATUTE_MILE:case g.measurementMarkupManager.unit.mile.shortName:case g.measurementMarkupManager.unit.mile.longName:case g.measurementMarkupManager.unit.mile.config:e=
c?g.measurementMarkupManager.unit.mile.longName:g.measurementMarkupManager.unit.mile.shortName;break;case esri.Units.NAUTICAL_MILES:case esri.tasks.GeometryService.UNIT_NAUTICAL_MILE:case g.measurementMarkupManager.unit.nauticalMile.shortName:case g.measurementMarkupManager.unit.nauticalMile.longName:case g.measurementMarkupManager.unit.nauticalMile.config:e=c?g.measurementMarkupManager.unit.nauticalMile.longName:g.measurementMarkupManager.unit.nauticalMile.shortName;break;case esri.tasks.GeometryService.UNIT_SQUARE_FEET:case esri.Units.SQUARE_FEET:case g.measurementMarkupManager.unit.sqFeet.shortName:case g.measurementMarkupManager.unit.sqFeet.longName:case g.measurementMarkupManager.unit.sqFeet.config:e=
c?g.measurementMarkupManager.unit.sqFeet.longName:g.measurementMarkupManager.unit.sqFeet.shortName;break;case esri.tasks.GeometryService.UNIT_SQUARE_METERS:case esri.Units.SQUARE_METERS:case g.measurementMarkupManager.unit.sqMeter.shortName:case g.measurementMarkupManager.unit.sqMeter.longName:case g.measurementMarkupManager.unit.sqMeter.config:e=c?g.measurementMarkupManager.unit.sqMeter.longName:g.measurementMarkupManager.unit.sqMeter.shortName;break;case esri.tasks.GeometryService.UNIT_SQUARE_KILOMETERS:case esri.Units.SQUARE_KILOMETERS:case g.measurementMarkupManager.unit.sqKilometer.shortName:case g.measurementMarkupManager.unit.sqKilometer.longName:case g.measurementMarkupManager.unit.sqKilometer.config:e=
c?g.measurementMarkupManager.unit.sqKilometer.longName:g.measurementMarkupManager.unit.sqKilometer.shortName;break;case esri.tasks.GeometryService.UNIT_SQUARE_MILES:case esri.Units.SQUARE_MILES:case g.measurementMarkupManager.unit.sqMile.shortName:case g.measurementMarkupManager.unit.sqMile.longName:case g.measurementMarkupManager.unit.sqMile.config:e=c?g.measurementMarkupManager.unit.sqMile.longName:g.measurementMarkupManager.unit.sqMile.shortName;break;case esri.tasks.GeometryService.UNIT_SQUARE_YARDS:case esri.Units.SQUARE_YARDS:case g.measurementMarkupManager.unit.sqYard.shortName:case g.measurementMarkupManager.unit.sqYard.longName:case g.measurementMarkupManager.unit.sqYard.config:e=
c?g.measurementMarkupManager.unit.sqYard.longName:g.measurementMarkupManager.unit.sqYard.shortName;break;case g.measurementMarkupManager.GCX_UNIT_SQ_NAUTICAL_MILES:case g.measurementMarkupManager.unit.sqNauticalMile.shortName:case g.measurementMarkupManager.unit.sqNauticalMile.longName:case g.measurementMarkupManager.unit.sqNauticalMile.config:e=c?g.measurementMarkupManager.unit.sqNauticalMile.longName:g.measurementMarkupManager.unit.sqNauticalMile.shortName;break;case esri.tasks.GeometryService.UNIT_ACRES:case esri.Units.ACRES:case g.measurementMarkupManager.unit.acre.shortName:case g.measurementMarkupManager.unit.acre.longName:case g.measurementMarkupManager.unit.acre.config:e=
c?g.measurementMarkupManager.unit.acre.longName:g.measurementMarkupManager.unit.acre.shortName;break;case esri.tasks.GeometryService.UNIT_HECTARES:case esri.Units.HECTARES:case g.measurementMarkupManager.unit.hectare.shortName:case g.measurementMarkupManager.unit.hectare.longName:case g.measurementMarkupManager.unit.hectare.config:e=c?g.measurementMarkupManager.unit.hectare.longName:g.measurementMarkupManager.unit.hectare.shortName}return e};m.getGeometryServiceUnitConstant=function(a,c){if(!a)return null;
var e=null;switch(a){case esri.Units.ACRES:case g.measurementMarkupManager.unit.acre.longName:case g.measurementMarkupManager.unit.acre.shortName:case g.measurementMarkupManager.unit.acre.config:case esri.tasks.GeometryService.UNIT_ACRES.toString():e=esri.tasks.GeometryService.UNIT_ACRES;break;case esri.Units.ARES:case esri.tasks.GeometryService.UNIT_ARES.toString():e=esri.tasks.GeometryService.UNIT_ARES;break;case g.measurementMarkupManager.unit.feet.longName:case g.measurementMarkupManager.unit.feet.shortName:case g.measurementMarkupManager.unit.feet.config:case d.essentials.DistanceUnitType.FEET:case esri.tasks.GeometryService.UNIT_FOOT.toString():case esri.Units.FEET:e=
esri.tasks.GeometryService.UNIT_FOOT;break;case esri.Units.HECTARES:case g.measurementMarkupManager.unit.hectare.longName:case g.measurementMarkupManager.unit.hectare.shortName:case g.measurementMarkupManager.unit.hectare.config:case esri.tasks.GeometryService.UNIT_HECTARES.toString():e=esri.tasks.GeometryService.UNIT_HECTARES;break;case g.measurementMarkupManager.unit.kilometer.longName:case g.measurementMarkupManager.unit.kilometer.shortName:case g.measurementMarkupManager.unit.kilometer.config:case d.essentials.DistanceUnitType.KILOMETERS:case esri.tasks.GeometryService.UNIT_KILOMETER.toString():case esri.Units.KILOMETERS:e=
esri.tasks.GeometryService.UNIT_KILOMETER;break;case g.measurementMarkupManager.unit.meter.longName:case g.measurementMarkupManager.unit.meter.shortName:case g.measurementMarkupManager.unit.meter.config:case d.essentials.DistanceUnitType.METERS:case esri.tasks.GeometryService.UNIT_METER.toString():case esri.Units.METERS:e=esri.tasks.GeometryService.UNIT_METER;break;case g.measurementMarkupManager.unit.mile.longName:case g.measurementMarkupManager.unit.mile.shortName:case g.measurementMarkupManager.unit.mile.config:case d.essentials.DistanceUnitType.MILES:case esri.tasks.GeometryService.UNIT_STATUTE_MILE.toString():case esri.Units.MILES:e=
esri.tasks.GeometryService.UNIT_STATUTE_MILE;break;case g.measurementMarkupManager.unit.nauticalMile.longName:case g.measurementMarkupManager.unit.nauticalMile.shortName:case g.measurementMarkupManager.unit.nauticalMile.config:case d.essentials.DistanceUnitType.NAUTICAL_MILES:case esri.tasks.GeometryService.UNIT_NAUTICAL_MILE.toString():case esri.Units.NAUTICAL_MILES:e=esri.tasks.GeometryService.UNIT_NAUTICAL_MILE;break;case g.measurementMarkupManager.unit.yard.longName:case g.measurementMarkupManager.unit.yard.shortName:case g.measurementMarkupManager.unit.yard.config:case d.essentials.DistanceUnitType.YARDS:case esri.Units.YARDS:e=
g.measurementMarkupManager.GCX_UNIT_YARDS;break;case esri.Units.SQUARE_CENTIMETERS:case esri.tasks.GeometryService.UNIT_SQUARE_CENTIMETERS.toString():e=esri.tasks.GeometryService.UNIT_SQUARE_CENTIMETERS;break;case esri.Units.SQUARE_DECIMETERS:case esri.tasks.GeometryService.UNIT_SQUARE_DECIMETERS.toString():e=esri.tasks.GeometryService.UNIT_SQUARE_DECIMETERS;break;case g.measurementMarkupManager.unit.sqFeet.longName:case g.measurementMarkupManager.unit.sqFeet.shortName:case g.measurementMarkupManager.unit.sqFeet.config:case esri.tasks.GeometryService.UNIT_SQUARE_FEET.toString():case esri.Units.SQUARE_FEET:e=
esri.tasks.GeometryService.UNIT_SQUARE_FEET;break;case esri.Units.SQUARE_INCHES:case esri.tasks.GeometryService.UNIT_SQUARE_INCHES.toString():e=esri.tasks.GeometryService.UNIT_SQUARE_INCHES;break;case g.measurementMarkupManager.unit.sqKilometer.longName:case g.measurementMarkupManager.unit.sqKilometer.shortName:case g.measurementMarkupManager.unit.sqKilometer.config:case esri.tasks.GeometryService.UNIT_SQUARE_KILOMETERS.toString():case esri.Units.SQUARE_KILOMETERS:e=esri.tasks.GeometryService.UNIT_SQUARE_KILOMETERS;
break;case g.measurementMarkupManager.unit.sqMeter.longName:case g.measurementMarkupManager.unit.sqMeter.shortName:case g.measurementMarkupManager.unit.sqMeter.config:case esri.tasks.GeometryService.UNIT_SQUARE_METERS.toString():case esri.Units.SQUARE_METERS:e=esri.tasks.GeometryService.UNIT_SQUARE_METERS;break;case g.measurementMarkupManager.unit.sqMile.longName:case g.measurementMarkupManager.unit.sqMile.shortName:case g.measurementMarkupManager.unit.sqMile.config:case esri.tasks.GeometryService.UNIT_SQUARE_MILES.toString():case esri.Units.SQUARE_MILES:e=
esri.tasks.GeometryService.UNIT_SQUARE_MILES;break;case g.measurementMarkupManager.unit.sqNauticalMile.longName:case g.measurementMarkupManager.unit.sqNauticalMile.shortName:case g.measurementMarkupManager.unit.sqNauticalMile.config:e=g.measurementMarkupManager.GCX_UNIT_SQ_NAUTICAL_MILES;break;case esri.Units.SQUARE_MILLIMETERS:case esri.tasks.GeometryService.UNIT_SQUARE_MILLIMETERS.toString():e=esri.tasks.GeometryService.UNIT_SQUARE_MILLIMETERS;break;case g.measurementMarkupManager.unit.sqYard.longName:case g.measurementMarkupManager.unit.sqYard.shortName:case g.measurementMarkupManager.unit.sqYard.config:case esri.tasks.GeometryService.UNIT_SQUARE_YARDS.toString():case esri.Units.SQUARE_YARDS:e=
esri.tasks.GeometryService.UNIT_SQUARE_YARDS;break;default:e=c||a}return e};m.addGraphicToLayer=function(a,c,e){return a?(c=this.getGraphicsLayer(c,!0,e),c.add(a),c.visible||c.setVisibility(!0),!0):!1};m.getGraphicsLayer=function(a,c,e){var b=e.map.getLayer(a);!b&&c&&(b=new esri.layers.GraphicsLayer,b.id=a,e.map.addLayer(b));return b};m.getLabelSize=function(b,d,f,g){for(var h=!0,m=null,p=(e.test(b)?b.match(e).length:0)+1,v=l(b),u=0,r=0;v&&r<v.length;r++){for(var t=b.length,w=0,B=0;B<t;B++){var z=
v[r].charAt(B),z=" "===z?".":z;if(!c.hasOwnProperty(z)){h?(h=document.getElementById(g+"_layer"),m=document.createElementNS("http://www.w3.org/2000/svg","text"),m.setAttributeNS(null,"font-size",f),m.setAttributeNS(null,"font-family",d),m.setAttributeNS(null,"visibility","hidden"),m.textContent=z,h.appendChild(m),h=!1):m.textContent=z;var C=m.getBBox();a=null===a?C.height:a;c[z]=m.getComputedTextLength()}z=c[z];w+=z}w>u&&(u=w)}return{width:Math.ceil(u),height:Math.ceil(a*p)}};m.getRenderedLineSegmentLength=
function(a){if(!a||!a.mapPointStart||!a.mapPointEnd)return null;var c=g.measurementMarkupManager.app.map.toScreen(a.mapPointStart),e=g.measurementMarkupManager.app.map.toScreen(a.mapPointEnd);a=Math.abs(e.x-c.x);c=Math.abs(e.y-c.y);return Math.sqrt(a*a+c*c)};m.plotPointOnMap=function(a,c,e,b){var f=new esri.Graphic;new dojo.Color(c);f.geometry=a;f.symbol=d.essentialsHtmlViewer.mapping.infrastructure.SymbolUtils.defaultMarkerSymbol();f.symbol.setColor(new esri.Color(c));this.addGraphicToLayer(f,e,
b)};m.addHighlightedLabelToMap=function(a,c,d,l,m,p,y,v,u,r,t,w,B,z,C,D){void 0===p&&(p=!1);void 0===y&&(y=0);void 0===v&&(v=0);void 0===u&&(u="Arial");void 0===r&&(r="12px");void 0===t&&(t=new esri.Color("white"));void 0===w&&(w=new esri.Color("black"));void 0===B&&(B=null);void 0===z&&(z=0);void 0===C&&(C=0);void 0===D&&(D=!1);var F={};F.layerId=l;F.mapPoint=c;F.text=a;F.labelXoffset=y;F.labelYoffset=v;F.fontFamily=u;F.fontSize=r;F.cornerRadius=z;F.angle=C;F.anchor=f.infrastructure.highlightedLabel.HighlightedLabelAnchor.MIDDLE;
F.textColor=t;F.highlightColor=w;F.highlightOutlineSymbol=B;l=!1;e.test(a)&&a.match(e);b?(b.textGraphics&&0<b.textGraphics.length&&b.textGraphics[0].getLayer()&&b.highlightGraphic.getLayer()&&(l=!0),b.isVisible()&&b.hide()):p&&(F.anchor=f.infrastructure.highlightedLabel.HighlightedLabelAnchor.BOTTOM_LEFT,b=new g.HighlightedMeasurementLabel(F,m));p?(m=b,m.update(c,a)):m=new g.HighlightedMeasurementLabel(F,m);!p&&d&&m.assignMeasurementId(d);if(!p||p&&!l)m.addToMapGraphicLayer(),p||g.measurementMarkupManager.addedMapGraphics.push(m);
D?m.show():m.hide();return m};m.getTextLines=l;m.svgRoundedRectanglePath=function(a,c,e){return"M0,0h"+(a-e)+"a"+e+","+e+" 0 0 1 "+e+","+e+"v"+(c-2*e)+"a"+e+","+e+" 0 0 1 "+-e+","+e+"h"+(e-a)+"a"+e+","+e+" 0 0 1 "+-e+","+-e+"v"+(2*e-c)+"a"+e+","+e+" 0 0 1 "+e+","+-e+"z"};m.refreshHighlightSymbolSize=function(a,c,e,b){void 0===e&&(e="Arial");void 0===b&&(b="12px");e=this.getLabelSize(a,e,b);b=0.5*e.height;a=e.width+b;e=e.height+b;c&&(c.setStyle("STYLE_PATH"),c.setPath("M0,0h"+a+"v"+e+"h-"+a+"z"));
return c};m.convertLength=function(a,c,e){var b=0;switch(c){case esri.tasks.GeometryService.UNIT_METER:b=3.280839895013*a;break;case esri.tasks.GeometryService.UNIT_KILOMETER:b=3280.839895013123*a;break;case esri.tasks.GeometryService.UNIT_STATUTE_MILE:b=5280*a;break;case esri.tasks.GeometryService.UNIT_NAUTICAL_MILE:b=6076.12*a;break;case g.measurementMarkupManager.GCX_UNIT_YARDS:b=3*a;break;default:b=a}switch(e){case esri.tasks.GeometryService.UNIT_METER:return b/3.280839895013;case esri.tasks.GeometryService.UNIT_KILOMETER:return b/
3280.839895013123;case esri.tasks.GeometryService.UNIT_STATUTE_MILE:return b/5280;case esri.tasks.GeometryService.UNIT_NAUTICAL_MILE:return b/6076.12;case g.measurementMarkupManager.GCX_UNIT_YARDS:return b/3;default:return b}};m.convertArea=function(a,c,e){var b=0;switch(c){case esri.tasks.GeometryService.UNIT_SQUARE_METERS:b=10.76391041670891*a;break;case esri.tasks.GeometryService.UNIT_SQUARE_KILOMETERS:b=1.076391041670972E7*a;break;case esri.tasks.GeometryService.UNIT_SQUARE_MILES:b=27878400*a;
break;case esri.tasks.GeometryService.UNIT_SQUARE_YARDS:b=9*a;break;case esri.tasks.GeometryService.UNIT_ACRES:b=43560*a;break;case esri.tasks.GeometryService.UNIT_HECTARES:b=107639*a;break;case g.measurementMarkupManager.GCX_UNIT_SQ_NAUTICAL_MILES:b=3.69192342544E7*a;break;default:b=a}switch(e){case esri.tasks.GeometryService.UNIT_SQUARE_METERS:return b/10.76391041670891;case esri.tasks.GeometryService.UNIT_SQUARE_KILOMETERS:return b/1.076391041670972E7;case esri.tasks.GeometryService.UNIT_SQUARE_MILES:return b/
27878400;case g.measurementMarkupManager.GCX_UNIT_SQ_NAUTICAL_MILES:return b/3.69192342544E7;case esri.tasks.GeometryService.UNIT_SQUARE_YARDS:return b/9;case esri.tasks.GeometryService.UNIT_ACRES:return b/43560;case esri.tasks.GeometryService.UNIT_HECTARES:return b/107639;default:return b}}})(g.MeasurementUtils||(g.MeasurementUtils={}))})(g.measurement||(g.measurement={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(l){function b(a,c){var e=this;l.call(this,a,c);this.mapMouseHoverToken=this.keyDownHandlerToken=this.drawEndHandlerToken=this.clickHandlerToken=null;this._toolSuspended=!1;this.app.command("_suspendMeasurementToolIfActive").register(this,function(){g.measurementMarkupManager._toolActive?e._drawIsActive&&e._drawObject&&(e._toolSuspended=!0,e._drawObject.deactivate()):e.app.command("ClearActiveTool").execute()});this.app.command("_resumeMeasurementToolIfSuspended").register(this,
function(){e._toolSuspended&&e._drawObject&&(e._toolSuspended=!1,e._drawObject.activate(esri.toolbars.Draw[e.drawMode]))})}__extends(b,l);b.prototype.onActivated=function(){var a=this;if(this.drawMode!==f.infrastructure.tools.DrawMode.POLYLINE&&this.drawMode!==f.infrastructure.tools.DrawMode.POLYGON)return l.prototype.onActivated.call(this);if(!this._drawObject){this._drawObject=this.app.accessibilityManager.createComponent("geocortex.accessibility.draw",this.app.map,{enableEditing:!1});this._drawObject.setFillSymbol(new esri.symbol.SimpleFillSymbol(esri.symbol.SimpleFillSymbol.STYLE_SOLID,
new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color([0,0,0,0.8]),2),new esri.Color([0,0,0,0.25])));this._drawObject.setLineSymbol(new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color([0,0,0,0.8]),2));this._drawObject.setRespectDrawingVertexOrder(!0);var c=null,e=function(a){c.executeDrawEnd(a);c=null},b=function(c){if(27===c.which||27===c.keyCode)a.isSticky?(a.onDeactivated(),a.onActivated()):a.setActive(!1)};this.clickHandlerToken&&
this.drawEndHandlerToken||(this.clickHandlerToken=this.app.event("GraphicVertexAddedEvent").subscribe(this,function(e){if(e&&e.sender===a._drawObject){if(!c||c._drawEndInvoked)c=new g.MeasurementOperation(a);c.plotPoint(e)}}),this.drawEndHandlerToken=dojo.aspect.after(this._drawObject,"onDrawEnd",e,!0));this.keyDownHandlerToken||(this.keyDownHandlerToken=this.app.map.on("key-down",b));this._drawObject instanceof d.essentialsHtmlViewer.mapping.infrastructure.accessibility.Draw&&!this._inputMethodChangeHandle&&
(this._inputMethodChangeHandle=dojo.aspect.after(this._drawObject,"onInputMethodChange",dojo.hitch(this,"onInputMethodChange"),!0))}this._drawIsActive&&(this._drawObject.deactivate(),this._drawIsActive=!1);if(!this.app.map.graphics)return setTimeout(function(){g.measurementMarkupManager._reportStatus("language-measurement-null-graphics-error","alert",!0)},0),!1;this.mapMouseHoverToken=this.app.event("MapMouseHoverEvent").subscribe(this,this.onMapMouseHover);this._drawObject.activate(esri.toolbars.Draw[this.drawMode]);
this._drawIsActive=!0;return g.measurementMarkupManager._toolActive=!0};b.prototype.onDeactivated=function(){l.prototype.onDeactivated.call(this);this.clickHandlerToken&&(this.app.event("GraphicVertexAddedEvent").unsubscribe(this.clickHandlerToken),this.clickHandlerToken=null);this.drawEndHandlerToken&&(this.drawEndHandlerToken.remove(),this.drawEndHandlerToken=null);this.keyDownHandlerToken&&(this.keyDownHandlerToken.remove(),this.keyDownHandlerToken=null);this._inputMethodChangeHandle&&(this._inputMethodChangeHandle.remove(),
this._inputMethodChangeHandle=null);this.mapMouseHoverToken&&(this.app.event("MapMouseHoverEvent").unsubscribe(this.mapMouseHoverToken),this.mapMouseHoverToken=null);g.measurementMarkupManager.deactivatePredictiveMeasurements();g.measurementMarkupManager.measurementInProgress.get()&&g.measurementMarkupManager.measurementInProgress.set(!1);this.isSticky?this.app.command("_clearMeasurementMarkup").execute("temporary",!0):g.measurementMarkupManager._currentGeometryInProcess&&!g.measurementMarkupManager._currentGeometryInProcess.graphic&&
g.measurementMarkupManager.destroyDescriptor(g.measurementMarkupManager._currentGeometryInProcess.id);this._drawObject&&delete this._drawObject;g.measurementMarkupManager._toolActive=!1};b.prototype.executeToolCommand=function(a,c,e){if(this.command){var b=this.app.command(this.command);b.canExecute(a)?b.execute(a,function(a){c&&c(a)},function(a){g.measurementMarkupManager._reportStatus("Execute Tool Command Error - Measurement Tools: {0}","error",!1,[a]);e&&e(a)}):g.measurementMarkupManager._reportStatus("Could not invoke command '{0}' for tool '{1}'.",
"error",!0,[this.name,this.command])}};b.prototype._onDrawCompletedError=function(a){g.measurementMarkupManager._reportStatus("Measurement Tool - Error on Draw Complete: {0}","error",!0,[a])};b.prototype.onDrawCompleted=function(a,c,e,b){var d=this,f=function(a){e&&e(a)},l=function(a,c){b&&(c?b(Error(c)):b(a))};if(a instanceof esri.geometry.Polygon)if(c.type===g.DescriptorType.POLYGON){var m=c._lineSegments,p=m[m.length-1].mapPointEnd,m=m[0].mapPointStart;p.x!==m.x||p.y!==m.y?(a=g.measurementMarkupManager.createDescriptor(g.DescriptorType.LINE_SEGMENT,
a.spatialReference),a.id=c.id,a.setStartPt(p),a.setEndPt(m),this.executeToolCommand(a,function(a){c.addSegment(a);d.executeToolCommand(c,f,l)},l)):this.executeToolCommand(c,f,l)}else l(null,"Measurement Tools: onDrawCompleted - Descriptor type mismatch");else a instanceof esri.geometry.Polyline?c.type===g.DescriptorType.POLYLINE?this.executeToolCommand(c,f,l):l(null,"Measurement Tools: onDrawCompleted - Descriptor type mismatch"):l(null,"Only Polygon and Polyline geometries supported")};return b}(d.essentialsHtmlViewer.mapping.infrastructure.tools.MapTool);
g.MeasurementTool=m})(g.measurement||(g.measurement={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(l){function b(a,c){l.call(this,a,c);this.measurementMarkupLayerId=this.markupLayerId=null;this.measurementGraphicId=0;this._textOffset=this._textSize=this._highlightRadius=this._lineDescriptionFormat=this._totalMeasurementOutlineWidth=this._totalMeasurementOutlineColor=this._totalMeasurementHighlightColor=this._totalMeasurementTextColor=this._outlineWidth=this._outlineColor=this._highlightColor=this._textColor=this._fillColor=
this._lineColor=null;this._count=-1;this._measurementLayer=this._markupLayer=null;this._currentMarkupSegmentGraphics=[];this._temporaryMarkupSegmentGraphics=[];this._isRestoringState=!1;this._labelSizeAdjustmentFactor=1.25;this._defaultOutlineWidth=this._defaultTextOffset=0;this._defaultHighlightRadius=5;this._flipLabelThreshold=1E3}__extends(b,l);b.prototype.initialize=function(a){var c=this;a=a||{};this.markupLayerId=a.markupLayerName?a.markupLayerName:"Drawings";this._lineColor=a.lineColor?new esri.Color(a.lineColor):
null;this._fillColor=a.fillColor?new esri.Color(a.fillColor):null;this._textColor=a.textColor?new esri.Color(a.textColor):null;this._highlightColor=a.highlightColor?new esri.Color(a.highlightColor):null;this._outlineColor=a.outlineColor?new esri.Color(a.outlineColor):null;this._outlineWidth=void 0!=a.outlineWidth?parseFloat(a.outlineWidth):this._defaultOutlineWidth;this._totalMeasurementTextColor=a.totalMeasurementTextColor?new esri.Color(a.totalMeasurementTextColor):null;this._totalMeasurementHighlightColor=
a.totalMeasurementHighlightColor?new esri.Color(a.totalMeasurementHighlightColor):null;this._totalMeasurementOutlineColor=a.totalMeasurementOutlineColor?new esri.Color(a.totalMeasurementOutlineColor):null;this._totalMeasurementOutlineWidth=void 0!=a.totalMeasurementOutlineWidth?parseFloat(a.totalMeasurementOutlineWidth):this._defaultOutlineWidth;this._lineDescriptionFormat=a.lineDescriptionFormat?a.lineDescriptionFormat:"{0}";this._highlightRadius=void 0!=a.highlightRadius?parseInt(a.highlightRadius):
this._defaultHighlightRadius;this._textSize=a.textSize?a.textSize:"12px";this._textOffset=void 0!=a.textOffset?parseInt(a.textOffset):this._defaultTextOffset;this._textAboveMarkup=void 0!=a.textAboveMarkup?a.textBelowMarkup:!1;this._flipLabelThreshold=void 0!=a.disablePolygonLabelFlipThreshold?parseInt(a.disablePolygonLabelFlipThreshold):1E3;this.addMarkupToMap=new Observable(a.addMarkupToMapByDefault||!1);this.measurementMarkupLayerId=this.markupLayerId+"_measurement";g.measurementMarkupManager._setLayerIds(this.markupLayerId,
this.measurementMarkupLayerId);g.measurementMarkupManager._setMapTipPresentation(this._totalMeasurementTextColor,this._totalMeasurementHighlightColor,this._totalMeasurementOutlineColor,this._totalMeasurementOutlineWidth,this._highlightRadius,this._textSize);this._textFont=new esri.symbol.Font;this._textFont.setSize(this._textSize);this._textFont.setFamily("Arial");this.lengthUnits=new ObservableCollection([g.measurementMarkupManager.unit.feet.longName,g.measurementMarkupManager.unit.yard.longName,
g.measurementMarkupManager.unit.meter.longName,g.measurementMarkupManager.unit.kilometer.longName,g.measurementMarkupManager.unit.mile.longName,g.measurementMarkupManager.unit.nauticalMile.longName]);this.areaUnits=new ObservableCollection([g.measurementMarkupManager.unit.sqFeet.longName,g.measurementMarkupManager.unit.sqYard.longName,g.measurementMarkupManager.unit.sqMeter.longName,g.measurementMarkupManager.unit.sqKilometer.longName,g.measurementMarkupManager.unit.sqMile.longName,g.measurementMarkupManager.unit.sqNauticalMile.longName,
g.measurementMarkupManager.unit.acre.longName,g.measurementMarkupManager.unit.hectare.longName]);this.selectedAreaUnits=new Observable(g.MeasurementUtils.getUnitString(g.measurementMarkupManager._areaUnitString,!0));this.selectedAreaUnitShort=new Observable(g.MeasurementUtils.getUnitString(g.measurementMarkupManager._areaUnitString));this.selectedLengthUnits=new Observable(g.MeasurementUtils.getUnitString(g.measurementMarkupManager._lengthUnitString,!0));this.selectedLengthUnitShort=new Observable(g.MeasurementUtils.getUnitString(g.measurementMarkupManager._lengthUnitString));
this.measurementInProgress=new Observable(!1);this.descriptorContainerEmpty=new Observable(!0);this.lengthSwitcherSelected=new Observable(!0);this.eraseActive=new Observable(!1);this.measurementInProgress.sync(g.measurementMarkupManager.measurementInProgress);this.descriptorContainerEmpty.sync(g.measurementMarkupManager.descriptorContainerEmpty);this.selectedAreaUnits.bind(this,function(a){c._isRestoringState||c.app.command("SetMeasurementUnits").execute(c.selectedLengthUnits.get(),a);c.selectedAreaUnitShort.set(g.MeasurementUtils.getUnitString(g.measurementMarkupManager._areaUnitString))});
this.selectedLengthUnits.bind(this,function(a){c._isRestoringState||c.app.command("SetMeasurementUnits").execute(a,c.selectedAreaUnits.get());c.selectedLengthUnitShort.set(g.MeasurementUtils.getUnitString(g.measurementMarkupManager._lengthUnitString))});this.addMarkupToMap.bind(this,function(a){a?(c._currentMarkupSegmentGraphics=c._temporaryMarkupSegmentGraphics.slice(0),c._temporaryMarkupSegmentGraphics=[]):(c._temporaryMarkupSegmentGraphics=c._currentMarkupSegmentGraphics.slice(0),c._currentMarkupSegmentGraphics=
[])});this._registerCommands()};b.prototype._registerCommands=function(){var a=this;this.app.command("DeleteMeasurement").register(this,this._executeDeleteMeasurementCommand,this._canExecuteDeleteMeasurementCommand);this.app.command("_addLineSegmentMeasurementMarkup").register(this,this._executeAddLineSegmentMeasurementMarkup,this._canExecuteAddMarkup);this.app.command("_addCompletedGeometryMeasurementMarkup").register(this,this._executeAddCompletedGeometryMeasurementMarkup,this._canExecuteAddMarkup);
this.app.command("_addGeometryMarkup").register(this,this._executeAddGeometryMarkup,this._canExecuteAddMarkup);this.app.command("_clearMeasurementMarkup").register(this,this._executeClearMeasurementMarkup);this.app.command("_applyMeasurementUnits").register(this,function(c,e){a._isRestoringState=!0;a.selectedLengthUnits.set(g.MeasurementUtils.getUnitString(c,!0));a.selectedAreaUnits.set(g.MeasurementUtils.getUnitString(e,!0));a._isRestoringState=!1})};b.prototype._canExecuteAddMarkup=function(a){this._markupLayer&&
this._measurementLayer||(this._markupLayer=g.MeasurementUtils.getGraphicsLayer(this.markupLayerId,!0,this.app),this._measurementLayer=g.MeasurementUtils.getGraphicsLayer(this.measurementMarkupLayerId,!0,this.app),this._markupLayer&&this._measurementLayer&&(g.measurementMarkupManager._measurementLayersCreated=!0));return!!(a&&a.geometry&&this._markupLayer&&this._measurementLayer)};b.prototype._canExecuteDeleteMeasurementCommand=function(a){return!!a};b.prototype._executeAddGeometryMarkup=function(a){a.type===
g.DescriptorType.POLYGON?(this._fillColor&&(a.graphicSymbol.setColor(this._fillColor),a.graphicSymbol.color.a=0.4),this._lineColor&&a.graphicSymbol.outline.setColor(this._lineColor)):this._lineColor&&a.graphicSymbol.setColor(this._lineColor);var c=a.addToMap(this.markupLayerId);this.app.command("EditMarkup").raiseCanExecuteChanged();this.app.command("DeleteMarkup").raiseCanExecuteChanged();this.app.command("ClearMarkup").raiseCanExecuteChanged();this.app.command("ExportMarkupLayer").raiseCanExecuteChanged();
a.type===g.DescriptorType.LINE_SEGMENT?this._temporaryMarkupSegmentGraphics.push(c):this.addMarkupToMap.get()?this._currentMarkupSegmentGraphics.push(c):this._temporaryMarkupSegmentGraphics.push(c)};b.prototype._executeAddLineSegmentMeasurementMarkup=function(a,c,e){if(!a||!a.geometry)this._tryErrorCallback(e,Error("LineSegment or geometry not defined"));else if(a.isActive&&(this.addMarkupToMap.get()||g.measurementMarkupManager._currentGeometryInProcess&&g.measurementMarkupManager._currentGeometryInProcess.id===
a.id)){e=g.measurementMarkupManager.formatMeasurement(a.length,g.measurementMarkupManager.measurementFractionalDigits)+" "+a.unitStr;var b=f.infrastructure.coordinates.CoordinateUtils.formatAngle(a.getAngle(),g.measurementMarkupManager.degreeFormat,this.app,g.measurementMarkupManager.coordinateFractionalDigits);e=this._lineDescriptionFormat.format(e,b,a.getQuadrantBearing());this._setLineSegmentSymbols(a);var b=a.getAngleDegree(),d=a.getLabelLocation();a.highlightedLabelGraphic=g.MeasurementUtils.addHighlightedLabelToMap(e,
d,null,this.measurementMarkupLayerId,this.app,!1,this._textOffset,this._textOffset,this._textFont.family,this._textSize,this._textColor,this._highlightColor,0<this._outlineWidth?new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,this._outlineColor,this._outlineWidth):null,this._highlightRadius,b);a.showLabel=a.highlightedLabelGraphic.getWidth()*this._labelSizeAdjustmentFactor<g.MeasurementUtils.getRenderedLineSegmentLength(a)?!0:!1;a.showLabel&&!a.highlightedLabelGraphic.isVisible()&&
a.highlightedLabelGraphic.show();c&&c(a)}};b.prototype._executeAddCompletedGeometryMeasurementMarkup=function(a,c,e){var b=null;if(a&&a.isActive&&(this.addMarkupToMap.get()||g.measurementMarkupManager._currentGeometryInProcess&&g.measurementMarkupManager._currentGeometryInProcess.id===a.id)){switch(a.type){case g.DescriptorType.POLYGON:e=a.geometry;b=(b=e.getExtent())?b.getCenter():null;!e.contains(b)&&a.simplifiedGeometry&&(b=a.simplifiedGeometry.getCentroid()||b);a.labelStr=this.app.getResource(g.measurementMarkupManager.libraryId,
"language-measurement-polygon-final-markup-label").format(g.measurementMarkupManager.formatMeasurement(a.area,g.measurementMarkupManager.measurementFractionalDigits),a.areaUnitStr,g.measurementMarkupManager.formatMeasurement(a.length,g.measurementMarkupManager.measurementFractionalDigits),a.unitStr);this.app.command("LogOptimizerEvent").execute("MeasureAreaTool","MeasureArea");break;case g.DescriptorType.POLYLINE:a.labelStr=this.app.getResource(g.measurementMarkupManager.libraryId,"language-measurement-polyline-final-markup-label").format(g.measurementMarkupManager.formatMeasurement(a.length,
g.measurementMarkupManager.measurementFractionalDigits),a.unitStr);b=a._lineSegments[a._lineSegments.length-1].mapPointEnd;this.app.command("LogOptimizerEvent").execute("MeasureDistanceTool","MeasureDistance");break;default:this._tryErrorCallback(e,Error("Invalid Geometry Descriptor"))}a.highlightedLabelGraphic=g.MeasurementUtils.addHighlightedLabelToMap(a.labelStr,b,a.id,this.measurementMarkupLayerId,this.app,!1,this._textOffset,this._textOffset,"Arial",this._textSize,this._totalMeasurementTextColor,
this._totalMeasurementHighlightColor,0<this._totalMeasurementOutlineWidth?new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,this._totalMeasurementOutlineColor,this._totalMeasurementOutlineWidth):null,this._highlightRadius,0,!0);g.measurementMarkupManager.measurementCompleted();a.setInactive();this.app.event("MeasurementMarkupAdded").publish({graphic:a.graphic,measurementDescriptor:a});c&&c(a)}};b.prototype._executeDeleteMeasurementCommand=function(a){var c=this;d.essentialsHtmlViewer.mapping.infrastructure.GraphicUtils.deleteMarkup(a,
[this.markupLayerId,this.measurementMarkupLayerId],this.app,function(a){if(a&&a.length)for(var b=0;b<a.length;b++)a[b].hasOwnProperty("measurementId")&&g.measurementMarkupManager.destroyDescriptor(a[b].measurementId);a=c.app.toolRegistry.getActiveTool();g.measurementMarkupManager.descriptorContainerEmpty.get()&&a&&"DeleteMeasurementTool"===a.name&&c.app.command("ClearActiveTool").execute()},!0,"language-measurement-erase-multiple-prompt","language-measurement-erase-multiple-prompt-title",this.libraryId);
this.app.command("LogOptimizerEvent").execute("DeleteMeasurementTool","DeleteMeasurement")};b.prototype._executeClearMeasurementMarkup=function(a,c){var e=this;if("all"===a){var b=this.app.getResource(this.libraryId,"language-measurement-clear-all-prompt"),d=this.app.getResource(this.libraryId,"language-measurement-clear-all-prompt-title");this.app.command("StopEditingMarkup").execute();this.app.command("Confirm").execute(b,d,function(b){b&&e._clearMarkup(a,c)})}else this._clearMarkup(a,c)};b.prototype._clearMarkup=
function(a,c){void 0===a&&(a="all");void 0===c&&(c=!1);switch(a){case "all":g.measurementMarkupManager.destroyAllDescriptors();this.app.command("LogOptimizerEvent").execute("ClearMeasurementTool","ClearAllMeasurements");break;case "temporary":for(var e=0;e<this._temporaryMarkupSegmentGraphics.length;e++){var b=this._temporaryMarkupSegmentGraphics[e];b&&b.measurementId&&g.measurementMarkupManager.destroyDescriptor(b.measurementId)}break;case "current":for(e=0;e<this._currentMarkupSegmentGraphics.length;e++)(b=
this._currentMarkupSegmentGraphics[e])&&b.measurementId&&g.measurementMarkupManager.destroyDescriptor(b.measurementId)}g.measurementMarkupManager._currentGeometryInProcess&&!g.measurementMarkupManager._currentGeometryInProcess.graphic&&g.measurementMarkupManager.destroyDescriptor(g.measurementMarkupManager._currentGeometryInProcess.id);if("temporary"===a||"all"===a||c)this._temporaryMarkupSegmentGraphics=[];if("current"===a||"all"===a||c)this._currentMarkupSegmentGraphics=[]};b.prototype._setLineSegmentSymbols=
function(a){a.graphicSymbol||(a.graphicSymbol=d.essentialsHtmlViewer.mapping.infrastructure.SymbolUtils.defaultLineSymbol(),this._lineColor&&a.graphicSymbol.setColor(this._lineColor))};b.prototype._tryErrorCallback=function(a,c){a&&a(c)};return b}(d.framework.ui.ViewModelBase);g.MeasurementViewModel=m})(g.measurement||(g.measurement={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){var g=function(b){function a(){b.apply(this,arguments);this.clearDisabled=new Observable(!0);this.changeStyleDisabled=new Observable(!0);this.markupCounter=new Observable(0);this.deleteToggled=new Observable(!1);this.editToggled=new Observable(!1);this.previousTool=null}__extends(a,b);a.prototype.initialize=function(a){b.prototype.initialize.call(this,a);this.markupCounter.bind(this,this.evaluateMarkupCounter);this.registerEventsClearDisabled();
this.registerEventsChangeStyleDisabled()};a.prototype.registerEventsChangeStyleDisabled=function(){var a=this;this.app.event("ActiveToolChangedEvent").subscribe(this,function(e){var b=null,d=null;e.tool&&(b=e.tool.name);e.previousTool&&(d=e.previousTool.name);a.isMarkupTool(d)&&a.changeStyleDisabled.set(!0);a.isMarkupTool(b)&&a.changeStyleDisabled.set(!1)});this.app.event("MarkupEditingStartedEvent").subscribe(this,function(){a.changeStyleDisabled.set(!1)});this.app.event("MarkupEditingStoppedEvent").subscribe(this,
function(){a.changeStyleDisabled.set(!0)})};a.prototype.registerEventsClearDisabled=function(){var a=this;this.app.event("MarkupAddedEvent").subscribe(this,function(){a.markupCounter.set(a.markupCounter.get()+1)});this.app.event("MeasurementMarkupAdded").subscribe(this,function(){a.markupCounter.set(a.markupCounter.get()+1)});this.app.event("MarkupDeletedEvent").subscribe(this,function(e){e.measurementId||a.markupCounter.set(a.markupCounter.get()-1)});this.app.event("MeasurementMarkupDeleted").subscribe(this,
function(e){e.graphic&&e.graphic.measurementId&&a.markupCounter.set(a.markupCounter.get()-1)});this.app.event("MarkupClearedEvent").subscribe(this,function(){a.markupCounter.set(0)})};a.prototype.evaluateMarkupCounter=function(){if(0<this.markupCounter.get())this.clearDisabled.set(!1);else{var a=this.app.toolRegistry.getActiveTool();a&&"DeleteMarkupTool"===a.name&&this.app.command("ClearActiveTool").execute();this.clearDisabled.set(!0)}};a.prototype.isMarkupTool=function(a){var e=this.app.getFrameworkObjectById("MarkupViewModel").markupTools;
return-1!=$.inArray(a,e.point)||-1!=$.inArray(a,e.polyline)||-1!=$.inArray(a,e.polygon)||-1!=$.inArray(a,e.text)?!0:!1};return a}(d.framework.ui.ViewModelBase);f.TransientMarkupPaletteViewModel=g})(f.toolPalettes||(f.toolPalettes={}))})(f.markup||(f.markup={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);this.app.menuRegistry.loadMenus(a)};return b}(d.framework.application.ModuleBase);f.MenuModule=g})(f.Menu||(f.Menu={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.handleTakeNativePhotoCamera=function(a,c,e){this.viewModel._handlePhotoFromNativeApp(!0)};b.prototype.handleTakeNativePhotoGallery=function(a,c,e){this.viewModel._handlePhotoFromNativeApp(!1)};b.prototype.handleSelectedFileInput=function(a,c,e){this.viewModel._handleFileFromBrowser(a.currentTarget.files[0])};b.prototype.clearFileInputField=function(){this.uploadFormElement.reset()};
return b}(d.framework.ui.ViewBase);f.AttachFileView=g})(f.nativeIntegration||(f.nativeIntegration={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,c){f.call(this,a,c);this.feature=new Observable(null);this.esriFeature=new Observable(null);this.esriFeatureLayer=new Observable(null);this.isUploading=new Observable(!1);this._attachFileViewId=null;this._canEditOffline=!1;this.browserFileAPISupported=new Observable(this._fileApiSupported());this.deviceCordovaSupported=new Observable(this._cordovaSupported());this.app.command("AttachFileToFeature").register(this,
this._executeAttachFile,this._canExecuteAttachFile)}__extends(b,f);b.prototype.initialize=function(a){var c=this;f.prototype.initialize.call(this,a);this._attachFileViewId=a.attachFileViewId;this.app.nativeManager.hasNativeCapability("editing").then(function(a){c._canEditOffline=a})};b.prototype._fileApiSupported=function(){return this._isFileInputSupported()&&window.File&&window.FileReader};b.prototype._cordovaSupported=function(){return navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry)/)&&
navigator.camera&&"undefined"!==typeof navigator.camera.getPicture?!0:!1};b.prototype._handleFileFromBrowser=function(a){var c=this;this.isUploading.set(!0);var e=new FileReader;e.onload=function(e){e={data:decodeURIComponent(e.target.result.substring(e.target.result.indexOf("base64,")+7)),fileName:a.name,fileType:a.type};c._handleReceiveFileData(e,function(a){c._handleCallback.call(c,a)})};e.readAsDataURL(a)};b.prototype._handlePhotoFromNativeApp=function(a){var c=this;navigator.camera?navigator.camera.getPicture(function(a){setTimeout(function(){c._handleReceiveFileData({data:a},
function(a){c._handleCallback.call(c,a)})},0)},function(a){},{quality:60,sourceType:a?window.Camera.PictureSourceType.CAMERA:window.Camera.PictureSourceType.PHOTOLIBRARY,destinationType:"undefined"!==typeof window.Camera&&window.Camera.DestinationType?window.Camera.DestinationType.DATA_URL:1,correctOrientation:!0}):this._reportStatus("language-native-no-photo-no-camera-detected")};b.prototype._handleReceiveFileData=function(a,c){this.feature.get()&&this.feature.get().esriFeature.get()&&this.feature.get().esriFeature.get().getLayer()&&
this.feature.get().esriFeature.get().getLayer()instanceof esri.layers.FeatureLayer&&this.feature.get().esriFeature.get().getLayer().isEditable()&&this.feature.get().esriFeature.get().getLayer().hasAttachments||this._resolveFeature(this.feature.get());var e=this.esriFeature.get(),b=this.esriFeatureLayer.get();if(this.esriFeature.get()&&this.esriFeatureLayer.get()){var d=null;b&&b.url?d=b.url:b._essentialsMetadata&&(d=b._essentialsMetadata.serviceUrl);d?(e={feature:e,layer:b,featureUrl:d,filename:this._formatAttachmentName(a.fileName),
contentType:a.fileType||"image/jpeg",payload:a.data,callback:c},this.app.command("CreateAttachment").execute(e)):this._reportStatus("language-native-feature-no-layer-url")}else this._reportStatus("language-native-feature-no-layer")};b.prototype._formatAttachmentName=function(a){var c=new Date,e=a?a.substr(0,a.lastIndexOf(".")):"image";a=a?a.substr(a.lastIndexOf(".")+1):"jpg";return"{0}-{1}.{2}.{3}-{4}-{5}-{6}.{7}".format(e,c.getHours(),c.getMinutes(),c.getSeconds(),c.getDate(),c.getMonth()+1,c.getFullYear(),
a)};b.prototype._handleCallback=function(a){var c={};try{c=JSON.parse(a.currentTarget.response).error}catch(e){c.message=a.currentTarget&&a.currentTarget.statusText?a.currentTarget.statusText:this.app.getResource(this.libraryId,"language-native-internal-server-error")}c&&c.message?this._reportStatus("language-native-file-upload-failed",c.message):(this._reportStatus("language-native-file-upload-success"),this.app.event("FeatureAttachmentAddedEvent").publish(this.feature.get()))};b.prototype._executeAttachFile=
function(a){this._resolveFeature(a);this.app.command("HideFeatureTemplatePicker").execute();this.esriFeature.get()&&this.esriFeatureLayer.get()?this.app.command("ActivateView").execute(this._attachFileViewId):this._reportStatus("language-native-feature-no-layer")};b.prototype._canExecuteAttachFile=function(a){if(a&&(this._resolveFeature(a,!1),this.esriFeature.get()&&this.esriFeatureLayer.get())){var c=this.esriFeatureLayer.get();if((a=this.app.site.essentialsMap.mapServices.filter(function(a){return a.serviceLayer===
c})[0])&&a.canAddAttachments){if(this.app.isOffline.get()){if(!this._canEditOffline)return!1;if(10.4<=parseFloat(a.serverVersion))return!0;if(!this.app.offlineManager.syncInfo.findLayerOrTable(a.serviceLayer.url).canAddAttachments)return!1}if(this.browserFileAPISupported.get()||this.deviceCordovaSupported.get())return!0}}return!1};b.prototype._resolveFeature=function(a,c){void 0===c&&(c=!0);var e=null;a.esriFeature&&(e=a.esriFeature.get(),!e.getLayer()&&a.layer&&a.layer.mapService&&a.layer.mapService.serviceLayer&&
(e._graphicsLayer=a.layer.mapService.serviceLayer),e=a.layer||a.featureLayer&&"Table"!=a.featureLayer.type?d.essentialsHtmlViewer.mapping.infrastructure.MapUtils.findFeatureInMap(e,this.app.site):a.esriFeature.get());e?(c&&a.esriFeature.set(e),this.feature.set(a),this.esriFeature.set(e),(e=e.getLayer())&&e.id&&-1!==e.id.indexOf("-explodedClusterLayer")&&(e=this.app.map.getLayer(e.id.replace("-explodedClusterLayer",""))),e&&e.isEditable&&e.isEditable()?this.esriFeatureLayer.set(e):this.esriFeatureLayer.set(null)):
(this.feature.set(null),this.esriFeature.set(null),this.esriFeatureLayer.set(null))};b.prototype._reportStatus=function(a,c){var e=this;this.isUploading.set(!1);var b=this.app.getResource(this.libraryId,a),b=c?b+c:b;this.app.command("Alert").execute(b,null,function(){var a=e.app.viewManager.getViewById(e._attachFileViewId);a&&a.isActive&&(a.clearFileInputField(),e.app.command("DeactivateView").execute(e._attachFileViewId))})};b.prototype._isFileInputSupported=function(){if(navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/))return!1;
var a=document.createElement("input");a.type="file";return!a.disabled};return b}(d.framework.ui.ViewModelBase);f.AttachFileViewModel=g})(f.nativeIntegration||(f.nativeIntegration={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);return b}(d.framework.application.ModuleBase);f.NavigationModule=g})(f.navigation||(f.navigation={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(){f.apply(this,arguments);this.nativeInitialized=!1}__extends(b,f);b.prototype.initialize=function(a){var c=this;(function(a){if("undefined"!==typeof gcxNativeReady)a&&a();else{var c=window.gcxNativeReadyCallback;window.gcxNativeReadyCallback=function(){c&&c();a&&a()}}})(function(){c.nativeInitialized=!0;c.app.isNative.set(!0);d.GeocortexNativeApp.registerNativeEventListener(dojo.hitch(c,c.handleNativeEvent));
c.app.command("NativeHasCapability").register(c,function(a,b){c.app.nativeManager.hasNativeCapability(a).then(function(a){b.apply(c,[a])})});c.app.command("SetNativeTitle").register(c,function(a){d.GeocortexNativeApp.setNativeTitle(a)})});this.app.event("NativeMessageEvent").subscribe(this,this._onNativeMessageEvent)};b.prototype._onNativeMessageEvent=function(a){this.app.trace.debug("Received native event message: "+JSON.stringify(a));if("native ready"===a.type)this.app.localServerAddress=a.parameters.localServerAddress,
this.app.localServerNamespace=a.parameters.localServerNamespace,this.app.localServerToken=a.parameters.localServerToken,this.app.trace.info("Native initialization complete.  Geocortex Mobile Application Framework version: {0}  Local Server Address: {1}  Locale: {2}".format(a.parameters.version,a.parameters.localServerAddress,a.parameters.locale)),this.app.nativeManager.signalNativeInitialized();else if("download"===a.type){var c=a.parameters;a=new d.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(null);
a.timeoutMS=1E4;a.id="native-download-status";"Downloading"===c.state?(a.text=this.getResource("language-native-download-downloading").format(c.fileName,c.progress),this.app.command("AddStatus").execute(a)):"Completed"===c.state?(a.text=this.getResource("language-native-download-complete").format(c.fileName),this.app.command("AddStatus").execute(a)):"Failed"===c.state&&(a.text=this.getResource("language-native-download-failed").format(c.fileName),this.app.command("AddStatus").execute(a));this.app.command("ActivateView").execute(a.id)}else"low memory"===
a.type?(a=new d.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(this.getResource("language-native-low-memory")),a.timeoutMS=3E4,a.id="native-low-memory-status",this.app.command("AddStatus").execute(a),this.app.command("ActivateView").execute(a.id)):"license information"===a.type&&this.app.trace.info("ArcGIS License Level: {0}. Expiry: {1}".format(a.parameters.level,a.parameters.expiry))};b.prototype.handleNativeEvent=function(a){this.app.event("NativeMessageEvent").publish(a)};
return b}(d.framework.application.ModuleBase);f.NativeIntegrationModule=g})(f.nativeIntegration||(f.nativeIntegration={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){function b(a){var c=this;this.appInfo=a;this.extent=a.map.extent;this.layers={};a.mapInfo.getLayerInfos().forEach(function(a){c.layers[a.uniqueId]={visible:a.isVisible(),definitionExpression:a.getDefinitionExpression()}})}b.prototype.restore=function(){var a=this;this.appInfo.map.setExtent(this.extent);this.appInfo.mapInfo.getLayerInfos().forEach(function(c){if(a.layers.hasOwnProperty(c.uniqueId))try{c.setEsriLayerVisibility(a.layers[c.uniqueId].visible),
c.setDefinitionExpression(a.layers[c.uniqueId].definitionExpression)}catch(e){}})};return b}();d.MapState=f})(d.editor||(d.editor={}))})(d.offlineMaps||(d.offlineMaps={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(g){(function(g){var b=function(a){function c(){a.apply(this,arguments)}__extends(c,a);c.prototype.handleTypeRadioClick=function(a,c,b){b.type.set(c.value)};c.prototype.handleEditLevelsClick=function(a,c,b){f.OfflineMapsModule._execCommandFromConfig(this.app,this.configuration.showBasemapsLevelEditorView,{basemap:b})};c.prototype.handleBackClick=function(a,c,b){this.app.command("DeactivateView").execute(this.id)};return c}(d.framework.ui.ViewBase);
g.OfflineMapEditorBasemapsView=b})(g.basemap||(g.basemap={}))})(f.editor||(f.editor={}))})(f.offlineMaps||(f.offlineMaps={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function c(){a.apply(this,arguments)}__extends(c,a);c.prototype.attach=function(c){var b=this;a.prototype.attach.call(this,c);this.viewModel.isEditing.bind(this,function(a){b._getGraphicsLayer().setVisibility(a)});this.viewModel.savingEvent.subscribe(this,function(){b._getGraphicsLayer().setVisibility(!1)});this.viewModel.geometry.bind(this,function(a){var c=b._getGraphicsLayer();c.clear();
if(a){var e=new esri.Graphic;e.setGeometry(a);c.add(e)}})};c.prototype.activated=function(){a.prototype.activated.call(this);this._getGraphicsLayer().setOpacity(1)};c.prototype.deactivated=function(){a.prototype.deactivated.call(this);this._getGraphicsLayer().setOpacity(this.configuration.offViewOpacity);this.app.command("ClearActiveTool").execute()};c.prototype.resolveWidget=function(c,b,d){a.prototype.resolveWidget.call(this,c,b,d);switch(c){case "OfflineMapEditorGeometryActionsWidget":return this.app.menuRegistry.createMenuWidget(this,
b,d)}};c.prototype.handleBackClick=function(a,c,b){this.app.command("DeactivateView").execute(this.id)};c.prototype._getGraphicsLayer=function(){if(this._layer)return this._layer;this._layer=this.app.map.getLayer(this.configuration.geometryLayerId);if(!this._layer){this._layer=new esri.layers.GraphicsLayer;this._layer.id=this.configuration.geometryLayerId;var a=new esri.symbol.SimpleLineSymbol;a.color.setColor(new esri.Color(this.configuration.outlineColor));a.setWidth(this.configuration.outlineWidth);
var c=new esri.symbol.SimpleFillSymbol;c.setColor(new esri.Color(this.configuration.fillColor));c.setOutline(a);a=new esri.renderer.SimpleRenderer(c);this._layer.setRenderer(a);this._layer.setOpacity(this.configuration.offViewOpacity);this.app.map.addLayer(this._layer)}return this._layer};return c}(d.framework.ui.ViewBase);f.OfflineMapEditorGeometryView=b})(f.geometry||(f.geometry={}))})(f.editor||(f.editor={}))})(f.offlineMaps||(f.offlineMaps={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping=
{}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function c(){a.apply(this,arguments)}__extends(c,a);c.prototype.selectAllLayers=function(a,c,b){this.viewModel.layerSelectorViewModel.layerSelector.enableAllLayers()};c.prototype.clearAllLayers=function(a,c,b){this.viewModel.layerSelectorViewModel.layerSelector.disableAllLayers()};c.prototype.handleExpanderClick=function(a,c,b){b.isExpanded.set(!b.isExpanded.get())};c.prototype.handleDefinitionExpressionClick=
function(a,c,b){this.app.command("Prompt").execute(this.getResource("language-offlinemapeditor-layers-lde-title"),this.getResource("language-offlinemapeditor-layers-lde-description"),b.definitionExpression.get(),function(a){"string"===typeof a&&b.definitionExpression.set(a)})};c.prototype.handleBackClick=function(a,c,b){this.app.command("DeactivateView").execute(this.id)};return c}(d.framework.ui.ViewBase);f.OfflineMapEditorLayersView=b})(f.layers||(f.layers={}))})(f.editor||(f.editor={}))})(f.offlineMaps||
(f.offlineMaps={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(g){var l=function(b){function a(a,e){b.call(this,a,e);this.app.command("ShowOfflineMapEditor").register(this,this._onShowOfflineMapEditor);this.app.event("ViewContainerViewClosedEvent").subscribe(this,this._onViewContainerViewClosedEvent)}__extends(a,b);a.prototype._onShowOfflineMapEditor=function(a){this._setTitle(!!a.existingOfflineMap);this.viewModel.startEditing(a);this.app.command("ActivateView").execute(this.id)};a.prototype.activated=
function(){b.prototype.activated.call(this);this.viewModel.calculateIsValid()};a.prototype.handleCancelClick=function(a,e,b){this.viewModel.finishEditing(!0);this.app.command("DeactivateView").execute(this.id)};a.prototype.handleDoneClick=function(a,e,b){var d=this;this.isBusy.set(!0);this.viewModel.finishEditing().then(function(){d.isBusy.set(!1);d.app.command("DeactivateView").execute(d.id)})};a.prototype.handleLayersClick=function(a,e,b){f.OfflineMapsModule._execCommandFromConfig(this.app,this.configuration.showLayersEditor)};
a.prototype.handleGeometryClick=function(a,e,b){f.OfflineMapsModule._execCommandFromConfig(this.app,this.configuration.showGeometryEditor)};a.prototype.handleBasemapsClick=function(a,e,b){f.OfflineMapsModule._execCommandFromConfig(this.app,this.configuration.showBasemapsEditor)};a.prototype.handleSharingClick=function(a,e,b){f.OfflineMapsModule._execCommandFromConfig(this.app,this.configuration.showSharingEditor)};a.prototype._setTitle=function(a){this.configuration.title&&(a=a?this.configuration.title.forExisting:
this.configuration.title.forNew)&&(a.startsWith("@")&&(a=this.app.getResource(this.configuration.title.libraryId?this.configuration.title.libraryId:this.libraryId,a)),this.title.set(a))};a.prototype._onViewContainerViewClosedEvent=function(a){a.viewId===this.id&&this.viewModel.finishEditing(!0)};return a}(d.framework.ui.ViewBase);g.OfflineMapEditorView=l})(f.editor||(f.editor={}))})(f.offlineMaps||(f.offlineMaps={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(m){var l=function(b){function a(a,e){var g=this;b.call(this,a,e);this.savingEvent=new d.framework.events.Event("OfflineMapEditorViewModelSaving");this.isEditing=new Observable(!1);this.loadError=new Observable(null);this.canChange=new Observable(!1);this.name=new Observable("");this.thumbnail=new Observable("");this.basemaps=new ObservableCollection([]);this.geometry=new Observable(null);this.includeAttachments=new Observable(!0);
this.layersChanged=new Observable(!1);this.geometryChanged=new Observable(!1);this.basemapsChanged=new Observable(!1);this.layersText=new Observable("");this.basemapsText=new Observable("");this.hasBasemaps=new Observable(!1);this.hasSharing=new Observable(!1);this.isLayersValid=new Observable(!1);this.isGeometryValid=new Observable(!1);this.isBasemapsValid=new Observable(!1);this.isBasemapsCalculating=new Observable(!1);this.isValid=new Observable(!1);this.layerSelectorViewModel=new m.layers.LayerSelectorViewModel(a,
e);this.layerSelectorViewModel.onEnabledItemsChanged=function(){return g.layersChanged.set(!0)};this.layerSelectorViewModel.onAllLayersEnabled=function(){return g.includeAttachments.set(!0)};this.layerSelectorViewModel.onAllLayersDisabled=function(){return g.includeAttachments.set(!1)};this.layerSelectorViewModel.initialize({});this.layerSelectorViewModel.geometry.sync(this.geometry);this.grantEditorViewModel=new f.infrastructure.documents.GrantEditorViewModel(a,"Mapping.Infrastructure");this.grantEditorViewModel.enabled.sync(this.canChange);
this.name.bind(this,this.calculateIsValid);this.geometry.bind(this,function(){return g.geometryChanged.set(!0)});this.app.command("SetOfflineMapEditorGeometry").register(this,function(a){a&&"extent"===a.type&&(a=d.essentials.GeometryUtilities.envelopeToPolygon(a));a&&"polygon"!==a.type?g.app.trace.error("SetOfflineMapEditorGeometry does not support geometry type '"+a.type+"'."):g.geometry.set(a)})}__extends(a,b);a.prototype.initialize=function(a){this.config=a;b.prototype.initialize.call(this,a);
a.tools&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,!0);a.menus&&this.app.menuRegistry&&this.app.menuRegistry.loadMenus({menus:a.menus})};a.prototype.startEditing=function(a){if(!this.app.site.isInitialized)throw Error("Can't start editing before the site is initialized.");this.isEditing.get()&&this.finishEditing(!0);this.basemaps.isEmpty()&&0<this.app.site.essentialsMap.baseMaps.length&&this._initBasemaps();this.isEditing.set(!0);this.loadError.set(null);this.initialMapState=
new m.MapState(f.infrastructure.gis.AppInfo.fromGeocortexApp(this.app));(this.existingOfflineMap=a.existingOfflineMap)&&this._loadExistingOfflineMapDoc(a.existingOfflineMap)||this._reset();g.OfflineMapsModule._execCommandsFromConfig(this.app,this.config.onEditingStarted)};a.prototype._initBasemaps=function(){var a=this,e=this.app.site.essentialsMap.baseMaps.map(function(e){e=new m.OfflineMapEditorBasemap(a.app,a.libraryId,e);e.geometry.sync(a.geometry);e.isValid.bind(a,a.calculateIsValid);e.type.bind(a,
function(){return a.basemapsChanged.set(!0)});return e});this.basemaps.set(e);this.app.site.getOfflineBasemaps(function(a){e.forEach(function(c){return c.staticTpks.set(a)})},function(e){a.app.trace.error("Unable to fetch offline basemaps: "+e)})};a.prototype._loadExistingOfflineMapDoc=function(a){var e=this;try{return this.name.set(a.title),this.thumbnail.set(a.thumbnail?a.thumbnail.location:null),this.geometry.set(new esri.geometry.Polygon(a.content.geometry)),this.includeAttachments.set(a.content.includeAttachments),
this.canChange.set(a.access.change),this.app.map.setExtent(this.geometry.get().getExtent()),this.layerSelectorViewModel.getAllItems().filter(function(a){return!a.isFolder}).forEach(function(b){var d=a.content.layers.filter(function(a){return e.layerSelectorViewModel.filter(b)&&a.layerInfoUniqueId===b.layer.uniqueId});0<d.length?(d=d[0],b.definitionExpression.set(d?d.definitionExpression:null),b.isEnabled.set(!0)):(b.definitionExpression.set(null),b.isEnabled.set(!1))}),this.layerSelectorViewModel.setVisibleLayersFromSelectedItems(),
this.basemaps.get().forEach(function(e){var b=a.content.basemaps.filter(function(a){return a.baseMapId===e.source.id});0<b.length?e.load(b[0]):e.reset()}),this.grantEditorViewModel.loadById(a.id),this.layersChanged.set(!0),this.geometryChanged.set(!0),this.basemapsChanged.set(!0),!0}catch(b){return this.app.trace.error("Unable to load existing offline map.  "+(b.message||b)),this.loadError.set(this.getResource("language-offlinemapeditor-error-load").format(b.message||b)),!1}};a.prototype._reset=function(){this.canChange.set(!0);
this.name.set("");this.thumbnail.set("");this.geometry.set(esri.geometry.Polygon.fromExtent(this.app.map.extent));this.includeAttachments.set(!0);this.layerSelectorViewModel.setSelectedItemsFromVisibleLayers();this.layerSelectorViewModel.getAllItems().filter(function(a){return!a.isFolder}).forEach(function(a){a.layer&&a.definitionExpression.set(a.layer.getDefinitionExpression())});this.basemaps.get().forEach(function(a){a.reset()});this.grantEditorViewModel.reset();this.layersChanged.set(!1);this.geometryChanged.set(!1);
this.basemapsChanged.set(!1)};a.prototype.finishEditing=function(a){var e=this;void 0===a&&(a=!1);if(!this.isEditing.get())throw this.app.trace.error("OfflineMapEditorViewModel.finishEditing called when not editing."),Error("Not editing.");this.savingEvent.publish();var b={existingOfflineMap:this.existingOfflineMap,newOfflineMap:null,canceled:a},d=Promise.resolve();a||(b.newOfflineMap={content:{layers:this.layerSelectorViewModel.getAllItems().filter(function(a){return a.layer&&a.isEnabled.get()}).map(function(a){var c=
{layerInfoUniqueId:a.layer.uniqueId,definitionExpression:a.definitionExpression.get()};a.layer.gcxLayer&&a.layer.gcxLayer.isUserCreated&&(c.isUserCreated=a.layer.gcxLayer.isUserCreated,c.layerJson=a.layer.gcxLayer.toJson(),c.serviceInfo={url:a.layer.serviceLayerInfo.serviceLayer.url,capabilities:a.layer.serviceLayerInfo.capabilities});return c}),geometry:this.geometry.get()?this.geometry.get().toJson():null,basemaps:this.basemaps.get().filter(function(a){return a.type.get()===f.infrastructure.offline.OfflineMapBasemap.Type.PREGENERATED||
a.type.get()===f.infrastructure.offline.OfflineMapBasemap.Type.EXPORT_TILES}).map(function(a){return a.save()}),includeAttachments:this.includeAttachments.get()},title:this.name.get(),thumbnail:{location:this.thumbnail.get()},properties:{siteId:{string:this.app.site.id},viewerId:{string:(this.app.configModel.viewerId||"null").toLowerCase()}},grants:this.grantEditorViewModel.grants},b.newOfflineMap.thumbnail&&this.existingOfflineMap&&JSON.stringify(this.existingOfflineMap.content.layers)===JSON.stringify(b.newOfflineMap.content.layers)&&
JSON.stringify(this.existingOfflineMap.content.geometry)===JSON.stringify(b.newOfflineMap.content.geometry)||(d=this._getThumbnailUri().then(function(a){a&&(b.newOfflineMap.thumbnail.location=a)})));this.initialMapState.restore();this.isEditing.set(!1);this.existingOfflineMap=this.initialMapState=null;return d.then(function(){g.OfflineMapsModule._execCommandsFromConfig(e.app,e.config.onEditingFinished);e.app.event("OfflineMapEditorFinishedEvent").publish(b)})};a.prototype._getThumbnailUri=function(){var a=
this,e=new d.essentials.ReportParameters;e.outputFormat="PNG";e.includeData=!0;e.imageWidth=this.config.thumbnail&&this.config.thumbnail.width||150;e.imageHeight=this.config.thumbnail&&this.config.thumbnail.height||150;e.resolution={displayName:"custom",dpi:this.config.thumbnail&&this.config.thumbnail.dpi||20};e.customExtent=this.geometry.get().getExtent();e.extentType=d.essentials.ReportParameters.CUSTOM_EXTENT;e.populateMapGraphicsLayers(this.app.map);return new Promise(function(b,d){a.app.site.essentialsMap.exportMap(e,
function(a){a.data?b("data:image/png;base64,"+a.data):a.href?b(a.href):b(null)},function(e){a.app.trace.error("Error exporting map for thumbnail: "+e.message);b(null)})})};a.prototype.calculateIsValid=function(){var a=this.layerSelectorViewModel.getAllItems().filter(function(a){return a.layer&&a.isEnabled.get()}).length,e=0<a;this.isLayersValid.set(e);this.layersText.set(this.getResource("language-offlinemapeditor-layers-text").format(a));a=!!this.geometry.get();this.isGeometryValid.set(a);var b=
this.basemaps.get().every(function(a){return a.isValid.get()});this.isBasemapsValid.set(b);this.isBasemapsCalculating.set(this.basemaps.get().some(function(a){return a.size.get()===m.OfflineMapEditorBasemap.sizeCalculating}));var f=this.basemaps.get().filter(function(a){return!a.isNone.get()}).length;this.hasBasemaps.set(0<f);this.basemapsText.set(this.getResource("language-offlinemapeditor-basemaps-text").format(f));f=this.grantEditorViewModel.monikers.get().filter(function(a){return 0<a.grants.filter(function(a){return a.assert&&
!a.revoke&&(a.kind===d.essentials.documents.GrantKind.READER||a.kind===d.essentials.documents.GrantKind.WRITER)}).length}).length;this.hasSharing.set(0<f);e=e&&a&&b&&!!this.name.get();this.isValid.set(e)};return a}(d.framework.ui.ViewModelBase);m.OfflineMapEditorViewModel=l})(g.editor||(g.editor={}))})(g.offlineMaps||(g.offlineMaps={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c);this._isManaging=!1;this.app.event("ViewContainerViewClosedEvent").subscribe(this,this._onViewContainerViewClosedEvent)}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a);a&&(this.isBusy.sync(a.isBusy),a.showManageDoneButton.set(!1!==this.configuration.showDonebutton))};b.prototype.activated=function(){d.prototype.activated.call(this);this.viewModel.activate();
this._isManaging||(this.viewModel.startManaging(),this._isManaging=!0)};b.prototype.handleEditOfflineMapClick=function(a,c,e){var b=this;this.isBusy.get()||(e.doc.content?f.OfflineMapsModule._execCommandFromConfig(this.app,this.configuration.editOfflineMap,{offlineMap:e.doc}):(this.isBusy.set(!0),this.app.site.documentStore.getById(e.doc.id,!0).then(function(a){e.update(a);f.OfflineMapsModule._execCommandFromConfig(b.app,b.configuration.editOfflineMap,{offlineMap:e.doc});b.isBusy.set(!1)},function(a){b.app.trace.error("Error fetching offlinemap document. "+
(a.message||a));a=b.getResource("language-offline-maps-fetch-error");var c=b.getResource("language-offline-maps-fetch-error-title");b.app.command("Alert").execute(a,c);b.isBusy.set(!1)})))};b.prototype.handleDeleteOfflineMapClick=function(a,c,e){var b=this;this.isBusy.get()||this.app.command("Confirm").execute(this.getResource("language-offline-maps-delete-from-server").format(e.title.get()),this.getResource("language-offline-maps-delete-from-server-title"),function(a){a&&b.viewModel.deleteOfflineMap(e)})};
b.prototype.handleNewOfflineMapClick=function(a,c,e){this.isBusy.get()||f.OfflineMapsModule._execCommandFromConfig(this.app,this.configuration.newOfflineMap)};b.prototype.handleDoneClick=function(a,c,e){this.app.command("DeactivateView").execute(this.id);this._stopManaging()};b.prototype._onViewContainerViewClosedEvent=function(a){a.viewId===this.id&&this._stopManaging()};b.prototype._stopManaging=function(){this.viewModel.stopManaging();this._isManaging=!1};b.prototype.handleThumbnailLoadError=function(a,
c,e){c.src!==this.viewModel.defaultThumbnail&&(c.src=this.viewModel.defaultThumbnail,c.src!==this.viewModel.defaultThumbnail&&(this.viewModel.defaultThumbnail=c.src))};b.prototype.resolveWidget=function(a,c,e){d.prototype.resolveWidget.call(this,a,c,e);switch(a){case "ManageOfflineMapsActionsWidget":return this.app.menuRegistry.createMenuWidget(this,c,e)}};return b}(d.framework.ui.ViewBase);f.ManageOfflineMapsView=g})(f.offlineMaps||(f.offlineMaps={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping=
{}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);this.app.offlineManager.aoiMask.configure(a.aoiMask)};b._execCommandsFromConfig=function(a,c,e){var b=this;c&&c.forEach(function(c){return b._execCommandFromConfig(a,c,e)})};b._execCommandFromConfig=function(a,c,e){if(c){var d=c.commandParameter;d&&e&&(d=b._replaceCommandParameterTokens(d,e));a.command(c.command).execute(d)}};
b._replaceCommandParameterTokens=function(a,c){var e=this,b;if("string"===typeof a){b=/{{(.+)}}/.exec(a);var d=c[b[1]]}else{var d={},f;for(f in a)a.hasOwnProperty(f)&&("string"===typeof a[f]&&(b=/{{(.+)}}/.exec(a[f]))&&c.hasOwnProperty(b[1])?d[f]=c[b[1]]:dojo.isArray(a[f])?d[f]=a[f].map(function(a){return e._replaceCommandParameterTokens(a,c)}):d[f]="object"===typeof a[f]?this._replaceCommandParameterTokens(a[f],c):a[f])}return d};return b}(d.framework.application.ModuleBase);f.OfflineMapsModule=
g})(f.offlineMaps||(f.offlineMaps={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this._offlineMapIfBusyBindingTokens={}}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a);a&&(a.isBusy.bind(this,this._calculateIsBusy),a.mergedOfflineMaps.bind(this,this._offlineMapsChanged))};b.prototype.activated=function(){d.prototype.activated.call(this);this.viewModel.activate()};b.prototype.handleOfflineMapClick=function(a,c,e){var b=this;e.isActive.get()||
(e.isDownloaded.get()?this.isBusy.get()||(e.isBusy.set(!0),this.app.offlineManager.activateOfflineMap(e.doc,!0).then(function(){e.isBusy.set(!1)},function(a){e.isBusy.set(!1);b.app.trace.error("Failed to activate offline map. "+(a.message||a.toString()));b.app.command("Alert").execute(b.getResource("language-offline-maps-activate-failed"))})):e.isBusy.get()||this.app.command("Confirm").execute(this.getResource("language-offline-maps-add-confirm"),e.doc.title,function(a){a&&b._guaranteeOfflineMapContent(e).then(function(a){f.OfflineMapsModule._execCommandFromConfig(b.app,
b.configuration.download,{offlineMap:a})},function(a){b.app.trace.error("Failed to download offline map. "+(a.message||a.toString()));b.app.command("Alert").execute(a.message||a.toString())})}))};b.prototype.handleOfflineMapForgetClick=function(a,c,e){var b=this;!e.isDownloaded.get()||e.isActive.get()||e.isBusy.get()||this.app.command("Confirm").execute(this.getResource("language-offline-maps-delete-from-device-confirm"),e.doc.title,function(a){a&&(e.isBusy.set(!0),b.app.offlineManager.removeOfflineMap(e.doc).then(function(){e.isBusy.set(!1);
b._calculateIsBusy()},function(a){e.isBusy.set(!1);b.app.command("Alert").execute(a.message||a.toString());b._calculateIsBusy()}))})};b.prototype.handleOfflineMapSyncClick=function(a,c,e){var b=this;e.isDownloaded.get()&&!e.isBusy.get()&&this.app.site.documentStore.getById(e.doc.id,!0).then(function(a){return a},function(a){b.app.trace.warning("Error fetching existing offline map: "+a);return e.doc}).then(function(a){f.OfflineMapsModule._execCommandFromConfig(b.app,b.configuration.sync,{offlineMap:a})})};
b.prototype.handleDeactivateOfflineMapClick=function(a,c,e){var b=this;if(!this.isBusy.get()&&this.viewModel.hasActiveOfflineMap.get()){var d=this.app.offlineManager.getActiveOfflineMap();d&&(this.viewModel.downloadedOfflineMaps.get().filter(function(a){return a.doc.id===d.id})[0]?(this.isBusy.set(!0),this.app.offlineManager.deactivateOfflineMap(!0).then(function(){b.isBusy.set(!1)},function(a){b.isBusy.set(!1);b.app.command("Alert").execute(a.message||a.toString())})):this.app.trace.error("Can't find view model matching the active offline map."))}};
b.prototype.handleThumbnailLoadError=function(a,c,e){c.src!==this.viewModel.defaultThumbnail&&(c.src=this.viewModel.defaultThumbnail,c.src!==this.viewModel.defaultThumbnail&&(this.viewModel.defaultThumbnail=c.src))};b.prototype.resolveWidget=function(a,c,e){d.prototype.resolveWidget.call(this,a,c,e);switch(a){case "ListOfflineMapsActionsWidget":return this.app.menuRegistry.createMenuWidget(this,c,e)}};b.prototype._guaranteeOfflineMapContent=function(a){return a.doc.content?Promise.resolve(a.doc):
this.app.site.documentStore.getById(a.doc.id,!0).then(function(c){a.update(c);return c})};b.prototype._offlineMapsChanged=function(a){for(var c=a.rangeStart;c<=a.rangeEnd;c++){var e=this.viewModel.mergedOfflineMaps.getAt(c);switch(a.type){case "append":case "insert":case "set":this._offlineMapIfBusyBindingTokens[e.doc.id]=e.isBusy.bind(this,this._calculateIsBusy);break;case "remove":case "clear":e.isBusy.unbind(this._offlineMapIfBusyBindingTokens[e.doc.id]),delete this._offlineMapIfBusyBindingTokens[e.doc.id]}}};
b.prototype._calculateIsBusy=function(){for(var a=this.viewModel.isBusy.get(),c=0,e=this.viewModel.mergedOfflineMaps.length();!a&&c<e;c++)a=this.viewModel.mergedOfflineMaps.getAt(c).isBusy.get();this.isBusy.set(a)};return b}(d.framework.ui.ViewBase);f.ListOfflineMapsView=g})(f.offlineMaps||(f.offlineMaps={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){function m(a,c){return(a.doc.title||"").toLocaleLowerCase().localeCompare((c.doc.title||"").toLocaleLowerCase())}var l=f.infrastructure.offline.OfflineMap,b=function(a){function c(){a.apply(this,arguments);this.docstoreOfflineMaps=new ObservableCollection;this.downloadedOfflineMaps=new ObservableCollection;this.mergedOfflineMaps=new ObservableCollection;this.canCreate=new Observable(!1);this.hasActiveOfflineMap=new Observable(!1);this.showManageDoneButton=
new Observable(!0);this.switchedToOnlineMap=new Observable(!1);this.isBusy=new Observable(!1);this.statusFetching=new Observable(!1);this.statusEmpty=new Observable(!1);this.statusOffline=new Observable(!1);this.statusUnsupported=new Observable(!1);this.statusNative=new Observable(!1);this._populated=this._activated=!1}__extends(c,a);c.prototype.initialize=function(c){var b=this;a.prototype.initialize.call(this,c);this.defaultThumbnail=c.defaultThumbnail;this.mergedOfflineMaps.bind(this,function(){b.statusEmpty.set(0===
b.mergedOfflineMaps.length())});this.app.nativeManager.onNativeInitialized().then(function(){b.statusNative.set(!0)});this.app.waitUntilSiteInitialized().then(function(){return b.app.site.documentStore.onInitialized()}).then(function(){return b.canCreate.set(b.app.site.documentStore.canCreate())});this._downloadedOfflineMapsLoaded({offlineMaps:this.app.offlineManager.getOfflineMaps(),activeOfflineMap:this.app.offlineManager.getActiveOfflineMap()});this.app.command("RefreshOfflineMapsList").register(this,
this.populateFromDocStore);this.app.event("OfflineMapsLoadedEvent").subscribe(this,this._downloadedOfflineMapsLoaded);this.app.event("OfflineMapAddedEvent").subscribe(this,this._downloadedOfflineMapAdded);this.app.event("OfflineMapRemovedEvent").subscribe(this,this._downloadedOfflineMapRemoved);this.app.event("OfflineMapSyncedEvent").subscribe(this,this._downloadedOfflineMapSynced);this.app.event("OfflineMapActivatedEvent").subscribe(this,this._offlineMapActivated);this.app.event("FeatureCreatedEvent").subscribe(this,
this._updateMetadataForActiveOfflineMap);this.app.event("FeatureEditedEvent").subscribe(this,this._updateMetadataForActiveOfflineMap);this.app.event("FeatureDeletedEvent").subscribe(this,this._updateMetadataForActiveOfflineMap);this.app.event("OfflineMapAddedEvent").subscribe(this,function(a){return b._updateMetadataForOfflineMap(a.offlineMap)});this.app.event("OfflineMapSyncedEvent").subscribe(this,function(a){return b._updateMetadataForOfflineMap(a.offlineMap)});c.saveOfflineMaps&&this.app.event("OfflineMapEditorFinishedEvent").subscribe(this,
this._onOfflineMapEditorFinishedEvent);c.menus&&this.app.menuRegistry&&this.app.menuRegistry.loadMenus({menus:c.menus})};c.prototype.activate=function(){var a=this;this._activated||(this._activated=!0,this.app.waitUntilSiteInitialized().then(function(){a.statusUnsupported.set(!a.app.site.documentStore.supported);a.populateFromDocStore()}))};c.prototype.startManaging=function(){this.app.nativeManager.nativeInitialized&&((this._offlineMapWhenManagingStarted=this.app.offlineManager.getActiveOfflineMap())&&
this.app.offlineManager.deactivateOfflineMap(!1),this.switchedToOnlineMap.set(!!this._offlineMapWhenManagingStarted))};c.prototype.stopManaging=function(){this.app.nativeManager.nativeInitialized&&this._offlineMapWhenManagingStarted&&this.app.offlineManager.activateOfflineMap(this._offlineMapWhenManagingStarted,!1)};c.prototype.populateFromDocStore=function(){var a=this;this.app.site.documentStore.supported&&this._activated&&(this.isBusy.set(!0),this.statusFetching.set(!0),Promise.resolve(this.app.site.documentStore.query({filters:{require:[{field:"fileType",
method:"values",range:[{string:"offlinemap"}]},{field:"properties.siteId.string",method:"values",range:[{string:this.app.site.id}]}]}})).then(function(c){a._populated=!0;a.statusOffline.set(!1);c=c.results.map(function(c){return new g.OfflineMapModel(a.app,a.libraryId,c.entity)}).sort(m);a.docstoreOfflineMaps.set(c);a.calculateMergedOfflineMaps()})["catch"](function(c){a.statusOffline.set(!0);a.app.trace.error("Unable to fetch offline maps. "+c)})["finally"](function(){a.statusFetching.set(!1)}).then(function(){return a._updateMetadataForAllOfflineMaps()})["catch"](function(c){a.app.trace.error("Unable to update metadata for offline maps. "+
c)})["finally"](function(){a.isBusy.set(!1)}))};c.prototype.deleteOfflineMap=function(a){var c=this;this.app.site.documentStore.supported&&(this.isBusy.set(!0),this.app.site.documentStore.deleteById(a.doc.id).then(function(){c.isBusy.set(!1);c.docstoreOfflineMaps.removeItem(a);c.calculateMergedOfflineMaps()},function(b){c.isBusy.set(!1);b.error&&404===b.error.code?(c.docstoreOfflineMaps.removeItem(a),c.calculateMergedOfflineMaps()):(b=b.message||b.error&&b.error.message||b.toString(),c.app.command("Alert").execute(b,
c.getResource("language-offline-maps-delete-from-server-title")))}))};c.prototype.calculateMergedOfflineMaps=function(){var a=this,c=this.downloadedOfflineMaps.get(),b=this.docstoreOfflineMaps.get();this._populated&&c.forEach(function(c){var d=a.app.site.documentStore.isInitialized&&a.app.site.documentStore.userMonikers.some(function(a){return c.doc.access&&c.doc.access.monikerIds&&-1!==c.doc.access.monikerIds.indexOf(a.id)})&&!b.some(function(a){return a.doc.id===c.doc.id});c.isOrphaned.set(d)});
var b=b.filter(function(a){return!c.some(function(c){return c.doc.id===a.doc.id})}),d=c.concat(b).sort(m);this.mergedOfflineMaps.set(d)};c.prototype._downloadedOfflineMapsLoaded=function(a){var c=this,b=a.offlineMaps.map(function(a){a=new g.OfflineMapModel(c.app,c.libraryId,a);a.isDownloaded.set(!0);return a});this.downloadedOfflineMaps.set(b);this.calculateMergedOfflineMaps();this._offlineMapActivated({offlineMap:a.activeOfflineMap})};c.prototype._downloadedOfflineMapAdded=function(a){a=new g.OfflineMapModel(this.app,
this.libraryId,a.offlineMap);a.isDownloaded.set(!0);this.downloadedOfflineMaps.addItem(a);this.calculateMergedOfflineMaps()};c.prototype._downloadedOfflineMapRemoved=function(a){for(var c=0,b=this.downloadedOfflineMaps.length();c<b;c++)if(this.downloadedOfflineMaps.getAt(c).doc.id===a.offlineMap.id){this.downloadedOfflineMaps.removeAt(c);this.calculateMergedOfflineMaps();break}};c.prototype._offlineMapActivated=function(a){this.hasActiveOfflineMap.set(!!a.offlineMap);for(var c=0,b=this.downloadedOfflineMaps.length();c<
b;c++){var d=this.downloadedOfflineMaps.getAt(c);d.isActive.set(null!=a.offlineMap&&a.offlineMap.id===d.doc.id)}};c.prototype._downloadedOfflineMapSynced=function(a){for(var c=0,b=this.downloadedOfflineMaps.length();c<b;c++){var d=this.downloadedOfflineMaps.getAt(c);if(d.doc.id===a.offlineMap.id){d.update(a.offlineMap);break}}};c.prototype._updateMetadataForActiveOfflineMap=function(){this.app.offlineManager.isOfflineMapActive.get()&&this._updateMetadataForOfflineMap(this.app.offlineManager.getActiveOfflineMap())};
c.prototype._updateMetadataForAllOfflineMaps=function(){var a=this,c=this.mergedOfflineMaps.get().map(function(c){return a._updateMetadataForOfflineMap(c)});return Promise.all(c)};c.prototype._updateMetadataForOfflineMap=function(a){var c=this;if(!this.app.nativeManager.nativeInitialized)return Promise.resolve();var b=a instanceof g.OfflineMapModel?a:this.mergedOfflineMaps.get().filter(function(c){return c.doc===a})[0];if(!b)return Promise.reject("Offline map not downloaded.");var d=[];b.dataSizeBytes.set(0);
d.push(f.infrastructure.offline.SyncEngine.getSyncInfo(this.app,b.doc.id).then(function(a){b.numberOfEdits.set(f.infrastructure.ArrayUtils.sum(a.servers,function(a){return a.numberOfAdds+a.numberOfDeletes+a.numberOfEdits}));b.lastSyncTime.set(FormatUtils.formatDate(f.infrastructure.ArrayUtils.max(a.servers,function(a){return a.lastSyncTime})));b.dataSizeBytes.set(b.dataSizeBytes.get()+f.infrastructure.ArrayUtils.sum(a.servers,function(a){return a.totalSizeInBytes}))}));b.doc.content&&b.doc.content.basemaps.filter(function(a){return a.sourceType===
f.infrastructure.offline.OfflineMapBasemap.Type.EXPORT_TILES}).forEach(function(a){d.push(c.app.nativeManager.getViewerResourceInfo(a.filename).then(function(a){b.dataSizeBytes.set(b.dataSizeBytes.get()+a.length)}))});return Promise.all(d)};c.prototype._onOfflineMapEditorFinishedEvent=function(a){var c=this;if(this.app.site.documentStore.supported&&!a.canceled)if(a.newOfflineMap.contentType="application/json",a.newOfflineMap.fileType="offlinemap",a.existingOfflineMap){a.newOfflineMap.id=a.existingOfflineMap.id;
var b=l.diff(a.existingOfflineMap,a.newOfflineMap);b?(b.content&&(b.content=a.newOfflineMap.content),this.isBusy.set(!0),this.app.site.documentStore.updateById(a.existingOfflineMap.id,b).then(function(a){c.isBusy.set(!1);for(var e=0;e<c.docstoreOfflineMaps.length();e++)if(c.docstoreOfflineMaps.getAt(e).doc.id===a.id){c.docstoreOfflineMaps.getAt(e).update(a);break}},function(a){c.isBusy.set(!1);c.app.trace.error("Error updating offline map in doc store. "+(a.message||a));a=c.getResource("language-offline-maps-update-profile-error").format(a.message||
a);var e=c.getResource("language-offline-maps-update-profile-error-title");c.app.command("Alert").execute(a,e)})):this.app.trace.warning("OfflineMapEditorFinishedEvent called without any changes to send.  Bailing.")}else this.isBusy.set(!0),this.app.site.documentStore.add(a.newOfflineMap).then(function(a){c.isBusy.set(!1);a=new g.OfflineMapModel(c.app,c.libraryId,a);a=c.docstoreOfflineMaps.get().concat([a]).sort(m);c.docstoreOfflineMaps.set(a);c.calculateMergedOfflineMaps()},function(a){c.isBusy.set(!1);
c.app.trace.error("Error adding offline map to doc store. "+(a.message||a));a=c.getResource("language-offline-maps-add-error").format(a.message||a);var e=c.getResource("language-offline-maps-add-error-title");c.app.command("Alert").execute(a,e)})};return c}(d.framework.ui.ViewModelBase);g.OfflineMapsViewModel=b})(g.offlineMaps||(g.offlineMaps={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c,e){var b=this;d.call(this,a,c);this.title=new Observable;this.thumbnail=new Observable;this.isBusy=new Observable(!1);this.isActive=new Observable(!1);this.isDownloaded=new Observable(!1);this.isOrphaned=new Observable(!1);this.canEdit=new Observable(!1);this.canChange=new Observable(!1);this.numberOfEdits=new Observable(0);this.lastSyncTime=new Observable("");this.dataSizeBytes=new Observable(0);this.dataSizeDisplayValue=
new Observable("\u2026");this.update(e);this.dataSizeDisplayValue.syncTransform(this.dataSizeBytes,function(a){return b._getDisplayBytes(a)})}__extends(b,d);b.prototype._getDisplayBytes=function(a){if(0===a)return"\u2026";a/=1024;var c=a/1024,e=c/1024;return 1<=e?this.getResource("language-offline-maps-size-gb").format(FormatUtils.formatNumber(e,null,{fractionalDigits:2})):1<=c?this.getResource("language-offline-maps-size-mb").format(FormatUtils.formatNumber(c,null,{fractionalDigits:1})):this.getResource("language-offline-maps-size-kb").format(FormatUtils.formatNumber(a,
null,{fractionalDigits:0}))};b.prototype.update=function(a){this.doc=a;this.title.set(a.title);this.thumbnail.set(a.thumbnail?a.thumbnail.location:null);this.canEdit.set(a.access.edit);this.canChange.set(a.access.change)};return b}(d.framework.ui.ViewModelBase);f.OfflineMapModel=g})(f.offlineMaps||(f.offlineMaps={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=d.essentialsHtmlViewer.mapping.infrastructure,l=function(b){function a(){b.apply(this,arguments);this._nativeAppHasBeenNotified=!1;this._geocortexSessionExpiryArgs=null;this._tokenRefreshSuspended=!1}__extends(a,b);a.prototype.initialize=function(a){var e=this;b.prototype.initialize.call(this,a);this.app.isOffline.bind(this,function(a){e._handleOfflineStatusChangeForTokenRefresh(a)});this._attachTokenRefreshHooks();this._registerCommands();
this.app.event("OfflineMapsLoadedEvent").subscribe(this,this._offlineMapsLoadedEventHandler);this.app.event("OfflineMapActivatedEvent").subscribe(this,this._offlineMapActivatedEventHandler)};a.prototype._registerCommands=function(){var a=this;this.app.command("ClearStorageForApplication").register(this,function(e){return a._clearStorage(!1,e)});this.app.command("ClearStorageForDomain").register(this,function(e){return a._clearStorage(!0,e)});this.app.command("ResumeOfflineTokenRefresh").register(this,
this._handleResumeOfflineTokenRefresh);this.app.command("SignOut").register(this,this._tellNativeUserLoggedOut)};a.prototype._tellNativeUserLoggedOut=function(){this.app.nativeManager.message("SignOutNative",{fromViewer:!0})};a.prototype._attachTokenRefreshHooks=function(){var a=this;dojo.subscribe("geocortex_sessionExpiring",function(e){a._geocortexSessionExpiryArgs=e;e.handled=!0;a.app.isOffline.get()?(e.suspendRefresh(),a._tokenRefreshSuspended=!0,a.app.trace.info("Principal expiring offline. Flagged for refresh the next time the user goes online.")):
e.resumeRefresh()&&(a._tokenRefreshSuspended=!1)})};a.prototype._handleOfflineStatusChangeForTokenRefresh=function(a){this._geocortexSessionExpiryArgs&&!a&&this._tokenRefreshSuspended&&(this._geocortexSessionExpiryArgs.resumeRefresh(),this._tokenRefreshSuspended=!1)};a.prototype._handleResumeOfflineTokenRefresh=function(){this._handleOfflineStatusChangeForTokenRefresh(!1)};a.prototype._clearStorage=function(a,e){var b=this,d=a?this.app.store.clearAllData:this.app.store.clear,f=function(){d.call(b.app.store,
function(){b.app.trace.info("Offline data for this application cleared.");b.app.event("ApplicationStorageClearedEvent").publish();var a=b.getResource("language-offline-data-cleared"),c=b.getResource("language-offline-data-cleared-title");b.app.command("Alert").execute(a,c)},function(a){b.app.trace.info("There was an error clearing offline data.");a=b.getResource("language-offline-error-clearing-data").format(a);b.app.command("Alert").execute(a)})};e?this.app.command("Confirm").execute(this.getResource("language-clear-storage-confirm"),
this.getResource("language-clear-storage"),function(a){a&&f()}):f()};a.prototype._offlineMapsLoadedEventHandler=function(c){var e=this;c.activeOfflineMap&&this.app.waitUntilSiteInitialized().then(function(){var b=new esri.geometry.Polygon(c.activeOfflineMap.content.geometry);e.app.site.essentialsMap.extentManager.setExtentWithPriority(b.getExtent().expand(a._zoomExtentExpandFactor),10)})};a.prototype._offlineMapActivatedEventHandler=function(c){var e=this;if(c.offlineMap&&c.userAction){var b=new esri.geometry.Polygon(c.offlineMap.content.geometry);
g.GeometryUtils.intersects(this.app.map.extent.getCenter(),b).then(function(c){c||e.app.map.setExtent(b.getExtent().expand(a._zoomExtentExpandFactor))})}};a._zoomExtentExpandFactor=1.5;return a}(d.framework.application.ModuleBase);f.OfflineModule=l})(f.offline||(f.offline={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,c){f.call(this,a,c);this._userName=new Observable;this._eventRelay=null}__extends(b,f);b.prototype.initialize=function(a){var c=this;this.app.command("LogOptimizerEvent").register(this,this._executeLogOptimizerEvent,this._canExecuteLogOptimizerEvent);this._loggingEnabled=a&&void 0!=a.enabled?a.enabled:!1;this._userName.set(a&&a.userName&&""!=a.userName?a.userName:"DefaultUser");this._dataRelayUri=a&&a.dataRelayUri&&
""!=a.dataRelayUri?a.dataRelayUri:"http://localhost/Geocortex/Optimizer/Rest/DataRelay/LogData.ashx?f=json";if(!1!==this._loggingEnabled&&!0!==this.app.isOffline.get()){this._dataRelayUri.endsWith(".ashx")&&(this._dataRelayUri+="?f=json");this._requiresProxy(this._dataRelayUri)&&(this._dataRelayUri=this.app.configuration.proxyUri+this._dataRelayUri);var e=this._userName.bind(this,function(){null!=c._eventRelay&&(c._eventRelay.userName=c._userName.get());c._userName.unbind(e)});this._authenticationSucceededToken=
this.app.event("AuthenticationSucceededEvent").subscribe(this,this._handleAuthenticationSucceeded);this._authenticationFailedToken=this.app.event("AuthenticationFailedEvent").subscribe(this,this._handleAuthenticationFailed);if(this.app.map&&this.app.map.loaded)this._onMapLoaded();else var b=this.app.event("MapLoadedEvent").subscribe(this,function(){c.app.event("MapLoadedEvent").unsubscribe(b);c._onMapLoaded()})}};b.prototype._onMapLoaded=function(){this._eventRelay=new d.optimizer.EventRelay(this.app.map,
this.app.site.id,this._dataRelayUri,this._userName.get());this._executeLogOptimizerEvent("ViewerShell",this.app.shellName)};b.prototype._canExecuteLogOptimizerEvent=function(a,c){return this._loggingEnabled&&null!=this._eventRelay};b.prototype._executeLogOptimizerEvent=function(a,c){this._eventRelay.logToolUsage(a,c)};b.prototype._handleAuthenticationSucceeded=function(a){!0===a.result&&this._userName.set(a.username);null!=this._eventRelay&&this._executeLogOptimizerEvent("AuthenticationSucceededEvent",
a.username);this._unsubscribeFromAuthenticationEvents()};b.prototype._handleAuthenticationFailed=function(a){null!=this._eventRelay&&this._executeLogOptimizerEvent("AuthenticationFailedEvent",a.username)};b.prototype._unsubscribeFromAuthenticationEvents=function(){this.app.event("AuthenticationSucceededEvent").unsubscribe(this._authenticationSucceededToken);this.app.event("AuthenticationFailedEvent").unsubscribe(this._authenticationSucceededToken)};b.prototype._requiresProxy=function(a){a=new dojo._Url(a);
var c=window.location;return(a.scheme||a.host||a.port)&&c.protocol+"//"+c.hostname+(c.port?":"+c.port:"")!==a.scheme+"://"+a.host+(a.port?":"+a.port:"")?!0:!1};return b}(d.framework.application.ModuleBase);f.OptimizerIntegrationModule=g})(f.optimizerIntegration||(f.optimizerIntegration={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);return b}(d.framework.application.ModuleBase);f.OverviewMapModule=g})(f.overviewMap||(f.overviewMap={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.activated=function(){var a=this;$(this.root).parent("[class*='bottom']").length&&this.viewModel.isBottom.set(!0);$(this.root).parent("[class*='right']").length&&this.viewModel.isRight.set(!0);$(this.root).parent("[class*='bottom']").length&&$(this.root).parent("[class*='right']").length&&$(".esriControlsBR").addClass("overview-map-attribution-override");
$(this.root).parent("[class*='left']").length&&this.viewModel.isLeft.set(!0);$(this.root).parent("[class*='top']").length&&this.viewModel.isTop.set(!0);this.app.command("OpenOverviewMap").register(this,this._loadOverviewMap);this.app.command("CloseOverviewMap").register(this,function(){return a.viewModel.isActive.set(!1)})};b.prototype._loadOverviewMap=function(){var a=this;this.viewModel.isActive.set(!0);null==this.viewModel.overviewMapDijit?setTimeout(function(){a.loadOverviewMapDijit();a.app.command("FocusOnFirstInputInView").execute(a)},
250):this.app.command("FocusOnFirstInputInView").execute(this)};b.prototype.toggleMap=function(a,c,e){!1===this.viewModel.isActive.get()?this.app.command("OpenOverviewMap").execute():this.app.command("CloseOverviewMap").execute()};b.prototype.loadOverviewMapDijit=function(){if(!1!=this.viewModel.isEnabled.get()&&(null==this.viewModel.overviewMapDijit||!this.viewModel.isEnabled.get())){var a=this.app.site.overviewMap,c="#00FFFF";this.viewModel.visibleExtentColour.get()&&(c=this.viewModel.visibleExtentColour.get());
this.viewModel.overviewMapDijit=new esri.dijit.OverviewMap({map:this.app.map,baseLayer:null,visible:!0,width:205,height:180,color:c,expandFactor:this.viewModel.extentScaleFactor.get(),maximizeButton:!1},this.viewModel.overviewMapId.get());try{this.viewModel.overviewMapDijit.startup()}catch(e){this.app.trace.alert("Error encountered loading overview map: "+e);this.viewModel.overviewMapDijit.hide();this.viewModel.overviewMapDijit.destroy();return}var b=this.viewModel.overviewMapDijit,c=b.map,c=b.overviewMap;
c.removeAllLayers();for(b=a.mapServices.length-1;0<=b;b--){var d=a.mapServices[b];d&&c.addLayer(d.serviceLayer)}0===c.layerIds.length&&(this.app.trace.info("No supported layers available for overview map. Disabling overview map."),this.viewModel.isEnabled.set(!1));(a=$(this.root).find(".ovwHighlight")[0])?a.setAttribute("tabindex","0"):this.app.trace.warning("Unable for find overview map highlight area!")}};return b}(d.framework.ui.ViewBase);f.OverviewMapView=g})(f.overviewMap||(f.overviewMap={}))})(f.modules||
(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(g){function b(){g.apply(this,arguments);this.isEnabled=new Observable(!1);this.isActive=new Observable(!1);this.altText=new Observable(null);this.extentScaleFactor=new Observable(null);this.visibleExtentColour=new Observable(null);this.overviewMapDijit=null;this.overviewMapId=new Observable(null);this.isLeft=new Observable(!1);this.isRight=new Observable(!1);this.isTop=new Observable(!1);this.isBottom=new Observable(!1);
this.bottomAndActive=new Observable(!1)}__extends(b,g);b.prototype.initialize=function(a){var c=this;if(this.app.map&&this.app.map.loaded)this._loadConfig(a);else this.app.event("MapLoadedEvent").once(this,function(){return c._loadConfig(a)});this.overviewMapId.set(d.framework.utils.alphaNumericToken())};b.prototype._loadConfig=function(a){var c=this;if(this.app.site.hasOverviewMap){a&&(a.isEnabled&&this.isEnabled.set(!0),!0===a.openByDefault&&(this.isActive.set(!0),this.app.command("OpenOverviewMap").execute()),
a.extentScaleFactor&&this.extentScaleFactor.set(a.extentScaleFactor),a.visibleExtentColour&&this.visibleExtentColour.set(a.visibleExtentColour));this.altText.set(this.getResource("language-feature-overview-map-toggle"));this.isActive.bind(this,function(a){!0==a&&!0==c.isBottom.get()?c.bottomAndActive.set(!0):c.bottomAndActive.set(!1)});a=this.app.site.overviewMap;for(var e=[],b=a.mapServices.length-1;0<=b;b--){var d=a.mapServices[b];d&&(f.infrastructure.GeometryUtils.needsProjection(new esri.geometry.Point(1,
1,d.serviceLayer.spatialReference),this.app)&&this.app.trace.warning("Overview Map Layer WKID/WKT differs from basemap. There may be rendering errors in the overview map. Layer: "+d.serviceUrl),e.push(d))}0==e.length&&(this.app.trace.info(this.app.getResource(this.libraryId,"language-feature-overview-map-error-no-base-layer")),$(".esriControlsBR").removeClass("attributionOverride"),this.isEnabled.set(!1))}else $(".esriControlsBR").removeClass("attributionOverride")};return b}(d.framework.ui.ViewModelBase);
g.OverviewMapViewModel=m})(g.overviewMap||(g.overviewMap={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);return b}(d.framework.application.ModuleBase);f.PrintingModule=g})(f.printing||(f.printing={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=f.infrastructure.PromiseUtils,l=function(b){function a(c,e){b.call(this,c,e);this._activeViewId=this._initializePromise=this._pushpinsLayer=this._defaultPushpinSymbol=this._cachedSymbol=this._handles=null;this._imageUrlErrors={};this.initialized=!1;this.pushpinsRemainVisible=this.enabled=!0;this.pushpinMarkerUri=a.DEFAULT_PUSHPIN_MARKER_URI;this.pushpinMarkerHeight=this.pushpinMarkerWidth=32;this.offsetX=0;this.offsetY=16;this._handles=
{appEvents:null,mapEvents:null,fsEvents:[]};this.featureSetCollection=new Observable;this.featureSetCollection.bind(this,this._handleCollectionChanged);this._defaultPushpinSymbol=new esri.symbol.PictureMarkerSymbol(a.DEFAULT_PUSHPIN_MARKER_URI,32,32);this._defaultPushpinSymbol.setOffset(0,16);this._registerCommands()}__extends(a,b);a.prototype.initialize=function(a){var e=this;b.prototype.initialize.call(this,a);a&&(a.hasOwnProperty("pushpinsEnabled")&&(this.enabled=!!a.pushpinsEnabled),a.hasOwnProperty("pushpinsRemainVisible")&&
(this.pushpinsRemainVisible=!!a.pushpinsRemainVisible),a.hasOwnProperty("pushpinMarkerUri")&&(this.pushpinMarkerUri=a.pushpinMarkerUri),a.hasOwnProperty("pushpinMarkerWidth")&&(this.pushpinMarkerWidth=parseInt(a.pushpinMarkerWidth)),a.hasOwnProperty("pushpinMarkerHeight")&&(this.pushpinMarkerHeight=parseInt(a.pushpinMarkerHeight)),a.hasOwnProperty("offsetX")&&(this.offsetX=parseInt(a.offsetX)),a.hasOwnProperty("offsetY")&&(this.offsetY=parseInt(a.offsetY)),a.hasOwnProperty("eventMappings")&&(this.eventMappings=
a.eventMappings||{}));this._initializePromise=this._getPushpinSymbolAsync(this.pushpinMarkerUri,this.pushpinMarkerWidth,this.pushpinMarkerHeight,this.offsetX,this.offsetY).then(function(a){e._cachedSymbol=a||e._defaultPushpinSymbol;e.initialized=!0;e.app.command("AddPushpin").raiseCanExecuteChanged();e.app.command("AddPushpins").raiseCanExecuteChanged();e.app.command("RemovePushpin").raiseCanExecuteChanged();e.app.command("RemovePushpins").raiseCanExecuteChanged()});this.app.command("ShowPushpins").raiseCanExecuteChanged();
this.app.command("HidePushpins").raiseCanExecuteChanged();this.app.command("AddPushpin").raiseCanExecuteChanged();this.app.command("AddPushpins").raiseCanExecuteChanged();this.app.command("RemovePushpin").raiseCanExecuteChanged();this.app.command("RemovePushpins").raiseCanExecuteChanged();this.enabled?this.app.command("EnablePushpins").execute():this.app.command("DisablePushpins").execute()};a.prototype.getStateFilter=function(){return{enabled:!0,visible:!0,results:this.app.project.filter.featureSetCollection,
pushpins:{item:this.app.project.filter.feature},resultsView:!0}};a.prototype.exportState=function(){var a=this;return Promise["try"](function(){var e=a.app.project.convert,b=a._getPushpinsLayer(),d=b.graphics.map(function(e){return a._getBackingFeature(e)});return{enabled:a.enabled,visible:b.visible,results:e.fromGcxFeatureSetCollection(a.featureSetCollection.get()),pushpins:d.map(function(a){return e.fromGcxFeature(a)}),resultsView:a._activeViewId}})};a.prototype.applyState=function(a){var e=this,
b=this.app.project.convert;return Promise["try"](function(){e._unsubscribeAll();e._pushpinsLayer&&e._pushpinsLayer.clear()}).then(function(){return e._initializePromise}).then(function(){return b.toGcxFeatureSetCollection(a.results)}).then(function(b){e.enabled=a.enabled;e.featureSetCollection.set(b)}).then(function(){return m.mapSkipRejected(a.pushpins,function(a){return b.toGcxFeature(a).then(function(a){return e._addPushpin(a,!0)})})}).then(function(){e._orderPushpinCollection();e._activeViewId=
a.resultsView;e._subscribeAll();e._getPushpinsLayer().setVisibility(a.visible)})};a.prototype.isReady=function(){return this.enabled&&this.initialized&&!this.app.project.isLoading};a.prototype._registerCommands=function(){this.app.command("EnablePushpins").register(this,this._executeEnablePushpins);this.app.command("DisablePushpins").register(this,this._executeDisablePushpins);this.app.command("ShowPushpins").register(this,this._executeShowPushpins,this.isReady);this.app.command("HidePushpins").register(this,
this._executeHidePushpins,this.isReady);this.app.command("AddPushpin").register(this,this._addPushpin,this.isReady);this.app.command("AddPushpins").register(this,this._executeAddPushpins,this.isReady);this.app.command("RemovePushpin").register(this,this._executeRemovePushpin,this.isReady);this.app.command("RemovePushpins").register(this,this._executeRemovePushpins,this.isReady)};a.prototype._subscribeAll=function(){var a=this;this._unsubscribeAll();this._handles.appEvents=[];this._connectAppEvent("ResultsPageChangedEvent",
this._resultsPageChangedEventHandler);this._connectAppEvent("FSMCollectionRemovedEvent",this._fsmCollectionRemovedEventHandler);this._connectAppEvent("ResultsViewOpenedEvent",function(e){a._trackView(e);a.app.command("ShowPushpins").execute()});this.pushpinsRemainVisible?this._connectAppEvent("ResultsViewClosedEvent",function(e){e&&e.id===a._activeViewId&&a.app.command("HidePushpins").execute()}):this._connectAppEvent("ResultsViewCollapsedEvent",function(e){e&&e.id===a._activeViewId&&a.app.command("HidePushpins").execute()});
if(this.eventMappings)for(var e in this.eventMappings)if(this.eventMappings.hasOwnProperty(e)){var b=this._wireUpConfiguredEventHandler(e,this.eventMappings[e]);this._handles.appEvents.push({eventName:e,token:b})}if(this.app.site&&this.app.site.isInitialized)this._connectMapEvents(this.app.map);else this.app.event("SiteInitializedEvent").once(this,function(){return a._connectMapEvents(a.app.map)});this._connectAppEvent("FeatureDeletedEvent",function(e){e&&a._executeRemovePushpin(e)})};a.prototype._unsubscribeAll=
function(){this._disconnectMapEvents();this._disconnectFeatureSetChanges();this._disconnectAppEvents()};a.prototype._trackView=function(a){a&&(this._activeViewId=a.id)};a.prototype._executeEnablePushpins=function(){this.enabled=!0;this._subscribeAll();this.app.command("ShowPushpins").raiseCanExecuteChanged();this.app.command("HidePushpins").raiseCanExecuteChanged();this.app.command("AddPushpin").raiseCanExecuteChanged();this.app.command("AddPushpins").raiseCanExecuteChanged();this.app.command("RemovePushpin").raiseCanExecuteChanged();
this.app.command("RemovePushpins").raiseCanExecuteChanged()};a.prototype._executeDisablePushpins=function(){this.enabled=!1;this._unsubscribeAll();if(this.app.map){var a=this._getPushpinsLayer();a.clear();a.hide()}this.app.command("ShowPushpins").raiseCanExecuteChanged();this.app.command("HidePushpins").raiseCanExecuteChanged();this.app.command("AddPushpin").raiseCanExecuteChanged();this.app.command("AddPushpins").raiseCanExecuteChanged();this.app.command("RemovePushpin").raiseCanExecuteChanged();
this.app.command("RemovePushpins").raiseCanExecuteChanged()};a.prototype._executeShowPushpins=function(){this._setPushpinsVisibility(!0)};a.prototype._executeHidePushpins=function(){this._setPushpinsVisibility(!1)};a.prototype._executeAddPushpins=function(a){a=this.app.featureSetManager.getCollectionById(a);this.featureSetCollection.set(a)};a.prototype._executeRemovePushpins=function(){this.featureSetCollection.set(null)};a.prototype._setPushpinsVisibility=function(a){this._getPushpinsLayer().setVisibility(a);
this.app.command("ShowPushpins").raiseCanExecuteChanged();this.app.command("HidePushpins").raiseCanExecuteChanged()};a.prototype._connectAppEvent=function(a,e){var b=this.app.event(a).subscribe(this,e);this._handles.appEvents.push({eventName:a,token:b})};a.prototype._disconnectAppEvents=function(){if(this._handles.appEvents)for(var a=0;a<this._handles.appEvents.length;a++){var e=this._handles.appEvents[a];this.app.event(e.eventName).unsubscribe(e.token)}this._handles.appEvents=null};a.prototype._connectMapEvents=
function(a){var e=this;this._handles.mapEvents=[a.on("layer-add-result",function(a){e.initialized&&e.enabled&&a.layer&&e._pushpinsLayer&&a.layer.id!==e._pushpinsLayer.id&&e._movePushpinsToFront()}),a.on("layer-remove",function(a){e.initialized&&e.enabled&&a.layer&&e._pushpinsLayer&&a.layer.id!==e._pushpinsLayer.id&&e._movePushpinsToFront()}),a.on("layers-reordered",function(a){e.initialized&&e.enabled&&e._movePushpinsToFront()})]};a.prototype._disconnectMapEvents=function(){this._handles.mapEvents&&
dojo.forEach(this._handles.mapEvents,function(a,e){a.remove()});this._handles.mapEvents=null};a.prototype._connectFeatureSetChanges=function(a){for(var e=this,b=0;b<a.featureSets.getLength();b++){var d=a.featureSets.getAt(b);if(!this._handles.fsEvents.some(function(a){return a.collection===d.features})){var f=d.features.bind(this,function(b){return e._featureSetChanged(a.id,b)});this._handles.fsEvents.push({collection:d.features,token:f})}}};a.prototype._disconnectFeatureSetChanges=function(a){a=
a?a.featureSets.getRange(0):null;for(var e=0;e<this._handles.fsEvents.length;e++){var b=this._handles.fsEvents[e];!b.collection||a&&a.some(function(a){return a.features===b.collection})||(b.collection.unbind(b.token),this._handles.fsEvents.splice(e,1),e--)}};a.prototype._movePushpinsToFront=function(){if(this._pushpinsLayer){var a=this.app.map.graphicsLayerIds.length-1;null!=this.app.map.getLayer(this._pushpinsLayer.id)&&this.app.map.graphicsLayerIds[a]!==this._pushpinsLayer.id&&(this._disconnectMapEvents(),
this.app.map.reorderLayer(this._pushpinsLayer,a),this._connectMapEvents(this.app.map))}};a.prototype._wireUpConfiguredEventHandler=function(a,e){var b=this;return this.app.event(a).subscribe(this,function(a){var c=null;a&&(a instanceof esri.Graphic?c=b._getBackingFeature(a):a instanceof f.infrastructure.Feature&&(c=a));b._executeMappedCommands(e,c)})};a.prototype._executeMappedCommands=function(a,e){if("string"===typeof a)this.app.command(a).execute(e);else if(a instanceof Array)for(var b=0;b<a.length;b++)this.app.command(a[b]).execute(e)};
a.prototype._getPushpinsLayer=function(){this._pushpinsLayer||(this._pushpinsLayer=this.app.map.getLayer(a.DEFAULT_PUSHPINS_LAYER_NAME));this._pushpinsLayer||(this._pushpinsLayer=new esri.layers.GraphicsLayer({id:a.DEFAULT_PUSHPINS_LAYER_NAME}),this.app.map.addLayer(this._pushpinsLayer),this._attachMouseEventHandlers(this._pushpinsLayer),this._pushpinsLayer.hide());return this._pushpinsLayer};a.prototype._attachMouseEventHandlers=function(a){var e=this;a=a.getNode();$(a).on("click",function(a){e._getGraphicFromJQueryEvent(a,
function(c){e.app.event("PushpinClickedEvent").publish(c);"function"===typeof a.preventDefault&&"function"===typeof a.stopPropagation&&(a.preventDefault(),a.stopPropagation())})});$(a).on("mousedown",function(a){e._getGraphicFromJQueryEvent(a,function(c){0==a.button?e.app.event("PushpinMouseLeftButtonDownEvent").publish(c):2==a.button&&e.app.event("PushpinMouseRightButtonDownEvent").publish(c)})});$(a).on("mouseup",function(a){e._getGraphicFromJQueryEvent(a,function(c){0==a.button?e.app.event("PushpinMouseLeftButtonUpEvent").publish(c):
2==a.button&&e.app.event("PushpinMouseRightButtonUpEvent").publish(c)})});$(a).on("mouseenter",function(a){e._getGraphicFromJQueryEvent(a,function(a){e.app.event("PushpinMouseEnterEvent").publish(a)})});$(a).on("mouseleave",function(a){e._getGraphicFromJQueryEvent(a,function(a){e.app.event("PushpinMouseLeaveEvent").publish(a)})});this._linkBehaviorsToEvents()};a.prototype._linkBehaviorsToEvents=function(){var a=this;this.app.event("PushpinClickedEvent").subscribe(this,function(e){a.app.behavior("PushpinClickedBehavior").run(e.attributes.Feature)});
this.app.event("PushpinMouseLeftButtonDownEvent").subscribe(this,function(e){a.app.behavior("PushpinMouseLeftButtonDownBehavior").run(e.attributes.Feature)});this.app.event("PushpinMouseRightButtonDownEvent").subscribe(this,function(e){a.app.behavior("PushpinMouseRightButtonDownBehavior").run(e.attributes.Feature)});this.app.event("PushpinMouseLeftButtonUpEvent").subscribe(this,function(e){a.app.behavior("PushpinMouseLeftButtonUpBehavior").run(e.attributes.Feature)});this.app.event("PushpinMouseRightButtonUpEvent").subscribe(this,
function(e){a.app.behavior("PushpinMouseRightButtonUpBehavior").run(e.attributes.Feature)});this.app.event("PushpinMouseEnterEvent").subscribe(this,function(e){a.app.behavior("PushpinMouseEnterBehavior").run(e.attributes.Feature)});this.app.event("PushpinMouseLeaveEvent").subscribe(this,function(e){a.app.behavior("PushpinMouseLeaveBehavior").run(e.attributes.Feature)})};a.prototype._getGraphicFromJQueryEvent=function(a,e){if(a.originalEvent){var b=a.originalEvent.graphic;null!==b&&"undefined"!==typeof b||
!a.originalEvent.srcElement||(b=a.originalEvent.srcElement.e_graphic);-1!=$.inArray(b,this._pushpinsLayer.graphics)&&e(b)}};a.prototype._handleCollectionChanged=function(a){if(!this.app.project.isLoading&&(this._getPushpinsLayer().clear(),this._disconnectFeatureSetChanges(a),a&&0<a.featureSets.getLength()&&!1!==a.getExtendedPropertyByName("ShowPushpins"))){for(var e=0;e<a.featureSets.getLength();e++)this._addPushpinsForFS(a.featureSets.getAt(e));this._orderPushpinCollection();this._connectFeatureSetChanges(a)}};
a.prototype._resultsPageChangedEventHandler=function(a){if(this.featureSetCollection.get()&&a&&a.featureSetCollection&&a.featureSetCollection.id==this.featureSetCollection.get().id&&!this.app.project.isLoading&&(this._getPushpinsLayer().clear(),this._disconnectFeatureSetChanges(a.featureSetCollection),!1!==a.featureSetCollection.getExtendedPropertyByName("ShowPushpins"))){for(var e=0;e<a.newValue.getLength();e++)this._addPushpin(a.newValue.getAt(e));this._orderPushpinCollection();this._connectFeatureSetChanges(a.featureSetCollection)}};
a.prototype._featureSetChanged=function(a,e){var b=this;if(!this.app.project.isLoading&&this.isReady()&&this.featureSetCollection.get()&&a&&a==this.featureSetCollection.get().id)if("append"===e.type||"insert"===e.type){for(var d=e.rangeStart;d<=e.rangeEnd;d++){var f=e.sender.getAt(d);this._addPushpin(f)}this._orderPushpinCollection()}else"remove"!==e.type&&"clear"!==e.type||setTimeout(function(){b.featureSetCollection.get().featureSets.pulse()},0)};a.prototype._fsmCollectionRemovedEventHandler=function(a){!this.app.project.isLoading&&
this.featureSetCollection.get()&&a&&a.featureSetCollectionId&&a.featureSetCollectionId==this.featureSetCollection.get().id&&(this._disconnectFeatureSetChanges(),this._getPushpinsLayer().clear(),this.featureSetCollection.set(null))};a.prototype._addPushpinsForFS=function(a){if(a&&a.features)for(var e=0;e<a.features.getLength();e++)this._addPushpin(a.features.getAt(e))};a.prototype._addPushpin=function(a,e){void 0===e&&(e=!1);if((this.isReady()||e)&&a&&a.esriFeature.get()&&a.hasValidGeometry.get()){var b=
f.infrastructure.GeometryUtils.getMiddle(a.esriFeature.get().geometry);b&&(b=new esri.Graphic(b,this._cachedSymbol,{Feature:a},null),this._getPushpinsLayer().add(b))}};a.prototype._executeRemovePushpin=function(a){if(a){var e=a instanceof f.infrastructure.Feature?a.esriFeature.get():a;if(this.isReady()&&e)for(var b=this._getPushpinsLayer(),d=0;d<b.graphics.length;d++){var g=b.graphics[d],h=g.attributes.Feature;if(h===a||h&&f.infrastructure.MapUtils.esriFeaturesEqual(e,h.esriFeature.get())){b.remove(g);
break}}}};a.prototype._getBackingFeature=function(c){return c&&c.getLayer()&&c.getLayer().id===a.DEFAULT_PUSHPINS_LAYER_NAME&&c.attributes&&c.attributes.hasOwnProperty("Feature")?c.attributes.Feature:null};a.prototype._orderPushpinCollection=function(){var a=this._getPushpinsLayer().graphics.slice(0);a&&0<a.length&&(a.sort(function(a,c){var b=a.geometry,d=c.geometry;return null==b&&null==d?0:null==b?d.y-0||0-d.x:null==d?0-b.y||b.x-0:d.y-b.y||b.x-d.x}),dojo.forEach(a,function(a,c){var b=a?a.getShape():
null;b&&"function"===typeof b.moveToFront&&b.moveToFront()}))};a.prototype._getPushpinSymbolAsync=function(a,e,b,d,f){var g=this,h=new dojo.Deferred;this._cachedSymbol&&this._cachedSymbol.url===a&&this._cachedSymbol.width===e&&this._cachedSymbol.height===b&&this._cachedSymbol.xoffset===d&&this._cachedSymbol.yoffset===f?h.resolve(this._cachedSymbol):this._checkImageExists(a).then(function(l){var m=null;l&&l.exists?(m=new esri.symbol.PictureMarkerSymbol(l.url,e||g.pushpinMarkerWidth,b||g.pushpinMarkerHeight),
m.setOffset(d||g.offsetX,f||g.offsetY)):(g.app.trace.warning("Could not load pushpin image at {0}. The default marker image will be used.".format(a)),m=g._defaultPushpinSymbol);h.resolve(m)},function(e){g.app.trace.warning("Could not load pushpin image at {0}. The default marker image will be used.".format(a));h.resolve(g._defaultPushpinSymbol)});return h};a.prototype._checkImageExists=function(a){var e=this,b=new dojo.Deferred;if(!a||this._imageUrlErrors[a])b.resolve({url:a,exists:!1});else{var d=
new Image;d.onload=function(){b.resolve({url:a,exists:!0})};d.onerror=function(){e._imageUrlErrors[a]=!0;b.resolve({url:a,exists:!1})};d.src=a;d.complete&&(d.onload=null,b.resolve({url:a,exists:!0}))}return b};a.DEFAULT_PUSHPIN_MARKER_URI="Resources/Images/Pushpins/map-marker-red-32.png";a.DEFAULT_PUSHPINS_LAYER_NAME="DefaultPushpinsLayer";return a}(d.framework.application.ModuleBase);g.PushpinsModule=l})(g.pushpins||(g.pushpins={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(g){function b(){g.apply(this,arguments)}__extends(b,g);b.prototype.initialize=function(a){this._config=a;this.app.command("LaunchBarcodeScannerWithCallback").register(this,this._executeLaunchBarcodeScanner);this.app.event("NativeMessageEvent").subscribe(this,this._handleNativeMessageEvent);this.app.event("_HtmlBarcodeScannerResult").subscribe(this,this._handleHtmlBarcodeScanner)};b.prototype._executeLaunchBarcodeScanner=
function(a){var c=this;this.lastCallback=a;this.app.nativeManager.hasNativeCapability("barcodeScanner").then(function(a){a&&!1!==c._config.allowNativeScanner&&d.GeocortexNativeApp&&d.GeocortexNativeApp.launchBarcodeScanner?d.GeocortexNativeApp.launchBarcodeScanner():!1!==c._config.allowHtmlScanner&&Modernizr.getusermedia&&Modernizr.webworkers?c.app.command("ActivateView").execute(c._config.htmlScannerView):(c.app.trace.warning("Could not launch a QR scanner."),c.app.command("AddStatus").execute(new f.infrastructure.commandArgs.AddStatusArgs(c.getResource("language-barcode-scanner-unavailable"))))})};
b.prototype._handleNativeMessageEvent=function(a){"BarcodeScanResult"===a.type&&this.lastCallback&&(this.lastCallback(a.parameters),this.lastCallback=null)};b.prototype._handleHtmlBarcodeScanner=function(a){this.lastCallback&&(this.lastCallback({status:"Success",content:a.value}),this.lastCallback=null)};return b}(d.framework.application.ModuleBase);g.BarcodeScannerModule=m})(g.barcodescanner||(g.barcodescanner={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.getStateFilter=function(){return{queries:{item:this._getQueryStateFilter()},filters:{item:this._getQueryStateFilter()}}};b.prototype.exportState=function(){var a=this,c={queries:[],filters:[]};return Promise["try"](function(){a.app.command("_ExportQueryBuilderState").execute(c);return c})};b.prototype.applyState=function(a){var c=this,e={state:a,completePromises:[]};
return this.app.waitUntilAllLibrariesLoaded().then(function(){c.app.command("_ApplyQueryBuilderState").execute(e);return Promise.all(e.completePromises)})["return"]()};b.prototype._getQueryStateFilter=function(){return{layer:this.app.project.filter.layer,clauses:{item:{field:!0,operator:!0,value:!0}},where:!0}};return b}(d.framework.application.ModuleBase);f.QueryBuilderModule=g})(f.queryBuilder||(f.queryBuilder={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(g){function b(a,c){var e=this;g.call(this,a,c);this.app.command("PrintMap").register(this,function(){e.viewModel.printComplete.set(!1);e.app.viewManager.activateView(e);e.app.configuration.mobileMode||e.initializePrintPreview()},function(){return e.app.site&&e.app.site.hasPrintTemplates});var b=this.app.site;if(b&&b.isInitialized)this.siteInitializedEvent();else this.app.event("SiteInitializedEvent").once(this,this.siteInitializedEvent)}
__extends(b,g);b.prototype.attach=function(a){g.prototype.attach.call(this,a);this.viewModel.printPreviewIsLocked.bind(this,this.lockModeHasChanged)};b.prototype.siteInitializedEvent=function(){var a=this;this.viewModel.previewIsEnabled.set(f.infrastructure.distances.canConvert(this.app.site.essentialsMap.units.type.replace("_",""),d.essentials.DistanceUnitType.INCHES));this.viewModel.previewIsEnabled.get()&&(this.app.event("PrintTemplateStartedEvent").subscribe(this,this.hidePrintPreview),this.app.event("PrintTemplateCompletedEvent").subscribe(this,
this.printTemplateCompletedEvent),this.app.configuration.mobileMode&&this.app.event("DataFrameOpenedEvent").subscribe(this,function(c){a.bottomPanelPercHeight=c;var e=document.body.clientHeight;a.adaptMapScale(e-e*c)}));this.viewModel.siteInitialized()};b.prototype.initializePrintPreview=function(){this.viewModel.previewIsEnabled.get()&&(this.viewModel.previewIsVisible.get()?this.addGraphicPrintPreview():(this.viewModel.setScales(this.viewModel.selectedTemplate.get()),this.viewModel.printPreviewIsLocked.set(!0),
this.viewModel.graphic||this.addGraphicPrintPreview()))};b.prototype.activated=function(){this.viewIsActivated=!0;this.viewModel.printPreviewLockTogglerIsDisabled.set(!1)};b.prototype.deactivated=function(){this.viewIsActivated=!1;this.viewModel.previewIsEnabled.get()&&this.resetPrintPreview();this.app.configuration.mobileMode||this.app.command("DeactivateView").execute("UnlockedPrintPreviewView")};b.prototype.printTemplateCompletedEvent=function(){this.viewModel.printPreviewIsLocked.get()&&this.addGraphicPrintPreview({scale:this.viewModel.printPreviewScale,
extent:this.viewModel.printPreviewExtent})};b.prototype.handleTemplateSelectionChanged=function(a,c,e){this.viewModel.updatePrintTemplate();this.viewModel.previewIsVisible.get()&&this.viewModel.previewIsEnabled.get()&&this.viewModel.printPreviewIsLocked.get()&&this.addGraphicPrintPreview();this.app.event("PrintPreviewLayoutChangedEvent").publish()};b.prototype.handleScaleSelectionChanged=function(a,c,e){var b=this;setTimeout(function(){b.viewModel.previewIsVisible.get()&&b.viewModel.previewIsEnabled.get()&&
b.viewModel.printPreviewIsLocked.get()&&b.addGraphicPrintPreview();var a=parseFloat(b.viewModel.selectedScale.get().scale);a?(b.app.command("ZoomToScale").execute(a),b.viewModel.printPreviewLockTogglerIsDisabled.get()&&b.viewModel.printPreviewLockTogglerIsDisabled.set(!1)):(b.viewModel.printPreviewLockTogglerIsDisabled.set(!0),b.viewModel.printPreviewIsLocked.get()&&b.viewModel.printPreviewIsLocked.set(!1));b.app.event("PrintPreviewScaleChangedEvent").publish()});return!0};b.prototype.handlePrintClick=
function(a,c,b){this.viewModel.performPrint()};b.prototype.handleOpenFileClick=function(a,c,b){window.open(this.viewModel.url.get());this.viewModel.printComplete.set(!1)};b.prototype.lockModeHasChanged=function(a){this.viewModel.printPreviewIsLocked.get()?this.addGraphicPrintPreview({extent:this.viewModel.printPreviewExtent}):this.hidePrintPreview()};b.prototype.handleReCenterClick=function(a,c,b){this.viewModel.previewIsEnabled.get()&&this.addGraphicPrintPreview({adaptMapScale:this.app.configuration.mobileMode})};
b.prototype.handleCancelClick=function(){this.app.viewManager.deactivateView(this)};b.prototype.handleTogglePreviewClick=function(){this.viewModel.previewIsVisible.get()?this.hidePrintPreview():this.viewModel.graphic?this.showPrintPreview():this.addGraphicPrintPreview({adaptMapScale:this.app.configuration.mobileMode})};b.prototype.resetPrintPreview=function(){this.hidePrintPreview();this.imageGraphic=this.viewModel.graphic=null;this.viewModel.printPreviewExtent=null;this.viewModel.printPreviewScale=
null};b.prototype.showPrintPreview=function(){this.viewModel.previewIsVisible.set(!0);this.viewModel.graphic&&this.app.map.graphics.add(this.viewModel.graphic);this.imageGraphic&&this.app.map.graphics.add(this.imageGraphic)};b.prototype.hidePrintPreview=function(){this.viewModel.previewIsVisible.set(!1);this.viewModel.graphic&&this.app.map.graphics.remove(this.viewModel.graphic);this.imageGraphic&&this.app.map.graphics.remove(this.imageGraphic)};b.prototype.addGraphicPrintPreview=function(a){a||(a=
{});this.resetPrintPreview();var c=a.extent?a.extent.getCenter():this.app.map.extent.getCenter(),b=a.scale?a.scale:parseFloat(this.viewModel.selectedScale.get().scale);b||(this.viewModel.printPreviewScale=null);var d=this.viewModel.calculateWidthAndHeightFromSelectedPrintTemplate(b);this.viewModel.graphic=this.viewModel.getGraphicFromPrintTemplate(c,d.width,d.height);this.app.map.graphics.add(this.viewModel.graphic);this.imageGraphic=new esri.Graphic;this.imageGraphic.setSymbol(this.viewModel.imageSymbol);
this.imageGraphic.setGeometry(c);this.app.map.graphics.add(this.imageGraphic);this.imageGraphic.show();this.viewModel.previewIsVisible.set(!0);this.viewModel.printPreviewExtent=this.viewModel.graphic.geometry.getExtent();this.viewModel.printPreviewScale=b;if(this.app.configuration.mobileMode&&this.bottomPanelPercHeight)var c=document.body.clientHeight,f=c-c*this.bottomPanelPercHeight;else this.app.configuration.mobileMode||(f=this.app.map.height);a.adaptMapScale&&f&&this.adaptMapScale(f)};b.prototype.adaptMapScale=
function(a){var c=this.app.map.getScale();if(f.infrastructure.MapUtils.getClosestScale(this.app.map,f.infrastructure.MapUtils.ScaleChangeMode.GreaterThan,c+1)!==c+1&&this.viewModel.graphic&&this.viewModel.previewIsVisible.get()){var b=this.viewModel.getGraphicPositionFromExtent(this.viewModel.printPreviewExtent),d=b.width>b.height?b.height:b.width,b=d/1,g;if(d>a){for(;a<b;)g=f.infrastructure.MapUtils.getClosestScale(this.app.map,f.infrastructure.MapUtils.ScaleChangeMode.GreaterThan,c+1),c=g/c,b/=
c,c=g;this.app.command("ZoomToScale").execute(g)}}};return b}(d.framework.ui.ViewBase);g.PrintingView=m})(g.printing||(g.printing={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(g){function b(a,c){g.call(this,a,c);this.printTemplates=new ObservableCollection;this.outputFormats=new ObservableCollection;this.resolutions=new ObservableCollection;this.scales=new ObservableCollection;this.grids=new ObservableCollection;this.textFields=new ObservableCollection;this.textFied=new Observable(null);this.selectedTemplate=new Observable(null);this.selectedScale=new Observable(null);this.selectedResolution=
new Observable(null);this.selectedFormat=new Observable(null);this.selectedGrid=new Observable(null);this.supportsEmailNotification=new Observable(!1);this.validEmailAddressSupplied=new Observable(!1);this.emailAddress=new Observable(null);this.isPrinting=new Observable(!1);this.printComplete=new Observable(!1);this.isMapLoaded=new Observable(!1);this.url=new Observable(null);this.previewIsVisible=new Observable(!1);this.printPreviewIsLocked=new Observable(!0);this.previewIsEnabled=new Observable(!1);
this.printPreviewLockTogglerIsDisabled=new Observable(!1);this.mobileMode=new Observable(this.app.configuration.mobileMode)}__extends(b,g);b.prototype.initialize=function(a){var c=a.previewBackgroundColor||[207,76,64,0.3],b=a.previewBorderThickness||2;this.printPreviewSymbol=new esri.symbol.SimpleFillSymbol(esri.symbol.SimpleFillSymbol.STYLE_SOLID,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color(a.previewBorderColor||[128,128,128]),b),new esri.Color(c));this.imageSymbol=
new esri.symbol.PictureMarkerSymbol(a.previewCenterImageUrl||"Resources/Images/center-cross-32.png",32,32)};b.prototype.siteInitialized=function(){if(this.app.site&&this.app.site.hasPrintTemplates){this.printTemplates.addItems(this.app.site.printTemplates);for(var a=this.printTemplates.getLength()-1;0<=a;a--)!1===this.printTemplates.getAt(a).visible?this.printTemplates.removeAt(a):!0===this.printTemplates.getAt(a).isDefault&&this.selectedTemplate.set(this.printTemplates.getAt(a));null===this.selectedTemplate.get()&&
this.selectedTemplate.set(this.printTemplates.getAt(0));this.updatePrintTemplate()}this.isMapLoaded.set(!0);this.app.command("PrintMap").raiseCanExecuteChanged()};b.prototype.performPrint=function(){var a=this;this.isPrinting.set(!0);var c=this.selectedTemplate.get();this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-is-printing"));var b=new d.essentials.ReportParameters;b.outputFormat=this.selectedFormat.get();b.resolution=this.selectedResolution.get();
b.grid=this.selectedGrid.get();b.fields=c.textFields;b.customExtent=this.printPreviewExtent;b.scale=this.selectedScale.get();if(b.scale.scale){var f=parseFloat(b.scale.scale);b.scale.scale=f.toFixed(6)}b.extentType=""===b.scale.scale?d.essentials.ReportParameters.CURRENT_EXTENT:d.essentials.ReportParameters.CUSTOM_EXTENT;this.supportsEmailNotification.get()&&(String.isNullOrEmpty(this.emailAddress.get())?this.validEmailAddressSupplied.set(!1):(b.notificationEmailAddress=this.emailAddress.get(),this.validEmailAddressSupplied.set(!0)));
this.app.event("PrintTemplateStartedEvent").publish(c);f=new d.essentials.exportMap.ExportMapParameters;f.reportParameters=b;(new d.essentials.exportMap.ExportMapTask(c)).generateMapImageUrl(f).then(function(c){return a._printSuccess(c)},function(c){return a._printError(c)})};b.prototype._printError=function(a){this.app.command("Alert").execute("Print error: "+a.message);this.app.command("ScreenReaderNarrate").execute("Print error: "+a.message);this.app.event("PrintTemplateErrorEvent").publish({name:"PrintTemplateError",
message:a.message});this.isPrinting.set(!1)};b.prototype._printSuccess=function(a){this.isPrinting.set(!1);this.url.set(a.href);this.printComplete.set(!0);this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-print-complete-description"));this.app.command("LogOptimizerEvent").execute("PrintMap",this.selectedTemplate.get().displayName);this.app.event("PrintTemplateCompletedEvent").publish(this.selectedTemplate.get())};b.prototype.updatePrintTemplate=function(){var a=
this.selectedTemplate.get();a&&(this.setOutputFormats(a),this.setResolutions(a),this.setGrids(a),this.setScales(a),this.setTextFields(a),this.setEmailNotification(a))};b.prototype.setOutputFormats=function(a){this.outputFormats.clear();a.supportedOutputFormats&&(this.outputFormats.addItems(a.supportedOutputFormats),a.defaultOutputFormat?this.selectedFormat.set(a.defaultOutputFormat):this.selectedFormat.set(this.outputFormats.getAt(0)))};b.prototype.setResolutions=function(a){this.resolutions.clear();
a.supportedResolutions&&(this.resolutions.addItems(a.supportedResolutions),a.defaultResolution?this.selectedResolution.set(a.defaultResolution):this.selectedResolution.set(this.resolutions.getAt(0)))};b.prototype.setGrids=function(a){this.grids.clear();if(a.grids&&a.grids.length){var c=this.app.getResource(this.libraryId,"language-printing-none");this.grids.addItem({id:null,displayName:c});this.grids.addItems(a.grids);a.defaultGrid?this.selectedGrid.set(a.defaultGrid):this.selectedGrid.set(this.grids.getAt(0))}};
b.prototype.setScales=function(a){this.scales.clear();var c=this.app.getResource(this.libraryId,"language-printing-current-scale"),b=esri.geometry.getScale(this.app.map),d={displayName:c+" - 1: "+Math.round(b),scale:b.toString()};this.scales.addItem({displayName:c+" - 1: "+Math.round(b),scale:b.toString()});c={displayName:this.app.getResource(this.libraryId,"language-printing-current-extent"),scale:""};this.scales.addItem(c);a.supportedMapScales&&a.supportedMapScales.length&&this.scales.addItems(a.supportedMapScales);
this.selectedScale.set(this.scales.getAt(0));a.defaultMapScale?this.selectedScale.set(a.defaultMapScale):a.defaultMapScaleName&&("Current Extent"===a.defaultMapScaleName?this.selectedScale.set(c):"Current Scale"===a.defaultMapScaleName&&this.selectedScale.set(d))};b.prototype.setTextFields=function(a){this.textFields.clear();if(a.textFields&&0<a.textFields.length){for(var c=[],b=0;b<a.textFields.length;b++){var d=a.textFields[b],f={},g;for(g in d)if(d.hasOwnProperty(g)){var h=this._setupObservablePrimitive(h,
g,d);f[g]=h}c.push(new Observable(f))}this.textFields.addItems(c)}};b.prototype.adjustCustomExtent=function(a,c,b){var d=a.getWidth(),f=a.getHeight(),g=d/f,h=c/b;h!==g&&(b=c=void 0,g>h?(b=d,c=d/h):(c=f,b=f*h),d=a.getCenter(),f=b/2,g=c/2,a=new esri.geometry.Extent(d.x-f,d.y-g,d.x+f,d.y+g,a.spatialReference));return a};b.prototype.getGraphicFromPrintTemplate=function(a,c,b){var d=new esri.geometry.Polygon(this.app.map.spatialReference),f=[];f.push(new esri.geometry.Point(a.x-c/2,a.y-b/2));f.push(new esri.geometry.Point(a.x-
c/2,a.y+b/2));f.push(new esri.geometry.Point(a.x+c/2,a.y+b/2));f.push(new esri.geometry.Point(a.x+c/2,a.y-b/2));f.push(new esri.geometry.Point(a.x-c/2,a.y-b/2));d.addRing(f);return new esri.Graphic(d,this.printPreviewSymbol)};b.prototype.getGraphicPositionFromExtent=function(a){var c=this.app.map.toScreen(new esri.geometry.Point(a.xmin,a.ymax,this.app.map.spatialReference));a=this.app.map.toScreen(new esri.geometry.Point(a.xmax,a.ymin,this.app.map.spatialReference));return{top:c.y,left:c.x,width:a.x-
c.x,height:a.y-c.y}};b.prototype.calculateWidthAndHeightFromSelectedPrintTemplate=function(a){var c;a?(c=f.infrastructure.distances.convert(this.app.site.essentialsMap.units.type.replace("_",""),this.selectedTemplate.get().mainMapWidth*a,d.essentials.DistanceUnitType.INCHES),a=f.infrastructure.distances.convert(this.app.site.essentialsMap.units.type.replace("_",""),this.selectedTemplate.get().mainMapHeight*a,d.essentials.DistanceUnitType.INCHES)):(a=this.adjustCustomExtent(this.app.map.extent,this.selectedTemplate.get().mainMapWidth,
this.selectedTemplate.get().mainMapHeight),c=a.getWidth(),a=a.getHeight());return{width:c,height:a}};b.prototype.calculateExtentFromPrintTemplate=function(a,c){c=c||parseFloat(this.selectedScale.get().scale);var b=this.calculateWidthAndHeightFromSelectedPrintTemplate(c),d=new esri.geometry.Point(a.x-b.width/2,a.y+b.height/2),b=new esri.geometry.Point(a.x+b.width/2,a.y-b.height/2);return new esri.geometry.Extent(d.x,b.y,b.x,d.y,this.app.map.spatialReference)};b.prototype._setupObservablePrimitive=
function(a,c,b){a=new Observable(b[c]);a.set=function(d){b[c]=d;a.value=d;a.bindingEvent.publish(d)};a.get=function(){return b[c]};return a};b.prototype.setEmailNotification=function(a){this.supportsEmailNotification.set(a.supportsEmailNotification)};return b}(d.framework.ui.ViewModelBase);g.PrintingViewModel=m})(g.printing||(g.printing={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.promptRegion="ModalWindowRegion";this.oldPrompt=null;this.overrideNativePrompt=!0}__extends(b,d);b.prototype.initialize=function(a){var c=this;d.prototype.initialize.call(this,a);this.promptRegion=a.promptRegion;this.oldPrompt=window.prompt;this.overrideNativePrompt=a.overrideNativePrompt;var b=function(a,b,e,d){if(!d)return c.oldPrompt(a,e);try{var f=c.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.modules.prompt.PromptView",
markupResource:"Mapping/modules/Prompt/PromptView.html",isVisible:!1,regionName:c.promptRegion,libraryId:c.libraryId}),g={title:a,description:b,defaultText:e,callback:d,promptText:new Observable(e)};f.attach(g);f.title.set(a);c.app.viewManager.activateView(f)}catch(h){c.app.trace.error("Error: Could not display prompt: "+h)}};this.overrideNativePrompt&&(window.prompt=b);this.app.command("Prompt").register(this,function(a,d,f,g){a||(a=c.app.getResource(c.libraryId,"language-prompt-default-title"));
g||(g=function(){});b(a,d,f,g)})};return b}(d.framework.application.ModuleBase);f.PromptModule=g})(f.prompt||(f.prompt={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.promptResult=null}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a);this.promptResult=null;this.title.set(a.promptTitle);if(this.okButtonElement)try{this.okButtonElement.focus()}catch(c){}this.viewContainerViewClosedEventToken||(this.viewContainerViewClosedEventToken=this.app.event("ViewContainerViewClosedEvent").subscribe(this,function(a){a&&a.viewId===
this.id&&this._deactivateForUser()}))};b.prototype.destroyBindings=function(){d.prototype.destroyBindings.call(this);this.viewContainerViewClosedEventToken&&(this.app.event("ViewContainerViewClosedEvent").unsubscribe(this.viewContainerViewClosedEventToken),this.viewContainerViewClosedEventToken=null)};b.prototype.handleClickOk=function(a,c,b){this.viewModel&&(this.promptResult=this.viewModel.promptText.get());this._deactivateForUser();return!1};b.prototype.handleClickCancel=function(a,c,b){this.promptResult=
null;this._deactivateForUser();return!1};b.prototype._deactivateForUser=function(){this.app.viewManager.deactivateView(this);this.app.viewManager.destroyView(this);this.viewModel&&this.viewModel.callback&&this.viewModel.callback(this.promptResult)};return b}(d.framework.ui.ViewBase);f.PromptView=g})(f.prompt||(f.prompt={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c)}__extends(b,d);b.prototype.activated=function(){d.prototype.activated.call(this)};b.prototype.attach=function(a){var c=this,b=this;d.prototype.attach.call(this,a);$(this.autoCompleteInput).autocomplete({minLength:0,source:function(a,b){c.getSuggestions(a,b)},appendTo:a.appendTo,position:{my:"right top",at:"right bottom",using:function(a){var c=$(this);c.css("top",a.top);c.css("right",
c.offsetParent().innerWidth()-(a.left+c.outerWidth()));c.css("left","auto")}}}).on("autocompleteselect",function(a,c){b.viewModel.value.set(c.item.value);return!0});$(this.autoCompleteInput).data("autocomplete")._resizeMenu=function(){var a=this.menu.element;this.options&&this.options.appendTo?(a.css("max-width",$(this.options.appendTo).width()),a.css("min-width",this.element.outerWidth()-6)):a.outerWidth(this.element.outerWidth())}};b.prototype.getSuggestions=function(a,c){var b=this,d=this.viewModel.queryClause.format(f.QueryOperator.StartsWith);
this.viewModel.queryClause.queryBuilderViewModel.getGeometryFilter().then(function(a){f.Query.getSuggestions(b.viewModel.queryClause.layer,b.viewModel.queryClause.selectedField,d,a).then(function(a){c(a)})})};b.prototype.dispose=function(){$(this.autoCompleteInput).remove()};b.prototype.autoComplete_focus=function(a,c,b){$(c).val()||$(c).autocomplete("search","")};b.prototype.autoComplete_blur=function(a,c,b){$(c).autocomplete("widget").hide()};return b}(d.framework.ui.ViewBase);f.AutoCompleteView=
g})(f.queryBuilder||(f.queryBuilder={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.value=new Observable}__extends(b,d);return b}(d.framework.ui.ViewModelBase);f.AutoCompleteViewModel=g})(f.queryBuilder||(f.queryBuilder={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){var m=function(){function d(a){this.settings={};this.settings=a}d.prototype.getFormatter=function(d){return 0<=d.dataProvider.search(/^Db2$/i)?new b(this.settings):0<=d.dataProvider.search(/^FileGdb$/i)?new a(this.settings):0<=d.dataProvider.search(/^Informix$/i)?new c(this.settings):0<=d.dataProvider.search(/^MsAccess$/i)?new e(this.settings):0<=d.dataProvider.search(/^Oracle$/i)?new k(this.settings):0<=d.dataProvider.search(/^PostgreSql/i)?
new q(this.settings):0<=d.dataProvider.search(/^Shapefile/i)?new n(this.settings):0<=d.dataProvider.search(/^SqlServer/i)?new E(this.settings):"WMS"==d.serviceLayerInfo.serviceType?new x(this.settings):new l(this.settings)};return d}();g.QueryFormatterFactory=m;var l=function(){function a(c){this._settings=c||{}}a.prototype.wildcard=function(){return this._settings.wildcard||"%"};a.prototype.dateQueryFormat=function(){return this._settings.dateQueryFormat||"DATE '{0:yyyy-MM-dd}'"};a.prototype.textComparisonQueryFormat=
function(){return this._settings.textComparisonQueryFormat||"LOWER({0}) LIKE LOWER({1})"};a.prototype.numberToTextComparisonQueryFormat=function(){return this._settings.numberToTextComparisonQueryFormat||"CAST({0} AS VARCHAR(50)) LIKE '{1}'"};a.prototype.doesNotContainQueryFormat=function(){return this._settings.doesNotContainQueryFormat||"LOWER({0}) NOT LIKE LOWER({1})"};a.prototype.supportsTimeOfDay=function(){return void 0!=this._settings.queryProviderSupportsTimeOfDay?this._settings.queryProviderSupportsTimeOfDay:
!1};a.prototype.format=function(a,c,b){var e=[g.QueryOperator.Contains,g.QueryOperator.DoesNotContain,g.QueryOperator.StartsWith,g.QueryOperator.EndsWith],d=[g.QueryOperator.IsNull,g.QueryOperator.IsNotNull];if(0<=dojo.indexOf([g.QueryOperator.Equals,g.QueryOperator.NotEquals,g.QueryOperator.LessThan,g.QueryOperator.LessThanEquals,g.QueryOperator.GreaterThan,g.QueryOperator.GreaterThanEquals],c))return this.formatComparison(a,c,b);if(0<=dojo.indexOf(e,c))return this.formatPatternMatch(a,c,b);if(0<=
dojo.indexOf(d,c))return this.formatNull(a,c)};a.prototype.formatComparison=function(a,c,b){var e=this.formatField(a);c=this.formatComparisonOperator(c);a=this.formatValue(a,b);return"{0} {1} {2}".format(e,c,a)};a.prototype.formatPatternMatch=function(a,c,b){return c==g.QueryOperator.DoesNotContain?this.doesNotContainQueryFormat().format(this.formatField(a),this.formatValue(a,this.formatPattern(c,b))):a.isNumeric()?this.numberToTextComparisonQueryFormat().format(this.formatField(a),this.formatPattern(c,
this.formatValue(a,b))):this.textComparisonQueryFormat().format(this.formatField(a),this.formatValue(a,this.formatPattern(c,b)))};a.prototype.formatPattern=function(a,c){var b;switch(a){case g.QueryOperator.Contains:b="{0}{1}{0}";break;case g.QueryOperator.DoesNotContain:b="{0}{1}{0}";break;case g.QueryOperator.StartsWith:b="{1}{0}";break;case g.QueryOperator.EndsWith:b="{0}{1}";break;default:throw Error("Invalid pattern matching operator.");}return b.format(this.wildcard(),c)};a.prototype.formatNull=
function(a,c){if(c==g.QueryOperator.IsNull)return"{0} IS NULL".format(this.formatField(a));if(c==g.QueryOperator.IsNotNull)return"{0} IS NOT NULL".format(this.formatField(a));throw Error("Invalid operator.");};a.prototype.formatField=function(a){return a.name};a.prototype.formatComparisonOperator=function(a){switch(a){case g.QueryOperator.Equals:return"=";case g.QueryOperator.NotEquals:return"<>";case g.QueryOperator.LessThan:return"<";case g.QueryOperator.LessThanEquals:return"<=";case g.QueryOperator.GreaterThan:return">";
case g.QueryOperator.GreaterThanEquals:return">=";default:throw Error("Invalid binary comparison operator.");}};a.prototype.formatValue=function(a,c){return a.isNumeric()?this.formatNumericValue(c):a.isDate()?this.formatDateValue(c):this.formatTextValue(c)};a.prototype.formatNumericValue=function(a){var c=a||"";(a=d.infrastructure.FormatUtils.parseNumber(a))&&(c=d.infrastructure.FormatUtils.formatNumber(a,d.infrastructure.NumberFormat.ROUND_TRIP));return c};a.prototype.formatDateValue=function(a){a=
a||"";var c=FormatUtils.parseDate(a);c&&(a=this.dateQueryFormat().replace(/\{0:([^}]+)\}/,function(a,b){return d.infrastructure.FormatUtils.formatDate(c,b)}));return a.trim()};a.prototype.formatTextValue=function(a){a=(a||"").replace("'","''");return"'{0}'".format(a.trim())};return a}();g.QueryFormatter=l;var b=function(a){function c(b){a.call(this,b)}__extends(c,a);c.prototype.supportsTimeOfDay=function(){return!0};c.prototype.dateQueryFormat=function(){return"TO_DATE('{0:yyyy-MM-dd HH:mm:ss}','YYYY-MM-DD HH24:MI:SS')"};
return c}(l);g.Db2QueryFormatter=b;var a=function(a){function c(b){a.call(this,b)}__extends(c,a);c.prototype.supportsTimeOfDay=function(){return!0};c.prototype.dateQueryFormat=function(){return"DATE '{0:yyyy-MM-dd HH:mm:ss}'"};return c}(l);g.FileGdbQueryFormatter=a;var c=function(a){function c(b){a.call(this,b)}__extends(c,a);c.prototype.supportsTimeOfDay=function(){return!0};c.prototype.dateQueryFormat=function(){return"'{0:yyyy-MM-dd HH:mm:ss}'"};return c}(l);g.InformixQueryFormatter=c;var e=function(a){function c(b){a.call(this,
b)}__extends(c,a);c.prototype.supportsTimeOfDay=function(){return!0};c.prototype.dateQueryFormat=function(){return"#{0:MM-dd-yyyy HH:mm:ss}#"};c.prototype.wildcard=function(){return"*"};return c}(l);g.MsAccessQueryFormatter=e;var k=function(a){function c(b){a.call(this,b)}__extends(c,a);c.prototype.supportsTimeOfDay=function(){return!0};c.prototype.dateQueryFormat=function(){return"TO_DATE('{0:yyyy-MM-dd HH:mm:ss}','YYYY-MM-DD HH24:MI:SS')"};return c}(l);g.OracleQueryFormatter=k;var q=function(a){function c(b){a.call(this,
b)}__extends(c,a);c.prototype.supportsTimeOfDay=function(){return!0};c.prototype.dateQueryFormat=function(){return"TIMESTAMP '{0:yyyy-MM-dd HH:mm:ss}'"};return c}(l);g.PostgreSqlQueryFormatter=q;var n=function(a){function c(b){a.call(this,b)}__extends(c,a);c.prototype.supportsTimeOfDay=function(){return!1};c.prototype.dateQueryFormat=function(){return"DATE '{0:yyyy-MM-dd}'"};return c}(l);g.ShapefileQueryFormatter=n;var E=function(a){function c(b){a.call(this,b)}__extends(c,a);c.prototype.supportsTimeOfDay=
function(){return!0};c.prototype.dateQueryFormat=function(){return"'{0:yyyy-MM-dd HH:mm:ss}'"};return c}(l);g.SqlServerQueryFormatter=E;var x=function(a){function c(b){a.call(this,b)}__extends(c,a);c.prototype.textComparisonQueryFormat=function(){return"{0} LIKE {1}"};c.prototype.doesNotContainQueryFormat=function(){return"{0} NOT LIKE {1}"};return c}(l);g.GeocortexOwsQueryFormatter=x})(g.queryBuilder||(g.queryBuilder={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(){function g(){}g.execute=function(b,a,c,e){var k=this;g._previousExecuteQuery&&g._previousExecuteQuery.cancel();var h=g.getFsc(e);h.clear();e.openCollection(h.id);a=this._appendExpression(a,b.getDefinitionExpression());var n=b.gcxLayer?f.infrastructure.taskUtils.getQueryTask(b.gcxLayer):f.infrastructure.taskUtils.getQueryTask(b.serviceLayerInfo.serviceLayer,b.serviceLayerInfo),m=new esri.tasks.Query;m.where=a;m.returnGeometry=
!0;m.outFields=["*"];m.geometry=c;m.outSpatialReference=this.app.map.spatialReference;a=n.execute(m);g._previousExecuteQuery=a;a.then(function(a){a=new esri.tasks.FeatureSet(a);a=new d.essentialsHtmlViewer.mapping.infrastructure.FeatureSet({esriFeatureSet:a,layer:b.gcxLayer,app:k.app});a.displayName.set(k.app.getResource(k.libraryId,"language-querybuilder-feature-set-display-name").format(b.displayName));h.featureSets.addItem(a);a.resolveDataLinks(function(a){k.app.event("FeatureChangedEvent").publish(a)});
e.closeCollection(h.id);g._previousExecuteQuery=null;k.app.event("QueryCompletedEvent").publish({layer:b,query:m})},function(a){k.app.trace.error(a);e.closeCollection(h.id);g._previousExecuteQuery=null;k.app.event("QueryCompletedEvent").publish({layer:b,query:m,error:a})})};g._appendExpression=function(b,a){var c=b;a&&0<a.length&&(c=b&&0<b.length?b+" AND "+a:a);return c};g.getFsc=function(b){if(g._fsc)return g._fsc;var a=new d.essentialsHtmlViewer.mapping.infrastructure.FeatureSetCollection;b.addCollection(a);
a.displayName.set(this.app.getResource(this.libraryId,"language-querybuilder-feature-set-collection-display-name"));a.sourceName="QueryBuilder";return g._fsc=a};g.getSuggestions=function(b,a,c,e){g._previousGetSuggestions&&(g._previousGetSuggestions.cancel(),g._previousGetSuggestions=null);g._previousGetSuggestionsQuery&&(g._previousGetSuggestionsQuery.cancel(),g._previousGetSuggestionsQuery=null);var d=new dojo.Deferred;d.id=g.counter++;g._previousGetSuggestions=d;c=this._appendExpression(c,b.getDefinitionExpression())||
"1 = 1";b=f.infrastructure.taskUtils.getQueryTask(b.gcxLayer);var h=new esri.tasks.Query;-1===a.name.indexOf(".")&&(h.returnDistinctValues=!0);h.where=c;h.returnGeometry=!1;h.outFields=[a.name];h.geometry=e;c=b.execute(h);g._previousGetSuggestionsQuery=c;c.id=g.counter++;c.then(function(c){g._previousGetSuggestions=null;g._previousGetSuggestionsQuery=null;for(var b={},e=[],f=0;f<c.features.length;f++){var h=c.features[f].attributes[a.name]+"";g._isNullOrWhiteSpace(h)||b.hasOwnProperty(h)||(b[h]=h,
e.push(h));if(10==e.length)break}e.sort();e=e.map(function(c){return a.formatValue(c)});d.resolve(e)},function(a){g._previousGetSuggestions=null;g._previousGetSuggestionsQuery=null;d.errback(a)});return d};g._isNullOrWhiteSpace=function(b){return!b||0==b.length||0<=b.search(/^\s+$/g)};g.counter=0;return g}();g.Query=m})(g.queryBuilder||(g.queryBuilder={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=d.essentialsHtmlViewer.mapping.infrastructure.FormatUtils,l=d.essentialsHtmlViewer.mapping.infrastructure.DateFormat,b=d.essentialsHtmlViewer.mapping.infrastructure.TimeZoneUtils,a=function(){function a(b,k){var q=this;this._settingCodedDomainValue=!1;this.fields=new ObservableCollection;this.fieldValue=new Observable;this.codedDomainValue=new Observable;this.operators=new ObservableCollection;this.selectedFieldName=new Observable;
this.selectedOperator=new Observable;this.deleteDisabled=new Observable(!1);this.isNotLast=new Observable(!1);this.codedValues=new ObservableCollection;this.presentableFieldName=new Observable;this.presentableOperator=new Observable;this.presentableFieldValue=new Observable;this.presentableFieldValueIsEmptyText=new Observable;this.isAwab=new Observable(!1);this.isGvh=new Observable(!1);this.showTextInput=new Observable;this.showDateTimeInput=new Observable;this.showCodedValueDomainInput=new Observable;
this.showDisabledInput=new Observable;this.showDisplayField=new Observable(!1);this.showEditField=new Observable(!0);this.showDisplayOperator=new Observable(!1);this.showEditOperator=new Observable(!0);this.showDisplayValue=new Observable(!1);this.showEditValue=new Observable(!0);this.app=k.app;this.libraryId=k.libraryId;this.autoCompleteViewModel=new f.AutoCompleteViewModel(this.app);this.autoCompleteViewModel.queryClause=this;this.datePickerFormItem=new d.forms.items.DatePickerFormItem(null);this.datePickerFormItem.nullable.set(!1);
this.layer=b;this.queryBuilderViewModel=k;this.selectedOperator.set(f.QueryOperator.Equals.toString());this._selectedFieldNameBindingToken=this.selectedFieldName.bind(this,this._fieldChanged);this._fieldsBindingToken=this.fields.bind(this,this._fieldsChanged);this._selectedOperatorBindingToken=this.selectedOperator.bind(this,this._operatorChanged);this._codedDomainValueBindingToken=this.codedDomainValue.bind(this,function(a){!q._settingCodedDomainValue&&q.selectedField.isTypeField&&q.queryBuilderViewModel.updateCodedDomainValues()});
this.presentableFieldName.syncTransform(this.selectedFieldName,function(a){return(a=q.fields.get().filter(function(a){return a.name==q.selectedFieldName.get()})[0])?a.alias:""});this.presentableFieldValue.syncTransform(this.fieldValue,function(b){if(b){q.presentableFieldValueIsEmptyText.set(!1);var e=g.parseDate(b,l.ROUND_TRIP);if(q.selectedField&&q.selectedField.type===d.essentials.EsriFieldTypes.esriFieldTypeDate&&e&&!isNaN(e.getTime()))return q.queryBuilderViewModel.queryFormatterFactory.getFormatter(k.selectedLayer).supportsTimeOfDay()?
g.formatDate(e,l.DATE_TIME_SHORT):g.formatDate(e,l.DATE_SHORT);if(a._isCodedValueDomain(q.selectedField))for(e=0;e<q.codedValues.length();e++)if(q.codedValues.getAt(e).val===q.codedDomainValue.get())return q.codedValues.getAt(e).name;return q.selectedField.isNumeric()?q.selectedField.formatValue(b):"'{0}'".format(b)}q.presentableFieldValueIsEmptyText.set(!0);return q.app.getResource(q.libraryId,"language-querybuilder-any-value")});this.presentableOperator.syncTransform(this.selectedOperator,function(a){return f.QueryOperatorDescription.FromQueryOperator(parseInt(a)).name});
this.isAwab.sync(k.isAwab);this.isGvh.sync(k.isGvh)}a.prototype.format=function(a){var c=this.queryBuilderViewModel.queryFormatterFactory.getFormatter(this.layer);a=a||parseInt(this.selectedOperator.get());var q=this.fieldValue.get();if(!q&&a!=f.QueryOperator.IsNull&&a!=f.QueryOperator.IsNotNull)return"";var n=g.parseDate(q,l.ROUND_TRIP);if(this.selectedField&&this.selectedField.type===d.essentials.EsriFieldTypes.esriFieldTypeDate&&n&&!isNaN(n.getTime()))var q=this.layer&&this.layer.gcxLayer?b.getTimeZoneFromLayer(this.layer.gcxLayer):
null,m=this.layer&&this.layer.gcxLayer?b.getDisplayTimeZoneFromMapService(this.layer.gcxLayer.mapService):null,n=b.correctDatesToQueryInDatabaseTime(n,q,m),q=g.formatDate(n,l.ROUND_TRIP);return c.format(this.selectedField,a,q)};a.prototype.exportState=function(){return{field:this.selectedFieldName.get(),operator:this.selectedOperator.get(),value:this.fieldValue.get()}};a.prototype.applyState=function(b,d){this.fields.set(d);this.selectedFieldName.set(b.field);this.updateCodedDomainValues();this.selectedOperator.set(b.operator);
a._isCodedValueDomain(this.selectedField)?this.codedDomainValue.set(b.value):this.selectedField.isDate()?this.datePickerFormItem.date.set(g.parseDate(b.value)):this.autoCompleteViewModel.value.set(b.value)};a.prototype._fieldsChanged=function(){0<this.fields.length()&&!this.selectedFieldName.get()&&this.selectedFieldName.set(this.fields.getAt(0).name)};a.prototype._fieldChanged=function(){var b=this,d=this.fields.get().filter(function(a){return a.name==b.selectedFieldName.get()})[0];if(d){this.selectedField=
d;this.operators.clear();a._isCodedValueDomain(d)?(this.operators.addItem(f.QueryOperatorDescription.Equals),this.operators.addItem(f.QueryOperatorDescription.NotEquals)):d.isNumeric()||d.isDate()?(this.operators.addItem(f.QueryOperatorDescription.Equals),this.operators.addItem(f.QueryOperatorDescription.NotEquals),this.operators.addItem(f.QueryOperatorDescription.LessThan),this.operators.addItem(f.QueryOperatorDescription.LessThanEquals),this.operators.addItem(f.QueryOperatorDescription.GreaterThan),
this.operators.addItem(f.QueryOperatorDescription.GreaterThanEquals)):d.isText()&&(this.operators.addItem(f.QueryOperatorDescription.Contains),this.operators.addItem(f.QueryOperatorDescription.DoesNotContain),this.operators.addItem(f.QueryOperatorDescription.StartsWith),this.operators.addItem(f.QueryOperatorDescription.EndsWith),this.operators.addItem(f.QueryOperatorDescription.Equals),this.operators.addItem(f.QueryOperatorDescription.NotEquals));d.nullable&&(this.operators.addItem(f.QueryOperatorDescription.IsNull),
this.operators.addItem(f.QueryOperatorDescription.IsNotNull));this.selectedOperator.set(this.operators.getAt(0).value.toString());var q=parseInt(this.selectedOperator.get());this._updateInputVisibility(d,q);this.queryBuilderViewModel.updateCodedDomainValues();a._isCodedValueDomain(this.selectedField)?this.fieldValue.sync(this.codedDomainValue):this.selectedField.isDate()?this.fieldValue.syncTransform(this.datePickerFormItem.date,function(a){return g.formatDate(b.datePickerFormItem.date.get(),l.ROUND_TRIP)}):
this.fieldValue.sync(this.autoCompleteViewModel.value)}};a.prototype.switchToReadOnly=function(){this.disableModeSwitch||(this.showEditField.set(!1),this.showEditOperator.set(!1),this.showEditValue.set(!1),this.showDisplayField.set(!0),this.showDisplayOperator.set(!0),this.showDisplayValue.set(!0))};a.prototype.switchToEditMode=function(){this.disableModeSwitch||(this.showDisplayField.set(!1),this.showDisplayOperator.set(!1),this.showDisplayValue.set(!1),this.showEditField.set(!0),this.showEditOperator.set(!0),
this.showEditValue.set(!0))};a.prototype.updateCodedDomainValues=function(){var a=this;this.codedValues.clear();if(this.selectedField){if(this.selectedField.isCodedValueDomain())for(var c=0;c<this.selectedField.getCodedValueDomain().codedValues.length;c++){var b=this.selectedField.getCodedValueDomain().codedValues[c];this.codedValues.addItem({name:b.name,val:b.code.toString()})}else if(this.selectedField.hasSubtypeCodedValueDomains()){for(var b=this.selectedField.getSubtypeCodedValueDomains(),d=0,
g=null,c=0;c<this.queryBuilderViewModel.queryClauses.length();c++){var l=this.queryBuilderViewModel.queryClauses.getAt(c);l!==this&&l.selectedField&&l.selectedField.isTypeField&&(g=l,d++)}if(1===d)if(c=g.codedDomainValue.get(),g.selectedOperator.get()===f.QueryOperator.Equals.toString())(g=b[c])&&g.codedValues.forEach(function(c){a.codedValues.addItem({name:c.name,val:c.code.toString()})});else for(var m in b)m!==c&&b.hasOwnProperty(m)&&(g=b[m],g.codedValues.forEach(function(c){a.codedValues.addItem({name:c.name,
val:c.code.toString()})}));else for(m in b)b.hasOwnProperty(m)&&(g=b[m],g.codedValues.forEach(function(c){a.codedValues.addItem({name:c.name,val:c.code.toString()})}))}if(0<this.codedValues.length()){this._settingCodedDomainValue=!0;b=!1;for(c=0;c<this.codedValues.getLength();c++)this.codedValues.getAt(c).val===this.codedDomainValue.get()&&(b=!0,this.codedDomainValue.pulse());b||this.codedDomainValue.set(this.codedValues.getAt(0).val);this._settingCodedDomainValue=!1}}};a.prototype._updateInputVisibility=
function(b,d){this.showTextInput.set(!1);this.showDateTimeInput.set(!1);this.showCodedValueDomainInput.set(!1);this.showDisabledInput.set(!1);d==f.QueryOperator.IsNotNull||d==f.QueryOperator.IsNull?this.showDisabledInput.set(!0):b.isDate()?this.showDateTimeInput.set(!0):a._isCodedValueDomain(b)?this.showCodedValueDomainInput.set(!0):this.showTextInput.set(!0)};a.prototype._operatorChanged=function(){var a=this.selectedField;a.isTypeField&&this.queryBuilderViewModel.updateCodedDomainValues();var c=
parseInt(this.selectedOperator.get());this._updateInputVisibility(a,c)};a._isCodedValueDomain=function(a){return a.isCodedValueDomain()||a.hasSubtypeCodedValueDomains()};a.prototype.dispose=function(){this.selectedFieldName.unbind(this._selectedFieldNameBindingToken);this.fields.unbind(this._fieldsBindingToken);this.selectedOperator.unbind(this._selectedOperatorBindingToken);this.codedDomainValue.unbind(this._codedDomainValueBindingToken);this.fieldValue.removeSync();this.presentableFieldName.removeSync();
this.presentableFieldValue.removeSync();this.presentableOperator.removeSync();this.autoCompleteView&&this.autoCompleteView.dispose();this.isAwab.removeSync();this.isGvh.removeSync()};return a}();f.QueryClause=a})(f.queryBuilder||(f.queryBuilder={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){d=d.essentialsHtmlViewer||(d.essentialsHtmlViewer={});d=d.mapping||(d.mapping={});d=d.modules||(d.modules={});d=d.queryBuilder||(d.queryBuilder={});d=d.QueryOperator||(d.QueryOperator={});d[d.Equals=0]="Equals";d[d.NotEquals=1]="NotEquals";d[d.GreaterThan=2]="GreaterThan";d[d.GreaterThanEquals=3]="GreaterThanEquals";d[d.LessThan=4]="LessThan";d[d.LessThanEquals=5]="LessThanEquals";d[d.Contains=6]="Contains";d[d.DoesNotContain=7]="DoesNotContain";d[d.StartsWith=8]="StartsWith";d[d.EndsWith=
9]="EndsWith";d[d.IsNull=10]="IsNull";d[d.IsNotNull=11]="IsNotNull"})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){function f(b,a){this.value=b;this.name=a}f.FromQueryOperator=function(b){for(var a in f)if(f[a].value==b)return f[a];return null};f.initializeStaticValues=function(b,a){this.Equals=new f(d.QueryOperator.Equals,b.getResource(a,"language-querybuilder-operator-equals"));this.NotEquals=new f(d.QueryOperator.NotEquals,b.getResource(a,"language-querybuilder-operator-not-equals"));this.GreaterThan=new f(d.QueryOperator.GreaterThan,
b.getResource(a,"language-querybuilder-operator-greater-than"));this.GreaterThanEquals=new f(d.QueryOperator.GreaterThanEquals,b.getResource(a,"language-querybuilder-operator-greater-than-equal-to"));this.LessThan=new f(d.QueryOperator.LessThan,b.getResource(a,"language-querybuilder-operator-less-than"));this.LessThanEquals=new f(d.QueryOperator.LessThanEquals,b.getResource(a,"language-querybuilder-operator-less-than-equal-to"));this.Contains=new f(d.QueryOperator.Contains,b.getResource(a,"language-querybuilder-operator-contains"));
this.DoesNotContain=new f(d.QueryOperator.DoesNotContain,b.getResource(a,"language-querybuilder-operator-does-not-contain"));this.StartsWith=new f(d.QueryOperator.StartsWith,b.getResource(a,"language-querybuilder-operator-starts-with"));this.EndsWith=new f(d.QueryOperator.EndsWith,b.getResource(a,"language-querybuilder-operator-ends-with"));this.IsNull=new f(d.QueryOperator.IsNull,b.getResource(a,"language-querybuilder-operator-null"));this.IsNotNull=new f(d.QueryOperator.IsNotNull,b.getResource(a,
"language-querybuilder-operator-not-null"))};return f}();d.QueryOperatorDescription=f})(d.queryBuilder||(d.queryBuilder={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(g){function b(){g.apply(this,arguments);this._focussedOnOtherInput=this._initialized=!1}__extends(b,g);b.prototype.attach=function(a){g.prototype.attach.call(this,a);this.viewModel.initialize(this.configuration);this._initialized||(dojo.connect(this.viewModel,"event_queryClausesRemoving",this,this.viewModel_queryClausesRemoving),this.bindAutoCompleteEvents(),this.subscribeDocumentClickHandler(),this._initialized=!0)};
b.prototype.document_click=function(a){var c=a.data.view;if(0==$(a.target).closest(".query-clause-row, .ui-datepicker-div, .ui-autocomplete").length)for(a=0;a<c.viewModel.queryClauses.length();a++)c.switchToReadOnly(c.viewModel.queryClauses.getAt(a))};b.prototype.form_keydown=function(a){return 50<(new Date).getTime()-(this._lastAutoCompleteTime?this._lastAutoCompleteTime.getTime():0)&&13==a.keyCode&&(a=$(a.target),0<=a.prop("tagName").search(/^input$/i)&&0<=a.prop("type").search(/^text$/i))?(this.performAction(),
!1):!0};b.prototype.form_submit=function(){return!1};b.prototype.bindAutoCompleteEvents=function(){var a=this;$(this.htmlForm).on("autocompleteselect","input.ui-autocomplete-input",function(c){a._lastAutoCompleteTime=new Date})};b.prototype.addQueryClause_click=function(){for(var a=0;a<this.viewModel.queryClauses.length();a++)this.viewModel.queryClauses.getAt(a).switchToReadOnly();this.viewModel.addQueryClause();$(".query-clause-row").last().find("input, select").first().focus()};b.prototype.removeQueryClause_click=
function(a,c,b){1<this.viewModel.queryClauses.length()&&this.viewModel.removeQueryClause(b)};b.prototype.actionButton_click=function(){this.performAction()};b.prototype.clearFilterButton_click=function(){this.viewModel.disabled.set(!1);this.viewModel.whereClause.set(null);this.viewModel.selectedLayer.setDefinitionExpression(null)};b.prototype.clearResultsButton_click=function(){this.event_clearResultsButtonClicked()};b.prototype.externalfilterButton_click=function(){this.viewModel.selectedLayer.setDefinitionExpression("1 = 2")};
b.prototype.event_clearResultsButtonClicked=function(){};b.prototype.addLayerButton_click=function(){this._addedLayer||(this._addedLayer=new esri.layers.ArcGISDynamicMapServiceLayer("http://agsdemos2.geocortex.com/arcgis/rest/services/BeaverCounty/BeaverCounty_Wells/MapServer"),this.app.map.addLayer(this._addedLayer))};b.prototype.removeLayerButton_click=function(){this._addedLayer&&(this.app.map.removeLayer(this._addedLayer),this._addedLayer=null)};b.prototype.input_blur=function(a,c,b){this.switchToReadOnly(b)};
b.prototype.switchToReadOnly=function(a){var c=this;this._focussedOnOtherInput=!1;setTimeout(function(){c._focussedOnOtherInput||0!=$(".ui-datepicker:visible").length||(a.switchToReadOnly(),$(document).off("click",null,c.document_click))},0)};b.prototype.input_focus=function(a,c,b){this._focussedOnOtherInput=!0};b.prototype.displayField_click=function(a,c,b){this.switchToEditMode(b);b.disableModeSwitch=!0;$(c).closest(".query-clause-row").find("select.field-selector").focus();b.disableModeSwitch=
!1};b.prototype.displayOperator_click=function(a,c,b){this.switchToEditMode(b);b.disableModeSwitch=!0;$(c).closest(".query-clause-row").find("select.operator-selector").focus();b.disableModeSwitch=!1};b.prototype.displayValue_click=function(a,c,b){this.switchToEditMode(b);b.disableModeSwitch=!0;$(c).closest(".query-clause-row").find(".value-selector input:visible, select.value-selector:visible").focus();b.disableModeSwitch=!1};b.prototype.switchToEditMode=function(a){a.switchToEditMode();this.subscribeDocumentClickHandler()};
b.prototype.subscribeDocumentClickHandler=function(){$(document).off("click",null,this.document_click);$(document).click({view:this},this.document_click)};b.prototype.performAction=function(){var a=this,c=this.viewModel.buildWhereClause();this.viewModel.isQueryBuilder.get()?(this.event_searchInitiated(),this.viewModel.getGeometryFilter().then(function(b){f.Query.execute(a.viewModel.selectedLayer,c,b,a.app.featureSetManager)})):this.viewModel.getGeometryFilter().then(function(b){null!==b?a.viewModel.buildSpatiallyFilteredWhereClause(b,
c).then(function(c){a.viewModel.selectedLayer.setDefinitionExpression(c)}):(a.viewModel.selectedLayer.setDefinitionExpression(c),a.app.command("ShowMap").execute())});this.app.event("FilterBuilderLayerDefinitionAppliedEvent").publish({gcxlayer:this.viewModel.selectedLayer.gcxLayer})};b.prototype.event_searchInitiated=function(){};b.prototype.resolveWidget=function(a,c){var b=this;if("DatePicker"==a){var g=this.viewModel.queryFormatterFactory.getFormatter(this.viewModel.selectedLayer);c.datePickerFormItem.includeTimePicker.set(g.supportsTimeOfDay());
g=new d.forms.items.TimePickerFormItem(null);c.datePickerFormItem.timePickerItem=g;g=this.app.viewManager.createView({markupResource:"Mapping/modules/Workflow/Forms/Items/DatePickerFormItemView.html",libraryId:"Mapping",typeName:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.DatePickerFormItemView",isVisible:!0});g.attach(c.datePickerFormItem);c.datePickerView=g;$(g.root).find("input, select").on("blur",function(){b.switchToReadOnly(c)});$(g.root).find("input, button, select").on("focus",
function(){b._focussedOnOtherInput=!0});return g}if("AutoComplete"==a){var g=new f.AutoCompleteView(this.app),q=document.createElement("span");dojo.html.set(q,d.resourceManager.fetch("Mapping/modules/QueryBuilder/AutoCompleteView.html",this.libraryId));g.root=q;$(q).find("input").on("blur",function(){b.switchToReadOnly(c)});$(q).find("input").on("focus",function(){b._focussedOnOtherInput=!0});c.autoCompleteViewModel.appendTo="."+this.id+" .autocomplete-container";g.attach(c.autoCompleteViewModel);
return c.autoCompleteView=g}};b.prototype.viewModel_queryClausesRemoving=function(a){for(var c=0;c<a.length;c++)a[c].datePickerView&&$(a[c].datePickerView.root).find("input, button, select").off();for(c=0;c<a.length;c++)a[c].autoCompleteView&&$(a[c].autoCompleteView.root).find("input").off()};return b}(d.framework.ui.ViewBase);f.SimpleQueryBuilderView=g})(f.queryBuilder||(f.queryBuilder={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=d.essentialsHtmlViewer.mapping.infrastructure.gis,l=d.framework.utils.ArrayUtils,b=function(a){function c(c,b){a.call(this,c,b);this.layers=new d.framework.ui.FilterableCollection;this.tables=new d.framework.ui.FilterableCollection;this.selectedLayerUniqueId=new Observable;this.infoText=new Observable;this.queryClauses=new ObservableCollection;this.whereClause=new Observable;this.spatialFilters=new ObservableCollection;this.selectedSpatialFilter=
new Observable;this.isAwab=new Observable(!1);this.isGvh=new Observable(!1);this.isQueryAndAwab=new Observable(!1);this.isDebug=new Observable(!1);this.isQueryBuilder=new Observable(!0);this.areQueryableTables=new Observable(!1);this.areQueryableLayers=new Observable(!1);this.isFilterBuilder=new Observable(!1);this.selectedLayerIsTable=new Observable(!1);this.showLayerError=new Observable(!1);this.disabled=new Observable(!1);this.notDisabled=new Observable(!0);this.noValidLayers=new Observable(!1);
this.noValidLayersText=new Observable("");this.config={};this._allLayers=new ObservableCollection;this._allTables=new ObservableCollection;this._fields=[];this._layerToQueryClausesLookup=new d.essentialsHtmlViewer.mapping.infrastructure.Dictionary;this._isRestoringState=!1;this._initializingPromise=null;this._subTokenDictionary={};this._graphicsLayerSubscriptions=[];this.isGvh.syncTransform(this.isAwab,function(a){return!a});this.notDisabled.syncTransform(this.disabled,function(a){return!a});this.selectedLayerUniqueId.bind(this,
this.layerIdChanged);this.app.command("_ExportQueryBuilderState").register(this,this.exportState);this.app.command("_ApplyQueryBuilderState").register(this,this.applyState)}__extends(c,a);c.prototype.refreshSpatialFilterOptions=function(){0==this.spatialFilters.length()&&(this.spatialFilters.addItem({name:this.getResource("language-querybuilder-spatial-filter-none"),val:"None"}),this.spatialFilters.addItem({name:this.getResource("language-querybuilder-spatial-filter-current-extent"),val:"CurrentExtent"}),
this.selectedSpatialFilter.set("None"));void 0==this.config.allowDrawingsAsSpatialFilter&&(this.config.allowDrawingsAsSpatialFilter=!0);if(this.config.allowDrawingsAsSpatialFilter){var a=this._appInfo.mapInfo.markupLayer.get();a&&0<a.graphics.length&&2==this.spatialFilters.length()?this.spatialFilters.addItem({name:this.getResource("language-querybuilder-spatial-filter-polygons"),val:"Drawings"}):a&&0!=a.graphics.length||3!=this.spatialFilters.length()||(this.spatialFilters.removeAt(2),"Drawings"==
this.selectedSpatialFilter.get()&&this.selectedSpatialFilter.set("None"))}};c.prototype.initialize=function(a){var c=this;a&&(this.config=a);this.queryFormatterFactory=new g.QueryFormatterFactory(this.config);this.isDebug.set(!!a.debug);this.isAwab.set(this.app.isArcGisWebApp);g.QueryOperatorDescription.initializeStaticValues(this.app,this.libraryId);g.Query.app=this.app;g.Query.libraryId=this.libraryId;a="filter"!=this.config.mode;this.isQueryBuilder.set(a);this.isFilterBuilder.set(!a);this.isQueryAndAwab.set(this.isAwab.get()&&
a);a?this.noValidLayersText.set(this.app.getResource(this.libraryId,"language-querybuilder-no-valid-query-layers")):this.noValidLayersText.set(this.app.getResource(this.libraryId,"language-querybuilder-no-valid-filter-layers"));this._initializingPromise||(this._initializingPromise=this.app.waitUntilSiteServiceLayersLoaded().then(function(){var a=m.AppInfo.fromGeocortexApp(c.app);c.initializeQueryBuilder(a)}))};c.prototype.initializeQueryBuilder=function(a){var c=this;this._appInfo=a;this._allLayers.clear();
var b=a.mapInfo.getLayerInfos().filter(function(a){return a.queryable&&!!a.displayName&&!!a.url}),b=d.essentialsHtmlViewer.mapping.infrastructure.ArrayUtils.sortBy(b,function(a){return a.displayName});this._allLayers.set(b);b=a.mapInfo.getTableInfos().filter(function(a){return a.queryable&&!!a.displayName&&!!a.url});this._allTables.set(b);this._checkUseableLayers();this.layers.setSource(this._allLayers);this.tables.setSource(this._allTables);this.layers.setFilter(function(a){return a&&(!a.gcxLayer||
a.gcxLayer.inActiveTheme)});0<this.layers.length()?this.selectedLayerUniqueId.set(this.layers.getAt(0).uniqueId):0<this.tables.length()&&this.selectedLayerUniqueId.set(this.tables.getAt(0).uniqueId);this._handleNewServiceLayers(a.mapInfo.serviceLayers);this.refreshSpatialFilterOptions();this._appInfo.mapInfo.markupLayer.bind(this,this.markupLayerChanged);this.markupLayerChanged(this._appInfo.mapInfo.markupLayer.get());this._appInfo.map.on("layer-add",function(a){c.layerAdded(a)});this._appInfo.map.on("layer-remove",
function(a){c.layerRemoved(a)});this.app.event("MapServiceLayersChangedEvent").subscribe(this,function(a){a&&a.serviceLayer&&(c.layerRemoved({layer:a.serviceLayer}),c.layerAdded({layer:a.serviceLayer}))});this._layerThemeChangedEventToken||(this._layerThemeChangedEventToken=this.app.event("LayerThemeChangedEvent").subscribe(this,function(a){c.layers.refresh();0>c.layers.indexOf(c.selectedLayer)?c.selectedLayerUniqueId.set(c.layers.length()?c.layers.getAt(0).uniqueId:null):c.selectedLayerUniqueId.pulse()}))};
c.prototype.exportState=function(a){var c=this,b=[];this.selectedLayer&&b.push({layer:this.app.project.convert.fromGcxLayer(this.selectedLayer.gcxLayer),clauses:this.queryClauses.get().map(function(a){return a.exportState()}),where:this.whereClause.get()});this._layerToQueryClausesLookup.keys().forEach(function(a){if(!c.selectedLayer||c.selectedLayer.uniqueId!==a){var e=l.firstOrDefault(c._allLayers.get(),function(c){return c.uniqueId===a});if(e){var d=c._layerToQueryClausesLookup.get(a);b.push({layer:c.app.project.convert.fromGcxLayer(e.gcxLayer),
clauses:d.clauses.slice(),where:d.where})}}});this.isFilterBuilder.get()?a.filters=b:a.queries=b};c.prototype.applyState=function(a){var c=this,b=this.isFilterBuilder.get()?a.state.filters:a.state.queries;b&&b.length&&(this._layerToQueryClausesLookup=new d.essentialsHtmlViewer.mapping.infrastructure.Dictionary,a.completePromises.push(this._initializingPromise.then(function(){return c._fieldsRequest}).then(function(){return Promise.map(b,function(a){return c.app.project.convert.toGcxLayer(a.layer,
null)["catch"](function(a){return null}).then(function(b){var e=l.firstOrDefault(c._allLayers.get(),function(a){return a.gcxLayer===b});e&&c._layerToQueryClausesLookup.set(e.uniqueId,{clauses:a.clauses.slice(),where:a.where})})})}).then(function(){return c.app.project.convert.toGcxLayer(b[0].layer,null)})["catch"](function(a){return null}).then(function(a){var b=l.firstOrDefault(c._allLayers.get(),function(c){return c.gcxLayer===a});b&&(c._isRestoringState=!0,c.selectedLayerUniqueId.set(b.uniqueId),
c._isRestoringState=!1)})))};c.prototype._checkUseableLayers=function(){for(var a=0;a<this._allLayers.getLength();a++){var c=this._allLayers.getAt(a);if(c&&c.gcxLayer&&f.infrastructure.taskUtils.canQueryLayer(c.gcxLayer)&&0<c.gcxLayer.fields.length&&null!=c.gcxLayer.mapService&&null!==c.gcxLayer.mapService.serviceLayer){if(!this.isFilterBuilder.get()||this._isValidFilterLayer(c.gcxLayer.mapService))continue}else if(c&&c.queryable&&c.serviceLayerInfo&&c.serviceLayerInfo.serviceLayer&&c.serviceLayerInfo.serviceLayer.url&&
(!this.isFilterBuilder.get()||this._isValidFilterLayer(c.serviceLayerInfo)))continue;this._allLayers.removeAt(a);a--}a=0===this._allLayers.getLength();c=0===this._allTables.getLength();this.areQueryableLayers.set(!a);this.areQueryableTables.set(!c&&this.isQueryBuilder.get());a=this.isFilterBuilder.get()&&a||this.isQueryBuilder.get()&&a&&c;this.noValidLayers.set(a)};c.prototype._isValidFilterLayer=function(a){return a.serviceLayer instanceof esri.layers.FeatureLayer&&a.serviceLayer.url||a.serviceLayer instanceof
esri.layers.ArcGISDynamicMapServiceLayer&&(a=a.serviceLayer,null===a.capabilities||-1!==a.capabilities.indexOf("Query"))?!0:!1};c.prototype._handleNewServiceLayers=function(a){if(this.isFilterBuilder.get())for(var c=this,b=0;b<a.length;b++){var d=a[b];this._removeSub(d.serviceLayer.id);var f=dojo.connect(d.serviceLayer,"setLayerDefinitions",function(a){c._layerDefinitionsSet.call(c,this,a)});f&&(c._subTokenDictionary[d.serviceLayer.id]=f)}};c.prototype._removeSub=function(a){if(this._subTokenDictionary.hasOwnProperty(a)){var c=
this._subTokenDictionary[a];c&&c.remove();delete this._subTokenDictionary[a]}};c.prototype._layerDefinitionsSet=function(a,c){for(var b=0;b<c.length;++b){var d=c[b];this.selectedLayer&&this.selectedLayer.serviceLayerInfo.serviceLayer==a&&this.selectedLayer.id==d+""&&this.whereClause.get()!=c[d]&&this.disabled.set(!0)}};c.prototype.markupLayerChanged=function(a){for(var c=this,b=0;b<this._graphicsLayerSubscriptions.length;b++)this._graphicsLayerSubscriptions[b].remove();a&&(this._graphicsLayerSubscriptions.push(a.on("graphic-add",
function(){c.refreshSpatialFilterOptions()})),this._graphicsLayerSubscriptions.push(a.on("graphic-remove",function(){c.refreshSpatialFilterOptions()})))};c.prototype.layerIdChanged=function(){var a=this;if(!(null===this.selectedLayerUniqueId.get()||this.selectedLayer&&this.selectedLayerUniqueId.get()===this.selectedLayer.uniqueId&&!this._isRestoringState||this.app.project.isLoading&&!this._isRestoringState)){this.event_queryClausesRemoving(this.queryClauses.get());this.disabled.set(!1);this.previousLayer=
this.selectedLayer;this.selectedLayer=null;for(var c=0;c<this.layers.length();c++)if(this.layers.getAt(c).uniqueId==this.selectedLayerUniqueId.get()){this.selectedLayer=this.layers.getAt(c);break}this.selectedLayerIsTable.set(!1);if(null===this.selectedLayer)for(c=0;c<this.tables.length();c++)if(this.tables.getAt(c).uniqueId===this.selectedLayerUniqueId.get()){this.selectedLayerIsTable.set(!0);this.selectedLayer=this.tables.getAt(c);break}this.infoText.set("");this.previousLayer&&!this._isRestoringState&&
this._layerToQueryClausesLookup.set(this.previousLayer.uniqueId,{where:this.whereClause.get(),clauses:this.queryClauses.get().map(function(a){return a.exportState()})});this.queryClauses.get().forEach(function(a){return a.dispose()});this.queryClauses.clear();this.whereClause.set(null);this._fieldsRequest&&this._fieldsRequest.cancel();this.selectedLayer&&this._refreshFields().then(function(){if(0!==a._fields.length){var c;if(a._layerToQueryClausesLookup.containsKey(a.selectedLayer.uniqueId)){c=a._layerToQueryClausesLookup.get(a.selectedLayer.uniqueId);
var b=[];c.clauses.forEach(function(d){var f=new g.QueryClause(a.selectedLayer,a);f.applyState(d,a._fields);1<c.clauses.length&&f.switchToReadOnly();b.push(f)});a.queryClauses.addItems(b);a.whereClause.set(c.where)}else{var d=new g.QueryClause(a.selectedLayer,a);d.deleteDisabled.set(!0);d.isNotLast.set(!1);a.queryClauses.addItem(d);d.fields.set(a._fields)}a.infoText.set(a.getResource("language-querybuilder-find-in-layer").format(a.selectedLayer.displayName));a.isFilterBuilder.get()&&c&&(a._isEquivalentExpression(c.where,
a.selectedLayer.getDefinitionExpression())||a.disabled.set(!0))}})}};c.prototype._refreshFields=function(){var a=this;this._fieldsRequest=this.selectedLayer.getFields();return this._fieldsRequest.then(function(b){a._fieldsRequest=null;a._fields=b.filter(function(a){return 0>dojo.indexOf(c._excludedFieldTypes,a.type)&&a.isVisible});a._fields=a._fields.sort(function(a,c){var b=(a.alias||"").toLocaleLowerCase(),e=(c.alias||"").toLocaleLowerCase();return b==e?0:b<e?-1:1})},function(c){a._fieldsRequest=
null;"CancelError"!==c.name&&(a.app.trace.error("Error retrieving field information:",c),a.infoText.set(a.getResource("language-querybuilder-cannot-query")))})};c.prototype._isEquivalentExpression=function(a,c){return(a&&"1 = 1"!=a||c&&"1 = 1"!=c)&&a!=c?!1:!0};c.prototype.layerAdded=function(a){var c=null,b=[];this.app.isArcGisWebApp||(this._appInfo=m.AppInfo.fromGeocortexApp(this.app),(c=this._appInfo.mapInfo.findMapServiceById(a.layer.id))&&(b=c.layers.filter(function(a){return a.gcxLayer&&a.gcxLayer.queryable?
!0:!1})));c||(c=m.ServiceLayerInfo.fromEsriLayer(a.layer),b=c.layers);0<b.length&&(b=d.essentialsHtmlViewer.mapping.infrastructure.ArrayUtils.sortBy(b,function(a){return a.displayName}));a=this._allLayers.length()-1;for(var f=b.length-1;0<=a&&0<=f;){var g=this._allLayers.getAt(a).displayName;b[f].displayName>=g?(this._allLayers.insertItem(a+1,b[f]),f--):a--}for(;0<=f;)this._allLayers.insertItem(0,b[f]),f--;this._handleNewServiceLayers([c]);this._checkUseableLayers();0<this.layers.length()&&this.selectedLayerUniqueId.set(this.layers.getAt(0).uniqueId)};
c.prototype.layerRemoved=function(a){this._allLayers.removeWhere(function(c){return c.serviceLayerInfo.serviceLayer==a.layer});this._removeSub(a.layer.id);this.selectedLayer&&this.selectedLayer.serviceLayerInfo&&this.selectedLayer.serviceLayerInfo&&this.selectedLayer.serviceLayerInfo&&a.layer&&this.selectedLayer.serviceLayerInfo.serviceLayer==a.layer&&(0<this.layers.length()?this.selectedLayerUniqueId.set(this.layers.getAt(0).uniqueId):0<this.tables.length()?this.selectedLayerUniqueId.set(this.tables.getAt(0).uniqueId):
this.selectedLayerUniqueId.set(null))};c.prototype.addQueryClause=function(){var a=new g.QueryClause(this.selectedLayer,this);a.fields.set(this._fields);a.updateCodedDomainValues();this.queryClauses.addItem(a);this.queryClauses.getAt(0).deleteDisabled.set(!1);this.queryClauses.getAt(this.queryClauses.length()-2).isNotLast.set(!0)};c.prototype.removeQueryClause=function(a){this.event_queryClausesRemoving([a]);a.dispose();this.queryClauses.removeItem(a);1==this.queryClauses.length()&&(this.queryClauses.getAt(0).deleteDisabled.set(!0),
this.queryClauses.getAt(0).isNotLast.set(!1));this.queryClauses.getAt(this.queryClauses.length()-1).isNotLast.set(!1);if(a.selectedField&&a.selectedField.isTypeField)for(this.updateCodedDomainValues(),a=0;a<this.queryClauses.length();a++)this.queryClauses.getAt(a).codedDomainValue.pulse()};c.prototype.buildWhereClause=function(){for(var a="",c=0;c<this.queryClauses.length();c++){var b=this.queryClauses.getAt(c).format();b&&(0<a.length&&(a+=" AND "),a+=b)}a||(a="1 = 1");this.whereClause.set(a);return a};
c.prototype.buildSpatiallyFilteredWhereClause=function(a,c){var b=this,d=new dojo.Deferred,g=new esri.tasks.Query,h=f.infrastructure.taskUtils.getQueryTask(this.selectedLayer.gcxLayer?this.selectedLayer.gcxLayer:this.selectedLayer.serviceLayerInfo.serviceLayer);g.geometry=a;g.where=c;h.executeForIds(g).then(function(a){for(var e=null,f=0;f<b.selectedLayer.fields.length;f++){var g=b.selectedLayer.fields[f];if("esriFieldTypeOID"===g.type){e=g.name;break}}null!==e?(a="{0} IN ({1})".format(e,a.toString()),
b.whereClause.set(a),d.resolve(a)):d.resolve(c)},function(a){d.resolve(c)});return d};c.prototype.getGeometryFilter=function(){var a=new dojo.Deferred;if("None"==this.selectedSpatialFilter.get())return a.resolve(null),a;if("CurrentExtent"==this.selectedSpatialFilter.get())return a.resolve(this._appInfo.map.extent),a;if("Drawings"==this.selectedSpatialFilter.get()){var c=[];if(this.isAwab.get())for(var b=0;b<this._appInfo.mapInfo.getGraphicsLayers().length;b++){var f=this._appInfo.mapInfo.getGraphicsLayers()[b];
-1<f.id.indexOf("graphicsLayer")&&c.push(f)}else c.push(this._appInfo.mapInfo.markupLayer.get());f=[];for(b=0;b<c.length;b++)for(var g=c[b],h=0;h<g.graphics.length;h++){var l=g.graphics[h];"polygon"==l.geometry.type?f.push(l.geometry):"extent"==l.geometry.type&&(l=d.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.extentToPolygon(l.geometry),f.push(l))}0==f.length?a.resolve(null):this._appInfo.getGeometryService().union(f).then(function(c){a.resolve(c)},function(c){a.resolve(null)});return a}a.resolve(null);
return a};c.prototype.getViewerApp=function(){return this.app};c.prototype.event_queryClausesRemoving=function(a){};c.prototype.updateCodedDomainValues=function(){for(var a=0;a<this.queryClauses.length();a++)this.queryClauses.getAt(a).updateCodedDomainValues()};c.prototype.onDestroy=function(){a.prototype.onDestroy.call(this);this._layerThemeChangedEventToken&&this.app.event("LayerThemeChangedEvent").unsubscribe(this._layerThemeChangedEventToken)};c._excludedFieldTypes=[d.essentials.EsriFieldTypes.esriFieldTypeBlob,
d.essentials.EsriFieldTypes.esriFieldTypeGeometry,d.essentials.EsriFieldTypes.esriFieldTypeGlobalID,d.essentials.EsriFieldTypes.esriFieldTypeGUID];return c}(d.framework.ui.ViewModelBase);g.SimpleQueryBuilderViewModel=b})(g.queryBuilder||(g.queryBuilder={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(d){function b(a,c){d.call(this,a,c);this.app.command("RunReport").preExecute.subscribe(this,this._displayReportProgressUI);this.app.event("ReportResultEvent").subscribe(this,this._handleReportResultUI);this.app.event("ReportErrorEvent").subscribe(this,this._handleReportErrorUI)}__extends(b,d);b.prototype.handleClickDoneButton=function(){this.app.viewManager.deactivateView(this)};b.prototype._displayReportProgressUI=function(a){this.isBusy.set(!0);
this.app.viewManager.activateView(this);a=new f.infrastructure.commandArgs.AddStatusArgs(this.getResource("language-run-report-progress-status").format(a.report.displayName||a.report.id));a.id="RunningReport";a.imageUri="Resources/Images/Icons/Toolbar/reports-24.png";a.showBusyIcon=!0;a.timeoutMS=0;this.app.command("AddStatus").execute(a)};b.prototype._cleanupReportProgressUI=function(){this.isBusy.set(!1);this.app.command("RemoveStatus").execute("RunningReport")};b.prototype._handleReportResultUI=
function(a){this._cleanupReportProgressUI();this.isBusy.set(!1);this.app.viewManager.activateView(this)};b.prototype._handleReportErrorUI=function(a){this.isBusy.set(!1);this.app.viewManager.deactivateView(this);var c=this.getResource("language-run-report-error-title"),b;b="ReportAlreadyRunning"===a.name?this.getResource("language-run-report-error-message-already-running"):"RequestTimeoutError"===a.name?this.getResource("language-run-report-error-message-timeout"):"OfflineReportImpossible"===a.name?
this.getResource("language-run-report-error-message-offline"):/outputFormat parameter invalid/.test(a.message)?this.getResource("language-run-report-error-message-output-format-unavailable"):this.getResource("language-run-report-error-message-generic");"ReportAlreadyRunning"!==a.name&&this._cleanupReportProgressUI();this.app.command("Alert").execute(b,c)};return b}(d.framework.ui.ViewBase);g.RunReportView=m})(g.reporting||(g.reporting={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(g){function b(){g.apply(this,arguments);this.complete=new Observable(!1);this.isAsync=new Observable(!1);this.href=new Observable("")}__extends(b,g);b.prototype.initialize=function(a){void 0===a&&(a={});g.prototype.initialize.apply(this,arguments);this.app.command("RunReport").register(this,this._executeRunReport)};b.prototype._executeRunReport=function(a){var c=this;if(a)try{this.complete.set(!1);a.reportParameters=a.reportParameters||
new d.essentials.ReportParameters;a.reportParameters.featureIds=[];a.reportParameters.outputFormat=a.reportParameters.outputFormat||"PDF";if(!a.report.supportedOutputFormats.some(function(c){return c.toLowerCase()===a.reportParameters.outputFormat.toLowerCase()})){var b=a.report.supportedOutputFormats.length?a.report.supportedOutputFormats[0]:null;if(b)a.reportParameters.outputFormat=b;else{var g=Error("Selected report has no available output formats configured.");g.name="ReportHasNoSupportedOutputFormats";
throw g;}}f.infrastructure.reporting.getAllFeaturesFromReportable(a.reportable).forEach(function(c){(c=c.getPrimaryKeyValue())&&a.reportParameters.featureIds.push(c)});if(this.app.isOffline.get())throw g=Error("Reports cannot be run while offline."),g.name="OfflineReportImpossible",g;null!=a.report.layer&&null!=a.report.layer.mapService&&this.app.event("ReportStartedEvent").publish(a.report.id,a.report.layer.mapService.id,a.report.layer.id);a.report.run(null,a.reportParameters,function(a){c.isAsync.set(a.isAsync);
c.href.set(a.href);c.complete.set(!0);c.app.event("ReportResultEvent").publish(a)},function(a){c.app.event("ReportErrorEvent").publish(a)})}catch(h){this.app.event("ReportErrorEvent").publish(h)}};return b}(d.framework.ui.ViewModelBase);g.RunReportViewModel=m})(g.reporting||(g.reporting={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(d){function b(){d.apply(this,arguments);this.features=new ObservableCollection;this.availableReportListings=new ObservableCollection}__extends(b,d);b.prototype.initialize=function(a){void 0===a&&(a={});d.prototype.initialize.apply(this,arguments);this.warnUserWhenReportExcludesFeatures="warnUserWhenReportExcludesFeatures"in a?a.warnUserWhenReportExcludesFeatures:!1;this.app.command("ListReports").register(this,this._executeListReports,
this._canExecuteListReports);this.app.command("RunFeatureReport").register(this,this._executeListReports,this._canExecuteListReports);this.app.command("RunFeaturesReport").register(this,this._executeListReports,this._canExecuteListReports)};b.prototype._executeListReports=function(a){var c=this,b=f.infrastructure.reporting.getAllFeaturesFromReportable(a);this.features.set(b);this.availableReportListings.set(this._getVisibleReportsFromFeatures(b).map(function(a){var d=b.filter(function(c){return!c||
!c.layer||!c.layer.mapService||c.layer.mapService.id!==a.layer.mapService.id||c.layer.id!==a.layer.id}),f=c.features.get().filter(function(a){return-1===d.indexOf(a)});return{report:a,displayName:a.displayName,description:a.description,excludedFeatures:d,includedFeatures:f,details:c.getResource("language-list-reports-details").format(f.length,b.length),isMoreThanOneFeatureSelected:1<c.features.getLength()}}))};b.prototype._canExecuteListReports=function(a){a=f.infrastructure.reporting.getAllFeaturesFromReportable(a);
return 0<this._getVisibleReportsFromFeatures(a).length};b.prototype._getVisibleReportsFromFeatures=function(a){var c=[];a.forEach(function(a){a.layer&&-1===c.indexOf(a.layer)&&c.push(a.layer)});var b=[];c.forEach(function(a){a.reports&&a.reports.forEach(function(a){-1===b.indexOf(a)&&a.visible&&b.push(a)})});return b};b.prototype.engageReport=function(a){var c=this,b=a.report,d=a.excludedFeatures;a=a.includedFeatures;var f={report:b,reportable:a};this.warnUserWhenReportExcludesFeatures&&0<d.length?
this.app.command("Confirm").execute(this.getResource("language-list-reports-exclusion-warning-message").format(b.displayName,d.length,this.features.getLength(),a.length),this.getResource("language-list-reports-exclusion-warning-title"),function(a){a&&c.app.command("RunReport").execute(f)}):this.app.command("RunReport").execute(f)};return b}(d.framework.ui.ViewModelBase);g.ListReportsViewModel=m})(g.reporting||(g.reporting={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){var b=this;d.call(this,a,c);this.app.command("ListReports").postExecute.subscribe(this,function(){b.app.viewManager.activateView(b)});this.app.command("RunFeatureReport").postExecute.subscribe(this,function(){b.app.viewManager.activateView(b)});this.app.command("RunFeaturesReport").postExecute.subscribe(this,function(){b.app.viewManager.activateView(b)})}__extends(b,d);b.prototype.handleClickReport=
function(a,c,b){this.viewModel.engageReport(b)};return b}(d.framework.ui.ViewBase);f.ListReportsView=g})(f.reporting||(f.reporting={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);return b}(d.framework.application.ModuleBase);f.ReportingModule=g})(f.reporting||(f.reporting={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);return b}(d.framework.application.ModuleBase);f.ScalebarModule=g})(f.scalebar||(f.scalebar={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(g){function b(a,c){g.call(this,a,c);this.selectedScale=new Observable;this.inputScale=new Observable;this.scales=new ObservableCollection;this.label=new Observable(this.getResource("language-scale-label"));this.mobileMode=new Observable(this.app.configuration.mobileMode);this.isLeft=new Observable(!1);this.isRight=new Observable(!1);this.isScaleInputBoxEnabled=new Observable(!1);this.scaleInputBoxIsVisible=new Observable(!1);
if(this.app.site&&this.app.site.isInitialized)this._onSiteInitialized(this.app.site);else this.app.event("SiteInitializedEvent").once(this,this._onSiteInitialized);this.app.event("MapExtentChangedEvent").subscribe(this,this.mapExtentChanged)}__extends(b,g);b.prototype._onSiteInitialized=function(a){(a=this.app.map.__tileInfo&&this.app.map.__tileInfo.lods)&&a.length&&this.setScaleCollection(a);this.setScale(this.app.map.getScale())};b.prototype.initialize=function(a){a&&a.scaleInputBox&&!0===a.scaleInputBox.isEnabled&&
(this.isScaleInputBoxEnabled.set(!0),!0===a.scaleInputBox.openByDefault&&this.scaleInputBoxIsVisible.set(!0))};b.prototype.mapExtentChanged=function(){this.setScale(this.app.map.getScale())};b.prototype.setScaleCollection=function(a){var c=this,b=[];a.forEach(function(a){c.isValidScale(a.scale)&&(a=c.getEssentialScale(a.scale),b.push(a))});this.scales.set(b)};b.prototype.setScale=function(a){a=Math.round(a);if(!this.selectedScale.get()||Math.round(parseFloat(this.selectedScale.get().scale))!==a)for(var c=
0;c<this.scales.getLength();c++){var b=this.scales.getAt(c);if(Math.round(parseFloat(b.scale))===a){this.selectedScale.set(b);break}}this.inputScale.set(this.scaleToString(a))};b.prototype.scaleToString=function(a){return f.infrastructure.FormatUtils.formatNumber(Math.round(a),f.infrastructure.NumberFormat.NUMBER)};b.prototype.stringToScale=function(a){return f.infrastructure.FormatUtils.parseNumber(a)};b.prototype.isValidScale=function(a){return a>=this.app.map.getMaxScale()&&a<=this.app.map.getMinScale()};
b.prototype.getEssentialScale=function(a){return new d.essentials.Scale("1:{0}".format(f.infrastructure.FormatUtils.formatNumber(Math.round(a),f.infrastructure.NumberFormat.NUMBER)),a.toString())};return b}(d.framework.ui.ViewModelBase);g.ScalebarViewModel=m})(g.scalebar||(g.scalebar={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.scalebarContainer=this.scalebarHost=null}__extends(b,d);b.prototype.attach=function(a){var c=this;d.prototype.attach.call(this,a);var b=this.configuration;b.scalebarStyle?"line"!=b.scalebarStyle&&"ruler"!=b.scalebarStyle&&this.app.trace.warning("Configured value of '{0}' for scalebarStyle in ScalebarView is not known to be supported.".format(b.scalebarStyle)):b.scalebarStyle=
"line";b.scalebarUnit?"english"!=b.scalebarUnit&&"metric"!=b.scalebarUnit&&"dual"!=b.scalebarUnit&&this.app.trace.warning("Configured value of '{0}' for scalebarUnit in ScalebarView is not known to be supported.".format(b.scalebarUnit)):b.scalebarUnit="dual";b.showBackground=!!b.showBackground;b.showBackground&&$(this.scalebarContainer).addClass("scalebar-standout");"line"==b.scalebarStyle?$(this.scalebarContainer).addClass("scalebar-line-style"):"ruler"==b.scalebarStyle&&$(this.scalebarContainer).addClass("scalebar-ruler-style");
require(["esri/dijit/Scalebar"],function(a){new a({map:c.app.map,scalebarStyle:b.scalebarStyle,scalebarUnit:b.scalebarUnit},c.scalebarHost)})};b.prototype.toggleScaleInputBoxActive=function(){this.app.command("ToggleScaleInputBox").execute()};return b}(d.framework.ui.ViewBase);f.ScalebarView=g})(f.scalebar||(f.scalebar={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,c){f.call(this,a,c);this.SEARCH_TYPE="BingGeocode";this.DEFAULT_ICONURI="Resources/Images/Icons/pin-red-32.png";this.culture=this.bingMapsKey=this.iconUri=null;this.libraryId=void 0;this.intSearchUniqueId=0;this.currentSearchId=null;this._searchCancelState={};this._bingGeocoder=null;this.name="Bing Geocode";this.description="Search provider for the Bing Geocode Service.";this.isEnabled=!0}__extends(b,f);
b.prototype.initialize=function(a){f.prototype.initialize.call(this,a);a&&a.bingMapsKey&&(this.bingMapsKey=a.bingMapsKey);this.culture=a&&a.culture?a.culture:!this.culture&&this.app.locale?this.app.locale:"en-US";a&&a.iconUri&&(this.iconUri=a.iconUri)};b.prototype._getGeocoder=function(){this._bingGeocoder||(this._bingGeocoder=new esri.virtualearth.VEGeocoder({bingMapsKey:this.bingMapsKey,culture:this.culture}));return this._bingGeocoder};b.prototype.search=function(a,c){var b=this,f=this.intSearchUniqueId++;
this.currentSearchId=f;this._searchCancelState[f]=!1;var g=new d.essentialsHtmlViewer.mapping.infrastructure.eventArgs.SearchProgressEventArgs;g.results=a;g.error=null;g.message="";g.searchType=this.SEARCH_TYPE;g.query=c;var h=function(){b.status=d.essentialsHtmlViewer.mapping.infrastructure.search.Status.IDLE};a?c?(this.status=d.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING,this._getGeocoder().addressToLocations(c).then(function(c){if(!b._searchCancelState[f]&&0<c.length){var l=
new esri.tasks.FeatureSet;l.displayFieldName="formattedAddress";l.geometryType="esriGeometryPoint";c[0].spatialReference&&(l.spatialReference=c[0].spatialReference);var m=new d.essentialsHtmlViewer.mapping.infrastructure.FeatureSet({app:b.app,esriFeatureSet:l});m.iconUri.set(b.iconUri?b.iconUri:b.DEFAULT_ICONURI);m.attributes.addItem(new d.essentialsHtmlViewer.mapping.infrastructure.FeatureAttribute("","addressLine","addressLine",b.app.getResource(b.libraryId,"language-search-bing-address")));m.attributes.addItem(new d.essentialsHtmlViewer.mapping.infrastructure.FeatureAttribute("",
"adminDistrict","adminDistrict",b.app.getResource(b.libraryId,"language-search-bing-admin-district")));m.attributes.addItem(new d.essentialsHtmlViewer.mapping.infrastructure.FeatureAttribute("","countryRegion","countryRegion",b.app.getResource(b.libraryId,"language-search-bing-country")));m.attributes.addItem(new d.essentialsHtmlViewer.mapping.infrastructure.FeatureAttribute("","district","district",b.app.getResource(b.libraryId,"language-search-bing-district")));m.attributes.addItem(new d.essentialsHtmlViewer.mapping.infrastructure.FeatureAttribute("",
"formattedAddress","formattedAddress",b.app.getResource(b.libraryId,"language-search-bing-formatted")));m.attributes.addItem(new d.essentialsHtmlViewer.mapping.infrastructure.FeatureAttribute("","locality","locality",b.app.getResource(b.libraryId,"language-search-bing-locality")));m.attributes.addItem(new d.essentialsHtmlViewer.mapping.infrastructure.FeatureAttribute("","postalCode","postalCode",b.app.getResource(b.libraryId,"language-search-bing-postal-code")));m.attributes.addItem(new d.essentialsHtmlViewer.mapping.infrastructure.FeatureAttribute("",
"postalTown","postalTown",b.app.getResource(b.libraryId,"language-search-bing-postal-town")));m.displayName.set(b.name);dojo.forEach(c,function(a){var c=JSON.parse(JSON.stringify(a.address));delete c.declaredClass;var c=new esri.Graphic(esri.geometry.geographicToWebMercator(a.location),null,c),f=new d.essentialsHtmlViewer.mapping.infrastructure.Feature({graphic:c});f.label.set(a.address.formattedAddress);f.description.set(b.app.getResource(b.libraryId,"language-search-geocoding-score-description")+
a.confidence);f.zoomExtent.set(esri.geometry.geographicToWebMercator(a.bestView));l.features.push(c);m.addFeature(f,!0)});a.featureSets.addItem(m)}h();b._searchCancelState[f]||(g.status=b.status,b.app.event("SearchProgress").publish(g),b.app.event("SearchProgressEvent").publish(g))},function(a){h();if(!b._searchCancelState[f]){var c="Bing Geocode error: "+a.message;g.status=d.essentialsHtmlViewer.mapping.infrastructure.search.Status.ERROR;g.error=a;g.message=c;b.app.trace.error(c);b.app.event("SearchProgress").publish(g);
b.app.event("SearchProgressEvent").publish(g)}})):this.app.trace.error("Bing Geocode Search Provider: Cannot perform search without search text."):this.app.trace.error("Bing Geocode Search Provider: Cannot perform search without a feature set collection.")};b.prototype.cancelSearch=function(){this.status===d.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING&&(this._searchCancelState[this.currentSearchId]=!0)};return b}(d.essentialsHtmlViewer.mapping.infrastructure.search.SearchProviderBase);
f.BingGeocodeSearchProvider=g})(f.search||(f.search={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,c){f.call(this,a,c);this.SEARCH_TYPE="ArcGISGeocode";this.DEFAULT_ICONURI="Resources/Images/Icons/pin-blue-32.png";this.token=this.locatorUrl=this.iconUri=null;this.minimumScore=70;this.defaultZoomScale=8E3;this.singleLineField=null;this.parameters=[];this.globalSearchKey=null;this.intSearchUniqueId=0;this.currentSearchId=null;this._searchCancelState={};this._offlineSwitchToken=this._geocoder=null;this.name=
"ArcGIS Geocode";this.description="Search provider for the ArcGIS Geocode Service.";this.isEnabled=!0}__extends(b,f);b.prototype.initialize=function(a){f.prototype.initialize.call(this,a);a&&a.url&&(this.locatorUrl=a.url);a&&a.iconUri&&(this.iconUri=a.iconUri);a&&a.defaultZoomScale&&(this.defaultZoomScale=a.defaultZoomScale);a&&a.singleLineField&&(this.singleLineField=a.singleLineField);a&&a.minimumScore&&(this.minimumScore=a.minimumScore);if(!this.singleLineField&&this.locatorUrl)if(this.app.site&&
this.app.site.isInitialized)this._loadGeocodeDefinition();else this.app.event("SiteInitializedEvent").once(this,this._loadGeocodeDefinition)};b.prototype._loadGeocodeDefinition=function(){var a=this;if(this.app.isOffline.get())this._offlineSwitchToken=this.app.event("ApplicationOnlineEvent").subscribe(this,function(){a.app.event("ApplicationOnlineEvent").unsubscribe(a._offlineSwitchToken);a._loadGeocodeDefinition()});else if(!this.singleLineField&&this.locatorUrl){var c=this.locatorUrl+"?f=json"+
(this.token?"&token="+encodeURIComponent(this.token):"");esri.request({url:c}).then(function(c){c&&c.singleLineAddressField&&c.singleLineAddressField.name?a.singleLineField=c.singleLineAddressField.name:a.app.trace.error("ArcGIS geocode server does not support single address line query: '"+a.locatorUrl+"'.")},function(c){a.app.trace.error("Unable to retrieve geocode server information at: '"+a.locatorUrl+"': "+c.message)})}};b.prototype._getGeocoder=function(){if(!this._geocoder){var a=this.locatorUrl+
(this.token?"?token="+encodeURIComponent(this.token):"");this._geocoder=new esri.tasks.Locator(a);this.app&&this.app.map&&(this._geocoder.outSpatialReference=this.app.map.spatialReference)}return this._geocoder};b.prototype.updateToken=function(a){this.token=a;this._geocoder=null};b.prototype.search=function(a,c){var b=this,f=this.intSearchUniqueId++;this.currentSearchId=f;this._searchCancelState[f]=!1;var g=new d.essentialsHtmlViewer.mapping.infrastructure.eventArgs.SearchProgressEventArgs;g.results=
a;g.error=null;g.searchType=this.SEARCH_TYPE;g.query=c;g.endpointUrl=this.locatorUrl;var h=function(){b.status=d.essentialsHtmlViewer.mapping.infrastructure.search.Status.IDLE};if(a)if(c){this.status=d.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING;g.status=this.status;this.app.event("SearchProgress").publish(g);this.app.event("SearchProgressEvent").publish(g);var l=this._getGeocoder(),m;this.globalSearchKey===this.singleLineField?(m={},m[this.singleLineField]=c,m={address:m}):
m={address:this._getMultiLineFields(c)};var p=parseInt(this.minimumScore);!isNaN(p)&&(0>p||100<p)&&(p=null);l.addressToLocations(m).then(function(c){if(!b._searchCancelState[f]&&0<c.length){var l=new esri.tasks.FeatureSet;l.displayFieldName="address";l.geometryType="esriGeometryPoint";c[0].spatialReference&&(l.spatialReference=c[0].spatialReference);var m=new d.essentialsHtmlViewer.mapping.infrastructure.FeatureSet({app:b.app,esriFeatureSet:l});m.iconUri.set(b.iconUri?b.iconUri:b.DEFAULT_ICONURI);
m.attributes.addItem(new d.essentialsHtmlViewer.mapping.infrastructure.FeatureAttribute("","address","address",b.app.getResource(b.libraryId,"language-search-arcgis-address")));m.attributes.addItem(new d.essentialsHtmlViewer.mapping.infrastructure.FeatureAttribute("","score","score",b.app.getResource(b.libraryId,"language-search-arcgis-score")));m.displayName.set(b.name);dojo.forEach(c,function(a){if(isNaN(p)||a.score>=p){var c=new esri.Graphic(a.location,null,{address:a.address,score:a.score}),f=
new d.essentialsHtmlViewer.mapping.infrastructure.Feature({graphic:c});f.label.set(a.address);f.zoomScale.set(b.defaultZoomScale);f.description.set(b.app.getResource(b.libraryId,"language-search-geocoding-score-description")+a.score);l.features.push(c);m.addFeature(f,!0)}});0<m.features.length()&&a.featureSets.addItem(m)}h();b._searchCancelState[f]||(g.status=b.status,b.app.event("SearchProgress").publish(g),b.app.event("SearchProgressEvent").publish(g))},function(a){h();b._searchCancelState[f]||
(g.status=d.essentialsHtmlViewer.mapping.infrastructure.search.Status.ERROR,g.error=a,g.message=a.message,b.app.event("SearchProgress").publish(g),b.app.event("SearchProgressEvent").publish(g))})}else this.app.trace.error("ArcGIS Geocode Search Provider: Cannot perform search without search text.");else this.app.trace.error("ArcGIS Geocode Search Provider: Cannot perform search without a feature set collection.")};b.prototype._getMultiLineFields=function(a){var c={},b;for(b in this.parameters)c[this.parameters[b].name]=
this.parameters[b].name===this.globalSearchKey?a:this.parameters[b].value;return c};b.prototype.cancelSearch=function(){this.status===d.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING&&(this._searchCancelState[this.currentSearchId]=!0)};return b}(d.essentialsHtmlViewer.mapping.infrastructure.search.SearchProviderBase);f.ArcGisGeocodeSearchProvider=g})(f.search||(f.search={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,c){f.call(this,a,c);this.authView=this.attempts=null;this.attempts=0}__extends(b,f);b.prototype.initialize=function(a){f.prototype.initialize.call(this,a);var c=a.region||"ModalWindowRegion",b=this;dojo.subscribe("geocortex_authenticationSucceeded",function(a){b.attempts=0;var c=new d.essentialsHtmlViewer.mapping.infrastructure.eventArgs.AuthenticationEventArgs;c.username=a.username;c.token=a.token;c.result=
!0;b.app.eventRegistry.event("AuthenticationSucceededEvent").publish(c)});dojo.extend(d.essentials.RestHelperHTTPService,{_gatherCredentials:function(a){var f=!1;if(0<b.attempts){var g=new d.essentialsHtmlViewer.mapping.infrastructure.eventArgs.AuthenticationEventArgs;g.username=null;g.token=null;g.result=!1;f=!0;b.app.eventRegistry.event("AuthenticationFailedEvent").publish(g)}a=a?a:new dojo.Deferred;null==b.authView&&(b.authView=b.app.viewManager.createView({viewId:"AuthenticationdialogView",markupResource:"Mapping/modules/Authentication/AuthenticationView.html",
typeName:"geocortex.essentialsHtmlViewer.mapping.modules.authentication.AuthenticationView",title:b.app.getResource(b.libraryId,"language-auth-title"),libraryId:b.libraryId,regionName:c}),g=new d.essentialsHtmlViewer.mapping.modules.authentication.AuthenticationViewModel(b.app,b.libraryId),g.libraryId=b.libraryId,g.error.set(f),b.authView.attach(g));b.authView.deferred=a;b.app.viewManager.activateView(b.authView);++b.attempts;return a}})};return b}(d.framework.application.ModuleBase);f.AuthenticationModule=
g})(f.authentication||(f.authentication={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.deferred=null}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a);this.app.eventRegistry.event("AuthenticationFailedEvent").subscribe(this,function(){this.app.viewManager.destroyView(this)});this.app.eventRegistry.event("AuthenticationSucceededEvent").subscribe(this,function(){this.app.viewManager.destroyView(this)});this.app.eventRegistry.event("SiteInitializationFailedEvent").subscribe(this,
function(){this.app.viewManager.destroyView(this)});this.app.eventRegistry.event("SiteAuthenticationFailedEvent").subscribe(this,function(){this.app.viewManager.destroyView(this)})};b.prototype.handleClickLogin=function(a,c,b){""==this.viewModel.username.get()?(this.app.viewManager.destroyView(this),this.viewModel.password.set(),this.viewModel.error.set(!0),this.viewModel.errorMessage.set(this.app.getResource(this.libraryId,"language-auth-username-empty")),this.app.viewManager.activateView(this)):
this.deferred&&this.viewModel&&(this.viewModel.authenticating.set(!0),this.deferred.resolve({username:this.viewModel.username.get(),password:this.viewModel.password.get()}))};return b}(d.framework.ui.ViewBase);f.AuthenticationView=g})(f.authentication||(f.authentication={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c);this.errorMessage=this.error=this.authenticating=this.password=this.username=null;this.username=new Observable("");this.password=new Observable("");this.authenticating=new Observable(!1);this.error=new Observable(!1);this.errorMessage=new Observable;this.app.eventRegistry.event("AuthenticationFailedEvent").subscribe(this,function(){this.error.set(!0);this.authenticating.set(!1);this.errorMessage.set(this.app.getResource(this.libraryId,
"language-auth-error"))});this.app.eventRegistry.event("AuthenticationSucceededEvent").subscribe(this,function(){this.error.set(!1);this.errorMessage.set(null);this.authenticating.set(!1)});this.app.commandRegistry.command("HideSplashScreen").execute()}__extends(b,d);b.prototype.reset=function(){this.username.set("");this.password.set("");this.authenticating.set(!1);this.error.set(!1);this.errorMessage.set(null)};return b}(d.framework.ui.ViewModelBase);f.AuthenticationViewModel=g})(f.authentication||
(f.authentication={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a)};return b}(d.framework.application.ModuleBase);f.BannerModule=g})(f.banner||(f.banner={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.height=this.rightImageDescription=this.rightImage=this.leftImageDescription=this.leftImage=this.backgroundImage=this.backgroundColor=this.subtitleColor=this.titleColor=this.applicationSubtitle=this.applicationTitle=null}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);this.applicationTitle=new Observable(a.applicationTitle);this.applicationSubtitle=
new Observable(a.applicationSubtitle||"");this.titleColor=new Observable(a.titleColor||"#1A72C4");this.subtitleColor=new Observable(a.subtitleColor||"#959398");this.backgroundColor=new Observable(a.backgroundColor||"White");this.backgroundImage=new Observable(a.backgroundImage?"url({0})".format(encodeURI(a.backgroundImage)):"");this.leftImage=new Observable(a.leftImage);this.leftImageDescription=new Observable(a.leftImageDescription);this.rightImage=new Observable(a.rightImage);this.rightImageDescription=
new Observable(a.rightImageDescription);this.height=new Observable(a.height?a.height+"px":"50px")};return b}(d.framework.ui.ViewModelBase);f.BannerViewModel=g})(f.banner||(f.banner={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(g){g.getIdentifyLayerIds=function(f,b,a,c,e,g,h,n){var m=[];if(!1===e||f.isVisible()){e=f.essentialsMap.site.essentialsMap.calculateScale();for(var p=0;p<f.layers.length;p++){var s=f.layers[p];if(!n||s.type!==d.essentials.LayerType.RASTER_LAYER){var y=s.identifiableAtAllScales||!1===g||s.withinScaleRange(e),v=s.isVisible()&&s.areAllAncestorsVisible();null!=h&&-1===$.inArray(s.id,h)||!v&&!1!==c||!y||!b(s)||(null==a||0==a.length||
0<=dojo.indexOf(a,s.featureType))&&m.push(s.id)}}}return m};g.getLayerDefinitions=function(d,b){var a=[];if(d.serviceLayer.layerDefinitions)for(var c=d.serviceLayer.layerDefinitions,e=0;e<c.length;e++)if(c[e])for(var f=0;f<b.length;f++)if(b[f]==e.toString()){a[e]=c[e];break}return a};g.getDynamicLayerInfos=function(d,b){for(var a=[],c=0;c<b.length;c++){var e=d.getDynamicLayerInfoById(b[c]);e&&a.push(e)}return a};g.appendToFeatureSetCollection=function(g,b,a,c){null==b&&(b=new f.infrastructure.FeatureSetCollection);
for(var e={},k=0;k<g.length;k++){var h=g[k],n=e[h.layerId];if(null==n){var m=a.findLayerById(h.layerId.toString());if(m&&m.type===d.essentials.LayerType.RASTER_LAYER){if(h.feature&&h.feature.attributes&&$.isEmptyObject(h.feature.attributes))return;var p=n=0,s;for(s in h.feature.attributes)if(h.feature.attributes.hasOwnProperty(s)){p++;var y=h.feature.attributes[s];"NoValue"!==y&&"NoData"!==y||n++}if(n===p)continue}n={};if(m)for(y=0;y<m.fields.length;y++)p=m.fields[y],n[p.alias]=p;if(m&&m.type===d.essentials.LayerType.RASTER_LAYER&&
m.fields)if(0===m.fields.length){if(h.feature.attributes)for(s in h.feature.attributes)y=h.feature.attributes[s],m.fields.push(new d.essentials.Field({layer:m,displayName:s,dataType:d.essentials.EssentialsFieldTypes.essentialsFieldTypeString,alias:s,hyperlinkLabel:"",name:s,searchable:!0,visible:!0}))}else for(var v in h.feature.attributes)if("Pixel value"===v)for(k=0;k<m.fields.length;k++)if("VALUE"===m.fields[k].name){m.fields[k].name="Pixel value";break}y=null;h.displayFieldName&&(n=n[h.displayFieldName])&&
n.name&&(y=n.name);y||(y=m&&m.displayField?m.displayField.name:m&&m.primaryKeyField&&m.primaryKeyField.name?m.primaryKeyField.name:h.displayFieldName);n=new esri.tasks.FeatureSet({displayFieldName:y,features:[]});h.feature.geometry&&(n.geometryType=h.feature.geometry.type,n.spatialReference=h.feature.geometry.spatialReference);n=new f.infrastructure.FeatureSet({esriFeatureSet:n,layer:m,app:this.app});m?n.displayName.set(m.displayName):n.displayName.set(h.layerName);e[h.layerId]=n}n.layer&&d.essentialsHtmlViewer.mapping.infrastructure.GraphicUtils.sanitizeAttributeNames(h.feature,
n.layer);n.esriFeatureSet.features.push(h.feature);m={graphic:h.feature,layer:n.layer,resolveLayerFields:!0,allowUnsafeContent:!1};a.drawingBehavior===d.essentials.DrawingBehavior.KML_SERVICE&&(m.allowUnsafeContent=c.configuration.allowUnsafeContent);h.feature._graphicsLayer&&(m.featureLayer=h.feature._graphicsLayer);a.drawingBehavior===d.essentials.DrawingBehavior.KML_SERVICE?(h=new f.infrastructure.KmlFeature(m),h.defaultNumberFormat=a.defaultNumberFormat?a.defaultNumberFormat:f.infrastructure.NumberFormat.DEFAULT,
h.defaultDateFormat=a.defaultDateFormat?a.defaultDateFormat:f.infrastructure.DateFormat.DEFAULT):h=new f.infrastructure.Feature(m);n.features.addItem(h)}for(var u in e)e.hasOwnProperty(u)&&(n=e[u],b.featureSets.addItem(n),n.resolveDataLinks(function(a){c.event("FeatureChangedEvent").publish(a)}));return b}})(g.IdentifyUtils||(g.IdentifyUtils={}))})(g.identify||(g.identify={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(){function l(b,a){this._identifyTaskErrorCount=this._identifyTaskCompletedCount=this._identifyTaskExecutedCount=0;this._isCancelled=this._taskExecutionComplete=!1;this.height=this.width=this.extent=this.tag=this.map=this.app=null;this.returnGeometry=this.topMostLayerOnly=!1;this.layersInVisibleScaleRangeOnly=this.visibleMapServicesOnly=this.visibleLayersOnly=!0;this.pixelTolerance=5;this.polygonPixelTolerance=2;this.allServicesInError=
!1;this.mapServicesAndLayersToIdentify=null;this.restrictRasterIdentifyToPoint=!0;this.layerRestriction=this.delayedFSCOpen=null;this.app=a||null;this.map=b}l.prototype._pointToExtent=function(b,a){void 0===a&&(a=this.pixelTolerance);var c=this.map.extent.getWidth()/this.map.width,c=a*c;return new esri.geometry.Extent(b.x-c,b.y-c,b.x+c,b.y+c,this.map.spatialReference)};l.prototype._checkAndReturnLayerRestriction=function(){var b=this.layerRestriction;b||(b=function(a){return a.identifiable&&a.supportsIdentify});
return b};l.prototype.execute=function(b,a,c,e,f){var g=this,h=this._checkAndReturnLayerRestriction();if(this.app&&b&&"polygon"==b.type&&d.essentials.GeometryUtilities.isSelfIntersectingPolygon(b)&&!f)d.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.simplifyPolygon(b,function(b){g.execute(b,a,c,e,!0)},function(a){g.app.trace.warning("An error occurred while attempting to simplify the identify geometry. Make sure that your proxy is configured correctly.");e(g,a,null)},this.app);else{this._identifyTaskErrorCount=
this._identifyTaskCompletedCount=this._identifyTaskExecutedCount=0;this.allServicesInError=this._taskExecutionComplete=!1;f=new esri.tasks.IdentifyParameters;f.tolerance=this.pixelTolerance;f.returnGeometry=this.returnGeometry;f.layerOption=this.topMostLayerOnly?esri.tasks.IdentifyParameters.LAYER_OPTION_TOP:esri.tasks.IdentifyParameters.LAYER_OPTION_ALL;f.width=this.width||this.map.width;f.height=this.height||this.map.height;f.mapExtent=this.extent||this.map.extent;f.geometry=b;this.app.map.timeExtent&&
(this.app.map.timeExtent.startTime||this.app.map.timeExtent.endTime)&&(f.timeExtent=new esri.TimeExtent(this.app.map.timeExtent.startTime,this.app.map.timeExtent.endTime));for(var l=0;l<this.app.site.essentialsMap.mapServices.length;l++){var m=this.app.site.essentialsMap.mapServices[l];if(m.serviceLayer&&m.serviceLayer instanceof esri.layers.FeatureLayer)this._handleFeatureLayer(b,m,m.serviceLayer,f,h,a,c,e);else if(m.serviceLayer instanceof esri.layers.KMLLayer)for(var p=m.serviceLayer.getLayers(),
y=0;y<p.length;y++)p[y]instanceof esri.layers.FeatureLayer&&this._handleFeatureLayer(b,m,p[y],f,h,a,c,e);else m.serviceLayer instanceof esri.layers.WMSLayer?this._handleWMSLayer(m,f,h,a,c,e):m.serviceLayer instanceof esri.layers.ArcGISImageServiceLayer||this._handleLayer(m,f,h,a,c,e)}this._taskExecutionComplete=!0;this._conditionallyInvokeCompleteCallback(this,c)}};l.prototype._handleWMSLayer=function(b,a,c,e,d,f){for(var g=this._getLayersToIdentifyForMapService(b,null,c,!0),h=0<g.length?!0:!1,l=
0;l<g.length;l++)if(!b.findLayerById(g[l].toString()).supportsQuery){h=!1;break}h?this._handleLayer(b,a,c,e,d,f):this._handleLayerLegacy(b,a,c,e,d,f)};l.prototype._handleLayerLegacy=function(b,a,c,e,g,h){var l=this,m=dojo.clone(a);m.layerIds=d.essentialsHtmlViewer.mapping.modules.identify.IdentifyUtils.getIdentifyLayerIds(b,c,["Polygon"],this.visibleLayersOnly,this.visibleMapServicesOnly);m.tolerance=this.polygonPixelTolerance;a=dojo.clone(a);a.layerIds=d.essentialsHtmlViewer.mapping.modules.identify.IdentifyUtils.getIdentifyLayerIds(b,
c,["None","Point","Multipoint","Line"],this.visibleLayersOnly,this.visibleMapServicesOnly);c=[m,a];this.delayedFSCOpen&&(0<m.layerIds.length||0<a.layerIds.length)&&this.delayedFSCOpen();m=[];for(a=0;a<c.length;a++){var p=c[a];if(0<p.layerIds.length){this._identifyTaskExecutedCount++;var s=p.layerIds.map(function(a){return a.toString()});p.layerDefinitions=d.essentialsHtmlViewer.mapping.modules.identify.IdentifyUtils.getLayerDefinitions(b,s);p.dynamicLayerInfos=d.essentialsHtmlViewer.mapping.modules.identify.IdentifyUtils.getDynamicLayerInfos(b,
s);p.spatialReference=this.app.map.extent.spatialReference;s=f.infrastructure.taskUtils.getIdentifyTask(b);m.push(s.execute(p).then(function(a){l._isCancelled||e(l,a,b)}))}}Promise.all(m).then(function(){l._identifyTaskCompletedCount++;l._conditionallyInvokeCompleteCallback(l,g)})["catch"](function(a){l._isCancelled||(l._identifyTaskCompletedCount++,l._identifyTaskErrorCount++,h(l,a,b))})};l.prototype._handleLayer=function(b,a,c,e,k,l){var n=this,m=this._getLayersToIdentifyForMapService(b,null,c,
!0);this._identifyTaskExecutedCount++;this.delayedFSCOpen&&this.delayedFSCOpen();for(var p=[],s=[],y=Promise.defer(),v=m.map(function(a){return a.toString()}),u=g.IdentifyUtils.getLayerDefinitions(b,v),r=function(a,c,d){n._isCancelled||(a=n._queryResultToIdentifyResults(a,c,d,a.displayFieldName),e(n,a,b))},v=function(c){w=b.findLayerById(c.toString());B=f.infrastructure.taskUtils.getQueryTask(w);z=new esri.tasks.Query;if(!w.supportsQuery)return"continue";z.outFields=["*"];z.outSpatialReference=t.app.map.spatialReference;
z.returnGeometry=a.returnGeometry;z.where=u[c];t.app.map.timeExtent&&(t.app.map.timeExtent.startTime||t.app.map.timeExtent.endTime)&&(z.timeExtent=new esri.TimeExtent(t.app.map.timeExtent.startTime,t.app.map.timeExtent.endTime));"Polygon"===w.featureType?(z.geometry=t._applyTolerance(a.geometry,t.polygonPixelTolerance),s.push(B.execute(z).then(function(a){return y.promise.then(function(){return r(a,c,w.name)})}))):(z.geometry=t._applyTolerance(a.geometry,t.pixelTolerance),p.push(B.execute(z).then(function(a){return r(a,
c,w.name)})))},t=this,w,B,z,C=0;C<m.length;C++)v(m[C]);"point"!==a.geometry.type&&this.restrictRasterIdentifyToPoint||(m=dojo.clone(a),m.layerIds=this._getLayersToIdentifyForMapService(b,null,c,!1),m.layerIds=m.layerIds.filter(function(a){return b.findLayerById(a.toString()).type===d.essentials.LayerType.RASTER_LAYER}),0<m.layerIds.length&&(m.spatialReference=this.app.map.extent.spatialReference,c=f.infrastructure.taskUtils.getIdentifyTask(b),p.push(c.execute(m).then(function(a){n._isCancelled||(n._assignSpatialReferences(a),
e(n,a,b))}))));Promise.all(p).then(function(){y.resolve();return Promise.all(s).then(function(){n._identifyTaskCompletedCount++;n._conditionallyInvokeCompleteCallback(n,k)})})["catch"](function(a){n._isCancelled||(n._identifyTaskCompletedCount++,n._identifyTaskErrorCount++,l(n,a,b))})};l.prototype._assignSpatialReferences=function(b){for(var a=0;a<b.length;++a){var c=b[a];c.feature.geometry&&(c.feature.geometry.spatialReference=this.app.map.extent.spatialReference)}};l.prototype._getLayersToIdentifyForMapService=
function(b,a,c,e){if(this.mapServicesAndLayersToIdentify)for(var f=0;f<this.mapServicesAndLayersToIdentify.length;f++){if(this.mapServicesAndLayersToIdentify[f].mapServiceId===b.id)return d.essentialsHtmlViewer.mapping.modules.identify.IdentifyUtils.getIdentifyLayerIds(b,c,a,this.visibleLayersOnly,this.visibleMapServicesOnly,this.layersInVisibleScaleRangeOnly,this.mapServicesAndLayersToIdentify[f].layerIds,e)}else return d.essentialsHtmlViewer.mapping.modules.identify.IdentifyUtils.getIdentifyLayerIds(b,
c,a,this.visibleLayersOnly,this.visibleMapServicesOnly,this.layersInVisibleScaleRangeOnly,null,e)};l.prototype._handleFeatureLayer=function(b,a,c,e,g,h,l,m){var p=this;e.layerIds=this._getLayersToIdentifyForMapService(a,null,g,!1);if(0<e.layerIds.length||a.drawingBehavior==d.essentials.DrawingBehavior.KML_SERVICE){this.delayedFSCOpen&&this.delayedFSCOpen();var s=new esri.tasks.Query;s.geometry=b;"point"===b.type?s.geometry=a.heatMap&&a.heatMap.enabled?this._pointToExtent(b,a.heatMap.intensity):this._pointToExtent(b):
a.drawingBehavior===d.essentials.DrawingBehavior.KML_SERVICE&&(s.geometry=b.getExtent());s.outFields=["*"];s.outSpatialReference=this.app.map.spatialReference;s.returnGeometry=!0;this.app.map.timeExtent&&(this.app.map.timeExtent.startTime||this.app.map.timeExtent.endTime)&&(s.timeExtent=new esri.TimeExtent(this.app.map.timeExtent.startTime,this.app.map.timeExtent.endTime));this._identifyTaskExecutedCount++;var y=function(a,b){(b.essentialsMap&&b.essentialsMap.getMap&&a.isVisibleAtScale(b.essentialsMap.getMap().getScale())?
a.queryFeatures(s):f.infrastructure.taskUtils.getQueryTask(a,b).execute(s)).then(dojo.hitch(b,function(a){p._isCancelled||(a=p._queryResultToIdentifyResults(a,c.layerId,c.name,c.displayField),a.forEach(function(a){a.feature._graphicsLayer=c}),p._identifyTaskCompletedCount++,h(p,a,this),p._conditionallyInvokeCompleteCallback(p,l))}),dojo.hitch(b,function(a){p._isCancelled||(p._identifyTaskCompletedCount++,p._identifyTaskErrorCount++,m(p,a,this),p._conditionallyInvokeCompleteCallback(p,l))}))};if(c.updating)var v=
dojo.connect(c,"onUpdateEnd",function(){y(c,a);dojo.disconnect(v)});else y(c,a)}};l.prototype._applyTolerance=function(b,a){return b instanceof esri.geometry.Point?this._pointToExtent(b,a):b};l.prototype._queryResultToIdentifyResults=function(b,a,c,e){var d=[];if(b&&b.features&&0<b.features.length)for(var f=0;f<b.features.length;f++)d.push({feature:b.features[f],displayFieldName:e,layerId:a,layerName:c});return d};l.prototype._conditionallyInvokeCompleteCallback=function(b,a){b._taskExecutionComplete&&
b._identifyTaskExecutedCount==b._identifyTaskCompletedCount&&(b.allServicesInError=b._identifyTaskExecutedCount==b._identifyTaskErrorCount,a(b))};l.prototype.cancel=function(){this._isCancelled=!0};return l}();g.MapIdentifyTask=m})(g.identify||(g.identify={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(l){function b(a,c){l.call(this,a,c);this.bufferingEnabled=!0;this._providers=[];this._previousFscSource=null;this._previousFscIds={};this._fscSourceCount={};this._fscDisplayName="";this.app.command("Identify").register(this,this.search);this._fscDisplayName=a.getResource(c,"language-identify-results-header")}__extends(b,l);b.prototype.initialize=function(a){l.prototype.initialize.call(this,a);a&&(a.resultsDisplayName&&
(this._fscDisplayName=a.resultsDisplayName),this.pixelTolerance=isNaN(parseInt(a.pixelTolerance))?5:parseInt(a.pixelTolerance),this.polygonPixelTolerance=isNaN(parseInt(a.polygonPixelTolerance))?2:parseInt(a.polygonPixelTolerance),this.topMostLayerOnly=void 0!=a.topMostLayerOnly?!!a.topMostLayerOnly:!1,this.returnGeometry=void 0!=a.returnGeometry?!!a.returnGeometry:!0,this.visibleLayersOnly=void 0!=a.visibleLayersOnly?!!a.visibleLayersOnly:!0,this.layersInVisibleScaleRangeOnly=void 0!=a.layersInVisibleScaleRangeOnly?
!!a.layersInVisibleScaleRangeOnly:!0,this.bufferingEnabled=void 0!=a.bufferingEnabled?!!a.bufferingEnabled:!0,this.restrictRasterIdentifyToPoint=void 0!=a.restrictRasterIdentifyToPoint?!!a.restrictRasterIdentifyToPoint:!0,dojo.isArray(a.tools)&&this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,!0),this.layerSelectorForIdentify=new g.LayerSelectorForIdentify(this.app,this),dojo.isArray(a.identifyProviders)&&this._loadProviders(a.identifyProviders))};b.prototype._loadProviders=
function(a){for(var c=0;c<a.length;c++){var b=a[c];b&&(b.libraryId&&!this.app.allLibrariesLoaded?this._loadProviderWhenLibrariesDownloaded(b):this._loadProvider(b))}};b.prototype._loadProviderWhenLibrariesDownloaded=function(a){var c=this,b=this.app.event("ViewerLibrariesDownloadedEvent").subscribe(this,function(){c.app.event("ViewerLibrariesDownloadedEvent").unsubscribe(b);c._loadProvider(a)})};b.prototype._loadProvider=function(a){var c=dojo.getObject(a.type);c?(c=new c(this.app,a.libraryId||this.libraryId),
c.isEnabled=!1!==a.enabled,c.initialize(a.configuration||{}),this._providers.push(c)):this.app.trace.error(this.id+" can't find identify provider typed "+a.type)};b.prototype.search=function(a){var c=this,b=this._processIdentifyArgs(a);this.cancelSearch();try{if(b.geometry&&"polygon"==b.geometry.type){var f=b.geometry;if(f.rings&&1===f.rings.length&&5===f.rings[0].length){var g=b.geometry.getExtent();if(!d.framework.utils.isNullOrUndefined(g)&&this.app.site){var h=this.app.site.getMap();if(h){var l=
h.toScreen(new esri.geometry.Point(g.xmin,g.ymin,g.spatialReference)),m=h.toScreen(new esri.geometry.Point(g.xmax,g.ymax,g.spatialReference));96===Math.abs(m.x-l.x)&&96===Math.abs(m.y-l.y)&&(b.geometry=g.getCenter())}}}}}catch(p){this.app.trace.warning("Could not perform rectangle validation of polygon geometry: "+p)}b.source=b.source||"Identify";b.doNotBuffer?this._executeIdentifyImpl(b):this._applyBufferIfConfigured(b).then(function(a){b.geometry=a.geometry;c._executeIdentifyImpl(b)},function(a){c.app.trace.error("Identify: Could not apply buffer. Operation failed.")})};
b.prototype._executeIdentifyImpl=function(a){var c=a.source||"Identify";this._previousFscSource&&(this.app.featureSetManager.tryCloseCollection(this._previousFscIds[this._previousFscSource]),this._previousFscIds[c]&&(this.app.featureSetManager.removeCollectionById(this._previousFscIds[c]),delete this._previousFscIds[c]));var b=new f.infrastructure.FeatureSetCollection;b.displayName.set(this._fscDisplayName);do this._fscSourceCount[c]=this._fscSourceCount.hasOwnProperty(c)?this._fscSourceCount[c]+
1:0,b.id=c+this._fscSourceCount[c];while(this.app.featureSetManager.getCollectionById(b.id));this._previousFscIds[c]=b.id;this._previousFscSource=b.sourceName=c;this.app.featureSetManager.addCollection(b);b.tag=a.geometry;for(c=0;c<this._providers.length;c++)this._providers[c].isEnabled&&this._providers[c].search(b,a)};b.prototype.cancelSearch=function(){for(var a=0;a<this._providers.length;a++)this._providers[a].cancelSearch()};b.prototype._processIdentifyArgs=function(a){a={geometry:a instanceof
esri.geometry.Geometry?a:a.geometry,source:void 0!=a.source?a.source:"Identify",extent:a instanceof esri.geometry.Geometry?null:a.extent||null,width:a instanceof esri.geometry.Geometry?null:parseInt(a.width)||null,height:a instanceof esri.geometry.Geometry?null:parseInt(a.height)||null,pixelTolerance:isNaN(parseInt(a.pixelTolerance))?this.pixelTolerance:parseInt(a.pixelTolerance),polygonPixelTolerance:isNaN(parseInt(a.polygonPixelTolerance))?this.polygonPixelTolerance:parseInt(a.polygonPixelTolerance),
topMostLayerOnly:void 0!=a.topMostLayerOnly?!!a.topMostLayerOnly:this.topMostLayerOnly,visibleLayersOnly:void 0!=a.visibleLayersOnly?!!a.visibleLayersOnly:this.visibleLayersOnly,visibleMapServicesOnly:void 0!=a.visibleMapServicesOnly?!!a.visibleMapServicesOnly:!1,layersInVisibleScaleRangeOnly:void 0!=a.layersInVisibleScaleRangeOnly?!!a.layersInVisibleScaleRangeOnly:this.layersInVisibleScaleRangeOnly,restrictRasterIdentifyToPoint:void 0!=a.restrictRasterIdentifyToPoint?!!a.restrictRasterIdentifyToPoint:
this.restrictRasterIdentifyToPoint,returnGeometry:void 0!=a.returnGeometry?!!a.returnGeometry:this.returnGeometry,delayFSCOpen:void 0!=a.delayFSCOpen?!!a.delayFSCOpen:!1,layerRestriction:void 0!=a.layerRestriction&&dojo.isFunction(a.layerRestriction)?a.layerRestriction:null,doNotBuffer:void 0!=a.doNotBuffer?!!a.doNotBuffer:!1};"Identify"===a.source&&(a.identifiableLayerInfo=this.layerSelectorForIdentify.mapServiceLayersToIdentify);return a};b.prototype._applyBufferIfConfigured=function(a){var c=this;
return new Promise(function(b,d){var f=c.app.command("BufferGeometry");!c.bufferingEnabled||f.isWrapper?b({geometry:a.geometry}):f.execute({geometry:a.geometry,callback:function(a){return b(a)},errback:function(a){return d(a)},sourceCommand:a.source})})};return b}(d.framework.application.ModuleBase);g.IdentifyModule=m})(g.identify||(g.identify={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c);this._menuIsActive=!1;this.app.event("ViewActivatedEvent").subscribe(this,function(a){"IWantToMenuView"===a.id&&this.root&&(dojo.removeClass(this.root,"wtm-inactive"),dojo.addClass(this.root,"wtm-active"),this.viewModel.buttonBackgroundColor.set(this.viewModel.secondaryButtonColor),this._menuIsActive=!0)});this.app.event("ViewDeactivatedEvent").subscribe(this,function(a){"IWantToMenuView"===
a.id&&this.root&&(dojo.removeClass(this.root,"wtm-active"),dojo.addClass(this.root,"wtm-inactive"),this.viewModel.buttonBackgroundColor.set(this.viewModel.primaryButtonColor),this._menuIsActive=!1)})}__extends(b,d);b.prototype.handleButtonClick=function(a,c,b){this.app.command("ToggleView").execute("IWantToMenuView");return!1};return b}(d.framework.ui.ViewBase);f.IWantToMenuButtonView=g})(f.IWantToMenu||(f.IWantToMenu={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.name=new Observable("");this.description=new Observable("");this.cssClass=new Observable("menu-item disabled");this.iconUri=new Observable("");this.commandParameter=this.commandName=null}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);this.name.set(a.name);this.description.set(a.description);this.iconUri.set(a.iconUri||"Resources/Images/Icons/arrow-right-24.png");
this.commandName=a.command;this.commandParameter=a.commandParameter};return b}(d.framework.ui.ViewModelBase);f.IWantToMenuItemViewModel=g})(f.IWantToMenu||(f.IWantToMenu={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);a&&a.menus&&this.app.menuRegistry.loadMenus(a)};return b}(d.framework.application.ModuleBase);f.IWantToMenuModule=g})(f.IWantToMenu||(f.IWantToMenu={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.resolveWidget=function(a,c,b){d.prototype.resolveWidget.call(this,a,c);if("MobileSettingsMenuWidget"===a&&!0===this.viewModel.mobileMode.get()||"MobileSettingsMenuWidget"===a&&!0===this.viewModel.mobileMode.get())return this.app.menuRegistry.createMenuWidget(this,c,b)};b.prototype.activated=function(){var a=this;d.prototype.activated.call(this);this.app.command("ClearActiveTool").execute();
this.app.event("FlyoutActivated").publish(this);var c={view:this,onOtherInteracted:function(c){return a._onOtherViewTapped(c)},onElementInteracted:function(c){return a._onMenuViewTapped(c)}};this.app.command("TapToDismiss").execute(c)};b.prototype.deactivated=function(){d.prototype.deactivated.call(this);this._lastState=!1;this.app.event("FlyoutDeactivated").publish(this)};b.prototype.handleMenuItemClick=function(a,c,b){this._deactivateSelf();d.prototype.handleMenuItemClick.call(this,a,c,b)};b.prototype.handleMobileModeHeaderClick=
function(a,c,b){this._deactivateSelf()};b.prototype._onOtherViewTapped=function(a){$(a.srcElement||a.target).hasClass("wtm-button")||this._deactivateSelf()};b.prototype._onMenuViewTapped=function(a){var c=this;this.app.configuration.mobileMode&&!1===$(a.target).hasClass("list-menu-button")?(a={view:this,onOtherInteracted:function(a){return c._onOtherViewTapped(a)},onElementInteracted:function(a){return c._onMenuViewTapped(a)}},this.app.command("TapToDismiss").execute(a)):this.app.configuration.mobileMode&&
!0===$(a.target).hasClass("list-menu-button")&&(a.target.click(),this._deactivateSelf())};b.prototype._deactivateSelf=function(){this.app.command("DeactivateView").execute(this.id)};return b}(d.essentialsHtmlViewer.mapping.infrastructure.menus.MenuView);f.IWantToMenuView=g})(f.IWantToMenu||(f.IWantToMenu={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){var m=function(d){function b(a,c){d.call(this,a,c);this.primaryButtonColor=b.DEFAULT_PRIMARY_COLOR;this.secondaryButtonColor=b.DEFAULT_SECONDARY_COLOR;this.mobileMode=new Observable(!1);this.showMenu=new Observable(!0);this.showGlobalMenu=new Observable(!0);this.buttonBackgroundColor=new Observable(this.primaryButtonColor);this.handheldBackgroundColor=new Observable(this.primaryButtonColor);this.menuTitle.set(this.getResource("language-menu-title"))}
__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);!0===this.app.configuration.mobileMode&&this.mobileMode.set(!0);a&&(a.hasOwnProperty("menuTitle")&&this.menuTitle.set(a.menuTitle),a.hasOwnProperty("showMenu")&&this.showMenu.set(!!a.showMenu),a.hasOwnProperty("showGlobalMenu")&&this.showGlobalMenu.set(!!a.showGlobalMenu),a.hasOwnProperty("primaryButtonColor")&&(this.primaryButtonColor=a.primaryButtonColor,this.buttonBackgroundColor.set(a.primaryButtonColor),this.handheldBackgroundColor.set(a.primaryButtonColor)))};
b.DEFAULT_PRIMARY_COLOR="#1A72C4";b.DEFAULT_SECONDARY_COLOR="#FFFFFF";return b}(d.infrastructure.menus.MenuViewModel);g.IWantToMenuViewModel=m})(g.IWantToMenu||(g.IWantToMenu={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));geocortex.essentialsHtmlViewer.mapping.modules.results=geocortex.essentialsHtmlViewer.mapping.infrastructure.results;
(function(d){(function(g){(function(f){(function(g){(function(g){var m=f.infrastructure.FormatUtils,l=f.infrastructure.NumberFormat,b=function(a){function c(c,b){a.call(this,c,b);this.SEARCH_TYPE="InstantSearch";this.SEARCH_TYPE_HINTS="InstantSearchHints";this._cancelled=this._canExecute=!1;this._intSearchUniqueID=0;this._fscSourceName="Search";this.precedenceToNearbyResults=this.enableSearchHints=!0;this.maxResults=50;this.maxHints=5;this.name=this.app.getResource("Mapping","language-search-instant-provider-name");
this.description=this.app.getResource("Mapping","language-search-instant-provider-description");this.supportsHints=this.isEnabled=!0}__extends(c,a);c.prototype.initialize=function(c){a.prototype.initialize.call(this,c);c&&(c.hasOwnProperty("enableSearchHints")&&(this.enableSearchHints=c.enableSearchHints),c.hasOwnProperty("maxResults")&&(this.maxResults=parseInt(c.maxResults)),c.hasOwnProperty("maxHints")&&(this.maxHints=parseInt(c.maxHints)),c.hasOwnProperty("precedenceToNearbyResults")&&(this.precedenceToNearbyResults=
c.precedenceToNearbyResults));if(this.app.site&&this.app.site.isInitialized)this._onSiteInitialized(this.app.site);else this.app.event("SiteInitializedEvent").once(this,this._onSiteInitialized)};c.prototype.canExecute=function(){return this._canExecute?!0:this.isEnabled=!1};c.prototype.cancelSearch=function(){if(!this._cancelled){this._cancelled=!0;this.status=f.infrastructure.search.Status.IDLE;var a=new f.infrastructure.eventArgs.SearchProgressEventArgs;a.status=f.infrastructure.search.Status.IDLE;
a.message=this.app.getResource("Mapping","language-search-instant-provider-search-cancelled");a.results=null;this._updateProgress(a)}};c.prototype.search=function(a,c){var b=this;if(!1!==this.canExecute()){this._cancelled=!1;var g=[l.ACCOUNTING,l.CURRENCY,l.FIXED_POINT,l.NUMBER,l.PERCENT,l.ROUND_TRIP];c=(c||"").split(/\s+/).map(function(a){var c=m.parseNumber(a,g);return isNaN(c)?a:m.formatNumber(c,l.ROUND_TRIP)}).join(" ");var h=new d.essentials.SearchQuery;h.searchText=c;h.maxResults=this.maxResults;
h.searchLayers=this._getSearchableLayers();h.returnIdsOnly=!1;h.returnCountOnly=!1;h.returnHighlights=!1;h.returnGeometry=!0;h.contains=!0;0==h.searchLayers.length?this._onSearchError(Error("No layers to search. Make sure you mark some layers as searchable in your site."),a,h):(this.precedenceToNearbyResults&&this.app.map?(h.extent=this.app.map.extent,h.outSpatialReference=this.app.map.spatialReference):(h.extent=null,h.outSpatialReference=null),this.status=f.infrastructure.search.Status.SEARCHING,
this.app.site.search(h,function(c){return b._onSearchBegin(c,a)},function(c){return b._onSearchCompleted(c,a,h)},function(c){return b._onSearchError(c,a,h)}))}};c.prototype.getSearchHints=function(a,c){var b=this;if(!1!==this.canExecute()&&c&&""!=c.replace(/ /g,"")&&this.enableSearchHints){var f=++this._intSearchUniqueID,g=new d.essentials.SearchQuery;g.searchText=c;g.maxResults=this.maxHints;g.searchLayers=this._getSearchableLayers();g.returnIdsOnly=!1;g.returnCountOnly=!1;g.returnGeometry=!1;g.returnHighlights=
!0;g.contains=!0;this.precedenceToNearbyResults&&this.app.map?(g.extent=this.app.map.extent,g.outSpatialReference=this.app.map.spatialReference):(g.extent=null,g.outSpatialReference=null);this.app.site.search(g,function(a){b._onGetSearchHintsBegin(a,f)},function(c){b._onGetSearchHintsCompleted(c,a,g,f)},function(c){b._onGetSearchHintsError(c,a,g,f)})}};c.prototype._onSiteInitialized=function(a){this._checkCanExecute(a)};c.prototype._checkCanExecute=function(a){a&&4<=a.getEssentialsVersion()?this._canExecute=
this._hasSearchableMapServices(a):(this._canExecute=!1,this.app.trace.warning(this.app.getResource("Mapping","language-search-instant-provider-not-available")))};c.prototype._hasSearchableMapServices=function(a){for(var c=0;c<a.essentialsMap.mapServices.length;c++)if(a.essentialsMap.mapServices[c].instantSearch)return!0;return!1};c.prototype._getSearchableLayers=function(){for(var a=this.app.site.essentialsMap.allLayersAndTables(),c=[],b=0;b<a.length;b++)a[b].searchable&&a[b].mapService&&a[b].mapService.instantSearch&&
c.push(a[b]);return c};c.prototype._onSearchBegin=function(a,c){if(!this._cancelled){var b=new f.infrastructure.eventArgs.SearchProgressEventArgs;b.status=f.infrastructure.search.Status.SEARCHING;b.message=this.app.getResource("Mapping","language-search-instant-provider-search-started");b.searchType=this.SEARCH_TYPE;b.query=a.searchText;this._updateProgress(b)}};c.prototype._onSearchCompleted=function(a,c,b){if(!this._cancelled&&(this.status=f.infrastructure.search.Status.IDLE,!a.error)){a=this._createFeatureSetArray(a);
for(var d=0;d<a.length;d++)this._addFsToFsc(a[d],c);a=new f.infrastructure.eventArgs.SearchProgressEventArgs;a.status=f.infrastructure.search.Status.IDLE;a.message=this.app.getResource("Mapping","language-search-instant-provider-search-completed");a.results=c;a.searchType=this.SEARCH_TYPE;a.query=b.searchText;this._updateProgress(a)}};c.prototype._onSearchError=function(a,c,b){if(!this._cancelled){this.status=f.infrastructure.search.Status.IDLE;var d=new f.infrastructure.eventArgs.SearchProgressEventArgs;
d.status=f.infrastructure.search.Status.ERROR;d.message=this.app.getResource("Mapping","language-search-error").format(a.message);d.results=c;d.searchType=this.SEARCH_TYPE;d.query=b.searchText;this._updateProgress(d)}};c.prototype._onGetSearchHintsBegin=function(a,c){var b=new f.infrastructure.eventArgs.SearchProgressEventArgs;b.status=f.infrastructure.search.Status.SEARCHING;b.message=this.app.getResource("Mapping","language-search-instant-provider-search-started");b.searchType=this.SEARCH_TYPE_HINTS;
b.query=a.searchText;this._updateProgress(b)};c.prototype._onGetSearchHintsCompleted=function(a,c,b,d){a=this._createFeatureSetArray(a);if(d&&d===this._intSearchUniqueID){var g=[],h=!1;for(d=0;!h&&d<a.length;d++){var l=a[d];if(l)for(var m=0;!h&&m<l.features.getLength();m++){var p=l.features.getAt(m);if(p&&(p=p.getExtendedPropertyByName("highlights")))for(var u in p)if(p.hasOwnProperty(u)){var r=(p[u]+"").trim();(h=g.length>=this.maxHints)||-1!=g.indexOf(r)||g.push(r)}}}c.addItems(g.map(function(a){return new f.infrastructure.search.SearchHintItem(a)}))}c=
new f.infrastructure.FeatureSetCollection;for(d=0;d<a.length;d++)this._addFsToFsc(a[d],c);a=new f.infrastructure.eventArgs.SearchProgressEventArgs;a.status=f.infrastructure.search.Status.IDLE;a.message=this.app.getResource("Mapping","language-search-instant-provider-search-completed");a.results=c;a.searchType=this.SEARCH_TYPE_HINTS;a.query=b.searchText;this._updateProgress(a)};c.prototype._onGetSearchHintsError=function(a,c,b,d){this.app.trace.warning("InstantSearchProvider: could not retrieve search hints.");
c=new f.infrastructure.eventArgs.SearchProgressEventArgs;c.status=f.infrastructure.search.Status.ERROR;c.message=this.app.getResource("Mapping","language-search-error").format(a.message);c.searchType=this.SEARCH_TYPE_HINTS;c.query=b.searchText;this._updateProgress(c)};c.prototype._updateProgress=function(a){this.app.event("SearchProgressEvent").publish(a)};c.prototype._createFeatureSetArray=function(a){var c=[];if(a&&!a.error)for(var b=0;b<a.results.length;b++){var d=a.results[b],g=new f.infrastructure.FeatureSet({esriFeatureSet:new esri.tasks.FeatureSet,
layer:d.layer,app:this.app});dojo.forEach(d.features,function(a){var c=new f.infrastructure.Feature({graphic:a.esriFeature,layer:d.layer,resolveLayerFields:!0});a.highlights&&c.setExtendedProperty("highlights",a.highlights);g.addFeature(c,!0)});c.push(g)}return c};c.prototype._addFsToFsc=function(a,c){var b=this;a&&a.esriFeatureSet&&0!=a.esriFeatureSet.features.length&&(a.resolveDataLinks(function(a){b.app.event("FeatureChangedEvent").publish(a)}),c.featureSets.addItem(a))};return c}(f.infrastructure.search.SearchProviderBase);
g.InstantSearchProvider=b})(g.search||(g.search={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(g){function b(a,c){g.call(this,a,c);this.SEARCH_TYPE="ArcGIS";this._cancelFunction=null;this.name="Query";this.description="Search provider for querying map servers or feature servers.";this.supportsOffline=this.isEnabled=!0}__extends(b,g);b.prototype.initialize=function(a){g.prototype.initialize.call(this,a)};b.prototype.search=function(a,c){var b=this;c=c.trim();if(a)if(c)if(this.app.site&&this.app.site.isInitialized){this._cancelFunction&&
this._cancelFunction();for(var g=!1,h=0;h<this.app.site.essentialsMap.mapServices.length;h++)if(this.app.site.essentialsMap.mapServices[h].instantSearch){g=!0;break}var l=this._getSearchableLayers();if(0==l.length)g||this._handleWarning(Error("No layers to search. Make sure you mark some layers as searchable in your site."),a,c);else{this.status=d.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING;var m=!1,p=0,s=new d.essentialsHtmlViewer.mapping.infrastructure.eventArgs.SearchProgressEventArgs;
s.results=a;s.error=null;s.message="";s.searchType=this.SEARCH_TYPE;s.query=c;s.status=this.status;this.app.event("SearchProgress").publish(s);this.app.event("SearchProgressEvent").publish(s);var y=function(c,f){m||(0<c.features.length&&b._addFsToFsc(c,f,a),p++,b.status=p===l.length?d.essentialsHtmlViewer.mapping.infrastructure.search.Status.IDLE:d.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING,s.status=b.status,b.app.event("SearchProgress").publish(s),b.app.event("SearchProgressEvent").publish(s))},
v=function(c,f){m||(p++,p===l.length&&(b.status=d.essentialsHtmlViewer.mapping.infrastructure.search.Status.IDLE),b._handleError(c,a,f.displayName))};this._cancelFunction=function(){m||(m=!0,b._cancelFunction=null,b.status=d.essentialsHtmlViewer.mapping.infrastructure.search.Status.IDLE)};l.forEach(function(a){f.infrastructure.gis.LayerInfo.fromGcxLayer(a).getFields().then(function(d){(d=f.infrastructure.taskUtils.getSearchTextWhereClause(a,d,c,b.app.trace))?a instanceof f.infrastructure.LayerIntegrationUtils.LocalLayer?
b._searchLocalLayer(c,a,y,v):b._searchLayer(a,d,y,v):p++},function(c){v(c,a)})})}}else this._handleError(Error("The site needs to be initialized before a search is performed."),a);else this._handleError(Error("Cannot perform search without search text."),a);else this._handleError(Error("Cannot perform search without a feature set collection."),a)};b.prototype._getSearchableLayers=function(){for(var a=this.app.site.essentialsMap.allLayersAndTables(),c=[],b=0;b<a.length;b++)a[b].mapService&&!a[b].mapService.instantSearch&&
a[b].searchable&&this._layerTypeSupported(a[b])&&c.push(a[b]);return c};b.prototype._searchLayer=function(a,c,b,d){var g=new esri.tasks.Query;g.where=c;g.outFields=["*"];g.outSpatialReference=this.app.map.spatialReference;g.returnGeometry=!0;f.infrastructure.taskUtils.getQueryTask(a).execute(g,function(c){b(c,a)},function(c){d(c,a)})};b.prototype._searchLocalLayer=function(a,c,b,d){try{var f=a.split(" ").map(function(a){return a.trim()}).filter(function(a){return!!a}).map(function(a){return RegExp("\\b"+
a+"\\b","i")}),g=c.mapService.serviceLayer,h=new esri.tasks.FeatureSet;a=0;a:for(;a<g.graphics.length;a++)for(var l=g.graphics[a],m=0,p=Object.keys(l.attributes);m<p.length;m++){var v=l.attributes[p[m]];if(f.map(function(a){return a.test(v)}).every(function(a){return!!a})){h.features.push(l);continue a}}b(h,c)}catch(u){d(u,c)}};b.prototype._addFsToFsc=function(a,c,b){var f=this;if(a&&a.features&&0<a.features.length)for(var g=0;g<a.features.length;g++)c.mapService&&c.mapService.serviceLayer&&(a.features[g]._graphicsLayer=
c.mapService.serviceLayer);a=new d.essentialsHtmlViewer.mapping.infrastructure.FeatureSet({esriFeatureSet:a,layer:c,app:this.app});a.resolveDataLinks(function(a){f.app.event("FeatureChangedEvent").publish(a)});b.featureSets.addItem(a)};b.prototype.cancelSearch=function(){this._cancelFunction&&this._cancelFunction()};b.prototype._layerTypeSupported=function(a){return a&&a.mapService?a.mapService.mapServiceType===d.essentials.MapServiceType.DYNAMIC?!0:a.mapService.mapServiceType===d.essentials.MapServiceType.TILED?
!0:a.mapService.mapServiceType===d.essentials.MapServiceType.FEATURE?!0:a.mapService.mapServiceType===d.essentials.MapServiceType.WMS?!0:!1:!1};b.prototype._handleWarning=function(a,c,b,f){b="Layer Search Provider"+(b?" ("+b+"): ":": ")+a.message;var g=new d.essentialsHtmlViewer.mapping.infrastructure.eventArgs.SearchProgressEventArgs;g.results=c;g.status=d.essentialsHtmlViewer.mapping.infrastructure.search.Status.ERROR;g.error=a;g.message=b;g.searchType=this.SEARCH_TYPE;g.query=f;this.app.trace.warning(b);
this.app.event("SearchProgress").publish(g);this.app.event("SearchProgressEvent").publish(g)};b.prototype._handleError=function(a,c,b,f){b="Layer Search Provider"+(b?" ("+b+"): ":": ")+a.message;var g=new d.essentialsHtmlViewer.mapping.infrastructure.eventArgs.SearchProgressEventArgs;g.results=c;g.status=d.essentialsHtmlViewer.mapping.infrastructure.search.Status.ERROR;g.error=a;g.message=b;g.searchType=this.SEARCH_TYPE;g.query=f;this.app.trace.error(b);this.app.event("SearchProgress").publish(g);
this.app.event("SearchProgressEvent").publish(g)};return b}(d.essentialsHtmlViewer.mapping.infrastructure.search.SearchProviderBase);g.LayerQuerySearchProvider=m})(g.search||(g.search={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c);this.enableSearchRefinement=new Observable(!0);this.minimumPopulateDelay=300;this.consecutiveSearchDelay=1E4;this.delayConsecutiveSearches=!1;this.minimumPrefixLength=3;this.searchText=new Observable("");this.enableUI=new Observable(!1);this.expanded=new Observable(!1);this.searchDisabled=!1;this.searchHints=new ObservableCollection;if(this.app.site&&this.app.site.isInitialized)this._onSiteInitialized(this.app.site);
else this.app.event("SiteInitializedEvent").once(this,this._onSiteInitialized)}__extends(b,d);b.prototype.initialize=function(a){a&&a.hasOwnProperty("enableSearchRefinement")&&this.enableSearchRefinement.set(a.enableSearchRefinement);a&&a.hasOwnProperty("minimumPopulateDelay")&&(this.minimumPopulateDelay=parseInt(a.minimumPopulateDelay));a&&a.hasOwnProperty("minimumPrefixLength")&&(this.minimumPrefixLength=parseInt(a.minimumPrefixLength));a&&a.hasOwnProperty("consecutiveSearchDelay")&&(this.consecutiveSearchDelay=
parseInt(a.consecutiveSearchDelay));a&&a.hasOwnProperty("delayConsecutiveSearches")&&(this.delayConsecutiveSearches=a.delayConsecutiveSearches);this.app.command("EnableSearchRefinement").register(this,this._executeEnableSearchRefinementCommand)};b.prototype.clearSearchHints=function(){this.searchHints.clear()};b.prototype.updateSearchHints=function(a){this.clearSearchHints();this.app.searchManager.getSearchHints(this.searchHints,a)};b.prototype._onSiteInitialized=function(a){this.enableUI.set(!0)};
b.prototype._executeEnableSearchRefinementCommand=function(a){this.enableSearchRefinement.set(a||!1)};return b}(d.framework.ui.ViewModelBase);f.SearchViewModel=g})(f.search||(f.search={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(d){function b(a,c){var b=this;d.call(this,a,c);this.app.command("FocusOnSearchHint").register(this,function(a){a===dojo.keys.DOWN_ARROW||a===dojo.keys.NUMPAD_2?f.infrastructure.FocusUtils.focus($(b.hintsList).find(".list-menu-button")[0]):a!==dojo.keys.UP_ARROW&&a!=dojo.keys.NUMPAD_8||f.infrastructure.FocusUtils.focus($(b.hintsList).find(".list-menu-button")[$(b.hintsList).find(".list-menu-button").length-1])})}__extends(b,
d);b.prototype.attach=function(a){var c=this;d.prototype.attach.call(this,a);this.viewModel&&this.viewModel.expanded.bind(this,function(a){c.app.command(a?"ActivateView":"DeactivateView").execute(c.id);a?(c.app.event("FlyoutActivated").publish(c),a={view:c,onOtherInteracted:function(a){return c._onOtherInteracted(a)}},c.app.command("TapToDismiss").execute(a)):c.app.event("FlyoutDeactivated").publish(c)})};b.prototype.handleHintClick=function(a,c,b){b&&b.plainText.get()&&(this._hideAutoComplete(),
this.viewModel.searchText.set(b.plainText.get()),this.app.command("GlobalSearch").execute(b.plainText.get()),this.app.event("SearchHintClickedEvent").publish(b))};b.prototype.handleRefineSearchClick=function(a,c,b){b&&b.plainText.get()&&(this._showAutoComplete(),this.viewModel.searchText.set(b.plainText.get()),this.viewModel.updateSearchHints(b.plainText.get()))};b.prototype.handleKeyDown=function(a,c,b){if($(document.activeElement).parent(".hints-list")&&-1<[dojo.keys.DOWN_ARROW,dojo.keys.UP_ARROW,
dojo.keys.NUMPAD_2,dojo.keys.NUMPAD_8].indexOf(a.keyCode)){c=$(this.hintsList).find(".list-menu-button");for(b=b=0;b<c.length&&c[b]!==document.activeElement;b++);if(a.keyCode===dojo.keys.DOWN_ARROW||a.keyCode===dojo.keys.NUMPAD_2)return f.infrastructure.FocusUtils.focus(c[++b]),!1;if(a.keyCode===dojo.keys.UP_ARROW||a.keyCode==dojo.keys.NUMPAD_8)return f.infrastructure.FocusUtils.focus(c[--b]),!1}return!0};b.prototype._showAutoComplete=function(){this.viewModel.expanded.set(!0)};b.prototype._onOtherInteracted=
function(a){this.viewModel.expanded.set(!1)};b.prototype._hideAutoComplete=function(){this.viewModel.expanded.set(!1)};return b}(d.framework.ui.ViewBase);g.SearchHintsView=m})(g.search||(g.search={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(){f.apply(this,arguments);this.autoLoadSiteGeocoders=!0}__extends(b,f);b.prototype.initialize=function(a){a&&a.searchProviders&&this._loadProviders(a.searchProviders);a&&a.hasOwnProperty("autoLoadSiteGeocoders")&&!1==a.autoLoadSiteGeocoders&&(this.autoLoadSiteGeocoders=!1);if(this.autoLoadSiteGeocoders)if(this.app.site&&this.app.site.isInitialized)this._loadGeocoders();else this.app.event("SiteInitializedEvent").once(this,
this._loadGeocoders)};b.prototype._loadProviders=function(a){for(var c=0;c<a.length;c++){var b=a[c];b&&(b.libraryId&&!this.app.allLibrariesLoaded?this._loadProviderWhenLibrariesDownloaded(b):this._loadProvider(b))}};b.prototype._loadProviderWhenLibrariesDownloaded=function(a){var c=this,b=this.app.event("ViewerLibrariesDownloadedEvent").subscribe(this,function(){c.app.event("ViewerLibrariesDownloadedEvent").unsubscribe(b);c._loadProvider(a)})};b.prototype._loadProvider=function(a){var c=dojo.getObject(a.type);
c&&(c=new c(this.app,a.libraryId||this.libraryId),c.initialize(a.configuration),a.hasOwnProperty("enable")&&(c.isEnabled=a.enable),a.hasOwnProperty("name")&&(c.name=a.name),a.hasOwnProperty("description")&&(c.description=a.description),this.app.command("RegisterSearchProvider").execute(c))};b.prototype._loadGeocoders=function(){if(this.app.site&&this.app.site.isInitialized&&this.app.site.geocodingEndpoints&&0<this.app.site.geocodingEndpoints.length)for(var a=0;a<this.app.site.geocodingEndpoints.length;a++){var c=
this.app.site.geocodingEndpoints[a];if(c.includeInGlobalSearch)if(c.geocoderType==d.essentials.GeocodingEndpointType.BING_GEOCODER){var b=new d.essentialsHtmlViewer.mapping.modules.search.BingGeocodeSearchProvider(this.app,this.libraryId);b.libraryId=this.libraryId;b.name=c.displayName;b.iconUri=d.essentials.RestHelper.processClientSideTokens(this.app.site,c.iconUri);b.initialize({});b.bingMapsKey=c.bingProperties.bingMapsKey;c.bingProperties.culture&&(b.culture=c.bingProperties.culture);this.app.command("RegisterSearchProvider").execute(b)}else if(c.geocoderType==
d.essentials.GeocodingEndpointType.ARCGIS_GEOCODER){var f=new d.essentialsHtmlViewer.mapping.modules.search.ArcGisGeocodeSearchProvider(this.app,this.libraryId);f.libraryId=this.libraryId;f.locatorUrl=c.geocoderUrl;f.token=c.geocoderToken;f.name=c.displayName;f.iconUri=d.essentials.RestHelper.processClientSideTokens(this.app.site,c.iconUri);f.parameters=c.parameters;f.globalSearchKey=c.globalSearchKey;f.minimumScore=70;f.initialize({});this.app.command("RegisterSearchProvider").execute(f);c.geocoderToken&&
dojo.subscribe("ServiceTokenRefreshed",function(a){a.serviceUrl==f.locatorUrl&&f.updateToken(a.token)})}}};return b}(d.framework.application.ModuleBase);f.SearchModule=g})(f.search||(f.search={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(g){function b(a,c){g.call(this,a,c);this._keyDownTimer=null}__extends(b,g);b.prototype.attach=function(a){var c=this;g.prototype.attach.call(this,a);this.viewModel&&(this._keyDownTimer=new d.framework.utils.TimeDelayedAction(this.viewModel.minimumPopulateDelay,this._requestSearchHints,this),this.app.event("FSMCollectionClosedEvent").subscribe(this,function(a){"SearchResultsCollection"===a.featureSetCollectionId&&($(c.inputElement).prop("disabled",
!1),c.viewModel.searchDisabled=!1)}),this.app.event("SearchHintClickedEvent").subscribe(this,function(a){return c._delayConsecutiveSearches()}))};b.prototype.handleKeyDown=function(a,c,b){b=a.which?a.which:a.keyCode;this._isUpOrDownKey(b)&&0!==this.viewModel.searchHints.length()&&this.app.command("FocusOnSearchHint").execute(b);if(this._isSpecialChar(b))return!0;this._resetKeyDownTimer(b);if(b===dojo.keys.ENTER){if(this.viewModel.searchDisabled)return!0;this._hideAutoComplete();this.app.command("GlobalSearch").execute(c.value);
this._delayConsecutiveSearches();a.preventDefault()}return!0};b.prototype.handleSearchClick=function(a,c,b){this._hideAutoComplete();(a=this.viewModel.searchText.get())&&!this.viewModel.searchDisabled&&(this.app.command("GlobalSearch").execute(a),this._delayConsecutiveSearches())};b.prototype._delayConsecutiveSearches=function(){var a=this;this.viewModel.delayConsecutiveSearches&&($(this.inputElement).prop("disabled",!0),this.viewModel.searchDisabled=!0,setTimeout(function(){$(a.inputElement).prop("disabled",
!1);a.viewModel.searchDisabled=!1},this.viewModel.consecutiveSearchDelay))};b.prototype.handleDoubleClick=function(){this._hideAutoComplete()};b.prototype._isSpecialChar=function(a){switch(a){case dojo.keys.TAB:case dojo.keys.SHIFT:case dojo.keys.CTRL:case dojo.keys.ALT:case dojo.keys.PAUSE:case dojo.keys.CAPS_LOCK:case dojo.keys.ESCAPE:case dojo.keys.PAGE_UP:case dojo.keys.PAGE_DOWN:case dojo.keys.END:case dojo.keys.HOME:case dojo.keys.LEFT_ARROW:case dojo.keys.UP_ARROW:case dojo.keys.RIGHT_ARROW:case dojo.keys.DOWN_ARROW:case dojo.keys.NUM_LOCK:case dojo.keys.SCROLL_LOCK:return!0}return!1};
b.prototype._isUpOrDownKey=function(a){switch(a){case dojo.keys.UP_ARROW:case dojo.keys.DOWN_ARROW:return!0}return!1};b.prototype._resetKeyDownTimer=function(a){this._keyDownTimer.stop();a!==dojo.keys.ENTER&&this._keyDownTimer.start()};b.prototype._requestSearchHints=function(){var a=this.viewModel,c=a.searchText.get();null===c||c.length<a.minimumPrefixLength||""==c.replace(/ /g,"")?(this._hideAutoComplete(),a.clearSearchHints()):(this._showAutoComplete(),a.updateSearchHints(c))};b.prototype._showAutoComplete=
function(){this.viewModel.expanded.set(!0);f.infrastructure.FocusUtils.focus(this.inputElement)};b.prototype._hideAutoComplete=function(){this.viewModel.expanded.set(!1)};return b}(d.framework.ui.ViewBase);g.SearchView=m})(g.search||(g.search={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(d){function b(){d.apply(this,arguments);this._metadataCache=new f.infrastructure.Dictionary}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a);this._registerCommands()};b.prototype._registerCommands=function(){this.app.command("ShowSaveSelectionDialog").register(this,this.show,this._canShow);this.app.event("SelectionCreatedEvent").subscribe(this,this._handleSelectionCreated);this.app.event("SelectionChangedEvent").subscribe(this,
this._handleSelectionChanged);this.app.event("SelectionRemovedEvent").subscribe(this,this._handleSelectionRemoved)};b.prototype.handleKeyDown=function(a,c,b){(a.which?a.which:a.keyCode)===dojo.keys.ENTER&&(this.save(),a.preventDefault());return!0};b.prototype.handleCancelClick=function(a,c,b){this.app.viewManager.deactivateView(this)};b.prototype.handleSaveClick=function(a,c,b){this.save()};b.prototype.save=function(){var a=this,c=this.viewModel.name.get();this.viewModel.saveSelection(c).then(function(c){return a._processResults(c)})["catch"](function(c){return a._processError(c)})};
b.prototype.show=function(a,c){var b;if(b="string"===typeof a?this.app.featureSetManager.getCollectionById(a):a){var d=c;d||(d="Selection"===b.sourceName?b.getExtendedPropertyByName("SelectionName"):"");this.viewModel.featureSetCollection.set(b);this.viewModel.name.set(d);this.app.viewManager.activateView(this)}else this.app.trace.warning("Cannot save feature set collection: No feature set collection with matching ID found.")};b.prototype._canShow=function(a,c){var b;return(b="string"===typeof a?
this.app.featureSetManager.getCollectionById(a):a)&&0!=b.featureSets.length()?"Selection"===b.sourceName?b.isModified.get():!0:!1};b.prototype._processResults=function(a){a&&(this.viewModel.showConfirmationMessage(),this.app.viewManager.deactivateView(this));return a};b.prototype._processError=function(a){var c=a&&"UiError"==a.name?a.message:this.getResource("language-saved-results-error-message");this.app.command("AddResultsStatus").execute(c);this.app.trace.error(c,a);return a};b.prototype._handleSelectionCreated=
function(a){this._computeCanExecute(a?a.name:null,a&&a.featureSetCollection?a.featureSetCollection.id:null)};b.prototype._handleSelectionChanged=function(a){this._computeCanExecute(a?a.name:null,a&&a.featureSetCollection?a.featureSetCollection.id:null)};b.prototype._handleSelectionRemoved=function(a){this._computeCanExecute(a?a.name:null,a&&a.featureSetCollection?a.featureSetCollection.id:null)};b.prototype._computeCanExecute=function(a,c){var b=this;c&&this.viewModel.findMetadata(a,c).then(function(a){return a?
b._metadataCache.set(c,a):b._metadataCache.remove(c)})["catch"](function(a){return b._metadataCache.remove(c)}).lastly(function(){return b.app.command("ShowSaveSelectionDialog").raiseCanExecuteChanged()})};return b}(d.framework.ui.ViewBase);g.SaveSelectionView=m})(g.selection||(g.selection={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(){f.apply(this,arguments);this.name=new Observable;this.featureSetCollection=new Observable;this._existingSelection=!1}__extends(b,f);b.prototype.saveSelection=function(a){var c=this;return Promise["try"](function(){c._assertNameNotNull(a);return c.selectionExists(a).then(function(b){c._existingSelection=b;return c._existingSelection?c.confirmOverwrite(a):Promise.resolve(!0)}).then(function(b){return c._existingSelection&&
b?c.updateSelection(a).thenReturn(!0):c._existingSelection?Promise.resolve(!1):c.createSelection(a).thenReturn(!0)})})};b.prototype.findMetadata=function(a,c){var b=this;return new Promise(function(d,f){var g={successCallback:d,errorCallback:f};if(!a&&!c)throw Error("The selection name or feature set collection ID must be set.");a&&(g.name=a);c&&(g.featureSetCollectionId=c);b.app.command("FindMetadataForSelection").execute(g)})};b.prototype.selectionExists=function(a){var c=this;return Promise["try"](function(){c._assertNameNotNull(a);
return c.findMetadata(a).then(function(a){return!d.framework.utils.isNullOrUndefined(a)})})};b.prototype.createSelection=function(a){var c=this;return new Promise(function(b,d){c._assertNameNotNull(a);c.app.command("CreateSelection").execute({name:a,featureSetCollection:c.featureSetCollection.get(),successCallback:b,errorCallback:d})})};b.prototype.updateSelection=function(a){var c=this;return new Promise(function(b,d){c._assertNameNotNull(a);c.app.command("UpdateSelection").execute({name:a,featureSetCollection:c.featureSetCollection.get(),
successCallback:b,errorCallback:d})})};b.prototype.confirmOverwrite=function(a){var c=this,b=this.app.getResource(this.libraryId,"language-saved-results-overwrite-prompt").format(a),d=this.app.getResource(this.libraryId,"language-saved-results-overwrite-prompt-title").format(a);return new Promise(function(a,f){return c.app.command("Confirm").execute(b,d,a)})};b.prototype.showConfirmationMessage=function(){var a=this.name.get(),c=this.featureSetCollection.get().countFeatures(),a=this.getResource(this._existingSelection?
"language-saved-results-update-confirmation":"language-saved-results-create-confirmation").format(a,c);this.app.command("AddResultsStatus").execute(a)};b.prototype._assertNameNotNull=function(a){if(d.framework.utils.isNullOrUndefined(a))throw Error("The selection name must be set.");};return b}(d.framework.ui.ViewModelBase);f.SaveSelectionViewModel=g})(f.selection||(f.selection={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(g){function b(a,c){g.call(this,a,c);this._fscSourceName="Selection";this._extPropName="SelectionName";this._resultsListStatusRegion="DataFrameResultsStatusRegion";this._resultsTableStatusRegion="ResultsStatusRegion";this._statusView=null;this._featureSetCollection=new Observable;this._metadataStore=new f.infrastructure.selection.SelectionMetadataStore(a)}__extends(b,g);b.prototype.initialize=function(a){g.prototype.initialize.call(this,a);
a=a||{};a.hasOwnProperty("resultsListStatusRegion")&&(this._resultsListStatusRegion=a.resultsListStatusRegion);a.hasOwnProperty("resultsTableStatusRegion")&&(this._resultsTableStatusRegion=a.resultsTableStatusRegion);this.app.menuRegistry.loadMenus(a);this._statusRegionName=this._resultsListStatusRegion;this._registerCommands()};b.prototype.getStateFilter=function(){var a=new f.infrastructure.validation.NumberValidator;return{results:this.app.project.filter.featureSetCollection,selections:{item:{id:!0,
name:!0,featureSetCollectionId:!0,count:a,modified:!0,timeCreated:a,timeModified:a,timeExpiration:a}}}};b.prototype.exportState=function(){var a=this;return Promise["try"](function(){return{results:a.app.project.convert.fromGcxFeatureSetCollection(a._featureSetCollection.get()),selections:a._metadataStore.findAll()}})};b.prototype.applyState=function(a){var c=this;return Promise["try"](function(){c._metadataStore.clear();return c.app.project.convert.toGcxFeatureSetCollection(a.results).then(function(b){c._featureSetCollection.set(b);
(a.selections||[]).forEach(function(a){c._metadataStore.add(a)});c._notifyCanExecuteChanged()})})};b.prototype._registerCommands=function(){var a=this;this.app.command("FindAllSelectionMetadata").register(this,this._executeFindAllSelectionMetadata);this.app.command("FindMetadataForSelection").register(this,this._executeFindMetadataForSelection);this.app.command("FindSelection").register(this,this._executeFindSelection,this._canFindSelection);this.app.command("CreateSelection").register(this,this._executeCreateSelection,
this._canCreateSelection);this.app.command("UpdateSelection").register(this,this._executeUpdateSelection,this._canUpdateSelection);this.app.command("RestoreSelection").register(this,this._executeRestoreSelection,this._canRestoreSelection);this.app.command("DeleteSelection").register(this,this._executeDeleteSelection,this._canDeleteSelection);this.app.command("RenameSelection").register(this,this._executeRenameSelection,this._canRenameSelection);this.app.command("AddFeatureToResults").register(this,
this._executeAddFeatureToResults,this._canAddFeatureToResults);this.app.command("RemoveFeatureFromResults").register(this,this._executeRemoveFeatureFromResults,this._canRemoveFeatureFromResults);this.app.command("CombineResults").register(this,this._executeCombineResults,this._canCombineResults);this.app.command("ResultsReplace").register(this,this._executeReplaceResults,this._canReplaceResults);this.app.command("ResultsUnion").register(this,this._executeUnionResults,this._canUnionResults);this.app.command("ResultsSubtract").register(this,
this._executeSubtractResults,this._canSubtractResults);this.app.command("ResultsIntersect").register(this,this._executeIntersectResults,this._canIntersectResults);this.app.command("AddResultsStatus").register(this,this.addStatus);this.app.command("RemoveResultsStatus").register(this,this.removeStatus);this.app.command("ShowResultsList").register(this,function(c){a._setStatusRegion(a._resultsListStatusRegion);(c="string"===typeof c?a.app.featureSetManager.getCollectionById(c):c)&&c!==a._featureSetCollection.get()&&
a._featureSetCollection.set(c);a._notifyCanExecuteChanged()});this.app.command("ShowResultsTable").register(this,function(c){a._setStatusRegion(a._resultsTableStatusRegion);(c="string"===typeof c?a.app.featureSetManager.getCollectionById(c):c)&&c!==a._featureSetCollection.get()&&a._featureSetCollection.set(c);a._notifyCanExecuteChanged()});this.app.event("ViewUnhostedEvent").subscribe(this,this._handleViewUnhosted);this.app.event("ResultsViewCollapsedEvent").subscribe(this,this._handleResultsViewCollapsed);
this.app.event("FSMCollectionRemovedEvent").subscribe(this,this._handleFsmCollectionRemovedEvent);this.app.event("FSMCollectionChangedEvent").subscribe(this,this._handleFsmCollectionChangedEvent);this.app.event("FeatureDeletedEvent").subscribe(this,this._updateMetadataForSavedSelections)};b.prototype.addStatus=function(a){var c=this,b;"string"===typeof a?(b=new d.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(a),b.timeoutMS=0):b=a;this._statusView&&this.app.command("RemoveResultsStatus").execute();
a=new d.essentialsHtmlViewer.mapping.modules.status.StatusMessageViewModel(this.app,this.libraryId);a.text.set(b.text);a.closeTitle.set(b.closeTitle);a.imageUri.set(b.imageUri);a.imageClass.set(b.imageClass);a.statusClass.set(b.statusClass);var f=this.app.viewManager.createView({viewId:"ResultsStatusMessageView",typeName:"geocortex.essentialsHtmlViewer.mapping.modules.status.StatusMessageView",markupResource:this.libraryId+"/modules/Status/StatusMessageView.html",viewModel:a,isVisible:!0,libraryId:this.libraryId,
regionName:b.regionName||this._statusRegionName});a.userClosedCallback=function(){f&&b&&b.userClosedCallback&&b.userClosedCallback.call(f,f);c._statusView=null};"number"===typeof b.timeoutMS&&0<b.timeoutMS&&(a.timer=new d.framework.utils.TimeDelayedAction(b.timeoutMS,function(){return c.app.command("RemoveResultsStatus").execute()},this),a.timer.start());this._statusView=f};b.prototype.removeStatus=function(){this._statusView&&(this.app.viewManager.destroyView(this._statusView),this._statusView=null)};
b.prototype._handleFsmCollectionChangedEvent=function(a){this._featureSetCollection.get()&&a&&a.featureSetCollectionId&&a.featureSetCollectionId==this._featureSetCollection.get().id&&this._featureSetCollection.get().sourceName===this._fscSourceName&&(this._featureSetCollection.get().isModified.set(!0),this.app.command("ShowSaveSelectionDialog").raiseCanExecuteChanged())};b.prototype._handleFsmCollectionRemovedEvent=function(a){this._featureSetCollection.get()&&a&&a.featureSetCollectionId&&a.featureSetCollectionId==
this._featureSetCollection.get().id&&(this._featureSetCollection.set(null),this.app.command("ShowSaveSelectionDialog").raiseCanExecuteChanged())};b.prototype._updateMetadataForSavedSelections=function(){var a=this;(this._metadataStore.findAll()||[]).forEach(function(c){var b=(new Date).getTime(),d=a.app.featureSetManager.getCollectionById(c.featureSetCollectionId);c.count=d.countFeatures();c.timeModified=b;a._metadataStore.updateById(c.id,c)})};b.prototype._setStatusRegion=function(a){this._statusRegionName=
a||this._resultsListStatusRegion};b.prototype._handleViewUnhosted=function(a){var c=a.region;a=a.view;c&&c.name==this._statusRegionName&&a&&a.viewModel&&a.viewModel.timer&&a.viewModel.timer.stop()};b.prototype._handleResultsViewCollapsed=function(a){a&&this._statusView&&this.app.command("RemoveResultsStatus").execute()};b.prototype._copyFeatureSets=function(a,c,b){void 0===b&&(b=!1);if(a&&c&&a!=c)for(b&&c.clear(),b=0;b<a.featureSets.length();b++){var d=a.featureSets.getAt(b);d&&(d=d.clone(),c.featureSets.addItem(d))}};
b.prototype._copyExtendedProperties=function(a,c,b){void 0===b&&(b=!1);a&&c&&a!==c&&(b&&c.extendedProperties.clear(),a.extendedProperties.getItems().forEach(function(a){return c.setExtendedProperty(a.name,a.value)}))};b.prototype._copy=function(a){var c=new f.infrastructure.FeatureSetCollection;c.sourceName=a.sourceName;c.displayName.set(a.displayName.get());c.isModified.set(a.isModified.get());c.tag=a.tag;this._copyExtendedProperties(a,c,!0);this._copyFeatureSets(a,c,!0);this.app.featureSetManager.addCollection(c);
return c};b.prototype._create=function(a,c){var b=new f.infrastructure.FeatureSetCollection;b.sourceName=this._fscSourceName;b.tag=c.tag;b.displayName.set(a);this._copyFeatureSets(c,b,!0);this._copyExtendedProperties(c,b,!0);b.setExtendedProperty(this._extPropName,a);this.app.featureSetManager.addCollection(b);this._createMetadata(a,b);return b};b.prototype._createMetadata=function(a,c){if(!c)throw Error("Cannot create metadata for selection: A feature set collection is required.");if(!a)throw Error("Cannot create metadata for selection: The selection name is required.");
var b=(new Date).getTime(),b={id:null,name:a,featureSetCollectionId:c.id,count:c.countFeatures(),modified:!1,timeCreated:b,timeModified:b};return this._metadataStore.add(b)};b.prototype._update=function(a,c,b){c.tag=b.tag;this._copyFeatureSets(b,c,!0);this._copyExtendedProperties(b,c,!0);c.setExtendedProperty(this._extPropName,a.name);c.isModified.set(!1);b.isModified.set(!1);b=(new Date).getTime();a.timeModified=b;a.count=c.countFeatures();a.modified=!1;this._metadataStore.updateById(a.id,a)};b.prototype._restore=
function(a){if(!a)throw Error("Collection is required");-1<this.app.featureSetManager.getCollectionIds().indexOf(a.id)||this.app.featureSetManager.addCollection(a);this._restoreById(a.id)};b.prototype._restoreById=function(a){this.app.featureSetManager.tryCloseCollection(a);this.app.featureSetManager.openCollection(a);this.app.featureSetManager.closeCollection(a)};b.prototype._delete=function(a,c){this.app.featureSetManager.tryCloseCollection(c.id);this.app.featureSetManager.removeCollectionById(c.id);
this._metadataStore.removeById(a.id)};b.prototype._rename=function(a,c,b){var d=(new Date).getTime();c.timeModified=d;c.name=a;this._metadataStore.updateById(c.id,c);b.displayName.set(a);b.setExtendedProperty(this._extPropName,a)};b.prototype._existsInCollection=function(a,c){if(!a||!a.featureSet&&!a.layer)return!1;if(!c)throw Error("FeatureSetCollection is required");for(var b=0;b<c.featureSets.getLength();b++){var d=c.featureSets.getAt(b),f=d.layer;if(a.featureSet&&a.featureSet.id===d.id)return d.containsFeature(a);
var g=a.layer===f||a.layer&&f&&a.layer.mapService===f.mapService||a.layer&&f&&a.layer.mapService&&f.mapService&&a.layer.mapService.id==f.mapService.id;if((a.layer===f||a.layer&&f&&a.layer.id==f.id)&&g)return d.containsFeature(a)}return!1};b.prototype._tryAddToCollection=function(a,c){if(!c||!a||this._existsInCollection(a,c))return!1;var b=null,d=a.featureSet?a.featureSet.id:null,g=a.layer;d&&(b=c.getFeatureSetById(d));!b&&g&&(b=c.getFeatureSetByLayer(g));b?b.addFeature(a):(b=new f.infrastructure.FeatureSet({app:this.app,
layer:a.layer,esriFeatureSet:new esri.tasks.FeatureSet}),b.addFeature(a),c.featureSets.addItem(b));return!0};b.prototype._tryRemoveFromCollection=function(a,c){if(!c||!a)return!1;var b=null,d=a.featureSet?a.featureSet.id:null,f=a.layer,g=!1;d&&(b=c.getFeatureSetById(d));!b&&f&&(b=c.getFeatureSetByLayer(f));b&&(g=b.removeFeature(a),0===b.features.getLength()&&(c.featureSets.removeItem(b),g=!0));return g};b.prototype._notifyCanExecuteChanged=function(){this.app.command("AddFeatureToResults").raiseCanExecuteChanged();
this.app.command("RemoveFeatureFromResults").raiseCanExecuteChanged();this.app.command("CombineResults").raiseCanExecuteChanged();this.app.command("ResultsReplace").raiseCanExecuteChanged();this.app.command("ResultsUnion").raiseCanExecuteChanged();this.app.command("ResultsSubtract").raiseCanExecuteChanged();this.app.command("ResultsIntersect").raiseCanExecuteChanged()};b.prototype._notifyFeatureSetCollectionChanged=function(){var a=new d.essentialsHtmlViewer.mapping.infrastructure.eventArgs.FeatureSetManagerEventArgs({sender:this,
featureSetCollection:this._featureSetCollection.get(),featureSetCollectionId:this._featureSetCollection.get().id});this.app.event("FSMCollectionChangedEvent").publish(a)};b.prototype._executeAddFeatureToResults=function(a){var c=this._featureSetCollection.get()?this._featureSetCollection.get().displayName.get():"";this._tryAddToCollection(a,this._featureSetCollection.get())&&(this._notifyCanExecuteChanged(),this._notifyFeatureSetCollectionChanged(),a=this.getResource("language-common-results-added-confirmation").format(1,
c),this.app.command("AddResultsStatus").execute(a))};b.prototype._executeRemoveFeatureFromResults=function(a){var c=this._featureSetCollection.get()?this._featureSetCollection.get().displayName.get():"";this._tryRemoveFromCollection(a,this._featureSetCollection.get())&&(this._notifyCanExecuteChanged(),this._notifyFeatureSetCollectionChanged(),a=this.getResource("language-common-results-removed-confirmation").format(1,c),this.app.command("AddResultsStatus").execute(a))};b.prototype._executeFindAllSelectionMetadata=
function(a){a=a||{};a=a.successCallback||this._noop;var c=this._metadataStore.findAll();a(c)};b.prototype._executeFindMetadataForSelection=function(a){a=a||{};var c=a.successCallback||this._noop,b=a.errorCallback||this._noop,f=a.name;a=a.featureSetCollectionId;f||a?(b={},f&&(b.name=f),a&&(b.featureSetCollectionIds=[a]),f=this._metadataStore.find(b),f=d.framework.utils.ArrayUtils.firstOrDefault(f),c(f)):b(Error("Cannot fetch selection metadata: A selection name or feature set collection ID is required."))};
b.prototype._executeFindSelection=function(a){a=a||{};var c=null,b=a.successCallback||this._noop;(a=(a=(a=a.name)?this._metadataStore.findByName(a):null)?this.app.featureSetManager.getCollectionById(a.featureSetCollectionId):null)&&(c=this._copy(a));b(c)};b.prototype._executeCreateSelection=function(a){a=a||{};var c=a.successCallback||this._noop,b=a.errorCallback||this._noop,d=a.featureSetCollection;(a=a.name)?(b="string"===typeof d?this.app.featureSetManager.getCollectionById(d):d,b=this._copy(this._create(a,
b)),this._restore(b),c(),this.app.event("SelectionCreatedEvent").publish({name:a,featureSetCollection:b}),this._notifyCanExecuteChanged()):b(Error("Cannot create named selection: The selection name is required."))};b.prototype._executeUpdateSelection=function(a){a=a||{};var c=a.successCallback||this._noop,b=a.errorCallback||this._noop,d=a.featureSetCollection;if(a=a.name){var f=this._metadataStore.findByName(a);if(f&&f.id){var d="string"===typeof d?this.app.featureSetManager.getCollectionById(d):
d,g=this.app.featureSetManager.getCollectionById(f.featureSetCollectionId);g?(this._update(f,g,d),b=this._copy(g),this._restore(b),c(),this.app.event("SelectionChangedEvent").publish({name:a,previousName:a,featureSetCollection:b}),this._notifyCanExecuteChanged()):b(Error("Cannot update named selection: feature set collection '{0}' not found.".format(f.featureSetCollectionId)))}else b(Error("Cannot update named selection: '{0}' not found.".format(a)))}else b(Error("Cannot update named selection: The selection name is required."))};
b.prototype._executeRestoreSelection=function(a){a=a||{};var c=a.successCallback||this._noop,b=a.errorCallback||this._noop,d;(d=a.name)?(a=this._metadataStore.findByName(d))?(d=this.app.featureSetManager.getCollectionById(a.featureSetCollectionId))?(b=this._copy(d),this._restore(b),c(),this._notifyCanExecuteChanged()):b(Error("Cannot restore named selection: feature set collection '{0}' not found.".format(a.featureSetCollectionId))):b(Error("Cannot restore named selection: '{0}' not found.".format(d))):
b(Error("Cannot restore named selection: The selection name is required."))};b.prototype._executeDeleteSelection=function(a){a=a||{};var c=a.successCallback||this._noop,b=a.errorCallback||this._noop,d=a.name;if(d){var f=this._metadataStore.findByName(d);f?(a=this.app.featureSetManager.getCollectionById(f.featureSetCollectionId))?(this._delete(f,a),c(),this.app.event("SelectionRemovedEvent").publish({name:d,featureSetCollection:a})):b(Error("Cannot delete named selection: feature set collection '{0}' not found.".format(f.featureSetCollectionId))):
b(Error("Cannot delete named selection: '{0}' not found.".format(d)))}else b(Error("Cannot delete named selection: The selection name is required."))};b.prototype._executeRenameSelection=function(a){a=a||{};var c=a.successCallback||this._noop,b=a.errorCallback||this._noop,d=a.name;a=a.newName;if(d&&a){var f=this._metadataStore.findByName(d);if(f&&f.id){var g=this.app.featureSetManager.getCollectionById(f.featureSetCollectionId);g?(this._rename(a,f,g),b=this._copy(g),(f=this._featureSetCollection.get())&&
f.sourceName===this._fscSourceName&&(g=f.getExtendedPropertyByName(this._extPropName))&&g===d&&(f.displayName.set(a),f.setExtendedProperty(this._extPropName,a)),c(),this.app.event("SelectionChangedEvent").publish({name:a,previousName:d,featureSetCollection:b}),this._notifyCanExecuteChanged()):b(Error("Cannot rename selection: feature set collection '{0}' not found.".format(f.featureSetCollectionId)))}else b(Error("Cannot rename selection: '{0}' not found.".format(d)))}else b(Error("Cannot rename selection: The selection name is required."))};
b.prototype._getCombineResultsCommandArgs=function(a,c){var b="string"===typeof a?a:a.id;return b?{combineMode:c||f.infrastructure.selection.CombineMode.REPLACE,currentResults:this._featureSetCollection.get(),featureSetCollectionIds:[b]}:null};b.prototype._executeReplaceResults=function(a){a=this._getCombineResultsCommandArgs(a,f.infrastructure.selection.CombineMode.REPLACE);this._executeCombineResults(a)};b.prototype._executeUnionResults=function(a){a=this._getCombineResultsCommandArgs(a,f.infrastructure.selection.CombineMode.UNION);
this._executeCombineResults(a)};b.prototype._executeSubtractResults=function(a){a=this._getCombineResultsCommandArgs(a,f.infrastructure.selection.CombineMode.SUBTRACT);this._executeCombineResults(a)};b.prototype._executeIntersectResults=function(a){a=this._getCombineResultsCommandArgs(a,f.infrastructure.selection.CombineMode.INTERSECT);this._executeCombineResults(a)};b.prototype._executeCombineResults=function(a){var c=this;if(a&&a.featureSetCollectionIds&&0!=a.featureSetCollectionIds.length){var b=
a.currentResults;(b="string"===typeof b?this.app.featureSetManager.getCollectionById(b):b)||(b=this._featureSetCollection.get());if(b){var d=a.featureSetCollectionIds.map(function(a){return c.app.featureSetManager.getCollectionById(a)}).filter(function(a){return null!=a}).map(function(a){return a.clone(!0)}),g=a.combineMode||f.infrastructure.selection.CombineMode.REPLACE;a=a.successCallback;var h=!1;switch(g){case f.infrastructure.selection.CombineMode.REPLACE:if(d=d&&0<d.length?d[0]:null)b.clear(),
b.featureSets.addItems(d.featureSets.getItems());break;case f.infrastructure.selection.CombineMode.UNION:h=b.unionManyInPlace(d);break;case f.infrastructure.selection.CombineMode.SUBTRACT:h=b.subtractManyInPlace(d);break;case f.infrastructure.selection.CombineMode.INTERSECT:h=b.intersectManyInPlace(d)}h&&(this._notifyCanExecuteChanged(),this._notifyFeatureSetCollectionChanged());a&&a({updatedCollection:b,combineMode:g,modified:h})}}};b.prototype._canAddFeatureToResults=function(a){var c=this._featureSetCollection.get();
return c&&a?!this._existsInCollection(a,c):!1};b.prototype._canRemoveFeatureFromResults=function(a){var c=this._featureSetCollection.get();return c&&a?this._existsInCollection(a,c):!1};b.prototype._canFindSelection=function(a){return!0};b.prototype._canCreateSelection=function(a){return!0};b.prototype._canUpdateSelection=function(a){return!0};b.prototype._canRestoreSelection=function(a){return!0};b.prototype._canDeleteSelection=function(a){return!0};b.prototype._canRenameSelection=function(a){return!0};
b.prototype._canReplaceResults=function(a){return!0};b.prototype._canUnionResults=function(a){return!0};b.prototype._canSubtractResults=function(a){return!0};b.prototype._canIntersectResults=function(a){return!0};b.prototype._canCombineResults=function(a){return!0};b.prototype._noop=function(){};return b}(d.framework.application.ModuleBase);g.SelectionModule=m})(g.selection||(g.selection={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,c){d.call(this,a,c);this.shareOptions={};this._urlToken="{ViewerUrl}"}__extends(b,d);b.prototype.initialize=function(a){var c=this;a.shareOptions&&a.shareOptions.forEach(function(a,b,d){if(a){b=a.displayName;d=a.url;var f=a.iconUri;a=a.id;b&&d&&f&&a&&(c.shareOptions[a]={displayName:new Observable(b),url:new Observable(d),iconUri:new Observable(f)})}});this._registerCommands()};b.prototype._registerCommands=
function(){var a=this;this.app.commandRegistry.command("ShareOn").register(this,function(c){var b=a.shareOptions[c];if(b){var d=a.app.getResource(a.libraryId,"language-share-share-on-prompt-content").format(b.displayName.get()),b=a.app.getResource(a.libraryId,"language-share-share-on-prompt-title").format(b.displayName.get());a.app.commandRegistry.command("Confirm").execute(d,b,function(b){b&&a._openUrl(a.shareOptions[c].url.get())})}},function(b){return!!a.shareOptions[b]});this.app.commandRegistry.command("GetShareOptions").register(this,
this._getShareOptions)};b.prototype._getShareOptions=function(a){a(this.shareOptions)};b.prototype._openUrl=function(a){var b=this;this.app.commandRegistry.command("HandleGenerateSharingLink").execute(function(e){e=encodeURIComponent(e);(e=a.replace(b._urlToken,e))&&e.toLowerCase().startsWith("mailto")&&b.app.configuration.mobileMode?window.open(e,"_top"):window.open(e,"_blank")})};return b}(d.framework.application.ModuleBase);f.ShareModule=g})(f.share||(f.share={}))})(f.modules||(f.modules={}))})(g.mapping||
(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,b){d.call(this,a,b);this.urlToken="{ViewerUrl}"}__extends(b,d);b.prototype.attach=function(a){var b=this;d.prototype.attach.call(this,a);this.app.commandRegistry.command("ShowShareView").register(this,function(){b.app.viewManager.activateView(b)},function(){return!!b.viewModel&&!!b.viewModel.shareOptions.get()&&0<b.viewModel.shareOptions.get().length})};b.prototype.handleClick=function(a,b,e){var d=this;
this.app.commandRegistry.command("HandleGenerateSharingLink").execute(function(a){a=encodeURIComponent(a);b.href=e.url.get().replace(d.urlToken,a)});return!0};return b}(d.framework.ui.ViewBase);f.ShareView=g})(f.share||(f.share={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,b){d.call(this,a,b);this.shareOptions=new ObservableCollection}__extends(b,d);b.prototype.initialize=function(a){var b=this,e=[];a.shareOptionIds&&a.shareOptionIds.hasOwnProperty("length")&&(e=a.shareOptionIds);this.app.commandRegistry.command("GetShareOptions").execute(function(a){b._populateShareOptions(a,e)})};b.prototype._populateShareOptions=function(a,b){var e=this;if(0===b.length){b=[];for(var d in a)b.push(d)}b.forEach(function(b){(b=
a[b])&&e.shareOptions.addItem(b)})};return b}(d.framework.ui.ViewModelBase);f.ShareViewModel=g})(f.share||(f.share={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,b){var e=this;d.call(this,a,b);this._providers=[];this._intrinsicUrlParameters=["configBase","viewer","viewerConfigUri"];this._appInitialized=!1;this.app.command("HandleGenerateSharingLink").register(this,this.handleGenerateSharingLink);dojo.connect(this.app,"initializationCompleteCallback",function(){return e.handleAppInitialize()})}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,
a);a&&(dojo.isArray(a.intrinsicUrlParameters)&&(this._intrinsicUrlParameters=a.intrinsicUrlParameters),dojo.isArray(a.sharingLinkProviders)&&this._loadProviders(a.sharingLinkProviders))};b.prototype.handleGenerateSharingLink=function(a){var b=window.location.href;-1<b.indexOf("?")&&(b=b.substring(0,b.indexOf("?")));for(var e=0;e<this._intrinsicUrlParameters.length;e++)this.app.getUrlParameter(this._intrinsicUrlParameters[e])&&(b+=-1<b.indexOf("?")?"&":"?",b+=encodeURIComponent(this._intrinsicUrlParameters[e])+
"=",b+=encodeURIComponent(this.app.getUrlParameter(this._intrinsicUrlParameters[e])));for(e=0;e<this._providers.length;e++){var d=this._providers[e];d.generateParameter&&(b+=-1<b.indexOf("?")?"&":"?",b+=encodeURIComponent(d.name)+"=",b+=encodeURIComponent(d.generate()))}a(b)};b.prototype.handleAppInitialize=function(){if(this.app&&this.app.urlParameters){this._providers.sort(function(a,b){return a.priority-b.priority});for(var a=0;a<this._providers.length;a++)this._applyProvider(this._providers[a]);
this._appInitialized=!0}};b.prototype._applyProvider=function(a){if(a.acceptParameter){var b=this.app.getUrlParameter(a.name);try{a.apply(b)}catch(e){this.app.trace.warning("SharingLinkModule: Could not apply the url parameter '{0}={1}'".format(a.name,b))}}};b.prototype._loadProviders=function(a){for(var b=0;b<a.length;b++){var e=a[b];e&&(e.libraryId&&!this.app.allLibrariesLoaded?this._loadProvidersWhenLibrariesDownloaded(e):this._loadProvider(e))}};b.prototype._loadProvidersWhenLibrariesDownloaded=
function(a){var b=this;this.app.event("ViewerLibrariesDownloadedEvent").once(this,function(){var e=b._loadProvider(a);b._appInitialized&&b._applyProvider(e)})};b.prototype._loadProvider=function(a){var b=dojo.getObject(a.type);if(b)return b=new b(this.app,a.libraryId||this.libraryId),b.acceptParameter=!1!==a.apply,b.generateParameter=!1!==a.generate,a.name&&(b.name=a.name),b.initialize(a.configuration||{}),this._providers.push(b),b;this.app.trace.error(this.id+" can't find sharing link provider typed "+
a.type)};return b}(d.framework.application.ModuleBase);f.SharingLinkModule=g})(f.sharingLink||(f.sharingLink={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);return b}(d.framework.ui.ViewModelBase);f.CommonShellViewModel=g})(f.shells||(f.shells={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(){f.apply(this,arguments);this._waitForEsc=!1;this._escTimer=null}__extends(b,f);b.prototype.attach=function(a){var b=this;f.prototype.attach.call(this,a);window&&dojo.connect(window,"onkeyup",this,this.handleKeyUp);this.app.event("ViewActivatedEvent").subscribe(this,function(a){a instanceof d.essentialsHtmlViewer.mapping.modules.map.MapView&&b.app.command("CloseModalRegion").execute()});this.handleiOSShellIssue()};
b.prototype.handleiOSShellIssue=function(){navigator.userAgent.match(/iPad;.*CPU.*OS 7_\d/i)&&!window.navigator.standalone&&$("html").addClass("ipad ios7")};b.prototype.handleKeyUp=function(a){var b=this;!0===a.shiftKey&&27===a.keyCode?this._waitForEsc?(this._waitForEsc=!1,this.app.command("ToggleLogView").execute()):(this._waitForEsc=!0,this._escTimer=setTimeout(function(){b._waitForEsc=!1},1E3)):!0===a.ctrlKey&&!0===a.shiftKey&&192===a.keyCode&&this.app.command("ToggleLogView").execute();return!0};
b.prototype.scrollToTop=function(){window.scrollTo&&window.scrollTo(0,0)};b.prototype.handleCloseModalRegionClick=function(){this.app.modalRegionSingleton&&this.app.modalRegionSingleton.deactivateActiveView()};return b}(d.framework.ui.ViewBase);f.CommonShellView=g})(f.shells||(f.shells={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(g){var h=function(b){function a(){b.apply(this,arguments);this.timeoutId=null;this.dataframeIsOpen=!1;this.resizeDelay=300}__extends(a,b);a.prototype.attach=function(a){var b=this;this.app.event("DataFrameOpenedEvent").subscribe(this,function(){$(b.buttonElement).removeClass("tab-closed");$(b.buttonElement).addClass("tab-open");b.isActive||b.app.command("ActivateView").execute(b.id);b.dataframeIsOpen=!0});this.app.event("DataFrameClosedEvent").subscribe(this,
function(){$(b.buttonElement).removeClass("tab-open");$(b.buttonElement).addClass("tab-closed");b.dataframeIsOpen=!1})};a.prototype.handleMouseDown=function(a,b,d){var f=this;1<a.button&&"mousedown"===a.type||!this.dataframeIsOpen||(this.timeoutId=setTimeout(function(){f._resizeDataFrame(a.pageX,a.pageY)},this.resizeDelay))};a.prototype.handleTouchStart=function(a,b,d){var f=this,g=null;$(this.viewModel.currentView.root).is(":visible")?($(this.app.getHostElement()).one("touchend.dataframe-toggle-click",
function(){f.app.command("CloseDataFrame").execute();clearTimeout(g)}),g=setTimeout(function(){$(f.app.getHostElement()).off("touchend.dataframe-toggle-click");f._resizeDataFrame(a.targetTouches[0].pageX,a.targetTouches[0].pageY)},this.resizeDelay)):this.app.command("OpenDataFrame").execute()};a.prototype.handleOnClick=function(a,b,d){this.app.command("ToggleDataFrame").execute();this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)};a.prototype._resizeDataFrame=function(a,b){this.viewModel.currentView instanceof
f.infrastructure.ui.components.SmartPanel.SmartPanelView?this.viewModel.currentView.resizeSmartPanel(a,b):this.app.viewManager.getViewById("DataFrameViewContainer").resizeSmartPanel(a,b)};return a}(d.framework.ui.ViewBase);g.DataFrameButtonView=h})(g.components||(g.components={}))})(g.shells||(g.shells={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){var g=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.handleTap=function(a,b,d){this.app.command("ToggleView").execute("NavBarSmallView");return!1};return a}(d.framework.ui.ViewBase);f.NavButtonView=g})(f.components||(f.components={}))})(f.shells||(f.shells={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex=
{}));(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){var g=function(b){function a(){b.apply(this,arguments)}__extends(a,b);return a}(d.framework.ui.ViewModelBase);f.NavButtonViewModel=g})(f.components||(f.components={}))})(f.shells||(f.shells={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){var g=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.handleTapNavButton=function(a,b,d){this.app.command("DeactivateView").execute(this.id);this.app.command("ActivateView").execute(d.view.id)};a.prototype.handleTapSwitcherCloseButton=function(a,b,d){this.app.command("DeactivateView").execute(this.id)};return a}(d.framework.ui.ViewBase);f.NavBarSmallView=g})(f.components||(f.components={}))})(f.shells||
(f.shells={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));(function(d){d=d.essentialsHtmlViewer||(d.essentialsHtmlViewer={});d=d.mapping||(d.mapping={});d=d.modules||(d.modules={});d=d.shells||(d.shells={});d=d.PanelPosition||(d.PanelPosition={});d[d.Minimized=0]="Minimized";d[d.Partial=1]="Partial";d[d.Maximized=2]="Maximized"})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this._resizeShell=!0}__extends(b,d);b.prototype.attach=function(a){var b=this;d.prototype.attach.call(this,a);this.configuration&&!1===this.configuration.resizeShell&&(this._resizeShell=!1);this.app.event("ApplicationNativeReadyEvent").subscribe(this,function(){b._native=b.app.isNative.get()});if(!this.configuration||!0!==this.configuration.disableHideAddressBar){var e=this.root;
a=navigator.userAgent;this._iphone=!(!~a.indexOf("iPhone")&&!~a.indexOf("iPod"));this._ipad=!!~a.indexOf("iPad");this._ios=this._iphone||this._ipad;this._native=this.app.isNative.get();this._fullscreen=window.navigator.standalone;this._android=!!~a.indexOf("Android");this._androidChrome=/Android.*Chrome/.test(a);this._androidFirefox=/Firefox/.test(a);this._androidWebkit=this._android&&/WebKit/.test(a);this._androidGecko=this._android&&/Gecko/.test(a);var f=0;window.onresize=function(){f!=e.offsetWidth&&
(b.app.command("RecenterMapOnNextMapResize").execute(),f=e.offsetWidth)}}};b.prototype.resizeShell=function(){if(this._resizeShell&&this.screenRegionElement){var a=!this._android||this._androidChrome||this._androidFirefox?dojo.window.getBox().h:window.outerHeight/window.devicePixelRatio,b=!this._android||this._androidChrome||this._androidFirefox?dojo.window.getBox().w:window.outerWidth/window.devicePixelRatio,e=this.screenRegionElement;dojo.style(e,"height",a-50+"px");dojo.style(e,"width",b+"px")}};
return b}(d.essentialsHtmlViewer.mapping.modules.shells.CommonShellView);f.HandheldShellView=g})(f.shells||(f.shells={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(g){function b(){g.apply(this,arguments);this.cssClasses={maximized:"panel-maximized",partial:"panel-partial-height",minimized:"panel-minimized",hiddenDueToMaximization:"hidden-by-panel",screenRegionSlideUp:"slide-up-end",leftPanelOpen:"left-panel-open",leftPanelOpening:"left-panel-opening",leftPanelClosed:"left-panel-closed",leftPanelClosing:"left-panel-closing",hiddenByScreenElement:"hidden-by-screen-element"};this._headerBarDeactivateAnimation=
["header-active:0","header-inactive:0"];this._headerBarActivateAnimation=["header-inactive:0","header-active:0"];this._leftPanelOpenAnimation=["left-panel-closed:0","left-panel-opening:0","left-panel-opened:300"];this._leftPanelCloseAnimation=["left-panel-opened:0","left-panel-closing:300","left-panel-closed:0"];this._topRightRegionActivateAnimation=["top-right-shell-region-closed:0","top-right-shell-region-opening","top-right-shell-region-opened:250"];this._topRightRegionDeactivateAnimation=["top-right-shell-region-opened:0",
"top-right-shell-region-closing:250","top-right-shell-region-closed:0"];this._navRegionActivateAnimation=["nav-region-closed:0","nav-region-opening:0","nav-region-opened:500"];this._navRegionDeactivateAnimation=["nav-region-opened:0","nav-region-closing:500","nav-region-closed:0"];this._domBreatheDelay=50;this._resizeSettleTimeoutMs=550;this._bottomPanelOpening=!1;this._useCssTransitions=!0;this._cssTransitionStyle="transition";this._cssTransitionEnd="transitionend";this._cssTransitionEndMap={WebkitTransition:"webkitTransitionEnd",
MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}}__extends(b,g);b.prototype.added=function(a){var b=this;$(this.app.getHostElement()).addClass("shell-small");this._detectCssTransitions();this._shellDimensions=this._measureShellDimensions();this.app.event("ViewActivatedEvent").subscribe(this,this._handleViewActivated);this.app.event("ViewDeactivatedEvent").subscribe(this,this._handleViewDeactivated);this.app.event("RegionActivatedEvent").subscribe(this,
this._handleRegionActivated);this.app.event("RegionDeactivatedEvent").subscribe(this,this._handleRegionDeactivated);this.app.event("ApplicationResizedEvent").subscribe(this,this._resizeShellOnceSettled);this.app.event("ApplicationNativeReadyEvent").subscribe(this,this.resizeShell);this.app.command("ResizeShell").register(this,this.resizeShell);this.app.command("OpenDataFrame").register(this,function(){return b._openBottomPanel()});this.app.command("CloseDataFrame").register(this,function(){return b._closeBottomPanel()});
this.app.command("DataFrameRaise").register(this,function(){return b._rotateDataFramePosition(!0,!1)});this.app.command("DataFrameLower").register(this,function(){return b._rotateDataFramePosition(!1,!1)});this.app.command("DataFrameCyclePosition").register(this,function(){return b._rotateDataFramePosition()});this.app.command("_SetDataFrameAutoOpenClose").register(this,function(a){return b.viewModel.bottomPanelAutoPosition=a});this.app.command("_ExportShellState").register(this,this._exportState);
this.app.command("_ApplyShellState").register(this,this._applyState);this.app.event("ToolbarFlyoutDeactivatedEvent").subscribe(this,this._handleToolbarFlyoutDeactivatedEvent);$(window).on("scroll",function(a){return b._resizeShellOnceSettled()});this._yield(function(){d.framework.ui.animation.create(b.bottomPanelRegionElement).add({transform:"translate(0px, {0}px)".format(b._shellDimensions.height),duration:0}).play()})};b.prototype.resizeShell=function(a){var b=this;void 0===a&&(a=!1);if(this.containerElement){var e=
this._measureShellDimensions(),g,l;this._shellDimensions?(g=this._shellDimensions.width!==e.width,l=this._shellDimensions.height!==e.height):(this._shellDimensions=this._measureShellDimensions(),l=g=!0);if(this._ios&&!this._native){var n=document.body.offsetHeight,m=window.innerHeight;Math.abs(window.orientation);m<n?($(this.containerElement).css({top:"{0}px".format(n-m)}),$(this.navigationRegionElement).css({top:"{0}px".format(m)}),e.height=m,a=!0):($(this.containerElement).css({top:"0px"}),$(this.navigationRegionElement).css({top:"{0}px".format(n)}),
$("body").height(""),e.height=m)}if(a||g||l){this._shellDimensions=e;this.viewModel.headerHeight=$(this.headerRegionElement).height();if(!this.viewModel.headerHeight||isNaN(this.viewModel.headerHeight))this.viewModel.headerHeight=f.SmallShellViewModel.DEFAULT_HEADER_HEIGHT;if(l||a){switch(this.viewModel.bottomPanelPosition){case f.PanelPosition.Minimized:case f.PanelPosition.Partial:this.viewModel.bottomPanelTargetHeight=this.viewModel.config.bottomPanelHeightPercent*this._shellDimensions.height;
break;case f.PanelPosition.Maximized:this.viewModel.bottomPanelTargetHeight=this._shellDimensions.height+1}$(this.screenRegionElement).height(e.height-this.viewModel.headerHeight);$(this.containerElement).height(e.height)}if(g||l||a)setTimeout(scrollTo,1,0,0),this._yieldForDom(function(){b.app.command("MapResize").execute();b._setPanelVerticalOffset(null,b.viewModel.bottomPanelPosition);var a=b.app.viewManager.getRegionForViewId(b.id);b.app.event("ViewDimensionsChangedEvent").publish(new d.framework.events.ViewDimensionsChangedArgs(b,
a))})}}};b.prototype._oneTimePanelTransitionEvent=function(a){if(this._useCssTransitions)$(this.bottomPanelRegionElement).one(this._cssTransitionEnd,function(b){a(b)});else this._yield(a)};b.prototype._viewIsInBottomPanelRegion=function(a){return(a=this.app.viewManager.getRegionForViewId(a.id))&&"BottomPanelRegion"===a.name};b.prototype._handleViewActivated=function(a){!this._bottomPanelOpening&&this.viewModel.bottomPanelAutoPosition&&this._viewIsInBottomPanelRegion(a)&&this.app.command("OpenDataFrame").execute()};
b.prototype._handleViewDeactivated=function(a){if(this.viewModel.bottomPanelAutoPosition)if(-1!==this.viewModel.config.closeBottomPanelWhenDeactivated.indexOf(a.id))this._changeDataFramePosition(f.PanelPosition.Minimized);else if((a=this.app.viewManager.getRegionForViewId(a.id))&&(!a||"BottomPanelRegion"===a.name)){var b=!1;a.views.forEach(function(a){return b=a.isActive?!0:b});b||this._changeDataFramePosition(f.PanelPosition.Minimized)}};b.prototype._handleRegionActivated=function(a){var b=this;
switch(a.name){case "LeftPanelRegion":d.framework.ui.animation.play(this.leftPanelRegionElement,this._leftPanelOpenAnimation).then(function(a){return b.app.event("LeftPanelOpenedEvent")});$(this.leftPanelRegionElement).removeClass(this.cssClasses.leftPanelClosed);$(this.leftPanelRegionElement).removeClass(this.cssClasses.leftPanelClosing);break;case "TopRightShellRegion":d.framework.ui.animation.play(this.topRightShellRegionElement,this._topRightRegionActivateAnimation);break;case "SmallNavigationRegion":d.framework.ui.animation.play(this.navigationRegionElement,
this._navRegionActivateAnimation).then(function(a){return b.app.event("SmallNavigationPanelOpenedEvent")})}};b.prototype._handleRegionDeactivated=function(a){var b=this;switch(a.name){case "LeftPanelRegion":d.framework.ui.animation.play(this.leftPanelRegionElement,this._leftPanelCloseAnimation).then(function(a){return b.app.event("LeftPanelClosedEvent")});$(this.leftPanelRegionElement).removeClass(this.cssClasses.leftPanelOpen);$(this.leftPanelRegionElement).removeClass(this.cssClasses.leftPanelOpening);
break;case "TopRightShellRegion":d.framework.ui.animation.play(this.topRightShellRegionElement,this._topRightRegionDeactivateAnimation);break;case "SmallNavigationRegion":d.framework.ui.animation.play(this.navigationRegionElement,this._navRegionDeactivateAnimation).then(function(a){return b.app.event("SmallNavigationPanelClosedEvent")})}};b.prototype._handleToolbarFlyoutDeactivatedEvent=function(a){var b=this;this.app.command("DeactivateView").execute(a);this._yield(function(){return b.app.command("CloseDataFrame").execute()})};
b.prototype._yield=function(a){return setTimeout(a,0)};b.prototype._yieldForDom=function(a){return setTimeout(a,this._domBreatheDelay)};b.prototype._panelIsOpen=function(){return this.viewModel.bottomPanelPosition===f.PanelPosition.Maximized||this.viewModel.bottomPanelPosition===f.PanelPosition.Partial};b.prototype._openBottomPanel=function(){this._panelIsOpen()||(this.viewModel.config.openToMaximum?this._changeDataFramePosition(f.PanelPosition.Maximized):this._changeDataFramePosition(f.PanelPosition.Partial))};
b.prototype._closeBottomPanel=function(){this._panelIsOpen()&&(this.app.event("SmallBottomPanelClosedEvent").publish(),this._changeDataFramePosition(f.PanelPosition.Minimized))};b.prototype._rotateDataFramePosition=function(a,b){void 0===a&&(a=!0);void 0===b&&(b=!0);var e=[f.PanelPosition.Minimized,f.PanelPosition.Partial,f.PanelPosition.Maximized],d=e.indexOf(this.viewModel.bottomPanelPosition),d=d===e.length-1?e[0]:d+1;a?this.viewModel.bottomPanelPosition===f.PanelPosition.Minimized?d=f.PanelPosition.Partial:
this.viewModel.bottomPanelPosition===f.PanelPosition.Partial?d=f.PanelPosition.Maximized:this.viewModel.bottomPanelPosition===f.PanelPosition.Maximized&&(d=b?f.PanelPosition.Minimized:f.PanelPosition.Maximized):this.viewModel.bottomPanelPosition===f.PanelPosition.Maximized?d=f.PanelPosition.Partial:this.viewModel.bottomPanelPosition===f.PanelPosition.Partial?d=f.PanelPosition.Minimized:this.viewModel.bottomPanelPosition===f.PanelPosition.Minimized&&(d=b?f.PanelPosition.Maximized:f.PanelPosition.Minimized);
this._changeDataFramePosition(d)};b.prototype._changeDataFramePosition=function(a,b){var e=this,g=this.viewModel.bottomPanelPosition;this.viewModel.bottomPanelPosition===f.PanelPosition.Maximized&&this._setToolAndScreenRegionVisibility(!0);this.viewModel.bottomPanelPosition=a;a===f.PanelPosition.Partial?(this.viewModel.bottomPanelTargetHeight=this._shellDimensions.height*this.viewModel.config.bottomPanelHeightPercent,$(this.bottomPanelRegionElement).height(this.viewModel.bottomPanelTargetHeight)):
a===f.PanelPosition.Maximized&&(this.viewModel.bottomPanelTargetHeight=this._shellDimensions.height,$(this.bottomPanelRegionElement).height(this.viewModel.bottomPanelTargetHeight));var l=this._shellDimensions.height,n;a===f.PanelPosition.Maximized||a===f.PanelPosition.Partial?(n=100*this.viewModel.config.bottomPanelHeightPercent/2,n+=this.viewModel.headerHeight/l*100,n*=-1):n=0;0!==n&&$(this.headerRegionElement).addClass(this.cssClasses.hiddenByScreenElement);d.framework.ui.animation.create(this.screenRegionElement).add({transform:"translate(0px, {0}%)".format(n)}).play().then(function(){var a=
e.app.viewManager.getRegionForViewId(e.id),a=new d.framework.events.ViewDimensionsChangedArgs(e,a);e.app.event("ViewDimensionsChangedEvent").publish(a);0===n&&$(e.headerRegionElement).removeClass(e.cssClasses.hiddenByScreenElement);e.app.command("MapResize").execute()});this._setPanelVerticalOffset(g,a,function(){return e._handlePanelVerticalOffsetChanged(g,b)})};b.prototype._handlePanelVerticalOffsetChanged=function(a,b){var e=this;this.viewModel.bottomPanelPosition===f.PanelPosition.Maximized&&
this.viewModel.config.openToMaximum&&this._setToolAndScreenRegionVisibility(!1);this.viewModel.bottomPanelPosition===f.PanelPosition.Maximized?(a===f.PanelPosition.Minimized&&this.app.event("DataFrameOpenedEvent").publish(this.viewModel.config.bottomPanelHeightPercent),this.app.event("DataFrameMaximizedEvent").publish()):this.viewModel.bottomPanelPosition===f.PanelPosition.Partial?this._yield(function(){return e.app.event("DataFrameOpenedEvent").publish(e.viewModel.config.bottomPanelHeightPercent)}):
this._yield(function(){e.app.event("DataFrameClosedEvent").publish()});b&&b()};b.prototype._setPanelVerticalOffset=function(a,b,e){var g=this,l=0;b===f.PanelPosition.Maximized?(this.viewModel.bottomPanelTargetHeight=this._shellDimensions.height,l=-this.viewModel.headerHeight-2):b===f.PanelPosition.Partial?(l=this._shellDimensions.height-this._shellDimensions.height*this.viewModel.config.bottomPanelHeightPercent,l-=this.viewModel.headerHeight):b===f.PanelPosition.Minimized&&(l=this._shellDimensions.height);
$(this.bottomPanelRegionElement).height(this.viewModel.bottomPanelTargetHeight);var n=this._cssClassForPanelPosition(b);null!=a&&$(this.bottomPanelRegionElement).removeClass(this._cssClassForPanelPosition(a));a=d.framework.ui.animation.create(this.bottomPanelRegionElement);a.add({transform:"translate(0px, {0}px)".format(l)});a.play().then(function(){b!==f.PanelPosition.Partial&&b!==f.PanelPosition.Maximized||$(g.bottomPanelRegionElement).removeClass(g.cssClasses.minimized);$(g.bottomPanelRegionElement).addClass(n);
g._bottomPanelOpening=!1}).then(function(){e&&g._yieldForDom(e)});this._bottomPanelOpening=!0};b.prototype._cssClassForPanelPosition=function(a){return[this.cssClasses.minimized,this.cssClasses.partial,this.cssClasses.maximized][[f.PanelPosition.Minimized,f.PanelPosition.Partial,f.PanelPosition.Maximized].indexOf(a)]};b.prototype._setToolAndScreenRegionVisibility=function(a){void 0===a&&(a=!0);if(this.viewModel.toolAndScreenRegionsHidden!==a){var b=[this.headerRegionElement,this.screenRegionElement];
a?$(b).removeClass(this.cssClasses.hiddenDueToMaximization):$(b).addClass(this.cssClasses.hiddenDueToMaximization);this.viewModel.toolAndScreenRegionsHidden=a}};b.prototype._resizeShellOnceSettled=function(a){var b=this;void 0===a&&(a=!1);this._resizeSettleHandle&&clearTimeout(this._resizeSettleHandle);this._resizeSettleHandle=setTimeout(function(){b.resizeShell(a)},this._resizeSettleTimeoutMs)};b.prototype._detectCssTransitions=function(){(this._useCssTransitions=Modernizr.csstransitions)?(this._cssTransitionStyle=
Modernizr.prefixed("transition"),(this._cssTransitionEnd=this._cssTransitionEndMap[this._cssTransitionStyle])?this.app.trace.debug("Detected CSS transitions using '{0}' and '{1}'.".format(this._cssTransitionStyle,this._cssTransitionEnd)):(this._useCssTransitions=!1,this.app.trace.debug("No CSS transition end event detected. Transitions will not be used."))):this.app.trace.debug("Support for CSS transitions was not detected.")};b.prototype._measureShellDimensions=function(){return{width:!this._android||
this._androidChrome||this._androidFirefox?$(window).width():window.outerWidth/window.devicePixelRatio,height:!this._android||this._androidChrome||this._androidFirefox?$(window).height():window.outerHeight/window.devicePixelRatio}};b.prototype._exportState=function(a){a.dataFrameIsOpen=this.viewModel.bottomPanelPosition!==f.PanelPosition.Minimized;a.dataFrameIsMaximized=this.viewModel.bottomPanelPosition===f.PanelPosition.Maximized;var b=this.app.viewManager.getExistingRegionByName("BottomPanelViewContainerRegion");
a.dataFrameSelectedView=f.ProjectView.getTopmostViewInRegion(b)};b.prototype._applyState=function(a){a.dataFrameIsOpen&&a.dataFrameIsMaximized?this._changeDataFramePosition(f.PanelPosition.Maximized):this._changeDataFramePosition(a.dataFrameIsOpen?f.PanelPosition.Partial:f.PanelPosition.Minimized);a=a.dataFrameSelectedView;if("DataFrameResultsContainerView"===a||"SimpleQueryBuilderContainerView"===a||"SimpleFilterBuilderContainerView"===a)a="ResultsViewContainerView";a&&this.app.command("ActivateView").execute(a)};
return b}(f.HandheldShellView);f.SmallShellView=g})(f.shells||(f.shells={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(f){function b(){f.apply(this,arguments);this.toolAndScreenRegionsHidden=!1;this.bottomPanelPosition=d.PanelPosition.Minimized;this.bottomPanelTargetHeight=0;this.bottomPanelAutoPosition=!0;this.headerHeight=b.DEFAULT_HEADER_HEIGHT;this.closeBottomPanelWhenDeactivatedDefaults=["BookmarksView","GeolocateView"]}__extends(b,f);b.prototype.initialize=function(a){this.config={};a&&(this.config.openToMaximum=!!a.openToMaximum,
this.config.bottomPanelHeightPercent=void 0!==a.bottomPanelHeightPercent?a.bottomPanelHeightPercent:b.DEFAULT_BOTTOM_PANEL_HEIGHT_PERCENT,this.config.bottomPanelHeightPercent/=100,this.config.closeBottomPanelWhenDeactivated=a.closeBottomPanelWhenDeactivated||this.closeBottomPanelWhenDeactivatedDefaults)};b.DEFAULT_HEADER_HEIGHT=43;b.DEFAULT_BOTTOM_PANEL_HEIGHT_PERCENT=75;return b}(d.CommonShellViewModel);d.SmallShellViewModel=f})(d.shells||(d.shells={}))})(d.modules||(d.modules={}))})(d.mapping||
(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(l){function b(){l.apply(this,arguments)}__extends(b,l);b.prototype.initialize=function(a){var b=this;if(a.hasOwnProperty("css"))for(var e=0;e<a.css.length;++e){var d=dojo.create("link",{rel:"stylesheet",href:a.css[e]});dojo.place(d,document.getElementsByTagName("head")[0],"last")}a.hasOwnProperty("homePanelVisible")&&a.homePanelVisible&&(this.app.command("DisableScreenReaderNarrate").execute(),this.app.event("SiteInitializedEvent").once(this,
function(){b.app.project.isLoading?b.app.command("EnableScreenReaderNarrate").execute():(b.app.command("ActivateHomePanel").execute(),f.infrastructure.ShellUtils.debounceViewEvents(b.app,function(){b._focusHomePanelAndEnableNarration()}))}));this.registerCommands();this.registerEvents()};b.prototype.getStateFilter=function(){return{dataFrameIsOpen:!0,dataFrameIsMaximized:!0,dataFrameWidth:!0,dataFrameSelectedView:!0,resultsFrameIsOpen:!0,resultsFrameIsMaximized:!0,resultsFrameHeight:!0,resultsFrameSelectedView:!0,
views:!0}};b.prototype.exportState=function(){var a=this;return Promise["try"](function(){var b={dataFrameIsOpen:!1,dataFrameIsMaximized:!1,resultsFrameIsOpen:!1,resultsFrameIsMaximized:!1,views:{}};g.ProjectView.All.forEach(function(e){var d=a.app.viewManager.getViewById(e);d&&(b.views[e]=d.isActive)});a.app.command("_ExportShellState").execute(b);return b})};b.prototype.applyState=function(a){var b=this;a=dojo.clone(a);var e=this.app.event("ProjectLoadedEvent").subscribe(this,function(d){b.app.event("ProjectLoadedEvent").unsubscribe(e);
b.app.command("_SetDataFrameAutoOpenClose").execute(!1);a.views=a.views||{};b.app.project.isLoading=!0;g.ProjectView.All.forEach(function(e){var d=b.app.viewManager.getViewById(e),f=!!a.views[e];!d&&e===g.ProjectView.ResultsTable&&f?(d=b.app.viewManager.getViewById(g.ProjectView.Results),a.dataFrameIsOpen=a.dataFrameIsOpen||a.resultsFrameIsOpen):!d&&e===g.ProjectView.FeatureDetailsExpanded&&f&&(d=b.app.viewManager.getViewById(g.ProjectView.FeatureDetails),a.dataFrameIsOpen=a.dataFrameIsOpen||a.resultsFrameIsOpen);
d&&(f?b.app.viewManager.activateView(d):b.app.viewManager.deactivateView(d))});b.app.command("_ApplyShellState").execute(a);b.app.command("_SetDataFrameAutoOpenClose").execute(!0);b.app.project.isLoading=!1});return Promise.resolve()};b.prototype.registerCommands=function(){this.app.command("TapToDismiss").register(this,this._executeTapToDismiss)};b.prototype.registerEvents=function(){var a=this;this.app.event("FlyoutActivated").subscribe(this,function(b){a.app.command("DisableMapClick").execute()});
this.app.event("FlyoutDeactivated").subscribe(this,function(b){a.app.command("EnableMapOnNextClick").execute()})};b.prototype._focusHomePanelAndEnableNarration=function(){var a=this,b=this.app.viewManager.getViewById("InfoView");if(b){var e=$(b.root);e&&dojo.isFunction(e.focusout)?e.focusout(function(){a.app.command("EnableScreenReaderNarrate").execute();e.off("focusout")}):this.app.command("EnableScreenReaderNarrate").execute();this.app.command("FocusOnFirstInputInView").execute(b)}};b.prototype._executeTapToDismiss=
function(a){this.app.configuration.mobileMode&&"IWantToMenuView"!==a.view.id&&"SearchHintsView"!==a.view.id||d.framework.ui.utils.tapToDismissThis(a.view,a.onOtherInteracted,a.onElementInteracted)};b.prototype._getContainerView=function(a){if(a=this.app.viewManager.getRegionForViewId(a))if(a=a.ownerView,a instanceof d.framework.ui.ViewContainer.ViewContainerView)return a;return null};return b}(d.framework.application.ModuleBase);g.ShellModule=m})(g.shells||(g.shells={}))})(f.modules||(f.modules={}))})(g.mapping||
(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(){f.apply(this,arguments);this.dataFrameIsUserResized=new Observable(!1);this.dataFrameOpenByDefault=new Observable(!1);this.dataFrameIsOpen=new Observable(!1);this.dataFrameIsEmpty=new Observable(!1);this.canAutoOpenDataframe=new Observable(!1);this.bottomRegionIsUserResized=new Observable(!1);this.bottomRegionIsOpen=new Observable(!1);this.bottomRegionIsMaximized=new Observable(!1);this.bottomRegionHasViews=
new Observable(!1);this.linkableModuleLoaded=new Observable(!1);this.infoModuleLoaded=new Observable(!1);this.layerListModuleLoaded=new Observable(!1)}__extends(b,f);b.prototype.initialize=function(a){var c=this;this.config={};var e=function(a,b,c,e){var f="string"===typeof a&&d.framework.utils.isPercentage(a);b=f?c:b;a=f?d.framework.utils.clamp(parseFloat(a),0,100):parseInt(a);0<=a&&(e[b]=a)};if(a){a.hasOwnProperty("minWidth")&&e(a.minWidth,"minWidth","minWidthPercent",this.config);a.hasOwnProperty("maxWidth")&&
e(a.maxWidth,"maxWidth","maxWidthPercent",this.config);a.hasOwnProperty("dataFrameWidth")&&e(a.dataFrameWidth,"dataFrameWidth","dataFrameWidthPercent",this.config);if(0===this.config.dataFrameWidth||0===this.config.dataFrameWidthPercent)d.framework.utils.isNullOrUndefined(this.config.minWidth)?d.framework.utils.isNullOrUndefined(this.config.minWidthPercent)||(this.config.dataFrameWidthPercent=this.config.minWidthPercent,delete this.config.dataFrameWidth):(this.config.dataFrameWidth=this.config.minWidth,
delete this.config.dataFrameWidthPercent);a.hasOwnProperty("dataFrameOpenByDefault")&&this.dataFrameOpenByDefault.set(a.dataFrameOpenByDefault);var f=this.app.configModel.moduleConfigs.filter(function(a){return"Shells"===a.moduleName})[0];f?f&&!0==f.configuration.homePanelVisible&&this.dataFrameOpenByDefault.set(!0):this.app.trace.warning("'Shells' module could not be found! Map offset may be incorrect due to missing panel setting.");a.hasOwnProperty("bottomRegionHeight")&&e(a.bottomRegionHeight,
"bottomRegionHeight","bottomRegionHeightPercent",this.config)}this.minWidth=new d.framework.ui.LazyObservable(null,this._createLazyDelegateGetter(this.config.minWidth,this.config.minWidthPercent,b.DEFAULT_DATA_FRAME_MIN_WIDTH));this.maxWidth=new d.framework.ui.LazyObservable(null,this._createLazyDelegateGetter(this.config.maxWidth,this.config.maxWidthPercent,b.DEFAULT_DATA_FRAME_MAX_WIDTH));this.dataFrameWidth=new d.framework.ui.LazyObservable(null,this._createLazyDelegateGetter(this.config.dataFrameWidth,
this.config.dataFrameWidthPercent,b.DEFAULT_DATA_FRAME_WIDTH));this.bottomRegionHeight=new d.framework.ui.LazyObservable(null,this._createLazyDelegateGetter(this.config.bottomRegionHeight,this.config.bottomRegionHeightPercent,b.DEFAULT_BOTTOM_REGION_HEIGHT));this.app.event("SiteInitializedEvent").once(this,function(){c.canAutoOpenDataframe.set(!0);c.dataFrameOpenByDefault.get()&&c.app.command("OpenDataFrame").execute()});this.app.command("ActivateHomePanel").canExecuteChanged.subscribe(this,function(a){c.infoModuleLoaded.set(c.app.command("ActivateHomePanel").canExecute());
c.linkableModuleLoaded.set(c.infoModuleLoaded.get()||c.layerListModuleLoaded.get())});this.app.command("SwitchToLayerView").canExecuteChanged.subscribe(this,function(a){c.layerListModuleLoaded.set(c.app.command("SwitchToLayerView").canExecute());c.linkableModuleLoaded.set(c.infoModuleLoaded.get()||c.layerListModuleLoaded.get())})};b.prototype.getValue=function(a,b,e){return d.framework.utils.isNullOrUndefined(a)?d.framework.utils.isNullOrUndefined(b)?e:"{0}%".format(b):a};b.prototype._createLazyDelegateGetter=
function(a,b,e){var d=this;return function(){return d.getValue(a,b,e)}};b.DEFAULT_DATA_FRAME_MIN_WIDTH=200;b.DEFAULT_DATA_FRAME_MAX_WIDTH=500;b.DEFAULT_DATA_FRAME_WIDTH=350;b.DEFAULT_BOTTOM_REGION_HEIGHT=400;return b}(d.framework.ui.ViewModelBase);f.LargeShellViewModel=g})(f.shells||(f.shells={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(l){function b(a,b){var e=this;l.call(this,a,b);this.leftPanelView=this.dataFrameAwaitsViewModel=null;this._resizeAllInvoked=!1;this.app.event("ViewActivatedEvent").subscribe(this,function(a){e.resizeAllDeferred();"MapView"===a.id&&e.scrollToTop();var b=e.app.viewManager.getRegionForViewId(a.id);b&&"LeftPanelRegion"===b.name&&(e.viewModel.canAutoOpenDataframe.get()&&e.app.command("OpenDataFrame").execute(),e.leftPanelView=
a);b&&"BottomPanelRegion"===b.name&&e.viewModel.canAutoOpenDataframe.get()&&e.app.command("OpenResultsFrame").execute()});this.app.event("ViewDeactivatedEvent").subscribe(this,function(a){e.resizeAllDeferred()});this.app.event("ApplicationResizedEvent").subscribe(this,function(){e.resizeAllDeferred()});this.app.command("ActivateView").register(this,function(a){(a=e.app.viewManager.getRegionForViewId(a))&&"LeftPanelRegion"===a.name&&e.viewModel.canAutoOpenDataframe.get()&&e.app.command("OpenDataFrame").execute();
a&&"BottomPanelRegion"===a.name&&e.app.command("OpenBottomRegion").execute()});this.app.command("OpenDataFrame").register(this,this._executeOpenLeftPanel);this.app.command("CloseDataFrame").register(this,this._executeCloseLeftPanel);this.app.command("ToggleDataFrame").register(this,this._executeToggleLeftPanel);this.app.command("OpenResultsFrame").register(this,this._executeOpenBottomRegion);this.app.command("CloseResultsFrame").register(this,this._executeCloseBottomRegion);this.app.command("ToggleResultsFrame").register(this,
this._executeToggleBottomRegion);this.app.command("OpenBottomRegion").register(this,this._executeOpenBottomRegion);this.app.command("CloseBottomRegion").register(this,this._executeCloseBottomRegion);this.app.command("_SetDataFrameAutoOpenClose").register(this,function(a){return e.viewModel.canAutoOpenDataframe.set(a)});this.app.command("_ExportShellState").register(this,this._exportState);this.app.command("_ApplyShellState").register(this,this._applyState);this.app.event("RegionActivatedEvent").subscribe(this,
function(a){"LeftPanelRegion"===a.name&&e.viewModel.canAutoOpenDataframe.get()&&e._activateDataRegion(!0);"BottomPanelRegion"===a.name&&e._activateBottomRegion(!0)});this.app.event("RegionDeactivatedEvent").subscribe(this,function(a){"LeftPanelRegion"===a.name&&e._activateDataRegion(!1);"BottomPanelRegion"===a.name&&e._activateBottomRegion(!1)});this.app.event("WorkflowFormTextInputBlurredEvent").subscribe(this,function(){setTimeout(function(){e.scrollToTop();e.resizeAll()},100)});this.app.command("ResizeShell").register(this,
function(){e.resizeAll()});this.app.event("PanelResizeEndEvent").subscribe(this,function(a){var b=e.app.viewManager.getViewById(a.viewId),b=b&&b.configuration&&b.configuration.resizableParentRegion?b.configuration.resizableParentRegion:null;b||(b=(a=e.app.viewManager.getRegionForViewId(a.viewId))&&a.name?a.name:null);"LeftPanelRegion"===b&&(e.viewModel.dataFrameIsUserResized.set(!0),e.viewModel.dataFrameWidth.set(e.leftRegionElement.clientWidth));"BottomPanelRegion"===b&&(e.viewModel.bottomRegionIsUserResized.set(!0),
e.viewModel.bottomRegionHeight.set(e.bottomRegionElement.clientHeight))})}__extends(b,l);b.prototype._activateDataRegion=function(a){a?this._executeOpenLeftPanel():this._executeCloseLeftPanel();this.viewModel&&this.viewModel.dataFrameIsEmpty.set(!a)};b.prototype._activateBottomRegion=function(a){"boolean"===typeof a&&(a?this._executeOpenBottomRegion():this._executeCloseBottomRegion(),this.viewModel&&this.viewModel.bottomRegionHasViews.set(a))};b.prototype.attach=function(a){$(this.app.getHostElement()).addClass("shell-large");
l.prototype.attach.call(this,a);this.dataFrameAwaitsViewModel&&(this._activateDataRegion(!0),this.dataFrameAwaitsViewModel=!1,this.resizeAll());this._shellDimensions=this._shellDimensions||this._measureShellDimensions();a={"min-width":this._shellDimensions.width?this._toPixels(this.viewModel.minWidth.get(),this._shellDimensions.width):g.LargeShellViewModel.DEFAULT_DATA_FRAME_MIN_WIDTH,"max-width":this._shellDimensions.width?this._toPixels(this.viewModel.maxWidth.get(),this._shellDimensions.width):
g.LargeShellViewModel.DEFAULT_DATA_FRAME_MAX_WIDTH};$(this.leftRegionElement).css(a);this._subscribeEvents()};b.prototype._subscribeEvents=function(){var a=this;this.app.event("DataFrameOpenedEvent").subscribe(this,function(){a.leftPanelView?(a.app.trace.debug("View focused from dataframe opening: "+a.leftPanelView.id),a.app.command("FocusOnFirstInputInView").execute(a.leftPanelView)):a.app.trace.warning("View not found when trying to focus on dataframe.")})};b.prototype.handleClickCloseDataFrame=
function(){this.app.command("CloseDataFrame").execute()};b.prototype.handleClickDataRegionTab=function(){this.app.command("OpenDataFrame").execute()};b.prototype.resizeAll=function(){this.resizeShell();this.resizeScreenRegion()};b.prototype.resizeAllDeferred=function(){var a=this;if(!this._resizeAllInvoked){var b=function(){f.infrastructure.ShellUtils.debounceViewEvents(a.app,function(){a.resizeAll();a._resizeAllInvoked=!1},100)};this._resizeAllInvoked=!0;if(this.app&&this.app.site&&this.app.site.serviceLayersLoaded)b();
else this.app.event("SiteServiceLayersLoadedEvent").once(this,b)}};b.prototype.resizeScreenRegion=function(){if(this.viewModel&&this.headerContainerElement&&this.screenRegionElement){if(this.centerElement){var a=this.centerElement;setTimeout(function(){dojo.style(a,{display:"block"})},0)}this.app.command("MapResize").execute()}};b.prototype.resizeShell=function(){if(this.viewModel&&this.mainElement){this._shellDimensions=this._measureShellDimensions();var a=this.headerContainerElement?dojo.position(this.headerContainerElement):
null,a=a?a.h:0,b=this.footerContainerElement?dojo.position(this.footerContainerElement):null,b=b?b.h:0,e=this._currentDataFrameWidth(),f=this._currentBottomRegionHeight(),g=Math.max(document.documentElement.clientHeight,window.innerHeight||0);f>g-a&&(f=g-a,$(this.bottomElement).height(f));if(this.viewModel.dataFrameIsOpen.get())var g=parseInt($(this.leftRegionElement).css("min-width")),h=parseInt($(this.leftRegionElement).css("max-width")),e=d.framework.utils.clamp(e,g,h);this.viewModel.bottomRegionIsOpen.get()&&
(g=parseInt($(this.bottomRegionElement).css("min-height")),h=parseInt($(this.bottomRegionElement).css("max-height")),f=d.framework.utils.clamp(f,g,h));dojo.style(this.mainElement,"top",a+"px");dojo.style(this.mainElement,"bottom",b+"px");dojo.style(this.leftElement,"width",e+"px");dojo.style(this.leftRegionElement,"width",e+"px");dojo.style(this.centerElement,"left",e+"px");dojo.style(this.centerElement,"bottom",f+"px");dojo.style(this.bottomElement,"left",e+"px");dojo.style(this.bottomElement,"height",
f+"px");dojo.style(this.bottomRegionElement,"height",f+"px");"true"===$(this.bottomRegionElement).attr("data-maximized")?$(this.bottomElement).addClass("maximized"):$(this.bottomElement).removeClass("maximized");(a=this.app.viewManager.getExistingRegionByName("BottomPanelRegion"))&&0===a.activeViews.length&&$(this.bottomElement).removeClass("maximized")}};b.prototype._executeOpenLeftPanel=function(){var a=this;if(!this.viewModel)this.dataFrameAwaitsViewModel=!0;else if(!1===this.viewModel.dataFrameIsOpen.get()){this.viewModel.dataFrameIsOpen.set(!0);
if(this.leftElement){this.app.command("RecenterMapOnNextMapResize").execute();dojo.removeClass(this.leftElement,"panel-closed");dojo.addClass(this.leftElement,"panel-open");var b=this._currentDataFrameWidth();$(this.leftRegionElement).width(b)}setTimeout(function(){a.resizeAll();if(a.leftPanelView instanceof d.framework.ui.ViewContainer.ViewContainerView){var b=a.leftPanelView;b.resize();b.viewModel.currentView.resize&&b.viewModel.currentView.resize()}a.app.event("DataFrameOpenedEvent").publish();
a.app.event("ApplicationResizeEvent").publish();a.app.event("ApplicationResizedEvent").publish()},100)}};b.prototype._executeCloseLeftPanel=function(){this.viewModel&&!0===this.viewModel.dataFrameIsOpen.get()&&(this.viewModel.dataFrameIsOpen.set(!1),this.leftElement&&(this.app.command("RecenterMapOnNextMapResize").execute(),dojo.removeClass(this.leftElement,"panel-open"),dojo.addClass(this.leftElement,"panel-closed"),this.resizeAll()),this.app.event("DataFrameClosedEvent").publish(),this.app.event("ApplicationResizeEvent").publish(),
this.app.event("ApplicationResizedEvent").publish())};b.prototype._executeToggleLeftPanel=function(){!1===this.viewModel.dataFrameIsOpen.get()?this.app.command("OpenDataFrame").execute():this.app.command("CloseDataFrame").execute()};b.prototype._executeOpenBottomRegion=function(){if(this.viewModel&&!1===this.viewModel.bottomRegionIsOpen.get()){this.viewModel.bottomRegionIsOpen.set(!0);if(this.bottomElement){this.app.command("RecenterMapOnNextMapResize").execute();dojo.removeClass(this.bottomElement,
"panel-closed");dojo.addClass(this.bottomElement,"panel-open");var a=this._currentBottomRegionHeight();$(this.bottomRegionElement).height(a);this.resizeAll()}this.app.event("ResultsRegionOpenedEvent").publish();this.app.event("ApplicationResizeEvent").publish();this.app.event("ApplicationResizedEvent").publish()}};b.prototype._executeCloseBottomRegion=function(){this.viewModel&&!0===this.viewModel.bottomRegionIsOpen.get()&&(this.viewModel.bottomRegionIsOpen.set(!1),this.bottomElement&&(this.app.command("RecenterMapOnNextMapResize").execute(),
dojo.removeClass(this.bottomElement,"panel-open"),dojo.addClass(this.bottomElement,"panel-closed"),this.resizeAll()),this.app.event("ResultsRegionClosedEvent").publish(),this.app.event("ApplicationResizeEvent").publish(),this.app.event("ApplicationResizedEvent").publish())};b.prototype._executeToggleBottomRegion=function(){!1===this.viewModel.bottomRegionIsOpen.get()?this.app.command("OpenBottomRegion").execute():this.app.command("CloseBottomRegion").execute()};b.prototype._measureShellDimensions=
function(){return{width:this.mainElement?$(this.mainElement).width():0,height:this.mainElement?$(this.mainElement).height():0}};b.prototype._currentDataFrameWidth=function(){if(!1===this.viewModel.dataFrameIsOpen.get())return 0;this._shellDimensions=this._shellDimensions||this._measureShellDimensions();return this._toPixels(this.viewModel.dataFrameWidth.get(),this._shellDimensions.width)};b.prototype._currentBottomRegionHeight=function(){if(!1===this.viewModel.bottomRegionIsOpen.get())return 0;this._shellDimensions=
this._shellDimensions||this._measureShellDimensions();return this._toPixels(this.viewModel.bottomRegionHeight.get(),this._shellDimensions.height)};b.prototype._toPixels=function(a,b){return"string"===typeof a&&d.framework.utils.isPercentage(a)?parseFloat(a)*b/100:a};b.prototype.openLayerList=function(a,b,e){this.app.command("ShowLayerList").execute()};b.prototype.openHomePanel=function(a,b,e){this.app.command("ActivateHomePanel").execute()};b.prototype._exportState=function(a){a.dataFrameIsOpen=this.viewModel.dataFrameIsOpen.get();
this.viewModel.dataFrameIsUserResized.get()&&(a.dataFrameWidth=this.viewModel.dataFrameWidth.get());a.resultsFrameIsOpen=this.viewModel.bottomRegionIsOpen.get();var b=this.app.viewManager.getViewById("ResultsRegionViewContainerView");b&&b.viewModel&&(a.resultsFrameIsMaximized=b.viewModel.panelMaximized.get());this.viewModel.bottomRegionIsUserResized.get()&&(a.resultsFrameHeight=this.viewModel.bottomRegionHeight.get());b=this.app.viewManager.getExistingRegionByName("DataRegion");a.dataFrameSelectedView=
g.ProjectView.getTopmostViewInRegion(b);b=this.app.viewManager.getExistingRegionByName("BottomPanelRegion");a.resultsFrameSelectedView=g.ProjectView.getTopmostViewInRegion(b)};b.prototype._applyState=function(a){d.framework.utils.isNullOrUndefined(a.dataFrameWidth)||(this.viewModel.dataFrameWidth.set(a.dataFrameWidth),this.viewModel.dataFrameIsUserResized.set(!0));var b=a.dataFrameSelectedView;"ResultsViewContainerView"===b&&(b="DataFrameResultsContainerView");b&&this.app.command("ActivateView").execute(b);
a.dataFrameIsOpen?this.app.command("OpenDataFrame").execute():this.app.command("CloseDataFrame").execute();d.framework.utils.isNullOrUndefined(a.resultsFrameHeight)||(this.viewModel.bottomRegionHeight.set(a.resultsFrameHeight),this.viewModel.bottomRegionIsUserResized.set(!0));(b=this.app.viewManager.getViewById("ResultsRegionViewContainerView"))&&b.viewModel&&b.viewModel.panelMaximized.set(a.resultsFrameIsMaximized);a.resultsFrameSelectedView&&this.app.command("ActivateView").execute(a.resultsFrameSelectedView);
a.resultsFrameIsOpen?this.app.command("OpenResultsFrame"):this.app.command("CloseResultsFrame")};return b}(d.essentialsHtmlViewer.mapping.modules.shells.CommonShellView);g.LargeShellView=m})(g.shells||(g.shells={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){(function(g){var h=function(b){function a(){b.apply(this,arguments);this.managedViewsOnly=!0;this.panelIsOpen=new Observable(!1);this.showingSmartBackButton=new Observable(!1)}__extends(a,b);a.prototype.initialize=function(a){var e=this;b.prototype.initialize.call(this,a);this.app.event("DataFrameOpenedEvent").subscribe(this,function(){e.panelIsOpen.set(!0)});this.app.event("DataFrameClosedEvent").subscribe(this,function(){e.panelIsOpen.set(!1)})};
return a}(d.infrastructure.ui.components.SmartPanel.SmartPanelViewModel);g.ShellPanelViewModel=h})(g.components||(g.components={}))})(g.shells||(g.shells={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(g){var h=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.added=function(a){var e=this;b.prototype.added.call(this,a);this._wireUpHammer();this.viewModel.titleBarIsVisible.set(!0);this.app.event("ViewActivatedInContainerEvent").subscribe(this,function(a){a.regionName===e.viewModel.regionName.get()&&(a instanceof d.framework.ui.ViewContainer.ViewContainerView?(e.activeContainer=a,e.viewModel.showingSmartBackButton.sync(e.activeContainer.viewModel.showingBackButton)):
(e.activeContainer=null,e.viewModel.showingSmartBackButton.set(!1)))})};a.prototype.deactivateContainer=function(){this._destroyHoistedMenuOwnerViewIfExists();this.app.command("CloseDataFrame").execute()};a.prototype.handleClickSmartBackButton=function(a,b,d){this.activeContainer&&(d=(d=this.activeContainer.viewModel&&this.activeContainer.viewModel.currentView)&&d.viewModel&&d.viewModel.menuSourceView,this.activeContainer.handleClickBack(a,b,this.activeContainer.viewModel),d&&this.app.viewManager.activateView(d))};
a.prototype.handleClickPanelNavButton=function(a,b,d){this.app.command("ActivateView").execute(d.view.id)};a.prototype.handleTapSizeButton=function(a,b,d){this._destroyHoistedMenuOwnerViewIfExists();this.app.command("CloseDataFrame").execute()};a.prototype.handleClickMore=function(a,b,d){this.app.command("ActivateView").execute("PrimaryViewSwitcherView")};a.prototype._wireUpHammer=function(){var a=this,b=new Hammer(this.headerElement,{});b.get("swipe").set({direction:Hammer.DIRECTION_ALL});b.on("swipe",
function(b){if(b.isFinal)switch(b.direction){case Hammer.DIRECTION_UP:a.app.command("DataFrameRaise").execute();break;case Hammer.DIRECTION_DOWN:a.app.command("CloseDataFrame").execute();break;case Hammer.DIRECTION_LEFT:a.app.command("ActivateView").execute("IWantToMenu")}})};return a}(f.infrastructure.ui.components.SmartPanel.SmartPanelView);g.ShellPanelView=h})(g.components||(g.components={}))})(g.shells||(g.shells={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(){function l(b,a){this._convertedSnappingGraphics=null;this._managedDynamicLayers=[];this._loadedDefaultLayers=[];this._snappingLayerInfos=[];this._paused=!1;this._snappingManagerReference=null;this._refreshOnNextContinue=this._active=!1;this.app=b;this.libraryId=a;this.name="EsriSnappingProvider"}l.prototype.initialize=function(b){this.providerConfiguration=b;this._convertedSnappingGraphics=new esri.layers.GraphicsLayer;
this._convertedSnappingGraphics.id="snapping_graphics";this.app.map.addLayer(this._convertedSnappingGraphics);this._handleGraphicsLayer(this._convertedSnappingGraphics);this._listenForGraphicLayers()};l.prototype.activate=function(b){this._threshold=b;this.app.map.enableSnapping(this._getSnappingInitOptions());this._refreshDynamicSnappingData();this._active=!0};l.prototype._getSnappingInitOptions=function(){return{map:this.app.map,alwaysSnap:!0,snapKey:-1,tolerance:this._threshold,snapPointSymbol:new esri.symbol.SimpleMarkerSymbol(esri.symbol.SimpleMarkerSymbol.STYLE_PATH,
0,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color([0,0,0,0]),0),new esri.Color([0,0,0,0])),layerInfos:this._cloneLayerInfos()}};l.prototype._cloneLayerInfos=function(){var b=[];this._loadConfiguredDefaultGraphicsLayers();this._snappingLayerInfos.forEach(function(a){var c=new g.SnappingInfo(a.layer);c.snapToEdge=a.snapToEdge;c.snapToPoint=a.snapToPoint;c.snapToVertex=a.snapToVertex;b.push(a)});return b};l.prototype.deactivate=function(){this.app.map.disableSnapping();
this._convertedSnappingGraphics.clear();this._snappingManagerReference&&(this._snappingManagerReference.destroy(),this._snappingManagerReference=null);this._active=!1};l.prototype._snappingWithinMap=function(b){var a=!0;b.x<this._threshold?a=!1:b.y<this._threshold?a=!1:b.y>this.app.map.height-this._threshold?a=!1:b.x>this.app.map.width-this._threshold&&(a=!1);return a};l.prototype.provideSnappingPoint=function(b){var a=this;return new Promise(function(c,e){a._paused&&c(null);a._snappingWithinMap(b)?
(a.continueSnapping(),a.app.map.snappingManager.getSnappingPoint(b).then(function(a){a?c(a):c(null)},function(a){e(a)})):(a.pauseSnapping(),c(null))})};l.prototype.registerLayer=function(b,a){if(!b)throw Error("Must specify a layer for snapping.");if(!b.snappable)return this.app.trace.warning("Cannot snap to layer {0}, must be set as snappable in REST Manager".format(b.displayName)),!1;if(b.mapService.serviceLayer instanceof esri.layers.GraphicsLayer)return this._handleGraphicsLayer(b.mapService.serviceLayer,
a),this._refreshLayerInfos(),!0;if(b.mapService.serviceLayer instanceof esri.layers.ArcGISDynamicMapServiceLayer)return this._handleDynamicLayer(b),!0;this.app.trace.warning("Cannot snap to layer {0}, must be of Graphic or Dynamic type".format(b.displayName));return!1};l.prototype.unregisterLayer=function(b){b.mapService.serviceLayer instanceof esri.layers.GraphicsLayer?this._handleRemoveGraphicsLayer(b.mapService.serviceLayer):b.mapService.serviceLayer instanceof esri.layers.ArcGISDynamicMapServiceLayer&&
this._handleRemoveDynamicLayer(b);this._refreshLayerInfos()};l.prototype.getSnappableLayers=function(b){b=b.mapInfo.getLayerInfos().filter(function(a){return a.gcxLayer.snappable});return b=d.essentialsHtmlViewer.mapping.infrastructure.ArrayUtils.sortBy(b,function(a){return a.displayName})};l.prototype.continueSnapping=function(){this._snappingManagerReference&&!this.app.map.snappingManager&&this._paused&&(this.app.map.enableSnapping(this._snappingManagerReference),this._snappingManagerReference=
null);this.app.map.snappingManager&&this._paused&&(this.app.map.snappingManager._killOffSnapping(),this.app.map.snappingManager._setUpSnapping(),this.app.map.snappingManager._activateSnapping(),this.app.map.snappingManager._startSelectionLayerQuery(),this._refreshLayerInfos());this._refreshOnNextContinue&&this._active&&(this._refreshDynamicSnappingData(),this._refreshOnNextContinue=!1);this._paused=!1};l.prototype.pauseSnapping=function(){this.app.map.snappingManager&&(this.app.map.snappingManager._killOffSnapping(),
this.app.map.snappingManager._deactivateSnapping(),this.app.map.snappingManager._stopSelectionLayerQuery(),this._snappingManagerReference=this.app.map.snappingManager,this.app.map.snappingManager=null);this._paused=!0};l.prototype._isLayerVisible=function(b){if(!b.isVisible())return!1;if(null!==b.maxScale&&void 0!==b.maxScale&&null!==b.minScale&&void 0!==b.minScale){var a=this.app.map.getScale();if(a<b.maxScale||a>b.minScale)return!1}return!0};l.prototype._handleGraphicsLayer=function(b,a){this._removeInfo(b);
this.app.trace.debug("[EsriSnappingProvider] Graphics Layer handled {0}".format(b.id));var c=new g.SnappingInfo(b);a&&(c.snapToEdge=a.edge,c.snapToPoint=a.point,c.snapToVertex=a.vertex);this._snappingLayerInfos.push(c);this._refreshLayerInfos()};l.prototype._listenForGraphicLayers=function(){var b=this;this.app.map.on("layer-add-result",function(a){a&&a.layer&&a.layer instanceof esri.layers.GraphicsLayer&&b._loadConfiguredDefaultGraphicsLayers()})};l.prototype._refreshLayerInfos=function(){this.app.map.snappingManager&&
this.app.map.snappingManager.setLayerInfos(this._cloneLayerInfos())};l.prototype._handleRemoveGraphicsLayer=function(b){this._removeInfo(b)};l.prototype._handleDynamicLayer=function(b){0>this._managedDynamicLayers.indexOf(b)&&(this._managedDynamicLayers.push(b),this._active&&!this._paused?this._refreshDynamicSnappingData():this._refreshOnNextContinue=!0)};l.prototype._handleRemoveDynamicLayer=function(b){b=this._managedDynamicLayers.indexOf(b);-1<b&&(this._managedDynamicLayers.splice(b,1),this._active&&
!this._paused?this._refreshDynamicSnappingData():this._refreshOnNextContinue=!0)};l.prototype._refreshDynamicSnappingData=function(){this.loadForExtent(this.app.map.extent)};l.prototype._removeInfo=function(b){for(var a=0;a<this._snappingLayerInfos.length;a++)if(this._snappingLayerInfos[a].layer===b){this._snappingLayerInfos.splice(a,1);break}};l.prototype.loadForExtent=function(b){var a=this;this._convertedSnappingGraphics.clear();this._refreshOnNextContinue=!1;for(var c=[],e=0;e<this._managedDynamicLayers.length;e++)this._isLayerVisible(this._managedDynamicLayers[e])&&
c.push(this._managedDynamicLayers[e]);for(e=0;e<c.length;e++){var d=c[e];if(d){var g=new esri.tasks.Query;g.geometry=b;g.outSpatialReference=this.app.map.spatialReference;g.returnGeometry=!0;var h="1=1";if(d.mapService&&d.mapService.serviceLayer&&d.mapService.serviceLayer instanceof esri.layers.ArcGISDynamicMapServiceLayer){var l=(d.mapService.serviceLayer.layerDefinitions||[])[parseInt(d.id)];l&&(h=l)}g.where=h;f.infrastructure.taskUtils.getQueryTask(d).execute(g,function(b){a._queryCompleted(b,
d)},function(b){a._queryError(b)})}}};l.prototype._queryCompleted=function(b,a){if(b&&b.features)for(var c=0;c<b.features.length;c++){var e=b.features[c];e&&this._convertedSnappingGraphics.add(e)}};l.prototype._queryError=function(b){this.app.trace.error("An error occured while downloading snapping points: {0}".format(b&&b.message?b.message:"Undetermined cause"))};l.prototype._loadConfiguredDefaultGraphicsLayers=function(){var b=this;this.providerConfiguration&&this.providerConfiguration.configuration&&
this.providerConfiguration.configuration.graphicsLayers&&this.providerConfiguration.configuration.graphicsLayers.forEach(function(a){(a=b.app.map.getLayer(a))&&a instanceof esri.layers.GraphicsLayer&&0>b._loadedDefaultLayers.indexOf(a)&&(b._loadedDefaultLayers.push(a),b._handleGraphicsLayer(a))})};return l}();g.EsriSnappingProvider=m})(g.snapping||(g.snapping={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex=
{}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){function d(b,a){this.app=b;this.snappingModule=a;this._registerApplicationCommands()}d.prototype._registerApplicationCommands=function(){this.app.command("EnableAllLayersForSnapping").register(this,this._executeEnableAllLayersForSnapping);this.app.command("DisableAllLayersForSnapping").register(this,this._executeDisableAllLayersForSnapping);this.app.command("EnableLayerForSnapping").register(this,this._executeEnableLayerForSnapping);this.app.command("DisableLayerForSnapping").register(this,
this._executeDisableLayerForSnapping)};d.prototype._executeEnableLayerForSnapping=function(b){this.app.command("RegisterSnappingLayer").execute(b)};d.prototype._executeEnableAllLayersForSnapping=function(b){this.app.command("RegisterSnappingLayers").execute(b)};d.prototype._executeDisableLayerForSnapping=function(b){this.app.command("RemoveSnappingLayer").execute(b)};d.prototype._executeDisableAllLayersForSnapping=function(b){this.app.command("RemoveSnappingLayers").execute(b)};return d}();d.LayerSelectorForSnapping=
f})(d.snapping||(d.snapping={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(){return function(d){this.snapToVertex=this.snapToPoint=this.snapToEdge=!0;this.layer=d}}();d.SnappingInfo=f})(d.snapping||(d.snapping={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(d){function b(){d.apply(this,arguments);this._inputThrottleDelay=1E3/60;this._timer=this._originSnapPoint=this._originPoint=null;this._mouseInsideMapBounds=!1;this._snapSymbol=null;this._canSnap=!1;this._supportedDrawModes=[];this._accessibleMode=this._enabled=!1;this._toggleKey=this._tempEditingLayer=this._graphicsLayer=null;this._supressNextDeactivatedEvent=this._isEditing=!1;this._esriEditVertexMovedToken=this._vertexHandleHiddenToken=
this._vertexHandleShownToken=this._editVertexMoveToken=this._vertexMovedToken=this._graphicDrawToken=this._onKeyDown=this._mouseOverToken=this._extentChangedToken=this._mouseMoveToken=this._toolbar=this._dummyGraphic=this._currentEditingGraphic=this._graphicEditingLayerRef=null;this._defaultRadiusBorderColor="#000000";this._defaultSnappingPointColor=this._defaultPointColor=this._defaultHoverColor="#ffffff";this._defaultHoverOpacity=0.2;this._defaultPointSize=5;this._defaultBorderSize=1;this._defaultThreshold=
25;this._defaultCancelKey=70}__extends(b,d);b.prototype.initialize=function(a){var b=this;d.prototype.initialize.call(this,a);this._toggleKey=isNaN(parseInt(this.configuration.toggleKey+""))?this._defaultCancelKey:parseInt(this.configuration.toggleKey+"");this._threshold=isNaN(parseInt(this.configuration.threshold))?this._defaultThreshold:parseInt(this.configuration.threshold);this.layerSelectorForSnapping=new g.LayerSelectorForSnapping(this.app,this);this.app.event("SiteServiceLayersLoadedEvent").subscribe(this,
function(a){b._initializeSnappingManager();b._subscribeToMapEvents()});this.configuration.supportedDrawModes&&(this._supportedDrawModes=this.configuration.supportedDrawModes);a=(new esri.Color(this.configuration.radiusFillColor?this.configuration.radiusFillColor:this._defaultHoverColor)).toRgba();var e=isNaN(parseFloat(this.configuration.radiusFillOpacity))?this._defaultHoverOpacity:parseFloat(this.configuration.radiusFillOpacity);a[3]=e;a=new esri.Color(a);var e=this.configuration.pointColor?this.configuration.pointColor:
this._defaultPointColor,f=isNaN(parseInt(this.configuration.pointSize))?this._defaultPointSize:parseInt(this.configuration.pointSize);this._snapSymbol=new esri.symbol.SimpleMarkerSymbol(esri.symbol.SimpleMarkerSymbol.STYLE_CIRCLE,f,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color(e),1),new esri.Color(e));e=isNaN(parseInt(this.configuration.radiusBorderSize))?this._defaultBorderSize:parseInt(this.configuration.radiusBorderSize);f=this.configuration.radiusBorderColor?
this.configuration.radiusBorderColor:this._defaultRadiusBorderColor;this._hoverGraphic=new esri.Graphic;this._hoverGraphic.setSymbol(new esri.symbol.SimpleMarkerSymbol(esri.symbol.SimpleMarkerSymbol.STYLE_CIRCLE,2*this._threshold,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color(f),e),a));this._snapGraphic=new esri.Graphic;this._snapGraphic.setSymbol(this._snapSymbol);this._registerApplicationCommands();this._subscribeToApplicationEvents();if(this.app.map&&this.app.map.loaded)this._addKeyHandlers();
else this.app.event("MapLoadedEvent").once(this,function(a){b._addKeyHandlers()})};b.prototype._registerApplicationCommands=function(){this.app.command("ActivateSnapping").register(this,this._executeActivateSnapping,this._canExecuteSnapping);this.app.command("DeactivateSnapping").register(this,this._executeDeactivateSnapping,this._canExecuteSnapping);this.app.command("RegisterSnappingLayer").register(this,this._executeRegisterSnappingLayer);this.app.command("RegisterSnappingLayers").register(this,
this._executeRegisterSnappingLayers);this.app.command("RemoveSnappingLayer").register(this,this._executeUnregisterSnappingLayer);this.app.command("RemoveSnappingLayers").register(this,this._executeUnregisterSnappingLayers)};b.prototype._subscribeToApplicationEvents=function(){var a=this;this.app.event("ActiveToolChangedEvent").subscribe(this,this._handleActiveToolChanged);this.app.event("GraphicDrawActivatedEvent").subscribe(this,function(b){a._handleGraphicDrawActivatedEvent(b)});this.app.event("GraphicDrawDeactivatedEvent").subscribe(this,
function(b){a._handleDrawDeactivatedEvent(b)});this.app.event("GraphicEditActivatedEvent").subscribe(this,function(b){a._canSnap=!0;a._handleEditBegin();a._subscribeMouseEvents();a._supressNextDeactivatedEvent=!0;a._currentEditingGraphic=b.graphic;a._dummyGraphic=new esri.Graphic;a._toolbar=b.sender;a._graphicEditingLayerRef=b.graphic.getLayer();a._enabled&&a._moveEditingGraphicToTempLayer()});this.app.event("GraphicEditDeactivatedEvent").subscribe(this,function(b){a._canSnap=!1;a._handleEditEnd();
a._supressNextDeactivatedEvent=!1;a._currentEditingGraphic&&(a._returnEditingGraphicToOwner(!1),a._currentEditingGraphic=null,a._graphicEditingLayerRef=null,a._dummyGraphic=null,a._toolbar=null,a.app.trace.debug("[SnappingModule]: Graphic editing context cleaned up"))});this.app.event("GraphicDrawAccessibleEditActivatedEvent").subscribe(this,function(b){a._canSnap=!0;a._handleEditBegin()});this.app.event("GraphicDrawAccessibleEditDeactivatedEvent").subscribe(this,function(b){a._supressNextDeactivatedEvent?
a._supressNextDeactivatedEvent=!1:(a._canSnap=!1,a._handleEditEnd())});this.app.event("InputMethodChangedEvent").subscribe(this,function(b){var e=!1;b.newMethod===f.infrastructure.accessibility.InputMethod.KEYBOARD&&(e=!0);a._accessibleMode!==e&&a._hideSnappingGraphics();a._accessibleMode=e;a._subscribeToUIEvents()})};b.prototype._initializeSnappingManager=function(){this._graphicsLayer=new esri.layers.GraphicsLayer;this._graphicsLayer.id="snapping_helper_graphics";this.app.map.addLayer(this._graphicsLayer);
this._graphicsLayer.add(this._hoverGraphic);this._graphicsLayer.add(this._snapGraphic);this._hideSnappingGraphics();var a=this.configuration.snappingProvider;a&&(a.libraryId&&!this.app.allLibrariesLoaded?this._loadProviderWhenLibrariesDownloaded(a):this._loadProvider(a))};b.prototype._subscribeToMapEvents=function(){var a=this;this.app.map.on("layer-add-result",function(b){a.app.map.reorderLayer(a._graphicsLayer,a.app.map.graphicsLayerIds.length)})};b.prototype._loadProviderWhenLibrariesDownloaded=
function(a){var b=this;this.app.event("ViewerLibrariesDownloadedEvent").once(this,function(){return b._loadProvider(a)})};b.prototype._loadProvider=function(a){var b=dojo.getObject(a.type);b&&(b=new b(this.app,a.libraryId||this.libraryId),b.initialize(a),this._registerSnappingProvider(b))};b.prototype._subscribeMouseEvents=function(){window.PointerEvent?this._addPointerMove():this._addMouseMove();this._addMouseLeave();this._addMouseOver()};b.prototype._removeMouseEvents=function(){this._removeEventListener(this.app.map.root,
"pointermove",this._handlePointerMove);this._removeEsriHandle(this._mouseOverToken);this._removeEsriHandle(this._mouseMoveToken);this._removeJQueryHandle(this._mouseLeaveToken)};b.prototype._handleEditBegin=function(){var a=this;this._handleEditEnd();this._editVertexMoveToken=this.app.event("EditVertexMovedEvent").subscribe(this,function(b){a._mouseInsideMapBounds=!0;a._handleInputMove(b)});this._vertexHandleShownToken=this.app.event("VertexHandleShownEvent").subscribe(this,function(b){a._hideSnappingGraphics();
a._removeMouseEvents()});this._vertexHandleHiddenToken=this.app.event("VertexHandleHiddenEvent").subscribe(this,function(){a._hideSnappingGraphics();a._subscribeMouseEvents()});this._esriEditVertexMovedToken=this.app.event("EditVertexHandleMovedEvent").subscribe(this,function(b){b&&b.geometry&&b.geometry instanceof esri.geometry.Point&&(a._mouseInsideMapBounds=!0,a._timer||(a._timer=setTimeout(function(){var e=b.getShape(),d=e.matrix.dx,e=e.matrix.dy,d=a.app.map.toScreen(b.geometry).offset(d,e),d=
{mapPoint:a.app.map.toMap(d),screenPoint:d};a._handleInputMove(d);a._clearTimeout()},a._inputThrottleDelay)))});this._isEditing=!0};b.prototype._handleEditEnd=function(){this._hideSnappingGraphics();this._removeGcxHandle("EditVertexMovedEvent",this._editVertexMoveToken);this._removeGcxHandle("VertexHandleShownEvent",this._vertexHandleShownToken);this._removeGcxHandle("VertexHandleHiddenEvent",this._vertexHandleHiddenToken);this._removeGcxHandle("EditVertexHandleMovedEvent",this._esriEditVertexMovedToken);
this._isEditing=!1;this.snappingProvider.pauseSnapping()};b.prototype._subscribeAccessibilityEvents=function(){this._addVertexMoved()};b.prototype._removeAccessibilityEvents=function(){this._removeGcxHandle("GraphicVertexMovedEvent",this._vertexMovedToken)};b.prototype._handleGraphicDrawActivatedEvent=function(a){a=a.geometryType;a===esri.toolbars.Draw.MULTI_POINT&&(a=f.infrastructure.tools.DrawMode.MULTI_POINT);a&&this._drawModeSupported(a)?(this._canSnap=!0,this.snappingProvider.continueSnapping()):
(this._canSnap=!1,this.snappingProvider.pauseSnapping())};b.prototype._handleDrawDeactivatedEvent=function(a){this._canSnap=!1;this.snappingProvider.pauseSnapping()};b.prototype._handleActiveToolChanged=function(a){this.snappingProvider?a&&a.tool&&a.tool instanceof f.infrastructure.tools.MapTool?(a=a.tool,"EditMarkup"===a.command||"DeleteMarkup"===a.command?this._canSnap=!1:this._drawModeSupported(a.drawMode)?(this._canSnap=!0,this.snappingProvider.continueSnapping()):(this._canSnap=!1,this.snappingProvider.pauseSnapping())):
this._canSnap=!1:(this._canSnap=!1,this.app.trace.debug("[SnappingModule]: 'ActiveToolChangedEvent' cannot be handled by the module before a SnappingProvider is registered. Check to ensure 'SiteServiceLayersLoadedEvent' has fired."))};b.prototype._drawModeSupported=function(a){return-1<this._supportedDrawModes.indexOf(a?a.toUpperCase():a)?!0:!1};b.prototype._registerSnappingProvider=function(a){this.snappingProvider=a;this.app.command("ActivateSnapping").raiseCanExecuteChanged();this.app.event("SnappingProviderRegistered").publish(this.snappingProvider)};
b.prototype._subscribeToUIEvents=function(){this._enabled&&(this._accessibleMode?(this._subscribeAccessibilityEvents(),this._removeMouseEvents(),this._mouseInsideMapBounds=!0):(this._subscribeMouseEvents(),this._removeAccessibilityEvents()),this._addMapStateChangedEvents())};b.prototype._executeActivateSnapping=function(){this._executeDeactivateSnapping();this._enabled=!0;this.snappingProvider.activate(this._threshold);this._canSnap&&(this.snappingProvider.pauseSnapping(),this.snappingProvider.continueSnapping());
this._subscribeToUIEvents();this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-snapping-activated"));this._isEditing&&(this.app.trace.debug("[SnappingModule]: Snapping enabled mid-edit"),this._handleEditBegin(),this._subscribeMouseEvents(),this._currentEditingGraphic&&this._moveEditingGraphicToTempLayer())};b.prototype._canExecuteSnapping=function(){if(this._canSnap)return!0;if(!(this.app.toolRegistry.getActiveTool()instanceof f.infrastructure.tools.MapTool))return!1;
var a=this.app.toolRegistry.getActiveTool();return this.snappingProvider&&this._drawModeSupported(a.drawMode)?!0:!1};b.prototype._executeDeactivateSnapping=function(){this._enabled&&this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-snapping-deactivated"));this._enabled=!1;this.snappingProvider.deactivate();this._killOffSnapping();this._hideSnappingGraphics();this._raiseSnappingInputMovedEvent(null,null);f.infrastructure.FocusUtils.focusOnMap(this.app.map);
this._currentEditingGraphic&&this._returnEditingGraphicToOwner()};b.prototype._executeRegisterSnappingLayers=function(a){var b=this;a.forEach(function(a){b._readerLayerRegisterWrapper(a)})};b.prototype._executeRegisterSnappingLayer=function(a){this._readerLayerRegisterWrapper(a)};b.prototype._executeUnregisterSnappingLayer=function(a){this._readerLayerUnregisterWrapper(a)};b.prototype._executeUnregisterSnappingLayers=function(a){var b=this;a.forEach(function(a){b._readerLayerUnregisterWrapper(a)})};
b.prototype._readerLayerRegisterWrapper=function(a){this.snappingProvider.registerLayer(a)&&this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-snapping-layer-registered").format(a.displayName))};b.prototype._readerLayerUnregisterWrapper=function(a){this.snappingProvider.unregisterLayer(a);this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-snapping-layer-unregistered").format(a.displayName))};b.prototype._clearTimeout=
function(){this._timer&&(clearTimeout(this._timer),this._timer=null)};b.prototype._addVertexMoved=function(){var a=this;this._removeGcxHandle("GraphicVertexMovedEvent",this._vertexMovedToken);this._vertexMovedToken=this.app.event("GraphicVertexMovedEvent").subscribe(this,function(b){a._handleInputMove(b)})};b.prototype._addMouseLeave=function(){var a=this;this._removeJQueryHandle(this._mouseLeaveToken);this._mouseLeaveToken=$(this.app.map.root).mouseleave(function(){a._clearTimeout();a._hideSnappingGraphics();
a.snappingProvider.pauseSnapping();a._mouseInsideMapBounds=!1})};b.prototype._addPointerMove=function(){var a=this;this._removeEventListener(this.app.map.root,"pointermove",this._handlePointerMove);this._addEventListener(this.app.map.root,"pointermove",function(b){a._handlePointerMove(b)})};b.prototype._handlePointerMove=function(a){var b=this;a&&!this._timer&&(this._timer=setTimeout(function(){var e=a.clientX-b.app.map.root.getBoundingClientRect().left,d=a.clientY-b.app.map.root.getBoundingClientRect().top,
e=b.app.map.toMap(new esri.geometry.ScreenPoint(e,d)),e={mapPoint:e,screenPoint:b.app.map.toScreen(e)};b._handleInputMove(e);b._clearTimeout()},this._inputThrottleDelay))};b.prototype._addMouseOver=function(){var a=this;this._removeEsriHandle(this._mouseOverToken);this._mouseOverToken=this.app.map.on("mouse-over",function(b){a._mouseInsideMapBounds=!0;a._timer||(a._timer=setTimeout(function(){a._handleInputMove(b);a._clearTimeout()},a._inputThrottleDelay))})};b.prototype._addMouseMove=function(){var a=
this;this._removeEsriHandle(this._mouseMoveToken);this._mouseMoveToken=this.app.map.on("mouse-move",function(b){a._mouseInsideMapBounds=!0;a._timer||(a._timer=setTimeout(function(){a._handleInputMove(b);a._clearTimeout()},a._inputThrottleDelay))})};b.prototype._addMapStateChangedEvents=function(){var a=this;this._removeEsriHandle(this._extentChangedToken);this._extentChangedToken=this.app.map.on("extent-change",function(b){a.snappingProvider.loadForExtent(b.extent);a._originPoint=null;a._originSnapPoint=
null})};b.prototype._removeGcxHandle=function(a,b){a&&b&&this.app.event(a).unsubscribe(b)};b.prototype._addKeyHandlers=function(){var a=this;this._removeEsriHandle(this._onKeyDown);this._onKeyDown=this.app.map.on("key-down",function(b){a._onSnapKeyDownHandler(b)})};b.prototype._onSnapKeyDownHandler=function(a){a.keyCode===this._toggleKey&&(this._enabled?this.app.command("DeactivateSnapping").execute():this.app.command("ActivateSnapping").execute())};b.prototype._killOffSnapping=function(){this._removeMouseEvents();
this._removeAccessibilityEvents();this._removeEsriHandle(this._graphicDrawToken);this._removeEsriHandle(this._extentChangedToken)};b.prototype._removeEsriHandle=function(a){a&&a.remove()};b.prototype._removeJQueryHandle=function(a){a&&a.off()};b.prototype._addSnappingGraphics=function(a,b){void 0===b&&(b=null);b||(b=a);if(this._originPoint){var e=this.app.map.toScreen(b),d=e.x-this._originSnapPoint.x,e=e.y-this._originSnapPoint.y,d=dojox.gfx.matrix.translate(d,e);(e=this._snapGraphic.getDojoShape())&&
e.setTransform(d);e=this.app.map.toScreen(a);d=e.x-this._originPoint.x;e=e.y-this._originPoint.y;d=dojox.gfx.matrix.translate(d,e);(e=this._hoverGraphic.getDojoShape())&&e.setTransform(d)}else this._originPoint=this.app.map.toScreen(a),this._originSnapPoint=this.app.map.toScreen(b),this._snapGraphic.setGeometry(b),this._hoverGraphic.setGeometry(a);this._snapGraphic.visible||this._snapGraphic.show();this._hoverGraphic.visible||this._hoverGraphic.show();$(this._snapGraphic.getNode()).css("pointer-events",
"none");$(this._hoverGraphic.getNode()).css("pointer-events","none")};b.prototype._hideSnappingGraphics=function(){this._originSnapPoint=this._originPoint=null;this._hoverGraphic.visible&&this._hoverGraphic.hide();this._snapGraphic.visible&&this._snapGraphic.hide()};b.prototype._handleInputMove=function(a){var b=this;this._enabled&&(this._canSnap?a&&a.screenPoint&&this._mouseInsideMapBounds&&(this.snappingProvider.continueSnapping(),this.snappingProvider.provideSnappingPoint(a.screenPoint).then(function(e){e?
(b._addSnappingGraphics(a.mapPoint,e),b._raiseSnappingInputMovedEvent(e,a.mapPoint),b.app.command("ScreenReaderNarrate").execute(b.app.getResource(b.libraryId,"language-snapping-point-found"))):(b._addSnappingGraphics(a.mapPoint,null),b._raiseSnappingInputMovedEvent(null,a.mapPoint))})["catch"](function(e){b.app.trace.error("Failed to find a snapping point: {0}".format(e&&e.message?e.message:"Undetermined cause"));b.app.command("ScreenReaderNarrate").execute(b.app.getResource(b.libraryId,"language-snapping-error"));
b._raiseSnappingInputMovedEvent(null,a.mapPoint)})):this._hideSnappingGraphics())};b.prototype._raiseSnappingInputMovedEvent=function(a,b){var e={snappingPoint:a,inputPoint:b};this.app.event("SnappingFeedbackEvent").publish(e)};b.prototype._addEventListener=function(a,b,e){a.addEventListener?a.addEventListener(b,e,!1):a.attachEvent&&a.attachEvent("on"+b,e)};b.prototype._removeEventListener=function(a,b,e){a.removeEventListener?a.removeEventListener(b,e,!1):a.detachEvent&&a.detachEvent("on"+b,e)};
b.prototype._moveEditingGraphicToTempLayer=function(){this._graphicEditingLayerRef&&this._currentEditingGraphic&&this._canSwapEditingGraphic(this._graphicEditingLayerRef)&&(this.app.trace.debug("[SnappingModule]: Attempting to move the editing graphic from '{0}' to the temporary layer".format(this._graphicEditingLayerRef.id)),this._tempEditingLayer||(this._tempEditingLayer=new esri.layers.GraphicsLayer,this._tempEditingLayer.id="temp_snapping_graphics_editing"),this.app.map.getLayer("temp_snapping_graphics_editing")||
this.app.map.addLayer(this._tempEditingLayer),this._graphicEditingLayerRef.remove(this._currentEditingGraphic),this._graphicEditingLayerRef.add(this._dummyGraphic),this._tempEditingLayer.add(this._currentEditingGraphic),this._toolbar&&this._toolbar.refresh())};b.prototype._returnEditingGraphicToOwner=function(a){void 0===a&&(a=!0);this._graphicEditingLayerRef&&this._currentEditingGraphic&&this._tempEditingLayer&&this._canSwapEditingGraphic(this._graphicEditingLayerRef)&&(this.app.trace.debug("[SnappingModule]: Returning the editing graphic back to '{0}'".format(this._graphicEditingLayerRef.id)),
this._tempEditingLayer.remove(this._currentEditingGraphic),this._graphicEditingLayerRef.remove(this._dummyGraphic),this._graphicEditingLayerRef.add(this._currentEditingGraphic),this.app.map.removeLayer(this._tempEditingLayer),this._tempEditingLayer.clear(),this._tempEditingLayer=null,a&&this._toolbar&&this._toolbar.refresh())};b.prototype._canSwapEditingGraphic=function(a){var b=!1,e=[];this.snappingProvider&&this.snappingProvider.providerConfiguration&&this.snappingProvider.providerConfiguration.configuration&&
this.snappingProvider.providerConfiguration.configuration.graphicsLayers&&(e=this.snappingProvider.providerConfiguration.configuration.graphicsLayers);a&&a instanceof esri.layers.GraphicsLayer&&-1<e.indexOf(a.id)&&(b=!0);return b};return b}(d.framework.application.ModuleBase);g.SnappingModule=m})(g.snapping||(g.snapping={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.getStateFilter=function(){return{isActive:!0,showActionsContainer:!0,selectedSliderId:!0,sliderMode:!0,timeIntervalOverride:!0,timeIntervalUnitOverride:!0,sliderCurrentStartDate:!0,sliderCurrentEndDate:!0,timeSliderViewActive:!0,playbackDelaySeconds:!0,loopPlayback:!0,timeSliderSettingsViewActive:!0}};b.prototype.exportState=function(){var a=this,b={isActive:!1,
showActionsContainer:!1,selectedSliderId:null,sliderMode:null,timeIntervalOverride:0,timeIntervalUnitOverride:null,sliderCurrentStartDate:0,sliderCurrentEndDate:0,playbackDelaySeconds:0,loopPlayback:!1,timeSliderViewActive:!1,timeSliderSettingsViewActive:!1};return Promise["try"](function(){a.app.command("_ExportTimeSliderState").execute(b);return b})};b.prototype.applyState=function(a){var b=this,e={state:a,completePromise:null};return this.app.waitUntilAllLibrariesLoaded().then(function(){b.app.command("_ApplyTimeSliderState").execute(e);
return e.completePromise})};return b}(d.framework.application.ModuleBase);f.TimeSliderModule=g})(f.timeSlider||(f.timeSlider={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,b){d.call(this,a,b);this.registerCommands()}__extends(b,d);b.prototype.registerCommands=function(){var a=this;this.app.command("ShowTimeSliderSettings").register(this,function(){return a.app.command("ActivateView").execute(a.id)});this.app.command("HideTimeSliderSettings").register(this,function(){return a.isActive&&a.app.command("DeactivateView").execute(a.id)});this.app.command("_ExportTimeSliderState").register(this,
this._exportState)};b.prototype._exportState=function(a){a.timeSliderSettingsViewActive=this.isActive};return b}(d.framework.ui.ViewBase);f.TimeSliderSettingsView=g})(f.timeSlider||(f.timeSlider={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,b){f.call(this,a,b);this._viewModelEnabledToken=this._appResizeToken=this._sliderView=null;this.registerCommands()}__extends(b,f);b.prototype.registerCommands=function(){var a=this;this.app.command("ToggleTimeSliderActions").register(this,function(){return a.viewModel&&a.viewModel.showActionsContainer.set(!a.viewModel.showActionsContainer.get())});this.app.command("HideTimeSlider").register(this,function(){return a.app.command("DeactivateView").execute(a.id)});
this.app.command("_ExportTimeSliderState").register(this,this._exportState)};b.prototype.subscribeEvents=function(){this._appResizeToken||(this._appResizeToken=this.app.event("ApplicationResizedEvent").subscribe(this,this._handleApplicationResizedEvent))};b.prototype.attach=function(a){a&&(a.selectedSliderMode.bind(this,this._handleSliderModeChanged),this._viewModelEnabledToken=a.isEnabled.bind(this,this._onViewModelEnabled),this._onViewModelEnabled(this.viewModel.isEnabled.get()),f.prototype.attach.call(this,
a))};b.prototype.onDestroy=function(){f.prototype.onDestroy.call(this);this._appResizeToken&&(this.app.event("ApplicationResizedEvent").unsubscribe(this._appResizeToken),this._appResizeToken=null)};b.prototype.resolveWidget=function(a,b,e){if(b)switch(a){case "TimeSliderElement":return(a=this.app.viewManager.createView({markupResource:"Mapping/infrastructure/ui/components/Slider/SliderView.html",libraryId:"Mapping.Infrastructure",typeName:"geocortex.essentialsHtmlViewer.mapping.infrastructure.ui.components.Slider.SliderViewBase",
isVisible:!0}))&&a.attach(b),this._sliderView=a}};b.prototype.handleToggleActionsContainer=function(a,b,e){this.viewModel.isEnabled.get()&&(this._handleSliderModeChanged(this.viewModel.selectedSliderMode.get()),this.app.command("ToggleTimeSliderActions").execute())};b.prototype.handlePlayTimelineClick=function(a,b,e){this.viewModel.isEnabled.get()&&(this.viewModel.isPlayingBack.get()?this.viewModel.stopPlayTimeline():this.viewModel.playTimeline())};b.prototype.handleStepBackClick=function(a,b,e){this.viewModel.isEnabled.get()&&
(this.viewModel.stepBack(),this._refreshSliderLabelPositions())};b.prototype.handleStepForwardClick=function(a,b,e){this.viewModel.isEnabled.get()&&(this.viewModel.stepForward(),this._refreshSliderLabelPositions())};b.prototype.handleMoreActionsClick=function(a,b,e){this.viewModel.isEnabled.get()&&this.app.behavior("TimeSliderMoreSettingsActionInvokedBehavior").run()};b.prototype.handleCloseClick=function(a,b,e){this.viewModel.stopPlayTimeline();this.app.behavior("TimeSliderCloseTimelineActionInvokedBehavior").run()};
b.prototype._onViewModelEnabled=function(a){a&&(this._viewModelEnabledToken&&(this.viewModel.isEnabled.unbind(this._viewModelEnabledToken),this._viewModelEnabledToken=null),this.viewModel.isActive.bind(this,this._onTimeSliderActivated),this.subscribeEvents(),this._onTimeSliderActivated(this.viewModel.isActive.get()))};b.prototype._onTimeSliderActivated=function(a){a?(this.app.viewManager.activateView(this),this._refreshSliderLabelPositions()):(this.viewModel.stopPlayTimeline(),this.app.behavior("TimeSliderCloseTimelineActionInvokedBehavior").run(),
this.app.viewManager.deactivateView(this))};b.prototype._handleApplicationResizedEvent=function(){this.viewModel.isEnabled.get()&&(this._refreshSliderLabelPositions(),this.isActive&&($(".slider-start-date-picker .hasDatepicker.gcxDatepicker",this.root).datepicker("hide"),$(".slider-end-date-picker .hasDatepicker.gcxDatepicker",this.root).datepicker("hide")))};b.prototype._refreshSliderLabelPositions=function(){this._sliderView&&this._sliderView.refreshLabelPositions()};b.prototype._handleSliderModeChanged=
function(a){var b=this;if("string"!==typeof a){var e=function(a){a?$(".slider-start-date-picker",b.root).addClass("disable-date-picker"):$(".slider-start-date-picker",b.root).removeClass("disable-date-picker");$(".slider-start-date-picker :input",b.root).prop("disabled",a);$(".slider-start-date-picker .hasDatepicker.gcxDatepicker",b.root).prop("disabled",a);$(".slider-start-date-picker .ui-datepicker-trigger",b.root).prop("disabled",a)},f=function(a){a?$(".slider-end-date-picker",b.root).addClass("disable-date-picker"):
$(".slider-end-date-picker",b.root).removeClass("disable-date-picker");$(".slider-end-date-picker :input",b.root).prop("disabled",a);$(".slider-end-date-picker .hasDatepicker.gcxDatepicker",b.root).prop("disabled",a);$(".slider-end-date-picker .ui-datepicker-trigger",b.root).prop("disabled",a)};a===d.essentials.TimeSliderMode.Instant?(e(!1),f(!0)):(a===d.essentials.TimeSliderMode.Cumulative?e(!0):e(!1),f(!1))}};b.prototype._exportState=function(a){a.timeSliderViewActive=this.isActive};return b}(d.framework.ui.ViewBase);
f.TimeSliderView=g})(f.timeSlider||(f.timeSlider={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=f.infrastructure.ui.components.Slider,l=d.forms.items,b=function(a){function b(c,d){a.call(this,c,d);this.isEnabled=new Observable(!1);this.isActive=new Observable(!1);this.showActionsContainer=new Observable(!1);this.timeSliders=new ObservableCollection([]);this.selectedSliderId=new Observable("");this.selectedTimeSlider=new Observable(null);this.sliderViewModel=new Observable(null);this.startDateViewModel=new Observable(null);
this.endDateViewModel=new Observable(null);this.currentProfile=new Observable("");this.infoMessage=new Observable("");this.datePickerErrorMessage=new Observable("");this.sliderSettingsInfoMessage=new Observable("");this.sliderSettingsTimeIntervalError=new Observable("");this.sliderSettingsPlaybackDelayError=new Observable("");this.displayFormat=new Observable(f.infrastructure.DateFormat.DEFAULT);this.sliderModes=new ObservableCollection([]);this.selectedSliderMode=new Observable(null);this.timeInterval=
new Observable(1);this.timeIntervalUnits=new ObservableCollection([]);this.selectedTimeIntervalUnit=new Observable(null);this.loopPlayback=new Observable(!0);this.playbackDelaySeconds=new Observable(1);this.isPlayingBack=new Observable(!1);this.labelGenerator=null;this._animateSlider=!0;this._invalidDateString="Invalid Date";this._sliderViewModelOnHandle=null;this._enabledInConfig=!0;this._playbackDelaySeconds=1;this._activateSliderOnStartup=!0;this._mapTimeExtentSetTimeoutToken=null;this._startupDelay=
this._mapTimeExtentSetDelayMs=300;this._maxSignificantTimeExtentDisplayUnits=3;this._playTimelineTimeoutToken=null;this._noOfflineSupportStatusMsgSecs=10;this.labelGenerator=this._defaultSliderLabelGenerator;this.startDateViewModel.set(new l.DatePickerFormItem(null,null));this.endDateViewModel.set(new l.DatePickerFormItem(null,null));this.sliderViewModel.set(new m.SliderViewModelBase(this.app,this.libraryId));this._populateAvailableSliderModes();this._populateAvailableTimeIntervalUnits();this.registerCommands()}
__extends(b,a);b.prototype.initialize=function(a){var b=this;a&&(this._enabledInConfig=void 0!==a.enabled&&null!==a.enabled?!!a.enabled:!0,this._animateSlider=void 0!==a.animateSlider&&null!==a.animateSlider?!!a.animateSlider:!0,this._activateSliderOnStartup=void 0!==a.activateOnStartup&&null!==a.activateOnStartup?!!a.activateOnStartup:!0,this._maxSignificantTimeExtentDisplayUnits=void 0!==a.maxTimeExtentDisplayUnits&&null!==a.maxTimeExtentDisplayUnits?parseInt(a.maxTimeExtentDisplayUnits)||3:3,this._noOfflineSupportStatusMsgSecs=
void 0!==a.noOfflineSupportStatusMsgTimeoutSecs&&null!==a.noOfflineSupportStatusMsgTimeoutSecs?parseInt(a.noOfflineSupportStatusMsgTimeoutSecs)||10:10);if(this.app.site&&this.app.site.serviceLayersLoaded)this._onSiteServiceLayersLoaded(a);else this.app.event("SiteServiceLayersLoadedEvent").once(this,function(){return b._onSiteServiceLayersLoaded(a)});this.app.event("ProjectLoadingEvent").subscribe(this,function(){return b.app.command("DeactivateTimeSlider").execute()})};b.prototype.registerCommands=
function(){this.app.command("ActivateTimeSlider").register(this,this._activateTimeSliderCommandImpl,this._canExecuteActivateTimeSlider);this.app.command("DeactivateTimeSlider").register(this,this._deactivateTimeSliderCommandImpl,this._canExecuteDeactivateTimeSlider);this.app.command("SetTimeSliderProfile").register(this,this._setTimeSliderProfileCommandImpl,this._canExecuteSetTimeSliderProfile);this.app.command("_ExportTimeSliderState").register(this,this._exportState);this.app.command("_ApplyTimeSliderState").register(this,
this._applyState)};b.prototype.handleSliderItemSlide=function(a,b){var c=this;this.sliderViewModel.get()||this.app.trace.error("TimeSliderViewModel: Failed to set time extent for the Time Slider. Slider ViewModel undefined.");var d=this.sliderViewModel.get().sliderMinHandleCurrentItem.get(),d=d?d.value:null;if(null===d||isNaN(parseInt(d,10)))this.app.trace.error("TimeSliderViewModel: Failed to set time extent for the Time Slider. Minimum time not defined.");else{var f=this.sliderViewModel.get().sliderMaxHandleCurrentItem.get(),
f=f?f.value:null,g=this._applyTimezoneOffset(new Date(d)),h=null===f?null:this._applyTimezoneOffset(new Date(f));0===b?this.startDateViewModel.get()&&this.startDateViewModel.get().date.set(g):this.sliderViewModel.get().range&&null!==h&&this.endDateViewModel.get()&&this.endDateViewModel.get().date.set(h);this._updateCurrentlyDisplayedTimeExtent(d,f);this._mapTimeExtentSetTimeoutToken&&clearTimeout(this._mapTimeExtentSetTimeoutToken);this._mapTimeExtentSetTimeoutToken=setTimeout(function(){var a=new esri.TimeExtent(g,
c.sliderViewModel.get().range?h:g);c.app.map.setTimeExtent(a)},this._mapTimeExtentSetDelayMs)}};b.prototype.stepForward=function(){if(!this.sliderViewModel.get())return this.app.trace.error("TimeSliderViewModel: Could not step forward in time. Slider ViewModel not defined."),!1;if(this.sliderViewModel.get().range){if(this.sliderViewModel.get().setNextSliderItem(1)){if(this.selectedSliderMode.get()===d.essentials.TimeSliderMode.Extent)return this.sliderViewModel.get().setNextSliderItem(0);if(this.selectedSliderMode.get()===
d.essentials.TimeSliderMode.Cumulative)return!0}return!1}return this.sliderViewModel.get().setNextSliderItem(0)};b.prototype.stepBack=function(){return this.sliderViewModel.get()?this.sliderViewModel.get().range?this.selectedSliderMode.get()===d.essentials.TimeSliderMode.Cumulative||this.selectedSliderMode.get()===d.essentials.TimeSliderMode.Extent&&this.sliderViewModel.get().setPreviousSliderItem(0)?this.sliderViewModel.get().setPreviousSliderItem(1):!1:this.sliderViewModel.get().setPreviousSliderItem(0):
(this.app.trace.error("TimeSliderViewModel: Could not step back in time. Slider ViewModel not defined."),!1)};b.prototype.playTimeline=function(){var a=this,b=this.sliderViewModel.get();if(!b)this.app.trace.error("TimeSliderViewModel: Could not play timeline. Slider ViewModel not defined.");else if(!this.isPlayingBack.get()){this.isPlayingBack.set(!0);this.app.event("TimeSliderPlayTimelineStartedEvent").publish(this.selectedTimeSlider.get());var c=!0,f=null,g=function(){c=a.stepForward();b.range&&
(f=null!==f?f:b.getRawSliderValueForItem(b.sliderMaxHandleCurrentItem.get())-b.getRawSliderValueForItem(b.sliderMinHandleCurrentItem.get()));if(!c&&a.loopPlayback.get()){var h=b.isNumeric?b.numericSliderMinVal:0,l=b.getSliderItemByRawSliderValue(h);b.range?(h=a.selectedSliderMode.get()===d.essentials.TimeSliderMode.Cumulative?b.getNextActiveSliderItem(l):b.getSliderItemByRawSliderValue(f+h),a.selectedSliderMode.get()===d.essentials.TimeSliderMode.Extent&&b.setSelectedSliderItem(0,l),b.setSelectedSliderItem(1,
h)):b.setSelectedSliderItem(0,l);c=!0}a.isPlayingBack.get()&&c?a._playTimelineTimeoutToken=setTimeout(g,1E3*a._playbackDelaySeconds):a.stopPlayTimeline()};setTimeout(g,1E3*this._playbackDelaySeconds)}};b.prototype.stopPlayTimeline=function(){null!==this._playTimelineTimeoutToken&&(clearTimeout(this._playTimelineTimeoutToken),this._playTimelineTimeoutToken=null);this.isPlayingBack.set(!1);this.app.event("TimeSliderPlayTimelineStoppedEvent").publish(this.selectedTimeSlider.get())};b.prototype._activateTimeSliderCommandImpl=
function(){this._activateTimeSlider()};b.prototype._canExecuteActivateTimeSlider=function(){return this.isEnabled.get()&&!this.app.isOffline.get()};b.prototype._deactivateTimeSliderCommandImpl=function(){this._deactivateTimeSlider()};b.prototype._canExecuteDeactivateTimeSlider=function(){return!0};b.prototype._setTimeSliderProfileCommandImpl=function(a){this._setTimeSliderProfile(a)};b.prototype._canExecuteSetTimeSliderProfile=function(a){return this.isEnabled.get()?this._validateProfile(a):!1};b.prototype._onSiteServiceLayersLoaded=
function(a){var b=this;this.isEnabled.set(this._enabledInConfig&&this._populateTimeSliderProfiles());this.isEnabled.get()&&this.app.map&&(this._setupBindings(),this._initializeDatePickerViewModels(),this.app.map.on("time-extent-change",function(a){return b._handleMapTimeExtentChanged(a.timeExtent)}),this._activateSliderOnStartup&&setTimeout(function(){return b._activateTimeSlider()},this._startupDelay))};b.prototype._activateTimeSlider=function(){if(this.isEnabled.get()&&!this.app.isOffline.get())if(this.isActive.get())this.isActive.pulse();
else{var a=this.selectedTimeSlider.get()||this.timeSliders.getAt(0);this.selectedTimeSlider.set(a);this.isActive.set(!0)}};b.prototype._deactivateTimeSlider=function(){var a=this;if(this.isActive.get()){if(this.app.map&&this.app.map.timeExtent)if(!this.app.isOffline.get()||this.app.isOffline.get()&&!this.app.map.updating)this.app.map.setTimeExtent(null);else var b=this.app.map.on("update-end",function(){b.remove();a.app.map.setTimeExtent(null)});this.isActive.set(!1)}else this.isActive.pulse()};b.prototype._setupBindings=
function(){var a=this;this.selectedTimeSlider.bind(this,this._setTimeSliderProfile);this.selectedSliderId.bind(this,this.handleSliderIdChange);this.displayFormat.bind(this,function(b){return a.startDateViewModel.get().dateFormat.set(b)});this.displayFormat.bind(this,function(b){return a.endDateViewModel.get().dateFormat.set(b)});this.startDateViewModel.get().date.bind(this,this._handleDatePickerStartDateChanged);this.endDateViewModel.get().date.bind(this,this._handleDatePickerEndDateChanged);this.selectedSliderMode.bind(this,
this._handleSliderModeChanged);this.selectedTimeIntervalUnit.bind(this,this._handleTimeIntervalUnitChanged);this.timeInterval.bind(this,this._handleTimeIntervalChanged);this.playbackDelaySeconds.bind(this,this._handlePlaybackDelayChanged);this.app.isOffline.bind(this,this._handleIsOffline)};b.prototype._initializeDatePickerViewModels=function(){this._setupDatePickerViewModel(this.startDateViewModel.get());this._setupDatePickerViewModel(this.endDateViewModel.get());this.startDateViewModel.pulse();
this.endDateViewModel.pulse()};b.prototype._setupDatePickerViewModel=function(a){a.timePickerItem=new l.TimePickerFormItem(null,null);a.timePickerItem.jQueryPickerTimeAsInfoMsg.set(!0);a.includeTimePicker.set(!0);a.isRequired.set(!1);a.nullable.set(!1)};b.prototype._configureSliderViewModel=function(a,b,c,g){var h=this,l=null!==b&&void 0!==b?b:a.mode,m,p,v;b=a.timeExtent.startTime.getTime();m=a.timeExtent.endTime.getTime();p=a.initialTimeExtent.startTime.getTime();v=a.initialTimeExtent.endTime.getTime();
l===d.essentials.TimeSliderMode.Cumulative&&p!==b&&(p=b);l===d.essentials.TimeSliderMode.Instant&&v!==p&&(v=p);if(!this._validateSliderTimes(b,m,p,v))return!1;c=null!==c&&void 0!==c?c:a.timeInterval;g=g?g:a.timeIntervalUnit;this._sliderViewModelOnHandle&&this._sliderViewModelOnHandle.remove();var u={};u.range=l!==d.essentials.TimeSliderMode.Instant;u.animate=this._animateSlider;u.disableSnappingForNumericValues=!a.snapToTimeIntervals;u.lockMinSliderHandleAtMinVal=l===d.essentials.TimeSliderMode.Cumulative;
u.sliderMinHandleAriaLabel=this.getResource("language-timeslider-range-mode-min-handle-aria-label");u.sliderMaxHandleAriaLabel=this.getResource("language-timeslider-range-mode-max-handle-aria-label");u.sliderSingleHandleAriaLabel=this.getResource("language-timeslider-instant-mode-single-handle-aria-label");a=f.infrastructure.TimeSliderUtils.computeTimeIntervalInMs(c,g);a=isNaN(a)?1:a;a>=m-b?this.sliderSettingsInfoMessage.set(this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-exceeds-time-extent")):
this.sliderSettingsInfoMessage.set("");a=this.sliderViewModel.get();this._sliderViewModelOnHandle=dojo.aspect.after(a,"sliderHandleSlide",function(a,b){return h.handleSliderItemSlide(a,b)},!0);a.initialize(u);a.setupDateSlider(b,m,c,g,function(a,b){return h.labelGenerator(a,b)},null,[p,v]);return!0};b.prototype._populateTimeSliderProfiles=function(){var a=this;if(!this.app.site.hasTimeSliders||!this.app.site.timeSliders||!this.app.site.timeSliders.length)return!1;var b=this.app.site.timeSliders.filter(function(b){return a._validateProfile(b)});
if(0===b.length)return!1;this.timeSliders.set(b);return!0};b.prototype._setTimeSliderProfile=function(a,b,c,d){this.stopPlayTimeline();void 0===b&&void 0===c&&void 0===d&&this._nullOverridableObservables();this.selectedTimeSlider.get()!==a?this.selectedTimeSlider.set(a):(b=null!==b&&void 0!==b?b:a.mode,this.selectedSliderMode.get()!==b?this.selectedSliderMode.set(b):(c=null!==c&&void 0!==c?c:a.timeInterval,this.timeInterval.get()!==c?this.timeInterval.set(c):(d=d?d:a.timeIntervalUnit,this.selectedTimeIntervalUnit.get()!==
d?this.selectedTimeIntervalUnit.set(d):(this.selectedSliderId.get()!==a.id&&this.selectedSliderId.set(a.id),this.displayFormat.set(a.displayFormat),this._configureSliderViewModel(a,this.selectedSliderMode.get(),this.timeInterval.get(),this.selectedTimeIntervalUnit.get())?(this.currentProfile.set(a.displayName),a=jQuery.extend({},a),a.mode=this.selectedSliderMode.get(),a.timeInterval=this.timeInterval.get(),a.timeIntervalUnit=this.selectedTimeIntervalUnit.get(),this.app.event("TimeSliderProfileChangedEvent").publish(a)):
this.app.trace.error("TimeSliderViewModel: Could not set slider profile with name: {0}.".format(a.displayName))))))};b.prototype._updateCurrentlyDisplayedTimeExtent=function(a,b){this.infoMessage.set("");null===a||void 0===a||null===b||void 0===b||isNaN(a)||isNaN(b)||this.infoMessage.set(this._formatMilliSecondsAsString(a,b,this._maxSignificantTimeExtentDisplayUnits))};b.prototype._defaultSliderLabelGenerator=function(a,b){var c=this._applyTimezoneOffset(new Date(a));return isNaN(a)||isNaN(c.getTime())?
this._invalidDateString:f.infrastructure.FormatUtils.formatDate(c,this.displayFormat.get())};b.prototype._applyTimezoneOffset=function(a,b){void 0===b&&(b=!1);var c=f.infrastructure.TimeZoneUtils.UTC_ZONE_ID,d=this.app.site.displayTimeZoneId||c;return b?f.infrastructure.TimeZoneUtils.correctDatesToSubmitInDatabaseTime(a,c,d):f.infrastructure.TimeZoneUtils.correctDatesForDisplayInDisplayTimeZone(a,c,d)};b.prototype._validateSliderTimes=function(a,b,c,d){if(isNaN(parseInt(a,10))||isNaN(parseInt(b,10))||
isNaN(parseInt(c,10))||isNaN(parseInt(d,10)))return!1;var f;return f=(f=a<=b&&c<=d)&&c>=a&&c<=b&&d>=a&&d<=b};b.prototype._validateTimeSliderAdditionalSettings=function(){var a=parseFloat(+this.timeInterval.get()),b=parseFloat(+this.playbackDelaySeconds.get()),a=isNaN(a)||0!==a%1||1>a,b=isNaN(b)||0!==b%1||1>b;this.sliderSettingsTimeIntervalError.set(a?this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-error"):"");this.sliderSettingsPlaybackDelayError.set(b?this.app.getResource(this.libraryId,
"language-timeslider-settings-playback-delay-error"):"");b=!a&&!b;this.sliderSettingsInfoMessage.set(b?"":this.app.getResource(this.libraryId,"language-timeslider-settings-contains-errors"));return b};b.prototype.handleSliderIdChange=function(a){if(!this.selectedTimeSlider.get()||this.selectedTimeSlider.get().id!==a){var b=this.timeSliders.get().filter(function(b){return b.id===a})[0];b&&this.selectedTimeSlider.set(b)}};b.prototype._handleDatePickerStartDateChanged=function(a){this._handleDatePickerDateChanged(!0,
a)};b.prototype._handleDatePickerEndDateChanged=function(a){this._handleDatePickerDateChanged(!1,a)};b.prototype._handleDatePickerDateChanged=function(a,b){var c=this._applyTimezoneOffset(b,!0).getTime(),f=this.sliderViewModel.get();if(f){this.datePickerErrorMessage.set("");var g=f.sliderMinHandleCurrentItem.get()&&f.sliderMinHandleCurrentItem.get().value,h=f.sliderMaxHandleCurrentItem.get()&&f.sliderMaxHandleCurrentItem.get().value;this.selectedSliderMode.get()===d.essentials.TimeSliderMode.Instant?
h=f.numericSliderMaxVal:this.selectedSliderMode.get()===d.essentials.TimeSliderMode.Cumulative&&(g=f.numericSliderMinVal);var l=a?g:h;if(null===l||void 0===l||l!==c)this._validateSliderTimes(f.numericSliderMinVal,f.numericSliderMaxVal,a?c:g,a?h:c)?f.setSelectedSliderItem(a?0:1,f.getSliderItemByItemValue(c)):this.datePickerErrorMessage.set(this.app.getResource(this.libraryId,"language-timeslider-datepicker-range-error"))}else this.app.trace.error("TimeSliderViewModel: Could not handle datepicker date change. Slider view model not defined.")};
b.prototype._handleSliderModeChanged=function(a){null!==a&&(this.stopPlayTimeline(),"string"===typeof a?this.selectedSliderMode.set(parseInt(a,10)):this.selectedTimeSlider.get()&&null!==a&&void 0!==a&&this._setTimeSliderProfile(this.selectedTimeSlider.get(),a,this.timeInterval.get(),this.selectedTimeIntervalUnit.get()))};b.prototype._handlePlaybackDelayChanged=function(a){null!==a&&this._validateTimeSliderAdditionalSettings()&&(this._playbackDelaySeconds=a)};b.prototype._handleTimeIntervalChanged=
function(a){null!==a&&this._validateTimeSliderAdditionalSettings()&&(this.stopPlayTimeline(),"string"===typeof a?this.timeInterval.set(parseInt(a,10)):this.selectedTimeSlider.get()&&null!==a&&void 0!==a&&this._setTimeSliderProfile(this.selectedTimeSlider.get(),this.selectedSliderMode.get(),a,this.selectedTimeIntervalUnit.get()))};b.prototype._handleTimeIntervalUnitChanged=function(a){null!==a&&(this.stopPlayTimeline(),this.selectedTimeSlider.get()&&a&&this._setTimeSliderProfile(this.selectedTimeSlider.get(),
this.selectedSliderMode.get(),this.timeInterval.get(),a))};b.prototype._handleMapTimeExtentChanged=function(a){var b=this;if(this.app.map&&this.isActive.get()){var c=!a||!a.startTime&&!a.endTime,d=this.app.map.graphicsLayerIds.map(function(a){return b.app.map.getLayer(a)}).filter(function(a){return a instanceof esri.layers.FeatureLayer&&a.timeInfo&&(!0===a._collection||!a.url)});if(d.length){var f=function(a,b){a&&a.visible!==b&&(b?a.show():a.hide())};d.forEach(function(d){for(var g=0;g<d.graphics.length;g++){var h=
d.graphics[g];if(h&&h.attributes)if(c)f(h,!0);else{var l=h.attributes[d.timeInfo.startTimeField],n=h.attributes[d.timeInfo.endTimeField],n=n?n:l;if(l&&n){var l=b._applyTimezoneOffset(new Date(l)).getTime(),n=b._applyTimezoneOffset(new Date(n)).getTime(),m=a.startTime.getTime(),p=a.endTime?a.endTime.getTime():m;l>=m&&l<=p&&n>=m&&n<=p?f(h,!0):f(h,!1)}}}})}}};b.prototype._handleIsOffline=function(a){if(a&&this.isActive.get()){this.app.command("DeactivateTimeSlider").execute();a=this.getResource("language-timeslider-not-supported-offline");
var b=new f.infrastructure.commandArgs.AddStatusArgs(a);b.timeoutMS=1E3*this._noOfflineSupportStatusMsgSecs;this.app.command("AddStatus").execute(b);this.app.trace.info(a)}this.app.command("ActivateTimeSlider").raiseCanExecuteChanged()};b.prototype._nullOverridableObservables=function(){this.selectedSliderMode.set(null);this.timeInterval.set(null);this.selectedTimeIntervalUnit.set(null)};b.prototype._populateAvailableSliderModes=function(){this.sliderModes.clear();var a=[];a.push(this._getTimeSliderModeDataContract(d.essentials.TimeSliderMode.Cumulative));
a.push(this._getTimeSliderModeDataContract(d.essentials.TimeSliderMode.Extent));a.push(this._getTimeSliderModeDataContract(d.essentials.TimeSliderMode.Instant));this.sliderModes.addItems(a)};b.prototype._populateAvailableTimeIntervalUnits=function(){this.timeIntervalUnits.clear();var a=[];a.push(this._getTimeIntervalUnitDataContract(d.essentials.TimeUnits.UNIT_MILLISECONDS));a.push(this._getTimeIntervalUnitDataContract(d.essentials.TimeUnits.UNIT_SECONDS));a.push(this._getTimeIntervalUnitDataContract(d.essentials.TimeUnits.UNIT_MINUTES));
a.push(this._getTimeIntervalUnitDataContract(d.essentials.TimeUnits.UNIT_HOURS));a.push(this._getTimeIntervalUnitDataContract(d.essentials.TimeUnits.UNIT_DAYS));a.push(this._getTimeIntervalUnitDataContract(d.essentials.TimeUnits.UNIT_WEEKS));a.push(this._getTimeIntervalUnitDataContract(d.essentials.TimeUnits.UNIT_MONTHS));a.push(this._getTimeIntervalUnitDataContract(d.essentials.TimeUnits.UNIT_YEARS));a.push(this._getTimeIntervalUnitDataContract(d.essentials.TimeUnits.UNIT_DECADES));a.push(this._getTimeIntervalUnitDataContract(d.essentials.TimeUnits.UNIT_CENTURIES));
this.timeIntervalUnits.addItems(a)};b.prototype._getTimeSliderModeDataContract=function(a){var b={};b.mode=a.toString();switch(a){case d.essentials.TimeSliderMode.Instant:b.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-timeslider-mode-instant");break;case d.essentials.TimeSliderMode.Cumulative:b.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-timeslider-mode-cumulative");break;default:b.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-timeslider-mode-extent")}return b};
b.prototype._validateProfile=function(a){if(!a||null===a.mode||void 0===a.mode||!a.timeExtent||!a.initialTimeExtent)return!1;var b=a.mode,c,f,g;c=a.timeExtent.startTime.getTime();f=a.timeExtent.endTime.getTime();g=a.initialTimeExtent.startTime.getTime();a=a.initialTimeExtent.endTime.getTime();b===d.essentials.TimeSliderMode.Cumulative&&g!==c&&(g=c);b===d.essentials.TimeSliderMode.Instant&&a!==g&&(a=g);return this._validateSliderTimes(c,f,g,a)?!0:!1};b.prototype._getTimeIntervalUnitDataContract=function(a){var b=
{};b.timeIntervalUnit=a.toString();switch(a){case d.essentials.TimeUnits.UNIT_CENTURIES:b.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-unit-century");break;case d.essentials.TimeUnits.UNIT_DAYS:b.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-unit-day");break;case d.essentials.TimeUnits.UNIT_DECADES:b.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-unit-decade");
break;case d.essentials.TimeUnits.UNIT_HOURS:b.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-unit-hour");break;case d.essentials.TimeUnits.UNIT_MILLISECONDS:b.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-unit-millisecond");break;case d.essentials.TimeUnits.UNIT_MINUTES:b.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-unit-minute");break;case d.essentials.TimeUnits.UNIT_MONTHS:b.displayName=
this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-unit-month");break;case d.essentials.TimeUnits.UNIT_SECONDS:b.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-unit-second");break;case d.essentials.TimeUnits.UNIT_WEEKS:b.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-unit-week");break;default:b.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-unit-year")}return b};
b.prototype._formatMilliSecondsAsString=function(a,b,c){var d=this;a=parseInt(b-a,10);if(isNaN(a)||0>=a)return null;var f=new Date(a),g="",h=0,l=null,m=null,p=null,r=null,t=null,w=null;a=function(a,b){h>=c||0===h&&0===b||(g+=b+d.getResource(a)+" ",h++)};b=function(){var a=d.sliderViewModel.get(),b=f.getUTCMonth(),c=a.sliderMinHandleCurrentItem.get()&&new Date(a.sliderMinHandleCurrentItem.get().value),a=a.sliderMaxHandleCurrentItem.get()&&new Date(a.sliderMaxHandleCurrentItem.get().value);if(!isNaN(c.getTime())&&
!isNaN(a.getTime()))return c.getUTCDate()===a.getUTCDate()&&c.getUTCHours()===a.getUTCHours()&&c.getUTCMinutes()===a.getUTCMinutes()&&(28<=f.getUTCDate()&&(b+=1),12==b&&(l=f.getUTCFullYear()-1970+1,b=0),w=t=r=p=m=0),b}();a("language-timeslider-current-time-extent-info-year-abbr",null===l?f.getUTCFullYear()-1970:l);a("language-timeslider-current-time-extent-info-month-abbr",b);a("language-timeslider-current-time-extent-info-day-abbr",null===m?f.getUTCDate()-1:m);a("language-timeslider-current-time-extent-info-hour-abbr",
null===p?f.getUTCHours():p);a("language-timeslider-current-time-extent-info-minute-abbr",null===r?f.getUTCMinutes():r);a("language-timeslider-current-time-extent-info-second-abbr",null===t?f.getUTCSeconds():t);a("language-timeslider-current-time-extent-info-millisecond-abbr",null===w?f.getMilliseconds():w);return g.trim()?this.getResource("language-timeslider-current-time-extent-info").format(g.trim()):null};b.prototype._exportState=function(a){this.stopPlayTimeline();a.isActive=this.isActive.get();
a.selectedSliderId=this.selectedSliderId.get();a.showActionsContainer=this.showActionsContainer.get();a.sliderCurrentStartDate=this.sliderViewModel.get().sliderMinHandleCurrentItem.get().value;a.sliderCurrentEndDate=this.sliderViewModel.get().sliderMaxHandleCurrentItem.get()&&this.sliderViewModel.get().sliderMaxHandleCurrentItem.get().value;a.sliderMode=this.selectedSliderMode.get().toString();a.timeIntervalOverride=this.sliderViewModel.get().dateModeTimeInterval;a.timeIntervalUnitOverride=this.sliderViewModel.get().dateModeTimeIntervalUnit;
a.playbackDelaySeconds=this.playbackDelaySeconds.get();a.loopPlayback=this.loopPlayback.get()};b.prototype._applyState=function(a){var b=a.state,c=this.timeSliders.get().filter(function(a){return a.id===b.selectedSliderId})[0];if(this.isEnabled.get()){c||(this.app.trace.info("Saved Project: Time Slider profile with id {0} not found. Applying first available profile."),c=this.timeSliders.getAt(0));this.app.command("ActivateTimeSlider").execute();this.selectedTimeSlider.get()!==c&&this.selectedTimeSlider.set(c);
this.selectedSliderMode.set(b.sliderMode);this.timeInterval.get()!==b.timeIntervalOverride&&this.timeInterval.set(b.timeIntervalOverride);this.selectedTimeIntervalUnit.set(b.timeIntervalUnitOverride);this.showActionsContainer.set(b.showActionsContainer);this.playbackDelaySeconds.set(b.playbackDelaySeconds);this.loopPlayback.set(b.loopPlayback);var c=this._applyTimezoneOffset(new Date(b.sliderCurrentStartDate)),d=this._applyTimezoneOffset(new Date(b.sliderCurrentEndDate));this.sliderViewModel.get().range||
isNaN(c.getTime())?!this.sliderViewModel.get().range||isNaN(c.getTime())||isNaN(d.getTime())||(this.startDateViewModel.get()&&this.startDateViewModel.get().date.set(c),this.endDateViewModel.get()&&this.endDateViewModel.get().date.set(d)):this.startDateViewModel.get()&&this.startDateViewModel.get().date.set(c);b.timeSliderViewActive||this.app.command("HideTimeSlider").execute();b.timeSliderSettingsViewActive?this.app.command("ShowTimeSliderSettings").execute():this.app.command("HideTimeSliderSettings").execute();
b.isActive||this.app.command("DeactivateTimeSlider").execute()}else this.app.trace.info("Saved Project: Time Slider state could not be applied. Time Slider not enabled or no time slider profiles defined.");a.completePromise=Promise.resolve()};return b}(d.framework.ui.ViewModelBase);g.TimeSliderViewModel=b})(g.timeSlider||(g.timeSlider={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.attach=function(a){var b=this;d.prototype.attach.call(this,a);this.viewModel.activeFlyout.bind(this,function(a){var d=$(b.root).is(":visible");a?d?d&&(b.app.command("FocusOnFirstInputInView").execute(b),a={view:b,onOtherInteracted:function(a){return b._onOtherInteracted(a)}},b.app.command("TapToDismiss").execute(a),b.app.event("FlyoutActivated").publish(b)):
(b.app.command("ActivateView").execute(b.id),b.fallbackFlyout=a):a||null==b.fallbackFlyout||(d?(b.app.event("ToolbarFlyoutDeactivatedEvent").publish(b.id),b.fallbackFlyout=a):d||b.viewModel.activeFlyout.set(b.fallbackFlyout))})};b.prototype._onOtherInteracted=function(a){!1===$(a.target||a.srcElement).hasClass("multi-tool-button")&&(this.fallbackFlyout=null,this.viewModel.activeFlyout.set(null),this.app.event("FlyoutDeactivated").publish(this))};b.prototype.changeToolFlyout=function(a,b,e){var d=
this.viewModel.activeFlyout.get();this.viewModel.activeFlyout.set(null);setTimeout(function(){d.switchActiveFlyoutTool(e)},0);this.viewModel.transientActive&&!this.viewModel.transientActive.get()&&this.app.command("ToggleToolbar").execute()};return b}(d.framework.ui.ViewBase);f.ToolbarFlyoutView=g})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){d=d.essentialsHtmlViewer||(d.essentialsHtmlViewer={});d=d.mapping||(d.mapping={});d=d.modules||(d.modules={});d=d.toolbar||(d.toolbar={});d=d.transients||(d.transients={});d=d.TransientElementSource||(d.TransientElementSource={});d[d.View=0]="View";d[d.Widget=1]="Widget";d[d.ToolbarGroup=2]="ToolbarGroup"})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(g){function b(){g.apply(this,arguments);this._transientElementEntries=[];this._transientElements=[];this._previousStateName=this._previousFriendToolId=this._previousToolId=this._peekTimerHandle=null;this._toolChangePeekPeriod=100}__extends(b,g);b.prototype.initialize=function(a){var b=this;if(a&&a.isEnabled){g.prototype.initialize.call(this,a);this.app.event("ActiveToolChangedEvent").subscribe(this,this._handleActiveToolChangedEvent);
this.app.command("ActivateTransientElements").register(this,this._activateTransientElementsFor);this.app.command("DeactivateTransientElements").register(this,this._deactivateTransientElementsFor);if(a.transientElements){for(var e=0;e<a.transientElements.length;++e){var d=a.transientElements[e];this._transientElementEntries.push({stateName:d.stateName,viewId:d.viewId,widgetId:d.widgetId,region:d.region,items:d.items})}this.app.event("StateEnteredEvent").subscribe(this,function(a){for(var e=0;e<b._transientElementEntries.length;e++){var d=
b._transientElementEntries[e];if(a.stateDefinition.name===d.stateName){b._activateTransientElementsFor(d.stateName);break}}});this.app.event("StateExitedEvent").subscribe(this,function(a){for(var e=0;e<b._transientElementEntries.length;e++){var d=b._transientElementEntries[e];a.stateDefinition.name===d.stateName&&(b._previousStateName=a.stateDefinition.name,b._deactivateTransientElementsFor(d.stateName))}})}a.toolbarGroups&&this.app.toolbarGroupRegistry.registerToolbarGroups(a.toolbarGroups,this.libraryId)}};
b.prototype._findTransientElementsFor=function(a){for(var b=[],e=0;e<this._transientElements.length;++e){var d=this._transientElements[e];d&&d.originatorId===a&&b.push(d)}return b};b.prototype._findTransientElementEntriesFor=function(a){for(var b=[],e=0;e<this._transientElementEntries.length;++e){var d=this._transientElementEntries[e];d.stateName===a&&b.push(d)}return b};b.prototype._activateTransientElementsFor=function(a){for(var b=this._findTransientElementEntriesFor(a),e=0;e<b.length;++e){var d=
this._activateTransientElement(b[e],a);d&&(this._transientElements.push(d),this.app.event("TransientActivatedEvent").publish({stateName:b[e].stateName,widgetId:b[e].widgetId,viewId:b[e].viewId}))}this._setNeighbourTransientClass()};b.prototype._setNeighbourTransientClass=function(){var a=this;if(1<this._transientElements.length)for(var b=0;b<this._transientElements.length;b++){for(var e=this._transientElements.filter(function(e){return e.element.regionName===a._transientElements[b].element.regionName}),
d=!1,f=0;f<e.length;f++)e[f].element.viewModel.hasOwnProperty("items")||(d=!0);if(d)for(d=0;d<e.length;d++)e[b].element.viewModel.hasNeighbour&&e[b].element.viewModel.hasNeighbour.set(!0)}else for(b=0;b<this._transientElements.length;b++)this._transientElements[b].element.viewModel.hasNeighbour&&this._transientElements[b].element.viewModel.hasNeighbour.set(!1)};b.prototype._activateTransientElement=function(a,b){var e=this;if(a.viewId)return this.app.commandRegistry.command("ActivateView").execute(a.viewId),
{source:d.essentialsHtmlViewer.mapping.modules.toolbar.transients.TransientElementSource.View,originatorId:b,element:a.viewId};if(a.widgetId){for(var f=null,g=0;g<this.app.configModel.widgetConfigs.length;++g)if(this.app.configModel.widgetConfigs[g].id===a.widgetId){f=this.app.configModel.widgetConfigs[g];break}if(!f)return this.app.trace.warning("Could not activate transient toolbar widget '{0}'".format(a.widgetId)),null;var h=(this.app.viewManager.getViewById("TabbedToolbarView")||new d.framework.ui.ViewBase(this.app,
this.libraryId))._createWidgetViewFromConfig(f,this);h.regionName=a.region;d.framework.ui.animation.runWhenIdle(function(){return e._activateView(h,a)});return{source:d.essentialsHtmlViewer.mapping.modules.toolbar.transients.TransientElementSource.Widget,originatorId:b,element:h}}};b.prototype._activateView=function(a,b){if(this.app.viewManager.getViewById(a.id)){var e=!1,d=this.app.viewManager.getExistingRegionByName(b.region);d&&d.views&&0<d.views.filter(function(a){return a.isActive}).length&&
(e=!0);b.items&&(d=new f.infrastructure.toolbarGroup.ToolbarGroup(this.app,this.libraryId,b),e?a.viewModel.items.addItems(d.items.get()):a.viewModel.items.set(d.items.get()),this.app.command("ResizeShell").execute());e&&b.items||this.app.commandRegistry.command("ActivateView").execute(a.id)}};b.prototype._deactivateTransientElementsFor=function(a){a=this._findTransientElementsFor(a);for(var b=0;b<a.length;++b){var e=a[b];d.framework.utils.ArrayUtils.removeItem(this._transientElements,e);this._deactivateTransientElement(e)}0===
this._transientElements.length&&this.app.event("TransientsDeactivatedEvent").publish();this._setNeighbourTransientClass()};b.prototype._deactivateTransientElement=function(a){switch(a.source){case d.essentialsHtmlViewer.mapping.modules.toolbar.transients.TransientElementSource.Widget:this.app.viewManager.destroyView(a.element)}};b.prototype._handleActiveToolChangedEvent=function(a){var b=this,e=a.tool?a.tool.id||a.tool.name:null;a=a.previousTool?a.previousTool.id||a.previousTool.name:null;if(e||this._peekTimerHandle){clearTimeout(this._peekTimerHandle);
this._peekTimerHandle=null;if(e&&this._previousToolId){var d=this._findTransientElementEntriesFor(this._previousStateName);if(d)for(var f=0;f<d.length;++f);if(-1<[].indexOf(e)){this._previousFriendToolId=e;0===this._transientElements.length&&this._activateTransientElementsFor(this._previousStateName);return}}this._handleToolChangeTransients.apply(this,[this._previousToolId,e])}else this._peekTimerHandle=setTimeout(function(){b._handleToolChangeTransients.apply(b,[b._previousToolId,e])},this._toolChangePeekPeriod);
a&&a!==this._previousFriendToolId?this._previousToolId=a:this._previousFriendToolId=a};b.prototype._handleToolChangeTransients=function(a,b){a&&(this._previousToolId=null);this._previousFriendToolId&&a&&(this._deactivateTransientElementsFor(this._previousStateName),this._previousFriendToolId=null,this.app.command("SetActiveTool").execute(a))};return b}(d.framework.application.ModuleBase);g.ToolbarModuleBase=m})(g.toolbar||(g.toolbar={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a)};return b}(d.ToolbarModuleBase);d.CompactToolbarModule=f})(d.toolbar||(d.toolbar={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(){f.apply(this,arguments);this._collapsibleAreaWidth=null;this._transientRegionId="CompactToolbarTransientRegion";this._toolChangePeekPeriod=110}__extends(b,f);b.prototype.attach=function(a){var b=this;f.prototype.attach.call(this,a);if(!1!==this.viewModel.isEnabled.get()){this.viewModel.activeTool.bind(this,function(a){return b._resizeView()});this.viewModel.backArrowVisible.bind(this,function(a){return b._resizeView()});
this.viewModel.forwardArrowVisible.bind(this,function(a){return b._resizeView()});this.viewModel.registerCompactToolbarViewId(this.id);if(this.app.site&&this.app.site.isInitialized)this.viewModel.isExpanded.get()&&this._assignFloatingAreaWidth(),this._resizeView(),this.toggleScrollArrows();else this.app.event("SiteInitializedEvent").once(this,function(){b.viewModel.isExpanded.get()&&b._assignFloatingAreaWidth();b._resizeView();b.toggleScrollArrows()});this.app.event("RegionActivatedEvent").subscribe(this,
this._handleTransientActivated);this.app.event("RegionDeactivatedEvent").subscribe(this,this._handleTransientDeactivated);this.app.event("ToggleButtonStateChangedEvent").subscribe(this,function(a){return b._resizeView()});this.app.command("ToggleToolbar").register(this,function(){return b._handleToolbarToggleStateChange()});this.app.command("OpenToolbar").register(this,function(){return b._handleToolbarToggleStateChange()});this.app.command("CloseToolbar").register(this,function(){return b._handleToolbarToggleStateChange()});
this.viewModel.isExpanded.bind(this,this.handleIsExpandedChange)}};b.prototype.handleToolbarButtonClicked=function(){var a=this;this.viewModel.activeTool.get()?(this.viewModel.activeTool.set(null),this.app.command("ClearActiveTool").execute(),this.app.command("CloseToolbar").execute(),setTimeout(function(){a.app.command("ClearActiveTool").execute()},this._toolChangePeekPeriod)):this.viewModel.isExpanded.get()?this.app.command("CloseToolbar").execute():this.app.command("OpenToolbar").execute();this.viewModel.activeFlyout.set(null)};
b.prototype.handleToolbarItemClick=function(a,b,e){e.execute();!1===this.viewModel.transientActive.get()&&this.app.command("CloseToolbar").execute()};b.prototype.handleOpenToolFlyout=function(a,b,e){e.toggleFlyout();this.viewModel.activeFlyout.get()===e?this.viewModel.activeFlyout.set(null):(this.viewModel.activeFlyout.get()&&this.viewModel.activeFlyout.get().toggleFlyout(),a=$(this.collapsibleAreaElement).width(),$(b).position().left>a/2?(this.viewModel.multitoolFloatRight.set(!0),this.viewModel.multitoolFloatLeft.set(!1)):
(this.viewModel.multitoolFloatRight.set(!1),this.viewModel.multitoolFloatLeft.set(!0)),this.viewModel.activeFlyout.set(e))};b.prototype.handleScrollBack=function(a,b,e){a=$(this.floatingAreaElement);a.scrollLeft(a.scrollLeft()-$(this.expandedElement).width()-$(this.backArrowElement).width());this.toggleScrollArrows();this.viewModel.backArrowVisible.get()&&a.scrollLeft(a.scrollLeft()+$(this.forwardArrowElement).width())};b.prototype.handleScrollForward=function(a,b,e){a=$(this.floatingAreaElement);
a.scrollLeft(a.scrollLeft()+$(this.expandedElement).width()-$(this.forwardArrowElement).width());this.toggleScrollArrows();this.viewModel.forwardArrowVisible.get()&&a.scrollLeft(a.scrollLeft()-$(this.backArrowElement).width())};b.prototype.handleIsExpandedChange=function(a){var b=this;a?(this.app.event("FlyoutActivated").publish(this),a={view:this,onOtherInteracted:function(a){return b._onOtherInteracted(a)}},this.app.command("TapToDismiss").execute(a)):this.app.event("FlyoutDeactivated").publish(this)};
b.prototype._onOtherInteracted=function(a){!1===this.viewModel.transientActive.get()&&!0===this.viewModel.isExpanded.get()&&this.app.command("CloseToolbar").execute()};b.prototype._resizeView=function(){!1===this.viewModel.transientActive.get()?($(this.expandedElement).width(this._collapsibleAreaWidth),$(this.collapsibleAreaElement).width(this._collapsibleAreaWidth),this._resizeEntireToolArea()):(this._resizeTransientToolArea(),$(this.expandedElement).width($(this.transientElement).width()))};b.prototype._handleTransientActivated=
function(a){a.name===this._transientRegionId&&(this.viewModel.transientActive.set(!0),a=this.app.toolRegistry.getActiveTool())&&(this.viewModel.activeTool.set(a),this.app.command("OpenToolbar").execute())};b.prototype._handleTransientDeactivated=function(a){var b=this;a.name===this._transientRegionId&&setTimeout(function(){b.app.toolRegistry.getActiveTool()?b._resizeView():(b.viewModel.activeTool.set(null),b.viewModel.transientActive.set(!1),b.app.command("CloseToolbar").execute())},this._toolChangePeekPeriod)};
b.prototype._resizeEntireToolArea=function(){var a=$(this.toolbarParentElement).children(),b=$(this.floatingAreaElement).find("div.toolbar-group"),e=0;$(a).each(function(a,b){e+=Math.ceil($(b).outerWidth(!0))});isNaN(parseFloat($(b).css("padding")))?(isNaN(parseFloat($(b).css("padding-left")))||(e+=parseFloat($(b).css("padding-left"))),isNaN(parseFloat($(b).css("padding-right")))||(e+=parseFloat($(b).css("padding-right")))):e+=2*parseFloat($(b).css("padding"));isNaN(parseFloat($(b).css("border")))?
(isNaN(parseFloat($(b).css("border-left-width")))||(e+=parseFloat($(b).css("border-left-width"))),isNaN(parseFloat($(b).css("border-right-width")))||(e+=parseFloat($(b).css("border-right-width")))):e+=2*parseFloat($(b).css("border"));$(b).css("width",e)};b.prototype._resizeTransientToolArea=function(){var a=this;setTimeout(function(){var b=$(a.transientElement).find("li"),e=$(a.collapsibleAreaElement);0===b.length&&(a.viewModel.transientActive.set(!1),a.app.command("CloseToolbar").execute());var d=
0;$(b).each(function(a,b){d+=Math.ceil($(b).outerWidth(!0))});isNaN(parseFloat($(e).css("padding")))?(isNaN(parseFloat($(e).css("padding-left")))||(d+=parseFloat($(e).css("padding-left"))),isNaN(parseFloat($(e).css("padding-right")))||(d+=parseFloat($(e).css("padding-right")))):d+=2*parseFloat($(e).css("padding"));isNaN(parseFloat($(e).css("border")))?(isNaN(parseFloat($(e).css("border-left-width")))||(d+=parseFloat($(e).css("border-left-width"))),isNaN(parseFloat($(e).css("border-right-width")))||
(d+=parseFloat($(e).css("border-right-width")))):d+=2*parseFloat($(e).css("border"));$(e).css("width",d)},0)};b.prototype._assignFloatingAreaWidth=function(){if(null===this._collapsibleAreaWidth&&this.viewModel.isExpanded.get()){var a=$(this.toolbarParentElement).children(),b=Math.ceil($(a).outerWidth(!0)),e=$(this.forwardArrowElement).outerWidth(!0),e=b*this.viewModel.toolbarVisibleTools.get()+e,a=b*a.length;this._collapsibleAreaWidth=a<=e?a:e}};b.prototype._handleToolbarToggleStateChange=function(){var a=
this;this.app.configuration.mobileMode?d.framework.ui.animation.runWhenIdle(function(){a._assignFloatingAreaWidth();a._resizeView();a.toggleScrollArrows()}):(this._assignFloatingAreaWidth(),this._resizeView(),this.toggleScrollArrows())};b.prototype.toggleScrollArrows=function(){if(this.floatingAreaElement){var a=$(this.floatingAreaElement).scrollLeft(),b=this.floatingAreaElement,b=b.scrollWidth-b.clientWidth;0===a?this.viewModel.backArrowVisible.set(!1):this.viewModel.backArrowVisible.set(!0);a>=
b?this.viewModel.forwardArrowVisible.set(!1):this.viewModel.forwardArrowVisible.set(!0)}};return b}(d.framework.ui.ViewBase);f.CompactToolbarView=g})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.isEnabled=new Observable(!0);this.toggleCommandDisablesView=new Observable(!1);this.isExpanded=new Observable(!1);this.activeTool=new Observable(null);this.activeToolName=new Observable(null);this.activeToolIcon=new Observable(null);this.activeFlyout=new Observable(null);this.transientActive=new Observable(!1);this.toolbarGroup=new Observable(null);this.backArrowVisible=new Observable(!1);
this.forwardArrowVisible=new Observable(!0);this.toolbarVisibleTools=new Observable(4);this.toolbarOpenByDefault=new Observable(!1);this.multitoolFloatLeft=new Observable(!0);this.multitoolFloatRight=new Observable(!1);this._toolbarGroupId="compactToolbar";this._compactToolbarViewId=null}__extends(b,d);b.prototype.initialize=function(a){var b=this;this.toolbarGroup.set(this.app.toolbarGroupRegistry.getToolbarGroupById(this._toolbarGroupId));null===this.toolbarGroup.get()?this.isEnabled.set(!1):(!1!==
a.registerToggleCommand&&this.isEnabled.get()&&(this.app.command("ToggleToolbar").register(this,this._executeToggleToolbar,this._isPresent),this.app.command("OpenToolbar").register(this,this._executeOpenToolbar,this._isClosed),this.app.command("CloseToolbar").register(this,this._executeCloseToolbar,this._isOpen)),this.app.event("ActiveToolChangedEvent").subscribe(this,function(a){a.tool&&b._handleUpdateActiveTool(b.toolbarGroup.get().items.get(),a.tool,!0);a.previousTool&&b._handleUpdateActiveTool(b.toolbarGroup.get().items.get(),
a.previousTool,!1)}),a.toolbarVisibleTools?this.toolbarVisibleTools.set(a.toolbarVisibleTools):this.toolbarVisibleTools.set(this.toolbarGroup.get().items.length()),a.toggleCommandDisablesView&&(this.toggleCommandDisablesView.set(!0),this.isExpanded.set(!0)),a.toolbarOpenByDefault&&setTimeout(function(){b.app.command("ToggleToolbar").execute()},0),this.activeTool.bind(this,function(a){return a?b._assignProperNameToTool(a):b._clearToolInfo()}))};b.prototype.registerCompactToolbarViewId=function(a){a&&
!this._compactToolbarViewId&&(this._compactToolbarViewId=a)};b.prototype._executeToggleToolbar=function(){if(this.toggleCommandDisablesView.get()){var a=this.app.viewManager.getViewById(this._compactToolbarViewId);this.app.command("ToggleView").execute(a.id)}else this.isExpanded.set(!this.isExpanded.get())};b.prototype._executeOpenToolbar=function(){if(this.toggleCommandDisablesView.get()){var a=this.app.viewManager.getViewById(this._compactToolbarViewId);this.app.command("ActivateView").execute(a.id)}else this.isExpanded.set(!0)};
b.prototype._executeCloseToolbar=function(){if(this.toggleCommandDisablesView.get()){var a=this.app.viewManager.getViewById(this._compactToolbarViewId);a.isActive&&this.app.command("DeactivateView").execute(a.id)}else this.isExpanded.set(!1)};b.prototype._isPresent=function(){return this.isEnabled.get()};b.prototype._isOpen=function(){if(this.toggleCommandDisablesView.get()){var a=this.app.viewManager.getViewById(this._compactToolbarViewId);return a?a.isActive:null}return this.isExpanded.get()};b.prototype._isClosed=
function(){if(this.toggleCommandDisablesView.get()){var a=this.app.viewManager.getViewById(this._compactToolbarViewId);return a?!a.isActive:null}return!this.isExpanded.get()};b.prototype._handleUpdateActiveTool=function(a,b,e){var d=this;this.activeFlyout.set(null);if(b&&a){var f=!1;a.forEach(function(a){"tool"===a.type?a.tool?b&&a.tool.command&&b.command&&a.tool.command===b.command&&a.tool.drawMode===b.drawMode&&(f=!0,e?(a.activate(),d.activeTool.set(a.tool)):(a.deactivate(),d.activeTool.set(null))):
!1===d.transientActive.get()&&d.activeTool.set(null):"toolbarGroup"!==a.type&&"flyout"!==a.type||!a.items.getLength()||d._handleUpdateActiveTool(a.items.get(),b,e)});f||this.activeTool.set(e?b:null)}};b.prototype._assignProperNameToTool=function(a){if(!this.activeToolName.get()){for(var b=0;b<this.toolbarGroup.get().items.length();b++){var e=this.toolbarGroup.get().items.getAt(b);if("flyout"===e.type||"group"===e.type)for(var d=0;d<e.items.length();d++){var f=e.items.getAt(d);f.id===a.name&&(this.activeToolName.set(f.name.get()),
this.activeToolIcon.set(f.iconUri.get()))}e.id===a.name&&(this.activeToolName.set(e.name.get()),this.activeToolIcon.set(e.iconUri.get()))}this.activeToolIcon.get()||this.activeToolIcon.set(this.app.toolRegistry.tools[a.name]?this.app.toolRegistry.tools[a.name].iconUri:null);this.activeToolName.get()||this.activeToolName.set(a.name)}};b.prototype._clearToolInfo=function(){this.activeToolName.set(null);this.activeToolIcon.set(null)};return b}(d.framework.ui.ViewModelBase);f.CompactToolbarViewModel=
g})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.failedServices=new ObservableCollection;this.hasError=new Observable(!1)}__extends(b,d);return b}(d.framework.ui.ViewModelBase);f.ServiceLayersFailureViewModel=g})(f.site||(f.site={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,b){f.call(this,a,b);a.event("SiteServiceLayersFailedEvent").subscribe(this,this._serviceLayersFailed)}__extends(b,f);b.prototype._serviceLayersFailed=function(a){this.viewModel.failedServices.clear();this.viewModel.hasError.set(!1);for(var b=0;b<a.length;b++){var e=a[b];if(e.failureAction===d.essentials.FailureAction.WARN||e.failureAction===d.essentials.FailureAction.ERROR)e.failureAction===d.essentials.FailureAction.ERROR&&
this.viewModel.hasError.set(!0),this.viewModel.failedServices.addItem({name:a[b].displayName})}0<this.viewModel.failedServices.length()&&(this.title.set(this.app.getResource(this.libraryId,"language-site-service-layers-failure-view-title")),this.app.viewManager.activateView(this))};b.prototype.handleClickOk=function(a,b,e){this.app.viewManager.deactivateView(this)};return b}(d.framework.ui.ViewBase);f.ServiceLayersFailureView=g})(f.site||(f.site={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping=
{}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(g){function b(){g.apply(this,arguments);this.proxyUri=this.siteUri="";this.essentialsSite=null}__extends(b,g);b.prototype.initialize=function(a){g.prototype.initialize.call(this,a);this.siteUri=a.siteUri;this.proxyUri=this.app.configuration.proxyUri||null;this.app.command("InitializeSite").register(this,this._onInitializeSite);this.app.event("SiteInitializedEvent").once(this,this._handleSiteInitializedEvent);this.app.event("SignInEvent").subscribe(this,
this._onSignIn)};b.prototype._onInitializeSite=function(a){var b=this,e=this.app.makeAbsolute(this.siteUri);this.app.site=new d.essentials.Site(e,a);this.app.event("SiteInitializingEvent").publish(this.app.site);/GeocortexApp/.test(navigator.userAgent)||this.app.isNative.get()?this._setNativeProperties():this.app.isNative.bind(this,function(a){a&&b._setNativeProperties()});this.app.isOffline.get()&&(this.app.site.url=e);this.proxyUri&&(esri.config.defaults.io.proxyUrl=this.proxyUri);dojo.connect(this.app.site,
"onInitializationFailed",function(a){var e=b.getResource("language-site-initialization-failure");a.message&&(e+=b.getResource("language-site-initialization-failure-explanation").format(a.message));b.app.nativeManager.nativeInitialized&&0===b.app.offlineManager.getOfflineMaps().length&&(e+=b.getResource("language-site-initialization-failure-native-available"));b.app.trace.error(e);a&&403===a.code?b.app.event("SiteAuthorizationFailedEvent").publish(a):(b.app.event("SiteInitializationFailedEvent").publish(a),
b.app.command("Alert").execute(e))});dojo.connect(this.app.map,"onLoad",function(a){b._overrideGeometryService();setTimeout(function(){b.app.event("SiteInitializedEvent").publish(b.app.site)},750)});dojo.connect(this.app.site,"onLayerLoad",function(a){b.app.event("SiteLayerLoad").publish(a);b.app.event("SiteLayerLoadedEvent").publish(a)});dojo.connect(this.app.site,"onLayerLoadError",function(a){b.app.event("SiteLayerLoadError").publish(a);b.app.event("SiteLayerLoadFailedEvent").publish(a)});dojo.connect(this.app.site,
"onServiceLayersLoaded",function(a){b.app.event("SiteServiceLayersLoaded").publish(a);b.app.event("SiteServiceLayersLoadedEvent").publish(a);b._checkForFailedServices(a)});dojo.connect(this.app.site,"onSignIn",function(a){b.app.event("SignInEvent").publish(a)});dojo.connect(this.app.site,"onSignOut",function(){b.app.event("SignOutEvent").publish()});dojo.connect(this.app.site,"onUserSignInCancelled",function(a){b.app.event("UserSignInCancelledEvent").publish(a)});this.app.site.configPreprocessor=
function(a){return b._processSiteConfig(a)};this.app.trace.info("Loading site {0}.".format(this.app.site.url));this.app.site.deepInitialize=!0;this.app.site.initialize()};b.prototype._handleSiteInitializedEvent=function(){this.app.trace.info("Essentials REST API version {0}.".format(this.app.site.currentVersion));for(var a=0;a<this.app.site.essentialsMap.mapServices.length;a++)if(this.app.site.essentialsMap.mapServices[a]._needsProxy){this.app.trace.info("Essentials security detected. The proxy page will be used.");
break}};b.prototype._onSignIn=function(){var a=this,b=this.getResource("language-site-signing-in"),e=new f.infrastructure.commandArgs.AddStatusArgs(b);e.timeoutMS=0;e.id=d.framework.utils.alphaNumericToken();this.app.command("AddStatus").execute(e);this.app.event("SiteInitializedEvent").once(this,function(){a.app.command("RemoveStatus").execute(e.id)})};b.prototype._checkForFailedServices=function(a){if(a.essentialsMap&&a.essentialsMap.mapServices){for(var b=[],e=0;e<a.essentialsMap.mapServices.length;e++){var d=
a.essentialsMap.mapServices[e];d.initializationFailure&&b.push(d)}0<b.length&&this.app.event("SiteServiceLayersFailedEvent").publish(b)}};b.prototype._setNativeProperties=function(){var a=window.location.toString(),b=a.indexOf("#");-1!==b&&(a=a.substring(0,b));a=encodeURIComponent(a);this.app.site.signInRedirectUri="gcx://viewer?url="+a;this.app.site.signOutRedirectUri="gcx://viewer?url="+a};b.prototype._processSiteConfig=function(a){if(a&&!(a.geometryEndpoints&&0<a.geometryEndpoints.length)){var b=
this.app.configuration.geometryServiceUrl||f.infrastructure.GeometryUtils.DEFAULT_GEOMETRY_SERVICE_URI;a.hasGeometryEndpoints=!0;a.geometryEndpoints=[{id:"0",displayName:null,serviceType:"ArcGisGeometry",connectionString:"url={0}".format(b),properties:[],extensions:[]}]}};b.prototype._overrideGeometryService=function(){var a=d.framework.utils.ArrayUtils.firstOrDefault(this.app.site.geometryEndpoints),b=a?a.geometryServiceUrl:null;this.app.configuration&&(this.app.configuration.geometryServiceUrl=
b||this.app.configuration.geometryServiceUrl||f.infrastructure.GeometryUtils.DEFAULT_GEOMETRY_SERVICE_URI,esri.config.defaults.geometryService=new esri.tasks.GeometryService(this.app.configuration.geometryServiceUrl),a&&a.geometryServiceToken&&(this.app.configuration.geometryServiceToken=a.geometryServiceToken))};return b}(d.framework.application.ModuleBase);g.SiteModule=m})(g.site||(g.site={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,b){d.call(this,a,b);this.tryAgainAction=null;a.event("UserSignInCancelledEvent").subscribe(this,this._signInCancelled)}__extends(b,d);b.prototype._signInCancelled=function(a){this.title.set(this.app.getResource(this.libraryId,"language-site-log-on-required-title"));this.tryAgainAction=a.tryAgainAction;this.app.viewManager.activateView(this)};b.prototype.handleClickTryAgain=function(a,b,e){this.tryAgainAction&&
this.tryAgainAction()};return b}(d.framework.ui.ViewBase);f.SignInErrorView=g})(f.site||(f.site={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);return b}(d.framework.ui.ViewBase);f.StatusIndicatorView=g})(f.status||(f.status={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);return b}(d.framework.application.ModuleBase);f.TempModule=g})(f.temp||(f.temp={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(g){function b(a,b){g.call(this,a,b);this.messageRegionName="StatusIndicatorMessageRegion";this.statusViewName="StatusIndicatorView";this.lastTestAddArgs=null;this.viewInstanceCounter=0;this._regionNames=new f.infrastructure.Dictionary;this.app.command("AddStatus").register(this,this.addStatus);this.app.command("UpdateStatus").register(this,this.updateStatus);this.app.command("PulseStatus").register(this,this.pulseStatus);
this.app.command("RemoveStatus").register(this,this.removeStatus);this.app.event("ViewUnhostedEvent").subscribe(this,this.viewUnhostedHandler)}__extends(b,g);b.prototype.initialize=function(a){g.prototype.initialize.call(this,a);a.busyIcon||(a.busyIcon="Resources/Images/loader-small.gif");this._defaultCloseTitle=this.getResource("language-common-close")};b.prototype.addStatus=function(a){a="string"===typeof a||a instanceof String?new d.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(a):
a;var b=!0,e=a.regionName||this.messageRegionName,f=this.app.viewManager.getExistingRegionByName(e);f&&(f=f.ownerView)&&f.configuration&&"boolean"===typeof f.configuration.showStatusMessages&&(b=f.configuration.showStatusMessages);if(b){this._trackRegion(e);e==this.messageRegionName&&this.app.command("ActivateView").execute(this.statusViewName);var g=a.id?a.id:"StatusMessageView"+this.viewInstanceCounter++,f=(b=this.app.viewManager.getViewById(g))?b.viewModel:null;b||(b=this.createView("StatusMessageView",
g,e));a.id=g;f||(f=new d.essentialsHtmlViewer.mapping.modules.status.StatusMessageViewModel(this.app,this.libraryId),b.attach(f));f.text.set(a.text);f.closeTitle.set(a.closeTitle||this._defaultCloseTitle);f.imageUri.set(a.imageUri);f.imageClass.set(a.imageClass);f.statusClass.set(a.statusClass);f.userClosedCallback=a.userClosedCallback;a.showBusyIcon&&f.imageUri.set(this.configuration.busyIcon);f.timer?f.timer.reset():a.timeoutMS&&0<a.timeoutMS&&(f.timer=new d.framework.utils.TimeDelayedAction(a.timeoutMS,
function(){this.removeStatus(g)},this),f.timer.start())}};b.prototype.updateStatus=function(a){a="string"===typeof a||a instanceof String?new d.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(a):a;var b=a.regionName||this.messageRegionName;b==this.messageRegionName&&this.app.command("ActivateView").execute(this.statusViewName);var e=null;a.id?e=this.app.viewManager.getViewById(a.id):(b=this.app.viewManager.getExistingRegionByName(b),1<=b.views.length&&(e=b.views[b.views.length-
1]));e&&(e=e.viewModel)&&(a.text&&e.text.set(a.text),a.closeTitle&&e.closeTitle.set(a.closeTitle),a.imageUri&&e.imageUri.set(a.imageUri),a.imageClass&&e.imageClass.set(a.imageClass),a.statusClass&&e.statusClass.set(a.statusClass),"function"===typeof a.userClosedCallback&&(e.userClosedCallback=a.userClosedCallback),e.timer&&e.timer.reset())};b.prototype.pulseStatus=function(a){a&&(a=this.app.viewManager.getViewById(a))&&(a=a.viewModel)&&a.timer&&a.timer.reset()};b.prototype.removeStatus=function(a){var b=
null;a?b=this.app.viewManager.getViewById(a):(a=this.app.viewManager.getExistingRegionByName(this.messageRegionName),1<=a.views.length&&(b=a.views[a.views.length-1]));b&&this.app.viewManager.destroyView(b)};b.prototype.createView=function(a,b,e){return this.app.viewManager.createView({viewId:b,typeName:"geocortex.essentialsHtmlViewer.mapping.modules.status."+a,markupResource:this.libraryId+"/modules/Status/"+a+".html",isVisible:!0,libraryId:this.libraryId,regionName:e})};b.prototype.viewUnhostedHandler=
function(a){var b=a.region;a=a.view;this._regionNames.containsKey(b.name)&&(a&&a.viewModel&&a.viewModel.timer&&a.viewModel.timer.stop(),0==b.views.length&&(this._regionNames.remove(b.name),b.name==this.messageRegionName&&this.app.command("DeactivateView").execute(this.statusViewName)))};b.prototype._trackRegion=function(a){this._regionNames.set(a,a)};return b}(d.framework.application.ModuleBase);g.StatusModule=m})(g.status||(g.status={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.text=new Observable;this.closeTitle=new Observable;this.imageUri=new Observable;this.imageClass=new Observable;this.statusClass=new Observable;this.userClosedCallback=null}__extends(b,d);return b}(d.framework.ui.ViewModelBase);f.StatusMessageViewModel=g})(f.status||(f.status={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.attach=function(a){d.prototype.attach.call(this,a);if(a){this.updateClassBinding(a.statusClass.get());var b=a.statusClass.bind(this,this.updateClassBinding);this.addDisposableBinding(a.statusClass,b)}};b.prototype.updateClassBinding=function(a){a=a||"";var b=this._previousClass||"";a&&a!==b&&(this._previousClass=a,dojo.removeClass(this.containerElement,b),
dojo.addClass(this.containerElement,a))};b.prototype.handleClickClose=function(a,b,e){this.app.viewManager.destroyView(this);e&&e.userClosedCallback&&e.userClosedCallback.call(this,this)};return b}(d.framework.ui.ViewBase);f.StatusMessageView=g})(f.status||(f.status={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);return b}(d.framework.ui.ViewBase);f.TempView=g})(f.temp||(f.temp={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);return b}(d.framework.ui.ViewModelBase);f.TempViewModel=g})(f.temp||(f.temp={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.getStateFilter=function(){return{isOpen:!0,currentTab:!0}};b.prototype.exportState=function(){var a=this,b={isOpen:!1,currentTab:null};return Promise["try"](function(){a.app.command("_ExportTabbedToolbarState").execute(b);return b})};b.prototype.applyState=function(a){var b=this,e={state:a,completePromise:null};return this.app.waitUntilAllLibrariesLoaded().then(function(){b.app.command("_ApplyTabbedToolbarState").execute(e);
return e.completePromise})};return b}(d.ToolbarModuleBase);d.TabbedToolbarModule=f})(d.toolbar||(d.toolbar={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.handleClickToggleToolbar=function(a,b,e){this.app.command("ToggleToolbar").execute();return!1};return b}(d.framework.ui.ViewBase);f.ToolbarButtonView=g})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,b){d.call(this,a,b);this.tileElements=[];this.app.event("ViewActivatedEvent").subscribe(this,this._onViewActivatedEvent);this.app.event("ViewDeactivatedEvent").subscribe(this,this._onViewDeactivatedEvent)}__extends(b,d);b.prototype._onViewActivatedEvent=function(a){if(this.root&&a.id){if(this.viewModel&&this.viewModel.hostedViews&&!this.viewModel.hostedViews.contains(a))return!1;this.handleViewActivated(a)}};
b.prototype._onViewDeactivatedEvent=function(a){if(this.root&&a.id){if(this.viewModel&&this.viewModel.hostedViews&&!this.viewModel.hostedViews.contains(a))return!1;this.handleViewDeactivated(a)}};b.prototype.handleViewActivated=function(a){for(var b=0;b<this.tileElements.length;++b)dojo.removeClass(this.tileElements[b],"tb-view-active");a=".{0}".format(a.id);(a=dojo.query(a,this.root)[0])&&dojo.addClass(a,"tb-view-active")};b.prototype.handleViewDeactivated=function(a){a=".{0}".format(a.id);(a=dojo.query(a,
this.root)[0])&&dojo.removeClass(a,"tb-view-active")};b.prototype.handleViewTileClick=function(a,b,e){this.app.command("ActivateView").execute(e.id);this.app.event("ToolbarViewTilePressedEvent").publish(e.id);return!1};return b}(d.framework.ui.ViewBase);f.ToolbarManagedViewsView=g})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,b){var e=this;d.call(this,a,b);this.hostedViews=new ObservableCollection;this.ordering={};this.managedRegionName="BottomPanelViewContainerRegion";this.app.event("ViewHostedEvent").subscribe(this,function(a){var b=a.view;a=a.region;b&&b.isManaged&&a.name===e.managedRegionName&&e._addOrderedView(b)});this.app.event("ViewUnhostedEvent").subscribe(this,function(a){var b=a.view;a=a.region;b&&b.isManaged&&a.name===
this.managedRegionName&&this.hostedViews.removeItem(b)});var g=this.app.event("ViewActivatedEvent").subscribe(this,function(a){if(a&&a instanceof f.ToolbarManagedViewsView){if(e.app.event("ViewActivatedEvent").unsubscribe(g),e.lastActivatedManagedView)var b=dojo.connect(a,"attach",function(){dojo.disconnect(b);a.handleViewActivated(e.lastActivatedManagedView)})}else a&&a.isManaged&&(e.lastActivatedManagedView=a)})}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,
a);a.hasOwnProperty("ordering")&&(this.ordering=a.ordering)};b.prototype._addOrderedView=function(a){if(this.ordering){var b=a.id;if(b)if(b=this.ordering.hasOwnProperty(b)?+this.ordering[b]:null,null===b||void 0===b)this.hostedViews.addItem(a);else{for(var e=!1,d=0;d<this.hostedViews.getLength();++d){var f=this.hostedViews.getAt(d),f=this.ordering.hasOwnProperty(f.id)?+this.ordering[f.id]:null;if(null===f||b<=f){e=!0;this.hostedViews.insertItem(d,a);break}}e||this.hostedViews.addItem(a)}else this.hostedViews.addItem(a)}else this.hostedViews.addItem(a)};
return b}(d.framework.ui.ViewModelBase);f.ToolbarManagedViewsViewModel=g})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.title=new Observable("");this.tooltip=new Observable("");this.group=new Observable(null);this.isVisible=new Observable(!1);this.isActive=new Observable(!1)}__extends(b,d);return b}(d.framework.ui.ViewModelBase);f.ToolbarTabViewModel=g})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this._longPressTimer=null;this._pressLengthMs=2E3;this.flyoutRegion=this.previousActiveToolElement=this._firstEvent=null}__extends(b,d);b.prototype.manageToolVisuals=function(a,b){if(b&&a)for(var e=0;e<a.length;e++){var d=a[e];d&&("tool"!==d.type||d.disabled.get()?"toolbarGroup"!==d.type&&"flyout"!==d.type||!d.items.getLength()||this.manageToolVisuals(d.items.get(),b):d.tool.drawMode===
b.drawMode&&d.tool.command===b.command&&(b.isActive?d.activate():d.deactivate()))}};b.prototype.attach=function(a){var b=this;a.toolbarGroups&&(d.prototype.attach.call(this,a),a.registerTabbedToolbarViewId(this.id),a&&a.toolbarGroups&&!a.toolbarGroups.isEmpty()&&this.app.event("ActiveToolChangedEvent").subscribe(this,function(a){a.tool&&b.manageToolVisuals(b.viewModel.toolbarGroups.get(),a.tool);a.previousTool&&b.manageToolVisuals(b.viewModel.toolbarGroups.get(),a.previousTool)}),this.app.event("ActiveToolChangedEvent").subscribe(this,
function(a){b.isActive&&null!==a.tool&&b.app.configuration.mobileMode&&b.app.command("DataFrameLower").execute(b.id)}))};b.prototype.handleClickToggleToolbar=function(a,b,e){this.viewModel.toolbarGroups&&0<this.viewModel.toolbarGroups.getLength()&&(this.app.command("ActivateView").execute(this.id),this.app.event("ApplicationResizedEvent").publish())};b.prototype.handleToolbarItemClick=function(a,b,e){e.execute()};b.prototype.handleTabClick=function(a,b,e){this.viewModel.setCurrentTab(e)};b.prototype.closeToolbar=
function(a,b,e){this.app.viewManager.deactivateView(this);this.app.command("RecenterMapOnNextMapResize").execute();this.app.event("ApplicationResizedEvent").publish()};b.prototype.toggleToolbar=function(a,b,e){this.app.configuration.mobileMode?this.app.command("ActivateView").execute(this.id):this.app.command("ToggleToolbar").execute();return!1};b.prototype.resolveWidget=function(a,b){d.prototype.resolveWidget.call(this,a,b);if("RegionWidget"===a&&b.regionName){var e=this.app.viewManager.createView({markupResource:"Mapping/modules/Toolbar/Templates/ToolbarRegionTemplate.html"});
e.app=this.app;e.libraryId=this.libraryId;e.attach(b);return e}return null};b.prototype.toggleVisibleGroup=function(a,b,e){e.isActive.set(!e.isActive.get())};b.prototype.handleOpenToolFlyout=function(a,b,e){e.toggleFlyout();if(this.viewModel.activeFlyout.get()===e)this.viewModel.activeFlyout.set(null);else{this.viewModel.activeFlyout.get()&&this.viewModel.activeFlyout.get().toggleFlyout();a=$(b).offset();var d=$(b).outerHeight();$(this.flyoutRegion).css({left:a.left,top:a.top-$(b).parent().outerHeight()+
d});this.viewModel.activeFlyout.set(e)}};b.prototype.handleTouchStart=function(a){this._firstEvent||(this._firstEvent="touch start",this._beginLongPress());return!0};b.prototype.handleMouseDown=function(a){this._firstEvent||(this._firstEvent="mouse down",this._beginLongPress());return!0};b.prototype.handleTouchEnd=function(a){"touch start"===this._firstEvent&&(this._firstEvent=null,this._cancelLongPress());return!0};b.prototype.handleMouseUp=function(a){"mouse down"===this._firstEvent&&(this._firstEvent=
null,this._cancelLongPress());return!0};b.prototype.handleMouseOut=function(a){"mouse down"===this._firstEvent&&(this._firstEvent=null,this._cancelLongPress());return!0};b.prototype.handleTouchCancel=function(a){"touch start"===this._firstEvent&&(this._firstEvent=null,this._cancelLongPress());return!0};b.prototype.handleTouchMove=function(a){"touch start"===this._firstEvent&&(this._firstEvent=null,this._cancelLongPress());return!0};b.prototype._beginLongPress=function(){var a=this;this._longPressTimer&&
clearTimeout(this._longPressTimer);this._longPressTimer=setTimeout(function(){a.app.command("ActivateView").execute("LogView")},this._pressLengthMs)};b.prototype._cancelLongPress=function(){this._longPressTimer&&(clearTimeout(this._longPressTimer),this._longPressTimer=null)};return b}(d.framework.ui.ViewBase);f.TabbedToolbarView=g})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=d.framework.utils.ArrayUtils,l=function(b){function a(){b.apply(this,arguments);this.toolbarVisible=new Observable(!1);this.toolbarGroups=new ObservableCollection;this.toolbarTabs=new ObservableCollection;this.currToolbarGrp=new Observable(null);this.activeFlyout=new Observable(null);this._tabbedToolbarViewId=this.toolbarOpenByDefault=null}__extends(a,b);a.prototype.initialize=function(a){b.prototype.initialize.call(this,a);if(a){var e=
!1,d=a.toolbarGroupRefs;if(d){for(var g=0;g<d.length;g++){var l=this.app.toolbarGroupRegistry.getToolbarGroupById(d[g]);if(l){this.toolbarGroups.addItem(l);l.selected=new Observable(!1);var m=!!l.isDefault,p=new f.ToolbarTabViewModel(this.app,this.libraryId);p.group.set(l);p.title.sync(l.name);p.tooltip.sync(l.tooltip);l.isActive.sync(p.isActive);p.isActive.set(m);m&&(e=!0);this.toolbarTabs.addItem(p)}}0<this.toolbarTabs.getLength()&&(e||(p=this.toolbarTabs.getAt(0),p.isActive.set(!0)),this.currToolbarGrp.set(p.group.get()));
!1!==a.registerToggleCommand&&0!==this.toolbarGroups.getLength()&&(this.app.commandRegistry.command("ToggleToolbar").register(this,this._executeToggleToolbar,this._isPresent),this.app.commandRegistry.command("OpenToolbar").register(this,this._executeOpenToolbar,this._isClosed),this.app.commandRegistry.command("CloseToolbar").register(this,this._executeCloseToolbar,this._isOpen));this.handleDisabledItems(this.toolbarGroups.get())}this.toolbarOpenByDefault=void 0!=a.toolbarOpenByDefault?a.toolbarOpenByDefault:
!1;this.app.command("_ExportTabbedToolbarState").register(this,this._exportState);this.app.command("_ApplyTabbedToolbarState").register(this,this._applyState)}};a.prototype.registerTabbedToolbarViewId=function(a){a&&!this._tabbedToolbarViewId&&(this._tabbedToolbarViewId=a,this._setToolbarInitialVisibility())};a.prototype.handleDisabledItems=function(a,b){var d;try{for(var f=0;f<a.length;f++)d=a[f],"toolbarGroup"===d.type&&(d.areAllHidden&&d.disabled.set(d.areAllHidden(d.items)),this.handleDisabledItems(d.items.get(),
d)),d.disabled.bind(d,function(a){b&&b.areAllHidden&&b.disabled.set(b.areAllHidden(b.items))})}catch(g){this.app.trace.error("Error occurred while setting CSS class for toolbar items: "+g)}};a.prototype.setCurrentTab=function(a){for(var b=0;b<this.toolbarTabs.getLength();b++){var d=this.toolbarTabs.getAt(b);d!==a&&d.isActive.get()&&d.isActive.set(!1)}a.isActive.set(!0);a=a.group.get();this.currToolbarGrp.set(a);this.app.command("RecenterMapOnNextMapResize").execute();this.app.event("ApplicationResizedEvent").publish();
this.app.event("ToolbarTabChangedEvent").publish({group:a})};a.prototype._setToolbarInitialVisibility=function(){var a=this,b=function(){a.toolbarOpenByDefault&&a.app.command("ActivateView").execute(a._tabbedToolbarViewId);a.toolbarVisible.set(a.toolbarOpenByDefault)};if(null!=this.app.site&&this.app.site.isInitialized)b();else this.app.event("SiteInitializedEvent").once(this,b)};a.prototype._executeToggleToolbar=function(){var a=this.app.viewManager.getViewById(this._tabbedToolbarViewId);this.app.configuration.mobileMode?
this.app.command("ActivateView").execute(a.id):this.app.command("ToggleView").execute(a.id);this.app.command("RecenterMapOnNextMapResize").execute();this.app.event("ApplicationResizedEvent").publish();this.app.event("ToolbarStateChangedEvent").publish(a.isActive)};a.prototype._executeOpenToolbar=function(){var a=this.app.viewManager.getViewById(this._tabbedToolbarViewId);a.isActive||this.app.command("ActivateView").execute(a.id)};a.prototype._executeCloseToolbar=function(){var a=this.app.viewManager.getViewById(this._tabbedToolbarViewId);
a.isActive&&this.app.command("DeactivateView").execute(a.id)};a.prototype._isPresent=function(){return this.toolbarGroups&&0<this.toolbarGroups.getLength()};a.prototype._isOpen=function(){var a=this.app.viewManager.getViewById(this._tabbedToolbarViewId);return a?a.isActive:null};a.prototype._isClosed=function(){var a=this.app.viewManager.getViewById(this._tabbedToolbarViewId);return a?!a.isActive:null};a.prototype._exportState=function(a){a.isOpen=this._isOpen();var b=g.firstOrDefault(this.toolbarTabs.get(),
function(a){return a.isActive.get()});a.currentTab=b?b.group.get().id:null};a.prototype._applyState=function(a){a.state.isOpen?this.app.command("OpenToolbar").execute():this.app.command("CloseToolbar").execute();var b=g.firstOrDefault(this.toolbarTabs.get(),function(b){return b.group.get().id===a.state.currentTab});b&&this.setCurrentTab(b)};return a}(d.framework.ui.ViewModelBase);f.TabbedToolbarViewModel=l})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){var g=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.handleToolbarItemClick=function(a,b,d){d.execute()};a.prototype.resolveWidget=function(a,e){b.prototype.resolveWidget.call(this,a,e);if("RegionWidget"===a&&e.regionName){var d=this.app.viewManager.createView({markupResource:"Mapping/modules/Toolbar/Templates/ToolbarRegionTemplate.html"});d.app=this.app;d.libraryId=this.libraryId;d.attach(e);
return d}return null};a.prototype.handleClickClose=function(a,b,d){this.app.command("ClearActiveTool").execute()};return a}(d.framework.ui.ViewBase);f.TransientView=g})(f.transients||(f.transients={}))})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){var g=function(b){function a(){b.apply(this,arguments);this.items=new ObservableCollection([]);this.name=new Observable(null);this.hasNeighbour=new Observable(!1)}__extends(a,b);a.prototype.initialize=function(a){b.prototype.initialize.call(this,a)};return a}(d.framework.ui.ViewModelBase);f.TransientViewModel=g})(f.transients||(f.transients={}))})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping=
{}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(d){function b(){d.apply(this,arguments);this.cssClasses={activeTool:"active-tool"}}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);a.tools&&this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,!0);a.hasOwnProperty("showStatusMessages")||(a.showStatusMessages=!0);a.showStatusMessages&&(this.app.event("ActiveToolChangedEvent").subscribe(this,this.activeToolChanged),
this.app.event("ToolInputMethodChangedEvent").subscribe(this,this.toolInputMethodChanged))};b.prototype.activeToolChanged=function(a){if(this.configuration.showStatusMessages)if(a&&a.tool){var b=a.tool;if(b.statusText){a=b.name+"StatusMessageView";var e=b.statusText;b.libraryId&&e&&0<e.length&&"@"===e[0]&&(e=this.app.getResource(b.libraryId,e.substring(1)));var d=b.closeTitle||this.getResource("language-common-deactivate-tool");b.libraryId&&d&&0<d.length&&"@"===d[0]&&(d=this.app.getResource(b.libraryId,
d.substring(1)));e=new f.infrastructure.commandArgs.AddStatusArgs(e);e.id=a;e.closeTitle=d;e.imageUri=b.iconUri;e.timeoutMS=0;e.userClosedCallback=function(){return b.setActive(!1)};e.statusClass=b.statusClass||this.cssClasses.activeTool;this.app.command("AddStatus").execute(e);this.app.command("ScreenReaderNarrate").execute(b.statusText)}}else a=a.previousTool.name+"StatusMessageView",this.app.command("RemoveStatus").execute(a)};b.prototype.toolInputMethodChanged=function(a){if(this.configuration.showStatusMessages&&
a&&a.tool){var b=a.tool,e=(a=(a.newMethod||null)===f.infrastructure.accessibility.InputMethod.KEYBOARD)?b.keyboardStatusText:b.statusText;b.libraryId&&e&&0<e.length&&"@"===e[0]&&(e=this.app.getResource(b.libraryId,e.substring(1)));if(e){var b=b.name+"StatusMessageView",d=new f.infrastructure.commandArgs.AddStatusArgs(e);d.id=b;this.app.command("UpdateStatus").execute(d);a&&this.app.command("ScreenReaderNarrate").execute(e)}}};return b}(d.framework.application.ModuleBase);g.ToolsModule=m})(g.tools||
(g.tools={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.attach=function(a){var b=this;d.prototype.attach.call(this,a);this.viewContainerViewClosedEventToken||(this.viewContainerViewClosedEventToken=this.app.event("ViewContainerViewClosedEvent").subscribe(this,function(a){a&&a.viewId===b.id&&b.handleCancel()}))};b.prototype.destroy=function(){d.prototype.destroy.call(this);this.viewContainerViewClosedEventToken&&
(this.app.event("ViewContainerViewClosedEvent").unsubscribe(this.viewContainerViewClosedEventToken),this.viewContainerViewClosedEventToken=null)};b.prototype.handleCancel=function(){this.close();this.viewModel.processActions&&this.viewModel.processActions.cancel&&this.viewModel.processActions.cancel()};b.prototype.close=function(){this.app.viewManager.deactivateView(this)};return b}(d.framework.ui.ViewBase);f.DialogViewBase=g})(f.uploadData||(f.uploadData={}))})(f.modules||(f.modules={}))})(g.mapping||
(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.handleProceed=function(){this.close();this.viewModel.processActions.proceed()};return b}(d.DialogViewBase);d.TableRecordResultsDialogView=f})(d.uploadData||(d.uploadData={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.rejectedRecordsMessage=new Observable("");this.acceptedRecordsMessage=new Observable("");this.rejectedRecordsUrl=new Observable("")}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);this.configuration=a};b.prototype.prompt=function(a){var b=this;this.rejectedRecordsMessage.set(this.getResource("language-table-record-results-dialog-rejected-records-message").format(a.rejected));
this.acceptedRecordsMessage.set(this.getResource("language-table-record-results-dialog-accepted-records-message").format(a.accepted));this.rejectedRecordsUrl.set(a.rejectedRecordsUrl);return new Promise(function(a,d){b.processActions={proceed:function(){return a()},error:function(a){return d(a)},cancel:function(){return a()}}})};return b}(d.framework.ui.ViewModelBase);f.TableRecordResultsDialogViewModel=g})(f.uploadData||(f.uploadData={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.reset=function(){this.symbologySettingsWidget.reset();this.symbologySettingsWidget.applyConfiguration()};b.prototype.handleProceed=function(){this.close();this.viewModel.processActions.proceed(this.symbologySettingsWidget.viewModel.symbols)};b.prototype.handleCancel=function(){this.handleProceed()};return b}(d.DialogViewBase);d.SymbolDialogView=f})(d.uploadData||
(d.uploadData={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.prompt=function(){var a=this;return new Promise(function(b,e){a.processActions={proceed:function(a){return b(a)},error:function(a){return e(a)},cancel:function(){return b()}}})};return b}(d.framework.ui.ViewModelBase);f.SymbolDialogViewModel=g})(f.uploadData||(f.uploadData={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){d.Z_AXIS_ENABLED=!1;d.Z_AXIS_REQUIRED=d.Z_AXIS_ENABLED&&!1;var f=function(f){function b(){f.apply(this,arguments)}__extends(b,f);b.prototype.validator=function(){var a=this,b=[];this.viewModel.locationTypeIsCoordinates.get()&&((![this.xAxis,this.yAxis].every(function(a){return-1!==a.selectedIndex})||d.Z_AXIS_ENABLED&&d.Z_AXIS_REQUIRED&&-1===this.zAxis.selectedIndex)&&b.push({title:this.getResource("language-table-mapping-validation-error-all-coordinates-must-be-set"),message:this.getResource("language-table-mapping-validation-error-all-coordinates-must-be-set-message")}),
function(){for(var b=[a.xAxis,a.yAxis,a.zAxis],c=0;c<b.length;c++)for(var e=b[c],d=0,f=b;d<f.length;d++){var g=f[d];if(e!==g&&e.value&&e.value===g.value)return!1}return!0}()||b.push({title:this.getResource("language-table-mapping-validation-error-axes-must-be-unique"),message:this.getResource("language-table-mapping-validation-error-axes-must-be-unique-message")}),this.getSourceSpatialReference()||b.push({title:this.getResource("language-table-mapping-validation-error-source-spatial-mapping-invalid"),
message:this.getResource("language-table-mapping-validation-error-source-spatial-mapping-invalid-message")}));if(this.viewModel.locationTypeIsAddress.get()){var e=[];this.viewModel.addressFieldSelectors.get().forEach(function(b,c){!b.required||b.value&&""!==b.value||0<$(a.form).find(".address select").get(c).selectedIndex||e.push(b)});e.length&&b.push({title:this.getResource("language-table-mapping-validation-error-lacking-required-address-fields"),message:this.getResource("language-table-mapping-validation-error-lacking-required-address-fields-message").format(e.map(function(a){return a.label}).join(", "))})}return b};
b.prototype.validate=function(){this.viewModel.validationProblems.set(this.validator())};b.prototype.attach=function(a){f.prototype.attach.call(this,a);this.reset();$(this.form).change(this.validate.bind(this))};b.prototype.reset=function(){this.refreshLocationType();this.viewModel.transformTablePreview(this.isFirstRowHeader.checked);this.sourceSpatialReference.selectedIndex=this.viewModel.sourceSpatialReferences.get().findIndex(function(a){return a.preselected});this.viewModel.sourceSpatialReferencesUseCustom.set(!1);
$(this.form).find(".address select").each(function(a,b){b.selectedIndex=-1});this.performAutoDetection();this.validate()};b.prototype.performAutoDetection=function(){var a=this,b=this.viewModel.configuration.autoDetectionTerms,e=function(b){for(var c=a.viewModel.tableHeadings.get(),e=0;e<c.length;e++)if(d.checkStringForTerms(c[e],b))return e;return-1};this.xAxis.selectedIndex=b&&b.xAxis?e(b.xAxis):-1;this.yAxis.selectedIndex=b&&b.yAxis?e(b.yAxis):-1;this.zAxis.selectedIndex=b&&b.zAxis?e(b.zAxis):
-1;this.viewModel.addressFieldSelectors.get().forEach(function(d,f){$(a.form).find(".address li").eq(f).find("select").get(0).selectedIndex=b&&b[d.name]?e(b[d.name])+1:-1})};b.prototype.refreshLocationType=function(){var a=this.locationType.querySelector("input[type=radio]:checked").value;this.viewModel.locationTypeIsCoordinates.set("coordinates"===a);this.viewModel.locationTypeIsAddress.set("address"===a)};b.prototype.handleChangeLocationType=function(){this.refreshLocationType();this.validate()};
b.prototype.handleChangeUseFirstRowAsHeader=function(){this.reset()};b.prototype.handleChangeSourceSpatialReference=function(a,b){this.viewModel.sourceSpatialReferencesUseCustom.set(this.viewModel.sourceSpatialReferences.getAt(b.selectedIndex).custom);this.validate()};b.prototype.getSourceSpatialReference=function(){if(-1===this.sourceSpatialReference.selectedIndex)return null;var a=this.viewModel.sourceSpatialReferences.getAt(this.sourceSpatialReference.selectedIndex);if(a.spatialReference)return a.spatialReference;
if(a.map)this.app.map.spatialReference;else if(a.custom)return(a=this.sourceSpatialReferenceCustom.value.trim())?/^[0-9]+$/.test(a)?new esri.SpatialReference(parseInt(a,10)):new esri.SpatialReference(a):null};b.prototype.handleProceed=function(){var a=this;this.validate();if(1<=this.viewModel.validationProblems.getLength())this.app.command("Alert").execute(this.getResource("language-upload-data-cannot-proceed-when-invalid-message"),this.getResource("language-upload-data-cannot-proceed-when-invalid"));
else{var b;if(this.viewModel.locationTypeIsCoordinates.get())b={locationType:"coordinates",isFirstRowHeader:this.isFirstRowHeader.checked,x:this.xAxis.value,y:this.yAxis.value,sourceSR:this.getSourceSpatialReference()},d.Z_AXIS_ENABLED&&(b.z=this.zAxis.value);else if(this.viewModel.locationTypeIsAddress.get()){var e={};$(this.form).find(".address select").each(function(b,c){var d=a.viewModel.addressFieldSelectors.getAt(b);c.value&&(e[d.name]=c.value)});b={locationType:"address",isFirstRowHeader:this.isFirstRowHeader.checked,
addressFields:e}}else this.viewModel.processActions.error(Error("Location type is invalid."));this.close();this.viewModel.processActions.proceed(b)}};return b}(d.DialogViewBase);d.TableMappingDialogView=f})(d.uploadData||(d.uploadData={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=/[^a-z0-9_]/ig,g=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.attach=function(a){b.prototype.attach.call(this,a);$(this.form).change(this.validate.bind(this))};a.prototype.reset=function(a){void 0===a&&(a="");a=a.replace(/\.[^\.]+$/,"");this.layerName.value=a.replace(f,"");this.publish.checked=!1;this.viewModel.publishDisabledMessage.set("")};a.prototype.validator=function(){var a=[];this.layerName.value.trim()||
a.push({title:this.getResource("language-layer-details-validation-error-name-cannot-be-empty"),message:this.getResource("language-layer-details-validation-error-name-cannot-be-empty-message")});this.publish.checked&&this.layerName.value.match(f)&&a.push({title:this.getResource("language-layer-details-validation-error-invalid-publish-name"),message:this.getResource("language-layer-details-validation-error-invalid-publish-name-message")});"fileGeodatabase"!==this.viewModel.fileType.get()||this.publish.checked||
a.push({title:this.getResource("language-layer-details-validation-error-filegeodatabase-must-be-published"),message:this.getResource("language-layer-details-validation-error-filegeodatabase-must-be-published-message")});return a};a.prototype.validate=function(){this.viewModel.validationProblems.set(this.validator())};a.prototype.handleProceed=function(){this.validate();1<=this.viewModel.validationProblems.getLength()?this.app.command("Alert").execute(this.getResource("language-upload-data-cannot-proceed-when-invalid-message"),
this.getResource("language-upload-data-cannot-proceed-when-invalid")):(this.close(),this.viewModel.processActions.proceed({details:{layerName:this.layerName.value},publish:this.viewModel.signedIn.get()&&this.publish.checked}))};return a}(d.DialogViewBase);d.LayerDetailsDialogView=g})(d.uploadData||(d.uploadData={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.hasConfiguredGeocoder=new Observable(!1);this.tablePreview=new ObservableCollection;this.tableHeadings=new ObservableCollection;this.tableHeadingOptions=new ObservableCollection;this.locationTypeIsCoordinates=new Observable(!1);this.locationTypeIsAddress=new Observable(!1);this.zAxisEnabled=new Observable(f.Z_AXIS_ENABLED);this.sourceSpatialReferences=new ObservableCollection;
this.sourceSpatialReferencesUseCustom=new Observable(!1);this.addressFieldSelectors=new ObservableCollection;this.validationProblems=new ObservableCollection}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);this.configuration=a};b.prototype.prompt=function(a){var b=this;this.sourceSpatialReferences.set(this.configuration.sourceSpatialReferences.map(function(a){a.map&&(a.spatialReference=b.app.map.spatialReference,a.spatialReference.wkid&&(a.label=b.getResource("language-table-mapping-source-spatial-reference-map-format").format(b.app.map.spatialReference.wkid)));
return a}));this.rawTablePreview=a;this.transformTablePreview();this.geocoder=this.app.site.getDefaultBatchGeocoder();this.hasConfiguredGeocoder.set(this.geocoder&&0<this.geocoder.parameters.length);this.addressFieldSelectors.clear();if(this.hasConfiguredGeocoder.get()){a=0;for(var e=this.geocoder.parameters;a<e.length;a++){var d=e[a];this.addressFieldSelectors.addItem({name:d.name,label:d.displayName||d.name,required:d.isRequired,value:d.value,tableHeadingOptions:this.tableHeadingOptions})}}return new Promise(function(a,
e){b.processActions={proceed:function(b){return a(b)},error:function(a){return e(a)},cancel:function(){var a=Error(f.ERROR_CANCELLED_MESSAGE);a.name=f.ERROR_CANCELLED;e(a)}}})};b.prototype.transformTablePreview=function(a){void 0===a&&(a=!0);this.tablePreview.clear();if(this.rawTablePreview){if(!a){a=this.rawTablePreview[0].length;for(var b=new ObservableCollection,e=1;e<=a;e++)b.addItem(this.getResource("language-table-mapping-generated-column-prefix")+e);this.tablePreview.addItem(b)}a=0;for(b=this.rawTablePreview;a<
b.length;a++)this.tablePreview.addItem(new ObservableCollection(b[a]));this.tableHeadings.set(this.tablePreview.getAt(0).get());this.tableHeadingOptions.set([""].concat(this.tableHeadings.get()))}};return b}(d.framework.ui.ViewModelBase);f.TableMappingDialogViewModel=g})(f.uploadData||(f.uploadData={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(d){function b(){d.apply(this,arguments);this.signedIn=new Observable(!1);this.fileType=new Observable(void 0);this.publishIsAvailable=new Observable(!1);this.publishDisabledMessage=new Observable;this.validationProblems=new ObservableCollection}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);this.configuration=a};b.prototype.prompt=function(a){var b=this;this.fileType.set(a);this.signedIn.set(f.infrastructure.PortalUtils.hasAccessToPortal(this.app));
this.publishIsAvailable.set(this.signedIn.get()&&"gpx"!==a&&f.infrastructure.PortalUtils.hasPublishFeaturePrivilege(this.app));return new Promise(function(a,d){b.processActions={proceed:function(b){return a(b)},error:function(a){return d(a)},cancel:function(){var a=Error(g.ERROR_CANCELLED_MESSAGE);a.name=g.ERROR_CANCELLED;d(a)}}})};return b}(d.framework.ui.ViewModelBase);g.LayerDetailsDialogViewModel=m})(g.uploadData||(g.uploadData={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.validationProblems=new ObservableCollection;this.disabled=new Observable(!1)}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);this.configuration=a};b.prototype.prompt=function(){var a=this;return new Promise(function(b,e){a.processActions={proceed:function(a){return b(a)},error:function(a){return e(a)},cancel:function(){var a=Error(f.ERROR_CANCELLED_MESSAGE);
a.name=f.ERROR_CANCELLED;e(a)}}})};return b}(d.framework.ui.ViewModelBase);f.UploadDialogViewModel=g})(f.uploadData||(f.uploadData={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){var f=function(d){function b(){var a=this;d.apply(this,arguments);this.isBusy=new Observable(!1);this.validator=function(){var b=a.uploaderWidget.viewModel.selectedFiles.get(),e=[],d=["csv","xlsx","gpx","kml","zip"],f="shp dbf shx prj cpg sbn sbx shp.xml".split(" "),g=d.concat(f);b.length||e.push({title:a.getResource("language-uploader-validation-error-no-file-title"),message:a.getResource("language-uploader-validation-error-no-file-message")});
var h=0;b.forEach(function(b){g.some(function(a){return b.name.toLowerCase().endsWith("."+a.toLowerCase())})||(b.flag=a.getResource("language-upload-dialog-selected-file-flag-extension-not-allowed"),h++)});h&&e.push({title:a.getResource("language-upload-dialog-validation-error-extension-not-allowed"),message:a.getResource("language-upload-dialog-validation-error-extension-not-allowed-message")});var l=b.filter(function(a){return d.some(function(b){return a.name.endsWith("."+b)})});1<l.length&&e.push({title:a.getResource("language-upload-dialog-validation-error-too-many"),
message:a.getResource("language-upload-dialog-validation-error-too-many-message").format(l.length)});b=b.filter(function(a){return["shp"].concat(f).some(function(b){return a.name.endsWith("."+b)})});l=b.some(function(a){return a.name.endsWith(".shp")});0<b.length&&!l&&e.push({title:a.getResource("language-upload-dialog-validation-error-shapefile-incomplete"),message:a.getResource("language-upload-dialog-validation-error-shapefile-incomplete-message")});return e}}__extends(b,d);b.prototype.attachUploader=
function(a){var b=this;this.uploaderWidget=a;this.isBusy.sync(this.uploaderWidget.viewModel.uploading);this.viewModel.disabled.sync(this.uploaderWidget.viewModel.disabled);this.uploaderWidget.viewModel.uploadRequestParameters.validator="feature";$(this.uploaderWidget.form).off("change").on("change",function(){b.validate()});this.uploaderWidget.viewModel.onUploadSuccess=function(a){return b.viewModel.processActions.proceed(a)};this.uploaderWidget.viewModel.onUploadFailure=function(a){return b.viewModel.processActions.error(a)}};
b.prototype.reset=function(){this.uploaderWidget.reset();this.viewModel.validationProblems.clear()};b.prototype.validate=function(){this.viewModel.validationProblems.set(this.validator());this.uploaderWidget.viewModel.selectedFiles.pulse()};b.prototype.handleProceed=function(a){this.validate();1<=this.viewModel.validationProblems.getLength()?this.app.command("Alert").execute(this.getResource("language-upload-data-cannot-proceed-when-invalid-message"),this.getResource("language-upload-data-cannot-proceed-when-invalid")):
this.uploaderWidget.viewModel.upload(this.uploaderWidget.form)};return b}(d.DialogViewBase);d.UploadDialogView=f})(d.uploadData||(d.uploadData={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(h){function p(a){return a.reduce(function(a,b){return a.concat(b)})}function l(a,b){return b.some(function(b){return RegExp("(?:^|\\b|_)"+b+"(?:$|\\b|_)","i").test(a)})}var b=[".shp",".shx",".dbf"];h.SERVICE_TYPE_FEATURE="Feature Service";h.SERVICE_TYPE_KML="KML";h.ERROR_CANCELLED="UploadDataError/Cancelled";h.ERROR_CANCELLED_MESSAGE="Upload data process was cancelled.";h.ERROR_MUST_SIGN_IN_TO_PUBLISH_GEODATABASE="UploadDataError/MustSignInToPublishGeodatabase";
h.ERROR_NOT_AUTHORIZED_TO_PUBLISH_GEODATABASE="UploadDataError/NotAuthorizedToPublishGeodatabase";h.ERROR_COULD_NOT_PARSE_XSLX="UploadDataError/CouldNotParseXLSX";var a=function(a){function e(){a.apply(this,arguments);this._processInProgress=new Observable(!1);this._layerNamePlaceholderCounter=0}__extends(e,a);e.prototype.initialize=function(a){a.checkJobStatusPeriod=a.checkJobStatusPeriod||4E3;a.warnOnFeatureCount=a.warnOnFeatureCount||1E4;a.heatMap=a.heatMap||{enabled:!1,userCanToggle:!0,respectScaleRange:!0,
gradient:[[255,255,255,0],[0,0,255,98],[255,0,0,139],[255,255,0,181]],offset:[0,0.5,0.75,1],intensity:25,includeInLegend:!0};a.cluster=a.cluster||{enabled:!1,userCanToggle:!0,radius:25,maximumFeatures:1E3,backgroundColor:[0,0,255],labelColor:[255,255,255]};this.configuration=a;this.app.command("UploadData").register(this,this._executeUploadData,this._canExecuteUploadData)};e.prototype._canExecuteUploadData=function(){return!this.app.isOffline.get()&&!this._processInProgress.get()};e.prototype._executeUploadData=
function(){var a=this;if(/iPhone|iPad|iPod|GeocortexApp\.iOS/.test(navigator.userAgent)&&!window.MSBlobBuilder)this.app.command("Alert").execute(this.getResource("language-upload-data-ios-warning-message"),this.getResource("language-upload-data-ios-warning"));else{if(this._processInProgress.get()){var b=Error("You cannot start an upload data process while one is already in progress.");b.name="UploadDataError/AlreadyInProgress";return this._handleError(b)}this._processInProgress.set(!0);return Promise.resolve({uploadResponse:void 0,
tableMapping:void 0,layerDetailsResults:void 0,mainResponse:void 0,mapServices:void 0,symbols:void 0}).then(function(b){return a._promptUploadDialog(b)}).then(function(b){return a._promptTableMappingDialog(b)}).then(function(b){return a._promptLayerDetailsDialog(b)}).then(function(b){return a._confirmBeforePublish(b)}).then(function(b){return a._sendRequest(b)}).then(function(b){return a._handleMainResponse(b)}).then(function(b){return a._displayTableRecordResults(b)}).then(function(b){return a._promptSymbolDialog(b)}).then(function(b){return a._symbolize(b)}).then(function(b){return a._autoDetectFeatureLabels(b)}).then(function(b){return a._attachDefaultVisualizations(b)}).then(function(b){return a._addMapServicesToMap(b)}).then(function(b){return a._handleCompletion(b)})["catch"](function(b){return a._handleError(b)})}};
e.prototype._promptUploadDialog=function(a){var b=this,c=this.app.viewManager.getViewById("UploadDialogView");this.app.viewManager.activateView(c);c.reset();return c.viewModel.prompt().then(function(e){a.uploadResponse=e;b.app.viewManager.deactivateView(c);return a})["catch"](function(a){b.app.viewManager.deactivateView(c);return Promise.reject(a)})};e.prototype._promptTableMappingDialog=function(a){var b=this,c=a.uploadResponse,e=a.uploadResponse.fileItems[0].fileType;if(c=c.fileItems.length&&c.fileItems[0].tablePreviews&&
c.fileItems[0].tablePreviews.length?c.fileItems[0].tablePreviews[0]:null){var d=this.app.viewManager.getViewById("TableMappingDialogView");if(!c[0].length&&"xlsx"===e)return e=Error("Each worksheet in the file must contain rows of data"),e.name=h.ERROR_COULD_NOT_PARSE_XSLX,Promise.reject(e);this.app.viewManager.activateView(d);e=d.viewModel.prompt(c).then(function(c){a.tableMapping=c;b.app.viewManager.deactivateView(d);return a})["catch"](function(a){b.app.viewManager.deactivateView(d);return Promise.reject(a)});
d.reset();return e}a.tableMapping=!1;return Promise.resolve(a)};e.prototype._promptLayerDetailsDialog=function(a){var c=this,e=a.uploadResponse.fileItems[0].fileType;if("fileGeodatabase"===e){if(!f.infrastructure.PortalUtils.hasAccessToPortal(this.app))return e=Error("Geodatabase must be published, but the user is not signed into ArcGIS Online."),e.name=h.ERROR_MUST_SIGN_IN_TO_PUBLISH_GEODATABASE,Promise.reject(e);if(!f.infrastructure.PortalUtils.hasPublishFeaturePrivilege(this.app))return e=Error("Geodatabase must be published, but the user does not have sufficient privileges to publish layers to ArcGIS Online."),
e.name=h.ERROR_NOT_AUTHORIZED_TO_PUBLISH_GEODATABASE,Promise.reject(e)}var d=this.app.viewManager.getViewById("LayerDetailsDialogView");this.app.viewManager.activateView(d);d.reset(a.layerDetailsResults?a.layerDetailsResults.details.layerName:a.uploadResponse.fileItems[0].fileName);"shapefile"===e&&"application/zip"!==a.uploadResponse.fileItems[0].contentType&&(function(){for(var c=0;c<b.length;c++){var e=b[c];if(!a.uploadResponse.fileItems.some(function(a){return a.fileName.endsWith(e)}))return!1}return!0}()||
d.viewModel.publishDisabledMessage.set(this.getResource("language-layer-details-publish-disabled-shapefile")));return d.viewModel.prompt(e).then(function(b){a.layerDetailsResults=b;c.app.viewManager.deactivateView(d);return a})["catch"](function(a){c.app.viewManager.deactivateView(d);return Promise.reject(a)})};e.prototype._promptSymbolDialog=function(a){var b=this,c=this.app.viewManager.getViewById("SymbolDialogView");this.app.viewManager.activateView(c);var e=c.symbologySettingsWidget.viewModel;
e.noMarker.set(!a.mapServices.some(function(a){return"esriGeometryPoint"===a.serviceLayer.geometryType}));e.noFill.set(!a.mapServices.some(function(a){return"esriGeometryPolygon"===a.serviceLayer.geometryType}));c.reset();return c.viewModel.prompt().then(function(b){a.symbols=b;return a})["catch"](function(a){b.app.viewManager.deactivateView(c);return Promise.reject(a)})};e.prototype._confirmBeforePublish=function(a){var b=this;return a.layerDetailsResults.publish?new Promise(function(c,e){var d=
b.getResource("language-upload-data-confirm-before-publish"),f=b.getResource("language-upload-data-confirm-before-publish-message");b.app.command("Confirm").execute(f,d,function(e){e?c(a):(a.layerDetailsResults.publish=!1,c(b._promptLayerDetailsDialog(a).then(function(a){return b._confirmBeforePublish(a)})))})}):Promise.resolve(a)};e.prototype._sendRequest=function(a){var b=this,c=a.uploadResponse,e=a.tableMapping,g=a.layerDetailsResults,l=g.details,g=g.publish,m=new f.infrastructure.commandArgs.AddStatusArgs(this.getResource("language-upload-data-wait-for-main-response"));
m.id="WaitForUploadDataMainResponse";m.showBusyIcon=!0;m.timeoutMS=0;this.app.command("AddStatus").execute(m);var p=this.app.site.url+(g?"/publish":"/generate"),m=c.fileItems.map(function(a){return a.fileId}),c=c.fileItems[0].fileType,u={layerName:l.layerName,targetSR:this.app.site.essentialsMap.spatialReference};[e,l].forEach(function(a){if(a)for(var b=0,c=Object.keys(a);b<c.length;b++){var e=c[b];u[e]=a[e]}});var r=d.encodeJson(g?{f:"json",title:l.layerName,tags:"",fileIds:m,fileType:c,featureParameters:u}:
{f:"json",fileIds:m,fileType:c,featureParameters:u});return new Promise(function(c,e){d.request({url:p,content:r},{usePost:!0}).then(function(e){b.app.command("RemoveStatus").execute("WaitForUploadDataMainResponse");a.mainResponse=e;c(a)},function(d){b.app.command("RemoveStatus").execute("WaitForUploadDataMainResponse");var f;(f=d.message.match(/409 - Item '(.*)' already exists\./))?"fileGeodatabase"==a.uploadResponse.fileItems[0].fileType?(b.app.command("Alert").execute(b.getResource("language-upload-data-error-publish-geodatabase-name-taken-message").format(f[1]),
b.getResource("language-upload-data-error-publish-name-taken")),d=Error(h.ERROR_CANCELLED_MESSAGE),d.name=h.ERROR_CANCELLED,e(d)):b.app.command("Confirm").execute(b.getResource("language-upload-data-error-publish-name-taken-message").format(f[1]),b.getResource("language-upload-data-error-publish-name-taken"),function(d){d?(a.layerDetailsResults.publish=!1,c(b._sendRequest(a))):(d=Error(h.ERROR_CANCELLED_MESSAGE),d.name=h.ERROR_CANCELLED,e(d))}):e(d)})})};e.prototype._handleMainResponse=function(a){var b=
a.mainResponse,c=a.layerDetailsResults.details.layerName;if(b.featureCollection)return this._acceptGenerateResponse(b,c).then(function(b){a.mapServices=b;return a});if(b.services){if(/^https/i.test(window.location.protocol)){var e=/^http:/;b.services.map(function(a){a.serviceUrl=a.serviceUrl.replace(e,"https:");a.jobStatusUrl=a.jobStatusUrl.replace(e,"https:");return a})}return this._acceptPublishResponse(b,c).then(function(b){a.mapServices=b;return a})}if(b.error)throw c=Error(b.error.message),c.name=
b.error.name,c;throw Error("Invalid response.");};e.prototype._symbolize=function(a){for(var b=0,c=a.mapServices;b<c.length;b++){var e=c[b].serviceLayer;"esriGeometryPoint"===e.geometryType?e.setRenderer(new esri.renderer.SimpleRenderer(a.symbols.marker)):"esriGeometryPolyline"===e.geometryType?e.setRenderer(new esri.renderer.SimpleRenderer(a.symbols.line)):"esriGeometryPolygon"===e.geometryType&&e.setRenderer(new esri.renderer.SimpleRenderer(a.symbols.fill))}return Promise.resolve(a)};e.prototype._autoDetectFeatureLabels=
function(a){var b=a.mapServices,c=this.app.viewManager.getViewById("TableMappingDialogView").viewModel.configuration;if(c.autoDetectionTerms&&c.autoDetectionTerms.featureLabel)for(var e=0;e<b.length;e++)for(var d=b[e],f=0,g=d.layers;f<g.length;f++){var h=g[f];if(!h.displayField){var m;a:{m=c.autoDetectionTerms.featureLabel;for(var p=0,t=h.fields;p<t.length;p++){var w=t[p];if(l(w.name,m)){m=w;break a}}m=null}m&&(h.displayField=m,d.serviceLayer instanceof esri.layers.FeatureLayer&&(d.serviceLayer.displayField=
m.name))}}return Promise.resolve(a)};e.prototype._attachDefaultVisualizations=function(a){for(var b=0,c=a.mapServices;b<c.length;b++){var e=c[b];if(e.serviceLayer instanceof esri.layers.FeatureLayer){"esriGeometryPoint"===e.serviceLayer.geometryType&&(e.heatMap=this.configuration.heatMap,e.featureClustering=this.configuration.cluster);var f=JSON.stringify(e.serviceLayer.renderer.toJson());e.layers[0].allowSymbolization=!0;e.layers[0].styles.push(new d.essentials.LayerStyle(f,g.layerStyles.CUSTOM_STYLE_ID,
g.layerStyles.CUSTOM_STYLE_ID,!0))}}return Promise.resolve(a)};e.prototype._displayTableRecordResults=function(a){var b=a.mainResponse.recordResults;if(b&&a.tableMapping){var c=this.app.viewManager.getViewById("TableRecordResultsDialogView");this.app.viewManager.activateView(c);return c.viewModel.prompt(b).then(function(){return a})}return Promise.resolve(a)};e.prototype._handleCompletion=function(a){var b=this;this._processInProgress.set(!1);for(var c=[],e=0,g=a.mapServices;e<g.length;e++){var h=
g[e];h instanceof d.essentials.KmlService?c.push.apply(c,h.serviceLayer.getLayers()):c.push.apply(c,h.layers)}e=[];for(g=0;g<c.length;g++)h=c[g],h.fullExtent&&f.infrastructure.GeometryUtils.isValidGeometry(h.fullExtent)&&e.push(h.fullExtent);return f.infrastructure.GeometryUtils.unionGeometries(e).then(function(c){b.app.command("ZoomToExtent").execute(c);b.app.event("UploadDataCompletedEvent").publish(a);return a})};e.prototype._handleError=function(a){this._processInProgress.set(!1);a.name!==h.ERROR_CANCELLED&&
(a.name===h.ERROR_MUST_SIGN_IN_TO_PUBLISH_GEODATABASE?this.app.command("Alert").execute(this.getResource("language-upload-data-error-must-be-signed-in-to-publish-geodatabase-message"),this.getResource("language-upload-data-error-must-be-signed-in-to-publish-geodatabase")):a.name===h.ERROR_COULD_NOT_PARSE_XSLX?this.app.command("Alert").execute(this.getResource("language-upload-data-error-unable-to-parse-excel-file-message"),this.getResource("language-upload-data-error-unable-to-parse-excel-file")):
a.name===h.ERROR_NOT_AUTHORIZED_TO_PUBLISH_GEODATABASE?this.app.command("Alert").execute(this.getResource("language-upload-data-error-unauthorized-to-publish-message"),this.getResource("language-upload-data-error-unauthorized-to-publish")):"UploaderError/500"===a.name&&/Unable to upload file\: Invalid zip file\./.test(a.message)?this.app.command("Alert").execute(this.getResource("language-upload-data-error-invalid-zip-message"),this.getResource("language-upload-data-error-invalid-zip")):"UploaderError/500"===
a.name&&/Unable to upload file\: Wrong Local header signature\:/.test(a.message)?this.app.command("Alert").execute(this.getResource("language-upload-data-error-invalid-zip-other-message"),this.getResource("language-upload-data-error-invalid-zip")):/Projection .+ is not supported/.test(a.message)?this.app.command("Alert").execute(this.getResource("language-upload-data-error-projection-not-supported-message"),this.getResource("language-upload-data-error-projection-not-supported")):/406 - Error while analyzing Shapefile/.test(a.message)?
this.app.command("Alert").execute(this.getResource("language-upload-data-error-invalid-shapefile-message"),this.getResource("language-upload-data-error-invalid-shapefile")):/499 - Token required/.test(a.message)?this.app.command("Alert").execute(this.getResource("language-upload-data-error-geocoding-unauthenticated-message"),this.getResource("language-upload-data-error-geocoding-unauthenticated")):/The provided file was empty/.test(a.message)?this.app.command("Alert").execute(this.getResource("language-upload-data-error-empty-file-message"),
this.getResource("language-upload-data-error-empty-file")):(this.app.trace.error(a.message,a),this.app.command("Alert").execute(this.getResource("language-upload-data-error-message"),this.getResource("language-upload-data-error"))));this.app.event("UploadDataFailedEvent").publish(a);return Promise.reject(a)};e.prototype._acceptGenerateResponse=function(a,b){for(var c=this,e=0,d=0,g=a.featureCollection.layers;d<g.length;d++){var l=g[d];l.layerDefinition.name||(l.layerDefinition.name=b+" "+ ++this._layerNamePlaceholderCounter);
l.layerDefinition.visibilityField&&(l.layerDefinition.visibilityField=null);l.featureSet&&l.featureSet.features&&(e+=l.featureSet.features.length)}var m=function(){var b=a.featureCollection.layers.map(function(a){return f.infrastructure.LayerIntegrationUtils.buildLocalFeatureLayerService(a)});return Promise.all(b)};return e>=this.configuration.warnOnFeatureCount?new Promise(function(a,b){var d=c.getResource("language-upload-data-confirm-add-layer"),f=c.getResource("language-upload-data-confirm-add-layer-message").format(e);
c.app.command("Confirm").execute(f,d,function(c){if(c)return a(m());c=Error(h.ERROR_CANCELLED_MESSAGE);c.name=h.ERROR_CANCELLED;b(c)})}):m()};e.prototype._acceptPublishResponse=function(a,b){var c=this,e=new f.infrastructure.commandArgs.AddStatusArgs(this.getResource("language-upload-data-wait-on-publish-job"));e.id="WaitOnPublishJob";e.showBusyIcon=!0;e.timeoutMS=0;this.app.command("AddStatus").execute(e);return Promise.map(a.services,function(a){return c._waitOnJob(a).then(function(a){c.app.command("RemoveStatus").execute("WaitOnPublishJob");
return a}).then(function(a){return c._buildService(a,b)})}).then(function(a){return p(a)})};e.prototype._waitOnJob=function(a){var b=this;return new Promise(function(c,e){if(a.type===h.SERVICE_TYPE_FEATURE){if(!/^https/i.test(a.jobStatusUrl))return e(Error("Job URL must be HTTPS."));var d={f:"json",token:b.app.site.getTokenFromPrincipal(a.jobStatusUrl,esri.IdentityManagerBase),jobId:a.jobId};esri.request({url:a.jobStatusUrl,content:d,handleAs:"json"}).then(function(d){"completed"===d.status?c(a):
"processing"===d.status?setTimeout(function(){c(b._waitOnJob(a))},b.configuration.checkJobStatusPeriod):e(Error("Publish job check failed."))},e)}else c(a)})};e.prototype._buildService=function(a,b){if(a.type===h.SERVICE_TYPE_FEATURE)return f.infrastructure.LayerIntegrationUtils.discoverFeatureServices(a.serviceUrl).then(function(a){return Promise.all(a.map(f.infrastructure.LayerIntegrationUtils.buildFeatureLayerService))});if(a.type===h.SERVICE_TYPE_KML){var c=b+" "+ ++this._layerNamePlaceholderCounter;
return f.infrastructure.LayerIntegrationUtils.buildKmlService(a.serviceUrl,{displayName:c}).then(function(a){return[a]})}throw new TypeError("Given service type '"+a.type+"' unsupported.");};e.prototype._addMapServicesToMap=function(a){for(var b=0,c=a.mapServices;b<c.length;b++){var e=c[b];this.app.command("AddMapService").execute(e)}return Promise.resolve(a)};return e}(d.framework.application.ModuleBase);h.UploadDataModule=a;h.flatten=p;h.checkStringForTerms=l})(g.uploadData||(g.uploadData={}))})(f.modules||
(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function b(){a.apply(this,arguments)}__extends(b,a);b.prototype.added=function(b){var c=this;a.prototype.added.call(this,b);this.viewModel.legacyMode?($(this.input).add(this.selectedFileList).remove(),this.handleLegacyAddInput(),this.viewModel.selectedFiles.bind(this,function(){var a=$(c.legacyInputBox).find("input");c.viewModel.selectedFiles.get().forEach(function(b,c){a.each(function(a,c){if(c.value.endsWith(b.name)){var e=
!!b.flag,d=$(c).closest("li");e?d.removeClass("flagged"):d.addClass("flagged");d.find(".file-flag").text(e?b.flag:"")}})})})):$(this.legacyInputBox).remove();b.attachUploader(this)};b.prototype.updateSelectedFiles=function(){var a=this;if(this.viewModel.legacyMode){var b=$(this.legacyInputBox).find("input");this.viewModel.selectedFiles.clear();b.each(function(b,c){var d=c.value;d&&a.viewModel.selectedFiles.addItem({name:/(?:\\|\/)(.+)$/.exec(d)[1],size:null,flag:null})})}else b=[].slice.call(this.input.files),
this.viewModel.selectedFiles.set(b.map(function(b){return{name:b.name,size:1048576<b.size?(b.size/1024/1024).toFixed(1)+" "+a.getResource("language-uploader-megabyte-abbreviation"):(b.size/1024).toFixed(0)+" "+a.getResource("language-uploader-kilobyte-abbreviation"),flag:null}}));this.app.viewManager.notifyDimensionsChanged(this)};b.prototype.reset=function(){this.viewModel.disabled.set(!1);this.viewModel.legacyMode?(this.viewModel.legacyInputs.clear(),this.handleLegacyAddInput()):this.form.reset();
this.viewModel.selectedFiles.clear();this.viewModel.progress.set(0)};b.prototype.handleChange=function(){this.updateSelectedFiles()};b.prototype.handleLegacyAddInput=function(){this.viewModel.legacyInputs.addItem({})};b.prototype.handleLegacyRemoveInput=function(a,b){var c=$(b).closest("li").index();this.viewModel.legacyInputs.removeAt(c);$(this.form).change()};b.prototype.handleSubmit=function(a){var b=this;a.preventDefault();if(1<=this.viewModel.selectedFiles.getLength())this.viewModel.upload(this.form).caught(function(a){b.reset();
/\/0$/.test(a.name)?b.app.command("Alert").execute(b.getResource("language-uploader-error-cors-message"),b.getResource("language-uploader-error-cors-title")):b.app.command("Alert").execute(b.getResource("language-uploader-error-unknown-message"),b.getResource("language-uploader-error-unknown-title"));throw a;});else throw a=Error("Cannot upload when there are no selected files."),a.name="UploaderError/NoSelectedFiles",a;return!1};return b}(d.framework.ui.ViewBase);f.UploaderView=b})(f.uploader||(f.uploader=
{}))})(f.widgets||(f.widgets={}))})(f.uploadData||(f.uploadData={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){(function(f){function b(){try{var a=esri._getProxyUrl();if(a.path)return a.path}catch(b){}return null}function a(a){a=new dojo._Url(a);var b=window.location;return!a.scheme&&!a.host&&!a.port||/\bGeocortexApp\b/.test(navigator.userAgent)&&"https"===a.scheme?!1:a.scheme+"://"+a.host+(a.port?":"+a.port:"")!==b.protocol+"//"+b.hostname+(b.port?":"+b.port:"")}var c=function(c){function f(){c.apply(this,arguments);this.selectedFiles=
new ObservableCollection;this.progress=new Observable(0);this.uploading=new Observable(!1);this.disabled=new Observable(!1);this.legacyMode=document.documentMode&&9>=document.documentMode;this.legacyInputs=new ObservableCollection;this.uploadEndpointUrl=d.essentials.utilities.UrlUtilities.simplify(this.app.site.url+"/../../")+"/files/upload";this.uploadRequestParameters={f:"json"};this.onUploadSuccess=function(){};this.onUploadFailure=function(){}}__extends(f,c);f.prototype.upload=function(c){var e=
this;return new Promise(function(d,f){e.uploading.set(!0);var g=e.uploadEndpointUrl;if(a(g)){var k=b();if(k)g=k+"?"+g;else throw Error("Proxy is required but not available");}if(e.legacyMode)g={url:g,data:e.uploadRequestParameters,files:$(":file",c),iframe:!0,processData:!1},$.ajax(g).always(function(a,b,c){a=JSON.parse(c.responseText);a.error?(e.disabled.set(!1),b=Error(a.error.message),b.name="UploaderError/"+a.error.code,e.onUploadFailure(b),f(b)):(e.onUploadSuccess(a),d(a))});else{var h=new FormData(c);
Object.keys(e.uploadRequestParameters).forEach(function(a){h.append(a,e.uploadRequestParameters[a])});$.ajax({url:g,data:h,type:"POST",processData:!1,contentType:!1,dataType:"json",xhr:function(){var a=$.ajaxSettings.xhr();a.upload&&(a.upload.onprogress=function(a){a=a.loaded/a.total;a=isNaN(a)?0:100*a;e.progress.set(a)});return a}}).done(function(a,b,c){a.error?(e.disabled.set(!1),b=Error(a.error.message),b.name="UploaderError/"+a.error.code,e.onUploadFailure(b),f(b)):(e.onUploadSuccess(a),d(a))}).fail(function(a,
b,c){e.disabled.set(!1);b=Error(c);b.name="UploaderError/"+a.status;e.onUploadFailure(b);f(b)}).always(function(){e.uploading.set(!1)})}e.disabled.set(!0)})};return f}(d.framework.ui.ViewModelBase);f.UploaderViewModel=c})(f.uploader||(f.uploader={}))})(f.widgets||(f.widgets={}))})(f.uploadData||(f.uploadData={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,b){d.call(this,a,b)}__extends(b,d);b.prototype.exportState=function(){return d.prototype.exportState.call(this)};b.prototype.applyState=function(a){return d.prototype.applyState.call(this,a)};b.prototype.getStateFilter=function(){return null};return b}(d.framework.application.ModuleBase);f.LayerAddition=g})(f.layerAddition||(f.layerAddition={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,b){d.call(this,a,b);this.app.command("SignIn").canExecuteChanged.subscribe(this,this._handleCanExecuteSignInChanged)}__extends(b,d);b.prototype._handleCanExecuteSignInChanged=function(){this.app.command("SignIn").canExecute()?this.isActive||this.app.viewManager.activateView(this):this.isActive&&this.app.viewManager.deactivateView(this)};b.prototype.handleSignInClick=function(a,b,e){this.app.command("SignIn").execute(null)};
return b}(d.framework.ui.ViewBase);f.SignInView=g})(f.User||(f.User={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.linkColor=new Observable("#1A72C4")}__extends(b,d);b.prototype.initialize=function(a){a.linkColor&&this.linkColor.set(a.linkColor)};return b}(d.framework.ui.ViewModelBase);f.SignInViewModel=g})(f.User||(f.User={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(d){function b(a,b){d.call(this,a,b);this.app.command("SignIn").register(this,this._executeSignIn,this._canExecuteSignIn);this.app.command("SignOut").register(this,this._executeSignOut,this._canExecuteSignOut)}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);if((a=this.app.site)&&a.isInitialized)this._handleSiteInitialized(a);else this.app.event("SiteInitializedEvent").once(this,this._handleSiteInitialized);
this.app.event("SiteAuthorizationFailedEvent").subscribe(this,this._handleSiteAuthorizationFailedEvent)};b.prototype._canExecuteSignIn=function(){return!!this.app.site&&this.app.site.canSignIn()};b.prototype._canExecuteSignOut=function(){return!!this.app.site&&this.app.site.canSignOut()};b.prototype._executeSignIn=function(a){var b=new f.infrastructure.eventArgs.UserEventArgs;this.app.event("UserSigningInEvent").publish(b);b.isCancelled||this.app.site.signIn(a)};b.prototype._executeSignOut=function(){var a=
new f.infrastructure.eventArgs.UserEventArgs;this.app.event("UserSigningOutEvent").publish(a);a.isCancelled||this.app.site.signOut()};b.prototype._handleSiteInitialized=function(a){this.app.command("SignIn").raiseCanExecuteChanged();this.app.command("SignOut").raiseCanExecuteChanged()};b.prototype._handleSiteAuthorizationFailedEvent=function(){this.app.command("SignIn").raiseCanExecuteChanged();this.app.command("SignOut").raiseCanExecuteChanged()};return b}(d.framework.application.ModuleBase);g.UserModule=
m})(g.User||(g.User={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.expanded=new Observable(!1);this.userName=new Observable("");this.backgroundColor=new Observable("transparent")}__extends(b,d);b.prototype.initialize=function(a){this.linkColor=new Observable(a.linkColor||"#1A72C4");this.textColor=new Observable(a.textColor||"#333333");this._backgroundColor=a.backgroundColor||"#FFFFFF";if((a=this.app.site)&&a.isInitialized)this._handleSiteInitialized(a);
else this.app.event("SiteInitializedEvent").once(this,this._handleSiteInitialized)};b.prototype.setExpanded=function(a){this.expanded.set(a);this.backgroundColor.set(a?this._backgroundColor:"transparent")};b.prototype._handleSiteInitialized=function(a){this.userName.set(a.principal.label)};return b}(d.framework.ui.ViewModelBase);f.UserInfoViewModel=g})(f.User||(f.User={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,b){d.call(this,a,b);this._unclickHandler=null;this.app.command("SignOut").canExecuteChanged.subscribe(this,this._handleCanExecuteSignOutChanged)}__extends(b,d);b.prototype.handleExpanderClick=function(a,b,e){this.viewModel.expanded.get()?this._hideUserInfo():this._showUserInfo()};b.prototype.handleSignOutClick=function(a,b,e){this._hideUserInfo();this.app.command("SignOut").execute()};b.prototype._showUserInfo=function(){var a=
this;$(document).bind("mousedown",this,this._unclickHandler=function(b){$(b.target).parents().is(a.root)||a._hideUserInfo()});this.viewModel.setExpanded(!0)};b.prototype._hideUserInfo=function(){this._unclickHandler&&($(document).unbind("mousedown",this._unclickHandler),this._unclickHandler=null);this.viewModel.setExpanded(!1)};b.prototype._handleCanExecuteSignOutChanged=function(){this.app.command("SignOut").canExecute()?this.app.viewManager.activateView(this):this.app.viewManager.deactivateView(this)};
return b}(d.framework.ui.ViewBase);f.UserInfoView=g})(f.User||(f.User={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){var m=function(d){function b(a,b){d.call(this,a,b);this.displayName=this.app.getResource(b,"language-visualization-none");var e={provider:this,name:name,id:name};this.enabledVisualization=e;this.visualizations.push(e)}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);this.isEnabled.set(!0);this.isSupported.set(!0)};b.prototype.canSupport=function(a){return!0};b.prototype.handleCurrentLayerChanged=
function(a){};b.prototype.handleActivate=function(){this.app.command("RemoveVisualization").execute({gcxLayer:this.currentLayer.get()})};b.prototype.handleApply=function(){this.app.command("RemoveVisualization").execute({gcxLayer:this.currentLayer.get()})};return b}(d.infrastructure.visualization.VisualizationProviderBase);g.SimpleVisualizationProvider=m})(g.visualization||(g.visualization={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.initialize=function(a){d.prototype.initialize.call(this,a);this._registerCommandsAndEvents()};b.prototype._registerCommandsAndEvents=function(){this.app.command("RemoveVisualization").register(this,this._executeRemoveVisualization,this._canExecuteRemoveVisualization)};b.prototype._executeRemoveVisualization=function(a){a=this._getGeocortexLayer(a);this.app.command("RemoveHeatMap").execute({gcxLayer:a});
this.app.command("RemoveClusterLayer").execute({gcxLayer:a});this.app.command("RemoveSymbolization").execute({gcxLayer:a})};b.prototype._canExecuteRemoveVisualization=function(a){return(a=this._getGeocortexLayer(a))&&!!a.mapService};b.prototype._getGeocortexLayer=function(a){return"string"===typeof a?this.app.site&&this.app.site.essentialsMap?this.app.site.essentialsMap.allLayers().filter(function(b){return a===b.mapService.id})[0]:null:a.gcxLayer};return b}(d.framework.application.ModuleBase);f.VisualizationModule=
g})(f.visualization||(f.visualization={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){var m=function(d){function b(a,b){d.call(this,a,b);this._registerCommandsAndEvents()}__extends(b,d);b.prototype._registerCommandsAndEvents=function(){this.app.command("ShowVisualizationView").register(this,this._executeShowVisualizationView,this._canExecuteShowVisualizationView)};b.prototype._executeShowVisualizationView=function(a){a=this._getGeocortexLayer(a);this.viewModel.selectedLayer.set(a);this.app.command("ActivateView").execute(this.id);
this.app.event("VisualizationViewActivatedEvent").publish(a)};b.prototype._canExecuteShowVisualizationView=function(a){var b=this;if(a=this._getGeocortexLayer(a))return this.viewModel&&this.viewModel.supportsVisualization(a);if(!this.app.site.serviceLayersLoaded)this.app.event("SiteServiceLayersLoadedEvent").once(this,function(a){b.app.command("ShowVisualizationView").raiseCanExecuteChanged()});return!1};b.prototype.handleApplyButtonClick=function(a,b,e){this.viewModel.updateVisualization()};b.prototype.handleDoneButtonClick=
function(a,b,e){this.viewModel.updateVisualization();this.app.command("DeactivateView").execute(this.id)};b.prototype._getGeocortexLayer=function(a){return"string"===typeof a?this.app.site&&this.app.site.essentialsMap?this.app.site.essentialsMap.allLayers().filter(function(b){return a===b.mapService.id})[0]:null:a};return b}(d.infrastructure.ui.components.SmartPanel.SmartPanelView);g.VisualizationView=m})(g.visualization||(g.visualization={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping=
{}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(f){function b(){f.apply(this,arguments);this._activeProvider=null;this._providers=[];this._simpleVisualizationInfo=this._simpleViewProvider=null;this.selectedLayer=new Observable(null);this.supportedProviders=new ObservableCollection([]);this.visualizationInfos=new ObservableCollection([]);this.selectedVisualization=new Observable(null);this.hasOptionsView=new Observable(!1)}__extends(b,f);b.prototype.initialize=function(a){f.prototype.initialize.call(this,
a);this._simpleViewProvider=new g.SimpleVisualizationProvider(this.app,this.libraryId);this._simpleViewProvider.initialize({type:"geocortex.essentialsHtmlViewer.mapping.modules.visualization.SimpleVisualizationProvider",displayName:a.defaultDisplayName});this._simpleVisualizationInfo={provider:this._simpleViewProvider,name:this._simpleViewProvider.displayName,id:this._simpleViewProvider.displayName};a.visualizationProviders&&this._loadProviders(a.visualizationProviders);this.selectedLayer.bind(this,
this._handleLayerChange);this.selectedVisualization.bind(this,this._handleVisualizationChanged)};b.prototype.supportsVisualization=function(a){for(var b=0;b<this._providers.length;b++){var e=this._providers[b];if(this._isVisualization(e)&&e.canSupport(a))return!0}return!1};b.prototype.updateVisualization=function(){this._activeProvider&&this._activeProvider.handleApply()};b.prototype._isVisualization=function(a){return!(a instanceof d.essentialsHtmlViewer.mapping.modules.visualization.SimpleVisualizationProvider)};
b.prototype._handleLayerChange=function(a){var b;this._simpleViewProvider.currentLayer.set(a);this.supportedProviders.clear();for(var e=0;e<this._providers.length;e++){var d=this._providers[e];d.currentLayer.set(a);d.isSupported.get()&&this.supportedProviders.addItem(d)}this.visualizationInfos.clear();this.visualizationInfos.addItem(this._simpleVisualizationInfo);b=this._simpleVisualizationInfo;for(e=this.supportedProviders.getLength()-1;0<=e;e--)for(a=this.supportedProviders.getAt(e),a.isEnabled.get()&&
a.enabledVisualization&&(b=a.enabledVisualization),d=a.visualizations.length-1;0<=d;d--)this.visualizationInfos.addItem(a.visualizations[d]);this.selectedVisualization.set(this.visualizationInfos.getItems().filter(function(a){return a.id===b.id&&a.provider===b.provider})[0])};b.prototype._handleVisualizationChanged=function(a){for(var b=0,e=this.supportedProviders.getItems();b<e.length;b++)e[b].enabledVisualization=null;this._activeProvider=a.provider;this._activeProvider.handleActivate(a);this.hasOptionsView.set(!1);
this._activeProvider.isSupported.get()?a.provider.viewId&&(a=this.app.viewManager.getViewById(a.provider.viewId))&&(this.hasOptionsView.set(!0),this.app.viewManager.activateView(a)):this._activeProvider=this._simpleViewProvider};b.prototype._loadProviders=function(a){for(var b=this,e=0;e<a.length;e++){var d=a[e];if(d.libraryId&&!this.app.allLibrariesLoaded)this.app.event("ViewerLibrariesDownloadedEvent").once(this,function(){b._loadProvider(d)});else this._loadProvider(d)}};b.prototype._loadProvider=
function(a){var b;if(b=dojo.getObject(a.type))return b=new b(this.app,a.libraryId||this.libraryId),b.initialize(a),this._providers.push(b),b;this.app.trace.error("{0} can't find visualization provider typed {1}".format(this.id,a.type))};return b}(f.infrastructure.ui.components.SmartPanel.SmartPanelViewModel);g.VisualizationViewModel=m})(g.visualization||(g.visualization={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,b){f.call(this,a,b);this.toolbar=this.drawType=this.defaultButton=this.currentExtentImage=this.showCapturedMessage=this.graphicsLayer=this.geometryTypeCssDictionary=this.activityContext=this._inputMethodChangeHandle=null;this.defaultFormWidth=800;this.defaultFormHeight=600;this.statusMessageID="DisplayCaptureGeometryMessage";this.showCaptureStatusMessages=!0;this.workflowFormContent=new Observable(null);this.title=
new Observable(null);this.showTitleInFormBody=new Observable(!1);this.buttons=new ObservableCollection([]);this.formWidth=new Observable(this.defaultFormWidth);this.formHeight=new Observable(this.defaultFormHeight);this.showRequiredValidationMessage=new Observable(!0);this.capturedMessageVisible=new Observable(!1);this.showCapturedGeometry=!1;this.showCurrentExtentOption=new Observable(!1);this.geometryRequired=!1;this.instructionMessage=this.inputGeometry=this.currentExtentLabel=this.requiredMessage=
null;this.captureTypes=new ObservableCollection([]);this.activeCaptureType=null;this.defaultCaptureType=new Observable(null);this.validationResults=new ObservableCollection([]);this.customGeometryInstructions=null;this.autoSubmit=!1;this.app.event("ViewUnhostedEvent").subscribe(this,this.viewUnhostedHandler);this.app.command("SetActiveTool").preExecute.subscribe(this,this.cleanUp);this.app.command("ClearActiveTool").preExecute.subscribe(this,this.cleanUp);this.app.trace.debug("DisplayCaptureGeometryViewModel: object constructed.")}
__extends(b,f);b.prototype.initialize=function(a){var b=this,e=[],f=null,g=null,h=this.activityContext.getValue("CaptureTypes");a&&a.hasOwnProperty("showTitleInFormBody")&&this.showTitleInFormBody.set(a.showTitleInFormBody||!1);a=this.activityContext.getValue("DefaultCaptureType");for(var l=0;l<h.length;l++)f=h[l],"CurrentExtent"===f&&(this.showCurrentExtentOption=new Observable(!0)),g={typeName:null,tooltip:null,isSelected:new Observable(!1)},g.typeName=f,g.tooltip=this.getCaptureGeometryTooltip(f),
this.geometryTypeCssDictionary&&(g.className=this.geometryTypeCssDictionary[f]),f==a&&(this.activeCaptureType=g,g.isSelected.set(!0),this.setDrawMode(this.app.map,g,!1)),e.push(g);this.captureTypes.addItems(e);this.defaultCaptureType=this.activityContext.getValue("DefaultCaptureType");this.inputGeometry=this.activityContext.getValue("InputGeometry");this.instructionMessage=this.activityContext.getValue("Message");this.requiredMessage=this.activityContext.getValue("RequiredMessage")||this.app.getResource(this.libraryId,
"language-capture-geometry-required-message");this.currentExtentLabel=this.activityContext.getValue("CurrentExtentLabel")||this.app.getResource(this.libraryId,"language-current_extent");this.showCapturedGeometry=this.activityContext.getValue("ShowCapturedGeometry");this.geometryRequired=this.activityContext.getValue("GeometryRequired");this.customGeometryInstructions=this.activityContext.getValue("CustomGeometryInstructions");this.autoSubmit=this.activityContext.getValue("AutoSubmit");this.showCapturedGeometry&&
(this.graphicsLayer=this.app.map.graphics);"CurrentExtent"===a&&this.setDrawMode(this.app.map,g,!0);this.inputGeometry&&(this.addGraphic(this.inputGeometry,null,this.app.map),this.setCaptureResult(this.inputGeometry));f=this.activityContext.getValue("Buttons");e=[];if(f)for(g=0;g<f.length;g++)h=new d.forms.FormButton(f[g].Label,f[g].Value,f[g].CausesValidation,f[g].IsDefault),f[g].IsDefault&&(this.defaultButton=h),e.push(h);else f=this.defaultButton=new d.forms.FormButton("OK","OK",!0,!0),e.push(f),
e.push(new d.forms.FormButton("Cancel","Cancel",!1,!1));this.buttons=new ObservableCollection(e);this.app.trace.debug("DisplayCaptureGeometryViewModel: object initialized.");this.app.event("MapMouseDownEvent").subscribe(this,function(a){3===a.which&&b.toolbar&&b.cleanUp()})};b.prototype.clearGraphics=function(){this.graphicsLayer&&this.graphicsLayer.clear()};b.prototype.addGraphic=function(a,b,e){var d=null,d=null;this.showCapturedGeometry&&a&&e&&(b||(b=this._getDrawTool(e)),d=a.type,d="point"===
d||"multipoint"===d?b.markerSymbol:"line"===d||"polyline"===d?b.lineSymbol:b.fillSymbol,this.graphicsLayer.add(new esri.Graphic(a,d)))};b.prototype.setCaptureResult=function(a){!a&&this.geometryRequired?this.showRequiredValidationMessage.set(!0):(this.capturedMessageVisible.set(this.activityContext.getValue("ShowCapturedMessage")),this.showRequiredValidationMessage.set(!1),"extent"===a.type&&(a=d.essentials.GeometryUtilities.envelopeToPolygon(a)),this.activityContext.setValue("Result",a))};b.prototype._getDrawTool=
function(a){null==this.toolbar&&(this.toolbar=this.app.accessibilityManager.createComponent("geocortex.accessibility.draw",a,{showTooltips:!1}),dojo.connect(this.toolbar,"onDrawEnd",dojo.hitch(this,this.drawEnd)));return this.toolbar};b.prototype.setDrawMode=function(a,b,e){a&&(e?(this.cleanUp(),this.addGraphic(a.extent,null,a),this.setCaptureResult(a.extent)):esri.toolbars&&esri.toolbars.Draw&&(this.app.command("ShowMap").execute(),this.app.command("ClearActiveTool").execute(),this.app.configuration.mobileMode&&
!e&&this.app.command("CloseDataFrame").execute(),a=this._getDrawTool(a),this.drawType=d.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.getEsriGeometryType(b.typeName),this.app.trace.debug("DisplayCaptureGeometryViewModel: setDrawMode :: Draw mode set."),!this._inputMethodChangeHandle&&a instanceof d.essentialsHtmlViewer.mapping.infrastructure.accessibility.Draw&&(this._inputMethodChangeHandle=dojo.aspect.after(a,"onInputMethodChange",dojo.hitch(this,"_onInputMethodChange"),!0)),a.deactivate(),
a.activate(this.drawType),this.app.trace.debug("DisplayCaptureGeometryViewModel: setDrawMode :: Toolbar activated."),this.showCaptureStatusMessages&&(a=d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowModule.getCaptureGeometryStatusMessage(this.app,this.libraryId,this.drawType,!0),b=new d.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(a,null,dojo.hitch(this,this.userCancelled),b.className,this.statusMessageID),this.app.command("AddStatus").execute(b),this.app.trace.debug("DisplayCaptureGeometryViewModel: setDrawMode :: Status Message assigned and displayed."))))};
b.prototype.setCaptureTypeSelection=function(a){null!=this.activeCaptureType&&this.activeCaptureType.isSelected.set(!1);this.activeCaptureType=a;a.isSelected.set(!0)};b.prototype.drawEnd=function(a){var b=this.app.map,e=this._getDrawTool(b);if("multipoint"!=a.type||0<a.points.length)this.setCaptureResult(a),this.addGraphic(a,e,b);this.app.command("ActivateContainersForWorkflow").execute(this.activityContext.workflow().id);this.cleanUp();this.app.trace.debug("DisplayCaptureGeometryViewModel: drawEnd :: draw ended.");
this.autoSubmit&&this.app.event("Submit").publish(this)};b.prototype.cleanUp=function(){this.showCaptureStatusMessages&&this.app.command("RemoveStatus").execute(this.statusMessageID);null!=this.activeCaptureType&&(this.activeCaptureType.isSelected.set(!1),this.activeCaptureType=null);this._inputMethodChangeHandle&&(this._inputMethodChangeHandle.remove(),this._inputMethodChangeHandle=null);this.toolbar&&(this.toolbar.deactivate(),this.toolbar=null);this.app.trace.debug("DisplayCaptureGeometryViewModel: cleanUp :: clean up finished.")};
b.prototype.userCancelled=function(){this._getDrawTool(this.app.map).finishDrawing();this.cleanUp()};b.prototype.validate=function(){var a=[];this.geometryRequired&&this.showRequiredValidationMessage&&this.showRequiredValidationMessage.get()&&a.push(new d.forms.items.validation.ValidationResult(!1,this.requiredMessage));return a};b.prototype.viewUnhostedHandler=function(a){a.view.viewModel==this&&this.cleanUp()};b.prototype.getCaptureGeometryTooltip=function(a){switch(a){case "MapPoint":return this.getResource("language-capture-geometry-point_tooltip");
case "MultiPoint":return this.getResource("language-capture-geometry-multi-point_tooltip");case "Polyline":return this.getResource("language-capture-geometry-polyline_tooltip");case "FreehandPolyline":return this.getResource("language-capture-geometry-freehand-polyline_tooltip");case "Polygon":return this.getResource("language-capture-geometry-polygon_tooltip");case "Extent":return this.getResource("language-capture-geometry-rectangle_tooltip")}return this.getResource("language-current_extent_tooltip")};
b.prototype._onInputMethodChange=function(a){this.showCaptureStatusMessages&&(a=d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowModule.getCaptureGeometryStatusMessage(this.app,this.libraryId,this.drawType,!0,a?a.newMethod:null),a=new d.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(a),a.id=this.statusMessageID,this.app.command("UpdateStatus").execute(a),this.app.trace.debug("DisplayCaptureGeometryViewModel: _onInputMethodChange :: Status message updated."))};return b}(d.framework.ui.ViewModelBase);
f.DisplayCaptureGeometryViewModel=g})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,b){d.call(this,a,b);this.token=this.workflowFormContent=this.activityContext=null;this.token=this.app.event("Submit").subscribe(this,this.submitRequest)}__extends(b,d);b.prototype.attach=function(a){if(!a)throw Error("{0}: A view model must be specified to attach to.".format(this.id));d.prototype.attach.call(this,a);this.title.set(this.viewModel.title.get());this.app.event("ViewActivatedEvent").publish(this);
this.app.viewManager.notifyDimensionsChanged(this)};b.prototype.deactivated=function(){d.prototype.deactivated.call(this);this._deactivated()};b.prototype.handleClickButton=function(a,b,e){this.viewModel.clearGraphics();this.finishFormWithButton(e)};b.prototype.handleCaptureTypeSelection=function(a,b,e){this.viewModel.clearGraphics();this.viewModel.setDrawMode(this.app.map,e,b&&"CurrentExtent"===b.id);this.viewModel.setCaptureTypeSelection(e)};b.prototype.submitRequest=function(){null!=this.viewModel.defaultButton&&
this.finishFormWithButton(this.viewModel.defaultButton)};b.prototype.finishFormWithButton=function(a){this._processForm(this.activityContext,a)&&(this.workflowContainer&&this.workflowContainer.view&&(this.workflowContainer.hasContent.set(!1),this.app.viewManager.notifyDimensionsChanged(this.workflowContainer.view)),this.app.event("Submit").unsubscribe(this.token),this.app.viewManager.destroyView(this))};b.prototype._processForm=function(a,b){var e=null,d=null;if(b&&b.causesValidation&&b.causesValidation.get()){for(var e=
this.viewModel.validate(),d=[],f=0;f<e.length;++f)!1==e[f].isValid&&d.push(e[f]);if(d&&0<d.length)return this.viewModel.validationResults.set(d),!1;this.viewModel.validationResults.clear()}a.setValue("ButtonResultValue",b.value.get());a.completeActivity();return!0};b.prototype._deactivated=function(){this.viewModel.clearGraphics()};return b}(d.framework.ui.ViewBase);f.DisplayCaptureGeometryView=g})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,b){d.call(this,a,b)}__extends(b,d);b.prototype.attach=function(a){if(!a)throw Error("{0}: A view model must be specified to attach to.".format(this.id));d.prototype.attach.call(this,a);this.title.set(this.viewModel.title.get());this.workflowContainer&&this.workflowContainer.view&&this.app.viewManager.notifyDimensionsChanged(this.workflowContainer.view)};b.prototype.handleClickButton=function(a,b,e){this.activityContext&&
(this.activityContext.setValue("ButtonResultValue",e.value.get()),this.activityContext.completeActivity());this.workflowContainer&&(this.workflowContainer.hasContent.set(!1),this.app.viewManager.notifyDimensionsChanged(this.workflowContainer.view));this.app.viewManager.destroyView(this)};return b}(d.framework.ui.ViewBase);f.DisplayHyperlinkView=g})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=f.infrastructure.selection.CombineMode,l=function(b){function a(a,e){b.call(this,a,e);this._defaultFeatureSetCollection=this._defaultContainerRegionName=this._iconMap=this._workflowContainers=this._lastOpenedCollectionId=this._startupWorkflowIds=this.defaultContainerName=this._defaultContainerIconUri=this._defaultContainerTitle=this._containerConfigs=this._eventListenersToken=this._eventListenersResults=this.configuration=this.dispatcher=
null}__extends(a,b);a.prototype.initialize=function(a){var e=this;this._eventListenersResults={};this._eventListenersToken=[];this.configuration=a;b.prototype.initialize.call(this,arguments);this.defaultContainerName="Default";a&&void 0==a.showCaptureStatusMessages&&(a.showCaptureStatusMessages=!0);this._defaultFeatureSetCollection||(this._defaultFeatureSetCollection=new f.infrastructure.FeatureSetCollection,this._defaultFeatureSetCollection.sourceName="Workflow",this._defaultFeatureSetCollection.displayName.set(a.defaultContainerTitle||
this.getResource("@language-workflow-title")),this.app.featureSetManager.addCollection(this._defaultFeatureSetCollection));this._iconMap=a.icons?a.icons:{};this._workflowContainers={};this._defaultContainerTitle=a.defaultContainerTitle||this.getResource("@language-workflow-title");this._defaultContainerRegionName=a.defaultContainerRegionName||"ModalWindowRegion";this._defaultContainerIconUri=a.defaultContainerIconUri||"Resources/Images/workflow-24.png";this._containerConfigs={};for(var g=0;g<a.containers.length;++g){var h=
a.containers[g],l=new d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowContainerConfig(h);l.iconUri.set(h.iconUri||this._defaultContainerIconUri);l.title.set(h.title);this._containerConfigs[l.name]=l}this._startupWorkflowIds=[];if(a.startupWorkflows&&a.startupWorkflows.length)for(g=0;g<a.startupWorkflows.length;g++)(h=a.startupWorkflows[g])&&(h.id?this._startupWorkflowIds.push(h.id):this._startupWorkflowIds.push(h));g=this._getUrlParameterIgnoreCase("run")||this._getUrlParameterIgnoreCase("runWorkflow")||
this._getUrlParameterIgnoreCase("runWorkflowById");if(this.app.urlParameters&&g){var m;this.app.urlParameters[g]&&(m=this.app.urlParameters[g].split(","));for(g=0;g<m.length;g++)h=m[g],0>dojo.indexOf(this._startupWorkflowIds,h)&&this._startupWorkflowIds.push(h)}this.dispatcher=new d.workflow.DefaultActivityDispatcher(function(a,b){e.app.event("WorkflowActivityDispatchError").publish({error:a,context:b});e.app.event("WorkflowActivityDispatchErrorEvent").publish({error:a,context:b})},function(a){e.app.event("WorkflowActivityBegin").publish(a.workflow());
e.app.event("WorkflowActivityStartedEvent").publish(a.workflow())},function(a){e.app.event("WorkflowActivityComplete").publish(a.workflow());e.app.event("WorkflowActivityCompletedEvent").publish(a.workflow())},function(a,b){e.app.event("WorkflowCompletedEvent").publish(b,a);e.app.event("WorkflowComplete").publish(b,a)},function(a,b){var c=b||a.workflow();c&&(e.app.event("WorkflowAbortedEvent").publish(c),e.app.trace.debug("Workflow '{0}' with id '{1}' aborted by the '{2}' activity.".format(c.displayName,
c.id,a.getDisplayName())))},function(a,b){e.app.event("WorkflowWebRequestStartedEvent").publish(a,b)},function(a,b){e.app.event("WorkflowWebRequestCompletedEvent").publish(a,b)});this.dispatcher.handleUnhandledActivityErrorFunction=function(a,b){e.app.trace.error(a.toString())};this.dispatcher._showDebugHandler=function(a,b){e._showDebugHandler(e,a,b)};this.dispatcher.handleOpenReportUrlFunction=function(a,b){e._handleOpenReportUrl(e,a,b)};this.app.event("WorkflowCompletedEvent").subscribe(this,function(a){e.cleanupViewsForWorkflow(a)});
this.app.event("WorkflowAbortedEvent").subscribe(this,function(a){e.cleanupViewsForWorkflow(a)});this.app.event("ActiveToolChanged").subscribe(this,function(a){e.dispatcher.abortMapBasedActivity()});this.app.event("WorkflowActivityDispatchErrorEvent").subscribe(this,function(a){var b=a.error;a=a.context;b=e.app.getResource(e.libraryId,"language-workflow-error").format(b.message);e.app.command("Alert").execute(b);e.app.trace.error(b);a&&a.workflow&&e.cleanupViewsForWorkflow(a.workflow())});this.app.event("FSMCollectionOpenedEvent").subscribe(this,
function(a){a&&a.featureSetCollection&&(e._lastOpenedCollectionId=a.featureSetCollection.id)});d.forms.renderFormItem=function(a){var b=null;e.configuration&&e.configuration.hasOwnProperty("formItems")&&(b=e.configuration.formItems);var c=null;a&&a.formDefinition&&(c=a.formDefinition.attached_application);return d.essentialsHtmlViewer.mapping.modules.workflow.forms.FormRenderer.getItemView(c,a,b).root};this.registerActivityHandlers();this.registerCommands();if(this.app.site&&this.app.site.isInitialized)this._onSiteInitialized(this.app.site);
else this.app.event("SiteInitializedEvent").once(this,this._onSiteInitialized);a&&a.tools&&this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,!0)};a.prototype._getUrlParameterIgnoreCase=function(a){if(this.app.urlParameters)for(var b in this.app.urlParameters)if(this.app.urlParameters.hasOwnProperty(b)&&!String.isNullOrEmpty(b)&&!String.isNullOrEmpty(a)&&b.toLowerCase()===String(a).toLowerCase())return b;return null};a.prototype.remapWorkflowContainerIconUri=function(a){var b=
null;return b=this._iconMap&&this._iconMap[a]?this._iconMap[a]:String.isNullOrEmpty(a)?this._defaultContainerIconUri:a};a.prototype.shutdown=function(a){if(this._eventListenersToken)for(a=0;a<this._eventListenersToken.length;a++)this._eventListenersToken[a]()};a.prototype._showDebugHandler=function(a,b,f){var g=this,h={typeName:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormView",markupResource:"Mapping/modules/Workflow/WorkflowFormView.html",isVisible:!0,regionName:a._defaultContainerRegionName,
libraryId:a.libraryId,iconUri:a.configuration.defaultContainerIconUri,configuration:{activityContext:null}},l=new d.workflow.ActivityContext(this.dispatcher,0,null,null);h.configuration.activityContext=l;var m=new d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormViewModel(a.app);m.activityContext=l;m.initialize({showTitleInFormBody:null==a.configuration?!1:a.configuration.showTitleInFormBody||!1,formDefinition:b,buttons:[new d.forms.FormButton("OK","OK",!1,!0)]});var p=a.app.viewManager.createView(h);
p.attach(m);p.configuration={};l.completeActivity=function(){g.app.viewManager.destroyView(p);dojo.isFunction(f)&&f()};a.app.viewManager.activateView(p)};a.prototype._handleOpenReportUrl=function(a,b,f){var g=a.app.viewManager.createView({markupResource:"Mapping/modules/Workflow/DisplayReportUrlView.html",typeName:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.DisplayReportUrlView",isVisible:!0,libraryId:a.libraryId,iconUri:a._defaultContainerIconUri}),h=new d.essentialsHtmlViewer.mapping.modules.workflow.DisplayReportUrlViewModel(this.app,
this.libraryId);h.app=a.app;h.libraryId=a.libraryId;h.initialize(b);g.attach(h);g.activityContext=f;g.activityContextCompleteActivity=f.completeActivity;f.completeActivity=function(){a.app.trace.debug("activityContext.completeActivity ignored because the report url view is open")};b=new Observable(this.app.getResource(this.libraryId,"language-workflow-report-url-title"));h=a.getOrCreateContainer("Default");a.displayContainerContent(g,h,b,f)};a.prototype.getOrCreateContainer=function(a){var b=this._containerConfigs[a];
null==b&&(b=new d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowContainerConfig({name:a,regionName:this._defaultContainerRegionName,view:null}),b.iconUri.set(this._defaultContainerIconUri),b.title.set(this._defaultContainerTitle));return b};a.prototype.cleanupViewsForWorkflow=function(a){var b=this._workflowContainers[a.id];null==b&&(b=this._workflowContainers[a.id]=[]);for(var f=0;f<b.length;++f){var g=b[f];d.resourceManager.remove(this.libraryId,g.resourceName,"inv");this.app.viewManager.destroyView(g.view);
g.view=null}this._workflowContainers[a.id]=[]};a.prototype.createContainerView=function(a,b){var f=b.workflow(),g=d.resourceManager.fetch("Mapping/modules/Workflow/WorkflowContainerView.html",this.libraryId,"inv");if(null==g)return this.app.trace.warning("Could not create container '{0}' - markup resource '{1}' could not be found.".format(a.name,"Mapping/modules/Workflow/WorkflowContainerView.html")),!1;var h="WorkflowContainerRegion-{0}".format(d.framework.utils.alphaNumericToken()),g=g.replace("!region-name-placeholder!",
h),l="DynamicView-{0}-{1}".format(h,f.id);d.resourceManager.register(this.libraryId,"inv",l,"html",d.framework.utils.base64Encode(g));g={typeName:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowContainerView",isVisible:!0,regionName:a.regionName,configuration:{internalRegionName:h,showXButton:a.allowClose},libraryId:this.libraryId,isManaged:null,iconUri:null,markupResource:null};g.isManaged=a.isManaged;g.iconUri=a&&a.iconUri?a.iconUri.get():this._defaultContainerIconUri;g.markupResource=
l;a.view=this.app.viewManager.createView(g);a.view.activityContext=b;a.internalRegionName=h;a.activityContext=b;a.resourceName=l;a.view.attach(a);h=this._workflowContainers[f.id];null==h&&(h=this._workflowContainers[f.id]=[]);Array.contains(h,a)||h.push(a);return!0};a.prototype.displayContainerContent=function(a,b,d,f){var g=f.workflow();null==b.view&&this.createContainerView(b,f);a.regionName=b.internalRegionName;null!=d&&b.view.viewModel.title.set(d.get());b.showOverlay.set(!1);b.hasContent.set(!0);
b.view.activityContext=f;this.app.viewManager.activateView(b.view);this.app.viewManager.activateView(a);this.app.command("FocusOnFirstInputInView").execute(a);this.app.viewManager.notifyDimensionsChanged(b.view);a=this._workflowContainers[g.id];null==a&&(a=this._workflowContainers[g.id]=[]);Array.contains(a,b)||a.push(b)};a.prototype.getEssentialsLayerInfoFromLayer=function(a){if(!a)return null;var b=new d.essentials.EssentialsLayerInfo;b.mapServiceUrl=a.mapService.serviceUrl;b.mapServiceId=a.mapService.id;
b.token=a.mapService.serviceToken;b.isVisible=a.isVisible();b.isDynamic=a.isDynamic;b.id=a.id;b.name=a.name;b.displayName=a.displayName;b.layerUrl=b.mapServiceUrl+"/"+(b.isDynamic?"dynamicLayer":b.id);if(b.isDynamic&&(a=a.mapService.serviceLayer)&&a.dynamicLayerInfos)for(var f=0;f<a.dynamicLayerInfos.length;f++){var g=a.dynamicLayerInfos[f];if(g&&g.id.toString()===b.id){g.source&&(b.layerSourceJson=JSON.stringify(g.source.toJson()));break}}return b};a.prototype.getEssentialsFeatureSetFromFeatureSet=
function(a){var b=new d.essentials.EssentialsFeatureSet;b.featureSetId=a.id;b.featureSetDisplayName=a.displayName.get();b.esriFeatureSet=null;b.layerInfo=null;a.esriFeatureSet&&(a.esriFeatureSet.features=a.esriFeatureSet.features||[],b.esriFeatureSet=a.esriFeatureSet.toJson());a.layer&&(b.layerInfo=this.getEssentialsLayerInfoFromLayer(a.layer));return b};a.prototype.getFeaturesInCollection=function(a,b){var d=[],f=null;a?a&&(f="Active"==a?this.app.featureSetManager.getCollectionById(this._lastOpenedCollectionId):
this.app.featureSetManager.getCollectionById(a)):f=this.app.featureSetManager.getCollectionById(this._lastOpenedCollectionId);if(f&&f.featureSets&&0<f.featureSets.getLength())if(b)(h=f.getFeatureSetById(b))&&d.push(this.getEssentialsFeatureSetFromFeatureSet(h));else for(var g=0;g<f.featureSets.getLength();g++){var h=f.featureSets.getAt(g);h&&d.push(this.getEssentialsFeatureSetFromFeatureSet(h))}return d};a.prototype.getFeaturesInCollectionAsync=function(a,b){var d=this;return this._findCollectionForGetSelectedFeaturesActivity(a).then(function(a){var c=
[];if(a&&a.featureSets&&0<a.featureSets.getLength())if(b)(g=a.getFeatureSetById(b))&&c.push(d.getEssentialsFeatureSetFromFeatureSet(g));else for(var f=0;f<a.featureSets.getLength();f++){var g=a.featureSets.getAt(f);g&&c.push(d.getEssentialsFeatureSetFromFeatureSet(g))}return c})};a.prototype._findCollectionForGetSelectedFeaturesActivity=function(a){var b=this;if(!a){var d=this.app.featureSetManager.getCollectionById(this._lastOpenedCollectionId);return Promise.resolve(d)}return"active"==a.toLowerCase()?
(d=this.app.featureSetManager.getCollectionById(this._lastOpenedCollectionId),Promise.resolve(d)):this._findResultsByName(a).then(function(d){d||(d=b.app.featureSetManager.getCollectionById(a));return d})};a.prototype._findResultsByName=function(a){var b=this;return(new Promise(function(d,f){a?b.app.command("FindSelection").execute({name:a,successCallback:d,errorCallback:f}):d(null)}))["catch"](function(a){return null})};a.prototype.prepFeatureSetInCollection=function(a){var b=this;a=a||{};this._findCollectionForSelectFeaturesActivity(a.collectionId).then(function(d){return b._combineFeatureSetWithCollection(d,
a)}).then(function(d){a.showNotification&&b._displayNotification(d,a.featureSet,a.combineMode)})["catch"](function(d){a.showNotification&&b._handleError(d)})["finally"](function(){a.callback&&"function"===typeof a.callback&&a.callback()})};a.prototype._findCollectionForSelectFeaturesActivity=function(a){var b=this;return Promise["try"](function(){return b._getDefaultCollectionForEmptyId(a)}).then(function(d){return b._findCollectionInSavedResults(d,a)}).then(function(d){return b._findCollectionById(d,
a)}).then(function(d){return b._createNewCollection(d,a)})};a.prototype._getDefaultCollectionForEmptyId=function(a){var b;a||(b=this.app.featureSetManager.getCollectionById(this._defaultFeatureSetCollection.id),b||(b=this._defaultFeatureSetCollection,this.app.featureSetManager.addCollection(b)));return b};a.prototype._findCollectionInSavedResults=function(a,b){return!a&&b?this._findResultsByName(b):Promise.resolve(a)};a.prototype._findCollectionById=function(a,b){!a&&b&&(a=this.app.featureSetManager.getCollectionById(b))&&
a.displayName.set(b);return a};a.prototype._createNewCollection=function(a,b){!a&&b&&(a=new f.infrastructure.FeatureSetCollection,a.id=b,a.sourceName="Workflow",a.displayName.set(b),this.app.featureSetManager.addCollection(a));return a};a.prototype._combineFeatureSetWithCollection=function(a,b){var d=this,g=null,h=b.featureSet,l=b.layer,x=b.clearCollectionFirst,s=b.combineMode;a.setExtendedProperty("ShowPushpins",b.showPushpins);x&&(s=m.REPLACE);String.isNullOrEmpty(h.displayName.get())&&l&&h.displayName.set(l.displayName?
l.displayName:l.name);this.app.featureSetManager.openCollection(a.id);l=new f.infrastructure.FeatureSetCollection;l.featureSets.addItem(h);0<a.featureSets.getLength()&&(g=a.getFeatureSetById(h.id));g&&s!==m.REPLACE?(String.isNullOrEmpty(h.displayName.get())?g.displayName.set(h.id):g.displayName.set(h.displayName.get()),this._combineCollections(a,l,s),g.resolveDataLinks(function(a){d.app.event("FeatureChangedEvent").publish(a)})):(this._combineCollections(a,l,s),h.resolveDataLinks(function(a){d.app.event("FeatureChangedEvent").publish(a)}));
this.app.featureSetManager.closeCollection(a.id);return a};a.prototype._combineCollections=function(a,b,d){switch(d){case m.REPLACE:a.clear();a.featureSets.addItems(b.featureSets.getItems());break;case m.INTERSECT:a.intersectInPlace(b);a.featureSets.pulse();break;case m.SUBTRACT:a.subtractInPlace(b);a.featureSets.pulse();break;case m.UNION:a.unionInPlace(b);a.featureSets.pulse();break;default:a.unionInPlace(b),a.featureSets.pulse()}};a.prototype._displayNotification=function(a,b,d){var g;b=b.features.length();
a=a.displayName.get();switch(d){case f.infrastructure.selection.CombineMode.UNION:g=this.getResource("language-select-features-union-confirmation");break;case f.infrastructure.selection.CombineMode.INTERSECT:g=this.getResource("language-select-features-intersect-confirmation");break;case f.infrastructure.selection.CombineMode.SUBTRACT:g=this.getResource("language-select-features-subtract-confirmation");break;case f.infrastructure.selection.CombineMode.REPLACE:g=this.getResource("language-select-features-replace-confirmation")}g&&
(g=g.format(a,b),this.app.command("AddResultsStatus").execute(g))};a.prototype._handleError=function(a){var b=a&&"UiError"==a.name?a.message:this.getResource("language-saved-results-error-message");this.app.command("AddResultsStatus").execute(b);this.app.trace.error(a.message,a);return a};a.prototype.registerActivityHandlers=function(){var a=this;this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.ListenForExternalEvent",function(b){d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleListenForExternalEvent(a,
b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.CollectExternalEventArgs",function(b){d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleCollectExternalEventArgs(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.Alert",function(b){d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleAlert(a,b)});this.dispatcher.registerExternalIdHandler("IntersectLayers",d.workflow.DefaultActivityHandlers.handleIntersectLayers);
this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.ConfigureWorkflowContainer",function(b){d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleConfigureWorkflowContainer(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.Confirm",function(b){d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleConfirm(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.DisplayForm",function(b){d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleDisplayForm(a,
b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.DisplayHyperlink",function(b){d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleDisplayHyperlink(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.DisplayCaptureGeometry",function(b){d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleDisplayCaptureGeometry(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.Report",function(b){var f=
b.getValue("MapServiceId"),g=b.getValue("LayerName"),h=b.getValue("ReportId");a.app.event("ReportTemplateStartedEvent").publish(h,f,g);d.workflow.DefaultActivityHandlers.handleReport(b);a.app.event("ReportTemplateCompletedEvent").publish(h,f,g)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.Prompt",function(b){d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handlePrompt(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.RunExternalCommand",
function(b){d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleRunExternalCommand(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.SelectFeatures",function(b){d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleSelectFeatures(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.GetSelectedFeatures",function(b){d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleGetSelectedFeatures(a,b)});
this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.DisplayResultPicker",function(b){d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleDisplayResultPicker(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.ExternalLog",function(b){d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleExternalLog(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.ShowMapTip",function(b){d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleShowMapTip(a,
b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.CaptureGeometry",function(b){d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleCaptureGeometry(a,b)});this.app.setWorkflowActivityDispatcher(this.dispatcher)};a.prototype._getContainersForWorkflowId=function(a){return this._workflowContainers&&this._workflowContainers.hasOwnProperty(a)?this._workflowContainers[a]:null};a.prototype._activateContainersForWorkflow=function(a){if((a=this._getContainersForWorkflowId(a))&&
0<a.length)for(var b=0;b<a.length;++b)this.app.command("ActivateView").execute(a[b].view.id)};a.prototype._deactivateContainersForWorkflow=function(a){if((a=this._getContainersForWorkflowId(a))&&0<a.length)for(var b=0;b<a.length;++b)this.app.command("DeactivateView").execute(a[b].view.id)};a.prototype.registerCommands=function(){var a=this;this.app.command("RunWorkflowById").register(this,function(b){if(a.app.site&&a.app.site.isInitialized)if(a.app&&a.app.isOffline&&a.app.isOffline.get())a.app.command("Alert").execute(a.app.getResource(a.libraryId,
"language-workflow-offline"),a.app.getResource(a.libraryId,"language-workflow-offline-title")),a.app.trace.error("Error running workflow '{0}' - Unable to run workflows in an offline state".format(b));else{var f=a.app.site.findWorkflowById(b);f?(d.workflow.WorkflowControllerProxy.startWorkflow(f,a.dispatcher,null),a.app.command("LogOptimizerEvent").execute("RunWorkflow",f.id)):a.app.trace.error("Error running workflow '{0}' - workflow not found in site.".format(b))}else a.app.trace.error("Error running workflow '{0}' - Site was not initialized.".format(b))},
function(b){return!a.app||!a.app.site||!a.app.site.isInitialized||a.app.isOffline&&a.app.isOffline.get()||!a.app.site.findWorkflowById(b)?!1:!0});this.app.command("RunWorkflowWithGeometry").register(this,function(b){if(a.app.site&&a.app.site.isInitialized)if(a.app&&a.app.isOffline&&a.app.isOffline.get())a.app.command("Alert").execute(a.app.getResource(a.libraryId,"language-workflow-offline"),a.app.getResource(a.libraryId,"language-workflow-offline-title")),a.app.trace.error("Error running workflow '{0}' - Unable to run workflows in an offline state".format(b.workflowId));
else{var f=a.app.site.findWorkflowById(b.workflowId);if(f){var g=f.getInputs();if(b.geometry&&g)for(var h=0;h<g.length;h++){var l=g[h];null!=l&&null!=l.typeName&&("ESRI.ArcGIS.Client.Geometry.Geometry, ESRI.ArcGIS.Client"==l.typeName||"point"==b.geometry.type&&"ESRI.ArcGIS.Client.Geometry.Point, ESRI.ArcGIS.Client"==l.typeName||"multipoint"==b.geometry.type&&"ESRI.ArcGIS.Client.Geometry.MultiPoint, ESRI.ArcGIS.Client"==l.typeName||"polyline"==b.geometry.type&&"ESRI.ArcGIS.Client.Geometry.Polyline, ESRI.ArcGIS.Client"==
l.typeName||"polygon"==b.geometry.type&&"ESRI.ArcGIS.Client.Geometry.Polygon, ESRI.ArcGIS.Client"==l.typeName||"extent"==b.geometry.type&&"ESRI.ArcGIS.Client.Geometry.Envelope, ESRI.ArcGIS.Client"==l.typeName)&&(l.value=b.geometry)}d.workflow.WorkflowControllerProxy.startWorkflow(f,a.dispatcher,g);a.app.command("LogOptimizerEvent").execute("RunWorkflow",f.id)}else a.app.trace.error("Error running workflow '{0}' - workflow not found in site.".format(b.workflowId))}else a.app.trace.error("Error running workflow '{0}' - Site was not initialized.".format(b.workflowId))},
function(b){return b&&b.workflowId&&b.geometry&&a.app.site&&a.app.site.isInitialized&&a.app.site.findWorkflowById(b.workflowId)?!0:!1});this.app.command("RunWorkflowWithArguments").register(this,function(b){if(a.app.site&&a.app.site.isInitialized)if(a.app&&a.app.isOffline&&a.app.isOffline.get())a.app.command("Alert").execute(a.app.getResource(a.libraryId,"language-workflow-offline"),a.app.getResource(a.libraryId,"language-workflow-offline-title")),a.app.trace.error("Error running workflow '{0}' - Unable to run workflows in an offline state".format(b.workflowId));
else{var f=a.app.site.findWorkflowById(b.workflowId);if(f){var g=f.getInputs();if(g)for(var h=0;h<g.length;h++)g[h].value=b[g[h].name];d.workflow.WorkflowControllerProxy.startWorkflow(f,a.dispatcher,g);a.app.command("LogOptimizerEvent").execute("RunWorkflow",f.id)}else a.app.trace.error("Error running workflow '{0}' - workflow not found in site.".format(b.workflowId))}else a.app.trace.error("Error running workflow '{0}' - Site was not initialized.".format(b.workflowId))},function(b){return b&&b.workflowId&&
a.app.site&&a.app.site.isInitialized&&a.app.site.findWorkflowById(b.workflowId)?!0:!1});this.app.command("DisplayWorkflowContainerContent").register(this,function(b){var d=b.containerName,f=b.view;b=b.activityContext;if(null!=d)d=a.getOrCreateContainer(d);else throw Error("Missing container name in DisplayWorkflowContainerContent.");a.displayContainerContent(f,d,d.title,b)});this.app.command("ActivateContainersForWorkflow").register(this,this._activateContainersForWorkflow);this.app.command("DeactivateContainersForWorkflow").register(this,
this._deactivateContainersForWorkflow)};a.prototype._onSiteInitialized=function(a){if(a&&a.isInitialized){for(var b=this.app.site.workflows,f=0;f<b.length;f++){var g=b[f];g.runOnStartup&&0>this._startupWorkflowIds.indexOf(g.id)&&this._startupWorkflowIds.push(g.id);0===f&&(this.app.command("RunWorkflowById").raiseCanExecuteChanged(),this.app.command("RunWorkflowWithArguments").raiseCanExecuteChanged(),this.app.command("RunWorkflowWithGeometry").raiseCanExecuteChanged())}if(null!=this._startupWorkflowIds&&
0!=this._startupWorkflowIds.length)for(f=0;f<this._startupWorkflowIds.length;f++)if(b=this._startupWorkflowIds[f],null!=b)if(g=a.findWorkflowById(b)){b=g.getInputs();if(null!=b&&this.app.urlParameters)for(var h=0;h<b.length;h++){var l=b[h];if(null!=l&&null!=l.name){var m=this.app.urlParameters[l.name];m&&(l.value=m)}}d.workflow.WorkflowControllerProxy.startWorkflow(g,this.dispatcher,b);this.app.command("LogOptimizerEvent").execute("RunWorkflow",g.id)}else this.app.trace.error("Error running startup workflow '{0}' - workflow not found in site.".format(b))}else this.app.trace.error("Error processing startup workflows. - site was not initialized.")};
a.getCaptureGeometryStatusMessage=function(a,b,d,g,h){void 0===h&&(h=f.infrastructure.accessibility.InputMethod.MOUSE);switch(d){case esri.toolbars.Draw.POINT:return a=h==f.infrastructure.accessibility.InputMethod.KEYBOARD?a.getResource(b,"language-capture-geometry-point-keyboard"):a.getResource(b,"language-capture-geometry-point");case esri.toolbars.Draw.MULTI_POINT:return g?a.getResource(b,"language-capture-geometry-multi-point"):a.getResource(b,"language-capture-geometry-point");case esri.toolbars.Draw.POLYLINE:return a=
h==f.infrastructure.accessibility.InputMethod.KEYBOARD?a.getResource(b,"language-capture-geometry-polyline-keyboard"):a.getResource(b,"language-capture-geometry-polyline");case esri.toolbars.Draw.POLYGON:return a=h==f.infrastructure.accessibility.InputMethod.KEYBOARD?a.getResource(b,"language-capture-geometry-polygon-keyboard"):a.getResource(b,"language-capture-geometry-polygon");case esri.toolbars.Draw.FREEHAND_POLYLINE:return a.getResource(b,"language-capture-geometry-freehand-polyline");case esri.toolbars.Draw.FREEHAND_POLYGON:return a.getResource(b,
"language-capture-geometry-freehand-polygon");case esri.toolbars.Draw.EXTENT:return a.getResource(b,"language-capture-geometry-rectangle")}return a.getResource(b,"language-capture-geometry-default")};return a}(d.framework.application.ModuleBase);g.WorkflowModule=l})(g.workflow||(g.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,b){f.call(this,a,b);this.target=this.hyperlinkText=this.uri=this.message=this.buttons=this.workflowContainer=this.activityContext=null;this.title=new Observable("");this.showTitleInFormBody=new Observable(!1)}__extends(b,f);b.prototype.initialize=function(a){if(this.activityContext&&a){var b=this.activityContext.getValue("Buttons"),e=[];b&&0!==b.length||(b=[{Label:this.app.getResource(this.libraryId,"language-common-close"),
Value:"Close",CausesValidation:!1,IsDefault:!1}]);for(var f=0;f<b.length;f++){var g=new d.forms.FormButton(b[f].Label,b[f].Value,b[f].CausesValidation,b[f].IsDefault);b[f].IsDefault&&(this.defaultButton=g);e.push(g)}this.buttons=Observable.makeBindableProxy(e);this.message=new Observable(this.activityContext.getValue("Message"));this.uri=new Observable(this.activityContext.getValue("Uri"));this.hyperlinkText=new Observable(this.activityContext.getValue("HyperlinkText"));null==this.hyperlinkText.get()&&
this.hyperlinkText.set(this.uri.get());this.target=new Observable(this.activityContext.getValue("Target"));a&&a.hasOwnProperty("showTitleInFormBody")&&this.showTitleInFormBody.set(a.showTitleInFormBody||!1)}};return b}(d.framework.ui.ViewModelBase);f.DisplayHyperlinkViewModel=g})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,b){d.call(this,a,b);this.activityContextCompleteActivity=this.activityContext=null}__extends(b,d);b.prototype.attach=function(a){if(!a)throw Error("{0}: A view model must be specified to attach to.".format(this.id));d.prototype.attach.call(this,a)};b.prototype.handleClickButton=function(a,b,e){this.app.viewManager.destroyView(this)};b.prototype.destroy=function(){d.prototype.destroy.call(this);this._completeActivity()};
b.prototype._completeActivity=function(){if(this.activityContext&&this.activityContextCompleteActivity){var a=this.activityContext;this.activityContext=null;this.activityContextCompleteActivity.apply(a)}};return b}(d.framework.ui.ViewBase);f.DisplayReportUrlView=g})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,b){f.call(this,a,b);this.url=this.buttons=this.workflowContainer=null;this.target="_blank"}__extends(b,f);b.prototype.initialize=function(a){a&&(this.defaultButton=new d.forms.FormButton(this.app.getResource(this.libraryId,"language-common-close"),"Close",!1,!0),this.buttons=Observable.makeBindableProxy([this.defaultButton]),this.url=new Observable(a))};return b}(d.framework.ui.ViewModelBase);f.DisplayReportUrlViewModel=
g})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,b,e){f.call(this,a,b);this.resultTemplateComplexity=this.isSingleSelectionMode=this.selectionModes=this.selectionMode=this.startingIndex=this.defaultButton=this.buttons=this.message=this.workflowContainer=this.activityContext=null;this.featureSet=e;this.title=new Observable("");this.showTitleInFormBody=new Observable(!1);this.filterText=new Observable("");this.selectedFeatures=new ObservableCollection([]);
this.shiftPressed=this.ctrlPressed=!1;this.selectionModes=["single","multiple","extended"];this.disabledLinkCssClass=new Observable("");this.requiredValueErrorMessage=new Observable("");this.cssClass=new Observable("display-result-picker-list");this.features=new ObservableCollection(e.features.get());this.resultsList=new ObservableCollection(this.features.get());this.topOffset=new Observable("0px");this.bottomOffset=new Observable("0px");this.filterSectionVisible=new Observable(!0);this.filterText.bind(this,
function(a){this.filterResults(a)})}__extends(b,f);b.prototype.initialize=function(a){if(this.activityContext&&a){a=this.activityContext.getValue("Buttons");var b=[];a&&0!==a.length||(a=[{Label:this.app.getResource(this.libraryId,"language-common-close"),Value:"Close",CausesValidation:!1,IsDefault:!1}]);for(var e=0;e<a.length;e++){var f=new d.forms.FormButton(a[e].Label,a[e].Value,a[e].CausesValidation,a[e].IsDefault);a[e].IsDefault&&(this.defaultButton=f);b.push(f)}this.buttons=Observable.makeBindableProxy(b);
this.message=new Observable(this.activityContext.getValue("Message"));this.showFilterTextBox=new Observable(this.activityContext.getValue("ShowFilterTextBox"));this.isSingleSelectionMode="single"==this.selectionMode;("single"!=this.selectionMode||null!=this.message.get()||this.showFilterTextBox.get())&&0<this.features.length()?this.filterSectionVisible.set(!0):this.filterSectionVisible.set(!1)}};b.prototype.filterResults=function(a){if(a){0<a.length&&!this.isSingleSelectionMode?this.disabledLinkCssClass.set("bound-visible-inline disabled-link"):
this.isSingleSelectionMode?this.disabledLinkCssClass.set("bound-invisible"):this.disabledLinkCssClass.set("bound-visible-inline");var b={},e;e=[];for(var d,f=[],g=[],h=!1,l=0;l<this.resultsList.length();l++){b=this.resultsList.getAt(l);e=b.descriptionFormat;d=b.labelFormat;e=this.getTokens(e.get());f=this.getTokens(d.get());d=[];if(e&&f)d=e.concat(f);else if(e||f)d=e||f;if(0<d.length)for(e=0;e<d.length;e++)-1==g.indexOf(d[e])&&g.push(d[e]);e=void 0!=a?a.toLowerCase():"";if(0<g.length)for(b=b.esriFeature.get().attributes,
d=0;d<g.length;d++){if(f=b[g[d]])if("string"==typeof f||f instanceof String||(f=f.toString()),f=f.toLowerCase(),-1!==f.indexOf(e)){h=!0;break}}else h=!0;h?this.resultsList.getAt(l).isFiltered.set(!1):this.resultsList.getAt(l).isFiltered.set(!0);h=!1}}else{for(a=0;a<this.resultsList.length();a++)this.resultsList.getAt(a).isFiltered.set(!1);this.isSingleSelectionMode?this.disabledLinkCssClass.set("bound-invisible"):this.disabledLinkCssClass.set("bound-visible-inline")}};b.prototype.featureClicked=function(a){if(void 0!=
a)if(!this.ctrlPressed&&"multiple"!=this.selectionMode||"single"==this.selectionMode)if(this.shiftPressed&&"extended"==this.selectionMode)if(0===this.selectedFeatures.length())this.addFeatureToSelection(a,!0);else if(a=this.features.indexOf(a),a>this.startingIndex){this.clearSelection();for(var b=this.startingIndex;b<=a;b++)this.addFeatureToSelection(this.features.getAt(b),!1)}else for(this.clearSelection(),b=a;b<=this.startingIndex;b++)this.addFeatureToSelection(this.features.getAt(b),!1);else this.clearSelection(),
this.addFeatureToSelection(a,!0);else-1!=this.selectedFeatures.indexOf(a)?this.removeFeatureFromSelection(a):this.addFeatureToSelection(a,!0);return!1};b.prototype.getTokens=function(a){if(!a)return null;a=a.match(/{{.+?}}|{(.+?)}/g);var b=[];if(a)for(var e=0;e<a.length;e++)a[e].match(/{(.+?)}/g)&&!a[e].match(/{{.+?}}/g)&&b.push(a[e].match("{(.+?)}")[1]);return b};b.prototype.addFeatureToSelection=function(a,b){if(void 0!=a.isFiltered.get()&&!a.isFiltered.get()){a.isSelected.set(!0);a.cssClass.set("selected");
for(var e=!1,d=0;d<this.selectedFeatures.getItems().length;d++)if(this.selectedFeatures.getItems()[d]===a){e=!0;break}e||this.selectedFeatures.addItem(a);e=this.features.indexOf(a);b&&-1!=e&&(this.startingIndex=e)}};b.prototype.removeFeatureFromSelection=function(a){a.isSelected.set(!1);a.cssClass.set("");this.selectedFeatures.removeItem(a);this.startingIndex=this.features.indexOf(a)};b.prototype.clearSelection=function(){if(this.selectedFeatures.length()){for(var a=0;a<this.selectedFeatures.length();a++)this.selectedFeatures.getAt(a).isSelected.set(!1),
this.selectedFeatures.getAt(a).cssClass.set("");this.selectedFeatures.clear()}};b.prototype.clearTextBox=function(){this.filterText.set("")};b.prototype.selectAll=function(){this.addFeatureToSelection(this.features.getAt(0),!0);for(var a=1;a<this.features.get().length;a++)this.addFeatureToSelection(this.features.getAt(a),!1)};b.prototype.selectNone=function(){this.clearSelection()};b.prototype.getSelectedIndices=function(){for(var a=[],b=0;b<this.selectedFeatures.length();b++)a.push(this.features.indexOf(this.selectedFeatures.getAt(b)));
return a};b.prototype.showError=function(){var a=this.activityContext.getValue("RequiredValueErrorMessage");null===a&&(a=this.app.getResource(this.libraryId,"language-display-result-picker-no-results-selected"));this.requiredValueErrorMessage.set(a);this.cssClass.set("display-result-picker-list error")};return b}(d.framework.ui.ViewModelBase);f.DisplayResultPickerViewModel=g})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=function(d){function b(a,b){d.call(this,a,b);this.activityContext=null;this.onKeyDownHandle=[];this.onKeyUpHandle=[]}__extends(b,d);b.prototype.attach=function(a){if(!a)throw Error("{0}: A view model must be specified to attach to.".format(this.id));d.prototype.attach.call(this,a);this.app.event("ViewActivatedEvent").subscribe(this,this.setDisplayResultPickerListOffset);this.title.set(this.viewModel.title.get());this.workflowContainer&&
this.workflowContainer.view&&this.app.viewManager.notifyDimensionsChanged(this.workflowContainer.view);window&&(this.onKeyDownHandle.push(dojo.connect(window,"onkeydown",this,this.handleKeyDown)),this.onKeyUpHandle.push(dojo.connect(window,"onkeyup",this,this.handleKeyUp)))};b.prototype.setDisplayResultPickerListOffset=function(){this.topContainer&&this.viewModel.topOffset.set(this.topContainer.clientHeight);this.bottomContainer&&this.viewModel.bottomOffset.set(this.bottomContainer.clientHeight)};
b.prototype.makeUnselectableNode=function(a,b){1==a.nodeType&&a.setAttribute("unselectable",b);for(var d=a.firstChild;d;)this.makeUnselectableNode(d,b),d=d.nextSibling};b.prototype.handleKeyDown=function(a,b,d){!0===a.ctrlKey&&(this.viewModel.ctrlPressed=!0);!0===a.shiftKey&&(this.viewModel.shiftPressed=!0);!0!==a.ctrlKey&&!0!==a.shiftKey||-1!=this.viewModel.cssClass.get().indexOf("unselectable")||(this.viewModel.cssClass.set(this.viewModel.cssClass.get()+" unselectable"),this.makeUnselectableNode(this["display-result-picker-list"],
"on"));return!1};b.prototype.handleKeyUp=function(a,b,d){!1===a.ctrlKey&&(this.viewModel.ctrlPressed=!1);!1===a.shiftKey&&(this.viewModel.shiftPressed=!1);if(!0===a.ctrlKey||!0===a.shiftKey)this.viewModel.cssClass.set(this.viewModel.cssClass.get().replace(" unselectable","")),this.makeUnselectableNode(this["display-result-picker-list"],"off");return!1};b.prototype.handleClick=function(a,b,d){this._firstEvent&&this._cancelLongPress&&(this._firstEvent=null,this._cancelLongPress());"A"!==a.target.tagName&&
this.viewModel.featureClicked(d);return!0};b.prototype.handleClearTextBox=function(a,b,d){this.viewModel.clearTextBox()};b.prototype.handleSelectAll=function(a,b,d){this.viewModel.selectAll()};b.prototype.handleSelectNone=function(a,b,d){this.viewModel.selectNone()};b.prototype.getDescription=function(a,b,d){b.title=d.description.get()};b.prototype.resolveWidget=function(a,b){d.prototype.resolveWidget.call(this,a,b);var e;if("GetLabel"===a)return e=new f.infrastructure.FeatureDescriptionPresenterView(this.app,
this.libraryId),e.contentField="label",e.root=dojo.create("div"),e.root.className="feature-label",e.attach(b),e;if("GetDescription"===a)return e=new f.infrastructure.FeatureDescriptionPresenterView(this.app,this.libraryId),e.root=dojo.create("div"),e.root.className="feature-description",e.attach(b),e;if("RenderComplexResultTemplate"===a&&"complex"===this.viewModel.resultTemplateComplexity)return e=this.app.viewManager.createView({markupResource:"Mapping/modules/Workflow/Templates/DisplayResultPickerComplexResultTemplateView.html",
typeName:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.templates.DisplayResultPickerResultTemplateView"}),e.app=this.app,e.libraryId=this.libraryId,e.parentView=this,e.attach(b),e;if("RenderSimpleResultTemplate"===a&&"simple"===this.viewModel.resultTemplateComplexity)return e=this.app.viewManager.createView({markupResource:"Mapping/modules/Workflow/Templates/DisplayResultPickerSimpleResultTemplateView.html",typeName:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.templates.DisplayResultPickerResultTemplateView"}),
e.app=this.app,e.libraryId=this.libraryId,e.parentView=this,e.attach(b),e};b.prototype.handleClickButton=function(a,b,d){d.causesValidation.get()&&0<this.viewModel.selectedFeatures.get().length||d.causesValidation.get()&&0==this.viewModel.features.get().length||!d.causesValidation.get()?(this.activityContext&&(this.activityContext.setValue("ButtonResultValue",d.value.get()),this.activityContext.setValue("SelectedIndices",this.viewModel.getSelectedIndices()),this.activityContext.completeActivity()),
this.workflowContainer&&(this.workflowContainer.hasContent.set(!1),this.app.viewManager.notifyDimensionsChanged(this.workflowContainer.view)),this.app.viewManager.destroyView(this)):this.viewModel.showError()};b.prototype.deactivated=function(){d.prototype.deactivated.call(this);this._deactivated()};b.prototype._deactivated=function(){dojo.forEach(this.onKeyDownHandle,dojo.disconnect);dojo.forEach(this.onKeyUpHandle,dojo.disconnect);this.onKeyDownHandle=[];this.onKeyUpHandle=[]};return b}(d.framework.ui.ViewBase);
g.DisplayResultPickerView=m})(g.workflow||(g.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){(function(f){f.render=function(b,a){b.attached_application=a;var c=a.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormView",markupResource:"Mapping/modules/Workflow/WorkflowFormView.html",isVisible:!0,regionName:null,libraryId:"Mapping"}),e=new d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormViewModel(a);e.initialize({});c.attach(e);c.configuration={};return c};
f.getItemView=function(b,a,c){var e=function(c,d){var e=b.viewManager.createView({typeName:d,markupResource:c,isVisible:!0,regionName:null,libraryId:"Mapping"});e.attach(a);return e};if(c&&c.hasOwnProperty(a.declaredClass))return c=c[a.declaredClass],e(c.markup,c.codebehind);c=b.configModel.widgetConfigs.filter(function(b){return b.id===a.formItemType});return 0<c.length?(e=c[0],c="WidgetView-{0}-{1}".format(e.id,d.framework.utils.alphaNumericToken()),c=new d.framework.config.ViewConfig(c,null,e.type),
c.libraryId=e.libraryId,c.markupResource=e.markup,c.configuration=e.configuration,e=b.viewManager.createView(c),e.attach(a),e):e("Mapping/modules/Workflow/Forms/Items/FormItemView.html","geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase")}})(f.FormRenderer||(f.FormRenderer={}))})(f.forms||(f.forms={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex=
{}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function b(c,d){a.call(this,c,d)}__extends(b,a);b.prototype.attach=function(b){if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));this.viewModel=b;this.addDisposableBinding(b.isValid,b.isValid.bind(this,function(a){this.calculateIndicatorDisplay()}));this.addDisposableBinding(b.isRequired,b.isRequired.bind(this,function(a){this.calculateIndicatorDisplay()}));this.calculateIndicatorDisplay();
a.prototype.attach.call(this,b)};b.prototype.calculateIndicatorDisplay=function(){this.viewModel.attached_showIndicator&&(this.viewModel.attached_showIndicator.set(!0===this.viewModel.isRequired.get()||!1===this.viewModel.isValid.get()),!1==this.viewModel.isValid.get()?this.viewModel.attached_indicatorClass.set("form-item invalid"):this.viewModel.attached_indicatorClass.set("form-item required"))};return b}(d.framework.ui.ViewBase);f.FormItemViewBase=b})(f.items||(f.items={}))})(f.forms||(f.forms=
{}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(g){(function(g){var b=function(a){function b(c,d){a.call(this,c,d);this.closeTimer=this.keyTraverseInterval=this.lastKeyEvent=this.positionIndex=this.timer=this.dropDownListElement=this.dropDownContainerElement=this.textElement=null;this._searchFocus=this._queryCancelled=!1;this.isBusy=new Observable(!1);this.positionIndex=0;this.keyTraverseInterval=25}__extends(b,a);b.prototype.attach=function(b){if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));
b.isDropDownOpen=new Observable(!1);b.attached_controlId=new Observable("textbox-{0}".format(d.framework.utils.alphaNumericToken()));b.queryTaskRunner&&(b.queryTaskRunner.formatCallback=f.WorkflowUtils.formatListItem);a.prototype.attach.call(this,b);this.lastKeyEvent=(new Date).getTime();this.addDisposableBinding(this.viewModel.dataItems,this.viewModel.dataItems.bind(this,function(a){this.isBusy.set(!1);0<this.viewModel.dataItems.getLength()?(this.positionIndex=0,this._queryCancelled||this.openDropDown()):
this.closeDropDown()}))};b.prototype.handleInputBlurEvent=function(a,b,c){var d=this;this.isBusy.set(!1);this._searchFocus=!1;this.closeTimer=setTimeout(function(){d._searchFocus||(d._queryCancelled=!0,d.viewModel.queryTaskRunner.triggerCascading(c.text.get()),d.closeDropDown())},750)};b.prototype.handleInputClickEvent=function(a,b,c){b.focus()};b.prototype.handleInputFocusEvent=function(a,b,c){this._queryCancelled=!1;this._searchFocus=!0};b.prototype.handleDropdownFocusEvent=function(a,b,c){var d=
this;setTimeout(function(){d._searchFocus=!0},100);null!=this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null);return!0};b.prototype.handleDropdownBlurEvent=function(a,b,c){this.closeDropDown();return!0};b.prototype.handleClickItem=function(a,b,c){this.viewModel.text.set(c.display);this.viewModel.queryTaskRunner.triggerCascading(c.display);this.closeDropDown()};b.prototype.openDropDown=function(){d.essentialsHtmlViewer.___userInAutoComplete=!0;this.viewModel.isDropDownOpen.set(!0);
this.positionIndex=-1;$(this.dropDownContainerElement).removeClass("inactive").addClass("active")};b.prototype.closeDropDown=function(){d.essentialsHtmlViewer.___userInAutoComplete=!1;this.viewModel.isDropDownOpen.set(!1);$(this.dropDownContainerElement).removeClass("active").addClass("inactive")};b.prototype.setDropDownPosition=function(a){a=Math.min(a,this.viewModel.dataItems.getLength()-1);dojo.removeClass(this.dropDownListElement,"autocomplete-highlight");this.positionIndex=Math.max(0,a);a=$("li",
this.dropDownListElement).eq(this.positionIndex);$(a).addClass("autocomplete-highlight");var b=this.viewModel.dataItems.getAt(this.positionIndex);b&&this.viewModel.text.set(b.display);0<a.length&&$(this.dropDownContainerElement).scrollTop($(this.dropDownContainerElement).scrollTop()+$(a).position().top-$(this.dropDownContainerElement).height()/2+$(a).height()/2)};b.prototype.handleDropdownKeyDown=function(a,b,c){return 13===a.which?this.handleKeyEvent(a,b,c):!0};b.prototype.handleKeyEvent=function(a,
b,c){b=(new Date).getTime();if(b-this.lastKeyEvent>this.keyTraverseInterval)if(this.lastKeyEvent=b,38===a.which||40===a.which)this.viewModel.isDropDownOpen.get()&&(40===a.which?this.setDropDownPosition(this.positionIndex+1):38===a.which&&this.setDropDownPosition(this.positionIndex-1));else{if(this.viewModel.isDropDownOpen.get()&&13===a.which){if(a=this.viewModel.dataItems.getAt(this.positionIndex))this.viewModel.text.set(a.display),this.viewModel.queryTaskRunner.triggerCascading(a.display);this.closeDropDown();
null!=this.timer&&clearInterval(this.timer);return!1}if(this.viewModel.isDropDownOpen.get()&&8===a.which)return this.closeDropDown(),this.viewModel.queryTaskRunner.triggerCascading(null),8==a.which&&this.trigger(),!1;if(9!==a.which&&37!==a.which&&39!==a.which){if(13===a.which)return this.viewModel.queryTaskRunner.triggerCascading(c.display),!1;this.trigger()}}return!0};b.prototype.trigger=function(){var a=this;null!=this.timer&&clearInterval(this.timer);this.textElement.value.length>=this.viewModel.minimumPrefixLength.get()&&
(this.timer=setTimeout(function(){a.filter(!1)},this.viewModel.minimumPopulateDelay.get()))};b.prototype.filter=function(a){null!=this.timer&&(clearInterval(this.timer),this.timer=null);this.closeDropDown();this.viewModel.queryTaskRunner.performQuery(this.textElement.value,a)};return b}(d.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase);g.AutoCompleteBoxFormItemView=b})(g.items||(g.items={}))})(f.forms||(f.forms={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules=
{}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function b(c,d){a.call(this,c,d)}__extends(b,a);b.prototype.attach=function(b){if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));b.attached_textOnLeft=new Observable(!1);this.addDisposableBinding(b.textLocation,b.textLocation.bind(this,function(a){b.attached_textOnLeft.set("left"===a.toLowerCase())}));b.textLocation.pulse();b.attached_controlId=new Observable("checkbox-{0}".format(d.framework.utils.alphaNumericToken()));
b.attached_labelText=null!=b.text?new Observable(b.text.get()):"";a.prototype.attach.call(this,b)};return b}(d.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase);f.CheckBoxFormItemView=b})(f.items||(f.items={}))})(f.forms||(f.forms={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(g){(function(g){var b=function(a){function b(c,d){a.call(this,c,d);this.attached_style=new Observable("");this.attached_isHorizontal=new Observable(!1)}__extends(b,a);b.prototype.attach=function(b){var c=this;if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));b.attached_style=this.attached_style;b.attached_isHorizontal=this.attached_isHorizontal;b.hasOwnProperty("description")&&(d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowUtils.convertToHTMLSyntax(b.description),
b.description.set(f.infrastructure.FilterUtils.sanitize(b.description.get(),{allowFrames:!0,uriTransformer:function(a){return a}})));var g=this.configuration&&void 0!==this.configuration.allowHorizontal;this.auto(b.orientation,this,function(a){a="Horizontal"===b.orientation.get();c.attached_style.set(void 0);c.attached_isHorizontal.set(a&&g)});b.orientation.pulse();this._attachVisibilityControls(b);a.prototype.attach.call(this,b)};b.prototype._attachVisibilityControls=function(a){var b=this;if(!a)throw Error("A view model must be specified to attach to.");
if(a.visibleControlID.get()){var c=a.formDefinition.getFormItemById(a.visibleControlID.get());c&&(a.applyVisibility(c),this.resultChangeSubscription||(this.resultChangeSubscription=dojo.subscribe("FormItemResultChangedEvent",function(f){if(f===c&&(f=a.isVisible.get(),a.applyVisibility(c),f!==a.isVisible.get())){var g=b.app.viewManager.getRegionForViewId(b.id);b.app.event("ViewDimensionsChangedEvent").publish(new d.framework.events.ViewDimensionsChangedArgs(b,g));g=a.getDisplayName();f="language-accessibility-form-{0}-container-{1}".format(g?
"named":"unnamed",f?"hidden":"shown");f=b.app.getResource(b.libraryId,f).format(g);b.app.command("ScreenReaderNarrate").execute(f)}})))}};b.prototype.onDestroy=function(){a.prototype.onDestroy.call(this);this.resultChangeSubscription&&dojo.unsubscribe(this.resultChangeSubscription)};return b}(d.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase);g.ContainerFormItemView=b})(g.items||(g.items={}))})(g.forms||(g.forms={}))})(g.workflow||(g.workflow={}))})(f.modules||(f.modules=
{}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function b(c,d){a.call(this,c,d);this._lastClearedTime=this.attached_hour=this.attached_minute=this.attached_second=this.attached_hours=this.attached_minutes=this.attached_seconds=null}__extends(b,a);b.prototype.attach=function(b){var c=this;if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));b.attached_controlId=new Observable("timepicker-{0}".format(d.framework.utils.alphaNumericToken()));
b.attached_time=this.attached_time=new Observable;b.attached_timeIsNull=new Observable(!1);b.attached_timeIsNull.syncTransform(b.time,function(a){return null==a});this._buildComboBoxes(b);a.prototype.attach.call(this,b);setTimeout(function(){c.viewModel.date?c.setPickerDateTime(c.viewModel.date.get()):c.viewModel.time&&c.setPickerDateTime(c.viewModel.time.get())},1)};b.prototype._buildComboBoxes=function(a){this.attached_seconds=new ObservableCollection([]);this.attached_minutes=new ObservableCollection([]);
this.attached_hours=new ObservableCollection([]);this.attached_second=new Observable(0);this.attached_minute=new Observable(0);this.attached_hour=new Observable(0);for(var b=[],c=[],d=[],f=0;24>f;++f)b.push({val:f,desc:"{0}".format(f)});this.attached_hours.addItems(b);for(f=0;60>f;++f)c.push(f),d.push(f);this.attached_minutes.addItems(c);this.attached_seconds.addItems(d);a.attached_seconds=this.attached_seconds;a.attached_minutes=this.attached_minutes;a.attached_hours=this.attached_hours;a.attached_second=
this.attached_second;a.attached_minute=this.attached_minute;a.attached_hour=this.attached_hour};b.prototype.setPickerDateTime=function(a){null!=a?(this.attached_second.set(a.getSeconds()),this.attached_minute.set(a.getMinutes()),this.attached_hour.set(a.getHours())):(this.attached_second.set(null),this.attached_minute.set(null),this.attached_hour.set(null),$(this.selectContainerElement).find("select").val([]))};b.prototype.handleChangeComboBoxTime=function(){var a;a=this.viewModel.time?this.viewModel.time.get():
this.viewModel.date?this.viewModel.date.get():new Date;null!=this.attached_hour.get()||null!=this.attached_minute.get()||null!=this.attached_second.get()?(null==a&&(a=new Date,a.setMilliseconds(0)),null==this.attached_hour.get()&&this.attached_hour.set(a.getHours()),null==this.attached_minute.get()&&this.attached_minute.set(a.getMinutes()),null==this.attached_second.get()&&this.attached_second.set(a.getSeconds()),a.setHours(this.attached_hour.get()),a.setMinutes(this.attached_minute.get()),a.setSeconds(this.attached_second.get())):
a=null;this.viewModel.time?this.viewModel.time.set(a):this.viewModel.date&&this.viewModel.date.set(a)};b.prototype.handleClickSetNull=function(){this.viewModel.time.get()&&(this._lastClearedTime=this.viewModel.time.get());this.viewModel.time.set(null);this.setPickerDateTime(null)};b.prototype.handleClickSetNotNull=function(){if(null!=this._lastClearedTime)this.viewModel.time.set(this._lastClearedTime),this.setPickerDateTime(this._lastClearedTime),this._lastClearedTime=null;else{var a=new Date;this.viewModel.time.set(a);
this.setPickerDateTime(a)}};return b}(d.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase);f.TimePickerFormItemView=b})(f.items||(f.items={}))})(f.forms||(f.forms={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){(function(f){var b=d.essentialsHtmlViewer.mapping.infrastructure.DateFormat,a=d.essentialsHtmlViewer.mapping.infrastructure.FormatUtils,c=function(c){function f(a,d){c.call(this,a,d);this.attached_year=this.attached_month=this.attached_day=this.attached_years=this.attached_months=this.attached_days=this.attached_pickerType=null;this.selectElementCount=11;this._lastClearedDate=null;this._daysPerMonth={0:31,1:28,2:31,3:30,
4:31,5:30,6:31,7:31,8:30,9:31,10:30,11:31};this._dateTimePickerType={comboPicker:"combos",comboDateTimePicker:"combos_datetime",nativePicker:"native",nativeDateTimePicker:"native_datetime",nativeDateComboTimePicker:"native_date_combo_time",jQueryPicker:"jQuery",nativeDateJQueryTimePicker:"native_date_jQuery_time"};this._dateFormat=b.DATE_TIME_SHORT}__extends(f,c);f.prototype.attach=function(a){var b=this;if(!a)throw Error("{0}: A view model must be specified to attach to.".format(this.id));a.attached_controlId=
new Observable("datepicker-{0}".format(d.framework.utils.alphaNumericToken()));this.attached_pickerType=new Observable(this._dateTimePickerType.comboPicker);a.attached_isNull=new Observable(!1);a.attached_isNull.syncTransform(a.date,function(a){return null==a});var f=-1<navigator.userAgent.indexOf("Android")&&-1<navigator.userAgent.indexOf("Mobile Safari")&&!(-1<navigator.userAgent.indexOf("Chrome")),g=-1<navigator.userAgent.indexOf("Android")&&-1<navigator.userAgent.indexOf("Firefox"),h=navigator.userAgent.match(/(iPad|iPhone|iPod)/gi)?
!0:!1;!Modernizr||!Modernizr.inputtypes.date||-1<navigator.userAgent.indexOf("Chrome")||f||g?Modernizr.touch?(this.attached_pickerType.set(this._dateTimePickerType.comboPicker),!0===a.includeTimePicker.get()&&this.attached_pickerType.set(this._dateTimePickerType.comboDateTimePicker)):this.attached_pickerType.set(this._dateTimePickerType.jQueryPicker):(this.attached_pickerType.set(this._dateTimePickerType.nativePicker),!0===a.includeTimePicker.get()&&(Modernizr.inputtypes.datetime&&!h?this.attached_pickerType.set(this._dateTimePickerType.nativeDateTimePicker):
this.attached_pickerType.set(this._dateTimePickerType.nativeDateComboTimePicker)));a.attached_pickerType=this.attached_pickerType;this.viewModel=a;this.attached_days=new ObservableCollection([]);this.attached_months=new ObservableCollection([]);this.attached_years=new ObservableCollection([]);this.attached_day=new Observable(1);this.attached_month=new Observable(1);this.attached_year=new Observable(2E3);a.attached_days=this.attached_days;a.attached_months=this.attached_months;a.attached_years=this.attached_years;
a.attached_day=this.attached_day;a.attached_month=this.attached_month;a.attached_year=this.attached_year;this._buildComboBoxes(a);setTimeout(function(){b.viewModel.date?b.setPickerDateTime(b.viewModel.date.get()):b.viewModel.time&&b.setPickerDateTime(b.viewModel.time.get())},1);a._dateTimePickerBindingToken&&a.date.unbind(a._dateTimePickerBindingToken);a._dateTimePickerBindingToken=a.date.bind(this,function(a){if(b.attached_pickerType.get()===b._dateTimePickerType.jQueryPicker){var c=$(b.jQueryPicker,
b.root).datepicker("getDate");if(null===a||void 0===a){b.app.trace.warning("Date parameter is null.");return}if(null!==c&&a.getTime()===c.getTime())return}b.setPickerDateTime(a)});this._syncComboBoxes();c.prototype.attach.call(this,a);this._createjQueryPicker()};f.prototype._syncComboBoxes=function(){for(var a=[this.attached_day,this.attached_month,this.attached_year],b=0;b<a.length;++b)a[b].bind(this,dojo.hitch(this,this._calcTime))};f.prototype._isLeapYear=function(a){return 0===a%400?!0:0===a%
100?!1:0===a%4?!0:!1};f.prototype._calcTime=function(){var a=this.attached_month.get();if(null!=a){var b=this._daysPerMonth[a];1===a&&(b=29);if(this.attached_days.getLength()<b)for(a=this.attached_days.getLength();a<b;++a)this.attached_days.addItem(a+1);else this.attached_days.removeRange(b)}};f.prototype.setPickerDateTime=function(a){c.prototype.setPickerDateTime.call(this,a);if(null!=a)this.attached_day.set(a.getDate()),this.attached_month.set(a.getMonth()),this.attached_year.set(a.getFullYear());
else{this.attached_day.set(null);this.attached_month.set(null);this.attached_year.set(null);for(var b=0;b<=this.selectElementCount;b++)this["select"+b]&&(this["select"+b].selectedIndex=-1)}this.native_datetime_element&&(this.native_datetime_element.valueAsDate=a);this.native_date_element&&(this.native_datetime_element.valueAsDate=a);if(this.attached_pickerType.get()===this._dateTimePickerType.jQueryPicker||this.attached_pickerType.get()===this._dateTimePickerType.nativeDateJQueryTimePicker)$(this.jQueryPicker,
this.root).datetimepicker("setDate",a),this._updatejQueryFormattedInput(a)};f.prototype.handleChangeComboBoxTime=function(){var a=this.viewModel.date.get();null!=this.attached_year.get()||null!=this.attached_month.get()||null!=this.attached_day.get()||this.viewModel.includeTimePicker.get()&&(null!=this.attached_hour.get()||null!=this.attached_minute.get()||null!=this.attached_second.get())?(a||(a=new Date,this.viewModel.includeTimePicker.get()||(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0))),
null==this.attached_year.get()&&this.attached_year.set(a.getFullYear()),null==this.attached_month.get()&&this.attached_month.set(a.getMonth()),null==this.attached_day.get()&&this.attached_day.set(a.getDate()),a.setFullYear(this.attached_year.get()),a.setMonth(this.attached_month.get()),a.setDate(this.attached_day.get()),this.viewModel.includeTimePicker.get()&&(null==this.attached_hour.get()&&this.attached_hour.set(a.getHours()),null==this.attached_minute.get()&&this.attached_minute.set(a.getMinutes()),
null==this.attached_second.get()&&this.attached_second.set(a.getSeconds()),a.setHours(this.attached_hour.get()),a.setMinutes(this.attached_minute.get()),a.setSeconds(this.attached_second.get()))):a=null;this.viewModel.date.set(a)};f.prototype.handleChangeComboBoxTimeWithNativeDate=function(){var a=this.viewModel.date.get();a||(a=new Date);null==this.attached_hour.get()&&this.attached_hour.set(a.getHours());null==this.attached_minute.get()&&this.attached_minute.set(a.getMinutes());null==this.attached_second.get()&&
this.attached_second.set(a.getSeconds());a.setHours(this.attached_hour.get());a.setMinutes(this.attached_minute.get());a.setSeconds(this.attached_second.get());this.viewModel.date.set(a)};f.prototype._createjQueryPicker=function(){var a=this;d.essentialsHtmlViewer.mapping.modules.workflow.forms.items.DatePickerFormItemView.localizedJqueryDatepicker||this._localizeJqueryDatepicker();$(this.jQueryPicker,this.root).blur();var c={dateFormat:"yy-mm-dd",showOn:"button",changeYear:!0,yearRange:"c-50:c+50",
onClose:function(b,c){a.disabled=!0;a.readOnly=!0},onChangeMonthYear:function(b,c,d){d=d.selectedDay;var e=null;a.viewModel.date.get()?e=new Date(b,c-1,d,a.viewModel.date.get().getHours(),a.viewModel.date.get().getMinutes(),a.viewModel.date.get().getSeconds()):(e=new Date,e=new Date(b,c-1,d,e.getHours(),e.getMinutes(),e.getSeconds()));a.viewModel.date.set(e)},beforeShow:function(b,c){a.disabled=!0;a.readOnly=!0;$(c.input).siblings(".ui-datepicker-trigger").attr("aria-label",a.getResource("language-accessibility-datepicker-trigger-button-aria-label"));
var d=$(window).width(),e=d-$(c.input).siblings(".ui-datepicker-trigger").offset().left,f=parseFloat($(c.dpDiv).css("width")),g=0,g=!isNaN(e)&&!isNaN(f)&&f>e?$(a.jQueryFormattedInput,a.root).offset().left-(d-f):$(a.jQueryFormattedInput,a.root).offset().left-$(c.input).siblings(".ui-datepicker-trigger").offset().left;$(c.dpDiv).css("marginLeft",g)}};this.attached_pickerType.get()===this._dateTimePickerType.jQueryPicker?(c.onSelect=function(b,c){var d=$(a.jQueryPicker,a.root).datepicker("getDate");
a.viewModel.date.set(d);a._updatejQueryFormattedInput(d)},this.viewModel.includeTimePicker.get()?("Long"===this.viewModel.dateFormat.get()?this._dateFormat=b.DATE_TIME_LONG:"Short"===this.viewModel.dateFormat.get()?this._dateFormat=b.DATE_TIME_SHORT:this.viewModel.dateFormat.get()?this._dateFormat=this.viewModel.dateFormat.get():this._dateFormat=b.DATE_TIME_SHORT,c.timeFormat="Short"===this.viewModel.timePickerItem.timeFormat.get()?"HH:mm":"HH:mm:ss",c.gcxTimeFormat="Short"===this.viewModel.timePickerItem.timeFormat.get()?
b.TIME_SHORT:b.TIME_LONG,c.showSecond="LongTime"===this.viewModel.timePickerItem.timeFormat.get(),c.gcxTimeStyle=this.viewModel.timePickerItem.jQueryPickerTimeAsInfoMsg.get()):("Long"===this.viewModel.dateFormat.get()?this._dateFormat=b.DATE_LONG:"Short"===this.viewModel.dateFormat.get()?this._dateFormat=b.DATE_SHORT:this.viewModel.dateFormat.get()?this._dateFormat=this.viewModel.dateFormat.get():this._dateFormat=b.DATE_SHORT,c.hourMin=0,c.hourMax=0,c.minuteMin=0,c.minuteMax=0,c.showHour=!1,c.showMinute=
!1,c.showTime=!1,c.timeFormat=""),$(this.jQueryPicker,this.root).datetimepicker(c),$(this.jQueryPicker,this.root).datetimepicker("setDate",this.viewModel.date.get())):this.attached_pickerType.get()===this._dateTimePickerType.nativeDateJQueryTimePicker&&(this._dateFormat="Short"===this.viewModel.timePickerItem.timeFormat.get()?b.TIME_SHORT:b.TIME_LONG,c.timeFormat="Short"===this.viewModel.timePickerItem.timeFormat.get()?"HH:mm":"HH:mm:ss",c.gcxTimeFormat="Short"===this.viewModel.timePickerItem.timeFormat.get()?
b.TIME_SHORT:b.TIME_LONG,c.showSecond="LongTime"===this.viewModel.timePickerItem.timeFormat.get(),c.onSelect=function(b,c){var d=$(a.jQueryPicker,a.root).datepicker("getDate"),e=a.viewModel.date.get();e.setHours(d.getHours());e.setMinutes(d.getMinutes());e.setSeconds(d.getSeconds());a.viewModel.date.set(e);a.setPickerDateTime(e)},$(this.jQueryPicker,this.root).timepicker(c),$(this.jQueryPicker,this.root).timepicker("setDate",this.viewModel.date.get()));this._updatejQueryFormattedInput(this.viewModel.date.get());
if($.datepicker._doKeyDown){var e=this,c=$(this.jQueryFormattedInput,this.root),f=$(this.jQueryPicker,this.root);c.data("datepicker",$(this.jQueryPicker,this.root).data("datepicker"));c.keydown(function(a){var b=a.keyCode||a.which;9!==b&&$(f).datepicker("show");if(37==b||38==b||39==b||40==b){a.preventDefault();a.stopPropagation();var c=$(f).val().split(/[\s-:]/),c=new Date(c[0],c[1]-1,c[2],c[3],c[4],c[5]);if(!isNaN(c.getTime())){switch(b){case 37:!0===a.ctrlKey&&!0===a.shiftKey?c.setSeconds(c.getSeconds()-
1):!0===a.ctrlKey?c.setMonth(c.getMonth()-1):!0===a.shiftKey?c.setMinutes(c.getMinutes()-1):c.setDate(c.getDate()-1);break;case 38:!0===a.ctrlKey?c.setFullYear(c.getFullYear()-1):!0===a.shiftKey?c.setHours(c.getHours()-1):c.setDate(c.getDate()-7);break;case 39:!0===a.ctrlKey&&!0===a.shiftKey?c.setSeconds(c.getSeconds()+1):!0===a.ctrlKey?c.setMonth(c.getMonth()+1):!0===a.shiftKey?c.setMinutes(c.getMinutes()+1):c.setDate(c.getDate()+1);break;case 40:!0===a.ctrlKey?c.setFullYear(c.getFullYear()+1):!0===
a.shiftKey?c.setHours(c.getHours()+1):c.setDate(c.getDate()+7)}$(f).datepicker("setDate",c);e._updatejQueryFormattedInput(c)}}else $.datepicker._doKeyDown(a)});c.keypress($.datepicker._doKeyPress);c.keyup($.datepicker._doKeyUp)}};f.prototype._updatejQueryFormattedInput=function(b){b?(b=a.formatDate(b,this._dateFormat),$(this.jQueryFormattedInput,this.root).val(b)):$(this.jQueryFormattedInput,this.root).val("")};f.prototype._localizeJqueryDatepicker=function(){var a=this.getResource("datepicker.regional"),
b=this.getResource("timepicker.regional");a&&$.datepicker.setDefaults(a);b&&$.timepicker.setDefaults(b);d.essentialsHtmlViewer.mapping.modules.workflow.forms.items.DatePickerFormItemView.localizedJqueryDatepicker=!0};f.prototype._buildComboBoxes=function(a){c.prototype._buildComboBoxes.call(this,a);a=[];for(var b=1900;2100>=b;++b)a.push(b);this.attached_years.set(a);a=[];for(b=0;12>b;++b){var d="language-months-{0}".format(b);a.push({value:b,name:this.app.getResource(this.libraryId,d)})}this.attached_months.set(a);
a=[];for(b=1;32>b;++b)a.push(b);this.attached_days.set(a)};f.prototype.handleClickSetNull=function(){this.viewModel.date.get()&&(this._lastClearedDate=this.viewModel.date.get());this.viewModel.date.set(null);this.setPickerDateTime(null)};f.prototype.handleClickSetNotNull=function(){if(null!=this._lastClearedDate)this.viewModel.date.set(this._lastClearedDate),this.setPickerDateTime(this._lastClearedDate),this._lastClearedDate=null;else{var a=new Date;this.viewModel.date.set(a);this.setPickerDateTime(a)}};
f.prototype.handleJqueryDatePickerTextChanged=function(c,d,e){d="";if(d=c.currentTarget?c.currentTarget.value:c.target.value)c=[this._dateFormat],this.viewModel.includeTimePicker.get()?c.concat([b.DATE_TIME_LONG,b.DATE_TIME_SHORT]):c.concat([b.DATE_LONG,b.DATE_SHORT]),c=a.parseDate(d,c),isNaN(c.getTime())&&(c=new Date),this.viewModel.date.get()&&c.getTime()==this.viewModel.date.get().getTime()||(this.viewModel.date.set(c),this.setPickerDateTime(c),this.handleChangeComboBoxTime())};f.prototype.handleJqueryTimePickerTextChanged=
function(c,d,e){d="";if(d=c.currentTarget?c.currentTarget.value:c.target.value)c=a.parseDate(d,[b.TIME_LONG,b.TIME_SHORT]),isNaN(c.getTime())&&(c=new Date),(d=this.viewModel.date.get())||(d=new Date),d.setHours(c.getHours()),d.setMinutes(c.getMinutes()),d.setSeconds(c.getSeconds()),this.viewModel.date.set(d),this.setPickerDateTime(d)};f.localizedJqueryDatepicker=!1;return f}(d.essentialsHtmlViewer.mapping.modules.workflow.forms.items.TimePickerFormItemView);f.DatePickerFormItemView=c})(f.items||(f.items=
{}))})(f.forms||(f.forms={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function b(c,d){a.call(this,c,d)}__extends(b,a);b.prototype.attach=function(b){if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));b.attached_controlId=new Observable("filepicker-{0}".format(d.framework.utils.alphaNumericToken()));a.prototype.attach.call(this,b)};b.prototype.handleChange=function(a,b,c){var f=this;this.viewModel.files.clear();b=function(a){var b=
a.name,c=a.size,e=a.type,g=new FileReader;g.onload=function(a){var g=new d.forms.FileItem;g.fileName=b;g.fileSize=c;g.fileType=e;g.fileDataBase64=decodeURIComponent(a.target.result.substring(a.target.result.indexOf("base64,")+7));f.viewModel.files.addItem(g)};g.readAsDataURL(a)};for(c=0;c<a.currentTarget.files.length;c++)b(a.currentTarget.files[c])};b.prototype.handleClearClick=function(a,b,c){this.viewModel.clear()};return b}(d.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase);
f.FilePickerFormItemView=b})(f.items||(f.items={}))})(f.forms||(f.forms={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function b(c,d){a.call(this,c,d)}__extends(b,a);b.prototype.attach=function(b){if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));a.prototype.attach.call(this,b)};return b}(d.essentialsHtmlViewer.mapping.modules.workflow.forms.items.ContainerFormItemView);f.GroupBoxFormItemView=b})(f.items||(f.items={}))})(f.forms||(f.forms={}))})(f.workflow||(f.workflow=
{}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){var b=function(a){function b(c,d){a.call(this,c,d)}__extends(b,a);b.prototype.attach=function(b){if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));a.prototype.attach.call(this,b)};b.prototype.handleClick=function(a,b,c){this.viewModel.wasClicked.set(!0);return this.app.followNavigationLink({url:c.uri,element:b})};return b}(d.FormItemViewBase);d.HyperlinkFormItemView=b})(d.items||
(d.items={}))})(d.forms||(d.forms={}))})(d.workflow||(d.workflow={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(g){(function(g){var b=function(a){function b(c,d){a.call(this,c,d);this.selectionBindingToken=this.selectedBindingToken=this.selectionChangedTimer=null}__extends(b,a);b.prototype.attach=function(b){var c=this;if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));b.attached_controlId=new Observable("formitem-{0}".format(d.framework.utils.alphaNumericToken()));if(b.selectionMode){var g=b.selectionMode.get().toLowerCase();
b.attached_isMultiple=new Observable("multiple"===g.toLowerCase()||"extended"==g.toLowerCase())}b.selected&&!this.selectedBindingToken?this.selectedBindingToken=b.selected.bind(this,function(){0<=b.selected.get()&&this.handleSelectionChanged()}):b.selection&&!this.selectionBindingToken&&(this.selectionBindingToken=b.selection.bind(this,function(){0<b.selection.length()&&this.handleSelectionChanged()}));b.queryTaskRunner&&(b.queryTaskRunner.formatCallback=f.WorkflowUtils.formatListItem);a.prototype.attach.call(this,
b);$(this.selectElement).dblclick(function(){c.app.command("SubmitWorkflowForm").execute(c.viewModel.formDefinition)})};b.prototype.handleSelectionChanged=function(a,b,c){var d=this;null!=this.selectionChangedTimer&&(clearInterval(this.selectionChangedTimer),this.selectionChangedTimer=null);this.selectionChangedTimer=setTimeout(function(){!1===d.viewModel.queryTaskRunner.isBusy.get()&&(d.viewModel.triggerCascading(null),d.selectionChangedTimer=null)},450);return!0};return b}(d.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase);
g.ListBoxFormItemView=b})(g.items||(g.items={}))})(f.forms||(f.forms={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(g){(function(g){var b=function(a){function b(c,d){a.call(this,c,d);this.markdownElement=null}__extends(b,a);b.prototype.attach=function(b){if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));a.prototype.attach.call(this,b);b=(new Remarkable({breaks:!0})).render(b.plainText.get());b=f.infrastructure.FilterUtils.sanitize(b,{uriTransformer:function(a){return a}});this.markdownElement.innerHTML=
b};return b}(d.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase);g.MarkdownFormItemView=b})(g.items||(g.items={}))})(g.forms||(g.forms={}))})(g.workflow||(g.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function b(c,d){a.call(this,c,d)}__extends(b,a);b.prototype.attach=function(b){var c=this;if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));b.attached_textOnLeft=new Observable(!1);this.addDisposableBinding(b.textLocation,b.textLocation.bind(this,function(a){b.attached_textOnLeft.set("left"===a.toLowerCase())}));b.textLocation.pulse();b.attached_controlId=
new Observable("radio-{0}".format(d.framework.utils.alphaNumericToken()));b.attached_labelText=null!=b.text?new Observable(b.text.get()):"";a.prototype.attach.call(this,b);this.radioElement&&(this.radioElement.checked=b.checked.get(),$(this.radioElement).change(function(){b.checked.set(this.checked)}));this.viewModel.__getRadioValueClosure=function(){var a=c.radioElement;return a?a.checked:!1};return!0};return b}(d.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase);f.RadioButtonFormItemView=
b})(f.items||(f.items={}))})(f.forms||(f.forms={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){d.handleCaptureGeometry=function(d,b){function a(a,c,d){d.deactivate();dojo.disconnect(c);e.setDrawObjectContext(null);b.setValue("Result",a);b.completeActivity()}function c(b){var c;switch(b){case 0:c=esri.toolbars.Draw.EXTENT;break;case 1:c=esri.toolbars.Draw.FREEHAND_POLYGON;break;case 2:c=esri.toolbars.Draw.FREEHAND_POLYLINE;break;case 3:c=esri.toolbars.Draw.LINE;break;case 4:c=esri.toolbars.Draw.POINT;break;case 5:c=
esri.toolbars.Draw.MULTI_POINT;break;case 6:c=esri.toolbars.Draw.POLYGON;break;case 7:c=esri.toolbars.Draw.POLYLINE;break;case 8:a(g.extent,m,h);p=!1;break;default:c=esri.toolbars.Draw.EXTENT}return c}var e=b.dispatcher();if(!e.abortMapBasedActivity())throw Error("Could not deactivate current map based activity.");d.app.command("ClearActiveTool").execute();var f=b.getValue("CaptureType"),g=b.getEsriMap();if(null!=g){if("function"!=typeof esri.toolbars.Draw)throw Error('dojo.require("esri.toolbars.draw") must be added to your client code to use CaptureGeometry activity.');
var h=d.app.accessibilityManager.createComponent("geocortex.accessibility.draw",g),m=dojo.connect(h,"onDrawEnd",dojo.hitch(m,function(b){a(b,m,h)})),p=!0,f=c(f);p&&h.activate(f)}else throw Error("Capture Geometry: No map available.");e.setDrawObjectContext({activityContext:b,toolbar:h,drawEvent:m})}})(d.WorkflowHandlers||(d.WorkflowHandlers={}))})(d.workflow||(d.workflow={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){d.handleCollectExternalEventArgs=function(d,b){var a=b.getValue("EventName"),c=b.getValue("WaitForEvent"),e=b.getValue("WaitTimeout");if(d._eventListenersResults.hasOwnProperty(a))if(d._eventListenersResults[a])b.setValue("EventArgs",d._eventListenersResults[a]),b.completeActivity();else if(c)if(0<e)window.setTimeout(function(){b.setValue("EventArgs",d._eventListenersResults[a]);b.completeActivity()},e);else{var f=function(){d._eventListenersResults[a]?
(b.setValue("EventArgs",d._eventListenersResults[a]),b.completeActivity()):window.setTimeout(f,2E3)};f()}else b.completeActivity();else b.completeActivity()}})(d.WorkflowHandlers||(d.WorkflowHandlers={}))})(d.workflow||(d.workflow={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){d.handleAlert=function(d,b){var a=b.getValue("Title"),c=b.getValue("Text");d.app.command("Alert").execute(c,a,function(){b.completeActivity()})}})(d.WorkflowHandlers||(d.WorkflowHandlers={}))})(d.workflow||(d.workflow={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function b(){a.apply(this,arguments)}__extends(b,a);b.prototype.attach=function(b){if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));b.attached_controlId=new Observable("formitem-{0}".format(d.framework.utils.alphaNumericToken()));null!=b.inputScope&&("Password"===b.inputScope.get()?b.attached_type=new Observable("password"):b.attached_type=new Observable("text"));
a.prototype.attach.call(this,b)};b.prototype.handleBlurControl=function(){this.app.event("WorkflowFormTextInputBlurredEvent").publish(this)};return b}(d.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase);f.TextEntryFormItemView=b})(f.items||(f.items={}))})(f.forms||(f.forms={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){f.handleConfigureWorkflowContainer=function(f,b){var a=b.getValue("WorkflowContainerName"),c=b.getValue("ShowContainer"),e=b.getValue("IsBusy"),g=b.getValue("Message"),h=b.getValue("Title"),m=b.getValue("IconUri");m&&(m=d.essentials.RestHelper.processClientSideTokens(b.getSite(),m),0==m.indexOf("/")&&(m=m.substring(1)));var p=f.getOrCreateContainer(a);f._containerConfigs[a]=p;null!=h&&p.title.set(h);null!=e&&p.busy.set(e);
null!=g&&(p.message.set(g),p.hasContent.set(!1),p.view&&f.app.viewManager.notifyDimensionsChanged(p.view));m&&p.iconUri.set(f.remapWorkflowContainerIconUri(m));p.view||f.createContainerView(p,b);c?f.app.viewManager.activateView(p.view):!1===c&&f.app.viewManager.deactivateView(p.view);b.completeActivity()}})(f.WorkflowHandlers||(f.WorkflowHandlers={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){d.handleConfirm=function(d,b){var a=b.getValue("Title"),c=b.getValue("Text");d.app.command("Confirm").execute(c,a,function(a){b.setValue("Result",a||!1);b.completeActivity()})}})(d.WorkflowHandlers||(d.WorkflowHandlers={}))})(d.workflow||(d.workflow={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){f.handleDisplayForm=function(f,b){var a=b.workflow(),c=b.getValue("RegionName"),e=b.getValue("WorkflowContainerName"),g=new Observable(f._defaultContainerTitle),h=null,m=b.getInputNamesByType("System.Collections.Generic.IEnumerable`1[[Geocortex.Forms.Client.DataItem"),p={};if(null!=m&&0<m.length)for(var x=0;x<m.length;++x){var s=b.getValue(m[x]);if(null!=s){for(var y=[],v=0;v<s.length;++v)y.push(new d.forms.DataItem(s[v].Display,
s[v].Value,s[v].TypeName));p[m[x]]=y}}x=b.getValue("InputGeometry");m=b.getValue("FormDefinition");p=new d.forms.FormDefinition(m,p,x);s=b.getValue("Buttons");m=[];if(null!=s)for(x=0;x<s.length;x++)m.push(new d.forms.FormButton(s[x].Label,s[x].Value,s[x].CausesValidation,s[x].IsDefault));else String.isNullOrEmpty(c)&&String.isNullOrEmpty(e)&&(m.push(new d.forms.FormButton("OK","OK",!0,!0)),m.push(new d.forms.FormButton("Cancel","Cancel",!1,!1)));null!=e?(h=f.getOrCreateContainer(e),c=h.internalRegionName,
g=h.title):c&&f.app.viewManager.getExistingRegionByName(c)||(c="ModalWindowRegion");x={typeName:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormView",markupResource:"Mapping/modules/Workflow/WorkflowFormView.html",isVisible:!0,regionName:null,libraryId:f.libraryId,iconUri:h&&h.iconUri?h.iconUri.get():f._defaultContainerIconUri,configuration:{}};x.configuration.activityContext=b;x.configuration.workflowContainer=h;e=new d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormViewModel(f.app,
f.libraryId);e.activityContext=b;e.initialize({showTitleInFormBody:null==f.configuration?!1:f.configuration.showTitleInFormBody||!1,formDefinition:p,buttons:m});h?(a=f.app.viewManager.createView(x),a.attach(e),g=e.title&&!String.isNullOrEmpty(e.title.get())?e.title:g,f.displayContainerContent(a,h,g,b)):(f.cleanupViewsForWorkflow(a),x.regionName=c,a=f.app.viewManager.createView(x),a.attach(e),a.configuration={},f.app.viewManager.activateView(a))}})(f.WorkflowHandlers||(f.WorkflowHandlers={}))})(f.workflow||
(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){f.handleDisplayCaptureGeometry=function(f,b){var a=null,c=null,e=null,g=null;b.workflow();var h=b.getValue("Title"),a=b.getValue("WorkflowContainerName"),g=f.configuration&&f.configuration.showTitleInFormBody,m=new Observable(f._defaultContainerTitle);if(a){f.app.command("ClearActiveTool").execute();a=f.getOrCreateContainer(a);h?m.set(h):a.title&&m.set(a.title.get());e="MapPoint MultiPoint FreehandPolyline Polygon Polyline Extent CurrentExtent".split(" ");
h={};for(c=0;c<e.length;c++){var p=e[c];h[p]="geometry-type-"+p.toLowerCase()}c={typeName:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.DisplayCaptureGeometryView",markupResource:"Mapping/modules/Workflow/DisplayCaptureGeometryView.html",isVisible:!0,regionName:null,libraryId:f.libraryId,iconUri:f._defaultContainerIconUri};e=new d.essentialsHtmlViewer.mapping.modules.workflow.DisplayCaptureGeometryViewModel(f.app,f.libraryId);e.activityContext=b;e.libraryId=f.libraryId;e.hideShowContainer=
a.hideForMapInteraction||!1;e.geometryTypeCssDictionary=h;e.title.set(m.get());e.initialize({showTitleInFormBody:g});void 0!=f.configuration.showCaptureStatusMessages&&(e.showCaptureStatusMessages=f.configuration.showCaptureStatusMessages);g=f.app.viewManager.createView(c);g.activityContext=b;g.workflowContainer=a;g.viewModel=e;f.displayContainerContent(g,a,m,b)}else f.app.trace.error("Error parsing activity context. WorkflowContainerName is a required value and is not supplied.")}})(f.WorkflowHandlers||
(f.WorkflowHandlers={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){f.handleDisplayHyperlink=function(f,b){b.workflow();var a=b.getValue("WorkflowContainerName"),c=b.getValue("Buttons"),e=b.getValue("Title"),g=new Observable(f._defaultContainerTitle),h=null;!a&&f&&(a=f.defaultContainerName);null!=a&&(h=f.getOrCreateContainer(a));g.set(e);a=f.app.viewManager.createView({markupResource:"Mapping/modules/Workflow/DisplayHyperlinkView.html",typeName:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.DisplayHyperlinkView",
isVisible:!0,libraryId:f.libraryId,iconUri:f._defaultContainerIconUri});a.activityContext=b;a.workflowContainer=h;e=new d.essentialsHtmlViewer.mapping.modules.workflow.DisplayHyperlinkViewModel(f.app,f.libraryId);e.activityContext=b;e.app=f.app;e.libraryId=f.libraryId;var m=f.configuration&&f.configuration.showTitleInFormBody;e.title.set(g.get());e.initialize({buttons:c,showTitleInBody:m});a.attach(e);f.displayContainerContent(a,h,g,b)}})(f.WorkflowHandlers||(f.WorkflowHandlers={}))})(f.workflow||
(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(g){var h=f.infrastructure.FormatUtils;g.handleDisplayResultPicker=function(b,a){a.workflow();var c=a.getValue("WorkflowContainerName"),e=a.getValue("Buttons"),g=a.getValue("FeatureSet"),m=a.getValue("MapServiceId"),n=a.getValue("LayerId"),p=a.getValue("LayerName"),x=a.getValue("DescriptionFormat"),s=a.getValue("LabelFormat"),y="extended";switch(a.getValue("SelectionMode")){case 0:y="single";break;case 1:y="multiple";break;
case 2:y="extended"}var v=a.getValue("ShowIcons"),u=a.getValue("Title"),r=new Observable(b._defaultContainerTitle),t=null,w=null;!c&&b&&(c=b.defaultContainerName);null!=c&&(t=b.getOrCreateContainer(c));u?r.set(u):t.title&&r.set(t.title.get());m&&(c=a.getSite().essentialsMap.findMapServiceById(m))&&(n?w=c.findLayerOrTableById(n):p&&(w=c.findLayerOrTableByName(p)));if(g&&g.fields)for(n=0;n<g.fields.length;n++)if(p=g.fields[n],"esriFieldTypeDate"===p.type)for(c=0;c<g.features.length;c++)m=g.features[c],
m.attributes[p.alias]?m.attributes[p.alias]=h.parseDate(m.attributes[p.alias]):m.attributes[p.name]&&(m.attributes[p.name]=h.parseDate(m.attributes[p.name]));g=new f.infrastructure.FeatureSet({esriFeatureSet:g,layer:w});w="extended"===y||"multiple"===y;for(n=0;n<g.features.length();n++)p=d.essentialsHtmlViewer.mapping.modules.workflow.generateDisplayResultPickerFeaturefromFeature(g.features.getAt(n)),p.showCheckbox=w,v||(p.showIcon=v),x&&p.descriptionFormat.set(x),s&&p.labelFormat.set(s);x=b.app.viewManager.createView({markupResource:"Mapping/modules/Workflow/DisplayResultPickerView.html",
typeName:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.DisplayResultPickerView",isVisible:!0,libraryId:b.libraryId,iconUri:b._defaultContainerIconUri});x.activityContext=a;x.workflowContainer=t;s=new d.essentialsHtmlViewer.mapping.modules.workflow.DisplayResultPickerViewModel(b.app,b.libraryId,g);s.activityContext=a;s.selectionMode=y;s.app=b.app;s.libraryId=b.libraryId;y=b.configuration&&!!b.configuration.showTitleInFormBody;s.title.set(r.get());v=b.configuration.displayResultPickerTemplateComplexity;
s.resultTemplateComplexity=void 0===v||"complex"!=v&&"simple"!=v?"complex":v.toLowerCase();s.initialize({buttons:e,showTitleInBody:y});x.attach(s);b.displayContainerContent(x,t,r,a)}})(g.WorkflowHandlers||(g.WorkflowHandlers={}))})(g.workflow||(g.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){d.handleExternalLog=function(d,b){var a=b.getValue("Message");d.app.trace.info(a);b.completeActivity()}})(d.WorkflowHandlers||(d.WorkflowHandlers={}))})(d.workflow||(d.workflow={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){function g(b,a){if(b&&b.parent)for(var c=b.getSelfAndAncestors()||[],d=0;d<c.length;d++){var f=c[d];f&&f.id.get()!==b.layerList.id.get()&&f.isVisible.get()!=a&&f.isVisible.set(a)}}f.handleGetLayerListItemInfo=function(b,a){if(!a)throw Error("Get Layer List Item Info: required context was not supplied.");if(!b||!b.layerList)throw Error("Get Layer List Item Info: No layer list available.");b.waitUntilLayerListInitialized().then(function(){var c=
a.getValue("ItemId"),d=a.getValue("ItemName"),f=b.layerList.getDescendants()||[];c?f=dojo.filter(f,function(a){return a&&a.id.get()==c}):d&&(f=dojo.filter(f,function(a){return a&&a.name.get()==d}));for(var g=[],h=0;h<f.length;h++){var l=f[h];l&&(l={isVisible:l.isVisible.get(),isEffectivelyVisible:l.isEffectivelyVisible.get(),isExpanded:l.isExpanded.get(),hasChildren:l.children&&0<l.children.getLength(),name:l.name.get(),id:l.id.get(),parentId:l.parent?l.parent.id.get():null},g.push(l))}a.setValue("Items",
JSON.stringify(g));a.completeActivity()})};f.handleSetLayerListItemInfo=function(b,a){if(!a)throw Error("Set Layer List Item Info: required context was not supplied.");if(!b||!b.layerList)throw Error("Set Layer List Item Info: No layer list available.");b.waitUntilLayerListInitialized().then(function(){var c=a.getValue("ItemId"),e=a.getValue("ItemName"),f=a.getValue("IsVisible"),h=a.getValue("IsEffectivelyVisible"),m=a.getValue("IsExpanded"),p=b.layerList.getDescendants()||[],x=null;c?x=d.framework.utils.ArrayUtils.firstOrDefault(p,
function(a){return a&&a.id.get()==c}):e&&(x=d.framework.utils.ArrayUtils.firstOrDefault(p,function(a){return a&&a.name&&a.name.get()==e}));x&&(null!==m&&x.isExpanded.set(m),null!==h&&g(x,h),null!==f&&x.setItemVisibility(f));a.completeActivity()})}})(f.WorkflowHandlers||(f.WorkflowHandlers={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){d.handleListenForExternalEvent=function(d,b){var a=b.getValue("EventName");if(d._eventListenersResults.hasOwnProperty(a))d._eventListenersResults[a]=null;else{d._eventListenersResults[a]=null;var c=d.app.event(a).subscribe(d,function(){d._eventListenersResults[a]=arguments});d._eventListenersToken.push(function(){d.app.event(a).unsubscribe(c)})}b.completeActivity()}})(d.WorkflowHandlers||(d.WorkflowHandlers={}))})(d.workflow||
(d.workflow={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){d.handleGetSelectedFeatures=function(d,b){var a=b.getValue("FeatureSetId"),c=b.getValue("FeatureSetCollectionId");d.getFeaturesInCollectionAsync(c,a).then(function(a){a&&0<a.length?b.setValue("SelectedFeatures",a):b.setValue("SelectedFeatures",null)}).lastly(function(){return b.completeActivity()})}})(d.WorkflowHandlers||(d.WorkflowHandlers={}))})(d.workflow||(d.workflow={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping=
{}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){d.handleIntersectLayers=function(d,b){}})(d.WorkflowHandlers||(d.WorkflowHandlers={}))})(d.workflow||(d.workflow={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){d.handlePrompt=function(d,b){var a=b.getValue("Title"),c=b.getValue("Description"),e=b.getValue("DefaultText");d.app.command("Prompt").execute(a,c,e,function(a){b.setValue("Result",a);b.completeActivity()})}})(d.WorkflowHandlers||(d.WorkflowHandlers={}))})(d.workflow||(d.workflow={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex=
{}));(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){d.handleRunExternalCommand=function(d,b){var a=b.getValue("CommandName"),c=b.getValue("CommandParameter");d.app.command(a).execute(c);b.completeActivity()}})(d.WorkflowHandlers||(d.WorkflowHandlers={}))})(d.workflow||(d.workflow={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(d){(function(d){(function(d){d.handleShowMapTip=function(d,b){var a=b.getValue("FeatureSetCollectionId"),c=b.getValue("FeatureSetId"),e=b.getValue("FeatureId"),f=null,g=[];a?a&&(f="Active"==a?d.app.featureSetManager.getCollectionById(d._lastOpenedCollectionId):d.app.featureSetManager.getCollectionById(a)):f=d.app.featureSetManager.getCollectionById(d._lastOpenedCollectionId);if(f&&f.featureSets&&0<f.featureSets.getLength())if(c){if(c=f.getFeatureSetById(c))for(h=
0;h<c.features.getLength();h++)if(m=c.features.getAt(h))if(e)m.id.get()==e&&g.push(m);else{g.push(m);break}}else for(a=0;a<f.featureSets.getLength();a++)if(c=f.featureSets.getAt(a))for(var h=0;h<c.features.getLength();h++){var m=c.features.getAt(h);if(m)if(e)m&&m.id.get()==e&&g.push(m);else{g.push(m);break}}0<g.length&&d.app.command("ShowMapTip").execute(g[0]);b.completeActivity()}})(d.WorkflowHandlers||(d.WorkflowHandlers={}))})(d.workflow||(d.workflow={}))})(d.modules||(d.modules={}))})(d.mapping||
(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){(function(g){function h(b){switch(b){case c.Union:return a.UNION;case c.Replace:return a.REPLACE;case c.Intersect:return a.INTERSECT;case c.Subtract:return a.SUBTRACT;default:return a.UNION}}var b=f.infrastructure.FormatUtils,a=f.infrastructure.selection.CombineMode,c;(function(a){a[a.Union=0]="Union";a[a.Replace=1]="Replace";a[a.Intersect=2]="Intersect";a[a.Subtract=3]="Subtract"})(c||(c={}));g.setFeatureProperties=function(a,b){if(a){var c=
b.getValue("LabelFormat"),f=b.getValue("DescriptionFormat"),g=b.getValue("LongDescriptionFormat"),h=b.getValue("IconUri"),l=b.getValue("FeatureSetDisplayName");l&&a.displayName.set(l);if((c||f||g||h)&&a.features)for(l=0;l<a.features.length();++l){var m=a.features.getAt(l);if(m){if(h){var p=b.getSite();p&&m.iconUri.set(d.essentials.RestHelper.processClientSideTokens(p,h))}c&&m.labelFormat.set(c);f&&m.descriptionFormat.set(f);g&&m.longDescriptionFormat.set(g)}}}};g.handleSelectFeatures=function(a,g){var m=
g.getValue("FeatureSet"),n=g.getValue("MapServiceId"),p=g.getValue("LayerId"),x=g.getValue("LayerName"),s=g.getValue("CollectionName"),y=g.getValue("ClearCollectionFirst"),v=g.getValue("ShowPushpins"),u=g.getValue("ShowNotification"),r=g.getValue("CombineMode"),t=!d.framework.utils.isNullOrUndefined(r),w=null;y||(y=!1);v||(v=!1);u||(u=!1);t?y=r==c.Replace:r=y?c.Replace:c.Union;if(n){var t=null,B=g.getSite();B&&(t=B.getResourceById(B.essentialsMap.mapServices,n));t&&(p?w=t.findLayerOrTableById(p):
x&&(w=t.findLayerOrTableByName(x)))}if(m&&m.fields)for(n=0;n<m.fields.length;n++)if(p=m.fields[n],"esriFieldTypeDate"===p.type&&m.features&&m.features.length)for(x=0;x<m.features.length;x++)t=m.features[x],t.attributes[p.alias]?t.attributes[p.alias]=b.parseDate(t.attributes[p.alias]):t.attributes[p.name]&&(t.attributes[p.name]=b.parseDate(t.attributes[p.name]));r=h(r);m=new f.infrastructure.FeatureSet({esriFeatureSet:m,layer:w,app:this.app});d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.setFeatureProperties(m,
g);var z={featureSet:m,collectionId:s,clearCollectionFirst:y,layer:w,showPushpins:v,showNotification:u,combineMode:r,callback:function(){return g.completeActivity()}};null!=m&&null!=m.features&&0<m.features.length()&&null!=w&&!m.features.getAt(0).hasGeometry.get()?m.loadGeometries(null).then(function(){return a.prepFeatureSetInCollection(z)},function(b){return a.prepFeatureSetInCollection(z)}):a.prepFeatureSetInCollection(z)}})(g.WorkflowHandlers||(g.WorkflowHandlers={}))})(g.workflow||(g.workflow=
{}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){(function(f){var g=function(b){function a(a,d){b.call(this,a,d)}__extends(a,b);a.prototype.attach=function(a){if(!a)throw Error("{0}: A view model must be specified to attach to.".format(this.id));b.prototype.attach.call(this,a)};a.prototype.handleCheckboxChecked=function(a,b,d){this.parentView.viewModel.featureChecked(d)};return a}(d.framework.ui.ViewBase);f.DisplayResultPickerResultTemplateView=g})(f.templates||(f.templates={}))})(f.workflow||
(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){var m=function(){return function(g){this.resourceName=this.internalRegionName=this.regionName=this.name=null;this.hideForMapInteraction=this.isManaged=!1;this.allowClose=!0;this.activityContext=this.view=null;g&&dojo.safeMixin(this,g);this.showOverlay=new Observable(!1);this.displayHeader=new Observable(g.displayHeader||!1);this.busy=new Observable(!1);this.hasContent=new Observable(!1);this.iconUri=new Observable("");this.title=new Observable("");
this.visible=new Observable(!0);this.message=new Observable("");this.safeMessage=new Observable("");this.safeMessage.syncTransform(this.message,function(b){return d.infrastructure.FilterUtils.sanitize(b,{allowFrames:!0,uriTransformer:function(a){return a}})})}}();g.WorkflowContainerConfig=m})(g.workflow||(g.workflow={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,b){f.call(this,a,b);this.hasSubscribed=!1;var d=this;a&&!this.hasSubscribed&&(this.hasSubscribed=!0,a.event("ViewContainerViewClosedEvent").subscribe(this,function(a){a&&(a.xButtonClicked||a.backButtonClicked)&&a.viewId===this.id&&d.viewModel&&d.viewModel.activityContext&&d.viewModel.activityContext.workflow&&(d.app.event("WorkflowAbort").publish(d.viewModel.activityContext.workflow()),d.app.event("WorkflowAbortedEvent").publish(d.viewModel.activityContext.workflow()))}))}
__extends(b,f);b.prototype.attach=function(a){if(!a)throw Error("{0}: A view model must be specified to attach to.".format(this.id));f.prototype.attach.call(this,a);d.essentialsHtmlViewer.mapping.modules.workflow.WorkflowUtils.convertToHTMLSyntax(a.message);this.title.sync(a.title);this.iconUri.sync(a.iconUri)};return b}(d.framework.ui.ViewBase);f.WorkflowContainerView=g})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,b){f.call(this,a,b);this.formWidth=this.formHeight=this.showTitleInFormBody=this.title=this.buttons=this.workflowFormContent=this.validationResults=this.formDefinition=this.activityContext=null;this.defaultFormWidth=800;this.defaultFormHeight=600;this.workflowFormContent=new Observable(null);this.buttons=new ObservableCollection([]);this.title=new Observable("Workflow form");this.formWidth=new Observable(this.defaultFormWidth);
this.formHeight=new Observable(this.defaultFormHeight);this.showTitleInFormBody=new Observable(!1);this.validationResults=new ObservableCollection}__extends(b,f);b.prototype.initialize=function(a){a&&a.hasOwnProperty("showTitleInFormBody")&&this.showTitleInFormBody.set(a.showTitleInFormBody||!1);a&&a.hasOwnProperty("buttons")?this.buttons=new ObservableCollection(a.buttons):this.buttons=new ObservableCollection([]);a&&a.hasOwnProperty("formDefinition")&&(this.formDefinition=a.formDefinition);null!=
this.formDefinition&&(this.formDefinition.attached_application=this.app,this.formWidth.set(this.formDefinition.maxWidth.get()),this.formHeight.set(this.formDefinition.maxHeight.get()),1>this.formWidth.get()&&this.formWidth.set(this.defaultFormWidth),this.title.set(this.formDefinition.title.get()),a=d.forms.renderFormItem(this.formDefinition.containerFormItem),this.workflowFormContent.set(a))};b.prototype.getDefaultButton=function(){for(var a=null,b=null,d=0;d<this.buttons.getLength();d++)if(b=this.buttons.getAt(d),
b.isDefault.get()){a=b;break}return a};return b}(d.framework.ui.ViewModelBase);f.WorkflowFormViewModel=g})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(f){function b(a,b){f.call(this,a,b);this.token=this.workflowFormContent=this.formDefinition=this.workflowContainer=this.activityContext=null;this.token=this.app.command("SubmitWorkflowForm").register(this,this.submitRequest)}__extends(b,f);b.prototype.attach=function(a){if(!a)throw Error("{0}: A view model must be specified to attach to.".format(this.id));this.workflowFormContent=a.workflowFormContent;this.workflowFormContent.bind(this,
function(){this.app.viewManager.notifyDimensionsChanged(this)});this.activityContext=this.configuration.activityContext;this.workflowContainer=this.configuration.workflowContainer;f.prototype.attach.call(this,a);Modernizr&&!Modernizr.touch&&this._focusFirstItem();a.title.bind(this,function(a){this.title.set(a)});a.title.pulse();this.app.viewManager.notifyDimensionsChanged(this)};b.prototype._focusFirstItem=function(){this.app.command("FocusOnFirstInputInView").execute(this)};b.prototype.submitRequest=
function(a){this.viewModel.formDefinition===a&&this.handleSubmit(null)};b.prototype.handleSubmit=function(a){if(a&&!0===d.essentialsHtmlViewer.___userInAutoComplete)return a.preventDefault(),!1;var b=this.viewModel.getDefaultButton();if(b)this.finishFormWithButton(b);else if(a)return a.preventDefault(),!1};b.prototype.handleClickButton=function(a,b,d){this.finishFormWithButton(d)};b.prototype.finishFormWithButton=function(a){!0==this._processForm(this.viewModel.formDefinition,this.activityContext,
a)&&(null!=this.workflowContainer&&null!=this.workflowContainer.view&&(this.workflowContainer.hasContent.set(!1),this.app.viewManager.notifyDimensionsChanged(this.workflowContainer.view)),this.app.command("SubmitWorkflowForm").unregister(this.token),this.app.viewManager.destroyView(this))};b.prototype._processForm=function(a,b,d,f){if(null!=a&&null!=d&&d.causesValidation&&d.causesValidation.get()){var g=a.validate();f=[];for(var h=0;h<g.length;++h)!1==g[h].isValid&&f.push(g[h]);if(null!=f&&0<f.length){this.viewModel.validationResults.set(f);
a="";for(b=0;b<f.length;b++)0<a.length&&(a+=" "),a+=this.app.getResource(this.libraryId,"language-accessibility-form-validation-summary").format(b+1,f.length,f[b].errorMessage);this.app.command("ScreenReaderNarrate").execute(a);return!1}this.viewModel.validationResults.clear()}f=a.getResults();for(g=0;g<f.length;g++)(h=f[g])&&h.argumentName&&""!=dojo.trim(h.argumentName)&&b.setValue(h.argumentName,h.value,!0);b.setValue("ButtonResultValue",d.value.get());a.destroy();b.completeActivity();return!0};
b.prototype.deactivated=function(){null!=this.formDefinition&&this.formDefinition.destroy();this.formDefinition=null};return b}(d.framework.ui.ViewBase);f.WorkflowFormView=g})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(a,b){d.call(this,a,b);this._hideViewOnClickWorkflow=null}__extends(b,d);b.prototype.attach=function(a){if(!a)throw Error("{0}: A view model must be specified to attach to.".format(this.id));d.prototype.attach.call(this,a);this.title.set(this.app.getResource(this.libraryId,"language-workflow-available-workflows"))};b.prototype.handleButtonClick=function(a,b,d){};b.prototype.handleClickWorkflow=function(a,
b,d){this.configuration.hideOnClickWorkflow&&this.app.command("DeactivateView").execute(this.id);this.app.command("RunWorkflowById").execute(d.id);return!1};return b}(d.framework.ui.ViewBase);f.WorkflowListView=g})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(g){(function(g){var m=f.infrastructure.FormatUtils,l=d.essentials.EsriFieldTypes,b=function(){function a(){}a.convertToHTMLSyntax=function(b){if(null===b.get()||void 0===b.get())return null;for(var d in a.patterns){if(!d||void 0===d||null===d)break;var f=RegExp(d,"g");b.set(b.get().replace(f,a.patterns[d]))}};a.formatListItem=function(a,b){switch(b){case l.esriFieldTypeDate:return m.formatDate(m.parseDate(a));case l.esriFieldTypeOID:case l.esriFieldTypeSmallInteger:case l.esriFieldTypeInteger:case l.esriFieldTypeSingle:case l.esriFieldTypeDouble:return m.formatNumber(m.parseNumber(a));
default:return a}};a.patterns={"\\n":"<br />","\\t":"&nbsp; &nbsp; &nbsp; &nbsp;"};return a}();g.WorkflowUtils=b})(g.workflow||(g.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(d){(function(d){(function(g){(function(g){var m=function(d){function b(a,b){d.call(this,a,b);this.command=this.workflowId=null}__extends(b,d);b.prototype.onDrawEnd=function(a){if(this.workflowId){var b={geometry:a,workflowId:this.workflowId};this.app.command("RunWorkflowWithGeometry").execute(b)}d.prototype.onDrawEnd.call(this,a)};return b}(d.infrastructure.tools.MapTool);g.WorkflowTool=m})(g.workflow||(g.workflow={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments);this.workflows=this.isActive=null}__extends(b,d);b.prototype.initialize=function(a){this.isActive=new Observable(!1);this.workflows=new ObservableCollection([]);null!=this.app.site&&this.app.site.isInitialized?this.getWorkflows():this.app.event("SiteInitializedEvent").subscribe(this,this.getWorkflows)};b.prototype.getWorkflows=function(){this.workflows.set(this.app.site.workflows)};
return b}(d.framework.ui.ViewModelBase);f.WorkflowViewModel=g})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);return b}(d.framework.application.ModuleBase);f.ZoomControlModule=g})(f.zoomcontrol||(f.zoomcontrol={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.handleClickZoomIn=function(a,b,d){var f=this;this.app.command("StepZoomIn").execute();this.app.event("MapZoomEvent").once(this,function(){f.app.command("FocusOnFirstInputInView").execute(f)});return!1};return b}(d.framework.ui.ViewBase);f.ZoomInView=g})(f.zoomcontrol||(f.zoomcontrol={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(d){(function(g){(function(f){(function(f){(function(f){var g=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.handleClickZoomOut=function(a,b,d){var f=this;this.app.command("StepZoomOut").execute();this.app.event("MapZoomEvent").once(this,function(){f.app.command("FocusOnFirstInputInView").execute(f)});return!1};return b}(d.framework.ui.ViewBase);f.ZoomOutView=g})(f.zoomcontrol||(f.zoomcontrol={}))})(f.modules||(f.modules={}))})(g.mapping||(g.mapping={}))})(d.essentialsHtmlViewer||
(d.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Accessibility/AccessibilityButtonView.html","html","PGRpdiBjbGFzcz0iYWNjZXNzaWJpbGl0eSIgdGFiaW5kZXg9Ii0xIj4gPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJhY2Nlc3NpYmlsaXR5LWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGluY2x1ZGVkfXtAZXZlbnQtb25jbGljazogaGFuZGxlT25DbGlja317dGl0bGU6IEBsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1hY2Nlc3NpYmlsaXR5LWljb259IiB0YWJpbmRleD0iMCI+PC9idXR0b24+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Accessibility/AccessibilityIconView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlIG5vdGlmaWNhdGlvbiBhbGVydCI+IDxkaXYgcm9sZT0iYWxlcnQiIHRhYmluZGV4PSIwIj4gPGRpdiBjbGFzcz0iZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogR2V0SFRNTENvbnRlbnR9e0B3aWRnZXQtY29udGV4dDogY29udGVudH0iPjwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBva0J1dHRvbkVsZW1lbnR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja09rfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1va30iIC8+IDwvZGl2PiAgICANCjwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Accessibility/AccessibilityView.html","html","IDxkaXYgY2xhc3M9InNjcmVlbi1yZWFkZXItbm90aWZpY2F0aW9ucyIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogc2NyZWVuUmVhZGVyTm90aWZpY2F0aW9uc0VsZW1lbnR9IiBhcmlhLWxpdmU9InBvbGl0ZSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBhcmlhTGFiZWxUZXh0fSIgYXJpYS1saXZlPSJwb2xpdGUiPjwvc3Bhbj4gPC9kaXY+IA==");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Alert/AlertView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlIG5vdGlmaWNhdGlvbiBhbGVydCI+IDxwIGNsYXNzPSJkZXNjIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogYWxlcnRCb2R5fSI+PC9wPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0B2YXI6IG9rQnV0dG9uRWxlbWVudH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrT2t9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLW9rfSIgLz4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Authentication/AuthenticationView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlIGF1dGhlbnRpY2F0aW9uLWRpYWxvZyI+IDxkaXYgY2xhc3M9ImZvcm0tdmFsaWRhdGlvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGVycm9yfXtAdGV4dDplcnJvck1lc3NhZ2V9Ij48L2Rpdj4gIDxkaXYgY2xhc3M9ImxvYWRpbmctY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogYXV0aGVudGljYXRpbmd9Ij4gPGRpdiBjbGFzcz0ibG9hZGluZy1pbWciIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBidXN5fSI+PC9kaXY+IDxkaXYgY2xhc3M9ImxvYWRpbmctbXNnIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWF1dGgtYXV0aGVudGljYXRpbmd9Ij48L2Rpdj4gPC9kaXY+IDxmb3JtIGNsYXNzPSJmb3JtLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogYXV0aGVudGljYXRpbmd9Ij4gPGRpdiBjbGFzcz0iZm9ybS1pdGVtIj4gPGxhYmVsIGZvcj0idXNlcm5hbWUiY2xhc3M9ImZvcm0tbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtYXV0aC11c2VybmFtZX0iPjwvbGFiZWw+IDxkaXYgY2xhc3M9ImZvcm0tY29udHJvbCI+IDxpbnB1dCBpZD0idXNlcm5hbWUiIHR5cGU9InRleHQiIGF1dG9jb3JyZWN0PSJvZmYiIGF1dG9jYXBpdGFsaXplPSJvZmYiIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogdXNlcm5hbWV9IiAvPiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0taXRlbSI+IDxsYWJlbCBmb3I9InBhc3N3b3JkIiBjbGFzcz0iZm9ybS1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1hdXRoLXBhc3N3b3JkfSI+PC9sYWJlbD4gPGRpdiBjbGFzcz0iZm9ybS1jb250cm9sIj4gPGlucHV0IGlkPSJwYXNzd29yZCIgdHlwZT0icGFzc3dvcmQiIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogcGFzc3dvcmR9IiAvPiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrTG9naW59e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWxvZ2lufSI+PC9idXR0b24+IDwvZGl2PiA8L2Zvcm0+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Banner/BannerView.html","html","PGRpdiBjbGFzcz0iYmFubmVyIg0KICAgICBkYXRhLWJpbmRpbmc9IntAc3R5bGUtYmFja2dyb3VuZEltYWdlOiBiYWNrZ3JvdW5kSW1hZ2V9e0BzdHlsZS1iYWNrZ3JvdW5kQ29sb3I6IGJhY2tncm91bmRDb2xvcn17QHN0eWxlLWhlaWdodDogaGVpZ2h0fSI+ICA8ZGl2IGNsYXNzPSJiYW5uZXItaW1hZ2VzIGJhbm5lci1ub3NlbGVjdCINCiAgICAgICAgIGRhdGEtYmluZGluZz0ie0BldmVudC1tb3VzZWRvd246IGhhbmRsZU1vdXNlRG93bn0NCiAgICAgICAgICAgICAgICAgICAgICB7QGV2ZW50LW1vdXNldXA6IGhhbmRsZU1vdXNlVXB9DQogICAgICAgICAgICAgICAgICAgICAge0BldmVudC1tb3VzZW91dDogaGFuZGxlTW91c2VPdXR9DQogICAgICAgICAgICAgICAgICAgICAge0BldmVudC1kYmxjbGljazogaGFuZGxlRG91YmxlQ2xpY2t9DQogICAgICAgICAgICAgICAgICAgICAge0BldmVudC10b3VjaGNhbmNlbDogaGFuZGxlVG91Y2hDYW5jZWx9DQogICAgICAgICAgICAgICAgICAgICAge0BldmVudC10b3VjaHN0YXJ0OiBoYW5kbGVUb3VjaFN0YXJ0fQ0KICAgICAgICAgICAgICAgICAgICAgIHtAZXZlbnQtdG91Y2hlbmQ6IGhhbmRsZVRvdWNoRW5kfSI+IDxpbWcgY2xhc3M9ImJhbm5lci1sZWZ0LWltZyIgZGF0YS1iaW5kaW5nPSJ7c3JjOiBsZWZ0SW1hZ2V9e2FsdDogbGVmdEltYWdlRGVzY3JpcHRpb259e0B2aXNpYmxlOiBsZWZ0SW1hZ2V9IiB0YWJpbmRleD0iMCIgLz4gPGltZyBjbGFzcz0iYmFubmVyLXJpZ2h0LWltZyIgZGF0YS1iaW5kaW5nPSJ7c3JjOiByaWdodEltYWdlfXthbHQ6IHJpZ2h0SW1hZ2VEZXNjcmlwdGlvbn17QHZpc2libGU6IHJpZ2h0SW1hZ2V9IiB0YWJpbmRleD0iMCIgLz4gPC9kaXY+IDx0YWJsZSBjbGFzcz0iYmFubmVyLXRleHQiIHJvbGU9InByZXNlbnRhdGlvbiI+IDx0cj4gPHRkPiA8aDEgY2xhc3M9ImJhbm5lci10aXRsZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGFwcGxpY2F0aW9uVGl0bGV9e0BzdHlsZS1jb2xvcjogdGl0bGVDb2xvcn17QHZpc2libGU6IGFwcGxpY2F0aW9uVGl0bGV9IiB0YWJpbmRleD0iMCI+PC9oMT4gPGgyIGNsYXNzPSJiYW5uZXItc3VidGl0bGUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBhcHBsaWNhdGlvblN1YnRpdGxlfXtAc3R5bGUtY29sb3I6IHN1YnRpdGxlQ29sb3J9e0B2aXNpYmxlOiBhcHBsaWNhdGlvblN1YnRpdGxlfSIgdGFiaW5kZXg9IjAiPjwvaDI+IDwvdGQ+IDwvdHI+IDwvdGFibGU+IDxkaXYgY2xhc3M9ImJhbm5lci1jb250ZW50LXJlZ2lvbiIgZGF0YS1yZWdpb24tbmFtZT0iQmFubmVyQ29udGVudFJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5EaXZTdGFja1JlZ2lvbkFkYXB0ZXIiIGRhdGEtcmVnaW9uLW9wdGlvbnM9ImFjdGl2YXRlVmlld3NJbkxhc3RQb3NpdGlvbj1mYWxzZSI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/BarcodeScanner/BarcodeScannerView.html","html","PHZpZGVvIGF1dG9wbGF5IGRhdGEtYmluZGluZz0ie0B2YXI6IHZpZGVvRWxlbWVudH17QGV2ZW50LWtleWRvd246IGhhbmRsZUtleURvd259Ij48L3ZpZGVvPiA8Y2FudmFzIGRhdGEtYmluZGluZz0ie0B2YXI6IGNhbnZhc0VsZW1lbnR9IiBzdHlsZT0iZGlzcGxheTogYmxvY2s7IiBpZD0icXItY2FudmFzIj48L2NhbnZhcz4gPHVsIGNsYXNzPSJjYW1lcmEtY29udHJvbHMiPiA8bGk+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tY2FuY2VsfXtAZXZlbnQtb25jbGljazogaGFuZGxlQmFja0NsaWNrfSI+PC9idXR0b24+IDwvbGk+IDxsaT4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWJhcmNvZGUtc2Nhbm5lci1zd2l0Y2h9e0B2aXNpYmxlOiBzaG93U291cmNlU3dpdGNoZXJ9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVTd2l0Y2hTb3VyY2V9Ij48L2J1dHRvbj4gPC9saT4gPC91bD4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Basemap/BasemapSliderView.html","html","PGRpdiBjbGFzcz0iYmFzZW1hcC1zbGlkZXItY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAY2xhc3MtYmFzZW1hcC1zbGlkZXItZXhwYW5kZWQ6IHNsaWRlcklzRXhwYW5kZWR9Ij4gPGJ1dHRvbiBjbGFzcz0iYmFzZW1hcC1zbGlkZXItdG9nZ2xlIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogdG9nZ2xlRXhwYW5kZWR9e0BjbGFzcy1iYXNlbWFwLXNsaWRlci1leHBhbmRlZDogc2xpZGVySXNFeHBhbmRlZH17dGl0bGU6IEBsYW5ndWFnZS1iYXNlbWFwLXNsaWRlci10b2dnbGUtYnV0dG9ufSIgdGFiaW5kZXg9IjAiPlRvZ2dsZTwvYnV0dG9uPiA8ZGl2IGNsYXNzPSJiYXNlbWFwLXNsaWRlci1pbm5lciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNsaWRlcklzRXhwYW5kZWR9Ij4gPGRpdiBjbGFzcz0ic2xpZGVyLWxhYmVsIHNsaWRlci1sYWJlbC1taW4iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBzbGlkZXJNaW5MYWJlbH0iPjwvZGl2PiA8ZGl2IGNsYXNzPSJzbGlkZXItbGFiZWwgc2xpZGVyLWxhYmVsLW1heCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHNsaWRlck1heExhYmVsfSI+PC9kaXY+IDxkaXYgY2xhc3M9ImJhc2VtYXAtc2xpZGVyLXRpY2tzIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBzbGlkZXJUaWNrc30iPiA8ZGl2IGNsYXNzPSJ0aWNrIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBzbGlkZXJUaWNrc317QHN0eWxlLWxlZnQ6IHBvc2l0aW9ufSI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJiYXNlbWFwLXNsaWRlciIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogc2xpZGVyRWxlbWVudH0iPiA8ZGl2IGNsYXNzPSJ0aWNrIGxhc3QtdGljayI+PC9kaXY+IDxkaXYgY2xhc3M9InNsaWRlci1sYWJlbCBzbGlkZXItbGFiZWwtY3VycmVudCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogc2xpZGVyTGFiZWxFbGVtZW50fXtAdGV4dDogc2xpZGVyU2VsZWN0ZWRMYWJlbH0iPjwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Basemap/BasemapSwitcherButtonView.html","html","PGRpdiBjbGFzcz0iZmx5b3V0LW1lbnUiPiA8YnV0dG9uIGNsYXNzPSJmbHlvdXQtbWVudS1hY3RpdmUtdG9vbCIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZURyYXdlckJ1dHRvbkNsaWNrZWR9e3RpdGxlOiBAbGFuZ3VhZ2UtYmFzZW1hcC1zd2l0Y2hlci1zd2l0Y2h9e0BlbmFibGVkOiBiYXNlbWFwc30iIHRhYmluZGV4PSIwIj4gPGltZyBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2VsZWN0ZWRCYXNlbWFwSWNvblVyaX17c3JjOiBzZWxlY3RlZEJhc2VtYXBJY29uVXJpfXthbHQ6IGhlYWRlckxhYmVsfSIvPiA8cCBjbGFzcz0idG9vbC1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGhlYWRlckxhYmVsfXt0aXRsZTogaGVhZGVyTGFiZWx9Ij48L3A+IDwvYnV0dG9uPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IEJhc2VtYXBzTGlzdENvbnRyb2xsZXJ9e0B3aWRnZXQtY29udGV4dDogQGNvbnRleHR9e0B3aWRnZXQtcmVwbGFjZTogdHJ1ZX0iPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Basemap/BasemapSwitcherView.html","html","PHVsIGNsYXNzPSJiYXNlbWFwLXN3aXRjaGVyIHRvb2xiYXItcGFyZW50IiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBiYXNlbWFwc317QHZhcjogZHJhd2VyQ29udGVudFBhcmVudH0iPiA8bGkgY2xhc3M9ImJhc2VtYXAtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYmFzZW1hcHN9Ij4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIiBkYXRhLWJpbmRpbmc9IntAY2xhc3Mtc2VsZWN0ZWQ6IHZpc2libGV9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVCYXNlbWFwQ2xpY2t9IiB0YWJpbmRleD0iMCI+IDxpbWcgY2xhc3M9Imljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfXtzcmM6IGljb25Vcml9e3RpdGxlOiBkaXNwbGF5TmFtZX17YWx0OiBkaXNwbGF5TmFtZX0iIC8+IDxwIGNsYXNzPSJsYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfXt0aXRsZTogZGlzcGxheU5hbWV9Ij48L3A+IDwvYnV0dG9uPiA8L2xpPiA8L3VsPiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Basemap/BasemapSwitcherViewControllerView.html","html","PGRpdiBjbGFzcz0iZmx5b3V0LW1lbnUtY29sbGFwc2libGUtYXJlYSBmbHlvdXQtbWVudS10b29scyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzRXhwYW5kZWR9e0B2YXI6IGNvbGxhcHNpYmxlQXJlYUVsZW1lbnR9e0BjbGFzcy1tdWx0aS1yb3c6IG11bHRpcGxlUm93c30iPiA8YnV0dG9uIGNsYXNzPSJmbHlvdXQtbWVudS1zY3JvbGwgc2Nyb2xsLWJhY2siIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVTY3JvbGxCYWNrfXtAZW5hYmxlZDpiYWNrQXJyb3dFbmFibGVkfXtAdmlzaWJsZTpiYWNrQXJyb3dWaXNpYmxlfXtAdmFyOiBiYWNrQXJyb3dFbGVtZW50fSIgdGFiaW5kZXg9IjAiPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9jaGV2cm9uLWxlZnQtMTYucG5nIiBkYXRhLWJpbmRpbmc9InthbHQ6IEBsYW5ndWFnZS1jb21wYWN0LXRvb2xiYXItbW9yZS10b29sc30iIC8+IDwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJmbHlvdXQtbWVudS1zY3JvbGwgc2Nyb2xsLXRvcCIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVNjcm9sbFRvcH17QGVuYWJsZWQ6IHRvcEFycm93RW5hYmxlZH17QHZpc2libGU6IHRvcEFycm93VmlzaWJsZX17QHZhcjogdG9wQXJyb3dFbGVtZW50fSIgdGFiaW5kZXg9IjAiPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9jaGV2cm9uLXVwLTI0LnBuZyIgZGF0YS1iaW5kaW5nPSJ7YWx0OiBAbGFuZ3VhZ2UtY29tcGFjdC10b29sYmFyLW1vcmUtdG9vbHN9IiAvPiA8L2J1dHRvbj4gIDxkaXYgY2xhc3M9ImZseW91dC1tZW51LWZsb2F0aW5nLWFyZWEiIGRhdGEtYmluZGluZz0ie0B2YXI6IGRyYXdlckVsZW1lbnR9Ij4gPGRpdiBjbGFzcz0idG9vbGJhci1pdGVtIHRvb2xiYXItZ3JvdXAiIGRhdGEtYmluZGluZz0ie0B2YXI6IGRyYXdlckNvbnRlbnRFbGVtZW50fXtAY2xhc3MtdG9vbGJhci1ncm91cC1ob3Jpem9udGFsLWNvbnRyb2xzOiBoYXNIb3Jpem9udGFsQ29udHJvbHN9e0BjbGFzcy10b29sYmFyLWdyb3VwLXZlcnRpY2FsLWNvbnRyb2xzOiBoYXNWZXJ0aWNhbENvbnRyb2xzfSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogYmFzZW1hcHNMaXN0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcGxhY2U6IHRydWV9Ij48L2Rpdj4gPC9kaXY+IDwvZGl2PiAgPGJ1dHRvbiBjbGFzcz0iZmx5b3V0LW1lbnUtc2Nyb2xsIHNjcm9sbC1mb3J3YXJkIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlU2Nyb2xsRm9yd2FyZH17QGVuYWJsZWQ6IGZvcndhcmRBcnJvd0VuYWJsZWR9e0B2aXNpYmxlOmZvcndhcmRBcnJvd1Zpc2libGV9e0B2YXI6IGZvcndhcmRBcnJvd0VsZW1lbnR9Ij4gPGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvY2hldnJvbi1yaWdodC0xNi5wbmciIGRhdGEtYmluZGluZz0ie2FsdDogQGxhbmd1YWdlLWNvbXBhY3QtdG9vbGJhci1tb3JlLXRvb2xzfSIgLz4gPC9idXR0b24+IDxidXR0b24gY2xhc3M9ImZseW91dC1tZW51LXNjcm9sbCBzY3JvbGwtYm90dG9tIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlU2Nyb2xsQm90dG9tfXtAZW5hYmxlZDogYm90dG9tQXJyb3dFbmFibGVkfXtAdmlzaWJsZTogYm90dG9tQXJyb3dWaXNpYmxlfXtAdmFyOiBib3R0b21BcnJvd0VsZW1lbnR9Ij4gPGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvY2hldnJvbi1kb3duLTI0LnBuZyIgZGF0YS1iaW5kaW5nPSJ7YWx0OiBAbGFuZ3VhZ2UtY29tcGFjdC10b29sYmFyLW1vcmUtdG9vbHN9IiAvPiA8L2J1dHRvbj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Basemap/BasemapView.html","html","PGRpdiBjbGFzcz0icmVnaW9uIGJhc2VtYXAtcmVnaW9uIiBkYXRhLXJlZ2lvbi1uYW1lPSJCYXNlbWFwUmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLkRpdlN0YWNrUmVnaW9uQWRhcHRlciIgZGF0YS1yZWdpb24tb3B0aW9ucz0iYWN0aXZhdGVWaWV3c0luTGFzdFBvc2l0aW9uPWZhbHNlIj48L2Rpdj4g");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Basemap/SmallBasemapSwitcherButtonView.html","html","PGRpdiBjbGFzcz0iYmFzZW1hcC1zd2l0Y2hlci13cmFwcGVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd0Jhc2VtYXBzQ29udHJvbH17QGNsYXNzLXN3aXRjaGVyLWFjdGl2ZTogZXhwYW5kZWR9e0Bub2NsYXNzLXN3aXRjaGVyLWluYWN0aXZlOiBleHBhbmRlZH0iPiA8ZGl2IGNsYXNzPSJiYXNlbWFwLWJ1dHRvbiBzbWFsbCIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZURyYXdlckJ1dHRvbkNsaWNrZWR9Ij4gPGltZyBjbGFzcz0iYmFzZW1hcC1pY29uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2VsZWN0ZWRCYXNlbWFwSWNvblVyaX17c3JjOiBzZWxlY3RlZEJhc2VtYXBJY29uVXJpfXthbHQ6IGRpc3BsYXlOYW1lfSIgLz4gPHNwYW4gY2xhc3M9ImRpc3BsYXktbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGhlYWRlckxhYmVsfXt0aXRsZTogaGVhZGVyTGFiZWx9Ij48L3NwYW4+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Bookmarks/AddBookmarkView.html","html","PGRpdiBjbGFzcz0iZm9ybS1tb2RhbCBia21rLWFkZC1kaWFsb2ciPiA8Zm9ybSBhY3Rpb249ImphdmFzY3JpcHQ6dm9pZCgwKTsiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbnN1Ym1pdDogaGFuZGxlU3VibWl0fSI+IDxsYWJlbCBmb3I9IkJvb2ttYXJrTmFtZSIgZGF0YS1iaW5kaW5nPSIge0B0ZXh0OiBAbGFuZ3VhZ2UtYm9va21hcmtzLWVudGVyLW5hbWV9Ij48L2xhYmVsPiA8aW5wdXQgaWQ9IkJvb2ttYXJrTmFtZSIgY2xhc3M9ImJrbWstaW5wdXQiIHR5cGU9InRleHQiIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogbmV3Qm9va21hcmtOYW1lfXtAZXZlbnQtY2xpY2s6IGhhbmRsZVRleHRCb3hDbGlja30iIC8+IDxzcGFuIGNsYXNzPSJmb3JtLXZhbGlkYXRpb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiB0ZXh0RXJyb3JNZXNzYWdlfSI+IDxzcGFuIGNsYXNzPSJmaWVsZC12YWxpZGF0aW9uLWVycm9yIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogdGV4dEVycm9yTWVzc2FnZX0iPjwvc3Bhbj4gPC9zcGFuPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVTdWJtaXR9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLW9rfSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNhbmNlbENsaWNrfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1jYW5jZWx9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZm9ybT4gPC9kaXY+IA0K");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Bookmarks/BookmarksButtonView.html","html","PGRpdiBjbGFzcz0iYm9va21hcmstd3JhcHBlciI+IDxkaXYgY2xhc3M9Inpvb20tY29udHJvbC1idG4iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93Qm9va21hcmtzQnV0dG9ufXtAY2xhc3MtYmttay1hY3RpdmU6IGFjdGl2ZX0iPiA8YnV0dG9uIGNsYXNzPSJib29rbWFyayB0b2dnbGUtYnRuIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tUb2dnbGVCb29rbWFya317dGl0bGU6IEBsYW5ndWFnZS1ib29rbWFya3MtdGl0bGV9IiB0YWJpbmRleD0iMCI+PC9idXR0b24+IDwvZGl2PiA8ZGl2IGNsYXNzPSJib29rbWFyay1saXN0IiBkYXRhLXJlZ2lvbi1uYW1lPSJCb29rbWFya3NMaXN0UmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Bookmarks/BookmarksView.html","html","PGRpdiBjbGFzcz0iYmttay1jb250YWluZXIiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBib29rbWFya3NFbmFibGVkfSI+IDxkaXYgY2xhc3M9ImJrbWstdGl0bGUiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBib29rbWFya3N9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1ib29rbWFya3MtdGl0bGV9Ij48L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPSJia21rLWxpc3QiIHRhYmluZGV4PSItMSI+IDx1bCBjbGFzcz0ibGlzdC1tZW51IGhhcy1pY29uIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBib29rbWFya3N9e0BldmVudC1vbmJsdXI6IGhhbmRsZUhpZGVCb29rbWFya3N9Ij4gPGxpIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYm9va21hcmtzfXtAYXR0YWNoOiBAY29udGV4dH0iPiA8YnV0dG9uIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc1VzZXJEZWZpbmVkfXtAZXZlbnQtb25jbGljazogaGFuZGxlRGVsZXRlQm9va21hcmt9e3RpdGxlOiBkZWxldGVCb29rbWFya1N0cmluZ30iIGNsYXNzPSJia21rLWRlbGV0ZSI+IDxpbWcgY2xhc3M9Imxpc3QtbWVudS1pY29uIiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvZGVsZXRlLTE2LnBuZyIgYWx0PSIgIiAvPiA8L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUJvb2ttYXJrU2VsZWN0aW9uQ2hhbmdlZH0iPjwvYnV0dG9uPiA8L2xpPiA8L3VsPiA8dWwgY2xhc3M9Imxpc3QtbWVudSBoYXMtaWNvbiBia21rLWFkZCI+IDxsaSBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iPiA8YnV0dG9uIGNsYXNzPSJia21rLWFkZC1idG4iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVBZGRCb29rbWFya317dGl0bGU6IEBsYW5ndWFnZS1ib29rbWFya3MtYWRkfSI+IDxpbWcgY2xhc3M9Imxpc3QtbWVudS1pY29uIiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvYWRkLTE2LnBuZyIgYWx0PSIgIiAvPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtYm9va21hcmtzLWFkZH0iPjwvc3Bhbj4gPC9idXR0b24+IDwvbGk+IDwvdWw+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Buffer/BufferOptionsView.html","html","PGRpdiBjbGFzcz0iYnVmZmVyLW9wdGlvbnMiPiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iPiA8bGFiZWw+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtYnVmZmVyLW9wdGlvbnMtZGlzdGFuY2UtbGFiZWx9Ij48L3NwYW4+IDxpbnB1dCB0eXBlPSJudW1iZXIiIHN0ZXA9ImFueSIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBidWZmZXJEaXN0YW5jZX17QGV2ZW50LW9uY2hhbmdlOiB2YWxpZGF0ZUFuZEFwcGx5SW5wdXR9e3RpdGxlOiBAbGFuZ3VhZ2UtYnVmZmVyLW9wdGlvbnMtZGlzdGFuY2UtdGl0bGV9IiAvPiA8L2xhYmVsPiA8L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS12YWxpZGF0aW9uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaW5wdXRFcnJvcn0iPiA8c3BhbiBjbGFzcz0iZmllbGQtdmFsaWRhdGlvbi1lcnJvciIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGlucHV0RXJyb3J9Ij48L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iPiA8bGFiZWw+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtYnVmZmVyLW9wdGlvbnMtdW5pdHMtbGFiZWx9Ij48L3NwYW4+IDxzZWxlY3QgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogYnVmZmVyVW5pdHN9e0B2YWx1ZTogc2VsZWN0ZWRCdWZmZXJVbml0fXtAZXZlbnQtb25jaGFuZ2U6IHZhbGlkYXRlQW5kQXBwbHlJbnB1dH17dGl0bGU6IEBsYW5ndWFnZS1idWZmZXItb3B0aW9ucy1sZW5ndGgtdW5pdC1zZWxlY3R9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBidWZmZXJVbml0c317QHRleHQ6IGRpc3BsYXlOYW1lfXt2YWx1ZTogY29uZmlnfSIgLz4gPC9zZWxlY3Q+IDwvbGFiZWw+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iPiA8bGFiZWw+IDxpbnB1dCB0eXBlPSJjaGVja2JveCIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiB3cml0ZVRvTWFya3VwTGF5ZXJ9e0BldmVudC1vbmNoYW5nZTogdmFsaWRhdGVBbmRBcHBseUlucHV0fXt0aXRsZTogQGxhbmd1YWdlLWJ1ZmZlci1vcHRpb25zLW1hcmt1cC1zZWxlY3R9IiAvPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWJ1ZmZlci1vcHRpb25zLW1hcmt1cC1sYWJlbH0iPjwvc3Bhbj4gPC9sYWJlbD4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0tdmFsaWRhdGlvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGJ1ZmZlcmluZ0Vycm9yfSI+IDxzcGFuIGNsYXNzPSJmaWVsZC12YWxpZGF0aW9uLWVycm9yIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogYnVmZmVyaW5nRXJyb3J9Ij48L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie3RpdGxlOiBAbGFuZ3VhZ2UtYnVmZmVyLWNsZWFyLWJ1dHRvbi10aXRsZX17QHRleHQ6IEBsYW5ndWFnZS1idWZmZXItY2xlYXItYnV0dG9uLXRleHR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGVhckJ1dHRvbkNsaWNrfSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7dGl0bGU6IEBsYW5ndWFnZS1idWZmZXItY2FuY2VsLWJ1dHRvbi10aXRsZX17QHRleHQ6IEBsYW5ndWFnZS1idWZmZXItY2FuY2VsLWJ1dHRvbi10ZXh0fXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2FuY2VsQnV0dG9uQ2xpY2t9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9Int0aXRsZTogQGxhbmd1YWdlLWJ1ZmZlci1vcHRpb25zLWNvbnRpbnVlLWJ1dHRvbi10aXRsZX17QHRleHQ6IEBsYW5ndWFnZS1idWZmZXItb3B0aW9ucy1jb250aW51ZS1idXR0b24tdGV4dH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNvbnRpbnVlQnV0dG9uQ2xpY2t9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/ClusterLayers/ClusterLayerView.html","html","PGRpdiBjbGFzcz0iY2x1c3RlcnMiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHNlbGVjdGVkQ2x1c3RlckxheWVyfSI+IDxkaXYgY2xhc3M9ImZvcm0tc3RhY2tlZCIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogc2VsZWN0ZWRDbHVzdGVyTGF5ZXJ9Ij4gPGg0IGNsYXNzPSJ2aXN1YWxpemF0aW9uLXRpdGxlIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNsdXN0ZXJpbmctdGl0bGV9Ij48L2g0PiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iPiA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtY2x1c3RlcmluZy1yYWRpdXN9Ij48L2xhYmVsPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRyb2wiPiA8aW5wdXQgdHlwZT0ibnVtYmVyIiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IGNsdXN0ZXJSYWRpdXN9e3RpdGxlOiBAbGFuZ3VhZ2UtY2x1c3RlcmluZy1yYWRpdXN9IiAvPiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0taXRlbSI+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1jbHVzdGVyaW5nLW1heGltdW0tZmVhdHVyZXN9Ij48L2xhYmVsPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRyb2wiPiA8aW5wdXQgdHlwZT0ibnVtYmVyIiBtaW49IjAiIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogbWF4RmVhdHVyZXNJbkNsdXN0ZXJ9e3RpdGxlOiBAbGFuZ3VhZ2UtY2x1c3RlcmluZy1tYXhpbXVtLWZlYXR1cmVzfSIgLz4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Confirm/ConfirmView.html","html","DQo8ZGl2IGNsYXNzPSJtb2R1bGUgbm90aWZpY2F0aW9uIGNvbmZpcm0iPiA8cCBjbGFzcz0iZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGNvbmZpcm1Cb2R5fSI+PC9wPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja09rfXtAdGV4dDogb2tMYWJlbH0iIC8+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogY2FuY2VsQnV0dG9uRWxlbWVudH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrQ2FuY2VsfXtAdGV4dDogY2FuY2VsTGFiZWx9IiAvPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/ContextMenu/ContextMenuView.html","html","PGRpdiBjbGFzcz0icmVnaW9uIGNvbnRleHQtbWVudS1yZWdpb24iIGRhdGEtYmluZGluZz0ie0B2YXI6IGNvbnRleHRNZW51fXtAY2xhc3Mtb2Zmc2V0LWxlZnQ6IGlzT2Zmc2V0TGVmdH17QGNsYXNzLW9mZnNldC11cDogaXNPZmZzZXRVcH0iIGRhdGEtcmVnaW9uLW5hbWU9IkNvbnRleHRNZW51Q29udGVudFJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Coordinates/CoordinatesView.html","html","PGRpdiBjbGFzcz0iY29vcmRzIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNFbmFibGVkfSI+IDxidXR0b24gY2xhc3M9ImNvb3Jkcy10b2dnbGUiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiB0b2dnbGVDb29yZGluYXRlc0FjdGl2ZX17QGNsYXNzLWNvb3Jkcy10b2dnbGUtYWN0aXZlOiBpc0FjdGl2ZX17QGNsYXNzLWNvb3Jkcy10b2dnbGUtbGVmdDogaXNMZWZ0fXtAY2xhc3MtY29vcmRzLXRvZ2dsZS1yaWdodDogaXNSaWdodH17QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWNvb3JkaW5hdGVzLXRvZ2dsZS1idXR0b24tdGV4dH17dGl0bGU6IEBsYW5ndWFnZS1mZWF0dXJlLWNvb3JkaW5hdGVzLXRvZ2dsZS1idXR0b259IiB0YWJpbmRleD0iMCI+PC9idXR0b24+IDxkaXYgY2xhc3M9ImNvb3Jkcy1pbmZvIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNBY3RpdmV9e0BjbGFzcy1jb29yZHMtaW5mby1mbG9hdC1sZWZ0OiBpc0xlZnR9e0BjbGFzcy1jb29yZHMtaW5mby1mbG9hdC1yaWdodDogaXNSaWdodH0iPiA8YnV0dG9uIGNsYXNzPSJjb29yZHMtc2VsZWN0LWJ0biIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IHRvZ2dsZVNlbGVjdENvbnRhaW5lcn17dGl0bGU6QGxhbmd1YWdlLWZlYXR1cmUtY29vcmRpbmF0ZXMtY2hhbmdlLXN5c3RlbX0iIHRhYmluZGV4PSIwIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogY3VycmVudENvb3JkaW5hdGVTeXN0ZW19Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogY3VycmVudENvb3JkaW5hdGVTeXN0ZW19e0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvc3Bhbj4gPC9zcGFuPiA8c3BhbiBjbGFzcz0iY29vcmQtc2VsZWN0LWFycm93IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogY29vcmRpbmF0ZVNlbGVjdEFycm93fSI+PC9zcGFuPiA8L2J1dHRvbj4gPHVsIGNsYXNzPSJjb29yZHMtc2VsZWN0IiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBjb29yZGluYXRlU3lzdGVtc317QHZpc2libGU6IGNvb3JkaW5hdGVTZWxlY3RFbmFibGVkfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0BjbGFzcy1jb29yZHMtc2VsZWN0LXRvcDogaXNUb3B9Ij4gPGxpIGNsYXNzPSJjb29yZHMtc2VsZWN0LWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGNvb3JkaW5hdGVTeXN0ZW1zfSI+IDxidXR0b24gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfXtAZXZlbnQtb25jbGljazogY2hhbmdlQ29vcmRpbmF0ZVN5c3RlbX0iPjwvYnV0dG9uPiA8L2xpPiA8L3VsPiA8ZGl2IGNsYXNzPSJjb29yZHMtZGlzcGxheSI+IDxkaXYgY2xhc3M9ImNvb3Jkcy1pdGVtIGNvb3Jkcy14Ij4gPHNwYW4gY2xhc3M9ImNvb3Jkcy1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHhWYWx1ZVR5cGV9Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJjb29yZHMtdmFsdWVzIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogeFZhbHVlfSI+PC9zcGFuPiA8L2Rpdj4gPGRpdiBjbGFzcz0iY29vcmRzLWl0ZW0gY29vcmRzLXkiPiA8c3BhbiBjbGFzcz0iY29vcmRzLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogeVZhbHVlVHlwZX0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNvb3Jkcy12YWx1ZXMiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB5VmFsdWV9Ij48L3NwYW4+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Editing/CreateOrEdit/CreateOrEditView.html","html","PGRpdiBjbGFzcz0idmlldy1mZWF0dXJlLWNyZWF0ZS1vci1lZGl0IGNvbnRlbnQtY29udGFpbmVyIj4gPHAgY2xhc3M9ImRlc2NyaXB0aW9uLXRleHQiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWNyZWF0ZS1lZGl0LW5vLWZlYXR1cmVzLWZvdW5kfSI+PC9wPiA8dWwgY2xhc3M9ImFjdGlvbi1idG5zIj4gPGxpPiA8YnV0dG9uIGNsYXNzPSJidXR0b24gYnV0dG9uLWFjdGlvbi1pY29uIGNyZWF0ZS1uZXctZmVhdHVyZSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrQ3JlYXRlTmV3RmVhdHVyZX0iPjxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvZmVhdHVyZS1jcmVhdGUtMjQucG5nIiBkYXRhLWJpbmRpbmc9InthbHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctY3JlYXRlLWVkaXQtbmV3LWZlYXR1cmV9e3RpdGxlOiBAbGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWNyZWF0ZS1lZGl0LW5ldy1mZWF0dXJlfSI+PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctY3JlYXRlLWVkaXQtbmV3LWZlYXR1cmV9Ij48L3NwYW4+PC9idXR0b24+IDwvbGk+IDxsaT4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIGJ1dHRvbi1hY3Rpb24taWNvbiBleGlzdGluZy1mZWF0dXJlIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tTZWxlY3RFeGlzdGluZ0ZlYXR1cmV9Ij48aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ZlYXR1cmUtbG9jYXRpb24tMjQucG5nIiBkYXRhLWJpbmRpbmc9InthbHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctY3JlYXRlLWVkaXQtc2VsZWN0LWV4aXN0aW5nLWZlYXR1cmV9e3RpdGxlOiBAbGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWNyZWF0ZS1lZGl0LXNlbGVjdC1leGlzdGluZy1mZWF0dXJlfSI+PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctY3JlYXRlLWVkaXQtc2VsZWN0LWV4aXN0aW5nLWZlYXR1cmV9Ij48L3NwYW4+PC9idXR0b24+IDwvbGk+IDwvdWw+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Editing/Editor/EditorView.html","html","PGRpdiBjbGFzcz0iZWRpdG9yIj4gIDxkaXYgY2xhc3M9ImxvYWRpbmctY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNCdXN5fSI+IDxkaXYgY2xhc3M9ImxvYWRpbmctaW1nIj48L2Rpdj4gPGRpdiBjbGFzcz0ibG9hZGluZy1tc2ciIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWFwcGx5aW5nfSI+PC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz0iYWRkLW9yLWVkaXQtZmVhdHVyZSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNCdXN5fSI+IDxkaXYgY2xhc3M9InBhbmVsLWNvbnRlbnQiPiAgPGRpdiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBmb3JtfSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogZm9ybX0iPiAgPGRpdiBjbGFzcz0icGFuZWwtbm90aWZpY2F0aW9uIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBmaWVsZHN9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctaW52YWxpZC1sYXllcn0iPjwvc3Bhbj4gPC9kaXY+IDxkaXYgY2xhc3M9InBhbmVsLWdyb3VwIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZmllbGRzfSI+IDxoMyBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1mZWF0dXJlLWF0dHJpYnV0ZXN9Ij48L2gzPiA8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cC1jb250ZW50cyI+IDxkaXYgY2xhc3M9ImZvcm0gbGFiZWwtc3RhY2tlZCI+IDxkaXYgY2xhc3M9ImZvcm0tY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBmaWVsZHN9e0B0ZW1wbGF0ZS1zZWxlY3RvcjogcmVuZGVyVHlwZX0iPiAgPGRpdiBjbGFzcz0iZm9ybS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBlc3JpRmllbGRUeXBlRGF0ZX17QHZpc2libGU6IGVkaXRhYmxlfSI+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvc3Bhbj4gPC9sYWJlbD4gPGRpdiBjbGFzcz0iZm9ybS1jb250cm9sLWRhdGUtcGlja2VyIiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBEYXRlUGlja2VyRm9ybUl0ZW19e0B3aWRnZXQtY29udGV4dDogZGF0ZVBpY2tlclZpZXdNb2RlbH0iPiA8L2Rpdj4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IGNvZGVkRG9tYWluVmFsdWV9e0B2aXNpYmxlOiBlZGl0YWJsZX0iPiA8ZGl2IGNsYXNzPSJjb21ib2JveCI+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImluZGljYXRvciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dJbmRpY2F0b3J9Ij4qPC9zcGFuPiA8L2xhYmVsPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRyb2wiPiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHZhbHVlT3B0aW9uc317QHZhbHVlOiB2YWx1ZX17QGRpc2FibGVkOiByZWFkT25seX0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHZhbHVlT3B0aW9uc317QHRleHQ6IG5hbWV9e3ZhbHVlOiBjb2RlfSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz0iZm9ybS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiB0eXBlRmllbGR9e0B2aXNpYmxlOiBlZGl0YWJsZX0iPiA8ZGl2IGNsYXNzPSJjb21ib2JveCI+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImluZGljYXRvciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dJbmRpY2F0b3J9Ij4qPC9zcGFuPiA8L2xhYmVsPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRyb2wiPiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHZhbHVlT3B0aW9uc317QHZhbHVlOiB2YWx1ZX17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVUeXBlRmllbGRDaGFuZ2V9e0BkaXNhYmxlZDogcmVhZE9ubHl9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiB2YWx1ZU9wdGlvbnN9e0B0ZXh0OiBuYW1lfXt2YWx1ZTogY29kZX0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImZvcm0taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogdGV4dEFyZWF9e0B2aXNpYmxlOiBlZGl0YWJsZX0iPiA8ZGl2IGNsYXNzPSJ0ZXh0Ym94Ij4gPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0iaW5kaWNhdG9yIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd0luZGljYXRvcn0iPio8L3NwYW4+IDwvbGFiZWw+IDxkaXYgY2xhc3M9ImZvcm0tY29udHJvbCI+IDx0ZXh0YXJlYSB0eXBlPSJ0ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IHByZXNlbnRhYmxlVmFsdWV9e0BkaXNhYmxlZDogcmVhZE9ubHl9e0BldmVudC1vbmJsdXI6IGhhbmRsZUlucHV0Qmx1cn17QGV2ZW50LW9uZm9jdXM6IGhhbmRsZUlucHV0Rm9jdXN9Ij48L3RleHRhcmVhPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz0iZm9ybS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBmaWVsZHN9e0B2aXNpYmxlOiBlZGl0YWJsZX0iPiA8ZGl2IGNsYXNzPSJ0ZXh0Ym94Ij4gPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0iaW5kaWNhdG9yIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd0luZGljYXRvcn0iPio8L3NwYW4+IDwvbGFiZWw+IDxkaXYgY2xhc3M9ImZvcm0tY29udHJvbCI+IDxpbnB1dCB0eXBlPSJ0ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IHByZXNlbnRhYmxlVmFsdWV9e0BkaXNhYmxlZDogcmVhZE9ubHl9e0BldmVudC1vbmJsdXI6IGhhbmRsZUlucHV0Qmx1cn17QGV2ZW50LW9uZm9jdXM6IGhhbmRsZUlucHV0Rm9jdXN9IiAvPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gIDx1bCBjbGFzcz0iZm9ybS12YWxpZGF0aW9uIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiB2YWxpZGF0aW9uTWVzc2FnZXN9e0B2aXNpYmxlOiB2YWxpZGF0aW9uTWVzc2FnZXN9Ij4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHZhbGlkYXRpb25NZXNzYWdlc30iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGNvbnRleHR9Ij48L3NwYW4+IDwvbGk+IDwvdWw+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9InBhbmVsLWdyb3VwLWNvbnRlbnRzIGZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrRWRpdEdlb21ldHJ5fXtAdmlzaWJsZTogc2hvd0VkaXRHZW9tZXRyeUJ1dHRvbn17QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctZWRpdC1nZW9tZXRyeS1jYXB0aW9ufSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrRWRpdEdlb21ldHJ5fXtAdmlzaWJsZTogc2hvd1N0b3BFZGl0aW5nR2VvbWV0cnlCdXR0b259e0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLXN0b3AtZWRpdGluZy1nZW9tZXRyeS1jYXB0aW9ufSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrRGVsZXRlRmVhdHVyZX17QHZpc2libGU6IGNhbkRlbGV0ZUZlYXR1cmV9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWRlbGV0ZX0iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja1NhdmV9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLXNhdmV9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tDYW5jZWx9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWNhbmNlbH0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Editing/TemplatePicker/FeatureTemplate.html","html","DQo8ZGl2IGNsYXNzPSJmZWF0dXJlLXRlbXBsYXRlIGhhcy1pY29uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlRmVhdHVyZVRlbXBsYXRlQ2xpY2t9Ij4gPGltZyBjbGFzcz0ibGlzdC1tZW51LWljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzeW1ib2xVcml9e3NyYzogc3ltYm9sVXJpfSIgYWx0PSIgIi8+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1pY29uIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBzeW1ib2xVcml9e2lubmVySFRNTDogc3dhdGNoRWxlbWVudH0iPjwvZGl2PiA8YnV0dG9uIGNsYXNzPSJsaXN0LW1lbnUtZGV0YWlscyI+IDxzdHJvbmcgY2xhc3M9Imxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvc3Ryb25nPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkZXNjcmlwdGlvbn17QHZpc2libGU6IGRlc2NyaXB0aW9ufSI+PC9zcGFuPiA8L2J1dHRvbj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Editing/TemplatePicker/TemplatePickerView.html","html","PGRpdiBjbGFzcz0iZmVhdHVyZS10ZW1wbGF0ZS1waWNrZXIiPiAgPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAgbm8taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogbGF5ZXJUZW1wbGF0ZXN9e0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLW5vLXRlbXBsYXRlc30iPjwvZGl2PiA8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogbGF5ZXJUZW1wbGF0ZXN9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBsYXllclRlbXBsYXRlc317QHZpc2libGU6IGxheWVySXNFZGl0YWJsZX0iPiA8aDMgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9oMz4gPGRpdiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBub3RBdmFpbGFibGVSZWFzb259Ij4gPGRpdiBjbGFzcz0ibm8tcmVzdWx0cyIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogdGVtcGxhdGVzfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLW5vLXRlbXBsYXRlc30iPjwvc3Bhbj4gPGRpdiBjbGFzcz0iZm9ybS1idXR0b24tY29udGFpbmVyIj4gPGRpdiBjbGFzcz0iZm9ybS1idXR0b24tYWxpZ24iPiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0gZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1hZGQtZmVhdHVyZS1idXR0b259e0BldmVudC1vbmNsaWNrOiBoYW5kbGVGZWF0dXJlVGVtcGxhdGVDbGlja30iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPHVsIGNsYXNzPSJsaXN0LW1lbnUiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiB0ZW1wbGF0ZXN9e0Bzb3VyY2U6IHRlbXBsYXRlc317QHRlbXBsYXRlLXNlbGVjdG9yOiBmb299Ij4gPGxpIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogQG51bGx9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL0VkaXRpbmcvVGVtcGxhdGVQaWNrZXIvRmVhdHVyZVRlbXBsYXRlLmh0bWx9Ij48L2xpPiA8L3VsPiA8L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogbm90QXZhaWxhYmxlUmVhc29ufSI+IDxkaXYgY2xhc3M9Im5vLXJlc3VsdHMiPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogbm90QXZhaWxhYmxlUmVhc29ufSI+PC9zcGFuPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/ExportMap/ExportMapView.html","html","PGRpdiBjbGFzcz0iZXhwb3J0bWFwIj4gPGRpdiBjbGFzcz0iZXhwb3J0LWNyZWF0ZSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogZXhwb3J0Q29tcGxldGV9Ij4gPGRpdiBjbGFzcz0iZXhwb3J0LXN0YXR1cyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzRXhwb3J0aW5nfSI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZXhwb3J0LW1hcC1pcy1leHBvcnRpbmd9Ij48L3A+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzRXhwb3J0aW5nfSI+IDxsYWJlbCBmb3I9Im91dHB1dGZvcm1hdCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1leHBvcnQtbWFwLXNlbGVjdC1pbWFnZS1mb3JtYXR9e0B2aXNpYmxlOiBvdXRwdXRGb3JtYXRzfSI+PC9sYWJlbD4gPHNlbGVjdCBpZD0ib3V0cHV0Zm9ybWF0IiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBvdXRwdXRGb3JtYXRzfXtAdmFsdWU6IHNlbGVjdGVkRm9ybWF0fXtAdmlzaWJsZTogb3V0cHV0Rm9ybWF0c30iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IG91dHB1dEZvcm1hdHN9e0B0ZXh0OiBAY29udGV4dH17QGF0dGFjaDogQGNvbnRleHR9Ij48L29wdGlvbj4gPC9zZWxlY3Q+IDxpbnB1dCBpZD0iZ2VvcmVmZXJlbmNlIiB0eXBlPSJjaGVja2JveCIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBpbmNsdWRlR2VvcmVmZXJlbmNlRGF0YX17QGVuYWJsZWQ6IGZvcm1hdFN1cHBvcnRzSW5jbHVkZUdlb3JlZmVyZW5jZURhdGF9e0B2aXNpYmxlOiBhbGxvd0luY2x1ZGVHZW9yZWZlcmVuY2VEYXRhfSIgLz4gPGxhYmVsIGZvcj0iZ2VvcmVmZXJlbmNlIiBjbGFzcz0iaW5saW5lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWV4cG9ydC1tYXAtaW5jbHVkZS1nZW9yZWZlcmVuY2UtZGF0YX17QHZpc2libGU6IGFsbG93SW5jbHVkZUdlb3JlZmVyZW5jZURhdGF9Ij48L2xhYmVsPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJleHBvcnQtYnV0dG9uIGJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LWNsaWNrOiBoYW5kbGVFeHBvcnRNYXBDbGlja317QHRleHQ6IEBsYW5ndWFnZS1leHBvcnQtbWFwLWNyZWF0ZS1pbWFnZX0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJleHBvcnQtY29tcGxldGUiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBleHBvcnRDb21wbGV0ZX0iPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWV4cG9ydC1tYXAtY29tcGxldGUtZGVzY3JpcHRpb259Ij48L3A+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImV4cG9ydC1idXR0b24gYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtY2xpY2s6IGhhbmRsZVZpZXdJbWFnZUNsaWNrfXtAdGV4dDogQGxhbmd1YWdlLWV4cG9ydC1tYXAtdmlldy1pbWFnZX0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/ExportWebMap/ExportWebMapView.html","html","PGRpdiBjbGFzcz0iZXhwb3J0LXdlYm1hcCI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogZXhwb3J0Q29tcGxldGV9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNFeHBvcnRpbmd9Ij4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1leHBvcnQtd2ViLW1hcC1pcy1leHBvcnRpbmd9Ij48L3A+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzRXhwb3J0aW5nfSI+IDxsYWJlbCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWV4cG9ydC13ZWItbWFwLXRpdGxlLWxhYmVsfSI+PC9sYWJlbD4gPGlucHV0IHR5cGU9InRleHQiIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogdGl0bGV9IiAvPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1jbGljazogaGFuZGxlRXhwb3J0V2ViTWFwQ2xpY2t9e0B0ZXh0OiBAbGFuZ3VhZ2UtZXhwb3J0LXdlYi1tYXAtZXhwb3J0LWJ1dHRvbn0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBleHBvcnRDb21wbGV0ZX0iPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWV4cG9ydC13ZWItbWFwLWNvbXBsZXRlLWRlc2NyaXB0aW9ufSI+PC9wPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1jbGljazogaGFuZGxlT3BlblBvcnRhbEl0ZW19e0B0ZXh0OiBAbGFuZ3VhZ2UtZXhwb3J0LXdlYi1tYXAtb3Blbi1wb3J0YWx9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsSwitcherView.html","html","PGRpdiBjbGFzcz0idGFiLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogc2Nyb2xsaW5nVGFiQ29udGFpbmVyRWxlbWVudH0iPiA8dGFibGU+IDx0cj4gPHRkIGNsYXNzPSJ0YWItbGVmdC1zY3JvbGwiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiB0YWJDb250cm9sc0VuYWJsZWR9e0BjbGFzcy1kaXNhYmxlZDogbGVmdFNjcm9sbFRhYkRpc2FibGVkfXtAdmFyOiBzY3JvbGxUYWJMZWZ0RWxlbWVudH0iPiA8YnV0dG9uIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVUYWJTY3JvbGxCYWNrfXt0aXRsZTogQGxhbmd1YWdlLXRhYi1zY3JvbGwtcHJldn0iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9jaGV2cm9uLWxlZnQtMTYucG5nIiBhbHQ9IiI+IDwvYnV0dG9uPiA8L3RkPiA8dGQgPiA8ZGl2IGNsYXNzPSJ0YWItY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAdmFyOiB0YWJDb250YWluZXJFbGVtZW50fSI+IDx1bCBjbGFzcz0idGFiLWNvbnRyb2wiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHZpZXdEZXNjcmlwdG9yc317QHZhcjogdGFiRWxlbWVudHN9Ij4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHZpZXdEZXNjcmlwdG9yc317QHZpc2libGU6IHByb3ZpZGVyRW5hYmxlZH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrVGFifSI+IDxidXR0b24gZGF0YS1iaW5kaW5nPSJ7QG5vY2xhc3MtdGFiOiBpc0FjdGl2ZX17QGNsYXNzLXRhYi1hY3RpdmU6IGlzQWN0aXZlfXtAdGV4dDogdGl0bGV9e3RpdGxlOiB0aXRsZX0iPjwvYnV0dG9uPiA8L2xpPiA8L3VsPiA8L2Rpdj4gPC90ZD4gPHRkIGNsYXNzPSJ0YWItcmlnaHQtc2Nyb2xsIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdGFiQ29udHJvbHNFbmFibGVkfXtAY2xhc3MtZGlzYWJsZWQ6IHJpZ2h0U2Nyb2xsVGFiRGlzYWJsZWR9e0B2YXI6IHNjcm9sbFRhYlJpZ2h0RWxlbWVudH0iPiA8YnV0dG9uIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVUYWJTY3JvbGxGb3J3YXJkfXt0aXRsZTogQGxhbmd1YWdlLXRhYi1zY3JvbGwtbmV4dH0iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9jaGV2cm9uLXJpZ2h0LTE2LnBuZyI+IDwvYnV0dG9uPiA8L3RkPiA8L3RyPiA8L3RhYmxlPiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsView.html","html","PGRpdiBjbGFzcz0iZmVhdHVyZS1kZXRhaWxzLWhlYWRlciI+IDxkaXYgY2xhc3M9ImZlYXR1cmUtYWN0aW9ucy13aWRnZXQiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBjdXJyZW50RmVhdHVyZX17QHdpZGdldDogRmVhdHVyZUFjdGlvbnNXaWRnZXR9e0B3aWRnZXQtY29udGV4dDogY3VycmVudEZlYXR1cmV9e0B3aWRnZXQtcmVxdWlyZWQ6IGZhbHNlfSIgZGF0YS1tZW51LWlkPSJGZWF0dXJlQWN0aW9ucyIgZGF0YS1tZW51LXRlbXBsYXRlPSJNYXBwaW5nL2luZnJhc3RydWN0dXJlL21lbnVzL01lbnVIeXBlcmxpbmtWaWV3Lmh0bWwiPjwvZGl2PiA8L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBGZWF0dXJlRGV0YWlsc1JlZ2lvbldpZGdldH17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH17QHdpZGdldC1yZXF1aXJlZDogdHJ1ZX17QHdpZGdldC1yZXBsYWNlOiB0cnVlfSIgdGFiaW5kZXg9IjAiPjwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/LargeFeatureDetailsView.html","html","PGRpdiBjbGFzcz0ibGFyZ2UtZmVhdHVyZS1kZXRhaWwiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBoZWFkZXJUZXh0fSI+IDxoMiBkYXRhLWJpbmRpbmc9IntAdGV4dDogaGVhZGVyVGV4dH0iPjwvaDI+IDxkaXYgY2xhc3M9InBhbmVsLWdyb3VwIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogRmVhdHVyZUFjdGlvbnN9Ij4gPHVsIGNsYXNzPSJhY3Rpb25zLW1lbnUiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IEZlYXR1cmVBY3Rpb25zfSI+IDxsaSBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBGZWF0dXJlQWN0aW9uc30iPiA8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogdGV4dH17QGV2ZW50LW9ubW91c2VvdmVyOiBnZXREZXNjcmlwdGlvbn17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZU1lbnVJdGVtQ2xpY2t9Ij48L2E+IDwvbGk+IDwvdWw+IDwvZGl2PiA8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCIgZGF0YS1yZWdpb24tbmFtZT0iRmVhdHVyZVJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5EaXZTdGFja1JlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/AttachmentsView.html","html","DQo8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHByb3ZpZGVyRW5hYmxlZH0iPiA8aDMgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWF0dGFjaG1lbnRzfSI+PC9oMz4gPGRpdiBjbGFzcz0ibm8taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNBdHRhY2htZW50SW5mb3NJbml0aWFsaXplZH17QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWF0dGFjaG1lbnRzLWNoZWNraW5nfSI+PC9kaXY+IDxkaXYgY2xhc3M9Im5vLWl0ZW0iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBub0F0dGFjaG1lbnRzfXtAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtYXR0YWNobWVudHMtbm8tYXR0YWNobWVudHN9Ij48L2Rpdj4gPGRpdiBjbGFzcz0ibm8taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzT2ZmbGluZX17QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWF0dGFjaG1lbnRzLW5vLWF0dGFjaG1lbnRzLW9mZmxpbmV9Ij48L2Rpdj4gPGRpdiBjbGFzcz0ibGlzdC1tZW51IGFjdGl2ZSBoYXMtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogYXR0YWNobWVudEluZm9zfSI+IDxhIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYXR0YWNobWVudEluZm9zfXtocmVmOiB1cmx9e0BldmVudC1vbmNsaWNrOiBhdHRhY2htZW50X2NsaWNrfSIgdGFyZ2V0PSJfYmxhbmsiPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvYXR0YWNoLTI0LnBuZyIgZGF0YS1iaW5kaW5nPSJ7YWx0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1hdHRhY2htZW50c30iIC8+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGV0YWlscyI+IDxzdHJvbmcgY2xhc3M9Imxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvc3Ryb25nPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogc2l6ZX0iPjwvc3Bhbj4gPC9zcGFuPiA8L3NwYW4+IDwvYT4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/AttributesView.html","html","DQo8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHByb3ZpZGVyRW5hYmxlZH0iPiA8aDMgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWF0dHJpYnV0ZXN9IiB0YWItaW5kZXg9IjEiPjwvaDM+IDxkaXYgY2xhc3M9Imxpc3QtbWVudSBhdHRyaWIgc3RhdGljIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBhdHRyaWJ1dGVzfSI+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBhdHRyaWJ1dGVzfXtAdmlzaWJsZTogdmlzaWJsZX0iPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9zdHJvbmc+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1kZXNjIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogZGlzcGxheUFzVXJsfXtAdGV4dDogcHJlc2VudGFibGVWYWx1ZX0iPjwvc3Bhbj4gPGEgZGF0YS1iaW5kaW5nPSJ7aHJlZjogdmFsdWV9e0B2aXNpYmxlOiBkaXNwbGF5QXNVcmx9e0B0ZXh0OiBwcmVzZW50YWJsZVZhbHVlfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tBdHRyaWJ1dGVMaW5rfSIgdGFyZ2V0PSJfYmxhbmsiPjwvYT4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogcHJlc2VudGFibGVWYWx1ZX17QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLW5vdC1hdmFpbGFibGV9Ij48L3NwYW4+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/DataLinksTableView.html","html","PGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAiPiA8aDMgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9oMz4gIDxkaXYgY2xhc3M9ImRhdGFsaW5rcy10YWJsZS13aWRnZXQiIGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IERhdGFMaW5rc1RhYmxlVmlld1dpZGdldH17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH17QHdpZGdldC1yZXF1aXJlZDogZmFsc2V9Ij48L2Rpdj4gICA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IG5vUmVsYXRlZEZlYXR1cmVzfXtAd2lkZ2V0OiBQYWdpbmdDb250cm9sc1dpZGdldH17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH17QHdpZGdldC1yZXF1aXJlZDogZmFsc2V9Ij48L2Rpdj4gIDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/DataLinksView.html","html","PGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBwcm92aWRlckVuYWJsZWR9Ij4gPGgzIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvaDM+IDxkaXYgY2xhc3M9Imxpc3QtbWVudSBhY3RpdmUiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGRhdGFMaW5rc30iPiA8YnV0dG9uIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogZGF0YUxpbmtzfXtAZXZlbnQtY2xpY2s6IGhhbmRsZVZpZXdDbGlja30iPiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUtZGV0YWlscyI+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGlzcGxheU5hbWV9Ij48L2Rpdj4gPC9kaXY+IDwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/DataLinkView.html","html","DQo8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCBkYXRhLWxpbmsiPiA8aDMgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWF0dHJpYnV0ZXN9Ij48L2gzPiA8ZGl2IGNsYXNzPSJkYXRhbGlua3MiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBjdXJyZW50RGF0YUxpbmt9e0Bzb3VyY2U6IGN1cnJlbnREYXRhTGlua30iPiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUgYXR0cmliIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBjdXJyZW50RGF0YUxpbmt9e0Bzb3VyY2U6IGF0dHJpYnV0ZXN9Ij4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGF0dHJpYnV0ZXN9IiB0YWJpbmRleD0iMCI+IDxzdHJvbmcgY2xhc3M9Imxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvc3Ryb25nPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBwcmVzZW50YWJsZVZhbHVlfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGRpc3BsYXlBc1VybH17QHRleHQ6IHByZXNlbnRhYmxlVmFsdWV9Ij48L3NwYW4+IDxhIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0RhdGFMaW5rfXtocmVmOiB2YWx1ZX17QHZpc2libGU6IGRpc3BsYXlBc1VybH17QHRleHQ6IHZhbHVlfSIgdGFyZ2V0PSJfYmxhbmsiPjwvYT4gPC9zcGFuPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHByZXNlbnRhYmxlVmFsdWV9e0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1ub3QtYXZhaWxhYmxlfSI+PC9zcGFuPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/DescriptionView.html","html","PGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAgZmVhdHVyZS1kZXNjcmlwdGlvbi1wcm92aWRlciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHByb3ZpZGVyRW5hYmxlZH0iPiA8aDMgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWRlc2NyaXB0aW9ufSIgdGFiLWluZGV4PSIxIj48L2gzPiA8ZGl2IGNsYXNzPSJmZWF0dXJlLWRldGFpbHMtY29udGVudCIgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogR2V0RGVzY3JpcHRpb259e0B3aWRnZXQtY29udGV4dDogY3VycmVudEZlYXR1cmV9e0B3aWRnZXQtcmVxdWlyZWQ6IGZhbHNlfSI+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/FeatureActionsView.html","html","DQo8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHByb3ZpZGVyRW5hYmxlZH0iICB0YWJpbmRleD0iMCI+IDxoMyBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtYWN0aW9uc30iIHRhYmluZGV4PSIwIj48L2gzPiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUgYWN0aXZlIGhhcy1pY29uIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiB2aXNpYmxlTWVudUl0ZW1zfSI+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiB2aXNpYmxlTWVudUl0ZW1zfXtAZXZlbnQtb25tb3VzZW92ZXI6IGdldERlc2NyaXB0aW9ufXtAZXZlbnQtb25jbGljazogaGFuZGxlTWVudUl0ZW1DbGlja30iPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb25Vcml9e3NyYzogaWNvblVyaX17YWx0OiB0ZXh0fSIgLz4gPGJ1dHRvbiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRleHR9Ij48L3N0cm9uZz4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXNjIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGVzY3JpcHRpb259Ij48L3NwYW4+IDwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/HyperlinksView.html","html","DQo8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCBmZWF0dXJlLWh5cGVybGlua3MtcHJvdmlkZXIiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBwcm92aWRlckVuYWJsZWR9Ij4gPGgzIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1oeXBlcmxpbmtzfSI+PC9oMz4gPGRpdiBjbGFzcz0ibGlzdC1tZW51IGh5cGVybGlua3MiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBwcm92aWRlckVuYWJsZWR9e0Bzb3VyY2U6IGh5cGVybGlua3N9Ij4gPGEgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBoeXBlcmxpbmtzfXtocmVmOiB1cml9e3RhcmdldDogdGFyZ2V0fXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tIeXBlcmxpbmt9Ij4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXRhaWxzIiBkYXRhLWJpbmRpbmc9Int0aXRsZTogdG9vbFRpcH17QGNsYXNzLWRpc2FibGVkOiBpc0Jyb2tlbn0iPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRleHR9Ij48L3N0cm9uZz4gPC9zcGFuPiA8L2E+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/MultiColumnAttributesView.html","html","PGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBwcm92aWRlckVuYWJsZWR9Ij4gPGgzIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1hdHRyaWJ1dGVzfSIgdGFiaW5kZXg9IjAiPjwvaDM+IDxkaXYgY2xhc3M9ImF0dHJpYiBzdGF0aWMiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IG11bHRpQ29sdW1uQXR0cmlidXRlQ29udGFpbmVyfSI+IDxkaXYgY2xhc3M9Im11bHRpLWNvbHVtbi1jb250YWluZXIiIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IG11bHRpQ29sdW1uQXR0cmlidXRlQ29udGFpbmVyfSI+IDx1bCBjbGFzcz0iYXR0cmlidXRlLWxpc3QgY29sdW1ucyIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogQGNvbnRleHR9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL0ZlYXR1cmVEZXRhaWxzL0ZlYXR1cmVEZXRhaWxzUHJvdmlkZXJzL1NpbmdsZUF0dHJpYnV0ZVZpZXcuaHRtbH0iPjwvdWw+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/RelatedFeaturesTableView.html","html","PGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAiIGRhdGEtYmluZGluZz0ie0BjbGFzcy1oYXMtZWRpdGFibGUtcmVsYXRlZC1mZWF0dXJlczogcmVsYXRlZHNFZGl0YWJsZX17QHZpc2libGU6IHByb3ZpZGVyRW5hYmxlZH0iIHRhYmluZGV4PSIwIj4gPGgzPiA8c3Bhbj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9zcGFuPiA8L3NwYW4+IDwvaDM+ICA8ZGl2IGNsYXNzPSJuby1pdGVtIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBoYXNSZXRyaWV2ZWREYXRhfXtAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtcmVsYXRlZC1jaGVja2luZ30iPjwvZGl2PiA8ZGl2IGNsYXNzPSJjcmVhdGVmZWF0dXJlIiBkYXRhLWJpbmRpbmc9IntAZW5hYmxlZDogaGFzUmV0cmlldmVkRGF0YX0iPiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUgaGFzLWljb24gY3JlYXRlZmVhdHVyZS1hY3Rpb25zIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogY2FuQWRkfSI+IDxidXR0b24gY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAZW5hYmxlZDogdmFsaWRDYXJkaW5hbGl0eX17QGV2ZW50LWNsaWNrOiBoYW5kbGVDbGlja0FkZFJlbGF0ZWRSZWNvcmR9Ij4gPGltZyBjbGFzcz0ibGlzdC1tZW51LWljb24iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9hZGQtMjQucG5nIiBhbHQ9IiAiIC8+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWNyZWF0ZS1yZWxhdGVkLWZlYXR1cmVzfSI+PC9zcGFuPiA8L2J1dHRvbj4gPC9kaXY+IDxkaXYgY2xhc3M9Im5vLWl0ZW0iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBub1JlbGF0ZWRGZWF0dXJlc317QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLXJlbGF0ZWQtbm8tZGF0YX0iPjwvZGl2PiA8ZGl2IGNsYXNzPSJuby1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZXJyb3JGZXRjaGluZ1JlbGF0ZWRGZWF0dXJlc317QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLXJlbGF0ZWQtZXJyb3ItZmV0Y2hpbmd9Ij48L2Rpdj4gIDxkaXYgY2xhc3M9InJlbGF0ZWQtZmVhdHVyZXMtdGFibGUtd2lkZ2V0IiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBub1JlbGF0ZWRGZWF0dXJlc317QHdpZGdldDogUmVsYXRlZEZlYXR1cmVzVGFibGVWaWV3V2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX0iPjwvZGl2PiAgIDxkaXYgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogbm9SZWxhdGVkRmVhdHVyZXN9e0B3aWRnZXQ6IFBhZ2luZ0NvbnRyb2xzV2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX0iPjwvZGl2PiAgPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/RelatedFeaturesView.html","html","PGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBwcm92aWRlckVuYWJsZWR9IiB0YWJpbmRleD0iMCI+IDxoMz4gPHNwYW4+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvc3Bhbj4gPC9zcGFuPiA8L2gzPiAgPGRpdiBjbGFzcz0ibm8taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaGFzUmV0cmlldmVkRGF0YX17QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLXJlbGF0ZWQtY2hlY2tpbmd9Ij48L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAZW5hYmxlZDogaGFzUmV0cmlldmVkRGF0YX0iPiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUgaGFzLWljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBjYW5BZGR9Ij4gPGJ1dHRvbiBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iIGRhdGEtYmluZGluZz0ie0BlbmFibGVkOiB2YWxpZENhcmRpbmFsaXR5fXtAZXZlbnQtY2xpY2s6IGhhbmRsZUNsaWNrQWRkUmVsYXRlZFJlY29yZH0iPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL2FkZC0yNC5wbmciIGFsdD0iICIgLz4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXNjIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtY3JlYXRlLXJlbGF0ZWQtZmVhdHVyZXN9Ij48L3NwYW4+IDwvYnV0dG9uPiA8L2Rpdj4gPGRpdiBjbGFzcz0ibm8taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IG5vUmVsYXRlZEZlYXR1cmVzfXtAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtcmVsYXRlZC1uby1kYXRhfSI+PC9kaXY+IDxkaXYgY2xhc3M9Im5vLWl0ZW0iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBlcnJvckZldGNoaW5nUmVsYXRlZEZlYXR1cmVzfXtAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtcmVsYXRlZC1lcnJvci1mZXRjaGluZ30iPjwvZGl2PiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUgYWN0aXZlIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiByZWxhdGVkRXNyaUZlYXR1cmVJbmZvfSI+IDxidXR0b24gY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiByZWxhdGVkRXNyaUZlYXR1cmVJbmZvfXtAZXZlbnQtY2xpY2s6IGhhbmRsZVZpZXdDbGlja30iPiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUtZGV0YWlscyI+IDxzdHJvbmcgY2xhc3M9Imxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGlzcGxheU5hbWV9Ij48L3N0cm9uZz4gPC9kaXY+IDwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/SingleAttributeView.html","html","PGxpIGNsYXNzPSJhdHRyaWJ1dGUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogQGNvbnRleHR9e0B2aXNpYmxlOiB2aXNpYmxlfSIgdGFiaW5kZXg9IjAiPiA8c3BhbiBjbGFzcz0iYXR0cmlidXRlLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGlzcGxheU5hbWV9Ij48L3NwYW4+IDxkaXYgY2xhc3M9ImF0dHJpYnV0ZS1kZXRhaWxzIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogZGlzcGxheUFzVXJsfXtAdGV4dDogcHJlc2VudGFibGVWYWx1ZX0iPjwvc3Bhbj4gPGEgZGF0YS1iaW5kaW5nPSJ7aHJlZjogdmFsdWV9e0B2aXNpYmxlOiBkaXNwbGF5QXNVcmx9e0B0ZXh0OiBwcmVzZW50YWJsZVZhbHVlfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tBdHRyaWJ1dGVMaW5rfSIgdGFyZ2V0PSJfYmxhbmsiPjwvYT4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogcHJlc2VudGFibGVWYWx1ZX17QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLW5vdC1hdmFpbGFibGV9Ij48L3NwYW4+IDwvZGl2PiA8L2xpPiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureEditing/TemplatePickerView.html","html","DQo8ZGl2IGNsYXNzPSJmZWF0dXJlLXRlbXBsYXRlLXBpY2tlciI+ICA8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCBuby1pdGVtIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBsYXllclRlbXBsYXRlc317QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctbm8tdGVtcGxhdGVzfSI+PC9kaXY+IDxkaXYgY2xhc3M9InBhbmVsLWdyb3VwIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBsYXllclRlbXBsYXRlc30iPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGxheWVyVGVtcGxhdGVzfSI+IDxoMyBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGlzcGxheU5hbWV9Ij48L2gzPiA8ZGl2IGNsYXNzPSJuby1yZXN1bHRzIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiB0ZW1wbGF0ZXN9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctbm8tdGVtcGxhdGVzfSI+PC9zcGFuPiA8ZGl2IGNsYXNzPSJmb3JtLWJ1dHRvbi1jb250YWluZXIiPiA8ZGl2IGNsYXNzPSJmb3JtLWJ1dHRvbi1hbGlnbiI+IDxkaXYgY2xhc3M9ImZvcm0taXRlbSBmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWFkZC1mZWF0dXJlLWJ1dHRvbn17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUZlYXR1cmVUZW1wbGF0ZUNsaWNrfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8dWwgY2xhc3M9Imxpc3QtbWVudSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHRlbXBsYXRlc317QHNvdXJjZTogdGVtcGxhdGVzfXtAdGVtcGxhdGUtc2VsZWN0b3I6IGZvb30iPiA8bGkgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBAbnVsbH17QHRlbXBsYXRlOiBNYXBwaW5nL21vZHVsZXMvRmVhdHVyZUVkaXRpbmcvVGVtcGxhdGVzL0ZlYXR1cmVUZW1wbGF0ZS5odG1sfSI+PC9saT4gPC91bD4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureEditing/Editor/AttributeEditorView.html","html","DQo8ZGl2IGNsYXNzPSJlZGl0b3IiPiAgPGRpdiBjbGFzcz0ibG9hZGluZy1jb250YWluZXIiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0FwcGx5aW5nRWRpdHN9Ij4gPGRpdiBjbGFzcz0ibG9hZGluZy1pbWciPjwvZGl2PiA8ZGl2IGNsYXNzPSJsb2FkaW5nLW1zZyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctYXBwbHlpbmd9Ij48L2Rpdj4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJhZGQtb3ItZWRpdC1mZWF0dXJlIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc0FwcGx5aW5nRWRpdHN9Ij4gPGRpdiBjbGFzcz0icGFuZWwtY29udGVudCI+IDxkaXYgY2xhc3M9InBhbmVsLW5vdGlmaWNhdGlvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGhhc0dlb21ldHJ5fSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWhhcy1nZW9tZXRyeX0iPjwvc3Bhbj4gPC9kaXY+IDxkaXYgY2xhc3M9InBhbmVsLW5vdGlmaWNhdGlvbiIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogZmllbGRzfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWludmFsaWQtbGF5ZXJ9Ij48L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGZpZWxkc30iPiA8aDMgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctZmVhdHVyZS1hdHRyaWJ1dGVzfSI+PC9oMz4gPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAtY29udGVudHMiPiA8ZGl2IGNsYXNzPSJmb3JtIGxhYmVsLWxlZnQiPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogZmllbGRzfXtAdGVtcGxhdGUtc2VsZWN0b3I6IHJlbmRlclR5cGV9Ij4gIDxkaXYgY2xhc3M9ImZvcm0taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogZXNyaUZpZWxkVHlwZURhdGV9Ij4gPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGFsaWFzfSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0iaW5kaWNhdG9yIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogYXR0YWNoZWRfc2hvd0luZGljYXRvcn0iPio8L3NwYW4+IDwvbGFiZWw+IDxkaXYgY2xhc3M9ImZvcm0tY29udHJvbC1kYXRlLXBpY2tlciIgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogRGF0ZVBpY2tlckZvcm1JdGVtfXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fSI+IDwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImZvcm0taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogY29kZWREb21haW5WYWx1ZX0iPiA8ZGl2IGNsYXNzPSJjb21ib2JveCIgPiA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogYWxpYXN9Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJpbmRpY2F0b3IiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhdHRhY2hlZF9zaG93SW5kaWNhdG9yfSI+Kjwvc3Bhbj4gPC9sYWJlbD4gPGRpdiBjbGFzcz0iZm9ybS1jb250cm9sIj4gPHNlbGVjdCBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBjb2RlZERvbWFpblZhbHVlc317QHZhbHVlOiB2YWx1ZX17ZGlzYWJsZWQ6IGNhbnRFZGl0fSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogY29kZWREb21haW5WYWx1ZXN9e0B0ZXh0OiBuYW1lfXt2YWx1ZTogY29kZX0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImZvcm0taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogc3ViVHlwZX0iPiA8ZGl2IGNsYXNzPSJjb21ib2JveCI+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBhbGlhc30iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImluZGljYXRvciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGF0dGFjaGVkX3Nob3dJbmRpY2F0b3J9Ij4qPC9zcGFuPiA8L2xhYmVsPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRyb2wiPiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHN1YlR5cGVzfXtAdmFsdWU6IHZhbHVlfXtkaXNhYmxlZDogY2FudEVkaXR9e0BldmVudC1vbmNoYW5nZTogaGFuZGxlVHlwZUZpZWxkQ2hhbmdlfSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogc3ViVHlwZXN9e0B0ZXh0OiBuYW1lfXt2YWx1ZTogaWR9Ij48L29wdGlvbj4gPC9zZWxlY3Q+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGZpZWxkc30iPiA8ZGl2IGNsYXNzPSJ0ZXh0Ym94Ij4gPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGFsaWFzfSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0iaW5kaWNhdG9yIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogYXR0YWNoZWRfc2hvd0luZGljYXRvcn0iPio8L3NwYW4+IDwvbGFiZWw+IDxkaXYgY2xhc3M9ImZvcm0tY29udHJvbCI+IDxpbnB1dCB0eXBlPSJ0ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IHZhbHVlfXtkaXNhYmxlZDogY2FudEVkaXR9IiAvPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gIDx1bCBjbGFzcz0iZm9ybS12YWxpZGF0aW9uIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiB2YWxpZGF0aW9uTWVzc2FnZXN9e0B2aXNpYmxlOiB2YWxpZGF0aW9uTWVzc2FnZXN9Ij4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHZhbGlkYXRpb25NZXNzYWdlc30iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGNvbnRleHR9Ij48L3NwYW4+IDwvbGk+IDwvdWw+ICA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0gZm9ybS1idG5zIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBidXR0b25zfSI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYnV0dG9uc317QHZpc2libGU6IHZpc2liaWxpdHl9e0B0ZXh0OiBsYWJlbH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUJ1dHRvbkNsaWNrfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureEditing/Templates/FeatureTemplate.html","html","PGRpdiBjbGFzcz0iZmVhdHVyZS10ZW1wbGF0ZSBoYXMtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUZlYXR1cmVUZW1wbGF0ZUNsaWNrfSI+IDxpbWcgY2xhc3M9Imxpc3QtbWVudS1pY29uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc3ltYm9sVXJpfXtzcmM6IHN5bWJvbFVyaX0iIGFsdD0iICIgLz4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWljb24iIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHN5bWJvbFVyaX17c3R5bGU6IHN5bWJvbFN0eWxlfSI+PC9kaXY+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1kZXRhaWxzIj4gPHN0cm9uZyBjbGFzcz0ibGlzdC1tZW51LW5hbWUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfSI+PC9zdHJvbmc+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRlc2NyaXB0aW9ufXtAdmlzaWJsZTogZGVzY3JpcHRpb259Ij48L3NwYW4+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Footer/FooterView.html","html","PGRpdiBjbGFzcz0iZm9vdGVyLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGhlaWdodH17QHN0eWxlLWJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZENvbG9yfXtAc3R5bGUtaGVpZ2h0OiBoZWlnaHR9Ij4gPGRpdiBjbGFzcz0icmVnaW9uIGZvb3Rlci1sZWZ0IiBkYXRhLXJlZ2lvbi1uYW1lPSJMZWZ0Rm9vdGVyUmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLkRpdlN0YWNrUmVnaW9uQWRhcHRlciIgZGF0YS1yZWdpb24tb3B0aW9ucz0iYWN0aXZhdGVWaWV3c0luTGFzdFBvc2l0aW9uPWZhbHNlIj48L2Rpdj4gPGRpdiBjbGFzcz0icmVnaW9uIGZvb3Rlci1yaWdodCIgZGF0YS1yZWdpb24tbmFtZT0iUmlnaHRGb290ZXJSZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuRGl2U3RhY2tSZWdpb25BZGFwdGVyIiBkYXRhLXJlZ2lvbi1vcHRpb25zPSJhY3RpdmF0ZVZpZXdzSW5MYXN0UG9zaXRpb249ZmFsc2UiPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Geolocate/GeolocateButtonView.html","html","PGRpdiBjbGFzcz0iZ2VvbG9jYXRlLXdyYXBwZXIiPiA8ZGl2IGNsYXNzPSJ6b29tLWNvbnRyb2wtYnRuIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdmlzaWJsZX17QGNsYXNzLWdlb2xvY2F0ZS10cmFja2luZzogaXNUcmFja2luZ317QGNsYXNzLWdlb2xvY2F0ZS1mb2xsb3dpbmc6IGlzRm9sbG93aW5nfXtAY2xhc3MtZ2VvbG9jYXRlLWFjdGl2ZTogYWN0aXZlfSI+IDxidXR0b24gY2xhc3M9Imdlb2xvY2F0ZS1iYXNlIHRvZ2dsZS1idG4iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0dlb2xvY2F0ZX17dGl0bGU6QGxhbmd1YWdlLWdlb2xvY2F0ZS1maW5kLWRlc2N9IiB0YWJpbmRleD0iMCI+PC9idXR0b24+IDwvZGl2PiA8ZGl2IGNsYXNzPSJnZW9sb2NhdGUtbWVudSIgZGF0YS1yZWdpb24tbmFtZT0iR2VvbG9jYXRlTWVudVJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Geolocate/GeolocateStatusView.html","html","PGRpdiBjbGFzcz0ic3RhdHVzLXdpbmRvdyBnZW9sb2NhdGUtc3RhdHVzLXdpbmRvdyI+IDx0YWJsZSByb2xlPSJwcmVzZW50YXRpb24iPiA8dHI+IDx0ZD4gPGltZyBjbGFzcz0ic3RhdHVzLWltZyIgZGF0YS1iaW5kaW5nPSJ7c3JjOiBpbWFnZVVyaX17QHZpc2libGU6IGltYWdlVXJpfSIgYWx0PSIgIiAvPiA8L3RkPiA8dGQ+IDxkaXYgY2xhc3M9Imdlb2xvY2F0ZS1zdGF0dXMiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBzdGF0dXN9e0B2aXNpYmxlOiBzdGF0dXN9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iY29vcmRzLWRpc3BsYXkiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93Q29vcmRpbmF0ZXN9Ij4gPGRpdiBjbGFzcz0iY29vcmRzLWl0ZW0gY29vcmRzLXgiPiA8c3BhbiBjbGFzcz0iY29vcmRzLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogeFZhbHVlVHlwZX0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNvb3Jkcy12YWx1ZXMiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB4VmFsdWV9Ij48L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPSJjb29yZHMtaXRlbSBjb29yZHMteSI+IDxzcGFuIGNsYXNzPSJjb29yZHMtbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB5VmFsdWVUeXBlfSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0iY29vcmRzLXZhbHVlcyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHlWYWx1ZX0iPjwvc3Bhbj4gPC9kaXY+IDwvZGl2PiA8L3RkPiA8dGQgY2xhc3M9InN0YXR1cy1jbG9zZSI+IDxidXR0b24gY2xhc3M9InN0YXR1cy1idG4iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0Nsb3NlfXt0aXRsZTogQGxhbmd1YWdlLWNvbW1vbi1jbG9zZX0iPiA8c3Bhbj4mbmJzcDs8L3NwYW4+IDwvYnV0dG9uPiA8L3RkPiA8L3RyPiA8L3RhYmxlPiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Geolocate/GeolocateView.html","html","PGRpdiBjbGFzcz0iZ2VvbG9jYXRlLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHZpc2libGV9Ij4gPGRpdiBjbGFzcz0iZ2VvbG9jYXRlLXRpdGxlIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1nZW9sb2NhdGUtdGl0bGV9Ij48L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPSJnZW9sb2NhdGUtbGlzdCI+IDx1bCBjbGFzcz0ibGlzdC1tZW51IGhhcy1pY29uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25ibHVyOiBkZWFjdGl2YXRlR2VvbG9jYXRlTWVudVZpZXd9Ij4gPGxpIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGdlb2xvY2F0ZUVuYWJsZWR9Ij4gPGJ1dHRvbiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tNZW51RmluZH17dGl0bGU6IEBsYW5ndWFnZS1nZW9sb2NhdGUtZmluZH0iPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL2dlb2xvY2F0ZS0yNC5wbmciIGFsdD0iICIgLz4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXRhaWxzIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWdlb2xvY2F0ZS1maW5kfSI+PC9zcGFuPiA8L2J1dHRvbj4gPC9saT4gPGxpIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHRyYWNraW5nRW5hYmxlZH0iPiA8YnV0dG9uIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja01lbnVUcmFja317dGl0bGU6IEBsYW5ndWFnZS1nZW9sb2NhdGUtdHJhY2t9Ij4gPGltZyBjbGFzcz0ibGlzdC1tZW51LWljb24iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9nZW9sb2NhdGUtdHJhY2stMjQucG5nIiBhbHQ9IiAiIC8+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGV0YWlscyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1nZW9sb2NhdGUtdHJhY2t9Ij48L3NwYW4+IDwvYnV0dG9uPiA8L2xpPiA8bGkgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZm9sbG93aW5nRW5hYmxlZH0iPiA8YnV0dG9uIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja01lbnVGb2xsb3d9e3RpdGxlOiBAbGFuZ3VhZ2UtZ2VvbG9jYXRlLWZvbGxvd30iPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL2dlb2xvY2F0ZS1mb2xsb3ctMjQucG5nIiBhbHQ9IiAiIC8+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGV0YWlscyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1nZW9sb2NhdGUtZm9sbG93fSI+PC9zcGFuPiA8L2J1dHRvbj4gPC9saT4gPC91bD4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/GlobalMenu/GlobalMenuView.html","html","PHVsIGNsYXNzPSJsaXN0LW1lbnUgZ2xvYmFsLW1lbnUgaGFzLWljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiB2aXNpYmxlTWVudUl0ZW1zfXtAc291cmNlOiB2aXNpYmxlTWVudUl0ZW1zfSI+IDxsaSBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHZpc2libGVNZW51SXRlbXN9e0BlbmFibGVkOiBjYW5FeGVjdXRlfSI+IDxidXR0b24gY2xhc3M9Imdsb2JhbC1tZW51LWRldGFpbHMiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVNZW51SXRlbUNsaWNrfXt0aXRsZTogZGVzY3JpcHRpb259Ij4gPGltZyBjbGFzcz0ibGlzdC1tZW51LWljb24iIGRhdGEtYmluZGluZz0ie3NyYzogaWNvblVyaX17QHZpc2libGU6IGljb25Vcml9e2FsdDogZGVzY3JpcHRpb259IiAvPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRleHR9e0BoaWRkZW46IG1vYmlsZU1vZGV9Ij48L3N0cm9uZz4gPC9idXR0b24+IDwvbGk+IDwvdWw+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/HeatMaps/HeatMapsView.html","html","PGRpdiBjbGFzcz0iaGVhdC1tYXBzIGZvcm0tc3RhY2tlZCI+IDxoNCBjbGFzcz0idmlzdWFsaXphdGlvbi10aXRsZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1oZWF0LW1hcHMtdGl0bGV9Ij48L2g0PiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iPiA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiIGZvcj0iaW50ZW5zaXR5IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWhlYXQtbWFwcy1pbnRlbnNpdHl9Ij48L2xhYmVsPiA8ZGl2IGNsYXNzPSJzbGlkZXItY29udGFpbmVyIj4gPGRpdiBjbGFzcz0ic2xpZGVyLWxhYmVsIHNsaWRlci1sYWJlbC1taW4iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtaGVhdC1tYXBzLWludGVuc2l0eS1zbGlkZXItbWluLWxhYmVsfSI+PC9kaXY+IDxkaXYgY2xhc3M9InNsaWRlci1sYWJlbCBzbGlkZXItbGFiZWwtbWF4IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWhlYXQtbWFwcy1pbnRlbnNpdHktc2xpZGVyLW1heC1sYWJlbH0iPjwvZGl2PiA8ZGl2IGNsYXNzPSJpbnRlbnNpdHktc2xpZGVyIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBzbGlkZXJFbGVtZW50fSI+IDxkaXYgY2xhc3M9InNsaWRlci1sYWJlbCBzbGlkZXItbGFiZWwtY3VycmVudCI+PC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0taXRlbSI+IDxsYWJlbCBmb3I9ImZpZWxkIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWhlYXQtbWFwcy1pbnRlbnNpdHktbXVsdGlwbGllcn0iPjwvbGFiZWw+IDxzZWxlY3QgaWQ9ImZpZWxkIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBmaWVsZHN9e0B2YWx1ZTogc2VsZWN0ZWRGaWVsZH17QGRpc2FibGVkOiBkaXNhYmxlRmllbGRzfXt0aXRsZTogQGxhbmd1YWdlLWhlYXQtbWFwcy1pbnRlbnNpdHktbXVsdGlwbGllcn0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGZpZWxkc317QHRleHQ6IGRpc3BsYXlOYW1lfXt2YWx1ZTogbmFtZX0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Identify/IdentifyOptionsView.html","html","PHVsIGNsYXNzPSJ0cmFuc2llbnQtaWRlbnRpZnkiPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogYnVmZmVyVG9nZ2xlQnV0dG9ufSI+IDxidXR0b24gY2xhc3M9InRvb2xiYXItaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYnVmZmVyVG9nZ2xlQnV0dG9ufXtAZGlzYWJsZWQ6IGRpc2FibGVkfXtAY2xhc3MtaGlkZGVuOiBoaWRkZW59e0BjbGFzcy10b2dnbGVkLW9uOiBpc1RvZ2dsZWRPbn17QG5vY2xhc3MtdG9nZ2xlZC1vZmY6IGlzVG9nZ2xlZE9ufXtAZXZlbnQtb25jbGljazogaGFuZGxlVG9vbGJhckl0ZW1DbGlja317dGl0bGU6IHRvb2x0aXB9IiAiPiA8aW1nIGNsYXNzPSIgaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb25Vcml9e3NyYzogaWNvblVyaX0iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ljb24tYmxhbmstMjQucG5nIiBhbHQ9IiIgLz4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3A+IDwvYnV0dG9uPiA8L2xpPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogc2VsZWN0TGF5ZXJzQnV0dG9ufSI+IDxidXR0b24gY2xhc3M9InRvb2xiYXItaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogc2VsZWN0TGF5ZXJzQnV0dG9ufXtAZGlzYWJsZWQ6IGRpc2FibGVkfXtAZXZlbnQtb25jbGljazogaGFuZGxlVG9vbGJhckl0ZW1DbGlja317dGl0bGU6IHRvb2x0aXB9Ij4gPGltZyBjbGFzcz0iaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb25Vcml9e3NyYzogaWNvblVyaX0iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ljb24tYmxhbmstMjQucG5nIiBhbHQ9IiIgLz4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3A+IDwvYnV0dG9uPiA8L2xpPiA8L3VsPiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Identify/Widgets/IdentifyOptionsTransientView.html","html","PHVsIGNsYXNzPSJtYXJrdXAtZWRpdCI+IDxsaSBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBidWZmZXJUb2dnbGVCdXR0b259Ij4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBidWZmZXJUb2dnbGVCdXR0b259e0BkaXNhYmxlZDogZGlzYWJsZWR9e0BjbGFzcy1oaWRkZW46IGhpZGRlbn17QGNsYXNzLXRvZ2dsZWQtb246IGlzVG9nZ2xlZE9ufXtAbm9jbGFzcy10b2dnbGVkLW9mZjogaXNUb2dnbGVkT259e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUb29sYmFySXRlbUNsaWNrfXt0aXRsZTogdG9vbHRpcH0iPiA8aW1nIGNsYXNzPSJpY29uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX17c3JjOiBpY29uVXJpfSIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvaWNvbi1ibGFuay0yNC5wbmciIGFsdD0iIiAvPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDxsaSBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBzZWxlY3RMYXllcnNCdXR0b259Ij4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBzZWxlY3RMYXllcnNCdXR0b259e0BkaXNhYmxlZDogZGlzYWJsZWR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUb29sYmFySXRlbUNsaWNrfXt0aXRsZTogdG9vbHRpcH0iPiA8aW1nIGNsYXNzPSJpY29uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX17c3JjOiBpY29uVXJpfSIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvaWNvbi1ibGFuay0yNC5wbmciIGFsdD0iIiAvPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDwvdWw+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Info/InfoView.html","html","PGRpdiBjbGFzcz0iaG9tZS1wYW5lbCIgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogR2V0SFRNTENvbnRlbnR9e0B3aWRnZXQtY29udGV4dDogY29udGVudH0iIHRhYmluZGV4PSIwIj48L2Rpdj4g");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Integration/ExternalComponentPaneView.html","html","PGRpdiBjbGFzcz0icGFuZSI+IDxpZnJhbWUgZnJhbWVib3JkZXI9IjAiIGNsYXNzPSJtYXAtZnJhbWUiIGRhdGEtYmluZGluZz0ie0B2YXI6IGZyYW1lRWxlbWVudH17ZGF0YS1mcmFtZS1pZDogZnJhbWVJZH17QHZpc2libGU6IHVyaX17c3JjOiB1cml9Ij48L2lmcmFtZT4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Integration/ExternalComponentView.html","html","PGRpdiBjbGFzcz0idmlldy1jb250YWluZXItdmlldyBpbnRlZ3JhdGlvbiIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogY29udGFpbmVyRWxlbWVudH0iPiAgPGJ1dHRvbiBjbGFzcz0iYm90dG9tLXBhbmVsLXJlc2l6ZSByZXNpemUtaGFuZGxlIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogcmVzaXplWX17QGV2ZW50LW1vdXNlZG93bjogaGFuZGxlSGVhZGVyTW91c2VEb3dufXtAZXZlbnQtdG91Y2hzdGFydDogaGFuZGxlSGVhZGVyVG91Y2hTdGFydH17dGl0bGU6IEBsYW5ndWFnZS1pbnRlZ3JhdGlvbi1zbWFydC1wYW5lbC1yZXNpemV9Ij4gPHNwYW4gY2xhc3M9Imljb24tZHJhZyI+PC9zcGFuPiA8L2J1dHRvbj4gPGRpdiBjbGFzcz0iYmFubmVyLW5vc2VsZWN0IiBkYXRhLWJpbmRpbmc9IntAdmFyOiBoZWFkZXJFbGVtZW50fXtAZXZlbnQtbW91c2Vkb3duOiBoYW5kbGVIZWFkZXJNb3VzZURvd259e0BldmVudC10b3VjaHN0YXJ0OiBoYW5kbGVIZWFkZXJUb3VjaFN0YXJ0fQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0BjbGFzcy1yZXNpemUtaG9yaXpvbnRhbC1oaW50OiByZXNpemVYfXtAY2xhc3MtcmVzaXplLXZlcnRpY2FsLWhpbnQ6IHJlc2l6ZVl9Ij4gPGRpdiBjbGFzcz0icGFuZWwtaGVhZGVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaGVhZGVySXNWaXNpYmxlfSI+IDxidXR0b24gY2xhc3M9IiBwYW5lbC1oZWFkZXItYnV0dG9uIHJpZ2h0IGNsb3NlLTE2IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93WEJ1dHRvbn17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrQ2xvc2V9Ij4gPC9idXR0b24+IDxidXR0b24gY2xhc3M9InBhbmVsLWhlYWRlci1idXR0b24gcmlnaHQiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93aW5nTWF4aW1pemVCdXR0b259e0BjbGFzcy1taW5pbWl6ZS0xNjogcGFuZWxNYXhpbWl6ZWR9e0Bub2NsYXNzLW1heGltaXplLTE2OiBwYW5lbE1heGltaXplZH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZU1heGltaXplVG9nZ2xlQ2xpY2t9e0BldmVudC10b3VjaHN0YXJ0OiBoYW5kbGVNYXhpbWl6ZVRvZ2dsZUNsaWNrfXt0aXRsZTogQGxhbmd1YWdlLWludGVncmF0aW9uLXNtYXJ0LXBhbmVsLW1heGltaXplLXJlc3RvcmV9Ij48L2J1dHRvbj4gPGltZyBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2VsZWN0b3JJY29uVXJpfXtzcmM6IHNlbGVjdG9ySWNvblVyaX0iIC8+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogU2VsZWN0b3J9e0B3aWRnZXQtcmVwbGFjZTogdHJ1ZX0iPjwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0icmVzaXplLWhlYWRlciIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaGVhZGVySXNWaXNpYmxlfSI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJwYW5lbC1zY3JvbGwtY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntkYXRhLXJlZ2lvbi1uYW1lOiByZWdpb25OYW1lfXtkYXRhLXJlZ2lvbi1hZGFwdGVyOiByZWdpb25UeXBlfXtAdmFyOiBzY3JvbGxSZWdpb25FbGVtZW50fXtAZXZlbnQtb25zY3JvbGw6IGhhbmRsZVNjcm9sbENoYW5nZX0iPjwvZGl2PiA8ZGl2IGNsYXNzPSJpbnRlZ3JhdGlvbi1vdmVybGF5IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogb3ZlcmxheUlzVmlzaWJsZX0iPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/IWantToMenu/IWantToMenuButtonView.html","html","PGgyIGNsYXNzPSJ3dG0taGVhZGluZyI+IDxidXR0b24gY2xhc3M9Ind0bS1idXR0b24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93TWVudX17QHRleHQ6IG1lbnVUaXRsZX17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUJ1dHRvbkNsaWNrfXtAc3R5bGUtYmFja2dyb3VuZDogYnV0dG9uQmFja2dyb3VuZENvbG9yfSIgdGFiaW5kZXg9IjAiPiA8L2J1dHRvbj4gPC9oMj4gPGRpdiBjbGFzcz0id3RtLWxpc3QtY29udGFpbmVyIiBkYXRhLXJlZ2lvbi1uYW1lPSJJV2FudFRvTWVudVJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5EaXZTdGFja1JlZ2lvbkFkYXB0ZXIiIGRhdGEtcmVnaW9uLW9wdGlvbnM9ImFjdGl2YXRlVmlld3NJbkxhc3RQb3NpdGlvbj1mYWxzZSI+PC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/IWantToMenu/IWantToMenuView.html","html","DQo8ZGl2IGNsYXNzPSJ3dG0tbGlzdCIgZGF0YS1iaW5kaW5nPSJ7QGNsYXNzLW1vYmlsZS1tb2RlOiBtb2JpbGVNb2RlfXtAdmlzaWJsZTogc2hvd01lbnV9Ij4gPGgyIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBtb2JpbGVNb2RlfXtAdGV4dDogbWVudVRpdGxlfXtAc3R5bGUtYmFja2dyb3VuZDogaGFuZGhlbGRCYWNrZ3JvdW5kQ29sb3J9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVNb2JpbGVNb2RlSGVhZGVyQ2xpY2t9Ij48L2gyPiA8ZGl2IGNsYXNzPSJnbG9iYWwtbWVudS1jb250YWluZXIiIGRhdGEtcmVnaW9uLW5hbWU9Ikdsb2JhbE1lbnVSZWdpb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93R2xvYmFsTWVudX0iPjwvZGl2PiA8dWwgY2xhc3M9Imxpc3QtbWVudSBoYXMtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogdmlzaWJsZU1lbnVJdGVtc30iPiA8bGkgY2xhc3M9Imxpc3QtbWVudS1pdGVtIG5vLWl0ZW1zIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW1lbnUtbm8taXRlbXN9Ij48L2xpPiA8L3VsPiA8dWwgY2xhc3M9Imxpc3QtbWVudSBoYXMtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHZpc2libGVNZW51SXRlbXN9e0Bzb3VyY2U6IHZpc2libGVNZW51SXRlbXN9Ij4gPGxpIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogdmlzaWJsZU1lbnVJdGVtc30iPiA8YnV0dG9uIGNsYXNzPSJsaXN0LW1lbnUtZGV0YWlscyIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZU1lbnVJdGVtQ2xpY2t9Ij4gPGltZyBjbGFzcz0ibGlzdC1tZW51LWljb24iIGRhdGEtYmluZGluZz0ie3NyYzogaWNvblVyaX17QHZpc2libGU6IGljb25Vcml9IiBhbHQ9IiAiIC8+IDxzdHJvbmcgY2xhc3M9Imxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogdGV4dH0iPjwvc3Ryb25nPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBkZXNjcmlwdGlvbn17QHRleHQ6IGRlc2NyaXB0aW9ufSI+PC9zcGFuPiA8L2J1dHRvbj4gPC9saT4gPC91bD4gPGRpdiBjbGFzcz0ibWVudSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IG1vYmlsZU1vZGV9e0B3aWRnZXQ6IE1vYmlsZVNldHRpbmdzTWVudVdpZGdldH17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH17QHdpZGdldC1yZXF1aXJlZDogZmFsc2V9Ig0KICAgICAgICAgZGF0YS1tZW51LWlkPSJNb2JpbGVTZXR0aW5nc01lbnUiDQogICAgICAgICBkYXRhLW1lbnUtdGVtcGxhdGU9Ik1hcHBpbmcvaW5mcmFzdHJ1Y3R1cmUvbWVudXMvTWVudUh5cGVybGlua1ZpZXcuaHRtbCI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LabelOptions/LabelOptionsView.html","html","PGRpdiBjbGFzcz0ibGFiZWxPcHRpb25zIHBhbmVsLWdyb3VwLWNvbnRlbnRzIj4gPGRpdiBjbGFzcz0ibGFiZWxPcHRpb25zLXNlbGVjdG9yIGZvcm0taXRlbSI+IDxkaXYgY2xhc3M9ImZvcm0tc3RhY2tlZCI+ICA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93TGFiZWxzSXNWaXNpYmxlfSI+IDxkaXYgY2xhc3M9ImZvcm0tY29udHJvbCI+IDxsYWJlbCBjbGFzcz0ibGFiZWxPcHRpb25zLWl0ZW0tY3RybCI+IDxpbnB1dCB0eXBlPSJjaGVja2JveCIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBzaG93TGFiZWxzfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbGFiZWxPcHRpb25zLXNob3ctbGFiZWxzfSI+PC9zcGFuPiA8L2xhYmVsPiA8L2Rpdj4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iIGRhdGEtYmluZGluZz0ie0BlbmFibGVkOiBzaG93TGFiZWxzfXtAdmlzaWJsZTogZmllbGRJc1Zpc2libGV9Ij4gPGxhYmVsIGZvcj0iZmllbGQiIGNsYXNzPSJmb3JtLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxhYmVsT3B0aW9ucy1maWVsZH0iPjwvbGFiZWw+IDxkaXYgY2xhc3M9ImZvcm0tY29udHJvbCI+IDxzZWxlY3QgaWQ9ImZpZWxkIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBsYXllckZpZWxkc317QHZhbHVlOiBzZWxlY3RlZEZpZWxkTmFtZX0iPiAgPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBsYXllckZpZWxkc317dmFsdWU6IG5hbWV9e0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz0iZm9ybS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAZW5hYmxlZDogc2hvd0xhYmVsc317QHZpc2libGU6IGZvbnRGYW1pbGllc0lzVmlzaWJsZX0iPiA8bGFiZWwgZm9yPSJmb250RmFtaWx5IiBjbGFzcz0iZm9ybS1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1sYWJlbE9wdGlvbnMtZm9udC1mYW1pbHl9Ij48L2xhYmVsPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRyb2wiPiA8c2VsZWN0IGlkPSJmb250RmFtaWx5IiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBmb250RmFtaWxpZXN9e0B2YWx1ZTogc2VsZWN0ZWRGb250fSI+ICA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGZvbnRGYW1pbGllc317dmFsdWU6IEBjb250ZXh0fXtAdGV4dDogQGNvbnRleHR9Ij48L29wdGlvbj4gPC9zZWxlY3Q+IDwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImZvcm0taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGVuYWJsZWQ6IHNob3dMYWJlbHN9e0B2aXNpYmxlOiBmb250U2l6ZUlzVmlzaWJsZX0iPiA8bGFiZWwgZm9yPSJmb250U2l6ZSIgY2xhc3M9ImZvcm0tbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWZvbnQtc2l6ZX0iPjwvbGFiZWw+IDxkaXYgY2xhc3M9ImZvcm0tY29udHJvbCI+IDxzZWxlY3QgaWQ9ImZvbnRTaXplIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBmb250U2l6ZUNob2ljZX17QHZhbHVlOiBzZWxlY3RlZEZvbnRTaXplQ2hvaWNlfXtAdmlzaWJsZTogZm9udFNpemVDaG9pY2VJc0VuYWJsZWR9Ij4gIDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogZm9udFNpemVDaG9pY2V9e3ZhbHVlOiBAY29udGV4dH17QHRleHQ6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8aW5wdXQgaWQ9ImZvbnRTaXplIiBjbGFzcz0iYXR0cmlidXRlLXZhbHVlIiB0eXBlPSJudW1iZXIiIG1pbj0iMSIgc3RlcD0iMSIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBmb250U2l6ZX17QGhpZGRlbjogZm9udFNpemVDaG9pY2VJc0VuYWJsZWR9IiAvPiA8L2Rpdj4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iIGRhdGEtYmluZGluZz0ie0BlbmFibGVkOiBzaG93TGFiZWxzfXtAdmlzaWJsZTogZm9udFN0eWxlSXNWaXNpYmxlfSI+IDxsYWJlbCBmb3I9ImZvbnRTdHlsZSIgY2xhc3M9ImZvcm0tbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWZvbnQtc3R5bGV9Ij48L2xhYmVsPiA8ZGl2IGlkPSJmb250U3R5bGUiIGNsYXNzPSJmb3JtLWNvbnRyb2wiPiA8bGFiZWwgY2xhc3M9ImxhYmVsT3B0aW9ucy1pdGVtLWN0cmwiPiA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogZm9udElzQm9sZH0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxhYmVsT3B0aW9ucy1ib2xkfSI+PC9zcGFuPiA8L2xhYmVsPiA8bGFiZWwgY2xhc3M9ImxhYmVsT3B0aW9ucy1pdGVtLWN0cmwiPiA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogZm9udElzSXRhbGljfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWl0YWxpY30iPjwvc3Bhbj4gPC9sYWJlbD4gPGxhYmVsIGNsYXNzPSJsYWJlbE9wdGlvbnMtaXRlbS1jdHJsIj4gPGlucHV0IHR5cGU9ImNoZWNrYm94IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IGZvbnRJc1VuZGVybGluZX0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxhYmVsT3B0aW9ucy11bmRlcmxpbmV9Ij48L3NwYW4+IDwvbGFiZWw+IDwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImZvcm0taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGZvbnRDb2xvcklzVmlzaWJsZX0iPiA8bGFiZWwgZm9yPSJmb250Q29sb3IiIGNsYXNzPSJmb3JtLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxhYmVsT3B0aW9ucy1mb250LWNvbG9yfSI+PC9sYWJlbD4gIDxkaXYgaWQ9ImZvbnRDb2xvciIgY2xhc3M9IndpZGdldCIgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogRm9udENvbG9yUGlja2VyV2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcXVpcmVkOiB0cnVlfXtAZW5hYmxlZDogc2hvd0xhYmVsc30iPjwvZGl2PiAgPC9kaXY+ICA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iIGRhdGEtYmluZGluZz0ie0BlbmFibGVkOiBzaG93TGFiZWxzfXtAdmlzaWJsZTogaGFsb1NpemVJc1Zpc2libGV9Ij4gPGxhYmVsIGZvcj0iaGFsb1NpemUiIGNsYXNzPSJmb3JtLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxhYmVsT3B0aW9ucy1oYWxvLXNpemV9Ij48L2xhYmVsPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRyb2wiPiA8aW5wdXQgaWQ9ImhhbG9TaXplIiBjbGFzcz0iYXR0cmlidXRlLXZhbHVlIiB0eXBlPSJudW1iZXIiIG1pbj0iMCIgc3RlcD0iMSIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBoYWxvU2l6ZX0iIC8+IDwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImZvcm0taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGhhbG9Db2xvcklzVmlzaWJsZX0iPiA8bGFiZWwgZm9yPSJoYWxvQ29sb3IiIGNsYXNzPSJmb3JtLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxhYmVsT3B0aW9ucy1oYWxvLWNvbG9yfXtAaGlkZGVuOiBoYWxvT3B0aW9uc0lzSGlkZGVufSI+PC9sYWJlbD4gIDxkaXYgaWQ9ImhhbG9Db2xvciIgY2xhc3M9IndpZGdldCIgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogSGFsb0NvbG9yUGlja2VyV2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcXVpcmVkOiB0cnVlfXtAZW5hYmxlZDogc2hvd0xhYmVsc317QGhpZGRlbjogaGFsb09wdGlvbnNJc0hpZGRlbn0iPjwvZGl2PiAgPC9kaXY+ICA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iIGRhdGEtYmluZGluZz0ie0BlbmFibGVkOiBzaG93TGFiZWxzfXtAdmlzaWJsZTogbGFiZWxQbGFjZW1lbnRJc1Zpc2libGV9Ij4gPGxhYmVsIGZvcj0ibGFiZWxQbGFjZW1lbnQiIGNsYXNzPSJmb3JtLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxhYmVsT3B0aW9ucy1sYWJlbC1wbGFjZW1lbnR9Ij48L2xhYmVsPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRyb2wiPiA8c2VsZWN0IGlkPSJsYWJlbFBsYWNlbWVudCIgY2xhc3M9ImF0dHJpYnV0ZS12YWx1ZSIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogbGFiZWxQbGFjZW1lbnRzfXtAdmFsdWU6IHNlbGVjdGVkUGxhY2VtZW50fSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogbGFiZWxQbGFjZW1lbnRzfXt2YWx1ZTogY29uZmlnfXtAdGV4dDogZGlzcGxheU5hbWV9Ij48L29wdGlvbj4gPC9zZWxlY3Q+IDwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9Indhcm5pbmctbGFiZWwiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGhhc0RyYXdpbmdJbmZvfXtAdGV4dDogdGFpbG9yZWRXYXJuaW5nfSI+PC9kaXY+ICA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0J1dHRvbkFwcGx5fXtAdGV4dDogQGxhbmd1YWdlLWxhYmVsT3B0aW9ucy1hcHBseX0iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0J1dHRvbk9LfXtAdGV4dDogQGxhbmd1YWdlLWxhYmVsT3B0aW9ucy1kb25lfSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrQnV0dG9uUmVzZXR9e0BlbmFibGVkOiBpc0xhYmVsQ3VzdG9tfXtAdGV4dDogQGxhbmd1YWdlLWxhYmVsT3B0aW9ucy1yZXNldH17QHZpc2libGU6IHdhcm5pbmdBY2tub3dsZWRnZWR9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tCdXR0b25DdXN0b21pemV9e0B0ZXh0OiBAbGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWN1c3RvbWl6ZX17QGhpZGRlbjogd2FybmluZ0Fja25vd2xlZGdlZH0iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0J1dHRvbkNhbmNlbH17QHRleHQ6IEBsYW5ndWFnZS1sYWJlbE9wdGlvbnMtY2FuY2VsfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerAddition/LayerPropertiesView.html","html","PGRpdiBjbGFzcz0ibGF5ZXItYWRkaXRpb24tcHJvcGVydGllcyBwYW5lbC1ncm91cC1jb250ZW50cyI+IDxkaXYgY2xhc3M9ImxheWVyLWFkZGl0aW9uLXByb3BlcnRpZXMtc2VsZWN0b3IgZm9ybS1pdGVtIj4gPGRpdiBjbGFzcz0iZm9ybS1zdGFja2VkIj4gPGRpdiBjbGFzcz0iZm9ybS1pdGVtIj4gPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxheWVyLWFkZGl0aW9uLWxheWVyLW5hbWUtZGVzY30iPjwvbGFiZWw+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRyb2wiPiA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiIGZvcj0ibGF5ZXJOYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxheWVyLWFkZGl0aW9uLWxheWVyLW5hbWV9Ij48L2xhYmVsPiA8aW5wdXQgaWQ9ImxheWVyTmFtZSIgdHlwZT0idGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBsYXllck5hbWV9IiAvPiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNHcm91cExheWVyfSI+IDxkaXYgY2xhc3M9ImZvcm0tY29udHJvbCI+IDxsYWJlbCBjbGFzcz0ibGF5ZXItYWRkaXRpb24tcHJvcGVydGllcy1pdGVtLWN0cmwiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBsYXllclN1cHBvcnRzSWRlbnRpZnl9Ij4gPGlucHV0IHR5cGU9ImNoZWNrYm94IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IGxheWVySXNJZGVudGlmaWFibGV9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1sYXllci1hZGRpdGlvbi1pZGVudGlmaWFibGV9Ij48L3NwYW4+IDwvbGFiZWw+IDxsYWJlbCBjbGFzcz0ibGF5ZXItYWRkaXRpb24tcHJvcGVydGllcy1pdGVtLWN0cmwiPiA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogbGF5ZXJJc1NlYXJjaGFibGV9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1sYXllci1hZGRpdGlvbi1zZWFyY2hhYmxlfSI+PC9zcGFuPiA8L2xhYmVsPiA8bGFiZWwgY2xhc3M9ImxheWVyLWFkZGl0aW9uLXByb3BlcnRpZXMtaXRlbS1jdHJsIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogbGF5ZXJTdXBwb3J0c1F1ZXJ5fSI+IDxpbnB1dCB0eXBlPSJjaGVja2JveCIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBsYXllcklzUXVlcnlhYmxlfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbGF5ZXItYWRkaXRpb24tcXVlcnlhYmxlfSI+PC9zcGFuPiA8L2xhYmVsPiA8bGFiZWwgY2xhc3M9ImxheWVyLWFkZGl0aW9uLXByb3BlcnRpZXMtaXRlbS1jdHJsIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc0hhbmRoZWxkfSI+IDxpbnB1dCB0eXBlPSJjaGVja2JveCIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBsYXllclNob3dzTWFwVGlwc30iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxheWVyLWFkZGl0aW9uLXNob3ctbWFwdGlwc30iPjwvc3Bhbj4gPC9sYWJlbD4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0J1dHRvbk9LfXtAdGV4dDogQGxhbmd1YWdlLWxheWVyLWFkZGl0aW9uLWRvbmV9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tCdXR0b25DYW5jZWx9e0B0ZXh0OiBAbGFuZ3VhZ2UtbGF5ZXItYWRkaXRpb24tY2FuY2VsfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerAddition/Dialogs/AddLayerDialogView.html","html","PGRpdiBjbGFzcz0ibGF5ZXItYWRkaXRpb24gYWRkLWxheWVyLWRpYWxvZyIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogc2VhcmNoRnJhZ21lbnR9e0BjbGFzcy1kaXNhYmxlZDogZGlzYWJsZWR9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBzZWFyY2hGcmFnbWVudH0iPiAgPHAgY2xhc3M9ImFkZC1sYXllci1kaWFsb2ctZGVzY3JpcHRpb24iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbGF5ZXItYWRkaXRpb24tc2VhcmNoLWRlc2NyaXB0aW9ufSI+PC9wPiA8ZGl2PiA8bGFiZWwgZm9yPSJsYXllci1hZGRpdGlvbi1zZWFyY2gtYm94IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxheWVyLWFkZGl0aW9uLWJ1dHRvbi1zZWFyY2h9Ij48L2xhYmVsPiA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImxheWVyLWFkZGl0aW9uLXNlYXJjaC1ib3giIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogc2VhcmNoVGV4dH17QHZhcjogYXV0b0NvbXBsZXRlSW5wdXR9e0BldmVudC1rZXlkb3duOiBoYW5kbGVLZXlEb3dufSIgdGFiaW5kZXg9IjAiIC8+IDwvZGl2PiAgPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlU2VhcmNoQ2xpY2t9e0B0ZXh0OiBAbGFuZ3VhZ2UtbGF5ZXItYWRkaXRpb24tYnV0dG9uLXNlYXJjaH17ZGlzYWJsZWQ6IGRpc2FibGVkfSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tY2FuY2VsfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2FuY2VsQ2xpY2t9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerAddition/Dialogs/MapServicesDialogView.html","html","PGRpdiBjbGFzcz0ibGF5ZXItYWRkaXRpb24gbWFwLXNlcnZpY2VzLWRpYWxvZyIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogbWFwU2VydmljZXNGcmFnbWVudH17QGNsYXNzLWRpc2FibGVkOiBkaXNhYmxlZH0iPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IG1hcFNlcnZpY2VzRnJhZ21lbnR9Ij4gPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAgbm8taXRlbSBib3gtY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBzZXJ2aWNlUmVzdWx0c30iPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1uby1yZXN1bHRzfSI+PC9wPiA8cCBjbGFzcz0iZGVzY3JpcHRpb24iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLW5vLXJlc3VsdHMtZGVzY30iPjwvcD4gPC9kaXY+IDxkaXYgY2xhc3M9InBhbmVsLWdyb3VwIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2VydmljZVJlc3VsdHN9Ij4gPHVsIGNsYXNzPSJnY3gtbGlzdC1tZW51IiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBzZXJ2aWNlUmVzdWx0c30iPiA8bGkgY2xhc3M9ImdjeC1saXN0LWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHNlcnZpY2VSZXN1bHRzfXtAY2xhc3MtaGFzLWFjdGlvbi0xOiBzdXBwb3J0c0FkZGl0aW9ufSI+IDxidXR0b24gY2xhc3M9ImdjeC1saXN0LWJ1dHRvbiBpY29uLXJpZ2h0IGNoZXZyb24tcmlnaHQtMjQiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVJdGVtQ2xpY2t9e0BkaXNhYmxlZDogZGlzYWJsZWR9Ij4gPHN0cm9uZyBjbGFzcz0iZ2N4LWxpc3QtbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvc3Ryb25nPiA8c3BhbiBjbGFzcz0iZ2N4LWxpc3QtZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHVybH0iPjwvc3Bhbj4gPC9idXR0b24+IDxidXR0b24gY2xhc3M9ImdjeC1hY3Rpb24tYnV0dG9uIGljb24gYWRkLTI0IiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQWRkU2VydmljZUNsaWNrfXtAZGlzYWJsZWQ6IGRpc2FibGVkfXtAdmlzaWJsZTogc3VwcG9ydHNBZGRpdGlvbn0iPjwvYnV0dG9uPiA8L2xpPiA8L3VsPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerAddition/Dialogs/ServiceConnectionsDialogView.html","html","PGRpdiBjbGFzcz0ibGF5ZXItYWRkaXRpb24gc2VydmljZS1jb25uZWN0aW9ucy1kaWFsb2ciIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHNlcnZpY2VDb25uZWN0aW9uc0ZyYWdtZW50fXtAY2xhc3MtZGlzYWJsZWQ6IGRpc2FibGVkfSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogc2VydmljZUNvbm5lY3Rpb25zRnJhZ21lbnR9Ij4gPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAgbm8taXRlbSBib3gtY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBzZXJ2aWNlQ29ubmVjdGlvbnN9Ij4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tbm8tcmVzdWx0c30iPjwvcD4gPHAgY2xhc3M9ImRlc2NyaXB0aW9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1uby1yZXN1bHRzLWRlc2N9Ij48L3A+IDwvZGl2PiA8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNlcnZpY2VDb25uZWN0aW9uc30iPiA8dWwgY2xhc3M9ImdjeC1saXN0LW1lbnUiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHNlcnZpY2VDb25uZWN0aW9uc30iPiA8bGkgY2xhc3M9ImdjeC1saXN0LWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHNlcnZpY2VDb25uZWN0aW9uc30iPiA8YnV0dG9uIGNsYXNzPSJnY3gtbGlzdC1idXR0b24gaWNvbi1yaWdodCBjaGV2cm9uLXJpZ2h0LTI0IiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlSXRlbUNsaWNrfSI+IDxzdHJvbmcgY2xhc3M9ImdjeC1saXN0LWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGlzcGxheU5hbWV9Ij48L3N0cm9uZz4gPC9idXR0b24+IDwvbGk+IDwvdWw+IDwvZGl2PiA8L2Rpdj4gICAgPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerAddition/Dialogs/SubLayersDialogView.html","html","PGRpdiBjbGFzcz0ibGF5ZXItYWRkaXRpb24gc3ViLWxheWVycy1kaWFsb2ciIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHN1YkxheWVyc0ZyYWdtZW50fXtAY2xhc3MtZGlzYWJsZWQ6IGRpc2FibGVkfSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogc3ViTGF5ZXJzRnJhZ21lbnR9Ij4gPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAgbm8taXRlbSBib3gtY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBzdWJMYXllcnN9Ij4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tbm8tcmVzdWx0c30iPjwvcD4gPHAgY2xhc3M9ImRlc2NyaXB0aW9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxheWVyLWFkZGl0aW9uLW5vLWxheWVycy1kZXNjfSI+PC9wPiA8L2Rpdj4gPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzdWJMYXllcnN9Ij4gPHVsIGNsYXNzPSJnY3gtbGlzdC1tZW51IiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBzdWJMYXllcnN9Ij4gPGxpIGNsYXNzPSJnY3gtbGlzdC1pdGVtIGhhcy1hY3Rpb24tMSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogc3ViTGF5ZXJzfSI+IDxkaXYgY2xhc3M9ImdjeC1saXN0LWNvbnRlbnQiPiA8c3Ryb25nIGNsYXNzPSJnY3gtbGlzdC1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9zdHJvbmc+IDxzcGFuIGNsYXNzPSJnY3gtbGlzdC1kZXNjIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGVzY3JpcHRpb259Ij48L3NwYW4+IDwvZGl2PiA8YnV0dG9uIGNsYXNzPSJnY3gtYWN0aW9uLWJ1dHRvbiBpY29uIGFkZC0yNCIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUFkZExheWVyQ2xpY2t9Ij48L2J1dHRvbj4gPC9saT4gPC91bD4gPC9kaXY+IDwvZGl2PiAgICA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerCatalog/LayerCatalogView.html","html","PGRpdiBjbGFzcz0ibGF5ZXItY2F0YWxvZyI+IDxkaXYgY2xhc3M9ImxjLWZpbHRlciI+IDxkaXYgY2xhc3M9ImxjLXNlYXJjaCIgZGF0YS1iaW5kaW5nPSJ7QG5vY2xhc3MtbGNTZWFyY2hEaXNhYmxlOiBzaG93aW5nQWxsfSI+IDxpbnB1dCBjbGFzcz0ic2VhcmNoLWZpZWxkIiB0eXBlPSJ0ZXh0IiBpZD0ibGMtZmlsdGVyLWlucHV0IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IGZpbHRlclRleHR9e0BldmVudC1rZXlkb3duOiBoYW5kbGVLZXlEb3dufXtwbGFjZWhvbGRlcjogQGxhbmd1YWdlLWxheWVyLWNhdGFsb2ctc2VhcmNoLXBsYWNlaG9sZGVyfXtAZW5hYmxlZDogc2hvd2luZ0FsbH0iIC8+IDxidXR0b24gY2xhc3M9ImNsZWFyLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsZWFyfXt0aXRsZTogQGxhbmd1YWdlLWxheWVyLWNhdGFsb2ctY2xlYXItZmlsdGVyfSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9InNlYXJjaC1idXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVTZWFyY2h9e0BlbmFibGVkOiBzaG93aW5nQWxsfXt0aXRsZTogQGxhbmd1YWdlLWxheWVyLWNhdGFsb2ctc2VhcmNoLWJ1dHRvbn0iPjwvYnV0dG9uPiA8L2Rpdj4gPGJ1dHRvbiBjbGFzcz0ibGMtc2hvdy1zZWxlY3RlZCBidXR0b24tdGV4dC1saW5rIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlU2hvd1NlbGVjdGVkQ2xpY2t9e0B0ZXh0OiBzaG93U2VsZWN0ZWRCdXR0b25UZXh0fSI+PC9idXR0b24+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsYy1jb250ZW50Ij4gPGRpdiBjbGFzcz0ibGMtc3RhdHVzIGxjLWxvYWRlciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzQnVzeX0iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9sb2FkZXItc21hbGwuZ2lmIiBhbHQ9IkxvYWRpbmciIGJvcmRlcj0iMCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiAvPiA8L2Rpdj4gPGRpdiBjbGFzcz0ibGMtZW50cmllcyIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNCdXN5fSI+IDxkaXYgY2xhc3M9ImxjLWxheWVycy10ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd0xheWVyTWVzc2FnZVRleHR9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1sYXllci1jYXRhbG9nLW5vdC1maW5pc2hlZH17QHZpc2libGU6IHNob3dOb3RGaW5pc2hlZFRleHR9Ij48L3NwYW4+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbGF5ZXItY2F0YWxvZy1tb3JlLWxheWVyc317QHZpc2libGU6IHNob3dNb3JlTGF5ZXJzVGV4dH0iPjwvc3Bhbj4gPGEgaHJlZj0iIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxheWVyLWNhdGFsb2ctcmVmcmVzaH17QHZpc2libGU6IHNob3dNb3JlTGF5ZXJzVGV4dH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVJlZnJlc2hDbGlja30iPjwvYT4gPC9kaXY+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbGF5ZXItY2F0YWxvZy1uby1sYXllcnMtc2VsZWN0ZWR9e0B2aXNpYmxlOiBzaG93Tm9MYXllcnNTZWxlY3RlZFRleHR9Ij48L3NwYW4+IDx1bCBjbGFzcz0ibGF5ZXItY2F0YWxvZy1pdGVtcyIgcm9sZT0idHJlZSIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogZmlsdGVyZWRDYXRhbG9nfXtAdGVtcGxhdGUtc2VsZWN0b3I6IHR5cGV9Ij4gPGxpIGNsYXNzPSJsYy10cmVlIiByb2xlPSJ0cmVlaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogZm9sZGVyfXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9MYXllckNhdGFsb2cvVGVtcGxhdGVzL0ZvbGRlckl0ZW1UZW1wbGF0ZS5odG1sfSI+PC9saT4gPGxpIGNsYXNzPSJsYy10cmVlIiByb2xlPSJ0cmVlaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogbGF5ZXJ9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL0xheWVyQ2F0YWxvZy9UZW1wbGF0ZXMvTGF5ZXJJdGVtVGVtcGxhdGUuaHRtbH0iPjwvbGk+IDwvdWw+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsYy1hY3Rpb25zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tPa317QHRleHQ6IEBsYW5ndWFnZS1sYXllci1jYXRhbG9nLW9rLWJ1dHRvbn0iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0NhbmNlbH17QHRleHQ6IEBsYW5ndWFnZS1sYXllci1jYXRhbG9nLWNhbmNlbC1idXR0b259Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerCatalog/PagedLayerCatalogView.html","html","PGRpdiBjbGFzcz0ibGF5ZXItY2F0YWxvZyI+ICA8ZGl2IGNsYXNzPSJsYy1oZWFkZXIiPiA8ZGl2IGNsYXNzPSJtaWRkbGUgcGFuZWwtaGVhZGVyIj4gPGJ1dHRvbiBjbGFzcz0ibGMtbGVmdCBidXR0b24tdGV4dC1saW5rIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQmFja0NsaWNrfXtAY2xhc3MtZGlzYWJsZWQ6IGJhY2tEaXNhYmxlZH0iPiAgPHNwYW4gZGF0YS1iaW5kaW5nPSJ7YXJpYS1sYWJlbDogYmFja1N0cmluZ317QGhpZGRlbjogYmFja0Rpc2FibGVkfSI+PC9zcGFuPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogYmFja1RleHR9Ij48L3NwYW4+IDwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJsYy1yaWdodCBidXR0b24tdGV4dC1saW5rIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tPa317QHRleHQ6IEBsYW5ndWFnZS1sYXllci1jYXRhbG9nLWRvbmUtYnV0dG9ufSI+PC9idXR0b24+IDxoMiBjbGFzcz0icGFuZWwtdGl0bGUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBicmVhZGNydW1ifSI+PC9oMj4gPC9kaXY+IDxkaXYgY2xhc3M9ImxjLWZpbHRlciI+IDxkaXYgY2xhc3M9ImxjLXNlYXJjaCIgZGF0YS1iaW5kaW5nPSJ7QG5vY2xhc3MtbGNTZWFyY2hEaXNhYmxlOiBzaG93aW5nQWxsfSI+IDxpbnB1dCBjbGFzcz0ic2VhcmNoLWZpZWxkIiB0eXBlPSJ0ZXh0IiBpZD0ibGMtZmlsdGVyLWlucHV0IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IGZpbHRlclRleHR9e0BldmVudC1rZXlkb3duOiBoYW5kbGVLZXlEb3dufXtwbGFjZWhvbGRlcjogQGxhbmd1YWdlLWxheWVyLWNhdGFsb2ctc2VhcmNoLXBsYWNlaG9sZGVyfXtAZW5hYmxlZDogc2hvd2luZ0FsbH0iIC8+IDxidXR0b24gY2xhc3M9ImNsZWFyLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsZWFyfXt0aXRsZTogQGxhbmd1YWdlLWxheWVyLWNhdGFsb2ctY2xlYXItZmlsdGVyfSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9InNlYXJjaC1idXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVTZWFyY2h9e0BlbmFibGVkOiBzaG93aW5nQWxsfXt0aXRsZTogQGxhbmd1YWdlLWxheWVyLWNhdGFsb2ctc2VhcmNoLWJ1dHRvbn0iPjwvYnV0dG9uPiA8L2Rpdj4gPGJ1dHRvbiBjbGFzcz0ibGMtc2hvdy1zZWxlY3RlZCBidXR0b24tdGV4dC1saW5rIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlU2hvd1NlbGVjdGVkQ2xpY2t9e0B0ZXh0OiBzaG93U2VsZWN0ZWRCdXR0b25UZXh0fSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0ibGMtc3RhdHVzIGxjLWxvYWRlciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzQnVzeX0iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9sb2FkZXItc21hbGwuZ2lmIiBhbHQ9IkxvYWRpbmciIGJvcmRlcj0iMCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiAvPiA8L2Rpdj4gPGRpdiBjbGFzcz0ibGMtc3RhdHVzIG5vLXNlbGVjdGlvbi1tZXNzYWdlIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxheWVyLWNhdGFsb2ctbm8tbGF5ZXJzLXNlbGVjdGVkfXtAbm9jbGFzcy1zaG93Tm9uZTogc2hvd05vTGF5ZXJzU2VsZWN0ZWRUZXh0fSI+PC9kaXY+ICA8ZGl2IGNsYXNzPSJsYy1sYXllcnMtdGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dMYXllck1lc3NhZ2VUZXh0fSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbGF5ZXItY2F0YWxvZy1ub3QtZmluaXNoZWR9e0B2aXNpYmxlOiBzaG93Tm90RmluaXNoZWRUZXh0fSI+PC9zcGFuPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxheWVyLWNhdGFsb2ctbW9yZS1sYXllcnN9e0B2aXNpYmxlOiBzaG93TW9yZUxheWVyc1RleHR9Ij48L3NwYW4+IDxhIGhyZWY9IiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1sYXllci1jYXRhbG9nLXJlZnJlc2h9e0B2aXNpYmxlOiBzaG93TW9yZUxheWVyc1RleHR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVSZWZyZXNoQ2xpY2t9Ij48L2E+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsYy1lbnRyaWVzIj4gPGRpdiBjbGFzcz0ibGMtaXRlbXMgbGF5ZXItaXRlbSBjYXRhbG9nLWZvbGRlci1zZWxlY3QiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93R3JvdXBDaGVja2JveH17Y2hlY2tlZDogYWxsQ2hlY2tlZH0iPiA8bGFiZWwgY2xhc3M9ImxheWVyLWl0ZW0tbGFiZWwiPiA8aW5wdXQgY2xhc3M9InNlbGVjdGVkLXN0YXRlIiB0eXBlPSJjaGVja2JveCIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVNlbGVjdEFsbENoZWNrZWR9e2NoZWNrZWQ6IGFsbENoZWNrZWR9IiAvPiA8c3BhbiBjbGFzcz0ibGMtaXRlbS1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1sYXllci1jYXRhbG9nLXNlbGVjdC1hbGx9Ij48L3NwYW4+IDwvbGFiZWw+IDwvZGl2PiA8dWwgY2xhc3M9ImxjLWl0ZW1zIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiByZXN1bHRQYWdlfXtAdGVtcGxhdGUtZm9yOiByZXN1bHRQYWdlfXtAdGVtcGxhdGUtc2VsZWN0b3I6IHR5cGV9Ij4gPGxpIGNsYXNzPSJsYXllci1pdGVtIiBkYXRhLWJpbmRpbmc9IntAY2xhc3MtbGF5ZXJTZWxlY3RlZDogaXNDaGVja2VkfXtAdGVtcGxhdGUtc2VsZWN0OiBsYXllcn17QHZpc2libGU6IHZpc2libGV9Ij4gPGxhYmVsIGNsYXNzPSJsYXllci1pdGVtLWxhYmVsIj4gPGlucHV0IHR5cGU9ImNoZWNrYm94IiBjbGFzcz0ic2VsZWN0ZWQtc3RhdGUgc2VsZWN0ZWQtc3RhdGUtbGF5ZXIiIGRhdGEtYmluZGluZz0ie0BjbGFzcy1sYXllckNoZWNrZWRJbWFnZTogaXNDaGVja2VkfXtAdmFsdWU6IGlzQ2hlY2tlZH0iPiA8c3BhbiBjbGFzcz0ibGMtaXRlbS1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9zcGFuPiA8L2xhYmVsPiA8YnV0dG9uIGNsYXNzPSJsYy1kZXRhaWxzIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlU2hvd0RldGFpbHN9e0B2aXNpYmxlOiBpbmZvTGlua1Zpc2libGV9Ij48aW1nIGRhdGEtYmluZGluZz0ie2FsdDogaW5mb0xpbmtUZXh0fXtzcmM6IGluZm9MaW5rSWNvblVyaX17dGl0bGU6IGluZm9MaW5rVG9vbHRpcH0iIGJvcmRlcj0iMCIgLz48L2J1dHRvbj4gPC9saT4gPGxpIGNsYXNzPSJmb2xkZXItaXRlbSBjaGV2cm9uLXJpZ2h0LTI0IiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBmb2xkZXJ9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVGb2xkZXJDbGlja317QHZpc2libGU6IHZpc2libGV9Ij4gPGJ1dHRvbiBjbGFzcz0iY2F0YWxvZy1pdGVtLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7dGl0bGU6IEBsYW5ndWFnZS1sYXllci1jYXRhbG9nLWZvbGRlci1kcmlsbC1kb3dufSI+IDxzcGFuIGNsYXNzPSJzZWxlY3RlZC1zdGF0ZSBzZWxlY3RlZC1zdGF0ZS1mb2xkZXIiIGRhdGEtYmluZGluZz0ie0BjbGFzcy1mb2xkZXJTb21lU2VsZWN0ZWRJbWFnZTogc29tZUNoZWNrZWR9e0BjbGFzcy1mb2xkZXJBbGxTZWxlY3RlZEltYWdlOiBhbGxDaGVja2VkfSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0ibGMtaXRlbS1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfXtAZXZlbnQtb25jbGljazogaGFuZGxlRm9sZGVyQ2xpY2t9Ij48L3NwYW4+ICA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZXhwYW5kZWR9e2FyaWEtbGFiZWw6IEBsYW5ndWFnZS1sYXllci1jYXRhbG9nLWZvbGRlci1vcGVuZWR9Ij48L3NwYW4+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzb21lQ2hlY2tlZH17QHRleHQ6IEBsYW5ndWFnZS1sYXllci1jYXRhbG9nLXNlbGVjdGVkLXNvbWV9IiBjbGFzcz0ic2VsZWN0ZWQtaW5kaWNhdG9yIj48L3NwYW4+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhbGxDaGVja2VkfXtAdGV4dDogQGxhbmd1YWdlLWxheWVyLWNhdGFsb2ctc2VsZWN0ZWQtYWxsfSIgY2xhc3M9InNlbGVjdGVkLWluZGljYXRvciI+PC9zcGFuPiA8L2J1dHRvbj4gPC9saT4gPC91bD4gPGRpdiBjbGFzcz0iYm90dG9tIj4gPGJ1dHRvbiBjbGFzcz0iY2FuY2VsLWJ1dHRvbiBidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0NhbmNlbH17QHRleHQ6IEBsYW5ndWFnZS1sYXllci1jYXRhbG9nLWNhbmNlbC1idXR0b259Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerCatalog/Templates/FolderItemTemplate.html","html","IDxkaXYgY2xhc3M9ImZvbGRlci1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdmlzaWJsZX17aWQ6IGZvbGRlcklkfSI+IDxkaXYgY2xhc3M9ImZvbGRlci1pdGVtLW5hbWUiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVFeHBhbmR9Ij4gPGJ1dHRvbiBjbGFzcz0iY2F0YWxvZy1pdGVtLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUV4cGFuZH0iPiA8c3BhbiBjbGFzcz0iY2F0YWxvZy1pdGVtLWNvbnRyb2wiPiAgPHNwYW4gY2xhc3M9ImV4cGFuZGVyLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGNsYXNzLWZvbGRlci1vcGVuOiBleHBhbmRlZH17YXJpYS1sYWJlbDogQGxhbmd1YWdlLWxheWVyLWNhdGFsb2ctZm9sZGVyLXRvZ2dsZS1vcGVufXtAdmlzaWJsZTogZXhwYW5kZWR9Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJleHBhbmRlci1idXR0b24iIGRhdGEtYmluZGluZz0ie0BjbGFzcy1mb2xkZXItb3BlbjogZXhwYW5kZWR9e2FyaWEtbGFiZWw6IEBsYW5ndWFnZS1sYXllci1jYXRhbG9nLWZvbGRlci10b2dnbGUtY2xvc2VkfXtAaGlkZGVuOiBleHBhbmRlZH0iPjwvc3Bhbj4gPC9zcGFuPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGlzcGxheU5hbWV9Ij48L3NwYW4+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzb21lQ2hlY2tlZH17QHRleHQ6IEBsYW5ndWFnZS1sYXllci1jYXRhbG9nLXNlbGVjdGVkLXNvbWV9IiBjbGFzcz0ic2VsZWN0ZWQtaW5kaWNhdG9yIj48L3NwYW4+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhbGxDaGVja2VkfXtAdGV4dDogQGxhbmd1YWdlLWxheWVyLWNhdGFsb2ctc2VsZWN0ZWQtYWxsfSIgY2xhc3M9InNlbGVjdGVkLWluZGljYXRvciI+PC9zcGFuPiA8L2J1dHRvbj4gPGRpdiBjbGFzcz0iY2F0YWxvZy1mb2xkZXItc2VsZWN0IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZXhwYW5kZWR9Ij4gPGxhYmVsIGNsYXNzPSJjYXRhbG9nLWl0ZW0tbGFiZWwiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVTZWxlY3RBbGxDaGVja2VkfXtjaGVja2VkOiBhbGxDaGVja2VkfXtAdmlzaWJsZTogc2hvd0dyb3VwQ2hlY2tib3h9Ij4gPHNwYW4gY2xhc3M9ImNhdGFsb2ctaXRlbS1jb250cm9sIj4gPGlucHV0IHR5cGU9ImNoZWNrYm94IiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlU2VsZWN0QWxsQ2hlY2tlZH17Y2hlY2tlZDogYWxsQ2hlY2tlZH0iIC8+IDwvc3Bhbj4gPHNwYW4gY2xhc3M9ImxheWVyLWl0ZW0iPiA8c3BhbiBjbGFzcz0ibGF5ZXItaXRlbS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxheWVyLWNhdGFsb2ctc2VsZWN0LWFsbH0iPjwvc3Bhbj4gPC9zcGFuPiA8L2xhYmVsPiA8L2Rpdj4gPC9kaXY+IDx1bCBjbGFzcz0ibGF5ZXItY2F0YWxvZy1pdGVtcyIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogYmluZGluZ0VudHJpZXN9e0B0ZW1wbGF0ZS1zZWxlY3RvcjogdHlwZX17QHZpc2libGU6IGV4cGFuZGVkfXthcmlhLWxhYmVsbGVkYnk6IGZvbGRlcklkfSI+IDxsaSBjbGFzcz0ibGMtdHJlZSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogbGF5ZXJ9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL0xheWVyQ2F0YWxvZy9UZW1wbGF0ZXMvTGF5ZXJJdGVtVGVtcGxhdGUuaHRtbH0iPjwvbGk+IDxsaSBjbGFzcz0ibGMtdHJlZSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogZm9sZGVyfXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9MYXllckNhdGFsb2cvVGVtcGxhdGVzL0ZvbGRlckl0ZW1UZW1wbGF0ZS5odG1sfSI+PC9saT4gPC91bD4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerCatalog/Templates/LayerItemTemplate.html","html","IDxkaXYgY2xhc3M9ImNhdGFsb2ctbGF5ZXItaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHZpc2libGV9Ij4gPGxhYmVsIGNsYXNzPSJjYXRhbG9nLWl0ZW0tbGFiZWwiPiA8c3BhbiBjbGFzcz0iY2F0YWxvZy1pdGVtLWNvbnRyb2wiPiA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGRhdGEtYmluZGluZz0ie2NoZWNrZWQ6IGlzQ2hlY2tlZH17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVMYXllckNoZWNrZWR9IiAvPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJsYXllci1pdGVtIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlTGF5ZXJDaGVja2VkfSI+IDxzcGFuIGNsYXNzPSJsYXllci1pdGVtLW5hbWUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvc3Bhbj4gPC9zcGFuPiA8L2xhYmVsPiA8YnV0dG9uIGNsYXNzPSJsYy1kZXRhaWxzIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlU2hvd0RldGFpbHN9e0B2aXNpYmxlOiBpbmZvTGlua1Zpc2libGV9Ij48aW1nIGRhdGEtYmluZGluZz0ie2FsdDogaW5mb0xpbmtUZXh0fXtzcmM6IGluZm9MaW5rSWNvblVyaX17dGl0bGU6IGluZm9MaW5rVG9vbHRpcH0iIC8+PC9idXR0b24+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerList/LayerListView.html","html","PGRpdiBjbGFzcz0icmVzdWx0cy1saXN0LWFjdGlvbnMtd2lkZ2V0IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdmlld0luaXRpYWxpemVkfXtAd2lkZ2V0OiBMYXllckxpc3RBY3Rpb25zV2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX0iDQogICAgIGRhdGEtbWVudS1pZD0iTGF5ZXJMaXN0QWN0aW9ucyIgZGF0YS1tZW51LXRlbXBsYXRlPSJNYXBwaW5nL2luZnJhc3RydWN0dXJlL21lbnVzL01lbnVIeXBlcmxpbmtWaWV3Lmh0bWwiPjwvZGl2PiAgPGRpdiBjbGFzcz0icmVnaW9uIHBhbmVsLXN0YXR1cy1yZWdpb24iIGRhdGEtcmVnaW9uLW5hbWU9IkxheWVyTGlzdFN0YXR1c01lc3NhZ2VSZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+ICA8ZGl2IGNsYXNzPSJsYXllci1saXN0LXdyYXBwZXIiPiA8ZGl2IGNsYXNzPSJsYXllci10aGVtZS1zd2l0Y2hlciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGxheWVyVGhlbWVzfSI+IDxzZWxlY3QgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogbGF5ZXJUaGVtZXN9e0B2YWx1ZTogYWN0aXZlTGF5ZXJUaGVtZX17dGl0bGU6IEBsYW5ndWFnZS1sYXllcmxpc3QtdGhlbWUtc2VsZWN0b3J9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBsYXllclRoZW1lc317QHRleHQ6IGRpc3BsYXlOYW1lfXtAYXR0YWNoOiBAY29udGV4dH0iIC8+IDwvc2VsZWN0PiA8L2Rpdj4gPGRpdiBjbGFzcz0ibGF5ZXItbGlzdCIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogbGF5ZXJMaXN0SXRlbXN9e0B2aXNpYmxlOiB2aWV3SW5pdGlhbGl6ZWR9Ij4gPHVsIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGxheWVyTGlzdEl0ZW1zfSI+IDxsaSBjbGFzcz0ibGF5ZXIgbGF5ZXItaW5mbyBwYXJlbnQtbGF5ZXIiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBkaXNwbGF5SXRlbX17QGNsYXNzLWxheWVyLWVuYWJsZWQ6IGluVmlzaWJsZVNjYWxlUmFuZ2V9e0Bub2NsYXNzLWxheWVyLWRpc2FibGVkOiBpblZpc2libGVTY2FsZVJhbmdlfSI+IDxkaXYgY2xhc3M9ImxheWVyLWl0ZW0tZXhwYW5kZXIiPjxidXR0b24gY2xhc3M9InRyZWUtZXhwYW5kZXIiIGRhdGEtYmluZGluZz0ie3RpdGxlOiBsYXllckZvbGRlclRvZ2dsZVRvb2x0aXB9e0B2aXNpYmxlOiBoYXNEaXNwbGF5ZWRDaGlsZHJlbn17QGNsYXNzLWV4cGFuZGVkOiBpc0V4cGFuZGVkfXtAbm9jbGFzcy1jb2xsYXBzZWQ6IGlzRXhwYW5kZWR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVFeHBhbmRlckNsaWNrfSI+PC9idXR0b24+PC9kaXY+IDxkaXYgY2xhc3M9Im1hcHNlcnZpY2UtYWN0aW9ucyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGVuYWJsZU1hcFNlcnZpY2VBY3Rpb25zfSI+PGJ1dHRvbiBjbGFzcz0iY2hldnJvbi1yaWdodC0xNiIgZGF0YS1iaW5kaW5nPSJ7dGl0bGU6IG1hcFNlcnZpY2VBY3Rpb25zVG9vbHRpcH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZU1hcFNlcnZpY2VBY3Rpb25zfSI+PC9idXR0b24+PC9kaXY+IDxkaXYgY2xhc3M9ImxheWVyLWFjdGlvbnMiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBlbmFibGVMYXllckFjdGlvbnN9Ij48YnV0dG9uIGNsYXNzPSJjaGV2cm9uLXJpZ2h0LTE2IiBkYXRhLWJpbmRpbmc9Int0aXRsZTogQGxhbmd1YWdlLWxheWVyLWFjdGlvbnMtdG9vbHRpcH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUxheWVyQWN0aW9uc30iPjwvYnV0dG9uPjwvZGl2PiA8ZGl2IGNsYXNzPSJ3aWRnZXQiIGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IFRyYW5zcGFyZW5jeVNsaWRlcn17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH17QHdpZGdldC1yZXF1aXJlZDogZmFsc2V9e0B2aXNpYmxlOiBjYW5BZGp1c3RPcGFjaXR5fSI+PC9kaXY+IDxkaXYgY2xhc3M9ImxheWVyLWNvbnRlbnRzIj4gPHNwYW4gY2xhc3M9ImxheWVyLWl0ZW0tY3RybCI+IDxpbnB1dCB0eXBlPSJjaGVja2JveCIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaGFzUmFkaW9Ub2dnbGV9e0BkaXNhYmxlZDogaGFzUmFkaW9Ub2dnbGV9e2NoZWNrZWQ6IGlzVmlzaWJsZX17QGV2ZW50LW9uY2xpY2s6IHNldEl0ZW1WaXNpYmlsaXR5fXt0aXRsZTogbGF5ZXJUb2dnbGVUb29sdGlwfSIgLz4gPGlucHV0IHR5cGU9InJhZGlvIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaGFzUmFkaW9Ub2dnbGV9e0BlbmFibGVkOiBoYXNSYWRpb1RvZ2dsZX17bmFtZTogcmFkaW9Hcm91cH17Y2hlY2tlZDogaXNWaXNpYmxlfXtAZXZlbnQtb25jbGljazogc2V0SXRlbVZpc2liaWxpdHlFeGNsdXNpdmV9e3RpdGxlOiBsYXllclRvZ2dsZVRvb2x0aXB9IiAvPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJsYXllci1pdGVtLWN0cmwgbGF5ZXItbGlzdC1tYXBzZXJ2aWNlLWljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfSI+PGltZyBkYXRhLWJpbmRpbmc9InthbHQ6IGljb25Ub29sdGlwfXtzcmM6IGljb25Vcml9IiAvPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImxheWVyLWl0ZW0tY3RybCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGxlZ2VuZElzVmlzaWJsZX0iPjxidXR0b24gY2xhc3M9ImxheWVyLWxpc3QtbGVnZW5kLWljb24iIGRhdGEtYmluZGluZz0ie2lubmVySFRNTDogbGVnZW5kU3dhdGNofXt0aXRsZTogbGVnZW5kVG9vbHRpcH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUxlZ2VuZEV4cGFuZGVyQ2xpY2t9Ij48L2J1dHRvbj48L3NwYW4+IDxzcGFuIGNsYXNzPSJkaXNwbGF5LW5hbWUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfXtAZXZlbnQtb25jbGljazogaGFuZGxlRXhwYW5kZXJDbGlja30iPjwvc3Bhbj4gPC9kaXY+IDwvbGk+IDxsaSBjbGFzcz0ibGF5ZXIiIHJvbGU9InRyZWVpdGVtIj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogbGVnZW5kSXNWaXNpYmxlfSI+IDx1bCBjbGFzcz0ibGVnZW5kLWxpc3QiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBleHBhbmRMZWdlbmR9e0Bzb3VyY2U6IGxlZ2VuZEl0ZW1zfXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9MYXllckxpc3QvVGVtcGxhdGVzL0xheWVyTGlzdExlZ2VuZEl0ZW1UZW1wbGF0ZS5odG1sfSI+PC91bD4gPC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzRXhwYW5kZWR9e0Bzb3VyY2U6IG9uRGVtYW5kSXRlbUNvbGxlY3Rpb259e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL0xheWVyTGlzdC9UZW1wbGF0ZXMvTGF5ZXJMaXN0SXRlbVRlbXBsYXRlLmh0bWx9Ij48L2Rpdj4gPC9saT4gPC91bD4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerList/LayerActions/LayerActionsView.html","html","PGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAgbm8taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogdmlzaWJsZU1lbnVJdGVtc317QHRleHQ6IEBsYW5ndWFnZS1sYXllcmxpc3Qtbm8tZmVhdHVyZS1hY3Rpb25zfSI+PC9kaXY+IDxkaXYgY2xhc3M9InBhbmVsLWdyb3VwIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdmlzaWJsZU1lbnVJdGVtc317QHNvdXJjZTogdmlzaWJsZU1lbnVJdGVtc30iPiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUgYWN0aXZlIGhhcy1pY29uIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiB2aXNpYmxlTWVudUl0ZW1zfXtAZW5hYmxlZDogY2FuRXhlY3V0ZX0iPiA8YnV0dG9uIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9ubW91c2VvdmVyOiBnZXREZXNjcmlwdGlvbn17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZU1lbnVJdGVtQ2xpY2t9Ij4gPGltZyBjbGFzcz0ibGlzdC1tZW51LWljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfXtzcmM6IGljb25Vcml9IiBhbHQ9IiAiPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRleHR9Ij48L3N0cm9uZz4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXNjIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGVzY3JpcHRpb259Ij48L3NwYW4+IDwvc3Bhbj4gPC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPHVsIGNsYXNzPSJsaXN0LW1lbnUgaGFzLWljb24iIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGxheWVySHlwZXJsaW5rc30iPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogbGF5ZXJIeXBlcmxpbmtzfSI+IDxhIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrSHlwZXJsaW5rfXtocmVmOiB1cml9e3RhcmdldDogdGFyZ2V0fXt0aXRsZTogdG9vbHRpcH0iPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7c3JjOiBpY29uVXJpfSIgLz4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXRhaWxzIGxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogdGV4dH0iPjwvc3Bhbj4gPC9hPiA8L2xpPiA8L3VsPiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerList/MapServiceActions/MapServiceActionsView.html","html","PGRpdiBjbGFzcz0ibWVudS1uby1pdGVtcyIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogdmlzaWJsZU1lbnVJdGVtc317QHRleHQ6IEBsYW5ndWFnZS1tZW51LW5vLWl0ZW1zfSI+PC9kaXY+IDxkaXYgY2xhc3M9Imxpc3QtbWVudSBhY3RpdmUgaGFzLWljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiB2aXNpYmxlTWVudUl0ZW1zfXtAc291cmNlOiB2aXNpYmxlTWVudUl0ZW1zfSI+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiB2aXNpYmxlTWVudUl0ZW1zfXtAZW5hYmxlZDogY2FuRXhlY3V0ZX0iPiA8YnV0dG9uIGNsYXNzPSJsaXN0LW1lbnUtYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlTWVudUl0ZW1DbGlja317dGl0bGU6IGRlc2NyaXB0aW9ufSI+IDxpbWcgY2xhc3M9Imxpc3QtbWVudS1pY29uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX17c3JjOiBpY29uVXJpfXthbHQ6IHRleHR9IiAvPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRleHR9Ij48L3N0cm9uZz4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXNjIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZGVzY3JpcHRpb259e0B0ZXh0OiBkZXNjcmlwdGlvbn0iPjwvc3Bhbj4gPC9zcGFuPiA8L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerList/Templates/LayerListItemTemplate.html","html","PHVsIGNsYXNzPSJsYXllcnMiIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IG9uRGVtYW5kSXRlbUNvbGxlY3Rpb259Ij4gPGxpIGNsYXNzPSJsYXllciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGRpc3BsYXlJdGVtfXtAbm9jbGFzcy1sYXllci1pbnZpc2libGU6IHBhcmVudEVmZmVjdGl2ZWx5VmlzaWJsZX0iPiA8ZGl2IGNsYXNzPSJsYXllci1pdGVtLWV4cGFuZGVyIj48YnV0dG9uIGNsYXNzPSJ0cmVlLWV4cGFuZGVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaGFzRGlzcGxheWVkQ2hpbGRyZW59e0BjbGFzcy1leHBhbmRlZDogaXNFeHBhbmRlZH17QG5vY2xhc3MtY29sbGFwc2VkOiBpc0V4cGFuZGVkfXtAZXZlbnQtb25jbGljazogaGFuZGxlRXhwYW5kZXJDbGlja317dGl0bGU6bGF5ZXJGb2xkZXJUb2dnbGVUb29sdGlwfSI+PC9idXR0b24+PC9kaXY+IDxkaXYgY2xhc3M9ImxheWVyLWluZm8iIGRhdGEtYmluZGluZz0ie0BjbGFzcy1sYXllci1lbmFibGVkOiBpblZpc2libGVTY2FsZVJhbmdlfXtAbm9jbGFzcy1sYXllci1kaXNhYmxlZDogaW5WaXNpYmxlU2NhbGVSYW5nZX0iPiA8ZGl2IGNsYXNzPSJtYXBzZXJ2aWNlLWFjdGlvbnMiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBlbmFibGVNYXBTZXJ2aWNlQWN0aW9uc30iPjxidXR0b24gY2xhc3M9ImNoZXZyb24tcmlnaHQtMTYiIGRhdGEtYmluZGluZz0ie3RpdGxlOiBtYXBTZXJ2aWNlQWN0aW9uc1Rvb2x0aXB9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVNYXBTZXJ2aWNlQWN0aW9uc30iPjwvYnV0dG9uPjwvZGl2PiA8ZGl2IGNsYXNzPSJsYXllci1hY3Rpb25zIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZW5hYmxlTGF5ZXJBY3Rpb25zfSI+PGJ1dHRvbiBjbGFzcz0iY2hldnJvbi1yaWdodC0xNiIgZGF0YS1iaW5kaW5nPSJ7dGl0bGU6IGxheWVyQWN0aW9uc1Rvb2x0aXB9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVMYXllckFjdGlvbnN9Ij48L2J1dHRvbj48L2Rpdj4gPGRpdiBjbGFzcz0id2lkZ2V0IiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBUcmFuc3BhcmVuY3lTbGlkZXJ9e0B3aWRnZXQtY29udGV4dDogQGNvbnRleHR9e0B3aWRnZXQtcmVxdWlyZWQ6IGZhbHNlfXtAdmlzaWJsZTogY2FuQWRqdXN0T3BhY2l0eX0iPjwvZGl2PiA8ZGl2IGNsYXNzPSJsYXllci1jb250ZW50cyIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW1vdXNlZG93bjogaGFuZGxlTW91c2VEb3dufXtAZXZlbnQtbW91c2V1cDogaGFuZGxlTW91c2VVcH17QGV2ZW50LXRvdWNoc3RhcnQ6IGhhbmRsZVRvdWNoU3RhcnR9e0BldmVudC10b3VjaGVuZDogaGFuZGxlVG91Y2hFbmR9Ij4gPHNwYW4gY2xhc3M9ImxheWVyLWl0ZW0tY3RybCI+IDxpbnB1dCB0eXBlPSJjaGVja2JveCIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaGFzUmFkaW9Ub2dnbGV9e0BkaXNhYmxlZDogaGFzUmFkaW9Ub2dnbGV9e2NoZWNrZWQ6IGlzVmlzaWJsZX17ZGlzYWJsZWQ6IGNhbk5vdEFzc2lnblZpc2liaWxpdHl9e0BldmVudC1vbmNsaWNrOiBzZXRJdGVtVmlzaWJpbGl0eX17dGl0bGU6IGxheWVyVG9nZ2xlVG9vbHRpcH0iIC8+IDxpbnB1dCB0eXBlPSJyYWRpbyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGhhc1JhZGlvVG9nZ2xlfXtAZW5hYmxlZDogaGFzUmFkaW9Ub2dnbGV9e25hbWU6IHJhZGlvR3JvdXB9e2NoZWNrZWQ6IGlzVmlzaWJsZX17ZGlzYWJsZWQ6IGNhbk5vdEFzc2lnblZpc2liaWxpdHl9e0BldmVudC1vbmNsaWNrOiBzZXRJdGVtVmlzaWJpbGl0eUV4Y2x1c2l2ZX17dGl0bGU6IGxheWVyVG9nZ2xlVG9vbHRpcH0iIC8+IDwvc3Bhbj4gPHNwYW4gY2xhc3M9ImxheWVyLWl0ZW0tY3RybCBsYXllci1saXN0LWxheWVyLWljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfSI+PGltZyBkYXRhLWJpbmRpbmc9InthbHQ6IGljb25Ub29sdGlwfXtzcmM6IGljb25Vcml9IiAvPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImxheWVyLWl0ZW0tY3RybCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGxlZ2VuZElzVmlzaWJsZX0iPiA8c3BhbiBjbGFzcz0ibGF5ZXItbGlzdC1sZWdlbmQtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7aW5uZXJIVE1MOiBsZWdlbmRTd2F0Y2h9e3RpdGxlOiBsZWdlbmRUb29sdGlwfXtAaGlkZGVuOiBsZWdlbmRIYXNNdWx0aXBsZUl0ZW1zfSI+PC9zcGFuPiA8YnV0dG9uIGNsYXNzPSJsYXllci1saXN0LWxlZ2VuZC1pY29uIiBkYXRhLWJpbmRpbmc9Intpbm5lckhUTUw6IGxlZ2VuZFN3YXRjaH17dGl0bGU6IGxlZ2VuZFRvb2x0aXB9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVMZWdlbmRFeHBhbmRlckNsaWNrfXtAdmlzaWJsZTogbGVnZW5kSGFzTXVsdGlwbGVJdGVtc30iPjwvYnV0dG9uPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJkaXNwbGF5LW5hbWUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfXtAZXZlbnQtb25jbGljazogaGFuZGxlRXhwYW5kZXJDbGlja30iPjwvc3Bhbj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBsZWdlbmRJc1Zpc2libGV9Ij4gPHVsIGNsYXNzPSJsZWdlbmQtbGlzdCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGV4cGFuZExlZ2VuZH17QHNvdXJjZTogbGVnZW5kSXRlbXN9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL0xheWVyTGlzdC9UZW1wbGF0ZXMvTGF5ZXJMaXN0TGVnZW5kSXRlbVRlbXBsYXRlLmh0bWx9Ij48L3VsPiA8L2Rpdj4gPHVsIGNsYXNzPSJsYXllcnMiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0V4cGFuZGVkfXtAc291cmNlOiBvbkRlbWFuZEl0ZW1Db2xsZWN0aW9ufXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9MYXllckxpc3QvVGVtcGxhdGVzL0xheWVyTGlzdEl0ZW1UZW1wbGF0ZS5odG1sfSI+PC91bD4gPC9saT4gPC91bD4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerList/Templates/LayerListLegendItemTemplate.html","html","PHVsPiA8bGkgY2xhc3M9ImxlZ2VuZC1pdGVtIGxlYWYgY2xlYXIiIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGxlZ2VuZEl0ZW1zfSIgdGFiaW5kZXg9IjAiPiA8ZGl2IGNsYXNzPSJsZWdlbmQtaXRlbSBjaGlsZHJlbiBsYXllci1jb250ZW50cyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzVmlzaWJsZUluTGF5ZXJMaXN0TGVnZW5kfSI+IDxkaXYgY2xhc3M9ImxlZ2VuZC1zd2F0Y2giIGRhdGEtYmluZGluZz0ie2lubmVySFRNTDogc3dhdGNoRWxlbWVudH17dGl0bGU6IGxhYmVsfSI+PC9kaXY+IDxzcGFuIGNsYXNzPSJsZWdlbmQtaXRlbS1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGxhYmVsfXt0aXRsZTogbGFiZWx9Ij48L3NwYW4+IDwvZGl2PiA8L2xpPiA8L3VsPiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerList/Widgets/TransparencySliderView.html","html","PGRpdiBjbGFzcz0id2lkZ2V0Ij4gPGRpdiBjbGFzcz0idHJhbnNwYXJlbmN5LXNsaWRlciIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogdFNsaWRlckVsZW1lbnR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUcmFuc3BhcmVuY3lTbGlkZXJDbGlja30iPjwvZGl2PiA8L2Rpdj4g");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerSelector/LayerSelectorView.html","html","PHVsIGNsYXNzPSJsYXllci1zZWxlY3Rvci1idXR0b25zIj4gPGxpPjxidXR0b24gY2xhc3M9ImJ1dHRvbiBsYXllci1hY3Rpb25zLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHNlbGVjdEFsbEJ1dHRvblRleHR9e3RpdGxlOiBzZWxlY3RBbGxCdXR0b25UaXRsZX17QGV2ZW50LW9uY2xpY2s6IHNlbGVjdEFsbExheWVyc30iPjwvYnV0dG9uPjwvbGk+IDxsaT48YnV0dG9uIGNsYXNzPSJidXR0b24gbGF5ZXItYWN0aW9ucy1idXR0b24iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBjbGVhckFsbEJ1dHRvblRleHR9e3RpdGxlOiBjbGVhckFsbEJ1dHRvblRpdGxlfXtAZXZlbnQtb25jbGljazogY2xlYXJBbGxMYXllcnN9Ij48L2J1dHRvbj48L2xpPiA8L3VsPiA8ZGl2IGNsYXNzPSJsYXllci1saXN0Ij4gPGRpdiBjbGFzcz0iaWRlbnRpZnktbGF5ZXJzIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBpdGVtc317QHRlbXBsYXRlOiBNYXBwaW5nL21vZHVsZXMvTGF5ZXJTZWxlY3Rvci9UZW1wbGF0ZXMvTGF5ZXJTZWxlY3Rvckl0ZW1UZW1wbGF0ZS5odG1sfSI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerSelector/Templates/LayerSelectorItemTemplate.html","html","PHVsIGNsYXNzPSJsYXllcnMiIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGl0ZW1zfSI+IDxsaSBjbGFzcz0ibGF5ZXIiPiA8ZGl2IGNsYXNzPSJsYXllci1pdGVtLWV4cGFuZGVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNGb2xkZXJ9Ij4gPGJ1dHRvbiBjbGFzcz0idHJlZS1leHBhbmRlciIgZGF0YS1iaW5kaW5nPSJ7QGNsYXNzLWV4cGFuZGVkOiBpc0V4cGFuZGVkfXtAbm9jbGFzcy1jb2xsYXBzZWQ6IGlzRXhwYW5kZWR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVFeHBhbmRlckNsaWNrfXt0aXRsZTogZXhwYW5kZXJUb29sdGlwfSI+PC9idXR0b24+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsYXllci1pbmZvIj4gPGRpdiBjbGFzcz0ibGF5ZXItY29udGVudHMiPiA8c3BhbiBjbGFzcz0ibGF5ZXItaXRlbS1jdHJsIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc0ZvbGRlcn0iPiA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogaXNFbmFibGVkfXtjaGVja2VkOiBpc0VuYWJsZWR9e3RpdGxlOiBzdGF0ZVRvZ2dsZVRvb2x0aXB9IiAvPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJsYXllci1pdGVtLWN0cmwgbGF5ZXItbGlzdC1sYXllci1pY29uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX0iPjxpbWcgZGF0YS1iaW5kaW5nPSJ7YWx0OiBpY29uVG9vbHRpcH17c3JjOiBpY29uVXJpfSIgLz48L3NwYW4+IDxzcGFuIGNsYXNzPSJkaXNwbGF5LW5hbWUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfSI+PC9zcGFuPiA8L2Rpdj4gPC9kaXY+IDx1bCBjbGFzcz0ibGF5ZXJzIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNFeHBhbmRlZH17QHNvdXJjZTogaXRlbXN9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL0xheWVyU2VsZWN0b3IvVGVtcGxhdGVzL0xheWVyU2VsZWN0b3JJdGVtVGVtcGxhdGUuaHRtbH0iPjwvdWw+IDwvbGk+IDwvdWw+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerStyles/LayerStyleSelectorView.html","html","PGRpdiBjbGFzcz0ibGF5ZXItc3R5bGVzIHN5bWJvbC1kaWFsb2ciPiAgPGRpdiBjbGFzcz0ic3ltYm9saXphdGlvbi10eXBlLXNlbGVjdG9yIGZvcm0taXRlbSI+IDxsYWJlbCBmb3I9InN5bWJvbGl6YXRpb24tdHlwZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1sYXllcnN0eWxlcy1zeW1ib2xvZ3ktdHlwZX0iPjwvbGFiZWw+IDxzZWxlY3QgaWQ9InN5bWJvbGl6YXRpb24tdHlwZSIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogYXZhaWxhYmxlU3ltYm9sb2d5VHlwZXN9e0B2YWx1ZTogc3ltYm9sb2d5VHlwZX0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGF2YWlsYWJsZVN5bWJvbG9neVR5cGVzfXtAdGV4dDogQGNvbnRleHR9Ij48L29wdGlvbj4gPC9zZWxlY3Q+IDwvZGl2PiAgPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc3ltYm9saXplQnlBdHRyaWJ1dGV9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBBdHRyaWJ1dGVTeW1ib2xvZ3lTZXR0aW5nc317QHdpZGdldC1yZXBsYWNlOiB0cnVlfSI+PC9kaXY+IDwvZGl2PiAgPGRpdiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBzeW1ib2xpemVCeUF0dHJpYnV0ZX0iPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IFN5bWJvbG9neVNldHRpbmdzfXtAd2lkZ2V0LXJlcGxhY2U6IHRydWV9Ij48L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Legend/LegendView.html","html","PGRpdiBjbGFzcz0icmVzdWx0cy1saXN0LWFjdGlvbnMtd2lkZ2V0IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdmlld0luaXRpYWxpemVkfXtAd2lkZ2V0OiBMZWdlbmRBY3Rpb25zV2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX0iDQogICAgIGRhdGEtbWVudS1pZD0iTGVnZW5kQWN0aW9ucyIgZGF0YS1tZW51LXRlbXBsYXRlPSJNYXBwaW5nL2luZnJhc3RydWN0dXJlL21lbnVzL01lbnVIeXBlcmxpbmtWaWV3Lmh0bWwiPjwvZGl2PiA8ZGl2IGNsYXNzPSJuby1yZXN1bHRzIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBoYXNWaXNpYmxlSXRlbXN9Ij4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1sZWdlbmQtbm8taXRlbXN9Ij48L3A+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsYXllci1saXN0IGxlZ2VuZCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGhhc1Zpc2libGVJdGVtc317QHNvdXJjZTogb25EZW1hbmRSb290Tm9kZX0iPiA8ZGl2IGNsYXNzPSJsZWdlbmQtbGlzdCIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogb25EZW1hbmRSb290Tm9kZX0iPiA8dWwgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogY2hpbGRyZW59e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL0xlZ2VuZC9UZW1wbGF0ZXMvTGVnZW5kSXRlbU5vZGUuaHRtbH0iPjwvdWw+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Legend/Templates/LegendItem.html","html","PGRpdiBjbGFzcz0ibGVnZW5kLWl0ZW0gbGVhZiBjbGVhciI+IDxkaXYgY2xhc3M9ImxlZ2VuZC1zd2F0Y2giIGRhdGEtYmluZGluZz0ie2lubmVySFRNTDogc3dhdGNoRWxlbWVudH17dGl0bGU6IGxhYmVsfSI+PC9kaXY+IDxzcGFuIGNsYXNzPSJsZWdlbmQtaXRlbS1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGxhYmVsfXt0aXRsZTogbGFiZWx9Ij48L3NwYW4+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Legend/Templates/LegendItemGroup.html","html","PGRpdiBjbGFzcz0ibGVnZW5kLWl0ZW0gZ3JvdXAgY2xlYXIiPiA8ZGl2IGNsYXNzPSJsZWdlbmQtaXRlbS1wYXJlbnQiPiA8YnV0dG9uIGRhdGEtYmluZGluZz0ie2NsYXNzOiBleHBhbmRlckNsYXNzfXtAdmlzaWJsZTogY2hpbGRyZW59e0BldmVudC1vbmNsaWNrOiBoYW5kbGVTbGlkZVRvZ2dsZUNsaWNrfXt0aXRsZTogbGFiZWx9Ij4gPHNwYW4gY2xhc3M9ImxlZ2VuZC1pdGVtLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogbGFiZWx9e3RpdGxlOiBsYWJlbH0iPjwvc3Bhbj48L2J1dHRvbj4gPC9kaXY+IDx1bCBjbGFzcz0ibGVnZW5kLWl0ZW0gY2hpbGRyZW4iIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGNoaWxkcmVufXtAdmlzaWJsZTogZXhwYW5kZWR9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL0xlZ2VuZC9UZW1wbGF0ZXMvTGVnZW5kSXRlbU5vZGUuaHRtbH0iPiA8L3VsPiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Legend/Templates/LegendItemNode.html","html","PGxpIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IEBjb250ZXh0fXtAdmlzaWJsZTogaXNWaXNpYmxlfXtAdGVtcGxhdGUtc2VsZWN0b3I6IHRlbXBsYXRlVHlwZX0iPiA8ZGl2IGNsYXNzPSJ0ZW1wbC1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBzaW5nbGUtaXRlbX17QHRlbXBsYXRlOiBNYXBwaW5nL21vZHVsZXMvTGVnZW5kL1RlbXBsYXRlcy9MZWdlbmRJdGVtLmh0bWx9Ij48L2Rpdj4gPGRpdiBjbGFzcz0idGVtcGwtZ3JvdXAiIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IGdyb3VwfXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9MZWdlbmQvVGVtcGxhdGVzL0xlZ2VuZEl0ZW1Hcm91cC5odG1sfSI+PC9kaXY+IDwvbGk+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Log/LogStatusView.html","html","PGRpdiBjbGFzcz0ibG9nLXN0YXR1cyI+IDxkaXYgY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGxvZ0VudHJpZXN9Ij4gPGEgY2xhc3M9ImxvZy12aWV3LWJ1dHRvbiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2t9Ij48L2E+IDwvZGl2PiA8L2Rpdj4g");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Log/LogView.html","html","PGRpdiBjbGFzcz0ibG9ndmlldyI+IDxkaXYgY2xhc3M9ImxvZ3ZpZXctaGVhZGVyIj4gPGgyIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbG9nLXRpdGxlfSI+PC9oMj4gPGRpdiBjbGFzcz0ibG9ndmlldy1oZWFkZXItYnV0dG9ucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrQ2xlYXJ9e0B2aXNpYmxlOiBsb2dFbnRyaWVzfXtAdGV4dDogQGxhbmd1YWdlLWxvZy1jbGVhcn0iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0hpZGV9e0B0ZXh0OiBAbGFuZ3VhZ2UtbG9nLWhpZGV9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsb2d2aWV3LWlubmVyIj4gIDxkaXYgY2xhc3M9Im5vLXJlc3VsdHMiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGxvZ0VudHJpZXN9e0B0ZXh0OiBAbGFuZ3VhZ2UtbG9nLW5vLWVudHJpZXN9Ij48L2Rpdj4gIDx0YWJsZSBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogbG9nRW50cmllc30iPiA8dGhlYWQ+IDx0ciB0YWJpbmRleD0iMCI+IDx0aCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxvZy1sZXZlbH0iPjwvdGg+IDx0aCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxvZy10aW1lc3RhbXB9Ij48L3RoPiA8dGggZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1sb2ctbWVzc2FnZX0iPjwvdGg+IDwvdHI+IDwvdGhlYWQ+IDx0Ym9keSBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBsb2dFbnRyaWVzfSI+IDx0ciB0YWJpbmRleD0iMCIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogbG9nRW50cmllc30iPiA8dGQgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGxldmVsfXtjbGFzc05hbWU6IGNzc0NsYXNzfSI+PC90ZD4gPHRkIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB0aW1lc3RhbXB9e2NsYXNzTmFtZTogY3NzQ2xhc3N9Ij48L3RkPiA8dGQgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG1lc3NhZ2V9e2NsYXNzTmFtZTogY3NzQ2xhc3N9Ij48L3RkPiA8L3RyPiA8L3Rib2R5PiA8L3RhYmxlPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Map/MapHostView.html","html","PGRpdiBjbGFzcz0icmVnaW9uIG1hcC1yZWdpb24iIGRhdGEtcmVnaW9uLW5hbWU9Ik1hcFJlZ2lvbiI+PC9kaXY+IA==");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Map/MapView.html","html","DQo8ZGl2IGNsYXNzPSJtYXAtZXJyb3IiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHNob3dNYXB9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd0Vycm9yfSI+IDxoMiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW1hcC1zaXRlLWluaXRpYWxpemF0aW9uLWZhaWxlZH0iPjwvaDI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWRlYnVnLWxvZy1rZXlzfSI+PC9wPiA8L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd0F1dGhFcnJvcn0iPiA8aDIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tYXAtc2l0ZS1hdXRob3JpemF0aW9uLWZhaWxlZH0iPjwvaDI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbWFwLXNpdGUtYXV0aG9yaXphdGlvbi1mYWlsZWQtbWVzc2FnZX0iPjwvcD4gPC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dDcml0aWNhbFNlcnZpY2VzRXJyb3J9Ij4gPGgyIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbWFwLXNpdGUtY3JpdGljYWwtc2VydmljZXMtZmFpbGVkfSI+PC9oMj4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tYXAtc2l0ZS1jcml0aWNhbC1zZXJ2aWNlcy1mYWlsZWQtbWVzc2FnZX0iPjwvcD4gPC9kaXY+IDwvZGl2PiA8ZGl2IGlkPSJtYXAtY29udGFpbmVyIiBzdHlsZT0iaGVpZ2h0OiAxMDAlOyB3aWR0aDogMTAwJSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dNYXB9Ij4gIDxkaXYgaWQ9Im1hcCIgY2xhc3M9Im1hcCBuZWVkc2NsaWNrIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBtYXBEaXZ9Ij48L2Rpdj4gIDxkaXYgY2xhc3M9InJlZ2lvbiBtYXAtY2VudGVyLXJlZ2lvbiIgZGF0YS1yZWdpb24tbmFtZT0iQ2VudGVyUmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLkRpdlN0YWNrUmVnaW9uQWRhcHRlciIgZGF0YS1yZWdpb24tb3B0aW9ucz0iYWN0aXZhdGVWaWV3c0luTGFzdFBvc2l0aW9uPWZhbHNlIj48L2Rpdj4gPGRpdiBjbGFzcz0icmVnaW9uIG1hcC10b3AtbGVmdCIgZGF0YS1yZWdpb24tbmFtZT0iVG9wTGVmdE1hcFJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5EaXZTdGFja1JlZ2lvbkFkYXB0ZXIiIGRhdGEtcmVnaW9uLW9wdGlvbnM9ImFjdGl2YXRlVmlld3NJbkxhc3RQb3NpdGlvbj1mYWxzZSI+PC9kaXY+IDxkaXYgY2xhc3M9InJlZ2lvbiBtYXAtbmF2aWdhdGlvbi1yZWdpb24iIGRhdGEtcmVnaW9uLW5hbWU9Ik5hdmlnYXRpb25NYXBSZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuRGl2U3RhY2tSZWdpb25BZGFwdGVyIiBkYXRhLXJlZ2lvbi1vcHRpb25zPSJhY3RpdmF0ZVZpZXdzSW5MYXN0UG9zaXRpb249ZmFsc2UiPjwvZGl2PiA8ZGl2IGNsYXNzPSJyZWdpb24gbWFwLXRvcC1jZW50ZXIiIGRhdGEtcmVnaW9uLW5hbWU9IlRvcENlbnRlck1hcFJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5EaXZTdGFja1JlZ2lvbkFkYXB0ZXIiIGRhdGEtcmVnaW9uLW9wdGlvbnM9ImFjdGl2YXRlVmlld3NJbkxhc3RQb3NpdGlvbj1mYWxzZSI+PC9kaXY+IDxkaXYgY2xhc3M9InJlZ2lvbiBtYXAtdG9wLXJpZ2h0IiBkYXRhLXJlZ2lvbi1uYW1lPSJUb3BSaWdodE1hcFJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5EaXZTdGFja1JlZ2lvbkFkYXB0ZXIiIGRhdGEtcmVnaW9uLW9wdGlvbnM9ImFjdGl2YXRlVmlld3NJbkxhc3RQb3NpdGlvbj1mYWxzZSI+PC9kaXY+IDxkaXYgY2xhc3M9InJlZ2lvbiBtYXAtYmFzZW1hcC1yZWdpb24iIGRhdGEtcmVnaW9uLW5hbWU9IkJhc2VtYXBNYXBSZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuRGl2U3RhY2tSZWdpb25BZGFwdGVyIiBkYXRhLXJlZ2lvbi1vcHRpb25zPSJhY3RpdmF0ZVZpZXdzSW5MYXN0UG9zaXRpb249ZmFsc2UiPjwvZGl2PiA8ZGl2IGNsYXNzPSJyZWdpb24gbWFwLW1pZGRsZS1yaWdodCIgZGF0YS1yZWdpb24tbmFtZT0iTWlkZGxlUmlnaHRNYXBSZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuRGl2U3RhY2tSZWdpb25BZGFwdGVyIiBkYXRhLXJlZ2lvbi1vcHRpb25zPSJhY3RpdmF0ZVZpZXdzSW5MYXN0UG9zaXRpb249ZmFsc2UiPjwvZGl2PiA8ZGl2IGNsYXNzPSJyZWdpb24gbWFwLWJvdHRvbS1yaWdodCIgZGF0YS1yZWdpb24tbmFtZT0iQm90dG9tUmlnaHRNYXBSZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuRGl2U3RhY2tSZWdpb25BZGFwdGVyIiBkYXRhLXJlZ2lvbi1vcHRpb25zPSJhY3RpdmF0ZVZpZXdzSW5MYXN0UG9zaXRpb249ZmFsc2UiPjwvZGl2PiA8ZGl2IGNsYXNzPSJyZWdpb24gbWFwLWJvdHRvbS1jZW50ZXIiIGRhdGEtcmVnaW9uLW5hbWU9IkJvdHRvbUNlbnRlck1hcFJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5EaXZTdGFja1JlZ2lvbkFkYXB0ZXIiIGRhdGEtcmVnaW9uLW9wdGlvbnM9ImFjdGl2YXRlVmlld3NJbkxhc3RQb3NpdGlvbj1mYWxzZSI+PC9kaXY+IDxkaXYgY2xhc3M9InJlZ2lvbiBtYXAtYm90dG9tLWxlZnQiIGRhdGEtcmVnaW9uLW5hbWU9IkJvdHRvbUxlZnRNYXBSZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuRGl2U3RhY2tSZWdpb25BZGFwdGVyIiBkYXRhLXJlZ2lvbi1vcHRpb25zPSJhY3RpdmF0ZVZpZXdzSW5MYXN0UG9zaXRpb249ZmFsc2UiPjwvZGl2PiA8ZGl2IGNsYXNzPSJyZWdpb24gbWFwLW1pZGRsZS1sZWZ0IiBkYXRhLXJlZ2lvbi1uYW1lPSJNaWRkbGVMZWZ0TWFwUmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLkRpdlN0YWNrUmVnaW9uQWRhcHRlciIgZGF0YS1yZWdpb24tb3B0aW9ucz0iYWN0aXZhdGVWaWV3c0luTGFzdFBvc2l0aW9uPWZhbHNlIj48L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Map/MapContextMenu/MapContextMenuView.html","html","PGRpdiBjbGFzcz0icmVnaW9uIG1hcC1jb250ZXh0LW1lbnUtcmVnaW9uIiBkYXRhLXJlZ2lvbi1uYW1lPSJNYXBDb250ZXh0TWVudUNvbnRlbnRSZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuRGl2U3RhY2tSZWdpb25BZGFwdGVyIj48L2Rpdj4g");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Map/MapContextMenu/Views/Coordinates/CoordinatesView.html","html","PGRpdiBjbGFzcz0ibWFwLW1lbnUtY29vcmRpbmF0ZXMiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93Q29vcmRpbmF0ZXN9Ij4gPGRpdiB0YWJpbmRleD0iMCI+PGIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHhUeXBlfSI+PC9iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogeFZhbHVlfSI+PC9zcGFuPjwvZGl2PiA8ZGl2IHRhYmluZGV4PSIwIj48YiBkYXRhLWJpbmRpbmc9IntAdGV4dDogeVR5cGV9Ij48L2I+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB5VmFsdWV9Ij48L3NwYW4+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Map/MapContextMenu/Views/Menu/MapMenuView.html","html","PGRpdiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBNYXBDb250ZXh0TWVudVdpZGdldH17QHdpZGdldC1yZXF1aXJlZDogdHJ1ZX17QHdpZGdldC1jb250ZXh0OiBtYXBQb2ludH17QHZpc2libGU6IHNob3dNZW51fSIgZGF0YS1tZW51LWlkPSJNYXBDb250ZXh0TWVudSIgZGF0YS1tZW51LWhvaXN0LWRpc2FibGVkIGRhdGEtbWVudS10eXBlPSJnZW9jb3J0ZXguZXNzZW50aWFsc0h0bWxWaWV3ZXIubWFwcGluZy5tb2R1bGVzLm1hcC5NYXBNZW51VmlldyI+PC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Map/MapContextMenu/Views/ReverseGeocode/ReverseGeocodeView.html","html","PGRpdiBjbGFzcz0ibWFwLW1lbnUtcmV2ZXJzZS1nZW9jb2RlIiB0YWJpbmRleD0iMCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dSZXZlcnNlR2VvY29kZXJ9Ij4gPGIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGxhYmVsfSI+PC9iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogYWRkcmVzc30iPjwvc3Bhbj4gIDxwIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc1NlYXJjaGluZ30iPjwvcD4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/MapTips/MapCalloutView.html","html","DQo8ZGl2IGNsYXNzPSJtYXAtY2FsbG91dCI+IDxkaXYgY2xhc3M9Im1hcC1jYWxsb3V0LWhlYWRlciI+IDxidXR0b24gY2xhc3M9InBhbmVsLWhlYWRlci1idXR0b24gcmlnaHQgY2xvc2UtMTYiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbG9zZX17dGl0bGU6IEBsYW5ndWFnZS1jb21tb24tY2xvc2V9Ij48L2J1dHRvbj4gPGRpdiBjbGFzcz0ibWFwLWNhbGxvdXQtdGl0bGUiIGRhdGEtYmluZGluZz0ie0Bkb206IHRpdGxlQ29udGVudH0iPjwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0ibWFwLWNhbGxvdXQtY29udGVudHMiPiA8ZGl2IGRhdGEtYmluZGluZz0ie0Bkb206IGlubmVyQ29udGVudH0iPjwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9Im1hcC1jYWxsb3V0LXBvaW50ZXIgdW5zZWxlY3RhYmxlIj4gPGRpdiBjbGFzcz0ibWFwLWNhbGxvdXQtcG9pbnRlci1pbWFnZSI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/MapTips/MapTipContent.html","html","PGRpdiBjbGFzcz0ibWFwLXRpcC1jb250ZW50cyI+IDxkaXYgY2xhc3M9IndpZGdldCIgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogR2V0RGVzY3JpcHRpb259e0B3aWRnZXQtY29udGV4dDogY3VycmVudEZlYXR1cmV9e0B3aWRnZXQtcmVxdWlyZWQ6IGZhbHNlfXtAaGlkZGVuOiBzaG93Tm9SZXN1bHRzfSI+PC9kaXY+IDxkaXYgY2xhc3M9Im5vbmUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBzZWFyY2hTdWdnZXN0aW9ufXtAdmlzaWJsZTogc2hvd05vUmVzdWx0c30iPjwvZGl2PiA8ZGl2IGNsYXNzPSJidXN5IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1sb2FkaW5nfXtAdmlzaWJsZTogc2hvd0xvYWRpbmd9Ij48L2Rpdj4gPGRpdiBjbGFzcz0id2lkZ2V0IiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBNYXBUaXBBY3Rpb25zV2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IGN1cnJlbnRGZWF0dXJlfXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX17QGhpZGRlbjogc2hvd05vUmVzdWx0c30iIGRhdGEtbWVudS1pZD0iTWFwVGlwQWN0aW9ucyIgZGF0YS1tZW51LXRlbXBsYXRlPSJNYXBwaW5nL2luZnJhc3RydWN0dXJlL21lbnVzL01lbnVIeXBlcmxpbmtWaWV3Lmh0bWwiPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/MapTips/MapTipHeaderView.html","html","PGRpdiBjbGFzcz0ibWFwLXRpcC1oZWFkZXIiIHRhYi1pbmRleD0iMCI+IDxkaXYgY2xhc3M9Im1hcC10aXAtbmF2IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaGFzTXVsdGlwbGVGZWF0dXJlc30iPiA8ZGl2IGNsYXNzPSJtYXAtdGlwLW5hdi1pbm5lciI+IDxkaXYgY2xhc3M9ImZlYXR1cmUtc2VsZWN0LXdyYXBwZXIiPiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGZlYXR1cmVzfXtAdmFsdWU6IGN1cnJlbnRGZWF0dXJlfXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZVNlbGVjdH17dGl0bGU6IEBsYW5ndWFnZS1tYXAtdGlwLXNlbGVjdH0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGZlYXR1cmVzfXtpbm5lckhUTUw6IHBsYWluTGFiZWx9e0BhdHRhY2g6IEBjb250ZXh0fSIgLz4gPC9zZWxlY3Q+IDwvZGl2PiA8ZGl2IGNsYXNzPSJwYWdpbmctY29udHJvbCIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogcHJlc2VudGFibGVGZWF0dXJlc30iPiA8ZGl2IGNsYXNzPSIgcGFnaW5nLWJ1dHRvbnMiIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHByZXNlbnRhYmxlRmVhdHVyZXN9Ij4gPGJ1dHRvbiBjbGFzcz0icHJldiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZU1vdmVQcmV2fXt0aXRsZTogQGxhbmd1YWdlLW1hcC10aXAtZmVhdHVyZS1wcmV2fSI+PGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvcGFnaW5nLWNvbnRyb2wtcHJldmlvdXMtNDQucG5nIiBhbHQ9IiAiLz48L2J1dHRvbj4gPHNwYW4gY2xhc3M9InBhZ2luZy1idXR0b25zLWluZm8iIHRhYmluZGV4PSIwIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGN1cnJJbmRleFN0YXJ0RnJvbU9uZX0iPjwvc3Bhbj4mbmJzcDs8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW1hcC10aXAtZmVhdHVyZXMtb2Z9Ij48L3NwYW4+Jm5ic3A7PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG51bWJlck9mSXRlbXN9Ij48L3NwYW4+IDwvc3Bhbj4gPGJ1dHRvbiBjbGFzcz0ibmV4dCIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZU1vdmVOZXh0fXt0aXRsZTogQGxhbmd1YWdlLW1hcC10aXAtZmVhdHVyZS1uZXh0fSI+PGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvcGFnaW5nLWNvbnRyb2wtbmV4dC00NC5wbmciIGFsdD0iICIgLz48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9Im1hcC10aXAtdGl0bGUiIGRhdGEtYmluZGluZz0ie0B2YXI6IHRpdGxlRWxlbWVudH0iIHRhYmluZGV4PSIwIj48L2Rpdj4gPGRpdiBjbGFzcz0ibWFwLXRpcC1udWxsLWdlb21ldHJ5Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tYXAtdGlwLW51bGwtZ2VvbWV0cnl9e0B2aXNpYmxlOiBoYXNOdWxsR2VvbWV0cnl9IiB0YWJpbmRleD0iMCI+PC9zcGFuPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/MapTips/MapTipView.html","html","PGRpdiBjbGFzcz0ibWFwLXRpcC12aWV3Ij4gPGRpdiBjbGFzcz0ibWFwLXRpcC12aWV3LWhlYWRlciI+IDxkaXYgZGF0YS1yZWdpb24tbmFtZT0iTWFwVGlwSGVhZGVyUmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLkRpdlJlZ2lvbkFkYXB0ZXIiIHRhYi1pbmRleD0iMCI+PC9kaXY+IDxidXR0b24gY2xhc3M9InBhbmVsLWhlYWRlci1idXR0b24gcmlnaHQgY2xvc2UtMTYiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbG9zZX17dGl0bGU6QGxhbmd1YWdlLW1hcC10aXAtY2xvc2V9Ij48L2J1dHRvbj4gPC9kaXY+IDxkaXYgY2xhc3M9Im1hcC10aXAtdmlldy1jb250ZW50cyIgZGF0YS1yZWdpb24tbmFtZT0iTWFwVGlwQ29udGVudFJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5EaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPC9kaXY+IA0K");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Markup/StyleSelector/StyleSelectorLine.html","html","PGRpdiBjbGFzcz0ic3R5bGUtc2VsZWN0b3IgbWFya3VwIHBvbHlsaW5lIj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBsaW5lU3R5bGVzfSI+IDxidXR0b24gY2xhc3M9Im1hcmt1cC1zd2F0Y2giIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGxpbmVTdHlsZXN9Ij48L2J1dHRvbj4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrQ2FuY2VsfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1jYW5jZWx9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Markup/StyleSelector/StyleSelectorPoint.html","html","PGRpdiBjbGFzcz0ic3R5bGUtc2VsZWN0b3IgbWFya3VwIHBvaW50Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBwb2ludFN0eWxlc30iPiA8YnV0dG9uIGNsYXNzPSJtYXJrdXAtc3dhdGNoIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBwb2ludFN0eWxlc30iPjwvYnV0dG9uPiA8L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tDYW5jZWx9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWNhbmNlbH0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Markup/StyleSelector/StyleSelectorPolygon.html","html","PGRpdiBjbGFzcz0ic3R5bGUtc2VsZWN0b3IgbWFya3VwIHBvbHlnb24iPiA8ZGl2IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHBvbHlnb25TdHlsZXN9Ij4gPGJ1dHRvbiBjbGFzcz0ibWFya3VwLXN3YXRjaCIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogcG9seWdvblN0eWxlc30iPjwvYnV0dG9uPiA8L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tDYW5jZWx9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWNhbmNlbH0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Markup/StyleSelector/StyleSelectorText.html","html","PGRpdiBjbGFzcz0ic3R5bGUtc2VsZWN0b3IgbWFya3VwIHRleHQiPiA8ZGl2IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHRleHRTdHlsZXN9Ij4gPGJ1dHRvbiBjbGFzcz0ibWFya3VwLXN3YXRjaCIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogdGV4dFN0eWxlc30iPjwvYnV0dG9uPiA8L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tDYW5jZWx9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWNhbmNlbH0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Markup/ToolPalettes/DeletePaletteSmall.html","html","PGRpdiBjbGFzcz0idG9vbGJhci10b29sLW1vZGUiPiA8YnV0dG9uIGNsYXNzPSJ0YnRtLWRvbmUiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0RvbmV9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tZW51LWRvbmV9Ij48L3NwYW4+IDwvYnV0dG9uPiA8ZGl2IGNsYXNzPSJ0YnRtLWxpc3QiPiA8dWwgY2xhc3M9InR3byI+IDxsaT4gPGJ1dHRvbiBjbGFzcz0idGJ0bS1idG4iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0VkaXR9Ij4gPHNwYW4gY2xhc3M9Imljb24gaWNvbi1kcmF3LWVkaXQtMjQiPjwvc3Bhbj4gPC9idXR0b24+IDxsYWJlbCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXBhbGV0dGUtc21hbGwtZWRpdH0iPjwvbGFiZWw+IDwvbGk+IDxsaT4gPGJ1dHRvbiBjbGFzcz0idGJ0bS1idG4iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0NsZWFyfXtAZGlzYWJsZWQ6IGNsZWFyRGlzYWJsZWR9Ij4gPHNwYW4gY2xhc3M9Imljb24gaWNvbi1jbGVhci0yNCI+PC9zcGFuPiA8L2J1dHRvbj4gPGxhYmVsIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdG9vbGJhci1jbGVhci1hbGx9Ij48L2xhYmVsPiA8L2xpPiA8L3VsPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Markup/ToolPalettes/EditPaletteLarge.html","html","PHVsIGNsYXNzPSJtYXJrdXAtZWRpdCI+IDxsaT4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIiBkYXRhLWJpbmRpbmc9IntAZGlzYWJsZWQ6IGNoYW5nZVN0eWxlRGlzYWJsZWR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0NoYW5nZVN0eWxlfXt0aXRsZTogQGxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWNoYW5nZS1tYXJrdXAtc3R5bGUtdG9vbHRpcH0iPiA8c3BhbiBjbGFzcz0iaWNvbiBpY29uLXN3YXRjaC1waWNrZXItMjQiPjwvc3Bhbj4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1wYWxldHRlLXNtYWxsLWNoYW5nZS1zdHlsZX0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDwvdWw+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Markup/ToolPalettes/EditPaletteSmall.html","html","PGRpdiBjbGFzcz0idG9vbGJhci10b29sLW1vZGUiPiA8YnV0dG9uIGNsYXNzPSJ0YnRtLWRvbmUiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0RvbmV9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tZW51LWRvbmV9Ij48L3NwYW4+IDwvYnV0dG9uPiA8ZGl2IGNsYXNzPSJ0YnRtLWxpc3QiPiA8dWwgY2xhc3M9InRocmVlIj4gPGxpPiA8YnV0dG9uIGNsYXNzPSJ0YnRtLWJ0biIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrQ2hhbmdlU3R5bGV9e0BkaXNhYmxlZDogY2hhbmdlU3R5bGVEaXNhYmxlZH0iPiA8c3BhbiBjbGFzcz0iaWNvbiBpY29uLXN3YXRjaC1waWNrZXItMjQiPjwvc3Bhbj4gPC9idXR0b24+IDxsYWJlbCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXBhbGV0dGUtc21hbGwtY2hhbmdlLXN0eWxlfSI+PC9sYWJlbD4gPC9saT4gPGxpPiA8YnV0dG9uIGNsYXNzPSJ0YnRtLWJ0biIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrRGVsZXRlfXtAZGlzYWJsZWQ6IGNsZWFyRGlzYWJsZWR9Ij4gPHNwYW4gY2xhc3M9Imljb24gaWNvbi1kcmF3LWVkaXQtMjQiPjwvc3Bhbj4gPC9idXR0b24+IDxsYWJlbCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXBhbGV0dGUtc21hbGwtZGVsZXRlfSI+PC9sYWJlbD4gPC9saT4gPGxpPiA8YnV0dG9uIGNsYXNzPSJ0YnRtLWJ0biIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrQ2xlYXJ9e0BkaXNhYmxlZDogY2xlYXJEaXNhYmxlZH0iPiA8c3BhbiBjbGFzcz0iaWNvbiBpY29uLWNsZWFyLTI0Ij48L3NwYW4+IDwvYnV0dG9uPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS10b29sYmFyLWNsZWFyLWFsbH0iPjwvbGFiZWw+IDwvbGk+IDwvdWw+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Markup/ToolPalettes/MarkupPaletteSmall.html","html","PGRpdiBjbGFzcz0idG9vbGJhci10b29sLW1vZGUiPiA8ZGl2IGNsYXNzPSJ0YnRtLWRvbmUiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0RvbmV9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tZW51LWRvbmV9Ij48L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPSJ0YnRtLWxpc3QiPiA8dWwgY2xhc3M9InRyYW5zaWVudC1lbGVtZW50IG1hcmt1cCBmb3VyIj4gPGxpPiA8YnV0dG9uIGNsYXNzPSJ0YnRtLWJ0biIgZGF0YS1iaW5kaW5nPSJ7QGRpc2FibGVkOiBjaGFuZ2VTdHlsZURpc2FibGVkfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tDaGFuZ2VTdHlsZX0iPiA8c3BhbiBjbGFzcz0iaWNvbiBpY29uLXN3YXRjaC1waWNrZXItMjQiPjwvc3Bhbj4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1wYWxldHRlLXNtYWxsLWNoYW5nZS1zdHlsZX0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDxsaT4gPGJ1dHRvbiBjbGFzcz0idGJ0bS1idG4iIGRhdGEtYmluZGluZz0ie0BjbGFzcy1oaWdobGlnaHQ6IGVkaXRUb2dnbGVkfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tFZGl0fSI+IDxzcGFuIGNsYXNzPSJpY29uIGljb24tZHJhdy1lZGl0LTI0Ij48L3NwYW4+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtcGFsZXR0ZS1zbWFsbC1lZGl0fSI+PC9wPiA8L2J1dHRvbj4gPC9saT4gPGxpPiA8YnV0dG9uIGNsYXNzPSJ0YnRtLWJ0biIgZGF0YS1iaW5kaW5nPSJ7QGRpc2FibGVkOiBjbGVhckRpc2FibGVkfXtAY2xhc3MtaGlnaGxpZ2h0OiBkZWxldGVUb2dnbGVkfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tEZWxldGV9Ij4gPHNwYW4gY2xhc3M9Imljb24gaWNvbi1lcmFzZS0yNCI+PC9zcGFuPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXRvb2xiYXItZXJhc2V9Ij48L3A+IDwvYnV0dG9uPiA8L2xpPiA8bGk+IDxidXR0b24gY2xhc3M9InRidG0tYnRuIiBkYXRhLWJpbmRpbmc9IntAZGlzYWJsZWQ6IGNsZWFyRGlzYWJsZWR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0NsZWFyfSI+IDxzcGFuIGNsYXNzPSJpY29uIGljb24tY2xlYXItMjQiPjwvc3Bhbj4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS10b29sYmFyLWNsZWFyLWFsbH0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDwvdWw+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Measurement/MeasurementUnitSwitcherView.html","html","PGRpdiBjbGFzcz0ibWVhc3VyZW1lbnQtdW5pdC1zd2l0Y2hlciI+IDx1bCBjbGFzcz0ibGlzdC1tZW51IGhhcy1pY29uIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBsZW5ndGhVbml0c317QHZhbHVlOiBzZWxlY3RlZExlbmd0aFVuaXRzfXtAdmlzaWJsZTogbGVuZ3RoU3dpdGNoZXJTZWxlY3RlZH0iPiA8bGkgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBsZW5ndGhVbml0c317QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVNldExlbmd0aFVuaXRzfSI+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGV0YWlscyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBjb250ZXh0fSI+PC9zcGFuPiA8L2xpPiA8L3VsPiA8dWwgY2xhc3M9Imxpc3QtbWVudSBoYXMtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogYXJlYVVuaXRzfXtAdmFsdWU6IHNlbGVjdGVkQXJlYVVuaXRzfXtAaGlkZGVuOiBsZW5ndGhTd2l0Y2hlclNlbGVjdGVkfSI+IDxsaSBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGFyZWFVbml0c317QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVNldEFyZWFVbml0c30iPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAY29udGV4dH0iPjwvc3Bhbj4gPC9saT4gPC91bD4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Measurement/MeasurementView.html","html","PHVsIGNsYXNzPSJ0cmFuc2llbnQtbWVhc3VyZW1lbnQiPiA8bGkgY2xhc3M9InRvb2xiYXItaXRlbSBzZWxlY3QtZG91YmxlIj4gPHNlbGVjdCBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBsZW5ndGhVbml0c317QHZhbHVlOiBzZWxlY3RlZExlbmd0aFVuaXRzfXtkaXNhYmxlZDogbWVhc3VyZW1lbnRJblByb2dyZXNzfXt0aXRsZTogQGxhbmd1YWdlLW1lYXN1cmVtZW50LWxlbmd0aC1zZWxlY3R9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBsZW5ndGhVbml0c317dmFsdWU6IEBjb250ZXh0fXtAdGV4dDogQGNvbnRleHR9IiAvPiA8L3NlbGVjdD4gPHNlbGVjdCBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBhcmVhVW5pdHN9e0B2YWx1ZTogc2VsZWN0ZWRBcmVhVW5pdHN9e2Rpc2FibGVkOiBtZWFzdXJlbWVudEluUHJvZ3Jlc3N9e3RpdGxlOiBAbGFuZ3VhZ2UtbWVhc3VyZW1lbnQtYXJlYS1zZWxlY3R9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBhcmVhVW5pdHN9e3ZhbHVlOiBAY29udGV4dH17QHRleHQ6IEBjb250ZXh0fSIgLz4gPC9zZWxlY3Q+IDwvbGk+IDwvdWw+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Measurement/Widgets/MeasurementTransientView.html","html","PGRpdiBjbGFzcz0idG9vbGJhci10b29sLW1vZGUiPiA8ZGl2IGNsYXNzPSJ0YnRtLWRvbmUiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0Nsb3NlfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbWVudS1kb25lfSI+PC9zcGFuPiA8L2Rpdj4gPGRpdiBjbGFzcz0idGJ0bS1saXN0Ij4gPHVsIGNsYXNzPSJmaXZlIj4gPGxpIGNsYXNzPSJ0YnRtLWNoZWNrYm94Ij4gPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0idGJ0bS1hZGQtZHJhd2luZyIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBhZGRNYXJrdXBUb01hcH17ZGlzYWJsZWQ6IG1lYXN1cmVtZW50SW5Qcm9ncmVzc30iIC8+IDxwIGZvcj0idGJ0bS1hZGQtZHJhd2luZyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tZWFzdXJlbWVudC1hZGQtYXMtZHJhd2luZ30iPjwvcD4gPC9saT4gPGxpPiA8YnV0dG9uIGNsYXNzPSJ0YnRtLXNlbGVjdCIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVNob3dMZW5ndGhTd2l0Y2hlcn0iPiA8aDEgY2xhc3M9InRidG0tdW5pdHMiPjxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBzZWxlY3RlZExlbmd0aFVuaXRTaG9ydH0iPjwvc3Bhbj48c3BhbiBjbGFzcz0iaWNvbiBpY29uLXNlbGVjdCI+PC9zcGFuPjwvaDE+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbGVuZ3RoLWxhYmVsfSI+PC9wPiA8L2J1dHRvbj4gPC9saT4gPGxpPiA8YnV0dG9uIGNsYXNzPSJ0YnRtLXNlbGVjdCIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVNob3dBcmVhU3dpdGNoZXJ9Ij4gPGgxIGNsYXNzPSJ0YnRtLXVuaXRzIj48c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogc2VsZWN0ZWRBcmVhVW5pdFNob3J0fSI+PC9zcGFuPjxzcGFuIGNsYXNzPSJpY29uIGljb24tc2VsZWN0Ij48L3NwYW4+PC9oMT4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tZWFzdXJlbWVudC1hcmVhLWxhYmVsfSI+PC9wPiA8L2J1dHRvbj4gPC9saT4gPGxpPiA8YnV0dG9uIGNsYXNzPSJ0YnRtLWJ0biIgZGF0YS1iaW5kaW5nPSJ7QGRpc2FibGVkOiBkZXNjcmlwdG9yQ29udGFpbmVyRW1wdHl9e0BjbGFzcy1oaWdobGlnaHQ6IGVyYXNlQWN0aXZlfXtAZXZlbnQtb25jbGljazogaGFuZGxlRXJhc2VNZWFzdXJlbWVudH0iPiA8c3BhbiBjbGFzcz0iaWNvbiBpY29uLWVyYXNlLTI0Ij48L3NwYW4+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdG9vbGJhci1lcmFzZX0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDxsaT4gPGJ1dHRvbiBjbGFzcz0idGJ0bS1idG4iIGRhdGEtYmluZGluZz0ie0BkaXNhYmxlZDogZGVzY3JpcHRvckNvbnRhaW5lckVtcHR5fXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xlYXJBbGx9Ij4gPHNwYW4gY2xhc3M9Imljb24gaWNvbi1jbGVhci0yNCI+PC9zcGFuPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXRvb2xiYXItY2xlYXItYWxsfSI+PC9wPiA8L2J1dHRvbj4gPC9saT4gPC91bD4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Native/AttachFileView.html","html","PGRpdiBjbGFzcz0iYXR0YWNoLXBob3RvIj4gPGRpdiBjbGFzcz0icGFuZWwtY29udGVudCIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogYnJvd3NlckZpbGVBUElTdXBwb3J0ZWR9Ij4gPHAgY2xhc3M9ImhlYWRpbmciPjxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbmF0aXZlLWltYWdlLXNlbGVjdC1oZWFkaW5nfSI+PC9zcGFuPjwvcD4gPHA+PGJ1dHRvbiBjbGFzcz0iYnRuIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVUYWtlTmF0aXZlUGhvdG9DYW1lcmF9e0B0ZXh0OiBAbGFuZ3VhZ2UtbmF0aXZlLXBob3RvLWZyb20tY2FtZXJhfSI+PC9idXR0b24+PC9wPiA8cD48YnV0dG9uIGNsYXNzPSJidG4iIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVRha2VOYXRpdmVQaG90b0dhbGxlcnl9e0B0ZXh0OiBAbGFuZ3VhZ2UtbmF0aXZlLXBob3RvLWZyb20tZ2FsbGVyeX0iPjwvYnV0dG9uPjwvcD4gPC9kaXY+IDxkaXYgY2xhc3M9InBhbmVsLWNvbnRlbnQiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBicm93c2VyRmlsZUFQSVN1cHBvcnRlZH0iPiA8cCBjbGFzcz0iaGVhZGluZyI+PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1uYXRpdmUtZmlsZS1zZWxlY3QtaGVhZGluZ30iPjwvc3Bhbj48L3A+IDxmb3JtIGRhdGEtYmluZGluZz0ie0B2YXI6IHVwbG9hZEZvcm1FbGVtZW50fSI+IDxpbnB1dCB0eXBlPSJmaWxlIiBjbGFzcz0iaW5wIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZVNlbGVjdGVkRmlsZUlucHV0fSIgLz4gPC9mb3JtPiA8cCBjbGFzcz0ibG9hZGluZyI+PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzVXBsb2FkaW5nfXtAdGV4dDogQGxhbmd1YWdlLW5hdGl2ZS1maWxlLXVwbG9hZGluZ30iPjwvc3Bhbj48L3A+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Native/NativeMessageTesterView.html","html","PGRpdiBzdHlsZT0icGFkZGluZzogMHB4IDEwcHggMTBweCAxMHB4OyI+IDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDEwcHg7Ij4gPGxhYmVsPk5hbWU6IDwvbGFiZWw+PGlucHV0IHR5cGU9InRleHQiIGRhdGEtYmluZGluZz0ie0B2YXI6IG5hbWVJbnB1dH0iIHZhbHVlPSJKZWZmIiAvPiA8L2Rpdj4gPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMTBweDsiPiA8YnV0dG9uIGNsYXNzPSJuYXRpdmUtdGVzdC1idXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBzYXlIZWxsb19DbGlja30iPlNheSBIZWxsbzwvYnV0dG9uPiA8L2Rpdj4gPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMTBweDsiPiA8bGFiZWw+SXRlcmF0aW9uczogPC9sYWJlbD48aW5wdXQgdHlwZT0idGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogaXRlcmF0aW9uc0lucHV0fSIgdmFsdWU9IjEwIiAvPiA8bGFiZWw+RHVyYXRpb24gKG1zKTogPC9sYWJlbD48aW5wdXQgdHlwZT0idGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogaXRlcmF0aW9uRHVyYXRpb25JbnB1dH0iIHZhbHVlPSI1MDAiIC8+IDwvZGl2PiA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiAxMHB4OyI+IDxidXR0b24gY2xhc3M9Im5hdGl2ZS10ZXN0LWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IHdvcmtlckpvYl9DbGlja30iPlN0YXJ0IEl0ZXJhdGlvbnM8L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0ibmF0aXZlLXRlc3QtYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogd29ya2VySm9iQ2FuY2VsX0NsaWNrfSI+Q2FuY2VsPC9idXR0b24+IDwvZGl2PiA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiAxMHB4OyI+IDxsYWJlbD5VUkw6IDwvbGFiZWw+PGlucHV0IHR5cGU9InRleHQiIGRhdGEtYmluZGluZz0ie0B2YXI6IGRvd25sb2FkSW5wdXR9IiB2YWx1ZT0iaHR0cDovL2pzaWVtZW5zLXBjMi5sYXRpdHVkZWdlby5jb20vdHBrcy9JbWFnZXJ5VFBLLnRwayIgLz4gPC9kaXY+IDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDEwcHg7Ij4gPGJ1dHRvbiBjbGFzcz0ibmF0aXZlLXRlc3QtYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogZG93bmxvYWRfQ2xpY2t9Ij5Eb3dubG9hZDwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJuYXRpdmUtdGVzdC1idXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBkb3dubG9hZENhbmNlbF9DbGlja30iPkNhbmNlbDwvYnV0dG9uPiA8L2Rpdj4gPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMTBweDsiPiA8dGV4dGFyZWEgZGF0YS1iaW5kaW5nPSJ7QHZhcjogb3V0cHV0fSIgcm93cz0iOCIgc3R5bGU9ImhlaWdodDogNDAwcHg7Ij48L3RleHRhcmVhPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/ListOfflineMapsView.html","html","PGRpdiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBMaXN0T2ZmbGluZU1hcHNBY3Rpb25zV2lkZ2V0fXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX0iIGRhdGEtbWVudS1pZD0iTGlzdE9mZmxpbmVNYXBzQWN0aW9ucyIgZGF0YS1tZW51LXRlbXBsYXRlPSJNYXBwaW5nL2luZnJhc3RydWN0dXJlL21lbnVzL01lbnVWaWV3Lmh0bWwiPjwvZGl2PiA8ZGl2IGNsYXNzPSJvZmZsaW5lLXByb2ZpbGVzIj4gPGRpdiBjbGFzcz0ib2ZmbGluZS1wcm9maWxlLW1lc3NhZ2UgZXJyb3ItbWVzc2FnZSI+IDxzcGFuIGNsYXNzPSJlcnJvci1tZXNzYWdlLXRleHQiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLW5vdC1uYXRpdmV9e0BoaWRkZW46IHN0YXR1c05hdGl2ZX0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImVycm9yLW1lc3NhZ2UtdGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lLW1hcHMtZW1wdHktb2ZmbGluZX17QHZpc2libGU6IHN0YXR1c09mZmxpbmV9Ij48L3NwYW4+IDxzcGFuIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHN0YXR1c09mZmxpbmV9Ij4gPHNwYW4gY2xhc3M9ImVycm9yLW1lc3NhZ2UtdGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lLW1hcHMtZW1wdHktZmV0Y2hpbmd9e0B2aXNpYmxlOiBzdGF0dXNGZXRjaGluZ30iPjwvc3Bhbj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogc3RhdHVzRmV0Y2hpbmd9Ij4gPHNwYW4gY2xhc3M9ImVycm9yLW1lc3NhZ2UtdGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lLW1hcHMtZW1wdHktdW5zdXBwb3J0ZWR9e0B2aXNpYmxlOiBzdGF0dXNVbnN1cHBvcnRlZH0iPjwvc3Bhbj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogc3RhdHVzVW5zdXBwb3J0ZWR9Ij4gPHNwYW4gY2xhc3M9ImVycm9yLW1lc3NhZ2UtdGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lLW1hcHMtZW1wdHktZW1wdHl9e0B2aXNpYmxlOiBzdGF0dXNFbXB0eX0iPjwvc3Bhbj4gPC9zcGFuPiA8L3NwYW4+IDwvc3Bhbj4gPC9kaXY+IDx1bCBjbGFzcz0ibGlzdC1tZW51IHByb2ZpbGUtbGlzdCI+IDxsaSBjbGFzcz0iaXRlbS1saXN0LWl0ZW0gb25saW5lLW9ubHkiPiA8YnV0dG9uIGNsYXNzPSJsaXN0LWl0ZW0tYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtY2xpY2s6IGhhbmRsZURlYWN0aXZhdGVPZmZsaW5lTWFwQ2xpY2t9e0BlbmFibGVkOiBoYXNBY3RpdmVPZmZsaW5lTWFwfSI+IDxzcGFuIGNsYXNzPSJvZmZsaW5lLXRodW1ibmFpbCI+PGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvbWFwLW9ubGluZS03MHg1MC5wbmciIGNsYXNzPSJsaXN0LWl0ZW0taW1nIiBkYXRhLWJpbmRpbmc9InthbHQ6IEBsYW5ndWFnZS1vZmZsaW5lLW1hcHMtdXNlLW9ubGluZS1kYXRhLWRlc2N9IiAvPjwvc3Bhbj4gPHN0cm9uZyBjbGFzcz0ibGlzdC1tZW51LW5hbWUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLXVzZS1vbmxpbmUtZGF0YX0iPjwvc3Ryb25nPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLXVzZS1vbmxpbmUtZGF0YS1kZXNjfSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0ic3RhdHVzLWljb24iIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGhhc0FjdGl2ZU9mZmxpbmVNYXB9Ij48c3BhbiBjbGFzcz0ic3RhdHVzLWljb24taGVscGVyIj48L3NwYW4+PGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvY2xvdWQtMjQucG5nIiBhbHQ9IkRvd25sb2FkZWQiIC8+PC9zcGFuPiA8L2J1dHRvbj4gPC9saT4gPC91bD4gPHVsIGNsYXNzPSJsaXN0LW1lbnUgcHJvZmlsZS1saXN0IiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBvZmZsaW5lfXtAc291cmNlOiBtZXJnZWRPZmZsaW5lTWFwc30iPiA8bGkgY2xhc3M9Iml0ZW0tbGlzdC1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBtZXJnZWRPZmZsaW5lTWFwc317QGNsYXNzLWFjdGl2ZS1saXN0LWl0ZW06IGlzQWN0aXZlfSI+IDxidXR0b24gY2xhc3M9Imxpc3QtaXRlbS1idXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1jbGljazogaGFuZGxlT2ZmbGluZU1hcENsaWNrfXtAZGlzYWJsZWQ6IGlzQWN0aXZlfSI+IDxzcGFuIGNsYXNzPSJvZmZsaW5lLXRodW1ibmFpbCI+PHNwYW4gY2xhc3M9Im9mZmxpbmUtdGh1bWJuYWlsLWhlbHBlciI+PC9zcGFuPjxpbWcgY2xhc3M9Imxpc3QtaXRlbS1pbWciIGRhdGEtYmluZGluZz0ie3NyYzogdGh1bWJuYWlsfXt0aXRsZTogdGl0bGV9e2FsdDogdGl0bGV9e0BldmVudC1lcnJvcjogaGFuZGxlVGh1bWJuYWlsTG9hZEVycm9yfSIgLz48L3NwYW4+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRpdGxlfSI+PC9zcGFuPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc09ycGhhbmVkfSI+IDxzcGFuIGNsYXNzPSJzdGF0dXMtaWNvbiBhY3RpdmUtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzQWN0aXZlfSI+PHNwYW4gY2xhc3M9InN0YXR1cy1pY29uLWhlbHBlciI+PC9zcGFuPjxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL2RldmljZS1hY3RpdmUtMjQucG5nIiBhbHQ9IkFjdGl2ZSIgLz48L3NwYW4+IDxzcGFuIGNsYXNzPSJzdGF0dXMtaWNvbiBkb3dubG9hZGVkLWljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0Rvd25sb2FkZWR9Ij48c3BhbiBjbGFzcz0ic3RhdHVzLWljb24taGVscGVyIj48L3NwYW4+PGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvZGV2aWNlLXBob25lLTI0LnBuZyIgYWx0PSJEb3dubG9hZGVkIiAvPjwvc3Bhbj4gPHNwYW4gY2xhc3M9InN0YXR1cy1pY29uIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc0Rvd25sb2FkZWR9Ij48c3BhbiBjbGFzcz0ic3RhdHVzLWljb24taGVscGVyIj48L3NwYW4+PGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvY2xvdWQtZG93bmxvYWQtMjQucG5nIiBhbHQ9IkRvd25sb2FkIiAvPjwvc3Bhbj4gPC9zcGFuPiA8c3BhbiBjbGFzcz0ic3RhdHVzLWljb24gb3JwaGFuLWljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc09ycGhhbmVkfSI+PHNwYW4gY2xhc3M9InN0YXR1cy1pY29uLWhlbHBlciI+PC9zcGFuPjxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL2Vycm9yLTI0LnBuZyIgYWx0PSJQcm9maWxlIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgc2VydmVyIiAvPjwvc3Bhbj4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0Rvd25sb2FkZWR9Ij4gPGRpdj48c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmUtbWFwcy1zaXplfSI+PC9zcGFuPjxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkYXRhU2l6ZURpc3BsYXlWYWx1ZX0iPjwvc3Bhbj48L2Rpdj4gPGRpdj48c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmUtbWFwcy1sYXN0LXN5bmMtdGltZX0iPjwvc3Bhbj48c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogbGFzdFN5bmNUaW1lfSI+PC9zcGFuPjwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc09ycGhhbmVkfSI+PHNwYW4gY2xhc3M9Im9ycGhhbi13YXJuaW5nIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmUtbWFwcy1vcnBoYW5lZH0iPjwvc3Bhbj48L2Rpdj4gPC9kaXY+IDwvYnV0dG9uPiA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzQWN0aXZlfSI+IDxidXR0b24gY2xhc3M9Imxpc3QtaXRlbS1idXR0b24gYWN0aW9uLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzRG93bmxvYWRlZH17QGV2ZW50LWNsaWNrOiBoYW5kbGVPZmZsaW5lTWFwRm9yZ2V0Q2xpY2t9Ij48c3BhbiBjbGFzcz0iYWN0aW9uLWJ1dHRvbi1oZWxwZXIiPjwvc3Bhbj48aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9jbGVhci0yNC5wbmciIGFsdD0iUmVtb3ZlIGZyb20gRGV2aWNlIiAvPjwvYnV0dG9uPiA8L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNBY3RpdmV9Ij4gPGJ1dHRvbiBjbGFzcz0ibGlzdC1pdGVtLWJ1dHRvbiBhY3Rpb24tYnV0dG9uIiBkYXRhLWJpbmRpbmc9In17QHZpc2libGU6IGlzRG93bmxvYWRlZH17QGV2ZW50LWNsaWNrOiBoYW5kbGVPZmZsaW5lTWFwU3luY0NsaWNrfSI+PHNwYW4gY2xhc3M9ImFjdGlvbi1idXR0b24taGVscGVyIj48L3NwYW4+PGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvdG9vbGJhci9zeW5jLTI0LnBuZyIgYWx0PSJTeW5jIi8+PC9idXR0b24+IDwvZGl2PiA8c3BhbiBjbGFzcz0iZWRpdHMtYmFkZ2UiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBudW1iZXJPZkVkaXRzfXtAdmlzaWJsZTogbnVtYmVyT2ZFZGl0c30iPjwvc3Bhbj4gPC9saT4gPC91bD4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/ManageOfflineMapsView.html","html","PGRpdiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBNYW5hZ2VPZmZsaW5lTWFwc0FjdGlvbnNXaWRnZXR9e0B3aWRnZXQtcmVxdWlyZWQ6IGZhbHNlfSIgZGF0YS1tZW51LWlkPSJNYW5hZ2VPZmZsaW5lTWFwc0FjdGlvbnMiIGRhdGEtbWVudS10ZW1wbGF0ZT0iTWFwcGluZy9pbmZyYXN0cnVjdHVyZS9tZW51cy9NZW51Vmlldy5odG1sIj48L2Rpdj4gPGRpdiBjbGFzcz0ib2ZmbGluZS1wcm9maWxlcyBwYW5lbC1ncm91cC1jb250ZW50cyI+IDxkaXYgY2xhc3M9Im9mZmxpbmUtaGVhZGVyLWluZm8tdGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHN3aXRjaGVkVG9PbmxpbmVNYXB9e0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLW1hbmFnZS1zaG93aW5nLW9ubGluZS1tYXB9Ij4gPC9kaXY+IDxkaXYgY2xhc3M9Im9mZmxpbmUtcHJvZmlsZS1tZXNzYWdlIGVycm9yLW1lc3NhZ2UiPiA8c3BhbiBjbGFzcz0iZXJyb3ItbWVzc2FnZS10ZXh0IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmUtbWFwcy1lbXB0eS1vZmZsaW5lfXtAdmlzaWJsZTogc3RhdHVzT2ZmbGluZX0iPjwvc3Bhbj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogc3RhdHVzT2ZmbGluZX0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBzdGF0dXNVbnN1cHBvcnRlZH0iPiA8c3BhbiBjbGFzcz0iZXJyb3ItbWVzc2FnZS10ZXh0IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmUtbWFwcy1lbXB0eS1lbXB0eX17QHZpc2libGU6IHN0YXR1c0VtcHR5fSI+PC9zcGFuPiA8L3NwYW4+IDwvc3Bhbj4gPHNwYW4gY2xhc3M9ImVycm9yLW1lc3NhZ2UtdGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lLW1hcHMtY2Fubm90LWNyZWF0ZX17QGhpZGRlbjogY2FuQ3JlYXRlfSI+PC9zcGFuPiA8L2Rpdj4gPHVsIGNsYXNzPSJsaXN0LW1lbnUgcHJvZmlsZS1tYW5hZ2UiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IG9mZmxpbmV9e0Bzb3VyY2U6IGRvY3N0b3JlT2ZmbGluZU1hcHN9Ij4gPGxpIGNsYXNzPSJpdGVtLWxpc3QtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogZG9jc3RvcmVPZmZsaW5lTWFwc317QHZpc2libGU6IGNhbkVkaXR9Ij4gPGJ1dHRvbiBjbGFzcz0ibGlzdC1pdGVtLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LWNsaWNrOiBoYW5kbGVFZGl0T2ZmbGluZU1hcENsaWNrfSI+IDxzcGFuIGNsYXNzPSJvZmZsaW5lLXRodW1ibmFpbCI+PHNwYW4gY2xhc3M9Im9mZmxpbmUtdGh1bWJuYWlsLWhlbHBlciI+PC9zcGFuPjxpbWcgY2xhc3M9Imxpc3QtaXRlbS1pbWciIGRhdGEtYmluZGluZz0ie3NyYzogdGh1bWJuYWlsfXt0aXRsZTogdGl0bGV9e2FsdDogdGl0bGV9e0BldmVudC1lcnJvcjogaGFuZGxlVGh1bWJuYWlsTG9hZEVycm9yfSIgLz48L3NwYW4+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRpdGxlfSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0ic3RhdHVzLWljb24iIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzRG93bmxvYWRlZH0iPjxzcGFuIGNsYXNzPSJzdGF0dXMtaWNvbi1oZWxwZXIiPjwvc3Bhbj48aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2VkaXQtMjQucG5nIiBhbHQ9IkVkaXQiIC8+PC9zcGFuPiA8L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0ibGlzdC1pdGVtLWJ1dHRvbiBidXR0b24tZGVsZXRlIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtY2xpY2s6IGhhbmRsZURlbGV0ZU9mZmxpbmVNYXBDbGlja317QHZpc2libGU6IGNhbkNoYW5nZX0iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy90cmFzaC13aGl0ZS5wbmciIGRhdGEtYmluZGluZz0ie3RpdGxlOiBAbGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLWRlbGV0ZS1mcm9tLXNlcnZlci10aXRsZX17YWx0OiBAbGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLWRlbGV0ZS1mcm9tLXNlcnZlci10aXRsZX0iIC8+IDwvYnV0dG9uPiA8L2xpPiA8L3VsPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLW5ldy1idXR0b259e0BldmVudC1jbGljazogaGFuZGxlTmV3T2ZmbGluZU1hcENsaWNrfXtAZW5hYmxlZDogY2FuQ3JlYXRlfSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tZG9uZX17QGV2ZW50LWNsaWNrOiBoYW5kbGVEb25lQ2xpY2t9e0B2aXNpYmxlOiBzaG93TWFuYWdlRG9uZUJ1dHRvbn0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/Editor/OfflineMapEditorView.html","html","PGRpdiBjbGFzcz0ib2ZmbGluZS1tYXAtZWRpdG9yIj4gPHNwYW4gY2xhc3M9ImVycm9yLW1lc3NhZ2UiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBsb2FkRXJyb3J9e0B2aXNpYmxlOiBsb2FkRXJyb3J9Ij48L3NwYW4+IDxkaXYgY2xhc3M9InBhbmVsLWdyb3VwLWNvbnRlbnRzIj4gPGxhYmVsIGZvcj0icHJvZmlsZV8xIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbmFtZS1sYWJlbH0iPjwvbGFiZWw+IDxpbnB1dCBpZD0icHJvZmlsZV8xIiB0eXBlPSJ0ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IG5hbWV9e0BlbmFibGVkOiBjYW5DaGFuZ2V9Ii8+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogY2FuQ2hhbmdlfSI+IDxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL3N0YXR1cy1hbGVydC0xNi5wbmciIGNsYXNzPSJzdGF0dXMtbXNnLWljb24iIGRhdGEtYmluZGluZz0ie3RpdGxlOiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zdGF0dXMtdGl0bGUtYWxlcnR9e2FsdDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc3RhdHVzLWFsdC1hbGVydH0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbmFtZS1jYW50LWNoYW5nZX0iPjwvc3Bhbj4gPC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogbmFtZX0iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9zdGF0dXMtZXJyb3ItMTYucG5nIiBjbGFzcz0ic3RhdHVzLW1zZy1pY29uIiBkYXRhLWJpbmRpbmc9Int0aXRsZTogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc3RhdHVzLXRpdGxlLWVycm9yfXthbHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy1hbHQtZXJyb3J9Ij4gPHNwYW4gY2xhc3M9ImVycm9yLW1lc3NhZ2UiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1lcnJvci1ub25hbWV9e0BoaWRkZW46IG5hbWV9Ij48L3NwYW4+IDwvZGl2PiA8L2Rpdj4gPHVsIGNsYXNzPSJsaXN0LW1lbnUgYWN0aXZlIGhhcy1pY29uIj4gPGxpPiA8YnV0dG9uIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUdlb21ldHJ5Q2xpY2t9Ij4gPGltZyBjbGFzcz0ibGlzdC1tZW51LWljb24iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2RyYXctcG9seWdvbi0yNC5wbmciIGFsdD0iIiAvPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWdlb21ldHJ5LWJ1dHRvbn0iPjwvc3Ryb25nPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1nZW9tZXRyeS1kZXNjcmlwdGlvbn0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1zdGF0dXMtbXNnIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNHZW9tZXRyeVZhbGlkfSI+IDxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL3N0YXR1cy1vay0xNi5wbmciIGNsYXNzPSJzdGF0dXMtbXNnLWljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBnZW9tZXRyeUNoYW5nZWR9e3RpdGxlOiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zdGF0dXMtdGl0bGUtb2t9e2FsdDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc3RhdHVzLWFsdC1va30iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9zdGF0dXMtZGVmYXVsdC0xNi5wbmciIGNsYXNzPSJzdGF0dXMtbXNnLWljb24iIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGdlb21ldHJ5Q2hhbmdlZH17dGl0bGU6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy10aXRsZS1kZWZhdWx0fXthbHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy10aXRsZS1kZWZhdWx0fSI+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogZ2VvbWV0cnlDaGFuZ2VkfXtAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItZ2VvbWV0cnktdGV4dC1kZWZhdWx0fSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBnZW9tZXRyeUNoYW5nZWR9e0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1nZW9tZXRyeS10ZXh0fSI+PC9zcGFuPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtc3RhdHVzLW1zZyIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNHZW9tZXRyeVZhbGlkfSI+IDxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL3N0YXR1cy1lcnJvci0xNi5wbmciIGNsYXNzPSJzdGF0dXMtbXNnLWljb24iIGRhdGEtYmluZGluZz0ie3RpdGxlOiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zdGF0dXMtdGl0bGUtZXJyb3J9e2FsdDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc3RhdHVzLWFsdC1lcnJvcn0iPiA8c3BhbiBjbGFzcz0iZXJyb3ItbWVzc2FnZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWdlb21ldHJ5LWVycm9yLWVtcHR5fSI+PC9zcGFuPiA8L3NwYW4+IDwvc3Bhbj4gPC9idXR0b24+IDwvbGk+IDxsaT4gPGJ1dHRvbiBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVMYXllcnNDbGlja30iPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvbGF5ZXJzLTI0LnBuZyIgYWx0PSIiIC8+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGV0YWlscyI+IDxzdHJvbmcgY2xhc3M9Imxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWJ1dHRvbn0iPjwvc3Ryb25nPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1sYXllcnMtZGVzY3JpcHRpb259Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtc3RhdHVzLW1zZyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzTGF5ZXJzVmFsaWR9Ij4gPGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvc3RhdHVzLW9rLTE2LnBuZyIgY2xhc3M9InN0YXR1cy1tc2ctaWNvbiIgZGF0YS1iaW5kaW5nPSJ7dGl0bGU6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy10aXRsZS1va317YWx0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zdGF0dXMtYWx0LW9rfSI+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGxheWVyc1RleHR9e0B2aXNpYmxlOiBpc0xheWVyc1ZhbGlkfSI+PC9zcGFuPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtc3RhdHVzLW1zZyIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNMYXllcnNWYWxpZH0iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9zdGF0dXMtZXJyb3ItMTYucG5nIiBjbGFzcz0ic3RhdHVzLW1zZy1pY29uIiBkYXRhLWJpbmRpbmc9Int0aXRsZTogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc3RhdHVzLXRpdGxlLWVycm9yfXthbHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy1hbHQtZXJyb3J9Ij4gPHNwYW4gY2xhc3M9ImVycm9yLW1lc3NhZ2UiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1sYXllcnMtZXJyb3ItZW1wdHl9Ij48L3NwYW4+IDwvc3Bhbj4gPC9zcGFuPiA8L2J1dHRvbj4gPC9saT4gPGxpPiA8YnV0dG9uIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUJhc2VtYXBzQ2xpY2t9Ij4gPGltZyBjbGFzcz0ibGlzdC1tZW51LWljb24iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9iYXNlbWFwLTI0LnBuZyIgYWx0PSIiIC8+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGV0YWlscyI+IDxzdHJvbmcgY2xhc3M9Imxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtYnV0dG9ufSI+PC9zdHJvbmc+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLWRlc2NyaXB0aW9ufSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LXN0YXR1cy1tc2ciIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0Jhc2VtYXBzVmFsaWR9Ij4gPGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvc3RhdHVzLW9rLTE2LnBuZyIgY2xhc3M9InN0YXR1cy1tc2ctaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGhhc0Jhc2VtYXBzfXt0aXRsZTogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc3RhdHVzLXRpdGxlLW9rfXthbHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy1hbHQtb2t9Ij4gPGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvc3RhdHVzLWRlZmF1bHQtMTYucG5nIiBjbGFzcz0ic3RhdHVzLW1zZy1pY29uIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBoYXNCYXNlbWFwc317dGl0bGU6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy10aXRsZS1kZWZhdWx0fXthbHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy1hbHQtZGVmYXVsdH0iPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBiYXNlbWFwc1RleHR9Ij48L3NwYW4+IDwvc3Bhbj4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1zdGF0dXMtbXNnIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc0Jhc2VtYXBzVmFsaWR9Ij4gPGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvc3RhdHVzLWVycm9yLTE2LnBuZyIgY2xhc3M9InN0YXR1cy1tc2ctaWNvbiIgZGF0YS1iaW5kaW5nPSJ7dGl0bGU6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy10aXRsZS1lcnJvcn17YWx0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zdGF0dXMtYWx0LWVycm9yfSI+IDxzcGFuIGNsYXNzPSJlcnJvci1tZXNzYWdlIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc0Jhc2VtYXBzQ2FsY3VsYXRpbmd9e0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1lcnJvcn0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImVycm9yLW1lc3NhZ2UiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0Jhc2VtYXBzQ2FsY3VsYXRpbmd9e0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1lcnJvci1jYWxjdWxhdGluZ30iPjwvc3Bhbj4gPC9zcGFuPiA8L3NwYW4+IDwvYnV0dG9uPiA8L2xpPiA8bGk+IDxidXR0b24gY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlU2hhcmluZ0NsaWNrfSI+IDxpbWcgY2xhc3M9Imxpc3QtbWVudS1pY29uIiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvdGVhbS0yNC5wbmciIGFsdD0iIiAvPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXNoYXJpbmctYnV0dG9ufSI+PC9zdHJvbmc+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGNhbkNoYW5nZX17QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXNoYXJpbmctZGVzY3JpcHRpb259Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtc3RhdHVzLW1zZyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGNhbkNoYW5nZX0iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9zdGF0dXMtb2stMTYucG5nIiBjbGFzcz0ic3RhdHVzLW1zZy1pY29uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaGFzU2hhcmluZ317dGl0bGU6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy10aXRsZS1va317YWx0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zdGF0dXMtYWx0LW9rfSI+IDxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL3N0YXR1cy1kZWZhdWx0LTE2LnBuZyIgY2xhc3M9InN0YXR1cy1tc2ctaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaGFzU2hhcmluZ317dGl0bGU6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy10aXRsZS1kZWZhdWx0fXthbHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy1hbHQtZGVmYXVsdH0iPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBoYXNTaGFyaW5nfXtAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc2hhcmluZy10ZXh0LXNvbWV9Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaGFzU2hhcmluZ317QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXNoYXJpbmctdGV4dC1ub25lfSI+PC9zcGFuPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtc3RhdHVzLW1zZyIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogY2FuQ2hhbmdlfSI+IDxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL3N0YXR1cy1hbGVydC0xNi5wbmciIGNsYXNzPSJzdGF0dXMtbXNnLWljb24iIGRhdGEtYmluZGluZz0ie3RpdGxlOiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zdGF0dXMtdGl0bGUtYWxlcnR9e2FsdDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc3RhdHVzLWFsdC1hbGVydH0iPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zaGFyaW5nLWNhbnQtY2hhbmdlfSI+PC9zcGFuPiA8L3NwYW4+IDwvc3Bhbj4gPC9idXR0b24+IDwvbGk+IDwvdWw+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJ1dHRvbi1zYXZlfXtAZW5hYmxlZDogaXNWYWxpZH17QGV2ZW50LWNsaWNrOiBoYW5kbGVEb25lQ2xpY2t9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1jYW5jZWx9e0BldmVudC1jbGljazogaGFuZGxlQ2FuY2VsQ2xpY2t9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/Editor/Basemap/OfflineMapEditorBasemapLevelsView.html","html","PGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAtY29udGVudHMiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGJhc2VtYXB9Ij4gPGRpdiBjbGFzcz0ib2ZmbGluZS1iYXNlbWFwLWxldmVscyIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYmFzZW1hcH0iPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtbGV2ZWxzLWluc3RydWN0aW9uc30iPjwvcD4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLWxldmVscy1sZXZlbHN9Ij48L3NwYW4+PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGV4cG9ydFRpbGVzTWluTGV2ZWx9Ij48L3NwYW4+IC0gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGV4cG9ydFRpbGVzTWF4TGV2ZWx9Ij48L3NwYW4+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHZhcjogc2xpZGVyfSI+PC9kaXY+IDxkaXY+IDxzcGFuIGNsYXNzPSJvZmZsaW5lLXByb2ZpbGUtYmFzZW1hcC1sZXNzLWRldGFpbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLWxldmVscy1sZXNzLWRldGFpbH0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9Im9mZmxpbmUtcHJvZmlsZS1iYXNlbWFwLW1vcmUtZGV0YWlsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtbGV2ZWxzLW1vcmUtZGV0YWlsfSI+PC9zcGFuPiA8L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc05vbmV9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLXNpemUtbGFiZWx9Ij48L3NwYW4+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBzaXplUHJlc2VudGFibGV9Ij48L3NwYW4+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tb2t9e0BldmVudC1jbGljazogaGFuZGxlRG9uZUNsaWNrfSI+PC9idXR0b24+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/Editor/Basemap/OfflineMapEditorBasemapsView.html","html","PGRpdiBjbGFzcz0iYmFzZW1hcC1lZGl0b3Igb2ZmbGluZS1tYXAtZWRpdG9yIHBhbmVsLWdyb3VwLWNvbnRlbnRzIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBiYXNlbWFwc30iPiA8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cC1jb250ZW50cyIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYmFzZW1hcHN9Ij4gPHNwYW4gY2xhc3M9ImxheWVyLWl0ZW0tY3RybCBsYXllci1saXN0LWxheWVyLWljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfSI+PGltZyBkYXRhLWJpbmRpbmc9IntzcmM6IGljb25Vcml9IiAvPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImRpc3BsYXktbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9zcGFuPiA8Zm9ybSBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBiYXNlbWFwc317QHZpc2libGU6IHN1cHBvcnRzQW55fSI+IDxkaXYgY2xhc3M9ImlucHV0LWdyb3VwIj4gPGxhYmVsPiA8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9InNvdXJjZVR5cGUiIHZhbHVlPSJub25lIiBkYXRhLWJpbmRpbmc9IntjaGVja2VkOiBpc05vbmV9e0BldmVudC1vbmNoYW5nZTogaGFuZGxlVHlwZVJhZGlvQ2xpY2t9IiAvPiA8c3BhbiBjbGFzcz0ibGFiZWwtdGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLW5vbmV9Ij48L3NwYW4+IDwvbGFiZWw+IDxsYWJlbCBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc3VwcG9ydHNTdGF0aWN9Ij4gPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJzb3VyY2VUeXBlIiB2YWx1ZT0icHJlZ2VuZXJhdGVkIiBkYXRhLWJpbmRpbmc9IntjaGVja2VkOiBpc1N0YXRpY317QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVUeXBlUmFkaW9DbGlja30iIC8+IDxzcGFuIGNsYXNzPSJsYWJlbC10ZXh0IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtcHJlZ2VuZXJhdGVkfSI+PC9zcGFuPiA8L2xhYmVsPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHN1cHBvcnRzRXhwb3J0VGlsZXN9Ij4gPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJzb3VyY2VUeXBlIiB2YWx1ZT0iZXhwb3J0VGlsZXMiIGRhdGEtYmluZGluZz0ie2NoZWNrZWQ6IGlzRXhwb3J0VGlsZXN9e0BldmVudC1vbmNoYW5nZTogaGFuZGxlVHlwZVJhZGlvQ2xpY2t9IiAvPiA8c3BhbiBjbGFzcz0ibGFiZWwtdGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLWV4cG9ydHRpbGVzfSI+PC9zcGFuPiA8L2xhYmVsPiA8L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNFeHBvcnRUaWxlc30iPiA8ZGl2IGNsYXNzPSJpbnB1dC1ncm91cCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1leHBvcnR0aWxlcy1sZXZlbH0iPjwvc3Bhbj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGV4cG9ydFRpbGVzTWluTGV2ZWx9Ij48L3NwYW4+IC0gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGV4cG9ydFRpbGVzTWF4TGV2ZWx9Ij48L3NwYW4+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tZWRpdH17QGV2ZW50LWNsaWNrOiBoYW5kbGVFZGl0TGV2ZWxzQ2xpY2t9Ij48L2J1dHRvbj4gPC9kaXY+IDxkaXYgY2xhc3M9ImlucHV0LWdyb3VwIj4gPGxhYmVsPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtZXhwb3J0dGlsZXMtcmVmcmVzaC1sYWJlbH0iPjwvc3Bhbj4gPGlucHV0IHR5cGU9Im51bWJlciIgbWluPSIwIiBwYXR0ZXJuPSJcZCoiIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogZXhwb3J0VGlsZXNSZWZyZXNoSW50ZXJ2YWx9IiAvPiA8L2xhYmVsPiA8L2Rpdj4gPC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzU3RhdGljfSI+IDxzZWxlY3QgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogc3RhdGljVHBrc317QHZhbHVlOiBzdGF0aWNUcGt9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBzdGF0aWNUcGtzfXtAdGV4dDogZGlzcGxheU5hbWV9e0BhdHRhY2g6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc05vbmV9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLXNpemUtbGFiZWx9Ij48L3NwYW4+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBzaXplUHJlc2VudGFibGV9Ij48L3NwYW4+IDwvZGl2PiA8L2Zvcm0+ICA8c3BhbiBjbGFzcz0iZXJyb3ItbWVzc2FnZSBlcnJvci1tZXNzYWdlLXRleHQiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHN1cHBvcnRzQW55fXtAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtbm9uZXN1cHBvcnRlZH0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImVycm9yLW1lc3NhZ2UgZXJyb3ItbWVzc2FnZS10ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZXJyb3JDb25maWd1cmF0aW9uTWVzc2FnZX17QHRleHQ6IGVycm9yQ29uZmlndXJhdGlvbk1lc3NhZ2V9Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJlcnJvci1tZXNzYWdlIGVycm9yLW1lc3NhZ2UtdGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGVycm9yRXhwb3J0VGlsZXNNZXNzYWdlfXtAdGV4dDogZXJyb3JFeHBvcnRUaWxlc01lc3NhZ2V9Ij48L3NwYW4+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1va317QGV2ZW50LWNsaWNrOiBoYW5kbGVCYWNrQ2xpY2t9Ij48L2J1dHRvbj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/Editor/Geometry/OfflineMapEditorGeometryView.html","html","PGRpdiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBPZmZsaW5lTWFwRWRpdG9yR2VvbWV0cnlBY3Rpb25zV2lkZ2V0fXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX0iIGRhdGEtbWVudS1pZD0iT2ZmbGluZU1hcEVkaXRvckdlb21ldHJ5QWN0aW9ucyIgZGF0YS1tZW51LXRlbXBsYXRlPSJNYXBwaW5nL2luZnJhc3RydWN0dXJlL21lbnVzL01lbnVWaWV3Lmh0bWwiIGRhdGEtbWVudS1ob2lzdC1kaXNhYmxlZD48L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1va317QGV2ZW50LWNsaWNrOiBoYW5kbGVCYWNrQ2xpY2t9Ij48L2J1dHRvbj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/Editor/Layers/LayerSelectorItemTemplate.html","html","PGxpIGNsYXNzPSJsYXllciIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogaXRlbXN9Ij4gPGRpdiBjbGFzcz0ibGF5ZXItaXRlbS1leHBhbmRlciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzRm9sZGVyfSI+IDxidXR0b24gY2xhc3M9InRyZWUtZXhwYW5kZXIiIGRhdGEtYmluZGluZz0ie0BjbGFzcy1leHBhbmRlZDogaXNFeHBhbmRlZH17QG5vY2xhc3MtY29sbGFwc2VkOiBpc0V4cGFuZGVkfXtAZXZlbnQtb25jbGljazogaGFuZGxlRXhwYW5kZXJDbGlja317dGl0bGU6IGV4cGFuZGVyVG9vbHRpcH0iPjwvYnV0dG9uPiA8L2Rpdj4gPGRpdiBjbGFzcz0ibGF5ZXItaW5mbyI+IDxkaXYgY2xhc3M9ImxheWVyLWNvbnRlbnRzIj4gPGxhYmVsPiA8c3BhbiBjbGFzcz0ibGF5ZXItaXRlbS1jdHJsIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc0ZvbGRlcn0iPiA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogaXNFbmFibGVkfXtjaGVja2VkOiBpc0VuYWJsZWR9e3RpdGxlOiBzdGF0ZVRvZ2dsZVRvb2x0aXB9IiAvPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJsYXllci1pdGVtLWN0cmwgbGF5ZXItbGlzdC1sYXllci1pY29uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX0iPjxpbWcgZGF0YS1iaW5kaW5nPSJ7YWx0OiBpY29uVG9vbHRpcH17c3JjOiBpY29uVXJpfSIgLz48L3NwYW4+IDxzcGFuIGNsYXNzPSJkaXNwbGF5LW5hbWUgbGFiZWwtdGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3NwYW4+IDwvbGFiZWw+IDxkaXYgY2xhc3M9Iml0ZW0tY2hpbGQiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzRm9sZGVyfSI+IDxkaXYgY2xhc3M9Iml0ZW0tb3B0aW9ucyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzRW5hYmxlZH0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpbnZhbGlkRGVmaW5pdGlvbkV4cHJlc3Npb259Ij4gPGJ1dHRvbiBjbGFzcz0iZmlsdGVyLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogZGVmaW5pdGlvbkV4cHJlc3Npb259e0BldmVudC1vbmNsaWNrOiBoYW5kbGVEZWZpbml0aW9uRXhwcmVzc2lvbkNsaWNrfXt0aXRsZTogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWZpbHRlci10b29sdGlwfSI+PGltZyBkYXRhLWJpbmRpbmc9InthbHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWxheWVycy1maWx0ZXItdG9vbHRpcH0iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ZpbHRlci1vZmYtMjQucG5nIiAvPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJmaWx0ZXItYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZGVmaW5pdGlvbkV4cHJlc3Npb259e0BldmVudC1vbmNsaWNrOiBoYW5kbGVEZWZpbml0aW9uRXhwcmVzc2lvbkNsaWNrfXt0aXRsZTogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWZpbHRlci10b29sdGlwfSI+PGltZyBkYXRhLWJpbmRpbmc9InthbHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWxheWVycy1maWx0ZXItdG9vbHRpcH0iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ZpbHRlci1vbi0yNC5wbmciIC8+PC9idXR0b24+IDwvc3Bhbj4gPGJ1dHRvbiBjbGFzcz0iZmlsdGVyLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGludmFsaWREZWZpbml0aW9uRXhwcmVzc2lvbn17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZURlZmluaXRpb25FeHByZXNzaW9uQ2xpY2t9e3RpdGxlOiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1sYXllcnMtaW52YWxpZC1kZWZpbml0aW9uLWV4cHJlc3Npb24tdGl0bGV9Ij48aW1nIGRhdGEtYmluZGluZz0ie2FsdDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWludmFsaWQtZGVmaW5pdGlvbi1leHByZXNzaW9uLXRpdGxlfSIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvZmlsdGVyLWVycm9yLTI0LnBuZyIgLz48L2J1dHRvbj4gPGRpdiBjbGFzcz0ic3ViLXRleHQiPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogbnVtRmVhdHVyZXN9e3RpdGxlOiBudW1GZWF0dXJlc1RpdGxlfSI+PC9zcGFuPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWZlYXR1cmUtY291bnR9Ij48L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPSJzdWItdGV4dCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBlZGl0YWJsZU9yUmVhZE9ubHlUZXh0fSI+PC9zcGFuPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDx1bCBjbGFzcz0ibGF5ZXJzIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNFeHBhbmRlZH17QHNvdXJjZTogaXRlbXN9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL09mZmxpbmVNYXBzL0VkaXRvci9MYXllcnMvTGF5ZXJTZWxlY3Rvckl0ZW1UZW1wbGF0ZS5odG1sfSI+PC91bD4gPC9saT4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/Editor/Layers/OfflineMapEditorLayersView.html","html","PGRpdiBjbGFzcz0icHJvZmlsZS1sYXllcnMiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGxheWVyU2VsZWN0b3JWaWV3TW9kZWx9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBsYXllclNlbGVjdG9yVmlld01vZGVsfSI+IDx1bCBjbGFzcz0ibGF5ZXItc2VsZWN0b3ItYnV0dG9ucyBwYW5lbC1ncm91cC1jb250ZW50cyI+IDxsaT48YnV0dG9uIGNsYXNzPSJidXR0b24gbGF5ZXItYWN0aW9ucy1idXR0b24iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBzZWxlY3RBbGxCdXR0b25UZXh0fXt0aXRsZTogc2VsZWN0QWxsQnV0dG9uVGl0bGV9e0BldmVudC1vbmNsaWNrOiBzZWxlY3RBbGxMYXllcnN9Ij48L2J1dHRvbj48L2xpPiA8bGk+PGJ1dHRvbiBjbGFzcz0iYnV0dG9uIGxheWVyLWFjdGlvbnMtYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogY2xlYXJBbGxCdXR0b25UZXh0fXt0aXRsZTogY2xlYXJBbGxCdXR0b25UaXRsZX17QGV2ZW50LW9uY2xpY2s6IGNsZWFyQWxsTGF5ZXJzfSI+PC9idXR0b24+PC9saT4gPC91bD4gPGRpdiBjbGFzcz0ibGF5ZXItbGlzdCI+IDx1bCBjbGFzcz0iaWRlbnRpZnktbGF5ZXJzIGxheWVycyIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogaXRlbXN9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL09mZmxpbmVNYXBzL0VkaXRvci9MYXllcnMvTGF5ZXJTZWxlY3Rvckl0ZW1UZW1wbGF0ZS5odG1sfSI+PC91bD4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAtY29udGVudHMgY2xlYXIiPiA8bGFiZWw+IDxpbnB1dCB0eXBlPSJjaGVja2JveCIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBpbmNsdWRlQXR0YWNobWVudHN9Ii8+IDxzcGFuIGNsYXNzPSJsYWJlbC10ZXh0IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWF0dGFjaG1lbnRzLWxhYmVsfXt0aXRsZTogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWF0dGFjaG1lbnRzLWFsdH0iPjwvc3Bhbj4gPC9sYWJlbD4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tb2t9e0BldmVudC1jbGljazogaGFuZGxlQmFja0NsaWNrfSI+PC9idXR0b24+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/Editor/Sharing/OfflineMapEditorSharingView.html","html","PGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAtY29udGVudHMiPiA8ZGl2IGNsYXNzPSJzaGFyZS13aXRoIj4gPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc2hhcmUtd2l0aC1sYWJlbH0iPjwvbGFiZWw+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IEdyYW50RWRpdG9yV2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcGxhY2U6IHRydWV9Ij48L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBjYW5DaGFuZ2V9e0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zaGFyaW5nLWNhbnQtY2hhbmdlfSI+PC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tb2t9e0BldmVudC1jbGljazogaGFuZGxlQmFja0NsaWNrfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/Sync/SyncStatusView.html","html","PGRpdiBjbGFzcz0ic3luYy1zdGF0dXMgcGFkZGVkLXZpZXciPiA8ZGl2PiAgPGgzIGNsYXNzPSJzeW5jLXN0YXR1cy1oZWFkaW5nIj48c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmUtbWFwcy1zeW5jLXN5bmNpbmctcHJvZmlsZX0iPjwvc3Bhbj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3NwYW4+PC9oMz4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd1Byb2dyZXNzfXtAd2lkZ2V0OiBzeW5jUHJvZ3Jlc3NCYXJ9Ij48L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdGV4dDogY29tcGxldGVUZXh0fXtAdmlzaWJsZTogY29tcGxldGVUZXh0fSIgY2xhc3M9InN1Y2Nlc3MiPjwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0B0ZXh0OiBjYW5jZWxsaW5nVGV4dH17QHZpc2libGU6IGNhbmNlbGxpbmdUZXh0fSI+PC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGVycm9yVGV4dH17QHZpc2libGU6IGVycm9yVGV4dH0iIGNsYXNzPSJlcnJvciBzdHJpbmctd3JhcCI+PC9kaXY+ICA8ZGl2IGNsYXNzPSJzeW5jLWRldGFpbHMiPiA8YnV0dG9uIGRhdGEtYmluZGluZz0ie0BjbGFzcy1jb2xsYXBzZWQ6IGhpZGVTdGF0dXNUZXh0fXtAY2xhc3MtZXhwYW5kZWQ6IHNob3dTdGF0dXNUZXh0fXtAZXZlbnQtY2xpY2s6IGhhbmRsZVRvZ2dsZURldGFpbHNDbGlja30iIGNsYXNzPSJzeW5jLXN0YXR1cy1kZXRhaWxzLXRvZ2dsZSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLXN5bmMtc2hvdy1kZXRhaWxzfSI+PC9zcGFuPiA8L2J1dHRvbj4gPGRpdiBjbGFzcz0ic3luYy1zdGF0dXMtZGV0YWlscyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHN0YXR1c1RleHR9e0B2aXNpYmxlOiBzaG93U3RhdHVzVGV4dH0iPjwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9InN5bmMtd2FybmluZy1oZWFkZXIiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLXN5bmMtd2FybmluZ3N9e0B2aXNpYmxlOiB3YXJuaW5nc30iPjwvZGl2PiA8ZGl2IGNsYXNzPSJzeW5jLXdhcm5pbmdzIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogd2FybmluZ3N9Ij4gPHVsIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHdhcm5pbmdzfSI+IDxsaSBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiB3YXJuaW5nc30iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGNvbnRleHR9Ij48L3NwYW4+IDwvbGk+IDwvdWw+IDwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxsYWJlbCBjbGFzcz0ic3luYy1jaGVja2JveC1jbG9zZSI+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IGNsb3NlV2hlbkRvbmV9IiAvPjxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLXN5bmMtY2xvc2Utd2hlbi1kb25lfSI+PC9zcGFuPjwvbGFiZWw+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tY2FuY2VsfXtAZXZlbnQtY2xpY2s6IGhhbmRsZUNhbmNlbENsaWNrfXtAdmlzaWJsZTogc2hvd0NhbmNlbH17QGVuYWJsZWQ6IGNhbkNhbmNlbH0iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWNsb3NlfXtAZXZlbnQtY2xpY2s6IGhhbmRsZUNsb3NlQ2xpY2t9e0B2aXNpYmxlOiBzaG93Q2xvc2V9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/Widgets/ProgressBarWidget.html","html","PGRpdiBjbGFzcz0icHJvZ3Jlc3MtYmFyIj4gPGRpdiBjbGFzcz0icHJvZ3Jlc3MiIGRhdGEtYmluZGluZz0ie0BzdHlsZS13aWR0aDogd2lkdGhTdHlsZX0iPjwvZGl2PiA8L2Rpdj4g");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OverviewMap/OverviewMapView.html","html","PGRpdiBjbGFzcz0ib3ZlcnZpZXctbWFwLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzRW5hYmxlZH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGNsYXNzLW92ZXJ2aWV3LW1hcC1jb250YWluZXItdG9wLXBvc2l0aW9uOiBpc1RvcH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGNsYXNzLW92ZXJ2aWV3LW1hcC1jb250YWluZXItYm90dG9tLXBvc2l0aW9uOiBpc0JvdHRvbX0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGNsYXNzLW92ZXJ2aWV3LW1hcC1jb250YWluZXItbGVmdC1wb3NpdGlvbjogaXNMZWZ0fQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtAY2xhc3Mtb3ZlcnZpZXctbWFwLWNvbnRhaW5lci1yaWdodC1wb3NpdGlvbjogaXNSaWdodH0iPiA8YnV0dG9uIGNsYXNzPSJvdmVydmlldy1tYXAtdG9nZ2xlIiB0YWJpbmRleD0iMCIgIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiB0b2dnbGVNYXB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0BjbGFzcy1vdmVydmlldy1tYXAtdG9nZ2xlLW9mZjogaXNBY3RpdmV9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0BjbGFzcy1vdmVydmlldy1tYXAtdG9nZ2xlLXJpZ2h0UG9zaXRpb246IGlzUmlnaHR9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0BjbGFzcy1vdmVydmlldy1tYXAtdG9nZ2xlLWJvdHRvbVBvc2l0aW9uOiBpc0JvdHRvbX0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGNsYXNzLW92ZXJ2aWV3LW1hcC10b2dnbGUtYm90dG9tQWN0aXZlOiBib3R0b21BbmRBY3RpdmV9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RpdGxlOiBAbGFuZ3VhZ2UtZmVhdHVyZS1vdmVydmlldy1tYXAtdG9nZ2xlfSI+PC9idXR0b24+IDxkaXYgY2xhc3M9Im92ZXJ2aWV3LW1hcCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzQWN0aXZlfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtAY2xhc3Mtb3ZlcnZpZXctbWFwLWJvdHRvbS1wb3NpdGlvbjogaXNCb3R0b219DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0BjbGFzcy1vdmVydmlldy1tYXAtdG9wLXBvc2l0aW9uOiBpc1RvcH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGNsYXNzLW92ZXJ2aWV3LW1hcC1yaWdodC1wb3NpdGlvbjogaXNSaWdodH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGNsYXNzLW92ZXJ2aWV3LW1hcC1sZWZ0LXBvc2l0aW9uOiBpc0xlZnR9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntpZDogb3ZlcnZpZXdNYXBJZH0iPjwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/PlotCoordinates/PlotCoordinatesView.html","html","PGRpdiBjbGFzcz0iY29vcmRpbmF0ZS1saXN0LWFjdGlvbnMtd2lkZ2V0IiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBDb29yZGluYXRlc0xpc3RBY3Rpb25zV2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX0iDQogICAgIGRhdGEtbWVudS1pZD0iQ29vcmRpbmF0ZXNMaXN0QWN0aW9ucyIgZGF0YS1tZW51LXRlbXBsYXRlPSJNYXBwaW5nL2luZnJhc3RydWN0dXJlL21lbnVzL01lbnVIeXBlcmxpbmtWaWV3Lmh0bWwiPjwvZGl2PiA8ZGl2IGNsYXNzPSJwbG90LWNvb3JkaW5hdGVzIj4gPGRpdiBjbGFzcz0iY29vcmQtc3lzLXN3aXRjaGVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNFbmFibGVkfXtAc291cmNlOiBjb29yZGluYXRlc01vZGVsfSI+IDxsYWJlbCBjbGFzcz0iY29vcmQtc3lzLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBjb29yZGluYXRlc01vZGVsfSI+IDxsYWJlbCBjbGFzcz0iY29vcmQtc2VsZWN0LWxhYmVsIiBmb3I9ImNvb3JkLXNlbGVjdC1pbnB1dCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtY29vcmRpbmF0ZXMtbGFiZWx9Ij48L2xhYmVsPiA8c2VsZWN0IGlkPSJjb29yZC1zZWxlY3QtaW5wdXQiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGNvb3JkaW5hdGVTeXN0ZW1zfXtAdmFsdWU6IGN1cnJlbnRDb29yZGluYXRlU3lzdGVtfXt0aXRsZTogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1jb29yZGluYXRlLXN5c3RlbS1zZWxlY3Rvcn0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGNvb3JkaW5hdGVTeXN0ZW1zfXtAdGV4dDogZGlzcGxheU5hbWV9e0BhdHRhY2g6IEBjb250ZXh0fSIgLz4gPC9zZWxlY3Q+IDwvbGFiZWw+IDwvZGl2PiA8dWwgY2xhc3M9ImNvb3JkLWxpc3QiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGNvb3JkaW5hdGVEZXNjcmlwdG9yc317QHZhcjogY29vcmRMaXN0fSI+IDxsaSBjbGFzcz0iY29vcmQtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogY29vcmRpbmF0ZURlc2NyaXB0b3JzfSI+IDxkaXYgY2xhc3M9ImNvb3JkLWNvbnRlbnRzIGVkaXRpbmciIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0VkaXRpbmd9Ij4gPGRpdiBjbGFzcz0iY29vcmQtcmVmLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogaWR9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iY29vcmQtZ3JvdXAiPiA8bGFiZWwgY2xhc3M9ImNvb3JkLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogeExhYmVsfSI+PC9sYWJlbD4gPGRpdiBjbGFzcz0iY29vcmQtaW5wdXRzIiBkYXRhLWJpbmRpbmc9IntjbGFzczogY29vcmRDbGFzc30iPiA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImNvb3JkLXZhbCBjb29yZC14eSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogc2hvd0RlZ3JlZX17QHZhbHVlOiBvdXRwdXRYfXt0aXRsZTogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy14LXRpdGxlfSIgLz4gPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJjb29yZC12YWwgY29vcmQtZGVncmVlcyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dEZWdyZWV9e0B2YWx1ZTogZGVncmVlTGF0fXt0aXRsZTogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1kZWdyZWVzLXRpdGxlfSIgLz4gPHNwYW4gY2xhc3M9ImZpZWxkLXN5bSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dEZWdyZWV9e0B0ZXh0OiBkZWdyZWVTeW1ib2x9Ij48L3NwYW4+IDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iY29vcmQtdmFsIGNvb3JkLW1pbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dNaW51dGV9e0B2YWx1ZTogbWludXRlTGF0fXt0aXRsZTogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1taW51dGVzLXRpdGxlfSIgLz4gPHNwYW4gY2xhc3M9ImZpZWxkLXN5bSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dNaW51dGV9e0B0ZXh0OiBtaW51dGVTeW1ib2x9Ij48L3NwYW4+IDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iY29vcmQtdmFsIGNvb3JkLXNlYyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dTZWNvbmR9e0B2YWx1ZTogc2Vjb25kTGF0fXt0aXRsZTogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1zZWNvbmRzLXRpdGxlfSIgLz4gPHNwYW4gY2xhc3M9ImZpZWxkLXN5bSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dTZWNvbmR9e0B0ZXh0OiBzZWNvbmRTeW1ib2x9Ij48L3NwYW4+IDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iY29vcmQtdmFsIGNvb3JkLWJlYXJpbmciIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93RGVncmVlfXtAdmFsdWU6IGJlYXJpbmdMYXR9e3RpdGxlOiBAbGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLWJlYXJpbmctdGl0bGV9IiAvPiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImNvb3JkLWdyb3VwIj4gPGxhYmVsIGNsYXNzPSJjb29yZC1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHlMYWJlbH0iPjwvbGFiZWw+IDxkaXYgY2xhc3M9ImNvb3JkLWlucHV0cyIgZGF0YS1iaW5kaW5nPSJ7Y2xhc3M6IGNvb3JkQ2xhc3N9Ij4gPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJjb29yZC12YWwgY29vcmQteHkiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHNob3dEZWdyZWV9e0B2YWx1ZTogb3V0cHV0WX17dGl0bGU6IEBsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMteS10aXRsZX0iIC8+IDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iY29vcmQtdmFsIGNvb3JkLWRlZ3JlZXMiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93RGVncmVlfXtAdmFsdWU6IGRlZ3JlZUxvbn17dGl0bGU6IEBsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtZGVncmVlcy10aXRsZX0iIC8+IDxzcGFuIGNsYXNzPSJmaWVsZC1zeW0iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93RGVncmVlfXtAdGV4dDogZGVncmVlU3ltYm9sfSI+PC9zcGFuPiA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImNvb3JkLXZhbCBjb29yZC1taW4iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93TWludXRlfXtAdmFsdWU6IG1pbnV0ZUxvbn17dGl0bGU6IEBsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtbWludXRlcy10aXRsZX0iIC8+IDxzcGFuIGNsYXNzPSJmaWVsZC1zeW0iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93TWludXRlfXtAdGV4dDogbWludXRlU3ltYm9sfSI+PC9zcGFuPiA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImNvb3JkLXZhbCBjb29yZC1zZWMiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93U2Vjb25kfXtAdmFsdWU6IHNlY29uZExvbn17dGl0bGU6IEBsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtc2Vjb25kcy10aXRsZX0iIC8+IDxzcGFuIGNsYXNzPSJmaWVsZC1zeW0iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93U2Vjb25kfXtAdGV4dDogc2Vjb25kU3ltYm9sfSI+PC9zcGFuPiA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImNvb3JkLXZhbCBjb29yZC1iZWFyaW5nIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd0RlZ3JlZX17QHZhbHVlOiBiZWFyaW5nTG9ufXt0aXRsZTogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1iZWFyaW5nLXRpdGxlfSIgLz4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc05ld317dGl0bGU6IEBsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtYWRkLWNvb3JkaW5hdGUtYnV0dG9uLXRpdGxlfXtAdGV4dDogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1hZGQtY29vcmRpbmF0ZS1idXR0b24tdGV4dH17QGV2ZW50LWNsaWNrOiBoYW5kbGVBZGRDb29yZGluYXRlQ2xpY2t9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc05ld317dGl0bGU6IEBsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtdXBkYXRlLWNvb3JkaW5hdGUtYnV0dG9uLXRpdGxlfXtAdGV4dDogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy11cGRhdGUtY29vcmRpbmF0ZS1idXR0b24tdGV4dH17QGV2ZW50LWNsaWNrOiBoYW5kbGVVcGRhdGVDb29yZGluYXRlQ2xpY2t9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9Int0aXRsZTogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1jYW5jZWwtYWRkLWNvb3JkaW5hdGUtYnV0dG9uLXRpdGxlfXtAdGV4dDogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1jYW5jZWwtYWRkLWNvb3JkaW5hdGUtYnV0dG9uLXRleHR9e0BldmVudC1jbGljazogaGFuZGxlQ2FuY2VsQWRkQ29vcmRpbmF0ZUNsaWNrfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0iY29vcmQtY29udGVudHMgcGxvdHRlZCIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNFZGl0aW5nfXtAbm9jbGFzcy1jb29yZC1oaWRkZW46IGlzVmlzaWJsZX0iPiA8YnV0dG9uIGNsYXNzPSJpdGVtLWNvbnRlbnRzIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtY2xpY2s6IGhhbmRsZUNvb3JkaW5hdGVJdGVtQ2xpY2t9Ij4gPHNwYW4gY2xhc3M9ImNvb3JkLXJlZi1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGlkfSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0iY29vcmQtZ3JvdXAiPiA8c3BhbiBjbGFzcz0iY29vcmQtbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB4TGFiZWx9Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJjb29yZC1pbnB1dHMiPiA8c3BhbiBjbGFzcz0iY29vcmQtdmFsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogeFZhbH0iPjwvc3Bhbj4gPC9zcGFuPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJjb29yZC1ncm91cCI+IDxzcGFuIGNsYXNzPSJjb29yZC1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHlMYWJlbH0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNvb3JkLWlucHV0cyI+IDxzcGFuIGNsYXNzPSJjb29yZC12YWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB5VmFsfSI+PC9zcGFuPiA8L3NwYW4+IDwvc3Bhbj4gPC9idXR0b24+IDxkaXYgY2xhc3M9Iml0ZW0tYWN0aW9ucyI+IDxidXR0b24gY2xhc3M9Im1vcmUtMjQiIGRhdGEtYmluZGluZz0ie3RpdGxlOiBAbGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLWFjdGlvbnMtdG9vbHRpcH17QGV2ZW50LWNsaWNrOiBoYW5kbGVDb29yZGluYXRlQWN0aW9uc30iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvbGk+IDwvdWw+IDxkaXYgY2xhc3M9Im5vLWNvb3JkaW5hdGVzIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBoYXNDb29yZGluYXRlc317QHRleHQ6IEBsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtbm8tY29vcmRpbmF0ZXN9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iYWRkLWNvb3JkaW5hdGUiPiA8YnV0dG9uIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGNsYXNzLWFkZC1kaXNhYmxlZDogY3VycmVudGx5RWRpdGluZ317ZGlzYWJsZWQ6IGN1cnJlbnRseUVkaXRpbmd9e0BldmVudC1jbGljazogaGFuZGxlQ2xpY2tBZGRBbm90aGVyQ29vcmRpbmF0ZX0iPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL2FkZC0yNC5wbmciIGFsdD0iICIgLz4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXNjIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1hZGQtYW5vdGhlci1jb29yZGluYXRlfSI+PC9zcGFuPiA8L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/PlotCoordinates/CoordinateActions/CoordinateActionsView.html","html","PGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAgbm8taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogdmlzaWJsZU1lbnVJdGVtc317QHRleHQ6IEBsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtbm8tY29vcmRpbmF0ZS1hY3Rpb25zfSI+PC9kaXY+IDx1bCBjbGFzcz0icGFuZWwtZ3JvdXAgbGlzdC1tZW51IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdmlzaWJsZU1lbnVJdGVtc317QHNvdXJjZTogdmlzaWJsZU1lbnVJdGVtc30iPiA8bGkgY2xhc3M9Imxpc3QtbWVudS1pdGVtIGFjdGl2ZSBoYXMtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogdmlzaWJsZU1lbnVJdGVtc317QGVuYWJsZWQ6IGNhbkV4ZWN1dGV9Ij4gPGJ1dHRvbiBjbGFzcz0ibGlzdC1tZW51LWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9ubW91c2VvdmVyOiBnZXREZXNjcmlwdGlvbn17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZU1lbnVJdGVtQ2xpY2t9Ij4gPGltZyBjbGFzcz0ibGlzdC1tZW51LWljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfXtzcmM6IGljb25Vcml9IiBhbHQ9IiAiPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRleHR9Ij48L3N0cm9uZz4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXNjIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGVzY3JpcHRpb259Ij48L3NwYW4+IDwvc3Bhbj4gPC9idXR0b24+IDwvbGk+IDwvdWw+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Printing/PrintingView.html","html","PGRpdiBjbGFzcz0icHJpbnRpbmciPiA8ZGl2IGNsYXNzPSJwcmludC1jcmVhdGUiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHByaW50Q29tcGxldGV9Ij4gPGRpdiBjbGFzcz0icHJpbnQtc3RhdHVzIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNQcmludGluZ30iPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWlzLXByaW50aW5nfSI+Li4uPC9wPiA8L2Rpdj4gPGRpdiBjbGFzcz0icHJpbnQtc3RhdHVzIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBzZWxlY3RlZFRlbXBsYXRlfSI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utbm8tcHJpbnQtdGVtcGxhdGV9Ij48L3A+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzUHJpbnRpbmd9e0B2aXNpYmxlOiBzZWxlY3RlZFRlbXBsYXRlfSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6cHJldmlld0lzRW5hYmxlZH0iPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOm1vYmlsZU1vZGV9Ij4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIHByaW50LWNlbnRlci1idXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1jbGljazogaGFuZGxlUmVDZW50ZXJDbGlja317QHRleHQ6IEBsYW5ndWFnZS1wcmludC1wcmV2aWV3LWNlbnRlcn0iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJidXR0b24gdG9nZ2xlLXByZXZpZXctYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBwcmV2aWV3SXNWaXNpYmxlfXtAZXZlbnQtY2xpY2s6IGhhbmRsZVRvZ2dsZVByZXZpZXdDbGlja317QHRleHQ6IEBsYW5ndWFnZS1wcmludC1zaG93LXByZXZpZXctY2VudGVyfSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiB0b2dnbGUtcHJldmlldy1idXR0b24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBwcmV2aWV3SXNWaXNpYmxlfXtAZXZlbnQtY2xpY2s6IGhhbmRsZVRvZ2dsZVByZXZpZXdDbGlja317QHRleHQ6IEBsYW5ndWFnZS1wcmludC1oaWRlLXByZXZpZXctY2VudGVyfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPGxhYmVsIGZvcj0ic2VsZWN0VGVtcGxhdGUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utc2VsZWN0LWxheW91dH0iPjwvbGFiZWw+IDxzZWxlY3QgaWQ9InNlbGVjdFRlbXBsYXRlIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBwcmludFRlbXBsYXRlc317QHZhbHVlOiBzZWxlY3RlZFRlbXBsYXRlfXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZVRlbXBsYXRlU2VsZWN0aW9uQ2hhbmdlZH0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHByaW50VGVtcGxhdGVzfXtAdGV4dDogZGlzcGxheU5hbWV9e0BhdHRhY2g6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8bGFiZWwgZm9yPSJvdXRwdXRGb3JtYXQiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb3V0cHV0LWZvcm1hdH17QHZpc2libGU6IG91dHB1dEZvcm1hdHN9Ij48L2xhYmVsPiA8c2VsZWN0IGlkPSJvdXRwdXRGb3JtYXQiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IG91dHB1dEZvcm1hdHN9e0B2YWx1ZTogc2VsZWN0ZWRGb3JtYXR9e0B2aXNpYmxlOiBvdXRwdXRGb3JtYXRzfSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogb3V0cHV0Rm9ybWF0c317QHRleHQ6IEBjb250ZXh0fXtAYXR0YWNoOiBAY29udGV4dH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPGxhYmVsIGZvcj0icmVzb2x1dGlvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1yZXNvbHV0aW9ufXtAdmlzaWJsZTogcmVzb2x1dGlvbnN9Ij48L2xhYmVsPiA8c2VsZWN0IGlkPSJyZXNvbHV0aW9uIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiByZXNvbHV0aW9uc317QHZhbHVlOiBzZWxlY3RlZFJlc29sdXRpb259e0B2aXNpYmxlOiByZXNvbHV0aW9uc30iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHJlc29sdXRpb25zfXtAdGV4dDogZGlzcGxheU5hbWV9e0BhdHRhY2g6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8bGFiZWwgZm9yPSJncmlkcyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1ncmlkfXtAdmlzaWJsZTogZ3JpZHN9Ij48L2xhYmVsPiA8c2VsZWN0IGlkPSJncmlkcyIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogZ3JpZHN9e0B2YWx1ZTogc2VsZWN0ZWRHcmlkfXtAdmlzaWJsZTogZ3JpZHN9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBncmlkc317QHRleHQ6IGRpc3BsYXlOYW1lfXtAYXR0YWNoOiBAY29udGV4dH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPGxhYmVsIGZvcj0ibWFwc2NhbGUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbWFwLXNjYWxlfXtAdmlzaWJsZTogc2NhbGVzfSI+PC9sYWJlbD4gPHNlbGVjdCBpZD0ibWFwc2NhbGUiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHNjYWxlc317QHZhbHVlOiBzZWxlY3RlZFNjYWxlfXtAdmlzaWJsZTogc2NhbGVzfXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZVNjYWxlU2VsZWN0aW9uQ2hhbmdlZH0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHNjYWxlc317QHRleHQ6IGRpc3BsYXlOYW1lfXtAYXR0YWNoOiBAY29udGV4dH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPGRpdiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiB0ZXh0RmllbGRzfSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogdGV4dEZpZWxkc30iPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogbXVsdGlsaW5lfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvc3Bhbj4gPGlucHV0IHR5cGU9InRleHQiIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogdmFsdWV9e0BoaWRkZW46IG11bHRpbGluZX0iIC8+IDwvbGFiZWw+IDxsYWJlbCBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogbXVsdGlsaW5lfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvc3Bhbj4gPHRleHRhcmVhIGNvbHM9IjIwIiByb3dzPSI0IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IHZhbHVlfXtAdmlzaWJsZTogbXVsdGlsaW5lfSI+PC90ZXh0YXJlYT4gPC9sYWJlbD4gPC9kaXY+IDwvZGl2PiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1wcmludGluZy1lbWFpbC1hZGRyZXNzfXtAdmlzaWJsZTogc3VwcG9ydHNFbWFpbE5vdGlmaWNhdGlvbn0iPjwvbGFiZWw+IDxpbnB1dCB0eXBlPSJ0ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IGVtYWlsQWRkcmVzc317QHZpc2libGU6IHN1cHBvcnRzRW1haWxOb3RpZmljYXRpb259IiAvPiA8c21hbGwgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1wcmludGluZy1lbWFpbC1ub3RpZmljYXRpb259e0B2aXNpYmxlOiBzdXBwb3J0c0VtYWlsTm90aWZpY2F0aW9ufSI+PC9zbWFsbD4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTpwcmV2aWV3SXNFbmFibGVkfSI+IDxsYWJlbCBjbGFzcz0icHJpbnQtcHJldmlldy10b2dnbGVyIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOm1vYmlsZU1vZGV9Ij4gPGlucHV0IHR5cGU9ImNoZWNrYm94IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IHByaW50UHJldmlld0lzTG9ja2VkfXtkaXNhYmxlZDogcHJpbnRQcmV2aWV3TG9ja1RvZ2dsZXJJc0Rpc2FibGVkfSIgLz4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1wcmludC1wcmV2aWV3LWxvY2t9Ij48L3NwYW4+IDwvbGFiZWw+IDwvZGl2PiA8YnV0dG9uIGNsYXNzPSJidXR0b24gcHJpbnQtYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtY2xpY2s6IGhhbmRsZVByaW50Q2xpY2t9e0B0ZXh0OiBAbGFuZ3VhZ2UtcHJpbnR9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIHByaW50LWNhbmNlbC1idXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1jbGljazogaGFuZGxlQ2FuY2VsQ2xpY2t9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWNhbmNlbH0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJwcmludC1jb21wbGV0ZSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHByaW50Q29tcGxldGV9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBzdXBwb3J0c0VtYWlsTm90aWZpY2F0aW9ufSI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcHJpbnQtY29tcGxldGUtZGVzY3JpcHRpb259Ij48L3A+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiBwcmludC1idXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1jbGljazogaGFuZGxlT3BlbkZpbGVDbGlja317QHRleHQ6IEBsYW5ndWFnZS1vcGVuLWZpbGV9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzdXBwb3J0c0VtYWlsTm90aWZpY2F0aW9ufSI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcHJpbnRpbmctcHJpbnQtcmVxdWVzdC1zdGFydC1kZXNjcmlwdGlvbn0iPjwvcD4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdmFsaWRFbWFpbEFkZHJlc3NTdXBwbGllZH0iPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXByaW50aW5nLXByaW50LXJlcXVlc3QtZGVzY3JpcHRpb259Ij48L3A+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHZhbGlkRW1haWxBZGRyZXNzU3VwcGxpZWR9Ij4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1wcmludGluZy1wcmludC1yZXF1ZXN0LXN0YXR1cy1kZXNjcmlwdGlvbn0iPjwvcD4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIHByaW50LWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LWNsaWNrOiBoYW5kbGVPcGVuRmlsZUNsaWNrfXtAdGV4dDogQGxhbmd1YWdlLXByaW50aW5nLXByaW50LWpvYi1zdGF0dXN9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Printing/UnlockedPrintPreviewView.html","html","PGRpdiBjbGFzcz0icHJpbnRpbmctcGVlcGhvbGUtY29udGFpbmVyIj4gPGRpdiBjbGFzcz0icHJpbnRpbmctcGVlcGhvbGUiIGRhdGEtYmluZGluZz0ie0B2YXI6cGVlcGhvbGV9Ij4gPGltZyBjbGFzcz0icHJpbnRpbmctcGVlcGhvbGUtaW1nIiBzcmM9IlJlc291cmNlcy9JbWFnZXMvY2VudGVyLWNyb3NzLTMyLnBuZyIgLz4gPC9kaXY+IDwvZGl2PiA=");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Project/ProjectActionsView.html","html","PGRpdiBjbGFzcz0ibm8taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogdmlzaWJsZU1lbnVJdGVtc317QHRleHQ6IEBsYW5ndWFnZS1tZW51LW5vLWl0ZW1zfSI+PC9kaXY+IDx1bCBjbGFzcz0ibGlzdC1tZW51IGhhcy1pY29uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdmlzaWJsZU1lbnVJdGVtc317QHNvdXJjZTogdmlzaWJsZU1lbnVJdGVtc30iPiA8bGkgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiB2aXNpYmxlTWVudUl0ZW1zfSI+IDxidXR0b24gY2xhc3M9Imxpc3QtbWVudS1idXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbm1vdXNlb3ZlcjogZ2V0RGVzY3JpcHRpb259e0BldmVudC1vbmNsaWNrOiBoYW5kbGVNZW51SXRlbUNsaWNrfSI+IDxpbWcgY2xhc3M9Imxpc3QtbWVudS1pY29uIiBkYXRhLWJpbmRpbmc9IntzcmM6IGljb25Vcml9e0B2aXNpYmxlOiBpY29uVXJpfSIgYWx0PSIgIiAvPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRleHR9Ij48L3N0cm9uZz4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXNjIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZGVzY3JpcHRpb259e0B0ZXh0OiBkZXNjcmlwdGlvbn0iPjwvc3Bhbj4gPC9zcGFuPiA8L2J1dHRvbj4gPC9saT4gPC91bD4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Project/ProjectEditorView.html","html","PGRpdiBjbGFzcz0icHJvamVjdC1lZGl0b3IiPiA8ZGl2IGNsYXNzPSJsb2FkaW5nLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzQnVzeX0iPiA8ZGl2IGNsYXNzPSJsb2FkaW5nLWltZyI+PC9kaXY+IDxkaXYgY2xhc3M9ImxvYWRpbmctbXNnIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1sb2FkaW5nfSI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJwcm9qZWN0LWVkaXRvci1jb250ZW50IiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc0J1c3l9Ij4gPGRpdiBjbGFzcz0iZm9ybS1zdGFja2VkIj4gPGRpdiBjbGFzcz0iZm9ybS1pdGVtIj4gPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1wcm9qZWN0LWVkaXRvci1uYW1lLWxhYmVsfSI+PC9zcGFuPiA8aW5wdXQgdHlwZT0idGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBuYW1lfXt0aXRsZTogQGxhbmd1YWdlLXByb2plY3QtZWRpdG9yLW5hbWUtdGl0bGV9e0BldmVudC1vbmlucHV0OiBoYW5kbGVJbnB1dENoYW5nZWR9IiAvPiA8L2xhYmVsPiA8L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS12YWxpZGF0aW9uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaW5wdXRFcnJvck1lc3NhZ2V9Ij4gPHNwYW4gY2xhc3M9ImZpZWxkLXZhbGlkYXRpb24tZXJyb3IiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBpbnB1dEVycm9yTWVzc2FnZX0iPjwvc3Bhbj4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0taXRlbSI+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcHJvamVjdC1lZGl0b3ItZGVzY3JpcHRpb24tbGFiZWx9Ij48L3NwYW4+IDx0ZXh0YXJlYSB0eXBlPSJ0ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IGRlc2NyaXB0aW9ufXt0aXRsZTogQGxhbmd1YWdlLXByb2plY3QtZWRpdG9yLWRlc2NyaXB0aW9uLXRpdGxlfSI+PC90ZXh0YXJlYT4gPC9sYWJlbD4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHByb2plY3RVcmx9Ij4gPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXByb2plY3QtdXJsLWxhYmVsfSI+PC9sYWJlbD4gPGlucHV0IHR5cGU9InRleHQiIHJlYWRvbmx5IGRhdGEtYmluZGluZz0ie0B2YWx1ZTogcHJvamVjdFVybH17dGl0bGU6IEBsYW5ndWFnZS1wcm9qZWN0LXVybC10aXRsZX0iIC8+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie3RpdGxlOiBAbGFuZ3VhZ2UtcHJvamVjdC1lZGl0b3Itc2F2ZS1idXR0b24tdGl0bGV9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLXNhdmV9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVTYXZlQnV0dG9uQ2xpY2t9e0BkaXNhYmxlZDogaW5wdXRFcnJvck1lc3NhZ2V9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9Int0aXRsZTogQGxhbmd1YWdlLXByb2plY3QtZWRpdG9yLWNhbmNlbC1idXR0b24tdGl0bGV9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWNhbmNlbH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNhbmNlbEJ1dHRvbkNsaWNrfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Project/ProjectStatusView.html","html","PGRpdiBjbGFzcz0icHJvamVjdC1zdGF0dXMiPiA8ZGl2IGNsYXNzPSJsb2FkaW5nLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzQnVzeX0iPiA8ZGl2IGNsYXNzPSJsb2FkaW5nLWltZyI+PC9kaXY+IDxkaXYgY2xhc3M9ImxvYWRpbmctbXNnIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogc3RhdHVzTWVzc2FnZX0iPjwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0icHJvamVjdC1zdGF0dXMtY29tcGxldGUiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzQnVzeX0iPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXByb2plY3Qtc3RhdHVzLXNhdmVkLWNvbXBsZXRlfSI+PC9wPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXByb2plY3Qtc3RhdHVzLXNhdmVkLWRlc2NyaXB0aW9ufSI+PC9wPiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93UHJvamVjdFVybH0iPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXByb2plY3Qtc3RhdHVzLXNhdmVkLXVybC1kZXNjcmlwdGlvbn0iPjwvcD4gPGlucHV0IHR5cGU9InRleHQiIHJlYWRvbmx5IGRhdGEtYmluZGluZz0ie0B2YWx1ZTogcHJvamVjdFVybH0iIC8+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie3RpdGxlOiBAbGFuZ3VhZ2UtcHJvamVjdC1zdGF0dXMtc2hhcmUtYnV0dG9uLXRpdGxlfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1zaGFyZX17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVNoYXJlQnV0dG9uQ2xpY2t9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9Int0aXRsZTogQGxhbmd1YWdlLXByb2plY3Qtc3RhdHVzLWNsb3NlLWJ1dHRvbi10aXRsZX17QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tY2xvc2V9e0BldmVudC1jbGljazogaGFuZGxlQ2xvc2VCdXR0b25DbGlja30iPkNsb3NlPC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Project/ProjectsView.html","html","PGRpdiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBQcm9qZWN0c0FjdGlvbnNXaWRnZXR9e0B3aWRnZXQtcmVxdWlyZWQ6IGZhbHNlfSIgZGF0YS1tZW51LWlkPSJQcm9qZWN0c0FjdGlvbnMiIGRhdGEtbWVudS10ZW1wbGF0ZT0iTWFwcGluZy9pbmZyYXN0cnVjdHVyZS9tZW51cy9NZW51Vmlldy5odG1sIj48L2Rpdj4gPGRpdiBjbGFzcz0icHJvamVjdHMiPiA8ZGl2IGNsYXNzPSJwcm9qZWN0cy1vcHRpb25zIj4gPGRpdiBjbGFzcz0iZmlsdGVyLWJveCI+IDxpbnB1dCBjbGFzcz0iZmlsdGVyLWlucHV0IiB0eXBlPSJ0ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IGZpbHRlclRleHR9e0BldmVudC1rZXlkb3duOiBoYW5kbGVLZXlEb3dufXtwbGFjZWhvbGRlcjogQGxhbmd1YWdlLXByb2plY3RzLWZpbHRlci1wbGFjZWhvbGRlcn17dGl0bGU6IEBsYW5ndWFnZS1wcm9qZWN0cy1maWx0ZXItdGl0bGV9IiB0YWJpbmRleD0iMCIgLz4gPGJ1dHRvbiBjbGFzcz0iZmlsdGVyLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGVuYWJsZWQ6IGZpbHRlclRleHR9e0BldmVudC1jbGljazogaGFuZGxlQ2xlYXJGaWx0ZXJDbGlja30iIHRhYmluZGV4PSIwIj48c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXByb2plY3RzLWZpbHRlci1jbGVhcn0iPjwvc3Bhbj48L2J1dHRvbj4gPC9kaXY+IDxkaXYgY2xhc3M9InByb2plY3Qtc2VsZWN0b3ItdG9vbHMiPiA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwgcHJvamVjdC1jaGVja2JveCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzQXV0aGVudGljYXRlZH0iPiA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogcHJpdmF0ZVByb2plY3RzT25seX0iIC8+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcHJvamVjdHMtcHJpdmF0ZS1wcm9qZWN0cy1sYWJlbH0iPjwvc3Bhbj4gPC9sYWJlbD4gPHNwYW4gY2xhc3M9InByb2plY3Qtc2VsZWN0b3ItZHJvcGRvd24iPiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGZpZWxkU29ydGVyc317QHZhbHVlOiBzZWxlY3RlZEZpZWxkU29ydGVyfXt0aXRsZTogQGxhbmd1YWdlLXByb2plY3RzLXNvcnQtc2VsZWN0b3ItdGl0bGV9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBmaWVsZFNvcnRlcnN9e0B0ZXh0OiBkaXNwbGF5TmFtZX17QGF0dGFjaDogQGNvbnRleHR9IiAvPiA8L3NlbGVjdD4gPC9zcGFuPiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9InByb2plY3RzLWxpc3QtY29udGFpbmVyIj4gPGRpdiBjbGFzcz0icHJvamVjdHMtc3RhdHVzLW1lc3NhZ2UiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzQnVzeX0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXByb2plY3Qtc3RhdHVzLW9mZmxpbmV9e0B2aXNpYmxlOiBzdGF0dXNPZmZsaW5lfSI+PC9zcGFuPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBzdGF0dXNPZmZsaW5lfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcHJvamVjdC1zdGF0dXMtZW1wdHl9e0B2aXNpYmxlOiBzdGF0dXNFbXB0eX0iPjwvc3Bhbj4gPC9zcGFuPiA8L2Rpdj4gPGRpdiBjbGFzcz0ibG9hZGluZy1jb250YWluZXIiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0J1c3l9Ij4gPGRpdiBjbGFzcz0ibG9hZGluZy1pbWciPjwvZGl2PiA8ZGl2IGNsYXNzPSJsb2FkaW5nLW1zZyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tbG9hZGluZ30iPjwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0icHJvamVjdHMtbGlzdCIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNCdXN5fSI+IDx1bCBjbGFzcz0ibGlzdC1tZW51IiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBwcm9qZWN0c1BhZ2V9Ij4gPGxpIGNsYXNzPSJpdGVtLWxpc3QtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogcHJvamVjdHNQYWdlfSI+IDxkaXYgY2xhc3M9InByb2plY3QtaW5mbyI+IDxidXR0b24gY2xhc3M9Imxpc3QtaXRlbS1idXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1jbGljazogaGFuZGxlUHJvamVjdENsaWNrfSI+IDxpbWcgY2xhc3M9Imxpc3QtaXRlbS1pY29uIiBkYXRhLWJpbmRpbmc9IntzcmM6IHRodW1ibmFpbH17dGl0bGU6IG5hbWV9e2FsdDogbmFtZX17QGV2ZW50LWVycm9yOiBoYW5kbGVUaHVtYm5haWxMb2FkRXJyb3J9IiAvPiA8ZGl2IGNsYXNzPSJwcm9qZWN0LW92ZXJ2aWV3Ij4gPHNwYW4gY2xhc3M9InByb2plY3QtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJwcm9qZWN0LW1vZGlmaWVkIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogbGFzdE1vZGlmaWVkQnl9Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJwcm9qZWN0LWNyZWF0ZWQiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBjcmVhdGVkQnl9Ij48L3NwYW4+IDwvZGl2PiA8L2J1dHRvbj4gPGRpdiBjbGFzcz0icHJvamVjdC1kZXRhaWxzIj4gPGRpdiBjbGFzcz0icHJvamVjdC1kZXNjcmlwdGlvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRlc2NyaXB0aW9ufSI+PC9kaXY+IDxhIGhyZWY9IiMiIGNsYXNzPSJtb3JlLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGNhbkV4cGFuZH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVByb2plY3RFeHBhbmRlckNsaWNrfXtAdGV4dDogQGxhbmd1YWdlLXByb2plY3RzLWRlc2NyaXB0aW9uLW1vcmV9Ij48L2E+IDwvZGl2PiA8L2Rpdj4gPGJ1dHRvbiBjbGFzcz0ibGlzdC1pdGVtLWJ1dHRvbiBwcm9qZWN0LWFjdGlvbnMgY2hldnJvbi1yaWdodC0xNiIgZGF0YS1iaW5kaW5nPSJ7dGl0bGU6IEBsYW5ndWFnZS1wcm9qZWN0LWFjdGlvbnMtdG9vbHRpcH17QGV2ZW50LWNsaWNrOiBoYW5kbGVQcm9qZWN0QWN0aW9uc30iPjwvYnV0dG9uPiA8L2xpPiA8L3VsPiA8L2Rpdj4gPC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogc3RhdHVzRW1wdHl9e0B3aWRnZXQ6IFBhZ2luZ0NvbnRyb2xzV2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcGxhY2U6IGZhbHNlfSI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Project/ShareProjectView.html","html","PGRpdiBjbGFzcz0ic2hhcmUtcHJvamVjdCI+IDxkaXYgY2xhc3M9ImxvYWRpbmctY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNCdXN5fSI+IDxkaXYgY2xhc3M9ImxvYWRpbmctaW1nIj48L2Rpdj4gPGRpdiBjbGFzcz0ibG9hZGluZy1tc2ciIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBzdGF0dXNNZXNzYWdlfSI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJzaGFyZS1wcm9qZWN0LWNvbnRlbnQiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzQnVzeX0iPiA8ZGl2IGNsYXNzPSJmb3JtLXN0YWNrZWQiPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc093bmVyfSI+IDxoNCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXNoYXJlLXByb2plY3QtcHJpdmlsZWdlcy10aXRsZX0iPjwvaDQ+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utc2hhcmUtcHJvamVjdC1wcml2aWxlZ2VzLWRlc2NyaXB0aW9ufSI+PC9wPiA8L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogcHJvamVjdFVybH0iPiA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcHJvamVjdC11cmwtbGFiZWx9Ij48L2xhYmVsPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRyb2wiPiA8aW5wdXQgdHlwZT0idGV4dCIgcmVhZG9ubHkgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBwcm9qZWN0VXJsfXt0aXRsZTogQGxhbmd1YWdlLXByb2plY3QtdXJsLXRpdGxlfSIgLz4gPC9kaXY+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc093bmVyfSI+IDxkaXYgY2xhc3M9ImZvcm0taXRlbSBzaGFyZS13aXRoIj4gPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXNoYXJlLXByb2plY3Qtc2hhcmUtd2l0aC1sYWJlbH0iPjwvbGFiZWw+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IEdyYW50RWRpdG9yV2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcGxhY2U6IHRydWV9Ij48L2Rpdj4gPGRpdiBjbGFzcz0ic2hhcmUtcHJvamVjdC1saW5rcyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dHdWVzdExpbmtzfSI+IDxoNCBjbGFzcz0ic2hhcmUtcHJvamVjdC1saW5rcy10aXRsZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LWxpbmtzLXRpdGxlfSI+PC9oND4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LWxpbmtzLWRlc2NyaXB0aW9ufSI+PC9wPiA8ZGl2IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGd1ZXN0TGlua3N9Ij4gPGRpdiBjbGFzcz0iZm9ybS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBndWVzdExpbmtzfSI+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L2xhYmVsPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRyb2wiPiA8aW5wdXQgY2xhc3M9ImxpbmstYm94IiB0eXBlPSJ0ZXh0IiByZWFkb25seSBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IGxpbmtVcmx9e3RpdGxlOiBuYW1lfSIgLz4gPGRpdiBjbGFzcz0iaW5saW5lLWJsb2NrIHByb2plY3QtbGluay1idXR0b25zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIGFkZC0xNiIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogbGlua1VybH17dGl0bGU6IEBsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LWxpbmtzLWFkZC1idXR0b24tdGl0bGV9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVBZGRMaW5rQnV0dG9uQ2xpY2t9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIGNsZWFyLTI0IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogbGlua1VybH17dGl0bGU6IEBsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LWxpbmtzLXJlbW92ZS1idXR0b24tdGl0bGV9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVSZW1vdmVMaW5rQnV0dG9uQ2xpY2t9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxkaXYgY2xhc3M9InNoYXJlLXByb2plY3QtYnV0dG9ucyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzT3duZXJ9Ij4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9Int0aXRsZTogQGxhbmd1YWdlLXNoYXJlLXByb2plY3QtY2xlYXItYnV0dG9uLXRpdGxlfXtAdGV4dDogQGxhbmd1YWdlLXNoYXJlLXByb2plY3QtY2xlYXItYnV0dG9uLXRleHR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGVhckJ1dHRvbkNsaWNrfSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7dGl0bGU6IEBsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LXNhdmUtYnV0dG9uLXRpdGxlfXtAdGV4dDogQGxhbmd1YWdlLXNoYXJlLXByb2plY3Qtc2F2ZS1idXR0b24tdGV4dH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVNhdmVCdXR0b25DbGlja30iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie3RpdGxlOiBAbGFuZ3VhZ2Utc2hhcmUtcHJvamVjdC1jYW5jZWwtYnV0dG9uLXRpdGxlfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1jYW5jZWx9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbG9zZUJ1dHRvbkNsaWNrfSI+PC9idXR0b24+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzT3duZXJ9Ij4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9Int0aXRsZTogQGxhbmd1YWdlLXNoYXJlLXByb2plY3QtY2xvc2UtYnV0dG9uLXRpdGxlfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1jbG9zZX17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsb3NlQnV0dG9uQ2xpY2t9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Prompt/PromptView.html","html","DQo8ZGl2IGNsYXNzPSJtb2R1bGUgbm90aWZpY2F0aW9uIHByb21wdCI+IDxwIGNsYXNzPSJkZXNjIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGVzY3JpcHRpb259Ij48L3A+IDxmb3JtIGRhdGEtYmluZGluZz0ie0BldmVudC1vbnN1Ym1pdDogaGFuZGxlQ2xpY2tPa30iPiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iPiA8aW5wdXQgdHlwZT0idGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBwcm9tcHRUZXh0fSIgLz4gPC9kaXY+IDxpbnB1dCB0eXBlPSJzdWJtaXQiIGNsYXNzPSJib3VuZC1pbnZpc2libGUiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja09rfSIgLz4gPC9mb3JtPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0B2YXI6IG9rQnV0dG9uRWxlbWVudH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrT2t9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLW9rfSIgLz4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tDYW5jZWx9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWNhbmNlbH0iIC8+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/QueryBuilder/AutoCompleteView.html","html","PGlucHV0IHR5cGU9InRleHQiIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogdmFsdWV9e0B2YXI6IGF1dG9Db21wbGV0ZUlucHV0fXtAZXZlbnQtZm9jdXM6IGF1dG9Db21wbGV0ZV9mb2N1c317QGV2ZW50LWJsdXI6IGF1dG9Db21wbGV0ZV9ibHVyfSIgLz4g");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/QueryBuilder/SimpleQueryBuilderView.html","html","PGRpdiBjbGFzcz0ic2ltcGxlLXF1ZXJ5LWJ1aWxkZXIgcGFkZGVkLXZpZXciPiA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IG5vVmFsaWRMYXllcnN9Ij4gPGZvcm0gZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LWtleWRvd246IGZvcm1fa2V5ZG93bn17QHZhcjogaHRtbEZvcm19e0BldmVudC1zdWJtaXQ6IGZvcm1fc3VibWl0fSI+IDxkaXYgY2xhc3M9InNlbGVjdC1ib3giPiA8bGFiZWw+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcXVlcnlidWlsZGVyLWRhdGEtc291cmNlfSI+PC9zcGFuPiA8c2VsZWN0IGlkPSJzZWxlY3RsYXllciIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBzZWxlY3RlZExheWVyVW5pcXVlSWR9Ij4gPG9wdGdyb3VwIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhcmVRdWVyeWFibGVMYXllcnN9e0Bzb3VyY2U6IGxheWVyc317bGFiZWw6IEBsYW5ndWFnZS1xdWVyeWJ1aWxkZXItcXVlcnktbGF5ZXJzfSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogbGF5ZXJzfXtAdGV4dDogZGlzcGxheU5hbWV9e3ZhbHVlOiB1bmlxdWVJZH0iIC8+IDwvb3B0Z3JvdXA+IDxvcHRncm91cCBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogYXJlUXVlcnlhYmxlVGFibGVzfXtAc291cmNlOiB0YWJsZXN9e2xhYmVsOiBAbGFuZ3VhZ2UtcXVlcnlidWlsZGVyLXF1ZXJ5LXRhYmxlc30iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHRhYmxlc317QHRleHQ6IGRpc3BsYXlOYW1lfXt2YWx1ZTogdW5pcXVlSWR9IiAvPiA8L29wdGdyb3VwPiA8L3NlbGVjdD4gPC9sYWJlbD4gPC9kaXY+IDxociAvPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBkaXNhYmxlZH0iPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcXVlcnlidWlsZGVyLWZpbHRlci1hbHJlYWR5LWFwcGxpZWR9Ij48L2Rpdj4gPC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IG5vdERpc2FibGVkfSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7dGV4dDogaW5mb1RleHR9IiBjbGFzcz0iZmluZC1yZWNvcmRzIj48L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBxdWVyeUNsYXVzZXN9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBxdWVyeUNsYXVzZXN9IiBjbGFzcz0icXVlcnktY2xhdXNlLXJvdyI+IDx0YWJsZSBjbGFzcz0icXVlcnktY2xhdXNlLWNvbnRlbnQiIHJvbGU9InByZXNlbnRhdGlvbiI+IDx0cj4gPHRkIGNsYXNzPSJmaWVsZC1zZWxlY3RvciI+IDxhIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBwcmVzZW50YWJsZUZpZWxkTmFtZX17QHZpc2libGU6IHNob3dEaXNwbGF5RmllbGR9e0BldmVudC1vbmNsaWNrOiBkaXNwbGF5RmllbGRfY2xpY2t9IiBocmVmPSIjIiBjbGFzcz0icHJlc2VudGFibGUtcXVlcnktaXRlbSI+PC9hPiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGZpZWxkc317QHZhbHVlOiBzZWxlY3RlZEZpZWxkTmFtZX17QHZpc2libGU6IHNob3dFZGl0RmllbGR9e0BldmVudC1vbmJsdXI6IGlucHV0X2JsdXJ9e0BldmVudC1vbmZvY3VzOiBpbnB1dF9mb2N1c317dGl0bGU6IEBsYW5ndWFnZS1xdWVyeWJ1aWxkZXItc2VsZWN0LWZpbHRlcn0iIGNsYXNzPSJmaWVsZC1zZWxlY3RvciI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogZmllbGRzfXtAdGV4dDogYWxpYXN9e3ZhbHVlOiBuYW1lfSIgLz4gPC9zZWxlY3Q+IDwvdGQ+IDx0ZCBjbGFzcz0ib3BlcmF0b3Itc2VsZWN0b3IiPiA8YSBkYXRhLWJpbmRpbmc9IntAdGV4dDogcHJlc2VudGFibGVPcGVyYXRvcn17QHZpc2libGU6IHNob3dEaXNwbGF5T3BlcmF0b3J9e0BldmVudC1vbmNsaWNrOiBkaXNwbGF5T3BlcmF0b3JfY2xpY2t9IiBocmVmPSIjIiBjbGFzcz0icHJlc2VudGFibGUtcXVlcnktaXRlbSI+PC9hPiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IG9wZXJhdG9yc317QHZhbHVlOiBzZWxlY3RlZE9wZXJhdG9yfXtAdmlzaWJsZTogc2hvd0VkaXRPcGVyYXRvcn17QGV2ZW50LW9uYmx1cjogaW5wdXRfYmx1cn17QGV2ZW50LW9uZm9jdXM6IGlucHV0X2ZvY3VzfXt0aXRsZTogQGxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1zZWxlY3Qtb3BlcmF0b3J9IiBjbGFzcz0ib3BlcmF0b3Itc2VsZWN0b3IiPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IG9wZXJhdG9yc317QHRleHQ6IG5hbWV9e3ZhbHVlOiB2YWx1ZX0iIC8+IDwvc2VsZWN0PiA8L3RkPiA8dGQgY2xhc3M9ImF1dG8tZmllbGQiPiA8YSBkYXRhLWJpbmRpbmc9IntAdGV4dDogcHJlc2VudGFibGVGaWVsZFZhbHVlfXtAdmlzaWJsZTogc2hvd0Rpc3BsYXlWYWx1ZX17QGV2ZW50LW9uY2xpY2s6IGRpc3BsYXlWYWx1ZV9jbGlja317QGNsYXNzLWVtcHR5LXRleHQtcGxhY2Vob2xkZXI6IHByZXNlbnRhYmxlRmllbGRWYWx1ZUlzRW1wdHlUZXh0fSIgaHJlZj0iIyIgY2xhc3M9InByZXNlbnRhYmxlLXF1ZXJ5LWl0ZW0iPjwvYT4gPGRpdiBjbGFzcz0iaW5saW5lLWJsb2NrIGF1dG8tZmllbGQiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93RWRpdFZhbHVlfSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogQXV0b0NvbXBsZXRlfXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAdmlzaWJsZTogc2hvd1RleHRJbnB1dH0iIGNsYXNzPSJhdXRvLWNvbXBsZXRlIHZhbHVlLXNlbGVjdG9yIGlubGluZS1ibG9jayI+PC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogRGF0ZVBpY2tlcn17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH17QHZpc2libGU6IHNob3dEYXRlVGltZUlucHV0fSIgY2xhc3M9ImRhdGUtcGlja2VyIHZhbHVlLXNlbGVjdG9yIGlubGluZS1ibG9jayI+PC9kaXY+IDxzZWxlY3QgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dDb2RlZFZhbHVlRG9tYWluSW5wdXR9e0Bzb3VyY2U6IGNvZGVkVmFsdWVzfXtAdmFsdWU6IGNvZGVkRG9tYWluVmFsdWV9e0BldmVudC1vbmJsdXI6IGlucHV0X2JsdXJ9e0BldmVudC1vbmZvY3VzOiBpbnB1dF9mb2N1c317dGl0bGU6IEBsYW5ndWFnZS1xdWVyeWJ1aWxkZXItY29kZWQtdmFsdWV9IiBjbGFzcz0iY29kZWQtdmFsdWUtcGlja2VyIHZhbHVlLXNlbGVjdG9yIGlubGluZS1ibG9jayI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogY29kZWRWYWx1ZXN9e0B0ZXh0OiBuYW1lfXt2YWx1ZTogdmFsfSIgLz4gPC9zZWxlY3Q+IDxpbnB1dCBkaXNhYmxlZD0iZGlzYWJsZWQiIHR5cGU9InRleHQiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93RGlzYWJsZWRJbnB1dH17QGNsYXNzLWRpc2FibGVkOiBzaG93RGlzYWJsZWRJbnB1dH0iIGNsYXNzPSJ2YWx1ZS1zZWxlY3RvciIgLz4gPC9kaXY+IDwvdGQ+IDx0ZCBjbGFzcz0iZGVsZXRlIj48YnV0dG9uIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiByZW1vdmVRdWVyeUNsYXVzZV9jbGlja317QGNsYXNzLWRpc2FibGVkOiBkZWxldGVEaXNhYmxlZH17dGl0bGU6IEBsYW5ndWFnZS1jb21tb24tZGVsZXRlfSIgY2xhc3M9ImRlbGV0ZS1idXR0b24iPjwvYnV0dG9uPjwvdGQ+IDwvdHI+IDwvdGFibGU+IDxkaXYgY2xhc3M9ImFuZC10ZXh0IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1hbmR9e0B2aXNpYmxlOiBpc05vdExhc3R9Ij48L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJhZGQtcXVlcnktY29udGFpbmVyIj4gPGJ1dHRvbiBjbGFzcz0iamltdS1idG4gYWRkIGJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGFkZFF1ZXJ5Q2xhdXNlX2NsaWNrfXtAdGV4dDogQGxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1hZGQtY29uZGl0aW9ufSI+PC9idXR0b24+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHNlbGVjdGVkTGF5ZXJJc1RhYmxlfSI+IDxociAvPiA8ZGl2IGNsYXNzPSJzZWxlY3QtYm94Ij4gPGxhYmVsPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1zcGF0aWFsLWZpbHRlcn0iPjwvc3Bhbj4gPHNlbGVjdCBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBzcGF0aWFsRmlsdGVyc317QHZhbHVlOiBzZWxlY3RlZFNwYXRpYWxGaWx0ZXJ9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBzcGF0aWFsRmlsdGVyc317QHRleHQ6IG5hbWV9e3ZhbHVlOiB2YWx9IiAvPiA8L3NlbGVjdD4gPC9sYWJlbD4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPGhyIC8+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImppbXUtYnRuIGJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGNsZWFyUmVzdWx0c0J1dHRvbl9jbGlja317QHZpc2libGU6IGlzUXVlcnlBbmRBd2FifXtAdGV4dDogQGxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1jbGVhcn0iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJqaW11LWJ0biBidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBjbGVhckZpbHRlckJ1dHRvbl9jbGlja317QHZpc2libGU6IGlzRmlsdGVyQnVpbGRlcn17QHRleHQ6IEBsYW5ndWFnZS1xdWVyeWJ1aWxkZXItY2xlYXJ9Ij48L2J1dHRvbj4gPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJqaW11LWJ0biBidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBhY3Rpb25CdXR0b25fY2xpY2t9e0B2aXNpYmxlOiBpc1F1ZXJ5QnVpbGRlcn17QHRleHQ6IEBsYW5ndWFnZS1xdWVyeWJ1aWxkZXItc2VhcmNofSI+PC9idXR0b24+IDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iamltdS1idG4gYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogYWN0aW9uQnV0dG9uX2NsaWNrfXtAdmlzaWJsZTogaXNGaWx0ZXJCdWlsZGVyfXtAdGV4dDogQGxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1maWx0ZXJ9e0BkaXNhYmxlZDogZGlzYWJsZWR9e0BjbGFzcy1kaXNhYmxlZDogZGlzYWJsZWR9Ij48L2J1dHRvbj4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJjbGVhciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzRGVidWd9Ij4gPGg0PkRlYnVnPC9oND4gPGhyIC8+IDx0ZXh0YXJlYSBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IHdoZXJlQ2xhdXNlfXtAdmlzaWJsZTogaXNEZWJ1Z30iIHN0eWxlPSJ3aWR0aDogMTAwJTsiPjwvdGV4dGFyZWE+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IHJlbW92ZUxheWVyQnV0dG9uX2NsaWNrfSI+UmVtb3ZlIExheWVyPC9idXR0b24+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGFkZExheWVyQnV0dG9uX2NsaWNrfSI+QWRkIExheWVyPC9idXR0b24+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGV4dGVybmFsZmlsdGVyQnV0dG9uX2NsaWNrfSI+RXh0ZXJuYWwgRmlsdGVyPC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPC9mb3JtPiA8L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogbm9WYWxpZExheWVyc317QHRleHQ6IG5vVmFsaWRMYXllcnNUZXh0fSI+PC9kaXY+IDxkaXYgY2xhc3M9ImF1dG9jb21wbGV0ZS1jb250YWluZXIiPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Reporting/ListReportsView.html","html","PGRpdiBjbGFzcz0ibGlzdC1yZXBvcnRzLXZpZXciPiA8ZGl2IGNsYXNzPSJsaXN0LXJlcG9ydHMtaGVhZGVyIiB0YWJpbmRleD0iMCI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbGlzdC1yZXBvcnRzLWV4cGxhbmF0aW9ufSI+PC9wPiA8L2Rpdj4gPHVsIGNsYXNzPSJsaXN0LW9mLXJlcG9ydHMiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGF2YWlsYWJsZVJlcG9ydExpc3RpbmdzfSI+IDxsaSBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBhdmFpbGFibGVSZXBvcnRMaXN0aW5nc30iPiA8YnV0dG9uIGNsYXNzPSJsaXN0LW9mLXJlcG9ydHMtbGluayIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrUmVwb3J0fSI+IDxzdHJvbmcgY2xhc3M9Imxpc3Qtb2YtcmVwb3J0cy1saW5rLXRpdGxlIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGlzcGxheU5hbWV9Ij48L3N0cm9uZz4gPHNwYW4gY2xhc3M9Imxpc3Qtb2YtcmVwb3J0cy1saW5rLWRlc2NyaXB0aW9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGVzY3JpcHRpb259Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJsaXN0LW9mLXJlcG9ydHMtbGluay1kZXRhaWxzIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNNb3JlVGhhbk9uZUZlYXR1cmVTZWxlY3RlZH17QHRleHQ6IGRldGFpbHN9Ij48L3NwYW4+IDwvYnV0dG9uPiA8L2xpPiA8L3VsPiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Reporting/RunReportView.html","html","PGRpdiBjbGFzcz0icnVuLXJlcG9ydC12aWV3Ij4gIDxkaXYgY2xhc3M9InJ1bi1yZXBvcnQtcHJvZ3Jlc3MiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGNvbXBsZXRlfSI+ICA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzQXN5bmN9Ij4gPGgyIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcnVuLXJlcG9ydC1wcm9ncmVzcy1oZWFkaW5nLXN5bmN9Ij48L2gyPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXJ1bi1yZXBvcnQtcHJvZ3Jlc3MtbWVzc2FnZS1zeW5jfSI+PC9wPiA8L2Rpdj4gIDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzQXN5bmN9Ij4gPGgyIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcnVuLXJlcG9ydC1wcm9ncmVzcy1oZWFkaW5nLWFzeW5jfSI+PC9oMj4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1ydW4tcmVwb3J0LXByb2dyZXNzLW1lc3NhZ2UtYXN5bmN9Ij48L3A+IDwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9InJ1bi1yZXBvcnQtY29tcGxldGUiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBjb21wbGV0ZX0iPiAgPGRpdiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc0FzeW5jfSI+IDxoMiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXJ1bi1yZXBvcnQtY29tcGxldGUtaGVhZGluZy1zeW5jfSI+PC9oMj4gPGEgY2xhc3M9InJ1bi1yZXBvcnQtY29tcGxldGUtbGluayIgZGF0YS1iaW5kaW5nPSJ7aHJlZjogaHJlZn17QHRleHQ6IEBsYW5ndWFnZS1ydW4tcmVwb3J0LWNvbXBsZXRlLWxpbmstc3luY30iIGhyZWY9IiIgdGFyZ2V0PSJfYmxhbmsiIGRvd25sb2FkPjwvYT4gPC9kaXY+ICA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0FzeW5jfSI+IDxoMiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXJ1bi1yZXBvcnQtY29tcGxldGUtaGVhZGluZy1hc3luY30iPjwvaDI+IDxhIGNsYXNzPSJydW4tcmVwb3J0LWNvbXBsZXRlLWxpbmsiIGRhdGEtYmluZGluZz0ie2hyZWY6IGhyZWZ9e0B0ZXh0OiBAbGFuZ3VhZ2UtcnVuLXJlcG9ydC1jb21wbGV0ZS1saW5rLWFzeW5jfSIgaHJlZj0iIiB0YXJnZXQ9Il9ibGFuayI+PC9hPiA8L2Rpdj4gPGJ1dHRvbiBjbGFzcz0icnVuLXJlcG9ydC1jb21wbGV0ZS1kb25lLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1ydW4tcmVwb3J0LWNvbXBsZXRlLWRvbmUtYnV0dG9ufXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tEb25lQnV0dG9ufSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Scalebar/ScalebarView.html","html","PGRpdiBjbGFzcz0ic2NhbGUtYmFyLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogc2NhbGViYXJDb250YWluZXJ9Ij4gIDxzcGFuIGNsYXNzPSJzY2FsZS1iYXItaG9zdCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogc2NhbGViYXJIb3N0fSI+PC9zcGFuPiA8aW1nIGNsYXNzPSJzY2FsZS1zd2l0Y2hlciIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvc2NhbGUtaW5wdXQtMjQucG5nIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogdG9nZ2xlU2NhbGVJbnB1dEJveEFjdGl2ZX17QHZpc2libGU6bW9iaWxlTW9kZX0iIC8+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Scalebar/ScaleInputBoxButtonView.html","html","PGJ1dHRvbiBjbGFzcz0ic2NhbGUtaW5wdXQtYm94LXRvZ2dsZSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzU2NhbGVJbnB1dEJveEVuYWJsZWR9e0BldmVudC1vbmNsaWNrOiB0b2dnbGVTY2FsZUlucHV0Qm94QWN0aXZlfXtAY2xhc3Mtc2NhbGUtaW5wdXQtYm94LW9wZW46IHNjYWxlSW5wdXRCb3hJc1Zpc2libGV9e0Bub2NsYXNzLXNjYWxlLWlucHV0LWJveC1jbG9zZWQ6IHNjYWxlSW5wdXRCb3hJc1Zpc2libGV9e0BjbGFzcy1zY2FsZS1pbnB1dC1ib3gtdG9nZ2xlLWxlZnQ6IGlzTGVmdH17QGNsYXNzLXNjYWxlLWlucHV0LWJveC10b2dnbGUtcmlnaHQ6IGlzUmlnaHR9e3RpdGxlOiBAbGFuZ3VhZ2UtZmVhdHVyZS1zY2FsZS1pbnB1dC1ib3gtdG9nZ2xlLWJ1dHRvbn17dGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtc2NhbGUtaW5wdXQtYm94LXRvZ2dsZX0iIHRhYmluZGV4PSIwIj48L2J1dHRvbj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Scalebar/ScaleInputBoxView.html","html","PGRpdiBjbGFzcz0ic2NhbGUtaW5wdXQtYm94LWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNjYWxlSW5wdXRCb3hJc1Zpc2libGV9e0Bub2NsYXNzLWN1c3RvbS1zY2FsZS1jb250cm9sOiBzY2FsZXN9Ij4gPGZvcm0gYWN0aW9uPSJqYXZhc2NyaXB0OnZvaWQoMCk7IiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25zdWJtaXQ6IGhhbmRsZUFwcGx5fSI+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGxhYmVsfSI+PC9sYWJlbD4gPHNwYW4gY2xhc3M9InNjYWxlLWlucHV0LWJveCI+IDxzZWxlY3QgY2xhc3M9InNjYWxlLXNlbGVjdG9yLXNlbGVjdCBzY2FsZS1zZWxlY3RvciIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogc2NhbGVzfXtAdmlzaWJsZTogc2NhbGVzfXtAdmFsdWU6IHNlbGVjdGVkU2NhbGV9e0BldmVudC1vbmNoYW5nZTogaGFuZGxlU2NhbGVDaGFuZ2V9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBzY2FsZXN9e0B0ZXh0OiBkaXNwbGF5TmFtZX17QGF0dGFjaDogQGNvbnRleHR9Ij48L29wdGlvbj4gPC9zZWxlY3Q+IDxpbnB1dCBjbGFzcz0ic2NhbGUtc2VsZWN0b3ItaW5wdXQgc2NhbGUtc2VsZWN0b3IiIHR5cGU9InRleHQiIHBhdHRlcm49IlswLTldKyhbXC4sXVswLTldKyk/IiBtaW49IjAiIHN0ZXA9IjEwMCIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOmlucHV0U2NhbGV9e0BldmVudC1vbmNoYW5nZTogaGFuZGxlQ2hhbmdlT25JbnB1dH17QGV2ZW50LW9uZm9jdXM6IGhhbmRsZUZvY3VzT25JbnB1dH0iIC8+IDwvc3Bhbj4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIGdvLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUFwcGx5fXtAdGV4dDogQGxhbmd1YWdlLXNjYWxlLWdvfSI+PC9idXR0b24+IDwvZGl2PiA8L2Zvcm0+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Search/SearchHintsView.html","html","PGRpdiBjbGFzcz0iaGludHMtbGlzdCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNlYXJjaEhpbnRzfXtAdmFyOiBoaW50c0xpc3R9e0BldmVudC1rZXlkb3duOiBoYW5kbGVLZXlEb3dufSI+IDx1bCBjbGFzcz0ibGlzdC1tZW51IGhhcy1pY29uIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBzZWFyY2hIaW50c317QG5vY2xhc3MtcmVmaW5lLWRpc2FibGVkOiBlbmFibGVTZWFyY2hSZWZpbmVtZW50fSI+IDxsaSBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHNlYXJjaEhpbnRzfSI+IDxidXR0b24gY2xhc3M9ImNvbnRlbnQgbGlzdC1tZW51LWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUhpbnRDbGlja30iPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb25Vcml9e3NyYzogaWNvblVyaX17YWx0OiBwbGFpblRleHR9IiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvSWNvblBsYWNlaG9sZGVyMjR4MjQucG5nIiAvPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiIGRhdGEtYmluZGluZz0ie2lubmVySFRNTDogc2FmZVRleHR9e3RpdGxlOiBwbGFpblRleHR9Ij48L3NwYW4+IDwvYnV0dG9uPiA8ZGl2IGNsYXNzPSJyZWZpbmUtY29udGFpbmVyIj4gPGJ1dHRvbiBjbGFzcz0icmVmaW5lLWJ0biIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNlYXJjaEhpbnRzfXtAZXZlbnQtb25jbGljazogaGFuZGxlUmVmaW5lU2VhcmNoQ2xpY2t9e3RpdGxlOiBAbGFuZ3VhZ2Utc2VhcmNoLXJlZmluZX0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9saT4gPC91bD4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Search/SearchView.html","html","PGRpdiBjbGFzcz0iZ2xvYmFsLXNlYXJjaCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGVuYWJsZVVJfSI+IDxkaXYgY2xhc3M9InNlYXJjaC1ib3giPiAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJnY3hfc2VhcmNoIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBpbnB1dEVsZW1lbnR9e0B2YWx1ZTogc2VhcmNoVGV4dH17QGV2ZW50LWtleWRvd246IGhhbmRsZUtleURvd259e0BldmVudC1kYmxjbGljazogaGFuZGxlRG91YmxlQ2xpY2t9e3BsYWNlaG9sZGVyOiBAbGFuZ3VhZ2Utc2VhcmNoLXBsYWNlaG9sZGVyfXt0aXRsZTogQGxhbmd1YWdlLXNlYXJjaC1zZWFyY2gtcHJvbXB0fSIgdGFiaW5kZXg9IjAiIC8+IDxidXR0b24gY2xhc3M9InNlYXJjaC1idXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1jbGljazogaGFuZGxlU2VhcmNoQ2xpY2t9IiB0YWJpbmRleD0iMCI+PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1zZWFyY2gtcGVyZm9ybS1nbG9iYWwtc2VhcmNofSIgPjwvc3Bhbj48L2J1dHRvbj4gPC9kaXY+IDxkaXYgY2xhc3M9InJlZ2lvbiBzZWFyY2gtaGludHMtcmVnaW9uIiBkYXRhLXJlZ2lvbi1uYW1lPSJTZWFyY2hIaW50c1JlZ2lvbiI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Selection/CombineResultsView.html","html","PGRpdiBjbGFzcz0icmVmaW5lLXJlc3VsdHMiPiA8ZGl2IGNsYXNzPSJ3aWRnZXQgcmVmaW5lLW9wdGlvbnMiIGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IENvbWJpbmVSZXN1bHRzT3B0aW9uc1dpZGdldH17QHdpZGdldC1jb250ZXh0OiBmZWF0dXJlU2V0Q29sbGVjdGlvbn17QGhpZGRlbjogY29tYmluZU1vZGVDaG9zZW59IiBkYXRhLW1lbnUtaWQ9IkNvbWJpbmVSZXN1bHRzQWN0aW9ucyIgZGF0YS1tZW51LWhvaXN0LWRpc2FibGVkPSJ0cnVlIj48L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogY29tYmluZU1vZGVDaG9zZW59Ij4gPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAgbm8taXRlbSBib3gtY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBzZWxlY3Rpb25zfSI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utc2F2ZWQtcmVzdWx0cy1icm93c2Utbm8taXRlbXN9Ij48L3A+IDxwIGNsYXNzPSJkZXNjcmlwdGlvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1zYXZlZC1yZXN1bHRzLWJyb3dzZS1uby1pdGVtcy1kZXNjfSI+PC9wPiA8L2Rpdj4gPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzZWxlY3Rpb25zfSI+IDxkaXYgY2xhc3M9Imxpc3QtcmVmaW5lLXJlc3VsdHMtaGVhZGVyIiB0YWJpbmRleD0iMCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utc2F2ZWQtcmVzdWx0cy1jb21iaW5lLWxpc3QtZXhwbGFuYXRpb259Ij48L3NwYW4+IDwvZGl2PiA8dWwgY2xhc3M9Imxpc3QtbWVudSIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogcmVzdWx0c1BhZ2V9Ij4gPGxpIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogcmVzdWx0c1BhZ2V9Ij4gPGxhYmVsIGNsYXNzPSJsaXN0LW1lbnUtbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX17Zm9yOiBpZH0iPjwvbGFiZWw+IDxpbnB1dCBjbGFzcz0ibGlzdC1tZW51LWFjdGlvbiIgdHlwZT0iY2hlY2tib3giIGRhdGEtYmluZGluZz0ie2lkOiBpZH17QHZhbHVlOiBpc1NlbGVjdGVkfSIgLz4gPC9saT4gPC91bD4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIG9rLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LWNsaWNrOiBoYW5kbGVPa0NsaWNrfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1va30iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJidXR0b24gY2FuY2VsLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LWNsaWNrOiBoYW5kbGVDYW5jZWxDbGlja317QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tY2FuY2VsfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gIDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNlbGVjdGlvbnN9e0B3aWRnZXQ6IFBhZ2luZ0NvbnRyb2xzV2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX0iPjwvZGl2PiAgPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Selection/ListSelectionsView.html","html","PGRpdiBjbGFzcz0ibGlzdC1zZWxlY3Rpb25zLXZpZXciPiA8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCBuby1pdGVtIGJveC1jb250YWluZXIiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHNlbGVjdGlvbnN9Ij4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1zYXZlZC1yZXN1bHRzLWJyb3dzZS1uby1pdGVtc30iPjwvcD4gPHAgY2xhc3M9ImRlc2NyaXB0aW9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXNhdmVkLXJlc3VsdHMtYnJvd3NlLW5vLWl0ZW1zLWRlc2N9Ij48L3A+IDwvZGl2PiA8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNlbGVjdGlvbnN9Ij4gPHVsIGNsYXNzPSJsaXN0LW1lbnUiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHJlc3VsdHNQYWdlfSI+IDxsaSBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHJlc3VsdHNQYWdlfSI+IDxidXR0b24gY2xhc3M9InNlbGVjdGlvbi1jb250ZW50cyIgZGF0YS1iaW5kaW5nPSJ7QGRpc2FibGVkOiBkaXNhYmxlZH17dGl0bGU6IHJlc3RvcmVUb29sdGlwfXtAZXZlbnQtb25jbGljazogaGFuZGxlUmVzdG9yZVNlbGVjdGlvbkNsaWNrfSI+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOmRpc2FibGVkfXtAdGV4dDogQGxhbmd1YWdlLXNhdmVkLXJlc3VsdHMtaXRlbS1hbHJlYWR5LW9wZW59Ij48L3NwYW4+IDwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJhY3Rpb24tYnV0dG9uIGVkaXQtMjQgcmlnaHQiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVSZW5hbWVDbGlja317dGl0bGU6IHJlbmFtZVRvb2x0aXB9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYWN0aW9uLWJ1dHRvbiB0cmFzaGNhbi0yNCByaWdodCIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZURlbGV0ZUNsaWNrfXt0aXRsZTogZGVsZXRlVG9vbHRpcH0iPjwvYnV0dG9uPiA8L2xpPiA8L3VsPiA8L2Rpdj4gIDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNlbGVjdGlvbnN9e0B3aWRnZXQ6IFBhZ2luZ0NvbnRyb2xzV2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX0iPjwvZGl2PiAgPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Selection/SaveSelectionView.html","html","PGRpdiBjbGFzcz0ic2F2ZS1zZWxlY3Rpb24tdmlldyI+IDxsYWJlbCBmb3I9InNlbGVjdGlvbk5hbWUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utc2F2ZWQtcmVzdWx0cy1zYXZlLWFzfSI+PC9sYWJlbD4gPGlucHV0IHR5cGU9InRleHQiIGlkPSJzZWxlY3Rpb25OYW1lIiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IG5hbWV9e0BldmVudC1rZXlkb3duOiBoYW5kbGVLZXlEb3dufSIgLz4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIHNhdmUtYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtY2xpY2s6IGhhbmRsZVNhdmVDbGlja317QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tc2F2ZX17QGVuYWJsZWQ6IG5hbWV9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIGNhbmNlbC1idXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1jbGljazogaGFuZGxlQ2FuY2VsQ2xpY2t9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWNhbmNlbH0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Share/ShareView.html","html","PGRpdiBjbGFzcz0ic29jaWFsLW1lZGlhLXNoYXJlIj4gPGRpdiBjbGFzcz0ibGlzdC1tZW51IGFjdGl2ZSBoYXMtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogc2hhcmVPcHRpb25zfXtAdmlzaWJsZTogc2hhcmVPcHRpb25zfSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogc2hhcmVPcHRpb25zfSI+IDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LWNsaWNrOiBoYW5kbGVDbGlja30iIHRhcmdldD0iX2JsYW5rIj4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb259e3NyYzogaWNvblVyaX0iIGFsdD0iICIgLz4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9zdHJvbmc+IDwvZGl2PiA8L2Rpdj4gPC9hPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/DebugView.html","html","PGRpdiBjbGFzcz0iZGVidWctdmlldyI+IDxkaXYgY2xhc3M9ImRlYnVnLXZpZXctaW5uZXIiPiA8Yj5EZWJ1ZyB2aWV3PC9iPiA8L2Rpdj4gPC9kaXY+IA==");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/DesktopShellView.html","html","PGRpdiBjbGFzcz0ic2hlbGwtY29udGFpbmVyIj4gPGRpdiBjbGFzcz0ic2hlbGwtY29udGFpbmVyLWlubmVyIj4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJMb2dSZWdpb24iIGNsYXNzPSJyZWdpb24gbG9nLXJlZ2lvbiI+PC9kaXY+IDxkaXYgY2xhc3M9ImxhcmdlLXNoZWxsLWhlYWRlciIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogaGVhZGVyQ29udGFpbmVyRWxlbWVudH0iPiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9IkFjY2Vzc2liaWxpdHlSZWdpb24iIGNsYXNzPSJyZWdpb24gYWNjZXNzaWJpbGl0eS1yZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJIZWFkZXJSZWdpb24iIGNsYXNzPSJyZWdpb24gaGVhZGVyLXJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9IlRvb2xiYXJSZWdpb24iIGNsYXNzPSJyZWdpb24gdG9vbGJhci1yZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImxhcmdlLXNoZWxsLW1haW4iIGRhdGEtYmluZGluZz0ie0B2YXI6IG1haW5FbGVtZW50fSI+IDxkaXYgY2xhc3M9ImxhcmdlLXNoZWxsLWxlZnQgcGFuZWwtY2xvc2VkIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBsZWZ0RWxlbWVudH17QHZpc2libGU6IGRhdGFGcmFtZUlzT3Blbn0iPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2YXI6IGxlZnRSZWdpb25FbGVtZW50fSIgZGF0YS1yZWdpb24tbmFtZT0iTGVmdFBhbmVsUmVnaW9uIiBjbGFzcz0icmVnaW9uIGRhdGEtcmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciIgZGF0YS1tYXhpbWl6ZWQ9ImZhbHNlIj48L2Rpdj4gPGRpdiBjbGFzcz0icGFuZWwtc2lkZS1lbXB0eSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGRhdGFGcmFtZUlzRW1wdHl9Ij4gPGgyIGNsYXNzPSJwYW5lbC1lbXB0eS1oZWFkaW5nIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXNoZWxsLWRhdGFmcmFtZS1kaXNhYmxlZH0iPjwvaDI+IDxkaXYgY2xhc3M9InBhbmVsLWVtcHR5LWxpbmtzIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogbGlua2FibGVNb2R1bGVMb2FkZWR9Ij4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1zaGVsbC1kYXRhZnJhbWUtZGlzYWJsZWQtb3B0aW9uc30iPjwvcD4gPHVsPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGluZm9Nb2R1bGVMb2FkZWR9Ij48YnV0dG9uIGNsYXNzPSJidXR0b24tdGV4dC1saW5rIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogb3BlbkhvbWVQYW5lbH17QHRleHQ6IEBsYW5ndWFnZS1zaGVsbC1kYXRhZnJhbWUtZGlzYWJsZWQtaG9tZS1wYW5lbH0iPjwvYnV0dG9uPjwvbGk+IDxsaSBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogbGF5ZXJMaXN0TW9kdWxlTG9hZGVkfSI+PGJ1dHRvbiBjbGFzcz0iYnV0dG9uLXRleHQtbGluayIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IG9wZW5MYXllckxpc3R9e0B0ZXh0OiBAbGFuZ3VhZ2Utc2hlbGwtZGF0YWZyYW1lLWRpc2FibGVkLWxheWVyLWxpc3R9Ij48L2J1dHRvbj48L2xpPiA8L3VsPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsYXJnZS1zaGVsbC1jZW50ZXIiIGRhdGEtYmluZGluZz0ie0B2YXI6IGNlbnRlckVsZW1lbnR9Ij4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJNYXBSZWdpb24iIGRhdGEtYmluZGluZz0ie0B2YXI6IHNjcmVlblJlZ2lvbkVsZW1lbnR9IiBjbGFzcz0icmVnaW9uIG1hcC1yZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImxhcmdlLXNoZWxsLWJvdHRvbSBwYW5lbC1jbG9zZWQiIGRhdGEtYmluZGluZz0ie0B2YXI6IGJvdHRvbUVsZW1lbnR9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmFyOiBib3R0b21SZWdpb25FbGVtZW50fSIgZGF0YS1yZWdpb24tbmFtZT0iQm90dG9tUGFuZWxSZWdpb24iIGNsYXNzPSJyZWdpb24gYm90dG9tLXJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiIGRhdGEtbWF4aW1pemVkPSJmYWxzZSI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsYXJnZS1zaGVsbC1yaWdodCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogcmlnaHRFbGVtZW50fSI+IDxkaXYgZGF0YS1yZWdpb24tbmFtZT0iUmlnaHRQYW5lbFJlZ2lvbiIgY2xhc3M9InJlZ2lvbiBkYXRhLXJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImxhcmdlLXNoZWxsLWZvb3RlciIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogZm9vdGVyQ29udGFpbmVyRWxlbWVudH0iPiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9IkZvb3RlclJlZ2lvbiIgY2xhc3M9InJlZ2lvbiBmb290ZXItcmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJyZWdpb24iIGRhdGEtcmVnaW9uLW5hbWU9IkNvbnRleHRNZW51UmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+IDwvZGl2PiA8L2Rpdj4gICA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9Ik1vZGFsV2luZG93UGxhY2Vob2xkZXJSZWdpb24iIGNsYXNzPSJyZWdpb24gbW9kYWwiIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuUG9wdXBNb2RhbFJlZ2lvbkFkYXB0ZXIiPiA8ZGl2IGNsYXNzPSJtb2RhbC1vdmVybGF5Ij48L2Rpdj4gPGRpdiBjbGFzcz0ibW9kYWwtY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBtb2RhbENvbnRhaW5lckVsZW1lbnR9Ij4gPGRpdiBjbGFzcz0ibW9kYWwtY29udGFpbmVyLWlubmVyIj48L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmb290Ij48L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/HandheldShellView.html","html","PGRpdiBjbGFzcz0ic2hlbGwtY29udGFpbmVyIj4gPGRpdiBjbGFzcz0ic2hlbGwtY29udGFpbmVyLWlubmVyIj4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJUb29sUmVnaW9uIiBjbGFzcz0icmVnaW9uIHRvb2wtcmVnaW9uIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBiYW5uZXJDb250YWluZXJFbGVtZW50fSIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9IlNjcmVlblJlZ2lvbiIgY2xhc3M9InJlZ2lvbiBzY3JlZW4tcmVnaW9uIg0KICAgICAgICAgICAgIGRhdGEtYmluZGluZz0ie0B2YXI6IHNjcmVlblJlZ2lvbkVsZW1lbnR9IiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+IDxkaXYgY2xhc3M9InJlZ2lvbiIgZGF0YS1yZWdpb24tbmFtZT0iQ29udGV4dE1lbnVSZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPGRpdiBjbGFzcz0iY2xlYXIiPjwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/TabletShellView.html","html","PGRpdiBjbGFzcz0ic2hlbGwtY29udGFpbmVyIj4gPGRpdiBjbGFzcz0ic2hlbGwtY29udGFpbmVyLWlubmVyIj4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJMb2dSZWdpb24iIGNsYXNzPSJyZWdpb24gbG9nLXJlZ2lvbiI+PC9kaXY+IDxkaXYgY2xhc3M9Im1lZGl1bS1zaGVsbC1oZWFkZXIiICBkYXRhLWJpbmRpbmc9IntAdmFyOiBoZWFkZXJDb250YWluZXJFbGVtZW50fSI+IDxkaXYgZGF0YS1yZWdpb24tbmFtZT0iQWNjZXNzaWJpbGl0eVJlZ2lvbiIgY2xhc3M9InJlZ2lvbiBhY2Nlc3NpYmlsaXR5LXJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9IkhlYWRlclJlZ2lvbiIgIGNsYXNzPSJyZWdpb24gaGVhZGVyLXJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9IlRvb2xiYXJSZWdpb24iIGNsYXNzPSJyZWdpb24gdG9vbGJhci1yZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIiA+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJtZWRpdW0tc2hlbGwtbWFpbiIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogbWFpbkVsZW1lbnR9Ij4gPGRpdiBjbGFzcz0ibWVkaXVtLXNoZWxsLWxlZnQgcGFuZWwtY2xvc2VkIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBsZWZ0RWxlbWVudH17QHZpc2libGU6IGRhdGFGcmFtZUlzT3Blbn0iPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2YXI6IGxlZnRSZWdpb25FbGVtZW50fSIgZGF0YS1yZWdpb24tbmFtZT0iTGVmdFBhbmVsUmVnaW9uIiBjbGFzcz0icmVnaW9uIGRhdGEtcmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+IDxkaXYgY2xhc3M9InBhbmVsLXNpZGUtZW1wdHkiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBkYXRhRnJhbWVJc0VtcHR5fSI+IDxoMiBjbGFzcz0icGFuZWwtZW1wdHktaGVhZGluZyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1zaGVsbC1kYXRhZnJhbWUtZGlzYWJsZWR9Ij48L2gyPiA8ZGl2IGNsYXNzPSJwYW5lbC1lbXB0eS1saW5rcyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGxpbmthYmxlTW9kdWxlTG9hZGVkfSI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utc2hlbGwtZGF0YWZyYW1lLWRpc2FibGVkLW9wdGlvbnN9Ij48L3A+IDx1bD4gPGxpIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpbmZvTW9kdWxlTG9hZGVkfSI+PGJ1dHRvbiBjbGFzcz0iYnV0dG9uLXRleHQtbGluayIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IG9wZW5Ib21lUGFuZWx9e0B0ZXh0OiBAbGFuZ3VhZ2Utc2hlbGwtZGF0YWZyYW1lLWRpc2FibGVkLWhvbWUtcGFuZWx9Ij48L2J1dHRvbj48L2xpPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGxheWVyTGlzdE1vZHVsZUxvYWRlZH0iPjxidXR0b24gY2xhc3M9ImJ1dHRvbi10ZXh0LWxpbmsiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBvcGVuTGF5ZXJMaXN0fXtAdGV4dDogQGxhbmd1YWdlLXNoZWxsLWRhdGFmcmFtZS1kaXNhYmxlZC1sYXllci1saXN0fSI+PC9idXR0b24+PC9saT4gPC91bD4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0ibWVkaXVtLXNoZWxsLWNlbnRlciIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogY2VudGVyRWxlbWVudH0iPiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9Ik1hcFJlZ2lvbiIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogc2NyZWVuUmVnaW9uRWxlbWVudH0iIGNsYXNzPSJyZWdpb24gbWFwLXJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0ibWVkaXVtLXNoZWxsLWJvdHRvbSBwYW5lbC1jbG9zZWQiIGRhdGEtYmluZGluZz0ie0B2YXI6IGJvdHRvbUVsZW1lbnR9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmFyOiBib3R0b21SZWdpb25FbGVtZW50fSIgZGF0YS1yZWdpb24tbmFtZT0iQm90dG9tUGFuZWxSZWdpb24iIGNsYXNzPSJyZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9Im1lZGl1bS1zaGVsbC1yaWdodCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogcmlnaHRFbGVtZW50fSI+IDxkaXYgZGF0YS1yZWdpb24tbmFtZT0iUmlnaHRQYW5lbFJlZ2lvbiIgY2xhc3M9InJlZ2lvbiBkYXRhLXJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9Im1lZGl1bS1zaGVsbC1mb290ZXIiIGRhdGEtYmluZGluZz0ie0B2YXI6IGZvb3RlckNvbnRhaW5lckVsZW1lbnR9Ij4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJGb290ZXJSZWdpb24iIGNsYXNzPSJyZWdpb24gZm9vdGVyLXJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0icmVnaW9uIiBkYXRhLXJlZ2lvbi1uYW1lPSJDb250ZXh0TWVudVJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8L2Rpdj4gPC9kaXY+ICAgPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJNb2RhbFdpbmRvd1BsYWNlaG9sZGVyUmVnaW9uIiBjbGFzcz0icmVnaW9uIG1vZGFsIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLlBvcHVwTW9kYWxSZWdpb25BZGFwdGVyIj4gPGRpdiBjbGFzcz0ibW9kYWwtb3ZlcmxheSI+PC9kaXY+IDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogbW9kYWxDb250YWluZXJFbGVtZW50fSI+IDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRhaW5lci1pbm5lciI+PC9kaXY+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0iZm9vdCI+PC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/Components/DataFrameButtonView.html","html","PGJ1dHRvbiBjbGFzcz0iZGF0YS1mcmFtZS1idXR0b24gdGFiLWNsb3NlZCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogYnV0dG9uRWxlbWVudH17dGl0bGU6IEBsYW5ndWFnZS1zaGVsbC1kYXRhZnJhbWV9e0BldmVudC1tb3VzZWRvd246IGhhbmRsZU1vdXNlRG93bn17QGV2ZW50LXRvdWNoc3RhcnQ6IGhhbmRsZVRvdWNoU3RhcnR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVPbkNsaWNrfSI+PC9idXR0b24+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/Components/DataFrameResizeButtonView.html","html","PGJ1dHRvbiBjbGFzcz0iZGF0YS1mcmFtZS1yZXNpemUgcmVzaXplLWhhbmRsZSBpbmFjdGl2ZSIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogYnV0dG9uRWxlbWVudH17dGl0bGU6IEBsYW5ndWFnZS1zaGVsbC1kYXRhZnJhbWUtcmVzaXplfXtAZXZlbnQtbW91c2Vkb3duOiBoYW5kbGVNb3VzZURvd259e0BldmVudC10b3VjaHN0YXJ0OiBoYW5kbGVUb3VjaFN0YXJ0fSI+IDxzcGFuIGNsYXNzPSJpY29uLWRyYWciPjwvc3Bhbj4gPC9idXR0b24+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/Components/NavBarSmallView.html","html","PGRpdiBjbGFzcz0idmlldy1zd2l0Y2hlci12aWV3Ij4gPGRpdiBjbGFzcz0icGFuZWwtaGVhZGVyLW5hdiIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogYWN0aXZlVmlld0Rlc2NyaXB0b3JzfSI+IDxidXR0b24gY2xhc3M9Im5hdi1idG4iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGFjdGl2ZVZpZXdEZXNjcmlwdG9yc317QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVRhcE5hdkJ1dHRvbn17QGNsYXNzLW5hdi1idG4tYWN0aXZlOiBpc0FjdGl2ZX0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogdGl0bGV9Ij48L3NwYW4+IDwvYnV0dG9uPiA8L2Rpdj4gPGJ1dHRvbiBjbGFzcz0icGFuZWwtaGVhZGVyLWJ1dHRvbiByaWdodCIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVRhcFN3aXRjaGVyQ2xvc2VCdXR0b259Ij48L2J1dHRvbj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/Components/Navigation/NavButtonView.html","html","PGJ1dHRvbiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlVGFwfSIgY2xhc3M9Im5hdi1idXR0b24tdmlldyI+PC9idXR0b24+IA==");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/Components/Panels/ShellPanelView.html","html","PGRpdiBjbGFzcz0idmlldy1jb250YWluZXItdmlldyBzbWFydC1wYW5lbCBzaGVsbC1wYW5lbCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogY29udGFpbmVyRWxlbWVudH0iPiA8ZGl2IGNsYXNzPSJwYW5lbC1oZWFkZXIiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBoZWFkZXJJc1Zpc2libGV9e0B2YXI6IGhlYWRlckVsZW1lbnR9Ij4gPGJ1dHRvbiBjbGFzcz0icGFuZWwtaGVhZGVyLWJ1dHRvbiBwYW5lbC1yZXNpemVyIHJpZ2h0IiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlVGFwU2l6ZUJ1dHRvbn0iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJtZW51LWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGVuYWJsZWQ6IGhhc0V4ZWN1dGFibGVNZW51SXRlbXN9e0B2aXNpYmxlOiBoYXNIb2lzdGVkTWVudX17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVRhcE1lbnVCdXR0b259e0B2YXI6IG1lbnVCdXR0b25FbGVtZW50fSI+PC9idXR0b24+IDxkaXYgY2xhc3M9InBhbmVsLWhlYWRlci1uYXYiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHRpdGxlQmFySXNWaXNpYmxlfSI+PC9kaXY+IDxidXR0b24gY2xhc3M9InBhbmVsLWhlYWRlci1idXR0b24gcGFuZWwtYmFjayBsZWZ0IiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tTbWFydEJhY2tCdXR0b259e0B2aXNpYmxlOiBzaG93aW5nU21hcnRCYWNrQnV0dG9ufSI+PC9idXR0b24+IDxoMiBjbGFzcz0icGFuZWwtdGl0bGUiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiB0aXRsZUJhcklzVmlzaWJsZX0iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9sb2FkZXItc21hbGwuZ2lmIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd0J1c3lJbmRpY2F0b3J9IiBhbHQ9IiAiIC8+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB2aWV3VGl0bGV9Ij48L3NwYW4+IDwvaDI+IDxkaXYgY2xhc3M9InNtYXJ0LXBhbmVsLWhvaXN0ZWQtbWVudS1pbmxpbmUiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpbmxpbmVNZW51SXNPcGVufXtAd2lkZ2V0OiBTbWFydFBhbmVsSG9pc3RlZE1lbnV9e0B3aWRnZXQtcmVxdWlyZWQ6IGZhbHNlfXtAd2lkZ2V0LWNvbnRleHQ6IGhvaXN0ZWRNZW51Vmlld01vZGVsfSI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJwYW5lbC1zY3JvbGwtY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntkYXRhLXJlZ2lvbi1uYW1lOiByZWdpb25OYW1lfXtkYXRhLXJlZ2lvbi1hZGFwdGVyOiByZWdpb25UeXBlfXtAdmFyOiBzY3JvbGxSZWdpb25FbGVtZW50fXtAZXZlbnQtb25zY3JvbGw6IGhhbmRsZVNjcm9sbENoYW5nZX0iPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/Small/SmallShellView.html","html","PGRpdiBjbGFzcz0ic2hlbGwtY29udGFpbmVyIG5ldy1zaGVsbCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogY29udGFpbmVyRWxlbWVudH0iPiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9IkFjY2Vzc2liaWxpdHlSZWdpb24iIGNsYXNzPSJyZWdpb24gYWNjZXNzaWJpbGl0eS1yZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJIZWFkZXJSZWdpb24iIGNsYXNzPSJyZWdpb24gaGVhZGVyLXJlZ2lvbiIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogaGVhZGVyUmVnaW9uRWxlbWVudH0iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJTY3JlZW5SZWdpb24iIGNsYXNzPSJyZWdpb24gc2NyZWVuLXJlZ2lvbiIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogc2NyZWVuUmVnaW9uRWxlbWVudH0iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJUb3BMZWZ0U2hlbGxSZWdpb24iIGNsYXNzPSJyZWdpb24gdG9wLWxlZnQtc2hlbGwtcmVnaW9uIHRvcC1sZWZ0LXNoZWxsLXJlZ2lvbi1jbG9zZWQiIGRhdGEtYmluZGluZz0ie0B2YXI6IHRvcExlZnRTaGVsbFJlZ2lvbkVsZW1lbnR9IiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+IDxkaXYgZGF0YS1yZWdpb24tbmFtZT0iVG9wUmlnaHRTaGVsbFJlZ2lvbiIgY2xhc3M9InJlZ2lvbiB0b3AtcmlnaHQtc2hlbGwtcmVnaW9uIHRvcC1yaWdodC1zaGVsbC1yZWdpb24tY2xvc2VkIiBkYXRhLWJpbmRpbmc9IntAdmFyOiB0b3BSaWdodFNoZWxsUmVnaW9uRWxlbWVudH0iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJCb3R0b21MZWZ0U2hlbGxSZWdpb24iIGNsYXNzPSJyZWdpb24gYm90dG9tLWxlZnQtc2hlbGwtcmVnaW9uIGxlZnQtcGFuZWwtY2xvc2VkIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBib3R0b21MZWZ0U2hlbGxSZWdpb25FbGVtZW50fSIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9IkJvdHRvbVJpZ2h0U2hlbGxSZWdpb24iIGNsYXNzPSJyZWdpb24gYm90dG9tLXJpZ2h0LXNoZWxsLXJlZ2lvbiByaWdodC1wYW5lbC1jbG9zZWQiIGRhdGEtYmluZGluZz0ie0B2YXI6IGJvdHRvbVJpZ2h0U2hlbGxSZWdpb25FbGVtZW50fSIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8ZGl2IGNsYXNzPSJib3R0b20tcGFuZWwgcGFuZWwtbWluaW1pemVkIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBib3R0b21QYW5lbFJlZ2lvbkVsZW1lbnR9Ij4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJCb3R0b21QYW5lbFJlZ2lvbiIgY2xhc3M9InJlZ2lvbiBib3R0b20tcGFuZWwtcmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+IDwvZGl2PiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9IlNtYWxsTmF2aWdhdGlvblJlZ2lvbiIgY2xhc3M9InJlZ2lvbiBzbWFsbC1uYXZpZ2F0aW9uLXJlZ2lvbiBuYXYtcmVnaW9uLWNsb3NlZCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogbmF2aWdhdGlvblJlZ2lvbkVsZW1lbnR9IiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+IDxkaXYgZGF0YS1yZWdpb24tbmFtZT0iTGVmdFBhbmVsUmVnaW9uIiBjbGFzcz0icmVnaW9uIHNpZGUtcmVnaW9uIGxlZnQtcGFuZWwtcmVnaW9uIGxlZnQtcGFuZWwtY2xvc2VkIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBsZWZ0UGFuZWxSZWdpb25FbGVtZW50fSI+PC9kaXY+IDxkaXYgZGF0YS1yZWdpb24tbmFtZT0iUmlnaHRQYW5lbFJlZ2lvbiIgY2xhc3M9InJlZ2lvbiBzaWRlLXJlZ2lvbiByaWdodC1wYW5lbC1yZWdpb24gcmlnaHQtcGFuZWwtY2xvc2VkIiBkYXRhLWJpbmRpbmc9IntAdmFyOiByaWdodFBhbmVsUmVnaW9uRWxlbWVudH0iPjwvZGl2PiA8ZGl2IGNsYXNzPSJyZWdpb24iIGRhdGEtcmVnaW9uLW5hbWU9IkNvbnRleHRNZW51UmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Site/ServiceLayersFailureView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlIHNlcnZpY2UtbGF5ZXJzLWZhaWx1cmUiPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXNpdGUtc2VydmljZS1sYXllcnMtZmFpbHVyZS12aWV3LXdhcm5pbmd9e0BoaWRkZW46IGhhc0Vycm9yfSI+PC9wPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXNpdGUtc2VydmljZS1sYXllcnMtZmFpbHVyZS12aWV3LWVycm9yfXtAdmlzaWJsZTogaGFzRXJyb3J9Ij48L3A+IDx1bCBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBmYWlsZWRTZXJ2aWNlc30iPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogZmFpbGVkU2VydmljZXN9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3NwYW4+IDwvbGk+IDwvdWw+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaGFzRXJyb3J9Ij4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBva0J1dHRvbkVsZW1lbnR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja09rfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1va30iLz4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Site/SignInErrorView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlIHNpZ24tb24tZXJyb3IiPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXNpdGUtbG9nLW9uLXJlcXVpcmVkLWVycm9yfSI+PC9wPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja1RyeUFnYWlufXtAdGV4dDogQGxhbmd1YWdlLXNpdGUtdHJ5LWxvZy1vbi1hZ2Fpbn0iIC8+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Status/StatusIndicatorView.html","html","DQo8ZGl2IGNsYXNzPSJzdGF0dXMtaW5kaWNhdG9yIGFuaW0tem9vbS1pbiIgZGF0YS1yZWdpb24tbmFtZT0iU3RhdHVzSW5kaWNhdG9yTWVzc2FnZVJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA=");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Status/StatusMessageView.html","html","DQo8ZGl2IGNsYXNzPSJzdGF0dXMtd2luZG93IiBkYXRhLWJpbmRpbmc9IntAdmFyOiBjb250YWluZXJFbGVtZW50fSI+IDx0YWJsZT4gPHRyPiA8dGQgY2xhc3M9InN0YXR1cy1pbWctY29udGFpbmVyIj4gPGltZyBjbGFzcz0ic3RhdHVzLWltZyIgZGF0YS1iaW5kaW5nPSJ7c3JjOiBpbWFnZVVyaX17QHZpc2libGU6IGltYWdlVXJpfSIgYWx0PSIgIiBhcmlhLWhpZGRlbj0idHJ1ZSIgLz4gPC90ZD4gPHRkIGNsYXNzPSJzdGF0dXMtbXNnLWNvbnRhaW5lciI+IDxzcGFuIGNsYXNzPSJzdGF0dXMtbXNnIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogdGV4dH17dGl0bGU6IHRleHR9Ij48L3NwYW4+IDwvdGQ+IDx0ZCBjbGFzcz0ic3RhdHVzLWNsb3NlIj4gPGJ1dHRvbiBjbGFzcz0ic3RhdHVzLWJ0biIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrQ2xvc2V9e3RpdGxlOiBjbG9zZVRpdGxlfSI+IDxzcGFuPiZuYnNwOzwvc3Bhbj4gPC9idXR0b24+IDwvdGQ+IDwvdHI+IDwvdGFibGU+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Temp/TempView.html","html","PGRpdiBjbGFzcz0iVGVtcENsYXNzIj4gPGgxPlRoaXMgaXMgVGVtcCBWaWV3PC9oMT4gPC9kaXY+IA==");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/TimeSlider/TimeSliderSettingsView.html","html","PGRpdiBjbGFzcz0idGltZXNsaWRlci1zZXR0aW5ncyI+IDxzcGFuIGNsYXNzPSJpbmZvLW1lc3NhZ2UiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzbGlkZXJTZXR0aW5nc0luZm9NZXNzYWdlfXtAdGV4dDogc2xpZGVyU2V0dGluZ3NJbmZvTWVzc2FnZX17dGl0bGU6IHNsaWRlclNldHRpbmdzSW5mb01lc3NhZ2V9Ij48L3NwYW4+IDxkaXYgY2xhc3M9ImZvcm0taXRlbSI+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdGltZXNsaWRlci1zZXR0aW5ncy10aW1lc2xpZGVyLXByb2ZpbGVzfSI+PC9zcGFuPiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHRpbWVTbGlkZXJzfXtAdmFsdWU6IHNlbGVjdGVkU2xpZGVySWR9e3RpdGxlOiBAbGFuZ3VhZ2UtdGltZXNsaWRlci1wcm9maWxlLXNlbGVjdC10aXRsZX0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHRpbWVTbGlkZXJzfXt2YWx1ZTogaWR9e0B0ZXh0OiBkaXNwbGF5TmFtZX0iIC8+IDwvc2VsZWN0PiA8L2xhYmVsPiA8L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS1pdGVtIj4gPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS10aW1lc2xpZGVyLXNldHRpbmdzLXRpbWVzbGlkZXItbW9kZX0iPjwvc3Bhbj4gPHNlbGVjdCBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBzbGlkZXJNb2Rlc317QHZhbHVlOiBzZWxlY3RlZFNsaWRlck1vZGV9e3RpdGxlOiBAbGFuZ3VhZ2UtdGltZXNsaWRlci1tb2RlLXNlbGVjdC10aXRsZX0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHNsaWRlck1vZGVzfXt2YWx1ZTogbW9kZX17QHRleHQ6IGRpc3BsYXlOYW1lfSIgLz4gPC9zZWxlY3Q+IDwvbGFiZWw+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iPiA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXRpbWVzbGlkZXItc2V0dGluZ3MtdGltZS1pbnRlcnZhbH17dGl0bGU6IEBsYW5ndWFnZS10aW1lc2xpZGVyLXRpbWUtaW50ZXJ2YWwtdGl0bGV9Ij48L3NwYW4+IDxpbnB1dCB0eXBlPSJudW1iZXIiIG1pbj0iMSIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiB0aW1lSW50ZXJ2YWx9IiAvPiA8L2xhYmVsPiA8c3BhbiBjbGFzcz0idGltZS1zZXR0aW5ncy1lcnJvci1tZXNzYWdlIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2xpZGVyU2V0dGluZ3NUaW1lSW50ZXJ2YWxFcnJvcn17QHRleHQ6IHNsaWRlclNldHRpbmdzVGltZUludGVydmFsRXJyb3J9Ij48L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iPiA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXRpbWVzbGlkZXItc2V0dGluZ3MtdGltZS1pbnRlcnZhbC11bml0fSI+PC9zcGFuPiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHRpbWVJbnRlcnZhbFVuaXRzfXtAdmFsdWU6IHNlbGVjdGVkVGltZUludGVydmFsVW5pdH17dGl0bGU6IEBsYW5ndWFnZS10aW1lc2xpZGVyLXRpbWUtaW50ZXJ2YWwtdW5pdC10aXRsZX0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHRpbWVJbnRlcnZhbFVuaXRzfXt2YWx1ZTogdGltZUludGVydmFsVW5pdH17QHRleHQ6IGRpc3BsYXlOYW1lfSIgLz4gPC9zZWxlY3Q+IDwvbGFiZWw+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iPiA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXRpbWVzbGlkZXItc2V0dGluZ3MtcGxheWJhY2stZGVsYXl9e3RpdGxlOiBAbGFuZ3VhZ2UtdGltZXNsaWRlci1wbGF5YmFjay1kZWxheS10aXRsZX0iPjwvc3Bhbj4gPGlucHV0IHR5cGU9Im51bWJlciIgbWluPSIxIiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IHBsYXliYWNrRGVsYXlTZWNvbmRzfSIgLz4gPC9sYWJlbD4gPHNwYW4gY2xhc3M9InRpbWUtc2V0dGluZ3MtZXJyb3ItbWVzc2FnZSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNsaWRlclNldHRpbmdzUGxheWJhY2tEZWxheUVycm9yfXtAdGV4dDogc2xpZGVyU2V0dGluZ3NQbGF5YmFja0RlbGF5RXJyb3J9Ij48L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iPiA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPiA8aW5wdXQgY2xhc3M9ImNoZWNrYm94IiB0eXBlPSJjaGVja2JveCIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBsb29wUGxheWJhY2t9IiAvPiA8c3BhbiBjbGFzcz0iY2hlY2tib3gtbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdGltZXNsaWRlci1sb29wLXBsYXliYWNrLWNoZWNrYm94fSI+PC9zcGFuPiA8L2xhYmVsPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/TimeSlider/TimeSliderView.html","html","PGRpdiBjbGFzcz0idGltZXNsaWRlci1jb250YWluZXIiPiA8ZGl2IGNsYXNzPSJjdXJyZW50LXByb2ZpbGUtdGl0bGUiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBjdXJyZW50UHJvZmlsZX17QHRleHQ6IGN1cnJlbnRQcm9maWxlfXt0aXRsZTogY3VycmVudFByb2ZpbGV9Ij48L2Rpdj4gPGRpdiBjbGFzcz0ibWFpbi1yb3ciPiA8ZGl2IGNsYXNzPSJzbGlkZXItd2lkZ2V0IiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBUaW1lU2xpZGVyRWxlbWVudH17QHdpZGdldC1jb250ZXh0OiBzbGlkZXJWaWV3TW9kZWx9e0B3aWRnZXQtcmVxdWlyZWQ6IGZhbHNlfXtAd2lkZ2V0LXJlcGxhY2U6IHRydWV9IiB0YWJpbmRleD0iMCI+PC9kaXY+IDxkaXYgY2xhc3M9InNsaWRlci1hY3Rpb25zLXRvZ2dsZSBpdGVtLWFjdGlvbnMiPiA8YnV0dG9uIGRhdGEtYmluZGluZz0ie0Bub2NsYXNzLWNoZXZyb24tZG93bi0yNDogc2hvd0FjdGlvbnNDb250YWluZXJ9e0BjbGFzcy1jaGV2cm9uLXVwLTI0OiBzaG93QWN0aW9uc0NvbnRhaW5lcn17dGl0bGU6IEBsYW5ndWFnZS10aW1lc2xpZGVyLXNob3ctYWN0aW9ucy10b29sdGlwfXtAZXZlbnQtY2xpY2s6IGhhbmRsZVRvZ2dsZUFjdGlvbnNDb250YWluZXJ9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJhY3Rpb25zLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dBY3Rpb25zQ29udGFpbmVyfSI+IDxkaXYgY2xhc3M9ImluZm8tbWVzc2FnZSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGluZm9NZXNzYWdlfXtAdGV4dDogaW5mb01lc3NhZ2V9e3RpdGxlOiBpbmZvTWVzc2FnZX0iPjwvZGl2PiA8ZGl2IGNsYXNzPSJzbGlkZXItZGF0ZS1waWNrZXJzIj4gPGRpdiBjbGFzcz0ic2xpZGVyLXN0YXJ0LWRhdGUtcGlja2VyIiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBEYXRlUGlja2VyRm9ybUl0ZW19e0B3aWRnZXQtY29udGV4dDogc3RhcnREYXRlVmlld01vZGVsfXt0aXRsZTogQGxhbmd1YWdlLXRpbWVzbGlkZXItc3RhcnQtdGltZS1zZWxlY3QtdG9vbHRpcH0iPjwvZGl2PiA8ZGl2IGNsYXNzPSJzbGlkZXItc3RhcnQtdG8tZW5kLWRhdGUtbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdGltZXNsaWRlci1zdGFydC10by1lbmQtZGF0ZS1sYWJlbH0iPjwvZGl2PiA8ZGl2IGNsYXNzPSJzbGlkZXItZW5kLWRhdGUtcGlja2VyIiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBEYXRlUGlja2VyRm9ybUl0ZW19e0B3aWRnZXQtY29udGV4dDogZW5kRGF0ZVZpZXdNb2RlbH17dGl0bGU6IEBsYW5ndWFnZS10aW1lc2xpZGVyLWVuZC10aW1lLXNlbGVjdC10b29sdGlwfSI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJnY3gtZXJyb3ItbWVzc2FnZSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGRhdGVQaWNrZXJFcnJvck1lc3NhZ2V9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRhdGVQaWNrZXJFcnJvck1lc3NhZ2V9e3RpdGxlOiBkYXRlUGlja2VyRXJyb3JNZXNzYWdlfSI+PC9zcGFuPiA8L2Rpdj4gPHVsIGNsYXNzPSJzbGlkZXItYWN0aW9ucyI+IDxsaSBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iPiA8YnV0dG9uIGNsYXNzPSJzbGlkZXItYWN0aW9ucy1idXR0b24iIGRhdGEtYmluZGluZz0ie0BjbGFzcy1zdG9wLXRpbWVsaW5lLTI0OiBpc1BsYXlpbmdCYWNrfXtAbm9jbGFzcy1wbGF5LXRpbWVsaW5lLTI0OiBpc1BsYXlpbmdCYWNrfXt0aXRsZTogQGxhbmd1YWdlLXRpbWVzbGlkZXItcGxheS10aW1lbGluZS10b29sdGlwfXtAZXZlbnQtY2xpY2s6IGhhbmRsZVBsYXlUaW1lbGluZUNsaWNrfSI+IDxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL3BsYXliYWNrLXBsYXktMjQucG5nIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc1BsYXlpbmdCYWNrfSIgLz4gPGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvcGxheWJhY2stc3RvcC0yNC5wbmciIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc1BsYXlpbmdCYWNrfSIgLz4gPHNwYW4gY2xhc3M9ImFjdGlvbi1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNQbGF5aW5nQmFja317QHRleHQ6IEBsYW5ndWFnZS10aW1lc2xpZGVyLXBsYXktdGltZWxpbmUtYnV0dG9uLWxhYmVsfSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0iYWN0aW9uLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNQbGF5aW5nQmFja317QHRleHQ6IEBsYW5ndWFnZS10aW1lc2xpZGVyLXN0b3AtdGltZWxpbmUtYnV0dG9uLWxhYmVsfSI+PC9zcGFuPiA8L2J1dHRvbj4gPC9saT4gPGxpIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSI+IDxidXR0b24gY2xhc3M9InNsaWRlci1hY3Rpb25zLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7dGl0bGU6IEBsYW5ndWFnZS10aW1lc2xpZGVyLXN0ZXAtYmFjay10b29sdGlwfXtAZXZlbnQtY2xpY2s6IGhhbmRsZVN0ZXBCYWNrQ2xpY2t9Ij4gPGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvcGxheWJhY2stcHJldmlvdXMtMjQucG5nIiAvPiA8c3BhbiBjbGFzcz0iYWN0aW9uLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXRpbWVzbGlkZXItc3RlcC1iYWNrLWJ1dHRvbi1sYWJlbH0iPjwvc3Bhbj4gPC9idXR0b24+IDwvbGk+IDxsaSBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iPiA8YnV0dG9uIGNsYXNzPSJzbGlkZXItYWN0aW9ucy1idXR0b24iIGRhdGEtYmluZGluZz0ie3RpdGxlOiBAbGFuZ3VhZ2UtdGltZXNsaWRlci1zdGVwLWZvcndhcmQtdG9vbHRpcH17QGV2ZW50LWNsaWNrOiBoYW5kbGVTdGVwRm9yd2FyZENsaWNrfSI+IDxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL3BsYXliYWNrLW5leHQtMjQucG5nIiAvPiA8c3BhbiBjbGFzcz0iYWN0aW9uLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXRpbWVzbGlkZXItc3RlcC1mb3J3YXJkLWJ1dHRvbi1sYWJlbH0iPjwvc3Bhbj4gPC9idXR0b24+IDwvbGk+IDxsaSBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iPiA8YnV0dG9uIGNsYXNzPSJzbGlkZXItYWN0aW9ucy1idXR0b24iIGRhdGEtYmluZGluZz0ie3RpdGxlOiBAbGFuZ3VhZ2UtdGltZXNsaWRlci1tb3JlLXNldHRpbmdzLXRvb2x0aXB9e0BldmVudC1jbGljazogaGFuZGxlTW9yZUFjdGlvbnNDbGlja30iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL21vcmUtMjQucG5nIiAvPiA8c3BhbiBjbGFzcz0iYWN0aW9uLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXRpbWVzbGlkZXItbW9yZS1zZXR0aW5ncy1idXR0b24tbGFiZWx9Ij48L3NwYW4+IDwvYnV0dG9uPiA8L2xpPiA8bGkgY2xhc3M9Imxpc3QtbWVudS1pdGVtIj4gPGJ1dHRvbiBjbGFzcz0ic2xpZGVyLWFjdGlvbnMtYnV0dG9uIiBkYXRhLWJpbmRpbmc9Int0aXRsZTogQGxhbmd1YWdlLXRpbWVzbGlkZXItY2xvc2UtdGltZWxpbmUtdG9vbHRpcH17QGV2ZW50LWNsaWNrOiBoYW5kbGVDbG9zZUNsaWNrfSI+IDxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL2Nsb3NlLTI0LnBuZyIgLz4gPHNwYW4gY2xhc3M9ImFjdGlvbi1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS10aW1lc2xpZGVyLWNsb3NlLXRpbWVsaW5lLWJ1dHRvbi1sYWJlbH0iPjwvc3Bhbj4gPC9idXR0b24+IDwvbGk+IDwvdWw+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/LargeToolbarView.html","html","PGRpdiBjbGFzcz0idG9vbGJhci1jb250YWluZXIgdW5zZWxlY3RhYmxlIj4gPGRpdiBjbGFzcz0idG9vbGJhci10YWItY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdG9vbGJhclRhYnN9Ij4gPHVsIGNsYXNzPSJ0b29sYmFyLXRhYi1jb250cm9sIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiB0b29sYmFyVGFic30iPiA8bGkgY2xhc3M9InRvb2xiYXItdGFiIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiB0b29sYmFyVGFic317QGNsYXNzLXRiLXRhYi1hY3RpdmU6IGlzQWN0aXZlfXtAaGlkZGVuOiBkaXNhYmxlZH0iPiA8YnV0dG9uIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB0aXRsZX17dGl0bGU6IHRvb2x0aXB9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUYWJDbGlja30iPjwvYnV0dG9uPiA8L2xpPiA8L3VsPiA8L2Rpdj4gPGRpdiBjbGFzcz0idG9vbGJhci1ib2R5IGxhcmdlIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiB0b29sYmFyR3JvdXBzfXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9Ub29sYmFyL1RlbXBsYXRlcy9UYWJiZWRUb29sYmFyR3JvdXBUZW1wbGF0ZS5odG1sfSI+PC9kaXY+IDxkaXYgY2xhc3M9Im11bHRpLXRvb2wtZHJvcGRvd24iIGRhdGEtcmVnaW9uLW5hbWU9IlRvb2xiYXJGbHlvdXREcm9wZG93biIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGFjdGl2ZUZseW91dH17QHZhcjogZmx5b3V0UmVnaW9ufSI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/LargeTransientToolbarView.html","html","PGRpdiBjbGFzcz0ibGFyZ2UtdHJhbnNpZW50LXRvb2xiYXIiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiB0b29sYmFyR3JvdXBzfXtAc291cmNlOiB0b29sYmFyR3JvdXBzfXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9Ub29sYmFyL1RlbXBsYXRlcy9Ub29sYmFyR3JvdXBUZW1wbGF0ZS5odG1sfSI+IDxhIGNsYXNzPSJ0b29sYmFyLWNsb3NlLWJ1dHRvbiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogY2xvc2VUb29sYmFyfSI+PC9hPiANCjwvZGl2PiA8ZGl2ICBjbGFzcz0ibGFyZ2UtdHJhbnNpZW50LXRvb2xiYXIiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHRvb2xiYXJHcm91cHN9e0B0ZXh0OiBAbGFuZ3VhZ2UtdG9vbGJhci1ub3QtYXZhaWxhYmxlfSI+IDxpbWcgY2xhc3M9InRvb2xiYXItY2xvc2UtYnV0dG9uIiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvcGFuZWwtY2xvc2UucG5nIiBkYXRhLWJpbmRpbmc9InthbHQ6IEBsYW5ndWFnZS1jb21tb24tY2xvc2V9e0BldmVudC1vbmNsaWNrOiBjbG9zZVRvb2xiYXJ9IiAvPiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/SmallToolbarView.html","html","PGRpdiBjbGFzcz0idG9vbGJhci1ib2R5IHNtYWxsIHVuc2VsZWN0YWJsZSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHRvb2xiYXJHcm91cHN9e0Bzb3VyY2U6IHRvb2xiYXJHcm91cHN9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL1Rvb2xiYXIvVGVtcGxhdGVzL1Rvb2xiYXJHcm91cFRlbXBsYXRlLmh0bWx9Ij48L2Rpdj4g");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/SmallTransientToolbarView.html","html","PGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdG9vbGJhckdyb3Vwc317QHNvdXJjZTogdG9vbGJhckdyb3Vwc317QHRlbXBsYXRlOiBNYXBwaW5nL21vZHVsZXMvVG9vbGJhci9UZW1wbGF0ZXMvVG9vbGJhckdyb3VwVGVtcGxhdGUuaHRtbH0iPjwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHRvb2xiYXJHcm91cHN9e0B0ZXh0OiBAbGFuZ3VhZ2UtdG9vbGJhci1ub3QtYXZhaWxhYmxlfSI+PC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/ToolbarButtonView.html","html","PGJ1dHRvbiBjbGFzcz0idG9vbGJhci10b2dnbGUtYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdG9vbGJhckdyb3Vwc317QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrVG9nZ2xlVG9vbGJhcn17dGl0bGU6IEBsYW5ndWFnZS10b29sYmFyLW9wZW4tdG9vbGJhcn0iIHRhYmluZGV4PSIwIj48L2J1dHRvbj4g");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/ToolbarManagedViewsView.html","html","PHRhYmxlIGNsYXNzPSJ0YWItY29udGFpbmVyIj4gPHRyIGNsYXNzPSJ0YWItY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBob3N0ZWRWaWV3c30iPiA8dGQgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogaG9zdGVkVmlld3N9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVWaWV3VGlsZUNsaWNrfXtjbGFzc05hbWU6IGlkfXtAdmFyOiB0aWxlRWxlbWVudHN9Ij4gPGltZyBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX17c3JjOiBpY29uVXJpfXthbHQ6IGRlc2NyaXB0aW9ufSIvPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpY29uVXJpfXtAdGV4dDogdGl0bGV9Ij48L3NwYW4+IDwvdGQ+IDwvdHI+IDwvdGFibGU+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/ToolbarView.html","html","DQo8ZGl2IGNsYXNzPSJyZWdpb24gdG9vbGJhci10YWItY29udGVudC1yZWdpb24iIGRhdGEtcmVnaW9uLW5hbWU9IlRvb2xiYXJUYWJDb250ZW50UmVnaW9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtbW91c2Vkb3duOiBoYW5kbGVNb3VzZURvd259IHtAZXZlbnQtbW91c2V1cDogaGFuZGxlTW91c2VVcH0ge0BldmVudC10b3VjaHN0YXJ0OiBoYW5kbGVUb3VjaFN0YXJ0fSB7QGV2ZW50LXRvdWNoZW5kOiBoYW5kbGVUb3VjaEVuZH0ge0BldmVudC1tb3VzZW91dDogaGFuZGxlTW91c2VPdXR9IHtAZXZlbnQtdG91Y2hjYW5jZWw6IGhhbmRsZVRvdWNoQ2FuY2VsfSB7QGV2ZW50LXRvdWNobW92ZTogaGFuZGxlVG91Y2hNb3ZlfSIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/CompactToolbar/CompactToolbarView.html","html","IDxkaXYgY2xhc3M9ImZseW91dC1tZW51IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNFbmFibGVkfSI+ICA8YnV0dG9uIGNsYXNzPSJmbHlvdXQtbWVudS1hY3RpdmUtdG9vbCIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVRvb2xiYXJCdXR0b25DbGlja2VkfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhY3RpdmVUb29sfSI+IDxpbWcgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGFjdGl2ZVRvb2xJY29ufXtzcmM6IGFjdGl2ZVRvb2xJY29ufSIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvaWNvbi1ibGFuay0yNC5wbmciIGFsdD0iIi8+IDxzcGFuIGNsYXNzPSJ0b29sLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogYWN0aXZlVG9vbE5hbWV9Ij48L3NwYW4+IDwvc3Bhbj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogYWN0aXZlVG9vbH0iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL3Rvb2xzLTI0LnBuZyIgYWx0PSIiIC8+IDxzcGFuIGNsYXNzPSJ0b29sLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNvbXBhY3QtdG9vbGJhci1idXR0b24tZGVzY3JpcHRpb259Ij48L3NwYW4+IDwvc3Bhbj4gPC9idXR0b24+IDxkaXYgY2xhc3M9ImZseW91dC1tZW51LWNvbGxhcHNpYmxlLWFyZWEgZmx5b3V0LW1lbnUtdG9vbHMiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0V4cGFuZGVkfXtAdmFyOiBjb2xsYXBzaWJsZUFyZWFFbGVtZW50fSI+ICA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHRyYW5zaWVudEFjdGl2ZX0iPiA8YnV0dG9uIGNsYXNzPSJmbHlvdXQtbWVudS1zY3JvbGwgc2Nyb2xsLWJhY2siIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVTY3JvbGxCYWNrfXtAdmlzaWJsZTogYmFja0Fycm93VmlzaWJsZX17QHZhcjogYmFja0Fycm93RWxlbWVudH0iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9jaGV2cm9uLWxlZnQtMTYucG5nIiBkYXRhLWJpbmRpbmc9InthbHQ6IEBsYW5ndWFnZS1jb21wYWN0LXRvb2xiYXItbW9yZS10b29sc30iPiA8L2J1dHRvbj4gPGRpdiBjbGFzcz0iZmx5b3V0LW1lbnUtZXhwYW5kZWQiIGRhdGEtYmluZGluZz0ie0B2YXI6IGV4cGFuZGVkRWxlbWVudH0iPiA8ZGl2IGNsYXNzPSJmbHlvdXQtbWVudS1mbG9hdGluZy1hcmVhIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiB0b29sYmFyR3JvdXB9e0BldmVudC1vbnNjcm9sbDogdG9nZ2xlU2Nyb2xsQXJyb3dzfXtAdmFyOiBmbG9hdGluZ0FyZWFFbGVtZW50fXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9Ub29sYmFyL1RlbXBsYXRlcy9Ub29sYmFyR3JvdXBUZW1wbGF0ZS5odG1sfSI+PC9kaXY+IDwvZGl2PiA8YnV0dG9uIGNsYXNzPSJmbHlvdXQtbWVudS1zY3JvbGwgc2Nyb2xsLWZvcndhcmQiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVTY3JvbGxGb3J3YXJkfXtAdmlzaWJsZTogZm9yd2FyZEFycm93VmlzaWJsZX17QHZhcjogZm9yd2FyZEFycm93RWxlbWVudH0iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9jaGV2cm9uLXJpZ2h0LTE2LnBuZyIgZGF0YS1iaW5kaW5nPSJ7YWx0OiBAbGFuZ3VhZ2UtY29tcGFjdC10b29sYmFyLW1vcmUtdG9vbHN9Ij4gPC9idXR0b24+IDwvZGl2PiAgPGRpdiBjbGFzcz0iZmx5b3V0LW1lbnUtdHJhbnNpZW50IiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciIgZGF0YS1yZWdpb24tbmFtZT0iQ29tcGFjdFRvb2xiYXJUcmFuc2llbnRSZWdpb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiB0cmFuc2llbnRBY3RpdmV9e0B2YXI6IHRyYW5zaWVudEVsZW1lbnR9Ij48L2Rpdj4gIDxkaXYgY2xhc3M9Im11bHRpLXRvb2wtZHJvcGRvd24iIGRhdGEtcmVnaW9uLW5hbWU9IkNvbXBhY3RUb29sYmFyRmx5b3V0RHJvcGRvd24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhY3RpdmVGbHlvdXR9e0BjbGFzcy1tdWx0aS10b29sLWRyb3Bkb3duLWxlZnQ6IG11bHRpdG9vbEZsb2F0TGVmdH17QGNsYXNzLW11bHRpLXRvb2wtZHJvcGRvd24tcmlnaHQ6IG11bHRpdG9vbEZsb2F0UmlnaHR9Ij48L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/Templates/TabbedToolbarGroupTemplate.html","html","PGRpdiBjbGFzcz0idG9vbGJhci1ncm91cCIgZGF0YS1iaW5kaW5nPSJ7QGNsYXNzLWhpZGRlbjogZGlzYWJsZWR9e0B2aXNpYmxlOiBpc0FjdGl2ZX0iPiA8dWwgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogaXRlbXN9e0B0ZW1wbGF0ZS1zZWxlY3RvcjogdHlwZX17QGNsYXNzLXRvb2xiYXItc21hbGwtbGF5b3V0OiBoYXNTbWFsbExheW91dH0iPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogdG9vbH0iPiA8YnV0dG9uIGNsYXNzPSJ0b29sYmFyLWl0ZW0gdG9vbCIgZGF0YS1iaW5kaW5nPSJ7QGRpc2FibGVkOiBkaXNhYmxlZH17QGNsYXNzLWhpZGRlbjogaGlkZGVufXtAY2xhc3MtaGlnaGxpZ2h0OiBpc0FjdGl2ZX17QGNsYXNzLXRyYW5zaWVudC1hY3RpdmU6IGFjdGl2ZVRyYW5zaWVudH17dGl0bGU6IHRvb2x0aXB9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUb29sYmFySXRlbUNsaWNrfSI+IDxpbWcgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb25Vcml9e3NyYzogaWNvblVyaX0iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ljb24tYmxhbmstMjQucG5nIiBhbHQ9IiIgLz4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3A+IDwvYnV0dG9uPiA8L2xpPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogYnV0dG9ufSI+IDxidXR0b24gY2xhc3M9InRvb2xiYXItaXRlbSB0b29sIiBkYXRhLWJpbmRpbmc9IntAZGlzYWJsZWQ6IGRpc2FibGVkfXtAY2xhc3MtaGlkZGVuOiBoaWRkZW59e3RpdGxlOiB0b29sdGlwfXtAZXZlbnQtb25jbGljazogaGFuZGxlVG9vbGJhckl0ZW1DbGlja30iPiA8aW1nIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfXtzcmM6IGljb25Vcml9IiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvVG9vbGJhci9pY29uLWJsYW5rLTI0LnBuZyIgYWx0PSIiIC8+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfSI+PC9wPiA8L2J1dHRvbj4gPC9saT4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IHRvZ2dsZUJ1dHRvbn0iPiA8YnV0dG9uIGNsYXNzPSJ0b29sYmFyLWl0ZW0gdG9nZ2xlLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGRpc2FibGVkOiBkaXNhYmxlZH17QGNsYXNzLWhpZGRlbjogaGlkZGVufXtAY2xhc3MtdG9nZ2xlZC1vbjogaXNUb2dnbGVkT259e0Bub2NsYXNzLXRvZ2dsZWQtb2ZmOiBpc1RvZ2dsZWRPbn17QGNsYXNzLXRyYW5zaWVudC1hY3RpdmU6IGFjdGl2ZVRyYW5zaWVudH17dGl0bGU6IHRvb2x0aXB9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUb29sYmFySXRlbUNsaWNrfXthcmlhLWxhYmVsOiBuYW1lfSI+IDxpbWcgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb25Vcml9e3NyYzogaWNvblVyaX0iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ljb24tYmxhbmstMjQucG5nIiBhbHQ9IiIgLz4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3A+IDwvYnV0dG9uPiA8L2xpPiA8bGkgY2xhc3M9InRvb2xiYXItcmVnaW9uIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiByZWdpb259Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiByZWdpb259e0B3aWRnZXQ6IFJlZ2lvbldpZGdldH17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH0iPjwvZGl2PiA8L2xpPiA8bGkgY2xhc3M9Im5lc3RlZC1ncm91cCIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogdG9vbGJhckdyb3VwfXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9Ub29sYmFyL1RlbXBsYXRlcy9UYWJiZWRUb29sYmFyR3JvdXBUZW1wbGF0ZS5odG1sfSI+PC9saT4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IGZseW91dH17QGNsYXNzLWhpZGRlbjogZGlzYWJsZWR9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL1Rvb2xiYXIvVGVtcGxhdGVzL1Rvb2xiYXJGbHlvdXRCdXR0b25UZW1wbGF0ZS5odG1sfSI+PC9saT4gPC91bD4gPGg0IGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfXtAdmlzaWJsZTogbmFtZX0iPjwvaDQ+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/Templates/ToolbarFlyoutButtonTemplate.html","html","PGRpdiBjbGFzcz0ibXVsdGktdG9vbC1pdGVtLWNvbnRhaW5lciI+IDxkaXYgY2xhc3M9Im11bHRpLXRvb2wtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogc2VsZWN0ZWRUb29sfXtAdGVtcGxhdGUtc2VsZWN0b3I6IHR5cGV9e0B0ZW1wbGF0ZS1mb3I6IHNlbGVjdGVkVG9vbH0iPiA8YnV0dG9uIGNsYXNzPSJ0b29sYmFyLWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IGJ1dHRvbn17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVRvb2xiYXJJdGVtQ2xpY2t9e3RpdGxlOiB0b29sdGlwfXthcmlhLWxhYmVsOiBuYW1lfSI+IDxpbWcgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb25Vcml9e3NyYzogaWNvblVyaX0iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ljb24tYmxhbmstMjQucG5nIiBhbHQ9IiIgLz4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3A+IDwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJ0b29sYmFyLWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IHRvZ2dsZUJ1dHRvbn17QGRpc2FibGVkOiBkaXNhYmxlZH17QGNsYXNzLWhpZGRlbjogaGlkZGVufXtAY2xhc3MtdG9nZ2xlZC1vbjogaXNUb2dnbGVkT259e0Bub2NsYXNzLXRvZ2dsZWQtb2ZmOiBpc1RvZ2dsZWRPbn17QGNsYXNzLXRyYW5zaWVudC1hY3RpdmU6IGFjdGl2ZVRyYW5zaWVudH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVRvb2xiYXJJdGVtQ2xpY2t9e3RpdGxlOiB0b29sdGlwfXthcmlhLWxhYmVsOiBuYW1lfSI+IDxpbWcgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb25Vcml9e3NyYzogaWNvblVyaX0iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ljb24tYmxhbmstMjQucG5nIiBhbHQ9IiIgLz4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3A+IDwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJ0b29sYmFyLWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IHRvb2x9e0BkaXNhYmxlZDogZGlzYWJsZWR9e0BjbGFzcy1oaWdobGlnaHQ6IGlzQWN0aXZlfXtAY2xhc3MtdHJhbnNpZW50LWFjdGl2ZTogYWN0aXZlVHJhbnNpZW50fXtAZXZlbnQtb25jbGljazogaGFuZGxlVG9vbGJhckl0ZW1DbGlja317dGl0bGU6IHRvb2x0aXB9e2FyaWEtbGFiZWw6IG5hbWV9Ij4gPGltZyBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX17c3JjOiBpY29uVXJpfSIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvaWNvbi1ibGFuay0yNC5wbmciIGFsdD0iIiAvPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvcD4gPC9idXR0b24+IDwvZGl2PiA8ZGl2IGNsYXNzPSJtdWx0aS10b29sLWl0ZW0gbXVsdGktdG9vbC1jaG9vc2VyIj4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlT3BlblRvb2xGbHlvdXR9e0BhdHRhY2g6IHNlbGVjdGVkVG9vbH17dGl0bGU6IGZseW91dEJ1dHRvbkRlc2NyaXB0aW9ufXthcmlhLWxhYmVsOiBmbHlvdXRCdXR0b25EZXNjcmlwdGlvbn0iPjxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL2Fycm93LWRvd24tc21hbGwtMjQucG5nIiBhbHQ9IiIgLz48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/Templates/ToolbarFlyoutDropdownTemplate.html","html","PGRpdiBjbGFzcz0ibXVsdGktdG9vbC1jb250YWluZXIiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGFjdGl2ZUZseW91dH0iPiA8dWwgY2xhc3M9Im11bHRpLXRvb2wtbGlzdCIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYWN0aXZlRmx5b3V0fXtAc291cmNlOiBpdGVtc317QHRlbXBsYXRlLXNlbGVjdG9yOiB0eXBlfSI+IDxsaSBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBidXR0b259Ij4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIHRvb2wiIGRhdGEtYmluZGluZz0ie0BkaXNhYmxlZDogZGlzYWJsZWR9e0BjbGFzcy1oaWRkZW46IGhpZGRlbn17QGV2ZW50LW9uY2xpY2s6IGNoYW5nZVRvb2xGbHlvdXR9e3RpdGxlOiB0b29sdGlwfSI+IDxpbWcgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb25Vcml9e3NyYzogaWNvblVyaX0iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ljb24tYmxhbmstMjQucG5nIiBhbHQ9IiIgLz4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3A+IDwvYnV0dG9uPiA8L2xpPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogdG9nZ2xlQnV0dG9ufSI+IDxidXR0b24gY2xhc3M9InRvb2xiYXItaXRlbSB0b29sIiBkYXRhLWJpbmRpbmc9IntAZGlzYWJsZWQ6IGRpc2FibGVkfXtAY2xhc3MtaGlkZGVuOiBoaWRkZW59e0BjbGFzcy10b2dnbGVkLW9uOiBpc1RvZ2dsZWRPbn17QG5vY2xhc3MtdG9nZ2xlZC1vZmY6IGlzVG9nZ2xlZE9ufXtAZXZlbnQtb25jbGljazogY2hhbmdlVG9vbEZseW91dH17dGl0bGU6IHRvb2x0aXB9e2FyaWEtbGFiZWw6IG5hbWV9Ij4gPGltZyBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX17c3JjOiBpY29uVXJpfSIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvaWNvbi1ibGFuay0yNC5wbmciIGFsdD0iIiAvPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDxsaSBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiB0b29sfSI+IDxidXR0b24gY2xhc3M9InRvb2xiYXItaXRlbSB0b29sIiBkYXRhLWJpbmRpbmc9IntAZGlzYWJsZWQ6IGRpc2FibGVkfXtAY2xhc3MtaGlkZGVuOiBoaWRkZW59e0BjbGFzcy1oaWdobGlnaHQ6IGlzQWN0aXZlfXtAZXZlbnQtb25jbGljazogY2hhbmdlVG9vbEZseW91dH17dGl0bGU6IHRvb2x0aXB9Ij4gPGltZyBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX17c3JjOiBpY29uVXJpfSIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvaWNvbi1ibGFuay0yNC5wbmciIGFsdD0iIiAvPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDwvdWw+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/Templates/ToolbarGroupTemplate.html","html","PGRpdiBjbGFzcz0idG9vbGJhci1pdGVtIHRvb2xiYXItZ3JvdXAiPiA8aDIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L2gyPiA8dWwgY2xhc3M9InRvb2xiYXItcGFyZW50IiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBpdGVtc317QHRlbXBsYXRlLXNlbGVjdG9yOiB0eXBlfXtAY2xhc3MtdG9vbGJhci1zbWFsbC1sYXlvdXQ6IGhhc1NtYWxsTGF5b3V0fXtAdmFyOiB0b29sYmFyUGFyZW50RWxlbWVudH0iPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogdG9vbH0iPiA8YnV0dG9uIGNsYXNzPSJ0b29sYmFyLWl0ZW0gdG9vbCIgZGF0YS1iaW5kaW5nPSJ7QGRpc2FibGVkOiBkaXNhYmxlZH17QGNsYXNzLWhpZ2hsaWdodDogaXNBY3RpdmV9e0BjbGFzcy10cmFuc2llbnQtYWN0aXZlOiBhY3RpdmVUcmFuc2llbnR9e0BjbGFzcy1oaWRkZW46IGhpZGRlbn17dGl0bGU6IHRvb2x0aXB9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUb29sYmFySXRlbUNsaWNrfSI+IDxpbWcgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb25Vcml9e3NyYzogaWNvblVyaX0iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ljb24tYmxhbmstMjQucG5nIiBhbHQ9IiIgLz4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3A+IDwvYnV0dG9uPiA8L2xpPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogYnV0dG9ufSI+IDxidXR0b24gY2xhc3M9InRvb2xiYXItaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGRpc2FibGVkOiBkaXNhYmxlZH17QGNsYXNzLWhpZGRlbjogaGlkZGVufXt0aXRsZTogdG9vbHRpcH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVRvb2xiYXJJdGVtQ2xpY2t9Ij4gPGltZyBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX17c3JjOiBpY29uVXJpfSIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvaWNvbi1ibGFuay0yNC5wbmciIGFsdD0iIiAvPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDxsaSBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiB0b2dnbGVCdXR0b259Ij4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIHRvZ2dsZS1idXR0b24iIGRhdGEtYmluZGluZz0ie0BkaXNhYmxlZDogZGlzYWJsZWR9e0BjbGFzcy1oaWRkZW46IGhpZGRlbn17QGNsYXNzLXRvZ2dsZWQtb246IGlzVG9nZ2xlZE9ufXtAY2xhc3MtdHJhbnNpZW50LWFjdGl2ZTogYWN0aXZlVHJhbnNpZW50fXt0aXRsZTogdG9vbHRpcH17QG5vY2xhc3MtdG9nZ2xlZC1vZmY6IGlzVG9nZ2xlZE9ufXtAZXZlbnQtb25jbGljazogaGFuZGxlVG9vbGJhckl0ZW1DbGlja317YXJpYS1sYWJlbDogbmFtZX0iPiA8aW1nIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfXtzcmM6IGljb25Vcml9IiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvVG9vbGJhci9pY29uLWJsYW5rLTI0LnBuZyIgYWx0PSIiIC8+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfSI+PC9wPiA8L2J1dHRvbj4gPC9saT4gPGxpIGNsYXNzPSJ0b29sYmFyLXJlZ2lvbiIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogcmVnaW9ufXt0aXRsZTogdG9vbHRpcH0iPiA8YnV0dG9uIGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IFJlZ2lvbldpZGdldH17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH0iPjwvYnV0dG9uPiA8L2xpPiA8bGkgY2xhc3M9InRvb2xiYXItaXRlbSB0b29sYmFyLWdyb3VwIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiB0b29sYmFyR3JvdXB9e0BjbGFzcy1oaWRkZW46IGRpc2FibGVkfXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9Ub29sYmFyL1RlbXBsYXRlcy9Ub29sYmFySXRlbXNUZW1wbGF0ZS5odG1sfSI+PC9saT4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IGZseW91dH17QGNsYXNzLWhpZGRlbjogZGlzYWJsZWR9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL1Rvb2xiYXIvVGVtcGxhdGVzL1Rvb2xiYXJGbHlvdXRCdXR0b25UZW1wbGF0ZS5odG1sfSI+PC9saT4gPC91bD4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/Templates/ToolbarItemsTemplate.html","html","PGgzIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfSI+PC9oMz4gIDx1bCBjbGFzcz0idG9vbGJhci1uZXN0ZWQiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGl0ZW1zfXtAdGVtcGxhdGUtc2VsZWN0b3I6IHR5cGV9Ij4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IHRvb2x9Ij4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIHRvb2wiIGRhdGEtYmluZGluZz0ie0BkaXNhYmxlZDogZGlzYWJsZWR9e0BjbGFzcy1oaWRkZW46IGhpZGRlbn17QGNsYXNzLWhpZ2hsaWdodDogaXNBY3RpdmV9e0BjbGFzcy10cmFuc2llbnQtYWN0aXZlOiBhY3RpdmVUcmFuc2llbnR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUb29sYmFySXRlbUNsaWNrfXt0aXRsZTogdG9vbHRpcH0iPiA8aW1nIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfXtzcmM6IGljb25Vcml9IiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvVG9vbGJhci9pY29uLWJsYW5rLTI0LnBuZyIgYWx0PSIiIC8+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfSI+PC9wPiA8L2J1dHRvbj4gPC9saT4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IGJ1dHRvbn0iPiA8YnV0dG9uIGNsYXNzPSJ0b29sYmFyLWl0ZW0gdG9vbCIgZGF0YS1iaW5kaW5nPSJ7QGRpc2FibGVkOiBkaXNhYmxlZH17QGNsYXNzLWhpZGRlbjogaGlkZGVufXtAZXZlbnQtb25jbGljazogaGFuZGxlVG9vbGJhckl0ZW1DbGlja317dGl0bGU6IHRvb2x0aXB9Ij4gPGltZyBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX17c3JjOiBpY29uVXJpfSIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvaWNvbi1ibGFuay0yNC5wbmciIGFsdD0iIiAvPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDxsaSBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiB0b2dnbGVCdXR0b259Ij4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIHRvZ2dsZS1idXR0b24iIGRhdGEtYmluZGluZz0ie0BkaXNhYmxlZDogZGlzYWJsZWR9e0BjbGFzcy1oaWRkZW46IGhpZGRlbn17QGNsYXNzLXRvZ2dsZWQtb246IGlzVG9nZ2xlZE9ufXtAY2xhc3MtdHJhbnNpZW50LWFjdGl2ZTogYWN0aXZlVHJhbnNpZW50fXtAbm9jbGFzcy10b2dnbGVkLW9mZjogaXNUb2dnbGVkT259e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUb29sYmFySXRlbUNsaWNrfXt0aXRsZTogdG9vbHRpcH17YXJpYS1sYWJlbDogbmFtZX0iPiA8aW1nIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfXtzcmM6IGljb25Vcml9IiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvVG9vbGJhci9pY29uLWJsYW5rLTI0LnBuZyIgYWx0PSIiIC8+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfSI+PC9wPiA8L2J1dHRvbj4gPC9saT4gPGxpIGNsYXNzPSJ0b29sYmFyLXJlZ2lvbiIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogcmVnaW9ufXt0aXRsZTogdG9vbHRpcH0iPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IHJlZ2lvbn17QHdpZGdldDogUmVnaW9uV2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fSI+PC9kaXY+IDwvbGk+IDxsaSBjbGFzcz0ibmVzdGVkLWdyb3VwIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiB0b29sYmFyR3JvdXB9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL1Rvb2xiYXIvVGVtcGxhdGVzL1RhYmJlZFRvb2xiYXJHcm91cFRlbXBsYXRlLmh0bWx9Ij48L2xpPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogZmx5b3V0fXtAY2xhc3MtaGlkZGVuOiBkaXNhYmxlZH17QHRlbXBsYXRlOiBNYXBwaW5nL21vZHVsZXMvVG9vbGJhci9UZW1wbGF0ZXMvVG9vbGJhckZseW91dEJ1dHRvblRlbXBsYXRlLmh0bWx9Ij48L2xpPiA8L3VsPiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/Templates/ToolbarRegionTemplate.html","html","PGRpdiBkYXRhLWJpbmRpbmc9IntkYXRhLXJlZ2lvbi1uYW1lOiByZWdpb25OYW1lfSIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA=");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/Templates/TransientItems.html","html","PHVsIGNsYXNzPSJ0cmFuc2llbnQtdG9vbGJhciIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogaXRlbXN9e0B0ZW1wbGF0ZS1zZWxlY3RvcjogdHlwZX17QGNsYXNzLWhhcy1uZWlnaGJvdXItdHJhbnNpZW50OiBoYXNOZWlnaGJvdXJ9Ij4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IHRvb2x9Ij4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIHRvb2wiIGRhdGEtYmluZGluZz0ie0BkaXNhYmxlZDogZGlzYWJsZWR9e0BjbGFzcy1oaWRkZW46IGhpZGRlbn17QGNsYXNzLWhpZ2hsaWdodDogaXNBY3RpdmV9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUb29sYmFySXRlbUNsaWNrfXt0aXRsZTogdG9vbHRpcH0iPiA8aW1nIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfXtzcmM6IGljb25Vcml9IiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvVG9vbGJhci9pY29uLWJsYW5rLTI0LnBuZyIgYWx0PSIiIC8+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfSI+PC9wPiA8L2J1dHRvbj4gPC9saT4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IGJ1dHRvbn0iPiA8YnV0dG9uIGNsYXNzPSJ0b29sYmFyLWl0ZW0gdG9vbCIgZGF0YS1iaW5kaW5nPSJ7QGRpc2FibGVkOiBkaXNhYmxlZH17QGNsYXNzLWhpZGRlbjogaGlkZGVufXtAZXZlbnQtb25jbGljazogaGFuZGxlVG9vbGJhckl0ZW1DbGlja317dGl0bGU6IHRvb2x0aXB9Ij4gPGltZyBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX17c3JjOiBpY29uVXJpfSIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvaWNvbi1ibGFuay0yNC5wbmciIGFsdD0iIiAvPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDxsaSBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiB0b2dnbGVCdXR0b259Ij4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIHRvZ2dsZS1idXR0b24iIGRhdGEtYmluZGluZz0ie0BkaXNhYmxlZDogZGlzYWJsZWR9e0BjbGFzcy1oaWRkZW46IGhpZGRlbn17QGNsYXNzLXRvZ2dsZWQtb246IGlzVG9nZ2xlZE9ufXtAbm9jbGFzcy10b2dnbGVkLW9mZjogaXNUb2dnbGVkT259e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUb29sYmFySXRlbUNsaWNrfXt0aXRsZTogdG9vbHRpcH17YXJpYS1sYWJlbDogbmFtZX0iPiA8aW1nIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfXtzcmM6IGljb25Vcml9IiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvVG9vbGJhci9pY29uLWJsYW5rLTI0LnBuZyIgYWx0PSIiIC8+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfSI+PC9wPiA8L2J1dHRvbj4gPC9saT4gPC91bD4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/UploadData/Dialogs/LayerDetailsDialogView.html","html","PGRpdiBjbGFzcz0idXBsb2FkLWRhdGEgbGF5ZXItZGV0YWlscy1kaWFsb2ciPiAgPGZvcm0gYWN0aW9uPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGRhdGEtYmluZGluZz0ie0B2YXI6IGZvcm19Ij4gIDxkaXYgY2xhc3M9ImZvcm0tZmllbGRzIj4gPGxhYmVsIGZvcj0ibGF5ZXItZGV0YWlscy1sYXllci1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxheWVyLWRldGFpbHMtbGF5ZXItbmFtZX0iPjwvbGFiZWw+IDxpbnB1dCBpZD0ibGF5ZXItZGV0YWlscy1sYXllci1uYW1lIiBuYW1lPSJsYXllci1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBsYXllck5hbWV9e3ZhbHVlOiBAbGFuZ3VhZ2UtbGF5ZXItZGV0YWlscy1sYXllci1uYW1lLWRlZmF1bHR9IiAvPiA8L2Rpdj4gIDxkaXYgY2xhc3M9InB1Ymxpc2gtY2hlY2tib3gtY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogcHVibGlzaElzQXZhaWxhYmxlfSI+IDxsYWJlbCBkYXRhLWJpbmRpbmc9IntAZGlzYWJsZWQ6IHB1Ymxpc2hEaXNhYmxlZE1lc3NhZ2V9Ij4gPGlucHV0IHR5cGU9ImNoZWNrYm94IiBjbGFzcz0icHVibGlzaC1jaGVja2JveCIgbmFtZT0icHVibGlzaCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogcHVibGlzaH17QGRpc2FibGVkOiBwdWJsaXNoRGlzYWJsZWRNZXNzYWdlfSIgLz4gPHNwYW4gY2xhc3M9InB1Ymxpc2gtY2hlY2tib3gtbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbGF5ZXItZGV0YWlscy1wdWJsaXNofSI+PC9zcGFuPiA8L2xhYmVsPiA8ZGl2IGNsYXNzPSJwdWJsaXNoLWluZm8iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBwdWJsaXNoRGlzYWJsZWRNZXNzYWdlfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBwdWJsaXNoRGlzYWJsZWRNZXNzYWdlfSI+PC9zcGFuPiA8L2Rpdj4gPC9kaXY+IDwvZm9ybT4gIDxvbCBjbGFzcz0idmFsaWRhdGlvbi1wcm9ibGVtcyIgZGF0YS1iaW5kaW5nPSINCiAgICAgIHtAc291cmNlOiB2YWxpZGF0aW9uUHJvYmxlbXN9DQogICAgICB7QHZpc2libGU6IHZhbGlkYXRpb25Qcm9ibGVtc30iPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogdmFsaWRhdGlvblByb2JsZW1zfSI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB0aXRsZX0iPjwvcD4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG1lc3NhZ2V9Ij48L3A+IDwvbGk+IDwvb2w+ICA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbGF5ZXItZGV0YWlscy1kaWFsb2ctYnV0dG9uLXByb2NlZWR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVQcm9jZWVkfSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1sYXllci1kZXRhaWxzLWRpYWxvZy1idXR0b24tY2FuY2VsfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2FuY2VsfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/UploadData/Dialogs/SymbolDialogView.html","html","PGRpdiBjbGFzcz0idXBsb2FkLWRhdGEgc3ltYm9sLWRpYWxvZyI+ICA8ZGl2IGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IFN5bWJvbG9neVNldHRpbmdzfXtAd2lkZ2V0LXJlcGxhY2U6IHRydWV9Ij48L2Rpdj4gIDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1zeW1ib2wtZGlhbG9nLWJ1dHRvbi1wcm9jZWVkfXtAZXZlbnQtb25jbGljazogaGFuZGxlUHJvY2VlZH0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/UploadData/Dialogs/TableMappingDialogView.html","html","IDxkaXYgY2xhc3M9InVwbG9hZC1kYXRhIHRhYmxlLW1hcHBpbmctZGlhbG9nIj4gIDxmb3JtIGNsYXNzPSJ0YWJsZS1tYXBwaW5nLWZvcm0iIG5hbWU9InRhYmxlLW1hcHBpbmciIGFjdGlvbj0iamF2YXNjcmlwdDp2b2lkKDApIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBmb3JtfXtAZXZlbnQtb25jaGFuZ2U6IHZhbGlkYXRlfSI+ICA8ZmllbGRzZXQgY2xhc3M9InRhYmxlLW1hcHBpbmctbG9jYXRpb24tdHlwZS1ib3giIGRhdGEtYmluZGluZz0ie0B2YXI6IGxvY2F0aW9uVHlwZX17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVDaGFuZ2VMb2NhdGlvblR5cGV9Ij4gPGxhYmVsPiA8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9InRhYmxlLW1hcHBpbmctbG9jYXRpb24tdHlwZSIgdmFsdWU9ImNvb3JkaW5hdGVzIiBjaGVja2VkIC8+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdGFibGUtbWFwcGluZy1sb2NhdGlvbi10eXBlLWNvb3JkaW5hdGVzfSI+PC9zcGFuPiA8L2xhYmVsPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGhhc0NvbmZpZ3VyZWRHZW9jb2Rlcn0iPiA8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9InRhYmxlLW1hcHBpbmctbG9jYXRpb24tdHlwZSIgdmFsdWU9ImFkZHJlc3MiIC8+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdGFibGUtbWFwcGluZy1sb2NhdGlvbi10eXBlLWFkZHJlc3N9Ij48L3NwYW4+IDwvbGFiZWw+IDwvZmllbGRzZXQ+ICA8b2wgY2xhc3M9InRhYmxlLW1hcHBpbmcgY29vcmRpbmF0ZXMiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBsb2NhdGlvblR5cGVJc0Nvb3JkaW5hdGVzfSI+IDxsaT4gPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS10YWJsZS1tYXBwaW5nLXgtYXhpc30iPjwvc3Bhbj4gPHNlbGVjdCBuYW1lPSJ4LWF4aXMiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHRhYmxlSGVhZGluZ3N9e0B2YXI6IHhBeGlzfSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogdGFibGVIZWFkaW5nc317QHRleHQ6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8L2xhYmVsPiA8L2xpPiA8bGk+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdGFibGUtbWFwcGluZy15LWF4aXN9Ij48L3NwYW4+IDxzZWxlY3QgbmFtZT0ieS1heGlzIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiB0YWJsZUhlYWRpbmdzfXtAdmFyOiB5QXhpc30iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHRhYmxlSGVhZGluZ3N9e0B0ZXh0OiBAY29udGV4dH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPC9sYWJlbD4gPC9saT4gPGxpIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiB6QXhpc0VuYWJsZWR9Ij4gPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS10YWJsZS1tYXBwaW5nLXotYXhpc30iPjwvc3Bhbj4gPHNlbGVjdCBuYW1lPSJ6LWF4aXMiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHRhYmxlSGVhZGluZ3N9e0B2YXI6IHpBeGlzfSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogdGFibGVIZWFkaW5nc317QHRleHQ6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8L2xhYmVsPiA8L2xpPiA8bGk+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdGFibGUtbWFwcGluZy1zb3VyY2Utc3BhdGlhbC1yZWZlcmVuY2V9Ij48L3NwYW4+IDxzZWxlY3QgbmFtZT0ic291cmNlLXNwYXRpYWwtcmVmZXJlbmNlIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBzb3VyY2VTcGF0aWFsUmVmZXJlbmNlc317QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVDaGFuZ2VTb3VyY2VTcGF0aWFsUmVmZXJlbmNlfXtAdmFyOiBzb3VyY2VTcGF0aWFsUmVmZXJlbmNlfSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogc291cmNlU3BhdGlhbFJlZmVyZW5jZXN9e0B0ZXh0OiBsYWJlbH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPC9sYWJlbD4gPC9saT4gPGxpIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzb3VyY2VTcGF0aWFsUmVmZXJlbmNlc1VzZUN1c3RvbX0iPiA8bGFiZWwgZm9yPSJ0YWJsZS1tYXBwaW5nLXNvdXJjZS1zcGF0aWFsLXJlZmVyZW5jZS1jdXN0b20iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdGFibGUtbWFwcGluZy1zb3VyY2Utc3BhdGlhbC1yZWZlcmVuY2UtY3VzdG9tfSI+PC9sYWJlbD4gPGlucHV0IHR5cGU9InRleHQiIGlkPSJ0YWJsZS1tYXBwaW5nLXNvdXJjZS1zcGF0aWFsLXJlZmVyZW5jZS1jdXN0b20iIG5hbWU9InNvdXJjZS1zcGF0aWFsLXJlZmVyZW5jZS1jdXN0b20iIGRhdGEtYmluZGluZz0ie0B2YXI6IHNvdXJjZVNwYXRpYWxSZWZlcmVuY2VDdXN0b219IiAvPiA8L2xpPiA8L29sPiAgPG9sIGNsYXNzPSJ0YWJsZS1tYXBwaW5nIGFkZHJlc3MiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBsb2NhdGlvblR5cGVJc0FkZHJlc3N9e0Bzb3VyY2U6IGFkZHJlc3NGaWVsZFNlbGVjdG9yc30iPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYWRkcmVzc0ZpZWxkU2VsZWN0b3JzfSI+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGxhYmVsfSI+PC9sYWJlbD4gPHNlbGVjdCBjbGFzcz0iYWRkcmVzcy1zZWxlY3QiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHRhYmxlSGVhZGluZ09wdGlvbnN9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiB0YWJsZUhlYWRpbmdPcHRpb25zfXtAdGV4dDogQGNvbnRleHR9Ij48L29wdGlvbj4gPC9zZWxlY3Q+IDwvbGk+IDwvb2w+ICA8bGFiZWwgY2xhc3M9InRhYmxlLW1hcHBpbmctaXMtZmlyc3Qtcm93LWhlYWRlci1ib3giPiA8aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9ImlzLWZpcnN0LXJvdy1oZWFkZXIiIGRhdGEtYmluZGluZz0ie0B2YXI6IGlzRmlyc3RSb3dIZWFkZXJ9e0BldmVudC1vbmNoYW5nZTogaGFuZGxlQ2hhbmdlVXNlRmlyc3RSb3dBc0hlYWRlcn0iIGNoZWNrZWQgLz4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS10YWJsZS1tYXBwaW5nLWlzLWZpcnN0LXJvdy1oZWFkZXJ9Ij48L3NwYW4+IDwvbGFiZWw+IDwvZm9ybT4gIDxkaXYgY2xhc3M9InRhYmxlLW1hcHBpbmctcHJldmlldy1jb250YWluZXIiPiA8dGFibGUgY2xhc3M9InRhYmxlLW1hcHBpbmctcHJldmlldyI+IDx0Ym9keSBkYXRhLWJpbmRpbmc9IntAc291cmNlOiB0YWJsZVByZXZpZXd9Ij4gPHRyIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHRhYmxlUHJldmlld317QHNvdXJjZTogQGNvbnRleHR9Ij4gPHRkIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IEBjb250ZXh0fXtAdGV4dDogQGNvbnRleHR9Ij48L3RkPiA8L3RyPiA8L3Rib2R5PiA8L3RhYmxlPiA8L2Rpdj4gIDxvbCBjbGFzcz0idmFsaWRhdGlvbi1wcm9ibGVtcyBlcnJvci1tZXNzYWdlIiBkYXRhLWJpbmRpbmc9Ig0KICAgICAgICB7QHNvdXJjZTogdmFsaWRhdGlvblByb2JsZW1zfQ0KICAgICAgICB7QHZpc2libGU6IHZhbGlkYXRpb25Qcm9ibGVtc30iPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogdmFsaWRhdGlvblByb2JsZW1zfSI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB0aXRsZX0iPjwvcD4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG1lc3NhZ2V9Ij48L3A+IDwvbGk+IDwvb2w+ICA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdGFibGUtbWFwcGluZy1kaWFsb2ctcHJvY2VlZH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVByb2NlZWR9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXRhYmxlLW1hcHBpbmctZGlhbG9nLWNhbmNlbH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNhbmNlbH0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/UploadData/Dialogs/TableRecordResultsDialogView.html","html","PGRpdiBjbGFzcz0idXBsb2FkLWRhdGEgdGFibGUtcmVjb3JkLXJlc3VsdHMtZGlhbG9nIj4gIDxkaXYgY2xhc3M9InRhYmxlLXJlY29yZC1yZXN1bHQiPiA8c3BhbiBjbGFzcz0idGFibGUtcmVjb3JkLXJlc3VsdC1kZXRhaWxzIj4gPGltZyBzcmM9IlJlc291cmNlc1xJbWFnZXNcSWNvbnNcVG9vbGJhclxhbGVydC0yNC5wbmciPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogcmVqZWN0ZWRSZWNvcmRzTWVzc2FnZX0iPjwvc3Bhbj4gPC9zcGFuPiA8c3BhbiBjbGFzcz0idGFibGUtcmVjb3JkLXJlc3VsdC1kZXRhaWxzIj4gPGltZyBzcmM9IlJlc291cmNlc1xJbWFnZXNcSWNvbnNcVG9vbGJhclxjaGVjay0yNC5wbmciPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogYWNjZXB0ZWRSZWNvcmRzTWVzc2FnZX0iPjwvc3Bhbj4gPC9zcGFuPiA8cCBjbGFzcz0idGFibGUtcmVjb3JkLXJlc3VsdC1kb3dubG9hZCI+PGEgZG93bmxvYWQgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHJlamVjdGVkUmVjb3Jkc1VybH17aHJlZjogcmVqZWN0ZWRSZWNvcmRzVXJsfXtAdGV4dDogQGxhbmd1YWdlLXRhYmxlLXJlY29yZC1yZXN1bHRzLWRpYWxvZy1yZWplY3RlZC1yZWNvcmRzLWxpbmt9Ij48L2E+PC9wPiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS10YWJsZS1yZWNvcmQtcmVzdWx0cy1kaWFsb2ctYnV0dG9uLXByb2NlZWR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVQcm9jZWVkfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/UploadData/Dialogs/UploadDialogView.html","html","PGRpdiBjbGFzcz0idXBsb2FkLWRhdGEgdXBsb2FkLWRpYWxvZyIgZGF0YS1iaW5kaW5nPSJ7QGNsYXNzLXVwbG9hZGVyLWRpc2FibGVkOiBkaXNhYmxlZH0iPiAgPHAgY2xhc3M9InVwbG9hZC1kaWFsb2ctZGVzY3JpcHRpb24iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdXBsb2FkLWRpYWxvZy1kZXNjcmlwdGlvbn0iPjwvcD4gPHAgY2xhc3M9InVwbG9hZC1kaWFsb2ctc3VwcG9ydGVkLWZpbGVzIj4gPHN0cm9uZyBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXVwbG9hZC1kaWFsb2ctc3VwcG9ydGVkLWZpbGVzLWxhYmVsfSI+PC9zdHJvbmc+IDxlbSBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXVwbG9hZC1kaWFsb2ctc3VwcG9ydGVkLWZpbGVzfSI+PC9lbT4gPC9wPiAgPGRpdiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBVcGxvYWRlcn17QHdpZGdldC1yZXBsYWNlOiB0cnVlfSI+PC9kaXY+ICA8b2wgY2xhc3M9InZhbGlkYXRpb24tcHJvYmxlbXMgZXJyb3ItbWVzc2FnZSIgZGF0YS1iaW5kaW5nPSINCiAgICAgICAge0Bzb3VyY2U6IHZhbGlkYXRpb25Qcm9ibGVtc30NCiAgICAgICAge0B2aXNpYmxlOiB2YWxpZGF0aW9uUHJvYmxlbXN9Ij4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHZhbGlkYXRpb25Qcm9ibGVtc30iPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogdGl0bGV9Ij48L3A+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBtZXNzYWdlfSI+PC9wPiA8L2xpPiA8L29sPiAgPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlUHJvY2VlZH17QHRleHQ6IEBsYW5ndWFnZS11cGxvYWQtZGlhbG9nLWJ1dHRvbi1wcm9jZWVkfXtkaXNhYmxlZDogZGlzYWJsZWR9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2FuY2VsfXtAdGV4dDogQGxhbmd1YWdlLXVwbG9hZC1kaWFsb2ctYnV0dG9uLWNhbmNlbH17ZGlzYWJsZWQ6IGRpc2FibGVkfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/UploadData/Widgets/Uploader/UploaderView.html","html","DQo8ZGl2IGNsYXNzPSJ1cGxvYWRlciIgZGF0YS1iaW5kaW5nPSJ7QGNsYXNzLXVwbG9hZGVyLWRpc2FibGVkOiBkaXNhYmxlZH0iPiAgPGZvcm0gYWN0aW9uPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGRhdGEtYmluZGluZz0ie0B2YXI6IGZvcm19e0BldmVudC1vbmNoYW5nZTogaGFuZGxlQ2hhbmdlfXtAZXZlbnQtb25zdWJtaXQ6IGhhbmRsZVN1Ym1pdH0iPiAgPGlucHV0IHR5cGU9ImZpbGUiIG5hbWU9ImZpbGVzIiBtdWx0aXBsZSBkYXRhLWJpbmRpbmc9IntAdmFyOiBpbnB1dH17ZGlzYWJsZWQ6IGRpc2FibGVkfSIgLz4gIDxvbCBjbGFzcz0ic2VsZWN0ZWQtZmlsZS1saXN0IiBkYXRhLWJpbmRpbmc9IntAdmFyOiBzZWxlY3RlZEZpbGVMaXN0fXtAdmlzaWJsZTogc2VsZWN0ZWRGaWxlc317QHNvdXJjZTogc2VsZWN0ZWRGaWxlc30iPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogc2VsZWN0ZWRGaWxlc317QGNsYXNzLWZsYWdnZWQ6IGZsYWd9Ij4gPGRpdiBjbGFzcz0ic2VsZWN0ZWQtZmlsZS1ib3giPiA8c3BhbiBjbGFzcz0ic2VsZWN0ZWQtZmlsZS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9InNlbGVjdGVkLWZpbGUtc2l6ZSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNpemV9e0B0ZXh0OiBzaXplfSI+PC9zcGFuPiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImZpbGUtZmxhZyBlcnJvci1tZXNzYWdlIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZmxhZ317QHRleHQ6IGZsYWd9Ij48L2Rpdj4gPC9saT4gPC9vbD4gIDxkaXYgY2xhc3M9InVwbG9hZGVyLWxlZ2FjeS1pbnB1dC1ib3giIGRhdGEtYmluZGluZz0ie0B2YXI6IGxlZ2FjeUlucHV0Qm94fSI+IDxvbCBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBsZWdhY3lJbnB1dHN9Ij4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGxlZ2FjeUlucHV0c30iPiA8aW5wdXQgdHlwZT0iZmlsZSIgbmFtZT0iZmlsZXMiIGRhdGEtYmluZGluZz0ie2Rpc2FibGVkOiBkaXNhYmxlZH0iIC8+IDxidXR0b24gY2xhc3M9InVwbG9hZGVyLWxlZ2FjeS1yZW1vdmUtYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlTGVnYWN5UmVtb3ZlSW5wdXR9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0idXBsb2FkZXItbGVnYWN5LWFkZC1idXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVMZWdhY3lBZGRJbnB1dH0iPjwvYnV0dG9uPiAgPGRpdiBjbGFzcz0iZmlsZS1mbGFnIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZmxhZ317QHRleHQ6IGZsYWd9Ij48L2Rpdj4gPC9saT4gPC9vbD4gPC9kaXY+IDwvZm9ybT4gIDxwcm9ncmVzcyBtYXg9IjEwMCIgdmFsdWU9IjAiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBwcm9ncmVzc317dmFsdWU6IHByb2dyZXNzfSI+PC9wcm9ncmVzcz4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/User/SignInView.html","html","PGRpdiBjbGFzcz0ic2lnbi1pbiIgdGFiaW5kZXg9Ii0xIj4gPGJ1dHRvbiB0eXBlPSJidXR0b24iDQogICAgICAgIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVTaWduSW5DbGlja30NCiAgICAgICAgICAgICAgICAgICAgICB7QHRleHQ6IEBsYW5ndWFnZS11c2VyLXNpZ24taW59DQogICAgICAgICAgICAgICAgICAgICAge3RpdGxlOiBAbGFuZ3VhZ2UtdXNlci1zaWduLWluLWRlc2N9DQogICAgICAgICAgICAgICAgICAgICAge0BzdHlsZS1jb2xvcjogbGlua0NvbG9yfSIgdGFiaW5kZXg9IjAiPiA8L2J1dHRvbj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/User/UserInfoView.html","html","PGRpdiBjbGFzcz0idXNlci1pbmZvLXdyYXBwZXIiIHRhYmluZGV4PSItMSI+IDxkaXYgY2xhc3M9InVzZXItaW5mbyIgZGF0YS1iaW5kaW5nPSJ7QGNsYXNzLWV4cGFuZGVkOiBleHBhbmRlZH17QHN0eWxlLWJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZENvbG9yfSIgPiA8ZGl2IGNsYXNzPSJ1c2VyLWluZm8tZXhwYW5kZXIiPiA8YSBocmVmPSIjIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlRXhwYW5kZXJDbGlja317QHRleHQ6IEBsYW5ndWFnZS11c2VyLW9wZW5tZW51fSI+PC9hPiA8L2Rpdj4gPGRpdiBjbGFzcz0ic2lnbi1vdXQiPiA8YnV0dG9uIHR5cGU9ImJ1dHRvbiINCiAgICAgICAgICAgICAgICBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXVzZXItc2lnbi1vdXR9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGl0bGU6IEBsYW5ndWFnZS11c2VyLXNpZ24tb3V0LWRlc2N9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QHZpc2libGU6IHNpZ25PdXRWaXNpYmxlfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0BldmVudC1vbmNsaWNrOiBoYW5kbGVTaWduT3V0Q2xpY2t9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QHN0eWxlLWNvbG9yOiBsaW5rQ29sb3J9Ij4gPC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0idXNlci1pbmZvLXBvcHVwIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZXhwYW5kZWR9e0BzdHlsZS1jb2xvcjogdGV4dENvbG9yfXtAc3R5bGUtYmFja2dyb3VuZENvbG9yOiBiYWNrZ3JvdW5kQ29sb3J9IiB0YWJpbmRleD0iLTEiPiA8cCBjbGFzcz0idXNlci1pbmZvLWRlc2MiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdXNlci1zaWduZWQtaW4tYXN9Ij48L3A+IDxwIGNsYXNzPSJ1c2VyLW5hbWUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB1c2VyTmFtZX0iPjwvcD4gPGJ1dHRvbg0KICAgICAgICAgICAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS11c2VyLXNpZ24tb3V0fQ0KICAgICAgICAgICAgICAgICAgICAgICAgICB7dGl0bGU6IEBsYW5ndWFnZS11c2VyLXNpZ24tb3V0LWRlc2N9DQogICAgICAgICAgICAgICAgICAgICAgICAgIHtAdmlzaWJsZTogc2lnbk91dFZpc2libGV9DQogICAgICAgICAgICAgICAgICAgICAgICAgIHtAZXZlbnQtb25jbGljazogaGFuZGxlU2lnbk91dENsaWNrfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICB7QHN0eWxlLWNvbG9yOiBsaW5rQ29sb3J9Ij4gPC9idXR0b24+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Visualization/VisualizationView.html","html","PGRpdiBjbGFzcz0icmVnaW9uIHBhbmVsLXN0YXR1cy1yZWdpb24gdmlzdWFsaXphdGlvbi1zdGF0dXMiIGRhdGEtcmVnaW9uLW5hbWU9IlZpc3VhbGl6YXRpb25TdGF0dXNSZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuRGl2UmVnaW9uQWRhcHRlciIgPjwvZGl2PiA8ZGl2IGNsYXNzPSJ2aXN1YWxpemF0aW9uIHBhbmVsLWdyb3VwLWNvbnRlbnRzIj4gPGRpdiBjbGFzcz0idmlzdWFsaXphdGlvbi1zZWxlY3RvciBmb3JtLWl0ZW0iPiA8bGFiZWwgZm9yPSJ2aXN1YWxpemF0aW9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXZpc3VhbGl6YXRpb24tc2VsZWN0fSI+PC9sYWJlbD4gPHNlbGVjdCBpZD0idmlzdWFsaXphdGlvbiIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogdmlzdWFsaXphdGlvbkluZm9zfXtAdmFsdWU6IHNlbGVjdGVkVmlzdWFsaXphdGlvbn0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHZpc3VhbGl6YXRpb25JbmZvc317QHNvdXJjZTogQGNvbnRleHR9e0B0ZXh0OiBuYW1lfXtAYXR0YWNoZWQ6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8L2Rpdj4gIDxkaXYgY2xhc3M9InZpc3VhbGl6YXRpb24tb3B0aW9ucyIgZGF0YS1iaW5kaW5nPSJ7ZGF0YS1yZWdpb24tbmFtZTogcmVnaW9uTmFtZX17ZGF0YS1yZWdpb24tYWRhcHRlcjogcmVnaW9uVHlwZX17QHZhcjogc2Nyb2xsUmVnaW9uRWxlbWVudH17QGV2ZW50LW9uc2Nyb2xsOiBoYW5kbGVTY3JvbGxDaGFuZ2V9e0B2aXNpYmxlOiBoYXNPcHRpb25zVmlld30iPjwvZGl2PiAgPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtY2xpY2s6IGhhbmRsZUFwcGx5QnV0dG9uQ2xpY2t9e0B0ZXh0OiBAbGFuZ3VhZ2UtdmlzdWFsaXphdGlvbi1hcHBseX17QHZpc2libGU6IGhhc09wdGlvbnNWaWV3fSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LWNsaWNrOiBoYW5kbGVEb25lQnV0dG9uQ2xpY2t9e0B0ZXh0OiBAbGFuZ3VhZ2UtdmlzdWFsaXphdGlvbi1kb25lfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/DisplayCaptureGeometryView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlIGRpc3BsYXktY2FwdHVyZS1nZW9tZXRyeSI+IDxkaXYgY2xhc3M9ImZvcm0tdGl0bGUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB0aXRsZX17QHZpc2libGU6IHNob3dUaXRsZUluRm9ybUJvZHl9Ij48L2Rpdj4gIDxkaXYgY2xhc3M9IndvcmtmbG93LWluc3RydWN0aW9uLW1zZyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGluc3RydWN0aW9uTWVzc2FnZX0iPjwvZGl2PiAgPHNwYW4gY2xhc3M9IndvcmtmbG93LWZvcm0tZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGN1c3RvbUdlb21ldHJ5SW5zdHJ1Y3Rpb25zfSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0id29ya2Zsb3ctZm9ybS1kZXNjIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBjdXN0b21HZW9tZXRyeUluc3RydWN0aW9uc317QHRleHQ6IEBsYW5ndWFnZS1nZW9tZXRyeS10b29sYmFyLWluc3RydWN0aW9uc30iPjwvc3Bhbj4gIDxkaXYgY2xhc3M9ImZvcm0tYnRucyBnZW9tZXRyeSIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogY2FwdHVyZVR5cGVzfSI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogY2FwdHVyZVR5cGVzfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2FwdHVyZVR5cGVTZWxlY3Rpb259e2lkOiB0eXBlTmFtZX17dGl0bGU6IHRvb2x0aXB9e0BjbGFzcy1oaWdobGlnaHQ6IGlzU2VsZWN0ZWR9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7Y2xhc3M6IGNsYXNzTmFtZX0iPjwvc3Bhbj4gPC9idXR0b24+IDwvZGl2PiAgPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd1JlcXVpcmVkVmFsaWRhdGlvbk1lc3NhZ2V9Ij4gPGRpdiBjbGFzcz0id29ya2Zsb3ctc3RhdHVzLW1zZyBpbnZhbGlkIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdmFsaWRhdGlvblJlc3VsdHN9Ij4gPHRhYmxlPiA8dHI+IDx0ZD48aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9lcnJvci13aGl0ZS0yNC5wbmciIGRhdGEtYmluZGluZz0ie2FsdDogQGxhbmd1YWdlLWdlb21ldHJ5LWNhcHR1cmVkfSIvPjwvdGQ+IDx0ZCBkYXRhLWJpbmRpbmc9IntAc291cmNlOiB2YWxpZGF0aW9uUmVzdWx0c30iPjxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHZhbGlkYXRpb25SZXN1bHRzfXtAdGV4dDogZXJyb3JNZXNzYWdlfSIgLz48L3RkPiA8L3RyPiA8L3RhYmxlPiA8L2Rpdj4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJ3b3JrZmxvdy1zdGF0dXMtbXNnIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogY2FwdHVyZWRNZXNzYWdlVmlzaWJsZX0iID4gPHRhYmxlPiA8dHI+IDx0ZD48aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9jaGVjay0yNC5wbmciIGRhdGEtYmluZGluZz0ie2FsdDogQGxhbmd1YWdlLWdlb21ldHJ5LWNhcHR1cmVkfSIvPjwvdGQ+IDx0ZCB2YWxpZ249Im1pZGRsZSI+PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1nZW9tZXRyeS1jYXB0dXJlZH0iIC8+PC90ZD4gPC90cj4gPC90YWJsZT4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGJ1dHRvbnN9Ij4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBidXR0b25zfXtAdGV4dDogbGFiZWx9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0J1dHRvbn0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/DisplayHyperlinkView.html","html","DQo8ZGl2IGNsYXNzPSJtb2R1bGUgZGlzcGxheS1oeXBlcmxpbmsiPiA8aDIgY2xhc3M9ImZvcm0tdGl0bGUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB0aXRsZX17QHZpc2libGU6IHNob3dUaXRsZUluRm9ybUJvZHl9Ij48L2gyPiA8cCBjbGFzcz0iZm9ybS1pdGVtIGZvcm0tZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG1lc3NhZ2V9Ij48L3A+IDxhIGNsYXNzPSJmb3JtLWl0ZW0iIGRhdGEtYmluZGluZz0ie2hyZWY6IHVyaX17dGFyZ2V0OiB0YXJnZXR9e0B0ZXh0OiBoeXBlcmxpbmtUZXh0fSI+PC9hPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGJ1dHRvbnN9Ij4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBidXR0b25zfXtAdGV4dDogbGFiZWx9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0J1dHRvbn0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/DisplayReportUrlView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlIGRpc3BsYXktaHlwZXJsaW5rIj4gPHAgY2xhc3M9ImZvcm0taXRlbSBmb3JtLWRlc2MiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utd29ya2Zsb3ctcmVwb3J0LXVybH0iPjwvcD4gPGEgY2xhc3M9ImZvcm0taXRlbSIgZGF0YS1iaW5kaW5nPSJ7aHJlZjogdXJsfXt0YXJnZXQ6IHRhcmdldH17QHRleHQ6IEBsYW5ndWFnZS13b3JrZmxvdy1yZXBvcnQtdXJsLXRleHR9Ij48L2E+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogYnV0dG9uc30iPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGJ1dHRvbnN9e0B0ZXh0OiBsYWJlbH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrQnV0dG9ufSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/DisplayResultPickerView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlIGRpc3BsYXktcmVzdWx0LXBpY2tlciI+ICA8ZGl2IGNsYXNzPSJuby1yZXN1bHRzIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBmZWF0dXJlc30iPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1uby1yZXN1bHRzfSI+PC9wPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1uby1yZXN1bHRzLWRlc2N9Ij48L3A+IDwvZGl2PiAgPGRpdiBjbGFzcz0iZmlsdGVyLXNlY3Rpb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBmaWx0ZXJTZWN0aW9uVmlzaWJsZX17QHZhcjogdG9wQ29udGFpbmVyfSI+ICA8ZGl2IGNsYXNzPSJkaXNwbGF5LXJlc3VsdC1waWNrZXItbWVzc2FnZSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IG1lc3NhZ2V9Ij4gPHAgY2xhc3M9ImZvcm0taXRlbSBmb3JtLWRlc2MiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBtZXNzYWdlfSI+PC9wPiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImZpbHRlci10ZXh0LWJveCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dGaWx0ZXJUZXh0Qm94fSI+IDxpbnB1dCB0eXBlPSJ0ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZmVhdHVyZVNldH17QHZhbHVlOiBmaWx0ZXJUZXh0fXtwbGFjZWhvbGRlcjogQGxhbmd1YWdlLWRpc3BsYXktcmVzdWx0LXBpY2tlci1maWx0ZXItdGV4dC1ib3gtd2F0ZXJtYXJrfSI+IDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsZWFyVGV4dEJveH17QHZpc2libGU6IGZpbHRlclRleHR9Ij5DbGVhcjwvYT4gPC9kaXY+IDxkaXYgY2xhc3M9ImZpbHRlci1zZWxlY3Rpb24tbW9kZSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNTaW5nbGVTZWxlY3Rpb25Nb2RlfSI+IDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgZGF0YS1iaW5kaW5nPSJ7Y2xhc3NOYW1lOiBkaXNhYmxlZExpbmtDc3NDbGFzc317QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVNlbGVjdEFsbH0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWRpc3BsYXktcmVzdWx0LXBpY2tlci1zZWxlY3QtYWxsfSI+PC9zcGFuPiA8L2E+IDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVNlbGVjdE5vbmV9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1kaXNwbGF5LXJlc3VsdC1waWNrZXItc2VsZWN0LW5vbmV9Ij48L3NwYW4+IDwvYT4gPC9kaXY+IDwvZGl2PiAgPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZmVhdHVyZXN9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntjbGFzc05hbWU6IGNzc0NsYXNzfXtAdmFyOiBkaXNwbGF5LXJlc3VsdC1waWNrZXItbGlzdH17QHN0eWxlLXRvcDogdG9wT2Zmc2V0fXtAc3R5bGUtYm90dG9tOiBib3R0b21PZmZzZXR9Ij4gIDxwIGNsYXNzPSJlcnJvci1tZXNzYWdlIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogcmVxdWlyZWRWYWx1ZUVycm9yTWVzc2FnZX17QHZpc2libGU6IHJlcXVpcmVkVmFsdWVFcnJvck1lc3NhZ2V9Ij48L3A+ICA8dWwgY2xhc3M9Imxpc3QtbWVudSBhY3RpdmUiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHJlc3VsdHNMaXN0fXtAdmlzaWJsZTogcmVzdWx0c0xpc3R9Ij4gPGxpIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogcmVzdWx0c0xpc3R9e0BoaWRkZW46IGlzRmlsdGVyZWR9e0BldmVudC1jbGljazogaGFuZGxlQ2xpY2t9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntjbGFzc05hbWU6IGNzc0NsYXNzfSI+ICA8ZGl2IGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IFJlbmRlckNvbXBsZXhSZXN1bHRUZW1wbGF0ZX17QHdpZGdldC1yZXBsYWNlOiB0cnVlfXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH0iPjwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IFJlbmRlclNpbXBsZVJlc3VsdFRlbXBsYXRlfXtAd2lkZ2V0LXJlcGxhY2U6IHRydWV9e0B3aWRnZXQtcmVxdWlyZWQ6IGZhbHNlfXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fSI+PC9kaXY+IDwvZGl2PiA8L2xpPiA8L3VsPiA8L2Rpdj4gPC9kaXY+ICAgPGRpdiBjbGFzcz0iZm9ybS1idG5zIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBidXR0b25zfXtAdmFyOiBib3R0b21Db250YWluZXJ9Ij4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBidXR0b25zfXtAdGV4dDogbGFiZWx9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0J1dHRvbn0iPjwvYnV0dG9uPiA8L2Rpdj4gIDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/WorkflowContainerView.html","html","DQo8ZGl2IGNsYXNzPSJ3b3JrZmxvdy1jb250YWluZXIiPiA8ZGl2IGNsYXNzPSJwYW5lbC1oZWFkZXIiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBkaXNwbGF5SGVhZGVyfSI+IDxoMiBjbGFzcz0icGFuZWwtdGl0bGUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB0aXRsZX0iPjwvaDI+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsb2FkaW5nLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaGFzQ29udGVudH0iPiA8ZGl2IGNsYXNzPSJsb2FkaW5nLWltZyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGJ1c3l9Ij48L2Rpdj4gPGRpdiBjbGFzcz0ibG9hZGluZy1tc2ciIGRhdGEtYmluZGluZz0ie2lubmVySFRNTDogc2FmZU1lc3NhZ2V9Ij48L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9IndvcmtmbG93LWNvbnRhaW5lci1yZWdpb24taG9sZGVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaGFzQ29udGVudH0iPiAgPGRpdiBjbGFzcz0icmVnaW9uIiBkYXRhLXJlZ2lvbi1uYW1lPSIhcmVnaW9uLW5hbWUtcGxhY2Vob2xkZXIhIj48L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/WorkflowFormView.html","html","DQo8ZGl2IGNsYXNzPSJtb2R1bGUgd29ya2Zsb3ctZm9ybSI+IDxoMiBjbGFzcz0iZm9ybS10aXRsZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRpdGxlfXtAdmlzaWJsZTogc2hvd1RpdGxlSW5Gb3JtQm9keX0iPjwvaDI+IDxmb3JtIGRhdGEtYmluZGluZz0ie0BzdHlsZS1tYXhXaWR0aDogZm9ybVdpZHRofXtAZXZlbnQtb25zdWJtaXQ6IGhhbmRsZVN1Ym1pdH0iPiAgPGRpdiBjbGFzcz0id29ya2Zsb3ctZm9ybS1pbm5lciIgZGF0YS1iaW5kaW5nPSJ7QGRvbTogd29ya2Zsb3dGb3JtQ29udGVudH0iPjwvZGl2PiAgPHVsIGNsYXNzPSJmb3JtLXZhbGlkYXRpb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiB2YWxpZGF0aW9uUmVzdWx0c317QHNvdXJjZTogdmFsaWRhdGlvblJlc3VsdHN9Ij4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHZhbGlkYXRpb25SZXN1bHRzfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLXZhbGlkYXRpb24tc3ltYm9sfSI+PC9zcGFuPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZXJyb3JNZXNzYWdlfSI+PC9zcGFuPiA8L2xpPiA8L3VsPiAgPGlucHV0IHR5cGU9InN1Ym1pdCIgc3R5bGU9InBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogLTk5OXB4OyB3aWR0aDogMXB4OyBoZWlnaHQ6IDFweDsiIHRhYmluZGV4PSItMSIvPiAgPGRpdiBjbGFzcz0iZm9ybS1idG5zIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBidXR0b25zfSI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYnV0dG9uc317QHRleHQ6IGxhYmVsfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tCdXR0b259Ij48L2J1dHRvbj4gPC9kaXY+IDwvZm9ybT4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/WorkflowListView.html","html","PGRpdiBjbGFzcz0id29ya2Zsb3ctbGlzdCI+ICA8ZGl2IGNsYXNzPSJuby1yZXN1bHRzIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiB3b3JrZmxvd3N9e0B0ZXh0OiBAbGFuZ3VhZ2Utd29ya2Zsb3ctbm9uZS1hdmFpbGFibGV9Ij48L2Rpdj4gIDxkaXYgY2xhc3M9Imxpc3QtbWVudSBhY3RpdmUiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHdvcmtmbG93c317QHZpc2libGU6IHdvcmtmbG93c30iPiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogd29ya2Zsb3dzfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tXb3JrZmxvd30iPiA8YnV0dG9uIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/AutoCompleteBoxFormItemView.html","html","PGRpdiBjbGFzcz0iYXV0b2NvbXBsZXRlLWlubmVyIj4gPGxhYmVsIGRhdGEtYmluZGluZz0ie2ZvcjogYXR0YWNoZWRfY29udHJvbElkfSIgY2xhc3M9IiBmb3JtLWxhYmVsIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogbGFiZWx9e0B2aXNpYmxlOiBsYWJlbH0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBsYWJlbH17QHRleHQ6IHRleHR9Ij48L3NwYW4+IDwvc3Bhbj4gPHNwYW4gY2xhc3M9ImluZGljYXRvciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGF0dGFjaGVkX3Nob3dJbmRpY2F0b3J9Ij4qPC9zcGFuPiA8L2xhYmVsPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRyb2wiPiAgPGRpdiBjbGFzcz0iYXV0b2NvbXBsZXRlLWlucHV0Ij4gPGRpdiBjbGFzcz0ibG9hZGVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNCdXN5fSI+PC9kaXY+IDxpbnB1dCB0eXBlPSJ0ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmFyOiB0ZXh0RWxlbWVudH17QGV2ZW50LW9ua2V5dXA6IGhhbmRsZUtleUV2ZW50fXtAZXZlbnQtb25ibHVyOiBoYW5kbGVJbnB1dEJsdXJFdmVudH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUlucHV0Q2xpY2tFdmVudH17QGV2ZW50LW9uZm9jdXM6IGhhbmRsZUlucHV0Rm9jdXNFdmVudH17QHZhbHVlOiB0ZXh0fXtAc3R5bGUtd2lkdGg6IHRleHRib3hXaWR0aH17dGl0bGU6IHRvb2xUaXB9e2lkOiBhdHRhY2hlZF9jb250cm9sSWR9IiAvPiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImF1dG9jb21wbGV0ZS1tZW51IiBkYXRhLWJpbmRpbmc9IntAdmFyOiBkcm9wRG93bkNvbnRhaW5lckVsZW1lbnR9e0B2aXNpYmxlOiBpc0Ryb3BEb3duT3Blbn17QHN0eWxlLW1pbldpZHRoOiB0ZXh0Ym94V2lkdGh9e0BldmVudC1vbmtleWRvd246IGhhbmRsZURyb3Bkb3duS2V5RG93bn17QGV2ZW50LW9ubW91c2Vkb3duOiBoYW5kbGVEcm9wZG93bkZvY3VzRXZlbnR9e0BldmVudC1vbmZvY3VzOiBoYW5kbGVEcm9wZG93bkZvY3VzRXZlbnR9e0BldmVudC1vbmJsdXI6IGhhbmRsZURyb3Bkb3duQmx1ckV2ZW50fSI+IDx1bCBjbGFzcz0ibGlzdC1tZW51IiBkYXRhLWJpbmRpbmc9IntAdmFyOiBkcm9wRG93bkxpc3RFbGVtZW50fXtAdmlzaWJsZTogZGF0YUl0ZW1zfXtAc291cmNlOiBkYXRhSXRlbXN9Ij4gPGxpIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogZGF0YUl0ZW1zfXtAdGV4dDogdmFsdWV9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0l0ZW19Ij48L2xpPiA8L3VsPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/CheckBoxFormItemView.html","html","PGRpdiBjbGFzcz0iY2hlY2tib3gtaW5uZXIiPiA8dGFibGU+IDx0cj4gPHRkIGNsYXNzPSJmb3JtLWxhYmVsIGxlZnQiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhdHRhY2hlZF90ZXh0T25MZWZ0fSI+IDxsYWJlbCBkYXRhLWJpbmRpbmc9Intmb3I6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHRleHQ6IGF0dGFjaGVkX2xhYmVsVGV4dH17dGl0bGU6IHRvb2xUaXB9Ij48L2xhYmVsPiA8L3RkPiA8dGQ+IDxpbnB1dCB0eXBlPSJjaGVja2JveCIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBjaGVja2VkfXtpZDogYXR0YWNoZWRfY29udHJvbElkfXt0aXRsZTogdG9vbFRpcH0iIC8+IDwvdGQ+IDx0ZCBjbGFzcz0iZm9ybS1sYWJlbCBsZWZ0IiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBhdHRhY2hlZF90ZXh0T25MZWZ0fSI+IDxsYWJlbCBkYXRhLWJpbmRpbmc9Intmb3I6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHRleHQ6IGF0dGFjaGVkX2xhYmVsVGV4dH17dGl0bGU6IHRvb2xUaXB9Ij48L2xhYmVsPiA8L3RkPiA8L3RyPiA8L3RhYmxlPiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/ComboBoxFormItemView.html","html","PGRpdiBjbGFzcz0iaW5uZXIiPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7Zm9yOiBhdHRhY2hlZF9jb250cm9sSWR9IiBjbGFzcz0iIGZvcm0tbGFiZWwiPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBsYWJlbH17QHZpc2libGU6IGxhYmVsfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGxhYmVsfXtAdGV4dDogdGV4dH0iPjwvc3Bhbj4gPC9zcGFuPiA8c3BhbiBjbGFzcz0iaW5kaWNhdG9yIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogYXR0YWNoZWRfc2hvd0luZGljYXRvcn0iPio8L3NwYW4+IDwvbGFiZWw+IDxkaXYgY2xhc3M9ImZvcm0tY29udHJvbCI+IDxkaXYgY2xhc3M9ImxvYWRlciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzQnVzeX0iPjwvZGl2PiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie2lkOiBhdHRhY2hlZF9jb250cm9sSWR9e0Bzb3VyY2U6IGRhdGFJdGVtc317QHZhbHVlOiBzZWxlY3RlZH17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVTZWxlY3Rpb25DaGFuZ2VkfXtkaXNhYmxlZDogaXNCdXN5fXt0aXRsZTogdG9vbFRpcH0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGRhdGFJdGVtc317QHRleHQ6IGRpc3BsYXl9e0BhdHRhY2g6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/ContainerFormItemView.html","html","PGRpdiBjbGFzcz0iZm9ybS1jb250YWluZXIiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc1Zpc2libGV9e0BjbGFzcy1mb3JtLWhvcml6b250YWw6IGF0dGFjaGVkX2lzSG9yaXpvbnRhbH0iPiA8cCBjbGFzcz0iZm9ybS1pdGVtIGZvcm0tZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGRlc2NyaXB0aW9ufXtpbm5lckhUTUw6IGRlc2NyaXB0aW9ufSI+PC9wPiA8ZGl2IGNsYXNzPSJmb3JtIGxhYmVsLWxlZnQiIGRhdGEtYmluZGluZz0ie3N0eWxlOiBhdHRhY2hlZF9zdHlsZX17QHN0eWxlLW1heFdpZHRoOiBtYXhXaWR0aH17QHNvdXJjZTogZm9ybUl0ZW1zfXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9Xb3JrZmxvdy9Gb3Jtcy9JdGVtcy9Gb3JtSXRlbVZpZXcuaHRtbH0iPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/DatePickerFormItemView.html","html","PGRpdiBjbGFzcz0iaW5uZXIiPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7Zm9yOiBhdHRhY2hlZF9jb250cm9sSWR9IiBjbGFzcz0iIGZvcm0tbGFiZWwiPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBsYWJlbH17QHZpc2libGU6IGxhYmVsfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGxhYmVsfXtAdGV4dDogdGV4dH0iPjwvc3Bhbj4gPC9zcGFuPiA8c3BhbiBjbGFzcz0iaW5kaWNhdG9yIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogYXR0YWNoZWRfc2hvd0luZGljYXRvcn0iPio8L3NwYW4+IDwvbGFiZWw+IDxkaXYgY2xhc3M9ImZvcm0tY29udHJvbCI+ICA8ZGl2IGNsYXNzPSJpbmxpbmUtYmxvY2siIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IEBjb250ZXh0fXtAdGVtcGxhdGUtc2VsZWN0b3I6IGF0dGFjaGVkX3BpY2tlclR5cGV9Ij4gIDxpbnB1dCBjbGFzcz0iZGF0ZS10aW1lIiBkYXRhLWJpbmRpbmc9IntpZDogYXR0YWNoZWRfY29udHJvbElkfXtAdmFyOiBuYXRpdmVfZGF0ZXRpbWVfZWxlbWVudH17QHRlbXBsYXRlLXNlbGVjdDogbmF0aXZlX2RhdGV0aW1lfXt0aXRsZTogdG9vbFRpcH17QHZhbHVlOiBkYXRlfSIgdHlwZT0iZGF0ZXRpbWUiIC8+ICA8ZGl2IGNsYXNzPSJkYXRlLXBpY2tlci1jb250YWluZXIiIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IGpRdWVyeX0iPiA8aW5wdXQgZGF0YS1iaW5kaW5nPSJ7aWQ6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHZhcjogalF1ZXJ5Rm9ybWF0dGVkSW5wdXR9e3RpdGxlOiB0b29sVGlwfXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZUpxdWVyeURhdGVQaWNrZXJUZXh0Q2hhbmdlZH0iIHR5cGU9InRleHQiIGNsYXNzPSJoYXNEYXRlcGlja2VyIGdjeERhdGVwaWNrZXIiICByZWFkb25seSAvPiA8aW5wdXQgZGF0YS1iaW5kaW5nPSJ7aWQ6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHZhcjogalF1ZXJ5UGlja2VyfSIgdHlwZT0iaGlkZGVuIiAvPiA8L2Rpdj4gIDxpbnB1dCBkYXRhLWJpbmRpbmc9IntpZDogYXR0YWNoZWRfY29udHJvbElkfXtAdmFyOiBuYXRpdmVfZGF0ZXRpbWVfZWxlbWVudH17QHRlbXBsYXRlLXNlbGVjdDogbmF0aXZlfXt0aXRsZTogdG9vbFRpcH17QHZhbHVlOiBkYXRlfSIgdHlwZT0iZGF0ZSIgLz4gIDxkaXYgY2xhc3M9ImRhdGUtcGlja2VyLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogbmF0aXZlX2RhdGVfalF1ZXJ5X3RpbWV9e3RpdGxlOiB0b29sVGlwfSI+IDxpbnB1dCBkYXRhLWJpbmRpbmc9IntpZDogYXR0YWNoZWRfY29udHJvbElkfXtAdmFsdWU6IGRhdGV9IiB0eXBlPSJkYXRlIiAvPiA8aW5wdXQgZGF0YS1iaW5kaW5nPSJ7aWQ6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHZhcjogalF1ZXJ5Rm9ybWF0dGVkSW5wdXR9e3RpdGxlOiB0b29sVGlwfXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZUpxdWVyeVRpbWVQaWNrZXJUZXh0Q2hhbmdlZH0iIHR5cGU9InRleHQiIGNsYXNzPSJoYXNEYXRlcGlja2VyIGdjeERhdGVwaWNrZXIiIHJlYWRvbmx5IC8+IDxpbnB1dCBkYXRhLWJpbmRpbmc9IntpZDogYXR0YWNoZWRfY29udHJvbElkfXtAdmFyOiBqUXVlcnlQaWNrZXJ9IiB0eXBlPSJoaWRkZW4iIC8+IDwvZGl2PiAgPGRpdiBjbGFzcz0iZGF0ZXRpbWUtc2VsZWN0IGRhdGV0aW1lLXBpY2tlciIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogbmF0aXZlX2RhdGVfY29tYm9fdGltZX17dGl0bGU6IHRvb2xUaXB9Ij4gPHNwYW4gY2xhc3M9Im5hdGl2ZS1kYXRlLXBpY2tlciI+IDxpbnB1dCBkYXRhLWJpbmRpbmc9IntpZDogYXR0YWNoZWRfY29udHJvbElkfXtAdmFyOiBuYXRpdmVfZGF0ZXRpbWVfZWxlbWVudH17QHZhbHVlOiBkYXRlfSIgdHlwZT0iZGF0ZSIgLz4gPC9zcGFuPiA8c3BhbiBjbGFzcz0idGltZS1zZWxlY3RvcnMiPiA8bGFiZWwgY2xhc3M9InRpbWUtc2VsZWN0Ij4gPHNwYW4gY2xhc3M9InRpbWUtc2VsZWN0LWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWhvdXJzLWFiYnJ9Ij48L3NwYW4+IDxzZWxlY3QgZGF0YS1iaW5kaW5nPSJ7aWQ6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHNvdXJjZTogYXR0YWNoZWRfaG91cnN9e0B2YWx1ZTogYXR0YWNoZWRfaG91cn17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVDaGFuZ2VDb21ib0JveFRpbWVXaXRoTmF0aXZlRGF0ZX17QHZhcjogc2VsZWN0MH0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGF0dGFjaGVkX2hvdXJzfXtAYXR0YWNoZWQtdmFsdWU6IHZhbH17QHRleHQ6IGRlc2N9Ij48L29wdGlvbj4gPC9zZWxlY3Q+IDwvbGFiZWw+IDxsYWJlbCBjbGFzcz0idGltZS1zZWxlY3QiPiA8c3BhbiBjbGFzcz0idGltZS1zZWxlY3QtbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbWludXRlcy1hYmJyfSI+PC9zcGFuPiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie2lkOiBhdHRhY2hlZF9jb250cm9sSWR9e0Bzb3VyY2U6IGF0dGFjaGVkX21pbnV0ZXN9e0B2YWx1ZTogYXR0YWNoZWRfbWludXRlfXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZUNoYW5nZUNvbWJvQm94VGltZVdpdGhOYXRpdmVEYXRlfXtAdmFyOiBzZWxlY3QxfSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYXR0YWNoZWRfbWludXRlc317QHRleHQ6IEBjb250ZXh0fXtAYXR0YWNoZWQtdmFsdWU6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8L2xhYmVsPiA8bGFiZWwgY2xhc3M9InRpbWUtc2VsZWN0Ij4gPHNwYW4gY2xhc3M9InRpbWUtc2VsZWN0LWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXNlY29uZHMtYWJicn0iPjwvc3Bhbj4gPHNlbGVjdCBkYXRhLWJpbmRpbmc9IntpZDogYXR0YWNoZWRfY29udHJvbElkfXtAc291cmNlOiBhdHRhY2hlZF9zZWNvbmRzfXtAdmFsdWU6IGF0dGFjaGVkX3NlY29uZH17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVDaGFuZ2VDb21ib0JveFRpbWVXaXRoTmF0aXZlRGF0ZX17QHZhcjogc2VsZWN0Mn0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGF0dGFjaGVkX3NlY29uZHN9e0B0ZXh0OiBAY29udGV4dH17QGF0dGFjaGVkLXZhbHVlOiBAY29udGV4dH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPC9sYWJlbD4gPC9zcGFuPiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImRhdGV0aW1lLXNlbGVjdCIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogY29tYm9zfXt0aXRsZTogdG9vbFRpcH0iPiA8c2VsZWN0IGNsYXNzPSJkcC15eSIgZGF0YS1iaW5kaW5nPSJ7aWQ6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHNvdXJjZTogYXR0YWNoZWRfeWVhcnN9e0B2YWx1ZTogYXR0YWNoZWRfeWVhcn17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVDaGFuZ2VDb21ib0JveFRpbWV9e0B2YXI6IHNlbGVjdDN9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBhdHRhY2hlZF95ZWFyc317QHRleHQ6IEBjb250ZXh0fXtAYXR0YWNoZWQtdmFsdWU6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8c2VsZWN0IGNsYXNzPSJkcC1tbSIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBhdHRhY2hlZF9tb250aH17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVDaGFuZ2VDb21ib0JveFRpbWV9e0B2YXI6IHNlbGVjdDR9Ij4gPG9wdGlvbiB2YWx1ZT0iMCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tb250aHMtMH0iPjwvb3B0aW9uPiA8b3B0aW9uIHZhbHVlPSIxIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW1vbnRocy0xfSI+PC9vcHRpb24+IDxvcHRpb24gdmFsdWU9IjIiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbW9udGhzLTJ9Ij48L29wdGlvbj4gPG9wdGlvbiB2YWx1ZT0iMyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tb250aHMtM30iPjwvb3B0aW9uPiA8b3B0aW9uIHZhbHVlPSI0IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW1vbnRocy00fSI+PC9vcHRpb24+IDxvcHRpb24gdmFsdWU9IjUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbW9udGhzLTV9Ij48L29wdGlvbj4gPG9wdGlvbiB2YWx1ZT0iNiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tb250aHMtNn0iPjwvb3B0aW9uPiA8b3B0aW9uIHZhbHVlPSI3IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW1vbnRocy03fSI+PC9vcHRpb24+IDxvcHRpb24gdmFsdWU9IjgiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbW9udGhzLTh9Ij48L29wdGlvbj4gPG9wdGlvbiB2YWx1ZT0iOSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tb250aHMtOX0iPjwvb3B0aW9uPiA8b3B0aW9uIHZhbHVlPSIxMCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tb250aHMtMTB9Ij48L29wdGlvbj4gPG9wdGlvbiB2YWx1ZT0iMTEiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbW9udGhzLTExfSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8c2VsZWN0IGNsYXNzPSJkcC1kZCIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogYXR0YWNoZWRfZGF5c317QHZhbHVlOiBhdHRhY2hlZF9kYXl9e0BldmVudC1vbmNoYW5nZTogaGFuZGxlQ2hhbmdlQ29tYm9Cb3hUaW1lfXtAdmFyOiBzZWxlY3Q1fSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYXR0YWNoZWRfZGF5c317QHRleHQ6IEBjb250ZXh0fXtAYXR0YWNoZWQtdmFsdWU6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImRwLXRwLXNlbGVjdCIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogY29tYm9zX2RhdGV0aW1lfXt0aXRsZTogdG9vbFRpcH0iPiA8ZGl2IGNsYXNzPSJkYXRldGltZS1zZWxlY3QiPiA8c2VsZWN0IGNsYXNzPSJ5ZWFyLXNlbGVjdCIgZGF0YS1iaW5kaW5nPSJ7aWQ6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHNvdXJjZTogYXR0YWNoZWRfeWVhcnN9e0B2YWx1ZTogYXR0YWNoZWRfeWVhcn17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVDaGFuZ2VDb21ib0JveFRpbWV9e0B2YXI6IHNlbGVjdDZ9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBhdHRhY2hlZF95ZWFyc317QHRleHQ6IEBjb250ZXh0fXtAYXR0YWNoZWQtdmFsdWU6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8c2VsZWN0IGNsYXNzPSJtb250aC1zZWxlY3QiIGRhdGEtYmluZGluZz0ie2lkOiBhdHRhY2hlZF9jb250cm9sSWR9e0B2YWx1ZTogYXR0YWNoZWRfbW9udGh9e0BldmVudC1vbmNoYW5nZTogaGFuZGxlQ2hhbmdlQ29tYm9Cb3hUaW1lfXtAdmFyOiBzZWxlY3Q3fSI+IDxvcHRpb24gdmFsdWU9IjAiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbW9udGhzLTB9Ij48L29wdGlvbj4gPG9wdGlvbiB2YWx1ZT0iMSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tb250aHMtMX0iPjwvb3B0aW9uPiA8b3B0aW9uIHZhbHVlPSIyIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW1vbnRocy0yfSI+PC9vcHRpb24+IDxvcHRpb24gdmFsdWU9IjMiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbW9udGhzLTN9Ij48L29wdGlvbj4gPG9wdGlvbiB2YWx1ZT0iNCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tb250aHMtNH0iPjwvb3B0aW9uPiA8b3B0aW9uIHZhbHVlPSI1IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW1vbnRocy01fSI+PC9vcHRpb24+IDxvcHRpb24gdmFsdWU9IjYiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbW9udGhzLTZ9Ij48L29wdGlvbj4gPG9wdGlvbiB2YWx1ZT0iNyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tb250aHMtN30iPjwvb3B0aW9uPiA8b3B0aW9uIHZhbHVlPSI4IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW1vbnRocy04fSI+PC9vcHRpb24+IDxvcHRpb24gdmFsdWU9IjkiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbW9udGhzLTl9Ij48L29wdGlvbj4gPG9wdGlvbiB2YWx1ZT0iMTAiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbW9udGhzLTEwfSI+PC9vcHRpb24+IDxvcHRpb24gdmFsdWU9IjExIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW1vbnRocy0xMX0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPHNlbGVjdCBjbGFzcz0iZGF5LXNlbGVjdCIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogYXR0YWNoZWRfZGF5c317QHZhbHVlOiBhdHRhY2hlZF9kYXl9e0BldmVudC1vbmNoYW5nZTogaGFuZGxlQ2hhbmdlQ29tYm9Cb3hUaW1lfXtAdmFyOiBzZWxlY3Q4fSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYXR0YWNoZWRfZGF5c317QHRleHQ6IEBjb250ZXh0fXtAYXR0YWNoZWQtdmFsdWU6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8L2Rpdj4gPGRpdiBjbGFzcz0iZGF0ZXRpbWUtc2VsZWN0IHRpbWUiPiA8bGFiZWwgY2xhc3M9InRpbWUtc2VsZWN0Ij4gPHNwYW4gY2xhc3M9InRpbWUtc2VsZWN0LWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWhvdXJzLWFiYnJ9Ij48L3NwYW4+IDxzZWxlY3QgZGF0YS1iaW5kaW5nPSJ7aWQ6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHNvdXJjZTogYXR0YWNoZWRfaG91cnN9e0B2YWx1ZTogYXR0YWNoZWRfaG91cn17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVDaGFuZ2VDb21ib0JveFRpbWV9e0B2YXI6IHNlbGVjdDl9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBhdHRhY2hlZF9ob3Vyc317QGF0dGFjaGVkLXZhbHVlOiB2YWx9e0B0ZXh0OiBkZXNjfSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8L2xhYmVsPiA8bGFiZWwgY2xhc3M9InRpbWUtc2VsZWN0Ij4gPHNwYW4gY2xhc3M9InRpbWUtc2VsZWN0LWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW1pbnV0ZXMtYWJicn0iPjwvc3Bhbj4gPHNlbGVjdCBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBhdHRhY2hlZF9taW51dGVzfXtAdmFsdWU6IGF0dGFjaGVkX21pbnV0ZX17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVDaGFuZ2VDb21ib0JveFRpbWV9e0B2YXI6IHNlbGVjdDEwfSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYXR0YWNoZWRfbWludXRlc317QHRleHQ6IEBjb250ZXh0fXtAYXR0YWNoZWQtdmFsdWU6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8L2xhYmVsPiA8bGFiZWwgY2xhc3M9InRpbWUtc2VsZWN0Ij4gPHNwYW4gY2xhc3M9InRpbWUtc2VsZWN0LWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXNlY29uZHMtYWJicn0iPjwvc3Bhbj4gPHNlbGVjdCBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBhdHRhY2hlZF9zZWNvbmRzfXtAdmFsdWU6IGF0dGFjaGVkX3NlY29uZH17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVDaGFuZ2VDb21ib0JveFRpbWV9e0B2YXI6IHNlbGVjdDExfSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYXR0YWNoZWRfc2Vjb25kc317QHRleHQ6IEBjb250ZXh0fXtAYXR0YWNoZWQtdmFsdWU6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8L2xhYmVsPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJpbmxpbmUtYmxvY2siIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBudWxsYWJsZX0iPiA8YnV0dG9uIGNsYXNzPSJkYXRldGltZS1idG4gdW4tbnVsbGlmeSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGF0dGFjaGVkX2lzTnVsbH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrU2V0Tm90TnVsbH0iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJkYXRldGltZS1idG4gbnVsbGlmeSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogYXR0YWNoZWRfaXNOdWxsfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tTZXROdWxsfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/FilePickerFormItemView.html","html","PGRpdiBjbGFzcz0iaW5uZXIiPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7Zm9yOiBhdHRhY2hlZF9jb250cm9sSWR9IiBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGxhYmVsfXtAdmlzaWJsZTogbGFiZWx9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogbGFiZWx9e0B0ZXh0OiB0ZXh0fSI+PC9zcGFuPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJpbmRpY2F0b3IiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhdHRhY2hlZF9zaG93SW5kaWNhdG9yfSI+Kjwvc3Bhbj4gPC9sYWJlbD4gPGRpdiBjbGFzcz0iZm9ybS1jb250cm9sIj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNTdXBwb3J0ZWR9Ij4gPGRpdiBjbGFzcz0iZmlsZS1pbnB1dCI+IDxkaXYgY2xhc3M9ImZpbGUtaW5wdXQtYnJvd3NlciI+IDxpbnB1dCB0eXBlPSJmaWxlIiBkYXRhLWJpbmRpbmc9IntpZDogYXR0YWNoZWRfY29udHJvbElkfXtAdmlzaWJsZTogaXNTdXBwb3J0ZWR9e3RpdGxlOiB0b29sVGlwfXttdWx0aXBsZTogYWxsb3dNdWx0aXBsZX17YWNjZXB0OiBhY2NlcHRGaWxlVHlwZXN9e0BldmVudC1jaGFuZ2U6IGhhbmRsZUNoYW5nZX0iIC8+IDwvZGl2PiA8L2Rpdj4gPGlucHV0IGNsYXNzPSJmaWxlLWlucHV0LWNsZWFyIiB0eXBlPSJidXR0b24iIHZhbHVlPSJYIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZmlsZXN9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGVhckNsaWNrfSIgLz4gPC9kaXY+IDxzcGFuIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzU3VwcG9ydGVkfXtAdGV4dDogQGxhbmd1YWdlLWZpbGUtcGlja2VyLW5vdC1zdXBwb3J0ZWR9Ij48L3NwYW4+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/FormItemView.html","html","PGRpdiBjbGFzcz0iZm9ybS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNWaXNpYmxlfXtjbGFzc05hbWU6IGF0dGFjaGVkX2luZGljYXRvckNsYXNzfXtAc291cmNlOiBAY29udGV4dH17QHRlbXBsYXRlLXNlbGVjdG9yOiBmb3JtSXRlbVR5cGV9Ij4gPGRpdiBjbGFzcz0iYXV0b2NvbXBsZXRlIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBBdXRvQ29tcGxldGVCb3hGb3JtSXRlbX17QHdpZGdldDogQXV0b0NvbXBsZXRlQm94Rm9ybUl0ZW19e0B2aXNpYmxlOiBpc1Zpc2libGV9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iY2hlY2tib3giIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IENoZWNrQm94Rm9ybUl0ZW19e0B3aWRnZXQ6IENoZWNrQm94Rm9ybUl0ZW19e0B2aXNpYmxlOiBpc1Zpc2libGV9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iY29tYm9ib3giIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IENvbWJvQm94Rm9ybUl0ZW19e0B3aWRnZXQ6IENvbWJvQm94Rm9ybUl0ZW19e0B2aXNpYmxlOiBpc1Zpc2libGV9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBDb250YWluZXJGb3JtSXRlbX17QHdpZGdldDogQ29udGFpbmVyRm9ybUl0ZW19e0B2aXNpYmxlOiBpc1Zpc2libGV9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iZGF0ZXBpY2tlciIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogRGF0ZVBpY2tlckZvcm1JdGVtfXtAd2lkZ2V0OiBEYXRlUGlja2VyRm9ybUl0ZW19e0B2aXNpYmxlOiBpc1Zpc2libGV9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iZmlsZXBpY2tlciIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogRmlsZVBpY2tlckZvcm1JdGVtfXtAd2lkZ2V0OiBGaWxlUGlja2VyRm9ybUl0ZW19e0B2aXNpYmxlOiBpc1Zpc2libGV9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iZ3JvdXBib3giIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IEdyb3VwQm94Rm9ybUl0ZW19e0B3aWRnZXQ6IEdyb3VwQm94Rm9ybUl0ZW19e0B2aXNpYmxlOiBpc1Zpc2libGV9Ij48L2Rpdj4gPGRpdiBjbGFzcz0ibGluayIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogSHlwZXJsaW5rRm9ybUl0ZW19e0B3aWRnZXQ6IEh5cGVybGlua0Zvcm1JdGVtfXtAdmlzaWJsZTogaXNWaXNpYmxlfSI+PC9kaXY+IDxkaXYgY2xhc3M9ImltYWdlIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBJbWFnZUZvcm1JdGVtfXtAd2lkZ2V0OiBJbWFnZUZvcm1JdGVtfXtAdmlzaWJsZTogaXNWaXNpYmxlfSI+PC9kaXY+IDxkaXYgY2xhc3M9ImxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBMYWJlbEZvcm1JdGVtfXtAd2lkZ2V0OiBMYWJlbEZvcm1JdGVtfXtAdmlzaWJsZTogaXNWaXNpYmxlfSI+PC9kaXY+IDxkaXYgY2xhc3M9Imxpc3Rib3giIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IExpc3RCb3hGb3JtSXRlbX17QHdpZGdldDogTGlzdEJveEZvcm1JdGVtfXtAdmlzaWJsZTogaXNWaXNpYmxlfSI+PC9kaXY+IDxkaXYgY2xhc3M9Im1hcmtkb3duIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBNYXJrZG93bkZvcm1JdGVtfXtAd2lkZ2V0OiBNYXJrZG93bkZvcm1JdGVtfXtAdmlzaWJsZTogaXNWaXNpYmxlfSI+PC9kaXY+IDxkaXYgY2xhc3M9InJhZGlvYnRuIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBSYWRpb0J1dHRvbkZvcm1JdGVtfXtAd2lkZ2V0OiBSYWRpb0J1dHRvbkZvcm1JdGVtfXtAdmlzaWJsZTogaXNWaXNpYmxlfSI+PC9kaXY+IDxkaXYgY2xhc3M9InRleHRhcmVhIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBUZXh0QXJlYUZvcm1JdGVtfXtAd2lkZ2V0OiBUZXh0QXJlYUZvcm1JdGVtfXtAdmlzaWJsZTogaXNWaXNpYmxlfSI+PC9kaXY+IDxkaXYgY2xhc3M9InRleHRib3giIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IFRleHRCb3hGb3JtSXRlbX17QHdpZGdldDogVGV4dEJveEZvcm1JdGVtfXtAdmlzaWJsZTogaXNWaXNpYmxlfSI+PC9kaXY+IDxkaXYgY2xhc3M9InRleHRhcmVhIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBUaW1lUGlja2VyRm9ybUl0ZW19e0B3aWRnZXQ6IFRpbWVQaWNrZXJGb3JtSXRlbX17QHZpc2libGU6IGlzVmlzaWJsZX0iPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/GroupBoxFormItemView.html","html","PGZpZWxkc2V0PiA8bGVnZW5kIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBoZWFkZXJ9Ij48L2xlZ2VuZD4gPHAgY2xhc3M9ImZvcm0taXRlbSBmb3JtLWRlc2MiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBkZXNjcmlwdGlvbn17aW5uZXJIVE1MOiBkZXNjcmlwdGlvbn0iPjwvcD4gIDxkaXYgY2xhc3M9ImZvcm0gbGFiZWwtbGVmdCIgZGF0YS1iaW5kaW5nPSJ7c3R5bGU6IGF0dGFjaGVkX3N0eWxlfXtAY2xhc3MtZm9ybS1ob3Jpem9udGFsOiBhdHRhY2hlZF9pc0hvcml6b250YWx9e0Bzb3VyY2U6IGZvcm1JdGVtc317QHRlbXBsYXRlOiBNYXBwaW5nL21vZHVsZXMvV29ya2Zsb3cvRm9ybXMvSXRlbXMvRm9ybUl0ZW1WaWV3Lmh0bWx9Ij48L2Rpdj4gPC9maWVsZHNldD4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/HyperlinkFormItemView.html","html","PGRpdiBjbGFzcz0iaHlwZXJsaW5rIj4gPGEgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrfXtocmVmOiB1cml9e0B0ZXh0OiBoeXBlcmxpbmtUZXh0fXt0YXJnZXQ6dGFyZ2V0fXt0aXRsZTogdG9vbFRpcH0iPjwvYT4gPC9kaXY+IA==");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/ImageFormItemView.html","html","PGRpdiBjbGFzcz0iaW5uZXIiPiA8aW1nIGRhdGEtYmluZGluZz0ie3NyYzogc291cmNlfXtAc3R5bGUtd2lkdGg6IHdpZHRofXtAc3R5bGUtaGVpZ2h0OiBoZWlnaHR9e2FsdDogdG9vbFRpcH0iIC8+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/ListBoxFormItemView.html","html","PGRpdiBjbGFzcz0iaW5uZXIiPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7Zm9yOiBhdHRhY2hlZF9jb250cm9sSWR9IiBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGxhYmVsfXtAdmlzaWJsZTogbGFiZWx9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogbGFiZWx9e0B0ZXh0OiB0ZXh0fSI+PC9zcGFuPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJpbmRpY2F0b3IiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhdHRhY2hlZF9zaG93SW5kaWNhdG9yfSI+Kjwvc3Bhbj4gPC9sYWJlbD4gPGRpdiBjbGFzcz0iZm9ybS1jb250cm9sIj4gPGRpdiBjbGFzcz0ibG9hZGVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNCdXN5fSI+PC9kaXY+IDxzZWxlY3QgZGF0YS1iaW5kaW5nPSJ7aWQ6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHNvdXJjZTogZGF0YUl0ZW1zfXtAdmFyOiBzZWxlY3RFbGVtZW50fXttdWx0aXBsZTogYXR0YWNoZWRfaXNNdWx0aXBsZX17QHZhbHVlOiBzZWxlY3Rpb259e0BldmVudC1vbmNoYW5nZTogaGFuZGxlU2VsZWN0aW9uQ2hhbmdlZH17dGl0bGU6IHRvb2xUaXB9e2Rpc2FibGVkOiBpc0J1c3l9e3NpemU6IHNpemV9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBkYXRhSXRlbXN9e0B0ZXh0OiBkaXNwbGF5fXtAYXR0YWNoOiBAY29udGV4dH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/MarkdownFormItemView.html","html","PGRpdiBjbGFzcz0iaW5uZXIiIGRhdGEtYmluZGluZz0ie0B2YXI6IG1hcmtkb3duRWxlbWVudH0iPjwvZGl2PiA=");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/RadioButtonFormItemView.html","html","PGRpdiBjbGFzcz0icmFkaW9idG4taW5uZXIiPiA8dGFibGU+IDx0cj4gPHRkIGNsYXNzPSJmb3JtLWxhYmVsIGxlZnQiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhdHRhY2hlZF90ZXh0T25MZWZ0fSI+IDxsYWJlbCBkYXRhLWJpbmRpbmc9Intmb3I6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHRleHQ6IGF0dGFjaGVkX2xhYmVsVGV4dH17dGl0bGU6IHRvb2xUaXB9Ij48L2xhYmVsPiA8L3RkPiA8dGQ+IDxpbnB1dCB0eXBlPSJyYWRpbyIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogcmFkaW9FbGVtZW50fXtpZDogYXR0YWNoZWRfY29udHJvbElkfXtuYW1lOiBncm91cE5hbWV9e3RpdGxlOiB0b29sVGlwfSIgLz4gPC90ZD4gPHRkIGNsYXNzPSJmb3JtLWxhYmVsIHJpZ2h0IiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBhdHRhY2hlZF90ZXh0T25MZWZ0fSI+IDxsYWJlbCBkYXRhLWJpbmRpbmc9Intmb3I6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHRleHQ6IGF0dGFjaGVkX2xhYmVsVGV4dH17dGl0bGU6IHRvb2xUaXB9Ij48L2xhYmVsPiA8L3RkPiA8L3RyPiA8L3RhYmxlPiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/TextAreaFormItemView.html","html","PGRpdiBjbGFzcz0iaW5uZXIiPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7Zm9yOiBhdHRhY2hlZF9jb250cm9sSWR9IiBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGxhYmVsfXtAdmlzaWJsZTogbGFiZWx9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogbGFiZWx9e0B0ZXh0OiB0ZXh0fSI+PC9zcGFuPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJpbmRpY2F0b3IiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhdHRhY2hlZF9zaG93SW5kaWNhdG9yfSI+Kjwvc3Bhbj4gPC9sYWJlbD4gPGRpdiBjbGFzcz0iZm9ybS1jb250cm9sIj4gPHRleHRhcmVhIGRhdGEtYmluZGluZz0ie2lkOiBhdHRhY2hlZF9jb250cm9sSWR9e0B2YWx1ZTogdGV4dH17QHN0eWxlLXdpZHRoOiB0ZXh0Ym94V2lkdGh9e0BzdHlsZS1oZWlnaHQ6IHRleHRib3hIZWlnaHR9e3RpdGxlOiB0b29sVGlwfXtAZXZlbnQtb25ibHVyOiBoYW5kbGVCbHVyQ29udHJvbH17cmVhZG9ubHk6IHJlYWRPbmx5fSI+PC90ZXh0YXJlYT4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/TextBoxFormItemView.html","html","PGRpdiBjbGFzcz0iaW5uZXIiPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7Zm9yOiBhdHRhY2hlZF9jb250cm9sSWR9IiBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGxhYmVsfXtAdmlzaWJsZTogbGFiZWx9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogbGFiZWx9e0B0ZXh0OiB0ZXh0fSI+PC9zcGFuPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJpbmRpY2F0b3IiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhdHRhY2hlZF9zaG93SW5kaWNhdG9yfSI+Kjwvc3Bhbj4gPC9sYWJlbD4gPGRpdiBjbGFzcz0iZm9ybS1jb250cm9sIj4gPGlucHV0IGRhdGEtYmluZGluZz0ie2lkOiBhdHRhY2hlZF9jb250cm9sSWR9e3R5cGU6IGF0dGFjaGVkX3R5cGV9e0B2YWx1ZTogdGV4dH17QHN0eWxlLXdpZHRoOiB0ZXh0Ym94V2lkdGh9e3RpdGxlOiB0b29sVGlwfXtyZWFkb25seTogcmVhZE9ubHl9IiAvPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/TimePickerFormItemView.html","html","PGRpdiBjbGFzcz0iZm9ybS1pdGVtIHRpbWUtcGlja2VyIj4gPGxhYmVsIGRhdGEtYmluZGluZz0ie2ZvcjogYXR0YWNoZWRfY29udHJvbElkfSIgY2xhc3M9ImZvcm0tbGFiZWwiPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBsYWJlbH17QHZpc2libGU6IGxhYmVsfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGxhYmVsfXtAdGV4dDogdGV4dH0iPjwvc3Bhbj4gPC9zcGFuPiA8c3BhbiBjbGFzcz0iaW5kaWNhdG9yIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogYXR0YWNoZWRfc2hvd0luZGljYXRvcn0iPio8L3NwYW4+IDwvbGFiZWw+IDxkaXYgY2xhc3M9ImRhdGV0aW1lLXNlbGVjdCBpbmxpbmUtYmxvY2siIGRhdGEtYmluZGluZz0ie3RpdGxlOiB0b29sVGlwfXtAdmFyOiBzZWxlY3RDb250YWluZXJFbGVtZW50fSI+IDxkaXY+IDxzZWxlY3QgZGF0YS1iaW5kaW5nPSJ7aWQ6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHNvdXJjZTogYXR0YWNoZWRfaG91cnN9e0B2YWx1ZTogYXR0YWNoZWRfaG91cn17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVDaGFuZ2VDb21ib0JveFRpbWV9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBhdHRhY2hlZF9ob3Vyc317QGF0dGFjaGVkLXZhbHVlOiB2YWx9e0B0ZXh0OiBkZXNjfSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGF0dGFjaGVkX21pbnV0ZXN9e0B2YWx1ZTogYXR0YWNoZWRfbWludXRlfXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZUNoYW5nZUNvbWJvQm94VGltZX0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGF0dGFjaGVkX21pbnV0ZXN9e0B0ZXh0OiBAY29udGV4dH17QGF0dGFjaGVkLXZhbHVlOiBAY29udGV4dH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPHNlbGVjdCBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBhdHRhY2hlZF9zZWNvbmRzfXtAdmFsdWU6IGF0dGFjaGVkX3NlY29uZH17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVDaGFuZ2VDb21ib0JveFRpbWV9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBhdHRhY2hlZF9zZWNvbmRzfXtAdGV4dDogQGNvbnRleHR9e0BhdHRhY2hlZC12YWx1ZTogQGNvbnRleHR9Ij48L29wdGlvbj4gPC9zZWxlY3Q+IDwvZGl2PiA8ZGl2IGNsYXNzPSJpbmxpbmUtYmxvY2siIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBudWxsYWJsZX0iPiA8YnV0dG9uIGNsYXNzPSJkYXRldGltZS1idG4gdW4tbnVsbGlmeSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGF0dGFjaGVkX3RpbWVJc051bGx9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja1NldE5vdE51bGx9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iZGF0ZXRpbWUtYnRuIG51bGxpZnkiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGF0dGFjaGVkX3RpbWVJc051bGx9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja1NldE51bGx9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJjbGVhciI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Templates/DisplayResultPickerComplexResultTemplateView.html","html","PGRpdiBjbGFzcz0ibGlzdC1tZW51LWNoZWNrYm94IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd0NoZWNrYm94fSI+IDxpbnB1dCBjbGFzcz0iZmVhdHVyZS1jaGVja2JveCIgdHlwZT0iY2hlY2tib3giIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93Q2hlY2tib3h9e0B2YWx1ZTogaXNTZWxlY3RlZH0iIC8+IDwvZGl2PiAgDQo8ZGl2IGNsYXNzPSJsaXN0LW1lbnUtaWNvbnMiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93SWNvbn0iPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7c3JjOiBpY29uVXJpfXthbHQ6IGxhYmVsfXtAdmlzaWJsZTogaWNvblVyaX0iIC8+IDxpbWcgY2xhc3M9Imxpc3QtbWVudS1pY29uIiBkYXRhLWJpbmRpbmc9InthbHQ6IGxhYmVsfXtAaGlkZGVuOiBpY29uVXJpfSIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL21hcC1kZWZhdWx0LTI0LnBuZyIgLz4gPC9kaXY+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1kZXRhaWxzIj4gPHN0cm9uZyBjbGFzcz0ibGlzdC1tZW51LW5hbWUiIGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IEdldExhYmVsfXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAdmlzaWJsZTogbGFiZWx9Ij48L3N0cm9uZz4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IEdldERlc2NyaXB0aW9ufXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fSI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Templates/DisplayResultPickerSimpleResultTemplateView.html","html","PGlucHV0IGNsYXNzPSJmZWF0dXJlLWNoZWNrYm94IiB0eXBlPSJjaGVja2JveCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dDaGVja2JveH17QHZhbHVlOiBpc1NlbGVjdGVkfSIgLz4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogR2V0TGFiZWx9e0B3aWRnZXQtY29udGV4dDogQGNvbnRleHR9e0B2aXNpYmxlOiBsYWJlbH0iPjwvc3Ryb25nPiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/ZoomControl/ZoomInView.html","html","PGRpdiBjbGFzcz0iem9vbS1jb250cm9sLWJ0biI+IDxidXR0b24gY2xhc3M9Inpvb20taW4iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja1pvb21Jbn17dGl0bGU6IEBsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXN0ZXAtem9vbS1pbn0iIHRhYmluZGV4PSIwIj48L2J1dHRvbj4gPC9kaXY+IA==");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/ZoomControl/ZoomOutView.html","html","PGRpdiBjbGFzcz0iem9vbS1jb250cm9sLWJ0biI+IDxidXR0b24gY2xhc3M9Inpvb20tb3V0IiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tab29tT3V0fXt0aXRsZTogQGxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tc3RlcC16b29tLW91dH0iIHRhYmluZGV4PSIwIj48L2J1dHRvbj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Invariant","json","eyJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1kZWJ1Zy1sb2ciOiJEZWJ1ZyBMb2cgezB9IiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1zdGFydC1lZGl0aW5nLW5ldy1mZWF0dXJlIjoiQmVnaW5zIGVkaXRpbmcgYSBuZXcgZmVhdHVyZS4iLCJsYW5ndWFnZS10b29sYmFyLWlkZW50aWZ5LXBvbHlsaW5lLWRlc2Mta2V5Ym9hcmQiOiJUbyBsZWFybiB3aGF0XHUyMDE5cyB0aGVyZSwgdXNlIGFycm93cyB0byBtb3ZlIHRoZSBwb2ludC4gSGl0IEVOVEVSIHRvIHBsb3QgYW5kIGJlZ2luIG1vdmluZyB0aGUgbmV4dCBwb2ludC4gSGl0IEVOVEVSIHR3aWNlIHRvIGZpbmlzaC4iLCJsYW5ndWFnZS1tZW51LXByb2plY3RzLWFjdGlvbnMtcmVmcmVzaC1kZXNjIjoiUmVmcmVzaCB0aGUgbGlzdCBvZiBwcm9qZWN0cy4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1yZXN1bHRzLWZpZWxkLWFyZWEiOiJBcmVhIiwibGFuZ3VhZ2UtbGF5ZXItc2VsZWN0b3ItaWRlbnRpZnktdGl0bGUiOiJJZGVudGlmaWFibGUgTGF5ZXJzIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1vcGVuLXJlc3VsdHMtZnJhbWUiOiJBY3RpdmF0ZXMgdGhlIFJlc3VsdHNSZWdpb24uIiwibGFuZ3VhZ2UtcHJvamVjdC1lZGl0b3ItZXJyb3ItbmFtZS1leGlzdHMiOiJBIHByb2plY3Qgd2l0aCBuYW1lIFwiezB9XCIgYWxyZWFkeSBleGlzdHMuIFBsZWFzZSByZW5hbWUgdGhlIHByb2plY3QgYW5kIHRyeSBhZ2Fpbi4iLCJsYW5ndWFnZS1jYXB0dXJlLWdlb21ldHJ5LXBvaW50IjoiU2VsZWN0IGEgcG9pbnQgb24gdGhlIG1hcC4iLCJsYW5ndWFnZS11cGxvYWQtZGF0YS1lcnJvci1wdWJsaXNoLW5hbWUtdGFrZW4iOiJVbmFibGUgdG8gUHVibGlzaCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24taGlnaGxpZ2h0LWZlYXR1cmUtc2V0IjoiSGlnaGxpZ2h0cyBhbGwgb2YgdGhlIGZlYXR1cmVzIGluIHRoZSBzcGVjaWZpZWQgZmVhdHVyZSBzZXQgaW4gdGhlIGFjdGl2ZSBoaWdobGlnaHQgbGF5ZXIuIiwibGFuZ3VhZ2UtbWVudS1kcmF3LXBvaW50IjoiRHJhdyBhIFBvaW50IiwibGFuZ3VhZ2UtdG9vbGJhci10YXNrcy11cGxvYWQtZGF0YSI6IlVwbG9hZCBEYXRhIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWRzay1wb2ludC10b29sLWtleWJvYXJkIjoiVXNlIGFycm93cyB0byBtb3ZlIHRoZSBwb2ludC4gSGl0IEVOVEVSIHRvIGFkZCB0aGUgZmVhdHVyZS4iLCJsYW5ndWFnZS1sYXllci1jYXRhbG9nLXdhcm4tbGltaXQiOiJXYXJuaW5nOiBBZGRpbmcgbW9yZSB0aGFuIHswfSBsYXllcnMgbWF5IGNhdXNlIHZpZXdlciBwZXJmb3JtYWNlIGlzc3Vlcy4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1yZXN1bHRzLWZlYXR1cmUtbGFiZWwtc2VnbWVudCI6InswfSwgU2VnbWVudCB7MX0iLCJsYW5ndWFnZS1idWZmZXItb3B0aW9ucy12aWV3IjoiQnVmZmVyIE9wdGlvbnMiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItc2ltcGxlLXRpdGxlIjoiUXVlcnkiLCJsYW5ndWFnZS1sYXllci1jYXRhbG9nLWZvbGRlci10b2dnbGUtb3BlbiI6IkxheWVyIENhdGFsb2cgZ3JvdXAgZXhwYW5kZWQiLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtc3luYy1jbG9zZS13aGVuLWRvbmUiOiJDbG9zZSB3aGVuIGRvbmUiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItYW5kIjoiYW5kIiwibGFuZ3VhZ2UtbWFwLWNvbnRleHQtbWVudS10aXRsZSI6IlBvaW50IiwibGFuZ3VhZ2UtdGltZXNsaWRlci1tb3JlLXNldHRpbmdzLXRvb2x0aXAiOiJDbGljayB0byBkaXNwbGF5IG1vcmUgc2V0dGluZ3MgZm9yIHRoZSBUaW1lIFNsaWRlci4iLCJsYW5ndWFnZS10aW1lc2xpZGVyLXNldHRpbmdzLXRpbWUtaW50ZXJ2YWwtdW5pdC1kYXkiOiJEYXkiLCJsYW5ndWFnZS11cGxvYWRlci1tZWdhYnl0ZS1hYmJyZXZpYXRpb24iOiJNQiIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWJvb2ttYXJrcyI6IkJvb2ttYXJrcyB7MH0iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXNoYXJpbmctY2FudC1jaGFuZ2UiOiJZb3UgZG9uJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGNoYW5nZSBzaGFyaW5nLiIsImxhbmd1YWdlLWxheWVyLWFkZGl0aW9uLWNhbmNlbCI6IkNhbmNlbCIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1zcGF0aWFsLWZpbHRlci1wb2x5Z29ucyI6IkFsbCBQb2x5Z29uIERyYXdpbmdzIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi16b29tLXRvLWZlYXR1cmUiOiJab29tcyB0byBhIGZlYXR1cmUuIiwibGFuZ3VhZ2UtbWludXRlcy1hYmJyIjoiTSIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy11bmRvYWJsZS1leHBsb2RlIjoiRXhwbG9kZSBGZWF0dXJlcyIsImxhbmd1YWdlLWV4cG9ydC1tYXAtaXMtZXhwb3J0aW5nIjoiUHJlcGFyaW5nIGltYWdlLiBQbGVhc2Ugd2FpdC4uLiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tZmVhdHVyZS1sYXllci1tb2R1bGUtcmVmcmVzaC1kYXRhIjoiUmVmcmVzaGVzIGxheWVyIGVkaXQgc3VtbWFyaWVzIGFuZCB0aGUgXCJzeW5jIG5lZWRlZFwiIGZsYWcuIiwibGFuZ3VhZ2UtdG9vbGJhci10YWItdG9vbHMiOiJUb29scyIsImxhbmd1YWdlLXNlYXJjaC1zZWFyY2gtcHJvbXB0IjoiVHlwZSB5b3VyIHNlYXJjaCB0ZXJtcyIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1kZWxldGUtZnJvbS1zZXJ2ZXItdGl0bGUiOiJEZWxldGUiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1sYXllci1saXN0IjoiTGF5ZXIgTGlzdCB7MH0iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC11bml0LXNxbWV0ZXIiOiJNZXRlcsKyIChtwrIpIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1sYXllcnMtZmVhdHVyZS1jb3VudCI6IkVzdGltYXRlZCBmZWF0dXJlcyIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tYWRkLW1hcmt1cCI6IkFkZHMgdGhlIGdpdmVuIGdlb21ldHJ5IHRvIHRoZSBtYXJrdXAgbGF5ZXIuIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLXNpemUta2IiOiJ7MH0gS0IiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LWZvcm0tbmFtZWQtY29udGFpbmVyLXNob3duIjoiRm9ybSBncm91cCAnezB9JyBzaG93bi4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWhpZ2hsaWdodC1mZWF0dXJlIjoiSGlnaGxpZ2h0cyB0aGUgZmVhdHVyZSBpbiB0aGUgYWN0aXZlIGhpZ2hsaWdodCBsYXllci4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1lcmFzZS1zdGF0dXMta2V5Ym9hcmQiOiJVc2UgYXJyb3dzIHRvIG1vdmUgdGhlIHBvaW50LiBIaXQgRU5URVIgdG8gcmVtb3ZlIGRpc3RhbmNlIG9yIGFyZWEgY2FsY3VsYXRpb24gZnJvbSB0aGUgbWFwLiIsImxhbmd1YWdlLXNhdmVkLXJlc3VsdHMtc2F2ZS1hcyI6IlNhdmUgQXMiLCJsYW5ndWFnZS10b29sYmFyLWdyb3VwLW1lYXN1cmVtZW50IjoiTWVhc3VyZSIsImxhbmd1YWdlLWlkZW50aWZ5LWZyZWVoYW5kLXBvbHlnb24tdG9vbCI6IkRyYWcgb24gdGhlIG1hcCB0byBkcmF3IGEgc2hhcGUuIiwibGFuZ3VhZ2UtdXNlci1zaWduLW91dC1kZXNjIjoiU2lnbiBvdXQgb2YgdGhlIGFwcGxpY2F0aW9uIiwibGFuZ3VhZ2UtcHJvamVjdC1zdGF0dXMtb2ZmbGluZSI6IlVuYWJsZSB0byBjb250YWN0IHRoZSBQcm9qZWN0cyBzZXJ2ZXIuIFJlZmVyIHRvIHRoZSBsb2cgZm9yIG1vcmUgZGV0YWlscy4iLCJsYW5ndWFnZS1tZW51LXpvb20tb3V0IjoiWm9vbSBvdXQiLCJsYW5ndWFnZS1sYXllci1hY3Rpb25zLXRvb2x0aXAiOiJDbGljayB0byBzZWUgbGF5ZXIgYWN0aW9ucyBhdmFpbGFibGUgZm9yIHRoaXMgbGF5ZXIiLCJsYW5ndWFnZS1sYXllci1hZGRpdGlvbi12b3lhZ2VyLXNlYXJjaC1uYW1lIjoiVm95YWdlciBTZWFyY2giLCJsYW5ndWFnZS10b29sYmFyLXNuYXBwaW5nLWRpc2FibGUiOiJEaXNhYmxlIFNuYXBwaW5nIiwibGFuZ3VhZ2UtdGltZXNsaWRlci1ub3Qtc3VwcG9ydGVkLW9mZmxpbmUiOiJUaGUgdGltZSBzbGlkZXIgaXMgbm90IHN1cHBvcnRlZCBvZmZsaW5lIGFuZCBoYXMgYmVlbiBkZWFjdGl2YXRlZC4gUGxlYXNlIHJlLWFjdGl2YXRlIGl0IHdoZW4gdGhlIHZpZXdlciBpcyBvbmxpbmUuIiwibGFuZ3VhZ2Utc2VhcmNoLWJpbmctcG9zdGFsLWNvZGUiOiJQb3N0YWwgQ29kZSIsImxhbmd1YWdlLWxheWVyLWNhdGFsb2ctdXBkYXRpbmctbGF5ZXItbGlzdC1zdGF0dXMiOiJVcGRhdGluZyBMYXllciBMaXN0Li4uIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLXJlcXVpcmVzLXZhbHVlIjoiezB9IHJlcXVpcmVzIGEgdmFsdWUiLCJsYW5ndWFnZS1mZWF0dXJlLW92ZXJ2aWV3LW1hcC1lcnJvci1zcGF0aWFsLXJlZmVyZW5jZSI6Ik92ZXJ2aWV3IE1hcCBtdXN0IGhhdmUgc2FtZSBzcGF0aWFsIHJlZmVyZW5jZSBhcyBiYXNlbWFwLiBPdmVydmlldyBNYXAgZGlzYWJsZWQuIiwibGFuZ3VhZ2UtYm9va21hcmtzLW5hbWUtZXhpc3RzIjoiQm9va21hcmsgd2l0aCB0aGlzIG5hbWUgYWxyZWFkeSBleGlzdHMuIFBsZWFzZSBjaG9vc2Ugc29tZSBvdGhlciBuYW1lLiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tdXBkYXRlLWZlYXR1cmUiOiJVcGRhdGVzIGVpdGhlciBhIG5ldyBvciBleGlzdGluZyBmZWF0dXJlLiIsImxhbmd1YWdlLWZlYXR1cmUtY29vcmRpbmF0ZXMtWFkiOiJYL1kiLCJsYW5ndWFnZS10YWJsZS1tYXBwaW5nLXotYXhpcyI6IlogQXhpcyBDb2x1bW4iLCJsYW5ndWFnZS1sYXllci1jYXRhbG9nLW9rLWJ1dHRvbiI6Ik9LIiwibGFuZ3VhZ2UtbWFwLXRpcC1udWxsLWdlb21ldHJ5LXN0YXR1cy1tZXNzYWdlLXZpZXciOiJOdWxsR2VvbWV0cnlTdGF0dXNNZXNzYWdlVmlldyIsImxhbmd1YWdlLWxheWVyLWNhdGFsb2ctbGF5ZXItYWRkLXRleHQiOiJQcmVzcyB0byBBZGQiLCJsYW5ndWFnZS1mZWF0dXJlLWNvb3JkaW5hdGVzLWRvd24tYXJyb3ciOiLilrwiLCJsYW5ndWFnZS13b3JrZmxvdy1lcnJvciI6IlRoZXJlIHdhcyBhIHdvcmtmbG93IGVycm9yIHJ1bm5pbmcgYWN0aXZpdHk6IHswfSIsImxhbmd1YWdlLXByb2plY3RzLWZpbHRlci10aXRsZSI6IlR5cGUgeW91ciBmaWx0ZXIgdGVybXMiLCJsYW5ndWFnZS1jb21tb24tZGVsZXRlIjoiRGVsZXRlIiwibGFuZ3VhZ2UtbWVudS1yZXN1bHRzLWFkZC1mZWF0dXJlLWRlc2MiOiJBZGQgdGhpcyBmZWF0dXJlIHRvIHRoZSBjdXJyZW50IHNldCBvZiByZXN1bHRzIiwibGFuZ3VhZ2UtcHJvamVjdC1jb25maXJtLWxvYWQtdGl0bGUiOiJMb2FkIFByb2plY3QiLCJsYW5ndWFnZS1wcm9qZWN0LWNvbmZpcm0tbG9hZC1kZXNjcmlwdGlvbiI6IkFyZSB5b3Ugc3VyZSB5b3Ugd2lzaCB0byBsb2FkIHRoaXMgcHJvamVjdD8iLCJsYW5ndWFnZS1nZW9sb2NhdGUtZXJyb3ItdGltZW91dCI6Ikdlb2xvY2F0aW9uIGhhcyB0aW1lZCBvdXQuIiwibGFuZ3VhZ2UtdG9vbGJhci1zaG93LWxheWVybGlzdC1kZXNjIjoiRGlzcGxheSB0aGUgbGlzdCBvZiBhdmFpbGFibGUgbGF5ZXJzIiwibGFuZ3VhZ2UtbmF0aXZlLWFkZC10by1mYXZvcml0ZXMtbmFtZS1pbnZhbGlkLXRpdGxlIjoiTmFtZSBJbnZhbGlkIiwibGFuZ3VhZ2UtdGltZXNsaWRlci1wbGF5YmFjay1kZWxheS10aXRsZSI6IlNlbGVjdCBwbGF5YmFjayBkZWxheSAoaW4gc2Vjb25kcykuIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLXNpemUtbWIiOiJ7MH0gTUIiLCJsYW5ndWFnZS1jbGVhci1zdG9yYWdlLXZpZXctZW50aXJlLWRvbWFpbiI6IkFsbCBhcHBsaWNhdGlvbnMgb24gdGhpcyB3ZWJzaXRlIiwibGFuZ3VhZ2UtZmVhdHVyZS1hdHRhY2htZW50cy1uby1hdHRhY2htZW50cyI6Ik5vIGF0dGFjaG1lbnRzIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWludmFsaWQtaW50ZWdlciI6InswfSBtdXN0IGJlIGEgdmFsaWQgaW50ZWdlci4iLCJsYW5ndWFnZS1tYXBzZXJ2aWNlLWFjdGlvbnMtdGl0bGUiOiJNYXAgU2VydmljZSBBY3Rpb25zIiwibGFuZ3VhZ2UtZmVhdHVyZS1jb29yZGluYXRlcy11bnN1cHBvcnRlZCI6IlRoZSBtb3VzZSBjb29yZGluYXRlcyB3aWRnZXQgZG9lcyBub3Qgc3VwcG9ydCBtYXBzIHRoYXQgaGF2ZSBhIHNwYXRpYWwgcmVmZXJlbmNlIHN5c3RlbSB0aGF0IGlzIGRlZmluZWQgYnkgYSBXZWxsLUtub3duIFRleHQgKFdLVCkuIFdpZGdldCBoaWRkZW4uIElmIHlvdSB3aXNoIHRvIHVzZSB0aGUgd2lkZ2V0IHBsZWFzZSB1c2UgdGhlIE1hbmFnZW1lbnQgUGFjayB0byBkZWZpbmUgYWx0ZXJuYXRlIGNvb3JkaW5hdGUgc3lzdGVtcy4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1tZWFzdXJlLWVsbGlwc2UtdG9vbC10b29sdGlwIjoiQ2FsY3VsYXRlIGFyZWEgZm9yIGFuIGVsbGlwc2UiLCJsYW5ndWFnZS1tZW51LWFkZC1hLWZlYXR1cmUtZGVzYyI6IkNyZWF0ZSBhIG5ldyBmZWF0dXJlIG9uIHRoaXMgbGF5ZXIuIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1zaXplLWxhYmVsIjoiRXN0aW1hdGVkIHNpemU6ICIsImxhbmd1YWdlLWNvbW1vbi1kZWFjdGl2YXRlLXRvb2wiOiJEZWFjdGl2YXRlIFRvb2wiLCJsYW5ndWFnZS1tZW51LWxhYmVsLW9wdGlvbnMiOiJDdXN0b21pemUgbGFiZWxzIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLWRlbGV0ZS1mcm9tLWRldmljZS1jb25maXJtIjoiRG8geW91IHdhbnQgdG8gZm9yZ2V0IHRoaXMgb2ZmbGluZSBtYXAgYW5kIGRlbGV0ZSBhbGwgbG9jYWwgZGF0YT8iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWdlb21ldHJ5LWVycm9yLWVtcHR5IjoiVGhlIG9mZmxpbmUgbWFwIG5lZWRzIGFuIGFyZWEgb2YgaW50ZXJlc3QuIiwibGFuZ3VhZ2UtY2xlYXItc3RvcmFnZS1jb25maXJtIjoiV2FybmluZzogQ2xlYXJpbmcgZGF0YSBmb3IgdGhpcyB2aWV3ZXIgcmVtb3ZlcyBhbGwgc3RvcmVkIG1hcCBkYXRhLCBpbmNsdWRpbmcgYW55IGVkaXRzIG1hZGUgd2hpbGUgb2ZmbGluZS4gSWYgeW91IGNsZWFyIG9mZmxpbmUgZGF0YSwgeW91IHdpbGwgbmVlZCB0byByZWNhY2hlIG1hcCBkYXRhIHdoaWxlIG9ubGluZSBiZWZvcmUgeW91IGNhbiBjb250aW51ZSB3b3JraW5nIG9mZmxpbmUuIiwibGFuZ3VhZ2UtbGF5ZXItZGV0YWlscy1sYXllci1uYW1lLWRlZmF1bHQiOiJMYXllciIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtbGV2ZWxzLXRpdGxlIjoiT2ZmbGluZSBCYXNlbWFwIERldGFpbCIsImxhbmd1YWdlLWxheWVyLWRldGFpbHMtdmFsaWRhdGlvbi1lcnJvci1maWxlZ2VvZGF0YWJhc2UtbXVzdC1iZS1wdWJsaXNoZWQiOiJQdWJsaXNoaW5nIGlzIHJlcXVpcmVkLiIsImxhbmd1YWdlLWdlb2xvY2F0ZS1zdG9wIjoiU3RvcCBHZW9sb2NhdGlvbiIsImxhbmd1YWdlLWVudGVyLW9ubGluZSI6IkdvIHRvIE9ubGluZSBNb2RlIiwibGFuZ3VhZ2UtdG9vbGJhci1ncm91cC10b29scyI6IlRvb2xzIiwibGFuZ3VhZ2UtdG9vbGJhci1lZGl0aW5nLWNyZWF0ZS1uZXctZmVhdHVyZS1nZW9sb2NhdGlvbiI6IlVzZSBHZW9sb2NhdGlvbiIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLWlvcy13YXJuaW5nIjoiQ2FuJ3QgVXBsb2FkIG9uIGlPUyIsImxhbmd1YWdlLXRvb2xiYXItZWRpdGluZy1kYXRhIjoiRGF0YSIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWxkZS1kZXNjcmlwdGlvbiI6IlNldCB0aGUgZGVmaW5pdGlvbiBleHByZXNzaW9uIGZvciB0aGlzIGxheWVyOiIsImxhbmd1YWdlLXNhdmVkLXJlc3VsdHMtc2F2ZS10aXRsZSI6IlNhdmUgUmVzdWx0cyIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tb3Blbi1mZWF0dXJlLXNldC1jb2xsZWN0aW9uIjoiT3BlbnMgdGhlIGZlYXR1cmUgc2V0IGNvbGxlY3Rpb24uIiwibGFuZ3VhZ2UtY29tbW9uLW5vdGlmaWNhdGlvbiI6Ik5vdGlmaWNhdGlvbiIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXNlbGVjdC1mZWF0dXJlLWZvci1lZGl0aW5nIjoiU2VsZWN0IEZlYXR1cmUgZm9yIEVkaXRpbmcgezB9IiwibGFuZ3VhZ2UtbGF5ZXItY2F0YWxvZy1yZXN0b3JhdGlvbi1zdGF0dXMiOiJSZXN0b3JpbmcgTGF5ZXIgQ2F0YWxvZyBsYXllcnMuLi4iLCJsYW5ndWFnZS1mZWF0dXJlLWNvb3JkaW5hdGVzLXRvZ2dsZS1idXR0b24tdGV4dCI6IlRvZ2dsZSBDb29yZGluYXRlcyBXaWRnZXQiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1kcmF3bW9kZS11cC1hcnJvdyI6IlVwIEFycm93IiwibGFuZ3VhZ2UtdXBsb2FkLWRpYWxvZy1zZWxlY3RlZC1maWxlLWZsYWctZXh0ZW5zaW9uLW5vdC1hbGxvd2VkIjoiVGhpcyBmaWxlJ3MgZXh0ZW5zaW9uIGlzIG5vdCByZWNvZ25pemVkLiIsImxhbmd1YWdlLW1lbnUtb2ZmbGluZS1tYXAtZWRpdG9yLWdlb21ldHJ5LWFjdGlvbnMtcmVjdGFuZ2xlLWRlc2MiOiJEcmF3IGEgcmVjdGFuZ2xlIGZvciB0aGUgYXJlYSBvZiBpbnRlcmVzdCBnZW9tZXRyeS4iLCJsYW5ndWFnZS1tZW51LWdsb2JhbC1vcGVuLWRlc2MiOiJDaG9vc2UgYSBwcmV2aW91c2x5IHNhdmVkIHByb2plY3QgdG8gcmVzdG9yZSB0aGUgc2F2ZWQgc3RhdGUiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJ1dHRvbi1zYXZlIjoiRmluaXNoIiwibGFuZ3VhZ2UtZmVhdHVyZS1yZWxhdGVkLWZlYXR1cmVzIjoiUmVsYXRlZCBGZWF0dXJlcyIsImxhbmd1YWdlLWludGVncmF0aW9uLXNlbGVjdG9yLXRleHQiOiJTZWxlY3QgTWFwIiwibGFuZ3VhZ2Utc2VhcmNoLWJpbmctY291bnRyeSI6IkNvdW50cnkiLCJsYW5ndWFnZS1sYXllci1jYXRhbG9nLWNsZWFyLWZpbHRlciI6IkNsZWFyIHNlYXJjaCBpbnB1dCIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1oaWRlLWFsbC1jb29yZGluYXRlcy1kZXNjIjoiVGVtcG9yYXJpbHkgaGlkZSBhbGwgY3VycmVudGx5IHBsb3R0ZWQgY29vcmRpbmF0ZXMuIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1jbGVhci10ZW1wb3JhcnktbWFya3VwIjoiUmVtb3ZlcyB0ZW1wb3JhcnkgbWFya3VwIGNyZWF0ZWQgYnkgQWRkVGVtcG9yYXJ5TWFya3VwR2VvbWV0cnkuIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWdlb21ldHJ5LXBvbHlnb24iOiJFZGl0IHZlcnRpY2VzIGJ5IGRyYWdnaW5nIHRoZW0sIG9yIHJpZ2h0IGNsaWNrIHRvIGRlbGV0ZS4gRHJhZyB0aGUgc2hhcGUgdG8gbW92ZSBpdC4gQ2xpY2sgb3IgdGFwIG9uIHRoZSBtYXAgdG8gc3RvcCBlZGl0aW5nIiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLXNwYXRpYWwtZmlsdGVyLW5vbmUiOiJOb25lIiwibGFuZ3VhZ2UtZXhwb3J0LXdlYi1tYXAtaW52YWxpZC10aXRsZSI6Ik11c3QgZW50ZXIgYSB0aXRsZS4iLCJsYW5ndWFnZS10b29sYmFyLW5hdmlnYXRpb24tem9vbS1pbiI6Ilpvb20gSW4iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctZHNrLWxpbmUtdG9vbCI6IkNsaWNrIG9yIHRhcCBvbiB0aGUgbWFwIHRvIGFkZCB0d28gb3IgbW9yZSBsaW5lIHBvaW50cy4gRG91YmxlIGNsaWNrL3RhcCB0byBzdG9wIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtY29vcmRpbmF0ZXMtZXJyb3IiOiJFcnJvciBsb2FkaW5nIG1hcCBjb29yZGluYXRlcy4gIiwibGFuZ3VhZ2UtZ2VvbG9jYXRlLXRyYWNrLWluLXByb2dyZXNzIjoiVHJhY2tpbmcgdmlhIGdlb2xvY2F0aW9uLi4uIiwibGFuZ3VhZ2UtdG9vbGJhci1hcmNnaXMtdmlldy1teS1jb250ZW50LXRvb2x0aXAiOiJWaWV3IHlvdXIgY29udGVudCBzdG9yZWQgaW4gQXJjR0lTIiwibGFuZ3VhZ2Utc2l0ZS10cnktbG9nLW9uLWFnYWluIjoiVHJ5IEFnYWluIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtZHJhd2luZyI6IkNyZWF0ZSIsImxhbmd1YWdlLXByaW50LWNvbXBsZXRlLWRlc2NyaXB0aW9uIjoiWW91ciBmaWxlIGlzIHJlYWR5LiBUbyB2aWV3IHRoZSBmaWxlLCBwbGVhc2UgY2xpY2sgJ09wZW4gRmlsZScuIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtcmVzdWx0cy1jb2xsZWN0aW9uLW5hbWUiOiJNZWFzdXJlbWVudCBSZXN1bHRzIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1sZXZlbHMtaW5zdHJ1Y3Rpb25zIjoiVXNlIHRoZSBzbGlkZXIgYmVsb3cgb3Igem9vbSB0aGUgbWFwIHRvIGFkanVzdCB0aGUgbWF4aW11bSBsZXZlbCBvZiBkZXRhaWwgdGhhdCB3aWxsIGJlIHZpc2libGUgZm9yIHRoaXMgbWFwIHdoZW4gb2ZmbGluZS4gTW9yZSBkZXRhaWwgd2lsbCB0YWtlIGxvbmdlciB0byBnZW5lcmF0ZSBhbmQgd2lsbCBjb25zdW1lIG1vcmUgc3BhY2Ugb24geW91ciBkZXZpY2UuIiwibGFuZ3VhZ2UtbWVudS16b29tLXRvLXZpc2libGUtc2NhbGUiOiJab29tIHRvIHZpc2libGUgc2NhbGUiLCJsYW5ndWFnZS1tZW51LWNvbWJpbmUtcmVzdWx0cyI6IkNvbWJpbmUgUmVzdWx0cyIsImxhbmd1YWdlLXVwbG9hZC1kaWFsb2ctc3VwcG9ydGVkLWZpbGVzIjoiLmNzdiwgLnhsc3gsIC5rbWwsIC5zaHAsIC5ncHgsIG9yIGEgLnppcCBjb250YWluaW5nIGEgRmlsZUdEQiBvciBzaGFwZWZpbGVzIiwibGFuZ3VhZ2UtdG9vbGJhci1lcmFzZSI6IkVyYXNlIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWVycm9yLWRpYWxvZ3VlIjoiRXJyb3IgU2F2aW5nIEZlYXR1cmUiLCJsYW5ndWFnZS1zZWFyY2gtZnNjLWRpc3BsYXktbmFtZSI6IlNlYXJjaCBSZXN1bHRzOiB7MH0iLCJsYW5ndWFnZS1iYXNlbWFwLXNsaWRlci1oYW5kbGUiOiJTbGlkZXIgaGFuZGxlIiwibGFuZ3VhZ2UtY29uZmlybS1kZWZhdWx0LXRpdGxlIjoiQ29uZmlybSIsImxhbmd1YWdlLWxvZy1sZXZlbCI6IkxldmVsIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbWVhc3VyZS1mcmVlaGFuZC1wb2x5Z29uLXRvb2wtc3RhdHVzIjoiSG9sZCB0aGUgbW91c2UgYnV0dG9uIG9yIHlvdXIgZmluZ2VydGlwIGRvd24sIHRoZW4gZHJhdyBhIGZyZWVoYW5kIHNoYXBlIGFuZCBmaW5kIGFyZWEuIiwibGFuZ3VhZ2UtbmF0aXZlLWZpbGUtdXBsb2FkLXN1Y2Nlc3MiOiJGaWxlIHN1Y2Nlc3NmdWxseSBhdHRhY2hlZCB0byBmZWF0dXJlIiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWFwcGx5IjoiQXBwbHkiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWdlb21ldHJ5LWRlc2NyaXB0aW9uIjoiVGhlIGFyZWEgdGhhdCB3aWxsIGJlIGF2YWlsYWJsZSBvZmZsaW5lLiIsImxhbmd1YWdlLWJ1ZmZlci1jbGVhci1idXR0b24tdGl0bGUiOiJDbGVhciBidWZmZXIgb3B0aW9ucyIsImxhbmd1YWdlLXRvb2xiYXItdGltZXNsaWRlci1zaG93dGltZXNsaWRlciI6IlRpbWUgU2xpZGVyIiwibGFuZ3VhZ2Utc2F2ZWQtcmVzdWx0cy1pdGVtLWFscmVhZHktb3BlbiI6IkN1cnJlbnRseSBvcGVuIiwibGFuZ3VhZ2UtbGF5ZXItYWRkaXRpb24tZ2VvcnNzLW5hbWUiOiJHZW9SU1MiLCJsYW5ndWFnZS1zZWFyY2gtYmluZy1mb3JtYXR0ZWQiOiJGb3JtYXR0ZWQgQWRkcmVzcyIsImxhbmd1YWdlLWxlZ2VuZC1oZWF0LW1hcHMtaGlnaCI6IkhpZ2giLCJsYW5ndWFnZS1lbnRlci1vZmZsaW5lIjoiR28gdG8gT2ZmbGluZSBNb2RlIiwibGFuZ3VhZ2UtbWFwLXNpdGUtYXV0aG9yaXphdGlvbi1mYWlsZWQtbWVzc2FnZSI6IlRoaXMgc2l0ZSBpcyByZXN0cmljdGVkLiIsImxhbmd1YWdlLXVwbG9hZC1kaWFsb2ctdGl0bGUiOiJBZGQgRGF0YSBUbyBNYXAiLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtZW1wdHktdW5zdXBwb3J0ZWQiOiJZb3VyIHZlcnNpb24gb2YgR2VvY29ydGV4IEVzc2VudGlhbHMgZG9lcyBub3Qgc3VwcG9ydCB0aGUgYWJpbGl0eSB0byBzdG9yZSBvZmZsaW5lIG1hcHMuIiwibGFuZ3VhZ2Utc2hhcmUtcHJvamVjdC1saW5rcy1wdWJsaWMtdmlldy1sYWJlbCI6IlZpZXcgTGluayAoc2lnbi1pbiBub3QgcmVxdWlyZWQpIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLXNlY29uZHMtdGl0bGUiOiJTZWNvbmRzIiwibGFuZ3VhZ2UtbmF0aXZlLWZlYXR1cmUtbm8tbGF5ZXItdXJsIjoiRXJyb3I6IFRoZSBMYXllciBVcmwgZm9yIHRoaXMgbGF5ZXIgaXMgbm90IGF2YWlsYWJsZSBvciBpcyBub3QgY29uZmlndXJlZCBjb3JyZWN0bHkuIEZpbGUgdXBsb2FkIGZhaWxlZC4iLCJsYW5ndWFnZS12aXN1YWxpemF0aW9uLW5vbmUiOiJOb25lIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1mb3JtLXVubmFtZWQtY29udGFpbmVyLXNob3duIjoiRm9ybSBncm91cCBzaG93bi4iLCJsYW5ndWFnZS10b29sYmFyLWlkZW50aWZ5LWZyZWVoYW5kLWRlc2MiOiJDbGljay90YXAgYW5kIGhvbGQgZG93biwgdGhlbiBkcmF3IGEgZnJlZWhhbmQgc2hhcGUgdG8gbGVhcm4gd2hhdFx1MjAxOXMgdGhlcmUuIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1zaXplLXVua25vd24iOiJ1bmtub3duIiwibGFuZ3VhZ2UtdXBsb2FkLWRhdGEtZXJyb3ItZW1wdHktZmlsZSI6IlVuYWJsZSB0byBSZWFkIEZpbGUiLCJsYW5ndWFnZS1ib29rbWFya3MtbmFtZS1yZXF1aXJlZCI6IkJvb2ttYXJrIG5hbWUgaXMgcmVxdWlyZWQiLCJsYW5ndWFnZS1zZWFyY2gtYmluZy1hZGRyZXNzIjoiQWRkcmVzcyIsImxhbmd1YWdlLXRvb2xiYXItdGFza3MtaWRlbnRpZnktdG9vbHRpcCI6IkZpbmQgZGF0YSBvbiB0aGUgbWFwIiwibGFuZ3VhZ2UtbGF5ZXItY2F0YWxvZy10aXRsZSI6IkFkZC9SZW1vdmUgTWFwIEluZm9ybWF0aW9uIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLWZldGNoLWVycm9yIjoiVW5hYmxlIHRvIGZldGNoIHRoZSBPZmZsaW5lIE1hcCBmcm9tIHRoZSBzZXJ2ZXIgZm9yIGVkaXRpbmcuIiwibGFuZ3VhZ2UtYnVmZmVyLWNhbmNlbC1idXR0b24tdGl0bGUiOiJDYW5jZWwgYnVmZmVyIG9wdGlvbnMiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC11bml0LXNxbWlsZS1zaG9ydCI6Im1pwrIiLCJsYW5ndWFnZS1vZmZsaW5lLWRhdGEtY2xlYXJlZC10aXRsZSI6IkNvbXBsZXRlZCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24taWRlbnRpZnkiOiJFeGVjdXRlcyBhbiBpZGVudGlmeSBvcGVyYXRpb24gb24gYSBnZW9tZXRyeS4iLCJsYW5ndWFnZS1zYXZlZC1yZXN1bHRzLXJlbmFtZS1wcm9tcHQiOiJUeXBlIHRoZSBuZXcgbmFtZSBmb3Igc2F2ZWQgcmVzdWx0cyIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXNpbXBsZS1xdWVyeSI6IlNpbXBsZSBRdWVyeSB7MH0iLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItc2ltcGxlLWRlc2NyaXB0aW9uIjoiU2hvdyBzaW1wbGUgcXVlcnkgYnVpbGRlci4iLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1ub25lIjoiTm9uZS4iLCJsYW5ndWFnZS1nZW9sb2NhdGUtZXJyb3ItcHJvamVjdGlvbiI6IlRoZXJlIHdhcyBhbiBlcnJvciBwcm9qZWN0aW5nIGdlb2xvY2F0aW9uOiB7MH0iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy1hbHQtZGVmYXVsdCI6IkdyYXkgc3F1YXJlIHdpdGggYSBjaGVja21hcmsgaW4gdGhlIGNlbnRlciIsImxhbmd1YWdlLW9mZmxpbmUtcHJvdmlzaW9uaW5nLXNlY3VyZS1zaXRlLXNhdmVkIjoiVGhlIHNpdGUgd2FzIHNhdmVkLiIsImxhbmd1YWdlLXRpbWVzbGlkZXItY3VycmVudC10aW1lLWV4dGVudC1pbmZvLW1pbnV0ZS1hYmJyIjoibSIsImxhbmd1YWdlLWNvbXBhY3QtdG9vbGJhci1uYW1lIjoiQ29tcGFjdCBUb29sYmFyIiwibGFuZ3VhZ2Utb2ZmbGluZS1wcm92aXNpb25pbmctc3VjY2VlZGVkIjoiVGhlIHZpZXdlciBpcyBwcmVwYXJlZCBmb3Igb2ZmbGluZSB1c2UuIiwibGFuZ3VhZ2UtcHJvamVjdC1jb25maXJtLXJlbW92ZS1ndWVzdC1saW5rLWRlc2NyaXB0aW9uIjoiQXJlIHlvdSBzdXJlIHlvdSB3aXNoIHRvIHJlbW92ZSB0aGlzIGd1ZXN0IGxpbms/IEFmdGVyIHlvdSBzYXZlLCB0aGUgbGluayB3aWxsIG5vIGxvbmdlciBsb2FkIHRoZSBwcm9qZWN0LiIsImxhbmd1YWdlLWxheWVyLXNlbGVjdG9yLXNuYXBwaW5nLWNsZWFyLWFsbC10b29sdGlwIjoiQ2xlYXIgYWxsIHNuYXBwYWJsZSBsYXllcnMiLCJsYW5ndWFnZS1wcm9qZWN0LWNvbmZpcm0tc3RvcC1zaGFyaW5nLWFsbC1kZXNjcmlwdGlvbiI6IkFyZSB5b3Ugc3VyZSB5b3Ugd2lzaCB0byBzdG9wIHNoYXJpbmcgcHJvamVjdCBcInswfVwiPyBUaGlzIHdpbGwgZGlzYWJsZSBhbnkgZ3Vlc3QgbGlua3MgYW5kIHJlbW92ZSBhY2Nlc3MgdG8gdGhlIHByb2plY3QgZXhjZXB0IGZvciB5b3UgYW5kIGFueSBvdGhlciBvd25lcnMuIiwibGFuZ3VhZ2UtdG9vbGJhci10YWItb2ZmbGluZSI6Ik9mZmxpbmUiLCJsYW5ndWFnZS10aW1lc2xpZGVyLXN0ZXAtZm9yd2FyZC10b29sdGlwIjoiQ2xpY2sgdG8gc3RlcCBmb3J3YXJkIGluIHRpbWUgYnkgdGhlIGNvbmZpZ3VyZWQgdGltZSBpbnRlcnZhbC4iLCJsYW5ndWFnZS1tZW51LXNob3ctcmVzdWx0cy10YWJsZS1kZXNjIjoiU3dpdGNoIHRvIFRhYmxlIFZpZXciLCJsYW5ndWFnZS11cGxvYWQtZGlhbG9nLXZhbGlkYXRpb24tZXJyb3Itc2hhcGVmaWxlLWluY29tcGxldGUiOiJTaGFwZWZpbGUgaW5jb21wbGV0ZS4iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJ1dHRvbi1wcmV2aW91cyI6IkJhY2siLCJsYW5ndWFnZS10b29sYmFyLW1lbnUtZ2xvYmFsLXNhdmUtYXMiOiJTYXZlIGFzIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtdW5pdC1zcW5hdXRpY2FsbWlsZS1zaG9ydCI6Ik5NwrIiLCJsYW5ndWFnZS10YWJsZS1yZWNvcmQtcmVzdWx0cy1kaWFsb2ctYWNjZXB0ZWQtcmVjb3Jkcy1tZXNzYWdlIjoiezB9IHBhc3NlZC4iLCJsYW5ndWFnZS1jb21tb24tcmVzdWx0cy1yZXBsYWNlLWNvbmZpcm1hdGlvbiI6Iid7MH0nIHJlcGxhY2VkIHdpdGggezF9IiwibGFuZ3VhZ2UtbGF5ZXJsaXN0LW9wYWNpdHktc2xpZGVyLXBlcmNlbnQiOiJwZXJjZW50IiwibGFuZ3VhZ2UtdG9vbGJhci10YWItaG9tZSI6IkhvbWUiLCJsYW5ndWFnZS1sYWJlbE9wdGlvbnMtY2VudGVyLXN0YXJ0IjoiY2VudGVyLXN0YXJ0IiwibGFuZ3VhZ2UtZmVhdHVyZS1yZWxhdGVkLW5vdC1yZWxhdGlvbiI6IlRoZXJlIGFyZSBubyBmZWF0dXJlcyByZWxhdGVkIHRvIHRoaXMgZmVhdHVyZS4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXJlbW92ZS1zdGF0dXMiOiJSZW1vdmVzIHRoZSBzdGF0dXMgaW5kaWNhdG9yIGZyb20gdGhlIHNjcmVlbiB3aXRoIHRoZSBzcGVjaWZpZWQgSUQuIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi10b2dnbGUtcmVzdWx0cy1mcmFtZSI6IkFjdGl2YXRlcyBvciBkZWFjdGl2YXRlcyBSZXN1bHRzIGZyYW1lLiIsImxhbmd1YWdlLXRhYmxlLW1hcHBpbmctZGlhbG9nLXByb2NlZWQiOiJDb25maXJtIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtcmVzdWx0cy1saXN0IjoiUmVzdWx0cyBMaXN0IHswfSIsImxhbmd1YWdlLXRpbWVzbGlkZXItc2V0dGluZ3MtdGltZS1pbnRlcnZhbC11bml0LWNlbnR1cnkiOiJDZW50dXJ5IiwibGFuZ3VhZ2UtdG9vbGJhci1uYXZpZ2F0aW9uLWhvbWUiOiJIb21lIiwibGFuZ3VhZ2UtZmVhdHVyZS1jb29yZGluYXRlcy1XS1QiOiJXS1QiLCJsYW5ndWFnZS1sYXllcnN0eWxlcy1zeW1ib2xvZ3ktdHlwZSI6IkNob29zZSBTeW1ib2xvZ3kgVHlwZToiLCJsYW5ndWFnZS11cGxvYWQtZGF0YS1lcnJvci1wcm9qZWN0aW9uLW5vdC1zdXBwb3J0ZWQiOiJVbnN1cHBvcnRlZCBQcm9qZWN0aW9uIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1sYXllcnMtbnVtZmVhdHVyZXMtdGl0bGUiOiJUaGlzIGxheWVyIGN1cnJlbnRseSBoYXMgJ3swfScgZmVhdHVyZXMgd2l0aGluIHRoZSBhcmVhIG9mIGludGVyZXN0LiAgVGhlcmUgbWF5IGJlIG1vcmUgb3IgZmV3ZXIgYXQgdGhlIHRpbWUgb2Ygc3luYy4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXNob3ctZmVhdHVyZS1sYXllci1tb2RhbC1tZXNzYWdlIjoiQ3JlYXRlcyBhIE1vZGVsTWVzc2FnZVZpZXcgdmlldyBhbmQgZGlzcGxheXMgdGhlIGdpdmVuIG1lc3NhZ2UuIiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWl0YWxpYyI6Ikl0YWxpYyIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWVkaXQiOiJFZGl0IiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1sYXllcnMtbGRlLXRpdGxlIjoiRGVmaW5pdGlvbiBFeHByZXNzaW9uIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbWVhc3VyZS1mcmVlaGFuZC1saW5lLXRvb2wtbmFtZSI6IkZyZWVoYW5kIExpbmUiLCJsYW5ndWFnZS1kaXNwbGF5LXJlc3VsdC1waWNrZXItc2VsZWN0LWFsbCI6IlNlbGVjdCBBbGwiLCJsYW5ndWFnZS11cGxvYWQtZGF0YS1lcnJvci1nZW9jb2RpbmctdW5hdXRoZW50aWNhdGVkLW1lc3NhZ2UiOiJVbmFibGUgdG8gcGVyZm9ybSBnZW9jb2RpbmcuIFlvdSBhcmUgbm90IGF1dGhlbnRpY2F0ZWQgdG8gdXNlIHRoZSBiYXRjaCBnZW9jb2RlciB3aXRoIHlvdXIgY3VycmVudCBjcmVkZW50aWFscy4iLCJsYW5ndWFnZS1jb21tb24tcGFuLWRlc2NyaXB0aW9uIjoiUGFuIHRoZSBtYXAgdG8gY2VudGVyIHRoaXMgZmVhdHVyZSIsImxhbmd1YWdlLXRpbWVzbGlkZXItc2V0dGluZ3MtdGltZS1pbnRlcnZhbC11bml0LW1pbnV0ZSI6Ik1pbnV0ZSIsImxhbmd1YWdlLXRvb2xiYXItbmF2aWdhdGlvbi1wcmV2aW91cy1leHRlbnQiOiJQcmV2aW91cyBFeHRlbnQiLCJsYW5ndWFnZS1sYWJlbE9wdGlvbnMtYmVsb3ctZW5kIjoiYmVsb3ctZW5kIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtcmVzdWx0cy1maWVsZC1iZWFyaW5nIjoiQmVhcmluZyIsImxhbmd1YWdlLXRvb2xiYXItZ3JvdXAtbWVhc3VyZW1lbnQtdG9vbHMiOiJNZWFzdXJlIiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLW9wZXJhdG9yLW5vdC1udWxsIjoiaXMgbm90IG51bGwiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItc2VsZWN0LWZpbHRlciI6IlNlbGVjdCBmaWx0ZXIiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctY29uZmlybS1sb3ctYWNjdXJhY3ktZ2VvbG9jYXRpb24iOiJUaGlzIGdlb2xvY2F0aW9uIHJlc3VsdCBpcyBhY2N1cmF0ZSB3aXRoaW4gezB9IG1ldGVycy4gVG8gcGxhY2UgdGhlIGZlYXR1cmUgYXQgdGhpcyBsb2NhdGlvbiwgc2VsZWN0IHsxfS4gVG8gc2VsZWN0IGEgZGlmZmVyZW50IGxvY2F0aW9uIG9uIHRoZSBtYXAsIHNlbGVjdCB7Mn0uIiwibGFuZ3VhZ2UtZmVhdHVyZS1vdmVydmlldy1tYXAtZXJyb3Itbm8tYmFzZS1sYXllciI6Ik5vIHZhbGlkIGJhc2UgbGF5ZXIgZm91bmQgZm9yIG92ZXJ2aWV3IG1hcC4iLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1wb2ludCI6IlBvaW50IiwibGFuZ3VhZ2UtbmF0aXZlLW9mZmxpbmUtZmlsZS11cGxvYWQtZXJyb3IiOiJFcnJvciBzdG9yaW5nIG9mZmxpbmUgYXR0YWNobWVudC4gWW91IG1heSBiZSBvdXQgb2Ygb2ZmbGluZSBzdG9yYWdlIHNwYWNlLiIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWZvY3VzZWQiOiJNYXAgZm9jdXNlZC4iLCJsYW5ndWFnZS1uYXRpdmUtY2xvc2UtYXBwbGljYXRpb24tZGVzYyI6IkNsb3NlcyB0aGUgY3VycmVudCBhcHBsaWNhdGlvbiBhbmQgcmV0dXJucyB0byB0aGUgbWFpbiBtZW51LiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24taGlkZS1mZWF0dXJlLWxheWVyLW1vZGFsLW1lc3NhZ2UiOiJSZW1vdmVzIGEgbW9kYWwgbWVzc2FnZS4iLCJsYW5ndWFnZS1jb21tb24tc3luYy1jb21wbGV0ZSI6IlN5bmNocm9uaXphdGlvbiBjb21wbGV0ZSIsImxhbmd1YWdlLWV4cG9ydC1tYXAtc2VsZWN0LWltYWdlLWZvcm1hdCI6IlNlbGVjdCBJbWFnZSBGb3JtYXQiLCJsYW5ndWFnZS1jYXB0dXJlLWdlb21ldHJ5LWZyZWVoYW5kLXBvbHlnb24iOiJEcmF3IGEgZnJlZWhhbmQgc2hhcGUgb24gdGhlIG1hcC4iLCJsYW5ndWFnZS1jYXB0dXJlLWdlb21ldHJ5LXBvbHlnb24ta2V5Ym9hcmQiOiJVc2UgYXJyb3dzIHRvIG1vdmUgdGhlIHBvaW50LiBIaXQgRU5URVIgdG8gcGxvdCBhbmQgYmVnaW4gbW92aW5nIHRoZSBuZXh0IHBvaW50LiBIaXQgRU5URVIgdHdpY2UgdG8gZmluaXNoLiIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1hZGQtZ2VvbWV0cnktY2FwdGlvbiI6IkFkZCBHZW9tZXRyeSIsImxhbmd1YWdlLWdlb2xvY2F0ZS1lcnJvci11bmtub3duIjoiVW5rbm93biBFcnJvciIsImxhbmd1YWdlLWxpc3QtcmVwb3J0cy1leHBsYW5hdGlvbiI6IlRoZSBmb2xsb3dpbmcgcmVwb3J0cyBhcmUgYXZhaWxhYmxlIGZvciB0aGUgZmVhdHVyZXMgeW91IHNlbGVjdGVkOiIsImxhbmd1YWdlLWxheWVyc3R5bGVzLXN5bWJvbG9neS1zaW1wbGUiOiJTaW1wbGUiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXNoYXJlLXdpdGgtbGFiZWwiOiJTaGFyZSBvZmZsaW5lIG1hcCB3aXRoIiwibGFuZ3VhZ2UtdG9vbGJhci1uYXZpZ2F0aW9uLW5leHQtZXh0ZW50IjoiTmV4dCBFeHRlbnQiLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtdGFyZ2V0LWNvb3JkaW5hdGVzLW1vZGVsLW5vdC1jb25maWd1cmVkIjoiVW5hYmxlIHRvIFBsb3QgQ29vcmRpbmF0ZXMuIFRoZSB0YXJnZXQgY29vcmRpbmF0ZXMgbW9kZWwgaXMgbm90IGNvbmZpZ3VyZWQgY29ycmVjdGx5IG9yIG5vdCByZWdpc3RlcmVkIHdpdGggdGhlIENvb3JkaW5hdGVzIE1hbmFnZXIuIiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWFib3ZlLWNlbnRlciI6ImFib3ZlLWNlbnRlciIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXZpc2libGUtZmVhdHVyZXMiOiJWaXNpYmxlIEZlYXR1cmVzOiB7MH0iLCJsYW5ndWFnZS1sb2ctbm8tZW50cmllcyI6Ik5vIEVudHJpZXMiLCJsYW5ndWFnZS1uYXRpdmUtYWRkLXRvLWZhdm9yaXRlcy12aWV3ZXItbmFtZSI6IlBsZWFzZSBlbnRlciBhIG5hbWUgZm9yIHRoaXMgYXBwbGljYXRpb24uIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtY2xlYXIiOiJDbGVhciIsImxhbmd1YWdlLWxheWVyLWFkZGl0aW9uLWVkaXQtbGF5ZXItcHJvcGVydGllcy1kZXNjIjoiQ2hhbmdlIHRoZSBsYXllcidzIG5hbWUgb3Igb3RoZXIgcHJvcGVydGllcy4iLCJsYW5ndWFnZS10b29sYmFyLXRhc2tzLWV4cG9ydC1tYXAtdG9vbHRpcCI6IlNhdmUgYSBtYXAgaW1hZ2UiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctbm8tc3ltYm9sb2d5IjoiWW91IGNhbm5vdCBlZGl0IHRoZSBzeW1ib2xvZ3kgb2YgdGhpcyBmZWF0dXJlLiIsImxhbmd1YWdlLWNhcHR1cmUtZ2VvbWV0cnktcG9seWxpbmVfdG9vbHRpcCI6IlNlbGVjdCBieSBwb2x5bGluZSIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXVuaXQta2lsb21ldGVyIjoiS2lsb21ldGVycyAoa20pIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLW5vdC1hdmFpbGFibGUtb2ZmbGluZSI6IlRoaXMgbGF5ZXIgaXMgbm90IGF2YWlsYWJsZSBvZmZsaW5lLiIsImxhbmd1YWdlLW9mZmxpbmUtcHJvdmlzaW9uaW5nLXNlY3VyZS1sYXllcnMtc2F2ZWQiOiJEb25lISIsImxhbmd1YWdlLXRvb2xiYXItbWVudS1nbG9iYWwtb3Blbi1kZXNjIjoiQ2hvb3NlIGEgcHJldmlvdXNseSBzYXZlZCBwcm9qZWN0IHRvIHJlc3RvcmUgdGhlIHNhdmVkIHN0YXRlIiwibGFuZ3VhZ2UtYXV0aC11c2VybmFtZS1lbXB0eSI6IlVzZXJuYW1lIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWQuIFBsZWFzZSB0cnkgYWdhaW4uIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWNyZWF0ZS1lZGl0LXNlbGVjdC1leGlzdGluZy1mZWF0dXJlIjoiU2VsZWN0IEV4aXN0aW5nIEZlYXR1cmUiLCJsYW5ndWFnZS1jb21tb24tcGFuIjoiUGFuIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1sYXllcnMtbnVtZmVhdHVyZXMtY2FsY3VsYXRpbmciOiJjYWxjdWxhdGluZy4uLiIsImxhbmd1YWdlLWNsdXN0ZXJpbmctcmFkaXVzIjoiUmFkaXVzIiwibGFuZ3VhZ2UtZXhwb3J0LW1hcC1jcmVhdGUtaW1hZ2UiOiJDcmVhdGUgSW1hZ2UiLCJsYW5ndWFnZS1uYXRpdmUtYWRkLXRvLWZhdm9yaXRlcyI6IkFkZCBhcHBsaWNhdGlvbiB0byBmYXZvcml0ZXMiLCJsYW5ndWFnZS1leHBvcnQtbWFwLWluY2x1ZGUtZ2VvcmVmZXJlbmNlLWRhdGEiOiJJbmNsdWRlIEdlb3JlZmVyZW5jZSBEYXRhIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWNyZWF0ZS1lZGl0LXNlbGVjdC1nZW9tZXRyeS1kZXNjcmlwdGlvbiI6IkNob29zZSBtZXRob2QgdG8gZGVmaW5lIGZlYXR1cmUncyBnZW9tZXRyeSIsImxhbmd1YWdlLXRvb2xiYXItaWRlbnRpZnktcG9seWdvbiI6IlBvbHlnb24iLCJsYW5ndWFnZS11c2VyLW9wZW5tZW51IjoiT3BlbiBVc2VyIGluZm8gbWVudSIsImxhbmd1YWdlLWxheWVyc3R5bGVzLXN5bWJvbG9neS1hdHRyaWJ1dGUiOiJBdHRyaWJ1dGUiLCJsYW5ndWFnZS1wcm9qZWN0LWVkaXRvci1kZXNjcmlwdGlvbi10aXRsZSI6IlByb2plY3QgRGVzY3JpcHRpb24iLCJsYW5ndWFnZS1sYWJlbE9wdGlvbnMtdGl0bGUiOiJDdXN0b21pemUgTGFiZWxzIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtdW5pdC1zcW1pbGUiOiJNaWxlwrIgKG1pwrIpIiwibGFuZ3VhZ2UtbGF5ZXItY2F0YWxvZy1zZWxlY3QtYWxsIjoiU2VsZWN0IEFsbCIsImxhbmd1YWdlLXJlc3VsdHMtdG9nZ2xlLWxpc3QtdmlldyI6IlN3aXRjaCB0byBMaXN0IiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWFib3ZlLWFsb25nIjoiYWJvdmUtYWxvbmciLCJsYW5ndWFnZS1vZmZsaW5lLWVycm9yLWNsZWFyaW5nLWRhdGEiOiJFcnJvciBjbGVhcmluZyBvZmZsaW5lIGRhdGE6IHswfSIsImxhbmd1YWdlLW5hdGl2ZS1hdHRhY2gtcGhvdG8iOiJBdHRhY2ggYSBwaG90byBmcm9tIHRoZSBjYW1lcmEgb3IgZ2FsbGVyeSIsImxhbmd1YWdlLW1lYXN1cmVtZW50LWFyZWEtbGFiZWwiOiJBcmVhIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtcG9seWxpbmUtZmluYWwtbWFya3VwLWxhYmVsIjoiVG90YWw6IHswfSB7MX0iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXJlY2VudGVyLW1hcC1vbi1uZXh0LW1hcC1yZXNpemUiOiJSZWNlbnRlcnMgdGhlIG1hcCB0byBpdHMgZXhpc3RpbmcgcG9zaXRpb24gdGhlIG5leHQgdGltZSB0aGUgbWFwIGlzIHJlc2l6ZWQuIiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLWNsZWFyIjoiQ2xlYXIiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItb3BlcmF0b3ItZ3JlYXRlci10aGFuIjoiPiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tY3JlYXRlLWF0dGFjaG1lbnQiOiJDcmVhdGVzIGEgZmVhdHVyZSBhdHRhY2htZW50LiIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWhvbWUtcGFuZWwiOiJIb21lIFBhbmVsIHswfSIsImxhbmd1YWdlLWxhYmVsT3B0aW9ucy1hYm92ZS1lbmQiOiJhYm92ZS1lbmQiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctcmVsYXRlZC1rZXktZmllbGQtbWlzc2luZyI6InswfSBpcyBhIGtleSBmaWVsZCBhbmQgcmVxdWlyZXMgYSB2YWx1ZS4gUGxlYXNlIGFzc2lnbiBhIHZhbHVlIHRvIHRoZSBmZWF0dXJlIGFuZCBzYXZlIGl0LiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LW1lYXN1cmUtcmVjdGFuZ2xlLXRvb2wtdG9vbHRpcCI6IkNhbGN1bGF0ZSBhcmVhIGZvciBhIHJlY3RhbmdsZSIsImxhbmd1YWdlLWhlYXQtbWFwcy1pbnRlbnNpdHktc2xpZGVyLW1pbi1sYWJlbCI6IjAiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWNyZWF0ZS1mZWF0dXJlIjoiQ3JlYXRlcyBhIG5ldyBmZWF0dXJlLiIsImxhbmd1YWdlLXByaW50aW5nLXByaW50LXJlcXVlc3Qtc3RhcnQtZGVzY3JpcHRpb24iOiJZb3VyIHByaW50IGpvYiBoYXMgYmVndW4uIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtdW5pdC1zcW1ldGVyLXNob3J0IjoibcKyIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1jcmVhdGUtcmVsYXRlZC1yZWNvcmQiOiJDcmVhdGVzIGEgcmVsYXRlZCB0YWJsZSByZWNvcmQuIiwibGFuZ3VhZ2UtdG9vbGJhci1lZGl0aW5nLWVkaXQiOiJFZGl0IiwibGFuZ3VhZ2UtdGltZXNsaWRlci1jdXJyZW50LXRpbWUtZXh0ZW50LWluZm8tc2Vjb25kLWFiYnIiOiJzIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1wdWxzZS1zdGF0dXMiOiJSZXNldHMgdGhlIHRpbWVyIG9mIHRoZSBzdGF0dXMgdmlld01vZGVsLiIsImxhbmd1YWdlLXRvb2xiYXItZ3JvdXAtaG9tZSI6IkJhc2ljIFRvb2xzIiwibGFuZ3VhZ2UtdG9vbGJhci1hbmFseXNpcy1sb2NhdGlvbi1pbmZvIjoiTG9jYXRpb24gSW5mbyIsImxhbmd1YWdlLW1lbnUtZ2xvYmFsLXNhdmUtZGVzYyI6IlNhdmUgdGhlIHN0YXRlIG9mIHlvdXIgdmlld2VyIGluIGEgcHJvamVjdCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tZGVzdHJveS12aWV3IjoiRGVzdHJveXMgYSB2aWV3LCB3aXBpbmcgb3V0IGl0cyBiaW5kaW5nIGFuZCBET00gc3Vic3RydWN0dXJlcy4iLCJsYW5ndWFnZS1jb21tb24tb2siOiJPSyIsImxhbmd1YWdlLWNsdXN0ZXJpbmctbmFtZSI6IkZlYXR1cmUgQ2x1c3RlcmluZyIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1zaG93LWFsbC1jb29yZGluYXRlcy1kZXNjIjoiVW5oaWRlIGFsbCBoaWRkZW4gY29vcmRpbmF0ZXMgYW5kIHNob3cgdGhlbSBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1uby12YWxpZC1maWx0ZXItbGF5ZXJzIjoiVGhlIGFwcGxpY2F0aW9uIGRvZXMgbm90IGNvbnRhaW4gYW55IGZpbHRlcmFibGUgbGF5ZXJzLiIsImxhbmd1YWdlLXRvb2xiYXItbm90LWF2YWlsYWJsZSI6IlRvb2xiYXIgaXMgbm90IGF2YWlsYWJsZSIsImxhbmd1YWdlLXRhYmxlLW1hcHBpbmctc291cmNlLXNwYXRpYWwtcmVmZXJlbmNlLWN1c3RvbSI6IkN1c3RvbSBXS0lEL1dLVCIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbmFtZS1sYWJlbCI6Ik5hbWU6IiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLWNvZGVkLXZhbHVlIjoiU2VsZWN0IGNvZGVkIHZhbHVlIiwibGFuZ3VhZ2UtbmF0aXZlLWZpbGUtZnJvbS1icm93c2VyIjoiQXR0YWNoIGZpbGUgb3IgcGhvdG8gdG8gZmVhdHVyZSIsImxhbmd1YWdlLW9mZmxpbmUtdXBkYXRlLWRvd25sb2FkZWQtcmVzb3VyY2VzIjoiQW4gdXBkYXRlZCBvZmZsaW5lIGJ1bmRsZSBpcyBhdmFpbGFibGUuIFJlLXByb3Zpc2lvbmluZyB2aWV3ZXIuLi4iLCJsYW5ndWFnZS10aW1lc2xpZGVyLXNldHRpbmdzLXRpbWUtaW50ZXJ2YWwtZXJyb3IiOiJUaW1lIGludGVydmFsIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyLiIsImxhbmd1YWdlLW1hcC1jb29yZGluYXRlcy1XS0lEIjoiV0tJRCIsImxhbmd1YWdlLWxheWVyLWNhdGFsb2ctY2xlYXItYnV0dG9uIjoiQ2xlYXIiLCJsYW5ndWFnZS1wcm9qZWN0LWNvbmZpcm0tZGVsZXRlLXRpdGxlIjoiRGVsZXRlIFByb2plY3QiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLW5vbmUiOiJOb25lIiwibGFuZ3VhZ2UtaXMtcHJpbnRpbmciOiJQcmVwYXJpbmcgZmlsZS4gUGxlYXNlIHdhaXQuLi4iLCJsYW5ndWFnZS1tZW51LW1hcC1sYXllcnMtZGVzYyI6IkFsdGVyIHZpc2liaWxpdHkgb2YgbWFwIGxheWVycywgcGVyZm9ybSBsYXllciBhY3Rpb25zLCBhbmQgdmlldyB0aGUgbGVnZW5kLiIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1lbXB0eS1mZXRjaGluZyI6IkZldGNoaW5nIE9mZmxpbmUgTWFwcy4uLiIsImxhbmd1YWdlLXByb2plY3RzLXNvcnQtc2VsZWN0b3ItdGl0bGUiOiJTb3J0IHByb2plY3RzIGJ5IiwibGFuZ3VhZ2UtdXBsb2FkLWRpYWxvZy12YWxpZGF0aW9uLWVycm9yLWV4dGVuc2lvbi1ub3QtYWxsb3dlZCI6IkludmFsaWQgZmlsZSBmb3JtYXQgZGV0ZWN0ZWQuIiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLWZpbHRlciI6IkZpbHRlciIsImxhbmd1YWdlLXRvb2xiYXItdG9nZ2xlLWJ1ZmZlci1vbi1uYW1lIjoiQnVmZmVyIE9wdGlvbnMiLCJsYW5ndWFnZS1tZW51LWFjY2Vzc2liaWxpdHktcGFuZWwiOiJWaWV3IHRoZSBhY2Nlc3NpYmlsaXR5IHBhbmVsIiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWV4dHJhLXNtYWxsIjoiRXh0cmEtU21hbGwiLCJsYW5ndWFnZS11cGxvYWQtZGF0YS1lcnJvci1wcm9qZWN0aW9uLW5vdC1zdXBwb3J0ZWQtbWVzc2FnZSI6IlVuYWJsZSB0byBjb252ZXJ0IHlvdXIgZmlsZSdzIHByb2plY3Rpb24gdG8gdGhlIHByb2plY3Rpb24gb2YgeW91ciBzaXRlJ3MgbWFwIHNlcnZpY2UocykuIiwibGFuZ3VhZ2UtbGF5ZXItYWRkaXRpb24tbWFya3VwLXBsYWNlaG9sZGVyIjoiIVN1YnRleHQgZ29lcyBoZXJlISIsImxhbmd1YWdlLWhlYXQtbWFwcy1pbnRlbnNpdHktc2xpZGVyLXRvb2x0aXAiOiJBZGp1c3QgaGVhdCBtYXAgaW50ZW5zaXR5IChpbiBwaXhlbHMpIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtY2hhbmdlLXN0eWxlcy1kaWFsb2ctdGl0bGUiOiJTZWxlY3QgRGVzaXJlZCBTdHlsaW5nIiwibGFuZ3VhZ2UtdmlzdWFsaXphdGlvbi1zZWxlY3QiOiJTZWxlY3QgYSB2aXN1YWxpemF0aW9uIGZvciB5b3VyIGxheWVyOiIsImxhbmd1YWdlLW1lbnUtbGlzdC1vZmZsaW5lLW1hcHMtYWN0aW9ucy1yZWZyZXNoIjoiUmVmcmVzaCIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1kc2stcG9pbnQtdG9vbCI6IkNsaWNrIG9yIHRhcCBvbiB0aGUgbWFwIHRvIGFkZCB0aGUgZmVhdHVyZS4iLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1mcmVlaGFuZC1wb2x5Z29uIjoiRnJlZWhhbmQgU2hhcGUiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLW9wZW4tZGF0YS1mcmFtZSI6Ik9wZW5zIHRoZSBEYXRhUmVnaW9uLCBpZiBwcmVzZW50IGluIHRoZSBjdXJyZW50IHNoZWxsLiIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWNoYW5nZS1tYXJrdXAtc3R5bGUtdG9vbHRpcCI6IkNob29zZSBzdHlsaW5nIGZvciB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGRyYXdpbmcgdG9vbCIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtbm90aWxlZCI6IlRoZXJlIGlzIG5vIHRpbGVkIE1hcCBTZXJ2aWNlIGluIHRoaXMgYmFzZW1hcCB0byBzd2FwIGZvciBhIFRQSy4iLCJsYW5ndWFnZS1sb2ctZ2VvbG9jYXRpb24tbm90LWF2YWlsYWJsZSI6Ikdlb2xvY2F0aW9uIGlzIG5vdCBhdmFpbGFibGUuIiwibGFuZ3VhZ2Utd29ya2Zsb3ctd29ya2Zsb3dzIjoiV29ya2Zsb3dzIiwibGFuZ3VhZ2UtbWVudS1wcm9qZWN0LWVkaXQtcHJvamVjdC1kZXNjIjoiRWRpdCB0aGUgY3VycmVudCBwcm9qZWN0IiwibGFuZ3VhZ2Utb2ZmbGluZS1wcm92aXNpb25pbmctc2VjdXJlLXNpdGUiOiJTYXZpbmcgdGhlIHNlY3VyZWQgc2l0ZS4uLiIsImxhbmd1YWdlLWlkZW50aWZ5LXBvbHlnb24tdG9vbCI6IkNsaWNrIG9yIHRhcCBvbmNlIHRvIGFkZCBwb2ludHMsIHR3aWNlIHRvIGZpbmlzaC4iLCJsYW5ndWFnZS1tZW51LWJvb2ttYXJrLWFkZCI6IkJvb2ttYXJrIGN1cnJlbnQgbWFwIGV4dGVudCIsImxhbmd1YWdlLWRzay1tYXAtY2VudGVyIjoiQ2xpY2sgdG8gY2VudGVyIHRoZSBtYXAgYXQgdGhhdCBwb2ludC4iLCJsYW5ndWFnZS10b29sYmFyLWFyY2dpcy12aWV3LW15LWNvbnRlbnQiOiJWaWV3IE15IENvbnRlbnQiLCJsYW5ndWFnZS1sYXllci1hZGRpdGlvbi1nZW5lcmFsLW5hbWUiOiJPdGhlciIsImxhbmd1YWdlLW1lbnUtb2ZmbGluZS1tYXAtZWRpdG9yLWdlb21ldHJ5LWFjdGlvbnMtZGVzYyI6Ikdlb21ldHJ5IEFjdGlvbnMiLCJsYW5ndWFnZS1sZWdlbmQtaWNvbi1hbHQtdGV4dCI6IkxlZ2VuZCBJY29uIGZvciB7MH0iLCJsYW5ndWFnZS1pbnRlZ3JhdGlvbi1zbWFydC1wYW5lbC1yZXNpemUiOiJEcmFnIHRvIHJlc2l6ZSB0aGUgcGFuZWwiLCJsYW5ndWFnZS1wcmludC1wcmV2aWV3LWxvY2siOiJMb2NrIHByaW50IHByZXZpZXcgd2l0aCBtYXAiLCJsYW5ndWFnZS1idWZmZXItZXJyb3ItaWRlbnRpZnktYnVmZmVyZWQtZmVhdHVyZS1zZXQtY29sbGVjdGlvbiI6IkNvdWxkIG5vdCBleGVjdXRlIElkZW50aWZ5QnVmZmVyZWRGZWF0dXJlU2V0Q29sbGVjdGlvbiBvcGVyYXRpb24uIEZlYXR1cmUgU2V0IENvbGxlY3Rpb24gbm90IGZvdW5kLiIsImxhbmd1YWdlLW1lbnUtem9vbS10by1sYXllciI6Ilpvb20gdG8gZnVsbCBleHRlbnQiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXpvb20tdG8tZXNyaS1mZWF0dXJlLXNldCI6Ilpvb21zIHRvIHRoZSBleHRlbnQgb2YgYWxsIHRoZSBmZWF0dXJlcyBpbiB0aGUgZmVhdHVyZSBzZXQuIiwibGFuZ3VhZ2UtbGF5ZXItYWRkaXRpb24tYnV0dG9uLXNlYXJjaCI6IlNlYXJjaCIsImxhbmd1YWdlLWxhYmVsT3B0aW9ucy1zbWFsbCI6IlNtYWxsIiwibGFuZ3VhZ2UtdG9vbGJhci1ncm91cC1uYXRpdmUiOiJOYXRpdmUiLCJsYW5ndWFnZS10b29sYmFyLWVkaXRpbmctbWFuYWdlLW9mZmxpbmUtZGF0YS10b29sdGlwIjoiU2VsZWN0LCBzeW5jLCBhbmQgY2xlYXIgb2ZmbGluZSBkYXRhIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1zZXQtYWN0aXZlLWhpZ2hsaWdodC1sYXllciI6IlNldHMgdGhlIGxheWVyIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lIGFzIGFjdGl2ZSwgaWYgdGhlcmUgaXMgb25lLiIsImxhbmd1YWdlLW1hcmt1cC1jbGVhci1hbGwtcHJvbXB0LXRpdGxlIjoiQ2xlYXIgQWxsIiwibGFuZ3VhZ2Utc2l0ZS1pbml0aWFsaXphdGlvbi1mYWlsdXJlLW5hdGl2ZS1hdmFpbGFibGUiOiIgTWFrZSBzdXJlIHRvIGRvd25sb2FkIGFuIG9mZmxpbmUgbWFwIHRvIHlvdXIgZGV2aWNlIGJlZm9yZSBnb2luZyBvZmZsaW5lLiIsImxhbmd1YWdlLWF1dGgtdXNlcm5hbWUiOiJVc2VybmFtZToiLCJsYW5ndWFnZS1ydW4tcmVwb3J0LXRpdGxlIjoiUmVwb3J0IiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1hbGxvdy1oaWRlLWZlYXR1cmUtbGF5ZXItbW9kYWwtbWVzc2FnZSI6IlNob3cgdGhlIGNsb3NlIGJ1dHRvbiBvbiB0aGUgTW9kYWxNZXNzYWdlVmlldyBhbGxvd2luZyB0aGUgdXNlciB0byBjbG9zZSBpdC4iLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1kZWxldGUtZGVzYyI6IkNsaWNrIG9yIHRhcCB0byBpbW1lZGlhdGVseSBhbmQgcGVybWFuZW50bHkgZGVsZXRlIGEgZHJhd2luZy4gVGhpcyBjYW5ub3QgYmUgdW5kb25lLiIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1zeW5jLWJ1dHRvbiI6IlN5bmMiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWxheWVycy1hdHRhY2htZW50cy1hbHQiOiJEb3dubG9hZCBhdHRhY2htZW50cyBmb3IgYWxsIHNlbGVjdGVkIGxheWVycy4iLCJsYW5ndWFnZS1sYWJlbE9wdGlvbnMtZm9udC1jb2xvciI6IkZvbnQgQ29sb3IiLCJsYW5ndWFnZS1tZW51LXNob3ctbG9nLWRlc2MiOiJEaXNwbGF5IHRoZSB2aWV3ZXIncyBsb2csIGluY2x1ZGluZyBkaWFnbm9zdGljIGVycm9ycyBhbmQgdGhlIHZlcnNpb24gbnVtYmVyLiIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWNoYXJ0aW5nIjoiQ2hhcnRpbmcgezB9IiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWNlbnRlci1iZWZvcmUiOiJjZW50ZXItYmVmb3JlIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1kZWxldGUtYXR0YWNobWVudCI6IkRlbGV0ZXMgYSBmZWF0dXJlIGF0dGFjaG1lbnQuIiwibGFuZ3VhZ2UtbG9nLWFwcC1sb2ciOiJBcHBsaWNhdGlvbiBMb2ciLCJsYW5ndWFnZS1leHBvcnQtd2ViLW1hcC10aXRsZS1sYWJlbCI6IlRpdGxlIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLWVtcHR5LWVtcHR5IjoiVGhlcmUgYXJlIG5vIE9mZmxpbmUgTWFwcyBmb3IgdGhpcyBzaXRlLiIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLWNhbm5vdC1wcm9jZWVkLXdoZW4taW52YWxpZCI6IkludmFsaWQiLCJsYW5ndWFnZS1tZW51LWhvbWUtcGFuZWwtZGVzYyI6IlZpZXcgaW5mb3JtYXRpb24gYWJvdXQgdGhpcyBhcHBsaWNhdGlvbi4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1tZWFzdXJlLWxpbmUtdG9vbC1uYW1lIjoiTGluZSIsImxhbmd1YWdlLWNvbW1vbi1mZWF0dXJlLWVkaXRpbmctZGVzYyI6IkVkaXQgdGhlIGF0dHJpYnV0ZXMgb2YgdGhlIGZlYXR1cmUgYW5kIHNhdmUgdGhlbS4iLCJsYW5ndWFnZS1sYXllci1hZGRpdGlvbi1sYXllci1uYW1lIjoiTmFtZSIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXVuaXQtc3FraWxvbWV0ZXIiOiJLaWxvbWV0ZXLCsiAoa23CsikiLCJsYW5ndWFnZS1oZWF0LW1hcHMtaW50ZW5zaXR5IjoiSW50ZW5zaXR5IiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtdW5pdC1hY3JlIjoiQWNyZXMgKGFjKSIsImxhbmd1YWdlLWxheWVyLWNhdGFsb2ctc2VsZWN0ZWQtYWxsIjoiKEFsbCBTZWxlY3RlZCkiLCJsYW5ndWFnZS1kc2staWRlbnRpZnktcG9pbnQtdG9vbCI6IkNsaWNrIHRvIGZpbmQgZmVhdHVyZXMgb24gdGhlIG1hcC4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWRlbGV0ZS1mcm9tLWVkaXQtbG9nIjoiUmVtb3ZlcyB0aGUgZ2l2ZW4gZW50cnkgZnJvbSB0aGUgZWRpdCBsb2csIHRoZW4gc2V0cyB0aGUgZWRpdCBsb2cuIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1sYXllcnMtdGl0bGUiOiJTZWxlY3QgTGF5ZXJzIiwibGFuZ3VhZ2UtdG9vbGJhci1ncm91cC1vZmZsaW5lLW1hbmFnZW1lbnQiOiJPZmZsaW5lIE1hbmFnZW1lbnQiLCJsYW5ndWFnZS1jb21tb24tZWRpdCI6IkVkaXQiLCJsYW5ndWFnZS1jb21tb24tZmVhdHVyZS1zeW5jLXNldHRpbmdzIjoiTWFuYWdlIFN5bmMgU2V0dGluZ3MiLCJsYW5ndWFnZS1tYXAtY29vcmRpbmF0ZXMtZGVmYXVsdC1jb29yZGluYXRlLXN5c3RlbS1sYWJlbCI6IkRlZmF1bHQiLCJsYW5ndWFnZS1idWZmZXItb3B0aW9ucy1kaXN0YW5jZS10aXRsZSI6IkJ1ZmZlciBkaXN0YW5jZSIsImxhbmd1YWdlLW1lbnUtcHJvamVjdC1zaGFyZS1wcm9qZWN0LWRlc2MiOiJTaGFyZSB0aGUgY3VycmVudCBwcm9qZWN0IiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWJlbG93LWFsb25nIjoiYmVsb3ctYWxvbmciLCJsYW5ndWFnZS1idWZmZXItaW52YWxpZC11bml0LXdhcm5pbmciOiJVbnN1cHBvcnRlZCBidWZmZXIgdW5pdCAtIHswfS4gUGxlYXNlIGNoZWNrIHlvdXIgY29uZmlndXJhdGlvbi4iLCJsYW5ndWFnZS11cGxvYWRlci1sZWdhY3ktYnV0dG9uLXJlbW92ZS1pbnB1dCI6IlJlbW92ZSIsImxhbmd1YWdlLWJhc2VtYXAtc3dpdGNoZXItbm8tYmFzZW1hcHMiOiJObyBCYXNlbWFwcyIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc2hhcmluZy1kZXNjcmlwdGlvbiI6IldobyBjYW4gdmlldyBhbmQgd2hvIGNhbiBlZGl0IHRoaXMgb2ZmbGluZSBtYXAuIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtcmVjdGFuZ2xlLWRlc2MiOiJDbGljayBhbmQgZHJhZyB0byBkcmF3IGEgcmVjdGFuZ2xlIG9uIHRoZSBtYXAuIiwibGFuZ3VhZ2UtcHJvamVjdC1zdGF0dXMtZW1wdHkiOiJObyBwcm9qZWN0cyB3ZXJlIGZvdW5kLiIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1zeW5jLWNhbmNlbGxpbmciOiJDYW5jZWxsaW5nLi4uIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLWNhbmNlbC1hZGQtY29vcmRpbmF0ZS1idXR0b24tdGV4dCI6IkNhbmNlbCIsImxhbmd1YWdlLXNhdmVkLXJlc3VsdHMtb3ZlcndyaXRlLXByb21wdCI6IlRoZSBuYW1lICd7MH0nIGFscmVhZHkgZXhpc3RzLiBJZiB5b3UgcHJvY2VlZCwgdGhlIHNhdmVkIHJlc3VsdHMgd2lsbCBiZSBvdmVyd3JpdHRlbi4gQ29udGludWU/IiwibGFuZ3VhZ2UtbGF5ZXItYWRkaXRpb24tc2hvdy1tYXB0aXBzIjoiU2hvdyBtYXAgdGlwcyIsImxhbmd1YWdlLWNvbW1vbi1mZWF0dXJlLWVkaXRpbmciOiJGZWF0dXJlIEF0dHJpYnV0ZXMiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1sb2FkaW5nLWNoYW5nZXMiOiJMb2FkaW5nIG1hcCBjaGFuZ2VzLi4uIiwibGFuZ3VhZ2UtYnVmZmVyLW9wZXJhdGlvbi1lcnJvciI6IkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGJ1ZmZlcmluZy4gUGxlYXNlIGVuc3VyZSB0aGF0IHRoZSBidWZmZXIgcGFyYW1ldGVycyBjb25maWd1cmVkIGhlcmUgYXJlIGNvcnJlY3QuIERldGFpbHMgb2YgdGhpcyBlcnJvciBhcmU6IHswfSIsImxhbmd1YWdlLW5hdGl2ZS1hZGQtdG8tZmF2b3JpdGVzLWVycm9yLXRpdGxlIjoiRXJyb3IgQWRkaW5nIEZhdm9yaXRlIiwibGFuZ3VhZ2UtZmVhdHVyZS1vdmVydmlldy1tYXAtdG9nZ2xlIjoiT3BlbiBhbmQgQ2xvc2UgdGhlIG92ZXJ2aWV3IG1hcCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tc2hvdy1tYXAiOiJBY3RpdmF0ZXMgbWFwIHZpZXcuIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtdW5pdC1tZXRlciI6Ik1ldGVycyAobSkiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItb3BlcmF0b3ItZG9lcy1ub3QtY29udGFpbiI6ImRvZXMgbm90IGNvbnRhaW4iLCJsYW5ndWFnZS10b29sYmFyLW5hdmlnYXRpb24tbmV4dC1leHRlbnQtdG9vbHRpcCI6Ilpvb20gdG8gdGhlIG5leHQgZXh0ZW50IiwibGFuZ3VhZ2Utd29ya2Zsb3ctdGl0bGUiOiJXb3JrZmxvdyIsImxhbmd1YWdlLW1hcmt1cC1jbGVhci1hbGwtcHJvbXB0IjoiSWYgeW91IHByb2NlZWQsIGFsbCBjdXJyZW50IGRyYXdpbmdzIHdpbGwgYmUgcGVybWFuZW50bHkgZXJhc2VkLiBDb250aW51ZT8iLCJsYW5ndWFnZS1tZW51LWV4cG9ydC1yZXN1bHRzLXRvLXNocC1kZXNjIjoiRXhwb3J0IHJlc3VsdHMgdG8gU2hhcGVmaWxlIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1pbnZva2UtbWFwLXRpcCI6IkV4ZWN1dGVzIGFuIElkZW50aWZ5IG9wZXJhdGlvbiBvbiB0aGUgZ2l2ZW4gZ2VvbWV0cnkgYW5kIFwiTWFwVGlwXCIgYXMgaXRzIHNvdXJjZSB0YWcuIiwibGFuZ3VhZ2UtdGltZXNsaWRlci1zdGVwLWJhY2stYnV0dG9uLWxhYmVsIjoiU3RlcCBCYWNrIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1jbG9zZS1mZWF0dXJlLXNldC1jb2xsZWN0aW9uIjoiQ2xvc2VzIHRoZSBmZWF0dXJlIHNldCBjb2xsZWN0aW9uLiIsImxhbmd1YWdlLWxheWVyLWRldGFpbHMtdmFsaWRhdGlvbi1lcnJvci1pbnZhbGlkLXB1Ymxpc2gtbmFtZSI6IkludmFsaWQgY2hhcmFjdGVycyBpbiBsYXllciBuYW1lLiIsImxhbmd1YWdlLWNvbXBhY3QtdG9vbGJhci1udW1iZXItdmlzaWJsZSI6IiMgb2YgVG9vbHMgdG8gRGlzcGxheSIsImxhbmd1YWdlLW1lbnUtZW50ZXItb25saW5lIjoiR28gdG8gb25saW5lIG1vZGUiLCJsYW5ndWFnZS1idWZmZXItdW5pdC1taWxlLWRpc3BsYXktbmFtZSI6Ik1pbGVzIChtaSkiLCJsYW5ndWFnZS1wcm9qZWN0LXN0YXR1cy1jbG9zZS1idXR0b24tdGl0bGUiOiJDbG9zZSIsImxhbmd1YWdlLW1lbnUtZWRpdC1mZWF0dXJlLWRlc2NyaXB0aW9uIjoiRWRpdCB0aGUgZGV0YWlscyBhYm91dCB0aGlzIGZlYXR1cmUuIiwibGFuZ3VhZ2UtbWVudS1pZGVudGlmeS1mcmVlaGFuZCI6IklkZW50aWZ5IGJ5IGZyZWVoYW5kIHNoYXBlIiwibGFuZ3VhZ2UtYmFzZW1hcC1zd2l0Y2hlci1iYXNlbWFwcyI6IkJhc2VtYXBzIiwibGFuZ3VhZ2Utb2ZmbGluZS1wcm92aXNpb25pbmctZmFpbGVkLXRpdGxlIjoiRXJyb3IiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1zY2FsZSI6IlNjYWxlOiBvbmUgdG8gezB9LiIsImxhbmd1YWdlLXVwbG9hZC1kaWFsb2ctYnV0dG9uLXByb2NlZWQiOiJVcGxvYWQiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXNoYXJpbmctdGl0bGUiOiJTaGFyaW5nIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbWVhc3VyZS1kaXN0YW5jZS10b29sLXN0YXR1cy1rZXlib2FyZCI6IlVzZSBhcnJvd3MgdG8gbW92ZSB0aGUgcG9pbnQuIEhpdCBFTlRFUiB0byBwbG90IGFuZCBiZWdpbiBtb3ZpbmcgdGhlIG5leHQgcG9pbnQuIEhpdCBFTlRFUiB0d2ljZSB0byBmaW5pc2guIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1lcnJvci1jYWxjdWxhdGluZyI6IkNhbGN1bGF0aW5nLi4uIiwibGFuZ3VhZ2UtbWVudS1pZGVudGlmeS1idWZmZXJlZC1mZWF0dXJlLXNldC1jb2xsZWN0aW9uIjoiU2hvdyBCdWZmZXIgT3B0aW9ucyIsImxhbmd1YWdlLXRvb2xiYXItZmx5b3V0LWRlc2NyaXB0aW9uIjoiQWNjZXNzIGFkZGl0aW9uYWwgdG9vbHMgaW4gezB9IG11bHRpLXRvb2wiLCJsYW5ndWFnZS10b29sYmFyLXNuYXBwaW5nLWFsdC1lbmFibGUiOiJFbmFibGUgc25hcHBpbmcgZm9yIGFjdGl2ZSB0b29sIiwibGFuZ3VhZ2Utc2l0ZS1pbml0aWFsaXphdGlvbi1mYWlsdXJlIjoiRmFpbGVkIHRvIGluaXRpYWxpemUgc2l0ZS4iLCJsYW5ndWFnZS10YWJsZS1tYXBwaW5nLWxvY2F0aW9uLXR5cGUtYWRkcmVzcyI6IkFkZHJlc3MgRGF0YSIsImxhbmd1YWdlLW1lYXN1cmVtZW50LW1lYXN1cmUtZnJlZWhhbmQtcG9seWdvbi10b29sLXRvb2x0aXAiOiJDYWxjdWxhdGUgYXJlYSBmb3IgYSBmcmVlaGFuZCBzaGFwZSIsImxhbmd1YWdlLWhvdXJzLWFiYnIiOiJIIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLXRpdGxlIjoiUGxvdCBDb29yZGluYXRlcyIsImxhbmd1YWdlLWxhYmVsT3B0aW9ucy1ib2xkIjoiQm9sZCIsImxhbmd1YWdlLXRvb2xiYXItaWRlbnRpZnktcmVjdGFuZ2xlIjoiUmVjdGFuZ2xlIiwibGFuZ3VhZ2UtY2x1c3RlcmluZy1tYXhpbXVtLWZlYXR1cmVzIjoiTWF4aW11bSBDbHVzdGVyIFNpemUiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctbWJsLXBvaW50LXRvb2wiOiJUYXAgb24gdGhlIG1hcCB0byBhZGQgdGhlIGZlYXR1cmUuIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLWFjdGl2YXRlLWZhaWxlZCI6IlRoZSBvZmZsaW5lIG1hcCBmYWlsZWQgdG8gbG9hZC4gIElmIHRoZSBsYXN0IGRvd25sb2FkIG9yIHN5bmMgZmFpbGVkIHRyeSBzeW5jaW5nIGFnYWluLiIsImxhbmd1YWdlLWludGVncmF0aW9uLXNtYXJ0LXBhbmVsLW1heGltaXplLXJlc3RvcmUiOiJNYXhpbWl6ZS9SZXN0b3JlIFBhbmVsIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1wcmVnZW5lcmF0ZWQiOiJQcmUtZ2VuZXJhdGVkIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLXVwZGF0ZS1jb29yZGluYXRlLWJ1dHRvbi10aXRsZSI6IkNsaWNrIHRvIHVwZGF0ZSB0aGUgbG9jYXRpb24gb2YgdGhpcyBjb29yZGluYXRlIG9uIHRoZSBtYXAiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctZHNrLXJlY3RhbmdsZS10b29sIjoiRHJhZyBvbiB0aGUgbWFwIHRvIGRyYXcgYSByZWN0YW5nbGUiLCJsYW5ndWFnZS1tYXAtY29udGV4dC1tZW51LXJldmVyc2UtZ2VvY29kZS1sYWJlbCI6IkFkZHJlc3M6IiwibGFuZ3VhZ2UtY2xlYXItc3RvcmFnZS12aWV3LXRpdGxlIjoiQ2xlYXIgT2ZmbGluZSBEYXRhIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1zaXplLWludmFsaWQiOiJpbnZhbGlkIiwibGFuZ3VhZ2UtY2FwdHVyZS1nZW9tZXRyeS1wb2ludF90b29sdGlwIjoiU2VsZWN0IGJ5IHBvaW50IiwibGFuZ3VhZ2UtZmVhdHVyZS1yZWxhdGVkLWVycm9yLWZldGNoaW5nIjoiVGhlcmUgd2FzIGFuIGVycm9yIGZldGNoaW5nIHJlbGF0ZWQgZmVhdHVyZXMuIiwibGFuZ3VhZ2UtbGF5ZXItY2F0YWxvZy1zZWFyY2gtYnV0dG9uIjoiUGVyZm9ybSBzZWFyY2giLCJsYW5ndWFnZS1sYXllci1zZWxlY3Rvci1pZGVudGlmeS1zZWxlY3QtYWxsLXRvb2x0aXAiOiJTZWxlY3QgYWxsIGlkZW50aWZpYWJsZSBsYXllcnMiLCJsYW5ndWFnZS1leHBvcnQtd2ViLW1hcC1vcGVuLXBvcnRhbCI6Ik9wZW4gaW4gQXJjR0lTIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1leHBvcnR0aWxlcyI6IkN1c3RvbSIsImxhbmd1YWdlLXRpbWVzbGlkZXItc2V0dGluZ3MtdGltZXNsaWRlci1tb2RlLWluc3RhbnQiOiJUaW1lIEluc3RhbnQiLCJsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LWNsb3NlLWJ1dHRvbi10aXRsZSI6IkNsb3NlIFNoYXJlIFByb2plY3QiLCJsYW5ndWFnZS10aW1lc2xpZGVyLXBsYXktdGltZWxpbmUtdG9vbHRpcCI6IkNsaWNrIHRvIHBsYXkgb3Igc3RvcCB0aGUgdGltZWxpbmUgZm9yIHRoaXMgVGltZSBTbGlkZXIuIiwibGFuZ3VhZ2UtbWVudS1tYXAtbGF5ZXJzIjoiQ2hhbmdlIHZpc2libGUgbWFwIGxheWVycyIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXdvcmtmbG93bGlzdC12aWV3IjoiV29ya2Zsb3dMaXN0VmlldyIsImxhbmd1YWdlLXByb2plY3RzLXNvcnQtZGVmYXVsdC1kaXNwbGF5LW5hbWUiOiJTb3J0IEJ5Li4uIiwibGFuZ3VhZ2UtdG9vbGJhci1jaGFydGluZy1zaG93LWNoYXJ0cyI6IlZpZXcgQ2hhcnRzIiwibGFuZ3VhZ2UtdG9vbGJhci10YXNrcy1pZGVudGlmeSI6IklkZW50aWZ5IiwibGFuZ3VhZ2UtYnJvd3Nlci10aXRsZSI6Ikdlb2NvcnRleCBWaWV3ZXIgZm9yIEhUTUw1IiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWVkaXQiOiJFZGl0IEZlYXR1cmUiLCJsYW5ndWFnZS10b29sYmFyLWlkZW50aWZ5LXJlY3RhbmdsZS1kZXNjIjoiVG8gbGVhcm4gd2hhdFx1MjAxOXMgdGhlcmUsIGNsaWNrIG9yIHRhcCBhbmQgZHJhZyB0byBkcmF3IGEgcmVjdGFuZ2xlIG9uIHRoZSBtYXAuIiwibGFuZ3VhZ2UtcHJpbnRpbmctbm9uZSI6IihOb25lKSIsImxhbmd1YWdlLWxhYmVsT3B0aW9ucy1jZW50ZXItcmlnaHQiOiJjZW50ZXItcmlnaHQiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctZWxsaXBzZS10b29sIjoiRHJhZyBvbiB0aGUgbWFwIHRvIGRyYXcgYW4gZWxsaXBzZSIsImxhbmd1YWdlLWVudGVyLW9mZmxpbmUtZGVzYyI6IkdvIHRvIG9mZmxpbmUgbW9kZSBhbmQgdmlldyBjYWNoZWQgbWFwIGRhdGEuIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtYWNjZXNzaWJpbGl0eS1pY29uIjoiQ2xpY2sgdG8gdmlldyBtb3JlIGluZm9ybWF0aW9uIG9uIG91ciBhY2Nlc3NpYmlsaXR5IHBvbGljeSIsImxhbmd1YWdlLW1lYXN1cmVtZW50LWRyYXdtb2RlLWRvd24tYXJyb3ciOiJEb3duIEFycm93IiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWxhYmVsLXBsYWNlbWVudCI6IkxhYmVsIFBsYWNlbWVudCIsImxhbmd1YWdlLWhlYXQtbWFwcy1pbnRlbnNpdHktc2xpZGVyLXBpeGVscyI6InBpeGVscyIsImxhbmd1YWdlLW1lbnUtZXhwb3J0LXJlc3VsdHMtdG8teGxzeCI6IkV4cG9ydCB0byBYTFNYIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1zaG93LWxheWVyLWxpc3QiOiJBY3RpdmF0ZXMgdGhlIExheWVyTGlzdCBWaWV3LiIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXNlcnZpY2UtbGF5ZXJzLWZhaWx1cmUiOiJTZXJ2aWNlIExheWVycyBGYWlsdXJlIHswfSIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1jYW5ub3QtcXVlcnkiOiJUaGlzIGxheWVyIGNhbm5vdCBiZSBxdWVyaWVkLiIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1maW5kLWluLWxheWVyIjoiRmluZCByZXN1bHRzIGluIHswfSB3aGVyZToiLCJsYW5ndWFnZS11cGxvYWQtZGF0YS1lcnJvci1tZXNzYWdlIjoiQW4gdW5rbm93biBlcnJvciBoYXMgb2NjdXJyZWQuIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1zdGFydC1lZGl0aW5nLWZlYXR1cmUiOiJCZWdpbnMgZWRpdGluZyBhbiBleGlzdGluZyBmZWF0dXJlLiIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1tYmwtbGluZS10b29sIjoiVGFwIG9uIHRoZSBtYXAgdG8gYWRkIHR3byBsaW5lIHBvaW50cy4iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctcmVjdGFuZ2xlLXRvb2wiOiJEcmFnIG9uIHRoZSBtYXAgdG8gZHJhdyBhIHJlY3RhbmdsZS4iLCJsYW5ndWFnZS13b3JrZmxvdy1yZXBvcnQtdXJsIjoiWW91ciByZXBvcnQgaXMgcmVhZHkgdG8gZG93bmxvYWQuIENsaWNrIHRoZSBsaW5rIG9yIHJpZ2h0LWNsaWNrLCBhbmQgdGhlbiBzZWxlY3QgXCJTYXZlIGFzLlwiIiwibGFuZ3VhZ2UtbWVudS1yZXN1bHRzLWxpc3QtYWN0aW9ucy1kZXNjIjoiUmVzdWx0cyBMaXN0IEFjdGlvbnMiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItb3BlcmF0b3ItbGVzcy10aGFuIjoiPCIsImxhbmd1YWdlLXRpbWVzbGlkZXItc2V0dGluZ3MtdGltZS1pbnRlcnZhbC11bml0LXllYXIiOiJZZWFyIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLXBhY2thZ2UtcmVxdWlyZWQiOiJlc3JpLnRvb2xiYXJzLmVkaXQgbmVlZHMgdG8gYmUgaW5jbHVkZWQgaW4geW91ciBhcHBsaWNhdGlvbiB2aWEgYSBkb2pvLnJlcXVpcmUgc3RhdGVtZW50IGluIG9yZGVyIGZvciBmZWF0dXJlIGVkaXRpbmcgdG8gd29yayBwcm9wZXJseS4iLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1lZGl0LWRlc2Mtc2hvcnRjdXRzLXpvb20iOiJVc2UgYXJyb3dzIHRvIG1vdmUsIFMgdG8gc2NhbGUuIENvbWJpbmUgd2l0aCBBTFQgZm9yIGZpbmVyIGNvbnRyb2wuIENvbWJpbmUgd2l0aCBTSElGVCB0byByZXZlcnNlLiIsImxhbmd1YWdlLWNvbW1vbi1oaWRlIjoiSGlkZSIsImxhbmd1YWdlLWZlYXR1cmUtYXR0cmlidXRlcyI6IkRldGFpbHMiLCJsYW5ndWFnZS1kaXNwbGF5LXJlc3VsdC1waWNrZXItbm8tcmVzdWx0cy1zZWxlY3RlZCI6IlBsZWFzZSBzZWxlY3Qgb25lIG9mIHRoZSByZXN1bHRzIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLXRvb2wtbmFtZSI6IlBsb3QgQ29vcmRpbmF0ZXMiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1mZWF0dXJlLWxheWVyLWxpc3QiOiJNYW5hZ2UgU3luYyBTZXR0aW5ncyB7MH0iLCJsYW5ndWFnZS1leHBvcnQtbWFwLW5vbmUiOiIoTm9uZSkiLCJsYW5ndWFnZS1jb21tb24tcmVzdWx0cyI6IlJlc3VsdHMiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWdldC1yZWxhdGVkLWZlYXR1cmUiOiJHZXRzIGZlYXR1cmVzIHJlbGF0ZWQgdG8gdGhlIGZlYXR1cmUuIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1mb3JtLXZhbGlkYXRpb24tc3VtbWFyeSI6IkZvcm0gdmFsaWRhdGlvbiBlcnJvciB7MH0gb2YgezF9OiB7Mn0iLCJsYW5ndWFnZS1tZW51LW1hcHRpcC1hY3Rpb25zIjoiQWN0aW9ucyIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXJlc3VsdHMtZmVhdHVyZS1zZXQtbmFtZSI6InswfSB7MX0iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctc2VsZi1pbnRlcnNlY3RpbmctcG9seWdvbi1uZWVkLWZpeGluZyI6IlRoaXMgcG9seWdvbiBpbnRlcnNlY3RzIGl0c2VsZi4gWW91IG11c3QgZml4IHRoZSBwb2x5Z29uIGJlZm9yZSBzYXZpbmcuIiwibGFuZ3VhZ2UtdGltZXNsaWRlci1zdGFydC10aW1lLXNlbGVjdC10b29sdGlwIjoiU2V0IHRoZSBzdGFydCB0aW1lIGZvciB0aGlzIFRpbWUgU2xpZGVyLiIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLWVycm9yLXB1Ymxpc2gtbmFtZS10YWtlbi1tZXNzYWdlIjoiQ291bGQgbm90IHB1Ymxpc2ggYmVjYXVzZSB0aGUgZmlsZSBuYW1lICd7MH0nIGlzIGFscmVhZHkgcHJlc2VudCBvbiB5b3VyIEFyY0dJUyBPbmxpbmUgYWNjb3VudC4gV291bGQgeW91IGxpa2UgdG8gcHJvY2VlZCB3aXRob3V0IHB1Ymxpc2hpbmc/IiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtZXJhc2UtdG9vbHRpcCI6IkNsZWFyIGEgY2hvc2VuIGRpc3RhbmNlL2FyZWEgY2FsY3VsYXRpb24gZnJvbSB0aGUgbWFwIiwibGFuZ3VhZ2UtdXBsb2FkZXItZXJyb3ItY29ycy1tZXNzYWdlIjoiVGhlIHVwbG9hZCBzZXJ2ZXIgYXBwZWFycyBub3QgdG8gYWxsb3cgdXBsb2FkcyBmcm9tIHRoaXMgdmlld2VyLiIsImxhbmd1YWdlLWxheWVyLWNhdGFsb2ctZG9uZS1idXR0b24iOiJEb25lIiwibGFuZ3VhZ2UtbWVudS1vZmZsaW5lLW1hcC1lZGl0b3ItZ2VvbWV0cnktYWN0aW9ucy1jaXJjbGUtZGVzYyI6IkRyYXcgYSBjaXJjbGUgZm9yIHRoZSBhcmVhIG9mIGludGVyZXN0IGdlb21ldHJ5LiIsImxhbmd1YWdlLW5hdGl2ZS1pbWFnZS1zZWxlY3QtaGVhZGluZyI6IlBsZWFzZSBzZWxlY3QgYW4gaW1hZ2UgdG8gdXBsb2FkIiwibGFuZ3VhZ2UtY29tbW9uLWxvYWRpbmciOiJMb2FkaW5nLi4uIiwibGFuZ3VhZ2UtbGF5ZXItYWRkaXRpb24tZXJyb3Itbm8tc2VydmljZS1tZXRhZGF0YSI6IkludmFsaWQgc2VydmljZSIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy15LXRpdGxlIjoiWSIsImxhbmd1YWdlLXNoYXJlLXByb2plY3QtbGlua3MtcHVibGljLWVkaXQtbGFiZWwiOiJFZGl0IExpbmsgKHNpZ24taW4gbm90IHJlcXVpcmVkKSIsImxhbmd1YWdlLXRvb2xiYXItdGFiLWFuYWx5c2lzIjoiQW5hbHlzaXMiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1hdHRhY2gtZmlsZSI6IkF0dGFjaCBGaWxlIHswfSIsImxhbmd1YWdlLWNsZWFyLXN0b3JhZ2UtZG9tYWluIjoiQ2xlYXIgb2ZmbGluZSBkYXRhIGZvciB0aGlzIGRvbWFpbiIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLXRleHQiOiJUaGVyZSBhcmUgezB9IGxheWVycyBzZWxlY3RlZC4iLCJsYW5ndWFnZS1vZmZsaW5lLXByb3Zpc2lvbmluZy1mYWlsZWQtaW5kZXgtZ2V0IjoiVGhlIGRvd25sb2FkIGZvciBvZmZsaW5lIHVzZSBmYWlsZWQuIENvdWxkIG5vdCByZXRyaWV2ZSBpbmRleC4iLCJsYW5ndWFnZS1nZW9sb2NhdGUtZXJyb3Itb2ZmbGluZSI6IkNvdWxkIG5vdCBjb21wdXRlIHlvdXIgcG9zaXRpb24gaW4gb2ZmbGluZSBtb2RlLiIsImxhbmd1YWdlLW5hdGl2ZS1hZGQtdG8tZmF2b3JpdGVzLXN1Y2Nlc3MtdGl0bGUiOiJGYXZvcml0ZSBBZGRlZCIsImxhbmd1YWdlLWZyYW1ld29yay11aS12aWV3LWNvbnRhaW5lci12aWV3LWJhY2siOiJHbyBCYWNrIHswfSIsImxhbmd1YWdlLW5hdGl2ZS1waG90by1mcm9tLWdhbGxlcnkiOiJBdHRhY2ggYSBwaG90byBmcm9tIHRoZSBnYWxsZXJ5IiwibGFuZ3VhZ2UtdG9vbGJhci1pZGVudGlmeS1mcmVlaGFuZC10b29sdGlwIjoiRmluZCBvdXQgYWJvdXQgYW4gYXJlYSBvbiB0aGUgbWFwIGRlZmluZWQgYnkgYSBmcmVlaGFuZCBzaGFwZSIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtZXJyb3IiOiJUaGUgYmFzZW1hcCBjb25maWd1cmF0aW9uIGhhcyBwcm9ibGVtcy4iLCJsYW5ndWFnZS10aW1lc2xpZGVyLXRpbWUtaW50ZXJ2YWwtdW5pdC10aXRsZSI6IlNlbGVjdCB0aGUgdGltZSBpbnRlcnZhbCB1bml0IGZvciB0aGlzIHByb2ZpbGUuIiwibGFuZ3VhZ2UtbmF0aXZlLWRvd25sb2FkLWNvbXBsZXRlIjoiRG93bmxvYWQgQ29tcGxldGU6IHswfS4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1tZWFzdXJlLWZyZWVoYW5kLXBvbHlnb24tdG9vbC1uYW1lIjoiRnJlZWhhbmQgU2hhcGUiLCJsYW5ndWFnZS1tZW51LXNvY2lhbC1saW5rcy1tZW51LWRlc2MiOiJTb2NpYWwgTGlua3MiLCJsYW5ndWFnZS1jYXB0dXJlLWdlb21ldHJ5LWRlZmF1bHQiOiJEcmF3IGFuIGFyZWEgb24gdGhlIG1hcC4iLCJsYW5ndWFnZS1vZmZsaW5lLWRhdGEtY2FudC1jbGVhciI6Ik5vIGRhdGEgdG8gY2xlYXIuIiwibGFuZ3VhZ2Utd29ya2Zsb3ctaXMtYnVzeSI6IlRoZSB3b3JrZmxvdyBpcyBidXN5LiIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLWVycm9yLWludmFsaWQtemlwLW90aGVyLW1lc3NhZ2UiOiJUaGUgemlwIGZpbGUgeW91IHVwbG9hZGVkIHdhc24ndCByZWNvZ25pemVkIGJ5IHRoZSBzZXJ2ZXIuIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtdW5pdC1tZXRlci1zaG9ydCI6Im0iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC11bml0LXNxa2lsb21ldGVyLXNob3J0Ijoia23CsiIsImxhbmd1YWdlLXRvb2xiYXItbmF2aWdhdGlvbi1wYW4tdG9vbHRpcCI6IkNhbmNlbCBhbnkgYWN0aXZlIHRvb2xzIGFuZCBwdXQgdGhlIG1hcCBpbnRvIHBhbiBtb2RlIiwibGFuZ3VhZ2UtY29tbW9uLWZlYXR1cmUtZWRpdGxvZy1kZXNjIjoiRGlzcGxheXMgaW5mb3JtYXRpb24gYWJvdXQgZWRpdGluZyBoaXN0b3J5IG9mIHRoZSBmZWF0dXJlIGxheWVyLiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LWRyYXdtb2RlLWxlZnQtYXJyb3ciOiJMZWZ0IEFycm93IiwibGFuZ3VhZ2UtbGF5ZXItc2VsZWN0b3ItZGVmYXVsdC1zZWxlY3QtYWxsLXRvb2x0aXAiOiJTZWxlY3QgYWxsIGxheWVycyIsImxhbmd1YWdlLW1hcC1sb2FkaW5nLXN0YWdlMyI6IlN0aWxsIHdvcmtpbmcuICBMb2FkaW5nIHswfSBtYXAgZGF0YS4uLiIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc2hhcmluZy10ZXh0LXNvbWUiOiJUaGlzIG9mZmxpbmUgbWFwIGlzIHNoYXJlZC4iLCJsYW5ndWFnZS1tYXAtbG9hZGluZy1zdGFnZTIiOiJTdGlsbCBsb2FkaW5nIHswfSBtYXAgZGF0YS4uLiIsImxhbmd1YWdlLWV4cG9ydC1tYXAtZGVzY3JpcHRpb24iOiJFeHBvcnQgYSBNYXAgSW1hZ2UiLCJsYW5ndWFnZS1tYXAtbG9hZGluZy1zdGFnZTEiOiJMb2FkaW5nIHswfSBtYXAgZGF0YS4uLiIsImxhbmd1YWdlLXByb2plY3QtY29uZmlybS1sb2FkLW92ZXJ3cml0ZSI6IlRoaXMgd2lsbCBvdmVyd3JpdGUgeW91ciBleGlzdGluZyBhcHBsaWNhdGlvbiBzdGF0ZS4iLCJsYW5ndWFnZS1zYXZlZC1yZXN1bHRzLWl0ZW0tcmVzdG9yZS1kZXNjcmlwdGlvbiI6IlJlc3RvcmUgc2F2ZWQgcmVzdWx0cyAnezB9JyBpbnRvIHRoZSByZXN1bHRzIHZpZXciLCJsYW5ndWFnZS1tZW51LXNob3ctcmVzdWx0cy1saXN0IjoiTGlzdCBWaWV3IiwibGFuZ3VhZ2UtbGF5ZXItY2F0YWxvZy1yZWZyZXNoIjoiQ2xpY2sgaGVyZSB0byByZWZyZXNoLiIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1lcnJvci1mZWF0dXJlLWVkaXRzIjoiVGhlcmUgd2FzIGFuIGVycm9yIGFwcGx5aW5nIGZlYXR1cmUgZWRpdHM6IHswfSIsImxhbmd1YWdlLWdyaWQiOiJHcmlkIiwibGFuZ3VhZ2UtdXBsb2FkLWRhdGEtZXJyb3ItcHVibGlzaC1nZW9kYXRhYmFzZS1uYW1lLXRha2VuLW1lc3NhZ2UiOiJDb3VsZCBub3QgcHVibGlzaCBiZWNhdXNlIHRoZSBmaWxlIG5hbWUgJ3swfScgaXMgYWxyZWFkeSBwcmVzZW50IG9uIHlvdXIgQXJjR0lTIE9ubGluZSBhY2NvdW50LiIsImxhbmd1YWdlLXVzZXItc2lnbmVkLWluLWFzIjoiWW91IGFyZSBzaWduZWQgaW4gYXM6IiwibGFuZ3VhZ2UtYnVmZmVyLXN0YXR1cy1tc2ciOiJCdWZmZXJpbmcgaW4gcHJvZ3Jlc3MgLi4uIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLXNob3ctY29vcmRpbmF0ZS1kZXNjIjoiVW5oaWRlIHRoaXMgY29vcmRpbmF0ZSBhbmQgc2hvdyBpdCBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWRyYXdpbmctdG9vbHMiOiJEcmF3IiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWRzay1wb2x5Z29uLXRvb2wta2V5Ym9hcmQiOiJVc2UgYXJyb3dzIHRvIG1vdmUgdGhlIHBvaW50LiBIaXQgRU5URVIgdG8gcGxvdCBhbmQgYmVnaW4gbW92aW5nIHRoZSBuZXh0IHBvaW50LiBIaXQgRU5URVIgdHdpY2UgdG8gZmluaXNoLiIsImxhbmd1YWdlLW9mZmxpbmUtdmlld2VyLXByb3Zpc2lvbmluZy1mYWlsZWQtc3RhdHVzNTAwIjoiVGhlIGRvd25sb2FkIG9mIHJlc291cmNlcyBmb3Igb2ZmbGluZSB1c2UgZmFpbGVkOiBUaGVyZSB3YXMgYW4gaW50ZXJuYWwgc2VydmVyIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLiIsImxhbmd1YWdlLW1lbnUtc2hvdy1jaGFydGluZy12aWV3IjoiQ2hhcnRpbmcgVmlldyIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tY2xlYXItZGVmYXVsdC1oaWdobGlnaHRzIjoiUmVtb3ZlcyB0aGUgaGlnaGxpZ2h0cyBmcm9tIHRoZSBkZWZhdWx0IGhpZ2hsaWdodCBsYXllci4iLCJsYW5ndWFnZS1uYXRpdmUtZmlsZS1zZWxlY3QtaGVhZGluZyI6IlBsZWFzZSBzZWxlY3QgYSBmaWxlIHRvIHVwbG9hZCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tY2hhbmdlLWVkaXQtbG9nLWVudHJ5IjoiQ2hhbmdlIGFuIGV4aXN0aW5nIGVkaXQgbG9nIGVudHJ5LiIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWZyZWVoYW5kLWRlc2MiOiJIb2xkIHRoZSBtb3VzZSBidXR0b24gb3IgeW91ciBmaW5nZXJ0aXAgZG93biwgdGhlbiBkcmF3IGEgZnJlZWhhbmQgbGluZS4iLCJsYW5ndWFnZS1sYWJlbE9wdGlvbnMtdW5kZXJsaW5lIjoiVW5kZXJsaW5lIiwibGFuZ3VhZ2UtbWFwLWNvb3JkaW5hdGVzLURETSI6IkRETSIsImxhbmd1YWdlLWxheWVyLWNhdGFsb2ctZm9sZGVyLW9wZW5lZCI6Ikdyb3VwIG9wZW5lZCIsImxhbmd1YWdlLWxvZy1jbGVhciI6IkNsZWFyIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLW5vLXRlbXBsYXRlcyI6Ik5vIHRlbXBsYXRlcyBhdmFpbGFibGUuIiwibGFuZ3VhZ2UtdGltZXNsaWRlci1zdG9wLXRpbWVsaW5lLWJ1dHRvbi1sYWJlbCI6IlN0b3AgVGltZWxpbmUiLCJsYW5ndWFnZS11aS10YWJsZS11bnNvcnRlZCI6IkNvbHVtbiBoZWFkZXIuIHswfSAtIFVuc29ydGVkIiwibGFuZ3VhZ2UtbWVudS1idWZmZXItaWRlbnRpZnktZmVhdHVyZS1kZXNjIjoiSWRlbnRpZnkgbmVhcmJ5IGZlYXR1cmVzIiwibGFuZ3VhZ2UtZmVhdHVyZS1hdHRhY2htZW50cy1maWxlLXNpemUiOiJCeXRlcyIsImxhbmd1YWdlLWxheWVyLWNhdGFsb2ctZm9sZGVyLXRvZ2dsZS1jbG9zZWQiOiJMYXllciBDYXRhbG9nIGdyb3VwIGNvbGxhcHNlZCIsImxhbmd1YWdlLXRpbWVzbGlkZXItc2V0dGluZ3MtdGltZS1pbnRlcnZhbC11bml0LXdlZWsiOiJXZWVrIiwibGFuZ3VhZ2UtcHJpbnRpbmctZW1haWwtbm90aWZpY2F0aW9uIjoiKGZvciBub3RpZmljYXRpb24gd2hlbiB0aGUgcHJpbnQgam9iIGlzIGNvbXBsZXRlKSIsImxhbmd1YWdlLXRvb2xiYXItZ3JvdXAtYXJjZ2lzIjoiQXJjR0lTIiwibGFuZ3VhZ2UtbGF5ZXItY2F0YWxvZy1mYWlsZWQtaXRlbXMtZXJyb3IiOiJUaGUgZm9sbG93aW5nIExheWVyIENhdGFsb2cgaXRlbXMgZmFpbGVkIHRvIGluaXRpYWxpemUuIFRoZXkgbWF5IGhhdmUgYmVlbiByZW5hbWVkIG9yIHlvdSBubyBsb25nZXIgaGF2ZSBzdWZmaWNpZW50IHBlcm1pc3Npb25zIHRvIGFjY2VzcyB0aGVzZSBpdGVtczogezB9IiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtcHJpbnRpbmciOiJQcmludGluZyB7MH0iLCJsYW5ndWFnZS1jb21tb24tZG9uZSI6IkRvbmUiLCJsYW5ndWFnZS1wcm9qZWN0cy1maWx0ZXItY2xlYXIiOiJDbGVhciB0aGUgUHJvamVjdCBmaWx0ZXIiLCJsYW5ndWFnZS1tZW51LWdsb2JhbC1zZWFyY2gtZGVzYyI6IlNlYXJjaCBmb3IgZmVhdHVyZXMgb24gdGhlIG1hcC4iLCJsYW5ndWFnZS1tZW51LWVudGVyLW9mZmxpbmUiOiJHbyB0byBvZmZsaW5lIG1vZGUiLCJsYW5ndWFnZS1tZW51LWNvbWJpbmUtcmVzdWx0cy1pbnRlcnNlY3QtZGVzYyI6Ik9ubHkgc2hvdyByZXN1bHRzIHRoYXQgYXJlIGluIGJvdGggeW91ciBjdXJyZW50IGxpc3QgYW5kIGEgc2F2ZWQgc2V0IG9mIHJlc3VsdHMiLCJsYW5ndWFnZS10b29sYmFyLWlkZW50aWZ5LXBvbHlnb24tZGVzYy1rZXlib2FyZCI6IlRvIGxlYXJuIHdoYXRcdTIwMTlzIHRoZXJlLCB1c2UgYXJyb3dzIHRvIG1vdmUgdGhlIHBvaW50LiBIaXQgRU5URVIgdG8gcGxvdCBhbmQgYmVnaW4gbW92aW5nIHRoZSBuZXh0IHBvaW50LiBIaXQgRU5URVIgdHdpY2UgdG8gZmluaXNoLiIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1hY3Rpb25zLXRvb2x0aXAiOiJDbGljayB0byBzZWUgYWN0aW9ucyBhdmFpbGFibGUgZm9yIHRoaXMgY29vcmRpbmF0ZSIsImxhbmd1YWdlLXVwbG9hZGVyLWVycm9yLXVua25vd24tdGl0bGUiOiJVcGxvYWQgRXJyb3IiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctY3JlYXRlLWVkaXQtY3VycmVudC1sb2NhdGlvbi1kZXNjcmlwdGlvbiI6IkhvdyB3b3VsZCB5b3UgbGlrZSB0byBzZWxlY3QgeW91ciBmZWF0dXJlJ3MgbG9jYXRpb24/IiwibGFuZ3VhZ2UtY2FwdHVyZS1nZW9tZXRyeS1tdWx0aS1wb2ludF90b29sdGlwIjoiU2VsZWN0IHVzaW5nIG11bHRpcGxlIHBvaW50cyIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1jb29yZGluYXRlLXN5c3RlbS1zZWxlY3RvciI6IlNlbGVjdCBDb29yZGluYXRlIFN5c3RlbSIsImxhbmd1YWdlLWxheWVyLWFkZGl0aW9uLXNlYXJjaC1kZXNjcmlwdGlvbiI6IlNlYXJjaCBmb3IgYSBtYXAgc2VydmljZSBvciB0eXBlIGluIGEgdmFsaWQgbWFwIHNlcnZlciBVUkwuIiwibGFuZ3VhZ2Utc2F2ZWQtcmVzdWx0cy1kZWxldGUtcHJvbXB0IjoiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHBlcm1hbmVudGx5IGRlbGV0ZSB0aGUgc2F2ZWQgcmVzdWx0cz8iLCJsYW5ndWFnZS1vZmZsaW5lLXByb3Zpc2lvbmluZy1zZWN1cmUtc2l0ZS1lcnJvciI6IkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHNhdmluZyB0aGUgc2VjdXJlIHZlcnNpb24gb2YgdGhlIFNpdGU6IHswfSIsImxhbmd1YWdlLW1lYXN1cmVtZW50LW1lYXN1cmUtYXJlYS10b29sLXN0YXR1cy1rZXlib2FyZCI6IlVzZSBhcnJvd3MgdG8gbW92ZSB0aGUgcG9pbnQuIEhpdCBFTlRFUiB0byBwbG90IGFuZCBiZWdpbiBtb3ZpbmcgdGhlIG5leHQgcG9pbnQuIEhpdCBFTlRFUiB0d2ljZSB0byBmaW5pc2guIiwibGFuZ3VhZ2UtY29tbW9uLXNhdmluZyI6IlNhdmluZy4uLiIsImxhbmd1YWdlLWNhcHR1cmUtZ2VvbWV0cnktcmVjdGFuZ2xlX3Rvb2x0aXAiOiJTZWxlY3QgYnkgcmVjdGFuZ2xlIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbGVuZ3RoLXNlbGVjdCI6IlNlbGVjdCBsZW5ndGggdW5pdCIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXZpc2libGUtZmVhdHVyZS11bmNoYW5nZWQiOiJ1bmNoYW5nZWQuIiwibGFuZ3VhZ2UtcmFzdGVySWRlbnRpZnktY2F0YWxvZ0l0ZW0tbGFiZWxGb3JtYXQiOiJDYXRhbG9nOiB7MH0sIHsxfSIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1nZW9tZXRyeS1tdWx0aS1wb2ludCI6Ik1vdmUgdGhlIHNlbGVjdGVkIHBvaW50cyBieSBob2xkaW5nIGRvd24gYW5kIGRyYWdnaW5nLiBSZWxlYXNlIHRvIHN0b3AiLCJsYW5ndWFnZS1tZW51LWNlbnRlci1tYXAiOiJDZW50ZXIgdGhlIE1hcCBIZXJlIiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWV4dHJhLWxhcmdlIjoiRXh0cmEtTGFyZ2UiLCJsYW5ndWFnZS1tYXJrdXAtYWRkLXRleHQiOiJUeXBlIHRoZSB0ZXh0IHlvdSB3YW50IHRvIGFkZCBhdCB0aGlzIGxvY2F0aW9uIG9uIHRoZSBtYXAuIiwibGFuZ3VhZ2UtdG9vbGJhci1idWZmZXJpbmctZW5hYmxlIjoiRW5hYmxlIGJ1ZmZlcmluZyIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1oaWRlLWFsbC1jb29yZGluYXRlcyI6IkhpZGUgQWxsIENvb3JkaW5hdGVzIiwibGFuZ3VhZ2UtbGF5ZXItY2F0YWxvZy1ub3QtZmluaXNoZWQiOiJNb3JlIGNhdGFsb2cgbGF5ZXJzIGFyZSBleHBlY3RlZCBzaG9ydGx5LiIsImxhbmd1YWdlLWlkZW50aWZ5LXJlY3RhbmdsZS10b29sIjoiRHJhZyBvbiB0aGUgbWFwIHRvIGRyYXcgYSByZWN0YW5nbGUuIiwibGFuZ3VhZ2UtbWVudS1leHBvcnQtcmVzdWx0cy10by1jc3YiOiJFeHBvcnQgdG8gQ1NWIiwibGFuZ3VhZ2UtY29tbW9uLWZlYXR1cmUtdGVtcGxhdGUtcGlja2VyLWRlc2MiOiJTZWxlY3QgYSBmZWF0dXJlIHR5cGUuIiwibGFuZ3VhZ2Utd29ya2Zsb3ctbm9uZS1hdmFpbGFibGUiOiJObyB0YXNrcyBhdmFpbGFibGUuIiwibGFuZ3VhZ2Utd29ya2Zsb3ctb2ZmbGluZS10aXRsZSI6IldvcmtmbG93IE5vdCBBdmFpbGFibGUiLCJsYW5ndWFnZS1maWxlLXBpY2tlci1ub3Qtc3VwcG9ydGVkIjoiVGhlIGZpbGUgcGlja2VyIGlzIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBicm93c2VyLiIsImxhbmd1YWdlLXNpdGUtbG9nLW9uLXJlcXVpcmVkLWVycm9yIjoiWW91IG11c3QgbG9nIG9uIHRvIGFjY2VzcyB0aGlzIGFwcGxpY2F0aW9uLiIsImxhbmd1YWdlLXRpbWVzbGlkZXItc2V0dGluZ3MtdGltZXNsaWRlci1tb2RlLWN1bXVsYXRpdmUiOiJDdW11bGF0aXZlIEZyb20gU3RhcnQiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctaW52YWxpZC1udW1iZXIiOiJ7MH0gbXVzdCBiZSBhIHZhbGlkIG51bWJlciBiZXR3ZWVuIHsxfSBhbmQgezJ9LiIsImxhbmd1YWdlLWxheWVyLWNhdGFsb2ctc2hvdy1zZWxlY3RlZC1idXR0b24iOiJTaG93IFNlbGVjdGVkIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1zZXQtaGlnaGxpZ2h0LWZpbGwtY29sb3IiOiJTZXRzIHRoZSBmaWxsIGNvbG9yIHVzZWQgZm9yIG5ldyBoaWdobGlnaHRzLCBzcGVjaWZpZWQgaW4gNiBvciA4IGRpZ2l0IGhleCBpbiBSR0Igb3IgQVJHQiBmb3JtLiIsImxhbmd1YWdlLWxheWVyLWNhdGFsb2ctaG9tZS10ZXh0IjoiTGF5ZXIgQ2F0YWxvZyIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItdGl0bGUiOiJFZGl0IE9mZmxpbmUgTWFwIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1mZWF0dXJlLWxheWVyLWNsZWFyLWNhY2hlLXNwZWMiOiJTcGVjaWZ5IHRoaXMgbGF5ZXIgYXMgbm90IHRvIGJlIGNhY2hlZCBvbiBuZXh0IHN5bmMuIiwibGFuZ3VhZ2UtY29tcGFjdC10b29sYmFyLW1vcmUtdG9vbHMiOiJWaWV3IE1vcmUgVG9vbHMiLCJsYW5ndWFnZS10aW1lc2xpZGVyLXJhbmdlLW1vZGUtbWF4LWhhbmRsZS1hcmlhLWxhYmVsIjoiVGltZSBzbGlkZXIgZW5kIHRpbWUgaGFuZGxlLiIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLWVycm9yLXVuYXV0aG9yaXplZC10by1wdWJsaXNoLW1lc3NhZ2UiOiJZb3UgZG8gbm90IGhhdmUgc3VmZmljaWVudCBwcml2aWxlZ2VzIHRvIHB1Ymxpc2ggbGF5ZXJzIHRvIEFyY0dJUyBPbmxpbmUuIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtY2hhbmdlLW1hcmt1cC1zdHlsZSI6IlN0eWxlcyIsImxhbmd1YWdlLW1hcC1vcGVyYXRpb24tcHJvamVjdC1mYWlsZWQiOiJUaGlzIG9wZXJhdGlvbiBmYWlsZWQgYmVjYXVzZSBvZiBhIHByb2plY3Rpb24gZXJyb3IuIiwibGFuZ3VhZ2UtbWVudS1mb290ZXItbWVudS1kZXNjIjoiRm9vdGVyIE1lbnUiLCJsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LWxpbmtzLXJlbW92ZS1idXR0b24tdGl0bGUiOiJSZW1vdmUgbGluayIsImxhbmd1YWdlLW1lYXN1cmVtZW50LW1lYXN1cmUtZnJlZWhhbmQtbGluZS10b29sLXRvb2x0aXAiOiJEcmF3IGEgZnJlZWhhbmQgbGluZSB0byBtZWFzdXJlIGEgZGlzdGFuY2UiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1mcmVlaGFuZC1wb2x5Z29uLXRvb2x0aXAiOiJEcmF3IGEgZnJlZWhhbmQgc2hhcGUgb24gdGhlIG1hcCIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1tdWx0aS1mZWF0dXJlLXNlbGVjdG9yLWVycm9yLW1lc3NhZ2UiOiJZb3UgbXVzdCBzZWxlY3QgYSBmZWF0dXJlIHRvIGNvbnRpbnVlIiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLXNwYXRpYWwtZmlsdGVyLWN1cnJlbnQtZXh0ZW50IjoiQ3VycmVudCBFeHRlbnQiLCJsYW5ndWFnZS1tZW51LWFkZC10ZXh0LWRlc2MiOiJBZGQgc29tZSB0ZXh0IHRvIHRoZSBtYXAuIiwibGFuZ3VhZ2UtaGVhdC1tYXBzLWludGVuc2l0eS1zbGlkZXItaW50ZW5zaXR5IjoiaGVhdCBtYXAgaW50ZW5zaXR5IiwibGFuZ3VhZ2UtYnVmZmVyLXVuaXQtbWV0ZXItZGlzcGxheS1uYW1lIjoiTWV0ZXJzIChtKSIsImxhbmd1YWdlLXByb2plY3QtZWRpdG9yLWRlc2NyaXB0aW9uLWxhYmVsIjoiRGVzY3JpcHRpb24iLCJsYW5ndWFnZS1tZW51LW9mZmxpbmUtbWFwLWVkaXRvci1nZW9tZXRyeS1hY3Rpb25zLWN1cnJlbnRleHRlbnQtZGVzYyI6IlVzZSB0aGUgY3VycmVudCBleHRlbnQgZm9yIHRoZSBhcmVhIG9mIGludGVyZXN0IGdlb21ldHJ5LiIsImxhbmd1YWdlLXRvb2xiYXItc25hcHBpbmctc2VsZWN0LWxheWVycyI6IlNlbGVjdCBTbmFwcGluZyBMYXllcnMiLCJsYW5ndWFnZS10b29sYmFyLWlkZW50aWZ5LWZyZWVoYW5kLXBvbHlnb24iOiJGcmVlaGFuZCBTaGFwZSBJZGVudGlmeSIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1zZWxlY3RlZC1sYXllciI6IlNlbGVjdGVkIEZlYXR1cmUgTGF5ZXIiLCJsYW5ndWFnZS1tYXAtdGlwLWZlYXR1cmUtbmV4dCI6Ik5leHQiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1wb2x5bGluZS10b29sdGlwIjoiRHJhdyBhIGxpbmUgb24gdGhlIG1hcCIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXdvcmtmbG93LWxpc3QiOiJXb3JrZmxvdyBMaXN0IHswfSIsImxhbmd1YWdlLW1lbnUtcmVtb3ZlLXVzZXItYWRkZWQtbGF5ZXIiOiJSZW1vdmUgbGF5ZXIiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1jaXJjbGUiOiJDaXJjbGUiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctZHNrLXBvbHlnb24tdG9vbCI6IkNsaWNrIG9yIHRhcCBvbiB0aGUgbWFwIHRvIGFkZCBwb2ludHMgdG8gYSBwb2x5Z29uLiBEb3VibGUgY2xpY2svdGFwIHRvIHN0b3AiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC11bml0LW1pbGUiOiJNaWxlcyAobWkpIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLW1hbmFnZS1zaG93aW5nLW9ubGluZS1tYXAiOiJTaG93aW5nIG9ubGluZSBtYXAgZGF0YSB3aGlsZSBtYW5hZ2luZyBvZmZsaW5lIG1hcHMuIiwibGFuZ3VhZ2UtZmVhdHVyZS1jaGFydHMiOiJDaGFydHMiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1jcmVhdGUtb3ItZWRpdCI6IkNyZWF0ZSBvciBFZGl0IHswfSIsImxhbmd1YWdlLXRpbWVzbGlkZXItc2V0dGluZ3MtY29udGFpbnMtZXJyb3JzIjoiVGhlcmUgYXJlIGVycm9ycyBpbiB5b3VyIGNvbmZpZ3VyZWQgc2V0dGluZ3MuIiwibGFuZ3VhZ2UtY29tbW9uLWZlYXR1cmUtdGVtcGxhdGUtcGlja2VyIjoiQ3JlYXRlIE5ldyBGZWF0dXJlIiwibGFuZ3VhZ2UtbWFwc2VydmljZS1hY3Rpb25zIjoiUGVyZm9ybSBhbiBhY3Rpb24gb24gezB9IiwibGFuZ3VhZ2UtY3VycmVudF9leHRlbnRfdG9vbHRpcCI6IlVzZSB0aGUgY3VycmVudCBtYXAgYXJlYSIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtZXhwb3J0dGlsZXMtcmVmcmVzaC1sYWJlbCI6IkRheXMgQmV0d2VlbiBSZWZyZXNoOiIsImxhbmd1YWdlLXNoYXJlLXByb2plY3QtbGlua3MtZWRpdC1sYWJlbCI6IkVkaXQgTGluayAoc2lnbi1pbiByZXF1aXJlZCkiLCJsYW5ndWFnZS1tZW51LXJ1bi13b3JrZmxvdy1kZXNjIjoiU2VsZWN0IGZyb20gYSBsaXN0IG9mIGF2YWlsYWJsZSB0YXNrcy4iLCJsYW5ndWFnZS10b29sYmFyLWdyb3VwLWxheWVycyI6IkxheWVycyIsImxhbmd1YWdlLW5hdGl2ZS1vZmZsaW5lLWZpbGUtdXBsb2FkIjoiSFRNTCBWaWV3ZXIgaXMgaW4gb2ZmbGluZSBtb2RlLiBBdHRhY2htZW50IHdpbGwgYmUgdXBsb2FkZWQgd2hlbiBjb25uZWN0ZWQuIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLWFkZC1hbm90aGVyLWNvb3JkaW5hdGUiOiJBZGQgQW5vdGhlciBDb29yZGluYXRlIiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLW9wZXJhdG9yLWVxdWFscyI6Ij0iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1kcmF3bW9kZS1lbGxpcHNlIjoiRWxsaXBzZSIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1tYmwtcG9seWxpbmUtdG9vbCI6IlRhcCBvbiB0aGUgbWFwIHRvIGFkZCBwb2ludHMgdG8gYSBsaW5lLiIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLWVycm9yLW11c3QtYmUtc2lnbmVkLWluLXRvLXB1Ymxpc2gtZ2VvZGF0YWJhc2UiOiJTaWduIGluIHRvIFB1Ymxpc2giLCJsYW5ndWFnZS1vZmZsaW5lLWJ1bmRsZS1pbmRleC1lcnJvciI6IlRoZXJlIHdhcyBhbiBlcnJvciBzYXZpbmcgdGhlIGluZGV4IGZvciBvZmZsaW5lIGRhdGEuIFlvdSBtYXkgYmUgb3V0IG9mIHNwYWNlLiBFcnJvcjogezB9IiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtY29tcGFjdC10b29sYmFyLXZpZXciOiJDb21wYWN0VG9vbGJhclZpZXciLCJsYW5ndWFnZS10b29sYmFyLW1lbnUtZ2xvYmFsLW9wZW4iOiJPcGVuIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLW1ibC1wb2x5Z29uLXRvb2wiOiJUYXAgb24gdGhlIG1hcCB0byBhZGQgcG9pbnRzIHRvIGEgcG9seWdvbi4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1yZXN1bHRzLWZpZWxkLWxlbmd0aCI6Ikxlbmd0aCIsImxhbmd1YWdlLXRvb2xiYXItbmF2aWdhdGlvbi1mdWxsLWV4dGVudCI6IkZ1bGwgRXh0ZW50IiwibGFuZ3VhZ2UtdG9vbGJhci1ncm91cC1lZGl0LWZlYXR1cmVzIjoiRWRpdCBGZWF0dXJlcyIsImxhbmd1YWdlLWxheWVyLWRldGFpbHMtcHVibGlzaCI6IlB1Ymxpc2ggdGhpcyBsYXllciB0byBBcmNHSVMgT25saW5lIiwibGFuZ3VhZ2UtZmVhdHVyZS1kZXRhaWxzLWF0dGFjaG1lbnQtbm90LWF2YWlsYWJsZS1vZmZsaW5lIjoiVGhpcyBhdHRhY2htZW50IGlzIG5vdCBhdmFpbGFibGUgb2ZmbGluZS4iLCJsYW5ndWFnZS1jb21tb24tcmVzdWx0cy11bmlvbi1jb25maXJtYXRpb24iOiInezB9JyB1bmlvbmVkIHdpdGggezF9IiwibGFuZ3VhZ2UtbWVudS1wcm9qZWN0LWFjdGlvbnMtZGVzYyI6IlZpZXcgb3B0aW9ucyByZWxhdGVkIHRvIHRoZSBwcm9qZWN0LiIsIi8vZGF0ZXBpY2tlci5yZWdpb25hbC5oZWxwIjoiQ29weSBzZXR0aW5ncyBmcm9tIG9uZSBvZiB0aGUgZmlsZXMgaW4gaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnktdWkvdHJlZS9tYXN0ZXIvdWkvaTE4biIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1pbnZhbGlkLWRlY2ltYWwiOiJ7MH0gbXVzdCBiZSBhIHZhbGlkIGRlY2ltYWwgbnVtYmVyLiIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXBvbHlnb24tZGVzYyI6IkNsaWNrIG9yIHRhcCBsb2NhdGlvbnMgdG8gZGVmaW5lIGEgcG9seWdvbi4gRG91YmxlLWNsaWNrL3RhcCB0byBmaW5pc2guIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtZWRpdC1sb2ctdmlldyI6IlN5bmMgT2ZmbGluZSBEYXRhIHswfSIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtZXhwb3J0dGlsZXMtbGV2ZWwiOiJEZXRhaWwgTGV2ZWxzOiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LWRyYXdtb2RlLWFycm93IjoiQXJyb3ciLCJsYW5ndWFnZS1idWZmZXItZXJyb3ItZGV0YWlscy11bmF2YWlsYWJsZSI6IkVycm9yIGRldGFpbHMgdW5hdmFpbGFibGUuIiwibGFuZ3VhZ2UtcHJvamVjdC1wcm9qZWN0cy10aXRsZSI6IlByb2plY3RzIiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLXNpbXBsZS1maWx0ZXItdGl0bGUiOiJGaWx0ZXIiLCJsYW5ndWFnZS1wcm9tcHQtZGVmYXVsdC10aXRsZSI6IlByb21wdCIsImxhbmd1YWdlLXJ1bi1yZXBvcnQtZXJyb3ItbWVzc2FnZS1nZW5lcmljIjoiQW4gZXJyb3Igb2NjdXJyZWQgd2hlbiBhdHRlbXB0aW5nIHRvIHJ1biB5b3VyIHJlcG9ydC4iLCJsYW5ndWFnZS1zZWFyY2gtcGxhY2Vob2xkZXIiOiJTZWFyY2guLi4iLCJsYW5ndWFnZS1zYXZlZC1yZXN1bHRzLWl0ZW0tZGVsZXRlLWRlc2NyaXB0aW9uIjoiRGVsZXRlIHNhdmVkIHJlc3VsdHMgJ3swfSciLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXVwZGF0ZS1hdHRhY2htZW50IjoiVXBkYXRlcyBhIGZlYXR1cmUgYXR0YWNobWVudC4iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctdW5kb2FibGUtYWRkIjoiQWRkIEZlYXR1cmVzIiwibGFuZ3VhZ2UtcGFnaW5nLXBhZ2Utb2YiOiJPZiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXVuaXQtc3F5YXJkLXNob3J0IjoieWTCsiIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1tdWx0aS1mZWF0dXJlLXNlbGVjdG9yLW1lc3NhZ2UiOiJTZWxlY3QgYSBmZWF0dXJlIHRvIGVkaXQiLCJsYW5ndWFnZS1uby1wcmludC10ZW1wbGF0ZSI6Ik5vIHByaW50IHRlbXBsYXRlcyBhcmUgY29uZmlndXJlZCBmb3IgdGhpcyBzaXRlLiIsImxhbmd1YWdlLWJ1ZmZlci10YXJnZXQtbW9kdWxlcy1lcnJvciI6InswfTogVGFyZ2V0IG1vZHVsZXMgbm90IHNldC4gUGxlYXNlIGNoZWNrIHlvdXIgY29uZmlndXJhdGlvbi4iLCJsYW5ndWFnZS1sYXllci1zZWxlY3Rvci1pZGVudGlmeS1jbGVhci1hbGwtdG9vbHRpcCI6IkNsZWFyIGFsbCBpZGVudGlmaWFibGUgbGF5ZXJzIiwibGFuZ3VhZ2UtbWFwLWNvb3JkaW5hdGVzLURNUyI6IkRNUyIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWVkaXQtdG9vbHRpcCI6IkVkaXQgYW4gZXhpc3RpbmcgZHJhd2luZyIsImxhbmd1YWdlLW1lYXN1cmVtZW50LWRyYXdtb2RlLXBvbHlnb24iOiJQb2x5Z29uIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1yZW1vdmUtZmVhdHVyZS1zZXQtY29sbGVjdGlvbi1ieS1pZCI6IlJlbW92ZXMgdGhlIHNwZWNpZmllZCBjb2xsZWN0aW9uIGZyb20gdGhlIGZlYXR1cmUgc2V0IG1hbmFnZXIuIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLW1pbnV0ZXMtdGl0bGUiOiJNaW51dGVzIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWRlbGV0ZS13aXRoLXJlbGF0aW9uLWZvcmJpZGRlbiI6IlRoaXMgZmVhdHVyZSBpcyByZWxhdGVkIHRvIG90aGVycyBhbmQgY2Fubm90IGJlIGRlbGV0ZWQgdW50aWwgdGhlIHJlbGF0ZWQgcmVjb3JkcyBhcmUgZGVsZXRlZC4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC11bml0LXNxbmF1dGljYWxtaWxlIjoiTmF1dGljYWwgTWlsZcKyIChOTcKyKSIsImxhbmd1YWdlLXRvb2xiYXItdGFza3Mtc2hhcmUtdG9vbHRpcCI6IlNoYXJlIHRoZSBjdXJyZW50IG1hcCBvbiB0aGUgbW9zdCBjb21tb24gc29jaWFsIG1lZGlhIiwibGFuZ3VhZ2UtbWVudS12aXN1YWxpemF0aW9uIjoiVHVybiBvbi9vZmYgbGF5ZXIgdmlzdWFsaXphdGlvbnMiLCJsYW5ndWFnZS1lbnRlci1vbmxpbmUtZGVzYyI6IkdvIHRvIG9ubGluZSBtb2RlIGFuZCB2aWV3IGxpdmUgbWFwIGRhdGEgZnJvbSB0aGUgd2ViLiIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXBvbHlnb24tdG9vbHRpcCI6IkRyYXcgYSBjdXN0b20gc2hhcGUgb24gdGhlIG1hcCIsImxhbmd1YWdlLXNhdmVkLXJlc3VsdHMtY3JlYXRlLWNvbmZpcm1hdGlvbiI6InsxfSBmZWF0dXJlcyBhZGRlZCB0byBzYXZlZCByZXN1bHRzICd7MH0nIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtZWRpdC1kZXNjLWtleWJvYXJkIjoiVXNlIGFycm93cyB0byBtb3ZlIHRoZSBwb2ludC4gSGl0IEVOVEVSIHRvIGJlZ2luIGVkaXRpbmcgYW4gZXhpc3RpbmcgZHJhd2luZy4iLCJsYW5ndWFnZS10b29sYmFyLWJ1ZmZlci10b2dnbGUtdG9vbHRpcCI6IkJ1ZmZlciBhbiBhcmVhIGFyb3VuZCB5b3VyIHNlbGVjdGlvbiIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc3RhdHVzLWFsdC1lcnJvciI6IlggaWNvbiBpbnNpZGUgYSByZWQgY2lyY2xlIiwibGFuZ3VhZ2UtcHJvamVjdC1jb25maXJtLXNoYXJlLXB1YmxpYy10aXRsZSI6IlNoYXJlIFByb2plY3QiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1zaGFyZSI6IlNoYXJlIHswfSIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWVkaXQtZmVhdHVyZSI6IkVkaXQgRmVhdHVyZSB7MH0iLCJsYW5ndWFnZS1ydW4tcmVwb3J0LWVycm9yLXRpdGxlIjoiUmVwb3J0IEVycm9yIiwibGFuZ3VhZ2UtbWVudS1pZGVudGlmeS1mcmVlaGFuZC1kZXNjIjoiRHJhdyBhIHNoYXBlIHRvIHZpZXcgaW5mb3JtYXRpb24gYWJvdXQgdGhhdCBhcmVhLiIsImxhbmd1YWdlLWF1dGgtdGl0bGUiOiJBdXRoZW50aWNhdGlvbiBSZXF1aXJlZCIsImxhbmd1YWdlLXNoYXJlLXByb2plY3QtbGlua3MtZGVzY3JpcHRpb24iOiJHdWVzdCBsaW5rcyBhbGxvdyB1c2VycyB3aG8gYXJlIG5vdCBhc3NpZ25lZCBwcm9qZWN0IHByaXZpbGVnZXMgdG8gYWNjZXNzIHRoZSBwcm9qZWN0LiIsImxhbmd1YWdlLW9mZmxpbmUtdmlld2VyLXByb3Zpc2lvbmluZy1mYWlsZWQiOiJUaGUgZG93bmxvYWQgb2YgcmVzb3VyY2VzIGZvciBvZmZsaW5lIHVzZSBmYWlsZWQuIiwibGFuZ3VhZ2UtbWVudS1hZGQtdGV4dCI6IkFkZCBTb21lIFRleHQiLCJsYW5ndWFnZS1sYXllci1jYXRhbG9nLXVzZXItYWRkZWQtbGF5ZXJzLWZvbGRlci10aXRsZSI6IlVzZXIgQWRkZWQgTGF5ZXJzIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWNyZWF0ZS1yZWxhdGVkLWZlYXR1cmUiOiJDcmVhdGUgYSBuZXcgcmVsYXRlZCB7MH0gcmVjb3JkIiwibGFuZ3VhZ2UtbGF5ZXItYWRkaXRpb24tc3ViLWxheWVycy10aXRsZSI6IkF2YWlsYWJsZSBTdWItbGF5ZXJzIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWVycm9yLW5vLW1hcHNlcnZpY2UiOiJUaGUgZmVhdHVyZSBpcyBub3QgYXNzb2NpYXRlZCB3aXRoIGFueSBrbm93biBtYXAgc2VydmljZS4iLCJsYW5ndWFnZS1zbmFwcGluZy1kZWFjdGl2YXRlZCI6IlNuYXBwaW5nIGRlYWN0aXZhdGVkIiwibGFuZ3VhZ2UtbWVudS16b29tLWluaXRpYWwtZXh0ZW50LWRlc2MiOiJSZXR1cm4gdG8gdGhlIGluaXRpYWwgbWFwIHBvc2l0aW9uIGFuZCB6b29tIGxldmVsLiIsImxhbmd1YWdlLWNvbW1vbi1xdWVyeS1yZXN1bHRzIjoiUXVlcnkgUmVzdWx0cyIsImxhbmd1YWdlLWJvb2ttYXJrcy1tYXAtc2NhbGUiOiJNYXAgU2NhbGU6IDE6IiwibGFuZ3VhZ2UtbWFwLXNpdGUtYXV0aG9yaXphdGlvbi1mYWlsZWQiOiJBY2Nlc3MgRGVuaWVkLiIsImxhbmd1YWdlLXRhYmxlLW1hcHBpbmctbG9jYXRpb24tdHlwZS1jb29yZGluYXRlcyI6IlNwYXRpYWwgQ29vcmRpbmF0ZXMiLCJsYW5ndWFnZS1jbGVhci1zdG9yYWdlLXZpZXctZGVzY3JpcHRpb24iOiJDbGVhciBhbGwgb2ZmbGluZSBkYXRhIGZvcjoiLCJsYW5ndWFnZS1wcm9qZWN0cy1zb3J0LWNyZWF0ZWRieS1kaXNwbGF5LW5hbWUiOiJDcmVhdGVkIEJ5IiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLWxhYmVsLWZvcm1hdCI6InswfTogezF9XG57Mn06IHszfSIsImxhbmd1YWdlLXNoZWxsLWRhdGFmcmFtZS1yZXNpemUiOiJEcmFnIHRvIHJlc2l6ZSB0aGUgcGFuZWwiLCJsYW5ndWFnZS1mZWF0dXJlLWxvYWRpbmctcmVsYXRlZC1mZWF0dXJlcyI6IkxvYWRpbmcgcmVsYXRlZCBmZWF0dXJlcy4uLiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tbWFwLXJlc2l6ZSI6IlRlbGxzIHRoZSBtYXAgY29udHJvbCB0byByZXNpemUgaXRzZWxmLiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgYWZ0ZXIgYWx0ZXJpbmcgdGhlIG1hcCBjb250YWluZXIncyBkaW1lbnNpb25zLiIsImxhbmd1YWdlLW1lbnUtb2ZmbGluZS1tYXAtZWRpdG9yLWdlb21ldHJ5LWFjdGlvbnMtZnJlZWhhbmRwb2x5Z29uLWRlc2MiOiJEcmF3IGEgZnJlZWhhbmQgcG9seWdvbiBmb3IgdGhlIGFyZWEgb2YgaW50ZXJlc3QgZ2VvbWV0cnkuIiwibGFuZ3VhZ2UtaGVhdC1tYXBzLW5vbmUiOiJOb25lIiwibGFuZ3VhZ2UtbGF5ZXItYWRkaXRpb24tYXJjZ2lzLW9ubGluZS1uYW1lIjoiQXJjR0lTIE9ubGluZSIsImxhbmd1YWdlLWJ1ZmZlci1hY3RpdmUtdG9vbC1hZGRvbi1tZXNzYWdlIjoiTm90ZTogQnVmZmVyaW5nIGlzIGFjdGl2ZS4gQSBidWZmZXIgb2YgezB9IHsxfSB3aWxsIGJlIGFwcGxpZWQuIiwibGFuZ3VhZ2UtYmFzZW1hcC1zd2l0Y2hlci12aWV3LWRlc2NyaXB0aW9uIjoiU2VsZWN0IG9uZSBvZiB0aGUgYXZhaWxhYmxlIGJhc2VtYXBzIiwibGFuZ3VhZ2UtZmVhdHVyZS1jb29yZGluYXRlcy10b2dnbGUtYnV0dG9uIjoiT3BlbiBhbmQgY2xvc2UgY29vcmRpbmF0ZXMgd2lkZ2V0IiwibGFuZ3VhZ2UtY29tbW9uLXZpZXctbG9nIjoiVmlldyBMb2ciLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1wb2x5Z29uLXByZWRpY3RpdmUtbWFya3VwLWxhYmVsIjoiQ3VycmVudDogezB9IHsxfVxuQXJlYTogezJ9IHszfVxuUGVyaW1ldGVyOiB7NH0gezV9IiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1sYXllcnMtbnVtZmVhdHVyZXMtdW5rbm93biI6InVua25vd24iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXNldC1lZGl0LWxvZyI6IlNldHMgdGhlIGVkaXQgbG9nLCBwYXNzaW5nIGl0IGludG8gYSBjYWxsYmFjay4gSWYgYW4gZXJyb3Igb2NjdXJzLCB0aGUgZXJyb3IgaXMgcGFzc2VkIGludG8gdGhlIGNhbGxiYWNrLiIsImxhbmd1YWdlLXRvb2xiYXItbmF2aWdhdGlvbi1pbml0aWFsLWV4dGVudCI6IkluaXRpYWwgVmlldyIsImxhbmd1YWdlLWxhYmVsT3B0aW9ucy1iZWxvdy1iZWZvcmUiOiJiZWxvdy1iZWZvcmUiLCJsYW5ndWFnZS1jb21tb24tZXh0cmFjdC1kYXRhIjoiRXh0cmFjdCBEYXRhIiwibGFuZ3VhZ2UtcHJvamVjdC1jb25maXJtLXN0b3Atc2hhcmluZy10aXRsZSI6IlN0b3AgU2hhcmluZyBQcm9qZWN0IiwibGFuZ3VhZ2UtdGFiLXNjcm9sbC1wcmV2IjoiUHJldmlvdXMgVGFiIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtcG9seWxpbmUtcHJlZGljdGl2ZS1tYXJrdXAtbGFiZWwiOiJDdXJyZW50OiB7MH0gezF9XG5Ub3RhbDogezJ9IHszfSIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXBvbHlsaW5lIjoiTGluZSIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1kYXRhLXNvdXJjZSI6IkRhdGEgU291cmNlOiIsImxhbmd1YWdlLXNhdmVkLXJlc3VsdHMtbm8tbmFtZS1lcnJvciI6Ik5vIG5hbWUgZW50ZXJlZC4gJ3swfScgd2FzIG5vdCBjaGFuZ2VkLiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tc2hvdy1tYXAtZWxlbWVudCI6IkRpc3BsYXlzIGFuIGVsZW1lbnQgYW5jaG9yZWQgdG8gYSBzcGVjaWZpYyBwb2ludCBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLXRvb2xiYXItZ3JvdXAtdGFza3MiOiJUYXNrcyIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWlkZW50aWZpYWJsZS1sYXllcnMiOiJJZGVudGlmaWFibGUgTGF5ZXJzIHswfSIsImxhbmd1YWdlLWludGVncmF0aW9uLW5vLWl0ZW1zIjoiTm8gaXRlbXMgdG8gZGlzcGxheSIsImxhbmd1YWdlLWZlYXR1cmUtY29vcmRpbmF0ZXMtV0tJRCI6IldLSUQiLCJsYW5ndWFnZS11cGxvYWRlci1sZWdhY3ktYnV0dG9uLWFkZC1pbnB1dCI6IkFkZCBpbnB1dCIsImxhbmd1YWdlLXByb2plY3QtY29uZmlybS1zaGFyZS1wdWJsaWMtZWRpdC1kZXNjcmlwdGlvbiI6IkFyZSB5b3Ugc3VyZSB5b3Ugd2lzaCB0byBzaGFyZSBwcm9qZWN0IFwiezB9XCIgcHVibGljbHk/IFVzZXJzIGNvdWxkIGJlIGFsbG93ZWQgdG8gdmlldyBvciBlZGl0IHRoaXMgcHJvamVjdCB3aXRob3V0IHNpZ25pbmcgaW4uIiwibGFuZ3VhZ2UtbW9udGhzLTExIjoiRGVjZW1iZXIiLCJsYW5ndWFnZS1tb250aHMtMTAiOiJOb3ZlbWJlciIsImxhbmd1YWdlLWxheWVybGlzdC1leHBhbmQiOiJDb2xsYXBzZSBvciBleHBhbmQgezB9IGxheWVyIGdyb3VwIiwibGFuZ3VhZ2UtbGF5ZXItZGV0YWlscy1kaWFsb2ctYnV0dG9uLWNhbmNlbCI6IkNhbmNlbCIsImxhbmd1YWdlLXRvb2xiYXItdGFiLWZpbGUiOiJGaWxlIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLW5vLWNvb3JkaW5hdGVzIjoiTm8gY29vcmRpbmF0ZXMgaGF2ZSBjdXJyZW50bHkgYmVlbiBwbG90dGVkLiIsImxhbmd1YWdlLXByb2plY3RzLXNvcnQtbW9kaWZpZWRieS1kaXNwbGF5LW5hbWUiOiJNb2RpZmllZCBCeSIsImxhbmd1YWdlLWxheWVyLWNhdGFsb2ctZ2V0LWxheWVyLWRldGFpbHMtc3RhdHVzIjoiRmV0Y2hpbmcgTGF5ZXIgRGV0YWlscy4uLiIsImxhbmd1YWdlLWxhYmVsT3B0aW9ucy1jYW5jZWwiOiJDYW5jZWwiLCJsYW5ndWFnZS1wcmludGluZy1jdXJyZW50LWV4dGVudCI6IkN1cnJlbnQgRXh0ZW50IiwibGFuZ3VhZ2UtY29tbW9uLW5vLXJlc3VsdHMtZGVzYyI6Ikl0ZW1zIGFwcGVhciBhZnRlciB5b3UgcGVyZm9ybSBhIHZhbGlkIHNlYXJjaCBvciBvdGhlciB0YXNrIHRoYXQgcmV0dXJucyByZXN1bHRzLiIsImxhbmd1YWdlLWZlYXR1cmUtZGV0YWlscy1jb21wYWN0LWRlc2MiOiJTd2l0Y2ggdG8gdGhlIGZlYXR1cmUgZGV0YWlscyBjb21wYWN0IHZpZXciLCJsYW5ndWFnZS10b29sYmFyLWlkZW50aWZ5LXBvbHlnb24tZGVzYyI6IlRvIGxlYXJuIHdoYXRcdTIwMTlzIHRoZXJlLCBkcmF3IGEgc2hhcGUgb24gdGhlIG1hcC4gRG91YmxlLWNsaWNrL3RhcCB0byBmaW5pc2guIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtb3BlbiI6Im9wZW4uICAiLCJsYW5ndWFnZS1leHBvcnQtd2ViLW1hcC1lcnJvciI6IlRoZXJlIHdhcyBhbiBlcnJvciBleHBvcnRpbmcgdGhlIHdlYiBtYXAuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1oaWRlLW1hcC1lbGVtZW50IjoiUmVtb3ZlcyBhbiBlbGVtZW50IHByZXZpb3VzbHkgYW5jaG9yZWQgdG8gdGhlIG1hcCB1c2luZyBTaG93TWFwRWxlbWVudC4iLCJsYW5ndWFnZS1sYXllci1kZXRhaWxzLXZhbGlkYXRpb24tZXJyb3ItbmFtZS1jYW5ub3QtYmUtZW1wdHkiOiJMYXllciBuYW1lIGlzIHJlcXVpcmVkLiIsImxhbmd1YWdlLWJvb2ttYXJrcy10aXRsZSI6IkJvb2ttYXJrZWQgTG9jYXRpb25zIiwibGFuZ3VhZ2UtZ2VvbG9jYXRlLWluLXByb2dyZXNzIjoiRmluZGluZyB5b3VyIGxvY2F0aW9uLi4uIiwibGFuZ3VhZ2UtcnVuLXJlcG9ydC1jb21wbGV0ZS1saW5rLXN5bmMiOiJEb3dubG9hZCByZXBvcnQgZmlsZSIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc2hhcmluZy1idXR0b24iOiJTaGFyaW5nIiwibGFuZ3VhZ2UtY29tbW9uLWZlYXR1cmUtbGF5ZXItZGV0YWlscy1kZXNjIjoiTWFuYWdlIGNhY2hpbmcgb2YgYSBmZWF0dXJlIGxheWVyIGZvciBvZmZsaW5lIHVzZS4iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWxheWVycy1maWx0ZXItdG9vbHRpcCI6IkVkaXQgdGhlIGxheWVyIGZpbHRlciIsImxhbmd1YWdlLXRvb2xiYXItZWRpdGluZy1jcmVhdGUtbmV3LWZlYXR1cmUiOiJDcmVhdGUgTmV3IEZlYXR1cmUiLCJsYW5ndWFnZS1mZWF0dXJlLWNyZWF0ZS1yZWxhdGVkLWZlYXR1cmVzIjoiQ3JlYXRlIEEgTmV3IFJlbGF0ZWQgRmVhdHVyZSIsImxhbmd1YWdlLW1lbnUtb2ZmbGluZS1tYXAtZWRpdG9yLWdlb21ldHJ5LWFjdGlvbnMtZnJlZWhhbmRwb2x5Z29uIjoiRnJlZWhhbmQgUG9seWdvbiIsImxhbmd1YWdlLWNvbW1vbi1zaGFyZSI6IlNoYXJlIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtdW5pdC1hY3JlLXNob3J0IjoiYWMiLCJsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LXByaXZpbGVnZXMtZGVzY3JpcHRpb24iOiJQcm9qZWN0IHByaXZpbGVnZXMgYWxsb3cgdGhlIHVzZXJzIHRoYXQgeW91IHNwZWNpZnkgdG8gYWNjZXNzIHRoZSBwcm9qZWN0IHVzaW5nIHRoZSBQcm9qZWN0IFVSTCBvciBieSBicm93c2luZyB0aGUgbGlzdCBvZiBwcm9qZWN0cy4iLCJsYW5ndWFnZS1hdXRoLWVycm9yIjoiSW52YWxpZCB1c2VybmFtZSBvciBwYXNzd29yZC4gUGxlYXNlIHRyeSBhZ2Fpbi4iLCJsYW5ndWFnZS1tZW51LXJlc3VsdHMtcmVtb3ZlLWZlYXR1cmUtZGVzYyI6IlJlbW92ZSB0aGlzIGZlYXR1cmUgZnJvbSB0aGUgY3VycmVudCBzZXQgb2YgcmVzdWx0cyIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXJlc3VsdHMtZmVhdHVyZS1kZXNjcmlwdGlvbi1wb2x5Z29uIjoiUGVyaW1ldGVyOiB7TGVuZ3RofXtVbml0c31cbkFyZWE6IHtBcmVhfXtBcmVhIFVuaXRzfSIsImxhbmd1YWdlLWNvbW1vbi1sb2dpbiI6IkxvZyBJbiIsImxhbmd1YWdlLXRvb2xiYXItdGl0bGUiOiJUb29sYmFyIiwibGFuZ3VhZ2Utc2VsZWN0LWZlYXR1cmVzLXN1YnRyYWN0LWNvbmZpcm1hdGlvbiI6InsxfSBmZWF0dXJlKHMpIHN1YnRyYWN0ZWQgZnJvbSAnezB9JyIsImxhbmd1YWdlLXJ1bi1yZXBvcnQtcHJvZ3Jlc3MtbWVzc2FnZS1zeW5jIjoiUGxlYXNlIHdhaXQgd2hpbGUgeW91ciByZXBvcnQgZmlsZSBpcyBnZW5lcmF0aW5nLiIsImxhbmd1YWdlLWxheWVybGlzdC1zaG93LWxlZ2VuZCI6IlNob3cgTGVnZW5kIiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLW1lZGl1bSI6Ik1lZGl1bSIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLWNvbmZpcm0tYWRkLWxheWVyIjoiQWRkIExheWVyIiwibGFuZ3VhZ2Utc25hcHBpbmctbGF5ZXItcmVnaXN0ZXJlZCI6IkxheWVyIHswfSB3YXMgcmVnaXN0ZXJlZCBmb3Igc25hcHBpbmcuIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1zdGFydC1lZGl0aW5nLWVkaXQtbG9nLWVudHJ5IjoiQ3JlYXRlcyBhIGF2aWV3IHRvIGNoYW5nZSBhbiBleGlzdGluZyBlZGl0LiIsImxhbmd1YWdlLWxhYmVsT3B0aW9ucy1iZWxvdy1jZW50ZXIiOiJiZWxvdy1jZW50ZXIiLCJsYW5ndWFnZS1sYXllci1hZGRpdGlvbi13bXMtbmFtZSI6IldNUyIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXJlc3VsdHMtZmVhdHVyZS1kZXNjcmlwdGlvbi1wb2x5bGluZSI6Ikxlbmd0aDoge0xlbmd0aH17VW5pdHN9IiwibGFuZ3VhZ2UtdXBsb2FkLWRhdGEtZXJyb3ItdW5hYmxlLXRvLXBhcnNlLWV4Y2VsLWZpbGUiOiJVbmFibGUgdG8gUGFyc2UgdGhlIEV4Y2VsIEZpbGUiLCJsYW5ndWFnZS10aW1lc2xpZGVyLXNldHRpbmdzLXRpbWUtaW50ZXJ2YWwtdW5pdC1tb250aCI6Ik1vbnRoIiwibGFuZ3VhZ2UtdG9vbGJhci1uYXZpZ2F0aW9uLXpvb20taW4tZGVzYyI6IkNsaWNrIG9yIHRhcCwgdGhlbiBkcmFnIGFyZWEgb2YgaW50ZXJlc3Qgb24gdGhlIG1hcC4gTWFwIHdpbGwgem9vbSB0byB0aGF0IGxvY2F0aW9uLiIsImxhbmd1YWdlLXRvb2xiYXItaG9tZS1zdWIiOiJIb21lIiwibGFuZ3VhZ2UtdXBsb2FkLWRhdGEtZXJyb3ItZW1wdHktZmlsZS1tZXNzYWdlIjoiVGhlIHByb3ZpZGVkIGZpbGUgd2FzIGVtcHR5LiIsImxhbmd1YWdlLWxheWVyLWFkZGl0aW9uLWNvbmZpcm0tYWRkLWxheWVyIjoiQWRkIExheWVyIHRvIE1hcCIsImxhbmd1YWdlLWNvbW1vbi1zYXZlIjoiU2F2ZSIsImxhbmd1YWdlLXRvb2xiYXItdGFza3MtbGF5ZXItY2F0YWxvZyI6IkxheWVyIENhdGFsb2ciLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtcmVzdWx0cy1jb2xsZWN0aW9uLW5hbWUiOiJDb29yZGluYXRlIFJlc3VsdHMiLCJsYW5ndWFnZS1wcm9qZWN0LWNvbmZpcm0tc2F2ZS10aXRsZSI6IlNhdmUgUHJvamVjdCIsImxhbmd1YWdlLWludGVncmF0aW9uLXZpZXdwb2ludC1pbmRpY2F0b3ItZGVzYyI6IkRyYWcgdGhlIG1hcmtlciBvbiB0aGUgbWFwIHRvIHVwZGF0ZSB0aGUgY29ycmVzcG9uZGluZyBtYXAgdmlldy4iLCJsYW5ndWFnZS1yZXNvbHV0aW9uIjoiUmVzb2x1dGlvbiIsImxhbmd1YWdlLXRhYmxlLW1hcHBpbmctc291cmNlLXNwYXRpYWwtcmVmZXJlbmNlLW1hcC13a3QiOiJXS1QiLCJsYW5ndWFnZS1wcm9qZWN0LWNvbmZpcm0tZGVsZXRlLWRlc2NyaXB0aW9uIjoiQXJlIHlvdSBzdXJlIHlvdSB3aXNoIHRvIGRlbGV0ZSB0aGlzIHByb2plY3Q/IiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWZlYXR1cmUtYXR0cmlidXRlcyI6IlZpZXcvRWRpdCBBdHRyaWJ1dGVzIiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLW9yaWdpbmFsIjoiT3JpZ2luYWwgKHswfSkiLCJsYW5ndWFnZS1nZW9sb2NhdGUtZXJyb3ItYnJvd3NlciI6IllvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGdlb2xvY2F0aW9uLiIsImxhbmd1YWdlLWZlYXR1cmUtY29vcmRpbmF0ZXMtY2hhbmdlLXN5c3RlbSI6IlNlbGVjdCBjb29yZGluYXRlIHN5c3RlbSIsImxhbmd1YWdlLWxheWVyLWFkZGl0aW9uLWNvbmZpcm0tYWRkLWxheWVyLW1lc3NhZ2UiOiJUaGUgc2VydmljZSBjb21lcyBmcm9tIGFuIHVudHJ1c3RlZCBzb3VyY2UgYW5kIG1pZ2h0IGNvbnRhaW4gdW5zYWZlIGNvbnRlbnQuIEl0IHdpbGwgYmUgZXhjbHVkZWQgZnJvbSBzYXZlZCBwcm9qZWN0cy4gUHJvY2VlZD8iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctY3JlYXRlLWVkaXQtbmV3LWZlYXR1cmUiOiJDcmVhdGUgRmVhdHVyZSIsImxhbmd1YWdlLWFwcC1nb25lLW9mZmxpbmUiOiJZb3UgYXJlIG9mZmxpbmUuIiwibGFuZ3VhZ2UtdGFibGUtcmVjb3JkLXJlc3VsdHMtZGlhbG9nLXJlamVjdGVkLXJlY29yZHMtbWVzc2FnZSI6InswfSByZWNvcmQocykgd2VyZSByZWplY3RlZC4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWZlYXR1cmUtbGF5ZXItY2FjaGUtZGF0YSI6IkNhY2hlcyB0aGUgZGF0YSBmb3IgYSBnaXZlbiBtYXAgc2VydmljZSBVUkwuIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1kYXRlcGlja2VyLXRyaWdnZXItYnV0dG9uLWFyaWEtbGFiZWwiOiJPcGVuIHRoZSBkYXRlIHBpY2tlci4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWdldC1lZGl0LWxvZyI6IkdldHMgdGhlIGVkaXQgbG9nLCBwYXNzaW5nIGl0IGludG8gYSBjYWxsYmFjay4gSWYgYW4gZXJyb3Igb2NjdXJzLCB0aGUgZXJyb3IgaXMgcGFzc2VkIGludG8gdGhlIGNhbGxiYWNrLiIsImxhbmd1YWdlLWxheWVyLWRldGFpbHMtZGlhbG9nLXRpdGxlIjoiTGF5ZXIgRGV0YWlscyIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24taGlnaGxpZ2h0LWZlYXR1cmUtZGVmYXVsdCI6IkhpZ2hsaWdodHMgdGhlIGZlYXR1cmUgaW4gdGhlIGRlZmF1bHQgaGlnaGxpZ2h0IGxheWVyLiIsImxhbmd1YWdlLWZlYXR1cmUtY29vcmRpbmF0ZXMtaW52YWxpZC12YWx1ZSI6IkludmFsaWQgUmVzdWx0IiwibGFuZ3VhZ2UtdGltZXNsaWRlci1jbG9zZS10aW1lbGluZS1idXR0b24tbGFiZWwiOiJIaWRlIFRpbWVsaW5lIiwibGFuZ3VhZ2UtZmVhdHVyZS1hdHRhY2htZW50cy1ub3Qtc3VwcG9ydGVkIjoiVGhlcmUgYXJlIG5vIGF0dGFjaG1lbnRzIGZvciB0aGlzIGZlYXR1cmUuIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtY2xvc2VkIjoiY2xvc2VkLiAgIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLWNvb3JkaW5hdGUtYWN0aW9ucy10aXRsZSI6IkNvb3JkaW5hdGUgezB9IEFjdGlvbnMiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWVycm9yLWxvYWQiOiJUaGVyZSB3YXMgYW4gZXJyb3IgbG9hZGluZyB5b3VyIG9mZmxpbmUgbWFwLiB7MH0iLCJsYW5ndWFnZS1tZW51LXBvd2VyZWQtYnktZ2VvY29ydGV4LWRlc2MiOiJQb3dlcmVkIGJ5IEdlb2NvcnRleCIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy12YWx1ZS10b28tbG9uZyI6InswfSBtdXN0IGJlIG5vIGxvbmdlciB0aGFuIHsxfSBjaGFyYWN0ZXJzLiIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1jYW5jZWwtYWRkLWNvb3JkaW5hdGUtYnV0dG9uLXRpdGxlIjoiQ2xpY2sgdG8gc3RvcCBlZGl0aW5nIHRoaXMgY29vcmRpbmF0ZSIsImxhbmd1YWdlLXRhYmxlLW1hcHBpbmctdmFsaWRhdGlvbi1lcnJvci1zb3VyY2Utc3BhdGlhbC1tYXBwaW5nLWludmFsaWQtbWVzc2FnZSI6IllvdSBtdXN0IHNlbGVjdCBvciBlbnRlciBhIHZhbGlkIHNvdXJjZSBzcGF0aWFsIHJlZmVyZW5jZSBmb3IgeW91ciBkYXRhLiIsImxhbmd1YWdlLWJ1ZmZlci1vcHRpb25zLWRpc3RhbmNlLWxhYmVsIjoiRGlzdGFuY2UiLCJsYW5ndWFnZS10b29sYmFyLWlkZW50aWZ5LWZyZWVoYW5kLXBvbHlnb24tZGVzYyI6IkRyYXcgYSBmcmVlaGFuZCBzaGFwZSBvbiB0aGUgbWFwIHRvIHNlZSB3aGF0J3MgdGhlcmUiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1idWZmZXItb3B0aW9ucyI6IkJ1ZmZlciBPcHRpb25zIHswfSIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tcnVuLXdvcmtmbG93LWJ5LWlkIjoiUnVucyBhIHdvcmtmbG93LiIsImxhbmd1YWdlLW1lbnUtZ2xvYmFsLW9wZW4iOiJPcGVuIiwibGFuZ3VhZ2UtbWVudS1leHBvcnQtcmVzdWx0cy10by1jc3YtZGVzYyI6IkV4cG9ydCByZXN1bHRzIHRvIENTViIsImxhbmd1YWdlLXNpdGUtc2VydmljZS1sYXllcnMtZmFpbHVyZS12aWV3LWVycm9yIjoiVGhlcmUgd2FzIGEgcHJvYmxlbSBsb2FkaW5nIG9uZSBvciBtb3JlIGNyaXRpY2FsIG1hcCBzZXJ2aWNlcy4gVGhlIGFwcGxpY2F0aW9uIGNhbm5vdCBiZSB1c2VkIGF0IHRoaXMgdGltZS4gVGhlIGZvbGxvd2luZyBzZXJ2aWNlcyBmYWlsZWQgdG8gbG9hZDoiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC11bml0LWhlY3RhcmUtc2hvcnQiOiJoYSIsImxhbmd1YWdlLW1lbnUtZGVzY3JpcHRpb24iOiJRdWljayBhY2Nlc3MgdG8gY29tbW9uIHRhc2tzIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtZGF0YS1mcmFtZS1vcGVuIjoiRGF0YSBmcmFtZSBvcGVuLiAgIiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWNlbnRlci1hZnRlciI6ImNlbnRlci1hZnRlciIsImxhbmd1YWdlLWxheWVyLWFjdGlvbnMiOiJQZXJmb3JtIGFuIGFjdGlvbiBvbiB7MH0iLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtZGVsZXRlLWFsbC1jb29yZGluYXRlcy1jb25maXJtIjoiVGhpcyB3aWxsIGNsZWFyIGFsbCBwbG90dGVkIGNvb3JkaW5hdGVzIGZyb20gdGhlIG1hcC4gQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNvbnRpbnVlPyIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXVuaXQtZmVldCI6IkZlZXQgKGZ0KSIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy11cGRhdGUtcHJvZmlsZS1lcnJvciI6IlVuYWJsZSB0byB1cGRhdGUgdGhlIG9mZmxpbmUgbWFwLiB7MH0iLCJsYW5ndWFnZS1nZW9sb2NhdGUtZXJyb3ItY2Fubm90LWNvbnZlcnQtY29vcmRpbmF0ZSI6IkVycm9yIiwibGFuZ3VhZ2UtdG9vbGJhci1uYXZpZ2F0aW9uLXBhbiI6IlBhbiIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWVkaXQtZGVzYy1zaG9ydGN1dHMiOiJVc2UgYXJyb3dzIHRvIG1vdmUsIFIgdG8gcm90YXRlLCBTIHRvIHNjYWxlLCBWIHRvIHNlbGVjdCB2ZXJ0ZXguIENvbWJpbmUgd2l0aCBBTFQgZm9yIGZpbmVyIGNvbnRyb2wuIENvbWJpbmUgd2l0aCBTSElGVCB0byByZXZlcnNlLiIsImxhbmd1YWdlLWxhYmVsT3B0aW9ucy1iZWxvdy1sZWZ0IjoiYmVsb3ctbGVmdCIsImxhbmd1YWdlLWNhcHR1cmUtZ2VvbWV0cnktZnJlZWhhbmQtcG9seWxpbmVfdG9vbHRpcCI6IlNlbGVjdCBieSBmcmVlaGFuZCBsaW5lIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtcG9pbnQtZGVzYyI6IkNsaWNrIG9yIHRhcCBhIG1hcCBsb2NhdGlvbiB0byBhZGQgYSBwb2ludC4iLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1wYWxldHRlLXNtYWxsLWNoYW5nZS1zdHlsZSI6IlN0eWxlcyIsImxhbmd1YWdlLW1hcC1jb250ZXh0LW1lbnUtcmV2ZXJzZS1nZW9jb2RlLXNlYXJjaC1pbi1wcm9ncmVzcyI6IlNlYXJjaGluZy4uLiIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLWNhbm5vdC1wcm9jZWVkLXdoZW4taW52YWxpZC1tZXNzYWdlIjoiQ2Fubm90IHByb2NlZWQgd2l0aCBhbiBpbnZhbGlkIGZvcm0iLCJsYW5ndWFnZS1wcm9qZWN0LWNvbmZpcm0tc2hhcmUtcHVibGljLWRlc2NyaXB0aW9uIjoiQXJlIHlvdSBzdXJlIHlvdSB3aXNoIHRvIHNoYXJlIHByb2plY3QgXCJ7MH1cIiBwdWJsaWNseT8gVXNlcnMgY291bGQgYmUgYWxsb3dlZCB0byB2aWV3IHRoaXMgcHJvamVjdCB3aXRob3V0IHNpZ25pbmcgaW4uIiwibGFuZ3VhZ2UtbGF5ZXJsaXN0LW11bHRpcGxlLWxlZ2VuZC1pY29uLXRvb2x0aXAiOiJDbGljayB0byBzZWUgbGVnZW5kIGluZm9ybWF0aW9uIGZvciB7MH0gbGF5ZXIiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1wb2x5bGluZS1kZXNjLWtleWJvYXJkIjoiVXNlIGFycm93cyB0byBtb3ZlIHRoZSBwb2ludC4gSGl0IEVOVEVSIHRvIHBsb3QgYW5kIGJlZ2luIG1vdmluZyB0aGUgbmV4dCBwb2ludC4gSGl0IEVOVEVSIHR3aWNlIHRvIGZpbmlzaC4iLCJsYW5ndWFnZS11aS10YWJsZS1zb3J0ZWQtYXNjZW5kaW5nIjoiQ29sdW1uIGhlYWRlci4gezB9IC0gU29ydGVkIGFzY2VuZGluZy4iLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItc2ltcGxlLWZpbHRlci1kZXNjcmlwdGlvbiI6IlNob3cgc2ltcGxlIGZpbHRlciBidWlsZGVyLiIsImxhbmd1YWdlLXByb2plY3Qtc2F2ZS10aXRsZSI6IlNhdmUgUHJvamVjdCIsImxhbmd1YWdlLXRpbWVzbGlkZXItc2V0dGluZ3MtcGxheWJhY2stZGVsYXkiOiJQbGF5YmFjayBEZWxheSAoU2Vjb25kcykiLCJsYW5ndWFnZS1sYXllci1jYXRhbG9nLW5vLWl0ZW1zIjoiTm8gQ2F0YWxvZyBFbnRyaWVzIHRvIERpc3BsYXkiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1hZGQtYXMtZHJhd2luZy10b29sdGlwIjoiQWRkIG1lYXN1cmVtZW50cyB0byB0aGUgZHJhd2luZyBsYXllciIsImxhbmd1YWdlLWxheWVyLWNhdGFsb2ctc2VhcmNoLXBsYWNlaG9sZGVyIjoiU2VhcmNoIGxheWVyIGNhdGFsb2ciLCJsYW5ndWFnZS1sYWJlbE9wdGlvbnMtY2VudGVyLWxlZnQiOiJjZW50ZXItbGVmdCIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXJlc3VsdHMtZmllbGQtdW5pdHMiOiJVbml0cyIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXJlc3VsdHMtZmllbGQtYXJlYS11bml0cyI6IkFyZWEgVW5pdHMiLCJsYW5ndWFnZS1ydW4tcmVwb3J0LWNvbXBsZXRlLWxpbmstYXN5bmMiOiJHbyB0byBSZXBvcnQgUGFnZSIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1zaW1wbGUtdG9vbHRpcCI6IlNob3cgc2ltcGxlIHF1ZXJ5IGJ1aWxkZXIiLCJsYW5ndWFnZS1tZW51LXJlbW92ZS11c2VyLWFkZGVkLW1hcHNlcnZpY2UiOiJSZW1vdmUgc2VydmljZSIsImxhbmd1YWdlLWRpc3BsYXktcmVzdWx0LXBpY2tlci1maWx0ZXItdGV4dC1ib3gtd2F0ZXJtYXJrIjoiRmlsdGVyIHJlc3VsdHMiLCJsYW5ndWFnZS10aW1lc2xpZGVyLXNldHRpbmdzLXRpbWUtaW50ZXJ2YWwtdW5pdC1taWxsaXNlY29uZCI6Ik1pbGxpc2Vjb25kIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtdW5pdC1zcWZlZXQiOiJGZWV0wrIgKGZ0wrIpIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLXNob3ctY29vcmRpbmF0ZSI6IlNob3cgQ29vcmRpbmF0ZSIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy10b29sLXRvb2x0aXAiOiJQbG90IGNvb3JkaW5hdGVzIG9uIHRoZSBtYXAiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItbm8tdmFsaWQtcXVlcnktbGF5ZXJzIjoiVGhlIGFwcGxpY2F0aW9uIGRvZXMgbm90IGNvbnRhaW4gYW55IHF1ZXJ5YWJsZSBsYXllcnMuIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1vcGVuLXdlYi1wYWdlIjoiT3BlbnMgYSB3ZWIgcGFnZSBpbiBhbm90aGVyIHRhYi93aW5kb3cuIiwibGFuZ3VhZ2UtdXBsb2FkZXItZXJyb3ItY29ycy10aXRsZSI6IlVwbG9hZCBEZW5pZWQgKENPUlMpIiwibGFuZ3VhZ2UtbGF5ZXItY2F0YWxvZy1mb2xkZXItZHJpbGwtZG93biI6IlRhcCB0byBnbyBpbnRvIHRoZSBmb2xkZXIgb2YgbGF5ZXJzIiwibGFuZ3VhZ2UtY2FwdHVyZS1nZW9tZXRyeS1yZWN0YW5nbGUiOiJEcmF3IGEgcmVjdGFuZ2xlIG9uIHRoZSBtYXAuIiwibGFuZ3VhZ2UtY2xlYXItc3RvcmFnZS12aWV3LXRoaXMtdmlld2VyIjoiVGhpcyBhcHBsaWNhdGlvbiIsImxhbmd1YWdlLW5hdGl2ZS1sb3ctbWVtb3J5IjoiVGhlIGRldmljZSBpcyBjdXJyZW50bHkgbG93IG9uIG1lbW9yeS4iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy10aXRsZS1lcnJvciI6IlRoZXJlIGlzIGFuIGVycm9yIHdpdGggdGhlIHNlbGVjdGlvbi4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1kcmF3bW9kZS1leHRlbnQiOiJFeHRlbnQiLCJsYW5ndWFnZS1wcm9qZWN0LWFjdGlvbnMtZWRpdCI6IkVkaXQgRGV0YWlscyIsImxhbmd1YWdlLW1hcmt1cC1jaGFuZ2UtdGV4dC10ZXh0LXRpdGxlIjoiQ2hhbmdlIFRleHQiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWdsb2JhbC1zZWFyY2giOiJQZXJmb3JtcyBhIHNlYXJjaCBvbiBhbGwgYWN0aXZlIHByb3ZpZGVycy4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1wcm9qZWN0aW9uLWVycm9yIjoiUHJvamVjdGlvbiB0byBXS0lEIHswfSBmYWlsZWQuIHsxfSIsImxhbmd1YWdlLXByaW50IjoiUHJpbnQiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXNldC1oaWdobGlnaHQtYm9yZGVyLWNvbG9yIjoiU2V0cyB0aGUgYm9yZGVyIGNvbG9yIHVzZWQgZm9yIG5ldyBoaWdobGlnaHRzLCBzcGVjaWZpZWQgaW4gNiBvciA4IGRpZ2l0IGhleCBpbiBSR0Igb3IgQVJHQiBmb3JtLiIsImxhbmd1YWdlLWxhYmVsT3B0aW9ucy1hYm92ZS1iZWZvcmUiOiJhYm92ZS1iZWZvcmUiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1tZWFzdXJlLWFyZWEtdG9vbC1uYW1lIjoiQXJlYSIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1zeW5jLWRvbmUiOiJTeW5jIGNvbXBsZXRlLiIsImxhbmd1YWdlLW5hdGl2ZS1pbnRlcm5hbC1zZXJ2ZXItZXJyb3IiOiJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiLCJsYW5ndWFnZS1wcm9qZWN0LXN0YXR1cy1zYXZlZC11cmwtZGVzY3JpcHRpb24iOiJZb3UgY2FuIGFsc28gY29weSBhbmQgcGFzdGUgdGhlIGZvbGxvd2luZyBsaW5rIGludG8geW91ciBicm93c2VyIHRvIG9wZW4gdGhpcyBwcm9qZWN0LiIsImxhbmd1YWdlLW1hcmt1cC1hZGQtdGV4dC10aXRsZSI6IkVudGVyIFlvdXIgVGV4dCIsImxhbmd1YWdlLW1hcC10aXRsZSI6Ik1hcCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tc2hvdy1tYXAtdGlwIjoiQ3JlYXRlcyBhIE1hcCBUaXAgVmlldyBhbmQgZGlzcGxheXMgdGhlIGZlYXR1cmUgaW4gaXQuIiwibGFuZ3VhZ2UtdGFibGUtbWFwcGluZy1pcy1maXJzdC1yb3ctaGVhZGVyIjoiVXNlIGZpcnN0IHJvdyBhcyBoZWFkZXIiLCJsYW5ndWFnZS11cGxvYWRlci1lcnJvci1pbnZhbGlkLWZvcm0tbWVzc2FnZSI6IlBsZWFzZSBjb3JyZWN0IHRoZSB2YWxpZGF0aW9uIGVycm9ycyBiZWZvcmUgcHJvY2VlZGluZyB3aXRoIHRoZSB1cGxvYWQuIiwibGFuZ3VhZ2UtZ2VvbWV0cnktdG9vbGJhci1pbnN0cnVjdGlvbnMiOiJEZWZpbmUgeW91ciBjdXN0b20gZ2VvbWV0cnkgYnkgY2hvb3Npbmcgb25lIG9mIHRoZSB0b29scyBiZWxvdywgYW5kIHNlbGVjdGluZyBhbiBhcmVhIG9uIHRoZSBtYXAuIiwibGFuZ3VhZ2UtbWVudS1nbG9iYWwtc2F2ZS1hcy1kZXNjIjoiU2F2ZSB0aGUgc3RhdGUgb2YgeW91ciB2aWV3ZXIgaW4gYSBuZXcgcHJvamVjdCIsImxhbmd1YWdlLWNsZWFyLXN0b3JhZ2UtZG9tYWluLWNvbmZpcm0iOiJXYXJuaW5nOiBDbGVhcmluZyBhbGwgdGhlIGRhdGEgc3RvcmVkIGZvciB0aGlzIGRvbWFpbiByZW1vdmVzIGFsbCBvZmZsaW5lIGRhdGEgc3RvcmVkIGZvciB0aGlzIGRvbWFpbiwgaW5jbHVkaW5nIGFueSBlZGl0cyBtYWRlIHdoaWxlIG9mZmxpbmUuIElmIHlvdSBjbGVhciBzdG9yZWQgZG9tYWluIGRhdGEsIHlvdSB3aWxsIG5lZWQgdG8gcmVjYWNoZSBtYXAgZGF0YSB3aGlsZSBvbmxpbmUgYmVmb3JlIHlvdSBjYW4gY29udGludWUgd29ya2luZyBvZmZsaW5lLiIsImxhbmd1YWdlLXNhdmVkLXJlc3VsdHMtY29tYmluZS10aXRsZSI6IkNvbWJpbmUgUmVzdWx0cyIsImxhbmd1YWdlLW1hcC10aXAtbnVsbC1nZW9tZXRyeS1zdGF0dXMtbWVzc2FnZS10ZXh0IjoiVGhlIHNlbGVjdGVkIGZlYXR1cmUgY29udGFpbnMgbm8gc3BhdGlhbCBkYXRhIGFuZCBjYW5ub3QgYmUgaGlnaGxpZ2h0ZWQgb24gdGhlIG1hcC4iLCJsYW5ndWFnZS10b29sYmFyLWFuYWx5c2lzLW1lYXN1cmVtZW50LXRvb2xzIjoiTWVhc3VyZSIsImxhbmd1YWdlLXVwbG9hZGVyLWtpbG9ieXRlLWFiYnJldmlhdGlvbiI6IktCIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLXJlbGF0aW9uc2hpcHMta2V5LWZpZWxkLW1pc3NpbmciOiJFZGl0aW5nIHRoZSByZWxhdGlvbnNoaXAgZmFpbGVkIGJlY2F1c2UgYSBrZXkgZmllbGQgaXMgbm90IGlkZW50aWZpZWQuIiwibGFuZ3VhZ2UtbGF5ZXJsaXN0LXNpbmdsZS1sZWdlbmQtaWNvbi10b29sdGlwIjoiezB9IC0gTGVnZW5kIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1zZXQtYWN0aXZlLXRvb2wiOiJTZXRzIHRoZSBhY3RpdmUgdG9vbC4iLCJsYW5ndWFnZS1tZW51LW9mZmxpbmUtbWFwLWVkaXRvci1nZW9tZXRyeS1hY3Rpb25zLXJlY3RhbmdsZSI6IlJlY3RhbmdsZSIsImxhbmd1YWdlLWZlYXR1cmUtbm90LWF2YWlsYWJsZSI6Ik4vQSIsImxhbmd1YWdlLXRvb2xiYXItc2hvdy1sYXllcmxpc3QiOiJMYXllciBMaXN0IiwibGFuZ3VhZ2UtYnVmZmVyLWV4Y2Vzcy1mZWF0dXJlcy13YXJuaW5nIjoiQnVmZmVyaW5nIHswfSBmZWF0dXJlcyBtYXkgdGFrZSBzb21lIHRpbWUgdG8gcHJvY2Vzcy4gWW91ciBicm93c2VyIG1heSBiZWNvbWUgdW5yZXNwb25zaXZlIGR1cmluZyB0aGlzIHBlcmlvZC4gRG8geW91IHdhbnQgdG8gY29udGludWU/IiwibGFuZ3VhZ2UtcHJvamVjdC1lZGl0b3ItbmFtZS1sYWJlbCI6Ik5hbWUiLCJsYW5ndWFnZS1zZWFyY2gtYmluZy1wb3N0YWwtdG93biI6IlBvc3RhbCBUb3duIiwibGFuZ3VhZ2UtdGltZXNsaWRlci1jdXJyZW50LXRpbWUtZXh0ZW50LWNvbXB1dGF0aW9uLWVycm9yIjoiRXJyb3IgY29tcHV0aW5nIHRpbWUgZXh0ZW50LiIsImxhbmd1YWdlLXRhYmxlLW1hcHBpbmctdmFsaWRhdGlvbi1lcnJvci1hbGwtY29vcmRpbmF0ZXMtbXVzdC1iZS1zZXQtbWVzc2FnZSI6IkNvb3JkaW5hdGVzIHN1Y2ggYXMgWCBhbmQgWSBtdXN0IGJlIG1hcHBlZCB0byB0YWJsZSBjb2x1bW5zLiIsImxhbmd1YWdlLXByaW50aW5nLWN1cnJlbnQtc2NhbGUiOiJDdXJyZW50IFNjYWxlIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLW1ibC1mcmVlaGFuZC1wb2x5Z29uLXRvb2wiOiJEcmF3IGEgcG9seWdvbiBzaGFwZSBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1wcm9ncmVzcy1wZW5kaW5nIjoiUGVuZGluZy4iLCJsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LXNhdmUtYnV0dG9uLXRleHQiOiJTYXZlIFNoYXJpbmciLCJsYW5ndWFnZS1tZW51LWRlZmF1bHQtdGl0bGUiOiJPcHRpb25zIiwibGFuZ3VhZ2UtbmF0aXZlLWF0dGFjaC1maWxlIjoiQXR0YWNoIGEgZmlsZSBvciBwaG90byIsImxhbmd1YWdlLW1lYXN1cmVtZW50LWVyYXNlLW11bHRpcGxlLXByb21wdC10aXRsZSI6Ildhcm5pbmc6IE11bHRpcGxlIGl0ZW1zIHNlbGVjdGVkIGZvciBkZWxldGlvbiEiLCJsYW5ndWFnZS10aW1lc2xpZGVyLXNldHRpbmdzLXRpbWVzbGlkZXItcHJvZmlsZXMiOiJUaW1lIFNsaWRlciBQcm9maWxlIiwibGFuZ3VhZ2UtaWRlbnRpZnktZXJyb3ItbWVzc2FnZSI6IlRoZSByZXF1ZXN0ZWQgb3BlcmF0aW9uIGZhaWxlZC4gVHJ5IGFnYWluIGxhdGVyLCBvciBpbmZvcm0geW91ciBhcHBsaWNhdGlvbiBhZG1pbmlzdHJhdG9yIG9mIHRoZSBwcm9ibGVtLiIsImxhbmd1YWdlLW1lbnUtb2ZmbGluZS1tYXAtZWRpdG9yLWdlb21ldHJ5LWFjdGlvbnMtZWxsaXBzZSI6IkVsbGlwc2UiLCJsYW5ndWFnZS1jb21tb24tbGF5ZXItZGF0YSI6IkxheWVyIERhdGEiLCJsYW5ndWFnZS1wcm9qZWN0LXN0YXR1cy1zaGFyZS1idXR0b24tdGl0bGUiOiJTaGFyZSBQcm9qZWN0IiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWNhY2hlLWxheWVyLWNhcHRpb24iOiJDYWNoZSBMYXllciIsImxhbmd1YWdlLWxheWVyLWFjdGlvbnMtdGl0bGUiOiJMYXllciBBY3Rpb25zIiwibGFuZ3VhZ2UtbWFwLXRpcC1zZWxlY3QiOiJTZWxlY3QgYSBNYXAgVGlwIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtZHJhd21vZGUtcmlnaHQtYXJyb3ciOiJSaWdodCBBcnJvdyIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXJlc3VsdHMtdG90YWwiOiJUb3RhbCIsImxhbmd1YWdlLW1lYXN1cmVtZW50LW1lYXN1cmUtZGlzdGFuY2UtdG9vbC1zdGF0dXMiOiJDbGljayBvciB0YXAgdG8gZHJhdyBhIG1lYXN1cmVtZW50IGxpbmUuIERvdWJsZS1jbGljay90YXAgdG8gZmluaXNoLiIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLXJlYWRvbmx5LW9mZmxpbmUiOiJSZWFkLW9ubHkgb2ZmbGluZSIsImxhbmd1YWdlLXByb2plY3RzLXByaXZhdGUtcHJvamVjdHMtbGFiZWwiOiJTaG93IG15IHByb2plY3RzIG9ubHkiLCJsYW5ndWFnZS10b29sYmFyLWdyb3VwLXRpbWVzbGlkZXIiOiJUaW1lIFNsaWRlciIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXJlc3VsdHMtZmllbGQtYW5nbGUiOiJBbmdsZSIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWluZm8iOiJIb21lIFBhbmVsIHswfSIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLXdhaXQtZm9yLW1haW4tcmVzcG9uc2UiOiJQcm9jZXNzaW5nIGxheWVyLi4uIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtb2ZmbGluZS1tYW5hZ2VtZW50LW9wdGlvbnMiOiJPZmZsaW5lIE1hbmFnZW1lbnQgT3B0aW9ucyB7MH0iLCJsYW5ndWFnZS1ib29rbWFya3MtYWRkIjoiQm9va21hcmsgQ3VycmVudCBFeHRlbnQiLCJsYW5ndWFnZS1jb21tb24tcmVzdWx0cy1zdWJ0cmFjdC1jb25maXJtYXRpb24iOiJ7MX0gc3VidHJhY3RlZCBmcm9tICd7MH0nIiwibGFuZ3VhZ2UtbWVudS1zYXZlLXJlc3VsdHMtZGVzYyI6IlNhdmUgdGhlIGxpc3Qgb2YgcmVzdWx0cyBmb3IgZnV0dXJlIHVzZSIsImxhbmd1YWdlLWNvbW1vbi1uby1yZXN1bHRzIjoiTm8gcmVzdWx0cyB0byBkaXNwbGF5IiwibGFuZ3VhZ2UtdGFibGUtbWFwcGluZy12YWxpZGF0aW9uLWVycm9yLWFsbC1jb29yZGluYXRlcy1tdXN0LWJlLXNldCI6IkFsbCBjb29yZGluYXRlcyBtdXN0IGJlIHNldC4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWNyZWF0ZS1oaWdobGlnaHQtbGF5ZXIiOiJDcmVhdGVzIGEgbmV3IGhpZ2hsaWdodCBsYXllciB3aXRoIHRoZSBzcGVjaWZpZWQgbmFtZS4iLCJsYW5ndWFnZS1tZW51LWlkZW50aWZ5LXJlY3RhbmdsZSI6IklkZW50aWZ5IGJ5IHJlY3RhbmdsZSIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1zeW5jLXdhcm5pbmdzIjoiV2FybmluZ3MiLCJsYW5ndWFnZS10b29sYmFyLWJvb2ttYXJrLW9wZW4iOiJPcGVuIHRoZSBib29rbWFya3MgdmlldyIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1vcGVyYXRvci1sZXNzLXRoYW4tZXF1YWwtdG8iOiI8PSIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLWVycm9yLWludmFsaWQtemlwLW1lc3NhZ2UiOiJUaGUgemlwIGZpbGUgeW91IHVwbG9hZGVkIHdhc24ndCByZWNvZ25pemVkIGJ5IHRoZSBzZXJ2ZXIuIEEgemlwcGVkIHNoYXBlZmlsZSBtdXN0IGNvbnRhaW4gYSAnLnNocCcgZmlsZS4gQSB6aXBwZWQgZmlsZSBnZW9kYXRhYmFzZSBtdXN0IGNvbnRhaW4gYSBmb2xkZXIgZW5kaW5nIGluICcuZ2RiJy4iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctaGFzLWdlb21ldHJ5IjoiVGhpcyBmZWF0dXJlIGhhcyBnZW9tZXRyeS4iLCJsYW5ndWFnZS1zaGVsbC1kYXRhZnJhbWUiOiJFeHBhbmQvQ29sbGFwc2UgdGhlIGRhdGEgZnJhbWUuIiwibGFuZ3VhZ2UtbGF5ZXItc2VsZWN0b3ItZGVmYXVsdC1jbGVhci1hbGwtdGV4dCI6IkNsZWFyIEFsbCIsImxhbmd1YWdlLWxheWVyc3R5bGVzLWN1c3RvbS1uYW1lIjoiQ3VzdG9tIExheWVyIFN0eWxlcyIsImxhbmd1YWdlLWJ1ZmZlci11bml0LWZlZXQtZGlzcGxheS1uYW1lIjoiRmVldCAoZnQpIiwibGFuZ3VhZ2UtdG9vbGJhci1idWZmZXJpbmctZGlzYWJsZSI6IkRpc2FibGUgYnVmZmVyaW5nIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi11cGRhdGUtcmVsYXRlZC1yZWNvcmQiOiJVcGRhdGVzIGEgcmVsYXRlZCB0YWJsZSByZWNvcmQuIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtZHJhd21vZGUtcG9pbnQiOiJQb2ludCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tdG9nZ2xlLWxvZy12aWV3IjoiQWN0aXZhdGVzIG9yIGRlYWN0aXZhdGVzIGxvZyB2aWV3LiIsImxhbmd1YWdlLXNlbGVjdC1mZWF0dXJlcy1yZXBsYWNlLWNvbmZpcm1hdGlvbiI6Iid7MH0nIHJlcGxhY2VkIHdpdGggezF9IGZlYXR1cmUocykiLCJsYW5ndWFnZS1sYXllci1kZXRhaWxzLXZhbGlkYXRpb24tZXJyb3ItaW52YWxpZC1wdWJsaXNoLW5hbWUtbWVzc2FnZSI6IldoZW4gcHVibGlzaGluZywgc3BhY2VzIGFuZCBzcGVjaWFsIGNoYXJhY3RlcnMgYXJlIG5vdCBhbGxvd2VkLiIsImxhbmd1YWdlLWlkZW50aWZ5LWZyZWVoYW5kLXBvbHlsaW5lLXRvb2wiOiJEcmFnIG9uIHRoZSBtYXAgdG8gZHJhdyBhIGxpbmUuIiwibGFuZ3VhZ2UtbWJsLWlkZW50aWZ5LXBvaW50LXRvb2wiOiJUYXAgdG8gZmluZCBmZWF0dXJlcyBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLXVwbG9hZGVyLWVycm9yLWludmFsaWQtZm9ybS10aXRsZSI6IlZhbGlkYXRpb24gRXJyb3IiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXNob3ctbWFwLXRpcC1yZXN1bHRzIjoiU2hvd3MgbWFwIHRpcCByZXN1bHRzIGZvciBhIEZlYXR1cmVTZXRDb2xsZWN0aW9uIHByZXZpb3VzbHkgYWRkZWQgdG8gdGhlIEZlYXR1cmVTZXRNYW5hZ2VyLiIsImxhbmd1YWdlLW1hcmt1cC1kZWxldGUtbXVsdGlwbGUtcHJvbXB0LXRpdGxlIjoiV2FybmluZzogTXVsdGlwbGUgaXRlbXMgc2VsZWN0ZWQgZm9yIGRlbGV0aW9uISIsImxhbmd1YWdlLWJhc2VtYXAtc2xpZGVyLXRvb2x0aXAiOiJTZWxlY3QgYSBiYXNlbWFwIiwibGFuZ3VhZ2Utb2ZmbGluZS12aWV3ZXItcHJvdmlzaW9uaW5nLWZhaWxlZC1zdGF0dXM0MDQiOiJUaGUgZG93bmxvYWQgb2YgcmVzb3VyY2VzIGZvciBvZmZsaW5lIHVzZSBmYWlsZWQ6IFRoZSBvZmZsaW5lIGRhdGEgY291bGQgbm90IGJlIGZvdW5kLiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tc2hvdy1yZXN1bHRzLWZlYXR1cmUtYWN0aW9uIjoiQ3JlYXRlcyBSZXN1bHRzTGlzdEZlYXR1cmVBY3Rpb25zVmlldyBhbmQgZGlzcGxheXMgdGhlIEZlYXR1cmUgQWN0aW9ucy4iLCJsYW5ndWFnZS10YWJsZS1tYXBwaW5nLXZhbGlkYXRpb24tZXJyb3ItYXhlcy1tdXN0LWJlLXVuaXF1ZSI6IkF4ZXMgY2Fubm90IHNoYXJlIHRhYmxlIGNvbHVtbnMuIiwibGFuZ3VhZ2Utc2F2ZWQtcmVzdWx0cy1vdmVyd3JpdGUtcHJvbXB0LXRpdGxlIjoiT3ZlcndyaXRlIHNhdmVkIHJlc3VsdHMgJ3swfSc/IiwibGFuZ3VhZ2Utb2ZmbGluZS12aWV3ZXItcHJvdmlzaW9uaW5nLWZhaWxlZC1zdGF0dXM0MDMiOiJUaGUgZG93bmxvYWQgb2YgcmVzb3VyY2VzIGZvciBvZmZsaW5lIHVzZSBmYWlsZWQ6IFBlcm1pc3Npb24gZGVuaWVkLiIsImxhbmd1YWdlLXByb2plY3QtY29uZmlybS1yZW1vdmUtZ3Vlc3QtbGluay10aXRsZSI6IlJlbW92ZSBHdWVzdCBMaW5rIiwibGFuZ3VhZ2Utc2hhcmUtcHJvamVjdC1jbGVhci1idXR0b24tdGV4dCI6IlN0b3AgU2hhcmluZyIsImxhbmd1YWdlLWxheWVyLWFkZGl0aW9uLXNlYXJjaGFibGUiOiJTZWFyY2ggZW5hYmxlZCIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXBsYWNlaG9sZGVyIjoiUGxhY2Vob2xkZXIgVmlldyB7MH0iLCJsYW5ndWFnZS1sYXllci1zZWxlY3Rvci1zbmFwcGluZy1zZWxlY3QtYWxsLXRvb2x0aXAiOiJTZWxlY3QgYWxsIHNuYXBwYWJsZSBsYXllcnMiLCJsYW5ndWFnZS11cGxvYWQtZGF0YS1pb3Mtd2FybmluZy1tZXNzYWdlIjoiVXBsb2FkIERhdGEgZnVuY3Rpb25hbGl0eSBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBvbiBpT1MgZGV2aWNlcy4iLCJsYW5ndWFnZS1sYXllci1hZGRpdGlvbi1jb25maXJtLWFkZC1sYXllci1tZXNzYWdlLWFub255bW91cyI6IlRoZSBzZXJ2aWNlIGNvbWVzIGZyb20gYW4gdW50cnVzdGVkIHNvdXJjZS4gSXQgbWlnaHQgY29udGFpbiB1bnNhZmUgY29udGVudC4gUHJvY2VlZD8iLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtYWRkLWVycm9yIjoiVW5hYmxlIHRvIGFkZCB0aGUgT2ZmbGluZSBNYXAuIHswfSIsImxhbmd1YWdlLWZlYXR1cmUtYWN0aW9ucy1kZXNjcmlwdGlvbiI6IkZlYXR1cmUgQWN0aW9ucyIsImxhbmd1YWdlLWxheWVyLWRldGFpbHMtdmFsaWRhdGlvbi1lcnJvci1maWxlZ2VvZGF0YWJhc2UtbXVzdC1iZS1wdWJsaXNoZWQtbWVzc2FnZSI6IkZpbGVHREIgdXBsb2FkcyBtdXN0IGJlIHB1Ymxpc2hlZC4iLCJsYW5ndWFnZS1wcm9qZWN0cy1zb3J0LW1vZGlmaWVkLWRpc3BsYXktbmFtZSI6Ik5ld2VzdCBNb2RpZmllZCIsImxhbmd1YWdlLXN5bWJvbC1kaWFsb2ctYnV0dG9uLXByb2NlZWQiOiJQcm9jZWVkIiwibGFuZ3VhZ2UtdG9vbGJhci1ncm91cC1hZHZhbmNlZC1tZWFzdXJlbWVudCI6IkFkdmFuY2VkIE1lYXN1cmVtZW50IiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtYXJlYS1zZWxlY3QiOiJTZWxlY3QgYXJlYSB1bml0IiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy10ZXh0IjoiVGhlcmUgYXJlIHswfSBiYXNlbWFwcyBzZWxlY3RlZC4iLCJsYW5ndWFnZS10b29sYmFyLWdyb3VwLWZpbmQtZGF0YSI6IkZpbmQgRGF0YSIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1uZXctcmVsYXRlZC1mZWF0dXJlLWRlZmF1bHQiOiJOZXcgUmVsYXRlZCBGZWF0dXJlIiwibGFuZ3VhZ2UtdG9vbGJhci1ncm91cC1hbmFseXNpcyI6IkFuYWx5c2lzIiwibGFuZ3VhZ2UtbWVudS10aXRsZSI6Ikkgd2FudCB0by4uLiIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1jcmVhdGUtZWRpdC1zZWxlY3QtcG9pbnQtdG9vbCI6IkNsaWNrIG9yIHRhcCBvbiB0aGUgbWFwIHRvIHNlbGVjdCBhIGZlYXR1cmUuIiwibGFuZ3VhZ2UtcHJvamVjdC1zdGF0dXMtc2F2aW5nIjoiU2F2aW5nIHByb2plY3QiLCJsYW5ndWFnZS1tZW51LW9mZmxpbmUtbWFwLWVkaXRvci1nZW9tZXRyeS1hY3Rpb25zLWVsbGlwc2UtZGVzYyI6IkRyYXcgYW4gZWxsaXBzZSBmb3IgdGhlIGFyZWEgb2YgaW50ZXJlc3QgZ2VvbWV0cnkuIiwibGFuZ3VhZ2UtbWVudS1vZmZsaW5lLW1hcC1lZGl0b3ItZ2VvbWV0cnktYWN0aW9ucy1jdXJyZW50ZXh0ZW50IjoiQ3VycmVudCBFeHRlbnQiLCJsYW5ndWFnZS10b29sYmFyLWlkZW50aWZ5LXNuYXBwaW5nLXRvb2x0aXAiOiJFbmFibGUvRGlzYWJsZSBzbmFwcGluZyB3aGlsZSBpZGVudGlmeWluZyIsImxhbmd1YWdlLW1lbnUtcmVtb3ZlLXVzZXItYWRkZWQtbWFwc2VydmljZS1kZXNjIjoiUmVtb3ZlIHRoaXMgdXNlciBhZGRlZCBzZXJ2aWNlIGZyb20gdGhlIG1hcC4iLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItb3BlcmF0b3ItZW5kcy13aXRoIjoiZW5kcyB3aXRoIiwibGFuZ3VhZ2UtZXhwb3J0LXdlYi1tYXAtZGVzY3JpcHRpb24iOiJFeHBvcnQgV2ViIE1hcCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tc3RlcC16b29tLW91dCI6Ilpvb21zIG91dCBhIHN0ZXAiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWNsZWFyLXN0b3JhZ2UtZm9yLWFwcGxpY2F0aW9uIjoiQ2xlYXJzIHRoZSBvZmZsaW5lIGRhdGEgZm9yIHRoZSBjdXJyZW50IGFwcGxpY2F0aW9uLiIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWl3dG0iOiJJIFdhbnQgVG8gTWVudSB7MH0iLCJsYW5ndWFnZS1ydW4tcmVwb3J0LXByb2dyZXNzLWhlYWRpbmctc3luYyI6IkdlbmVyYXRpbmcgUmVwb3J0Li4uIiwibGFuZ3VhZ2UtdG9vbGJhci10YXNrcy11cGxvYWQtZGF0YS10b29sdGlwIjoiVXBsb2FkIGxheWVycyBmcm9tIHlvdXIgY29tcHV0ZXIgb250byB0aGUgbWFwIiwibGFuZ3VhZ2UtbGF5ZXItY2F0YWxvZy1tYXgtbGltaXQiOiJUb28gbWFueSBsYXllcnMgYWRkZWQgYXQgb25jZS4gUGxlYXNlIGFkZCBsZXNzIHRoYW4gezB9IGxheWVycy4iLCJsYW5ndWFnZS1idWZmZXItdW5pdC1raWxvbWV0ZXItZGlzcGxheS1uYW1lIjoiS2lsb21ldGVycyAoa20pIiwibGFuZ3VhZ2UtcHJpbnQtaGlkZS1wcmV2aWV3LWNlbnRlciI6IkhpZGUgcHJpbnQgcHJldmlldyIsImxhbmd1YWdlLWdlb21ldHJ5LWNhcHR1cmVkIjoiR2VvbWV0cnkgY2FwdHVyZWQuIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLXRvb2wtc3RhdHVzIjoiQ2xpY2sgb3IgdGFwIGEgbG9jYXRpb24gb24gdGhlIG1hcCB0byBwbG90IGEgY29vcmRpbmF0ZS4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXJ1bi13b3JrZmxvdy13aXRoLWFyZ3VtZW50cyI6IlJ1bnMgYSB3b3JrZmxvdyB3aXRoIGEgc2V0IG9mIGlucHV0IGFyZ3VtZW50cy4iLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1yZWN0YW5nbGUtdG9vbHRpcCI6IkRyYXcgYSByZWN0YW5nbGUgb24gdGhlIG1hcCIsImxhbmd1YWdlLXRpbWVzbGlkZXItc2V0dGluZ3MtdGltZS1pbnRlcnZhbC1leGNlZWRzLXRpbWUtZXh0ZW50IjoiVGhlIGN1cnJlbnRseSBzZWxlY3RlZCB0aW1lIGludGVydmFsIGV4Y2VlZHMgdGhlIHRvdGFsIHRpbWUgZXh0ZW50IGZvciB0aGlzIHRpbWUgc2xpZGVyIHByb2ZpbGUuIERlZmF1bHQgdmFsdWVzIGhhdmUgYmVlbiBhcHBsaWVkLiIsImxhbmd1YWdlLWNsZWFyLXN0b3JhZ2UtZGVzYyI6IkNsZWFycyBhbGwgZGF0YSBzdG9yZWQgYnkgdGhpcyB2aWV3ZXIuIiwibGFuZ3VhZ2Utb2ZmbGluZS1hdXRvbWF0aWMtcHJvdmlzaW9uaW5nLXN0YXJ0ZWQiOiJQcm92aXNpb25pbmcgdmlld2VyIGZvciBvZmZsaW5lIHVzZS4uLiIsImxhbmd1YWdlLWxhYmVsT3B0aW9ucy1jZW50ZXItY2VudGVyIjoiY2VudGVyLWNlbnRlciIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbmV3LXRpdGxlIjoiTmV3IE9mZmxpbmUgTWFwIiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWxhcmdlIjoiTGFyZ2UiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1yZXN1bHRzLXRhYmxlIjoiUmVzdWx0cyBUYWJsZSB7MH0iLCJsYW5ndWFnZS1zaGVsbC1kYXRhZnJhbWUtZGlzYWJsZWQtbGF5ZXItbGlzdCI6Ik9wZW4gdGhlIExheWVyIExpc3QiLCJsYW5ndWFnZS10YWJsZS1tYXBwaW5nLXNvdXJjZS1zcGF0aWFsLXJlZmVyZW5jZS1tYXAtd2tpZCI6IldLSUQiLCJsYW5ndWFnZS1hcHAtZ29uZS1vbmxpbmUiOiJZb3UgYXJlIG9ubGluZS4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWZzbS1jb2xsZWN0aW9uLXNldC1jb21tYW5kIjoiU2V0IHRoZSBwcmVmZXJyZWQgY29tbWFuZCB0byBvcGVuIHRoZSBmZWF0dXJlIHNldCBjb2xsZWN0aW9uIGZvciB0aGUgZ2l2ZW4gc291cmNlIG5hbWUuIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLXVwZGF0ZS1jb29yZGluYXRlLWJ1dHRvbi10ZXh0IjoiVXBkYXRlIiwibGFuZ3VhZ2UtcHJpbnRpbmctZW1haWwtYWRkcmVzcyI6IkVtYWlsIEFkZHJlc3MiLCJsYW5ndWFnZS1ydW4tcmVwb3J0LWVycm9yLW1lc3NhZ2UtdGltZW91dCI6IkFuIGVycm9yIG9jY3VycmVkOiB0aGUgcmVwb3J0IHRpbWVkIG91dCAoaXQgdG9vayB0b28gbG9uZyB0byBnZW5lcmF0ZSwgb3IgdGhlcmUgaXMgYSBwcm9ibGVtIHdpdGggeW91ciBjb25uZWN0aW9uKS4iLCJsYW5ndWFnZS10b29sYmFyLXRhc2tzLXByaW50LW1hcC10b29sdGlwIjoiQ3JlYXRlIGEgcHJpbnRhYmxlIHZlcnNpb24gb2YgdGhlIG1hcCIsImxhbmd1YWdlLXByb2plY3RzLWxvYWQtYnV0dG9uLXRpdGxlIjoiTG9hZCBQcm9qZWN0IiwibGFuZ3VhZ2UtbmF0aXZlLW5vLXBob3RvLW5vLWNhbWVyYS1kZXRlY3RlZCI6Ik5vIGNhbWVyYSBkZXRlY3RlZC4iLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItc2ltcGxlLWZpbHRlci10b29sdGlwIjoiU2hvdyBzaW1wbGUgZmlsdGVyIGJ1aWxkZXIiLCJsYW5ndWFnZS10b29sYmFyLW1lbnUtZ2xvYmFsLXNhdmUiOiJTYXZlIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi10b2dnbGUtZGF0YS1mcmFtZSI6IkFjdGl2YXRlcyBvciBkZWFjdGl2YXRlcyBkYXRhIGZyYW1lLiIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy11c2Utb25saW5lLWRhdGEtZGVzYyI6IlN0b3AgdXNpbmcgb2ZmbGluZSBtYXBzIGFuZCBzd2l0Y2ggdG8gdXNlIG9ubGluZSBtYXBzIiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWhhbG8tY29sb3IiOiJPdXRsaW5lIENvbG9yIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1nZW9tZXRyeS10aXRsZSI6IlNlbGVjdCBBcmVhIG9mIEludGVyZXN0IiwibGFuZ3VhZ2UtcHJvamVjdHMtbGFzdC1tb2RpZmllZC1ieS1sYWJlbCI6Ikxhc3QgbW9kaWZpZWQgYnk6IiwibGFuZ3VhZ2UtbWFwLXRpcC10aXRsZSI6Ik1hcCBUaXAiLCJsYW5ndWFnZS1wcmludGluZy1wcmludC1qb2Itc3RhdHVzIjoiUHJpbnQgSm9iIFN0YXR1cyIsImxhbmd1YWdlLW1lbnUtcmVzdWx0cy1yZW1vdmUtZmVhdHVyZSI6IlJlbW92ZSBmcm9tIFJlc3VsdHMiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC10ZXh0IjoiVGV4dCIsImxhbmd1YWdlLXNlYXJjaC1pbnN0YW50LXByb3ZpZGVyLXNlYXJjaC1jYW5jZWxsZWQiOiJJbnN0YW50IHNlYXJjaCBjYW5jZWxsZWQuIiwibGFuZ3VhZ2UtdGltZXNsaWRlci1zdGVwLWZvcndhcmQtYnV0dG9uLWxhYmVsIjoiU3RlcCBGb3J3YXJkIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtcG9pbnQtZGVzYy1rZXlib2FyZCI6IlVzZSBhcnJvd3MgdG8gbW92ZSB0aGUgcG9pbnQuIEhpdCBFTlRFUiB0byBhZGQgaXQgdG8gdGhlIG1hcC4iLCJsYW5ndWFnZS10b29sYmFyLWdyb3VwLWVkaXRpbmciOiJFZGl0IERyYXdpbmdzIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWVkaXQtbG9nLWNhcHRpb24iOiJWaWV3IEVkaXQgTG9nIiwibGFuZ3VhZ2UtbmF0aXZlLWFkZC10by1mYXZvcml0ZXMtc3VjY2VzcyI6IlRoaXMgYXBwbGljYXRpb24gaGFzIGJlZW4gYWRkZWQgdG8geW91ciBmYXZvcml0ZXMuIiwibGFuZ3VhZ2Utc25hcHBpbmctbGF5ZXItc2VsZWN0b3ItdGl0bGUiOiJTbmFwcGFibGUgTGF5ZXJzIiwibGFuZ3VhZ2Utc2VsZWN0LWxheW91dCI6IlNlbGVjdCBMYXlvdXQiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1lZGl0LWRlc2MiOiJDbGljayBvciB0YXAgYW4gZXhpc3RpbmcgZHJhd2luZyB0byBiZWdpbiBlZGl0aW5nIGl0LiIsImxhbmd1YWdlLWZlYXR1cmUtY29vcmRpbmF0ZXMtRE1TIjoiRE1TIiwibGFuZ3VhZ2UtbGF5ZXItY2F0YWxvZy1sYXllcmNhdGFsb2d2aWV3LXRpdGxlIjoiQWRkL1JlbW92ZSBNYXAgSW5mb3JtYXRpb24uIiwibGFuZ3VhZ2UtcnVuLXJlcG9ydC1wcm9ncmVzcy1zdGF0dXMiOiJSZXBvcnQgJ3swfScgaXMgcnVubmluZy4uIiwibGFuZ3VhZ2UtdG9vbGJhci1pZGVudGlmeS1mcmVlaGFuZCI6IkZyZWVoYW5kIiwibGFuZ3VhZ2UtbG9nLXRpdGxlIjoiRGVidWcgTG9nIiwibGFuZ3VhZ2UtbmF0aXZlLWRvd25sb2FkLWZhaWxlZCI6IkRvd25sb2FkIEZhaWxlZDogezB9LiIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWNyZWF0ZS1mZWF0dXJlIjoiQ3JlYXRlIEZlYXR1cmUgezB9IiwibGFuZ3VhZ2UtdG9vbGJhci1tdWx0aXRvb2wiOiJNdWx0aS10b29sIiwibGFuZ3VhZ2UtbWVudS1zaG93LWNoYXJ0aW5nLXZpZXctZGVzYyI6IlN3aXRjaCB0byBjaGFydGluZyB2aWV3IiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1hZGQtdGV4dC1tYXJrdXAiOiJQcm9tcHRzIHRoZSB1c2VyIGZvciB0ZXh0IHRvIGFkZCBhcyBtYXJrdXAuIFdoZW4gY29tcGxldGVkLCB0ZXh0IG1hcmt1cCBpcyBhZGRlZCBhdCB0aGUgcHJvdmlkZWQgZ2VvbWV0cnkuIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi16b29tLW91dC10by1leHRlbnQiOiJab29tcyBvdXQgdG8gdGhlIGdpdmVuIGV4dGVudC4iLCJsYW5ndWFnZS1tZW51LW1hcHRpcC1hY3Rpb25zLXZpZXctZGV0YWlscy1kZXNjIjoiVmlldyBhZGRpdGlvbmFsIGRldGFpbHMgYWJvdXQgdGhpcyBmZWF0dXJlIiwibGFuZ3VhZ2UtbWVudS1ydW4td29ya2Zsb3ciOiJQZXJmb3JtIGEgdGFzayIsImxhbmd1YWdlLXVwbG9hZC1kaWFsb2ctdmFsaWRhdGlvbi1lcnJvci10b28tbWFueSI6IlRvbyBtYW55IGZpbGVzLiIsImxhbmd1YWdlLWJ1ZmZlci1vcHRpb25zLW1hcmt1cC1zZWxlY3QiOiJTYXZlIHRoZSBCdWZmZXIgb24gdGhlIERyYXdpbmcgTGF5ZXIiLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtbGlzdC1hY3Rpb25zLWRlc2MiOiJDb29yZGluYXRlIExpc3QgQWN0aW9ucyIsImxhbmd1YWdlLXRvb2xiYXItZWRpdGluZy1tYW5hZ2Utb2ZmbGluZS1kYXRhIjoiTWFuYWdlIE9mZmxpbmUgRGF0YSIsImxhbmd1YWdlLW1lbnUtcmVzdWx0cy10YWJsZS1hY3Rpb25zLWRlc2MiOiJSZXN1bHRzIFRhYmxlIEFjdGlvbnMiLCJsYW5ndWFnZS1jYXB0dXJlLWdlb21ldHJ5LXBvbHlsaW5lLWtleWJvYXJkIjoiVXNlIGFycm93cyB0byBtb3ZlIHRoZSBwb2ludC4gSGl0IEVOVEVSIHRvIHBsb3QgYW5kIGJlZ2luIG1vdmluZyB0aGUgbmV4dCBwb2ludC4gSGl0IEVOVEVSIHR3aWNlIHRvIGZpbmlzaC4iLCJsYW5ndWFnZS10b29sYmFyLWlkZW50aWZ5LXBvaW50LWRlc2MiOiJDbGljayBvciB0YXAgYSBsb2NhdGlvbiBvbiB0aGUgbWFwIHRvIGxlYXJuIHdoYXRcdTIwMTlzIHRoZXJlLiIsImxhbmd1YWdlLXRvb2xiYXItaWRlbnRpZnktcG9seWdvbi10b29sdGlwIjoiRHJhdyBhIGN1c3RvbSBzaGFwZSBvbiB0aGUgbWFwIHRvIGZpbmQgb3V0IGFib3V0IGFuIGFyZWEiLCJsYW5ndWFnZS1iYXJjb2RlLXNjYW5uZXItdW5hdmFpbGFibGUiOiJRUiBzY2FubmVyIGlzIHVuYXZhaWxhYmxlLiIsImxhbmd1YWdlLXRvb2xiYXItM3JkLXBhcnR5LW1hcHMtc2hvdy1tYXBzLXRvb2x0aXAiOiJEaXNwbGF5IGxpbmtlZCBtYXBzIGluIHRoZSBleHRlcm5hbCBjb21wb25lbnQgdmlldyIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXVuaXQtc3F5YXJkIjoiWWFyZMKyICh5ZMKyKSIsImxhbmd1YWdlLW1hcC10aXAtZmVhdHVyZXMtb2YiOiJvZiIsImxhbmd1YWdlLW1lbnUtcGxvdC1jb29yZGluYXRlLWRlc2MiOiJQbG90IGEgY29vcmRpbmF0ZSBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLW5hdGl2ZS1kb3dubG9hZC1kb3dubG9hZGluZyI6IkRvd25sb2FkaW5nIHswfTogezF9JSBjb21wbGV0ZS4iLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItb3BlcmF0b3Itc3RhcnRzLXdpdGgiOiJzdGFydHMgd2l0aCIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLWVycm9yLXVuYWJsZS10by1wYXJzZS1leGNlbC1maWxlLW1lc3NhZ2UiOiJFYWNoIHdvcmtzaGVldCBpbiB0aGUgZmlsZSBtdXN0IGNvbnRhaW4gcm93cyBvZiBkYXRhLiIsImxhbmd1YWdlLXRvb2xiYXItYnVmZmVyaW5nLWFsdC1lbmFibGUiOiJFbmFibGUgYnVmZmVyaW5nIGZvciBhY3RpdmUgdG9vbCIsImxhbmd1YWdlLXRvb2xiYXItaWRlbnRpZnktbGF5ZXJzLWNoYW5nZSI6IklkZW50aWZpYWJsZSBMYXllcnMiLCJsYW5ndWFnZS1sYXllcmxpc3Qtb3BhY2l0eS1zbGlkZXItaGFuZGxlIjoiU2xpZGVyIGhhbmRsZSIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1mZWF0dXJlLXNldC1jb2xsZWN0aW9uLWRpc3BsYXktbmFtZSI6IlF1ZXJ5IFJlc3VsdHMiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1yZWN0YW5nbGUiOiJSZWN0YW5nbGUiLCJsYW5ndWFnZS1iYXJjb2RlLXNjYW5uZXItc3dpdGNoIjoiU3dpdGNoIFNvdXJjZSIsImxhbmd1YWdlLWxheWVyLWFkZGl0aW9uLWVycm9yIjoiTGF5ZXIgQWRkaXRpb24gRXJyb3IiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWxheWVycy1lZGl0YWJsZS1vZmZsaW5lIjoiRWRpdGFibGUgb2ZmbGluZSIsImxhbmd1YWdlLXRvb2xiYXItYW5hbHlzaXMtbG9jYXRpb24taW5mb3JtYXRpb24iOiJMb2NhdGlvbiBJbmZvcm1hdGlvbiIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWZlYXR1cmUtZGV0YWlscy1leHBhbmRlZCI6IkV4cGFuZGVkIEZlYXR1cmUgRGV0YWlscyB7MH0iLCJsYW5ndWFnZS1kaXNwbGF5LXJlc3VsdC1waWNrZXItc2VsZWN0LW5vbmUiOiJTZWxlY3QgTm9uZSIsImxhbmd1YWdlLXRvb2xiYXItY2xlYXItYWxsIjoiQ2xlYXIiLCJsYW5ndWFnZS1sYWJlbE9wdGlvbnMtc2hvdy1sYWJlbHMiOiJTaG93IExhYmVscyIsImxhbmd1YWdlLXRvb2xiYXItdGFza3MtcHJpbnRpbmciOiJQcmludGluZyIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1jcmVhdGUtZWRpdC1kZXNjcmlwdGlvbiI6IlNlbGVjdCB0byBzdGFydCBlZGl0aW5nIGEgbmV3IG9yIGV4aXN0aW5nIGZlYXR1cmUiLCJsYW5ndWFnZS1wcm9qZWN0cy1kZXNjcmlwdGlvbi1tb3JlIjoiTW9yZSIsImxhbmd1YWdlLXNlYXJjaC1hcmNnaXMtc2NvcmUiOiJTY29yZSIsInRpbWVwaWNrZXIucmVnaW9uYWwiOnsic2Vjb25kVGV4dCI6IlNlY29uZCIsInRpbWV6b25lVGV4dCI6IlRpbWUgWm9uZSIsImFtTmFtZXMiOlsiQU0iLCJBIl0sIm1pY3Jvc2VjVGV4dCI6Ik1pY3Jvc2Vjb25kIiwidGltZVN1ZmZpeCI6IiIsImN1cnJlbnRUZXh0IjoiTm93IiwiaG91clRleHQiOiJIb3VyIiwibWlsbGlzZWNUZXh0IjoiTWlsbGlzZWNvbmQiLCJ0aW1lRm9ybWF0IjoiSEg6bW0iLCJ0aW1lVGV4dCI6IlRpbWUiLCJjbG9zZVRleHQiOiJEb25lIiwicG1OYW1lcyI6WyJQTSIsIlAiXSwibWludXRlVGV4dCI6Ik1pbnV0ZSIsImlzUlRMIjpmYWxzZSwidGltZU9ubHlUaXRsZSI6IkNob29zZSBUaW1lIn0sImxhbmd1YWdlLW1hcHNlcnZpY2UtYWN0aW9ucy1kZXNjIjoiRGlzcGxheSBhIGxpc3Qgb2YgbWFwIHNlcnZpY2UgYWN0aW9ucyIsImxhbmd1YWdlLW1lbnUtbWFwLWxheWVycy1leHBhbmQiOiJFeHBhbmQgYW5kIGNvbGxhcHNlIHswfSBsYXllciBncm91cCIsImxhbmd1YWdlLWF1dGgtcGFzc3dvcmQiOiJQYXNzd29yZDoiLCJsYW5ndWFnZS1wcm9qZWN0LWVkaXRvci1lcnJvci1uYW1lLXJlcXVpcmVkIjoiUHJvamVjdCBuYW1lIGlzIHJlcXVpcmVkLiIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWVsbGlwc2UtZGVzYyI6IkNsaWNrIGFuZCBkcmFnIHRvIGRyYXcgYW4gZWxsaXBzZSBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLWxheWVybGlzdC10aGVtZS1zZWxlY3RvciI6IlNlbGVjdCBsYXllciB0aGVtZSIsImxhbmd1YWdlLXRhYmxlLW1hcHBpbmcteS1heGlzIjoiWSBBeGlzIENvbHVtbiIsImxhbmd1YWdlLXRvb2xiYXItbmF2aWdhdGlvbi16b29tLWluLXRvb2x0aXAiOiJEcmF3IGFuIGFyZWEgb24gdGhlIG1hcCB0byB6b29tIHRvIiwibGFuZ3VhZ2UtdG9vbGJhci1pZGVudGlmeS1wb2ludC1kZXNjLWtleWJvYXJkIjoiVXNlIGFycm93cyB0byBtb3ZlIHRoZSBwb2ludC4gSGl0IEVOVEVSIHRvIGxlYXJuIHdoYXRcdTIwMTlzIHRoZXJlLiIsImxhbmd1YWdlLXRvb2xiYXItZ3JvdXAtZWRpdCI6IkVkaXQiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctYWRkLWZlYXR1cmUtYnV0dG9uIjoiQWRkIEZlYXR1cmUiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1leHRlcm5hbC1jb21wb25lbnQiOiJFeHRlcm5hbCBDb21wb25lbnQgezB9IiwibGFuZ3VhZ2UtZmVhdHVyZS1hdHRhY2htZW50cy1uby1hdHRhY2htZW50cy1vZmZsaW5lIjoiQXR0YWNobWVudHMgYXJlIG5vdCBhdmFpbGFibGUgd2hlbiBvZmZsaW5lLiIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1uZXctYnV0dG9uIjoiTmV3IiwibGFuZ3VhZ2UtbGVnZW5kLWNsdXN0ZXJzLWRlZmF1bHQtdGl0bGUiOiJDbHVzdGVycyIsImxhbmd1YWdlLWNhcHR1cmUtZ2VvbWV0cnktZnJlZWhhbmQtcG9seWxpbmUiOiJEcmF3IGEgZnJlZWhhbmQgbGluZSBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc3RhdHVzLXRpdGxlLW9rIjoiQWxsIHNlbGVjdGlvbnMgYXJlIE9LLiIsImxhbmd1YWdlLXByb2plY3QtYWN0aW9ucy1kZXNjcmlwdGlvbiI6IlRoZSBwcm9qZWN0IGFjdGlvbiBtZW51IGl0ZW1zIiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLW9wZXJhdG9yLWdyZWF0ZXItdGhhbi1lcXVhbC10byI6Ij49IiwibGFuZ3VhZ2UtdGltZXNsaWRlci1zZXR0aW5ncy10aW1lLWludGVydmFsLXVuaXQiOiJUaW1lIEludGVydmFsIFVuaXQiLCJsYW5ndWFnZS1tZW51LWxhYmVsLW9wdGlvbnMtdG9nZ2xlLWRlc2MiOiJUdXJuIHRoZSBsYXllcidzIGxhYmVscyBvbiBvciBvZmYuIiwibGFuZ3VhZ2UtdG9vbGJhci1pZGVudGlmeS1mcmVlaGFuZC1wb2x5Z29uLXRvb2x0aXAiOiJJZGVudGlmeSB0aGluZ3Mgb24gdGhlIG1hcCBieSBkcmF3aW5nIGEgZnJlZWhhbmQgc2hhcGUiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1mZWF0dXJlLWxheWVyLWRldGFpbHMiOiJGZWF0dXJlIExheWVyIERldGFpbHMgezB9IiwibGFuZ3VhZ2Utc2F2ZWQtcmVzdWx0cy1yZW5hbWUtcHJvbXB0LWVycm9yIjoiVGhlIG5hbWUgJ3swfScgYWxyZWFkeSBleGlzdHMuIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWludmFsaWQtZGF0ZSI6InswfSBtdXN0IGJlIGEgdmFsaWQgZGF0ZS4iLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtbWFuYWdlLWJ1dHRvbi1kZXNjIjoiQWRkIG9yIHJlbW92ZSBvZmZsaW5lIG1hcHMgZnJvbSB0aGUgc2VydmVyLiIsImxhbmd1YWdlLW1lbnUtc3dpdGNoLXRvLWxheWVybGlzdC1kZXNjIjoiRGlzcGxheSB0aGUgbGlzdCBvZiBhdmFpbGFibGUgbGF5ZXJzIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtc2ltcGxlLWZpbHRlciI6IlNpbXBsZSBGaWx0ZXIgezB9IiwibGFuZ3VhZ2UtbWFya3VwLWNsZWFyLWFsbC1wcm9tcHQtdG9vbHRpcCI6IkVyYXNlIGFsbCBpdGVtcyBhZGRlZCB0byB0aGUgbWFwIiwibGFuZ3VhZ2UtdGltZXNsaWRlci1wbGF5LXRpbWVsaW5lLWJ1dHRvbi1sYWJlbCI6IlBsYXkgVGltZWxpbmUiLCJsYW5ndWFnZS1zaGVsbC1kYXRhZnJhbWUtZGlzYWJsZWQtb3B0aW9ucyI6IlVzZSBvbmUgb2YgdGhlIGZvbGxvd2luZyBsaW5rcyB0byByZXN0b3JlIGNvbnRlbnQgdG8gdGhpcyB2aWV3OiIsImxhbmd1YWdlLWNhcHR1cmUtZ2VvbWV0cnktZnJlZWhhbmQtcG9seWdvbl90b29sdGlwIjoiU2VsZWN0IGJ5IGZyZWVoYW5kIHNoYXBlIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1kZWxldGUtZmVhdHVyZSI6IkRlbGV0ZXMgZWl0aGVyIGEgbmV3IG9yIGV4aXN0aW5nIGZlYXR1cmUuIiwibGFuZ3VhZ2Utc2Vjb25kcy1hYmJyIjoiUyIsImRhdGVwaWNrZXIucmVnaW9uYWwiOnsiZGF0ZUZvcm1hdCI6Im1tL2RkL3l5IiwibmV4dFRleHQiOiJOZXh0IiwiZGF5TmFtZXMiOlsiU3VuZGF5IiwiTW9uZGF5IiwiVHVlc2RheSIsIldlZG5lc2RheSIsIlRodXJzZGF5IiwiRnJpZGF5IiwiU2F0dXJkYXkiXSwicHJldlRleHQiOiJQcmV2IiwiZGF5TmFtZXNTaG9ydCI6WyJTdW4iLCJNb24iLCJUdWUiLCJXZWQiLCJUaHUiLCJGcmkiLCJTYXQiXSwid2Vla0hlYWRlciI6IldrIiwiY3VycmVudFRleHQiOiJUb2RheSIsImZpcnN0RGF5IjowLCJjbG9zZVRleHQiOiJEb25lIiwic2hvd01vbnRoQWZ0ZXJZZWFyIjpmYWxzZSwiZGF5TmFtZXNNaW4iOlsiU3UiLCJNbyIsIlR1IiwiV2UiLCJUaCIsIkZyIiwiU2EiXSwibW9udGhOYW1lc1Nob3J0IjpbIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdLCJpc1JUTCI6ZmFsc2UsIm1vbnRoTmFtZXMiOlsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXSwieWVhclN1ZmZpeCI6IiJ9LCJsYW5ndWFnZS1zYXZlZC1yZXN1bHRzLWVycm9yLW1lc3NhZ2UiOiJBbiBlcnJvciBoYXMgb2NjdXJyZWQuIiwibGFuZ3VhZ2UtbWVudS1nbG9iYWwtc2VhcmNoIjoiU2VhcmNoIiwibGFuZ3VhZ2Utb2ZmbGluZS1wcm92aXNpb25pbmctZmFpbGVkLWludmFsaWQtYnVuZGxlIjoiVGhlIGRvd25sb2FkIGZvciBvZmZsaW5lIHVzZSBmYWlsZWQuIEludmFsaWQgYnVuZGxlLiIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLW51bWZlYXR1cmVzLXVua25vd24tdGl0bGUiOiJUaGVyZSB3YXMgYSBwcm9ibGVtIGNhbGN1bGF0aW5nIHRoZSBudW1iZXIgb2YgZmVhdHVyZXMgd2l0aGluIHRoZSBhcmVhIG9mIGludGVyZXN0LiAgVGhpcyBjYW4gaGFwcGVuIGlmIHRoZSBudW1iZXIgb2YgZmVhdHVyZXMgaXMgaHVnZS4iLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItcXVlcnktdGFibGVzIjoiVGFibGVzOiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tYWRkLXRlbXBvcmFyeS1tYXJrdXAtZ2VvbWV0cnkiOiJBZGRzIGEgdGVtcG9yYXJ5IG1hcmt1cCBncmFwaGljIHRvIHRoZSBtYXAuIFRoZSBDbGVhclRlbXBvcmFyeU1hcmt1cCBjb21tYW5kIHdpbGwgY2xlYXIgdGhpcyBtYXJrdXAuIiwibGFuZ3VhZ2UtY29tbW9uLWNsb3NlIjoiQ2xvc2UiLCJsYW5ndWFnZS1mZWF0dXJlLWRlc2NyaXB0aW9uIjoiRGVzY3JpcHRpb24iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLXNpemUtY2FsY3VsYXRpbmciOiJjYWxjdWxhdGluZy4uLiIsImxhbmd1YWdlLXVwbG9hZGVyLXZhbGlkYXRpb24tZXJyb3Itbm8tZmlsZS1tZXNzYWdlIjoiWW91IG11c3Qgc2VsZWN0IGEgZmlsZSBiZWZvcmUgeW91IGNhbiB1cGxvYWQgaXQuIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbGVuZ3RoLWxhYmVsIjoiTGVuZ3RoIiwibGFuZ3VhZ2UtbWVudS1pZGVudGlmeS1idWZmZXJlZC1mZWF0dXJlLXNldC1jb2xsZWN0aW9uLWRlc2MiOiJJZGVudGlmeSBmZWF0dXJlcyBuZWFyIHRoZXNlIHJlc3VsdHMiLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtbm8tY29vcmRpbmF0ZS1hY3Rpb25zIjoiTm8gY29vcmRpbmF0ZSBhY3Rpb25zIGF2YWlsYWJsZS4iLCJsYW5ndWFnZS1yZXN1bHRzLXRvZ2dsZS1saXN0LXZpZXctZGVzYyI6IlZpZXcgcmVzdWx0cyBpbiBsaXN0IGZvcm1hdCIsImxhbmd1YWdlLWxhYmVsT3B0aW9ucy1iZWxvdy1hZnRlciI6ImJlbG93LWFmdGVyIiwibGFuZ3VhZ2UtbWVudS16b29tLXRvLWxheWVyLWRlc2MiOiJab29tIHRoZSBtYXAgdG8gdGhlIGZ1bGwgZXh0ZW50IG9mIHRoZSBsYXllci4iLCJsYW5ndWFnZS1sYXllci1jYXRhbG9nLWZvbGRlci10ZXh0IjoiUHJlc3MgdG8gT3BlbiIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWNvb3JkaW5hdGVzLXNvdXRoIjoiezB9IMKwIFNvdXRoIiwibGFuZ3VhZ2Utc2F2ZWQtcmVzdWx0cy1icm93c2UtdGl0bGUiOiJTYXZlZCBSZXN1bHRzIiwibGFuZ3VhZ2UtY2xlYXItc3RvcmFnZSI6IkNsZWFyIG9mZmxpbmUgZGF0YSIsImxhbmd1YWdlLXVzZXItc2lnbi1pbiI6IlNpZ24gaW4iLCJsYW5ndWFnZS1jbHVzdGVyaW5nLXRpdGxlIjoiQ2x1c3RlcmluZyBPcHRpb25zIiwibGFuZ3VhZ2UtYnVmZmVyLW9wdGlvbnMtbGVuZ3RoLXVuaXQtc2VsZWN0IjoiU2VsZWN0IGJ1ZmZlciBsZW5ndGggdW5pdCIsImxhbmd1YWdlLW1lbnUtaWRlbnRpZnktcG9pbnQiOiJJZGVudGlmeSBieSBwb2ludCIsImxhbmd1YWdlLXRhYmxlLW1hcHBpbmctc291cmNlLXNwYXRpYWwtcmVmZXJlbmNlLW1hcC1mb3JtYXQiOiJNYXAncyBDdXJyZW50IChXS0lEIHswfSkiLCJsYW5ndWFnZS1zYXZlZC1yZXN1bHRzLWJyb3dzZS1uby1pdGVtcyI6Ik5vIHNhdmVkIHJlc3VsdHMgdG8gZGlzcGxheS4iLCJsYW5ndWFnZS1zbmFwcGluZy1sYXllci11bnJlZ2lzdGVyZWQiOiJMYXllciB7MH0gd2FzIHVucmVnaXN0ZXJlZCBmcm9tIHNuYXBwaW5nLiIsImxhbmd1YWdlLXNlYXJjaC10aXRsZSI6IlNlYXJjaCIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXdvcmtmbG93cyI6IldvcmtmbG93cyB7MH0iLCJsYW5ndWFnZS1vZmZsaW5lLXByb3Zpc2lvbmluZy1mYWlsZWQiOiJUaGUgZG93bmxvYWQgZm9yIG9mZmxpbmUgdXNlIGZhaWxlZC4gVGhlcmUgd2FzIGFuIGVycm9yIHNhdmluZyBhbiBvZmZsaW5lIHJlc291cmNlLiBZb3UgbWF5IGJlIG91dCBvZiBzcGFjZS4iLCJsYW5ndWFnZS1tZW51LWlkZW50aWZ5LWRlc2MiOiJDbGljaywgdGFwLCBvciBkcmF3IGEgcmVjdGFuZ2xlIG9uIHRoZSBtYXAgdG8gaWRlbnRpZnkgZmVhdHVyZXMuIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbWVhc3VyZS1saW5lLXRvb2wtc3RhdHVzIjoiQ2xpY2sgb3IgdGFwIHRvIGRyYXcgYSBtZWFzdXJlbWVudCBsaW5lLiBEb3VibGUtY2xpY2svdGFwIHRvIGZpbmlzaC4iLCJsYW5ndWFnZS1sYXllci1hY3Rpb25zLWRlc2MiOiJEaXNwbGF5IGEgbGlzdCBvZiBsYXllciBhY3Rpb25zIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1ydW4td29ya2Zsb3ctd2l0aC1nZW9tZXRyeSI6IlJ1bnMgYSB3b3JrZmxvdyB3aXRoIGEgZ2VvbWV0cnkgdXNlZCBhcyBhbiBpbnB1dCBhcmd1bWVudC4iLCJsYW5ndWFnZS10b29sYmFyLW5hdmlnYXRpb24taW5pdGlhbC1leHRlbnQtdG9vbHRpcCI6IlJldHVybiB0byB0aGUgaW5pdGlhbCBwb3NpdGlvbiBvZiB0aGUgbWFwIiwibGFuZ3VhZ2UtdXBsb2FkLWRpYWxvZy12YWxpZGF0aW9uLWVycm9yLWV4dGVuc2lvbi1ub3QtYWxsb3dlZC1tZXNzYWdlIjoiWW91ciBzZWxlY3Rpb24ncyBmaWxlIGV4dGVuc2lvbnMgZG9uJ3QgbG9vayByaWdodC4iLCJsYW5ndWFnZS1sYXllci1hZGRpdGlvbi13bXRzLW5hbWUiOiJXTVRTIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtZnJlZWhhbmQtcG9seWdvbi1kZXNjIjoiSG9sZCB0aGUgbW91c2UgYnV0dG9uIG9yIHlvdXIgZmluZ2VydGlwIGRvd24sIHRoZW4gZHJhdyBhIGZyZWVoYW5kIHNoYXBlLiIsImxhbmd1YWdlLWJvb2ttYXJrcy1kZWxldGUiOiJEZWxldGUgYm9va21hcmsiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC11bml0LWhlY3RhcmUiOiJIZWN0YXJlcyAoaGEpIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLXJlc3VsdHMtZGlzcGxheS1uYW1lIjoiQ29vcmRpbmF0ZXMiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctZGVsZXRlLWNvbmZpcm1hdGlvbiI6IkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBwZXJtYW5lbnRseSBkZWxldGUgdGhpcyBmZWF0dXJlIG9uIHRoZSBzZXJ2ZXI/IiwibGFuZ3VhZ2UtdGltZXNsaWRlci1tb3JlLXNldHRpbmdzLWJ1dHRvbi1sYWJlbCI6Ik1vcmUgU2V0dGluZ3MiLCJsYW5ndWFnZS1zZWFyY2gtaW5zdGFudC1wcm92aWRlci1uYW1lIjoiSW5zdGFudFNlYXJjaFByb3ZpZGVyIiwibGFuZ3VhZ2UtdGltZXNsaWRlci1jdXJyZW50LXRpbWUtZXh0ZW50LWluZm8teWVhci1hYmJyIjoieXIiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1jaXJjbGUtZGVzYyI6IkRyYWcgYSBjaXJjbGUgb24gdG8gdGhlIG1hcCIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXBhbGV0dGUtc21hbGwtZWRpdCI6IkVkaXQiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LWZvcm0tdW5uYW1lZC1jb250YWluZXItaGlkZGVuIjoiRm9ybSBncm91cCBoaWRkZW4uIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1leHBvcnR0aWxlcy1lcnJvci1hZ29sbG9naW4iOiJZb3UgbXVzdCBsb2cgaW4gdG8gQXJjR0lTIFBvcnRhbCB0byBhY2Nlc3MgdGhlIGNvbmZpZ3VyZWQgTWFwIFNlcnZpY2UgZm9yIHRoZSBDdXN0b20gT2ZmbGluZSBCYXNlbWFwLiIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1kZWxldGUtYWxsLWNvb3JkaW5hdGVzLWRlc2MiOiJEZWxldGUgYWxsIGN1cnJlbnRseSBwbG90dGVkIGNvb3JkaW5hdGVzIGFuZCByZW1vdmUgdGhlbSBmcm9tIHRoZSBtYXAuIiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLWZpbHRlci1hbHJlYWR5LWFwcGxpZWQiOiJBIGZpbHRlciBoYXMgYWxyZWFkeSBiZWVuIGRlZmluZWQgZm9yIHRoaXMgbGF5ZXIuIFVzZSB0aGUgY2xlYXIgYnV0dG9uIGJlbG93IHRvIGNsZWFyIHRoZSBleGlzdGluZyBmaWx0ZXIgYW5kIGRlZmluZSBhIG5ldyBmaWx0ZXIuIiwibGFuZ3VhZ2UtbWVudS1zaG93LXJlc3VsdHMtdGFibGUiOiJUYWJsZSBWaWV3IiwibGFuZ3VhZ2Utc2VhcmNoLXJlZmluZSI6IlJlZmluZSBzZWFyY2giLCJsYW5ndWFnZS1nZW9sb2NhdGUtZXJyb3Itbm8tcmVzdWx0cyI6Ikdlb2xvY2F0aW9uIGNvbW1hbmQgcmV0dXJuZWQgbm8gcmVzdWx0cy4iLCJsYW5ndWFnZS1mZWF0dXJlLWNvb3JkaW5hdGVzLURETSI6IkRETSIsImxhbmd1YWdlLWJhc2VtYXAtc3dpdGNoZXItdmlldy1uYW1lIjoiU2VsZWN0IGEgQmFzZW1hcCIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1ub3QtZWRpdGFibGUiOiJUaGlzIExheWVyIGlzIG5vdCBlZGl0YWJsZS4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWdlb2xvY2F0ZSI6Ilpvb21zIHRvIHRoZSBjdXJyZW50IGxvY2F0aW9uIG9mIHRoZSBkZXZpY2UuIiwibGFuZ3VhZ2UtdG9vbGJhci1ncm91cC1uYXZpZ2F0aW9uIjoiTmF2aWdhdGlvbiIsImxhbmd1YWdlLW1lbnUtZW50ZXItb2ZmbGluZS1kZXNjIjoiR28gdG8gb2ZmbGluZSBtb2RlIGFuZCB2aWV3IGNhY2hlZCBtYXAgZGF0YS4iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctcmVsYXRpb25zaGlwcy1yZXF1aXJlLWFyY2dpcy12ZXJzaW9uIjoiRWRpdGluZyByZWxhdGlvbnNoaXBzIHJlcXVpcmVzIEFyY0dJUyBzZXJ2ZXIgdmVyc2lvbiAxMC4xIG9yIGhpZ2hlci4iLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtYWRkLWVycm9yLXRpdGxlIjoiRXJyb3IiLCJsYW5ndWFnZS1wYWdpbmctcGFnZSI6IlBhZ2UiLCJsYW5ndWFnZS1sYXllci1hZGRpdGlvbi1sYXllci1wcm9wZXJ0aWVzIjoiTGF5ZXIgUHJvcGVydGllcyIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWNsZWFyLW9mZmxpbmUtZGF0YSI6IkNsZWFyIE9mZmxpbmUgRGF0YSB7MH0iLCJsYW5ndWFnZS1mZWF0dXJlLWRldGFpbHMtbm8tZmVhdHVyZSI6IlRoZXJlIGFyZSBubyBmZWF0dXJlcyBzZWxlY3RlZC4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1tZWFzdXJlLWRpc3RhbmNlLXRvb2wtdG9vbHRpcCI6IkRyYXcgYSBtdWx0aS1wYXJ0IGxpbmUgdG8gbWVhc3VyZSBhIGRpc3RhbmNlIiwibGFuZ3VhZ2UtZXhwb3J0LXdlYi1tYXAtZXhwb3J0LWJ1dHRvbiI6IkV4cG9ydCIsImxhbmd1YWdlLWZlYXR1cmUtc2NhbGUtaW5wdXQtYm94LXRvZ2dsZS1idXR0b24iOiJPcGVuIGFuZCBjbG9zZSBzY2FsZSBpbnB1dCBib3giLCJsYW5ndWFnZS1tZW51LW9mZmxpbmUtbWFwLWVkaXRvci1nZW9tZXRyeS1hY3Rpb25zLWNsZWFyLWRlc2MiOiJDbGVhciB0aGUgYXJlYSBvZiBpbnRlcmVzdCBnZW9tZXRyeS4iLCJsYW5ndWFnZS1tYXAtY29vcmRpbmF0ZXMtREQiOiJMYXQvTG9uZyIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tY2xlYXItc3RvcmFnZS1mb3ItZG9tYWluIjoiQ2xlYXJzIGFsbCBvZmZsaW5lIGRhdGEgZm9yIHRoZSBjdXJyZW50IGRvbWFpbi4gVGhpcyBpbmNsdWRlcyBkYXRhIGZvciBhbGwgYXBwbGljYXRpb25zIGxvYWRlZCBmcm9tIHRoZSBjdXJyZW50IGRvbWFpbi4iLCJsYW5ndWFnZS10YWJsZS1tYXBwaW5nLXZhbGlkYXRpb24tZXJyb3ItbGFja2luZy1yZXF1aXJlZC1hZGRyZXNzLWZpZWxkcyI6IkxhY2tpbmcgcmVxdWlyZWQgYWRkcmVzcyBmaWVsZHMuIiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWJlbG93LXN0YXJ0IjoiYmVsb3ctc3RhcnQiLCJsYW5ndWFnZS1sYWJlbE9wdGlvbnMtdW5rbm93bi1sYWJlbC13YXJuaW5nIjoiVGhlIGNvbmZpZ3VyZWQgbGFiZWwgc3R5bGVzIGZvciB7MH0gY2Fubm90IGJlIGVkaXRlZCBmcm9tIHRoaXMgcGFuZWwuIEN1c3RvbWl6aW5nIHRoZSBsYWJlbCBzdHlsZXMgcmVwbGFjZXMgdGhlIGV4aXN0aW5nIGZvcm1hdHRpbmcgYW5kIGNyZWF0ZXMgbmV3IHN0eWxlcy4iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWxheWVycy1udW1mZWF0dXJlcy1jYWxjdWxhdGluZy10aXRsZSI6IkNhbGN1bGF0aW5nIHRoZSBudW1iZXIgb2YgZmVhdHVyZXMgY3VycmVudGx5IHdpdGhpbiB0aGUgYXJlYSBvZiBpbnRlcmVzdC4iLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1lZGl0LXpvb21pbi10b29sIjoiWm9vbUluVG9vbCIsImxhbmd1YWdlLXNpdGUtc2VydmljZS1sYXllcnMtZmFpbHVyZS12aWV3LXRpdGxlIjoiRXJyb3IgTG9hZGluZyBNYXAgU2VydmljZXMiLCJsYW5ndWFnZS1nZW9sb2NhdGUtZmluZC1kZXNjIjoiRmluZCB5b3VyIGN1cnJlbnQgcG9zaXRpb24uIiwibGFuZ3VhZ2UtZmVhdHVyZS1kZXRhaWxzLWV4cGFuZGVkIjoiU2hvdyBFeHBhbmRlZCBWaWV3IiwibGFuZ3VhZ2UtbGF5ZXItY2F0YWxvZy1mb2xkZXItdXAiOiJZb3UgYXJlIGN1cnJlbnRseSBpbnNpZGUgb2YgdGhlIGdyb3VwIHswfS4gUHJlc3MgRW50ZXIgdG8gZ28gYmFjayB0byB0aGUgZ3JvdXAiLCJsYW5ndWFnZS1sYXllci1kZXRhaWxzLXB1Ymxpc2gtZGlzYWJsZWQtc2hhcGVmaWxlIjoiQXJjR0lTIE9ubGluZSByZXF1aXJlcyBhIC5zaHAsIC5zaHgsIGFuZCAuZGJmIGZpbGUuIiwibGFuZ3VhZ2UtcnVuLXJlcG9ydC1lcnJvci1tZXNzYWdlLW9mZmxpbmUiOiJSZXBvcnRzIGNhbm5vdCBiZSBydW4gd2hpbGUgaW4gb2ZmbGluZSBtb2RlLiIsImxhbmd1YWdlLXRpbWVzbGlkZXItc2V0dGluZ3MtdGltZS1pbnRlcnZhbC11bml0LWRlY2FkZSI6IkRlY2FkZSIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1zZWFyY2giOiJTZWFyY2giLCJsYW5ndWFnZS1uYXRpdmUtcGhvdG8tZnJvbS1jYW1lcmEiOiJBdHRhY2ggcGhvdG8gZnJvbSB0aGUgY2FtZXJhIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbWVhc3VyZS1jaXJjbGUtdG9vbC1zdGF0dXMiOiJDbGljayBvciB0YXAsIHRoZW4gZHJhZyB0byBkcmF3IGEgY2lyY2xlIGFuZCBmaW5kIGFyZWEuIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLXgtdGl0bGUiOiJYIiwibGFuZ3VhZ2Utb3Blbi1maWxlIjoiT3BlbiBGaWxlIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLWhpZGUtY29vcmRpbmF0ZSI6IkhpZGUgQ29vcmRpbmF0ZSIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc3RhdHVzLWFsdC1vayI6IkEgY2hlY2ttYXJrIGljb24gaW5zaWRlIGEgZ3JlZW4gY2lyY2xlIiwibGFuZ3VhZ2UtdG9vbGJhci1idWZmZXJpbmctYWx0LWRpc2FibGUiOiJEaXNhYmxlIGJ1ZmZlcmluZyBmb3IgYWN0aXZlIHRvb2wiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1jbGVhci1hbGwtcHJvbXB0LXRpdGxlIjoiQ2xlYXIgQWxsIE1lYXN1cmVtZW50cz8iLCJsYW5ndWFnZS10aW1lc2xpZGVyLXN0YXJ0LXRvLWVuZC1kYXRlLWxhYmVsIjoiVG8iLCJsYW5ndWFnZS10b29sYmFyLW11bHRpLXRvb2wiOiJNdWx0aS10b29sIiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWhhbG8tc2l6ZSI6Ik91dGxpbmUgV2lkdGgiLCJsYW5ndWFnZS1tZW51LXBvd2VyZWQtYnktZ2VvY29ydGV4IjoiUG93ZXJlZCBieSBHZW9jb3J0ZXgiLCJsYW5ndWFnZS1idWZmZXItZXJyb3ItaW5wdXQtdmFsaWRhdGlvbiI6IkNvdWxkIG5vdCByZXRyaWV2ZSBjaGlsZCB2aWV3IG1vZGVsIGZvciB2aWV3IHdpdGggaWQgezB9IGZvciBpbnB1dCB2YWxpZGF0aW9uLiIsImxhbmd1YWdlLXNoYXJlLXByb2plY3QtY2xlYXItYnV0dG9uLXRpdGxlIjoiU3RvcCBzaGFyaW5nIHdpdGggYWxsIHVzZXJzIGFuZCBncm91cHMiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItb3BlcmF0b3Itbm90LWVxdWFscyI6IiE9IiwibGFuZ3VhZ2UtY29tbW9uLXJlc3VsdHMtcmVtb3ZlZC1jb25maXJtYXRpb24iOiJ7MH0gcmVzdWx0KHMpIHJlbW92ZWQgZnJvbSAnezF9JyIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXRpbWUtZXh0ZW50IjoiVGltZSBFeHRlbnQgezB9IHRvIHsxfS4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1tZWFzdXJlLXJlY3RhbmdsZS10b29sLW5hbWUiOiJSZWN0YW5nbGUiLCJsYW5ndWFnZS10aW1lc2xpZGVyLWN1cnJlbnQtdGltZS1leHRlbnQtaW5mby1kYXktYWJiciI6ImQiLCJsYW5ndWFnZS1tZW51LXN3aXRjaC10by1sZWdlbmQiOiJTaG93IExlZ2VuZCIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXBhbGV0dGUtc21hbGwtZGVsZXRlIjoiRGVsZXRlIiwibGFuZ3VhZ2UtZXhwb3J0LXdlYi1tYXAtY29tcGxldGUtZGVzY3JpcHRpb24iOiJZb3VyIG1hcCBoYXMgYmVlbiBleHBvcnRlZCB0byBBcmNHSVMuIiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLXJlc2V0IjoiUmVzZXQgdG8gRGVmYXVsdCIsImxhbmd1YWdlLXRpbWVzbGlkZXItZW5kLXRpbWUtc2VsZWN0LXRvb2x0aXAiOiJTZXQgdGhlIGVuZCB0aW1lIGZvciB0aGlzIFRpbWUgU2xpZGVyLiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LWRyYXdtb2RlLW11bHRpLXBvaW50IjoiTXVsdGlwb2ludCIsImxhbmd1YWdlLWNvbW1vbi1lZGl0aW5nIjoiRWRpdGluZyIsImxhbmd1YWdlLWNvbW1vbi1yZWZyZXNoIjoiUmVmcmVzaCIsImxhbmd1YWdlLW91dHB1dC1mb3JtYXQiOiJPdXRwdXQgRm9ybWF0IiwibGFuZ3VhZ2UtYnVmZmVyLW9wdGlvbnMtdW5pdHMtbGFiZWwiOiJVbml0cyIsImxhbmd1YWdlLW1lYXN1cmVtZW50LW1lYXN1cmUtcG9seWdvbi10b29sLXRvb2x0aXAiOiJDYWxjdWxhdGUgYXJlYSBmb3IgYSBwb2x5Z29uIiwibGFuZ3VhZ2Utc2hhcmUtcHJvamVjdC1zaGFyZS13aXRoLWxhYmVsIjoiU2hhcmUgd2l0aCIsImxhbmd1YWdlLW1lbnUtcnVuLWEtd29ya2Zsb3ciOiJQZXJmb3JtIGEgdGFzayIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLWNvbmZpcm0tYmVmb3JlLXB1Ymxpc2gtbWVzc2FnZSI6IlB1Ymxpc2hpbmcgdG8gQXJjR0lTIE9ubGluZSBjYW4gdGFrZSBzZXZlcmFsIG1pbnV0ZXMsIGFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBwcm9jZWVkPyIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXRpdGxlIjoiR2VvY29ydGV4IEFjY2Vzc2liaWxpdHkiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1jaGFuZ2VkLWluZm9ybWF0aW9uIjoiTWFwIENoYW5nZWQuIHswfSIsImxhbmd1YWdlLXRha2UtYXBwLW9mZmxpbmUtZGVzYyI6IkdvIHRvIG9mZmxpbmUgbW9kZS4iLCJsYW5ndWFnZS1sYXllci1jYXRhbG9nLWNhbmNlbC1idXR0b24iOiJDYW5jZWwiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC10ZXh0LXRvb2x0aXAiOiJBZGQgeW91ciBvd24gdGV4dCB0byB0aGUgbWFwIiwibGFuZ3VhZ2UtZXh0cmFjdC1kYXRhLWRlc2NyaXB0aW9uIjoiRXh0cmFjdCBmZWF0dXJlIGRhdGEgZnJvbSB0aGUgbWFwLiIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWxlZ2VuZCI6IkxlZ2VuZCB7MH0iLCJsYW5ndWFnZS1zaXRlLXNpZ25pbmctaW4iOiJUaGUgdmlld2VyIG1heSBuZWVkIHRvIGxvZyBpbiB0byBjb250aW51ZS4gIElmIGFub3RoZXIgYnJvd3NlciB3aW5kb3cgb3BlbmVkLCBwbGVhc2UgdXNlIHRoYXQgd2luZG93IHRvIGNvbXBsZXRlIHRoZSBsb2dpbiBwcm9jZXNzLiIsImxhbmd1YWdlLWNvbW1vbi12YWxpZGF0aW9uLXN5bWJvbCI6IioiLCJsYW5ndWFnZS10b29sYmFyLXRhc2tzLWV4cG9ydC1tYXAiOiJFeHBvcnQiLCJsYW5ndWFnZS1mZWF0dXJlLWh5cGVybGlua3MiOiJIeXBlcmxpbmtzIiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWRvbmUiOiJEb25lIiwibGFuZ3VhZ2UtcnVuLXJlcG9ydC1wcm9ncmVzcy1tZXNzYWdlLWFzeW5jIjoiUGxlYXNlIHdhaXQgd2hpbGUgeW91ciByZXBvcnQgcGFnZSBpcyBnZW5lcmF0aW5nLiIsImxhbmd1YWdlLXNoYXJlLXNoYXJlLW9uLXByb21wdC1jb250ZW50IjoiU2hhcmUgdGhlIGxpbmsgdG8gdGhpcyBhcHBsaWNhdGlvbiBvbiB7MH0/IiwibGFuZ3VhZ2UtbWVudS1wcm9qZWN0LWRlbGV0ZS1wcm9qZWN0LWRlc2MiOiJEZWxldGUgdGhlIGN1cnJlbnQgcHJvamVjdCIsImxhbmd1YWdlLXRpbWVzbGlkZXItc2V0dGluZ3MtdGltZS1pbnRlcnZhbC11bml0LXNlY29uZCI6IlNlY29uZCIsImxhbmd1YWdlLW1hcmt1cC1kZWxldGUtbXVsdGlwbGUtcHJvbXB0IjoiTXVsdGlwbGUgZHJhd2luZ3MgZXhpc3QgYXQgdGhlIGxvY2F0aW9uIHlvdSBqdXN0IHNwZWNpZmllZCwgYW5kIGFsbCB3aWxsIGJlIHBlcm1hbmVudGx5IGVyYXNlZCBpZiB5b3UgcHJvY2VlZC4gQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBhbGwgdGhlc2UgaXRlbXM/IiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLXJlbW92ZS1xdWVyeS1jb25kaXRpb24iOiJSZW1vdmUgcXVlcnkgY29uZGl0aW9uIiwibGFuZ3VhZ2UtdGltZXNsaWRlci1zZXR0aW5ncy10aW1lc2xpZGVyLW1vZGUiOiJUaW1lIE1vZGUiLCJsYW5ndWFnZS1mZWF0dXJlLWFjdGlvbnMiOiJBY3Rpb25zIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1yZW1vdmUtZmVhdHVyZS1zZXQtY29sbGVjdGlvbiI6IlJlbW92ZXMgdGhlIHNwZWNpZmllZCBjb2xsZWN0aW9uIGZyb20gdGhlIGZlYXR1cmUgc2V0IG1hbmFnZXIuIiwibGFuZ3VhZ2UtYm9va21hcmtzLWVudGVyLW5hbWUiOiJCb29rbWFyayBOYW1lOiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LW1lYXN1cmUtcG9seWdvbi10b29sLW5hbWUiOiJQb2x5Z29uIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLWFkZC1jb29yZGluYXRlLWJ1dHRvbi10ZXh0IjoiQWRkIiwibGFuZ3VhZ2UtZ2VvbG9jYXRlLWVycm9yLXBlcm1pc3Npb24iOiJJbnN1ZmZpY2llbnQgcGVybWlzc2lvbnMgZm9yIGdlb2xvY2F0aW9uLiIsImxhbmd1YWdlLXRvb2xiYXItZ3JvdXAtZHJhdyI6IkRyYXciLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtYWN0aW9ucy1kZXNjIjoiQ29vcmRpbmF0ZSBBY3Rpb25zIiwibGFuZ3VhZ2UtdG9vbGJhci1pZGVudGlmeS1wb2ludCI6IlBvaW50IiwibGFuZ3VhZ2UtbWFwLXN1cmZhY2UiOiJNYXAgU3VyZmFjZSIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWRyYXdpbmctZWRpdC10b29scyI6IkVkaXQiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1pbmNvcnJlY3QtZHJhdy1tb2RlIjoiVGhlIG1lYXN1cmVtZW50IHRvb2wgb25seSBzdXBwb3J0cyB0aGUgUE9MWUxJTkUgYW5kIFBPTFlHT04gZHJhdyBtb2Rlcy4gUGxlYXNlIHZlcmlmeSBjb25maWd1cmF0aW9uIHNldHRpbmdzIiwibGFuZ3VhZ2UtdGFrZS1hcHAtb25saW5lIjoiR28gT25saW5lIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbWVhc3VyZS1hcmVhLXRvb2wtdG9vbHRpcCI6IkNhbGN1bGF0ZSBhcmVhIGZvciBhIGRlZmluZWQgc2hhcGUiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1jb21wYWN0LXRvb2xiYXIiOiJDb21wYWN0IFRvb2xiYXIgezB9IiwibGFuZ3VhZ2UtY29tbW9uLXdlbGNvbWUiOiJIb21lIiwibGFuZ3VhZ2UtbWVudS1tYXAtY29udGV4dC1tZW51LXRpdGxlLWRlc2MiOiJPcHRpb25zIHJlbGF0ZWQgdG8gYSBnaXZlbiBwb2ludCBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tem9vbS10by1pbml0aWFsLWV4dGVudCI6Ilpvb21zIHRvIHRoZSBpbml0aWFsIGV4dGVudCBvZiB0aGUgY3VycmVudCBTaXRlLiIsImxhbmd1YWdlLXRhYmxlLXJlY29yZC1yZXN1bHRzLWRpYWxvZy1yZWplY3RlZC1yZWNvcmRzLWxpbmsiOiJEb3dubG9hZCByZWplY3RlZCByZWNvcmRzIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1jbGVhci1hY3RpdmUtdG9vbCI6IkNsZWFycyB0aGUgYWN0aXZlIHRvb2wuIiwibGFuZ3VhZ2Utd29ya2Zsb3ctc2l0ZS13b3JrZmxvd3MiOiJTaXRlIFdvcmtmbG93cyIsImxhbmd1YWdlLXRpbWVzbGlkZXItY3VycmVudC10aW1lLWV4dGVudC1pbmZvLW1pbGxpc2Vjb25kLWFiYnIiOiJtcyIsImxhbmd1YWdlLW1lbnUtbGFiZWwtb3B0aW9ucy1kZXNjIjoiVG9nZ2xlIGFuZCBjdXN0b21pemUgdGhlIGxheWVyJ3MgbGFiZWxzLiIsImxhbmd1YWdlLWxheWVyLWFkZGl0aW9uLWVkaXQtbGF5ZXItcHJvcGVydGllcyI6IkVkaXQgbGF5ZXIgcHJvcGVydGllcyIsImxhbmd1YWdlLW1lbnUtem9vbS1pbiI6Ilpvb20gaW4iLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1jb29yZGluYXRlcy1ub3J0aCI6InswfSDCsCBOb3J0aCIsImxhbmd1YWdlLWRzay1pZGVudGlmeS1wb2x5bGluZS10b29sIjoiQ2xpY2sgb3IgdGFwIG9uY2UgdG8gYWRkIHBvaW50cywgdHdpY2UgdG8gZmluaXNoLiIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1tYmwtZnJlZWhhbmQtcG9seWxpbmUtdG9vbCI6IkRyYWcgb24gdGhlIG1hcCB0byBkcmF3IGEgZnJlZWhhbmQgbGluZS4iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLWJ1dHRvbiI6IkJhc2VtYXBzIiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWFib3ZlLWFmdGVyIjoiYWJvdmUtYWZ0ZXIiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWNsb3NlLWRhdGEtZnJhbWUiOiJDbG9zZXMgdGhlIERhdGFSZWdpb24sIGlmIGl0IGlzIHByZXNlbnQgaW4gdGhlIGN1cnJlbnQgc2hlbGwuIiwibGFuZ3VhZ2UtbWVudS1ydW4tcmVwb3J0LWRlc2MiOiJSdW4gYSBSZXBvcnQgb24gdGhlIHNlbGVjdGVkIHJlc3VsdHMiLCJsYW5ndWFnZS1uYXRpdmUtZmlsZS11cGxvYWQtZmFpbGVkIjoiRmlsZSBhdHRhY2htZW50IGZhaWxlZC4gIiwibGFuZ3VhZ2UtaWRlbnRpZnktcmVzdWx0cy1oZWFkZXIiOiJJZGVudGlmeSBSZXN1bHRzIiwibGFuZ3VhZ2Utc2VhcmNoLWluc3RhbnQtcHJvdmlkZXItc2VhcmNoLXN0YXJ0ZWQiOiJTdGFydGluZyBpbnN0YW50IHNlYXJjaC4iLCJsYW5ndWFnZS1sYXllcmxpc3Qtb3BhY2l0eSI6IkFkanVzdCBsYXllciBvcGFjaXR5LiIsImxhbmd1YWdlLXRvb2xiYXItdGFza3MtYWRkLWxheWVycyI6IkFkZCBMYXllcnMiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1kcmF3bW9kZS1mcmVlaGFuZC1wb2x5Z29uIjoiRnJlZWhhbmQgU2hhcGUiLCJsYW5ndWFnZS1jb21tb24tY2FuY2VsIjoiQ2FuY2VsIiwibGFuZ3VhZ2UtbWVudS16b29tLXRvLXZpc2libGUtc2NhbGUtZGVzYyI6Ilpvb20gdGhlIG1hcCB0byBhIHNjYWxlIHdoZXJlIHRoZSBsYXllciBpcyB2aXNpYmxlLiIsImxhbmd1YWdlLWZlYXR1cmUtZGV0YWlscy1jb21wYWN0IjoiU2hvdyBDb21wYWN0IFZpZXciLCJsYW5ndWFnZS10aW1lc2xpZGVyLXJhbmdlLW1vZGUtbWluLWhhbmRsZS1hcmlhLWxhYmVsIjoiVGltZSBzbGlkZXIgc3RhcnQgdGltZSBoYW5kbGUuIiwibGFuZ3VhZ2UtZG93bmxvYWQtYnVuZGxlLWRlc2MiOiJEb3dubG9hZCB0aGUgcmVzb3VyY2VzIG5lZWRlZCB0byBvcGVyYXRlIG9mZmxpbmUuIiwibGFuZ3VhZ2UtdG9vbGJhci1maW5kLWRhdGEiOiJGaW5kIERhdGEiLCJsYW5ndWFnZS1ydW4tcmVwb3J0LXByb2dyZXNzLWhlYWRpbmctYXN5bmMiOiJHZW5lcmF0aW5nIFJlcG9ydCBQYWdlLi4uIiwibGFuZ3VhZ2UtY29tbW9uLXNob3ctZGV0YWlscy1kZXNjcmlwdGlvbiI6IlNlZSBhZGRpdGlvbmFsIGRldGFpbHMgZm9yIHRoaXMgZmVhdHVyZS4iLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItYWRkLWNvbmRpdGlvbiI6IkFkZCBBbm90aGVyIENvbmRpdGlvbiIsImxhbmd1YWdlLWxheWVyLWFkZGl0aW9uLXF1ZXJ5YWJsZSI6IlF1ZXJ5IGVuYWJsZWQiLCJsYW5ndWFnZS11cGxvYWQtZGlhbG9nLXN1cHBvcnRlZC1maWxlcy1sYWJlbCI6IlN1cHBvcnRlZCBmaWxlIHR5cGVzIGluY2x1ZGUiLCJsYW5ndWFnZS10b29sYmFyLWVkaXRpbmctY3JlYXRlLW5ldy1mZWF0dXJlLWdlb2xvY2F0aW9uLXRvb2x0aXAiOiJDcmVhdGUgYSBwb2ludC1iYXNlZCBmZWF0dXJlIHVzaW5nIGdlb2xvY2F0aW9uIiwibGFuZ3VhZ2UtbGF5ZXItYWRkaXRpb24tYXJjZ2lzLXBvcnRhbC1uYW1lIjoiQXJjR0lTIFBvcnRhbCIsImxhbmd1YWdlLWV4dHJhY3QtZGF0YSI6IkV4dHJhY3QgZGF0YSIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tY2xlYXItbWFya3VwIjoiUHJvbXB0cyB0aGUgdXNlciBmb3IgY29uZmlybWF0aW9uLCBhbmQgaWYgYXBwcm92ZWQsIGNsZWFycyBhbGwgb2YgdGhlIG1hcmt1cCBmcm9tIHRoZSBtYXJrdXAgbGF5ZXIuIiwibGFuZ3VhZ2UtcnVuLXJlcG9ydC1lcnJvci1tZXNzYWdlLW91dHB1dC1mb3JtYXQtdW5hdmFpbGFibGUiOiJDb3VsZCBub3QgcnVuIHJlcG9ydDogc2VsZWN0ZWQgb3V0cHV0IGZvcm1hdCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgcmVwb3J0LiIsImxhbmd1YWdlLXNhdmVkLXJlc3VsdHMtZGVsZXRlLXByb21wdC10aXRsZSI6IkRlbGV0ZSBzYXZlZCByZXN1bHRzICd7MH0nIiwibGFuZ3VhZ2UtbWJsLW1hcC1jZW50ZXIiOiJUYXAgdG8gY2VudGVyIHRoZSBtYXAgYXQgdGhhdCBwb2ludC4iLCJsYW5ndWFnZS1zZWFyY2gtYmluZy1sb2NhbGl0eSI6IkxvY2FsaXR5IiwibGFuZ3VhZ2UtbGF5ZXItYWRkaXRpb24tZXJyb3Itbm8tc2VydmljZS1tZXRhZGF0YS1tZXNzYWdlIjoiQ291bGQgbm90IGdldCBtZXRhZGF0YSBmb3Igc2VydmljZS4iLCJsYW5ndWFnZS11cGxvYWQtZGF0YS1lcnJvci1pbnZhbGlkLXppcCI6IkludmFsaWQgWmlwIiwibGFuZ3VhZ2UtY29tbW9uLXJlc3VsdHMtYWRkZWQtY29uZmlybWF0aW9uIjoiezB9IHJlc3VsdChzKSBhZGRlZCB0byAnezF9JyIsImxhbmd1YWdlLWZlYXR1cmUtYXR0YWNobWVudHMiOiJBdHRhY2htZW50cyIsImxhbmd1YWdlLXByb2plY3Qtc3RhdHVzLXVwZGF0aW5nIjoiVXBkYXRpbmcgUHJvamVjdC4uLiIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLWVycm9yLWludmFsaWQtc2hhcGVmaWxlIjoiSW52YWxpZCBTaGFwZWZpbGUiLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtbWFuYWdlLWJ1dHRvbiI6Ik1hbmFnZSIsImxhbmd1YWdlLW1lbnUtem9vbS1pbml0aWFsLWV4dGVudCI6IlJldHVybiB0byBpbml0aWFsIG1hcCBleHRlbnQiLCJsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LWxpbmtzLWFkZC1idXR0b24tdGl0bGUiOiJDcmVhdGUgYSBuZXcgbGluayIsImxhbmd1YWdlLXByb2plY3Qtc3RhdHVzLXRpdGxlIjoiUHJvamVjdHMiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1kcmF3bW9kZS1saW5lIjoiTGluZSIsImxhbmd1YWdlLXNlYXJjaC1iaW5nLWFkbWluLWRpc3RyaWN0IjoiQWRtaW5pc3RyYXRpdmUgRGlzdHJpY3QiLCJsYW5ndWFnZS1sYWJlbE9wdGlvbnMtZm9udC1mYW1pbHkiOiJGb250IEZhbWlseSIsImxhbmd1YWdlLW9mZmxpbmUtdmlld2VyLXByb3Zpc2lvbi1vbmxpbmUtb25seSI6IllvdSBtdXN0IGJlIG9ubGluZSB0byBkb3dubG9hZCByZXNvdXJjZXMgdG8gdXNlIG9mZmxpbmUuIiwibGFuZ3VhZ2UtdXBsb2FkLWRhdGEtY29uZmlybS1iZWZvcmUtcHVibGlzaCI6IlByb2NlZWQgd2l0aCBQdWJsaXNoIiwibGFuZ3VhZ2UtbGF5ZXJsaXN0LXRvZ2dsZSI6IlRvZ2dsZSBsYXllciB2aXNpYmlsaXR5IiwibGFuZ3VhZ2UtY29tbW9uLWZlYXR1cmUtc3luYy1zZXR0aW5ncy1kZXNjIjoiRGlzcGxheXMgYSBsaXN0IG9mIGZlYXR1cmUgbGF5ZXJzIHRvIGNob29zZSBmcm9tLiIsImxhbmd1YWdlLWJ1ZmZlci11bml0LW5hdXRpY2FsbWlsZS1kaXNwbGF5LW5hbWUiOiJOYXV0aWNhbCBNaWxlcyAoTk0pIiwibGFuZ3VhZ2UtYm9va21hcmtzLWp1bXAiOiJKdW1wIHRvIGEgYm9va21hcmsuLi4iLCJsYW5ndWFnZS1kb3dubG9hZC1idW5kbGUiOiJEb3dubG9hZCBmb3Igb2ZmbGluZSB1c2UiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1wb2x5Z29uLWRlc2Mta2V5Ym9hcmQiOiJVc2UgYXJyb3dzIHRvIG1vdmUgdGhlIHBvaW50LiBIaXQgRU5URVIgdG8gcGxvdCBhbmQgYmVnaW4gbW92aW5nIHRoZSBuZXh0IHBvaW50LiBIaXQgRU5URVIgdHdpY2UgdG8gZmluaXNoLiIsImxhbmd1YWdlLXByb2plY3QtYWN0aW9ucy10b29sdGlwIjoiQ2xpY2sgdG8gc2VlIHByb2plY3QgYWN0aW9ucyBhdmFpbGFibGUgZm9yIHRoaXMgcHJvamVjdCIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXJlc3VsdHMtZmllbGQteCI6IlgiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1yZXN1bHRzLWZpZWxkLXkiOiJZIiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLWFueS12YWx1ZSI6IihhbnkgdmFsdWUpIiwibGFuZ3VhZ2UtbGF5ZXItYWRkaXRpb24tZXJyb3ItY2Fubm90LXpvb20tdG8tbGF5ZXIiOiJMYXllciB3YXMgYWRkZWQgdG8gdGhlIG1hcCBidXQgY291bGQgbm90IHpvb20gdG8gaXRzIGZ1bGwgZXh0ZW50LiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tZmVhdHVyZS1sYXllci1tb2R1bGUtc3RhcnQtc3luYyI6IlN0YXJ0cyBzeW5jaHJvbml6ZXMgdGhlIGZlYXR1cmUgZWRpdHMgdG8gdGhlIHNlcnZlci4iLCJsYW5ndWFnZS1zZWFyY2gtZXJyb3IiOiJTZWFyY2ggZXJyb3I6IHswfSIsImxhbmd1YWdlLXByb2plY3QtY29uZmlybS1zYXZlLWRlc2NyaXB0aW9uIjoiVGhpcyBwcm9qZWN0IGlzIHJlYWQgb25seS4gV291bGQgeW91IGxpa2UgdG8gc2F2ZSB5b3VyIG93biBjb3B5IG9mIHRoaXMgcHJvamVjdD8iLCJsYW5ndWFnZS1tb250aHMtMiI6Ik1hcmNoIiwibGFuZ3VhZ2UtbW9udGhzLTEiOiJGZWJydWFyeSIsImxhbmd1YWdlLWNhcHR1cmUtZ2VvbWV0cnktbXVsdGktcG9pbnQiOiJTZWxlY3Qgc2V2ZXJhbCBwb2ludHMgb24gdGhlIG1hcC4gRG91YmxlLWNsaWNrIG9yIHRhcCB0byBmaW5pc2guIiwibGFuZ3VhZ2UtbW9udGhzLTQiOiJNYXkiLCJsYW5ndWFnZS1zZWFyY2gtaW5zdGFudC1wcm92aWRlci1ub3QtYXZhaWxhYmxlIjoiSW5zdGFudCBTZWFyY2ggaGFzIGJlZW4gZGlzYWJsZWQuIEl0IGlzIG9ubHkgYXZhaWxhYmxlIGluIEVzc2VudGlhbHMgNC4wIGFuZCBsYXRlci4gUGxlYXNlIHVwZ3JhZGUgaWYgeW91IHdhbnQgdG8gZW5hYmxlIHRoaXMgZnVuY3Rpb25hbGl0eS4iLCJsYW5ndWFnZS1tb250aHMtMyI6IkFwcmlsIiwibGFuZ3VhZ2UtbW9udGhzLTAiOiJKYW51YXJ5IiwibGFuZ3VhZ2UtbW9udGhzLTkiOiJPY3RvYmVyIiwibGFuZ3VhZ2UtbW9udGhzLTYiOiJKdWx5IiwibGFuZ3VhZ2UtbW9udGhzLTUiOiJKdW5lIiwibGFuZ3VhZ2UtbWVudS1zd2l0Y2gtdG8tbGF5ZXJsaXN0IjoiU2hvdyBMYXllciBMaXN0IiwibGFuZ3VhZ2UtbW9udGhzLTgiOiJTZXB0ZW1iZXIiLCJsYW5ndWFnZS1tb250aHMtNyI6IkF1Z3VzdCIsImxhbmd1YWdlLW1lbnUtaWRlbnRpZnktcG9pbnQtZGVzYyI6IkRyYXcgYSBwb2ludCBvbiB0aGUgbWFwIHRvIHZpZXcgaW5mb3JtYXRpb24gYXQgdGhhdCBwb2ludCBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLWxlZ2VuZC1zaG93LWxheWVyLWxpc3QiOiJTaG93IExheWVyIExpc3QiLCJsYW5ndWFnZS1wcm9qZWN0LWNvbmZpcm0tbG9hZC1kZXNjcmlwdGlvbi13aXRoLXRpdGxlIjoiQXJlIHlvdSBzdXJlIHlvdSB3aXNoIHRvIGxvYWQgcHJvamVjdCBcInswfVwiPyIsImxhbmd1YWdlLW1lbnUtYnJvd3NlLXNhdmVkLXJlc3VsdHMtZGVzYyI6IkNob29zZSBmcm9tIGEgbGlzdCBvZiBzYXZlZCByZXN1bHRzIHRvIHZpZXcgdGhlbSIsImxhbmd1YWdlLXNjYWxlLWxhYmVsIjoiU2NhbGUgMToiLCJsYW5ndWFnZS1oZWF0LW1hcHMtaW50ZW5zaXR5LW11bHRpcGxpZXIiOiJJbnRlbnNpdHkgTXVsdGlwbGllciIsImxhbmd1YWdlLWJ1ZmZlci1lcnJvci1wcm9jZXNzLWFyZ3MiOiJFcnJvciBwcm9jZXNzaW5nIGJ1ZmZlciBBcmdzIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLWRlbGV0ZS1mcm9tLWRldmljZS1idXR0b24iOiJGb3JnZXQiLCJsYW5ndWFnZS10b29sYmFyLW5hdmlnYXRpb24tem9vbS1vdXQtZGVzYyI6IkRyYWcgYSByZWN0YW5nbGUgb24gdGhlIG1hcCB0byB6b29tIG91dCB3aGlsZSBrZWVwaW5nIHRoYXQgYXJlYSBjZW50ZXJlZCIsImxhbmd1YWdlLXRvb2xiYXItZ3JvdXAtcGxvdGNvb3JkaW5hdGVzIjoiQ29vcmRpbmF0ZXMiLCJsYW5ndWFnZS10b29sYmFyLW5hdmlnYXRpb24tem9vbS1vdXQiOiJab29tIE91dCIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWRlbGV0ZS1kZXNjLWtleWJvYXJkIjoiVXNlIGFycm93cyB0byBtb3ZlIHRoZSBwb2ludC4gSGl0IEVOVEVSIHRvIGltbWVkaWF0ZWx5IGFuZCBwZXJtYW5lbnRseSBkZWxldGUgYSBkcmF3aW5nLiBUaGlzIGNhbm5vdCBiZSB1bmRvbmUuIiwibGFuZ3VhZ2UtbGF5ZXItc2VsZWN0b3ItZGVmYXVsdC1zZWxlY3QtYWxsLXRleHQiOiJTZWxlY3QgQWxsIiwibGFuZ3VhZ2UtdG9vbGJhci1zZWxlY3QtbGF5ZXJzLXRvZ2dsZS1vbi1uYW1lIjoiRmlsdGVyIExheWVycyIsImxhbmd1YWdlLXRhYmxlLW1hcHBpbmctdmFsaWRhdGlvbi1lcnJvci1sYWNraW5nLXJlcXVpcmVkLWFkZHJlc3MtZmllbGRzLW1lc3NhZ2UiOiJUaGUgZm9sbG93aW5nIGFkZHJlc3MgZmllbGRzIGFyZSByZXF1aXJlZDogezB9IiwibGFuZ3VhZ2UtdG9vbGJhci1zbmFwcGluZy1zZWxlY3QtbGF5ZXJzLXRvb2x0aXAiOiJDaGFuZ2Ugd2hpY2ggbGF5ZXJzIGFyZSBzbmFwcGFibGUiLCJsYW5ndWFnZS10YWJsZS1tYXBwaW5nLXZhbGlkYXRpb24tZXJyb3Itc291cmNlLXNwYXRpYWwtbWFwcGluZy1pbnZhbGlkIjoiU3BhdGlhbCByZWZlcmVuY2UgaW52YWxpZC4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWNsb3NlLW1vZGFsLXJlZ2lvbiI6IkNsb3NlcyB0aGUgTW9kYWxXaW5kb3dSZWdpb24uIiwibGFuZ3VhZ2UtdG9vbGJhci1uYXZpZ2F0aW9uLWhvbWUtc3ViIjoiSG9tZSIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktZm9ybS1uYW1lZC1jb250YWluZXItaGlkZGVuIjoiRm9ybSBncm91cCAnezB9JyBoaWRkZW4uIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtdW5pdC1zcWZlZXQtc2hvcnQiOiJmdMKyIiwibGFuZ3VhZ2UtdmlzdWFsaXphdGlvbi10aXRsZSI6IlZpc3VhbGl6YXRpb24gT3B0aW9ucyIsImxhbmd1YWdlLWJ1ZmZlci1jb25maWctdW5pdHMtZXJyb3IiOiJDb25maWd1cmF0aW9uIGVycm9yLiBCdWZmZXIgdW5pdHMgb3IgZGVmYXVsdCBidWZmZXIgdW5pdCBub3Qgc3BlY2lmaWVkIG9yIHVuc3VwcG9ydGVkLiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LW1lYXN1cmUtZWxsaXBzZS10b29sLXN0YXR1cyI6IkNsaWNrIG9yIHRhcCwgdGhlbiBkcmFnIHRvIGRyYXcgYW4gZWxsaXBzZSBhbmQgZmluZCBhcmVhLiIsImxhbmd1YWdlLWZlYXR1cmUtc2NhbGUtaW5wdXQtYm94LXRvZ2dsZSI6IlRvZ2dsZSIsImxhbmd1YWdlLW1lbnUtZWRpdC1mZWF0dXJlIjoiRWRpdCB0aGlzIEZlYXR1cmUiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1wb2ludC10b29sdGlwIjoiQWRkIGEgcG9pbnQgdG8gdGhlIG1hcCIsImxhbmd1YWdlLXNoYXJlLXNoYXJlLW9uLXByb21wdC10aXRsZSI6IlNoYXJlIG9uIHswfSIsImxhbmd1YWdlLXByb2plY3QtYWN0aW9ucy10aXRsZSI6IlByb2plY3QiLCJsYW5ndWFnZS1tYXAtdGlwLXJlc3VsdHMiOiJSZXN1bHRzIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1sZXZlbHMtbGVzcy1kZXRhaWwiOiIoTGVzcyBEZXRhaWwpIiwibGFuZ3VhZ2UtbG9nLXRpbWVzdGFtcCI6IlRpbWVzdGFtcCIsImxhbmd1YWdlLW9mZmxpbmUtZGF0YS1jbGVhcmVkIjoiT2ZmbGluZSBkYXRhIGNsZWFyZWQuIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1sZXZlbHMtbW9yZS1kZXRhaWwiOiIoTW9yZSBEZXRhaWwpIiwibGFuZ3VhZ2UtcHJpbnQtc2hvdy1wcmV2aWV3LWNlbnRlciI6IlNob3cgcHJpbnQgcHJldmlldyIsImxhbmd1YWdlLW9mZmxpbmUtcmVzb3VyY2Utc2F2ZS1lcnJvciI6IlRoZXJlIHdhcyBhbiBlcnJvciBzYXZpbmcgYW4gb2ZmbGluZSByZXNvdXJjZS4gWW91IG1heSBiZSBvdXQgb2Ygc3BhY2UuIEVycm9yOiB7MH0iLCJsYW5ndWFnZS1sYWJlbE9wdGlvbnMtY2VudGVyLWVuZCI6ImNlbnRlci1lbmQiLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtZWRpdC1jb29yZGluYXRlIjoiRWRpdCIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXBvbHlsaW5lLWRlc2MiOiJDbGljayBvciB0YXAgbG9jYXRpb25zIGFsb25nIHRoZSBtYXAgdG8gY3JlYXRlIGEgbGluZS4gRG91YmxlIGNsaWNrL3RhcCB0byBmaW5pc2guIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLWhpZGUtY29vcmRpbmF0ZS1kZXNjIjoiVGVtcG9yYXJpbHkgaGlkZSB0aGlzIGNvb3JkaW5hdGUuIiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLXNwYXRpYWwtZmlsdGVyIjoiU3BhdGlhbCBGaWx0ZXI6IiwibGFuZ3VhZ2UtbWFwLXRpcC1udWxsLWdlb21ldHJ5LXN0YXR1cy1tZXNzYWdlLXVyaSI6IlJlc291cmNlcy9JbWFnZXMvTWFuYWdlci9hbGVydC0xNi5wbmciLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1lcmFzZS1tdWx0aXBsZS1wcm9tcHQiOiJNdWx0aXBsZSBtZWFzdXJlbWVudHMgZXhpc3QgYXQgdGhlIGxvY2F0aW9uIHlvdSBqdXN0IHNwZWNpZmllZCwgYW5kIGFsbCB3aWxsIGJlIHBlcm1hbmVudGx5IGVyYXNlZCBpZiB5b3UgcHJvY2VlZC4gQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBhbGwgdGhlc2UgaXRlbXM/IiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1sZXZlbHMtbGV2ZWxzIjoiTGV2ZWxzOiAiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWdlb21ldHJ5LXRleHQtZGVmYXVsdCI6IlRoZSBkZWZhdWx0IGFyZWEgaXMgeW91ciBjdXJyZW50IGV4dGVudC4iLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtZmV0Y2gtZXJyb3ItdGl0bGUiOiJFcnJvciIsImxhbmd1YWdlLXByaW50aW5nLXByaW50LXJlcXVlc3QtZGVzY3JpcHRpb24iOiJBbiBlbWFpbCB3aWxsIGJlIHNlbnQgdG8gdGhlIHNwZWNpZmllZCBhZGRyZXNzIHdoZW4gdGhlIGpvYiBpcyBjb21wbGV0ZS4iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctYXBwbHlpbmciOiJBcHBseWluZyBlZGl0cy4uLiIsImxhbmd1YWdlLWxheWVyLWRldGFpbHMtZGlhbG9nLWJ1dHRvbi1wcm9jZWVkIjoiUHJvY2VlZCIsImxhbmd1YWdlLXNlYXJjaC1nbyI6IkdvIiwibGFuZ3VhZ2UtbGF5ZXItZGV0YWlscy1sYXllci1uYW1lIjoiTGF5ZXIgTmFtZSIsImxhbmd1YWdlLWxheWVyLWFkZGl0aW9uLWJpbmctbWFwLW5hbWUiOiJCaW5nIE1hcHMiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctZ2VvbWV0cnktcmVjdGFuZ2xlIjoiTW92ZSB0aGUgc2hhcGUgYnkgZHJhZ2dpbmcuIFJlc2l6ZSBieSBncmFiYmluZyBlZGdlcyBvciBjb3JuZXJzLiBDbGljayBvciB0YXAgb24gdGhlIG1hcCB0byBzdG9wIGVkaXRpbmciLCJsYW5ndWFnZS1mZWF0dXJlLXJlbGF0ZWQtY2hlY2tpbmciOiJDaGVja2luZyBmb3IgcmVsYXRlZCBmZWF0dXJlcy4uLiIsImxhbmd1YWdlLW1hcC1jb250ZXh0LW1lbnUtcmV2ZXJzZS1nZW9jb2RlLXNlYXJjaC1uby1yZXN1bHQiOiJObyBhZGRyZXNzIGZvdW5kIiwibGFuZ3VhZ2UtbWVudS1yZW1vdmUtdXNlci1hZGRlZC1sYXllci1kZXNjIjoiUmVtb3ZlIHRoaXMgdXNlciBhZGRlZCBsYXllciBmcm9tIHRoZSBtYXAuIiwibGFuZ3VhZ2UtbWVudS1leHBvcnQtcmVzdWx0cy10by1zaHAiOiJFeHBvcnQgdG8gU2hhcGVmaWxlIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLWFkZC1jb25maXJtIjoiRG8geW91IHdhbnQgdG8gZG93bmxvYWQgYW5kIHN5bmMgdGhpcyBvZmZsaW5lIG1hcD8gVGhpcyBjb3VsZCBiZSBhIHZlcnkgbGFyZ2UgZG93bmxvYWQuIiwibGFuZ3VhZ2UtbGF5ZXJsaXN0LW5vLWZlYXR1cmUtYWN0aW9ucyI6Ik5vIGFjdGlvbnMgYXZhaWxhYmxlLiIsImxhbmd1YWdlLXNlYXJjaC1nZW9jb2Rpbmctc2NvcmUtZGVzY3JpcHRpb24iOiJTY29yZTogIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtc25hcHBhYmxlLWxheWVycyI6IlNuYXBwYWJsZSBMYXllcnMgezB9IiwibGFuZ3VhZ2UtdXNlci1zaWduLWluLWRlc2MiOiJOYXZpZ2F0ZSB0byB0aGUgc2lnbi1pbiBwYWdlIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtY2xlYXItYWxsLXByb21wdCI6IklmIHlvdSBwcm9jZWVkLCBhbGwgbWVhc3VyZW1lbnQgY2FsY3VsYXRpb25zIG9uIHRoZSBtYXAgd2lsbCBiZSBwZXJtYW5lbnRseSBlcmFzZWQuIENvbnRpbnVlPyIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1yZWxhdGVkLWZlYXR1cmUtZmFpbGVkIjoiQ291bGQgbm90IGVkaXQgYSByZWxhdGVkIGZlYXR1cmUgLSBubyByZWxhdGVkIGxheWVyIGNvdWxkIGJlIGxvYWRlZCBmb3IgcmVsYXRpb25zaGlwIHswfSIsImxhbmd1YWdlLWxheWVyLWNhdGFsb2ctc2hvdy1hbGwtYnV0dG9uIjoiU2hvdyBBbGwiLCJsYW5ndWFnZS1wcm9qZWN0cy1zb3J0LWNyZWF0ZWQtZGlzcGxheS1uYW1lIjoiTmV3ZXN0IENyZWF0ZWQiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItZmVhdHVyZS1zZXQtZGlzcGxheS1uYW1lIjoiezB9IiwibGFuZ3VhZ2UtcmVzdWx0cy10b2dnbGUtdGFibGUtdmlldy1kZXNjIjoiVmlldyByZXN1bHRzIGluIHRhYmxlIGZvcm1hdCIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXVuaXQteWFyZC1zaG9ydCI6InlkIiwibGFuZ3VhZ2UtdXBsb2FkLWRhdGEtZXJyb3ItdW5hdXRob3JpemVkLXRvLXB1Ymxpc2giOiJVbmF1dGhvcml6ZWQgdG8gUHVibGlzaCIsImxhbmd1YWdlLWxvZy1tZXNzYWdlIjoiTWVzc2FnZSIsImxhbmd1YWdlLXByb2plY3QtZWRpdG9yLW5hbWUtdGl0bGUiOiJQcm9qZWN0IE5hbWUiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXRha2UtYXBwbGljYXRpb24tb2ZmbGluZSI6IlB1dHMgdGhlIGFwcGxpY2F0aW9uIGluIGFuIG9mZmxpbmUgc3RhdGUuIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbWVhc3VyZS1yZWN0YW5nbGUtdG9vbC1zdGF0dXMiOiJDbGljayBvciB0YXAsIHRoZW4gZHJhZyB0byBkcmF3IGEgcmVjdGFuZ2xlIGFuZCBmaW5kIGFyZWEuIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWludmFsaWQtbGF5ZXIiOiJUaGlzIGZlYXR1cmUgaGFzIG5vIGVkaXRhYmxlIGZpZWxkcy4iLCJsYW5ndWFnZS1tZW51LWNvbWJpbmUtcmVzdWx0cy1pbnRlcnNlY3QiOiJNYXRjaCBpbnRlcnNlY3RpbmcgcmVzdWx0cyIsImxhbmd1YWdlLWxlZ2VuZC10aXRsZSI6IkxlZ2VuZCIsImxhbmd1YWdlLW5hdGl2ZS1hZGQtdG8tZmF2b3JpdGVzLW5hbWUtaW52YWxpZCI6IlRoZSBuYW1lIHByb3ZpZGVkIHdhcyBpbnZhbGlkLiIsImxhbmd1YWdlLXByb2plY3RzLWF1dGhvci1ndWVzdCI6IkFub255bW91cyIsImxhbmd1YWdlLWJ1ZmZlci1vcHRpb25zLWNvbnRpbnVlLWJ1dHRvbi10ZXh0IjoiQ29udGludWUiLCJsYW5ndWFnZS1saXN0LXJlcG9ydHMtZXhjbHVzaW9uLXdhcm5pbmctdGl0bGUiOiJSZXBvcnQgZG9lc24ndCBjb3ZlciBhbGwgc2VsZWN0ZWQgZmVhdHVyZXMiLCJsYW5ndWFnZS12aXN1YWxpemF0aW9uLWFwcGx5IjoiQXBwbHkiLCJsYW5ndWFnZS1mZWF0dXJlLWRldGFpbHMtZXhwYW5kZWQtZGVzYyI6IlN3aXRjaCB0byB0aGUgZmVhdHVyZSBkZXRhaWxzIGV4cGFuZGVkIHZpZXciLCJsYW5ndWFnZS10b29sYmFyLXRhYi1uYXZpZ2F0aW9uIjoiTmF2aWdhdGlvbiIsImxhbmd1YWdlLWxpc3QtcmVwb3J0cy1kZXRhaWxzIjoiQ292ZXJzIHswfSBvZiB7MX0gc2VsZWN0ZWQgZmVhdHVyZXMuIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLXVwZGF0ZS10b29sLXN0YXR1cyI6IkNsaWNrIG9yIHRhcCBvbiB0aGUgbWFwLCBvciBtYW51YWxseSBlbnRlciBhIGxvY2F0aW9uIHRvIHVwZGF0ZSB0aGUgY29vcmRpbmF0ZS4iLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtZGVsZXRlLWNvb3JkaW5hdGUtZGVzYyI6IkRlbGV0ZSB0aGlzIGNvb3JkaW5hdGUgYW5kIHJlbW92ZSBpdCBmcm9tIHRoZSBtYXAuIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1idXR0b24tbmV4dCI6Ik5leHQiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1lZGl0LXpvb21vdXQtdG9vbCI6Ilpvb21PdXRUb29sIiwibGFuZ3VhZ2UtY29tbW9uLWxvYWQiOiJMb2FkIiwibGFuZ3VhZ2UtbWFwLW9wZXJhdGlvbi11bmF2YWlsYWJsZS1vZmZsaW5lIjoiWW91IGNhbm5vdCBwZXJmb3JtIHRoaXMgb3BlcmF0aW9uIG9mZmxpbmUuIiwibGFuZ3VhZ2UtcnVuLXJlcG9ydC1jb21wbGV0ZS1oZWFkaW5nLWFzeW5jIjoiUmVwb3J0IiwibGFuZ3VhZ2UtbWVudS1icm93c2Utc2F2ZWQtcmVzdWx0cyI6Ik9wZW4gU2F2ZWQgUmVzdWx0cyIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWZyZWVoYW5kIjoiRnJlZWhhbmQiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1leHBvcnQtdG9vbHRpcCI6IkV4cG9ydCBkcmF3aW5ncyB0byBzaGFwZWZpbGUiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctZHNrLXBvbHlsaW5lLXRvb2wiOiJDbGljayBvciB0YXAgb24gdGhlIG1hcCB0byBhZGQgdHdvIG9yIG1vcmUgbGluZSBwb2ludHMuIERvdWJsZSBjbGljay90YXAgdG8gc3RvcCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tcHJvamVjdCI6IkNhbGxzIGEgZ2VvbWV0cnkgc2VydmljZSB0byBwcm9qZWN0IGdlb21ldHJpZXMgYmV0d2VlbiBkaWZmZXJlbnQgY29vcmRpbmF0ZSBzeXN0ZW1zLiIsImxhbmd1YWdlLW1lbnUtb2ZmbGluZS1tYXAtZWRpdG9yLWdlb21ldHJ5LWFjdGlvbnMtcG9seWdvbiI6IlBvbHlnb24iLCJsYW5ndWFnZS1sYXllcnN0eWxlcy1jdXN0b20tbWVudWl0ZW0iOiJDdXN0b20gTGF5ZXIgU3R5bGUuLi4iLCJsYW5ndWFnZS1zY2FsZS1zd2l0Y2giOiJTd2l0Y2giLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1hY2Nlc3NpYmlsaXR5LWljb24tZGVzYyI6IkFjY2Vzc2liaWxpdHkgaWNvbiIsImxhbmd1YWdlLWNvbW1vbi1iYWNrIjoiQmFjayIsImxhbmd1YWdlLW1lbnUtZW50ZXItb25saW5lLWRlc2MiOiJHbyB0byBvbmxpbmUgbW9kZSBhbmQgdmlldyBsaXZlIG1hcCBkYXRhIGZyb20gdGhlIHdlYi4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1jbGVhci1hbGwtdG9vbHRpcCI6IkNsZWFyIGFsbCBtZWFzdXJlbWVudCBtYXJrdXAiLCJsYW5ndWFnZS1zbmFwcGluZy1wb2ludC1mb3VuZCI6IlNuYXBwaW5nIHBvaW50IGZvdW5kLiIsImxhbmd1YWdlLXRha2UtYXBwLW9mZmxpbmUiOiJHbyBvZmZsaW5lIiwibGFuZ3VhZ2UtbWVudS12aXN1YWxpemF0aW9uLWRlc2MiOiJDcmVhdGUgYW5kIHZpZXcgY3VzdG9tIGxheWVyIHZpc3VhbGl6YXRpb25zIHN1Y2ggYXMgaGVhdCBtYXBzLCBjbHVzdGVyaW5nLCBhbmQgbGF5ZXIgc3R5bGVzLiIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1jcmVhdGUtZWRpdC1zZWxlY3QtbG9jYXRpb24iOiJTZWxlY3QgYSBsb2NhdGlvbiIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1kZWxldGUtZnJvbS1zZXJ2ZXIiOiJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlICd7MH0nPyIsImxhbmd1YWdlLWxhYmVsT3B0aW9ucy1mb250LXN0eWxlIjoiRm9udCBTdHlsZSIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItZ2VvbWV0cnktdGV4dCI6IkFuIGFyZWEgaGFzIGJlZW4gc2VsZWN0ZWQuIiwibGFuZ3VhZ2UtaHlwZXJsaW5rLW5vLXVybC13YXJuaW5nIjoiSHlwZXJsaW5rIGRldGVjdGVkLCBidXQgbGluaydzIFVSSSBjb3VsZCBub3QgYmUgcGFyc2VkLiIsIi8vdGltZXBpY2tlci5yZWdpb25hbC5oZWxwIjoiQ29weSBzZXR0aW5ncyBmcm9tIG9uZSBvZiB0aGUgZmlsZXMgaW4gaHR0cHM6Ly9naXRodWIuY29tL3RyZW50cmljaGFyZHNvbi9qUXVlcnktVGltZXBpY2tlci1BZGRvbi90cmVlL21hc3Rlci9zcmMvaTE4biIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tcGFuLXRvLXBvaW50IjoiUGFucyB0byBhIHBvaW50IG9yIG90aGVyIHR5cGUgb2YgR2VvbWV0cnkuIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtZWxsaXBzZSI6IkVsbGlwc2UiLCJsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LXByaXZpbGVnZXMtdGl0bGUiOiJQcm9qZWN0IFByaXZpbGVnZXMiLCJsYW5ndWFnZS1ydW4tcmVwb3J0LWNvbXBsZXRlLWRvbmUtYnV0dG9uIjoiRG9uZSIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLWNvbmZpcm0tYWRkLWxheWVyLW1lc3NhZ2UiOiJUaGUgbGF5ZXIgYmVpbmcgYWRkZWQgY29udGFpbnMgezB9IGZlYXR1cmVzLCB3aGljaCBtYXkgY2F1c2UgdGhlIGJyb3dzZXIgdG8gYmVjb21lIHNsb3cgb3IgdW5yZXNwb25zaXZlLiBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcHJvY2VlZD8iLCJsYW5ndWFnZS10YWJsZS1tYXBwaW5nLWRpYWxvZy1jYW5jZWwiOiJDYW5jZWwiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWVycm9yLW5vbmFtZSI6IlRoZSBvZmZsaW5lIG1hcCBuZWVkcyBhIG5hbWUuIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1mZWF0dXJlLWxheWVyLWNsZWFyLWRhdGEiOiJDbGVhcnMgdGhlIGRhdGEgZm9yIGEgZ2l2ZW4gbWFwIHNlcnZpY2UgVVJMLiIsImxhbmd1YWdlLXNpdGUtbG9nLW9uLXJlcXVpcmVkLXRpdGxlIjoiTG9nIE9uIFJlcXVpcmVkIiwibGFuZ3VhZ2UtbGF5ZXItY2F0YWxvZy1tb3JlLWxheWVycyI6Ik1vcmUgY2F0YWxvZyBsYXllcnMgYXJlIGF2YWlsYWJsZS4iLCJsYW5ndWFnZS1wcm9qZWN0LWVkaXRvci1jYW5jZWwtYnV0dG9uLXRpdGxlIjoiQ2FuY2VsIFNhdmUgUHJvamVjdCIsImxhbmd1YWdlLW1hcC1jb29yZGluYXRlcy1XS1QiOiJXS1QiLCJsYW5ndWFnZS1jb21tb24tY3JlYXRlIjoiQ3JlYXRlIiwibGFuZ3VhZ2UtcHJvamVjdC1zaGFyZS10aXRsZSI6IlNoYXJlIFByb2plY3QiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1zaW1wbGUtZmlsdGVyLWJ1aWxkZXItY29udGFpbmVyIjoiU2ltcGxlIEZpbHRlciBCdWlsZGVyIENvbnRhaW5lciB7MH0iLCJsYW5ndWFnZS10aW1lc2xpZGVyLWRhdGVwaWNrZXItcmFuZ2UtZXJyb3IiOiJJbnZhbGlkIHRpbWUgcmFuZ2Ugc2VsZWN0ZWQuIFBsZWFzZSBjb3JyZWN0IHlvdXIgc2VsZWN0aW9uLiIsImxhbmd1YWdlLXN5bWJvbC1kaWFsb2ctdGl0bGUiOiJTeW1ib2xpemUgRGF0YSIsImxhbmd1YWdlLW1lbnUtb2ZmbGluZS1tYXAtZWRpdG9yLWdlb21ldHJ5LWFjdGlvbnMtcG9seWdvbi1kZXNjIjoiRHJhdyBhIHBvbHlnb24gZm9yIHRoZSBhcmVhIG9mIGludGVyZXN0IGdlb21ldHJ5LiIsImxhbmd1YWdlLXRpbWVzbGlkZXItc2V0dGluZ3MtcGxheWJhY2stZGVsYXktZXJyb3IiOiJQbGF5YmFjayBkZWxheSBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlci4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1tZWFzdXJlLWRpc3RhbmNlLXRvb2wtbmFtZSI6IkRpc3RhbmNlIiwibGFuZ3VhZ2UtYmFubmVyLXRpdGxlIjoiQXBwbGljYXRpb24gVGl0bGUiLCJsYW5ndWFnZS1tZW51LWFkZC1hLWZlYXR1cmUiOiJDcmVhdGUgYSBmZWF0dXJlIiwibGFuZ3VhZ2UtcGFnaW5nLXRvdGFsIjoiVG90YWwiLCJsYW5ndWFnZS11aS10YWJsZS1zb3J0ZWQtZGVzY2VuZGluZyI6IkNvbHVtbiBoZWFkZXIuIHswfSAtIFNvcnRlZCBkZXNjZW5kaW5nLiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXJlc3VsdHMtZmVhdHVyZS1sYWJlbC10b3RhbCI6InswfSIsImxhbmd1YWdlLXdvcmtmbG93LWF2YWlsYWJsZS13b3JrZmxvd3MiOiJBdmFpbGFibGUgVGFza3MiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLWRlc2NyaXB0aW9uIjoiSG93IGJhc2VtYXBzIHdpbGwgYmUgcmVwcmVzZW50ZWQgb2ZmbGluZS4iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctdW5kb2FibGUtdXBkYXRlIjoiVXBkYXRlIEZlYXR1cmVzIiwibGFuZ3VhZ2UtbWFwLXRpcC1udWxsLWdlb21ldHJ5IjoiTm8gc3BhdGlhbCBkYXRhIiwibGFuZ3VhZ2UtbWVudS1jZW50ZXItdGV4dG1hcC1kZXNjIjoiQ2VudGVyIHRoZSBtYXAgb24gdGhlIHBvaW50IHNwZWNpZmllZC4iLCJsYW5ndWFnZS1zaXRlLWluaXRpYWxpemF0aW9uLWZhaWx1cmUtZXhwbGFuYXRpb24iOiIgVGhlIGVycm9yIHdhczogezB9IiwibGFuZ3VhZ2UtdG9vbGJhci1pbmZvcm1hdGlvbi1hY3Rpb25zIjoiSW5mb3JtYXRpb24gJiBBY3Rpb25zIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtY29vcmRpbmF0ZXMtaW50cm9kdWN0aW9uIjoiQ2VudGVyIGxhdGl0dWRlOiB7MH0uIENlbnRlciBsb25naXR1ZGU6IHsxfS4iLCJsYW5ndWFnZS1jb21tb24tZmVhdHVyZS1sYXllci1kZXRhaWxzIjoiU3luYyBTZXR0aW5ncyBmb3IgezB9IiwibGFuZ3VhZ2UtbGF5ZXItYWRkaXRpb24tYXJjZ2lzLXNlcnZlci1uYW1lIjoiQXJjR0lTIFNlcnZlciIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tc2hvdy1yZXN1bHRzLXRhYmxlIjoiRGlzcGxheXMgdGhlIGxpc3Qgb2YgZmVhdHVyZXMgaW4gdGhlIGdpdmVuIGZlYXR1cmUgc2V0IGNvbGxlY3Rpb24gaW4gYSB0YWJ1bGFyIHZpZXcuIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1sZXZlbHMtbWFwaW5zdHJ1Y3Rpb25zIjoiWm9vbSB0aGUgbWFwIHRvIGRlZmluZSB0aGUgbWF4aW11bSBsZXZlbCBvZiBkZXRhaWwuIiwibGFuZ3VhZ2UtcHJvamVjdC11cmwtbGFiZWwiOiJQcm9qZWN0IFVSTCIsImxhbmd1YWdlLWdlb2xvY2F0ZS1mb2xsb3ciOiJGb2xsb3cgTWUiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC10b29sYmFyIjoiVG9vbGJhciB7MH0iLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtYmVhcmluZy10aXRsZSI6IkJlYXJpbmciLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1kYXRhLWZyYW1lLXZpZXctY29udGFpbmVyIjoiRGF0YSBGcmFtZSBWaWV3IENvbnRhaW5lciB7MH0iLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtc3luYy10aXRsZSI6IlN5bmMgT2ZmbGluZSBEYXRhIiwibGFuZ3VhZ2UtbWFwLXRpcC1mZWF0dXJlLXByZXYiOiJQcmV2aW91cyIsImxhbmd1YWdlLW1lbnUtbWFwdGlwLWFjdGlvbnMtZGVzYyI6Ik1hcFRpcCBBY3Rpb25zIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtZHJhd21vZGUtcmVjdGFuZ2xlIjoiUmVjdGFuZ2xlIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1jb25maXJtIjoiRGlzcGxheXMgYSBjb25maXJtLiIsImxhbmd1YWdlLXVwbG9hZC1kaWFsb2ctdmFsaWRhdGlvbi1lcnJvci10b28tbWFueS1tZXNzYWdlIjoiWW91IGNhbiBvbmx5IHVwbG9hZCB0aGUgZGF0YSBmb3Igb25lIGxheWVyIGF0IGEgdGltZS4gRGF0YSBmcm9tIHswfSBkaWZmZXJlbnQgbGF5ZXJzIGFwcGVhcnMgdG8gaGF2ZSBiZWVuIHNlbGVjdGVkLiIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLXdhaXQtb24tcHVibGlzaC1qb2IiOiJQdWJsaXNoaW5nIHRvIEFyY0dJUyBPbmxpbmUuLi4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1tZWFzdXJlLWVsbGlwc2UtdG9vbC1uYW1lIjoiRWxsaXBzZSIsImxhbmd1YWdlLWhlYXQtbWFwcy1pbnRlbnNpdHktc2xpZGVyLWhhbmRsZSI6IlNsaWRlciBoYW5kbGUiLCJsYW5ndWFnZS1wcm9qZWN0LWNvbmZpcm0tZGVsZXRlLWRlc2NyaXB0aW9uLXdpdGgtdGl0bGUiOiJBcmUgeW91IHN1cmUgeW91IHdpc2ggdG8gZGVsZXRlIHByb2plY3QgXCJ7MH1cIj8iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC11bml0LXlhcmQiOiJZYXJkcyAoeWQpIiwibGFuZ3VhZ2Utc2hhcmUtcHJvamVjdC1saW5rcy12aWV3LWxhYmVsIjoiVmlldyBMaW5rIChzaWduLWluIHJlcXVpcmVkKSIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWVsbGlwc2UtdG9vbHRpcCI6IkRyYXcgYW4gZWxsaXBzZSBvbiB0aGUgbWFwIiwibGFuZ3VhZ2UtbWFwLXpvb20tb3V0IjoiRHJhZyBvbiB0aGUgbWFwIHRvIHpvb20gb3V0LiBUaGUgc21hbGxlciB0aGUgYXJlYSwgdGhlIGZhcnRoZXIgeW91IHpvb20gb3V0LiIsImxhbmd1YWdlLWV4cG9ydC1tYXAtdmlldy1pbWFnZSI6IlZpZXcgSW1hZ2UiLCJsYW5ndWFnZS1sYXllcmxpc3QtYWN0aW9ucy1kZXNjIjoiVGhlIGxheWVyIGxpc3QgLyBsZWdlbmQgYWN0aW9uIG1lbnUgaXRlbXMiLCJsYW5ndWFnZS1wYWdpbmctZGlzcGxheWluZyI6IkRpc3BsYXlpbmciLCJsYW5ndWFnZS1zaXRlLXNlcnZpY2UtbGF5ZXJzLWZhaWx1cmUtdmlldy13YXJuaW5nIjoiVGhlcmUgd2FzIGEgcHJvYmxlbSBsb2FkaW5nIG9uZSBvciBtb3JlIG1hcCBzZXJ2aWNlcy4gVGhlIGZvbGxvd2luZyBtYXAgc2VydmljZXMgbWF5IGJlIHVuYXZhaWxhYmxlOiIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1tYW5hZ2UtdGl0bGUiOiJNYW5hZ2UgT2ZmbGluZSBNYXBzIiwibGFuZ3VhZ2Utc2VhcmNoLWJpbmctZGlzdHJpY3QiOiJEaXN0cmljdCIsImxhbmd1YWdlLXNhdmVkLXJlc3VsdHMtY29tYmluZS1saXN0LWV4cGxhbmF0aW9uIjoiU2VsZWN0IE11bHRpcGxlIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy10aXRsZSI6IlNlbGVjdCBCYXNlbWFwcyIsImxhbmd1YWdlLXRvb2xiYXItdGFza3Mtc2hhcmUiOiJTaGFyZSIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWZlYXR1cmUtZWRpdGluZy1jb250YWluZXIiOiJGZWF0dXJlIEVkaXRpbmcgQ29udGFpbmVyIHswfSIsImxhbmd1YWdlLXRhYmxlLW1hcHBpbmctc291cmNlLXNwYXRpYWwtcmVmZXJlbmNlLW1hcCI6Ik1hcCdzIEN1cnJlbnQiLCJsYW5ndWFnZS1iYXNlbWFwLXN3aXRjaGVyLXZpZXctdGl0bGUiOiJCYXNlbWFwcyIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWRlc2NyaXB0aW9uIjoiV2hhdCBsYXllcnMgd2lsbCBiZSBhdmFpbGFibGUgb2ZmbGluZS4iLCJsYW5ndWFnZS1zbmFwcGluZy1hY3RpdmF0ZWQiOiJTbmFwcGluZyBhY3RpdmF0ZWQiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1mZWF0dXJlLWRldGFpbHMtY29tcGFjdCI6IkNvbXBhY3QgRmVhdHVyZSBEZXRhaWxzIHswfSIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbmFtZS1jYW50LWNoYW5nZSI6IllvdSBkb24ndCBoYXZlIHBlcm1pc3Npb24gdG8gY2hhbmdlIHRoZSBuYW1lLiIsImxhbmd1YWdlLW1lbnUtY29tYmluZS1yZXN1bHRzLXN1YnRyYWN0IjoiU3VidHJhY3Qgc2F2ZWQgcmVzdWx0cyIsImxhbmd1YWdlLWxheWVyc3R5bGVzLXN5bWJvbGl6ZWJ5YXR0cmlidXRlIjoiU3ltYm9saXplIEJ5IEZlYXR1cmUgQXR0cmlidXRlPyIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tc3RlcC16b29tLWluIjoiWm9vbXMgaW4gYSBzdGVwIiwibGFuZ3VhZ2UtdGFibGUtcmVjb3JkLXJlc3VsdHMtZGlhbG9nLXRpdGxlIjoiVGFibGUgUmVjb3JkIFJlc3VsdHMiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXRvZ2dsZS12aWV3IjoiQWN0aXZhdGVzIG9yIGRlYWN0aXZhdGVzIGEgdmlldy4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXRha2UtYXBwbGljYXRpb24tb25saW5lIjoiQ29ubmVjdHMgdGhlIGFwcGxpY2F0aW9uIHRvIHRoZSBpbnRlcm5ldC4iLCJsYW5ndWFnZS10b29sYmFyLWlkZW50aWZ5LXBvbHlsaW5lIjoiTGluZSIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtZXhwb3J0dGlsZXMtZXJyb3ItbWlzY29uZmlndXJlZCI6IlRoZSBjb25maWd1cmVkIE1hcCBTZXJ2aWNlIGZvciB0aGUgQ3VzdG9tIE9mZmxpbmUgQmFzZW1hcCBjb3VsZCBub3QgYmUgcmVhY2hlZC4iLCJsYW5ndWFnZS1jYXB0dXJlLWdlb21ldHJ5LXRpdGxlIjoiRGlzcGxheSBDYXB0dXJlIEdlb21ldHJ5IiwibGFuZ3VhZ2UtbWFwLXNpdGUtaW5pdGlhbGl6YXRpb24tZmFpbGVkIjoiVGhlIHNpdGUgZmFpbGVkIHRvIGluaXRpYWxpemUuIiwibGFuZ3VhZ2UtZmVhdHVyZS1yZWxhdGVkLW5vLWRhdGEiOiJObyBkYXRhIiwibGFuZ3VhZ2UtdG9vbGJhci10b2dnbGUtYnVmZmVyLW9mZi1uYW1lIjoiQnVmZmVyaW5nIE9uIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtZGF0YS1mcmFtZS1jbG9zZWQiOiJEYXRhIGZyYW1lIGNsb3NlZC4gICIsImxhbmd1YWdlLXVzZXItc2lnbi1vdXQiOiJTaWduIG91dCIsImxhbmd1YWdlLWdlb2xvY2F0ZS1zdG9wLWRlc2MiOiJTdG9wIGFjdGl2ZWx5IHVwZGF0aW5nIHlvdXIgY3VycmVudCBwb3NpdGlvbi4iLCJsYW5ndWFnZS1pZGVudGlmeS1uby1nZW9tZXRyeS1mb3ItbWFwLXRpcC1yZXN1bHRzIjoiQ2FuJ3QgZXhlY3V0ZSB0aGUgU2hvd01hcFRpcFJlc3VsdHMgY29tbWFuZCB3aXRob3V0IGEgZ2VvbWV0cnkuIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtbGF5ZXItZGF0YS1jb250YWluZXIiOiJMYXllciBEYXRhIENvbnRhaW5lciB7MH0iLCJsYW5ndWFnZS1mZWF0dXJlLWF0dGFjaG1lbnRzLWNoZWNraW5nIjoiQ2hlY2tpbmcgZm9yIGF0dGFjaG1lbnRzLi4uIiwibGFuZ3VhZ2UtZmVhdHVyZS1kYXRhbGlua3MiOiJEYXRhTGlua3MiLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtdXBkYXRlLXByb2ZpbGUtZXJyb3ItdGl0bGUiOiJFcnJvciIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy11c2Utb25saW5lLWRhdGEiOiJHbyBPbmxpbmUiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctaW52YWxpZC1udW1lcmljLXJhbmdlIjoiVGhlIHZhbHVlIGZvciB7MH0gaXMgb3V0IG9mIHJhbmdlLiIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLWVycm9yIjoiVXBsb2FkIERhdGEgRXJyb3IiLCJsYW5ndWFnZS1sYXllcmxpc3QtdGl0bGUiOiJMYXllcnMiLCJsYW5ndWFnZS10b29sYmFyLXRhc2tzLWFkZC1sYXllcnMtdG9vbHRpcCI6IkFkZCBsYXllcnMgdG8gdGhlIG1hcCIsImxhbmd1YWdlLXByb2plY3QtY29uZmlybS1zYXZlLWRlc2NyaXB0aW9uLXdpdGgtdGl0bGUiOiJUaGlzIHByb2plY3QgaXMgcmVhZCBvbmx5LiBXb3VsZCB5b3UgbGlrZSB0byBzYXZlIHlvdXIgb3duIGNvcHkgb2YgcHJvamVjdCBcInswfVwiPyIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1kc2stcG9seWxpbmUtdG9vbC1rZXlib2FyZCI6IlVzZSBhcnJvd3MgdG8gbW92ZSB0aGUgcG9pbnQuIEhpdCBFTlRFUiB0byBwbG90IGFuZCBiZWdpbiBtb3ZpbmcgdGhlIG5leHQgcG9pbnQuIEhpdCBFTlRFUiB0d2ljZSB0byBmaW5pc2guIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zdGF0dXMtYWx0LWFsZXJ0IjoiT3JhbmdlIHRyaWFuZ2xlIHdpdGggYW5kIGV4Y2xhbWF0aW9uIHBvaW50IGluIHRoZSBtaWRkbGUiLCJsYW5ndWFnZS12aXN1YWxpemF0aW9uLWRvbmUiOiJEb25lIiwibGFuZ3VhZ2UtdG9vbGJhci1zZWxlY3QtbGF5ZXJzLXRvZ2dsZS1vZmYtbmFtZSI6IkxheWVycyBhcmUgRmlsdGVyZWQiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1jaXJjbGUtdG9vbHRpcCI6IkRyYXcgYSBjaXJjbGUgb24gdGhlIG1hcCIsImxhbmd1YWdlLXdvcmtmbG93LXJlcG9ydC11cmwtdGl0bGUiOiJSZXBvcnQgQ29tcGxldGUiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWNsZWFyLW1hcmt1cC1xdWlldCI6IkNsZWFycyBhbGwgb2YgdGhlIG1hcmt1cCBmcm9tIHRoZSBtYXJrdXAgbGF5ZXIgd2l0aG91dCBwcm9tcHRpbmcgZm9yIGNvbmZpcm1hdGlvbi4iLCJsYW5ndWFnZS1sYXllci1hZGRpdGlvbi1kb25lIjoiRG9uZSIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1saXN0LXRpdGxlIjoiT2ZmbGluZSBNYXBzIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtZHJhd21vZGUtdHJpYW5nbGUiOiJUcmlhbmdsZSIsImxhbmd1YWdlLW1lYXN1cmVtZW50LWRyYXdtb2RlLXBvbHlsaW5lIjoiTGluZSIsImxhbmd1YWdlLXRpbWVzbGlkZXItc2hvdy1hY3Rpb25zLXRvb2x0aXAiOiJEaXNwbGF5IG9wdGlvbnMgZm9yIHRoaXMgVGltZSBTbGlkZXIuIiwibGFuZ3VhZ2UtdG9vbGJhci1pZGVudGlmeS1wb2x5bGluZS10b29sdGlwIjoiRmluZCBvdXQgYWJvdXQgYW4gYXJlYSBvbiB0aGUgbWFwIGRlZmluZWQgYnkgYSBsaW5lIiwibGFuZ3VhZ2UtbWVudS1jb21iaW5lLXJlc3VsdHMtZGVzYyI6IlBlcmZvcm0gYWR2YW5jZWQgb3BlcmF0aW9ucyB3aXRoIG11bHRpcGxlIGxpc3RzIG9mIHJlc3VsdHMiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1sYXllci1hY3Rpb25zIjoiTGF5ZXIgQWN0aW9ucyB7MH0iLCJsYW5ndWFnZS10b29sYmFyLXRhYi1lZGl0aW5nIjoiRWRpdGluZyIsImxhbmd1YWdlLWdlb2xvY2F0ZS1lcnJvciI6IlRoZXJlIHdhcyBhbiBlcnJvciBpbiBnZW9sb2NhdGlvbjogIiwibGFuZ3VhZ2UtbWVudS1sYWJlbC1vcHRpb25zLXRvZ2dsZSI6IlRvZ2dsZSBsYWJlbHMiLCJsYW5ndWFnZS1tZW51LXJlc3VsdHMtYWRkLWZlYXR1cmUiOiJBZGQgdG8gUmVzdWx0cyIsImxhbmd1YWdlLWJ1ZmZlci1vcHRpb25zLWNvbnRpbnVlLWJ1dHRvbi10aXRsZSI6IkNvbnRpbnVlIGJ1ZmZlcmluZyIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tcmVtb3ZlLWhpZ2hsaWdodC1sYXllciI6IlJlbW92ZXMgdGhlIGhpZ2hsaWdodCBsYXllciB3aXRoIHRoZSBzcGVjaWZpZWQgbmFtZSwgaWYgdGhlcmUgaXMgb25lLiIsImxhbmd1YWdlLXNlYXJjaC1hcmNnaXMtYWRkcmVzcyI6IkFkZHJlc3MiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXNob3ctbWFwLWNhbGxvdXQiOiJEaXNwbGF5cyBhIG1hcCBjYWxsb3V0IGFuY2hvcmVkIHRvIGEgZ2l2ZW4gcG9pbnQuIiwibGFuZ3VhZ2Utc2VhcmNoLXBlcmZvcm0tZ2xvYmFsLXNlYXJjaCI6IlBlcmZvcm0gYSBTZWFyY2giLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctZHNrLWZyZWVoYW5kLXBvbHlnb24tdG9vbCI6IkNsaWNrIG9yIHRhcCBvbiB0aGUgbWFwIHRvIGRyYXcgYSBwb2x5Z29uIHNoYXBlLiBEb3VibGUgY2xpY2svdGFwIHRvIHN0b3AiLCJsYW5ndWFnZS10b29sYmFyLW5hdmlnYXRpb24tZnVsbC1leHRlbnQtdG9vbHRpcCI6IlJldHVybiB0byB0aGUgZnVsbCBleHRlbnQgb2YgdGhlIG1hcCIsImxhbmd1YWdlLXRvb2xiYXItbWVudS1nbG9iYWwtc2F2ZS1hcy1kZXNjIjoiU2F2ZSB0aGUgc3RhdGUgb2YgeW91ciB2aWV3ZXIgaW4gYSBuZXcgcHJvamVjdCIsImxhbmd1YWdlLWhlYXQtbWFwcy10aXRsZSI6IkhlYXQgTWFwIE9wdGlvbnMiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1udWxsLWdyYXBoaWNzLWVycm9yIjoiVGhlIGdyYXBoaWNzIGZvciB0aGlzIE1hcCBhcmUgdW5kZWZpbmVkIG9yIG5vdCB5ZXQgbG9hZGVkLiBNZWFzdXJlbWVudCBUb29scyBjYW5ub3QgY29udGludWUuIiwibGFuZ3VhZ2UtbWVudS1ib29rbWFyay1hZGQtZGVzYyI6IkFkZCB0aGUgY3VycmVudCBtYXAgZXh0ZW50IHRvIHRoZSBsaXN0IG9mIGJvb2ttYXJrcywgc28gdGhhdCBJIGNhbiByZXR1cm4gdG8gaXQgbGF0ZXIuIiwibGFuZ3VhZ2UtY2FwdHVyZS1nZW9tZXRyeS1wb2x5Z29uX3Rvb2x0aXAiOiJTZWxlY3QgYnkgcG9seWdvbiIsImxhbmd1YWdlLW9mZmxpbmUtcHJvdmlzaW9uaW5nLWZhaWxlZC1jb2RlMjIiOiJUaGUgZG93bmxvYWQgZm9yIG9mZmxpbmUgdXNlIGZhaWxlZC4gVGhlIGRvd25sb2FkZWQgcmVzb3VyY2VzIG1heSBiZSB0b28gbGFyZ2UgZm9yIHRoZSBvZmZsaW5lIHN0b3JhZ2Ugc3BhY2UuIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbWVhc3VyZS1wb2x5Z29uLXRvb2wtc3RhdHVzIjoiQ2xpY2sgb3IgdGFwIHRvIGRyYXcgYSBtdWx0aS1zaWRlZCBzaGFwZSBhbmQgZmluZCBhcmVhLiBEb3VibGUtY2xpY2svdGFwIHRvIGZpbmlzaC4iLCJsYW5ndWFnZS1tYXAtem9vbS1pbiI6IkRyYWcgb24gdGhlIG1hcCB0byB6b29tIGluIHRvIHRoYXQgYXJlYS4gVGhlIHNtYWxsZXIgdGhlIGFyZWEsIHRoZSBmdXJ0aGVyIHlvdSB6b29tIGluLiIsImxhbmd1YWdlLW1lbnUtc2hvdy1yZXN1bHRzLWxpc3QtZGVzYyI6IlN3aXRjaCB0byBMaXN0IFZpZXciLCJsYW5ndWFnZS10b29sYmFyLWdyb3VwLWZpbmQtZGF0YS10b29scyI6IkZpbmQiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC12aXN1YWxpemF0aW9uLXZpZXciOiJWaXN1YWxpemF0aW9uIFZpZXcgezB9IiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbWVhc3VyZS1saW5lLXRvb2wtdG9vbHRpcCI6IkRyYXcgYSBtdWx0aS1wYXJ0IGxpbmUgdG8gbWVhc3VyZSBhIGRpc3RhbmNlIiwibGFuZ3VhZ2UtZXhwb3J0LXdlYi1tYXAtbmFycmF0ZS12aWV3LWFjdGl2YXRlZCI6IlBsZWFzZSBlbnRlciBhIHRpdGxlIiwibGFuZ3VhZ2UtbWVudS1jb21iaW5lLXJlc3VsdHMtdW5pb24tZGVzYyI6IkNvbWJpbmUgYSBzYXZlZCBzZXQgb2YgcmVzdWx0cyB3aXRoIHlvdXIgY3VycmVudCByZXN1bHRzIGxpc3QiLCJsYW5ndWFnZS1sYXllci1hZGRpdGlvbi1zdWNjZXNzIjoiVGhlIGxheWVyIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBhZGRlZCB0byB0aGUgbWFwLiIsImxhbmd1YWdlLXRvb2xiYXItZWRpdGluZy10b29scyI6IkVkaXQgRmVhdHVyZXMiLCJsYW5ndWFnZS1wcmludC1wcmV2aWV3LWNlbnRlciI6IkNlbnRlciBwcmludCBoZXJlIiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWFib3ZlLWxlZnQiOiJhYm92ZS1sZWZ0IiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLW9wZXJhdG9yLW51bGwiOiJpcyBudWxsIiwibGFuZ3VhZ2UtbWVudS1ydW4tcmVwb3J0IjoiUnVuIGEgUmVwb3J0IiwibGFuZ3VhZ2Utc2F2ZWQtcmVzdWx0cy1pdGVtLXJlbmFtZS1kZXNjcmlwdGlvbiI6IkdpdmUgc2F2ZWQgcmVzdWx0cyAnezB9JyBhIG5ldyBuYW1lIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtZGVsZXRlLXRvb2x0aXAiOiJEZWxldGUgYW4gZXhpc3RpbmcgZHJhd2luZyIsImxhbmd1YWdlLWxheWVyLWFkZGl0aW9uLWxheWVyLW5hbWUtZGVzYyI6IkNvbnRyb2wgdGhlIGJlaGF2aW91ciBvZiB0aGlzIGxheWVyIHRoYXQgeW91IGhhdmUgYWRkZWQuIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1pbml0aWFsaXplLXNpdGUiOiJUZWxscyB0aGUgR2VvY29ydGV4IEVzc2VudGlhbHMgU2l0ZSBvYmplY3QgdG8gYmVnaW4gaW5pdGlhbGl6YXRpb24uIiwibGFuZ3VhZ2UtdG9vbGJhci1uYXRpdmUtc2hvd29mZmxpbmVtYXBzIjoiT2ZmbGluZSBNYXBzIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtY29vcmRpbmF0ZXMtZWFzdCI6InswfSDCsCBFYXN0IiwibGFuZ3VhZ2UtbWVudS1idWZmZXItaWRlbnRpZnktZmVhdHVyZSI6IlNob3cgQnVmZmVyIE9wdGlvbnMiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1kcmF3bW9kZS1jaXJjbGUiOiJDaXJjbGUiLCJsYW5ndWFnZS10b29sYmFyLW9wZW4tdG9vbGJhciI6Ik9wZW4gdG9vbGJhciIsImxhbmd1YWdlLXByb2plY3RzLXNvcnQtbmFtZS1kaXNwbGF5LW5hbWUiOiJQcm9qZWN0IE5hbWUiLCJsYW5ndWFnZS1zbmFwcGluZy1lcnJvciI6IkFuIGVycm9yIG9jY3VyZWQgZHVyaW5nIHNuYXBwaW5nLiIsImxhbmd1YWdlLXRvb2xiYXItdGFiLW1hcCI6Ik1hcCIsImxhbmd1YWdlLXRvb2xiYXItbmF2aWdhdGlvbiI6Ik5hdmlnYXRpb24iLCJsYW5ndWFnZS1tYXAtdGlwLWNsb3NlIjoiQ2xvc2UgTWFwIFRpcCIsImxhbmd1YWdlLW1lYXN1cmVtZW50LW1lYXN1cmUtYXJlYS10b29sLXN0YXR1cyI6IkNsaWNrIG9yIHRhcCB0byBkcmF3IGEgbXVsdGktc2lkZWQgc2hhcGUgYW5kIGZpbmQgYXJlYS4gRG91YmxlLWNsaWNrL3RhcCB0byBmaW5pc2guIiwibGFuZ3VhZ2UtdG9vbGJhci10YXNrcy1wcmludC1tYXAiOiJQcmludCIsImxhbmd1YWdlLWxheWVyLWFkZGl0aW9uLWVycm9yLW1lc3NhZ2UiOiJBbiB1bmtub3duIGVycm9yIGhhcyBvY2N1cnJlZC4iLCJsYW5ndWFnZS1idWZmZXItZXJyb3ItaWRlbnRpZnktYnVmZmVyZWQtZmVhdHVyZS1zZXQiOiJDb3VsZCBub3QgZXhlY3V0ZSBJZGVudGlmeUJ1ZmZlcmVkRmVhdHVyZVNldCBvcGVyYXRpb24uIEZlYXR1cmUgU2V0IG9yIEZlYXR1cmUgU2V0IENvbGxlY3Rpb24gbm90IGZvdW5kLiIsImxhbmd1YWdlLWdlb2xvY2F0ZS1mb2xsb3ctZGVzYyI6IktlZXAgdGhlIHNjcmVlbiBjZW50ZXJlZCBvbiB5b3VyIGxvY2F0aW9uLiIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1kZWdyZWVzLXRpdGxlIjoiRGVncmVlcyIsImxhbmd1YWdlLXByaW50aW5nLXByaW50LXJlcXVlc3Qtc3RhdHVzLWRlc2NyaXB0aW9uIjoiVG8gdmlldyB0aGUgc3RhdHVzLCBwbGVhc2UgY2xpY2sgJ1ByaW50IEpvYiBTdGF0dXMnIGFuZCByZWZyZXNoLiIsImxhbmd1YWdlLWxheWVyLWFkZGl0aW9uLXNlYXJjaC10aXRsZSI6IlNlYXJjaCBmb3IgTGF5ZXJzIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbWVhc3VyZS1jaXJjbGUtdG9vbC1uYW1lIjoiQ2lyY2xlIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLW1vZHVsZS10aXRsZSI6IkZlYXR1cmUgRWRpdGluZyIsImxhbmd1YWdlLXRvb2xiYXItYXJjZ2lzLWV4cG9ydC13ZWItbWFwIjoiU2F2ZSB0byBBcmNHSVMiLCJsYW5ndWFnZS10YWJsZS1yZWNvcmQtcmVzdWx0cy1kaWFsb2ctYnV0dG9uLXByb2NlZWQiOiJEb25lIiwibGFuZ3VhZ2UtdG9vbGJhci1zbmFwcGluZy1lbmFibGUiOiJFbmFibGUgU25hcHBpbmciLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWNsb3NlLXJlc3VsdHMtZnJhbWUiOiJEZWFjdGl2YXRlcyB0aGUgUmVzdWx0c1JlZ2lvbi4iLCJsYW5ndWFnZS10b29sYmFyLWdyb3VwLTNyZC1wYXJ0eS1tYXBzIjoiTGlua2VkIE1hcHMiLCJsYW5ndWFnZS10YWJsZS1tYXBwaW5nLXNvdXJjZS1zcGF0aWFsLXJlZmVyZW5jZSI6IlNwYXRpYWwgUmVmZXJlbmNlIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1hY3RpdmF0ZS12aWV3IjoiQWN0aXZhdGVzIGEgdmlldy4iLCJsYW5ndWFnZS13b3JrZmxvdy1yZXBvcnQtdXJsLXRleHQiOiJDbGljayBoZXJlLiIsImxhbmd1YWdlLXJlc3VsdHMtdG9nZ2xlLXRhYmxlLXZpZXciOiJTd2l0Y2ggdG8gVGFibGUiLCJsYW5ndWFnZS10b29sYmFyLW1lbnUtZ2xvYmFsLXNhdmUtZGVzYyI6IlNhdmUgdGhlIHN0YXRlIG9mIHlvdXIgdmlld2VyIGluIGEgcHJvamVjdCIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1hZGQtY29vcmRpbmF0ZS1idXR0b24tdGl0bGUiOiJDbGljayB0byBhZGQgdGhpcyBjb29yZGluYXRlIHRvIHRoZSBtYXAiLCJsYW5ndWFnZS1tYXJrdXAtY2hhbmdlLXRleHQtdGV4dCI6IkVudGVyIG5ldyB0ZXh0LiIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1zeW5jLXNob3ctZGV0YWlscyI6IkRldGFpbHMiLCJsYW5ndWFnZS10aW1lc2xpZGVyLWluc3RhbnQtbW9kZS1zaW5nbGUtaGFuZGxlLWFyaWEtbGFiZWwiOiJUaW1lIHNsaWRlciBoYW5kbGUuIiwibGFuZ3VhZ2UtbGVnZW5kLW5vLWl0ZW1zIjoiTm8gaXRlbXMgdG8gZGlzcGxheS4iLCJsYW5ndWFnZS1sYXllci1zZWxlY3Rvci1kZWZhdWx0LWNsZWFyLWFsbC10b29sdGlwIjoiQ2xlYXIgYWxsIGxheWVycyIsImxhbmd1YWdlLWJ1ZmZlci11bml0LXlhcmQtZGlzcGxheS1uYW1lIjoiWWFyZHMgKHlkKSIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1kZWxldGUtYWxsLWNvb3JkaW5hdGVzIjoiRGVsZXRlIEFsbCBDb29yZGluYXRlcyIsImxhbmd1YWdlLWJhc2VtYXAtc2xpZGVyLXRvZ2dsZS1idXR0b24iOiJPcGVuIGFuZCBjbG9zZSBiYXNlbWFwIHNsaWRlciIsImxhbmd1YWdlLXRpbWVzbGlkZXItbW9kZS1zZWxlY3QtdGl0bGUiOiJTZWxlY3QgbW9kZSBvZiBvcGVyYXRpb24uIiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWFib3ZlLXN0YXJ0IjoiYWJvdmUtc3RhcnQiLCJsYW5ndWFnZS1mZWF0dXJlLWNvb3JkaW5hdGVzLWxhdC1sb25nIjoiTGF0L0xvbmciLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLWV4cG9ydHRpbGVzLWVycm9yLWF1dGgiOiJBY2Nlc3MgZGVuaWVkIHRvIHRoZSBjb25maWd1cmVkIE1hcCBTZXJ2aWNlIGZvciB0aGUgQ3VzdG9tIE9mZmxpbmUgQmFzZW1hcC4iLCJsYW5ndWFnZS1tZW51LWV4cG9ydC1yZXN1bHRzLXRvLXhsc3gtZGVzYyI6IkV4cG9ydCByZXN1bHRzIHRvIFhMU1giLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctY29uZmlybS1sb3ctYWNjdXJhY3ktZ2VvbG9jYXRpb24tdGl0bGUiOiJHZW9sb2NhdGlvbiBSZXN1bHQiLCJsYW5ndWFnZS11cGxvYWQtZGlhbG9nLWJ1dHRvbi1jYW5jZWwiOiJDYW5jZWwiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItbm90LWF2YWlsYWJsZS1vZmZsaW5lIjoiIiwibGFuZ3VhZ2UtaGVhdC1tYXBzLW5vLWZpZWxkcyI6Ik5vIGF2YWlsYWJsZSBmaWVsZHMiLCJsYW5ndWFnZS11cGxvYWQtZGlhbG9nLWRlc2NyaXB0aW9uIjoiQ2hvb3NlIGZpbGVzIHRvIHVwbG9hZCBmcm9tIHlvdXIgY29tcHV0ZXIsIGFuZCB0aGV5IHdpbGwgYmVjb21lIHRlbXBvcmFyaWx5IGF2YWlsYWJsZSBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLW1lbnUtb2ZmbGluZS1tYXAtZWRpdG9yLWdlb21ldHJ5LWFjdGlvbnMtY2xlYXIiOiJDbGVhciIsImxhbmd1YWdlLWJhc2VtYXAtc3dpdGNoZXItc3dpdGNoIjoiU2VsZWN0IGEgYmFzZW1hcCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tc2V0LWVkaXRvci1mZWF0dXJlLWdlb21ldHJ5IjoiU2V0cyB0aGUgZ2VvbWV0cnkgb2YgdGhlIGZlYXR1cmUgdGhhdCBpcyBjdXJyZW50bHkgYmVpbmcgZWRpdGVkIGluIHRoZSBBdHRyaWJ1dGUgRWRpdG9yLCBhbmQgYWN0aXZhdGVzIHRoZSBBdHRyaWJ1dGVFZGl0b3IgVmlldy4iLCJsYW5ndWFnZS1sYWJlbE9wdGlvbnMtY3VzdG9taXplIjoiQ3VzdG9taXplIiwibGFuZ3VhZ2UtdG9vbGJhci10aW1lc2xpZGVyLXNob3d0aW1lc2xpZGVyLXRvb2x0aXAiOiJBY3RpdmF0ZSB0aGUgdGltZSBzbGlkZXIiLCJsYW5ndWFnZS1tYXAtc2NhbGUiOiJNYXAgU2NhbGUiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXBhbi10by1mZWF0dXJlIjoiUGFucyB0byB0aGUgR2VvY29ydGV4IGZlYXR1cmUuIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLWxhc3Qtc3luYy10aW1lIjoiTGFzdCBzeW5jOiAiLCJsYW5ndWFnZS1tZW51LW1hcHRpcC1hY3Rpb25zLXZpZXctZGV0YWlscyI6IlZpZXcgQWRkaXRpb25hbCBEZXRhaWxzIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1kaXNwbGF5LXdvcmtmbG93LWNvbnRhaW5lci1jb250ZW50IjoiRGlzcGxheXMgYSB2aWV3IGluIGEgd29ya2Zsb3cgY29udGFpbmVyLiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXVuaXQta2lsb21ldGVyLXNob3J0Ijoia20iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctZWRpdC1kZXNjIjoiRWRpdCB0aGUgYXR0cmlidXRlcyBvZiB0aGUgZmVhdHVyZSIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1lbXB0eS1vZmZsaW5lIjoiVW5hYmxlIHRvIGNvbnRhY3QgdGhlIE9mZmxpbmUgTWFwcyBzZXJ2ZXIuICBDaGVjayB5b3VyIG5ldHdvcmsgY29ubmVjdGlvbi4iLCJsYW5ndWFnZS1tZW51LWxhdGl0dWRlLWdlb2dyYXBoaWNzLWRlc2MiOiJMYXRpdHVkZSBHZW9ncmFwaGljcyBHcm91cCBMdGQuIiwibGFuZ3VhZ2UtbWVudS1nbG9iYWwtc2F2ZS1hcyI6IlNhdmUgYXMiLCJsYW5ndWFnZS1sYXllci1jYXRhbG9nLW5vLWxheWVycy1zZWxlY3RlZCI6Ik5vIExheWVycyBDdXJyZW50bHkgU2VsZWN0ZWQiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctY3JlYXRlLWVkaXQtbm8tZmVhdHVyZXMtZm91bmQiOiJObyBmZWF0dXJlcyB3ZXJlIGZvdW5kIHdpdGggbWF0Y2hpbmcgdmFsdWUuIFdoYXQgd291bGQgeW91IGxpa2UgdG8gZG8/IiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWNpcmNsZS10b29sIjoiRHJhZyBvbiB0aGUgbWFwIHRvIGRyYXcgYSBjaXJjbGUiLCJsYW5ndWFnZS10aW1lc2xpZGVyLXNldHRpbmdzLXRpbWUtaW50ZXJ2YWwiOiJUaW1lIEludGVydmFsIiwibGFuZ3VhZ2UtbWVudS1nbG9iYWwtc2F2ZSI6IlNhdmUiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXNob3ctZmVhdHVyZS1kZXRhaWxzIjoiQ3JlYXRlcyBhbmQgZGlzcGxheXMgdGhlIEZlYXR1cmUgRGV0YWlscyBkaWFsb2cgZm9yIHRoZSBmZWF0dXJlIG9yIGZlYXR1cmUgc2V0IGNvbGxlY3Rpb24gc3BlY2lmaWVkLiIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1lZGl0LWNvb3JkaW5hdGUtZGVzYyI6IkVkaXQgdGhlIGxvY2F0aW9uIG9mIHRoaXMgY29vcmRpbmF0ZS4iLCJsYW5ndWFnZS10YWJsZS1tYXBwaW5nLWdlbmVyYXRlZC1jb2x1bW4tcHJlZml4IjoiQ29sdW1uIiwibGFuZ3VhZ2UtcnVuLXJlcG9ydC1jb21wbGV0ZS1oZWFkaW5nLXN5bmMiOiJSZXBvcnQgUmVhZHkiLCJsYW5ndWFnZS1sYXllci1hZGRpdGlvbi1lcnJvci11bnN1cHBvcnRlZC13a2lkIjoiVW5zdXBwb3J0ZWQgQ29vcmRpbmF0ZSBTeXN0ZW0iLCJsYW5ndWFnZS1sZWdlbmQta21sLWRlZmF1bHQtdGl0bGUiOiJLTUwiLCJsYW5ndWFnZS1mcmFtZXdvcmstdWktdmlldy1jb250YWluZXItdmlldy1jbG9zZSI6IkNsb3NlIHswfSIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWZyZWVoYW5kLXRvb2x0aXAiOiJEcmF3IGEgZnJlZWhhbmQgbGluZSBvbiB0aGUgbWFwIiwibGFuZ3VhZ2UtbGF5ZXJsaXN0LW9wYWNpdHktc2xpZGVyLWRlc2NyaXB0aW9uIjoibGF5ZXIgb3BhY2l0eSIsImxhbmd1YWdlLXRvb2xiYXItaWRlbnRpZnktbGF5ZXJzLWNoYW5nZS10b29sdGlwIjoiRW5hYmxlL0Rpc2FibGUgbGF5ZXJzIHNlbGVjdGVkIGZvciBpZGVudGlmeSBvcGVyYXRpb25zIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtYWxlcnQtdGl0bGUiOiJNZWFzdXJlbWVudCBUb29scyBTdGF0dXMgQWxlcnQiLCJsYW5ndWFnZS1sYXllcmxpc3Qtc2VydmljZS11bmF2YWlsYWJsZSI6IlRoaXMgc2VydmljZSBtYXkgYmUgY3VycmVudGx5IHVuYXZhaWxhYmxlLiIsImxhbmd1YWdlLXByb2plY3Qtc3RhdHVzLXNhdmVkLWNvbXBsZXRlIjoiWW91ciBwcm9qZWN0IGhhcyBiZWVuIHNhdmVkLiIsImxhbmd1YWdlLWxhYmVsT3B0aW9ucy1mb250LXNpemUiOiJGb250IFNpemUiLCJsYW5ndWFnZS1wcm9qZWN0LWNvbmZpcm0tc3RvcC1zaGFyaW5nLWRlc2NyaXB0aW9uIjoiQXJlIHlvdSBzdXJlIHlvdSB3aXNoIHRvIHN0b3Agc2hhcmluZyBwcm9qZWN0IFwiezB9XCI/IFRoaXMgd2lsbCByZW1vdmUgYWNjZXNzIHRvIHRoZSBwcm9qZWN0IGV4Y2VwdCBmb3IgeW91IGFuZCBhbnkgb3RoZXIgb3duZXJzLiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXVuaXQtbmF1dGljYWxtaWxlLXNob3J0IjoiTk0iLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtY2Fubm90LWNyZWF0ZSI6IllvdSBtdXN0IGJlIGxvZ2dlZCBpbiB0byBjcmVhdGUgb2ZmbGluZSBtYXBzLiIsImxhbmd1YWdlLWNvbW1vbi1kZWJ1Zy1sb2cta2V5cyI6IlRvIHZpZXcgdGhlIGxvZyBvbiBhIGRlc2t0b3AgbWFjaGluZSwgcHJlc3MgQ3RybCArIFNoaWZ0ICsgfi4gT24gYSBtb2JpbGUgZGV2aWNlLCBwcmVzcyBhbmQgaG9sZCB0aGUgdG9vbGJhci4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWFjdGl2YXRlLWNvbnRhaW5lcnMtZm9yLXdvcmtmbG93IjoiQWN0aXZhdGVzIGFueSB3b3JrZmxvdyBjb250YWluZXIgdmlld3MgYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW4gd29ya2Zsb3cuIiwibGFuZ3VhZ2UtY2FwdHVyZS1nZW9tZXRyeS1yZXF1aXJlZC1tZXNzYWdlIjoiUGxlYXNlIHNlbGVjdCBhIGdlb21ldHJ5IG9uIHRoZSBtYXAgdG8gcHJvY2VlZCIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1zdG9wLWVkaXRpbmctZ2VvbWV0cnktY2FwdGlvbiI6IlNhdmUgR2VvbWV0cnkiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC11bml0LW5hdXRpY2FsbWlsZSI6Ik5hdXRpY2FsIE1pbGVzIChOTSkiLCJsYW5ndWFnZS1zZWFyY2gtaW5zdGFudC1wcm92aWRlci1zZWFyY2gtY29tcGxldGVkIjoiRmluaXNoaW5nIGluc3RhbnQgc2VhcmNoLiIsImxhbmd1YWdlLWNvbW1vbi1zaG93IjoiU2hvdyIsImxhbmd1YWdlLXRpbWVzbGlkZXItdGltZS1pbnRlcnZhbC10aXRsZSI6IlNlbGVjdCB0aGUgdGltZSBpbnRlcnZhbCBmb3IgdGhpcyBwcm9maWxlLiIsImxhbmd1YWdlLWNvbW1vbi1yZXN1bHRzLWludGVyc2VjdC1jb25maXJtYXRpb24iOiInezB9JyBpbnRlcnNlY3RlZCB3aXRoIHsxfSIsImxhbmd1YWdlLWZlYXR1cmUtZGV0YWlscy1mb3IiOiJEZXRhaWxzIEZvciIsImxhbmd1YWdlLWdlb2xvY2F0ZS1maW5kIjoiRmluZCBNZSIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXRleHQtZGVzYyI6IkNsaWNrIGEgbG9jYXRpb24gd2hlcmUgeW91IHdhbnQgdG8gYWRkIHRleHQgb24gdGhlIG1hcC4iLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1kYXRhLWZyYW1lLXJlc3VsdHMtY29udGFpbmVyIjoiRGF0YSBGcmFtZSBSZXN1bHRzIENvbnRhaW5lciB7MH0iLCJsYW5ndWFnZS1wcm9qZWN0cy1maWx0ZXItcGxhY2Vob2xkZXIiOiJGaWx0ZXIgUHJvamVjdHMuLi4iLCJsYW5ndWFnZS1idWZmZXItb3B0aW9ucy1tYXJrdXAtbGFiZWwiOiJXcml0ZSB0byBEcmF3aW5nIExheWVyIiwibGFuZ3VhZ2UtbWVudS1jb21iaW5lLXJlc3VsdHMtdW5pb24iOiJBZGQgdG8gcmVzdWx0cyIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1lcnJvci10aXRsZSI6IkVycm9yIiwibGFuZ3VhZ2UtcHJvamVjdC1zdGF0dXMtc2F2ZWQtZGVzY3JpcHRpb24iOiJUbyBvcGVuIHRoaXMgcHJvamVjdCwgdXNlIHRoZSBPcGVuIFByb2plY3QgYnV0dG9uLiBUbyBzaGFyZSB0aGlzIHByb2plY3Qgd2l0aCBvdGhlcnMsIHVzZSB0aGUgU2hhcmUgYnV0dG9uLiIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXBvbHlnb24iOiJQb2x5Z29uIiwibGFuZ3VhZ2UtYmFubmVyLXN1Yi10aXRsZSI6IiIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1kZWxldGUtY29vcmRpbmF0ZSI6IkRlbGV0ZSIsImxhbmd1YWdlLW1lbnUtbWFwLWNvbnRleHQtbWVudS10aXRsZSI6IlBvaW50IE9wdGlvbnMiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctbWJsLXJlY3RhbmdsZS10b29sIjoiRHJhZyBvbiB0aGUgbWFwIHRvIGRyYXcgYSByZWN0YW5nbGUuIiwibGFuZ3VhZ2UtY2FwdHVyZS1nZW9tZXRyeS1wb2ludC1rZXlib2FyZCI6IlVzZSBhcnJvd3MgdG8gbW92ZSB0aGUgcG9pbnQuIEhpdCBFTlRFUiB0byBmaW5pc2guIiwibGFuZ3VhZ2UtdGFibGUtbWFwcGluZy14LWF4aXMiOiJYIEF4aXMgQ29sdW1uIiwibGFuZ3VhZ2UtdXBsb2FkLWRpYWxvZy12YWxpZGF0aW9uLWVycm9yLXNoYXBlZmlsZS1pbmNvbXBsZXRlLW1lc3NhZ2UiOiJTaGFwZWZpbGUgdXBsb2FkcyBtdXN0IGluY2x1ZGUgYXQgbGVhc3QgdGhlIHByaW1hcnkgJy5zaHAnIGZpbGUuIiwibGFuZ3VhZ2UtYmFzZW1hcC1zd2l0Y2hlci1sYXllci10aGVtZXMiOiJMYXllciBUaGVtZXMiLCJsYW5ndWFnZS1wcm9qZWN0cy1kZXNjcmlwdGlvbi1sZXNzIjoiTGVzcyIsImxhbmd1YWdlLWlkZW50aWZ5LWxpbmUtdG9vbCI6IkRyYWcgb24gdGhlIG1hcCB0byBkcmF3IGEgbGluZS4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWdldC1mZWF0dXJlLWRldGFpbHMtcHJvdmlkZXJzIjoiQ3JlYXRlcyB2aWV3IGZvciBhbGwgY29uZmlndXJlZCBmZWF0dXJlIGRldGFpbHMgcHJvdmlkZXJzIGFuZCBlbWJlZHMgdGhlbSBpbnRvIGZlYXR1cmUgZGV0YWlscyBkaWFsb2cuIiwibGFuZ3VhZ2UtdG9vbGJhci1pZGVudGlmeS1wb2ludC10b29sdGlwIjoiRmluZCBvdXQgYWJvdXQgYSBsb2NhdGlvbiBvbiB0aGUgbWFwIiwibGFuZ3VhZ2Utc2hlbGwtZGF0YWZyYW1lLWRpc2FibGVkIjoiVGhlcmUgaXMgY3VycmVudGx5IG5vIGNvbnRlbnQgaW4gdGhpcyB2aWV3IiwibGFuZ3VhZ2UtYnVmZmVyLWVycm9yLWludmFsaWQtcmVzdWx0cyI6IlRoZSBidWZmZXIgb3BlcmF0aW9uIHJldHVybmVkIGludmFsaWQgcmVzdWx0cy4iLCJsYW5ndWFnZS1jb21wYWN0LXRvb2xiYXItYnV0dG9uLWRlc2NyaXB0aW9uIjoiVG9vbHMiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWFkZC1zdGF0dXMiOiJBZGRzIGEgc3RhdHVzIGluZGljYXRvciB0byB0aGUgc2NyZWVuLiIsImxhbmd1YWdlLXByaW50LW1hcCI6IlByaW50IE1hcCIsImxhbmd1YWdlLXRpbWVzbGlkZXItc2V0dGluZ3Mtdmlldy1oZWFkaW5nIjoiVGltZSBTbGlkZXIgU2V0dGluZ3MiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctbXVsdGktZmVhdHVyZS1zZWxlY3RvciI6IlNlbGVjdCBGZWF0dXJlIEZvciBFZGl0aW5nIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWdlb21ldHJ5LXBvaW50IjoiTW92ZSB0aGUgc2VsZWN0ZWQgcG9pbnQgYnkgaG9sZGluZyBkb3duIG9uIGl0IGFuZCBkcmFnZ2luZy4gUmVsZWFzZSB0byBzdG9wIiwibGFuZ3VhZ2UtbGF5ZXItYWRkaXRpb24tZXJyb3ItdW5zdXBwb3J0ZWQtd2tpZC1tZXNzYWdlIjoiVGhlIGl0ZW0gY291bGQgbm90IGJlIGFkZGVkIHRvIHRoZSBtYXAgYmVjYXVzZSBpdHMgd2VsbC1rbm93biBJRCBkb2VzIG5vdCBtYXRjaCBhIHN1cHBvcnRlZCBjb29yZGluYXRlIHN5c3RlbS4iLCJsYW5ndWFnZS1tYXAtY29vcmRpbmF0ZXMtWFkiOiJYL1kiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWRlbGV0ZS1yZWxhdGVkLXJlY29yZCI6IkRlbGV0ZXMgYSByZWxhdGVkIHRhYmxlIHJlY29yZC4iLCJsYW5ndWFnZS1hbGVydC1kZWZhdWx0LXRpdGxlIjoiQWxlcnQiLCJsYW5ndWFnZS1oZWF0LW1hcHMtaW50ZW5zaXR5LXNsaWRlci1tYXgtbGFiZWwiOiIxMDAiLCJsYW5ndWFnZS1idWZmZXItZXJyb3ItdW5pb24tb3BlcmF0aW9uIjoiQSB1bmlvbiBjb3VsZCBub3QgYmUgcGVyZm9ybWVkIG9uIHRoZSBidWZmZXIgb3BlcmF0aW9uIHJlc3VsdHMuIiwibGFuZ3VhZ2UtdGltZXNsaWRlci1zZXR0aW5ncy10aW1lLWludGVydmFsLXVuaXQtaG91ciI6IkhvdXIiLCJsYW5ndWFnZS1tZW51LWlkZW50aWZ5IjoiRmluZCBkYXRhIG9uIHRoZSBtYXAiLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtc2l6ZSI6IlNpemU6ICIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1jcmVhdGUtZWRpdCI6IkNyZWF0ZSBPciBFZGl0IEZlYXR1cmUiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXNoYXJpbmctdGV4dC1ub25lIjoiVGhpcyBvZmZsaW5lIG1hcCBpcyBzaGFyZWQgd2l0aCBubyBvbmUuIiwibGFuZ3VhZ2UtdGltZXNsaWRlci1zdGVwLWJhY2stdG9vbHRpcCI6IkNsaWNrIHRvIHN0ZXAgYmFjayBpbiB0aW1lIGJ5IHRoZSBjb25maWd1cmVkIHRpbWUgaW50ZXJ2YWwuIiwibGFuZ3VhZ2UtbWVudS1wcm9qZWN0cy1hY3Rpb25zLWRlc2MiOiJQcm9qZWN0cyBBY3Rpb25zIiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWNlbnRlci1hbG9uZyI6ImNlbnRlci1hbG9uZyIsImxhbmd1YWdlLW1lbnUtbm8taXRlbXMiOiJObyBtZW51IG9wdGlvbnMuIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtYWRkLWFzLWRyYXdpbmciOiJQcmVzZXJ2ZSIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWVycm9yLWVtcHR5IjoiVGhlIG9mZmxpbmUgbWFwIG5lZWRzIGF0IGxlYXN0IG9uZSBsYXllci4iLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1kZWxldGUiOiJFcmFzZSIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtbm9uZXN1cHBvcnRlZCI6Ik5vIFByZS1nZW5lcmF0ZWQgb3IgQ3VzdG9tIE9mZmxpbmUgQmFzZW1hcCBpcyBjb25maWd1cmVkLiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tcmVnaXN0ZXItc2VhcmNoLXByb3ZpZGVyIjoiUmVnaXN0ZXJzIGEgc2VhcmNoIHByb3ZpZGVyIGlmIG5vdCBhbHJlYWR5IHJlZ2lzdGVyZWQuIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWNyZWF0ZS1lZGl0LXNlbGVjdC1nZW9tZXRyeSI6IlNlbGVjdCBHZW9tZXRyeSBJbnB1dCIsImxhbmd1YWdlLXRhYmxlLW1hcHBpbmctdmFsaWRhdGlvbi1lcnJvci1heGVzLW11c3QtYmUtdW5pcXVlLW1lc3NhZ2UiOiJDb29yZGluYXRlIGF4ZXMgbXVzdCBiZSBhc3NpZ25lZCB0byByZXNwZWN0aXZlbHkgdW5pcXVlIHRhYmxlIGNvbHVtbnMuIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtcmVzdWx0cy1mZWF0dXJlLWRlc2NyaXB0aW9uLXNlZ21lbnQiOiJMZW5ndGg6IHtMZW5ndGh9e1VuaXRzfVxuQW5nbGU6IHtBbmdsZX1cbkJlYXJpbmc6IHtCZWFyaW5nfSIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1zaG93LWFsbC1jb29yZGluYXRlcyI6IlNob3cgQWxsIENvb3JkaW5hdGVzIiwibGFuZ3VhZ2UtZ2VvbG9jYXRlLXRyYWNrLWRlc2MiOiJLZWVwIGFuIGluZGljYXRvciBvbiB5b3VyIGxvY2F0aW9uLiIsImxhbmd1YWdlLXNhdmVkLXJlc3VsdHMtdXBkYXRlLWNvbmZpcm1hdGlvbiI6IlNhdmVkIHJlc3VsdHMgJ3swfScgdXBkYXRlZCB3aXRoIHsxfSBmZWF0dXJlcyIsImxhbmd1YWdlLXNoYXJlLXByb2plY3Qtc2F2ZS1idXR0b24tdGl0bGUiOiJTYXZlIHRoZSBzaGFyaW5nIHNldHRpbmdzIiwibGFuZ3VhZ2UtdGltZXNsaWRlci1zZXR0aW5ncy10aW1lc2xpZGVyLW1vZGUtZXh0ZW50IjoiVGltZSBFeHRlbnQiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXNob3ctcmVzdWx0cy1saXN0IjoiRGlzcGxheXMgdGhlIGxpc3Qgb2YgZmVhdHVyZXMgaW4gdGhlIGdpdmVuIGZlYXR1cmUgc2V0IGNvbGxlY3Rpb24gYXMgYSBsaXN0LiIsImxhbmd1YWdlLXRvb2xiYXItdG9vbGJhciI6IlRvb2xiYXIiLCJsYW5ndWFnZS1uYXRpdmUtZmVhdHVyZS1uby1sYXllciI6IkVycm9yOiBUaGlzIGZlYXR1cmUgZG9lcyBub3Qgc2VlbSB0byBiZSBhc3NvY2lhdGVkIHdpdGggYW55IGxheWVyLiBQbGVhc2UgdHJ5IGlkZW50aWZ5aW5nIHRoZSBmZWF0dXJlIGFnYWluLiIsImxhbmd1YWdlLXRvb2xiYXItaWRlbnRpZnktcG9seWxpbmUtZGVzYyI6IlRvIGxlYXJuIHdoYXRcdTIwMTlzIHRoZXJlLCBkcmF3IGEgbGluZSBvZiBpbnRlcmVzdCBhbG9uZyB0aGUgbWFwLiBEb3VibGUtY2xpY2svdGFwIHRvIGZpbmlzaC4iLCJsYW5ndWFnZS1zaGVsbC1kYXRhZnJhbWUtZGlzYWJsZWQtaG9tZS1wYW5lbCI6Ik9wZW4gdGhlIEhvbWUgUGFuZWwiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctY3JlYXRlLWVkaXQtdXNlLWN1cnJlbnQtbG9jYXRpb24iOiJVc2UgbXkgbG9jYXRpb24iLCJsYW5ndWFnZS1tZW51LXNhdmUtcmVzdWx0cyI6IlNhdmUgUmVzdWx0cyIsImxhbmd1YWdlLWNhcHR1cmUtZ2VvbWV0cnktcG9seWxpbmUiOiJEcmF3IGEgbGluZSBvbiB0aGUgbWFwLiBEb3VibGUtY2xpY2sgdG8gZmluaXNoLiIsImxhbmd1YWdlLWJ1ZmZlci1pbnZhbGlkLWRpc3RhbmNlIjoiSW52YWxpZCBkaXN0YW5jZS4gRGlzdGFuY2UgbXVzdCBiZSBhIG51bWJlci4gRXh0cmVtZSB2YWx1ZXMgbWF5IGNhdXNlIGJ1ZmZlcmluZyB0byBmYWlsLiIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1kc2stZnJlZWhhbmQtcG9seWxpbmUtdG9vbCI6IkRyYWcgb24gdGhlIG1hcCB0byBkcmF3IGEgZnJlZWhhbmQgbGluZSIsImxhbmd1YWdlLWdlb2xvY2F0ZS1mb2xsb3ctaW4tcHJvZ3Jlc3MiOiJGb2xsb3dpbmcgdmlhIGdlb2xvY2F0aW9uLi4uIiwibGFuZ3VhZ2UtYXV0aC1hdXRoZW50aWNhdGluZyI6IkF1dGhlbnRpY2F0aW5nLi4uIiwibGFuZ3VhZ2UtbGF5ZXItYWRkaXRpb24taWRlbnRpZmlhYmxlIjoiSWRlbnRpZnkgZW5hYmxlZCIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWV4cG9ydCI6IkV4cG9ydCBEcmF3aW5ncyIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWJ1dHRvbiI6IkxheWVycyIsImxhbmd1YWdlLW1lbnUtbWVudXMtZGVzY3JpcHRpb24iOiJJIFdhbnQgVG8uLi4gTWVudXMiLCJsYW5ndWFnZS1tZW51LWxpc3Qtb2ZmbGluZS1tYXBzLWFjdGlvbnMtcmVmcmVzaC1kZXNjIjoiUmVmcmVzaCB0aGUgbGlzdCBvZiBvZmZsaW5lIG1hcHMuIiwibGFuZ3VhZ2UtbWFwLXNpdGUtY3JpdGljYWwtc2VydmljZXMtZmFpbGVkLW1lc3NhZ2UiOiJUaGUgYXBwbGljYXRpb24gY2Fubm90IGJlIHVzZWQgYXQgdGhpcyB0aW1lLiIsImxhbmd1YWdlLXNlbGVjdC1mZWF0dXJlcy1pbnRlcnNlY3QtY29uZmlybWF0aW9uIjoiJ3swfScgaW50ZXJzZWN0ZWQgd2l0aCB7MX0gZmVhdHVyZShzKSIsImxhbmd1YWdlLWxheWVyLWRldGFpbHMtdmFsaWRhdGlvbi1lcnJvci1uYW1lLWNhbm5vdC1iZS1lbXB0eS1tZXNzYWdlIjoiUGxlYXNlIGVudGVyIGEgbmFtZSBmb3IgdGhlIGxheWVyLiIsImxhbmd1YWdlLXRvb2xiYXItY2hhcnRpbmctc2hvdy1jaGFydHMtdG9vbHRpcCI6IkxhdW5jaCB0aGUgY2hhcnRpbmcgdmlldyIsImxhbmd1YWdlLWhlYXQtbWFwcy1uYW1lIjoiSGVhdCBNYXAiLCJsYW5ndWFnZS1jb21tb24tc2hvdy1kZXRhaWxzIjoiU2VlIERldGFpbHMiLCJsYW5ndWFnZS10b29sYmFyLWdyb3VwLWdsb2JhbC10YXNrcyI6Ikdsb2JhbCBUYXNrcyIsImxhbmd1YWdlLXRvb2xiYXItZWRpdGluZy1jcmVhdGUtbmV3LWZlYXR1cmUtdG9vbHRpcCI6IkNyZWF0ZSBhIG5ldyBmZWF0dXJlIG9uIHRoZSBtYXAiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXNob3ctZmVhdHVyZS10ZW1wbGF0ZS1waWNrZXIiOiJTaG93cyB0aGUgZmVhdHVyZSB0ZW1wbGF0ZSBwaWNrZXIgdXNlZCB0byBjcmVhdGUgbmV3IGZlYXR1cmVzLiBJZiBhIGxheWVyIGlzIHN1cHBsaWVkLCBzaG93cyB0aGUgdGVtcGxhdGVzIGZvciB0aGUgbGF5ZXIuIiwibGFuZ3VhZ2UtbWVudS1wbG90LWNvb3JkaW5hdGUiOiJQbG90IGEgQ29vcmRpbmF0ZSIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXVuaXQtZmVldC1zaG9ydCI6ImZ0IiwibGFuZ3VhZ2UtdXBsb2FkZXItZXJyb3ItdW5rbm93bi1tZXNzYWdlIjoiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZC4iLCJsYW5ndWFnZS1sYXllci1jYXRhbG9nLXNlbGVjdGVkLXNvbWUiOiIoU29tZSBTZWxlY3RlZCkiLCJsYW5ndWFnZS1sYXllci1hZGRpdGlvbi1zZXJ2aWNlLWNvbm5lY3Rpb25zLXRpdGxlIjoiU2VydmljZSBDb25uZWN0aW9ucyIsImxhbmd1YWdlLWxheWVyc3R5bGVzLW5hbWUiOiJMYXllciBTdHlsZXMiLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtc3luYy1zeW5jaW5nLXByb2ZpbGUiOiJTeW5jaW5nIG9mZmxpbmUgbWFwOiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tYWxlcnQiOiJEaXNwbGF5cyBhbiBhbGVydC4iLCJsYW5ndWFnZS1mZWF0dXJlLWRldGFpbHMtdGl0bGUiOiJGZWF0dXJlIERldGFpbHMiLCJsYW5ndWFnZS1tZW51LWFjY2Vzc2liaWxpdHktcGFuZWwtZGVzYyI6IlZpZXcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGFjY2Vzc2liaWxpdHkgb2YgdGhpcyBhcHBsaWNhdGlvbi4iLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC12aXNpYmxlLWZlYXR1cmUtaW5mb3JtYXRpb24iOiJ7MH0gZmVhdHVyZXMgdmlzaWJsZSBvbiB7MX0uIiwibGFuZ3VhZ2UtdGltZXNsaWRlci1jdXJyZW50LXRpbWUtZXh0ZW50LWluZm8taG91ci1hYmJyIjoiaCIsImxhbmd1YWdlLWJ1ZmZlci1jYW5jZWwtYnV0dG9uLXRleHQiOiJDYW5jZWwiLCJsYW5ndWFnZS1wcm9qZWN0cy1jcmVhdGVkLWJ5LWxhYmVsIjoiQ3JlYXRlZCBieToiLCJsYW5ndWFnZS1tZW51LXN3aXRjaC10by1sZWdlbmQtZGVzYyI6IkRpc3BsYXkgdGhlIGxlZ2VuZCBmb3IgdmlzaWJsZSBsYXllcnMiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWxheWVycy1pbnZhbGlkLWRlZmluaXRpb24tZXhwcmVzc2lvbi10aXRsZSI6IlRoZSBsYXllciBkZWZpbml0aW9uIGV4cHJlc3Npb24gaXMgbm90IHZhbGlkLiIsImxhbmd1YWdlLW1hcC1zaXRlLWNyaXRpY2FsLXNlcnZpY2VzLWZhaWxlZCI6IkNyaXRpY2FsIHNlcnZpY2VzIGZhaWxlZC4iLCJsYW5ndWFnZS1tZW51LXNldHRpbmdzLWRlc2NyaXB0aW9uIjoiTW9iaWxlIFNldHRpbmdzIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtZXhwb3J0LW1hcCI6IkV4cG9ydCBNYXAgezB9IiwibGFuZ3VhZ2UtdG9vbGJhci10YWItdGFza3MiOiJUYXNrcyIsImxhbmd1YWdlLXRvb2xiYXItaG9tZS10b29sdGlwIjoiT3BlbiB0aGUgSG9tZSBQYW5lbCIsImxhbmd1YWdlLWdlb2xvY2F0ZS10cmFjayI6IlRyYWNrIE1lIiwibGFuZ3VhZ2UtdGltZXNsaWRlci1jdXJyZW50LXRpbWUtZXh0ZW50LWluZm8iOiJUaW1lIEV4dGVudDogezB9IiwibGFuZ3VhZ2UtdXBsb2FkZXItdmFsaWRhdGlvbi1lcnJvci1uby1maWxlLXRpdGxlIjoiTm8gZmlsZSBzZWxlY3RlZC4iLCJsYW5ndWFnZS1tZW51LXpvb20iOiJab29tIHRvIEZlYXR1cmUiLCJsYW5ndWFnZS10aW1lc2xpZGVyLWxvb3AtcGxheWJhY2stY2hlY2tib3giOiJMb29wIFBsYXliYWNrIiwibGFuZ3VhZ2UtYm9va21hcmtzLWNob29zZSI6Ikp1bXAgdG8gYSBtYXAgYm9va21hcmsuLi4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1yZXN1bHRzLWZpZWxkLXNlZ21lbnQiOiJTZWdtZW50IiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLW9wZXJhdG9yLWNvbnRhaW5zIjoiY29udGFpbnMiLCJsYW5ndWFnZS1jb21tb24tY2xlYXIiOiJDbGVhciIsImxhbmd1YWdlLW1lbnUtaG9tZS1wYW5lbCI6IlZpZXcgdGhlIGhvbWUgcGFuZWwiLCJsYW5ndWFnZS1sZWdlbmQtaGVhdC1tYXBzLWxvdyI6IkxvdyIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1ub3QtbmF0aXZlIjoiT2ZmbGluZSBtYXBzIGNhbiBiZSBtYW5hZ2VkIGZyb20gdGhlIGJyb3dzZXIsIGJ1dCBjYW4gb25seSBiZSB1c2VkIG9mZmxpbmUgaW4gdGhlIG5hdGl2ZSBjbGllbnQuIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbWVhc3VyZS1mcmVlaGFuZC1saW5lLXRvb2wtc3RhdHVzIjoiSG9sZCB0aGUgbW91c2UgYnV0dG9uIG9yIHlvdXIgZmluZ2VydGlwIGRvd24sIHRoZW4gZHJhdyBhIGZyZWVoYW5kIG1lYXN1cmVtZW50IGxpbmUuIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLXVuZG9hYmxlLWN1dCI6IkN1dCBGZWF0dXJlcyIsImxhbmd1YWdlLW1lbnUtb2ZmbGluZS1tYXAtZWRpdG9yLWdlb21ldHJ5LWFjdGlvbnMtY2lyY2xlIjoiQ2lyY2xlIiwibGFuZ3VhZ2UtbmF0aXZlLWFkZC10by1mYXZvcml0ZXMtZGVzYyI6IkFkZHMgdGhlIGN1cnJlbnQgYXBwbGljYXRpb24gdG8gdGhlIGZhdm9yaXRlcyBvbiB0aGUgbWFpbiBtZW51LiIsImxhbmd1YWdlLWxheWVyLWFkZGl0aW9uLW1hcC1zZXJ2aWNlcy10aXRsZSI6IkF2YWlsYWJsZSBNYXAgU2VydmljZXMiLCJsYW5ndWFnZS10b29sYmFyLW5hdmlnYXRpb24tem9vbS1vdXQtdG9vbHRpcCI6IkRyYXcgYW4gYXJlYSBvZiBpbnRlcmVzdCBvbiB0aGUgbWFwIGFuZCB6b29tIG91dCwga2VlcGluZyB0aGUgYXJlYSBjZW50ZXJlZCIsImxhbmd1YWdlLXRvb2xiYXItc25hcHBpbmctYWx0LWRpc2FibGUiOiJEaXNhYmxlIHNuYXBwaW5nIGZvciBhY3RpdmUgdG9vbCIsImxhbmd1YWdlLWJ1ZmZlci1jbGVhci1idXR0b24tdGV4dCI6IkNsZWFyIiwibGFuZ3VhZ2UtdXBsb2FkLWRhdGEtZXJyb3ItZ2VvY29kaW5nLXVuYXV0aGVudGljYXRlZCI6Ikdlb2NvZGVyIEF1dGhlbnRpY2F0aW9uIEVycm9yIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLXVuZG9hYmxlLXVuaW9uIjoiVW5pb24gRmVhdHVyZXMiLCJsYW5ndWFnZS1vZmZsaW5lLXByb3Zpc2lvbmluZy1zZWN1cmUtbGF5ZXJzLWVycm9yIjoiRXJyb3IgY2FjaGluZyBmZWF0dXJlIHNlcnZpY2UgezB9LiBUaGUgc2VydmljZSBtYXkgbmVlZCB0byBiZSBhbGxvd2VkIHRocm91Z2ggdGhlIHByb3h5IHBhZ2UuIiwibGFuZ3VhZ2UtbGlzdC1yZXBvcnRzLXRpdGxlIjoiQ2hvb3NlIFJlcG9ydCIsImxhbmd1YWdlLXRpbWVzbGlkZXItY3VycmVudC10aW1lLWV4dGVudC1pbmZvLW1vbnRoLWFiYnIiOiJtbyIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1nZW9tZXRyeS1kZWZhdWx0IjoiRWRpdCB0aGUgc2VsZWN0ZWQgZ2VvbWV0cnkuIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLW9ycGhhbmVkIjoiUmVtb3ZlZCBmcm9tIFNlcnZlciIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLWVycm9yLW11c3QtYmUtc2lnbmVkLWluLXRvLXB1Ymxpc2gtZ2VvZGF0YWJhc2UtbWVzc2FnZSI6IllvdSBhcmUgbm90IHNpZ25lZCBpbnRvIEFyY0dJUyBPbmxpbmUsIHdoaWNoIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIEdlb2RhdGFiYXNlcyBsaWtlIHRoZSBvbmUgeW91IHVwbG9hZGVkIG11c3QgYmUgcHVibGlzaGVkIGluIG9yZGVyIHRvIGZ1bmN0aW9uLiBQbGVhc2UgdHJ5IGFnYWluLiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tc2VhcmNoIjoiUGVyZm9ybXMgYSBzZWFyY2ggb24gYWxsIGFjdGl2ZSBwcm92aWRlcnMuIiwibGFuZ3VhZ2Utc2hhcmUtcHJvamVjdC1jYW5jZWwtYnV0dG9uLXRpdGxlIjoiQ2FuY2VsIFNoYXJlIFByb2plY3QiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctY2FyZGluYWxpdHktdmlvbGF0aW9uIjoiVGhlIHZhbHVlICd7MH0nIGluIHsxfSB2aW9sYXRlcyByZWxhdGlvbnNoaXAgY2FyZGluYWxpdHkuIENoYW5nZXMgbm90IHNhdmVkLiIsImxhbmd1YWdlLXRvb2xiYXItbmF0aXZlLXNob3dvZmZsaW5lbWFwcy10b29sdGlwIjoiT3BlbiB0aGUgbGlzdCBvZiBvZmZsaW5lIG1hcHMiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItcXVlcnktbGF5ZXJzIjoiTGF5ZXJzOiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tY2xlYXItaGlnaGxpZ2h0cyI6IlJlbW92ZXMgdGhlIGhpZ2hsaWdodHMgZnJvbSB0aGUgYWN0aXZlIGhpZ2hsaWdodCBsYXllci4iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWxheWVycy1hdHRhY2htZW50cy1sYWJlbCI6IkluY2x1ZGUgQXR0YWNobWVudHMiLCJsYW5ndWFnZS1sYXllci1hZGRpdGlvbi1uby1sYXllcnMtZGVzYyI6IlRoZSBtYXAgc2VydmljZSB0aGF0IHlvdSBzZWxlY3RlZCBkb2VzIG5vdCBoYXZlIGFueSBsYXllcnMuIFlvdSBjYW4gYWRkIHRoZSBtYXAgc2VydmljZSBmcm9tIHRoZSBwcmV2aW91cyBwYW5lbCwgZW50aXRsZWQgXCJBdmFpbGFibGUgTWFwIFNlcnZpY2VzLlwiIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLWNvb3JkaW5hdGVzLWxhYmVsIjoiQ29vcmRpbmF0ZSBTeXN0ZW06IiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLWludmFsaWQtY29vcmRpbmF0ZS1hbGVydCI6IkludmFsaWQgY29vcmRpbmF0ZXMgZW50ZXJlZC4gUGxlYXNlIGNoZWNrIHlvdXIgZW50cnkgYW5kIHRyeSBhZ2Fpbi4iLCJsYW5ndWFnZS1wcm9qZWN0LWVkaXRvci10aXRsZSI6IkVkaXQgRGV0YWlscyIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1zZWxlY3Qtb3BlcmF0b3IiOiJTZWxlY3Qgb3BlcmF0b3IiLCJsYW5ndWFnZS10b29sYmFyLW5hdmlnYXRpb24tcHJldmlvdXMtZXh0ZW50LXRvb2x0aXAiOiJab29tIHRvIHRoZSBwcmV2aW91cyBleHRlbnQiLCJsYW5ndWFnZS1vZmZsaW5lLXByb3Zpc2lvbmluZy1zdWNjZWVkZWQtdGl0bGUiOiJDb21wbGV0ZWQiLCJsYW5ndWFnZS1sYXllci1hZGRpdGlvbi13ZWJ0aWxlZC1uYW1lIjoiV2ViIFRpbGVkIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1jYW5jZWwtc2VhcmNoIjoiQ2FuY2VsIHRoZSBzZWFyY2ggb24gYWxsIHByb3ZpZGVycy4iLCJsYW5ndWFnZS1jb21tb24td29ya2Zsb3ciOiJXb3JrZmxvdyIsImxhbmd1YWdlLW1lbnUtZG9uZSI6IkRvbmUiLCJsYW5ndWFnZS11cGxvYWQtZGF0YS1lcnJvci1pbnZhbGlkLXNoYXBlZmlsZS1tZXNzYWdlIjoiQ291bGQgbm90IHB1Ymxpc2ggYmVjYXVzZSB0aGUgc2hhcGVmaWxlIGlzIG1pc3NpbmcgYSAnLnNocCcsICcuc2h4Jywgb3IgJy5kYmYnIGZpbGUuIiwibGFuZ3VhZ2UtdG9vbGJhci0zcmQtcGFydHktbWFwcy1zaG93LW1hcHMiOiJMaW5rZWQgTWFwcyIsImxhbmd1YWdlLW1lbnUtem9vbS1kZXNjcmlwdGlvbiI6Ilpvb20gdG8gdGhpcyBmZWF0dXJlIG9uIHRoZSBtYXAiLCJsYW5ndWFnZS13b3JrZmxvdy1vZmZsaW5lIjoiWW91IGNhbm5vdCBydW4gYSB3b3JrZmxvdyBpbiBvZmZsaW5lIG1vZGUuIiwibGFuZ3VhZ2UtbWVudS1zaG93LWxvZyI6IlNob3cgTG9nIiwibGFuZ3VhZ2UtdG9vbGJhci1ncm91cC10aW1lLXNsaWRlciI6IlRpbWUgU2xpZGVyIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtdW5pdC1taWxlLXNob3J0IjoibWkiLCJsYW5ndWFnZS10b29sYmFyLXNlbGVjdC1sYXllcnMtdG9nZ2xlLXRvb2x0aXAiOiJGaWx0ZXIgbGF5ZXJzIGZvciBJZGVudGlmeSByZXN1bHRzIiwibGFuZ3VhZ2Utc2NhbGUtZ28iOiJHbyIsImxhbmd1YWdlLXVwbG9hZGVyLXZhbGlkYXRpb24tZXJyb3ItdGl0bGUiOiJWYWxpZGF0aW9uIGVycm9yLiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LWRyYXdtb2RlLWZyZWVoYW5kLXBvbHlsaW5lIjoiRnJlZWhhbmQgTGluZSIsImxhbmd1YWdlLW1lYXN1cmVtZW50LW1lYXN1cmUtY2lyY2xlLXRvb2wtdG9vbHRpcCI6IkNhbGN1bGF0ZSBhcmVhIGZvciBhIGNpcmNsZSIsImxhbmd1YWdlLXNhdmVkLXJlc3VsdHMtcmVuYW1lLXByb21wdC10aXRsZSI6IkVudGVyIG5ldyBuYW1lIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLXVuZG9hYmxlLWRlbGV0ZSI6IkRlbGV0ZSBGZWF0dXJlcyIsImxhbmd1YWdlLXJ1bi1yZXBvcnQtZXJyb3ItbWVzc2FnZS1hbHJlYWR5LXJ1bm5pbmciOiJBIHJlcG9ydCBpcyBhbHJlYWR5IHJ1bm5pbmcgKHlvdSBjYW4gb25seSBydW4gb25lIHJlcG9ydCBhdCBhIHRpbWUpLiIsImxhbmd1YWdlLWN1cnJlbnRfZXh0ZW50IjoiQ3VycmVudCBFeHRlbnQiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWhpZ2hsaWdodC1lc3JpLWZlYXR1cmUtc2V0IjoiSGlnaGxpZ2h0cyBhbGwgb2YgdGhlIGZlYXR1cmVzIGluIHRoZSBzcGVjaWZpZWQgZmVhdHVyZSBzZXQgaW4gdGhlIGFjdGl2ZSBoaWdobGlnaHQgbGF5ZXIuIiwibGFuZ3VhZ2Utc2VhcmNoLWluc3RhbnQtcHJvdmlkZXItZGVzY3JpcHRpb24iOiJTZWFyY2ggcHJvdmlkZXIgZm9yIHNlYXJjaGluZyBhIEdlb2NvcnRleCBzaXRlIHVzaW5nIEdlb2NvcnRleCBJbnN0YW50IFNlYXJjaC4iLCJsYW5ndWFnZS1wcm9qZWN0LXVybC10aXRsZSI6IlByb2plY3QgVVJMIiwibGFuZ3VhZ2UtbWVudS1jb21iaW5lLXJlc3VsdHMtc3VidHJhY3QtZGVzYyI6IlJlbW92ZSBhIHNhdmVkIHNldCBvZiByZXN1bHRzIGZyb20geW91ciBjdXJyZW50IGxpc3Qgb2YgcmVzdWx0cyIsImxhbmd1YWdlLW1lbnUtaWRlbnRpZnktcmVjdGFuZ2xlLWRlc2MiOiJEcmF3IGEgcmVjdGFuZ2xlIHRvIHZpZXcgaW5mb3JtYXRpb24gYWJvdXQgdGhhdCBhcmVhLiIsImxhbmd1YWdlLW5hdGl2ZS1hZGQtdG8tZmF2b3JpdGVzLWVycm9yIjoiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgYXR0ZW1wdGluZyB0byBhZGQgdGhlIGZhdm9yaXRlOiB7MH0uIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1kZWFjdGl2YXRlLWNvbnRhaW5lcnMtZm9yLXdvcmtmbG93IjoiRGVhY3RpdmF0ZXMgYW55IHdvcmtmbG93IHZpZXdzIGFzc29jaWF0ZWQgd2l0aCBhIGdpdmVuIHdvcmtmbG93LiIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXNpZ24taW4tZXJyb3IiOiJTaWduLWluIEVycm9yIHswfSIsImxhbmd1YWdlLXNlbGVjdC1mZWF0dXJlcy11bmlvbi1jb25maXJtYXRpb24iOiInezB9JyB1bmlvbmVkIHdpdGggezF9IGZlYXR1cmUocykiLCJsYW5ndWFnZS1tZW51LWxpc3Qtb2ZmbGluZS1tYXBzLWFjdGlvbnMtZGVzYyI6Ik9mZmxpbmUgUHJvZmlsZSBBY3Rpb25zIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtY2xlYXItdG9vbHRpcCI6IkNsZWFyIGFsbCBkcmF3aW5ncyBmcm9tIHRoZSBtYXAiLCJsYW5ndWFnZS1jb21tb24tZmVhdHVyZS1vZmZsaW5lLXRvb2xzIjoiTWFuYWdlIE9mZmxpbmUgRGF0YSIsImxhbmd1YWdlLWxheWVyLWNhdGFsb2ctYXBwbHktYnV0dG9uIjoiQXBwbHkiLCJsYW5ndWFnZS1zYXZlZC1yZXN1bHRzLWJyb3dzZS1uby1pdGVtcy1kZXNjIjoiVG8gY3JlYXRlIGEgc2V0IG9mIHNhdmVkIHJlc3VsdHMgcGVyZm9ybSBhIHZhbGlkIHNlYXJjaCBvciBvdGhlciB0YXNrIHRoYXQgcmV0dXJucyByZXN1bHRzLiBUaGVuIGNob29zZSB0byBzYXZlIHRoZSByZXN1bHRzIGZyb20gd2l0aGluIHRoZSByZXN1bHRzIGFjdGlvbiBtZW51LiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tZGVhY3RpdmF0ZS12aWV3IjoiRGVhY3RpdmF0ZXMgYSB2aWV3LiIsImxhbmd1YWdlLW1ibC1pZGVudGlmeS1wb2x5bGluZS10b29sIjoiQ2xpY2sgb3IgdGFwIG9uY2UgdG8gYWRkIHBvaW50cywgdHdpY2UgdG8gZmluaXNoLiIsImxhbmd1YWdlLXRvb2xiYXItZmluZC1kYXRhLXRvb2xzIjoiRmluZCBEYXRhIFRvb2xzIiwibGFuZ3VhZ2UtdG9vbGJhci1uYW1lIjoiVG9vbGJhciIsImxhbmd1YWdlLXNoYXJlLXByb2plY3QtbGlua3MtdGl0bGUiOiJHdWVzdCBMaW5rcyIsImxhbmd1YWdlLXNlYXJjaC13b3JsZC1wbGFjZS1uYW1lcyI6IldvcmxkIFBsYWNlIE5hbWVzIiwibGFuZ3VhZ2UtdXBsb2FkZXItdmFsaWRhdGlvbi1lcnJvci1tZXNzYWdlIjoiQW4gdW5rbm93biB2YWxpZGF0aW9uIGVycm9yIGhhcyBvY2N1cnJlZC4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1wb2x5Z29uLWZpbmFsLW1hcmt1cC1sYWJlbCI6IkFyZWE6IHswfSB7MX1cblBlcmltZXRlcjogezJ9IHszfSIsImxhbmd1YWdlLWNvbW1vbi1ub3QtYXZhaWxhYmxlLW9mZmxpbmUiOiJUaGlzIGZ1bmN0aW9uIGlzIG5vdCBhdmFpbGFibGUgd2hlbiBvZmZsaW5lLiIsImxhbmd1YWdlLXRvb2xiYXItbmF2aWdhdGlvbi1ob21lLXRvb2x0aXAiOiJSZXR1cm5zIHRvIGludHJvZHVjdG9yeSBwYWdlIiwibGFuZ3VhZ2UtZmVhdHVyZS1jb29yZGluYXRlcy1tYXAtZGVmYXVsdC1jb29yZGluYXRlLXN5c3RlbSI6IkRlZmF1bHQiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1lcmFzZS1zdGF0dXMiOiJDbGljayB0aGUgZGlzdGFuY2Ugb3IgYXJlYSBjYWxjdWxhdGlvbiBvbiB0aGUgbWFwIHlvdSB3aXNoIHRvIHJlbW92ZS4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1oaWdoLWxpbmUtc2VnbWVudHMtd2FybmluZyI6IlRoaXMgZmVhdHVyZSBjb250YWlucyB7MH0gbGluZSBzZWdtZW50cyBhbmQgbWF5IHRha2Ugc29tZSB0aW1lIHRvIHByb2Nlc3MuIFlvdXIgYnJvd3NlciBtYXkgYmVjb21lIHVucmVzcG9uc2l2ZSBkdXJpbmcgdGhpcyBwZXJpb2QuIERvIHlvdSB3YW50IHRvIGNvbnRpbnVlPyIsImxhbmd1YWdlLW5hdGl2ZS1maWxlLXVwbG9hZGluZyI6IlVwbG9hZGluZyBmaWxlLiBQbGVhc2Ugd2FpdCAuLi4iLCJsYW5ndWFnZS1tZW51LWRyYXctcG9pbnQtZGVzYyI6IkRyYXcgYSBwb2ludCBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tdXBkYXRlLWZlYXR1cmUtbGF5ZXItbW9kYWwtbWVzc2FnZSI6IlVwZGF0ZSB0aGUgdmlzaWJsZSBNb2RlbE1lc3NhZ2VWaWV3IHRvIGFsc28gaW5jbHVkZSB0aGUgZ2l2ZW4gbWVzc2FnZS4iLCJsYW5ndWFnZS1jb21tb24tZmVhdHVyZS1lZGl0bG9nIjoiVmlldyBFZGl0IExvZyIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1lZGl0LWdlb21ldHJ5LWNhcHRpb24iOiJFZGl0IEdlb21ldHJ5IiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi16b29tLXRvLWV4dGVudCI6Ilpvb21zIHRvIHRoZSBnaXZlbiBleHRlbnQuIiwibGFuZ3VhZ2UtbmF0aXZlLWNsb3NlLWFwcGxpY2F0aW9uIjoiUmV0dXJuIHRvIHRoZSBtYWluIG1lbnUiLCJsYW5ndWFnZS1jb21tb24tbm8tcmVzdWx0cy1zaG9ydCI6Ik5vIHJlc3VsdHMiLCJsYW5ndWFnZS10b29sYmFyLW1lbnUtZ2xvYmFsLXNhdmUtc2F2ZS1hcyI6IlNhdmUvU2F2ZSBhcyIsImxhbmd1YWdlLWxhYmVsT3B0aW9ucy1iZWxvdy1yaWdodCI6ImJlbG93LXJpZ2h0IiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtc2ltcGxlLXF1ZXJ5LWJ1aWxkZXItY29udGFpbmVyIjoiU2ltcGxlIFF1ZXJ5IEJ1aWxkZXIgQ29udGFpbmVyIHswfSIsImxhbmd1YWdlLXRpbWVzbGlkZXItY2xvc2UtdGltZWxpbmUtdG9vbHRpcCI6IkNsaWNrIHRvIGhpZGUgdGhpcyBUaW1lIFNsaWRlci4iLCJsYW5ndWFnZS1leHBvcnQtbWFwLWVycm9yIjoiRXhwb3J0IGVycm9yOiB7MH0iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy10aXRsZS1hbGVydCI6IlRoZXJlIGlzIGEgcHJvYmxlbSB3aXRoIHRoZSBzZWxlY3Rpb24uIiwibGFuZ3VhZ2UtdG9vbGJhci1pZGVudGlmeS1yZWN0YW5nbGUtdG9vbHRpcCI6IkZpbmQgb3V0IGFib3V0IGFuIGFyZWEgb24gdGhlIG1hcCBkZWZpbmVkIGJ5IGEgcmVjdGFuZ2xlIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLXRvb2wtc3RhdHVzLWtleWJvYXJkIjoiVXNlIGFycm93cyB0byBtb3ZlIHRoZSBwb2ludC4gSGl0IEVOVEVSIHRvIHBsb3QgdGhlIGNvb3JkaW5hdGUgb24gdGhlIG1hcC4iLCJsYW5ndWFnZS10YWtlLWFwcC1vbmxpbmUtZGVzYyI6IkdvIHRvIG9ubGluZSBtb2RlLiIsImxhbmd1YWdlLW1lbnUtbGF0aXR1ZGUtZ2VvZ3JhcGhpY3MiOiJMYXRpdHVkZSBHZW9ncmFwaGljcyBHcm91cCBMdGQuIiwibGFuZ3VhZ2UtdG9vbGJhci10YXNrcy1sYXllci1jYXRhbG9nLXRvb2x0aXAiOiJBZGQgbGF5ZXJzIHRvIHRoZSBtYXAgZnJvbSBhIGxheWVyIGNhdGFsb2ciLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy10aXRsZS1kZWZhdWx0IjoiTm8gY2hhbmdlcyBoYXZlIGJlZW4gbWFkZS4iLCJsYW5ndWFnZS1saXN0LXJlcG9ydHMtZXhjbHVzaW9uLXdhcm5pbmctbWVzc2FnZSI6IlRoZSByZXBvcnQgXCJ7MH1cIiB3aWxsIG5vdCBjb3ZlciBhbGwgc2VsZWN0ZWQgZmVhdHVyZXM6IHsxfSB3aWxsIGJlIGV4Y2x1ZGVkIChvZiB7Mn0gdG90YWwpLiBEbyB5b3Ugd2lzaCB0byBydW4gdGhlIHJlcG9ydCAob24gezN9KSBhbnl3YXlzPyIsImxhbmd1YWdlLXRhYi1zY3JvbGwtbmV4dCI6Ik5leHQgVGFiIiwibGFuZ3VhZ2Utb2ZmbGluZS1wcm92aXNpb25pbmctc2VjdXJlLWxheWVycyI6IlNhdmluZyB7MH0gbGF5ZXJzIHdpdGggc2VjdXJpdHkgYXBwbGllZC4uLiIsImxhbmd1YWdlLXByb2plY3QtZWRpdG9yLXNhdmUtYnV0dG9uLXRpdGxlIjoiU2F2ZSBQcm9qZWN0IiwibGFuZ3VhZ2UtY2xlYXItc3RvcmFnZS1kb21haW4tZGVzYyI6IkNsZWFycyBhbGwgZGF0YSBzdG9yZWQgYnkgdGhlIGVudGlyZSBkb21haW4uIiwibGFuZ3VhZ2UtbGFiZWxPcHRpb25zLWFib3ZlLXJpZ2h0IjoiYWJvdmUtcmlnaHQiLCJsYW5ndWFnZS1uYXRpdmUtYWRkLXRvLWZhdm9yaXRlcy12aWV3ZXItbmFtZS10aXRsZSI6IlZpZXdlciBOYW1lIiwibGFuZ3VhZ2UtdG9vbGJhci1hcmNnaXMtZXhwb3J0LXdlYi1tYXAtdG9vbHRpcCI6IlNhdmUgdGhlIGN1cnJlbnQgbWFwIHRvIEFyY0dJUyIsImxhbmd1YWdlLWxhYmVsT3B0aW9ucy1maWVsZCI6IkZpZWxkIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLXNpemUtZ2IiOiJ7MH0gR0IiLCJsYW5ndWFnZS10YWJsZS1tYXBwaW5nLWRpYWxvZy10aXRsZSI6IlRhYmxlIE1hcHBpbmcgRGV0YWlscyIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tcHJvbXB0IjoiRGlzcGxheXMgYSBwcm9tcHQuIiwibGFuZ3VhZ2UtZ2VvbG9jYXRlLXRpdGxlIjoiR2VvbG9jYXRpb24iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWdlb21ldHJ5LWJ1dHRvbiI6IkFyZWEgb2YgSW50ZXJlc3QiLCJsYW5ndWFnZS1sYXllci1jYXRhbG9nLXNob3dpbmctc2VsZWN0ZWQtdGV4dCI6IlNlbGVjdGVkIExheWVycyIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXBhbGV0dGUtc21hbGwtY2xlYXItYWxsIjoiQ2xlYXIgQWxsIiwibGFuZ3VhZ2UtZmVhdHVyZS1jb29yZGluYXRlcy11cC1hcnJvdyI6IuKWsiIsImxhbmd1YWdlLWV4cG9ydC13ZWItbWFwLWlzLWV4cG9ydGluZyI6IkV4cG9ydGluZyB3ZWIgbWFwLiBQbGVhc2Ugd2FpdC4uLiIsImxhbmd1YWdlLWxvZy1oaWRlIjoiSGlkZSIsImxhbmd1YWdlLWxheWVyLWNhdGFsb2ctbGF5ZXItcmVtb3ZlLXRleHQiOiJQcmVzcyB0byBSZW1vdmUiLCJsYW5ndWFnZS1leHBvcnQtbWFwLWNvbXBsZXRlLWRlc2NyaXB0aW9uIjoiVG8gZG93bmxvYWQgYW5kIGRpc3BsYXkgdGhlIG1hcCBpbWFnZSwgY2xpY2sgVmlldyBJbWFnZS4iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctZ2VvbWV0cnktcG9seWxpbmUiOiJFZGl0IHZlcnRpY2VzIGJ5IGRyYWdnaW5nIHRoZW0sIG9yIHJpZ2h0IGNsaWNrIHRvIGRlbGV0ZS4gRHJhZyB0aGUgc2hhcGUgdG8gbW92ZSBpdC4gQ2xpY2sgb3IgdGFwIG9uIHRoZSBtYXAgdG8gc3RvcCBlZGl0aW5nIiwibGFuZ3VhZ2UtcHJvamVjdC1zdGF0dXMtbG9hZGluZyI6IkxvYWRpbmcgcHJvamVjdCIsImxhbmd1YWdlLWNhcHR1cmUtZ2VvbWV0cnktcG9seWdvbiI6IkRyYXcgYSBwb2x5Z29uIG9uIHRoZSBtYXAuIERvdWJsZS1jbGljayBvciB0YXAgdG8gZmluaXNoLiIsImxhbmd1YWdlLXRpbWVzbGlkZXItcHJvZmlsZS1zZWxlY3QtdGl0bGUiOiJTZWxlY3QgVGltZSBTbGlkZXIgcHJvZmlsZS4iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctbXVsdGktZmVhdHVyZS1zZWxlY3Rvci1kZXNjcmlwdGlvbiI6IlNob3cgZGlhbG9nIHRvIHNlbGVjdCBhIGZlYXR1cmUgZm9yIGF0dHJpYnV0ZSBlZGl0aW5nIiwibGFuZ3VhZ2UtdG9vbGJhci1ib29rbWFyayI6IkJvb2ttYXJrcyIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWNvb3JkaW5hdGVzLXdlc3QiOiJ7MH0gwrAgV2VzdCIsImxhbmd1YWdlLWdlb2xvY2F0ZS1lcnJvci1wb3NpdGlvbi11bmF2YWlsYWJsZSI6IllvdXIgY3VycmVudCBsb2NhdGlvbiBpcyBub3QgYXZhaWxhYmxlLiJ9");
geocortex.framework.notifyLibraryDownload("Mapping");
