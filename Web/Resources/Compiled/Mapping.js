/*
	
	Copyright (c) 2016, Latitude Geographics Group Ltd.
	All rights reserved.
	       
	Redistribution is not permitted. 
	
	Use in binary form, without modification, is permitted provided that neither 
	the name of the organization nor the names of its contributors may be used 
	to endorse or promote products derived from this software without specific 
	prior written permission.
	       
	THIS SOFTWARE IS PROVIDED BY COPYRIGHT HOLDER ''AS IS'' AND ANY
	EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
	WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
	DISCLAIMED. IN NO EVENT SHALL LATITUDE GEOGRAPHICS GROUP LTD. BE LIABLE FOR ANY
	DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
	(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
	LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
	ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
	(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
	SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

var __extends=this&&this.__extends||function(e,f){function h(){this.constructor=e}for(var k in f)f.hasOwnProperty(k)&&(e[k]=f[k]);h.prototype=f.prototype;e.prototype=new h},geocortex;
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(h){function b(){h.apply(this,arguments);this.userInitiatedDA=!1}__extends(b,h);b.prototype.attach=function(a){if(a){h.prototype.attach.call(this,a);if(null!==this.viewModel.content.get())this._activateAccessibilityView();else var d=this.app.eventRegistry.event("AccessibilityIconContentInitializedEvent").subscribe(this,function(){this._activateAccessibilityView();this.app.eventRegistry.event("AccessibilityIconContentInitializedEvent").unsubscribe(d)});
if(this.okButtonElement)try{this.okButtonElement.focus()}catch(g){}this.viewContainerViewClosedEventToken||(this.viewContainerViewClosedEventToken=this.app.event("ViewContainerViewClosedEvent").subscribe(this,function(a){a&&a.viewId==this.id&&this._deactivateForUser()}))}};b.prototype._canExecuteActivateAccessibilityView=function(){return this.viewModel.included.get()};b.prototype._executeActivateAccessibilityView=function(){this.app.commandRegistry.command("ActivateView").execute(this.id)};b.prototype._activateAccessibilityView=
function(){this.viewModel.included.get()&&this.title.set(this.viewModel.title.get());this.app.commandRegistry.command("ShowAccessibilityView").register(this,this._executeActivateAccessibilityView,this._canExecuteActivateAccessibilityView)};b.prototype.resolveWidget=function(a,d){h.prototype.resolveWidget.call(this,a,d);if("GetHTMLContent"===a){var g=new e.essentialsHtmlViewer.mapping.infrastructure.FeatureDescriptionPresenterView(this.app,this.libraryId);g.root=document.createElement("div");g.root.className=
"content";g.root.innerHTML=g.insertLinkAndImageBindings(d);g.attach(null);return g}};b.prototype.handleClickOk=function(a,d,g){this._deactivateForUser();return!1};b.prototype._deactivateForUser=function(){this.userInitiatedDA=!0;this.app.viewManager.deactivateView(this);this.viewModel.callback&&this.userInitiatedDA&&this.viewModel.callback()};return b}(e.framework.ui.ViewBase);h.AccessibilityIconView=f})(h.accessibility||(h.accessibility={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this.included=new Observable(!0);this.content=new Observable(null);this.title=new Observable(null)}__extends(b,e);b.prototype.initialize=function(a){a&&(a.hasOwnProperty("included")&&this.included.set(a.included),a.hasOwnProperty("title")&&this.title.set(a.title),a.hasOwnProperty("content")&&(this.content.set(decodeURIComponent(a.content)),this.app.eventRegistry.event("AccessibilityIconContentInitializedEvent").publish()))};
return b}(e.framework.ui.ViewModelBase);h.AccessibilityIconViewModel=f})(h.accessibility||(h.accessibility={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(m){var f=window.HTMLElement||window.Element,l=function(b){function a(){b.apply(this,arguments);this.includeProviders=new Observable(!0);this._keyupHandle=this._keydownHandle=null;this._panning=!1;this._viewsIgnoreAutoFocus="LoadingStatus StatusIndicatorView StatusMessageView View- ProviderView geometryEditingStatus".split(" ");this._modalContainerView=null}__extends(a,b);a.prototype.initialize=function(a){var g=this;b.prototype.initialize.call(this,
a);a.keyboardFocusIndicatorEnabled&&($(document).on("mousedown",function(a){$(document.documentElement).hasClass("keyboard-focus-active")&&(g.app.trace.debug("Keyboard focus deactivated."),$(document.documentElement).removeClass("keyboard-focus-active"))}),$(document).on("keydown",function(a){9==a.keyCode&&!1===$(document.documentElement).hasClass("keyboard-focus-active")&&(g.app.trace.debug("Keyboard focus active."),$(document.documentElement).addClass("keyboard-focus-active"))}));if(this.app.map)this.enableMapFocusedText();
else this.app.event("SiteServiceLayersLoadedEvent").once(this,this.enableMapFocusedText);a.hasOwnProperty("includeProviders")&&this.includeProviders.set(a.includeProviders);if(a.providers&&this.includeProviders.get())for(var n=0;n<a.providers.length;n++){var q=a.providers[n];if(!1===q.isEnabled)return;var e=dojo.getObject(q.type);e&&(new e(this.app,q.libraryId||this.libraryId)).initialize(q)}a.expandedMapKeyboardAccessibility&&this.enableKeyboardNavigation();a.automaticElementFocusing&&this.enableAutomaticElementFocusing()};
a.prototype.enableMapFocusedText=function(){$(this.app.map.root).attr("aria-label",this.app.getResource(this.libraryId,"language-accessibility-map-focused"));$(this.app.map.root).attr("role","main");$(this.app.map.root).children(".esriMapContainer, .esriControlsBR").attr("aria-hidden","true")};a.prototype.enableAutomaticElementFocusing=function(){var a=this;this.app.command("FocusOnFirstInputInView").register(this,function(a){h.infrastructure.FocusUtils&&setTimeout(function(){h.infrastructure.FocusUtils.focusOnFirstInput(a)},
0)});this.app.event("ViewActivatedEvent").subscribe(this,function(g){if(!a._modalContainerView){var b=a.app.viewManager.getRegionForViewId(g.id);b&&"ModalWindowPlaceholderRegion"===b.name&&(a._modalContainerView=g)}for(b=0;b<a._viewsIgnoreAutoFocus.length;b++)if(-1!==g.id.search(a._viewsIgnoreAutoFocus[b]))return;a.app.trace.debug("View focused: "+g.id);a.app.command("FocusOnFirstInputInView").execute(g)});var g=function(g){return a._interceptTabsWhileModalActive(g)};this.app.event("RegionActivatedEvent").subscribe(this,
function(a){if("ModalWindowRegion"===a.name)$(document).on("keydown",g)});this.app.event("RegionDeactivatedEvent").subscribe(this,function(a){"ModalWindowRegion"===a.name&&$(document).off("keydown",g)})};a.prototype._resetModalFocus=function(a){if(a&&a.root)try{var g=$(a.root).find(":visible:input, a:visible, button:visible").not(".bound-disabled, .disabled, [tabindex=-1]");g&&0<g.length&&h.infrastructure.FocusUtils.focus(g[0])}catch(n){this.app.trace.debug("Could not focus: "+n)}};a.prototype._interceptTabsWhileModalActive=
function(a){var g=a.keyCode||a.which;if(9===g||9===g&&a.shiftKey){var n=document.activeElement,b=$(this._modalContainerView.root).find(":focusable");b&&n===b[0]&&9===g&&a.shiftKey?a.preventDefault():n===b[b.length]&&9===g&&a.preventDefault();0===$(n).parents(".ModalViewContainerView").length&&(this._resetModalFocus(this._modalContainerView),a.preventDefault())}};a.prototype.enableKeyboardNavigation=function(){var a=this;this.disableKeyboardNavigation();if(this.app.map&&this.app.map.loaded)this._keydownHandle=
dojo.on(document,"keydown",function(g){return a._onKeyDownHandler(g)}),this._keyupHandle=dojo.on(document,"keyup",function(g){return a._onKeyUpHandler(g)});else this.app.event("MapLoadedEvent").once(this,function(g){a._keydownHandle=dojo.on(document,"keydown",function(g){return a._onKeyDownHandler(g)});a._keyupHandle=dojo.on(document,"keyup",function(g){return a._onKeyUpHandler(g)})})};a.prototype.disableKeyboardNavigation=function(){this._keydownHandle&&this._keydownHandle.remove();this._keyupHandle&&
this._keyupHandle.remove();this._keydownHandle=this._keyupHandle=null;this._panning=!1};a.prototype._onKeyDownHandler=function(a){var g=a.target||a.srcElement,n=null;g instanceof f&&(n=g.className);if(g===this.app.map.root||"ovwHighlight"===n)g=this.app.map,g.navigationManager._keyHandle&&(this._panning=!0,g.navigationManager._keyHandle.advice(a))};a.prototype._onKeyUpHandler=function(a){var g=a.target||a.srcElement,n=null;g instanceof f&&(n=g.className);if(g===this.app.map.root||"ovwHighlight"===
n)g=this.app.map,g.navigationManager._keyEndHandle&&this._panning&&(this._panning=!1,g.navigationManager._keyEndHandle.advice(a))};return a}(e.framework.application.ModuleBase);m.AccessibilityModule=l})(f.accessibility||(f.accessibility={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(m){var f=h.infrastructure.FormatUtils,l=h.infrastructure.NumberFormat,b=function(a){function d(){a.apply(this,arguments);this.changedDescription=this.fullDescription="";this.decimalPrecision=4;this.readAttributionInformation=!1;this._viewDelay=0;this._timeoutId=null;this._eventDelay=250;this._mapReadDelay=1250;this._previousScale=this._previousExtent=null;this._queryTaskCollection=[];this._identifyTaskCollection=[];this._lastIdentifyMap=
this._lastQueryMap=null;this._completedIdentifies=this._completedQueries=!1}__extends(d,a);d.prototype.initialize=function(d){var n=this;a.prototype.initialize.call(this,d);0<=d.decimalPrecision&&10>d.decimalPrecision?this.decimalPrecision=d.decimalPrecision:this.app.trace.warning("MapTextProvider: decimalPrecision entered in config is out of range (0-9). Using default value of "+this.decimalPrecision+".");this.readAttributionInformation=d.readAttributionInformation;this.app.event("MapExtentChangedEvent").subscribe(this,
this._delayMapDescriptionChanged);this.app.event("MapPanStartedEvent").subscribe(this,function(a,d){clearTimeout(n._timeoutId);n._timeoutId=null});if(this.app.map)this._handleMapLoadedEvent(this.app.map);else this.app.event("SiteServiceLayersLoadedEvent").once(this,this._handleMapLoadedEvent)};d.prototype._handleMapLoadedEvent=function(a){var d=this;$(this.app.map.root).focus(function(a){clearTimeout(d._timeoutId);d._timeoutId=setTimeout(function(){d.app.command("ScreenReaderNarrate").execute(d.fullDescription)},
d._mapReadDelay)});if(this.readAttributionInformation)$(this.app.map.attribution.listNode).on("DOMSubtreeModified",function(a){d._delayMapDescriptionChanged(d.app.map.extent)})};d.prototype._delayMapDescriptionChanged=function(a){var d=this;clearTimeout(this._timeoutId);this._timeoutId=setTimeout(function(){d._timeoutId=null;d._handleMapDescriptionChanged(a)},this._eventDelay)};d.prototype._handleMapDescriptionChanged=function(a){var d=this;setTimeout(function(){d.app.trace.debug("setTimeout() called for loadingChanges.");
d.app.command("ScreenReaderNarrate").execute(d.app.getResource(d.libraryId,"language-accessibility-map-loading-changes"))},this._viewDelay);var b="",e=function(e){0===e.length&&(e=d.app.getResource(d.libraryId,"language-accessibility-map-none"));d.fullDescription="";d.fullDescription=b;d.fullDescription+=" "+d._getScaleDescription();d.fullDescription+=" "+d.app.getResource(d.libraryId,"language-accessibility-map-visible-features").format(e);d.changedDescription="";if(null===d._previousExtent||a.getCenter()!=
d._previousExtent.getCenter())d.changedDescription+=b;d._previousScale!=d.app.map.getScale()&&(d.changedDescription+=" "+d._getScaleDescription());d.changedDescription+=" "+d.app.getResource(d.libraryId,"language-accessibility-map-visible-features").format(e);d.readAttributionInformation&&(e=d._getAttributionInformation(),d.fullDescription+=" "+e,d.changedDescription+=" "+e);setTimeout(function(){d.app.trace.debug("setTimeout() called for changedDescription.");d.app.command("ScreenReaderNarrate").execute(d.app.getResource(d.libraryId,
"language-accessibility-map-changed-information").format(d.changedDescription))},d._viewDelay);$(d.app.map.root).attr("aria-label",d.app.getResource(d.libraryId,"language-accessibility-map-focused"));d._previousExtent=a;d._previousScale=d.app.map.getScale()};this._getCentreCoordinatesDescription(a,function(h){b=h;d._setVisibleFeaturesDescription(a,e)})};d.prototype._getCentreCoordinatesDescription=function(a,d){var b=this,e="",l="",m=new esri.SpatialReference(102100);h.infrastructure.GeometryUtils.projectGeometry(a,
m,function(a){a instanceof esri.geometry.Extent&&(e=b._getFormattedLatitudeString(a),l=b._getFormattedLongitudeString(a));d(b.app.getResource(b.libraryId,"language-accessibility-map-coordinates-introduction").format(e,l))},function(a){b.app.trace.info("Error encountered attempting to project geometry: "+a);d(b.app.getResource(b.libraryId,"language-accessibility-map-coordinates-error"))},this.app)};d.prototype._getFormattedLatitudeString=function(a){var d=f.formatNumber(Math.abs(a.getCenter().getLatitude()),
l.NUMBER,{fractionalDigits:this.decimalPrecision});return 0<a.getCenter().getLatitude()?this.app.getResource(this.libraryId,"language-accessibility-map-coordinates-north").format(d):this.app.getResource(this.libraryId,"language-accessibility-map-coordinates-south").format(d)};d.prototype._getFormattedLongitudeString=function(a){var d=f.formatNumber(Math.abs(a.getCenter().getLongitude()),l.NUMBER,{fractionalDigits:this.decimalPrecision});return 0>a.getCenter().getLongitude()?this.app.getResource(this.libraryId,
"language-accessibility-map-coordinates-west").format(d):this.app.getResource(this.libraryId,"language-accessibility-map-coordinates-east").format(d)};d.prototype._getScaleDescription=function(){var a=f.formatNumber(this.app.map.getScale(),l.NUMBER,{fractionalDigits:this.decimalPrecision});return this.app.getResource(this.libraryId,"language-accessibility-map-scale").format(a)};d.prototype._setVisibleFeaturesDescription=function(a,d){for(var b="",r=this._getVisibleLayers(a),h=[],l=[],m=0;m<r.length;m++){var f=
r[m];if(f.mapService.mapServiceFunction!==e.essentials.MapServiceFunction.BASE)if(f.mapService.serviceLayer instanceof esri.layers.GraphicsLayer){var k=this._countGraphicsInExtent(a,f.mapService.serviceLayer);0<k&&(b+=" "+this.app.getResource(this.libraryId,"language-accessibility-map-visible-feature-information").format(k,f.name))}else if(f.mapService.serviceLayer instanceof esri.layers.KMLLayer){for(var p=f.mapService.serviceLayer.getLayers(),s=f.mapService.displayName,v=k=0;v<p.length;v++){var x=
p[v];x.graphics&&x.visible&&x.isVisibleAtScale(this.app.map.getScale())&&(k+=this._countGraphicsInExtent(a,x))}0<k&&(b+=" "+this.app.getResource(this.libraryId,"language-accessibility-map-visible-feature-information").format(k,s))}else k=f.mapService.serviceLayer,k.capabilities&&0>k.capabilities.toLowerCase().indexOf("query")&&0>k.capabilities.toLowerCase().indexOf("identify")||(f.queryable&&f.supportsQuery?0===l.filter(function(a){return a.mapService.serviceUrl+"/"+a.id===f.mapService.serviceUrl+
"/"+f.id}).length&&l.push(f):f.identifiable&&f.supportsIdentify?(k=h.filter(function(a){return a.mapService.serviceUrl===f.mapService.serviceUrl}),0<k.length&&0===k[0].layers.filter(function(a){return a.toString()===f.id}).length?k[0].layers.push(parseInt(f.id)):0===k.length&&h.push({mapService:f.mapService,layers:[parseInt(f.id)]})):this.app.trace.debug(f.name+" layer does not support identify or query. Not supported for screenreader."))}0===h.length?this._completedIdentifies=!0:this._completedIdentifies=
!1;0===l.length?this._completedQueries=!0:this._completedQueries=!1;0===h.length&&0===l.length?d(b):(0<h.length&&this._performIdentify(d,b,a,h),0<l.length&&this._performQueries(d,b,a,l))};d.prototype._countGraphicsInExtent=function(a,d){for(var b=0,e=0;e<d.graphics.length;e++){var h=d.graphics[e];a.intersects(h.geometry)&&h.visible&&b++}return b};d.prototype._performIdentify=function(a,d,b,e){var l=this,m={};this._identifyTaskCollection=[];null!=this._lastIdentifyMap&&this._lastIdentifyMap.cancel();
for(var f=0;f<e.length;f++){var k=new esri.tasks.IdentifyParameters;k.mapExtent=b;k.geometry=b;k.layerIds=e[f].layers;k.layerOption=esri.tasks.IdentifyParameters.LAYER_OPTION_VISIBLE;k.returnGeometry=!1;k.tolerance=0;k.height=$(this.app.map.root).height();k.width=$(this.app.map.root).width();var p=h.infrastructure.taskUtils.getIdentifyTask(e[f].mapService);this._identifyTaskCollection.push({identifyTask:p,identifyParameters:k})}var z=!1;this._lastIdentifyMap=Promise.map(this._identifyTaskCollection,
function(a){return(new Promise(function(d,g){z||a.identifyTask.execute(a.identifyParameters,d,g)})).then(function(a){if(!z)for(var d=0;d<a.length;d++){var g=a[d];m[g.layerName]=void 0!==m[g.layerName]?m[g.layerName]+1:1}})["catch"](function(a){l.app.trace.info("Error performing identify on server for feature count in MapTextProvider: "+a)})},{concurrency:1}).then(function(){for(var b in m)m.hasOwnProperty(b)&&0<m[b]&&(d+=" "+l.app.getResource(l.libraryId,"language-accessibility-map-visible-feature-information").format(m[b],
b));!z&&l._completedQueries&&a(d)}).cancellable()["catch"](Promise.CancellationError,function(a){z=!0;l.app.trace.debug("Feature information retrieval for MapTextProvider cancelled.")})["catch"](function(a){l.app.trace.info("Error retrieving MapTextProvider info: "+a)}).lastly(function(){l._completedIdentifies=!0})};d.prototype._performQueries=function(a,d,b,e){var l=this,m=new esri.tasks.Query;m.geometry=esri.geometry.Polygon.fromExtent(b);m.returnGeometry=!1;m.where="1=1";this._queryTaskCollection=
[];null!=this._lastQueryMap&&this._lastQueryMap.cancel();for(b=0;b<e.length;b++){var f=e[b],k=f.name;f.mapService.serviceLayer.url.split("?");f=h.infrastructure.taskUtils.getQueryTask(f);this._queryTaskCollection.push({queryTask:f,layerName:k})}var p=!1;this._lastQueryMap=Promise.map(this._queryTaskCollection,function(a){if(!p)return(new Promise(function(d,g){a.queryTask.executeForCount(m,d,g)})).then(function(g){0<g&&(d+=" "+l.app.getResource(l.libraryId,"language-accessibility-map-visible-feature-information").format(g,
a.layerName))})["catch"](function(a){l.app.trace.info("Error querying server for feature count in MapTextProvider: "+a)})},{concurrency:1}).then(function(){!p&&l._completedIdentifies&&a(d)}).cancellable()["catch"](Promise.CancellationError,function(a){p=!0;l.app.trace.debug("Feature information retrieval for MapTextProvider cancelled.")})["catch"](function(a){l.app.trace.info("Error retrieving MapTextProvider info: "+a)}).lastly(function(){l._completedQueries=!0})};d.prototype._getVisibleLayers=function(a){a=
this.app.site.essentialsMap.allLayers();for(var d=[],b=0;b<a.length;b++){var e=a[b],l=h.infrastructure.gis.LayerInfo.fromGcxLayer(e);l.getMaxScale()>this.app.map.getScale()||l.getMinScale()<this.app.map.getScale()||l.isVisible()&&l.subLayerIds&&0===l.subLayerIds.length&&d.push(e)}return d};d.prototype._getAttributionInformation=function(){for(var a="",d=$(this.app.map.attribution.listNode).children(),b=0;b<d.length;b++){var e=d[b];"none"!==$(e).css("display")&&(a+=e.textContent+" ")}return a};return d}(h.infrastructure.accessibility.AccessibilityProviderBase);
m.MapTextProvider=b})(f.accessibility||(f.accessibility={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(m){var f=function(e){function b(){e.apply(this,arguments);this._notifications={};this._subviewNotifications={};this._message="";this._isDataFrameOpen=!1;this._openViews=[];this._closedViews=[];this._dataFrameOpenViews=[];this._dataFrameClosedViews=[];this._currentDataFrameViewId="LayerListView";this._activeContainerViews=["LayerDataContainerView"];this.startTime=(new Date).getTime();this.timeDelay=250;this.newEventTime=null}__extends(b,
e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);a.notifications&&(this._notifications=a.notifications);a.subviewNotifications&&(this._subviewNotifications=a.subviewNotifications);this._resetViewArrays();this.app.event("ViewActivatedEvent").subscribe(this,this._handleViewActivated);this.app.event("ViewDeactivatedEvent").subscribe(this,this._handleViewDeactivated);this.app.event("DataFrameOpenedEvent").subscribe(this,this._handleDataFrameOpened);this.app.event("DataFrameClosedEvent").subscribe(this,
this._handleDataFrameClosed);this.app.event("FlyoutActivated").subscribe(this,this._compactToolbarFlyoutActivated);this.app.event("FlyoutDeactivated").subscribe(this,this._compactToolbarFlyoutDeactivated)};b.prototype._handleViewActivated=function(a){var d=this.app.getResource(this.libraryId,"language-accessibility-map-open");this.app.trace.debug("View activated: "+a.id);null!=this._notifications[a.id]?(-1<this._openViews.indexOf(a.id)||this._openViews.push(a.id),this._handleView(a)):"DataRegion"==
a.regionName&&this._isDataFrameOpen?(-1<this._activeContainerViews.indexOf(a.id)||(this._activeContainerViews.push(a.id),this.app.trace.debug("Active container views: {0}".format(this._activeContainerViews.length.toString()))),this._handleDataRegionView(a,d)):this.app.trace.debug("No corresponding notification message for "+a.id)};b.prototype._handleViewDeactivated=function(a){this.app.getResource(this.libraryId,"language-accessibility-map-closed");this.app.trace.debug("View deactivated: "+a.id);
-1<this._activeContainerViews.indexOf(a.id)?(a=this._activeContainerViews.indexOf(a.id),this._activeContainerViews.splice(a,1),this.app.trace.debug("Active container views: {0}".format(this._activeContainerViews.length.toString())),0==this._activeContainerViews.length&&(this._currentDataFrameViewId="PlaceholderView")):null!=this._notifications[a.id]?(-1<this._closedViews.indexOf(a.id)||this._closedViews.push(a.id),this._handleView(a)):null!=this._subviewNotifications[a.id]&&this._isDataFrameOpen?
(-1<this._dataFrameClosedViews.indexOf(a.id)||this._dataFrameClosedViews.push(a.id),this._handleView(a)):this.app.trace.debug("No corresponding notification message for "+a.id)};b.prototype._handleView=function(a){var d=this;this.newEventTime=(new Date).getTime();setTimeout(function(){(new Date).getTime()-d.newEventTime>d.timeDelay&&d._arraysNotEmpty()&&(d._composeMessage(),d.app.trace.debug("Message: {0}".format(d._message)),d.app.command("ScreenReaderNarrate").execute(d._message),d._message="",
d._resetViewArrays())},this.timeDelay)};b.prototype._arraysNotEmpty=function(){return 0<this._openViews.length||0<this._closedViews.length||0<this._dataFrameOpenViews.length||0<this._dataFrameClosedViews.length};b.prototype._handleDataRegionView=function(a,d){var g="";if(a.id==this.app.getResource(this.libraryId,"language-accessibility-map-workflowlist-view"))g=a.id;else if(a.viewModel&&a.viewModel.currentView)g=a.viewModel.currentView.id;else return;null!=this._subviewNotifications[g]?g==this._currentDataFrameViewId?
this.app.trace.debug("Active view = Current data frame view."):(d==this.app.getResource(this.libraryId,"language-accessibility-map-open")?(-1<this._dataFrameOpenViews.indexOf(a.id)||this._dataFrameOpenViews.push(g),null==this._currentDataFrameViewId||-1<this._dataFrameClosedViews.indexOf(this._currentDataFrameViewId)||this._dataFrameClosedViews.push(this._currentDataFrameViewId),this._currentDataFrameViewId=g):-1<this._dataFrameClosedViews.indexOf(this._currentDataFrameViewId)||this._dataFrameClosedViews.push(g),
this._handleView(a)):this._handleView(a)};b.prototype._composeMessage=function(){this._isDataFrameOpen||(this._dataFrameOpenViews=[]);this._addOpenViews();this._addDataFrameOpenViews();this._addClosedViews();this._addDataFrameClosedViews()};b.prototype._addOpenViews=function(){for(var a=this.app.getResource(this.libraryId,"language-accessibility-map-open"),d=0;d<this._openViews.length;d++)this._message+=this._notifications[this._openViews[d]].format(a)};b.prototype._addClosedViews=function(){for(var a=
this.app.getResource(this.libraryId,"language-accessibility-map-closed"),d=0;d<this._closedViews.length;d++)this._message+=this._notifications[this._closedViews[d]].format(a)};b.prototype._addDataFrameOpenViews=function(){for(var a=this.app.getResource(this.libraryId,"language-accessibility-map-open"),d=0;d<this._dataFrameOpenViews.length;d++)this._message+=this._subviewNotifications[this._dataFrameOpenViews[d]].format(a)};b.prototype._addDataFrameClosedViews=function(){for(var a=this.app.getResource(this.libraryId,
"language-accessibility-map-closed"),d=0;d<this._dataFrameClosedViews.length;d++)this._message+=this._subviewNotifications[this._dataFrameClosedViews[d]].format(a)};b.prototype._resetViewArrays=function(){this._openViews=[];this._closedViews=[];this._dataFrameOpenViews=[];this._dataFrameClosedViews=[]};b.prototype._handleDataFrameOpened=function(){var a=this.app.getResource(this.libraryId,"language-accessibility-map-data-frame-open"),d=this.app.getResource(this.libraryId,"language-accessibility-map-open"),
a=a+this._subviewNotifications[this._currentDataFrameViewId].format(d);this._isDataFrameOpen=!0;this.app.trace.debug(a);this.app.command("ScreenReaderNarrate").execute(a)};b.prototype._handleDataFrameClosed=function(){var a=this.app.getResource(this.libraryId,"language-accessibility-map-data-frame-closed");this._isDataFrameOpen=!1;this.app.trace.debug(a);this.app.command("ScreenReaderNarrate").execute(a)};b.prototype._compactToolbarFlyoutActivated=function(a){a.id===this.app.getResource(this.libraryId,
"language-accessibility-map-compact-toolbar-view")&&(this.app.trace.debug("View activated: "+a.id),this._openViews.push(a.id),this._handleView(a))};b.prototype._compactToolbarFlyoutDeactivated=function(a){a.id===this.app.getResource(this.libraryId,"language-accessibility-map-compact-toolbar-view")&&(this.app.trace.debug("View deactivated: "+a.id),this._closedViews.push(a.id),this._handleView(a))};return b}(e.infrastructure.accessibility.AccessibilityProviderBase);m.ViewActivatorProvider=f})(f.accessibility||
(f.accessibility={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this.ariaLabelText=new Observable("");this.screenNarrationEnabled=!0;this._numNarrateDeactivations=0}__extends(b,e);b.prototype.initialize=function(a){var d=this;e.prototype.initialize.call(this,a);this.app.command("EnableScreenReaderNarrate").register(this,function(){d._numNarrateDeactivations=0<d._numNarrateDeactivations?--d._numNarrateDeactivations:0;0===d._numNarrateDeactivations&&
(d.screenNarrationEnabled=!0)});this.app.command("DisableScreenReaderNarrate").register(this,function(){d._numNarrateDeactivations++;d.screenNarrationEnabled=!1});this.app.command("ScreenReaderNarrate").register(this,function(a){d.screenNarrationEnabled?setTimeout(function(){d.screenNarrationEnabled&&(d.app.trace.debug("ScreenReader Narration Enabled. Now Narrating: {0}".format(a)),d.ariaLabelText.set(a))},0):d.app.trace.debug("ScreenReader Narration Disabled by {0} components. Not narrating '{1}'".format(d._numNarrateDeactivations,
a))})};return b}(e.framework.ui.ViewModelBase);h.AccessibilityViewModel=f})(h.accessibility||(h.accessibility={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.handleOnClick=function(a,d,g){this.app.command("ShowAccessibilityView").execute();return!1};return b}(e.framework.ui.ViewBase);h.AccessibilityButtonView=f})(h.accessibility||(h.accessibility={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this._outstandingWorkCount=0;this._attachedVideoEventListeners=!1}__extends(b,e);b.prototype.activated=function(){e.prototype.activated.call(this);(this._getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia)?Worker?(this._startJsqrcodeWorker(),this._startJobWorker(),this._startVideo()):this.app.trace.error(this.id+
" shown but web workers aren't available.  Barcode and QR code scanning won't work."):this.app.trace.error(this.id+" shown but getUserMedia isn't available.  Barcode and QR code scanning won't work.")};b.prototype.deactivated=function(){e.prototype.deactivated.call(this);this._stopVideo()};b.prototype._startJsqrcodeWorker=function(){var a=this;this._jsqrcodeWorker||(this.configuration.jsqrcodeSource?(this._jsqrcodeWorker=new Worker(this.configuration.jsqrcodeSource),this._jsqrcodeWorker.onmessage=
function(d){a._outstandingWorkCount--;d.data.success&&(a.app.command("DeactivateView").execute(a.id),a.app.event("_HtmlBarcodeScannerResult").publish({format:"QR",value:d.data.result}))},this._jsqrcodeWorker.onerror=function(d){a.app.trace.error("Error scanning barcode. "+d.message)}):this.app.trace.error(this.id+" shown but jsqrcodeSource is not configured.  QR code scanning won't work."))};b.prototype._startJobWorker=function(){var a=this;this._jobWorker||(this.configuration.jobDecoderWorkerSource?
(this._jobWorker=new Worker(this.configuration.jobDecoderWorkerSource),this._jobWorker.onmessage=function(d){"boolean"===typeof d.data.success&&a._outstandingWorkCount--;!0===d.data.success&&0<d.data.result.length&&(a.app.command("DeactivateView").execute(a.id),a.app.event("_HtmlBarcodeScannerResult").publish({format:d.data.result[0].Format,value:d.data.result[0].Value}))},this._jobWorker.onerror=function(d){a.app.trace.error("Error scanning barcode. "+d.message)}):this.app.trace.error(this.id+" shown but jobDecoderWorkerSource is not configured.  Barcode scanning won't work."))};
b.prototype._startVideo=function(){var a=this;this._attachedVideoEventListeners||(this._attachVideoEventListeners(),this._attachedVideoEventListeners=!0);this._lastSourceInfo?this._startVideoWithSourceInfo(this._lastSourceInfo):MediaStreamTrack&&MediaStreamTrack.getSources?MediaStreamTrack.getSources(function(d){d=d.filter(function(a){return"video"===a.kind});if(0===d.length)a._startVideoWithConstraints({video:!0,audio:!1});else if(1===d.length)a._startVideoWithSourceInfo(d[0]);else{var g=d.filter(function(a){return"environment"===
a.facing});0<g.length?a._startVideoWithSourceInfo(g[0]):(a._sourceInfos=d,a.viewModel.showSourceSwitcher.set(!0),a._startVideoWithSourceInfo(d[0]))}}):this._startVideoWithConstraints({video:!0,audio:!1})};b.prototype._attachVideoEventListeners=function(){var a=this,d,g=0,n=function(){d||(d=setInterval(function(){0<a._outstandingWorkCount?(g++,0===g%5&&a.app.trace.warning(a.id+" skipped processing "+g+" frames in a row.")):(0>a._outstandingWorkCount&&(a.app.trace.error(a.id+" outstanding work count is negative. Work dispatching and results have gone out of sync."),
a._outstandingWorkCount=0),g=0,a._scan())},a.configuration.scanInterval||750))},b=function(){d&&(clearInterval(d),d=null)};this.videoElement.addEventListener("play",n);this.videoElement.addEventListener("playing",n);this.videoElement.addEventListener("abort",b);this.videoElement.addEventListener("ended",b);this.videoElement.addEventListener("pause",b);this.videoElement.addEventListener("waiting",b)};b.prototype._startVideoWithSourceInfo=function(a){this._lastSourceInfo=a;this._startVideoWithConstraints({video:{optional:[{sourceId:a.id}]},
audio:!1})};b.prototype._startVideoWithConstraints=function(a){var d=this;this._stopVideo();this._getUserMedia.call(navigator,a,function(a){d._mediaStream=a;var n=window.URL||window.webkitURL;d.videoElement.src=n?n.createObjectURL(a):a;d.videoElement.play();d.videoElement.focus()},function(a){d.app.trace.error("Error getting user media. "+a.message)})};b.prototype._stopVideo=function(){this.videoElement.pause();this.videoElement.src="";this._mediaStream&&((this._mediaStream.getTracks()||[]).forEach(function(a){return a.stop()}),
this._mediaStream=null)};b.prototype._scan=function(){if(!this.videoElement.paused&&!this.videoElement.ended){this._canvasContext||(this._canvasContext=this.canvasElement.getContext("2d"));this._canvasContext.drawImage(this.videoElement,0,0);var a=this.canvasElement.width,d=this.canvasElement.height,g=this._canvasContext.getImageData(0,0,a,d);g&&(this._jsqrcodeWorker&&(this._jsqrcodeWorker.postMessage({imageData:g,width:a,height:d}),this._outstandingWorkCount++),this._jobWorker&&(this._jobWorker.postMessage({scan:g.data,
scanWidth:a,scanHeight:d}),this._outstandingWorkCount++))}};b.prototype.handleKeyDown=function(a,d,g){(a.which?a.which:a.keyCode)===dojo.keys.ESCAPE&&this.app.command("DeactivateView").execute(this.id)};b.prototype.handleBackClick=function(a,d,g){this.app.command("DeactivateView").execute(this.id)};b.prototype.handleSwitchSource=function(a,d,g){this._sourceInfos?(a=this._sourceInfos.indexOf(this._lastSourceInfo),this._startVideoWithSourceInfo(this._sourceInfos[a+1<this._sourceInfos.length?a+1:0])):
this.app.trace.error(this.id+" handleSwitchSource called but source switching is not available.")};return b}(e.framework.ui.ViewBase);h.BarcodeScannerView=f})(h.barcodescanner||(h.barcodescanner={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this.showSourceSwitcher=new Observable(!1)}__extends(b,e);return b}(e.framework.ui.ViewModelBase);h.BarcodeScannerViewModel=f})(h.barcodescanner||(h.barcodescanner={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(l){function b(a,d,g){l.call(this,a,d);this.displayName=new Observable;this.visible=new Observable;this.iconUri=new Observable;this.services=[];this.slider=null;this._serviceIds=[];this._visibilityChangeHandles=[];this._sliderVisibilityBindToken=null;this.DEFAULT_ICON="Resources/Images/Icons/basemap-24.png";this.iconUri.set(this.DEFAULT_ICON);g&&this.setServices(g)}__extends(b,l);b.prototype.setServices=function(a){var d=
this;if(a){this._visibilityChangeHandles.forEach(function(a){return a.remove()});this._visibilityChangeHandles=[];this.slider&&(this.slider.visible.unbind(this._sliderVisibilityBindToken),this.slider.destroy());this.services=[];this._serviceIds=[];this.slider=null;var g=[];a.forEach(function(a){d._serviceIds.push(a.mapService.id);a.mapService.baseMapGroup&&0===g.length?g.push(a):a.mapService.baseMapGroup&&a.mapService.baseMapGroup===g[0].mapService.baseMapGroup?g.push(a):d.services.push(a)});1<g.length?
(g.sort(function(a,d){return a.mapService.baseMapGroupIndex-d.mapService.baseMapGroupIndex}),this.slider=new h.BasemapSliderViewModel(this.app,g,!g[0].mapService.baseMapGroupIsMutuallyExclusive,this.libraryId),this._sliderVisibilityBindToken=this.slider.visible.bind(this,function(a){return d.visible.set(d._calculateIsVisible())})):1==g.length&&this.services.push(g[0]);this.visible.set(this._calculateIsVisible());this.app.site.essentialsMap.mapServices.forEach(function(a){d._visibilityChangeHandles.push(a.serviceLayer.on("visibility-change",
function(a){d.visible.set(d._calculateIsVisible())}))})}};b.prototype.setVisibility=function(a){var d=this;this.services.forEach(function(d){return d.setVisibility(a)});this.slider&&this.slider.setVisibility(a);this.app.site.essentialsMap.mapServices.filter(function(a){return a.mapServiceFunction===e.essentials.MapServiceFunction.BASE}).forEach(function(a){d.hasMapService(a)||a.setVisibility(!1)})};b.prototype.hasMapService=function(a){return a?this._serviceIds.some(function(d){return d===a.id}):
!1};b.prototype.onDestroy=function(){l.prototype.onDestroy.call(this);this._visibilityChangeHandles.forEach(function(a){return a.remove()});this.slider&&(this.slider.visible.unbind(this._sliderVisibilityBindToken),this.slider.destroy())};b.prototype._calculateIsVisible=function(){var a=this,d=this.app.site.essentialsMap.mapServices.filter(function(a){return a.mapServiceFunction===e.essentials.MapServiceFunction.BASE}).every(function(d){return!d.isVisible()||a.hasMapService(d)}),d=d&&this.services.every(function(a){return a.isVisible()});
this.slider&&(d=d&&this.slider.visible.get());return d};return b}(e.framework.ui.ViewModelBase);h.BasemapViewModel=f})(h.basemap||(h.basemap={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(a,d,g,n){e.call(this,a,n);this.services=[];this.selectedIndex=new Observable;this.allowTransition=!0;this.selectedLabel=new Observable("");this.minLabel=new Observable("");this.maxLabel=new Observable("");this.visible=new Observable(!1);this._settingSelection=!1;this._visibilityChangeHandles=[];this._opacityChangeHandles=[];this.allowTransition="undefined"===typeof g?!0:g;this.setMapServices(d)}__extends(b,
e);b.prototype.setMapServices=function(a){var d=this;if(!a||2>a.length)throw Error("A basemap slider must contain at least two map services.");this._visibilityChangeHandles.forEach(function(a){return a.remove()});this._opacityChangeHandles.forEach(function(a){return a.remove()});this._visibilityChangeHandles=[];this._opacityChangeHandles=[];this.services=a;this.selectedIndex.set(a.length-1);for(a=0;a<this.services.length;a++){var g=this.services[a];g.isVisible&&this.selectedIndex.set(a);g.mapService.serviceLayer&&
(this._visibilityChangeHandles.push(g.mapService.serviceLayer.on("visibility-change",function(){return d._onChildVisibilityChange()})),this._opacityChangeHandles.push(g.mapService.serviceLayer.on("opacity-change",function(){return d._onChildVisibilityChange()})))}this._onChildVisibilityChange();this._refreshSelectedLabel();this.minLabel.set(this.services[0].displayName());this.maxLabel.set(this.services[this.services.length-1].displayName())};b.prototype.setVisibility=function(a){if(a){var d=this.selectedIndex.get();
if(0>d||d>=this.services.length)d=this.services.length-1;this.setSelection(d)}else this.services.forEach(function(a){return a.setVisibility(!1)});this.visible.set(a)};b.prototype.setSelection=function(a){var d=this.services[Math.floor(a)];if(!d)throw Error("Basemap index out of range.");this.allowTransition||(a=Math.floor(a));this._settingSelection=!0;this.selectedIndex.set(a);this._refreshSelectedLabel();var g=this.services[Math.floor(a)+1],n=a-Math.floor(a),b=n&&g;this.services.forEach(function(a){a===
d?(a.setVisibility(!0),a.mapService.setOpacity(1)):b&&a===g?(a.setVisibility(!0),a.mapService.setOpacity(n)):(a.setVisibility(!1),a.mapService.setOpacity(1))});this._settingSelection=!1};b.prototype.onDestroy=function(){e.prototype.onDestroy.call(this);this._visibilityChangeHandles.forEach(function(a){return a.remove()});this._opacityChangeHandles.forEach(function(a){return a.remove()})};b.prototype._onChildVisibilityChange=function(){if(!this._settingSelection){var a=[];this.services.forEach(function(d,
g){d.mapService.serviceLayer.visible&&a.push(g)});1===a.length&&1===this.services[a[0]].mapService.opacity?(this.selectedIndex.set(a[0]),this.visible.set(!0)):2===a.length&&this.allowTransition&&1===a[1]-a[0]&&1==this.services[a[0]].mapService.opacity&&1>this.services[a[1]].mapService.opacity?(this.selectedIndex.set(a[0]+this.services[a[1]].mapService.opacity),this.visible.set(!0)):this.visible.set(!1);this._refreshSelectedLabel()}};b.prototype._refreshSelectedLabel=function(){var a=0.5>=this.selectedIndex.get()-
Math.floor(this.selectedIndex.get())?Math.floor(this.selectedIndex.get()):Math.floor(this.selectedIndex.get())+1;this.selectedLabel.set(this.services[a].displayName())};return b}(e.framework.ui.ViewModelBase);h.BasemapSliderViewModel=f})(h.basemap||(h.basemap={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){var h=function(){function e(b,a){this.relatedLayerListItem=this.mapService=null;if(!b)throw Error("Map service is required.");this.mapService=b;this.relatedLayerListItem=a}e.prototype.isVisible=function(){return this.mapService.isVisible()};e.prototype.displayName=function(){return this.mapService.shortDisplayName||this.mapService.displayName};e.prototype.setVisibility=function(b){this.relatedLayerListItem?this.relatedLayerListItem.setVisibility(b,
!0):this.mapService.setVisibility(b)};return e}();e.BasemapServiceViewModel=h})(e.basemap||(e.basemap={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(m){var f=function(e){function b(a,d){var g=this;e.call(this,a,d);this._visibilityChangeTokens=[];this.hideIfNoBasemapsAvailable=!1;this.visibleBasemaps=[];this.backArrowVisible=new Observable(!1);this.backArrowEnabled=new Observable(!1);this.forwardArrowVisible=new Observable(!1);this.forwardArrowEnabled=new Observable(!0);this.topArrowVisible=new Observable(!1);this.topArrowEnabled=new Observable(!1);this.bottomArrowVisible=new Observable(!1);
this.bottomArrowEnabled=new Observable(!0);this.multipleRows=new Observable(!1);this.isExpanded=new Observable(!1);this.sliderMinLabel=new Observable;this.sliderMaxLabel=new Observable;this.sliderSelectedLabel=new Observable;this.sliderIsExpanded=new Observable(!0);this.sliderTicks=new ObservableCollection;this.basemaps=new ObservableCollection;this.layerThemes=new ObservableCollection;this.selectedBasemap=new Observable;this.selectedBasemapIconUri=new Observable;this.selectedLayerTheme=new Observable;
this.buttonHeight=this.buttonWidth=0;this.hasHorizontalControls=new Observable(!1);this.hasVerticalControls=new Observable(!1);this._basemapsAutoCreated=!1;this.headerLabel=new Observable(a.getResource(d,"language-basemap-switcher-basemaps"));this.selectedBasemapIconUri.set("Resources/Images/Icons/basemap-24.png");this.selectedBasemap.bind(this,this._updateBasemapSwitcherButton);this.selectedLayerTheme.bind(this,function(){g._populateBaseMaps();g.layerList&&g._orderBaseMaps();g._updateVisibleBasemaps()});
this.app.command("SelectBaseMap").register(this,this._executeSelectBaseMap)}__extends(b,e);b.prototype.initialize=function(a){var d=this;this.app.event("SiteInitializedEvent").once(this,function(){d._populateBaseMaps();d._populateLayerThemes();d._updateVisibleBasemaps()});this.app.event("LayerListInitializedEvent").once(this,function(a){d.layerList=a;d._orderBaseMaps()})};b.prototype._layerListInitialized=function(){this._populateBaseMaps();this._populateLayerThemes();this._updateVisibleBasemaps()};
b.prototype._orderBaseMaps=function(){var a=this,d=[];this.layerList.children.get().forEach(function(a){return d.push.apply(d,a.getSelfAndDescendants())});d=d.filter(function(a){return a.type===h.infrastructure.layerList.LayerListItemType.MAPSERVICE&&"Base"===a.mapService.serviceLayerFunction&&a.inActiveTheme.get()});d.forEach(function(d){a.basemaps.get().forEach(function(a){a.services.forEach(function(a){d.mapService.id==a.mapService.id&&(a.relatedLayerListItem=d)});a.slider&&a.slider.services.forEach(function(a){d.mapService.id==
a.mapService.id&&(a.relatedLayerListItem=d)})})});if(this._basemapsAutoCreated){var g=[];g.push.apply(g,d.map(function(a){return a.mapService.id}));g.push.apply(g,this.app.site.essentialsMap.mapServices.map(function(a){return a.id}));var n=this.basemaps.get().slice(),b=function(a){return g.indexOf((a.slider&&a.slider.services?a.slider.services[0]:a.services[0]).mapService.id)};n.sort(function(a,d){return b(a)-b(d)});this.basemaps.set(n)}};b.prototype._populateBaseMaps=function(){var a=this;this._visibilityChangeTokens.forEach(function(a){return a.remove()});
this._visibilityChangeTokens=[];this.basemaps.get().forEach(function(a){return a.destroy()});this.basemaps.clear();var d=this.app.site.essentialsMap.mapServicesFilteredView||[],d=d.filter(function(a){return"Base"===a.mapServiceFunction}),g=d.map(function(a){return new m.BasemapServiceViewModel(a)});if(this.app.site&&this.app.site.essentialsMap&&this.app.site.essentialsMap.baseMaps&&this.app.site.essentialsMap.baseMaps.length)this.app.site.essentialsMap.baseMaps.forEach(function(d){var n=[];d.services.forEach(function(a){var d=
g.filter(function(d){return d.mapService===a.mapService})[0];d&&n.push(d)});if(n.length){var b=new m.BasemapViewModel(a.app,a.libraryId,n);b.displayName.set(d.displayName);d.iconUri&&b.iconUri.set(d.iconUri);a.basemaps.addItem(b);b.visible.bind(a,function(d){return a._updateVisibleBasemaps()})}});else{this._basemapsAutoCreated=!0;var n={};g.forEach(function(d){var b=d.mapService.iconUri,e=d.displayName(),h=[d];if(d.mapService.baseMapGroup){var l=d.mapService.baseMapGroup;if(n[l])return;e=l;n[l]=!0;
g.forEach(function(a){a!==d&&a.mapService.baseMapGroup===l&&(h.push(a),b=b||a.mapService.iconUri)})}var f=new m.BasemapViewModel(a.app,a.libraryId,h);f.displayName.set(e);f.iconUri.set(b);a.basemaps.addItem(f);f.visible.bind(a,function(d){return a._updateVisibleBasemaps()})})}(d=1>=this.basemaps.getLength()&&this.hideIfNoBasemapsAvailable)?(this.isExpanded.set(!d),this.app.command("DeactivateView").execute("BasemapSwitcherButtonView")):this.app.command("ActivateView").execute("BasemapSwitcherButtonView")};
b.prototype._populateLayerThemes=function(){var a=this;if(this.app.site&&this.app.site.essentialsMap&&this.app.site.essentialsMap.layerThemesInfo){var d=this.app.site.essentialsMap.layerThemesInfo;this.layerThemes.addItems(d.themes);d.activeTheme&&this.selectedLayerTheme.set(d.activeTheme);dojo.connect(d,"layerThemeChangedEvent",function(d){d.currTheme&&d.currTheme.displayName&&a.selectedLayerTheme.get()!==d.currTheme&&a.selectedLayerTheme.set(d.currTheme)})}};b.prototype._updateVisibleBasemaps=function(){this.visibleBasemaps=
[];for(var a=0;a<this.basemaps.length();a++){var d=this.basemaps.getAt(a);d.visible.get()&&this.visibleBasemaps.push(d)}a=null;1==this.visibleBasemaps.length&&(a=this.visibleBasemaps[0]);a!=this.selectedBasemap.get()&&this.selectedBasemap.set(a)};b.prototype._updateBasemapSwitcherButton=function(a){if(a&&null!=a.slider){this.sliderMinLabel.sync(a.slider.minLabel);this.sliderMaxLabel.sync(a.slider.maxLabel);this.sliderSelectedLabel.sync(a.slider.selectedLabel);this.sliderTicks.clear();for(var d=100/
(a.slider.services.length-1),g=0;100>g;g+=d)this.sliderTicks.addItem({position:g+"%"})}else this.sliderMinLabel.removeSync(),this.sliderMinLabel.set(""),this.sliderMaxLabel.removeSync(),this.sliderMaxLabel.set(""),this.sliderSelectedLabel.removeSync(),this.sliderSelectedLabel.set("");a&&a.visible.get()?(this.headerLabel.set(a.displayName.get()),this.selectedBasemapIconUri.set(a?a.iconUri.get():"Resources/Images/Icons/basemap-24.png")):(this.headerLabel.set(this.app.getResource(this.libraryId,"language-basemap-switcher-basemaps")),
this.selectedBasemapIconUri.set("Resources/Images/Icons/basemap-24.png"))};b.prototype._executeSelectBaseMap=function(a){if(a){a=a.toString().toLowerCase();for(var d,g=0;g<this.basemaps.getLength();g++){var n=this.basemaps.getAt(g);if(n&&n.displayName.get()&&n.displayName.get().toLowerCase()===a){d=n;break}}d&&(d.setVisibility(!0),this.selectedBasemap.set(d),this.app.eventRegistry.event("BaseMapSelected").publish(a))}};b.prototype._getActiveLayerTheme=function(){return this.app.site.essentialsMap.layerThemesInfo?
this.app.site.essentialsMap.layerThemesInfo.activeTheme:null};return b}(e.framework.ui.ViewModelBase);m.BasemapSwitcherViewModel=f})(f.basemap||(f.basemap={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this.basemapSlider=new Observable;this.sliderLabelElement=this.sliderElement=null}__extends(b,e);b.prototype.attach=function(a){e.prototype.attach.call(this,a);a.selectedBasemap.bind(this,this._onSwitcherBasemapChanged)};b.prototype.added=function(a){e.prototype.added.call(this,a);this._setupJQuerySlider()};b.prototype.toggleExpanded=function(){this.viewModel.sliderIsExpanded.set(!this.viewModel.sliderIsExpanded.get())};
b.prototype._onSwitcherBasemapChanged=function(a){var d=this;this.basemapSlider.get()&&this.basemapSlider.get().selectedIndex.unbind(this.selectedIndexBindingToken);a&&a.slider&&1<a.slider.services.length?(this.isActive||this.app.viewManager.activateView(this),this.basemapSlider.set(a.slider),this.selectedIndexBindingToken=this.basemapSlider.get().selectedIndex.bind(this,function(){return d._updateSlider()}),this._updateSlider(),this._updateSelection(this.basemapSlider.get().selectedIndex.get())):
(!this.isActive||this.app.viewManager.deactivateView(this),this.basemapSlider.set(null))};b.prototype._setupJQuerySlider=function(){var a=this;$(this.sliderElement).slider({animate:!1,min:0,max:1,step:0.1,orientation:"horizontal",value:0,slide:function(d,g){return a._handleSliderValueChanged(d,g)}});$(".ui-slider-handle",this.sliderElement).unbind("keydown");$(".ui-slider-handle",this.sliderElement).keydown(function(d){if(a.basemapSlider.get()){var g=a.basemapSlider.get().allowTransition?0.1:1,n=
a.basemapSlider.get().selectedIndex.get(),b=null;switch(d.which){case 38:case 39:b=Math.min(a.basemapSlider.get().services.length-1,n+g);break;case 37:case 40:b=Math.max(0,n-g);break;case 33:b=Math.min(a.basemapSlider.get().services.length-1,Math.floor(n+1));break;case 34:b=Math.max(0,Math.ceil(n-1));break;case 36:b=0;break;case 35:b=a.basemapSlider.get().services.length-1}null!=b&&(a._updateSelection(b),d.preventDefault(),d.stopPropagation())}})};b.prototype._handleSliderValueChanged=function(a,
d){d&&void 0!=d.value&&this._updateSelection(d.value)};b.prototype._updateSlider=function(){if(this.basemapSlider.get()){var a=$(this.sliderElement);a.slider("option","max",this.basemapSlider.get().services.length-1);a.slider("option","step",this.basemapSlider.get().allowTransition?0.1:1);a.slider("value",this.basemapSlider.get().selectedIndex.get());a=$(".ui-slider-handle",this.sliderElement);a.attr("aria-label",this.basemapSlider.get().selectedLabel.get());a.attr("title",this.getResource("language-basemap-slider-tooltip"));
a.text(this.getResource("language-basemap-slider-handle"))}};b.prototype._updateSelection=function(a){this.basemapSlider.get().setSelection(a);a=$(this.sliderLabelElement).width();var d=$(this.sliderElement).width(),g=$(".ui-slider-handle",this.sliderElement).position().left-0.5*a,g=Math.max(-parseFloat($(this.sliderElement).css("marginLeft")),g),g=Math.min(d-a+parseFloat($(this.sliderElement).css("marginRight")),g);this.sliderLabelElement.style.left=g+"px"};return b}(e.framework.ui.ViewBase);h.BasemapSliderView=
f})(h.basemap||(h.basemap={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){(function(a){a[a.Vertical=0]="Vertical";a[a.Horizontal=1]="Horizontal";a[a.None=2]="None"})(h.ExpandDirection||(h.ExpandDirection={}));var f=h.ExpandDirection;(function(a){a[a.Back=0]="Back";a[a.Forward=1]="Forward";a[a.Top=2]="Top";a[a.Bottom=3]="Bottom"})(h.ScrollDirection||(h.ScrollDirection={}));var l=h.ScrollDirection,b=function(a){function d(){a.apply(this,arguments);this._collapsibleAreaHeight=this._collapsibleAreaWidth=null;
this._numberOfColumnsMaximumLimit=this._numberOfRowsMaximumLimit=5;this._numberOfColumnsMinimumLimit=this._numberOfRowsMinimumLimit=2;this._numberOfColumns=3;this._numberOfRows=1;this._numberOfDrawerItems=this._numberOfElementsBeforeCurrentWindow=this._numberOfElementsAfterCurrentWindow=this._adjustedNumberOfColumns=this._adjustedNumberOfRows=0}__extends(d,a);d.prototype.resolveWidget=function(d,n){a.prototype.resolveWidget.call(this,d,n);if(!d||"basemapsList"!==d||!n)return null;var b=this.app.viewManager.createView({markup:"Mapping/modules/Basemap/BasemapSwitcherView.html",
type:"geocortex.essentialsHtmlViewer.mapping.modules.basemap.BasemapSwitcherView",visible:!0,libraryId:this.libraryId,app:this.app});b.attach(n);return b};d.prototype.attach=function(d){var n=this;a.prototype.attach.call(this,d);this.configuration&&this.configuration.hasOwnProperty("grid")&&this.configuration.grid.hasOwnProperty("numberOfRows")&&this.configuration.grid.hasOwnProperty("numberOfColumns")&&(this._numberOfRows=this.configuration.grid.numberOfRows,this._numberOfColumns=this.configuration.grid.numberOfColumns);
if(this.app.site&&this.app.site.isInitialized)this._numberOfDrawerItems=this.viewModel.basemaps.getLength(),this.viewModel.isExpanded.get()&&this._sizeDrawer();else this.app.event("SiteInitializedEvent").once(this,function(){n._numberOfDrawerItems=n.viewModel.basemaps.getLength();n.viewModel.isExpanded.get()&&n._sizeDrawer()});this.viewModel.selectedLayerTheme.bind(this,function(){n._numberOfDrawerItems=n.viewModel.basemaps.getLength();n.viewModel.isExpanded.get()&&(n._sizeDrawer(!0),0===n.viewModel.basemaps.getLength()&&
n.viewModel.isExpanded.set(!1))});this.app.command("ToggleBasemapsDrawer").register(this,function(){n.viewModel.isExpanded.set(!n.viewModel.isExpanded.get());n.viewModel.isExpanded.get()||n.viewModel.selectedBasemap.pulse();n.viewModel.isExpanded.get()&&n.app.command("DeactivateView").execute("BasemapSliderView");n._sizeDrawer(n.viewModel.isExpanded.get())});this.app.eventRegistry.event("BaseMapSelected").subscribe(this,function(){n.viewModel.isExpanded.set(!1);n.app.command("ShowMap").execute()});
this.viewModel.isExpanded.bind(this,this._handleIsExpandedChanged)};d.prototype._handleIsExpandedChanged=function(a){var d=this;a?(this.app.event("FlyoutActivated").publish(this),a={view:this,onOtherInteracted:function(a){return d._onOtherInteracted(a)}},this.app.command("TapToDismiss").execute(a)):this.app.event("FlyoutDeactivated").publish(this)};d.prototype._onOtherInteracted=function(a){0===$(a.target).closest(".BasemapSwitcherButtonView").length&&this.viewModel.isExpanded.set(!1)};d.prototype._adjustDrawerGrid=
function(){this._adjustedNumberOfRows=this._numberOfRows;this._adjustedNumberOfColumns=this._numberOfColumns;0>=this._numberOfRows&&(this._adjustedNumberOfRows=1);0>=this._numberOfColumns&&(this._adjustedNumberOfColumns=1);1<this._numberOfDrawerItems&&this._numberOfColumns<this._numberOfColumnsMinimumLimit&&this._numberOfRows<this._numberOfRowsMinimumLimit&&(this._adjustedNumberOfColumns=this._numberOfColumnsMinimumLimit);this._adjustedNumberOfColumns>this._numberOfColumnsMaximumLimit&&(this._adjustedNumberOfColumns=
this._numberOfColumnsMaximumLimit);this._adjustedNumberOfRows>this._numberOfRowsMaximumLimit&&(this._adjustedNumberOfRows=this._numberOfRowsMaximumLimit);var a=this._adjustedNumberOfColumns*this._adjustedNumberOfRows,a=a-this._numberOfDrawerItems;if(0<a)for(;0<a;){var a=(this._adjustedNumberOfColumns-1)*this._adjustedNumberOfRows-this._numberOfDrawerItems,d=this._adjustedNumberOfColumns*(this._adjustedNumberOfRows-1)-this._numberOfDrawerItems;if(0>a&&0>d)return;0<=a&&0<=d?a<d?this._adjustedNumberOfColumns-=
1:this._adjustedNumberOfRows-=1:0>a&&0<=d?this._adjustedNumberOfRows-=1:0<=a&&0>d&&(this._adjustedNumberOfColumns-=1);a=this._adjustedNumberOfColumns*this._adjustedNumberOfRows;a-=this._numberOfDrawerItems}1<this._adjustedNumberOfRows?this.viewModel.multipleRows.set(!0):this.viewModel.multipleRows.set(!1)};d.prototype._getExpandDirection=function(a,d,b){if(a>b*d){if(d===b)return f.Horizontal;if(d>b)return f.Vertical;if(b>d)return f.Horizontal}return f.None};d.prototype._sizeDrawer=function(a){this._adjustDrawerGrid();
var d=$(this.forwardArrowElement).outerWidth(),b=$(this.bottomArrowElement).outerHeight(),e=this._getExpandDirection(this._numberOfDrawerItems,this._adjustedNumberOfRows,this._adjustedNumberOfColumns);if(0===this._numberOfElementsBeforeCurrentWindow||a)this._numberOfElementsBeforeCurrentWindow=0,this._numberOfElementsAfterCurrentWindow=Math.ceil(this._numberOfDrawerItems/(e===f.Vertical?this._adjustedNumberOfColumns:this._adjustedNumberOfRows))-(e===f.Vertical?this._adjustedNumberOfRows:this._adjustedNumberOfColumns);
var h=Math.ceil(this.viewModel.buttonWidth*this._adjustedNumberOfColumns);e===f.Horizontal&&(h+=2*d);d=Math.ceil(this.viewModel.buttonHeight)*this._adjustedNumberOfRows;e===f.Vertical&&(d+=2*b);this._initializeControllerElements(e,a);this._collapsibleAreaWidth=h;this._collapsibleAreaHeight=d;this._sizeDrawerContent(e)};d.prototype._sizeDrawerContent=function(a){$(this.collapsibleAreaElement).width(this._collapsibleAreaWidth);$(this.collapsibleAreaElement).height(this._collapsibleAreaHeight);$(this.drawerElement).width(this._collapsibleAreaWidth);
$(this.drawerElement).height(this._collapsibleAreaHeight);this._numberOfDrawerItems>this._adjustedNumberOfColumns*this._adjustedNumberOfRows?a===f.Horizontal?($(this.drawerContentElement).width(Math.ceil(Math.ceil(this._numberOfDrawerItems/this._adjustedNumberOfRows)*this.viewModel.buttonWidth+$(this.forwardArrowElement).outerWidth())),$(this.drawerContentElement).height(this._collapsibleAreaHeight)):a===f.Vertical&&($(this.drawerContentElement).height(Math.ceil(Math.ceil(this._numberOfDrawerItems/
this._adjustedNumberOfColumns)*this.viewModel.buttonHeight+$(this.bottomArrowElement).outerHeight())),$(this.drawerContentElement).width(this._collapsibleAreaWidth)):($(this.drawerContentElement).width(this._collapsibleAreaWidth),$(this.drawerContentElement).height(this._collapsibleAreaHeight))};d.prototype._initializeControllerElements=function(a,d){a===f.None&&(this.viewModel.hasHorizontalControls.set(!1),this.viewModel.hasVerticalControls.set(!1),this.viewModel.backArrowVisible.set(!1),this.viewModel.forwardArrowVisible.set(!1),
this.viewModel.bottomArrowVisible.set(!1),this.viewModel.topArrowVisible.set(!1));a===f.Horizontal&&(this.viewModel.hasHorizontalControls.set(!0),this.viewModel.hasVerticalControls.set(!1),this.viewModel.backArrowVisible.set(!0),this.viewModel.forwardArrowVisible.set(!0),d&&(this.viewModel.backArrowEnabled.set(!1),this.viewModel.forwardArrowEnabled.set(!0),$(this.drawerElement).scrollLeft(0)));a===f.Vertical&&(this.viewModel.hasVerticalControls.set(!0),this.viewModel.hasHorizontalControls.set(!1),
this.viewModel.topArrowVisible.set(!0),this.viewModel.bottomArrowVisible.set(!0),d&&(this.viewModel.topArrowEnabled.set(!1),this.viewModel.bottomArrowEnabled.set(!0),$(this.drawerElement).scrollTop(0)))};d.prototype._enableDisableScrollArrows=function(a,d){a===f.Horizontal?(d===l.Forward?(this._numberOfElementsAfterCurrentWindow-=this._adjustedNumberOfColumns,this._numberOfElementsBeforeCurrentWindow+=this._adjustedNumberOfColumns):(this._numberOfElementsAfterCurrentWindow+=this._adjustedNumberOfColumns,
this._numberOfElementsBeforeCurrentWindow-=this._adjustedNumberOfColumns),0>this._numberOfElementsAfterCurrentWindow&&(this._numberOfElementsBeforeCurrentWindow+=this._numberOfElementsAfterCurrentWindow,this._numberOfElementsAfterCurrentWindow=0),0<this._numberOfElementsBeforeCurrentWindow?this.viewModel.backArrowEnabled.set(!0):this.viewModel.backArrowEnabled.set(!1),0<this._numberOfElementsAfterCurrentWindow?this.viewModel.forwardArrowEnabled.set(!0):this.viewModel.forwardArrowEnabled.set(!1)):
(d===l.Bottom?(this._numberOfElementsAfterCurrentWindow-=this._adjustedNumberOfRows,this._numberOfElementsBeforeCurrentWindow+=this._adjustedNumberOfRows):(this._numberOfElementsAfterCurrentWindow+=this._adjustedNumberOfRows,this._numberOfElementsBeforeCurrentWindow-=this._adjustedNumberOfRows),0<this._numberOfElementsBeforeCurrentWindow?this.viewModel.topArrowEnabled.set(!0):this.viewModel.topArrowEnabled.set(!1),0<this._numberOfElementsAfterCurrentWindow?this.viewModel.bottomArrowEnabled.set(!0):
this.viewModel.bottomArrowEnabled.set(!1))};d.prototype.handleScrollForward=function(a,d,b){a=$(this.drawerElement);a.scrollLeft(a.scrollLeft()+$(this.drawerElement).width()-2*$(this.backArrowElement).width());this._enableDisableScrollArrows(f.Horizontal,l.Forward);$(this.forwardArrowElement).blur()};d.prototype.handleScrollBack=function(a,d,b){a=$(this.drawerElement);a.scrollLeft(a.scrollLeft()-$(this.drawerElement).width()+2*$(this.forwardArrowElement).width());this._enableDisableScrollArrows(f.Horizontal,
l.Back);$(this.backArrowElement).blur()};d.prototype.handleScrollTop=function(a,d,b){a=$(this.drawerElement);a.scrollTop(a.scrollTop()-$(this.drawerElement).height()+2*$(this.bottomArrowElement).height());this._enableDisableScrollArrows(f.Vertical,l.Top);$(this.topArrowElement).blur()};d.prototype.handleScrollBottom=function(a,d,b){a=$(this.drawerElement);a.scrollTop(a.scrollTop()+$(this.drawerElement).height()-2*$(this.topArrowElement).height());this._enableDisableScrollArrows(f.Vertical,l.Bottom);
$(this.bottomArrowElement).blur()};return d}(e.framework.ui.ViewBase);h.BasemapSwitcherViewControllerView=b})(h.basemap||(h.basemap={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);return b}(e.framework.ui.ViewBase);h.BasemapView=f})(h.basemap||(h.basemap={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(m){var f=function(l){function b(){l.apply(this,arguments);this.targetCommandSettings={};this._bufferWkid=-1;this._bufferSpatialReference=null;this._geodesic=!0;this._extentExpansionFactor=1.25;this._statusMsgTimers={};this.DEFAULT_NUM_FEATURES_WARNING_THRESHOLD=250;this.BUFFERING_STATUS_DISPLAY_DELAY=300}__extends(b,l);b.prototype.initialize=function(a){l.prototype.initialize.call(this,a);this._bufferWkid=a&&a.bufferProjectionWkid&&""!=
a.bufferProjectionWkid?parseInt(a.bufferProjectionWkid,10):-1;this._geodesic=void 0!=a.geodesic?!!a.geodesic:-1===this._bufferWkid?!0:!1;-1!==this._bufferWkid&&(this._bufferSpatialReference=new esri.SpatialReference(this._bufferWkid));this._bufferLayerId=a.bufferLayerName?a.bufferLayerName:"Buffering";this._lineColor=a.lineColor?new esri.Color(a.lineColor):new esri.Color("#cf4c40");this._fillColor=a.fillColor?new esri.Color(a.fillColor):new esri.Color("#cf4c40");this._numFeaturesWarningThreshold=
void 0!=a.numFeaturesWarningThreshold?parseInt(a.numFeaturesWarningThreshold,10):this.DEFAULT_NUM_FEATURES_WARNING_THRESHOLD;if(this.app.map&&this.app.map.loaded)this.onMapLoaded();else this.app.event("MapLoadedEvent").once(this,this.onMapLoaded)};b.prototype.registerCommands=function(){this.app.command("ActivateBuffering").register(this,this.executeActivateBuffering);this.app.command("DeactivateBuffering").register(this,this.executeDeactivateBuffering);this.app.command("BufferGeometry").register(this,
this.executeBufferGeometry,this.canExecuteBufferGeometry);this.app.command("IdentifyBufferedGeometry").register(this,this.executeIdentifyBufferedGeometry,this.canExecuteIdentifyBufferedGeometry);this.app.command("IdentifyBufferedFeature").register(this,this.executeIdentifyBufferedFeature,this.canExecuteIdentifyBufferedFeature);this.app.command("IdentifyBufferedFeatureSet").register(this,this.executeIdentifyBufferedFeatureSet,this.canExecuteIdentifyBufferedFeatureSet);this.app.command("IdentifyBufferedFeatureSetCollection").register(this,
this.executeIdentifyBufferedFeatureSetCollection,this.canExecuteIdentifyBufferedFeatureSetCollection)};b.prototype.subscribeEvents=function(){this.app.event("BufferDistanceChangedEvent").subscribe(this,this.handleBufferDistanceChangedEvent)};b.prototype.onMapLoaded=function(){this.registerCommands();this.subscribeEvents();var a=this.app.map.spatialReference;this._geodesic=void 0!=a.wkid&&h.infrastructure.buffer.BufferUtils.isGeographicWkid(a.wkid)?!0:this._geodesic;this._bufferSpatialReference||(this._bufferSpatialReference=
a)};b.prototype.executeActivateBuffering=function(a){this._setCmdBufferStatusAndRaiseEvent(a,!0)};b.prototype.executeDeactivateBuffering=function(a){this._setCmdBufferStatusAndRaiseEvent(a,!1)};b.prototype.handleBufferDistanceChangedEvent=function(a){if(a&&a.targetCommands)for(var d=0;d<a.targetCommands.length;d++){var g=a.targetCommands[d],n=this.targetCommandSettings[g];n?(n.bufferDistance=a.distance,n.bufferUnit=a.unit.config):n=this._createEntryForTargetCommand(g,a.distance,a.unit.config);this._updateTargetCommandToolStatusMessages(g,
n)}};b.prototype.executeBufferGeometry=function(a){var d=this;if(this._performBufferOperation(a)){var g=void 0==a.bufferId?e.framework.utils.alphaNumericToken():a.bufferId;this._addBufferingStatusMsg(g);h.infrastructure.buffer.BufferUtils.bufferGeometry(this.app,a).then(function(n){d._processBufferResults(n,a);d._removeBufferingStatusMsg(g)},function(n){d._reportBufferingError(n,a.errback);d._removeBufferingStatusMsg(g)})}};b.prototype.executeBufferGeometries=function(a){var d=this;if(this._performBufferOperation(a)){var g=
function(){var g=void 0==a.bufferId?e.framework.utils.alphaNumericToken():a.bufferId;d._addBufferingStatusMsg(g);h.infrastructure.buffer.BufferUtils.bufferGeometries(d.app,a).then(function(b){d._processBufferResults(b,a);d._removeBufferingStatusMsg(g)},function(b){d._reportBufferingError(b,a.errback);d._removeBufferingStatusMsg(g)})};a.geometries.length>this._numFeaturesWarningThreshold?this.app.command("Confirm").execute(this.app.getResource(this.libraryId,"language-buffer-excess-features-warning").format(a.geometries.length),
null,function(a){a&&g()}):g()}};b.prototype.canExecuteBufferGeometry=function(a){return!!a.geometry&&h.infrastructure.GeometryUtils.isValidGeometry(a.geometry)&&(a.bufferUnit&&null!=a.bufferDistance&&!isNaN(Number(a.bufferDistance))||!!a.sourceCommand)};b.prototype.executeIdentifyBufferedGeometry=function(a){a&&this._showBufferOptionsAndExecuteBufferGeometry("IdentifyBufferedGeometry",a)};b.prototype.canExecuteIdentifyBufferedGeometry=function(a){return!!a&&h.infrastructure.GeometryUtils.isValidGeometry(a)};
b.prototype.executeIdentifyBufferedFeature=function(a){(a=a instanceof esri.Graphic?a.geometry:a&&a.esriFeature.get()?a.esriFeature.get().geometry:null)&&this._showBufferOptionsAndExecuteBufferGeometry("IdentifyBufferedFeature",a)};b.prototype.canExecuteIdentifyBufferedFeature=function(a){var d=null;a&&a instanceof esri.Graphic?d=a.geometry:a&&a instanceof h.infrastructure.Feature&&a.esriFeature&&a.esriFeature.get()&&(d=a.esriFeature.get().geometry);return!!d&&h.infrastructure.GeometryUtils.isValidGeometry(d)};
b.prototype.executeIdentifyBufferedFeatureSet=function(a){var d=null;"string"===typeof a&&(a=this.app.featureSetManager.getCollectionById(a));a instanceof h.infrastructure.FeatureSetCollection&&(d=a.featureSets.get().filter(function(a){return a.isSelectedInCollection.get()})[0]||a.featureSets.get()[0]||null);a instanceof h.infrastructure.FeatureSet&&(d=a);d?(a=this._retrieveGeometries(d),a.length&&this._showBufferOptionsAndExecuteBufferGeometries("IdentifyBufferedFeatureSet",a)):(a=this.app.getResource(this.libraryId,
"language-buffer-error-identify-buffered-feature-set"),this._reportBufferingError(this._generateErrorObjFromString(a,"IdentifyBufferedFeatureSet")))};b.prototype.canExecuteIdentifyBufferedFeatureSet=function(a){return a&&"string"===typeof a?!!this.app.featureSetManager.getCollectionById(a):!!a};b.prototype.executeIdentifyBufferedFeatureSetCollection=function(a){(a="string"===typeof a?this.app.featureSetManager.getCollectionById(a):a)?(a=this._retrieveGeometries(a),a.length&&this._showBufferOptionsAndExecuteBufferGeometries("IdentifyBufferedFeatureSetCollection",
a)):(a=this.app.getResource(this.libraryId,"language-buffer-error-identify-buffered-feature-set-collection"),this._reportBufferingError(this._generateErrorObjFromString(a,"IdentifyBufferedFeatureSetCollection")))};b.prototype.canExecuteIdentifyBufferedFeatureSetCollection=function(a){return a&&"string"===typeof a?!!this.app.featureSetManager.getCollectionById(a):!!a};b.prototype._createEntryForTargetCommand=function(a,d,g,n){if(a&&!this.targetCommandSettings[a]){var b={};b.isActive=!!n;b.bufferDistance=
d||null;b.bufferUnit=g||null;return this.targetCommandSettings[a]=b}};b.prototype._performBufferOperation=function(a){if(this._processBufferArgs(a))return!0;var d=this.targetCommandSettings[a.sourceCommand];if(!d||d&&!d.isActive)return d={},d.bufferId=a.bufferId,d.sourceCommand=a.sourceCommand,d.geometry=a.geometry,d.geometries=a.geometries,a.callback(d),!1;d=this.app.getResource(this.libraryId,"language-buffer-error-process-args");this._reportBufferingError(this._generateErrorObjFromString(d,a.sourceCommand,
a.bufferId),a.errback)};b.prototype._processBufferArgs=function(a){a.bufferSpatialReference=a.bufferSpatialReference||this._bufferSpatialReference;a.outSpatialReference=this.app.map.spatialReference;a.geodesic=void 0!=a.geodesic?a.geodesic:this._geodesic;a.bufferId=void 0==a.bufferId?e.framework.utils.alphaNumericToken():a.bufferId;if((void 0==a.bufferDistance||void 0==a.bufferUnit)&&a.sourceCommand){var d=this.targetCommandSettings[a.sourceCommand];d&&d.isActive&&void 0!=d.bufferDistance&&d.bufferUnit&&
(a.bufferDistance=d.bufferDistance,a.bufferUnit=d.bufferUnit);if(d&&d.isActive&&(void 0==d.bufferDistance||void 0==d.bufferUnit))return!1}return void 0==a.bufferDistance||void 0==a.bufferUnit?!1:!0};b.prototype._processBufferResults=function(a,d){var g=this,n=a.geometry||a.geometries,b=function(n){if("point"!==n.type){var b=n.getExtent().expand(g._extentExpansionFactor);g.app.map.extent.contains(b)||g.app.command("ZoomToExtent").execute(b)}var q=g._addGeometryMarkup(n);$(document.body).one("mouseup touchend keydown",
function(a){return g._removeGeometryMarkup(q)});d.callback&&dojo.isFunction(d.callback)&&d.callback(a);g.app.event("BufferingCompletedEvent").publish(a)};dojo.isArray(n)?1>n.length?this._reportBufferingError(this._generateErrorObjFromString(this.app.getResource(this.libraryId,"language-buffer-error-invalid-results"),d.sourceCommand,d.bufferId),d.errback):1===n.length?b(n[0]):h.infrastructure.GeometryUtils.unionGeometries(n).then(function(d){a.geometry=d;b(d)},function(a){g._reportBufferingError(g._generateErrorObjFromString(g.app.getResource(g.libraryId,
"language-buffer-error-union-operation"),d.sourceCommand,d.bufferId),d.errback)}):b(n)};b.prototype._setCmdBufferStatusAndRaiseEvent=function(a,d){var g=this,n=function(a){var n=g.targetCommandSettings[a];n?n.isActive=d:n=g._createEntryForTargetCommand(a,null,null,!0);g._updateTargetCommandToolStatusMessages(a,n)};if("string"===typeof a)n(a);else if(a.length)a.forEach(function(a){return n(a)});else return;d?this.app.event("BufferingActivatedEvent").publish(a):this.app.event("BufferingDeactivatedEvent").publish(a)};
b.prototype._retrieveGeometries=function(a){var d=[],g=[];a instanceof h.infrastructure.FeatureSet&&g.push(a);a instanceof h.infrastructure.FeatureSetCollection&&(g=a.featureSets.get());for(a=0;a<g.length;a++)for(var n=g[a],b=0;b<n.features.length();b++){var e=n.features.getAt(b);(e=e.esriFeature.get()?e.esriFeature.get().geometry:null)&&h.infrastructure.GeometryUtils.isValidGeometry(e)&&d.push(e)}return d};b.prototype._showBufferOptionsAndExecuteBufferGeometry=function(a,d){this._showBufferOptionsAndExecuteBufferGeometries(a,
[d])};b.prototype._showBufferOptionsAndExecuteBufferGeometries=function(a,d){var g=this,n={targetCommand:a,delegateFunction:function(n){n={};n.geometries=d;n.callback=function(a){return g._performIdentifyForGeometry(a,!0)};n.sourceCommand=a;n.unionResults=!0;g.executeActivateBuffering(a);g.executeBufferGeometries(n);g.app.command("DeactivateBufferingAndDismissOptions").execute(a)}};this.app.command("DisplayBufferOptions").execute(n)};b.prototype._performIdentifyForGeometry=function(a,d){var g=this;
void 0===d&&(d=!1);var n=a.geometry||(a.geometries&&1===a.geometries.length?a.geometries[0]:null);if(n){var b={};b.geometry=n;b.source="Identify";b.layerRestriction=function(a){return a.identifiable};b.doNotBuffer=d;e.framework.ui.animation.runWhenIdle(function(){g.app.command("Identify").execute(b)})}};b.prototype._generateErrorObjFromString=function(a,d,g){var n={};n.sourceCommand=d;n.error=Error(a);void 0!=g&&(n.bufferId=g);return n};b.prototype._reportBufferingError=function(a,d){this.app.event("BufferingErrorEvent").publish(a);
d&&dojo.isFunction(d)&&d(a)};b.prototype._updateTargetCommandToolStatusMessages=function(a,d){var g=this,n=this._getToolsByCommand(a);if(n&&n.length){var b=function(a){a.isActive&&g.app.command("UpdateStatus").execute(a.statusText)},e=function(a){a.originalStatusText&&(a.statusText=a.originalStatusText,delete a.originalStatusText,b(a))};n.forEach(function(a){if(d.isActive)if(null!=d.bufferDistance&&d.bufferUnit){a.originalStatusText||(a.originalStatusText=a.statusText);var n=h.infrastructure.buffer.BufferUtils.getUnitDescFromConfig(d.bufferUnit).displayName,
n=g.app.getResource(g.libraryId,"language-buffer-active-tool-addon-message").format(d.bufferDistance,n);a.statusText="{0} {1}".format(a.originalStatusText,n);b(a)}else e(a);else e(a)})}};b.prototype._getToolsByCommand=function(a){var d=[],g=this.app.toolRegistry.tools,n;for(n in g){if(!g.hasOwnProperty(n))return;var b=g[n];b.command===a&&d.push(b)}return d};b.prototype._addGeometryMarkup=function(a){var d=new esri.Graphic;d.setGeometry(a);"polygon"===d.geometry.type||"extent"===d.geometry.type?(a=
h.infrastructure.SymbolUtils.defaultFillSymbol(),a.setColor(this._fillColor),a.color.a=0.3,a.outline.setColor(this._lineColor)):(a="polyline"===d.geometry.type?h.infrastructure.SymbolUtils.defaultLineSymbol():h.infrastructure.SymbolUtils.defaultMarkerSymbol(),a.setColor(this._lineColor));d.setSymbol(a);h.infrastructure.GraphicUtils.addGraphicToLayer(d,this._bufferLayerId,this.app);return d};b.prototype._removeGeometryMarkup=function(a){var d=this.app.map.getLayer(this._bufferLayerId);d&&a&&d.remove(a)};
b.prototype._addBufferingStatusMsg=function(a){if(a){var d=setTimeout(dojo.hitch(this,function(){var d=this.app.getResource(this.libraryId,"language-buffer-status-msg"),d=new e.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(d);d.id=a;d.showBusyIcon=!0;d.timeoutMS=0;this.app.command("AddStatus").execute(d)}),this.BUFFERING_STATUS_DISPLAY_DELAY);this._statusMsgTimers[a]=d}};b.prototype._removeBufferingStatusMsg=function(a){if(a){var d=this._statusMsgTimers[a];d&&(clearTimeout(d),
this.app.command("RemoveStatus").execute(a),delete this._statusMsgTimers[a])}};return b}(e.framework.application.ModuleBase);m.BufferModule=f})(f.buffer||(f.buffer={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(m){var f=function(e){function b(a,d){e.call(this,a,d);this.childViewModels=[];this.bufferUnits=new ObservableCollection([]);this._getSupportedBufferUnitLanguageResources()}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);this._setBufferUnits(a.bufferUnits);this._setDefaultBufferUnit(a.defaultBufferUnit);this.DEFAULT_BUFFER_DISTANCE=isNaN(parseInt(a.defaultBufferDistance,10))?0:parseInt(a.defaultBufferDistance,
10);this.bufferUnits.length()&&this.DEFAULT_BUFFER_UNIT?this.subscribeEvents():this.app.trace.error(this.app.getResource(this.libraryId,"language-buffer-config-units-error"))};b.prototype.subscribeEvents=function(){this.app.event("BufferingErrorEvent").subscribe(this,this.handleBufferingErrorEvent)};b.prototype.registerView=function(a,d){if(!a||!d||!d.length||this.childViewModels.filter(function(d){return d.viewId===a}).length)return!1;var g={};g.viewId=a;g.bufferUnits=this.bufferUnits;g.targetCommands=
d.slice(0);g.bufferDistance=new Observable(this.DEFAULT_BUFFER_DISTANCE?this.DEFAULT_BUFFER_DISTANCE:null);g.selectedBufferUnit=new Observable(this.DEFAULT_BUFFER_UNIT.config);g.inputError=new Observable("");g.bufferingError=new Observable("");this.childViewModels.push(g)};b.prototype.validateAndProcessInput=function(a){var d=this.getViewModelForView(a);if(!d)return a=this.app.getResource(this.libraryId,"language-buffer-error-input-validation").format(a),this.app.trace.error(a),d.bufferingError.set(a),
!1;a="number"===typeof d.bufferDistance.get()?d.bufferDistance.get():d.bufferDistance.get()?h.infrastructure.FormatUtils.parseNumber(d.bufferDistance.get()):null;if(null===a||isNaN(a)||0===a)return d.inputError.set(this.app.getResource(this.libraryId,"language-buffer-invalid-distance")),!1;d.inputError.set("");d.bufferingError.set("");d.bufferDistance.set(h.infrastructure.FormatUtils.formatNumber(a));this._raiseChangedBufferDistanceEvent(d);return!0};b.prototype.getViewModelForView=function(a){var d=
this.childViewModels.filter(function(d){return d.viewId===a});if(!d.length)return this.app.trace.error("BufferOptionsViewModel: Could not find child view model for view with id {0}".format(a)),null;1<d.length&&this.app.trace.warning("Multiple child view models registered for view with id {0}. Please check your configuration. Using first instance of view model.".format(a));return d[0]};b.prototype.getViewModelForCommand=function(a){var d=this.childViewModels.filter(function(d){return-1<d.targetCommands.indexOf(a)});
return d.length?d[0]:null};b.prototype.handleBufferingErrorEvent=function(a){if(a&&a.sourceCommand){var d=this.getViewModelForCommand(a.sourceCommand);if(d){var g=a&&a.error?a.error.message||a.error.name:"";(a=a.error.details)&&a.length&&(g=g.concat(" ",a.join(" ")));g=g?this.app.getResource(this.libraryId,"language-buffer-operation-error").format(g):this.app.getResource(this.libraryId,"language-buffer-error-details-unavailable");d.bufferingError.set(g);d=this.app.viewManager.getViewById(d.viewId);
this.app.viewManager.activateView(d)}}};b.prototype.generateBufferDistanceChangedEventArgs=function(a,d){var g={};g.distance=h.infrastructure.FormatUtils.parseNumber(a.bufferDistance.get());g.unit=h.infrastructure.buffer.BufferUtils.getUnitDescFromConfig(a.selectedBufferUnit.get());g.targetCommands=d&&d.length?d:a.targetCommands.slice(0);return g};b.prototype._raiseChangedBufferDistanceEvent=function(a){a=this.generateBufferDistanceChangedEventArgs(a);this.app.event("BufferDistanceChangedEvent").publish(a)};
b.prototype._getSupportedBufferUnitLanguageResources=function(){for(var a in h.infrastructure.buffer.BufferUtils.SUPPORTED_BUFFER_UNITS)h.infrastructure.buffer.BufferUtils.SUPPORTED_BUFFER_UNITS.hasOwnProperty(a)&&(h.infrastructure.buffer.BufferUtils.SUPPORTED_BUFFER_UNITS[a]={displayName:this.app.getResource(this.libraryId,"language-buffer-unit-"+a.toLowerCase()+"-display-name"),config:a})};b.prototype._setBufferUnits=function(a){var d=this;a&&a.length&&a.forEach(function(a){var n=h.infrastructure.buffer.BufferUtils.SUPPORTED_BUFFER_UNITS[a];
n?d.bufferUnits.addItem(n):d.app.trace.warning(d.app.getResource(d.libraryId,"language-buffer-invalid-unit-warning").format(a))})};b.prototype._setDefaultBufferUnit=function(a){var d;a&&(d=h.infrastructure.buffer.BufferUtils.SUPPORTED_BUFFER_UNITS[a]);if(!d)if(this.bufferUnits.length())d=this.bufferUnits.getAt(0);else{this.app.trace.warning(this.app.getResource(this.libraryId,"language-buffer-invalid-unit-warning").format(a));return}this.DEFAULT_BUFFER_UNIT=d};return b}(e.framework.ui.ViewModelBase);
m.BufferOptionsViewModel=f})(f.buffer||(f.buffer={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this._currentTargetCommands=[]}__extends(b,e);b.prototype.attach=function(a){if(this.configuration&&this.configuration.targetCommands&&this.configuration.targetCommands.length){if(this.masterViewModel=a,a.registerView(this.id,this.configuration.targetCommands),a=a.getViewModelForView(this.id))e.prototype.attach.call(this,a),this.registerCommands()}else this.app.trace.error(this.app.getResource(this.libraryId,
"language-buffer-target-modules-error"))};b.prototype.registerCommands=function(){this.app.command("DisplayBufferOptions").register(this,this.executeDisplayBufferOptions,this.canExecuteDisplayBufferOptions);this.app.command("ActivateBufferingAndDisplayOptions").register(this,this.executeActivateBufferingAndDisplayOptions,this.canExecuteDisplayBufferOptions);this.app.command("DeactivateBufferingAndDismissOptions").register(this,this.executeDeactivateBufferingAndDismissOptions,this.canExecuteDisplayBufferOptions)};
b.prototype.executeDisplayBufferOptions=function(a){var d="string"===typeof a?a:a.targetCommand;(a="string"===typeof a?null:a.delegateFunction)&&dojo.isFunction(a)&&(this._oneTimeCommandDelegateParams={},this._oneTimeCommandDelegateParams.delegateFunction=a,this._oneTimeCommandDelegateParams.targetCommand=d);this._currentTargetCommands.push(d);this.app.viewManager.activateView(this)};b.prototype.executeActivateBufferingAndDisplayOptions=function(a){var d="string"===typeof a?a:a.targetCommand;this.canExecuteDisplayBufferOptions(d)&&
(this.app.command("ActivateBuffering").execute(d),this.app.command("DisplayBufferOptions").execute(a))};b.prototype.executeDeactivateBufferingAndDismissOptions=function(a){a="string"===typeof a?a:a.targetCommand;this.canExecuteDisplayBufferOptions(a)&&(this.app.command("DeactivateBuffering").execute(a),this.dismissBufferOptions(a))};b.prototype.canExecuteDisplayBufferOptions=function(a){return a?(a="string"===typeof a?a:a.targetCommand)?this.canDisplayOptionsForTargetCommand(a):!1:!1};b.prototype.canDisplayOptionsForTargetCommand=
function(a){var d=this.viewModel.targetCommands;return d&&d.length?-1<d.indexOf(a):!1};b.prototype.validateAndApplyInput=function(){this.masterViewModel.validateAndProcessInput(this.id)};b.prototype.handleContinueButtonClick=function(){this.masterViewModel.validateAndProcessInput(this.id)&&(this._executeOneTimeCommandDelegate(),this.dismissBufferOptions())};b.prototype.handleCancelButtonClick=function(){this._oneTimeCommandDelegateParams&&(this._oneTimeCommandDelegateParams=null);var a=this._currentTargetCommands.length?
this._currentTargetCommands[this._currentTargetCommands.length-1]:null;a&&this.app.command("DeactivateBufferingAndDismissOptions").execute(a)};b.prototype.handleClearButtonClick=function(){this.viewModel.bufferingError.set("");this.viewModel.bufferDistance.set(null);this.masterViewModel._raiseChangedBufferDistanceEvent(this.viewModel)};b.prototype.dismissBufferOptions=function(a){a&&(a=this._currentTargetCommands.indexOf(a),-1<a&&this._currentTargetCommands.splice(a,1));0===this._currentTargetCommands.length&&
this.isActive&&this.app.viewManager.deactivateView(this);(a=this.viewModel.targetCommands)&&a.length&&(a=this.masterViewModel.generateBufferDistanceChangedEventArgs(this.viewModel),this.app.event("BufferOptionsDismissedEvent").publish(a))};b.prototype._executeOneTimeCommandDelegate=function(){if(this._oneTimeCommandDelegateParams&&dojo.isFunction(this._oneTimeCommandDelegateParams.delegateFunction)){var a=this.masterViewModel.generateBufferDistanceChangedEventArgs(this.viewModel,[this._oneTimeCommandDelegateParams.targetCommand]);
this._oneTimeCommandDelegateParams.delegateFunction(a);this._oneTimeCommandDelegateParams=null}};return b}(e.framework.ui.ViewBase);h.BufferOptionsView=f})(h.buffer||(h.buffer={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(m){var f=function(l){function b(){l.apply(this,arguments);this.clusterLayers=new ObservableCollection(null)}__extends(b,l);b.prototype.initialize=function(a){var d=this;this.app.command("AddClusterLayer").register(this,this._addClusterLayer,this._canExecuteAddClusterLayer);this.app.command("RemoveClusterLayer").register(this,this._removeClusterLayer,this._canExecuteRemoveClusterLayer);if(this.app.map&&this.app.map.loaded)this._checkIfClustersAreEnabledByDefault(this.app.site);
else this.app.event("MapLoadedEvent").once(this,function(a){d._checkIfClustersAreEnabledByDefault(d.app.site)});this.app.event("MapServiceRemovedEvent").subscribe(this,function(a){a.featureClustering&&a.featureClustering.enabled&&d.app.command("RemoveClusterLayer").execute({gcxLayer:a.layers[0]})})};b.prototype._addClusterLayer=function(a){a=this._returnGeocortexLayer(a);if(a.type!==e.essentials.LayerType.FEATURE_LAYER)this.app.trace.info("Can only create a cluster layer from a feature layer.");else{this.app.command("RemoveVisualization").execute({gcxLayer:a});
var d=new h.infrastructure.ClusterLayer(a,this.app);a.mapService.featureClustering.enabled=!0;var g;for(g=0;g<this.app.map.graphicsLayerIds.length&&this.app.map.graphicsLayerIds[g]!==a.mapService.id;g++);this.app.map.addLayer(d,g+1);this.clusterLayers.addItem(d);this.app.command("AddClusterLayer").raiseCanExecuteChanged();this.app.command("RemoveClusterLayer").raiseCanExecuteChanged();this.app.event("ClusterLayerAddedEvent").publish(d);this.app.event("LayerVisualizationChangedEvent").publish(a)}};
b.prototype._canExecuteAddClusterLayer=function(a){return(a=this._returnGeocortexLayer(a))&&a.mapService&&a.mapService.featureClustering?!a.mapService.featureClustering.enabled:!1};b.prototype._removeClusterLayer=function(a){if(a=this._returnGeocortexLayer(a)){a.mapService.featureClustering.enabled=!1;for(var d=0;d<this.clusterLayers.getLength();d++){var g=this.clusterLayers.getAt(d);g.id===a.mapService.id+"-cluster"&&(this.clusterLayers.removeItem(g),this.app.event("ClusterLayerRemovedEvent").publish(g),
this.app.event("LayerVisualizationChangedEvent").publish(a))}this.app.command("AddClusterLayer").raiseCanExecuteChanged();this.app.command("RemoveClusterLayer").raiseCanExecuteChanged()}};b.prototype._canExecuteRemoveClusterLayer=function(a){return(a=this._returnGeocortexLayer(a))&&a.mapService&&a.mapService.featureClustering?a.mapService.featureClustering.enabled:!1};b.prototype._canExecuteSetActiveClusterLayer=function(a){return!this._returnGeocortexLayer(a)||0>=this.clusterLayers.getLength()?!1:
!0};b.prototype._checkIfClustersAreEnabledByDefault=function(a){for(var d=0;d<a.essentialsMap.mapServices.length;d++){var g=a.essentialsMap.mapServices[d];if(g.featureClustering&&g.featureClustering.enabled)for(var n=0;n<g.layers.length;n++)this._addClusterLayer({gcxLayer:g.layers[n]})}};b.prototype._returnGeocortexLayer=function(a){return"string"===typeof a?this.app.site&&this.app.site.essentialsMap?this.app.site.essentialsMap.allLayers().filter(function(d){return a===d.mapService.id})[0]:null:a.gcxLayer};
return b}(e.framework.application.ModuleBase);m.ClusterLayerModule=f})(f.clusterLayers||(f.clusterLayers={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);return b}(e.framework.ui.ViewBase);h.ClusterLayerView=f})(h.clusterLayers||(h.clusterLayers={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this.clusterLayers=new ObservableCollection(null);this.selectedClusterLayer=new Observable(null);this.selectedGeocortexLayer=new Observable(null)}__extends(b,e);b.prototype.initialize=function(a){var d=this;e.prototype.initialize.call(this,a);this.app.event("ClusterLayerAddedEvent").subscribe(this,function(a){d.clusterLayers.addItem(a)});this.app.event("ClusterLayerRemovedEvent").subscribe(this,
function(a){d.clusterLayers.removeItem(a);d.selectedClusterLayer.get()===a&&d.selectedClusterLayer.set(null)});this.app.event("VisualizationViewActivatedEvent").subscribe(this,function(a){d.selectedGeocortexLayer.set(a);var n=d.clusterLayers.get().filter(function(d){return d.gcxLayer===a});0<n.length&&d.selectedClusterLayer.set(n[0])});this.app.event("LayerVisualizationChangedEvent").subscribe(this,function(a){var n=d.clusterLayers.get().filter(function(d){return d.gcxLayer===a});0<n.length&&d.selectedClusterLayer.set(n[0])});
this.app.event("ClusterLayerOptionsChangedEvent").subscribe(this,function(){d.selectedClusterLayer.get().recluster()})};return b}(e.framework.ui.ViewModelBase);h.ClusterLayerViewModel=f})(h.clusterLayers||(h.clusterLayers={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(m){var f=function(e){function b(a,d){e.call(this,a,d);this.displayName=this.app.getResource(d,"language-clustering-name")}__extends(b,e);b.prototype.canSupport=function(a){return a&&a.mapService?a.mapService.featureClustering&&a.mapService.featureClustering.userCanToggle:!1};b.prototype.handleCurrentLayerChanged=function(a){a.mapService&&a.mapService.featureClustering?(this.isEnabled.set(a.mapService.featureClustering.enabled),this.isSupported.set(a.mapService.featureClustering.userCanToggle),
this.app.event("LayerVisualizationChangedEvent").publish(a)):(this.isEnabled.set(!1),this.isSupported.set(!1))};b.prototype.handleActivate=function(){this.app.command("AddClusterLayer").execute({gcxLayer:this.currentLayer.get()})};b.prototype.handleApply=function(){this.app.event("ClusterLayerOptionsChangedEvent").publish()};return b}(e.infrastructure.visualization.VisualizationProviderBase);m.ClusterLayerVisualizationProvider=f})(f.clusterLayers||(f.clusterLayers={}))})(e.modules||(e.modules={}))})(e.mapping||
(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(m){var f=function(e){function b(a,d,g){var n=this;e.call(this,a,d);this._disabled=!1;this._supportedDisplayTypeConfig=["dd","ddm","dms","xy"];this.mapCoordinateDataModelId=g;this.app.coordinatesManager.getCoordinatesModel(this.mapCoordinateDataModelId).then(function(a){return n.initializeCoordinateDataModel(a)},function(a){return n._handleCoordinateModelError(a)})}__extends(b,e);b.prototype.initializeCoordinateDataModel=function(a){var d=
this;if(a)if(this._dataModel=a,a=function(){d._processCoordinatesDataModel();d.app.coordinatesManager.registerModel(d._dataModel,!0)},this.app.map&&this.app.map.loaded)a();else this.app.event("MapLoadedEvent").once(this,a)};b.prototype._processCoordinatesDataModel=function(){var a=this;if(this._dataModel){var d=this._dataModel.configuration,g=function(d,g,b,e){g&&"latlon"===g.trim().toLowerCase()&&(g="dd");if(d&&g&&0<=a._supportedDisplayTypeConfig.indexOf(g.trim())&&(b||e)){var m={};m.displayName=
d.trim();m.output=g.trim();if(b){if(m.wkid=b,"xy"!==g&&!h.infrastructure.buffer.BufferUtils.isGeographicWkid(b)){a.app.trace.error("Could not add coordinate system {0}. This coordinate system uses a geographic output type. Please configure a valid WKID for a geographic coordinate system.".format(d));return}}else e&&(m.wkt=e);a._dataModel.coordinateSystems.addItem(m)}else a.app.trace.error("Could not add coordinate system {0} due to a configuration error. Please check your configuration settings.".format(d))};
d.defaultCoordinateDisplayTypes&&d.defaultCoordinateDisplayTypes.length&&d.defaultCoordinateDisplayTypes.forEach(function(d){d=d.toLowerCase().trim();if(0<=a._supportedDisplayTypeConfig.indexOf(d)){var b=a._dataModel.defaultGcsWkid,e=a.getResource("language-map-coordinates-{0}".format(d.toUpperCase())),h=a.getResource("language-map-coordinates-WKID")+": "+b,m="";"xy"===d&&(b=a.app.map.spatialReference.wkid,m=a.getResource("language-map-coordinates-default-coordinate-system-label"),h=b?a.getResource("language-map-coordinates-WKID")+
": "+b:a.getResource("language-map-coordinates-WKT"));g(m+" "+h+" "+e,d,b,a.app.map.spatialReference.wkt)}});d.customCoordinateSystems&&d.customCoordinateSystems.length&&d.customCoordinateSystems.forEach(function(a){return g(a.displayName,a.output,a.wkid,a.wkt)});0===this._dataModel.coordinateSystems.length()?this._disabled=!0:(d.defaultGcsWkid&&!isNaN(parseInt(d.defaultGcsWkid,10))&&(this._dataModel.defaultGcsWkid=parseInt(d.defaultGcsWkid,10)),d.fractionalDigits&&!isNaN(parseInt(d.fractionalDigits,
10))&&(this._dataModel.fractionalDigits=parseInt(d.fractionalDigits,10)),this._dataModel.currentCoordinateSystem.set(this._dataModel.coordinateSystems.getAt(0)),d.disableMouseLocationMonitoring||this._dataModel.isActive.bind(this,this._logCoordinates))}};b.prototype._logCoordinates=function(a){var d=this;this._disabled||(this._mouseMoveToken&&(this._mouseMoveToken.remove(),this._mouseMoveToken=null),this._keyboardMoveToken&&(this.app.event("EditVertexMovedEvent").unsubscribe(this._keyboardMoveToken),
this._keyboardMoveToken=null),a&&(this._keyboardMoveToken=this.app.event("EditVertexMovedEvent").subscribe(this,function(a){a.mapPoint&&d._dataModel.inputStream.set(a.mapPoint)}),this._mouseMoveToken=this.app.map.on("mouse-move",function(a){d.app.map.snappingManager?d.app.map.snappingManager.getSnappingPoint(a.screenPoint).then(function(n){n?d._dataModel.inputStream.set(n):d._dataModel.inputStream.set(a.mapPoint)},function(n){d._dataModel.inputStream.set(a.mapPoint)}):d._dataModel.inputStream.set(a.mapPoint)})))};
b.prototype._handleCoordinateModelError=function(a){this.app.trace.error("MapCoordinatesController: An error occurred while trying to retrieve the coordinatesModel {0}. Details of the error are: {1}".format(this.mapCoordinateDataModelId||"<unknown>",a.message))};return b}(e.framework.FrameworkObject);m.MapCoordinatesController=f})(f.map||(f.map={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.getStateFilter=function(){return{coordinateSystem:this.app.project.filter.coordinateSystem,isActive:!0}};b.prototype.exportState=function(){var a=this,d={coordinateSystem:null,isActive:!1};return Promise["try"](function(){a.app.command("_ExportCoordinatesState").execute(d);return d})};b.prototype.applyState=function(a){var d=this,g={state:a,completePromise:null};
return this.app.waitUntilAllLibrariesLoaded().then(function(){d.app.command("_ApplyCoordinatesState").execute(g);return g.completePromise})};return b}(e.framework.application.ModuleBase);h.CoordinatesModule=f})(h.coordinates||(h.coordinates={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.activated=function(){var a=this;!1!==this.viewModel.isEnabled.get()&&($(this.root).parent("[class*='top']").length&&(this.viewModel.isTop.set(!0),$(this.root).find(".arrow-closed").text(this.getResource("language-feature-coordinates-down-arrow")),$(this.root).find(".arrow-opened").text(this.getResource("language-feature-coordinates-up-arrow"))),$(this.root).parent("[class*='left']").length&&
this.viewModel.isLeft.set(!0),$(this.root).parent("[class*='right']").length&&this.viewModel.isRight.set(!0),$(this.root).parent("[class*='bottom']").length&&$(this.root).parent("[class*='right']").length&&$(".esriControlsBR").addClass("coordinate-attribution-override"),$(this.root).parent("[class*='bottom']").length&&this.viewModel.isBottom.set(!0),this.viewModel.coordinateSystemsLoaded.bind(this,function(d){return d?a.selectFirstInListOfCoordinateSystems():null}),this.app.command("ToggleMouseCoordinates").register(this,
function(){a.toggleCoordinatesActive()}),this.viewModel.coordinateSelectEnabled.bind(this,function(d){d?(a.app.event("FlyoutActivated").publish(a),d={view:a,onOtherInteracted:function(d){return a._onOtherInteracted(d)}},a.app.command("TapToDismiss").execute(d)):a.app.event("FlyoutDeactivated").publish(a)}))};b.prototype.toggleCoordinatesActive=function(a,d,g){!1==this.viewModel.isActive.get()?this.viewModel.startTracking():this.viewModel.stopTracking();this.viewModel.coordinateSelectEnabled.set(!1)};
b.prototype.toggleSelectContainer=function(a,d,g){this.viewModel.coordinateSelectEnabled.set(!this.viewModel.coordinateSelectEnabled.get());this.viewModel.isTop.get()||(a=$(this.root).find(".coords-select-item")[0],$(a).height())};b.prototype.changeCoordinateSystem=function(a,d,g){a=$(d.parentElement).index();$(d.parentElement.parentElement).children().children().removeClass("coords-select-item-selected");$(d).addClass("coords-select-item-selected");this.viewModel.currentCoordinateSystem.set(this.viewModel.coordinateSystems.getAt(a));
this.viewModel.coordinateSelectEnabled.set(!1)};b.prototype.selectFirstInListOfCoordinateSystems=function(){var a=$(this.root).find(".coords-select-item").get(0);$(a.firstElementChild).addClass("coords-select-item-selected")};b.prototype._onOtherInteracted=function(a){this.viewModel.coordinateSelectEnabled.set(!1)};return b}(e.framework.ui.ViewBase);h.CoordinatesView=f})(h.coordinates||(h.coordinates={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(m){var f=e.framework.utils.ArrayUtils,l=function(b){function a(a,g){b.call(this,a,g);this.coordinatesModel=new Observable(null);this.isEnabled=new Observable(!0);this.isActive=new Observable(!1);this.coordinateSystems=new ObservableCollection([]);this.currentCoordinateSystem=new Observable(null);this.coordinateSelectEnabled=new Observable(!1);this.coordinateSelectArrow=new Observable(null);this.xValue=new Observable(null);this.yValue=new Observable(null);
this.xValueType=new Observable(null);this.yValueType=new Observable(null);this.coordinateSystemsLoaded=new Observable(!1);this.isTop=new Observable(!1);this.isBottom=new Observable(!1);this.isLeft=new Observable(!1);this.isRight=new Observable(!1);this._openByDefault=!1;this._outPutStreamBindingToken=null;this.app.command("_ExportCoordinatesState").register(this,this._exportState);this.app.command("_ApplyCoordinatesState").register(this,this._applyState)}__extends(a,b);a.prototype.initialize=function(a){var g=
this;void 0==a.isEnabled||a.isEnabled?a.coordinatesModel?(this._openByDefault=!!a.openByDefault,this._initializePromise=this.app.coordinatesManager.getCoordinatesModel(a.coordinatesModel).then(function(a){return g._integrateCoordinatesModel(a)})["catch"](function(n){g.isEnabled.set(!1);g.app.trace.error("CoordinatesViewModel: Error Initializing ViewModel. Could not retrieve {0}. {1}".format(a.coordinatesModel,n.message));throw n;}),this.coordinateSelectArrow.syncTransform(this.coordinateSelectEnabled,
function(a){return g.isTop.get()?a?g.getResource("language-feature-coordinates-up-arrow"):g.getResource("language-feature-coordinates-down-arrow"):a?g.getResource("language-feature-coordinates-down-arrow"):g.getResource("language-feature-coordinates-up-arrow")})):this.app.trace.error("CoordinatesViewModel: Failed to initialize. A coordinatesModel must be specified in configuration."):this.isEnabled.set(!1)};a.prototype.startTracking=function(){var a=this.coordinatesModel.get();a&&(this.isActive.set(!0),
this._outPutStreamBindingToken=a.outputStream.bind(this,this._updateDisplaySettings))};a.prototype.stopTracking=function(){this.isActive.set(!1);var a=this.coordinatesModel.get();a&&this._outPutStreamBindingToken&&(a.outputStream.unbind(this._outPutStreamBindingToken),this._outPutStreamBindingToken=null)};a.prototype._updateDisplaySettings=function(a){a?(this.xValue.set(a.formattedLatitudeOrX),this.yValue.set(a.formattedLongitudeOrY)):(this.xValue.set(""),this.yValue.set(""))};a.prototype._integrateCoordinatesModel=
function(a){this.coordinatesModel.set(a);this.coordinateSystems.sync(a.coordinateSystems);this.currentCoordinateSystem.sync(a.currentCoordinateSystem);this.currentCoordinateSystem.bind(this,function(g){a.currentCoordinateSystem.get()!==g&&a.currentCoordinateSystem.set(g)});this.currentCoordinateSystem.bind(this,this._updateCoordinateSystemDisplay);this._openByDefault&&this.startTracking()};a.prototype._updateCoordinateSystemDisplay=function(a){this.coordinateSystemsLoaded.get()||this.coordinateSystemsLoaded.set(!0);
this.xValue.set("");this.yValue.set("");"xy"===a.output?(this.xValueType.set(this._getCoordinateResource("x")),this.yValueType.set(this._getCoordinateResource("y"))):(this.xValueType.set(this._getCoordinateResource("latitude-abbrev")+":"),this.yValueType.set(this._getCoordinateResource("longitude-abbrev")+":"))};a.prototype._getCoordinateResource=function(a){return h.infrastructure.coordinates.CoordinateUtils.getResource(this.app,a)};a.prototype._exportState=function(a){a.isActive=this.isActive.get();
var g=this.currentCoordinateSystem.get();g&&(a.coordinateSystem={wkid:g.wkid,wkt:g.wkt,output:g.output})};a.prototype._applyState=function(a){var g=this;a.completePromise=this._initializePromise.then(function(){a.state.isActive?g.startTracking():g.stopTracking();var n=a.state.coordinateSystem;if(n){var b=f.firstOrDefault(g.coordinateSystems.get(),function(a){return a.output===n.output&&a.wkid===n.wkid&&a.wkt===n.wkt});b&&g.currentCoordinateSystem.set(b)}})};return a}(e.framework.ui.ViewModelBase);
m.CoordinatesViewModel=l})(f.coordinates||(f.coordinates={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){var h=function(){function e(){}e.decodeArrayBuffer=function(b){var a=Math.ceil(3*b.length/4),a=new ArrayBuffer(a);this.decode(b,a);return a};e.decode=function(b,a){var d=this._keyStr.indexOf(b.charAt(b.length-1)),g=this._keyStr.indexOf(b.charAt(b.length-1)),n=Math.ceil(3*b.length/4);64==d&&n--;64==g&&n--;var q,e,h,m,l=0,f=0,d=a?new Uint8Array(a):new Uint8Array(n);b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(l=0;l<n;l+=3)q=this._keyStr.indexOf(b.charAt(f++)),
e=this._keyStr.indexOf(b.charAt(f++)),g=this._keyStr.indexOf(b.charAt(f++)),m=this._keyStr.indexOf(b.charAt(f++)),q=q<<2|e>>4,e=(e&15)<<4|g>>2,h=(g&3)<<6|m,d[l]=q,64!=g&&(d[l+1]=e),64!=m&&(d[l+2]=h);return d};e._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return e}();e.BinTool=h})(e.editing||(e.editing={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(){function h(){}h.getRelatedFeatures=function(b,a,d){var g=new dojo.Deferred;if(!b)return b=Error("getRelatedFeatures: mapService cannot be null."),e.deferredReject(g,b),g;if(isNaN(a))return b=Error("getRelatedFeatures: relationshipId cannot be null."),e.deferredReject(g,b),g;if(!d)return b=Error("getRelatedFeatures: objectId cannot be null."),e.deferredReject(g,b),g;var n=new esri.tasks.RelationshipQuery;n.outFields=
["*"];n.relationshipId=a;n.objectIds=[d];b&&b.serviceLayer&&b.serviceLayer.queryRelatedFeatures?b.serviceLayer.queryRelatedFeatures(n).then(function(a){var d=[],n;for(n in a)if(a.hasOwnProperty(n))for(var b=0;b<a[n].features.length;b++)d.push(a[n].features[b]);e.deferredResolve(g,d)},function(a){e.deferredReject(g,a)}):e.deferredResolve(g,[]);return g};return h}();h.FeatureUtilities=f})(h.editing||(h.editing={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){var h=function(){function b(a,d){void 0===d&&(d={});if(!d.graphicsLayer)throw Error("Add Operation: Initialization failed. Graphics layer is not provided.");if(!d.addedGraphics)throw Error("Add Operation: Initialization failed. Added graphics are not provided.");this.state=d;this.displayName=a}b.prototype.performRedo=function(a,d){var g=this;return Promise.resolve().then(function(){g.state.addedGraphics.map(function(a){g.state.graphicsLayer.add(a);g.state.app.event("MarkupAddedEvent").publish(a)})})};
b.prototype.performUndo=function(a,d){var g=this;return Promise.resolve().then(function(){g.state.addedGraphics.map(function(a){g.state.graphicsLayer.remove(a);g.state.app.event("MarkupDeletedEvent").publish(a)})})};return b}();e.Add=h})(e.undoable||(e.undoable={}))})(e.editing||(e.editing={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){var h=function(){function b(a,d){var g=this;this._preUpdatedGraphicsGeometries=[];this._preUpdatedGraphicsAttributes=[];this._postUpdatedGraphicsGeometries=[];this._postUpdatedGraphicsAttributes=[];if(!d.graphicsLayer)throw Error("Add/Update Operation: Initialization failed. Graphics layer is not provided.");if(!d.addedGraphics)throw Error("Add/Update Operation: Initialization failed. Added graphics are not provided.");
if(!d.preUpdatedGraphics||!d.updatedGraphics)throw Error("Add/Update Operation: Initialization failed. Pre/Post updated graphics are not provided.");this.state=d;this.displayName=a;d.preUpdatedGraphics.map(function(a,d){g._preUpdatedGraphicsGeometries[d]=a.geometry.toJson();g._preUpdatedGraphicsAttributes[d]=JSON.stringify(a.attributes||{})});d.updatedGraphics.map(function(a,d){g._postUpdatedGraphicsGeometries[d]=a.geometry.toJson();g._postUpdatedGraphicsAttributes[d]=JSON.stringify(a.attributes||
{})})}b.prototype.performRedo=function(a,d){var g=this;return Promise.resolve().then(function(){g.state.addedGraphics.map(function(a){g.state.graphicsLayer.add(a);g.state.app.event("MarkupAddedEvent").publish(a)});g.state.updatedGraphics.map(function(a,d){a.setGeometry(esri.geometry.fromJson(g._postUpdatedGraphicsGeometries[d]));a.setAttributes(JSON.parse(g._postUpdatedGraphicsAttributes[d]));g.state.app.event("MarkupUpdatedEvent").publish(a)})})};b.prototype.performUndo=function(a,d){var g=this;
return Promise.resolve().then(function(){g.state.addedGraphics.map(function(a){g.state.graphicsLayer.remove(a);g.state.app.event("MarkupDeletedEvent").publish(a)});g.state.updatedGraphics.map(function(a,d){a.setGeometry(esri.geometry.fromJson(g._preUpdatedGraphicsGeometries[d]));a.setAttributes(JSON.parse(g._preUpdatedGraphicsAttributes[d]));g.state.app.event("MarkupUpdatedEvent").publish(a)})})};return b}();e.AddAndUpdate=h})(e.undoable||(e.undoable={}))})(e.editing||(e.editing={}))})(e.modules||
(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){var h=function(){function b(a,d){void 0===d&&(d={});if(!d.graphicsLayer)throw Error("Delete Operation: Initialization failed. Graphics layer is not provided.");if(!d.deletedGraphics)throw Error("Delete Operation: Initialization failed. Deleted graphics are not provided.");this.state=d;this.displayName=a}b.prototype.performRedo=function(a,d){var g=this;return Promise.resolve().then(function(){g.state.deletedGraphics.map(function(a){g.state.graphicsLayer.remove(a);
g.state.app.event("MarkupDeletedEvent").publish(a)})})};b.prototype.performUndo=function(a,d){var g=this;return Promise.resolve().then(function(){g.state.deletedGraphics.map(function(a){g.state.graphicsLayer.add(a);g.state.app.event("MarkupAddedEvent").publish(a)})})};return b}();e.Delete=h})(e.undoable||(e.undoable={}))})(e.editing||(e.editing={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){var h=function(){function b(a,d){var g=this;this._preUpdatedGraphicsGeometries=[];this._preUpdatedGraphicsAttributes=[];this._postUpdatedGraphicsGeometries=[];this._postUpdatedGraphicsAttributes=[];if(!d.graphicsLayer)throw Error("Delete/Update Operation: Initialization failed. Graphics layer is not provided.");if(!d.deletedGraphics)throw Error("Delete/Update Operation: Initialization failed. Deleted graphics are not provided.");
if(!d.preUpdatedGraphics||!d.updatedGraphics)throw Error("Delete/Update Operation: Initialization failed. Pre/Post updated graphics are not provided.");this.state=d;this.displayName=a;d.preUpdatedGraphics.map(function(a,d){g._preUpdatedGraphicsGeometries[d]=a.geometry.toJson();g._preUpdatedGraphicsAttributes[d]=JSON.stringify(a.attributes||{})});d.updatedGraphics.map(function(a,d){g._postUpdatedGraphicsGeometries[d]=a.geometry.toJson();g._postUpdatedGraphicsAttributes[d]=JSON.stringify(a.attributes||
{})})}b.prototype.performRedo=function(a,d){var g=this;return Promise.resolve().then(function(){g.state.deletedGraphics.map(function(a){g.state.graphicsLayer.remove(a);g.state.app.event("MarkupDeletedEvent").publish(a)});g.state.updatedGraphics.map(function(a,d){a.setGeometry(esri.geometry.fromJson(g._postUpdatedGraphicsGeometries[d]));a.setAttributes(JSON.parse(g._postUpdatedGraphicsAttributes[d]));g.state.app.event("MarkupUpdatedEvent").publish(a)})})};b.prototype.performUndo=function(a,d){var g=
this;return Promise.resolve().then(function(){g.state.deletedGraphics.map(function(a){g.state.graphicsLayer.add(a);g.state.app.event("MarkupAddedEvent").publish(a)});g.state.updatedGraphics.map(function(a,d){a.setGeometry(esri.geometry.fromJson(g._preUpdatedGraphicsGeometries[d]));a.setAttributes(JSON.parse(g._preUpdatedGraphicsAttributes[d]));g.state.app.event("MarkupUpdatedEvent").publish(a)})})};return b}();e.DeleteAndUpdate=h})(e.undoable||(e.undoable={}))})(e.editing||(e.editing={}))})(e.modules||
(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){var h=function(){function b(a,d){var g=this;void 0===d&&(d={});this._preUpdatedGraphicsGeometries=[];this._preUpdatedGraphicsAttributes=[];this._postUpdatedGraphicsGeometries=[];this._postUpdatedGraphicsAttributes=[];if(!d.graphicsLayer)throw Error("Update Operation: Initialization failed. Graphics layer is not provided.");if(!d.preUpdatedGraphics||!d.updatedGraphics)throw Error("Update Operation: Initialization failed. Pre/Post updated graphics are not provided.");
this.state=d;this.displayName=a;d.preUpdatedGraphics.map(function(a,d){g._preUpdatedGraphicsGeometries[d]=a.geometry.toJson();g._preUpdatedGraphicsAttributes[d]=JSON.stringify(a.attributes||{})});d.updatedGraphics.map(function(a,d){g._postUpdatedGraphicsGeometries[d]=a.geometry.toJson();g._postUpdatedGraphicsAttributes[d]=JSON.stringify(a.attributes||{})})}b.prototype.performRedo=function(a,d){var g=this;return Promise.resolve().then(function(){g.state.updatedGraphics.map(function(a,d){a.setGeometry(esri.geometry.fromJson(g._postUpdatedGraphicsGeometries[d]));
a.setAttributes(JSON.parse(g._postUpdatedGraphicsAttributes[d]));g.state.app.event("MarkupUpdatedEvent").publish(a)})})};b.prototype.performUndo=function(a,d){var g=this;return Promise.resolve().then(function(){g.state.updatedGraphics.map(function(a,d){a.setGeometry(esri.geometry.fromJson(g._preUpdatedGraphicsGeometries[d]));a.setAttributes(JSON.parse(g._preUpdatedGraphicsAttributes[d]));g.state.app.event("MarkupUpdatedEvent").publish(a)})})};return b}();e.Update=h})(e.undoable||(e.undoable={}))})(e.editing||
(e.editing={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){var h=function(){function e(){}e.findFeatureInLayer=function(b,a){if(!b||!a)return null;var d=a.graphics;if(1>d.length)return null;var g=["timestamp"];if(a.editFieldsInfo)for(var n in a.editFieldsInfo)a.editFieldsInfo.hasOwnProperty(n)&&g.push(a.editFieldsInfo[n]);var q=function(a){var d=0,n;for(n in a)!Array.contains(g,n)&&a.hasOwnProperty(n)&&++d;return d};n=d[0].attributes;if(q(n)!==q(b.attributes))return null;var q=0,e=[],h=[],m;
for(m in n){var l=Array.contains(g,m);if(!(l||n.hasOwnProperty(m)&&b.attributes.hasOwnProperty(m)))return null;l||(e.push(m),h.push(m),++q)}for(m=0;m<q;++m)if(e[m]!==h[m])return null;for(m=0;m<d.length;m++);return null};return e}();e.EditingUtils=h})(e.editing||(e.editing={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(a,d){var g=this;e.call(this,a,d);this.app.command("HideCreateEditView").register(this,function(){g.isActive&&g.app.viewManager.deactivateView(g)})}__extends(b,e);b.prototype.handleClickCreateNewFeature=function(a,d,g){this.viewModel.initiateCreateNewFeature()};b.prototype.handleClickSelectExistingFeature=function(a,d,g){this.viewModel.selectGeometry()};return b}(e.framework.ui.ViewBase);h.CreateOrEditView=
f})(h.editing||(h.editing={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(){return function(b,a){this.featureServiceId=b.featureServiceId;this.where="{0} = '{1}'".format(b.scanResultFieldName,a.replace("'","''"));this.template={};this.template[b.scanResultFieldName]=a}}();h.CreateOrEditFeatureDescriptor=f;var l=function(b){function a(a,g){b.call(this,a,g);this.geolocationEnabled=new Observable;this.searchRadius=new Observable(100)}__extends(a,b);a.prototype.initialize=function(a){a&&a.tools&&
this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,!0);a&&a.searchRadiusMeters&&this.searchRadius.set(a.searchRadiusMeters);this.app.command("CreateOrEditFeatureFromBarcodeScan").register(this,this._executeCreateOrEditFeatureFromBarcodeScan);this.app.command("CreateOrEditFeature").register(this,this._executeCreateOrEditFeature);this.app.command("SelectFeatureForEditing").register(this,this._findExistingFeature);this.app.event("Internal.EditorFormSetupEvent").subscribe(this,
this._fillTemplateDataInForm);this.geolocationEnabled.set(navigator&&void 0!==navigator.geolocation)};a.prototype._executeCreateOrEditFeatureFromBarcodeScan=function(a){var g=this;this.app.command("LaunchBarcodeScannerWithCallback").execute(function(n){"Success"==n.status&&(n=n.content,g.app.command("CreateOrEditFeature").execute([new f(a,n)]))})};a.prototype._executeCreateOrEditFeature=function(a){var g=this;this.resultsFSC=new e.essentialsHtmlViewer.mapping.infrastructure.FeatureSetCollection;this.inputFeatureDescriptors=
a||[];this.currentFeatureServiceDescriptor=null;for(a=0;a<this.inputFeatureDescriptors.length;a++){var n=this.inputFeatureDescriptors[a],b=this.app.site.essentialsMap.findMapServiceById(n.featureServiceId),r=new esri.tasks.Query;r.outFields=["*"];r.where=n.where;b.queryFeatures(r,function(a,d){return function(n){g._collectSearchResults(a,d,n)}}(b,n),function(a){g.app.trace.error("Error querying for feature data: {0}".format(a.toString()))})}};a.prototype._fillTemplateDataInForm=function(a,g){if(this.currentFeatureServiceDescriptor)for(var n=
a.get(),b=0;b<n.fields.length();b++){var e=n.fields.getAt(b),h=this.currentFeatureServiceDescriptor.template,m;for(m in h)h.hasOwnProperty(m)&&e.name.get()===m&&e.value.set(h[m])}};a.prototype._collectSearchResults=function(a,g,n){var b=this;this.currentFeatureLayer=a.layers[0];a=new e.essentialsHtmlViewer.mapping.infrastructure.FeatureSet({esriFeatureSet:n,layer:this.currentFeatureLayer});this.resultsFSC.featureSets.addItem(a);if(this.resultsFSC.featureSets.length()==this.inputFeatureDescriptors.length)if(1==
this.resultsFSC.countFeatures())this.app.trace.debug("Found one feature, start editing it."),g=this.resultsFSC.firstFeature(),this._startEditingFeature(g);else if(1<this.resultsFSC.countFeatures())this.app.trace.debug("Multiple features found, select one to edit."),this.app.command("ShowSelectionListOfFeaturesWithCallback").execute(a,this._startEditingFeature);else{this.app.trace.debug("Creating a new feature.");this.currentFeatureServiceDescriptor=g;this.app.command("ActivateView").execute("CreateOrEditView");
var r=this.app.event("ViewDeactivatedEvent").subscribe(this,function(a){"CreateOrEditView"===a.id&&(b.currentFeatureServiceDescriptor=null,b.app.event("ViewDeactivatedEvent").unsubscribe(r))})}};a.prototype.initiateCreateNewFeature=function(){this.app.command("ShowFeatureTemplatePicker").execute(this.currentFeatureLayer)};a.prototype.selectGeometry=function(){var a=this.app.toolRegistry.tool("SelectFeaturesForEditingTool");a&&a.setActive(!0)};a.prototype._findExistingFeature=function(a,g){var n=new e.essentialsHtmlViewer.mapping.modules.identify.MapIdentifyTask(this.app.map,
this.app);n.layerRestriction=dojo.hitch(this,function(a){return a===this.currentFeatureLayer});var b=!1,r=dojo.hitch(this,function(a,d,g){if(void 0!==d&&0<d.length){b=!0;a=new esri.tasks.FeatureSet;for(var n in d)a.features.push(d[n].feature);d=new e.essentialsHtmlViewer.mapping.infrastructure.FeatureSet({esriFeatureSet:a,layer:g.layers[0]});this.app.command("ShowSelectionListOfFeaturesWithCallback").execute(d,this._startEditingFeature)}}),h=dojo.hitch(this,function(a){b&&this._setSelectionToolActive(!1)}),
m=dojo.hitch(this,function(a,d,g){this.app.trace.warning("Failed to find features: {0}".format(d.message))});if("point"===a.type){var l=new esri.SpatialReference({wkid:102100}),f=this.searchRadius.get(),l=e.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.createCircle(l,a,g&&g>f?g:f,60);n.execute(l,r,h,m)}else n.execute(a,r,h,m)};a.prototype._startEditingFeature=function(a){this.app.command("HideCreateEditView").execute();this.app.command("HideMultiFeatureSelectorView").execute();this.app.command("ZoomToFeature").execute(a);
this.app.command("StartEditingFeature").execute(a,!1)};a.prototype._setSelectionToolActive=function(a){var g=this.app.toolRegistry.tool("SelectFeaturesForEditingTool");g&&(void 0!=a?g.setActive(a):g.setActive(!0))};return a}(e.framework.ui.ViewModelBase);h.CreateOrEditViewModel=l})(h.editing||(h.editing={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(m){var f=function(e){function b(a,d){var g=this;e.call(this,a,d);this.app.command("HideMultiFeatureSelectorView").register(this,function(){g.isActive&&g.app.viewManager.deactivateView(g)});this.app.event("ViewActivatedEvent").subscribe(this,this.setDisplayResultPickerListOffset)}__extends(b,e);b.prototype.setDisplayResultPickerListOffset=function(){this.topContainer&&this.viewModel.topOffset.set(this.topContainer.clientHeight);this.bottomContainer&&
this.viewModel.bottomOffset.set(this.bottomContainer.clientHeight)};b.prototype.handleClickButton=function(a,d,g){0<this.viewModel.selectedFeatures.get().length?this.viewModel.submitResults():this.viewModel.showError()};b.prototype.handleClick=function(a,d,g){this._firstEvent&&this._cancelLongPress&&(this._firstEvent=null,this._cancelLongPress());"A"!==a.target.tagName&&this.viewModel.featureClicked(g);return!0};b.prototype.handleClearTextBox=function(a,d,g){this.viewModel.clearTextBox()};b.prototype.handleSelectAll=
function(a,d,g){this.viewModel.selectAll()};b.prototype.handleSelectNone=function(a,d,g){this.viewModel.selectNone()};b.prototype.resolveWidget=function(a,d){e.prototype.resolveWidget.call(this,a,d);var g;if("GetLabel"===a)return g=new h.infrastructure.FeatureDescriptionPresenterView(this.app,this.libraryId),g.contentField="label",g.root=dojo.create("div"),g.root.className="feature-label",g.attach(d),g;if("GetDescription"===a)return g=new h.infrastructure.FeatureDescriptionPresenterView(this.app,
this.libraryId),g.root=dojo.create("div"),g.root.className="feature-description",g.attach(d),g;if("RenderComplexResultTemplate"===a&&"complex"===this.viewModel.resultTemplateComplexity)return g=this.app.viewManager.createView({markupResource:"Mapping/modules/Workflow/Templates/DisplayResultPickerComplexResultTemplateView.html",type:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.templates.DisplayResultPickerResultTemplateView"}),g.app=this.app,g.libraryId=this.libraryId,g.parentView=this,
g.attach(d),g;if("RenderSimpleResultTemplate"===a&&"simple"===this.viewModel.resultTemplateComplexity)return g=this.app.viewManager.createView({markupResource:"Mapping/modules/Workflow/Templates/DisplayResultPickerSimpleResultTemplateView.html",type:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.templates.DisplayResultPickerResultTemplateView"}),g.app=this.app,g.libraryId=this.libraryId,g.parentView=this,g.attach(d),g};return b}(e.framework.ui.ViewBase);m.MultiFeatureSelectorView=f})(f.editing||
(f.editing={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(m){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);return b}(e.infrastructure.Feature);m.DisplayResultPickerFeature=f;m.generateDisplayResultPickerFeaturefromFeature=function(e){e.isSelected=new Observable(!1);e.cssClass=new Observable("");e.isFiltered=new Observable(!1);e.showIcon=!0;e.showCheckbox=!0;return e}})(f.workflow||(f.workflow={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(h){function b(){h.apply(this,arguments);this.buttons=null;this.filterSectionVisible=new Observable(!0);this.showFilterTextBox=new Observable(!1);this.isSingleSelectionMode=new Observable(!0);this.filterText=new Observable("");this.disabledLinkCssClass=new Observable("");this.topOffset=new Observable("0px");this.bottomOffset=new Observable("0px");this.message=null}__extends(b,h);b.prototype.initialize=function(a){this.app.command("ShowSelectionListOfFeaturesWithCallback").register(this,
this._showSelectionListOfFeatures);this.featureSet=null;this.features=new ObservableCollection([]);this.selectedFeatures=new ObservableCollection([]);this.resultsList=new ObservableCollection([]);this.cssClass=new Observable("display-result-picker-list");a=a.displayResultPickerTemplateComplexity;this.resultTemplateComplexity=void 0===a||"complex"!=a&&"simple"!=a?"complex":a.toLowerCase();this.message=new Observable(this.app.getResource(this.libraryId,"language-feature-editing-multi-feature-selector-message"));
this.requiredValueErrorMessage=new Observable("");a=[];a.push(new e.forms.FormButton("Done","Done",!0,!0));this.buttons=Observable.makeBindableProxy(a)};b.prototype._showSelectionListOfFeatures=function(a,d){this.callback=d;this.featureSet=a;this.features.clear();for(var g=0;g<a.features.length();g++){var n=e.essentialsHtmlViewer.mapping.modules.workflow.generateDisplayResultPickerFeaturefromFeature(a.features.getAt(g));n.showCheckbox=!1;this.features.addItem(n)}this.selectedFeatures.set([]);this.resultsList.set(this.features.get());
this.requiredValueErrorMessage.set("");this.cssClass.set("display-result-picker-list");this.app.command("ActivateView").execute("MultiFeatureSelectorView")};b.prototype.featureClicked=function(a){this.clearSelection();this.addFeatureToSelection(a,!0)};b.prototype.featureChecked=function(a){this.clearSelection();this.addFeatureToSelection(a,!0)};b.prototype.addFeatureToSelection=function(a,d){if(void 0!=a.isFiltered.get()&&!a.isFiltered.get()){a.isSelected.set(!0);a.cssClass.set("selected");for(var g=
!1,n=0;n<this.selectedFeatures.getItems().length;n++)if(this.selectedFeatures.getItems()[n]===a){g=!0;break}g||this.selectedFeatures.addItem(a);this.features.indexOf(a)}};b.prototype.clearSelection=function(){if(this.selectedFeatures.length()){for(var a=0;a<this.selectedFeatures.length();a++)this.selectedFeatures.getAt(a).isSelected.set(!1),this.selectedFeatures.getAt(a).cssClass.set("");this.selectedFeatures.clear()}};b.prototype.clearTextBox=function(){this.filterText.set("")};b.prototype.selectAll=
function(){this.addFeatureToSelection(this.features.getAt(0),!0);for(var a=1;a<this.features.get().length;a++)this.addFeatureToSelection(this.features.getAt(a),!1)};b.prototype.selectNone=function(){this.clearSelection()};b.prototype.submitResults=function(){this.callback&&this.callback(this.selectedFeatures.getAt(0))};b.prototype.showError=function(){this.requiredValueErrorMessage.set(this.app.getResource(this.libraryId,"language-feature-editing-multi-feature-selector-error-message"));this.cssClass.set("display-result-picker-list error")};
return b}(e.framework.ui.ViewModelBase);h.MultiFeatureSelectorViewModel=f})(h.editing||(h.editing={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);return b}(e.framework.application.ModuleBase);h.ExportMapModule=f})(h.exportMap||(h.exportMap={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(a,d){var g=this;e.call(this,a,d);this.app.command("ShowExportMapDialog").register(this,function(){g.app.viewManager.activateView(g);g.viewModel.exportComplete.set(!1)},function(){return g.app.site&&!!g.app.site.essentialsMap&&!!g.app.site.essentialsMap.supportedExportFormats})}__extends(b,e);b.prototype.handleExportMapClick=function(a,d,g){this.viewModel.exportMap()};b.prototype.handleViewImageClick=function(a,
d,g){window.open(this.viewModel.url.get());this.viewModel.exportComplete.set(!1)};return b}(e.framework.ui.ViewBase);h.ExportMapView=f})(h.exportMap||(h.exportMap={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(h){function b(a,d){var g=this;h.call(this,a,d);this.formatSupportsIncludeGeoreferenceData=new Observable(!1);this.isExporting=new Observable(!1);this.exportComplete=new Observable(!1);this.url=new Observable(null);this.outputFormats=new ObservableCollection;this.allowIncludeGeoreferenceData=new Observable(!0);this.selectedFormat=new Observable(null);this.includeGeoreferenceData=new Observable(!1);if(this.app.site&&this.app.site.isInitialized)this.siteInitialized();
else this.app.event("SiteInitializedEvent").once(this,this.siteInitialized);this.formatSupportsIncludeGeoreferenceData.syncTransform(this.selectedFormat,function(a){return a&&"GeoTIFF"!=a&&"PDF"!=a});this.includeGeoreferenceData.syncTransform(this.selectedFormat,function(a){return a&&"GeoTIFF"!=a&&"PDF"!=a&&g.includeGeoreferenceData.get()})}__extends(b,h);b.prototype.siteInitialized=function(){var a=this;if(this.app.site&&this.app.site.essentialsMap&&this.app.site.essentialsMap.supportedExportFormats){var d=
this.app.site.essentialsMap.supportedExportFormats.filter(function(d){return!(4.03>a.app.site.getEssentialsVersion()&&"pdf"===d.toLowerCase())});this.outputFormats.set(d);this.app.site.essentialsMap.exportMapImageOptions&&this.app.site.essentialsMap.exportMapImageOptions.defaultOutputFormat?this.selectedFormat.set(this.getFormatIgnoreCase(this.app.site.essentialsMap.exportMapImageOptions.defaultOutputFormat)):0<this.outputFormats.get().length?this.selectedFormat.set(this.outputFormats.getAt(0)):this.selectedFormat.set(this.app.getResource(this.libraryId,
"language-export-map-none"));this.app.site.essentialsMap.exportMapImageOptions&&this.allowIncludeGeoreferenceData.set(this.app.site.essentialsMap.exportMapImageOptions.allowIncludeGeoreferenceData)}this.app.command("ShowExportMapDialog").raiseCanExecuteChanged()};b.prototype.getFormatIgnoreCase=function(a){var d=this.outputFormats.get();if(!d||0>=d.length)return null;if(a){a=a.toUpperCase();for(var g=0;g<d.length;g++){var n=d[g];if(n&&n.toUpperCase()===a)return d[g]}}return d[0]};b.prototype.exportMap=
function(){var a=this;this.isExporting.set(!0);var d=this.app.site.essentialsMap;this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-export-map-is-exporting"));var g=new e.essentials.ReportParameters;g.outputFormat=this.selectedFormat.get();g.customExtent=this.app.map.extent;g.extentType=e.essentials.ReportParameters.CURRENT_EXTENT;this.allowIncludeGeoreferenceData&&(g.includeGeoreferenceData=this.includeGeoreferenceData.get());void 0!=this.app&&null!=this.app.map&&
g.populateMapGraphicsLayers(this.app.map);d.exportMap(g,function(d){a.app.command("ScreenReaderNarrate").execute(a.app.getResource(a.libraryId,"language-export-map-complete-description"));a.isExporting.set(!1);a.url.set(d.href);a.exportComplete.set(!0)},function(d){a.app.command("Alert").execute(a.app.getResource(a.libraryId,"language-export-map-error").format(d.message));a.app.command("ScreenReaderNarrate").execute(a.app.getResource(a.libraryId,"language-export-map-error").format(d.message));a.isExporting.set(!1)})};
return b}(e.framework.ui.ViewModelBase);h.ExportMapViewModel=f})(h.exportMap||(h.exportMap={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);return b}(e.framework.application.ModuleBase);h.ExportWebMapModule=f})(h.exportWebMap||(h.exportWebMap={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(m){var f=function(e){function b(a,d){var g=this;e.call(this,a,d);this.app.command("ShowExportWebMapDialog").register(this,function(){g.app.viewManager.activateView(g);g.app.command("ScreenReaderNarrate").execute(g.app.getResource(g.libraryId,"language-export-web-map-narrate-view-activated"))},function(){return g.viewModel?h.infrastructure.PortalUtils.hasCreateContentPrivilege(g.app):!1})}__extends(b,e);b.prototype.activated=function(){e.prototype.activated.call(this);
this.viewModel&&this.viewModel.clearFields()};b.prototype.handleExportWebMapClick=function(a,d,g){this.viewModel.exportWebMap()};b.prototype.handleOpenPortalItem=function(a,d,g){a=h.infrastructure.PortalUtils.getPortalItemUrl(this.viewModel.itemId,this.app);window.open(a);this.app.viewManager.deactivateView(this)};return b}(e.framework.ui.ViewBase);m.ExportWebMapView=f})(f.exportWebMap||(f.exportWebMap={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(m){var f=function(m){function b(a,d){var g=this;m.call(this,a,d);this.itemId="";this.title=new Observable(null);this.isExporting=new Observable(!1);this.exportComplete=new Observable(!1);this.app.command("OpenPortalMyContentWindow").register(this,function(){var a=h.infrastructure.PortalUtils.getPortalMyContentUrl(g.app);window.open(a)},function(){return h.infrastructure.PortalUtils.hasAccessToPortal(g.app)});if(this.app.site&&this.app.site.isInitialized)this.siteInitialized();
else this.app.event("SiteInitializedEvent").once(this,this.siteInitialized)}__extends(b,m);b.prototype.siteInitialized=function(){this.app.command("ShowExportWebMapDialog").raiseCanExecuteChanged();this.app.command("OpenPortalMyContentWindow").raiseCanExecuteChanged()};b.prototype.exportWebMap=function(){var a=this;this.title.get()?(this.isExporting.set(!0),this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-export-web-map-is-exporting")),this.app.webMap.create().then(function(d){var g=
a.app.site.essentialsMap.getMap().extent,n=new esri.SpatialReference(4326);h.infrastructure.GeometryUtils.projectGeometry(g,n,function(g){a._uploadWebmapToPortal(a.title.get(),d,g)},function(d){a._handleError(d)},a.app)},function(d){a._handleError(d)})):(this.app.command("Alert").execute(this.app.getResource(this.libraryId,"language-export-web-map-invalid-title")),this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-export-web-map-invalid-title")))};b.prototype._uploadWebmapToPortal=
function(a,d,g){var n=this;g=String.format("{0}, {1}, {2}, {3}",g.xmin,g.ymin,g.xmax,g.ymax);e.request({url:this.app.site.url+"/additem",content:{f:"json",extent:g,text:JSON.stringify(d),title:a,type:"Web Map"},load:function(a){n.itemId=a.id;n.app.command("ScreenReaderNarrate").execute(n.app.getResource(n.libraryId,"language-export-web-map-complete-description"));n.isExporting.set(!1);n.exportComplete.set(!0)},error:function(a){n._handleError(a)}},{usePost:!0})};b.prototype._handleError=function(a){this.app.trace.error("Error exporting web map to Portal.",
a);this.app.command("Alert").execute(this.app.getResource(this.libraryId,"language-export-web-map-error"));this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-export-web-map-error"));this.clearFields()};b.prototype.clearFields=function(){this.itemId="";this.title.set(null);this.isExporting.set(!1);this.exportComplete.set(!1)};return b}(e.framework.ui.ViewModelBase);m.ExportWebMapViewModel=f})(f.exportWebMap||(f.exportWebMap={}))})(h.modules||(h.modules={}))})(f.mapping||
(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(m){(function(m){var f=e.framework.utils.ArrayUtils,b=e.essentialsHtmlViewer.mapping.infrastructure.TimeZoneUtils,a=function(a){function g(g,b){a.call(this,g,b);this.DEFAULT_VIEW_ID="FeatureRelationsProviderView";this.DEFAULT_PAGED=!0;this.DEFAULT_PAGE_SIZE=50;this.REL_FEATURES_TABLE_ITEM_CLICKED_EVENT="RelatedFeatureTableItemClickedEvent";this.REL_FEATURES_TABLE_ITEM_PRESSED_EVENT="RelatedFeatureTableItemPressedEvent";this.hasRelationships=
new Observable(!1);this.relationList=new ObservableCollection([]);this.parentFeature=new Observable(null);this.relatedLayers=new ObservableCollection([]);this.relatedFeatures=new ObservableCollection;this.relatedFeatureViews=[];this._onViewsCreated=this._viewModeRegionConfig=this._config=this._viewContainerViewClosedEventBindingToken=null;this._allRelatedFeatureInfo=[];this._addedRelatedFeatures=[];this._relatedFeatureListBindingTokens=[];this._relatedLayerPromises=null;this.app.command("ShowFeatureParentDetails").register(this,
this.showParentView);this.app.command("ClearFeatureInformation").register(this,this._cleanup);this.app.event(this.REL_FEATURES_TABLE_ITEM_CLICKED_EVENT).subscribe(this,this.activateRelatedFeatureView)}__extends(g,a);g.prototype.createAttachedViews=function(a,d,g,b){this._config=a;this._viewModeRegionConfig=d;this._onViewsCreated=g};g.prototype.createAttachedViewsSuper=function(g,b,e,h){a.prototype.createAttachedViews.call(this,g,b,e,h)};g.prototype.activateRelatedFeatureView=function(a){if(a=a instanceof
h.infrastructure.Feature?this._getFeatureInfoFromFeature(a):a)for(var d=0;d<this._allRelatedFeatureInfo.length;d++){var g=this._allRelatedFeatureInfo[d].featureInfo;if(a.id.get()===g.id.get()){this._displayGeocortexFeatureDetails(this._allRelatedFeatureInfo[d].gcxFeature);break}}};g.prototype.showParentView=function(){1>this.relatedFeatures.getLength()?this.parentFeature.get()&&this.parentFeature.set(null):(this.relatedFeatures.removeItem(this.currentFeature.get()),0==this.relatedFeatures.getLength()?
this.app.command("ShowFeatureDetails").execute(this.parentFeature.get()):this.app.command("ShowFeatureDetails").execute(this.relatedFeatures.getAt(this.relatedFeatures.length()-1)))};g.prototype._generateRelatedFeaturesViewIdFromConfigViewId=function(a,d){var g=e.framework.utils.alphaNumericToken();return"{0} relatedfeatures-{1}".format(a||this.DEFAULT_VIEW_ID,d?d+"-"+g:g)};g.prototype._createConfiguredPresentableResultCollection=function(a){a=new e.framework.ui.PresentableCollection(a);a.pageSize.set(this.DEFAULT_PAGE_SIZE);
this.DEFAULT_PAGED!=a.isPaginated.get()&&a.isPaginated.set(this.DEFAULT_PAGED);a.items.useThrottling=!0;a.sortingPredicate=null;return a};g.prototype._createColumnHeaderItems=function(a){var d=[],g=new e.essentialsHtmlViewer.mapping.infrastructure.ui.components.Table.TableColumnHeaderViewModel.SharedState(a,"sort","sort-up","sort-down");a=a.items.get();if(a.length){a=a[0].attributes.get();for(var b=0;b<a.length;b++)a[b].visible&&!a[b].visible.get()||d.push(new h.infrastructure.ui.components.Table.TableColumnHeaderViewModel(this.app,
this.libraryId,g,a[b].displayName.get(),a[b].type.get(),b))}return d};g.prototype._getFeatureInfoFromFeature=function(a){for(var d=0;d<this._allRelatedFeatureInfo.length;d++)if(this._allRelatedFeatureInfo[d].gcxFeature===a)return this._allRelatedFeatureInfo[d].featureInfo;return null};g.prototype._getFeatureFromFeatureInfo=function(a){for(var d=0;d<this._allRelatedFeatureInfo.length;d++)if(this._allRelatedFeatureInfo[d].featureInfo===a)return this._allRelatedFeatureInfo[d].gcxFeature;return null};
g.prototype._displayGeocortexFeatureDetails=function(a){this._addFeatureToBucket(a);this.app.command("ShowFeatureDetails").execute(a)};g.prototype._addFeatureToBucket=function(a){a!=this.relatedFeatures.getAt(this.relatedFeatures.getLength())&&this.relatedFeatures.addItem(a)};g.prototype._destroyAttachedViews=function(){for(var a=this,d=this.relatedFeatureViews.length-1;0<=d;d--){var g=this.relatedFeatureViews[d];this.relatedFeatureViews.splice(d,1);this.app.viewManager.destroyView(g);delete g.viewModel}this._relatedFeatureListBindingTokens.forEach(function(d){return a.relationList.unbind(d)});
this._addedRelatedFeatures=[];this._relatedFeatureListBindingTokens=[]};g.prototype._getRelationshipObjectFromFeatureInfo=function(a){for(var d=null,g=0;g<this.relationList.length();g++)for(var d=this.relationList.getAt(g),b=0;b<d.relatedEsriFeatureInfo.length();b++)if(a===d.relatedEsriFeatureInfo.getAt(b))return d;return d};g.prototype._processGeneratedGCXFeature=function(a){this._allRelatedFeatureInfo.push(a);var d=this._getRelationshipObjectFromFeatureInfo(a.featureInfo);d&&(d.relatedGcxFeatures.addItem(a.gcxFeature),
d.columnHeaders.length()||d.columnHeaders.addItems(this._createColumnHeaderItems(d.presentableResults)))};g.prototype._generateGeocortexFeature=function(a,d,g){var e=b.getTimeZoneFromLayer(d),m=null;this.parentFeature.get()&&this.parentFeature.get().layer&&(m=b.getDisplayTimeZoneFromMapService(this.parentFeature.get().layer.mapService),e||(e=b.getTimeZoneFromMapService(this.parentFeature.get().layer.mapService)));a=new h.infrastructure.Feature({graphic:a,layer:d,featureLayer:g,timeZoneId:e,displayTimeZoneId:m});
a.loadAttributes(!0);d?(a.defaultNumberFormat=f.firstOrDefault([d.defaultNumberFormat,d.mapService.defaultNumberFormat],function(a){return!!a}),a.defaultDateFormat=f.firstOrDefault([d.defaultDateFormat,d.mapService.defaultDateFormat],function(a){return!!a})):this.parentFeature.get()&&(d=this.parentFeature.get().layer)&&(a.defaultNumberFormat=d.mapService.defaultNumberFormat,a.defaultDateFormat=d.mapService.defaultDateFormat);if(g&&"Table"===g.type&&0<g.relationships.length&&0<this.app.site.getFeatureServices().length)for(a.hasVisibleRelationships.set(!0),
d=0;d<g.relationships.length;d++)e=g.relationships[d],e.visible||(e.visible=!0);return a};g.prototype._makeAttributesObservable=function(a,d){var g=new ObservableCollection,b=this._getAttributeTypes(d);if(a)for(var e in a)if(a.hasOwnProperty(e)){var h=a[e];b[e]&&"esriFieldTypeDate"===b[e]&&h&&(h=this._formatDate(h));g.addItem({name:new Observable(e),value:new Observable(h)})}return g};g.prototype._getAttributeTypes=function(a){var d={};a&&a.fields&&dojo.forEach(a.fields,function(a){d[a.name]=a.type});
return d};g.prototype._formatDate=function(a){return h.infrastructure.FormatUtils.formatDate(h.infrastructure.FormatUtils.parseDate(a))};g.prototype._cleanup=function(){this.parentFeature.set(null);this.relatedFeatures.clear()};g.prototype._processRelatedFeature=function(a,d,g){var b=new ObservableCollection,e=d.attributes[a.displayField];if(a.getField){var m=h.infrastructure.gis.FieldInfo.fromEsriField(a.getField(a.displayField),a);m.isCodedValueDomain()||m.hasSubtypeCodedValueDomains()?e=m.resolveCodedDomainValue(e,
d.attributes[a.typeIdField]):"esriFieldTypeDate"===m.type&&(e=this._formatDate(e))}e||(e=d.attributes[a.objectIdField]);return{id:new Observable(d.attributes[a.objectIdField]),displayName:new Observable(e),relationName:new Observable(g.displayName.get()),layer:a,featureUrl:a.url+"/"+d.attributes[a.objectIdField],attributes:this._makeAttributesObservable(d.attributes,a),geometry:new Observable(d.geometry),hasAttachments:new Observable(!1),attachmentInfos:b}};g.prototype._loadAttachments=function(a){var d=
this,g=a.featureUrl+"/attachments",b=null,b={url:g+"?f=json&ts="+(new Date).getTime(),handleAs:"json"},b=a.layer instanceof esri.layers.FeatureLayer&&a.layer.url?a.layer.queryAttachmentInfos(parseInt(a.id.get())):esri.request(b);b.then(function(d){if(0<d.length&&!d.attachmentInfos&&d instanceof Array){d.attachmentInfos=[];for(var b=0;b<d.length;b++)d.attachmentInfos[b]=d[b]}if(d&&d.attachmentInfos&&0<d.attachmentInfos.length){for(b=0;b<d.attachmentInfos.length;b++){var q=d.attachmentInfos[b],h=new e.essentialsHtmlViewer.mapping.infrastructure.AttachmentInfo;
h.id.set(q.id);h.contentType.set(q.contentType);h.size.set(q.size);h.name.set(q.name);h.url.set(g+"/"+q.id);a.attachmentInfos.addItem(h)}a.hasAttachments.set(!0)}},function(g){d.app.trace.error("Unable to retrieve attachment information for related feature '"+a.featureUrl+"': "+g.message)})};g.prototype._updateProviderState=function(){var a=this,d=!1;this.updateProviderState(d);var g=function(g){if(g.canAdd.get()||!g.errorFetchingRelatedFeatures.get()&&g.relatedEsriFeatureInfo.length())d=!0;a.updateProviderState(d)};
if(this.relationList.length())for(var b=0;b<this.relationList.length();b++)(function(){if(!d){var e=a.relationList.getAt(b);if(e.hasRetrievedData.get())g(e);else e.hasRetrievedData.once(a,function(){return g(e)})}})()};g.prototype._createAttachedViews=function(g,b,e){var h=this;g=g||this._config;e=e||this._onViewsCreated;b=b||this._viewModeRegionConfig;if(g){var m=function(){h.relationList.get().forEach(function(m){if(-1===h._addedRelatedFeatures.indexOf(m.displayName.get())){var f=dojo.clone(g);
f.title="{0} {1}".format(h.app.getResource(h.libraryId,"language-feature-related-features"),m.displayName.get());f.viewId=h._generateRelatedFeaturesViewIdFromConfigViewId(f.viewId,m.displayName.get());a.prototype.createAttachedViews.call(h,f,b,function(a){h.relatedFeatureViews=h.relatedFeatureViews.concat(a);e&&e(a)},m);h._addedRelatedFeatures.push(m.displayName.get())}})};m();this._relatedFeatureListBindingTokens.push(this.relationList.bind(this,function(){return m()}))}};g.prototype._checkRelatedFeature=
function(a){var d=this;if(a){var g=a.layer,b=a.esriFeature,m=null;if(g&&(m=this._findGeocortexLayer(g,this.app.site),!m&&"Table"!==g.type)){this.app.trace.debug("Could not find related layer in site. Related features will not be editable/viewable.");a.gcxFeature=new h.infrastructure.Feature({graphic:b,featureLayer:g});this._processGeneratedGCXFeature(a);return}if(!b.geometry&&m&&m.mapService&&m.mapService.serviceLayer instanceof esri.layers.FeatureLayer&&m.type!==e.essentials.LayerType.TABLE_LAYER){var g=
null,f=m.mapService.serviceLayer;f.objectIdField&&(g=e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.findFeatureInMap(b,this.app.site,f));g?(a.gcxFeature=this._generateGeocortexFeature(g,m,f),this._processGeneratedGCXFeature(a)):(g=new esri.tasks.Query,g.objectIds=[b.attributes[m.getObjectIdFieldName()]],g.outFields=["*"],g.returnGeometry=!0,f.queryFeatures?f.queryFeatures(g,function(g){g.features&&(b=g.features[0],a.gcxFeature=d._generateGeocortexFeature(b,m,f),d._processGeneratedGCXFeature(a))},
function(a){d.app.trace.error("There was an error in retrieving the related feature: "+a)}):(m.mapService.serviceUrl.split("?"),h.infrastructure.taskUtils.getQueryTask(m).execute(g,function(g){g.features&&(b=g.features[0],a.gcxFeature=d._generateGeocortexFeature(b,m,f),d._processGeneratedGCXFeature(a))},function(a){d.app.trace.error("There was an error in retreiving the related feature: "+a)})))}else a.gcxFeature=this._generateGeocortexFeature(b,m,g),this._processGeneratedGCXFeature(a)}};g.prototype._findGeocortexLayer=
function(a,d){if(a&&d&&d.essentialsMap)return d.essentialsMap.findLayerFromMatchingEsriFeatureLayer(a)};g.prototype._getProperMapServiceUrlForComparison=function(a,d){var g=a.serviceUrl;a.serviceToken&&0<d.search(/token=.[^&]*/g)&&(g+="?token="+a.serviceToken);return g};return g}(h.infrastructure.featureDetails.FeatureProviderBase);m.RelatedFeaturesViewModelBase=a})(m.FeatureDetailsProviders||(m.FeatureDetailsProviders={}))})(f.FeatureDetails||(f.FeatureDetails={}))})(h.modules||(h.modules={}))})(f.mapping||
(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.FeatureProviderBase=geocortex.essentialsHtmlViewer.mapping.infrastructure.featureDetails.FeatureProviderBase;
(function(e){(function(f){(function(h){(function(f){(function(m){(function(m){var f=function(b){function a(a,g){b.call(this,a,g);this.SEARCHTABLE_KEY="parentSearchTable";this.SEARCH_TABLE_ID_KEY="SearchTableId";this.datalinkSearches=[];this.currentSearchTable=null;if(a.site&&a.site.isInitialized)this._siteInitialized();else a.event("SiteInitializedEvent").once(this,this._siteInitialized)}__extends(a,b);a.prototype.activateRelatedFeatureView=function(a){a instanceof h.infrastructure.Feature||(a=this._getFeatureFromFeatureInfo(a));
var g=this.parentFeature.get();g&&a&&a instanceof h.infrastructure.Feature&&g.getExtendedPropertyByName(this.SEARCH_TABLE_ID_KEY)==a.getExtendedPropertyByName(this.SEARCH_TABLE_ID_KEY)?this.showParentView():b.prototype.activateRelatedFeatureView.call(this,a)};a.prototype.handleCurrentFeatureChanged=function(a){var g=this;if(a){this._destroyAttachedViews();this.hasRelationships.set(!1);this.relationList.clear();this._allRelatedFeatureInfo=[];this.datalinkSearches=[];this.currentSearchTable=null;this._featureLayers=
{};this._allLayers=[];this._relatedLayerPromises&&(this._relatedLayerPromises.cancel(),this._relatedLayerPromises=null);var n=a.getExtendedPropertyByName(this.SEARCHTABLE_KEY);if(n){var b=n.getExtendedPropertyByName(this.SEARCH_TABLE_ID_KEY),r=this._getSearchTable(b);if(r){var m=new Observable(this.providerEnabled.get()),f=new ObservableCollection([]),l=n.esriFeature.get(),k={id:new Observable("Parent_SearchTable"),displayName:new Observable(h.infrastructure.FilterUtils.sanitize(n.label.get(),{allowFrames:!1,
uriTransformer:function(a){return a}})),relationName:new Observable(null),layer:null,featureUrl:"",attributes:n.attributes,geometry:new Observable(l.geometry),hasAttachments:new Observable(!1),attachmentInfos:new ObservableCollection([])};m.sync(this.providerEnabled);r={displayName:new Observable(r.displayName),id:new Observable(0),relatedTableId:new Observable(null),visible:new Observable(!0),relatedEsriFeatureInfo:new ObservableCollection([k]),relatedGcxFeatures:f,hasRetrievedData:new Observable(!0),
noRelatedFeatures:new Observable(!1),canAdd:new Observable(!1),validCardinality:new Observable(!1),errorFetchingRelatedFeatures:new Observable(!1),presentableResults:this._createConfiguredPresentableResultCollection(f),columnHeaders:new ObservableCollection([]),providerEnabled:m,masterViewModel:this};this.relationList.addItem(r);n={featureInfo:k,esriFeature:l,gcxFeature:n,layer:null};this._checkRelatedFeature(n);n.gcxFeature.setExtendedProperty(this.SEARCH_TABLE_ID_KEY,b);this._createAttachedViews();
this.updateProviderState(!0)}}else if(b=a.getExtendedPropertyByName(this.SEARCH_TABLE_ID_KEY),(this.currentSearchTable=this._getSearchTable(b))&&this._searchTablesRelationships.hasOwnProperty(this.currentSearchTable.id)){this.datalinkSearches=this._searchTablesRelationships[this.currentSearchTable.id];for(var p=[],z=0,b=this.datalinkSearches.length;z<b;z++)(function(){var a=g.datalinkSearches[z],d=a&&a.dataLink?a.dataLink.layer:null;g._allLayers.push(d);d&&d instanceof e.essentials.Layer&&(a=d.getFeatureLayer(),
a.then(function(a){g._featureLayers[d.url]=a}),p.push(a))})();this._relatedLayerPromises=Promise.all(p);this._relatedLayerPromises.then(function(){g._relatedLayerPromises=null;if(0<g.datalinkSearches.length){g.hasRelationships.set(!0);for(var n=0,b=g.datalinkSearches.length;n<b;n++){var q=g.datalinkSearches[n],e=q.dataLink.layer,r=q.displayName,h=new Observable(g.providerEnabled.get()),m=new ObservableCollection([]);h.sync(g.providerEnabled);r={displayName:new Observable(r),id:new Observable(n),relatedTableId:new Observable(null),
visible:new Observable(!0),relatedEsriFeatureInfo:new ObservableCollection([]),relatedGcxFeatures:m,hasRetrievedData:new Observable(!1),noRelatedFeatures:new Observable(!1),canAdd:new Observable(!1),validCardinality:new Observable(!1),errorFetchingRelatedFeatures:new Observable(!1),presentableResults:g._createConfiguredPresentableResultCollection(m),columnHeaders:new ObservableCollection([]),providerEnabled:h,masterViewModel:g};g._resolveRelatedFeatures(r,a,q,g._featureLayers[e.url]);g.relationList.addItem(r)}}g._createAttachedViews();
g._updateProviderState();null==g.parentFeature.get()&&(g.parentFeature.set(g.currentFeature.get()),g.parentFeature.get())})}}else throw Error("Feature cannot be null for the related features view model");};a.prototype._findGeocortexLayer=function(a){for(var g in this._featureLayers)if(this._featureLayers.hasOwnProperty(g)&&this._featureLayers[g]==a)for(var n=0,q=this._allLayers.length;n<q;n++){var e=this._allLayers[n];if(e&&e.url==g)return e}return b.prototype._findGeocortexLayer.call(this,a,this.app.site)};
a.prototype._siteInitialized=function(){this._findSearchTableRelationships()};a.prototype._findSearchTableRelationships=function(){this._searchTablesRelationships={};if(this.app.site&&this.app.site.essentialsMap)for(var a=this.app.site.essentialsMap.allLayers(),g=0,n=a.length;g<n;g++)for(var b=a[g],e=0,h=b.dataLinks.length;e<h;e++)for(var m=b.dataLinks[e],f=0,l=m.searches.length;f<l;f++){var k=m.searches[f],p=k.searchTableId;this._searchTablesRelationships.hasOwnProperty(p)||(this._searchTablesRelationships[p]=
[]);this._searchTablesRelationships[p].push(k)}};a.prototype._resolveRelatedFeatures=function(a,g,n,b){var r=this;if(a&&g&&n&&b){var m=n.dataLink,f=m?m.layer:null,m=(m=g.esriFeature.get())&&m.attributes&&n.tableField?m.attributes[n.tableField]:null,l=f?f.getFieldByName(n.featureField):null,k=this._getEsriField(b,n.featureField),l=k?h.infrastructure.gis.FieldInfo.fromEsriField(k,null,l):null,k=[];f&&l&&(l.searchable=!0,k.push(l),m=h.infrastructure.taskUtils.getSearchTextWhereClause(f,k,m),l=new esri.tasks.Query,
l.where=m,l.outFields=["*"],l.outSpatialReference=this.app.map.spatialReference,l.returnGeometry=!0,h.infrastructure.taskUtils.getQueryTask(f).execute(l,function(n){if(0==n.features.length)a.noRelatedFeatures.set(!0);else{for(var h=new e.essentialsHtmlViewer.mapping.infrastructure.FeatureSet({layer:f,app:r.app,esriFeatureSet:new esri.tasks.FeatureSet}),m=0,l=n.features.length;m<l;m++){var B={featureInfo:null,esriFeature:null,gcxFeature:null,layer:b},k=n.features[m];B.esriFeature=k;k=r._processRelatedFeature(b,
k,a);B.featureInfo=k;a.relatedEsriFeatureInfo.addItem(k);r._checkRelatedFeature(B);h.addFeature(B.gcxFeature);B.gcxFeature.setExtendedProperty(r.SEARCHTABLE_KEY,g);B.gcxFeature.hasVisibleRelationships.set(!0);b.hasAttachments&&setTimeout(function(a,d){return function(){d._loadAttachments(a)}}(k,r),100)}h.resolveDataLinks(function(a){r.app.event("FeatureChangedEvent").publish(a)})}a.hasRetrievedData.set(!0)},function(g){a.errorFetchingRelatedFeatures.set(!0);a.hasRetrievedData.set(!0);r.app.trace.error("Error getting related record for search table datalink {0}: {1}.".format(n.displayName,
g.message))}))}else this.app.trace.error("_resolveRelatedFeatures missing parameters")};a.prototype._getEsriField=function(a,g){var n=null;if(a&&a.fields)for(var b=a.fields,e=0,h=b.length;e<h;e++)if(b[e].name==g){n=b[e];break}return n};a.prototype._getSearchTable=function(a){var g=null,n=this.app.site;a&&n&&n.hasSearchTables&&(g=n.getResourceById(n.searchTables,a));return g};return a}(m.RelatedFeaturesViewModelBase);m.SearchTablesRelatedFeaturesViewModel=f})(m.FeatureDetailsProviders||(m.FeatureDetailsProviders=
{}))})(f.FeatureDetails||(f.FeatureDetails={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(){function f(b,a){this.app=b;this.libraryId=a}f.prototype.registerCommands=function(){this.app.commandRegistry.command("CreateFeature").register(this,this._executeCreateFeature);this.app.commandRegistry.command("UpdateFeature").register(this,this._executeUpdateFeature);this.app.commandRegistry.command("DeleteFeature").register(this,this._executeDeleteFeature);this.app.commandRegistry.command("CreateRelatedRecord").register(this,
this._executeCreateRelatedRecord);this.app.commandRegistry.command("UpdateRelatedRecord").register(this,this._executeUpdateRelatedRecord);this.app.commandRegistry.command("DeleteRelatedRecord").register(this,this._executeDeleteRelatedRecord);this.app.commandRegistry.command("CreateAttachment").register(this,this._executeCreateAttachment)};f.prototype._executeCreateFeature=function(b){var a=this._getMapService(b.mapService);a?b.feature&&this._applyFeatureLayerEdits({mapService:a,layer:b.layer,additions:[b.feature],
updates:[],deletions:[],successCallback:b.successCallback,errorCallback:b.errorCallback}):b.errorCallback&&b.errorCallback(Error(this.app.getResource(this.libraryId,"language-feature-editing-error-no-mapservice")))};f.prototype._executeUpdateFeature=function(b){var a=this._getMapService(b.mapService);a?this._applyFeatureLayerEdits({mapService:a,layer:b.layer,additions:[],updates:[b.feature],deletions:[],successCallback:b.successCallback,errorCallback:b.errorCallback}):b.errorCallback&&b.errorCallback(Error(this.app.getResource(this.libraryId,
"language-feature-editing-error-no-mapservice")))};f.prototype._getMapService=function(b){return"string"===typeof b?this.app.site.essentialsMap.findMapServiceById(b):b};f.prototype._executeDeleteFeature=function(b){var a=this._getMapService(b.mapService);a?b.feature&&this._applyFeatureLayerEdits({mapService:a,layer:b.layer,additions:[],updates:[],deletions:[b.feature],successCallback:b.successCallback,errorCallback:b.errorCallback}):b.errorCallback&&b.errorCallback(Error(this.app.getResource(this.libraryId,
"language-feature-editing-error-no-mapservice")))};f.prototype._executeCreateRelatedRecord=function(b){b.feature&&this._applyFeatureLayerEdits({mapService:null,layer:b.layer,additions:[b.feature],updates:[],deletions:[],successCallback:b.successCallback,errorCallback:b.errorCallback})};f.prototype._executeUpdateRelatedRecord=function(b){b.feature&&this._applyFeatureLayerEdits({mapService:null,layer:b.layer,additions:[],updates:[b.feature],deletions:[],successCallback:b.successCallback,errorCallback:b.errorCallback})};
f.prototype._executeDeleteRelatedRecord=function(b){b.feature&&this._applyFeatureLayerEdits({mapService:null,layer:b.layer,additions:[],updates:[],deletions:[b.feature],successCallback:b.successCallback,errorCallback:b.errorCallback})};f.prototype._applyFeatureLayerEdits=function(b){if(b){var a=b.mapService,d=b.layer;if(a)d=a.serviceLayer;else if(d)a=new e.essentials.MapService(d.url),a.serviceLayer=d;else{this.app.trace.warning("Cannot apply edits: Missing map service and/or layer in edit descriptor.");
return}var g=b.additions||[],n=b.successCallback||function(){},q=b.errorCallback||function(){};d.applyEdits(g,b.updates||[],b.deletions||[]).then(function(a,b,e){e=null;if(b&&0<b.length)for(var h=0;h<b.length;++h){var m=b[h];if(!m.success){e=m.error;break}}if(a&&0<a.length)for(h=0;h<a.length;++h)if(b=a[h],b.success)b.GID&&d.globalIdField&&(g[h].attributes[d.globalIdField]=b.GID);else{e=b.error;break}e?q((e||{message:"Editing operation was not successful"}).message):n&&n()},function(a){q(a)})}};f.prototype._executeCreateAttachment=
function(b){var a=b.featureUrl,d=b.feature.attributes[b.layer.objectIdField],a=-1<a.indexOf("?")?a.replace("?","/{0}?".format(d)):"{0}/{1}".format(a,d);b.featureUrl=a;this._syncAttachmentToServer(b.featureUrl,b.filename,b.contentType,b.payload,b.callback)};f.prototype._syncAttachmentToServer=function(b,a,d,g,n){this.app.trace.debug("--- _syncAttachmentToServer called");try{for(var q=function(a){for(var d=new ArrayBuffer(a.length),d=new Uint8Array(d),g=0,n=a.length;g<n;g++)d[g]=a.charCodeAt(g)%255;
return d},r=b.lastIndexOf("/"),f=b.substring(0,r),l=this.app.map.graphicsLayerIds,k=null,r=0;r<l.length;r++){var p=this.app.map.getLayer(l[r]);if(p.url){var t=p.url.match(/^(.[^?]*)/);if(t&&t[0]===f){k=p;break}}}k||(k=new esri.layers.FeatureLayer(b.replace(/\/\d$/g,"")));b=-1<b.indexOf("?")?b.replace("?","/addattachment?"):b+"/addAttachment";this.app.isOffline.get()&&this.app.command("RewriteUrlForOffline").execute(b,function(a){b=a});f=null;if(k.credential&&k.credential.token)f=k.credential.token;
else{var z=k.url.match(/token=([^\?&$]*)/);z&&(f=z[1])}f&&-1===b.indexOf(f)&&(b+=0<b.indexOf("?")?"&":"?",b+="token="+f);this.app.configuration.proxyUri&&(b=e.framework.utils.makeUrlAbsolute(this.app.configuration.proxyUri)+b);this.app.trace.debug("--- Creating XHR");var s=new XMLHttpRequest;s.open("POST",b,!0);s.setRequestHeader("Content-Type","multipart/form-data; boundary=---------------------------L4717uD3G30");s.responseType="";s.onload=n;this.app.trace.debug("--- Creating request preamble");
var v="-----------------------------L4717uD3G30\r\n"+'Content-Disposition: form-data; name="attachment"; filename="{0}";\r\n'.format(a)+"Content-Type: {0}".format(d)+"\r\n\r\n";this.app.trace.debug("--- Encoding request preamble");var x=q(v);this.app.trace.debug("--- Encoding request payload");var D=h.BinTool.decode(g);this.app.trace.debug("--- Creating request suffix");this.app.trace.debug("--- Encoding request suffix");var A=q('\r\n-----------------------------L4717uD3G30\r\nContent-Disposition: form-data; name="gdbVersion"\r\n\r\n\r\n-----------------------------L4717uD3G30\r\nContent-Disposition: form-data; name="f"\r\n\r\njson\r\n-----------------------------L4717uD3G30--\r\n');
this.app.trace.debug("--- Creating payload buffer");var F=new ArrayBuffer(x.length+D.length+A.length),E=new Uint8Array(F);a=0;this.app.trace.debug("--- Merging output buffers");for(r=0;r<x.length;r++,a++)E[a]=x[r]&255;for(r=0;r<D.length;r++,a++)E[a]=D[r]&255;for(r=0;r<A.length;r++,a++)E[a]=A[r]&255;this.app.trace.debug("--- Sending request");s.send(E.buffer)}catch(G){this.app.trace.error("--- ERROR: {0}".format(G.toString())),n&&n(G)}};return f}();h.CoreEditCommands=f})(h.editing||(h.editing={}))})(h.modules||
(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));(function(e){e=e.essentialsHtmlViewer||(e.essentialsHtmlViewer={});e=e.mapping||(e.mapping={});e=e.modules||(e.modules={});(e.geolocate||(e.geolocate={})).GeolocateSpoofer=null})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.handleClickClose=function(a,d,g){this.app.viewManager.deactivateView(this);if(g&&g.onClose)g.onClose()};return b}(e.framework.ui.ViewBase);h.GeolocateStatusView=f})(h.geolocate||(h.geolocate={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(m){var f=function(e){function b(){e.apply(this,arguments);this.status=new Observable("");this.showCoordinates=new Observable(!1);this.xValueType=new Observable("");this.yValueType=new Observable("");this.xValue=new Observable("");this.yValue=new Observable("");this.imageUri=new Observable("");this.onClose=null}__extends(b,e);b.prototype.initialize=function(a){this.config=a;a.coordinateWkid&&(a.coordinateWkid=parseInt(a.coordinateWkid.toString()))};
b.prototype.updateStatus=function(a,d){var g=this;"following"===a?(this.status.set(this.app.getResource(this.libraryId,"language-geolocate-follow-in-progress")),this.imageUri.set(this.config.busyIcon||"Resources/Images/loader-small.gif"),this.showCoordinates.set(this.config.showFollowingCoordinates)):"tracking"===a?(this.status.set(this.app.getResource(this.libraryId,"language-geolocate-track-in-progress")),this.imageUri.set(this.config.busyIcon||"Resources/Images/loader-small.gif"),this.showCoordinates.set(this.config.showTrackingCoordinates)):
(this.status.set(""),this.imageUri.set(this.config.geolocateIcon||"Resources/Images/Icons/geolocate-24.png"),this.showCoordinates.set(this.config.showGeolocateCoordinates));if(this.showCoordinates)if("xy"===(this.config.coordinateFormat?this.config.coordinateFormat.toLowerCase():h.infrastructure.coordinates.AngleFormat.DD)){this.xValueType.set(this._getCoordinateResource("x"));this.yValueType.set(this._getCoordinateResource("y"));var n=this.config.coordinateWkid||this.app.map.spatialReference.wkid,
b=new esri.SpatialReference({wkid:4326}),b=new esri.geometry.Point(d.coords.longitude,d.coords.latitude,b);h.infrastructure.GeometryUtils.projectGeometry(b,new esri.SpatialReference(n),function(a){g.xValue.set(h.infrastructure.coordinates.CoordinateUtils.formatXYCoordinate(a.x,g.app,g.config.coordinateFractionalDigits));g.yValue.set(h.infrastructure.coordinates.CoordinateUtils.formatXYCoordinate(a.y,g.app,g.config.coordinateFractionalDigits))},function(a){g.app.trace.warning("Unable to project geometry for coordinate tracking: "+
a);g.xValue.set(g.getResource("language-geolocate-error-cannot-convert-coordinate"));g.yValue.set(g.getResource("language-geolocate-error-cannot-convert-coordinate"))},this.app)}else n=h.infrastructure.coordinates.CoordinateUtils.formatLatLon(d.coords.latitude,d.coords.longitude,this.config.coordinateFormat,this.app,this.config.coordinateFractionalDigits),this.xValueType.set(this._getCoordinateResource("latitude-abbrev")),this.yValueType.set(this._getCoordinateResource("longitude-abbrev")),this.xValue.set(n.latitude),
this.yValue.set(n.longitude)};b.prototype._getCoordinateResource=function(a){return this.app.getResource("Mapping.Infrastructure","language-coordinates-"+a)};return b}(e.framework.ui.ViewModelBase);m.GeolocateStatusViewModel=f})(f.geolocate||(f.geolocate={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(a,d,g){e.call(this,a,d,g);this._defaultLayerTabView=null;this._layerTabViews={};this._currFeatureProviderBindings=[];this.app.event("Internal.FeatureProviderTargetRegionsChanged").subscribe(this,this._handleFeatureChanged);this.app.command("_updateFeatureDetailViewModels").register(this,this._handleFeatureChanged)}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);if(a&&
a.hasOwnProperty("defaultTabViewForLayer")){a=a.defaultTabViewForLayer;for(var d in a)if(a.hasOwnProperty(d)){var g=a[d];if(dojo.isArray(g))for(var n=0;n<g.length;n++)this._addProperty(d,g[n]);else this._addProperty(d,g)}}};b.prototype.createDescriptorForView=function(a){a=new h.FeatureDetailsSwitcherViewDescriptor(a,this);this._processViewDescriptor(a);return a};b.prototype.checkIfSwitcherActive=function(){return 1<dojo.filter(this.viewDescriptors.get(),function(a){return a.providerEnabled.get()}).length};
b.prototype._addProperty=function(a,d){this._layerTabViews[a]||(this._layerTabViews[a]=[]);a&&"default"===d?this._defaultLayerTabView=a:null!=d.mapServiceId&&null!=d.layerId?this._layerTabViews[a].push(d):this.app.trace.warning("Invalid configuration for default layer tab view. Syntax is - {PreferredViewId} : { {mapServiceId}, {layerId} }")};b.prototype._getPreferredViewDescriptor=function(a,d){if(!a||!d)return null;for(var g in this._layerTabViews)if(this._layerTabViews.hasOwnProperty(g))for(var n=
this._layerTabViews[g],b=0;b<n.length;b++)if(a===n[b].mapServiceId&&d===n[b].layerId){var e=this._getDescriptorForFirstEligibleTabView(g);if(e)return e}};b.prototype._processViewDescriptor=function(a){var d=this,g=function(g){a.providerEnabled.bind(d,d.updateViewSwitcherState);a.providerEnabled.sync(g.providerEnabled)};a.view.viewModel?g(a.view.viewModel):dojo.aspect.after(a.view,"attach",dojo.hitch(this,g),!0)};b.prototype._handleFeatureChanged=function(a){0!==this.viewDescriptors.length()&&(this._cancelBindingsIfApplicable(),
a&&a.layer&&this._activateDefaultTabViewForLayer(a.layer.mapService?a.layer.mapService.id:null,a.layer.id))};b.prototype._activateDefaultTabViewForLayer=function(a,d){var g=this,n=null,b=!1,e=null,h=function(){for(var a=0;a<g.viewDescriptors.length();a++)if(g.viewDescriptors.getAt(a).providerEnabled.get()&&g.viewDescriptors.getAt(a).view)return g.viewDescriptors.getAt(a);return null},f=function(a){var d=a.providerEnabled,n=a.providerEnabled.bind(g,function(d){d&&(d=e&&a.view.id===e.view.id,!b||d)&&
(g.app.viewManager.activateView(a.view),d&&g._cancelBindingsIfApplicable()&&(e=null),b=!0)});g._currFeatureProviderBindings.push({currentFeatureProviderEnabledRef:d,currentFeatureProviderBindingToken:n})},n=this._getPreferredViewDescriptor(a,d);!n&&this._defaultLayerTabView&&(n=this._getDescriptorForFirstEligibleTabView(this._defaultLayerTabView));n&&!n.providerEnabled.get()&&(e=n,n=null);!n&&(n=h());n?(this.app.viewManager.activateView(n.view),b=!0,e&&f(e)):this.viewDescriptors.get().forEach(function(a){return f(a)})};
b.prototype._cancelBindingsIfApplicable=function(){this._currFeatureProviderBindings.length&&(this._currFeatureProviderBindings.forEach(function(a){a.currentFeatureProviderEnabledRef.unbind(a.currentFeatureProviderBindingToken)}),this._currFeatureProviderBindings=[])};b.prototype._getDescriptorForFirstEligibleTabView=function(a){var d=null,d=this.getDescriptorForView(this.app.viewManager.getViewById(a));if(!d){var g=this.app.viewManager.getViews().filter(function(d){return d.id.startsWith(a)});if(g.length)for(var n=
0;n<g.length&&!(d=this.getDescriptorForView(g[n]));n++);}return d};return b}(e.framework.ui.ViewSwitcher.ViewSwitcherViewModel);h.FeatureDetailsSwitcherViewModel=f})(h.FeatureDetails||(h.FeatureDetails={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(a,d){e.call(this,a,d);this._multiRegionCssBindingToken="";this.app.event("FeatureDetailsCurrentFeatureChanged").subscribe(this,this._handleFeatureChanged)}__extends(b,e);b.prototype.attach=function(a){e.prototype.attach.call(this,a);this.title.syncTransform(a.headerText,function(a){return String.unescapeHtml(a)});-1===a.viewsToActivate.indexOf(this.id)&&a.viewsToActivate.push(this.id)};b.prototype.resolveWidget=
function(a,d,g){e.prototype.resolveWidget.call(this,a,d,g);switch(a){case "FeatureDetailsRegionWidget":return(a=this.app.viewManager.createView({markupResource:"Framework.UI/geocortex/framework/ui/MultiRegion/MultiRegionView.html",libraryId:"Framework.UI",typeName:"geocortex.framework.ui.MultiRegion.MultiRegionView",isVisible:!1}))&&a.attach(d),this._processView(a),a;case "FeatureActionsWidget":return this.app.menuRegistry.createMenuWidget(this,d,g)}};b.prototype.activated=function(){e.prototype.activated.call(this)};
b.prototype.deactivated=function(){e.prototype.deactivated.call(this);this.app.behavior("FeatureDetailsClosedBehavior").run()};b.prototype._handleFeatureChanged=function(a){var d=this,g=this.app.command("ShowMap").postExecute.once(this,function(){setTimeout(function(){d.app.command("FocusOnFirstInputInView").execute(d)},0);g=null});this.app.event("ViewActivated").once(this,function(){g&&(d.app.command("ShowMap").postExecute.unsubscribe(g),setTimeout(function(){d.app.command("FocusOnFirstInputInView").execute(d)},
0))})};b.prototype._processView=function(a){var d=this,g=a.multiRegionViewElement,n="";a=function(){g.className=n+" "+d.viewModel.featureMultiRegionCss.get().trim()};this._multiRegionCssBindingToken&&(this.viewModel.featureMultiRegionCss.unbind(this._multiRegionCssBindingToken),this._multiRegionCssBindingToken="");g&&(n=g.className.trim(),a(),this._multiRegionCssBindingToken=this.viewModel.featureMultiRegionCss.bind(this,a))};return b}(e.framework.ui.ViewBase);h.FeatureDetailsView=f})(h.FeatureDetails||
(h.FeatureDetails={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this.providerEnabled=new Observable(!1)}__extends(b,e);return b}(e.framework.ui.ViewSwitcher.ViewSwitcherViewDescriptor);h.FeatureDetailsSwitcherViewDescriptor=f})(h.FeatureDetails||(h.FeatureDetails={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);a&&a.menus&&this.app.menuRegistry.loadMenus(a)};return b}(e.framework.application.ModuleBase);h.FooterModule=f})(h.footer||(h.footer={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);return b}(e.framework.ui.ViewBase);h.FooterView=f})(h.footer||(h.footer={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this.backgroundColor=new Observable("White");this.height=new Observable(0)}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);a.hasOwnProperty("backgroundColor")&&this.backgroundColor.set(a.backgroundColor);a.hasOwnProperty("height")&&this.height.set(a.height)};return b}(e.framework.ui.ViewModelBase);h.FooterViewModel=f})(h.footer||(h.footer={}))})(h.modules||
(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.handleMenuItemClick=function(a,d,g){this.deactivateIWTM();e.prototype.handleMenuItemClick.call(this,a,d,g)};b.prototype.deactivateIWTM=function(){this.app.command("DeactivateView").execute("IWantToMenuView")};return b}(e.essentialsHtmlViewer.mapping.infrastructure.menus.MenuView);h.GlobalMenuView=f})(h.GlobalMenu||(h.GlobalMenu={}))})(h.modules||(h.modules=
{}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);a&&a.menus&&this.app.menuRegistry.loadMenus(a)};return b}(e.framework.application.ModuleBase);h.GlobalMenuModule=f})(h.GlobalMenu||(h.GlobalMenu={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(e){function b(){e.apply(this,arguments);this.mobileMode=new Observable(!1)}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);this.mobileMode.set(!!this.app.configuration.mobileMode)};return b}(e.infrastructure.menus.MenuViewModel);f.GlobalMenuViewModel=k})(f.GlobalMenu||(f.GlobalMenu={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){(function(b){b[b.OUTERMOST=0]="OUTERMOST";b[b.OUTER=1]="OUTER";b[b.INNER=2]="INNER";b[b.INNERMOST=3]="INNERMOST"})(f.GradientColorType||(f.GradientColorType={}));var k=f.GradientColorType,l=function(b){function a(){b.apply(this,arguments);this._allowToggleForUserAddedLayers=!0;this._defaultIntensity=30;this._defaultGradient=["#00FFFFFF","#FF0000FF","#FFFF0000","#FFFFFF00"]}__extends(a,b);a.prototype.initialize=function(a){var g=this;
b.prototype.initialize.call(this,a);if(Modernizr.canvas){null!=a.allowToggleForUserAddedLayers&&(this._allowToggleForUserAddedLayers=a.allowToggleForUserAddedLayers);a.intensity&&(this._defaultIntensity=a.intensity);a.gradientOptions&&(a=a.gradientOptions,a.outermostColor&&(this._defaultGradient[k.OUTERMOST]=a.outermostColor),a.outerColor&&(this._defaultGradient[k.OUTER]=a.outerColor),a.innerColor&&(this._defaultGradient[k.INNER]=a.innerColor),a.innermostColor&&(this._defaultGradient[k.INNERMOST]=
a.innermostColor));if(this.app.map&&this.app.map.loaded)this._handleMapLoaded(this.app.map);else this.app.event("MapLoadedEvent").once(this,function(a){g._handleMapLoaded(a)});this._registerCommandsAndEvents()}else this.app.trace.warning("The heat map module requires a Canvas enabled Browser. IE8 does not support Canvas.")};a.prototype._handleMapLoaded=function(a){a=this.app.site;for(var g=0;g<a.essentialsMap.mapServices.length;g++){var n=a.essentialsMap.mapServices[g];if(n.heatMap&&n.heatMap.enabled)for(var b=
0;b<n.layers.length;b++)this.app.command("AddHeatMap").execute({gcxLayer:n.layers[b],onStartUp:!0})}};a.prototype._registerCommandsAndEvents=function(){this.app.command("AddHeatMap").register(this,this._executeAddHeatMap,this._canExecuteAddHeatMap);this.app.command("RemoveHeatMap").register(this,this._executeRemoveHeatMap,this._canExecuteRemoveHeatMap)};a.prototype._executeAddHeatMap=function(a){var g=this._getGeocortexLayer(a),n=h.infrastructure.VisualizationUtils.getFeatureHeatMap(g),b=this._createHeatMapRenderer(n);
if(b){var e=g.mapService.serviceLayer;e&&e instanceof esri.layers.GraphicsLayer?(a.onStartUp||this.app.command("RemoveVisualization").execute({gcxLayer:g}),n.enabled=!0,n.respectScaleRange||(n.defaultMaxScale=e.maxScale?e.maxScale:0,n.defaultMinScale=e.minScale?e.minScale:0,e.setMaxScale(0),e.setMinScale(0)),n.defaultRenderer=e.renderer,e.setRenderer(b),this.app.command("AddHeatMap").raiseCanExecuteChanged(),this.app.command("RemoveHeatMap").raiseCanExecuteChanged(),this.app.event("HeatMapAddedEvent").publish(g),
this.app.event("LayerVisualizationChangedEvent").publish(g)):this.app.trace.warning("Could not add heat map for layer with ID '{0}'. Heat map requires a graphics layer".format(g.id))}else this.app.trace.warning("Could not add heat map for layer with ID '{0}'. Invalid renderer configuration".format(g.id))};a.prototype._canExecuteAddHeatMap=function(a){return"string"!==typeof a&&a.onStartUp?!0:(a=this._getGeocortexLayer(a))&&a.mapService&&a.mapService.heatMap?!a.mapService.heatMap.enabled:!1};a.prototype._executeRemoveHeatMap=
function(a){a=this._getGeocortexLayer(a);var g=h.infrastructure.VisualizationUtils.getFeatureHeatMap(a),n=a.mapService.serviceLayer;if(n&&n instanceof esri.layers.GraphicsLayer){g.enabled=!1;var b=h.infrastructure.VisualizationUtils.getHeatMapRenderer(a);b&&(g.respectScaleRange||(n.setMaxScale(g.defaultMaxScale),n.setMinScale(g.defaultMinScale)),g.intensity=b.blurRadius,g.field=b.field,n.setRenderer(g.defaultRenderer),g.defaultRenderer=null,g=b._canvas,g.parentNode.removeChild(g));this.app.command("AddHeatMap").raiseCanExecuteChanged();
this.app.command("RemoveHeatMap").raiseCanExecuteChanged();this.app.event("HeatMapRemovedEvent").publish(a);this.app.event("LayerVisualizationChangedEvent").publish(a)}else this.app.trace.warning("Could not remove heat map for layer with ID '{0}'. Heat map requires a graphics layer".format(a.id))};a.prototype._canExecuteRemoveHeatMap=function(a){return"string"!==typeof a&&a.onStartUp?!0:(a=this._getGeocortexLayer(a))&&a.mapService&&a.mapService.heatMap?a.mapService.heatMap.enabled:!1};a.prototype._getGeocortexLayer=
function(a){return"string"===typeof a?this.app.site&&this.app.site.essentialsMap?this.app.site.essentialsMap.allLayers().filter(function(g){return a===g.mapService.id})[0]:null:a.gcxLayer};a.prototype._createHeatMapRenderer=function(a){if(a){var g=this._getHeatMapColors(a),n=new esri.renderer.HeatmapRenderer({colors:g,blurRadius:a.intensity?a.intensity:this._defaultIntensity,field:a.field?a.field:null});if(a.offset){for(var b=[],e=0;e<a.offset.length;e++)b[e]={ratio:a.offset[e],color:g[e]};n.setColorStops(b)}return n}};
a.prototype._getHeatMapColors=function(a){var g=this;return 0===a.gradient.length?this._defaultGradient.map(function(a){return h.infrastructure.ColorUtils.getStringFromHex(a)}):a.gradient.map(function(a,d){return h.infrastructure.ColorUtils.getStringFromList(a)||h.infrastructure.ColorUtils.getStringFromHex(g._defaultGradient[d])})};return a}(e.framework.application.ModuleBase);f.HeatMapsModule=l})(f.heatMaps||(f.heatMaps={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this.sliderElement=null;this.layerName=""}__extends(b,e);b.prototype.attach=function(a){e.prototype.attach.call(this,a);a.selectedLayer.bind(this,this._onSelectedLayerChanged)};b.prototype.added=function(a){e.prototype.added.call(this,a);this._setupJQuerySlider()};b.prototype._onSelectedLayerChanged=function(a){this.layerName=a.displayName;$(this.sliderElement).slider("value",this.viewModel.intensity.get())};
b.prototype._setupJQuerySlider=function(){var a=this,d={animate:!1,min:b.SLIDER_MIN_VAL,max:b.SLIDER_MAX_VAL,step:b.SLIDER_STEP_INCREMENT,orientation:"horizontal",value:b.SLIDER_MIN_VAL,change:function(d,n){return a._handleSliderValueChanged(d,n)}};$(this.sliderElement).slider(d);d=$(this.sliderElement).children(".ui-slider-handle");d.attr("title",this.getResource("language-heat-maps-intensity-slider-tooltip"));d.text(this.getResource("language-heat-maps-intensity-slider-handle"))};b.prototype._handleSliderValueChanged=
function(a,d){if(d&&void 0!=d.value){this.viewModel.intensity.set(d.value);var g="{0} {1}: {2} {3}".format(this.layerName,this.app.getResource(this.libraryId,"language-heat-maps-intensity-slider-intensity"),d.value,this.app.getResource(this.libraryId,"language-heat-maps-intensity-slider-pixels"));$(this.sliderElement).children("a").attr("aria-label",g)}};b.SLIDER_MIN_VAL=0;b.SLIDER_MAX_VAL=100;b.SLIDER_STEP_INCREMENT=1;return b}(e.framework.ui.ViewBase);h.HeatMapsView=f})(h.heatMaps||(h.heatMaps=
{}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(f){function b(a,d){var g=this;f.call(this,a,d);this._currentHeatMap=null;this.selectedLayer=new Observable(null);this.intensity=new Observable(null);this.fields=new ObservableCollection;this.selectedField=new Observable(null);this.disableFields=new Observable(!1);this.selectedLayer.bind(this,function(a){g._currentHeatMap=h.infrastructure.VisualizationUtils.getFeatureHeatMap(a);g._currentHeatMap&&(g.fields.set(g._getNumericFields(a)),
g.selectedField.set(g._currentHeatMap.field?g._currentHeatMap.field:b.EMPTY_FIELD),g.intensity.set(g._currentHeatMap.intensity))});this.fields.bind(this,function(a){g.disableFields.set(2>g.fields.get().length)});this.selectedField.bind(this,function(a){g._currentHeatMap&&g._currentHeatMap.field!==a&&(g._currentHeatMap.field=a)});this.intensity.bind(this,function(a){g._currentHeatMap&&g._currentHeatMap.intensity!==a&&(g._currentHeatMap.intensity=a)});this.app.event("VisualizationViewActivatedEvent").subscribe(this,
function(a){g.selectedLayer.set(a)})}__extends(b,f);b.prototype._getNumericFields=function(a){a=a.fields;for(var d=[{name:b.EMPTY_FIELD,displayName:this.app.getResource(this.libraryId,"language-heat-maps-none")}],g=0;g<a.length;g++){var n=a[g];this._isNumericFieldType(n.dataType)&&d.push({name:n.name,displayName:n.displayName})}1===d.length&&(d[g].displayName=this.app.getResource(this.libraryId,"language-heat-maps-no-fields"));return d};b.prototype._isNumericFieldType=function(a){switch(a){case e.essentials.EssentialsFieldTypes.essentialsFieldTypeInteger:case e.essentials.EssentialsFieldTypes.essentialsFieldTypeSmallInteger:case e.essentials.EssentialsFieldTypes.essentialsFieldTypeSingle:case e.essentials.EssentialsFieldTypes.essentialsFieldTypeDouble:return!0}return!1};
b.EMPTY_FIELD="";return b}(e.framework.ui.ViewModelBase);f.HeatMapsViewModel=k})(f.heatMaps||(f.heatMaps={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(f){function b(a,d){f.call(this,a,d);this.displayName=this.app.getResource(d,"language-heat-maps-name")}__extends(b,f);b.prototype.canSupport=function(a){return Modernizr.canvas?a&&a.mapService?a.mapService.heatMap&&a.mapService.heatMap.userCanToggle:!1:!1};b.prototype.handleCurrentLayerChanged=function(a){Modernizr.canvas&&(a=e.infrastructure.VisualizationUtils.getFeatureHeatMap(a),this.isEnabled.set(a?a.enabled:!1),this.isSupported.set(a?
a.userCanToggle:!1))};b.prototype.handleActivate=function(){this.app.command("AddHeatMap").execute({gcxLayer:this.currentLayer.get()})};b.prototype.handleApply=function(){var a=this.currentLayer.get(),d=e.infrastructure.VisualizationUtils.getFeatureHeatMap(a),g=e.infrastructure.VisualizationUtils.getHeatMapRenderer(a);if(g){var n=!1;g.blurRadius!==d.intensity&&(g.setBlurRadius(d.intensity),n=!0);g.field!==d.field&&(g.setField(d.field),n=!0);n&&a.mapService.serviceLayer.refresh()}};return b}(e.infrastructure.visualization.VisualizationProviderBase);
f.HeatMapVisualizationProvider=k})(f.heatMaps||(f.heatMaps={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(a,d){e.call(this,a,d)}__extends(b,e);b.prototype.attach=function(a){e.prototype.attach.call(this,a)};b.prototype.handleClickClose=function(){this.app.command("ClearActiveTool").execute()};b.prototype.handleToolbarItemClick=function(a,d,g){g.execute()};return b}(e.framework.ui.ViewBase);h.IdentifyOptionsView=f})(h.identify||(h.identify={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(f){function b(a,d){f.call(this,a,d);this.DEFAULT_BUFFER_ICON_URI="Resources/Images/Icons/Toolbar/buffer-identify-24.png";this.DEFAULT_SELECT_LAYERS_ICON_URI="Resources/Images/Icons/Toolbar/layers-filtered-24.png"}__extends(b,f);b.prototype.initialize=function(a){this.bufferOnIconUri=a.bufferOnIconUri||a.bufferIconUri||this.DEFAULT_BUFFER_ICON_URI;this.bufferOffIconUri=a.bufferOffIconUri||a.bufferIconUri||this.DEFAULT_BUFFER_ICON_URI;
this.selectLayersIconUri=a.selectLayersOnIconUri||a.selectLayersIconUri||this.DEFAULT_SELECT_LAYERS_ICON_URI;this.bufferToggleButton=new h.infrastructure.toolbarGroup.ToolbarToggleButton(this.app,this.libraryId,this._getBufferToggleButtonEntry());this.selectLayersButton=new h.infrastructure.toolbarGroup.ToolbarButton(this.app,this.libraryId,this._getSelectLayersButtonEntry())};b.prototype._getBufferToggleButtonEntry=function(){var a={};a.id=e.framework.utils.alphaNumericToken();a.type="toggleButton";
a.hideOnDisable=!1;a.tooltip=this.app.getResource(this.libraryId,"language-toolbar-buffer-toggle-tooltip");a.toggleOn={};a.toggleOn.name=this.app.getResource(this.libraryId,"language-toolbar-toggle-buffer-on-name");a.toggleOn.iconUri=this.bufferOnIconUri;a.toggleOn.command="ActivateBufferingAndDisplayOptions";a.toggleOn.commandParameter="Identify";a.toggleOff={};a.toggleOff.name=this.app.getResource(this.libraryId,"language-toolbar-toggle-buffer-off-name");a.toggleOff.iconUri=this.bufferOffIconUri;
a.toggleOff.command="DeactivateBufferingAndDismissOptions";a.toggleOff.commandParameter="Identify";return a};b.prototype._getSelectLayersButtonEntry=function(){var a={};a.id=e.framework.utils.alphaNumericToken();a.type="button";a.tooltip=this.app.getResource(this.libraryId,"language-toolbar-select-layers-toggle-tooltip");a.name=this.app.getResource(this.libraryId,"language-toolbar-select-layers-toggle-on-name");a.command="ActivateSelectLayersForIdentify";a.commandParameter=null;a.hideOnDisable=!1;
a.iconUri=this.selectLayersIconUri;return a};return b}(e.framework.ui.ViewModelBase);f.IdentifyOptionsViewModel=k})(f.identify||(f.identify={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){var h=function(){function e(b,a){this.mapServiceLayersToIdentify=[];this.app=b;this.identifyModule=a;if(this.app.site&&this.app.site.isInitialized)this.onSiteInitialized();else this.app.event("SiteInitializedEvent").once(this,this.onSiteInitialized)}e.prototype.onSiteInitialized=function(){this._loadMapServicesAndLayers();this.registerCommands();this.subscribeEvents()};e.prototype.registerCommands=function(){this.app.command("EnableAllLayersForIdentify").register(this,
this.executeEnableAllLayersForIdentify);this.app.command("DisableAllLayersForIdentify").register(this,this.executeDisableAllLayersForIdentify);this.app.command("EnableLayerForIdentify").register(this,this.executeEnableLayerForIdentify);this.app.command("DisableLayerForIdentify").register(this,this.executeDisableLayerForIdentify)};e.prototype.subscribeEvents=function(){this.app.event("MapServiceAddedEvent").subscribe(this,this._loadMapServicesAndLayers);this.app.event("MapServiceRemovedEvent").subscribe(this,
this._loadMapServicesAndLayers);this.app.event("MapServiceLayersChangedWithResultEvent").subscribe(this,this._loadMapServicesAndLayers)};e.prototype.executeEnableAllLayersForIdentify=function(){for(var b=0;b<this.mapServiceLayersToIdentify.length;b++){var a=this.mapServiceLayersToIdentify[b],d=this.app.site.essentialsMap.findMapServiceById(a.mapServiceId);if(d){for(var g=[],n=0;n<d.layers.length;n++)d.layers[n].identifiable&&g.push(d.layers[n].id);a.layerIds=g;a.mapServiceIdentifiable=!!d.identifiable;
this.app.event("AllLayersEnabledForIdentifyEvent").publish(this.mapServiceLayersToIdentify)}else this.app.trace.error("LayerSelectorForIdentify: Could not apply EnableAllLayersForIdentify to map service with id {0}. Map service not found.".format(a.mapServiceId))}};e.prototype.executeDisableAllLayersForIdentify=function(){for(var b=0;b<this.mapServiceLayersToIdentify.length;b++){var a=this.mapServiceLayersToIdentify[b];a.mapServiceIdentifiable=!1;a.layerIds=[]}this.app.event("AllLayersDisabledForIdentifyEvent").publish(this.mapServiceLayersToIdentify)};
e.prototype.executeEnableLayerForIdentify=function(b){for(var a=0;a<this.mapServiceLayersToIdentify.length;a++){var d=this.mapServiceLayersToIdentify[a];if(d.mapServiceId===b.mapServiceId){var g=this.app.site.essentialsMap.findMapServiceById(b.mapServiceId),n=b.layerId?g&&g.findLayerById(b.layerId):null;if(n&&n.identifiable||!n&&g&&g.identifiable){n?d.layerIds.push(b.layerId):d.mapServiceIdentifiable=!0;this.app.event("LayerEnabledForIdentifyEvent").publish(b);break}}}};e.prototype.executeDisableLayerForIdentify=
function(b){for(var a=0;a<this.mapServiceLayersToIdentify.length;a++){var d=this.mapServiceLayersToIdentify[a];if(d.mapServiceId===b.mapServiceId)if(null!=b.layerId)for(var g=d.layerIds.length-1;0<=g;g--){if(null!=b.layerId&&d.layerIds[g]===b.layerId){d.layerIds.splice(g,1);this.app.event("LayerDisabledForIdentifyEvent").publish(b);break}}else if(!0===d.mapServiceIdentifiable){d.mapServiceIdentifiable=!1;this.app.event("LayerDisabledForIdentifyEvent").publish(b);break}}};e.prototype._loadMapServicesAndLayers=
function(){for(var b=this.mapServiceLayersToIdentify.length=0;b<this.app.site.essentialsMap.mapServices.length;b++){for(var a=this.app.site.essentialsMap.mapServices[b],d=[],g=0;g<a.layers.length;g++)a.layers[g].identifiable&&d.push(a.layers[g].id);this.mapServiceLayersToIdentify.push({mapServiceId:this.app.site.essentialsMap.mapServices[b].id,mapServiceIdentifiable:!!a.identifiable,layerIds:d})}this.app.event("AllLayersEnabledForIdentifyEvent").publish(this.mapServiceLayersToIdentify)};return e}();
e.LayerSelectorForIdentify=h})(e.identify||(e.identify={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(){function f(b,a){this._identifyTaskErrorCount=this._identifyTaskCompletedCount=this._identifyTaskExecutedCount=0;this._isCancelled=this._taskExecutionComplete=!1;this._featureLayers={};this.mapServicesAndLayersToIdentify=this.delayedFSCOpen=this.tag=this.map=this.app=null;this.app=a||null;this.map=b}f.prototype.getFeatureLayer=function(b){return b?this._featureLayers[b.id]:null};f.prototype.execute=function(b,a,d,g,n){var q=
this;n=this.app.site.essentialsMap.mapServices.filter(function(a){if(a.mapServiceType===e.essentials.MapServiceType.IMAGE&&a.isVisible()){var d=a.identifiable;if(q.mapServicesAndLayersToIdentify)for(var g in q.mapServicesAndLayersToIdentify)q.mapServicesAndLayersToIdentify.hasOwnProperty(g)&&q.mapServicesAndLayersToIdentify[g].mapServiceId===a.id&&(d=q.mapServicesAndLayersToIdentify[g].mapServiceIdentifiable);return d}return!1});this.delayedFSCOpen&&n&&0<n.length&&this.delayedFSCOpen();this._identifyTaskErrorCount=
this._identifyTaskCompletedCount=this._identifyTaskExecutedCount=0;this._taskExecutionComplete=!1;var r=new esri.tasks.ImageServiceIdentifyParameters,f=this._getIdentifyGeometry(b);r.geometry=f;r.returnGeometry=!0;for(b=0;b<n.length;b++){var m=n[b],l=m.serviceLayer;r.returnCatalogItems=m.includeCatalogItems||m.includeMosaicDatasetValues;l.mosaicRule&&(r.mosaicRule=l.mosaicRule);l.renderingRule&&(r.renderingRule=l.renderingRule);this._identifyTaskExecutedCount++;var k=this,p=new esri.tasks.ImageServiceIdentifyTask(h.infrastructure.taskUtils.getTokenizedUrl(m.serviceUrl,
m));this._fetchFieldMetadata(m)["catch"](function(a){}).then(function(){p.execute(r,dojo.hitch(m,function(g){k._isCancelled||(g.location=f,k._identifyTaskCompletedCount++,a(k,g,this),k._conditionallyInvokeCompleteCallback(k,d))}),dojo.hitch(m,function(a){k._isCancelled||(k._identifyTaskCompletedCount++,k._identifyTaskErrorCount++,g(k,a,this),k._conditionallyInvokeCompleteCallback(k,d))}))})}this._taskExecutionComplete=!0;this._conditionallyInvokeCompleteCallback(this,d)};f.prototype._getIdentifyGeometry=
function(b){if(b instanceof esri.geometry.Point)return b;if(b instanceof esri.geometry.Polygon)return b.getCentroid();if(b instanceof esri.geometry.Polyline)return h.infrastructure.GeometryUtils.getMiddle(b)};f.prototype._conditionallyInvokeCompleteCallback=function(b,a){b._taskExecutionComplete&&b._identifyTaskExecutedCount==b._identifyTaskCompletedCount&&a(b)};f.prototype.cancel=function(){this._isCancelled=!0};f.prototype._fetchFieldMetadata=function(b){var a=this;return this._featureLayers[b.id]?
Promise.resolve():b.getFeatureLayer().then(function(d){a._featureLayers[b.id]=d})};return f}();f.RasterIdentifyTask=k})(f.identify||(f.identify={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this._identifyTask=null}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a)};b.prototype.search=function(a,d){var g=this,n=null;if(!d.restrictRasterIdentifyToPoint||"point"===d.geometry.type){if(d.delayFSCOpen)var b=a.id,e=!1,n=function(){e||(e=!0,g.app.featureSetManager.openCollection(b))};else this.app.featureSetManager.openCollection(a.id);this._identifyTask=
new h.RasterIdentifyTask(this.app.map,this.app);this._identifyTask.tag=a;d.identifiableLayerInfo&&(this._identifyTask.mapServicesAndLayersToIdentify=d.identifiableLayerInfo);n&&(this._identifyTask.delayedFSCOpen=n);setTimeout(function(){g._identifyTask.execute(d.geometry,function(a,d,n){g.identifyTaskProgress(a,d,n)},function(a){g.identifyTaskComplete(a)},function(a,d,n){g.identifyTaskError(a,d,n)})},0)}};b.prototype.identifyTaskProgress=function(a,d,g){a=a.tag;var n=new h.RasterIdentifyUtils(g,this.app,
this.libraryId);n.featureLayer=this._identifyTask.getFeatureLayer(g);n.includeCatalogItems=g.includeCatalogItems;n.includeMosaicDatasetValues=g.includeMosaicDatasetValues;n.appendToFeatureSetCollection(d,a)};b.prototype.identifyTaskComplete=function(a){this.app.featureSetManager.tryCloseCollection(a.tag.id)};b.prototype.identifyTaskError=function(a,d,g){this.app.featureSetManager.tryCloseCollection(a.tag.id);a=this.getResource("language-identify-error-message",null).format(d.message,d.details);this.app.command("Alert").execute(a);
g&&this.app.trace.error("Error performing identify operation on service {0}. Message: {1}. Error details: {2}.".format(g.serviceLayer.url,d.message,d.details))};b.prototype.cancelSearch=function(){this._identifyTask&&this._identifyTask.cancel()};return b}(e.essentialsHtmlViewer.mapping.infrastructure.identify.IdentifyProviderBase);h.RasterIdentifyTaskIdentifyProvider=f})(h.identify||(h.identify={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=e.essentialsHtmlViewer.mapping.infrastructure.TimeZoneUtils,l=function(){function b(a,d,g){this.includeMosaicDatasetValues=this.includeCatalogItems=!1;this._libraryId=g;this._mapService=a;this._app=d}b.prototype.appendToFeatureSetCollection=function(a,d){if(a){null==d&&(d=new h.infrastructure.FeatureSetCollection);if("NoData"!==a.value){var g=this._mapService.serviceLayer.fields;if(a.location){var n=[],b=[],e=this._mapService.serviceLayer.bandCount;
if((e&&0<e||!e)&&a.value){var f=[a.value];this.includeMosaicDatasetValues&&a.properties&&0<a.properties.Values.length&&(f=f.concat(a.properties.Values));if(f&&0<f.length)for(var m=0;m<f.length;m++){var l=new esri.Graphic(a.location);l.attributes=[];var k;k=-1!==f[m].indexOf(",")?f[m].replace(/ /g,""):f[m].replace(/ /g,",");var p={};if(!e||1<e)p.value=k;for(var z=0;z<e;z++){var s=k.indexOf(","),s=-1!==s?s:0,v=0!=s?k.substring(0,s):k,x=1<e?"value"+(z+1).toString():"value";k=k.substring(0!==s?s+1:s,
k.length);s=null;0===m?(s=this._getFieldTypeInformation(v),b.push({name:x,alias:x,type:s})):s=b.filter(function(a){return a.name===x})[0].type;p[x]=this._parseAttributeValue(v,s)}l.setAttributes(p);n.push(l)}}this._createAndAddGcxFeatureSet("value",d,n,a.location.type,a.location.spatialReference,this._mapService.displayName+", {value}")}this.includeCatalogItems&&a.catalogItems&&a.catalogItems.features&&(n=a.catalogItems,n.displayFieldName=n.displayFieldName?0<g.length?g[0].name:n.displayFieldName:
n.objectIdFieldName,n.features=n.features.filter(function(d,g){return a.catalogItems&&1===a.catalogItemVisibilities[g]?!0:!1}),g=this._app.getResource(this._libraryId,"language-rasterIdentify-catalogItem-labelFormat").format(this._mapService.displayName,"{"+n.displayFieldName+"}"),this._createAndAddGcxFeatureSetFromEsriFeatureSet(n,g,d))}return d}};b.prototype._parseAttributeValue=function(a,d){switch(d){case e.essentials.EsriFieldTypes.esriFieldTypeSingle:case e.essentials.EsriFieldTypes.esriFieldTypeDouble:return parseFloat(a);
case e.essentials.EsriFieldTypes.esriFieldTypeSmallInteger:case e.essentials.EsriFieldTypes.esriFieldTypeInteger:return parseInt(a);default:return null}};b.prototype._getFieldTypeInformation=function(a){if($.isNumeric(a))if(a=Number(a),0!==Math.abs(a%1)){if(-3.4E38<=a&&1.2E38>=a)return e.essentials.EsriFieldTypes.esriFieldTypeSingle;if(-Infinity<=a&&Infinity>=a)return e.essentials.EsriFieldTypes.esriFieldTypeDouble}else{if(-32768<=a&&32767>=a)return e.essentials.EsriFieldTypes.esriFieldTypeSmallInteger;
if(-2147483648<=a&&2147483647>=a)return e.essentials.EsriFieldTypes.esriFieldTypeInteger}return e.essentials.EsriFieldTypes.esriFieldTypeString};b.prototype._createAndAddGcxFeatureSet=function(a,d,g,n,b,e){a=new esri.tasks.FeatureSet({displayFieldName:a});a.geometryType=n;a.spatialReference=b;a.features=g;this._createAndAddGcxFeatureSetFromEsriFeatureSet(a,e,d)};b.prototype._createAndAddGcxFeatureSetFromEsriFeatureSet=function(a,d,g){var n=this,b=new h.infrastructure.FeatureSet({esriFeatureSet:a,
featureLayer:this.featureLayer,defaultDateFormat:this._mapService.defaultDateFormat,defaultNumberFormat:this._mapService.defaultNumberFormat});b.displayName.set(this._mapService.displayName);b.iconUri.set(this._mapService.iconUri);b.features.get().forEach(function(a){a.labelFormat.set(d);a.timeZoneId=k.getTimeZoneFromMapService(n._mapService);a.displayTimeZoneId=k.getDisplayTimeZoneFromMapService(n._mapService)});if(0<b.features.get().filter(function(a){return h.infrastructure.GeometryUtils.needsProjection(a.esriFeature.get().geometry,
n._app)}).length&&g){a=b.features.get().map(function(a){return a.esriFeature.get().geometry});var e=new esri.tasks.ProjectParameters;e.geometries=a;e.outSR=this._app.map.extent.spatialReference;h.infrastructure.GeometryUtils.project(e,function(a){b.features.get().forEach(function(d,g){d.esriFeature.get().setGeometry(a[g])});g.featureSets.addItem(b)},function(a){g.featureSets.addItem(b)},this._app)}else g.featureSets.addItem(b)};b.prototype._convertEsriFeatureToGcxFeature=function(a,d,g,n,b){d=new h.infrastructure.Feature({graphic:d,
layer:g,resolveLayerFields:!!n,allowUnsafeContent:!!b});d.labelFormat.set(a);return d};return b}();f.RasterIdentifyUtils=l})(f.identify||(f.identify={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(f){function b(a,d){f.call(this,a,d);this.VIEWER_TYPE_FOR_INSIGHT="Geocortex Viewer for HTML5";this.SECURITY_ISSUER_NAME="http://www.geocortex.net/security/claims/issuer-name";this.I_WANT_TO_MENU_ID="IWANTTO";this.TOOL_EVENT_SOURCE_IWTM="IWantToMenu";this.TOOL_EVENT_SOURCE_TOOLBAR="Toolbar";this._eventRelay=null;this._pendingEvents=[];this._datalinkResolutionTimes={};this._layerLoadTimes={};this._printTemplateTimes={};
this._reportTemplateTimes={};this._searchTimes={};this._webRequestTimes={};this._workflowTimes={}}__extends(b,f);b.prototype.initialize=function(a){var d=this;this._loggingEnabled=a&&void 0!=a.enabled?a.enabled:!1;if(!1!==this._loggingEnabled&&!this.app.isOffline.get()){this._dataRelayIntervalInSeconds=a&&a.dataRelayIntervalInSeconds?a.dataRelayIntervalInSeconds:30;this._dataRelayUri=a&&a.dataRelayUri?a.dataRelayUri:"http://localhost/Geocortex/Insight/Insight/ClientRelay";this._requiresProxy(this._dataRelayUri)&&
(this._dataRelayUri=this.app.configuration.proxyUri+this._dataRelayUri);a=this.app.configModel.viewerId;var g=this.app.version,n=this.app.configModel.moduleConfigs.filter(function(a){return"Site"===a.moduleName});if(0===n.length)this._loggingEnabled=!1;else{var n=this.app.makeAbsolute(n[0].configuration.siteUri),b=/(.*)\/(REST\/sites)\/(.*)(\/)?/i.exec(n);if(null==b||4>b.length)this._loggingEnabled=!1;else{this._eventRelay=new e.insight.EventRelay(this.VIEWER_TYPE_FOR_INSIGHT,a,b[3],n,g,this._dataRelayUri);
this._listenForUnhandledExceptions();null!=this.app.site&&this.app.site.isInitialized||(this.app.event("SiteInitializingEvent").once(this,this._handleSiteInitializingStarted),this.app.event("SiteInitializedEvent").once(this,this._handleSiteInitializedCompleted));if(this.app.map&&this.app.map.loaded)this._onMapInitialized();else this.app.event("MapLoadedEvent").once(this,function(){d._onMapInitialized()});this.app.event("AuthenticationSucceededEvent").once(this,function(a){return d._logAuthenticationEvent(a,
!0)});this.app.event("AuthenticationFailedEvent").once(this,function(a){return d._logAuthenticationEvent(a,!1)});this.app.event("ActiveToolChangedEvent").subscribe(this,this._handleActiveToolChanged);this.app.event("DatalinkResolutionStartedEvent").subscribe(this,this._handleDatalinkResolutionStarted);this.app.event("DatalinkResolutionCompletedEvent").subscribe(this,this._handleDatalinkResolutionCompleted);this.app.event("EsriWebRequestStartedEvent").subscribe(this,this._handleWebRequestStarted);
this.app.event("EsriWebRequestCompletedEvent").subscribe(this,this._handleWebRequestCompleted);this.app.event("LayerVisibilityChangedEvent").subscribe(this,this._handleLayerVisibilityChanged);this.app.event("MenuItemInvokedEvent").subscribe(this,this._handleMenuItemInvoked);this.app.event("PrintTemplateStartedEvent").subscribe(this,this._handlePrintTemplateStarted);this.app.event("PrintTemplateCompletedEvent").subscribe(this,this._handlePrintTemplateCompleted);this.app.event("ReportTemplateStartedEvent").subscribe(this,
this._handleReportTemplateStarted);this.app.event("ReportTemplateCompletedEvent").subscribe(this,this._handleReportTemplateCompleted);this.app.event("SearchProgressEvent").subscribe(this,this._handleSearchProgressChanged);this.app.event("SiteLayerLoadingEvent").subscribe(this,this._handleSiteLayerLoading);this.app.event("SiteLayerLoadedEvent").subscribe(this,this._handleSiteLayerLoaded);this.app.event("ToolbarButtonClickedEvent").subscribe(this,this._handleToolbarButtonClicked);this.app.event("TraceEvent").subscribe(this,
this._handleTrace);this.app.event("WorkflowWebRequestStartedEvent").subscribe(this,this._handleWorkflowWebRequestStarted);this.app.event("WorkflowWebRequestCompletedEvent").subscribe(this,this._handleWorkflowWebRequestCompleted)}}}};b.prototype._onMapInitialized=function(){this._eventRelay.setupMap(this.app.map)};b.prototype._logEvent=function(a,d){!1!==this._loggingEnabled&&(null!=this._eventRelay?this._eventRelay.logEvent(a,d):this._pendingEvents.push({eventName:a,eventData:d}))};b.prototype._listenForUnhandledExceptions=
function(){var a=this,d=window;"undefined"!==typeof window.addEventListener&&-1===navigator.appVersion.indexOf("MSIE 9.")?window.addEventListener("error",function(d){return a._onUnhandledException(d)}):"undefined"!==typeof d.attachEvent&&d.attachEvent("onerror",function(d){return a._onUnhandledException(d)});if("undefined"!==typeof Promise)Promise.onPossiblyUnhandledRejection(function(d){return a._onUnhandledException(d)})};b.prototype._logAuthenticationEvent=function(a,d){var g=this,n=this.app.site.principal.identities[0].claims.filter(function(a){return a.type===
g.SECURITY_ISSUER_NAME}),b={username:a.username,success:d};0<n.length&&(b.authority=n[0].value);this._logEvent("Authentication",b)};b.prototype._handleActiveToolChanged=function(a){if(a.tool){var d={name:a.tool.name,location:this.TOOL_EVENT_SOURCE_TOOLBAR};a.tool instanceof h.infrastructure.tools.MapTool&&(a=a.tool,d.command=a.command,d.drawMode=a.drawMode);this._logEvent("Tool",d)}};b.prototype._handleDatalinkResolutionStarted=function(a,d){this._datalinkResolutionTimes[a]=new Date};b.prototype._handleDatalinkResolutionCompleted=
function(a,d){var g=new Date,n=this._datalinkResolutionTimes[a];if(null!=n){var b=0;d.features.get().forEach(function(d){b+=d.dataLinkingResults.get().filter(function(d){return d.dataLink.get().id===a}).length});g={datalinkID:a,featureResults:b,time:g.getTime()-n.getTime()};this._logEvent("Datalink",g)}};b.prototype._handleLayerVisibilityChanged=function(a){if(!1!==this.app.map.loaded)for(var d=0;d<a.length;d++){var g=a[d],n,b;switch(g.mapService.mapServiceType){case e.essentials.MapServiceType.DYNAMIC:n=
g.mapService.serviceUrl+"/"+g.layer.id;b=g.mapService.serviceUrl;break;case e.essentials.MapServiceType.FEATURE:n=g.mapService.serviceUrl;b=/(.*)\/(MapServer|FeatureServer)\/(d*)/.exec(g.mapService.serviceUrl);b=b[1]+"/"+b[2];break;case e.essentials.MapServiceType.WMS:b=g.mapService.mapUrl;n=g.mapService.mapUrl+"layers="+g.layer.name;break;default:continue}this._logEvent("VisibleLayer",{layerURL:n,mapServiceURL:b,visible:g.visibility})}};b.prototype._handleMenuItemInvoked=function(a){if(null!=a.menuItem&&
null!=a.menuItem.menuViewModel&&a.menuItem.menuViewModel.menuId.toUpperCase()===this.I_WANT_TO_MENU_ID){var d={name:a.menuItem.menuItem.text,location:this.TOOL_EVENT_SOURCE_IWTM};d.command=a.menuItem.menuItem.command.name;d.commandParameter=a.menuItem.menuItem.commandParameter;this._logEvent("Tool",d)}};b.prototype._handlePrintTemplateStarted=function(a){this._printTemplateTimes[a.id]=new Date};b.prototype._handlePrintTemplateCompleted=function(a){var d=new Date,g=this._printTemplateTimes[a.id];null!=
g&&(a={templateID:a.id,time:d.getTime()-g.getTime()},this._logEvent("Print",a))};b.prototype._handleReportTemplateStarted=function(a,d,g){this._reportTemplateTimes[a]=new Date};b.prototype._handleReportTemplateCompleted=function(a,d,g){var n=new Date,b=this._reportTemplateTimes[a],e=this.app.site.essentialsMap.mapServices.filter(function(a){return a.id===d});if(0!==e.length){var h=e[0].layers.filter(function(a){return a.name===g});0!==h.length&&null!=b&&(a={templateID:e[0].serviceUrl+"|"+h[0].id+
"|"+a,time:n.getTime()-b.getTime()},this._logEvent("Report",a))}};b.prototype._handleSearchProgressChanged=function(a){if(null!=a.searchType&&""!==a.searchType&&("ArcGIS"===a.searchType||"InstantSearch"===a.searchType||"InstantSearchHints"===a.searchType||"ArcGISGeocode"===a.searchType))if(a.status===h.infrastructure.search.Status.SEARCHING)null==this._searchTimes[a.searchType]&&(this._searchTimes[a.searchType]=new Date);else if(a.status===h.infrastructure.search.Status.IDLE){var d=new Date,g=this._searchTimes[a.searchType];
if(null!=g){var n=0;if(null!=a.results)for(var b=0;b<a.results.featureSets.getLength();b++)var e=a.results.featureSets.getAt(b),n=n+e.features.getLength();"ArcGISGeocode"===a.searchType?(d={mapServiceURL:a.endpointUrl,searchText:a.query,geocodeType:"Forward",resultCount:n,time:d.getTime()-g.getTime()},this._logEvent("Geocode",d)):(d={searchText:a.query,searchType:a.searchType,resultCount:n,time:d.getTime()-g.getTime()},this._logEvent("Search",d))}this._searchTimes[a.searchType]=null}};b.prototype._handleSiteInitializingStarted=
function(a){this._siteInitializationStartTime=new Date};b.prototype._handleSiteInitializedCompleted=function(a){a=new Date;var d=this._siteInitializationStartTime;null!=d&&(a={time:a.getTime()-d.getTime()},this._logEvent("SiteInitialization",a))};b.prototype._handleSiteLayerLoading=function(a){this._layerLoadTimes[a.url]=new Date};b.prototype._handleSiteLayerLoaded=function(a){var d=new Date,g=this._layerLoadTimes[a.url];if(null!=g){var n="",b="",b=/(.*)\/(MapServer|FeatureServer)\/(d*)/;b.test(a.url)?
(n=b.exec(a.url),b=n[1]+"/"+n[2],n=a.url):b=a.url;a={layerURL:n,mapServiceURL:b,time:d.getTime()-g.getTime()};this._logEvent("ServiceLayerInitialization",a)}};b.prototype._handleToolbarButtonClicked=function(a){this._logEvent("Tool",{name:a.id,location:this.TOOL_EVENT_SOURCE_TOOLBAR,command:a.commandName,commandParameter:a.commandParameter})};b.prototype._handleTrace=function(a){"debug"!==a.level&&"trace"!==a.level&&"info"!==a.level&&this._logEvent("Log",{message:a.message,level:a.level,stackTrace:a.stack})};
b.prototype._handleWebRequestStarted=function(a){/^(.*)\/GeometryServer\/(\w+)$/.test(a)&&(this._webRequestTimes[a]=new Date)};b.prototype._handleWebRequestCompleted=function(a){var d=/^(.*)\/GeometryServer\/(\w+)$/;if(d.test(a)){var g=new Date,n=this._webRequestTimes[a];null!=n&&(d=d.exec(a),g={mapServiceURL:d[1]+"/GeometryServer",geometryCommand:d[2],time:g.getTime()-n.getTime()},this._logEvent("GeometryRequest",g));this._webRequestTimes[a]=null}};b.prototype._handleWorkflowWebRequestStarted=function(a,
d){this._workflowTimes[d.id]=new Date};b.prototype._handleWorkflowWebRequestCompleted=function(a,d){var g=new Date,n=this._workflowTimes[d.id];null!=n&&(g={workflowID:d.id,workflowURL:a,time:g.getTime()-n.getTime()},this._logEvent("WorkflowRequest",g))};b.prototype._onUnhandledException=function(a){var d=a.error;a={message:"undefined"!==typeof d?d.message:a};"undefined"!==typeof d&&(a.stackTrace=d.stack);this._logEvent("UnhandledException",a)};b.prototype._requiresProxy=function(a){a=new dojo._Url(a);
var d=window.location;return(a.scheme||a.host||a.port)&&d.protocol+"//"+d.hostname+(d.port?":"+d.port:"")!==a.scheme+"://"+a.host+(a.port?":"+a.port:"")?!0:!1};return b}(e.framework.application.ModuleBase);f.InsightIntegrationModule=k})(f.insightIntegration||(f.insightIntegration={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(k){(function(m){var k=function(m){function b(){m.apply(this,arguments);this._connectedComponents=[];this._componentStates=[];this._eventSubscriptions=[];this._commandSubscriptions=[];this._previousScale=this._pitch=this._heading=0;this._componentIgnoreUpdates=this._ignoreUpdates=!1;this._ignoreUpdateInterval=250}__extends(b,m);b.prototype.initialize=function(a){var d=this;this._incomingMessageTransport=new f.integration.PostMessageTransport(window,
null,"Viewer");this._incomingMessageTransport.allowOrigin("{0}//{1}".format(window.location.protocol,window.location.host));this._incomingMessageTransport.onMessage=function(a){return d._handleBridgeMessage(a)};a.allowedOrigins&&a.allowedOrigins.forEach(function(a){return d._incomingMessageTransport.allowOrigin(a)});this._registerCommandsAndEvents()};b.prototype._registerCommandsAndEvents=function(){this.app.command("ListenToExternalComponentFrame").register(this,this._executeListenToExternalComponentFrame);
this.app.command("ToggleExternalComponentSyncById").register(this,this._executeToggleExternalComponentSyncById);this.app.command("BroadcastCurrentViewpoint").register(this,this._executeBroadcastCurrentViewpoint);this.app.event("ComponentViewpointUpdatedEvent").subscribe(this,this._handleComponentViewpointUpdatedEvent);this.app.event("MapExtentChangedEvent").subscribe(this,this._handleMapExtentChangedEvent);this.app.event("ApplicationResizedEvent").subscribe(this,this._handleApplicationResizedEvent)};
b.prototype._handleComponentViewpointUpdatedEvent=function(a){var d=this;if(a){var g=this._getComponent(this._commandOrEventSender);if(g){this._lastUpdaterName=g.id;g.sync&&a.heading&&(this._heading=a.heading);var n;n=a.extent?new esri.geometry.Extent(a.extent):new esri.geometry.Point(a.center);n.spatialReference=n.spatialReference||g.preferredSpatialReference;var b=new esri.tasks.ProjectParameters;b.geometries=[n];b.outSR=this.app.map.spatialReference;h.infrastructure.GeometryUtils.project(b,function(n){n=
n[0];n instanceof esri.geometry.Extent?g.sync&&!d._ignoreUpdates?(d.app.command("ZoomToExtent").execute(n),d._updateSyncedViewpointIndicator()):g.sync||d._updateViewpointIndicator(g.name,g.viewpointIndicatorUri,n.getCenter(),a.heading):g.sync&&!d._ignoreUpdates?(a.scale&&a.scale!==d._previousScale&&(d._previousScale=a.scale,d.app.command("ZoomToScale").execute(a.scale)),d.app.command("PanToPoint").execute(n),d._updateSyncedViewpointIndicator()):g.sync||d._updateViewpointIndicator(g.name,g.viewpointIndicatorUri,
n,a.heading)},function(a){d.app.trace.warning("An error occurred while attempting to project the current extent for third-party map components: "+a)},this.app)}else this.app.trace.warning("Received a viewpoint update from an unrecognized component.")}};b.prototype._executeBroadcastCurrentViewpoint=function(a){if(a=this._getComponentByName(a)){var d=this._currentViewpoint;this._lastUpdaterName=null;d.updaterName=this._lastUpdaterName;this._updateViewpointIndicator(a.name,a.viewpointIndicatorUri,d.extent.getCenter(),
this._heading);this._broadcastViewpoint(d,a,!0)}else this.app.trace.warning("Received a broadcast request from an unrecognized component.")};b.prototype._executeListenToExternalComponentFrame=function(a){var d=$(a.elementSelector,this.app.getHostElement())[0],g=d?d.contentWindow:a.contentWindow;if(g){var d=e.framework.utils.alphaNumericToken(32),n=a.name,g=new f.integration.PostMessageTransport(null,g,n);a={id:d,name:n,transport:g,preferredSpatialReference:new esri.SpatialReference({wkid:4326}),sync:!1,
viewpointIndicatorUri:a.viewpointIndicatorUri};this._connectedComponents.push(a)}else this.app.trace.error("Could not listen to remote component. No element to listen to found for selector '{0}' and no context window provided.".format(a.elementSelector))};b.prototype._executeToggleExternalComponentSyncById=function(a){if(a=this._getComponentByName(a))if(a.sync=!a.sync,a.sync){this._removeViewpointIndicator(a.name);this._updateSyncedViewpointIndicator();var d=this._currentViewpoint;d.updaterName=null;
this._broadcastViewpoint(d,a)}else this._removeSyncedViewpointIndicator(),this._updateViewpointIndicator(a.name,a.viewpointIndicatorUri,this.app.map.extent.getCenter(),this._heading);else this.app.trace.warning("Received a sync update from an unrecognized component.")};b.prototype._handleHandshakeRequest=function(a){a.payload?(a=this._getComponentByName(a.payload))?(a.transport.send({messageName:e.essentialsHtmlViewer.integration.protocol.HandshakeResponse,componentId:a.id}),this._handleRemoteComponentInitialized(a)):
this.app.trace.warning("Received a handshake request from an unrecognized component."):this.app.trace.warning("Received a handshake request without a specified id.")};b.prototype._handleRemoteComponentDisconnect=function(a){var d=this._getComponent(a.componentId);d?(a.payload&&this._updateComponentState(a.payload),this._removeComponent(a.componentId),d.sync?this._removeSyncedViewpointIndicator():this._removeViewpointIndicator(d.name)):this.app.trace.warning("An unknown component broadcasted a disconnect message.")};
b.prototype._updateComponentState=function(a){var d=e.framework.utils.ArrayUtils.firstOrDefault(this._componentStates,function(d){return d.id===a.id});d&&e.framework.utils.ArrayUtils.removeItem(this._componentStates,d);this._componentStates.push(a)};b.prototype._removeComponent=function(a){a=this._getComponent(a);if(!a)return!1;a=this._connectedComponents.indexOf(a);if(0>a)return!1;this._connectedComponents.splice(a,1);return!0};b.prototype._sendToAll=function(a,d){var g=this;this._connectedComponents.forEach(function(n){if(!d||
n.id!==d)try{n.transport.send(a)}catch(b){g.app.trace.warning("Could not send message '{0}' to component '{1}' (ID: '{2}'): {3}".format(a.messageName,n.name,n.id,b))}})};b.prototype._sendTo=function(a,d){var g=this._getComponent(a);g&&g.transport.send(d)};b.prototype._getComponent=function(a){var d=this._connectedComponents.filter(function(d){return d.id===a})[0];return d?d:(this.app.trace.warning("Could not find connected component with ID '{0}'.".format(a)),null)};b.prototype._getComponentByName=
function(a){var d=this._connectedComponents.filter(function(d){return d.name===a})[0];return d?d:(this.app.trace.warning("Could not find connected component with name '{0}'.".format(a)),null)};b.prototype._handleBridgeMessage=function(a){var d=this;if(a.messageName===f.integration.protocol.HandshakeRequest)this._handleHandshakeRequest(a);else{var g=a.componentId,n=this._getComponent(g);if(g&&n)switch(a.messageName){case f.integration.protocol.RemoteDisconnect:this._handleRemoteComponentDisconnect(a);
break;case f.integration.protocol.RemotePublish:var b=a.commandOrEventName;if(!b){this.app.trace.warning("Message from integration bridge was missing the 'commandOrEventName' field.");break}try{this._commandOrEventSender=a.componentId,b.endsWith("Event")?this.app.event(b).publish(a.payload):this.app.command(b).execute(a.payload)}finally{this._commandOrEventSender=null}break;case f.integration.protocol.RemoteSubscribe:b=a.commandOrEventName;if(!b){this.app.trace.warning("Message from integration bridge was missing the 'commandOrEventName' field.");
break}if(b.endsWith("Event")){if(this._eventSubscriptions[b])break;this._eventSubscriptions[b]=this.app.event(b).subscribe(this,function(a){d._sendToAll({messageName:f.integration.protocol.RemotePublish,commandOrEventName:b,payload:a})})}else{if(this._commandSubscriptions[b])break;this._commandSubscriptions[b]=this.app.command(b).register(this,function(a){d._sendToAll({messageName:f.integration.protocol.RemotePublish,commandOrEventName:b,payload:a})})}break;case f.integration.protocol.RemoteUnsubscribe:b=
a.commandOrEventName,b.endsWith("Event")?(a=this._eventSubscriptions[b],this.app.event(b).unsubscribe(a),delete this._eventSubscriptions[b]):(a=this._commandSubscriptions[b],this.app.command(b).unregister(a),delete this._commandSubscriptions[b])}else this.app.trace.warning("Received a bridge message with missing or unknown component ID from sender. Discarding.")}};b.prototype._handleMapExtentChangedEvent=function(a,d){this._updateViewpoint(a)};b.prototype._handleApplicationResizedEvent=function(){var a=
this;this._componentIgnoreUpdates=!0;this._ignoreUpdatesTimer=setTimeout(function(){a._componentIgnoreUpdates=!1},this._ignoreUpdateInterval)};b.prototype._updateViewpoint=function(a){var d=a.getCenter();this._currentViewpoint=a={timestamp:(new Date).getTime(),extent:a,position:{x:d.x,y:d.y},scale:this.app.map.getScale(),heading:this._heading,pitch:this._pitch,updaterName:this._lastUpdaterName};this._lastUpdaterName=null;this._updateSyncedViewpointIndicator(d);this._broadcastViewpoint(a)};b.prototype._updateSyncedViewpointIndicator=
function(a,d){this._connectedComponents.some(function(a){return a.sync})&&(a=a||this.app.map.extent.getCenter(),this._updateViewpointIndicator("sync",b.DEFAULT_VIEWPOINT_INDICATOR_URI,a,this._heading))};b.prototype._updateViewpointIndicator=function(a,d,g,b){var q=this;void 0===b&&(b=0);if(d){var h=this.app.site.getMap();h&&h.spatialReference&&(this._indicatorLayer||(this._indicatorLayer=new esri.layers.GraphicsLayer,this._indicatorLayer.on("mouse-down",function(a){q._onMouseDown(a)}),h.addLayer(this._indicatorLayer),
Modernizr.touch&&this._indicatorLayer.getNode().addEventListener("touchstart",function(a){q._onTouchStart(a)})),h=e.framework.utils.ArrayUtils.firstOrDefault(this._indicatorLayer.graphics,function(d){return d.attributes.ID===a}),h||(d=new esri.symbol.PictureMarkerSymbol(d,32,32),h=new esri.Graphic(g,d,{ID:a},null),this._indicatorLayer.add(h)),h.symbol.setAngle((b+45)%360),h.setGeometry(g))}};b.prototype._removeSyncedViewpointIndicator=function(){this._connectedComponents.some(function(a){return a.sync})||
this._removeViewpointIndicator("sync")};b.prototype._removeViewpointIndicator=function(a){if(this._indicatorLayer){var d=e.framework.utils.ArrayUtils.firstOrDefault(this._indicatorLayer.graphics,function(d){return d.attributes.ID==a});d&&this._indicatorLayer.remove(d)}};b.prototype._onMouseDown=function(a){var d=this;a.preventDefault();if(0===a.button){var g=a.graphic.attributes.ID;if("sync"!==g){var b=this._getComponentByName(g);if(b){this.app.map.disableMapNavigation();this._ignoreUpdates=!0;var e=
null,h=null,f=null,m=a.graphic.symbol.angle-45,l=function(a){a.preventDefault();e.remove();h.remove();f.remove();d._updateViewpointIndicatorComponent(b,a.mapPoint,m);d._ignoreUpdates=!1;d.app.map.enableMapNavigation()},h=this.app.map.on("mouse-drag",function(a){a.preventDefault();0!==a.button&&l(a);d._updateViewpointIndicatorComponent(b,a.mapPoint,m)}),e=this.app.map.on("mouse-up",l),f=this.app.map.on("mouse-out",l)}else this.app.trace.warning("Viewpoint indicator is not associated with a remote component.")}}};
b.prototype._onTouchStart=function(a){var d=this;a.preventDefault();var g=a.target.e_graphic.attributes.ID;if("sync"!==g){var b=this._getComponentByName(g);if(b){this.app.map.disableMapNavigation();this._ignoreUpdates=!0;var e=a.target.e_graphic.symbol.angle-45,h=function(a){a.preventDefault();d._updateViewpointIndicatorComponent(b,a.mapPoint,e)},f=function(a){a.preventDefault();d.app.map.root.removeEventListener("touchmove",h);d.app.map.root.removeEventListener("touchend",f);d._updateViewpointIndicatorComponent(b,
a.mapPoint,e);d._ignoreUpdates=!1;d.app.map.enableMapNavigation()};this.app.map.root.addEventListener("touchmove",h);this.app.map.root.addEventListener("touchend",f)}else this.app.trace.warning("Viewpoint indicator is not associated with a remote component.")}};b.prototype._updateViewpointIndicatorComponent=function(a,d,g){var b=this;void 0===g&&(g=0);a&&d&&(this._updateViewpointIndicator(a.name,a.viewpointIndicatorUri,d,g),g=new esri.tasks.ProjectParameters,g.geometries=[d],g.outSR=a.preferredSpatialReference,
h.infrastructure.GeometryUtils.project(g,function(d){a.transport.send({messageName:f.integration.protocol.RemotePublish,commandOrEventName:"ViewpointIndicatorUpdatedEvent",payload:d[0]})},function(a){b.app.trace.warning("An error occurred while attempting to project the current extent for third-party map components: "+a)},this.app))};b.prototype._broadcastViewpoint=function(a,d,g){var b=this;void 0===g&&(g=!1);var e=d?[d]:this._connectedComponents;if(!this._componentIgnoreUpdates||g)for(var r=0;r<
e.length;r++)if(d=e[r],d.sync||g){var m=new esri.tasks.ProjectParameters;m.geometries=[this.app.map.extent];m.outSR=d.preferredSpatialReference;h.infrastructure.GeometryUtils.project(m,function(g){a.extent=g[0];a.position=a.extent.getCenter();b._ignoreUpdates=!0;b._ignoreUpdatesTimer=setTimeout(function(){b._ignoreUpdates=!1},b._ignoreUpdateInterval);d.transport.send({messageName:f.integration.protocol.RemotePublish,commandOrEventName:"ViewerPositionUpdatedEvent",payload:a})},function(a){b.app.trace.warning("An error occurred while attempting to project the current extent for third-party map components: "+
a)},this.app)}};b.prototype._handleRemoteComponentInitialized=function(a){var d=e.framework.utils.ArrayUtils.firstOrDefault(this._componentStates,function(d){return d.id===a.name});d&&(a.sync=d.sync);var g={viewpoint:null,sync:a.sync,hasPreviousState:d?!0:!1};d&&!d.sync&&(g.viewpoint={extent:d.viewpoint.extent,heading:d.viewpoint.heading,pitch:d.viewpoint.pitch,position:d.viewpoint.center,scale:d.viewpoint.scale,updaterName:null});a.transport.send({messageName:f.integration.protocol.RemotePublish,
commandOrEventName:"ExternalComponentInitializedEvent",payload:g});d?d.sync?(this._broadcastViewpoint(this._currentViewpoint,a,!0),this._updateSyncedViewpointIndicator()):this._updateViewpointIndicator(a.name,a.viewpointIndicatorUri,this._currentViewpoint.extent.getCenter(),d.viewpoint.heading):(this._broadcastViewpoint(this._currentViewpoint,a,!0),this._updateViewpointIndicator(a.name,a.viewpointIndicatorUri,this._currentViewpoint.extent.getCenter(),0))};b.DEFAULT_VIEWPOINT_INDICATOR_URI="Resources/Images/Icons/location-direction-blue-32.png";
return b}(e.framework.application.ModuleBase);m.IntegrationModule=k})(k.integration||(k.integration={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(h){function b(){h.apply(this,arguments)}__extends(b,h);b.prototype.attach=function(a){var d=this;h.prototype.attach.call(this,a);var g="iframe[data-frame-id='{0}']".format(a.frameId);e.framework.utils.addEventListener(this.frameElement,"load",function(){d.app.command("ListenToExternalComponentFrame").execute({elementSelector:g,name:d.viewModel.currentPaneItem.get().id,viewpointIndicatorUri:d.viewModel.currentPaneItem.get().viewpointIndicatorUri})})};
return b}(h.infrastructure.ui.components.MultiPane.PaneView);f.ExternalComponentPaneView=k})(f.integration||(f.integration={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(h){function b(){h.apply(this,arguments);this.uri=new Observable("")}__extends(b,h);b.prototype.initialize=function(a){h.prototype.initialize.call(this,a);this.frameId="frame-"+e.framework.utils.alphaNumericToken();a&&a.hasOwnProperty("uri")&&this.uri.set(a.uri)};return b}(h.infrastructure.ui.components.MultiPane.PaneViewModel);f.ExternalComponentPaneViewModel=k})(f.integration||(f.integration={}))})(h.modules||(h.modules=
{}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(h){function b(){h.apply(this,arguments);this.undockedPaneItems=new ObservableCollection;this.overlayIsVisible=new Observable(!1);this.statusText=new Observable("")}__extends(b,h);b.prototype.initialize=function(a){h.prototype.initialize.call(this,a);a&&(a.hasOwnProperty("externalComponents")&&this.paneItems.addItems(a.externalComponents),a.hasOwnProperty("defaultComponents")&&this.setDefaultComponents(a.defaultComponents),
a.hasOwnProperty("statusText")&&this.statusText.set(a.statusText));this._registerCommandsAndEvents()};b.prototype.setDefaultComponents=function(a){if(0!=this.paneItems.length()){for(var d=0;d<a.length;d++){var g=e.framework.utils.ArrayUtils.firstOrDefault(this.paneItems.getItems(),function(g){return g.id===a[d]});this.defaultPaneItems.addItem(g)}0==this.defaultPaneItems.getLength()&&this.defaultPaneItems.addItem(this.paneItems.getAt(0))}};b.prototype.findUndockedPaneItemById=function(a){return e.framework.utils.ArrayUtils.firstOrDefault(this.undockedPaneItems.getItems(),
function(d){return d.id&&d.id===a})};b.prototype.isUndockedPaneItem=function(a){return e.framework.utils.ArrayUtils.contains(this.undockedPaneItems.getItems(),a)};b.prototype.isDockedPaneItem=function(a){return e.framework.utils.ArrayUtils.contains(this.displayedPaneItems.getItems(),a)&&!e.framework.utils.ArrayUtils.contains(this.undockedPaneItems.getItems(),a)};b.prototype.haveDockedPanes=function(){return this.displayedPaneItems.length()>this.undockedPaneItems.length()};b.prototype._registerCommandsAndEvents=
function(){var a=this;this.app.event("MapMouseDownEvent").subscribe(this,function(){return a.overlayIsVisible.set(!0)});this.app.event("MapMouseUpEvent").subscribe(this,function(){return a.overlayIsVisible.set(!1)});this.app.event("PanelResizeStartEvent").subscribe(this,function(){return a.overlayIsVisible.set(!0)});this.app.event("PanelResizeEndEvent").subscribe(this,function(){return a.overlayIsVisible.set(!1)})};return b}(h.infrastructure.ui.components.MultiPane.MultiPaneViewModel);f.ExternalComponentViewModel=
k})(f.integration||(f.integration={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(l){function b(a,d){l.call(this,a,d);this._statusMessageViewId="externalComponentStatusMessageView";this._windowUnloadInterval=500;this._windowLoadInterval=250;this._isIE9=!1;this._registerCommands();if(this.app.site&&this.app.site.isInitialized)this._siteInitialized();else this.app.event("SiteInitializedEvent").once(this,this._siteInitialized);this._isIE9=$(document.documentElement).hasClass("dj_ie9")}__extends(b,l);b.prototype.deactivated=
function(){l.prototype.deactivated.call(this);this.app.command("RemoveStatus").execute(this._statusMessageViewId)};b.prototype.resolveWidget=function(a,d,g){var b=this;return"Selector"===a?(this._selectorView=this.app.viewManager.createView({typeName:"geocortex.framework.ui.Selector.SelectorView",markup:"Framework.UI/geocortex/framework/ui/Selector/SelectorView.html",visible:!0,app:this.app,libraryId:"Framework.UI"}),this.selector=new e.framework.ui.Selector.SelectorViewModel(this.app,this.libraryId,
!1),this.selector.setCollection(this.viewModel.paneItems,"displayName",null),this.selector.selectorText.set(this.viewModel.selectorText.get()||this.app.getResource(this.libraryId,"language-integration-selector-text")),this.selector.noItemsText.set(this.app.getResource(this.libraryId,"language-integration-no-items")),this.selector.onSelectItem=function(a){return b.handleSelectPane(a.item)},this.selector.onUnselectItem=function(a){return b.handleUnSelectPane(a.item)},this._selectorView.attach(this.selector),
this._selectorView):l.prototype.resolveWidget.call(this,a,d,null)};b.prototype.handleUnSelectPane=function(a){this.destroyPaneItemById(a.id)};b.prototype.handleClickClose=function(){this.clearDockedPaneItems();this.deactivateContainer()};b.prototype.addPaneItem=function(a){if(!a||!this.canAddPaneItem(a))return null;this.viewModel.displayedPaneItems.addItem(a);this.app.command("ActivateView").execute(this.id);var d=new f.ExternalComponentPaneViewModel(this.app,this.libraryId);d.currentPaneItem.set(a);
d.initialize({uri:a.uri});var g=this.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.modules.integration.ExternalComponentPaneView",markupResource:"Mapping/modules/Integration/ExternalComponentPaneView.html",libraryId:this.libraryId||"Mapping",regionName:this.viewModel.regionName.get(),isVisible:!0});this._panes.push(g);g.attach(d);this.selector.selectItem(a);this.handleApplicationResizedEvent();return g};b.prototype.destroyPaneItemById=function(a,d){void 0===d&&(d=!1);
var g=this.viewModel.findUndockedPaneItemById(a);g?this.destroyUndockedPaneItem(g):d||(g=this.viewModel.findDisplayedPaneItemById(a),this.destroyPaneItem(g))};b.prototype.destroyPaneItem=function(a){a=l.prototype.destroyPaneItem.call(this,a);this.viewModel.haveDockedPanes()||this.app.command("DeactivateView").execute(this.id);return a};b.prototype.destroyUndockedPaneItem=function(a){a&&this.viewModel.isUndockedPaneItem(a)&&(a.window&&(a.window.close(),a.window=null),this.viewModel.undockedPaneItems.removeItem(a),
this.viewModel.displayedPaneItems.removeItem(a),this.selector.unselectItem(a))};b.prototype.clearDockedPaneItems=function(){for(var a=this.viewModel.displayedPaneItems.getLength();a--;){var d=this.viewModel.displayedPaneItems.getAt(a);this.viewModel.isDockedPaneItem(d)&&this.destroyPaneItem(d)}};b.prototype.dockPaneItemById=function(a){var d=this,g=this.viewModel.findPaneItemById(a);this.viewModel.isUndockedPaneItem(g)&&this.destroyUndockedPaneItem(g);setTimeout(function(){d.addPaneItem(g)},this._windowUnloadInterval)};
b.prototype.undockPaneItemById=function(a){var d=this;if("Tablet"==this.app.shellName||this._isIE9)this.app.trace.warning("Undocking an external component is not supported."),this.dockPaneItemById(a);else{var g=this.viewModel.findPaneItemById(a);if(g){a=g.id.replace(/\W/g,"");var b=window.open(g.uri,a);this.app.command("ListenToExternalComponentFrame").execute({elementSelector:null,name:g.id,contentWindow:b,viewpointIndicatorUri:g.viewpointIndicatorUri});setTimeout(function(){e.framework.utils.addEventListener(b,
"unload",function(){d.destroyPaneItemById(g.id,!0)})},this._windowLoadInterval);this.viewModel.isDockedPaneItem(g)&&this.destroyPaneItem(g);this.viewModel.haveDockedPanes()||this.app.command("DeactivateView").execute(this.id);g.window=b;this.viewModel.undockedPaneItems.addItem(g);this.viewModel.displayedPaneItems.addItem(g);this.selector.selectItem(g)}}};b.prototype.handleApplicationResizedEvent=function(){l.prototype.handleApplicationResizedEvent.call(this);var a=this.scrollRegionElement,d=$(".view .pane .map-frame",
a);0!==d.length&&$(d).height(a.clientHeight)};b.prototype._registerCommands=function(){this.app.command("ShowExternalComponentView").register(this,this._executeShowExternalComponentView,this._canExecuteExternalComponentView);this.app.command("DisplayDockedExternalComponentById").register(this,this.dockPaneItemById);this.app.command("DisplayUndockedExternalComponentById").register(this,this.undockPaneItemById);this.app.command("RemoveExternalComponentById").register(this,this.destroyPaneItemById)};
b.prototype._siteInitialized=function(){var a=this;this.app.command("ShowExternalComponentView").raiseCanExecuteChanged();e.framework.utils.addEventListener(window,"unload",function(){a.viewModel.undockedPaneItems.getItems().forEach(function(a){a.window.close()})})};b.prototype._executeShowExternalComponentView=function(){this._executeShowMultiPaneView();var a=this.viewModel.statusText.get();a&&(a=new h.infrastructure.commandArgs.AddStatusArgs(a),a.id=this._statusMessageViewId,a.timeoutMS=0,this.app.command("AddStatus").execute(a))};
b.prototype._canExecuteExternalComponentView=function(){return this.viewModel&&0<this.viewModel.paneItems.getLength()};return b}(h.infrastructure.ui.components.MultiPane.MultiPaneView);f.ExternalComponentView=k})(f.integration||(f.integration={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=h.infrastructure.layerList.LayerListLayerItem,l=h.infrastructure.layerList.LayerListMapServiceItem,b=h.infrastructure.layerList.LayerListKmlFolderItem,a=e.framework.utils.ArrayUtils,d=h.infrastructure.PromiseUtils,g=function(g){function q(a,d){g.call(this,a,d)}__extends(q,g);q.prototype.initialize=function(a){var d=this;this.enableLayerListLegendIntegration=void 0!=a.enableLegendIntegration?a.enableLegendIntegration:!1;this.onlyShowSwatchesOnVisibleLayers=
void 0!=a.onlyShowSwatchesOnVisibleLayers?a.onlyShowSwatchesOnVisibleLayers:!1;this.autoActivateAncestorVisibilities=void 0!=a.autoActivateAncestorVisibilities?a.autoActivateAncestorVisibilities:!1;this.groupByOperationalAndBase=void 0!=a.groupByOperationalAndBase?a.groupByOperationalAndBase:!0;this.enableLayerIcons=void 0!=a.enableLayerIcons?a.enableLayerIcons:!1;this.enableLayerListLegendIntegration||this.app.trace.debug("Inline legend integration not enabled for the Configurable LayerList module");
this.onlyShowSwatchesOnVisibleLayers||this.app.trace.debug("The option to only show legend swatches for visible layers is not enabled for the Configurable LayerList module.");if(this.app.isArcGisWebApp)this.appInfo=e.essentialsHtmlViewer.mapping.infrastructure.gis.AppInfo.fromGeocortexApp(this.app),this._setupLayerList();else if(this.app.site&&this.app.site.isInitialized)this._setupLayerList();else this.app.event("SiteInitializedEvent").once(this,function(){d.appInfo=e.essentialsHtmlViewer.mapping.infrastructure.gis.AppInfo.fromGeocortexApp(d.app);
d._setupLayerList()});this.registerActivityHandlers()};q.prototype.registerActivityHandlers=function(){var a=this;this.app.registerActivityTypeHandler("Geocortex.Workflow.Activities.GetLayerListItemInfo",function(d){e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleGetLayerListItemInfo(a,d)});this.app.registerActivityTypeHandler("Geocortex.Workflow.Activities.SetLayerListItemInfo",function(d){e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleSetLayerListItemInfo(a,
d)});this.app.registerActivityIdHandler("__GetLayerListItemInfo",function(d){e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleGetLayerListItemInfo(a,d)});this.app.registerActivityIdHandler("__SetLayerListItemInfo",function(d){e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleSetLayerListItemInfo(a,d)})};q.prototype.subscribeEvents=function(){this.app.event("MapServiceAddedEvent").subscribe(this,this._handleMapServicesAdded);this.app.event("MapServiceRemovedEvent").subscribe(this,
this._handleMapServiceRemoved);this.app.event("MapServiceLayersChangedWithResultEvent").subscribe(this,this._handleMapServiceLayersChanged);this.app.event("MapServicePropertyChangedEvent").subscribe(this,this._updateMapService);this.app.event("LayerVisualizationChangedEvent").subscribe(this,this._handleLayerVisualizationChanged)};q.prototype.waitUntilLayerListInitialized=function(){var a=this;return new Promise(function(d,g){if(a.layerList&&a.layerList.layerListInitialized)d();else a.app.event("LayerListInitializedEvent").once(a,
function(){return d()})})};q.prototype.getStateFilter=function(){return{activeTheme:!0,layerList:{item:this._getItemFilter()}}};q.prototype.exportState=function(){var a=this.app.site.essentialsMap.layerThemesInfo.activeTheme;return Promise.resolve({activeTheme:a?a.id:null,layerList:this._exportChildItemsState(this.layerList)})};q.prototype.applyState=function(d){var g=this;return this.waitUntilLayerListInitialized().then(function(){g.layerList.suspendMapUpdates=!0;var b=g.app.site.essentialsMap.layerThemesInfo,
n=a.firstOrDefault(b.themes,function(a){return a.id===d.activeTheme});n&&n!==b.activeTheme&&n.applyToMap()}).then(function(){return g._applyChildrenState(g.layerList,d.layerList)}).then(function(){g.layerList.suspendMapUpdates=!1})};q.prototype._exportItemState=function(a){var d=this.app.project.convert,g={id:a.id.get(),name:a.name.get(),isVisible:a.isVisible.get(),isExpanded:a.isExpanded.get(),children:[]};a instanceof k?g.layer=d.fromGcxLayer(a.layer.gcxLayer):a instanceof l&&(g.mapService=d.fromGcxMapService(a.mapService.gcxMapService));
g.children=this._exportChildItemsState(a);return g};q.prototype._exportChildItemsState=function(a){var d=this;return a.children.get().filter(function(a){return!(a instanceof b)}).map(function(a){return d._exportItemState(a)})};q.prototype._applyItemState=function(d,g){var b=this,n=g.children.get(),e=this.app.project.convert;return(d.layer?e.toGcxLayer(d.layer,d.layer.serviceLayer).then(function(d){return a.firstOrDefault(n,function(a){return a instanceof k&&a.layer.gcxLayer===d})}):d.mapService?e.toGcxMapService(d.mapService).then(function(d){return a.firstOrDefault(n,
function(a){return a instanceof l&&a.mapService.gcxMapService===d})}):Promise.resolve(a.firstOrDefault(n,function(a){return a.name.get()===d.name}))).then(function(a){a&&(a.isExpanded.set(d.isExpanded),a.isVisible.set(d.isVisible),b._applyChildrenState(a,d.children))})["catch"](function(a){})};q.prototype._applyChildrenState=function(a,g){var b=this;return d.mapSkipRejected(g,function(d){return b._applyItemState(d,a)})["return"]()};q.prototype._setupLayerList=function(){var a=this,d=this.app&&this.app.site&&
this.app.site.layerListRestEndpoint?this.app.site.layerListRestEndpoint:null;this.app.isArcGisWebApp||(this.layerListRestUrl=this.app.site.url+"/map/layerlist");var g=0,b={enableLegendIntegration:this.enableLayerListLegendIntegration,onlyShowSwatchesOnVisibleLayers:this.onlyShowSwatchesOnVisibleLayers,autoActivateAncestorVisibilities:this.autoActivateAncestorVisibilities,serviceLoadFailureIconUri:"Resources/Images/Icons/Toolbar/error-24.png",serviceLoadFailureIconTooltip:this.appInfo.gcxApp.getResource(this.libraryId,
"language-layerlist-service-unavailable"),singleLegendIconTooltip:this.appInfo.gcxApp.getResource(this.libraryId,"language-layerlist-single-legend-icon-tooltip"),multiLegendIconTooltip:this.appInfo.gcxApp.getResource(this.libraryId,"language-layerlist-multiple-legend-icon-tooltip"),multiLegendSwatchElement:"<img src='"+q.MULTI_LEGEND_SWATCH_URI+"'  alt=' '/>",groupByOperationalAndBase:this.groupByOperationalAndBase,enableLayerIcons:this.enableLayerIcons};this.layerList=new e.essentialsHtmlViewer.mapping.infrastructure.layerList.LayerList(this.appInfo,
this.layerListRestUrl,d,b);dojo.connect(this.layerList,"onLayerListInitialized",function(d){g=(new Date).getTime()-g;a.app.trace.debug("Layer List initialization took {0}ms ({1}s)".format(g,g/1E3));a.subscribeEvents();a.app.event("LayerListInitializedEvent").publish(d)});dojo.connect(this.layerList,"onLayerListInitializationFailed",function(d){a.app.command("Alert").execute("Layer List initialization failed with error: ".concat(d.message))});g=(new Date).getTime();this.layerList.initialize()};q.prototype._handleMapServicesAdded=
function(a){this.layerList&&this.layerList.addUserAddedServiceLayer(a)};q.prototype._handleMapServiceRemoved=function(a){this.layerList&&this.layerList.removeServiceLayer(a)};q.prototype._updateMapService=function(a){this.layerList&&(this.layerList.removeServiceLayer(a),this.layerList.addUserAddedServiceLayer(a))};q.prototype._handleMapServiceLayersChanged=function(a){this.layerList&&a&&a.mapService&&this.layerList.updateServiceLayer(a.mapService,a.newItems,a.oldItems)};q.prototype._handleLayerVisualizationChanged=
function(a){var d=this;this.layerList&&a&&a.mapService&&setTimeout(function(){d.layerList.updateServiceLayerLegendSwatch(a.mapService)},500)};q.prototype._getItemFilter=function(){var a=this;return{id:!0,name:!0,isVisible:!0,isExpanded:!0,layer:this.app.project.filter.layer,mapService:this.app.project.filter.serviceLayer,children:{item:function(){return a._getItemFilter()}}}};q.MULTI_LEGEND_SWATCH_URI="Resources/Images/Icons/legend-16.png";return q}(e.framework.application.ModuleBase);f.LayerListModule=
g})(f.layerList||(f.layerList={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(a,d,g,b){e.call(this,a,b);this._defaultIconUri="Resources/Images/Icons/link-external-24.png";this._defaultTarget="_blank";this.uri=new Observable("");this.iconUri=new Observable(this._defaultIconUri);this.text=new Observable("");this.tooltip=new Observable("");this.target=new Observable(this._defaultTarget);(g=g||d.layer)?d.uri?(this.uri.set(this.replaceTokens(d.uri,g)),d.iconUri&&this.iconUri.set(this.replaceTokens(d.iconUri,
g)),d.text&&this.text.set(this.replaceTokens(d.text,g)),d.toolTip&&this.tooltip.set(this.replaceTokens(d.toolTip,g)),d.target&&this.target.set(d.target)):a.trace.warning(a.getResource(b,"language-hyperlink-no-url-warning")):a.trace.warning(a.getResource(b,"language-hyperlink-no-layer-warning"))}__extends(b,e);b.prototype.replaceTokens=function(a,d){var g=this,b=/{[^}]*}/g,e="",h=-1,f=a.match(b)||[],b=a.replace(b,function(){h++;return"{"+h.toString()+"}"}),m=[];f.forEach(function(a){var b=a.substring(1,
a.length-1),n=null;d&&(n=g.getLayerTokenValue(b,d));d.mapService&&!n&&(n=g.getMapServiceTokenValue(b,d.mapService));m.push(n?n:a)});e=String.prototype.format.apply(b,m);d.properties&&(f=Object.getOwnPropertyNames(d.properties),f.forEach(function(a){e=g.replaceToken(a,e,d.properties[a].toString())}));d.mapService.properties&&(f=Object.getOwnPropertyNames(d.mapService.properties),f.forEach(function(a){e=g.replaceToken(a,e,d.mapService.properties[a].toString())}));return e};b.prototype.replaceToken=
function(a,d,g){return d?d.replace("{"+a+"}",g):d};b.prototype.getLayerTokenValue=function(a,d){switch(a.toUpperCase()){case "LAYERDISPLAYNAME":return d.displayName;case "LAYERID":return d.id;case "LAYERNAME":return d.name;case "LAYERDESCRIPTION":return d.description;default:return null}};b.prototype.getMapServiceTokenValue=function(a,d){switch(a.toUpperCase()){case "MAPSERVICEDISPLAYNAME":return d.displayName;case "MAPSERVICEID":return d.id;case "MAPSERVICEURL":return d.url;case "MAPSERVICETOKEN":return d.serviceToken;
default:return null}};return b}(e.essentialsHtmlViewer.mapping.infrastructure.menus.MenuViewModel);h.LayerHyperlinkViewModel=f})(h.layerList||(h.layerList={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(f){function b(a,d){f.call(this,a,d);this._layerListItemType=e.infrastructure.layerList.LayerListItemType;this._rixits="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz+/";this.name="layers";this.priority=e.infrastructure.sharing.LayerListLinkPriority.LAYERS}__extends(b,f);b.prototype.initialize=function(a){var d=this;f.prototype.initialize.call(this,a);this.app.event("LayerListInitializedEvent").once(this,
function(a){d.layerList=a})};b.prototype.apply=function(a){var d=this;if(a)if(this.layerList)this._applyLayers(a,this.layerList);else this.app.event("LayerListInitializedEvent").once(this,function(g){d._applyLayers(a,g)})};b.prototype.generate=function(){var a=this;this.layerList.children.get();var d=[],g=function(d,b){for(var n=0;n<b.length;n++)a._getItemConfiguredVisiblity(b[n])!==b[n].isVisible.get()&&d.push(b[n].name.get()),b[n].children&&b[n].children.length()&&g(d,b[n].children.get())};g(d,
this.layerList.children.get());for(var b="",e=0;e<d.length;e++)var h=this._getHashValue(d[e]),b=b+this._base10ToBase64(h);return b};b.prototype._applyLayers=function(a,d){var g=this,b={},e=function(a,d){for(var b=0;b<d.length;b++){var n=g._getHashValue(d[b].name.get()).toString();a[n]=d[b];d[b].children&&d[b].children.length()&&e(a,d[b].children.get())}};e(b,this.layerList.children.get());for(var h=a.match(/.{1,6}/g),f=0;f<h.length;f++){var m=this._base64ToBase10(h[f]).toString();b.hasOwnProperty(m)&&
(m=b[m],m.setItemVisibility(!this._getItemConfiguredVisiblity(m)))}};b.prototype._getItemConfiguredVisiblity=function(a){switch(a.type){case this._layerListItemType.FOLDER:return a.configuredVisible;case this._layerListItemType.MAPSERVICE:case this._layerListItemType.KMLFOLDER:return a.mapService.gcxMapService.configuredVisible;case this._layerListItemType.LAYER:case this._layerListItemType.GRAPHICSLAYER:return a.layer.gcxLayer.configuredVisible;default:return null}};b.prototype._getHashValue=function(a){a=
String.quickHashCode(a);0>a&&(a>>>=0);return a};b.prototype._base10ToBase64=function(a){if(isNaN(Number(a))||null===a||0>a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)return"";for(var d=Math.floor(a),g="";a=d%64,g=this._rixits.charAt(a)+g,d=Math.floor(d/64),0!=d;);for(;6>g.length;)g=this._rixits.charAt(0)+g;return g};b.prototype._base64ToBase10=function(a){if(6!=a.length)return-1;var d=0;a=a.split("");for(var g=0;g<a.length;g++){var b=this._rixits.indexOf(a[g]);if(0>b)return-1;d=64*
d+b}return d};return b}(e.infrastructure.sharing.SharingLinkProviderBase);f.LayersSharingLinkProvider=k})(f.layerList||(f.layerList={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(h){function b(){h.apply(this,arguments)}__extends(b,h);b.prototype.attach=function(a){a&&(h.prototype.attach.call(this,a),this.registerCommands())};b.prototype.registerCommands=function(){this.app.command("ActivateSelectLayersForIdentify").register(this,this.executeActivateSelectLayersForIdentify);this.app.command("DeactivateSelectLayersForIdentify").register(this,this.executeDeactivateSelectLayersForIdentify)};b.prototype.executeActivateSelectLayersForIdentify=
function(){var a=this;e.framework.ui.animation.runWhenIdle(function(){a.app.viewManager.activateView(a);a.viewModel.activateSelectLayersForIdentify()})};b.prototype.executeDeactivateSelectLayersForIdentify=function(){this.app.viewManager.deactivateView(this);this.viewModel.deactivateSelectLayersForIdentify()};return b}(h.infrastructure.layerSelector.LayerSelectorViewBase);f.IdentifyLayerSelectorView=k})(f.identify||(f.identify={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(e){function b(a,d){e.call(this,a,d);this.selectAllButtonTitle.set(this.app.getResource(d,"language-layer-selector-identify-select-all-tooltip"));this.clearAllButtonTitle.set(this.app.getResource(d,"language-layer-selector-identify-clear-all-tooltip"))}__extends(b,e);b.prototype.filter=function(a){return(a="serviceLayer"===a.itemType?a.serviceLayer.gcxMapService:a.layer.gcxLayer)?a.identifiable:!1};b.prototype.handleLayerStateChange=
function(a){this._setLayerStateForIdentify(a)};b.prototype.handleAllLayersEnabled=function(){this.app.command("EnableAllLayersForIdentify").execute()};b.prototype.handleAllLayersDisabled=function(){this.app.command("DisableAllLayersForIdentify").execute()};b.prototype.activateSelectLayersForIdentify=function(){var a=this,d=this.layerSelector.filteredLayerSelectorLayerItems.filter(function(a){return!a.isEnabled.get()});this.app.command("EnableAllLayersForIdentify").execute();d.length&&d.forEach(function(d){return a._setLayerStateForIdentify(d)});
this.app.event("SelectLayersForIdentifyActivatedEvent").publish(this.layerSelector.filteredLayerSelectorLayerItems.slice(0))};b.prototype.deactivateSelectLayersForIdentify=function(){this.app.command("EnableAllLayersForIdentify").execute();this.app.event("SelectLayersForIdentifyDeactivatedEvent").publish(this.layerSelector.filteredLayerSelectorLayerItems.slice(0))};b.prototype._setLayerStateForIdentify=function(a){var d="serviceLayer"===a.itemType?a.serviceLayer.gcxMapService:a.layer.serviceLayerInfo.gcxMapService,
g="layer"===a.itemType?a.layer.gcxLayer:null;if(d){var b={};b.mapServiceId=d.id;b.layerId=g?g.id:null;a.isEnabled.get()?this.app.command("EnableLayerForIdentify").execute(b):this.app.command("DisableLayerForIdentify").execute(b)}else this.app.trace.error("IdentifyLayerSelectorViewModel: Could not handle layer state change. MapService not defined.")};return b}(e.infrastructure.layerSelector.LayerSelectorViewModelBase);f.IdentifyLayerSelectorViewModel=k})(f.identify||(f.identify={}))})(e.modules||(e.modules=
{}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);return b}(e.framework.application.ModuleBase);h.LayerSelectorModule=f})(h.layerSelector||(h.layerSelector={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){(function(f){(function(f){var b=function(a){function d(d,b){a.call(this,d,b);this._bindings=[];this._statusId="offlineBasemapDefineLevels";this.app.command("ShowOfflineMapEditorBasemapLevels").register(this,this._showOfflineMapEditorBasemapLevels)}__extends(d,a);d.prototype._showOfflineMapEditorBasemapLevels=function(a){this.viewModel.basemap.set(a.basemap);this.app.command("ActivateView").execute(this.id)};d.prototype.attach=function(d){var b=
this;a.prototype.attach.call(this,d);this.viewModel.basemap.bind(this,function(){return b._initSliderAndMapBindings()})};d.prototype.deactivated=function(){a.prototype.deactivated.call(this);for(var d=0;d<this._bindings.length;d++){var b=this._bindings[d];b.observable&&b.token?b.observable.unbind(b.token):b.esriHandle&&b.esriHandle.remove()}this._bindings.length=0;this.app.command("RemoveStatus").execute(this._statusId);this.app.map._params.maxZoom=this._mapMaxZoom};d.prototype._initSliderAndMapBindings=
function(){var a=this;$(this.slider).slider({range:!1,min:Math.max(this.viewModel.basemap.get().exportTilesMapServiceMinLevel.get(),this.app.map.getMinZoom()),max:Math.min(this.viewModel.basemap.get().exportTilesMapServiceMaxLevel.get(),this.app.map.getMaxZoom()),value:this.viewModel.basemap.get().exportTilesMaxLevel.get(),slide:function(d,b){a.viewModel.basemap.get().exportTilesMaxLevel.get()!==b.value&&a.viewModel.basemap.get().exportTilesMaxLevel.set(b.value)}});this._bindings.push({observable:this.viewModel.basemap.get().exportTilesMaxLevel,
token:this.viewModel.basemap.get().exportTilesMaxLevel.bind(this,function(d){$(a.slider).slider("value",d);a.app.map.getLevel()!==d&&a.app.map.setLevel(d)})});this._bindings.push({esriHandle:this.app.map.on("extent-change",function(d){d.lod.level!==a.viewModel.basemap.get().exportTilesMaxLevel.get()&&a.viewModel.basemap.get().exportTilesMaxLevel.set(d.lod.level)})});this.app.map.setZoom(this.viewModel.basemap.get().exportTilesMaxLevel.get());if("Handheld"!=this.app.shellName){var d=new h.infrastructure.commandArgs.AddStatusArgs(this.getResource("language-offlinemapeditor-basemaps-levels-mapinstructions"),
null,function(){a.app.command("DeactivateView").execute(a.id)},null,this._statusId,-1,!1);this.app.command("AddStatus").execute(d)}d=this.app.map;this._mapMaxZoom=d._params.maxZoom;d._params.maxZoom=this.viewModel.basemap.get().exportTilesMapServiceMaxLevel.get()};d.prototype.handleDoneClick=function(a,d,b){this.app.command("DeactivateView").execute(this.id)};return d}(e.framework.ui.ViewBase);f.OfflineMapEditorBasemapLevelsView=b})(f.basemap||(f.basemap={}))})(f.editor||(f.editor={}))})(f.offlineMaps||
(f.offlineMaps={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){(function(h){(function(h){var b=function(a){function d(d,b){a.call(this,d,b);this.basemap=new Observable(null)}__extends(d,a);return d}(e.framework.ui.ViewModelBase);h.OfflineMapEditorBasemapLevelsViewModel=b})(h.basemap||(h.basemap={}))})(h.editor||(h.editor={}))})(h.offlineMaps||(h.offlineMaps={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex=
{}));
(function(e){(function(f){(function(h){(function(h){(function(h){(function(h){(function(h){var b=function(a){function d(){a.apply(this,arguments)}__extends(d,a);d.prototype.resolveWidget=function(d,b,e){a.prototype.resolveWidget.call(this,d,b);if(!d)return null;switch(d){case "GrantEditorWidget":return(d=this.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.infrastructure.documents.GrantEditorView",markupResource:"Mapping/infrastructure/documents/GrantEditorView.html",libraryId:"Mapping.Infrastructure",
isVisible:!0}))&&d.attach(this.viewModel.grantEditorViewModel),d;default:return null}};d.prototype.handleBackClick=function(a,d,b){this.app.command("DeactivateView").execute(this.id)};return d}(e.framework.ui.ViewBase);h.OfflineMapEditorSharingView=b})(h.sharing||(h.sharing={}))})(h.editor||(h.editor={}))})(h.offlineMaps||(h.offlineMaps={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(a,d){e.call(this,a,d)}__extends(b,e);b.prototype.attach=function(a){var d=this;e.prototype.attach.call(this,a);this.peephole.style.borderWidth=this.viewModel.printPreviewSymbol.outline.width+"px";this.peephole.style.borderColor=this.viewModel.printPreviewSymbol.outline.color.toCss(!0);this.peephole.style.backgroundColor=this.viewModel.printPreviewSymbol.color.toCss(!0);this.viewModel.printPreviewIsLocked.bind(this,
function(a){return d.setPeepholeVisibility(a)})};b.prototype.activated=function(){this.mapZoomStartedToken||(this.mapZoomStartedToken=this.app.event("MapZoomStartedEvent").subscribe(this,this.mapZoomStartedEvent));this.mapZoomEndedToken||(this.mapZoomEndedToken=this.app.event("MapZoomEndedEvent").subscribe(this,this.handleMapZoomEvent));this.mapExtentChangedToken||(this.mapExtentChangedToken=this.app.event("MapExtentChangedEvent").subscribe(this,this.setExtentFromPeepholePosition));this.selectedScaleToken||
(this.selectedScaleToken=this.app.event("PrintPreviewScaleChangedEvent").subscribe(this,this.printMapScaleHasChanged));this.selectedTemplateToken||(this.selectedTemplateToken=this.app.event("PrintPreviewLayoutChangedEvent").subscribe(this,this.handleTemplateSelectionChanged));this.calculatePeepholeDimensionsFromExtent(this.viewModel.printPreviewExtent)};b.prototype.deactivated=function(){this.mapZoomStartedToken&&(this.app.event("MapZoomStartedEvent").unsubscribe(this.mapZoomStartedToken),this.mapZoomStartedToken=
null);this.mapZoomEndedToken&&(this.app.event("MapZoomEndedEvent").unsubscribe(this.mapZoomEndedToken),this.mapZoomEndedToken=null);this.mapExtentChangedToken&&(this.app.event("MapExtentChangedEvent").unsubscribe(this.mapExtentChangedToken),this.mapExtentChangedToken=null);this.selectedScaleToken&&(this.app.event("PrintPreviewScaleChangedEvent").unsubscribe(this.selectedScaleToken),this.selectedScaleToken=null);this.selectedTemplateToken&&(this.app.event("PrintPreviewLayoutChangedEvent").unsubscribe(this.selectedTemplateToken),
this.selectedTemplateToken=null)};b.prototype.setPeepholeVisibility=function(a){a?this.app.command("DeactivateView").execute(this.id):this.app.command("ActivateView").execute(this.id)};b.prototype.handleTemplateSelectionChanged=function(){var a=this.viewModel.calculateExtentFromPrintTemplate(this.app.map.extent.getCenter());this.calculatePeepholeDimensionsFromExtent(a)};b.prototype.printMapScaleHasChanged=function(){var a=this,d=parseFloat(this.viewModel.selectedScale.get().scale),g;if(d&&d.toFixed(2)!==
this.app.map.getScale().toFixed(2))this.app.event("MapZoomEndedEvent").once(this,function(){g=a.viewModel.calculateExtentFromPrintTemplate(a.app.map.extent.getCenter(),d);a.calculatePeepholeDimensionsFromExtent(g);a.viewModel.printPreviewExtent=g});else g=d&&d.toFixed(2)===this.app.map.getScale().toFixed(2)?this.viewModel.calculateExtentFromPrintTemplate(this.app.map.extent.getCenter(),d):this.app.map.extent,this.calculatePeepholeDimensionsFromExtent(g),this.viewModel.printPreviewExtent=g;return!0};
b.prototype.mapZoomStartedEvent=function(){this.peephole.style.opacity="0"};b.prototype.handleMapZoomEvent=function(){var a=parseFloat(this.viewModel.selectedScale.get().scale);this.app.map.extent.contains(this.viewModel.printPreviewExtent)&&a?(a=this.viewModel.getGraphicPositionFromExtent(this.viewModel.printPreviewExtent),this.peephole.style.top=a.top+"px",this.peephole.style.left=a.left+"px",this.peephole.style.width=a.width+"px",this.peephole.style.height=a.height+"px"):a?this.calculatePeepholeDimensionsFromExtent(this.viewModel.printPreviewExtent):
this.calculatePeepholeDimensionsFromExtent(this.app.map.extent);this.peephole.style.opacity="1"};b.prototype.calculatePeepholeDimensionsFromExtent=function(a){var d=this.viewModel.getGraphicPositionFromExtent(a);if(this.app.map.extent.contains(this.viewModel.printPreviewExtent))this.peephole.style.top=d.top+"px",this.peephole.style.left=d.left+"px",this.peephole.style.width=d.width+"px",this.peephole.style.height=d.height+"px";else{a=this.app.map.toScreen(this.app.map.extent.getCenter());var g=d.width,
d=d.height,b=a.x-g/2;this.peephole.style.top=a.y-d/2+"px";this.peephole.style.left=b+"px";this.peephole.style.width=g+"px";this.peephole.style.height=d+"px";this.setExtentFromPeepholePosition()}};b.prototype.setExtentFromPeepholePosition=function(){var a=parseInt(this.peephole.style.top),d=parseInt(this.peephole.style.left),g=parseInt(this.peephole.style.width),b=parseInt(this.peephole.style.height),e=this.app.map.toMap({x:d,y:a}),a=this.app.map.toMap({x:d+g,y:a+b}),e=new esri.geometry.Extent(e.x,
a.y,a.x,e.y,this.app.map.spatialReference);this.viewModel.printPreviewExtent=e};return b}(e.framework.ui.ViewBase);h.UnlockedPrintPreviewView=f})(h.printing||(h.printing={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(a,d){e.call(this,a,d)}__extends(b,e);b.prototype.attach=function(a){e.prototype.attach.call(this,a);$(this.root).parent("[class*='left']").length?this.viewModel.isLeft.set(!0):$(this.root).parent("[class*='right']").length&&this.viewModel.isRight.set(!0)};b.prototype.toggleScaleInputBoxActive=function(){this.app.command("ToggleScaleInputBox").execute()};return b}(e.framework.ui.ViewBase);h.ScaleInputBoxButtonView=
f})(h.scalebar||(h.scalebar={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(h){function b(a,d){h.call(this,a,d);this._registerCommandsAndEvents()}__extends(b,h);b.prototype._registerCommandsAndEvents=function(){this.app.command("ToggleScaleInputBox").register(this,this.toggleScaleInputBox)};b.prototype.attach=function(a){h.prototype.attach.call(this,a)};b.prototype.activated=function(){this.viewModel.scaleInputBoxIsVisible.set(!0)};b.prototype.deactivated=function(){this.viewModel.scaleInputBoxIsVisible.set(!1)};
b.prototype.resetInputScaleToMapScale=function(){this.viewModel.setScale(this.app.map.getScale())};b.prototype.handleFocusOnInput=function(){var a=this;this.tapToDismissRegistered||(e.framework.ui.utils.tapToDismissThis(this,function(){return a._onOtherInteracted()}),this.tapToDismissRegistered=!0)};b.prototype.handleChangeOnInput=function(){var a=this,d=this.viewModel.stringToScale(this.viewModel.inputScale.get());if(!this.isValidScale(d))return this.resetInputScaleToMapScale(),!0;this.viewModel.inputScale.set(this.viewModel.scaleToString(d));
this.tapToDismissRegistered||(e.framework.ui.utils.tapToDismissThis(this,function(){return a._onOtherInteracted()}),this.tapToDismissRegistered=!0);return!0};b.prototype.isValidScale=function(a){return!isNaN(parseFloat(a))&&isFinite(a)&&0<parseFloat(a)};b.prototype._onOtherInteracted=function(){this.resetInputScaleToMapScale();this.tapToDismissRegistered=!1};b.prototype.toggleScaleInputBox=function(){this.app.configuration.mobileMode?this.app.viewManager.activateView(this):this.viewModel.scaleInputBoxIsVisible.get()?
this.app.viewManager.deactivateView(this):this.app.viewManager.activateView(this)};b.prototype.handleScaleChange=function(){var a=this;setTimeout(function(){a.viewModel.inputScale.set(a.viewModel.scaleToString(Math.round(a.viewModel.selectedScale.get().scale)));a.app.command("ZoomToScale").execute(a.viewModel.stringToScale(a.viewModel.inputScale.get()))})};b.prototype.handleApply=function(){var a=this;setTimeout(function(){a.app.command("ZoomToScale").execute(a.viewModel.stringToScale(a.viewModel.inputScale.get()))})};
return b}(e.framework.ui.ViewBase);h.ScaleInputBoxView=f})(h.scalebar||(h.scalebar={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){(function(f){var l=function(b){function a(a,g){b.call(this,a,g);this.app=a;this._switchedToOnline=!1;this.app.command("StartOfflineSyncAndShowProgress").register(this,this._startOfflineSyncAndShowProgress);this.app.command("StartOfflineDownloadAndShowProgress").register(this,this._startOfflineDownloadAndShowProgress)}__extends(a,b);a.prototype.attach=function(a){b.prototype.attach.call(this,a)};a.prototype.activated=function(){b.prototype.activated.call(this)};
a.prototype.resolveWidget=function(a,g,n){b.prototype.resolveWidget.call(this,a,g,n);if("syncProgressBar"===a)return a=this.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.modules.offlineMaps.widgets.ProgressBarWidget",markupResource:"Mapping/modules/OfflineMaps/Widgets/ProgressBarWidget.html"}),a.app=this.app,a.libraryId=this.libraryId,this.progressBarViewModel=new h.widgets.ProgressBarWidgetViewModel(this.app,this.libraryId),a.attach(this.progressBarViewModel),a};a.prototype.deactivated=
function(){b.prototype.deactivated.call(this);this.viewModel.reset();this.progressBarViewModel.widthStyle.set("0%");this._switchedToOnline&&this.app.isOffline.set(!0)};a.prototype._startOfflineSyncAndShowProgress=function(a){var g=this,b=this.app.offlineManager.getOfflineMapById(a.offlineMap.id);this._setup(b);this.app.offlineManager.syncOfflineMap(a.offlineMap,function(a){g.progressBarViewModel.widthStyle.set(a.percentage+"%");setTimeout(function(){g.viewModel.overallPercentage.set(Math.round(10*
a.percentage)/10);g.viewModel.statusText.set(a.message);a.isWarning&&g.viewModel.warnings.addItem(a.message)},500)}).then(function(){setTimeout(function(){g.viewModel.completeText.set(g.getResource("language-offline-maps-sync-done"));g._closeConditionally()},500)})["catch"](function(a){setTimeout(function(){g.viewModel.errorText.set(a.message||a)},500)})["finally"](function(){setTimeout(function(){g.viewModel.showProgress.set(!1);g.viewModel.showCancel.set(!1);g.viewModel.showClose.set(!0)},500)})};
a.prototype._startOfflineDownloadAndShowProgress=function(a){var g=this;this._setup(a.offlineMap);this.app.offlineManager.addOfflineMap(a.offlineMap,function(a){g.progressBarViewModel.widthStyle.set(a.percentage+"%");setTimeout(function(){g.viewModel.overallPercentage.set(Math.round(10*a.percentage)/10);g.viewModel.statusText.set(a.message);a.isWarning&&g.viewModel.warnings.addItem(a.message)},500)}).then(function(){g.app.offlineManager.activateOfflineMap(a.offlineMap)}).then(function(){setTimeout(function(){g.viewModel.completeText.set(g.getResource("language-offline-maps-sync-done"));
g._closeConditionally()},500)})["catch"](function(a){setTimeout(function(){g.viewModel.errorText.set(a.message||a)},500)})["finally"](function(){setTimeout(function(){g.viewModel.showProgress.set(!1);g.viewModel.showCancel.set(!1);g.viewModel.showClose.set(!0)},500)})};a.prototype._closeConditionally=function(){var a=this;this.viewModel.closeWhenDone.get()&&0===this.viewModel.warnings.get().length&&setTimeout(function(){a._close()},100)};a.prototype._close=function(){this.app.viewManager.deactivateView(this)};
a.prototype._open=function(){this.app.command("ActivateView").execute(this.id)};a.prototype._setup=function(a){this.app.isOffline.get()?(this.app.isOffline.set(!1),this._switchedToOnline=!0):this._switchedToOnline=!1;this.viewModel.reset();this.viewModel.setup(a);this._open()};a.prototype.handleCancelClick=function(a,g,b){var e=this;this.viewModel.cancellingText.set(this.getResource("language-offline-maps-sync-cancelling"));this.viewModel.showProgress.set(!1);this.viewModel.isCancelling=!0;this.app.offlineManager.cancel()["finally"](function(){e.viewModel.isCancelling&&
e._close()});setTimeout(function(){e.viewModel.isCancelling&&(e.viewModel.showCancel.set(!1),e.viewModel.showClose.set(!0))},1E4)};a.prototype.handleCloseClick=function(a,g,b){this.viewModel.isCancelling&&(this.app.offlineManager.forgetLast(),this.app.offlineManager.removeOfflineMap(this.viewModel.offlineMap));this._close()};a.prototype.handleToggleDetailsClick=function(a,g,b){this.viewModel.showStatusText.set(!this.viewModel.showStatusText.get())};return a}(e.framework.ui.ViewBase);f.SyncStatusView=
l})(h.sync||(h.sync={}))})(h.offlineMaps||(h.offlineMaps={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){(function(h){var f=function(b){function a(a,g){b.call(this,a,g);this.app=a;this._bindings=[];this.name=new Observable;this.overallPercentage=new Observable;this.completeText=new Observable(null);this.cancellingText=new Observable;this.errorText=new Observable;this.statusText=new Observable;this.closeWhenDone=new Observable(!1);this.warnings=new ObservableCollection;this.showStatusText=new Observable(!1);this.hideStatusText=new Observable(!0);
this.showProgress=new Observable(!0);this.showCancel=new Observable(!0);this.showClose=new Observable(!1);this.canCancel=new Observable(!1);this.isCancelling=!1}__extends(a,b);a.prototype.setup=function(a){this._bindings.push({token:this.showStatusText.bind(this,this.showStatusTextChanged),observable:this.showStatusText});this._bindings.push({token:this.closeWhenDone.bind(this,this.closeWhenDoneChanged),observable:this.closeWhenDone});this.canCancel.sync(this.app.offlineManager.canCancel);var g=localStorage.getItem("geocortex.offlineMaps.SyncStatusViewModel.showStatusText");
"string"===typeof g&&this.showStatusText.set("true"===g);g=localStorage.getItem("geocortex.offlineMaps.SyncStatusViewModel.closeWhenDone");"string"===typeof g&&this.closeWhenDone.set("true"===g);this.name.set(a.title);this.statusText.set(this.getResource("language-offline-maps-progress-pending"));this.offlineMap=a;this.showClose.set(!1);this.showCancel.set(!0)};a.prototype.reset=function(){this._bindings.forEach(function(a){return a.observable.unbind(a.token)});this._bindings.length=0;this.overallPercentage.set(0);
this.cancellingText.set(null);this.errorText.set(null);this.statusText.set(null);this.completeText.set(null);this.showProgress.set(!0);this.warnings.clear();this.isCancelling=!1};a.prototype.showStatusTextChanged=function(a){localStorage.setItem("geocortex.offlineMaps.SyncStatusViewModel.showStatusText",a+"");this.hideStatusText.set(!a)};a.prototype.closeWhenDoneChanged=function(a){localStorage.setItem("geocortex.offlineMaps.SyncStatusViewModel.closeWhenDone",a+"")};return a}(e.framework.ui.ViewModelBase);
h.SyncStatusViewModel=f})(h.sync||(h.sync={}))})(h.offlineMaps||(h.offlineMaps={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){(function(h){var f=function(b){function a(){b.apply(this,arguments);this.widthStyle=new Observable("0%")}__extends(a,b);return a}(e.framework.ui.ViewModelBase);h.ProgressBarWidgetViewModel=f})(h.widgets||(h.widgets={}))})(h.offlineMaps||(h.offlineMaps={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){(function(h){var f=function(b){function a(){b.apply(this,arguments)}__extends(a,b);return a}(e.framework.ui.ViewBase);h.ProgressBarWidget=f})(h.widgets||(h.widgets={}))})(h.offlineMaps||(h.offlineMaps={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(h){function b(a,d){h.call(this,a,d);this.SEARCH_TYPE="SearchTable";this._cancelFunction=null;this.name="Search Table";this.description="Search provider for Search Tables.";this.isEnabled=!0}__extends(b,h);b.prototype.initialize=function(a){h.prototype.initialize.call(this,a)};b.prototype.search=function(a,d){var g=this,b=!1,q=0,h=new e.essentialsHtmlViewer.mapping.infrastructure.eventArgs.SearchProgressEventArgs;h.results=
a;h.error=null;h.searchType=this.SEARCH_TYPE;h.query=d;this.status=e.essentialsHtmlViewer.mapping.infrastructure.search.Status.IDLE;h.status=this.status;if(a)if(d){var f=this._getSearchableTables();0==f.length?this.app.event("SearchProgressEvent").publish(h):(this.status=e.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING,h.status=this.status,this.app.event("SearchProgressEvent").publish(h),f.forEach(function(m){for(var l={},k=0,p=m.parameters.length;k<p;k++)l[m.parameters[k].name]=
d;m.performSearch(l,function(d){b||(0<d.features.length&&g._addFsToFsc(d,m,a),q++,g.status=q===f.length?e.essentialsHtmlViewer.mapping.infrastructure.search.Status.IDLE:e.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING,h.status=g.status,g.app.event("SearchProgressEvent").publish(h))},function(d){b||(q++,q===f.length&&(g.status=e.essentialsHtmlViewer.mapping.infrastructure.search.Status.IDLE),g._handleError(d,a,m.displayName))})}),this._cancelFunction=function(){b||(b=!0,g._cancelFunction=
null,g.status=e.essentialsHtmlViewer.mapping.infrastructure.search.Status.IDLE)})}else this.app.trace.error("Search Table Search Provider: Cannot perform search without search text.");else this.app.trace.error("Search Table Search Provider: Cannot perform search without a feature set collection.")};b.prototype._getSearchableTables=function(){for(var a=[],d=0,g=this.app.site.searchTables.length;d<g;d++){var b=this.app.site.searchTables[d];b.includeInGlobalSearch&&a.push(b)}return a};b.prototype._addFsToFsc=
function(a,d,g){a=new e.essentialsHtmlViewer.mapping.infrastructure.FeatureSet({esriFeatureSet:a,app:this.app});a.displayName.set(d.displayName);a.features.getItems().forEach(function(a){a.descriptionFormat.set(d.featureDescription);a.longDescriptionFormat.set(d.featureLongDescription);a.labelFormat.set(d.featureLabel);a.iconUri.set(d.iconUri);a.setExtendedProperty("SearchTableId",d.id)});g.featureSets.addItem(a)};b.prototype.cancelSearch=function(){this._cancelFunction&&this._cancelFunction()};b.prototype._handleError=
function(a,d,g,b){g="Search Table Search Provider"+(g?" ("+g+"): ":": ")+a.message;var q=new e.essentialsHtmlViewer.mapping.infrastructure.eventArgs.SearchProgressEventArgs;q.results=d;q.status=e.essentialsHtmlViewer.mapping.infrastructure.search.Status.ERROR;q.error=a;q.message=g;q.searchType=this.SEARCH_TYPE;q.query=b;this.app.trace.error(g);this.app.event("SearchProgressEvent").publish(q)};return b}(e.essentialsHtmlViewer.mapping.infrastructure.search.SearchProviderBase);h.SearchTableSearchProvider=
f})(h.search||(h.search={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){(function(f){var m=function(){function b(a,d,g){var n=this;this.app=a;this.libraryId=d;this.source=g;this.type=new Observable(null);this.isNone=new Observable(!0);this.isStatic=new Observable(!1);this.isExportTiles=new Observable(!1);this.isValid=new Observable(!0);this.geometry=new Observable(null);this.supportsStatic=new Observable(!1);this.supportsExportTiles=new Observable(!1);this.supportsAny=new Observable(!1);this.staticTpks=
new ObservableCollection([]);this.staticTpk=new Observable(null);this.exportTilesMinLevel=new Observable(0);this.exportTilesMaxLevel=new Observable(22);this.exportTilesMapServiceMinLevel=new Observable(0);this.exportTilesMapServiceMaxLevel=new Observable(22);this.exportTilesRefreshInterval=new Observable(0);this.filename=new Observable("");this.displayName=new Observable("");this.iconUri=new Observable("");this.size=new Observable(b.sizeUnknown);this.sizePresentable=new Observable("");this.errorConfigurationMessage=
new Observable(null);this.errorExportTilesMessage=new Observable(null);this._staticTpksSet=this._hasTiledMapService=!1;this._exportFileName=null;this._calculateSizeGen=1;this.displayName.set(g.displayName);this.iconUri.set(g.iconUri);this.type.bind(this,function(a){n.isNone.set("none"===a);n.isStatic.set(a===h.infrastructure.offline.OfflineMapBasemap.Type.PREGENERATED);n.isExportTiles.set(a===h.infrastructure.offline.OfflineMapBasemap.Type.EXPORT_TILES);n._calculateSize();n._calculateFileName()});
this.staticTpks.bind(this,function(){n._staticTpksSet=!0;var a=n.staticTpks.isEmpty();n.supportsStatic.set(n._hasTiledMapService&&!a);n.staticTpk.get()||a||n.staticTpk.set(n.staticTpks.getAt(0))});this.staticTpk.bind(this,function(){n._calculateSize();n._calculateFileName()});this.supportsExportTiles.bind(this,function(){return n.supportsAny.set(n.supportsExportTiles.get()||n.supportsStatic.get())});this.supportsStatic.bind(this,function(){return n.supportsAny.set(n.supportsExportTiles.get()||n.supportsStatic.get())});
this.exportTilesMinLevel.bind(this,function(){return n._calculateSize()});this.exportTilesMaxLevel.bind(this,function(){return n._calculateSize()});this.exportTilesMapServiceMinLevel.bind(this,function(a){n.exportTilesMinLevel.get()<a&&n.exportTilesMinLevel.set(a);n.exportTilesMaxLevel.get()<a&&n.exportTilesMaxLevel.set(a)});this.exportTilesMapServiceMaxLevel.bind(this,function(a){n.exportTilesMinLevel.get()>a&&n.exportTilesMinLevel.set(a);n.exportTilesMaxLevel.get()>a&&n.exportTilesMaxLevel.set(a)});
this.geometry.bind(this,function(){return n._calculateSize()});this.size.bind(this,function(){return n._calculateIsValid()});this.sizePresentable.syncTransform(this.size,function(a){return n._formatBytes(a)});(this._hasTiledMapService=0<g.services.filter(function(a){return a.mapService.mapServiceType===e.essentials.MapServiceType.TILED}).length)?this._calculateExportTilesMapServiceUri():(this.supportsStatic.set(!1),this.supportsExportTiles.set(!1),this.errorConfigurationMessage.set(this.getResource("language-offlinemapeditor-basemaps-notiled")))}
b.prototype.load=function(a){var d=this;this.type.set(a.sourceType);this.filename.set(a.filename);this._exportFileName=null;switch(a.sourceType){case h.infrastructure.offline.OfflineMapBasemap.Type.PREGENERATED:if(this._staticTpksSet)this._setStaticTpkByUrl(a.url);else this.staticTpks.once(this,function(){d._setStaticTpkByUrl(a.url)});break;case h.infrastructure.offline.OfflineMapBasemap.Type.EXPORT_TILES:this.exportTilesMinLevel.set(Math.max(a.minLevel,this.app.map.getMinZoom()));this.exportTilesMaxLevel.set(Math.min(a.maxLevel,
this.app.map.getMaxZoom()));this.exportTilesRefreshInterval.set(this._sanitizeRefreshInterval(a.refreshInterval));this._exportFileName=a.filename;break;default:throw Error("Unknown sourceType.");}};b.prototype.save=function(){switch(this.type.get()){case "none":throw Error("This OfflineMapBasemap is set to none and not savable.");case h.infrastructure.offline.OfflineMapBasemap.Type.PREGENERATED:return{baseMapId:this.source.id,sourceType:this.type.get(),url:this.staticTpk.get()?this.staticTpk.get().url:
null,filename:this.filename.get(),size:Math.max(this.size.get(),0)};case h.infrastructure.offline.OfflineMapBasemap.Type.EXPORT_TILES:return{baseMapId:this.source.id,sourceType:this.type.get(),url:this._exportTilesMapServiceUri,filename:this.filename.get(),minLevel:this.exportTilesMinLevel.get(),maxLevel:this.exportTilesMaxLevel.get(),size:Math.max(this.size.get(),0),refreshInterval:this._sanitizeRefreshInterval(this.exportTilesRefreshInterval.get())};default:throw Error("Unknown sourceType.");}};
b.prototype.reset=function(){this.type.set("none");this.staticTpks.isEmpty()||this.staticTpk.set(this.staticTpks.getAt(0));this.exportTilesMinLevel.set(Math.max(this.exportTilesMapServiceMinLevel.get(),this.app.map.getMinZoom()));this.exportTilesMaxLevel.set(Math.min(this.exportTilesMapServiceMaxLevel.get(),this.app.map.getMaxZoom()));this.exportTilesRefreshInterval.set(0);this._exportFileName=null};b.prototype._calculateExportTilesMapServiceUri=function(){var a=this;this.errorConfigurationMessage.set(null);
if(this.source.exportTilesMapServiceUri)this._getExportTilesMapServiceInfo(this.source.exportTilesMapServiceUri).then(function(d){return a._enableExportTilesSupport(a.source.exportTilesMapServiceUri,d)},function(d){a.app.trace.warning("Unable to use configured Map Service '"+a.source.exportTilesMapServiceUri+"' to create the Custom Offline Basemap. "+(d.message||d));d.message&&/No token available for service /.test(d.message)?a.errorConfigurationMessage.set(a.getResource("language-offlinemapeditor-basemaps-exporttiles-error-agollogin")):
d.error&&499==d.error.code?a.errorConfigurationMessage.set(a.getResource("language-offlinemapeditor-basemaps-exporttiles-error-auth")):a.errorConfigurationMessage.set(a.getResource("language-offlinemapeditor-basemaps-exporttiles-error-misconfigured"));a._exportTilesMapServiceUri=null;a.supportsExportTiles.set(!1)});else{var d=this.source.services.map(function(a){return a.mapService.serviceUrl}).filter(function(a){return!!a}),g=d.map(function(d){return a._getExportTilesMapServiceInfo(d)}),b=function(e){e>=
g.length?(a._exportTilesMapServiceUri=null,a.supportsExportTiles.set(!1)):g[e].then(function(g){return a._enableExportTilesSupport(d[e],g)},function(){return b(e+1)})};b(0)}};b.prototype._getExportTilesMapServiceInfo=function(a){return esri.request({callbackParamName:"callback",content:{f:"json"},handleAs:"json",url:a}).then(function(a){if(!a.currentVersion||!a.tileInfo)throw Error("Not a map service.");if(10.2>a.currentVersion)throw Error("Version not supported.");if(!a.exportTilesAllowed)throw Error("Export tiles not supported.");
return a})};b.prototype._enableExportTilesSupport=function(a,d){var g=d.tileInfo;this._exportTilesMapServiceUri=a;this.exportTilesMapServiceMinLevel.set(g.lods[0].level);this.exportTilesMapServiceMaxLevel.set(g.lods[g.lods.length-1].level);this.supportsExportTiles.set(this._hasTiledMapService)};b.prototype._setStaticTpkByUrl=function(a){var d=this.staticTpks.length(),g;for(g=0;g<d&&this.staticTpks.getAt(g).url!==a;g++);g===d&&(g=0);this.staticTpk.set(this.staticTpks.getAt(g))};b.prototype._calculateSize=
function(){var a=this;this._calculateSizeHandle&&clearTimeout(this._calculateSizeHandle);this.errorExportTilesMessage.set(null);var d=b.sizeUnknown,g=++this._calculateSizeGen;this.isExportTiles.get()?(d=b.sizeCalculating,this._calculateSizeHandle=setTimeout(function(){if(g===a._calculateSizeGen){var d=a.geometry.get();if(d){var e=a.exportTilesMinLevel.get(),r=a.exportTilesMaxLevel.get();h.infrastructure.ExportTilesUtils.estimateExportTilesSize(a._exportTilesMapServiceUri,{tilePackage:!0,optimizeTilesForSize:!0,
compressionQuality:90,exportBy:"levelId",levels:e!==r?e+"-"+r:""+e,areaOfInterest:JSON.stringify({features:[{geometry:d.toJson()}]})}).then(function(d){g===a._calculateSizeGen&&(d&&"number"===typeof d.totalSize?a.size.set(d.totalSize):(a.app.trace.error('ExportTilesUtils.estimateExportTilesSize returned unexpected result. "'+JSON.stringify(d)+'"'),a.size.set(b.sizeUnknown)))},function(d){g===a._calculateSizeGen&&(d=d&&d.message?d.message:d,a.errorExportTilesMessage.set(d),a.app.trace.error("Error fetching TPK size: "+
d),a.size.set(b.sizeInvalid))})}else a.size.set(b.sizeUnknown)}},2E3)):this.isStatic.get()&&this.staticTpk.get()&&(d=this.staticTpk.get().size);this.size.set(d)};b.prototype._calculateFileName=function(){var a=null;this.isStatic.get()?a=(a=this.staticTpk.get())?a.filename:null:this.isExportTiles.get()&&(this._exportFileName||(a=/([^\/]+)\/MapServer\/?/.exec(this._exportTilesMapServiceUri),this._exportFileName=encodeURIComponent(a?a[1]:this.source.id)+"-"+e.framework.utils.alphaNumericToken(12)+".tpk"),
a=this._exportFileName);this.filename.set(a)};b.prototype._calculateIsValid=function(){var a=!1;this.isNone.get()?a=!0:this.isStatic.get()?a=!0:this.isExportTiles.get()&&(a=0<=this.size.get());this.isValid.set(a)};b.prototype._formatBytes=function(a){if(-3===a)return this.app.getResource(this.libraryId,"language-offlinemapeditor-basemaps-size-invalid");if(-2===a)return this.app.getResource(this.libraryId,"language-offlinemapeditor-basemaps-size-calculating");if(-1===a)return this.app.getResource(this.libraryId,
"language-offlinemapeditor-basemaps-size-unknown");if(0===a)return"0";var d;for(d=0;1E3<a;d++)a/=1E3;return a.toFixed(0<d?2:0)+" "+"B KB MB GB TB PB".split(" ")[d]};b.prototype._sanitizeRefreshInterval=function(a){a=parseInt(a);isNaN(a)&&(a=0);0>a&&(a=0);return a};b.prototype.getResource=function(a){return this.app.getResource(this.libraryId,a)};b.sizeUnknown=-1;b.sizeCalculating=-2;b.sizeInvalid=-3;return b}();f.OfflineMapEditorBasemap=m})(f.editor||(f.editor={}))})(f.offlineMaps||(f.offlineMaps=
{}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){(function(f){(function(f){var b=function(a){function d(){a.apply(this,arguments);this.geometry=new Observable}__extends(d,a);d.prototype.filter=function(a){return a.layer?(a=a.layer,a.serviceLayerInfo.gcxMapService?a.serviceLayerInfo.gcxMapService.drawingBehavior===e.essentials.DrawingBehavior.FEATURE_LAYER&&a.gcxLayer.type===e.essentials.LayerType.FEATURE_LAYER:a.serviceLayerInfo.serviceType===e.essentials.MapServiceType.FEATURE&&a.gcxLayer.type===
e.essentials.LayerType.FEATURE_LAYER):!1};d.prototype.handleLayerStateChange=function(a){if(this.filter(a)&&a.layer){var d=this.filter(a)&&a.isEnabled.get();a.layer.setEsriLayerVisibility(d);if(this.onEnabledItemsChanged)this.onEnabledItemsChanged()}};d.prototype.handleAllLayersEnabled=function(){this.setVisibleLayersFromSelectedItems();if(this.onEnabledItemsChanged)this.onEnabledItemsChanged();if(this.onAllLayersEnabled)this.onAllLayersEnabled()};d.prototype.handleAllLayersDisabled=function(){this.setVisibleLayersFromSelectedItems();
if(this.onEnabledItemsChanged)this.onEnabledItemsChanged();if(this.onAllLayersDisabled)this.onAllLayersDisabled()};d.prototype.onLayerSelectorFolderItemCreated=function(a){this._addCustomLayerSelectorMembers(a)};d.prototype.onLayerSelectorLayerItemCreated=function(a){var d=this;a.isEnabled.set(!1);this._addCustomLayerSelectorMembers(a);a.definitionExpression.bind(this,function(d){a.layer.setDefinitionExpression(d)});a.isEnabled.bind(this,function(){return d._calculateNumFeaturesInLayer(a)});a.definitionExpression.bind(this,
function(){return d._calculateNumFeaturesInLayer(a)});this.geometry.bind(this,function(){return d._calculateNumFeaturesInLayer(a)});var b=a.layer.serviceLayerInfo.capabilities;b&&0<=b.indexOf("Sync")?a.editableOrReadOnlyText.set(this.getResource("language-offlinemapeditor-layers-editable-offline")):a.editableOrReadOnlyText.set(this.getResource("language-offlinemapeditor-layers-readonly-offline"))};d.prototype.onLayerSelectorServiceLayerItemCreated=function(a){this._addCustomLayerSelectorMembers(a)};
d.prototype._addCustomLayerSelectorMembers=function(a){a.definitionExpression=new Observable(null);a.invalidDefinitionExpression=new Observable(!1);a.numFeatures=new Observable("0");a.numFeaturesTitle=new Observable("");a.editableOrReadOnlyText=new Observable("")};d.prototype._calculateNumFeaturesInLayer=function(a){var d=this;a.invalidDefinitionExpression.set(!1);if(!a.isEnabled.get()||!this.geometry.get()||a.layer.gcxLayer&&!a.layer.gcxLayer.supportsQuery)a.numFeatures.set("0"),a.numFeaturesTitle.set(this.getResource("language-offlinemapeditor-layers-numfeatures-title").format(0));
else{a.numFeatures.set(this.getResource("language-offlinemapeditor-layers-numfeatures-calculating"));a.numFeaturesTitle.set(this.getResource("language-offlinemapeditor-layers-numfeatures-calculating-title"));var b=new esri.tasks.Query;b.where=a.definitionExpression.get();b.geometry=this.geometry.get();(new esri.tasks.QueryTask(a.layer.url)).executeForCount(b).then(function(b){a.numFeatures.set(b);a.numFeaturesTitle.set(d.getResource("language-offlinemapeditor-layers-numfeatures-title").format(b))},
function(b){dojo.isArray(b.details)&&b.details.some(function(a){return"Invalid query"===a})&&a.invalidDefinitionExpression.set(!0);d.app.trace.error("Error querying layer '"+a.layer.id+"': "+(b.message?b.message:b));a.numFeatures.set(d.getResource("language-offlinemapeditor-layers-numfeatures-unknown"));a.numFeaturesTitle.set(d.getResource("language-offlinemapeditor-layers-numfeatures-unknown-title"))})}};d.prototype.setVisibleLayersFromSelectedItems=function(){var a=this;this.getAllItems().forEach(function(d){if(d.layer){var b=
a.filter(d)&&d.isEnabled.get();d.layer.setEsriLayerVisibility(b)}})};d.prototype.setSelectedItemsFromVisibleLayers=function(){var a=this;this.getAllItems().forEach(function(d){return d.isEnabled.set(a.filter(d)&&d.layer.isVisible())})};return d}(h.infrastructure.layerSelector.LayerSelectorViewModelBase);f.LayerSelectorViewModel=b})(f.layers||(f.layers={}))})(f.editor||(f.editor={}))})(f.offlineMaps||(f.offlineMaps={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(){function f(b,a){this.geocoder=this._noGeocoderConfigured;this.SEARCH_RADIUS=1E3;this.AGS_ADDRESS_FIELD="Match_addr";this.BING_REQUEST_TEMPLATE="http://dev.virtualearth.net/REST/v1/Locations/{0},{1}?{2}key={3}";this.app=b;this._initializeGeocoder(a)}f.prototype.reverseGeocode=function(b){var a=this;return new Promise(function(d,g){if(a.app.isOffline.get())return g(Error("Could not execute Reverse Geocode: Application is offline"));if(!b.spatialReference)return g(Error("Could not execute Reverse Geocode: Point had no spatial reference"));
a.geocoder(b).then(function(a){d(a)},function(a){g(a)})})};f.prototype._initializeGeocoder=function(b){b.geocoderType===e.essentials.GeocodingEndpointType.ARCGIS_GEOCODER?(this._agsGeocoder&&this._agsGeocoder.url===b.geocoderUrl||(this._agsGeocoder=new esri.tasks.Locator(b.geocoderUrl)),this.geocoder=this._executeAgsReverseGeocode):b.geocoderType===e.essentials.GeocodingEndpointType.BING_GEOCODER&&b.bingProperties&&b.bingProperties.bingMapsKey&&(this._bingMapsKey=b.bingProperties.bingMapsKey,b.bingProperties.culture&&
(this._bingMapsCulture=b.bingProperties.culture),this.geocoder=this._executeBingReverseGeocode)};f.prototype._executeAgsReverseGeocode=function(b){var a=this;return new Promise(function(d,g){a._agsGeocoder.locationToAddress(b,a.SEARCH_RADIUS).then(function(b){return b.address&&b.location?d({address:b.address[a.AGS_ADDRESS_FIELD],location:b.location}):(a.app.trace.warning("Check geocoder configuration. No results were returned from a reverse geocode."),g("Check geocoder configuration. No results were returned from a reverse geocode."))},
function(a){return g(a)})})};f.prototype._executeBingReverseGeocode=function(b){var a=this;return new Promise(function(d,g){h.infrastructure.GeometryUtils.projectGeometry(b,new esri.SpatialReference(4326),function(b){b=a.BING_REQUEST_TEMPLATE.format(b.y,b.x,a._bingMapsCulture?"c="+a._bingMapsCulture+"&":"",a._bingMapsKey);dojo.xhrGet({url:a.app.configuration.proxyUri+b,handleAs:"json",load:function(a){a&&0<a.resourceSets.length&&0<a.resourceSets[0].resources.length?(a=a.resourceSets[0].resources[0],
a={location:new esri.geometry.Point(a.point.coordinates[1],a.point.coordinates[0],new esri.SpatialReference(4326)),address:a.address.formattedAddress},d(a)):g(Error("Reverse Geocode: No response from Bing Geocoder."))},error:function(a){g(a)}})},function(a){},a.app)})};f.prototype._noGeocoderConfigured=function(b){return new Promise(function(a,d){d(Error("Reverse Geocoder: No geocoder configured"))})};return f}();f.ReverseGeocoder=k})(f.map||(f.map={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping=
{}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(e){function b(){e.apply(this,arguments);this.showCoordinates=new Observable(!1);this.xValue=new Observable;this.yValue=new Observable;this.xType=new Observable("");this.yType=new Observable("")}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);a.showCoordinates&&(this.showCoordinates.set(!0),this.app.event("MapContextMenuPointUpdatedEvent").subscribe(this,this._updatePointInfo))};b.prototype._updatePointInfo=
function(a){var d=this;this.app.coordinatesManager.getCoordinate(a).then(function(a){d.xType.set("xy"===a.targetCoordinateSystem.output?h.infrastructure.coordinates.CoordinateUtils.getResource(d.app,"x")+":":h.infrastructure.coordinates.CoordinateUtils.getResource(d.app,"latitude-abbrev")+":");d.yType.set("xy"===a.targetCoordinateSystem.output?h.infrastructure.coordinates.CoordinateUtils.getResource(d.app,"y")+":":h.infrastructure.coordinates.CoordinateUtils.getResource(d.app,"longitude-abbrev")+
":");d.xValue.set(a.formattedLatitudeOrX);d.yValue.set(a.formattedLongitudeOrY)})};return b}(e.framework.ui.ViewModelBase);f.CoordinatesViewModel=k})(f.map||(f.map={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.attach=function(a){e.prototype.attach.call(this,a);this.title.set(this.getResource("language-menu-map-context-menu-title"))};b.prototype.resolveWidget=function(a,d,g){e.prototype.resolveWidget.call(this,a,d);if("MapContextMenuWidget"===a)return this.app.menuRegistry.createMenuWidget(this,d,g)};b.prototype._deactivateContextMenu=function(){this.app.command("DeactivateContextMenu").execute()};
b.prototype.handleMenuItemClick=function(a,d,g){this.app.configuration.mobileMode||this._deactivateContextMenu();e.prototype.handleMenuItemClick.call(this,a,d,g)};return b}(e.essentialsHtmlViewer.mapping.infrastructure.menus.MenuView);h.MapMenuView=f})(h.map||(h.map={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(e){function b(){e.apply(this,arguments);this.showMenu=new Observable(!1);this.mapPoint=new Observable}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);a.showMenu&&this.app.menuRegistry.getMenu("MapContextMenu")&&(this.showMenu.set(!0),this.app.event("MapContextMenuPointUpdatedEvent").subscribe(this,this._updatePointInfo))};b.prototype._updatePointInfo=function(a){this.mapPoint.set(a)};
return b}(e.infrastructure.menus.MenuViewModel);f.MapMenuViewModel=k})(f.map||(f.map={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this.showReverseGeocoder=new Observable(!1);this.label=new Observable;this.address=new Observable;this.isSearching=new Observable(!1)}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);if(a.showReverseGeocoder)if(this.app.site&&this.app.site.isInitialized)this._handleSiteInitialized();else this.app.event("SiteInitializedEvent").once(this,this._handleSiteInitialized)};
b.prototype._handleSiteInitialized=function(){var a=this.app.site.geocodingEndpoints;if(a)for(var d=0;d<a.length;d++){var g=a[d];if(g.isDefaultReverseGeocoder){this._endpoint=g;break}}this._endpoint&&(this.showReverseGeocoder.set(!0),this.reverseGeocoder=new h.ReverseGeocoder(this.app,this._endpoint),this.label.set(this.getResource("language-map-context-menu-reverse-geocode-label")),this.app.event("MapContextMenuPointUpdatedEvent").subscribe(this,this._updatePointInfo))};b.prototype._updatePointInfo=
function(a){var d=this;this.app.isOffline.get()?this.showReverseGeocoder.set(!1):(this.showReverseGeocoder.set(!0),this.address.set(this.getResource("language-map-context-menu-reverse-geocode-search-in-progress")),this.isSearching.set(!0),this.reverseGeocoder.reverseGeocode(a).then(function(a){d.isSearching.set(!1);a&&a.address?d.address.set(a.address):d._handleResultError()},function(a){d.isSearching.set(!1);d._handleResultError()}))};b.prototype._handleResultError=function(){this.address.set(this.getResource("language-map-context-menu-reverse-geocode-search-no-result"))};
return b}(e.framework.ui.ViewModelBase);h.ReverseGeocodeViewModel=f})(h.map||(h.map={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(a,d){e.call(this,a,d)}__extends(b,e);b.prototype.attach=function(a){a&&(a.coordinateActionsView=this,e.prototype.attach.call(this,a))};b.prototype.handleMenuItemClick=function(a,d,g){e.prototype.handleMenuItemClick.call(this,a,d,g);this.app.command("DeactivateView").execute(this.id)};return b}(e.essentialsHtmlViewer.mapping.infrastructure.menus.MenuView);h.CoordinateActionsView=f})(h.plotCoordinates||(h.plotCoordinates=
{}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(a,d){e.call(this,a,d);this.registerCommands();this.subscribeEvents()}__extends(b,e);b.prototype.registerCommands=function(){var a=this;this.app.command("ShowCoordinateActions").register(this,function(d){void 0!=d&&a.coordinateActionsView&&(a.menuContext.set(d),a.coordinateActionsView.title.set(a.app.getResource(a.libraryId,"language-plotcoordinates-coordinate-actions-title").format(d)),a.app.command("ActivateView").execute(a.coordinateActionsView.id))});
this.app.command("HideCoordinateActions").register(this,function(){a.coordinateActionsView&&a.coordinateActionsView.isActive&&a.app.command("DeactivateView").execute(a.coordinateActionsView.id)})};b.prototype.subscribeEvents=function(){var a=this;this.app.event("CoordinateDeletedEvent").subscribe(this,function(d){d.coordinateId===a.menuContext.get()&&a.coordinateActionsView.isActive&&a.app.command("DeactivateView").execute(a.coordinateActionsView.id)})};return b}(e.essentialsHtmlViewer.mapping.infrastructure.menus.MenuViewModel);
h.CoordinateActionsViewModel=f})(h.plotCoordinates||(h.plotCoordinates={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(){function f(b,a,d,g,n){this.id=new Observable("");this.mapPoint=null;this.coordinate=new Observable(null);this.isEditing=new Observable(!1);this.highlightLabel=this.feature=this.layer=this.coordinatesModel=null;this.coordClass=new Observable("");this.degreeLat=new Observable(" ");this.degreeLon=new Observable(" ");this.minuteLat=new Observable("");this.minuteLon=new Observable("");this.secondLat=new Observable("");this.secondLon=
new Observable("");this.outputX=new Observable("");this.outputY=new Observable("");this.bearingLat=new Observable("");this.bearingLon=new Observable("");this.xLabel=new Observable("");this.xVal=new Observable("");this.yLabel=new Observable("");this.yVal=new Observable("");this.isNew=new Observable(!0);this.isVisible=new Observable(!1);this.showDegree=new Observable(!1);this.showMinute=new Observable(!1);this.showSecond=new Observable(!1);this._descriptorOptions=this._coordSystemBindingToken=this._inputStreamBindingToken=
this._outPutStreamBindingToken=null;this._inputStreamUpdatedAfterLastClear=!1;this.app=b;this.id.set(a||"");this._populateStringResources();this._integrateCoordinatesModel(d);this.isEditing.bind(this,this._handleEditingModeChanged);this._descriptorOptions=g;n?this.setBaseCoordinate(n):this.isEditing.set(!0)}f.prototype.setBaseCoordinate=function(b){this.mapPoint=b instanceof esri.geometry.Point?b:new esri.geometry.Point(b.x,b.y,b.spatialReference);this._updateCoordinateAndRefreshLabel(this.isEditing.get()&&
!this.isNew.get());this.isEditing.set(!1);this.isNew.set(!1)};f.prototype.removeLabelFromLayer=function(b,a){void 0===b&&(b=!1);void 0===a&&(a=!1);if(this.highlightLabel){this.highlightLabel.removeFromLayer(b);this._coordSystemBindingToken&&this.coordinatesModel.currentCoordinateSystem.unbind(this._coordSystemBindingToken);if(a){var d={sender:this,coordinateId:this.id.get(),coordinate:this.coordinate.get()};this.app.event("CoordinateDeletedEvent").publish(d)}this._raiseCanExecuteChanged()}else this.app.trace.error("CoordinateDescriptor: Graphic not added to map. Cannot remove.")};
f.prototype.showLabel=function(){this.highlightLabel&&(this.highlightLabel.show(),this.isVisible.set(!0))};f.prototype.hideLabel=function(){this.highlightLabel&&(this.highlightLabel.hide(),this.isVisible.set(!1))};f.prototype.labelVisible=function(){if(this.highlightLabel)return this.highlightLabel.isVisible()};f.prototype.updateCoordinateId=function(b){if(b&&this.id.get()!=b){var a=this.id.get();this.id.set(b);this.highlightLabel&&(this.highlightLabel.assignGraphicIdentifierKey(e.infrastructure.coordinates.coordinateIdentifierProperty,
this.id.get()),this.highlightLabel.updateIdTagText(this.id.get()));b={sender:this,oldId:a,updatedId:this.id.get()};this.app.event("CoordinateIdUpdatedEvent").publish(b)}};f.prototype.clearValues=function(){this._inputStreamUpdatedAfterLastClear=!1;this._updateDisplaySettings()};f.prototype._addLabelToLayer=function(){if(this.highlightLabel)return this.app.trace.error("CoordinateDescriptor: Graphic already added to map."),Promise.reject(Error("CoordinateDescriptor: Graphic already added to map."));
var b=this._descriptorOptions;return(this.layer=e.infrastructure.GraphicUtils.getGraphicsLayer(b.layerId,!0,this.app))?this._createHighlightLabel(!0,b.fontSize,b.fontFamily,b.cornerRadius,b.textColor,b.highlightColor,b.highlightOutlineSymbol):Promise.reject(Error("CoordinateDescriptor: Could not create graphics layer {0}".format(b.layerId)))};f.prototype._integrateCoordinatesModel=function(b){var a=this;if(this.coordinatesModel=b instanceof e.infrastructure.coordinates.CoordinatesModel?b:null)this._updateDisplaySettings(),
this._coordSystemBindingToken=this.coordinatesModel.currentCoordinateSystem.bind(this,function(d){return a._updateCoordinateAndRefreshLabel(!1,!0)})};f.prototype._handleEditingModeChanged=function(b){var a=this;if(this.coordinatesModel){var d=function(){a._inputStreamBindingToken&&(a.coordinatesModel.inputStream.unbind(a._inputStreamBindingToken),a._inputStreamBindingToken=null);a._outPutStreamBindingToken&&(a.coordinatesModel.outputStream.unbind(a._outPutStreamBindingToken),a._outPutStreamBindingToken=
null)};b?(this.coordinate.get()&&this._updateDisplaySettings(this.coordinate.get()),d(),this._inputStreamBindingToken=this.coordinatesModel.inputStream.bind(this,function(){a._inputStreamUpdatedAfterLastClear=!0}),this._outPutStreamBindingToken=this.coordinatesModel.outputStream.bind(this,function(d){a._updateDisplaySettings(d,!0)})):d()}};f.prototype._createHighlightLabel=function(b,a,d,g,n,q,r){var f=this;return this.mapPoint&&this.coordinate?new Promise(function(m){f._getTextLabel().then(function(l){var k=
{};k.layerId=f.layer.id;k.mapPoint=f.mapPoint;k.calloutWithIdTag=!0;k.idTagText=f.id.get();k.text=l;k.fontSize=void 0==a?void 0:a;k.fontFamily=void 0==d?void 0:d;k.cornerRadius=void 0==g?10:g;k.textColor=n instanceof esri.Color?n:void 0;k.highlightColor=q instanceof esri.Color?q:void 0;k.highlightOutlineSymbol=void 0==r?new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color("white"),4):r;f.highlightLabel=new e.infrastructure.highlightedLabel.HighlightedLabelGraphic(k,
f.app);f.highlightLabel.assignGraphicIdentifierKey(e.infrastructure.coordinates.coordinateIdentifierProperty,f.id.get());f.highlightLabel.addToLayer(b);f.isVisible.set(b);f._raiseCanExecuteChanged();m()})}):Promise.reject(Error("MapPoint or Coordinate not defined."))};f.prototype._updateCoordinateAndRefreshLabel=function(b,a){var d=this;void 0===a&&(a=!1);this.mapPoint?this.app.coordinatesManager.getCoordinate(this.mapPoint,this.coordinatesModel.currentCoordinateSystem.get(),this.coordinatesModel.id).then(function(g){d.coordinate.set(g);
d._updateDisplaySettings(g);d._getTextLabel().then(function(g){var e=function(){var g={sender:d,coordinateId:d.id.get(),coordinate:d.coordinate.get()};a?d.app.event("CoordinateSystemUpdateAppliedEvent").publish(g):b?d.app.event("CoordinateEditedEvent").publish(g):d.app.event("CoordinateAddedEvent").publish(g);d._raiseCanExecuteChanged()};d.highlightLabel?(b?d.highlightLabel.update(d.mapPoint,g):d.highlightLabel.refresh(g),e()):d._addLabelToLayer().then(e)})}):this._updateDisplaySettings()};f.prototype._getTextLabel=
function(){var b=this;return new Promise(function(a,d){var g=function(){var d="xy"===b.coordinatesModel.currentCoordinateSystem.get().output?b._XDisplayName:b._latitudeDisplayName,g="xy"===b.coordinatesModel.currentCoordinateSystem.get().output?b._YDisplayName:b._longitudeDisplayName,d=b._labelFormat.format(d,b.coordinate.get().formattedLatitudeOrX,g,b.coordinate.get().formattedLongitudeOrY);a(d)};if(b.coordinate.get()&&b.coordinatesModel&&b.coordinate.get().targetCoordinateSystem===b.coordinatesModel.currentCoordinateSystem.get())g();
else b.coordinate.once(b,g)})};f.prototype._updateDisplaySettings=function(b,a){var d=b?b.targetCoordinateSystem:this.coordinatesModel.currentCoordinateSystem.get(),g="xy"===d.output?this._XDisplayName:this._latitudeDisplayName,n="xy"===d.output?this._YDisplayName:this._longitudeDisplayName;this.coordClass.set("coord-inputs {0}".format(d.output));this._updateInputParams(d.output,b,a);this.xLabel.get()!==g&&this.xLabel.set(g);this.yLabel.get()!==n&&this.yLabel.set(n)};f.prototype._updateInputParams=
function(b,a,d){var g=this;if(!d||this._inputStreamUpdatedAfterLastClear){var n=function(a,d,b,n,e,q,h,r,f,m){g.degreeLat.set(a);g.degreeLon.set(d);g.minuteLat.set(b);g.minuteLon.set(n);g.secondLat.set(e);g.secondLon.set(q);g.bearingLat.set(h);g.bearingLon.set(r);g.outputX.set(f);g.outputY.set(m)},e=function(){n("","","","","","","","","","")},h=function(a,d,b){g.showDegree.set(a);g.showMinute.set(d);g.showSecond.set(b)};switch(b){case "xy":h(!1,!1,!1);n("","","","","","","","",a?a.formattedLatitudeOrX||
" ":" ",a?a.formattedLongitudeOrY||" ":" ");break;case "dd":h(!0,!1,!1);a?(b=a.formattedLatitudeOrX.split(this.degreeSymbol),e=a.formattedLongitudeOrY.split(this.degreeSymbol),n(b[0].trim(),e[0].trim(),"","","","",b[1].trim(),e[1].trim(),"","")):e();break;case "ddm":h(!0,!0,!1);if(a){b=a.formattedLatitudeOrX.split(this.degreeSymbol);var e=a.formattedLongitudeOrY.split(this.degreeSymbol),h=b[1].split(this.minuteSymbol),f=e[1].split(this.minuteSymbol);n(b[0].trim(),e[0].trim(),h[0].trim(),f[0].trim(),
"","",h[1].trim(),f[1].trim(),"","")}else e();break;case "dms":h(!0,!0,!0);if(a){b=a.formattedLatitudeOrX.split(this.degreeSymbol);var e=a.formattedLongitudeOrY.split(this.degreeSymbol),h=b[1].split(this.minuteSymbol),f=e[1].split(this.minuteSymbol),m=h[1].split(this.secondSymbol),l=f[1].split(this.secondSymbol);n(b[0].trim(),e[0].trim(),h[0].trim(),f[0].trim(),m[0].trim(),l[0].trim(),m[1].trim(),l[1].trim(),"","")}else e();break;default:h(!1,!1,!1),e()}a&&!d&&(this.xVal.set(a.formattedLatitudeOrX),
this.yVal.set(a.formattedLongitudeOrY))}};f.prototype._raiseCanExecuteChanged=function(){this.app.command("EditMarkup").raiseCanExecuteChanged();this.app.command("DeleteMarkup").raiseCanExecuteChanged();this.app.command("ClearMarkup").raiseCanExecuteChanged();this.app.command("ShowCoordinates").raiseCanExecuteChanged();this.app.command("ShowAllCoordinates").raiseCanExecuteChanged();this.app.command("HideCoordinates").raiseCanExecuteChanged();this.app.command("HideAllCoordinates").raiseCanExecuteChanged();
this.app.command("DeleteAllCoordinates").raiseCanExecuteChanged()};f.prototype._populateStringResources=function(){this.degreeSymbol=e.infrastructure.coordinates.CoordinateUtils.getResource(this.app,"degrees");this.minuteSymbol=e.infrastructure.coordinates.CoordinateUtils.getResource(this.app,"minutes");this.secondSymbol=e.infrastructure.coordinates.CoordinateUtils.getResource(this.app,"seconds");this._latitudeDisplayName=e.infrastructure.coordinates.CoordinateUtils.getResource(this.app,"language-coordinates-latitude-abbrev");
this._longitudeDisplayName=e.infrastructure.coordinates.CoordinateUtils.getResource(this.app,"language-coordinates-longitude-abbrev");this._XDisplayName=e.infrastructure.coordinates.CoordinateUtils.getResource(this.app,"language-coordinates-x");this._YDisplayName=e.infrastructure.coordinates.CoordinateUtils.getResource(this.app,"language-coordinates-y");this._labelFormat=this.app.getResource("Mapping","language-plotcoordinates-label-format")};return f}();f.CoordinateDescriptor=k})(f.plotCoordinates||
(f.plotCoordinates={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(e){function b(a,d){e.call(this,a,d);this._featureIdMapping=[];this._coordinatesFeatureSetCollection=this._getCoordinateResultsCollection();this.subscribeEvents()}__extends(b,e);b.prototype.subscribeEvents=function(){this.app.event("CoordinateAddedEvent").subscribe(this,this._handleCoordinateAddedEvent);this.app.event("CoordinateEditedEvent").subscribe(this,this._refreshCoordinateData);this.app.event("CoordinateDeletedEvent").subscribe(this,
this._handleCoordinateDeletedEvent);this.app.event("CoordinateIdUpdatedEvent").subscribe(this,this._refreshCoordinateData);this.app.event("CoordinateSystemUpdateAppliedEvent").subscribe(this,this._refreshCoordinateData)};b.prototype._handleCoordinateAddedEvent=function(a){this._addDescriptorOnCoordinatePopulated(a.sender)};b.prototype._handleCoordinateDeletedEvent=function(a){(a=a.sender.feature)&&this._removeFeature(a)};b.prototype._refreshCoordinateData=function(a){this._refreshData(a instanceof
f.CoordinateDescriptor?a:a.sender)};b.prototype._addDescriptorOnCoordinatePopulated=function(a){var d=this;if(a.coordinate.get())this._addDescriptor(a);else a.coordinate.once(this,function(){return d._addDescriptor(a)})};b.prototype._addDescriptor=function(a){this._updateDescriptorFeature(a);this._setCoordinateData(a)};b.prototype._updateDescriptorFeature=function(a){a.feature||(a.feature=new esri.Graphic);a.feature.geometry=a.mapPoint;this._setFeatureAttributes(a)};b.prototype._setFeatureAttributes=
function(a){if(a.feature){var d={},g=a.coordinate.get();g&&(d.Id=a.id.get(),d.X=g.x,d.Y=g.y,d.Latitude="xy"===g.targetCoordinateSystem.output?null:g.formattedLatitudeOrX,d.Longitude="xy"===g.targetCoordinateSystem.output?null:g.formattedLongitudeOrY,d["Coordinate System"]=g.targetCoordinateSystem.displayName,d.WKID=g.targetCoordinateSystem.wkid||"");a.feature.setAttributes(d)}};b.prototype._getCoordinateResultsCollection=function(){var a=this.app.featureSetManager.getCollectionById("Coordinates");
a||(a=new h.infrastructure.FeatureSetCollection,a.id="Coordinates",a.sourceName="Coordinates",a.displayName.set(this.app.getResource(this.libraryId,"language-plotcoordinates-results-collection-name")),this.app.featureSetManager.addCollection(a));return a};b.prototype._getEsriFeatureSet=function(){this._esriFeatureSet||(this._esriFeatureSet=new esri.tasks.FeatureSet);return this._esriFeatureSet};b.prototype._setCoordinateData=function(a){var d=this._getEsriFeatureSet();d.features.push(a.feature);this._featureIdMapping.push({id:a.id.get(),
feature:a.feature});this._coordinatesData?(this._coordinatesData.esriFeatureSet=d,this._coordinatesData.loadFeatures()):(this._coordinatesData=new h.infrastructure.FeatureSet({esriFeatureSet:d}),this._coordinatesData.displayName.set(this.app.getResource(this.libraryId,"language-plotcoordinates-results-display-name")),this._coordinatesData.isSelectedInCollection.set(!0),this._coordinatesData.extendedProperties.addItem({name:h.infrastructure.coordinates.featureSetExtendedProperty,value:!0}));this._setFeatureExtendedProperties();
a=this._getCoordinateResultsCollection();a.featureSets.contains(this._coordinatesData)||a.featureSets.addItem(this._coordinatesData);this.app.featureSetManager.openCollection(a.id);this.app.featureSetManager.closeCollection(a.id)};b.prototype._removeFeature=function(a){if(this._coordinatesData){var d=this._getEsriFeatureSet();d.features=d.features.filter(function(d){return d!==a});this._featureIdMapping=this._featureIdMapping.filter(function(d){return d.feature!==a});this._coordinatesData.loadFeatures();
this._setFeatureExtendedProperties()}};b.prototype._refreshData=function(a){a.feature&&(a.feature.geometry=a.mapPoint);this._setFeatureAttributes(a);this._coordinatesData.loadFeatures();this._setFeatureExtendedProperties()};b.prototype._setFeatureExtendedProperties=function(){var a=this;this._coordinatesData.features.get().forEach(function(d){var g=d.esriFeature.get();if(g){var b=a._featureIdMapping.filter(function(a){return a.feature===g});if(b&&b.length){var e=d.extendedProperties.get().filter(function(a){return a.name===
h.infrastructure.coordinates.coordinateIdentifierProperty});e&&e.length||d.extendedProperties.addItem({name:h.infrastructure.coordinates.coordinateIdentifierProperty,value:b[0].id})}}})};return b}(e.framework.FrameworkObject);f.CoordinatesFscIntegration=k})(f.plotCoordinates||(f.plotCoordinates={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this._plotCoordinatesCommandName="PlotCoordinates"}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);a&&a.tools&&this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,!0);this.subscribeEvents();this.registerCommands();this._monitorToolActivations()};b.prototype.registerCommands=function(){this.app.command("EditCoordinate").register(this,
this.editCoordinateImpl)};b.prototype.subscribeEvents=function(){this.app.event("ToolCommandDeactivatedEvent").subscribe(this,this._handleToolCommandDeactivatedEvent)};b.prototype.editCoordinateImpl=function(){var a=this.app.toolRegistry.getActiveTool();a&&a.command&&a.command===this._plotCoordinatesCommandName||(a=this._getToolNamesByCommand(this._plotCoordinatesCommandName))&&a.length&&this.app.command("SetActiveTool").execute(a[0]);this.app.behavior("CoordinateEditingStartedBehavior").run()};b.prototype.getStateFilter=
function(){return{coordinates:{item:this.app.project.filter.point},coordinateSystem:this.app.project.filter.coordinateSystem,hiddenCoordinateIds:!0}};b.prototype.exportState=function(){var a=this,d={coordinates:[],coordinateSystem:null};return Promise["try"](function(){a.app.command("_ExportPlotCoordinatesState").execute(d);return d})};b.prototype.applyState=function(a){var d=this,g={state:a,completePromise:null};return this.app.waitUntilAllLibrariesLoaded().then(function(){d.app.command("_ApplyPlotCoordinatesState").execute(g);
return g.completePromise})};b.prototype._handleToolCommandDeactivatedEvent=function(a){a===this._plotCoordinatesCommandName&&(this.app.command("CancelEditCoordinate").execute(),this.app.event("PlotCoordinatesToolDeactivatedEvent").publish())};b.prototype._monitorToolActivations=function(){var a=this;this.app.event("ActiveToolChangedEvent").subscribe(this,function(d){(d=d.tool)&&d.command&&d.command===a._plotCoordinatesCommandName&&(a.app.command("EditCoordinate").execute(),a.app.event("PlotCoordinatesToolActivatedEvent").publish())})};
b.prototype._getToolNamesByCommand=function(a){var d=[],g=this.app.toolRegistry.tools,b;for(b in g){if(!g.hasOwnProperty(b))return;var e=g[b];e.command===a&&d.push(e.name)}return d};return b}(e.framework.application.ModuleBase);h.PlotCoordinatesModule=f})(h.plotCoordinates||(h.plotCoordinates={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.attach=function(a){a&&(e.prototype.attach.call(this,a),a.coordinateDescriptors.bind(this,this._scrollToBottom),this.initialize())};b.prototype.initialize=function(){this.title.set(this.app.getResource(this.libraryId,"language-plotcoordinates-title"));this.app.viewManager.notifyDimensionsChanged(this);this.registerCommands()};b.prototype.registerCommands=
function(){this.app.command("ActivatePlotCoordinatesView").register(this,this._activatePlotCoordinatesView)};b.prototype.resolveWidget=function(a,d,g){e.prototype.resolveWidget.call(this,a,d);return"CoordinatesListActionsWidget"===a?this.app.menuRegistry.createMenuWidget(this,d,g):null};b.prototype.handleCoordinateActions=function(a,d,g){g&&this.app.command("ShowCoordinateActions").execute(g.id.get())};b.prototype.handleAddCoordinateClick=function(a,d,g){var b=this,e=function(){b.app.command("Alert").execute(b.getResource("language-plotcoordinates-invalid-coordinate-alert"))};
a=this.viewModel.coordinatesModel.get().currentCoordinateSystem.get();var r;if("xy"===a.output){if(d=parseFloat(g.outputX.get()),r=parseFloat(g.outputY.get()),isNaN(d)||isNaN(r)){e();return}}else if(r=h.infrastructure.coordinates.CoordinateUtils.convertDmsToDecimalDegrees(this.app,g.degreeLat.get(),g.minuteLat.get()||"0",g.secondLat.get()||"0",g.bearingLat.get()),d=h.infrastructure.coordinates.CoordinateUtils.convertDmsToDecimalDegrees(this.app,g.degreeLon.get(),g.minuteLon.get()||"0",g.secondLon.get()||
"0",g.bearingLon.get()),null==r||null==d){e();return}g=new esri.geometry.Point(d,r,new esri.SpatialReference(a.wkid||a.wkt));h.infrastructure.GeometryUtils.projectGeometry(g,this.app.map.spatialReference,function(a){b.app.command("PlotCoordinates").execute(a)},function(a){e()},this.app)};b.prototype.handleUpdateCoordinateClick=function(a,d,g){this.handleAddCoordinateClick(a,d,g)};b.prototype.handleCancelAddCoordinateClick=function(a,d,g){this.app.command("CancelEditCoordinate").execute()};b.prototype.handleClickAddAnotherCoordinate=
function(a,d,g){this.app.command("SetActiveTool").execute("PlotCoordinatesTool")};b.prototype.handleCoordinateItemClick=function(a,d,g){g&&(a=new h.infrastructure.Feature({graphic:g.feature}),a.extendedProperties.addItem({name:h.infrastructure.coordinates.coordinateIdentifierProperty,value:g.id.get()}),this.app.behavior("CoordinateListItemClickedBehavior").run(a))};b.prototype._scrollToBottom=function(){var a=this;this.coordList&&setTimeout(function(){return a.coordList.scrollTop=a.coordList.scrollHeight},
0)};b.prototype._activatePlotCoordinatesView=function(){this.app.viewManager.activateView(this);this.viewModel.focusOnMapDelayed()};return b}(e.framework.ui.ViewBase);f.PlotCoordinatesView=k})(f.plotCoordinates||(f.plotCoordinates={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=e.framework.utils.ArrayUtils,l=function(b){function a(){b.apply(this,arguments);this.isEnabled=new Observable(!1);this.coordinatesModel=new Observable(null);this.coordinateDescriptors=new ObservableCollection([]);this.descCurrentlyBeingEdited=null;this.currentlyEditing=new Observable(!1);this.hasCoordinates=new Observable(!1);this.coordId=0;this._mouseOutBindingToken=null;this._highlightedCoordinateIds=[];this.LAYER_NAME="Drawings_coordinates";
this._highlightedLabelHighlightWidth=3}__extends(a,b);a.prototype.initialize=function(a){var g=this;!1!==a.isEnabled&&a.coordinatesModel&&(this._fontFamily=a.fontFamily?a.fontFamily:"Arial",this._fontSize=a.fontSize?a.fontSize:"12px",this._highlightColor=a.highlightColor?a.highlightColor:"#333333",this._textColor=a.textColor?a.textColor:"#FFFFFF",this._editingHighlightColor=a.editingHighlightColor?a.editingHighlightColor:"#1A72C4",this._editingTextColor=a.editingTextColor?a.editingTextColor:"#FFFFFF",
this._cornerRadius=void 0!=a.cornerRadius?parseInt(a.cornerRadius,10):5,this._highlightOutlineColor=a.highlightOutlineColor?a.highlightOutlineColor:"#FFFFFF",this._highlightOutlineWidth=void 0!=a.highlightOutlineWidth?parseInt(a.highlightOutlineWidth,10):1,this.coordinateDescriptors.bind(this,this._setHasCoordinates),this.app.coordinatesManager.getCoordinatesModel(a.coordinatesModel).then(function(a){g.isEnabled.set(!0);g.coordinatesModel.set(a)},function(b){g.app.trace.error("PlotCoordinatesViewModel: Error Initializing ViewModel. Could not retrieve {0}. {1}".format(a.coordinatesModel,
b.message))}),this.coordinatesFscIntegration=new f.CoordinatesFscIntegration(this.app,this.libraryId),this.registerCommands())};a.prototype.registerCommands=function(){this.app.command("PlotCoordinates").register(this,this._plotCoordinatesImpl,this._canExecutePlotCoordinates);this.app.command("DeleteCoordinates").register(this,this._deleteCoordinatesImpl,this._canExecuteDeleteCoordinates);this.app.command("HideCoordinates").register(this,this._hideCoordinatesImpl,this._canExecuteHideCoordinatesImpl);
this.app.command("ShowCoordinates").register(this,this._showCoordinatesImpl,this._canExecuteShowCoordinatesImpl);this.app.command("DeleteAllCoordinates").register(this,this._deleteAllCoordinatesImpl,this._canExecuteDeleteAllCoordinates);this.app.command("HideAllCoordinates").register(this,this._hideAllCoordinatesImpl,this._canExecuteHideAllCoordinatesImpl);this.app.command("ShowAllCoordinates").register(this,this._showAllCoordinatesImpl,this._canExecuteShowAllCoordinatesImpl);this.app.command("EditCoordinate").register(this,
this._editCoordinateImpl,this._canExecuteEditCoordinate);this.app.command("CancelEditCoordinate").register(this,this._cancelEditCoordinateImpl,this._canExecuteCancelEditCoordinate);this.app.command("HighlightFeature").register(this,this._highlightCoordinateFeature);this.app.command("HighlightFeatureDefault").register(this,this._highlightCoordinateFeature);this.app.command("HighlightFeatureSet").register(this,this._highlightCoordinateFeatureSet);this.app.command("ClearHighlights").register(this,this._clearCoordinateHighlights);
this.app.command("ClearDefaultHighlights").register(this,this._clearCoordinateHighlights);this.app.command("_ExportPlotCoordinatesState").register(this,this._exportState);this.app.command("_ApplyPlotCoordinatesState").register(this,this._applyState)};a.prototype._hideAllCoordinatesImpl=function(){this._hideCoordinatesImpl(this.coordinateDescriptors.get().map(function(a){return a.id.get()}))};a.prototype._canExecuteHideAllCoordinatesImpl=function(){return this._testSomeDescriptorVisibility(this.coordinateDescriptors.get().map(function(a){return a.id.get()}),
!0)};a.prototype._showAllCoordinatesImpl=function(){this._showCoordinatesImpl(this.coordinateDescriptors.get().map(function(a){return a.id.get()}))};a.prototype._canExecuteShowAllCoordinatesImpl=function(){return this._testSomeDescriptorVisibility(this.coordinateDescriptors.get().map(function(a){return a.id.get()}),!1)};a.prototype._hideCoordinatesImpl=function(a){this._setDescriptorVisibilities(a,!1)};a.prototype._canExecuteHideCoordinatesImpl=function(a){return this._testSomeDescriptorVisibility(a,
!0)};a.prototype._showCoordinatesImpl=function(a){this._setDescriptorVisibilities(a,!0)};a.prototype._canExecuteShowCoordinatesImpl=function(a){return this._testSomeDescriptorVisibility(a,!1)};a.prototype._plotCoordinatesImpl=function(a){var g=this;a&&(a=dojo.isArray(a)?a:[a],1<a.length&&this._cancelDescCurrentlyBeingEdited(),a.forEach(function(a){g.descCurrentlyBeingEdited?g.descCurrentlyBeingEdited.setBaseCoordinate(a):g._addDescForBaseCoord(a);g._cancelDescCurrentlyBeingEdited()}),(a=this.app.toolRegistry.getActiveTool())&&
"PlotCoordinates"===a.command&&a.isSticky&&(this.app.command("UpdateStatus").execute(this.app.getResource(this.libraryId,"language-plotcoordinates-tool-status")),this.app.command("EditCoordinate").execute()))};a.prototype._canExecutePlotCoordinates=function(a){return!a||dojo.isArray(a)&&0===a.length?!1:!0};a.prototype._editCoordinateImpl=function(a){if(a){if(a=this._getCoordinateDescriptorById(a))this._setDescriptorCurrentlyBeingEdited(a),this.app.command("UpdateStatus").execute(this.app.getResource(this.libraryId,
"language-plotcoordinates-update-tool-status"))}else this.descCurrentlyBeingEdited?this.descCurrentlyBeingEdited.isNew.get()||(this._cancelDescCurrentlyBeingEdited(),this._addNewDescInEditMode()):this._addNewDescInEditMode();this.focusOnMapDelayed()};a.prototype._canExecuteEditCoordinate=function(a){return void 0==a||this._getCoordinateDescriptorById(a)?!0:!1};a.prototype._cancelEditCoordinateImpl=function(){this._cancelDescCurrentlyBeingEdited();this.app.command("UpdateStatus").execute(this.app.getResource(this.libraryId,
"language-plotcoordinates-tool-status"));this.app.behavior("CancelEditCoordinateBehavior").run()};a.prototype._canExecuteCancelEditCoordinate=function(){return!0};a.prototype._deleteAllCoordinatesImpl=function(){var a=this,g=this.coordinateDescriptors.get().filter(function(a){return!a.isEditing.get()});if(g.length){var b=this.app.getResource(this.libraryId,"language-plotcoordinates-delete-all-coordinates-confirm"),e=this.app.getResource(this.libraryId,"language-plotcoordinates-delete-all-coordinates");
this.app.command("Confirm").execute(b,e,function(b){b&&a._deleteCoordinatesImpl(g.map(function(a){return a.id.get()}))})}};a.prototype._canExecuteDeleteAllCoordinates=function(){return 0<this.coordinateDescriptors.get().filter(function(a){return!a.isEditing.get()}).length};a.prototype._deleteCoordinatesImpl=function(a){var g=this;a&&(a=dojo.isArray(a)?a:[a],a.forEach(function(a){if(a=g._getCoordinateDescriptorById(a))g.coordinateDescriptors.removeItem(a),a.removeLabelFromLayer(!0,!0)}),a.length&&
this._reorderCoordinateIds())};a.prototype._canExecuteDeleteCoordinates=function(a){var g=this;return void 0==a?!1:(dojo.isArray(a)?a:[a]).some(function(a){return void 0!=g._getCoordinateDescriptorById(a)})};a.prototype._clearCoordinates=function(){this._deleteCoordinatesImpl(this.coordinateDescriptors.get().map(function(a){return a.id.get()}))};a.prototype._getCoordinateDescriptorById=function(a){return null==a?null:this.coordinateDescriptors.get().filter(function(g){return g.id.get()===a})[0]};
a.prototype._setDescriptorCurrentlyBeingEdited=function(a){this._cancelDescCurrentlyBeingEdited();this.descCurrentlyBeingEdited=a;a.highlightLabel&&(a.highlightLabel.setHighlightColor(new esri.Color(this._editingHighlightColor)),a.highlightLabel.setTextColor(new esri.Color(this._editingTextColor)));a.isEditing.set(!0);this.currentlyEditing.set(!0);this._manageMapMouseOutActions()};a.prototype._cancelDescCurrentlyBeingEdited=function(){this.descCurrentlyBeingEdited&&(this.descCurrentlyBeingEdited.isNew.get()&&
(this.coordId--,this.coordinateDescriptors.removeItem(this.descCurrentlyBeingEdited)),this.descCurrentlyBeingEdited.highlightLabel&&(this.descCurrentlyBeingEdited.highlightLabel.setHighlightColor(new esri.Color(this._highlightColor)),this.descCurrentlyBeingEdited.highlightLabel.setTextColor(new esri.Color(this._textColor))),this.descCurrentlyBeingEdited.isEditing.set(!1));this.descCurrentlyBeingEdited=null;this.currentlyEditing.set(!1);this._manageMapMouseOutActions()};a.prototype._addNewDescInEditMode=
function(){this.coordId++;this.descCurrentlyBeingEdited=this._addDescriptor(void 0,this.coordId.toString());this.coordinateDescriptors.addItem(this.descCurrentlyBeingEdited);this.currentlyEditing.set(!0);this._manageMapMouseOutActions()};a.prototype._addDescForBaseCoord=function(a,g){g||this.coordId++;var b=this._addDescriptor(a,g);g||this.coordinateDescriptors.addItem(b);return b};a.prototype._addDescriptor=function(a,g){var b=void 0!=g?g:this.coordId.toString(),e=new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,
new esri.Color(this._highlightOutlineColor),this._highlightOutlineWidth),e={layerId:this.LAYER_NAME,fontSize:this._fontSize,fontFamily:this._fontFamily,cornerRadius:this._cornerRadius,textColor:new esri.Color(this._textColor),highlightColor:new esri.Color(this._highlightColor),highlightOutlineSymbol:e};return new f.CoordinateDescriptor(this.app,b,this.coordinatesModel.get(),e,a)};a.prototype._setHasCoordinates=function(){var a=this;setTimeout(function(){a.hasCoordinates.set(0<a.coordinateDescriptors.length())},
0)};a.prototype._manageMapMouseOutActions=function(){var a=this;this.descCurrentlyBeingEdited&&this.app.map&&this.app.map.loaded?this._mouseOutBindingToken=this.app.map.on("mouse-out",function(){a.descCurrentlyBeingEdited&&a.descCurrentlyBeingEdited.clearValues()}):this._mouseOutBindingToken&&(this._mouseOutBindingToken.remove(),this._mouseOutBindingToken=null)};a.prototype._reorderCoordinateIds=function(){var a=this;this.coordId=0;this.coordinateDescriptors.get().forEach(function(g){a.coordId++;
g.updateCoordinateId(a.coordId.toString())})};a.prototype._exportState=function(a){var g=this;a.coordinates=this.coordinateDescriptors.get().map(function(a){return g.app.project.convert.fromEsriGeometry(a.mapPoint)});var b=this.coordinatesModel.get().currentCoordinateSystem.get();b&&(a.coordinateSystem={wkid:b.wkid,wkt:b.wkt,output:b.output});(b=this.coordinateDescriptors.get().filter(function(a){return!a.isVisible.get()}).map(function(a){return a.id.get()}))&&b.length&&(a.hiddenCoordinateIds=b)};
a.prototype._applyState=function(a){var g=this;this._clearCoordinates();var b=a.state.coordinateSystem;if(b){var e=k.firstOrDefault(this.coordinatesModel.get().coordinateSystems.get(),function(a){return a.output===b.output&&a.wkid===b.wkid&&a.wkt===b.wkt});e&&this.coordinatesModel.get().currentCoordinateSystem.set(e)}var h=a.state.hiddenCoordinateIds;if(h&&h.length)var f=this.app.event("CoordinateAddedEvent").subscribe(this,function(a){a=h.indexOf(a.coordinateId);-1<a&&(g._hideCoordinatesImpl(h[a]),
h.splice(a,1));0===h.length&&g.app.event("CoordinateAddedEvent").unsubscribe(f)});e=(a.state.coordinates||[]).map(function(a){return{x:a.x,y:a.y,spatialReference:g.app.project.convert.toEsriSpatialReference(a.spatialReference)}});this._plotCoordinatesImpl(e);a.completePromise=Promise.resolve()};a.prototype._testSomeDescriptorVisibility=function(a,g){if(!a)return!1;for(var b=dojo.isArray(a)?a:[a],e=0;e<b.length;e++){var h=this._getCoordinateDescriptorById(b[e]);if(h&&!h.isEditing.get()&&(g&&h.labelVisible()||
!g&&!h.labelVisible()))return!0}return!1};a.prototype._setDescriptorVisibilities=function(a,g){var b=this;a&&((dojo.isArray(a)?a:[a]).forEach(function(a){if(a=b._getCoordinateDescriptorById(a))g?(a.showLabel(),b.app.event("CoordinateSetVisibleEvent").publish(a.id.get())):(b._highlightedCoordinateIds.length&&b.app.command("ClearDefaultHighlights").execute(),a.hideLabel(),b.app.event("CoordinateSetHiddenEvent").publish(a.id.get()))}),this._raiseCanExecuteChangedForShowHideCoords())};a.prototype._raiseCanExecuteChangedForShowHideCoords=
function(){this.app.command("ShowCoordinates").raiseCanExecuteChanged();this.app.command("ShowAllCoordinates").raiseCanExecuteChanged();this.app.command("HideCoordinates").raiseCanExecuteChanged();this.app.command("HideAllCoordinates").raiseCanExecuteChanged()};a.prototype._highlightCoordinateFeature=function(a){a&&(a=(a=a.extendedProperties.get().filter(function(a){return a.name===h.infrastructure.coordinates.coordinateIdentifierProperty}))&&a.length?this._getCoordinateDescriptorById(a[0].value):
null)&&this._highlightCoordinateImpl(a)};a.prototype._highlightCoordinateFeatureSet=function(a){var g=this;a&&a.features&&a.features.get().forEach(function(a){return g._highlightCoordinateFeature(a)})};a.prototype._clearCoordinateHighlights=function(){var a=this;this._highlightedCoordinateIds.slice(0).forEach(function(g){return a._clearCoordinateHighlightImpl(a._getCoordinateDescriptorById(g))})};a.prototype._highlightCoordinateImpl=function(a){if(a&&a.highlightLabel&&!(-1<this._highlightedCoordinateIds.indexOf(a.id.get()))){a.highlightLabel.moveToTop();
var g=this.app.highlightManager&&this.app.highlightManager.getHighlightBorderColor();if(g){var b=new esri.symbol.SimpleLineSymbol;b.setColor(new esri.Color(g));b.setWidth(this._highlightedLabelHighlightWidth);a.highlightLabel.highlightSymbol.setOutline(b);a.highlightLabel.highlightGraphic.setSymbol(a.highlightLabel.highlightSymbol);this._highlightedCoordinateIds.push(a.id.get())}}};a.prototype._clearCoordinateHighlightImpl=function(a){if(a&&a.highlightLabel){var g=this._highlightedCoordinateIds.indexOf(a.id.get());
if(-1<g){var b=a.highlightLabel.getConfig().highlightOutlineSymbol||null;a.highlightLabel.highlightSymbol.setOutline(b);a.highlightLabel.highlightGraphic.setSymbol(a.highlightLabel.highlightSymbol);this._highlightedCoordinateIds.splice(g,1)}}};a.prototype.focusOnMapDelayed=function(a){var g=this;void 0===a&&(a=300);setTimeout(function(){h.infrastructure.FocusUtils.focusOnMap(g.app.map)},a)};return a}(e.framework.ui.ViewModelBase);f.PlotCoordinatesViewModel=l})(f.plotCoordinates||(f.plotCoordinates=
{}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(e){function b(a,d){e.call(this,a,d);this._registerCommandsAndEvents()}__extends(b,e);b.prototype.handleMenuItemClick=function(a,d,g){this.app.command("DeactivateView").execute(this.id);e.prototype.handleMenuItemClick.call(this,a,d,g)};b.prototype._registerCommandsAndEvents=function(){this.app.command("ShowProjectActions").register(this,this._executeShowProjectActions)};b.prototype._executeShowProjectActions=function(a){a&&
(this.title.set(a.title),this.viewModel.menuContext.set(a),this.app.command("ActivateView").execute(this.id))};return b}(e.infrastructure.menus.MenuView);f.ProjectActionsView=k})(f.project||(f.project={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=e.framework.utils.TimeDelayedAction,l=function(b){function a(a,g){b.call(this,a,g);this._listenForDataFrameEvents=!0;this._validationDelayMS=300;this._keyDownTimer=null;this._registerCommandsAndEvents()}__extends(a,b);a.prototype.attach=function(a){var g=this;b.prototype.attach.call(this,a);this._keyDownTimer=new f(this._validationDelayMS,function(){return g.viewModel.validateInput()},this)};a.prototype.activated=function(){b.prototype.activated.call(this);
this._listenForDataFrameEvents=!1};a.prototype.deactivated=function(){b.prototype.deactivated.call(this);this._listenForDataFrameEvents=!0;this.viewModel.reset()};a.prototype.handleInputChanged=function(a,g,b){this.viewModel.handleInputChanged();this._keyDownTimer.reset()};a.prototype.handleSaveButtonClick=function(a,g,b){this.viewModel.finishEditing()};a.prototype.handleCancelButtonClick=function(a,g,b){this.viewModel.finishEditing(!0)};a.prototype._registerCommandsAndEvents=function(){var a=this;
this.app.command("ShowProjectEditor").register(this,this._executeShowProjectEditor,this._canExecuteShowProjectEditor);this.app.event("DataFrameOpenedEvent").subscribe(this,function(){return a._handleDataFrameEvent(!0)});this.app.event("DataFrameClosedEvent").subscribe(this,function(){return a._handleDataFrameEvent(!1)})};a.prototype._executeShowProjectEditor=function(a){"object"!==typeof a||a.id?this.title.set(this.getResource("language-project-editor-title")):this.title.set(this.getResource("language-project-save-title"));
this.viewModel.startEditing(a);this.app.command("ActivateView").execute(this.id)};a.prototype._canExecuteShowProjectEditor=function(a){return"string"===typeof a?!0:a?this.app.site.documentStore.isOwner(a):!1};a.prototype._handleDataFrameEvent=function(a){this._listenForDataFrameEvents&&(this.viewModel.dataFrameIsOpen=a)};return a}(e.framework.ui.ViewBase);h.ProjectEditorView=l})(h.project||(h.project={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(e){function b(a,d,g){e.call(this,a,d);this.description=new Observable;this.canExpand=!1;this.isExpanded=new Observable(!1);g&&this.update(g);this.isExpanded.bind(this,this._onIsExpandedChanged)}__extends(b,e);b.prototype.update=function(a){this.project=a;this.name=a.title||"";this.projectUrl=this.app.project.getProjectUrl(a);a.thumbnail&&(a.thumbnail.location?this.thumbnail=a.thumbnail.location:a.thumbnail.text&&(this.thumbnail=
a.thumbnail.text));String.isNullOrEmpty(this.thumbnail)&&(this.thumbnail=" ");a.description&&100<a.description.length?(this.canExpand=!0,this.description.set(this._trunc(a.description,100))):(this.canExpand=!1,this.description.set(a.description||""));var d=this.getResource("language-projects-created-by-label"),g=a.author?a.author.title:this.getResource("language-projects-author-guest"),b=h.infrastructure.FormatUtils.formatDateFromNow(a.timeOfCreation);this.createdBy="{0} {1} {2}".format(d,g,b);d=
this.getResource("language-projects-last-modified-by-label");g=a.editor?a.editor.title:this.getResource("language-projects-author-guest");a=h.infrastructure.FormatUtils.formatDateFromNow(a.timeOfLastModification);this.lastModifiedBy="{0} {1} {2}".format(d,g,a)};b.prototype._onIsExpandedChanged=function(a){this.canExpand&&(a?this.description.set(this.project.description):this.description.set(this._trunc(this.project.description,100)))};b.prototype._trunc=function(a,d){return a.length>d?a.substr(0,
d-1)+"...":a};return b}(e.framework.FrameworkObject);f.ProjectModel=k})(f.project||(f.project={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(a,d){e.call(this,a,d);this._registerCommandsAndEvents()}__extends(b,e);b.prototype.attach=function(a){e.prototype.attach.call(this,a);this.configuration.showXButton=!1};b.prototype.handleShareButtonClick=function(a,d,g){this._deactivateView();this.app.command("ShowShareProject").execute(this.viewModel.project)};b.prototype.handleCloseButtonClick=function(a,d,g){this._deactivateView()};b.prototype._registerCommandsAndEvents=
function(){this.app.event("ProjectLoadingEvent").subscribe(this,this._handleProjectLoadingEvent);this.app.event("ProjectLoadedEvent").subscribe(this,this._handleProjectLoadedEvent);this.app.event("ProjectSavingEvent").subscribe(this,this._handleProjectSavingEvent);this.app.event("ProjectSavedEvent").subscribe(this,this._handleProjectSavedEvent);this.app.event("ProjectErrorEvent").subscribe(this,this._handleProjectErrorEvent)};b.prototype._handleProjectLoadingEvent=function(a){this.viewModel.project=
a;this.viewModel.statusMessage.set(this.getResource("language-project-status-loading"));this.viewModel.isBusy.set(!0);this._activateView()};b.prototype._handleProjectLoadedEvent=function(a){this.viewModel.project=null;this._deactivateView()};b.prototype._handleProjectSavingEvent=function(a){this.viewModel.project=a;this.viewModel.statusMessage.set(this.getResource("language-project-status-saving"));this.viewModel.isBusy.set(!0);this._activateView()};b.prototype._handleProjectSavedEvent=function(a){this.viewModel.projectUrl.set(this.app.project.getProjectUrl(a));
this.viewModel.isBusy.set(!1);this.app.command("FocusOnFirstInputInView").execute(this);this.app.viewManager.notifyDimensionsChanged(this)};b.prototype._handleProjectErrorEvent=function(a){this.viewModel.project=null;this._deactivateView()};b.prototype._activateView=function(){this.isActive||this.app.command("ActivateView").execute(this.id)};b.prototype._deactivateView=function(){this.isActive&&this.app.command("DeactivateView").execute(this.id)};return b}(e.framework.ui.ViewBase);h.ProjectStatusView=
f})(h.project||(h.project={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this.project=null;this.isBusy=new Observable(!0);this.statusMessage=new Observable;this.projectUrl=new Observable;this.showProjectUrl=new Observable}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);a.showUrlOnSave&&this.showProjectUrl.set(a.showUrlOnSave)};return b}(e.framework.ui.ViewModelBase);h.ProjectStatusViewModel=f})(h.project||(h.project=
{}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=e.essentials.documents.GrantKind,l=function(b){function a(a,g){b.call(this,a,g);this._registerCommandsAndEvents()}__extends(a,b);a.prototype.handleAddLinkButtonClick=function(a,g,b){this.viewModel.addGuestLink(b)};a.prototype.handleRemoveLinkButtonClick=function(a,g,b){var e=this;a=this.getResource("language-project-confirm-remove-guest-link-title");g=this.getResource("language-project-confirm-remove-guest-link-description");this.app.command("Confirm").execute(g,
a,function(a){a&&e.viewModel.removeGuestLink(b)})};a.prototype.handleClearButtonClick=function(a,g,b){var e=this;a=this.getResource("language-project-confirm-stop-sharing-title");g="language-project-confirm-stop-sharing-{0}".format(this.viewModel.showGuestLinks.get()?"all-description":"description");g=this.getResource(g).format(this.viewModel.project.get().title);this.app.command("Confirm").execute(g,a,function(a){a&&e.viewModel.updateProjectGrants(!0)})};a.prototype.handleSaveButtonClick=function(a,
g,b){var e=this;this.viewModel.confirmSharedPublicly&&this._isPublic(this.viewModel.project.get())?(a=this.getResource("language-project-confirm-share-public-title"),g=this._getConfirmPublicDescription(this.viewModel.project.get()),this.app.command("Confirm").execute(g,a,function(a){a&&e.viewModel.updateProjectGrants()})):this.viewModel.updateProjectGrants()};a.prototype.handleCloseButtonClick=function(a,g,b){this._deactivateView()};a.prototype.resolveWidget=function(a,g,n){b.prototype.resolveWidget.call(this,
a,g);if(!a)return null;switch(a){case "GrantEditorWidget":return(a=this.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.infrastructure.documents.GrantEditorView",markupResource:"Mapping/infrastructure/documents/GrantEditorView.html",libraryId:"Mapping.Infrastructure",isVisible:!0}))&&a.attach(this.viewModel.grantEditorViewModel),a;default:return null}};a.prototype._registerCommandsAndEvents=function(){this.app.command("ShowShareProject").register(this,this._executeShowShareProject)};
a.prototype._executeShowShareProject=function(a){this.viewModel.loadProject(a);this.app.command("ActivateView").execute(this.id)};a.prototype._deactivateView=function(){this.app.command("DeactivateView").execute(this.id)};a.prototype._isPublic=function(a){return this.app.site.documentStore.isPublic(a)||this.viewModel.allowPublicReadAccess&&this._hasLink(a,f.READER_LINK)||this.viewModel.allowPublicEditAccess&&this._hasLink(a,f.WRITER_LINK)?!0:!1};a.prototype._getConfirmPublicDescription=function(a){return this.viewModel.allowPublicEditAccess&&
this._hasLink(a,f.WRITER_LINK)?this.getResource("language-project-confirm-share-public-edit-description").format(this.viewModel.project.get().title):this.getResource("language-project-confirm-share-public-description").format(this.viewModel.project.get().title)};a.prototype._hasLink=function(a,g){return a.grants.some(function(a){return a.kind===g&&(!1===a.revoke||!0===a.assert)})};return a}(e.framework.ui.ViewBase);h.ShareProjectView=l})(h.project||(h.project={}))})(h.modules||(h.modules={}))})(f.mapping||
(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=e.essentials.documents.BatchRequestBuilder,l=h.infrastructure.documents.GrantEditorViewModel,b=e.essentials.documents.GrantID,a=e.essentials.documents.GrantKind,d=h.infrastructure.documents.GuestLinkModel,g=e.essentials.documents.LINK_QUERY_STRING_KEY,n=function(n){function e(a,d){n.call(this,a,d);this.allowPublicEditAccess=this.allowPublicReadAccess=!1;this.project=new Observable;this.projectUrl=new Observable;this.guestLinks=
new ObservableCollection;this.showGuestLinks=new Observable;this.statusMessage=new Observable;this.isOwner=new Observable(!1);this.isBusy=new Observable(!1);this.grantEditorViewModel=new l(a,"Mapping.Infrastructure");this._setupGuestLinks()}__extends(e,n);e.prototype.initialize=function(d){var g=this;n.prototype.initialize.call(this,d);d.showGuestLinks&&this.showGuestLinks.set(d.showGuestLinks);d.confirmSharedPublicly&&(this.confirmSharedPublicly=d.confirmSharedPublicly);this.app.waitUntilDocumentStoreInitialized().then(function(){g.allowPublicReadAccess=
g.app.site.documentStore.hasPolicyGrant(function(d){return d.kind===a.GLOBAL_READER&&d.globalId===b.PUBLIC});g.allowPublicEditAccess=g.app.site.documentStore.hasPolicyGrant(function(d){return d.kind===a.GLOBAL_WRITER&&d.globalId===b.PUBLIC});g.allowPublicReadAccess&&g.guestLinks.getItems().filter(function(d){return d.kind===a.READER_LINK}).forEach(function(a){return a.name.set(g.getResource("language-share-project-links-public-view-label"))});g.allowPublicEditAccess&&g.guestLinks.getItems().filter(function(d){return d.kind===
a.WRITER_LINK}).forEach(function(a){return a.name.set(g.getResource("language-share-project-links-public-edit-label"))})})};e.prototype.loadProject=function(a){var d=this;this.statusMessage.set(this.getResource("language-common-loading"));this.isBusy.set(!0);a=this.app.project.getProjectID(a);this.grantEditorViewModel.loadById(a).then(function(){return d._updateModel(d.grantEditorViewModel.document)})["catch"](function(a){d.app.trace.error("Error loading project: {0}".format(a.message),a);d._reset()})["finally"](function(){return d.isBusy.set(!1)})};
e.prototype.addGuestLink=function(a){var d=a.grant;d&&d.globalId===a.link?(d.assert=!0,d.revoke=!1):(d&&(d.assert=!1,d.revoke=!0),d={globalId:a.link,kind:a.kind,assert:!0,revoke:!1},a.grant=d,this.project.get().grants.push(d));a.linkUrl.set(this._buildGuestLinkUrl(this.projectUrl.get(),a.link))};e.prototype.removeGuestLink=function(a){a.grant?(a.grant.assert=!1,a.grant.revoke=!0,a.linkUrl.set(null)):this.app.trace.error("Error removing guest link: No grant provided.")};e.prototype.updateProjectGrants=
function(a){var d=this;void 0===a&&(a=!1);this.statusMessage.set(this.getResource("language-project-status-updating"));this.isBusy.set(!0);var g=this.project.get().id,b=this.project.get().grants;a&&b.forEach(function(a){a.assert=!1;a.revoke=!0});return this.app.project.write({id:g,grants:b}).then(function(){return d.grantEditorViewModel.loadById(g)}).then(function(){return d._updateModel(d.grantEditorViewModel.document)})["catch"](function(a){d.app.trace.error("Error updating project grants: {0}".format(a.message),
a)})["finally"](function(){return d.isBusy.set(!1)})};e.prototype._buildGuestLinkUrl=function(a,d){var b=a,b=b+(-1<b.indexOf("?")?"&":"?");return b+="{0}={1}".format(g,d)};e.prototype._updateModel=function(a){if(!a)return Promise.resolve(this._reset());this.project.set(a);this.projectUrl.set(this.app.project.getProjectUrl(a));this.isOwner.set(this.app.site.documentStore.isOwner(a));return this._updateGuestLinks(a)};e.prototype._updateGuestLinks=function(a){var d=this,g=this.guestLinks.getItems(),
b=this.app.project.getProjectUrl(a);g.forEach(function(a){return a.reset()});if(a.grants)for(var n=0;n<a.grants.length;n++){var e=a.grants[n];g.forEach(function(a){e.kind===a.kind&&(a.grant=e,a.linkUrl.set(d._buildGuestLinkUrl(b,e.globalId)))})}var q=k.generateLinks(this.guestLinks.length());return this.app.waitUntilSiteInitialized().then(function(){return d.app.site.documentStore.perform(q,!0)}).then(function(a){g.forEach(function(d,g){return d.link=a.links[g]})})["catch"](function(a){d.app.trace.error("Error generating guest links: {0}".format(a.essage),
a)})};e.prototype._reset=function(){this.project.set(null);this.projectUrl.set(null);this.isOwner.set(!1);this.guestLinks.getItems().forEach(function(a){return a.reset()})};e.prototype._setupGuestLinks=function(){this.guestLinks.addItem(new d({name:this.getResource("language-share-project-links-view-label"),kind:a.READER_LINK}));this.guestLinks.addItem(new d({name:this.getResource("language-share-project-links-edit-label"),kind:a.WRITER_LINK}))};return e}(e.framework.ui.ViewModelBase);f.ShareProjectViewModel=
n})(f.project||(f.project={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=e.essentials.documents.GrantID,l=e.essentials.documents.GrantKind,b=e.framework.utils.TimeDelayedAction,a=function(a){function g(g,b){var e=this;a.call(this,g,b);this._keyDownTimer=null;this._registerCommandsAndEvents();this.app.waitUntilDocumentStoreInitialized().then(function(){e.app.command("ShowProjects").raiseCanExecuteChanged()})}__extends(g,a);g.prototype.attach=function(g){a.prototype.attach.call(this,g);this._keyDownTimer=
new b(this.viewModel.minimumFilterDelay,this._filterProjects,this)};g.prototype.activated=function(){a.prototype.activated.call(this);this.viewModel.activated()};g.prototype.handleKeyDown=function(a,d,g){a=a.which?a.which:a.keyCode;if(this._isSpecialChar(a))return!0;this._keyDownTimer.stop();a===dojo.keys.ENTER?this._filterProjects():this._keyDownTimer.start();return!0};g.prototype.handleClearFilterClick=function(a,d,g){this.viewModel.clearFilter();this.app.command("FocusOnFirstInputInView").execute(this)};
g.prototype.handleProjectClick=function(a,d,g){this.app.command("LoadProject").execute(g.project)};g.prototype.handleProjectActions=function(a,d,g){this.app.command("ShowProjectActions").execute(g.project)};g.prototype.handleProjectExpanderClick=function(a,d,g){a=g.isExpanded.get();d.textContent=a?this.getResource("language-projects-description-more"):this.getResource("language-projects-description-less");g.isExpanded.set(!a)};g.prototype.handleThumbnailLoadError=function(a,d,g){d.src!==this.viewModel.defaultThumbnail&&
(d.src=this.viewModel.defaultThumbnail,d.src!==this.viewModel.defaultThumbnail&&(this.viewModel.defaultThumbnail=d.src))};g.prototype.resolveWidget=function(g,b,e){a.prototype.resolveWidget.call(this,g,b);if(!g)return null;switch(g){case "ProjectsActionsWidget":return this.app.menuRegistry.createMenuWidget(this,b,e);case "PagingControlsWidget":if(g=this.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.infrastructure.ui.components.PagingControls.PagingControlsView",markupResource:"Mapping/infrastructure/ui/components/PagingControls/PagingControlsView.html",
libraryId:"Mapping.Infrastructure",isVisible:!0}))b=new h.infrastructure.ui.components.PagingControls.PagingControlsViewModel(this.app,b),g.attach(b);return g;default:return null}};g.prototype._registerCommandsAndEvents=function(){this.app.command("ShowProjects").register(this,this._executeShowProjects,this._canExecuteShowProjects);this.app.event("ProjectLoadedEvent").subscribe(this,this._handleProjectLoadedEvent)};g.prototype._executeShowProjects=function(){this.app.command("ActivateView").execute(this.id)};
g.prototype._canExecuteShowProjects=function(){return this.app.site&&this.app.site.documentStore?this.app.site.documentStore.supported?this.app.site.documentStore.canCreate()?!0:this.app.site.documentStore.hasPolicyGrant(function(a){return a.globalId===k.PUBLIC&&a.kind===l.GLOBAL_READER}):!1:!1};g.prototype._filterProjects=function(){var a=this.viewModel.filterText.get();this.viewModel.updateFilter(a)};g.prototype._handleProjectLoadedEvent=function(a){this.app.command("DeactivateView").execute(this.id)};
g.prototype._isSpecialChar=function(a){switch(a){case dojo.keys.TAB:case dojo.keys.SHIFT:case dojo.keys.CTRL:case dojo.keys.ALT:case dojo.keys.PAUSE:case dojo.keys.CAPS_LOCK:case dojo.keys.ESCAPE:case dojo.keys.PAGE_UP:case dojo.keys.PAGE_DOWN:case dojo.keys.END:case dojo.keys.HOME:case dojo.keys.LEFT_ARROW:case dojo.keys.UP_ARROW:case dojo.keys.RIGHT_ARROW:case dojo.keys.DOWN_ARROW:case dojo.keys.NUM_LOCK:case dojo.keys.SCROLL_LOCK:case dojo.keys.INSERT:return!0}return!1};return g}(e.framework.ui.ViewBase);
f.ProjectsView=a})(f.project||(f.project={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=h.infrastructure.documents.DocumentCollection,l=e.essentials.documents.DocumentField,b=e.essentials.documents.FilterMethod,a=l.TIME_CREATION,d=function(d){function n(a,b){var n=this;d.call(this,a,b);this._activated=!1;this.defaultPageSize=10;this.minimumFilterDelay=300;this.filterText=new Observable;this.privateProjectsOnly=new Observable(!1);this.fieldSorters=new ObservableCollection;this.selectedFieldSorter=new Observable;this.isAuthenticated=
new Observable(!1);this.isBusy=new Observable(!1);this.statusOffline=new Observable(!1);this.statusEmpty=new Observable(!1);this.presentableResults=new k(this.app,this.libraryId,function(a){return new f.ProjectModel(n.app,n.libraryId,a.entity)});this.projectsPage=this.presentableResults.items;this._filterTextField=[l.TITLE,l.DESCRIPTION,l.AUTHOR_TITLE,l.EDITOR_TITLE].join();this._registerCommandsAndEvents()}__extends(n,d);n.prototype.initialize=function(a){var b=this;d.prototype.initialize.call(this,
a);a.defaultThumbnail&&(this.defaultThumbnail=a.defaultThumbnail);a.minimumFilterDelay&&(this.minimumFilterDelay=a.minimumFilterDelay);this.isBusy.sync(this.presentableResults.statusFetching);this.statusOffline.sync(this.presentableResults.statusOffline);this.statusEmpty.syncTransform(this.presentableResults.numberOfItems,function(a){return 0===a&&b.presentableResults.isInitialized});this.privateProjectsOnly.bind(this,this._privateProjectsOnlyChanged);this.selectedFieldSorter.bind(this,this._selectedFieldSorterChanged);
this._setFieldSorters()};n.prototype.activated=function(){var d=this;this._activated||(this._activated=!0,this.app.waitUntilDocumentStoreInitialized().then(function(){0<d.app.site.documentStore.userMonikers.length&&(d.isAuthenticated.set(!0),d.privateProjectsOnly.set(!0));d.presentableResults.addFilter({field:"properties.{0}.string".format(h.infrastructure.project.SITE_ID_PROPERTY_NAME),range:[{string:d.app.site.id}]});d.presentableResults.initialize({fileType:h.infrastructure.project.PROJECT_TYPE,
queryParams:{sortDescending:[a]}})}))};n.prototype.refreshProjects=function(){this.presentableResults.refresh()};n.prototype.clearFilter=function(){this.filterText.set(null);this.updateFilter(null)};n.prototype.updateFilter=function(a){String.isNullOrEmpty(a)?this.presentableResults.removeFilter(this._filterTextField):this.presentableResults.addFilter({field:this._filterTextField,method:b.MATCHES,range:[{string:a}]})};n.prototype._registerCommandsAndEvents=function(){this.app.command("RefreshProjectsList").register(this,
this.refreshProjects);this.app.event("ProjectSavedEvent").subscribe(this,this._handleProjectSavedEvent);this.app.event("ProjectDeletingEvent").subscribe(this,this._handleProjectDeletingEvent)};n.prototype._handleProjectSavedEvent=function(a){this.refreshProjects()};n.prototype._handleProjectDeletingEvent=function(a){this.isBusy.set(!0);this.presentableResults.stopFetching=!0;this._projectDeleteToken=this.app.event("ProjectDeletedEvent").once(this,this._handleProjectDeletedEvent);this._projectErrorToken=
this.app.event("ProjectErrorEvent").once(this,this._handleProjectDeletedEvent)};n.prototype._handleProjectDeletedEvent=function(){this.app.event("ProjectDeletedEvent").unsubscribe(this._projectDeleteToken);this.app.event("ProjectErrorEvent").unsubscribe(this._projectErrorToken);this._projectErrorToken=this._projectDeleteToken=null;this.presentableResults.stopFetching=!1;this.refreshProjects()};n.prototype._privateProjectsOnlyChanged=function(a){a?this.presentableResults.addFilter(this.app.site.documentStore.userFilter):
this.presentableResults.removeFilter(l.GRANT_TOKEN)};n.prototype._selectedFieldSorterChanged=function(a){a.fields&&this.presentableResults.sortBy(a)};n.prototype._setFieldSorters=function(){var a=[{fields:null,displayName:this.app.getResource(this.libraryId,"language-projects-sort-default-display-name")},{fields:[l.TITLE],displayName:this.app.getResource(this.libraryId,"language-projects-sort-name-display-name")},{fields:[l.TIME_CREATION,l.TITLE],displayName:this.app.getResource(this.libraryId,"language-projects-sort-created-display-name"),
descending:!0},{fields:[l.TIME_LAST_MODIFICATION,l.TITLE],displayName:this.app.getResource(this.libraryId,"language-projects-sort-modified-display-name"),descending:!0},{fields:[l.EDITOR_TITLE],displayName:this.app.getResource(this.libraryId,"language-projects-sort-modifiedby-display-name")},{fields:[l.AUTHOR_TITLE],displayName:this.app.getResource(this.libraryId,"language-projects-sort-createdby-display-name")}];this.fieldSorters.set(a)};return n}(e.framework.ui.ViewModelBase);f.ProjectsViewModel=
d})(f.project||(f.project={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){var f;(function(h){var l=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.initialize=function(a){var g=this;b.prototype.initialize.call(this,a);this._registerCommandsAndEvents();this.app.waitUntilDocumentStoreInitialized().then(function(){g.app.command("SaveProject").raiseCanExecuteChanged();g.app.command("SaveAsProject").raiseCanExecuteChanged()})};a.prototype._registerCommandsAndEvents=function(){this.app.command("SaveProject").register(this,
this._executeSaveProject,this._canExecuteSaveProject);this.app.command("SaveAsProject").register(this,this._executeSaveAsProject,this._canExecuteSaveAsProject);this.app.command("LoadProject").register(this,this._executeLoadProject);this.app.command("DeleteProject").register(this,this._executeDeleteProject,this._canExecuteDeleteProject);this.app.event("ProjectEditorFinishedEvent").subscribe(this,this._handleProjectEditorFinishedEvent);this.app.event("ProjectDeletedEvent").subscribe(this,this._handleCurrentProjectUpdated);
this.app.event("ProjectLoadedEvent").subscribe(this,this._handleCurrentProjectUpdated);this.app.event("ProjectSavedEvent").subscribe(this,this._handleCurrentProjectUpdated)};a.prototype._executeSaveProject=function(){var a=this;if(this.app.project.current)if(this.app.site.documentStore.isReadOnly(this.app.project.current)){var g=this.getResource("language-project-confirm-save-title"),b=this._getConfirmActionDescription(f,"save");this.app.command("Confirm").execute(b,g,function(g){g&&a._executeSaveAsProject()})}else this._saveProject({id:this.app.project.current.id});
else g=this.app.project.createEmpty(null),this.app.command("ShowProjectEditor").execute(g)};a.prototype._canExecuteSaveProject=function(){return this.app.project.current?this.app.site&&(this.app.site.documentStore.canCreate()||!this.app.site.documentStore.isReadOnly(this.app.project.current)):this.app.site&&this.app.site.documentStore.canCreate()};a.prototype._executeSaveAsProject=function(){var a=this.app.project.createEmpty(null);this.app.project.current&&(a.title=this.app.project.current.title,
a.description=this.app.project.current.description);this.app.command("ShowProjectEditor").execute(a)};a.prototype._canExecuteSaveAsProject=function(){return this.app.site&&this.app.site.documentStore.canCreate()};a.prototype._executeLoadProject=function(a){var g=this,b=this.getResource("language-project-confirm-load-title"),e="{0} {1}".format(this._getConfirmActionDescription(a,"load"),this.getResource("language-project-confirm-load-overwrite"));this.app.command("Confirm").execute(e,b,function(b){b&&
g._loadProject(a)})};a.prototype._executeDeleteProject=function(a){var g=this,b=this.getResource("language-project-confirm-delete-title"),e=this._getConfirmActionDescription(a,"delete");this.app.command("Confirm").execute(e,b,function(b){b&&g._deleteProject(a)})};a.prototype._canExecuteDeleteProject=function(a){return"string"===typeof a?!0:a?this.app.site.documentStore.isOwner(a):!1};a.prototype._getConfirmActionDescription=function(a,g){return"object"===typeof a&&a.title?this.getResource("language-project-confirm-"+
g+"-description-with-title").format(a.title):this.getResource("language-project-confirm-"+g+"-description")};a.prototype._handleProjectEditorFinishedEvent=function(a){var g=this;if(!a.canceled)if(a.existingProject.id)a.newProject.id=a.existingProject.id,this._saveProject(a.newProject,!1);else{var b=dojo.mixin(a.existingProject,a.newProject);this._saveProject(b).then(function(){return g.app.project.current=b})}};a.prototype._handleCurrentProjectUpdated=function(a){this.app.command("SaveProject").raiseCanExecuteChanged()};
a.prototype._deleteProject=function(a){var g=this;return this.app.project.remove(a)["catch"](function(a){g.app.trace.error("Error deleting project: {0}".format(a.message),a)})};a.prototype._loadProject=function(a){var g=this;return this.app.project.load(a)["catch"](function(a){g.app.trace.error("Error loading project: {0}".format(a.message),a)})};a.prototype._saveProject=function(a,g){var b=this;void 0===g&&(g=!0);return this.app.project.save(a,g)["catch"](function(a){b.app.trace.error("Error saving project: {0}".format(a.message),
a)})};return a}(e.framework.application.ModuleBase);h.ProjectModule=l})(f=h.project||(h.project={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=e.essentials.documents.DocumentField,l=e.essentials.documents.FilterMethod,b=h.infrastructure.project.PROJECT_TYPE,a="{0}_exact".format(k.TITLE),d=function(d){function n(){d.apply(this,arguments);this.name=new Observable;this.description=new Observable;this.projectUrl=new Observable;this.isBusy=new Observable(!1);this.inputErrorMessage=new Observable;this.dataFrameIsOpen=!1}__extends(n,d);n.prototype.startEditing=function(a){var d=
this;this.isBusy.set(!0);this.app.project.getProject(a,!1).then(function(a){return d.app.project.validateProjectOwnership(a)}).then(function(a){return d._updateModel(a)})["catch"](function(a){d.app.trace.error("Error editing project: {0}".format(a.message),a);d.reset()})["finally"](function(){return d.isBusy.set(!1)})};n.prototype.finishEditing=function(a){var d=this;void 0===a&&(a=!1);var g={existingProject:this.project,newProject:null,canceled:a};return a?(this._deactivateView(),Promise.resolve(this.app.event("ProjectEditorFinishedEvent").publish(g))):
this.validateInput().then(function(){g.newProject={title:d.name.get().trim(),description:d.description.get()};d._deactivateView();d.app.event("ProjectEditorFinishedEvent").publish(g)})};n.prototype.validateInput=function(){var a=this;if(this._validateInputPromise)return this._validateInputPromise;var d=this.name.get()?this.name.get().trim():"";return this.project&&this.project.id&&this.project.title&&this.project.title===d?Promise.resolve():this._validateInputPromise=Promise.resolve().then(function(){if(String.isNullOrEmpty(d))throw Error(a.getResource("language-project-editor-error-name-required"));
}).then(function(){return a.app.site.documentStore.query(a._buildNameQueryParams(d))}).then(function(g){if(0<g.total)throw Error(a.getResource("language-project-editor-error-name-exists").format(d));})["catch"](function(d){a.inputErrorMessage.set(d.message);return Promise.reject(d)})["finally"](function(){a._validateInputPromise=null})};n.prototype.handleInputChanged=function(){this.inputErrorMessage.get()&&this.name.get()&&!String.isNullOrEmpty(this.name.get().trim())&&this.inputErrorMessage.set("")};
n.prototype.reset=function(){this.project=null;this.name.set("");this.description.set("");this.projectUrl.set("");this.inputErrorMessage.set("")};n.prototype._buildNameQueryParams=function(d){var g=[];g.push(this.app.site.documentStore.userFilter);g.push({field:a,method:l.VALUES,range:[{string:d}]});g.push({field:k.FILE_TYPE,method:l.VALUES,range:[{string:b}]});return{filters:{require:g},limit:0}};n.prototype._updateModel=function(a){this.project=a;this.name.set(a.title);this.description.set(a.description);
this.projectUrl.set(this.app.project.getProjectUrl(a))};n.prototype._deactivateView=function(){this.app.command("DeactivateView").execute("ProjectEditorView");this.dataFrameIsOpen||this.app.command("CloseDataFrame").execute()};return n}(e.framework.ui.ViewModelBase);f.ProjectEditorViewModel=d})(f.project||(f.project={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){(function(f){var m=function(b){function a(){b.apply(this,arguments);this.timeoutId=null;this.resizeDelay=300}__extends(a,b);a.prototype.attach=function(a){var g=this;this.app.event("DataFrameOpenedEvent").subscribe(this,function(){$(g.buttonElement).removeClass("inactive");$(g.buttonElement).addClass("active")});this.app.event("DataFrameClosedEvent").subscribe(this,function(){$(g.buttonElement).removeClass("active");$(g.buttonElement).addClass("inactive")})};
a.prototype.handleMouseDown=function(a,g,b){var e=this;1<a.button&&"mousedown"===a.type||(this.timeoutId=setTimeout(function(){e._resizeDataFrame(a.pageX,a.pageY)},this.resizeDelay))};a.prototype.handleTouchStart=function(a,g,b){var e=this,h=null;$(this.app.getHostElement()).one("touchend.dataframe-toggle-click",function(){clearTimeout(h)});h=setTimeout(function(){$(e.app.getHostElement()).off("touchend.dataframe-toggle-click");e._resizeDataFrame(a.targetTouches[0].pageX,a.targetTouches[0].pageY)},
this.resizeDelay)};a.prototype._resizeDataFrame=function(a,g){this.viewModel.currentView instanceof h.infrastructure.ui.components.SmartPanel.SmartPanelView?this.viewModel.currentView.resizeSmartPanel(a,g):this.app.viewManager.getViewById("DataFrameViewContainer").resizeSmartPanel(a,g)};return a}(e.framework.ui.ViewBase);f.DataFrameResizeButtonView=m})(f.components||(f.components={}))})(f.shells||(f.shells={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=e.framework.utils.ArrayUtils,l=function(){function b(){}b.isProjectView=function(a){return 0<=b.All.indexOf(a.id)};b.containsProjectView=function(a){return a instanceof e.framework.ui.ViewContainer.ViewContainerView?a.viewModel.viewDescriptors.get().some(function(a){return b.isProjectView(a.view)}):!1};b.getTopmostViewInRegion=function(a){if(a)return(a=f.lastOrDefault(a.activeViews,function(a){return b.isProjectView(a)||b.containsProjectView(a)}))?
a.id:void 0};b.HomePanel="InfoView";b.LayerList="LayerListView";b.Legend="LegendView";b.Results="ResultsListView";b.ResultsTable="ResultsTableView";b.FeatureDetails="FeatureDetailsCompactView";b.FeatureDetailsExpanded="FeatureDetailsExpandedView";b.QueryBuilder="SimpleQueryBuilderView";b.FilterBuilder="SimpleFilterBuilderView";b.Charting="ChartingView";b.PlotCoordinates="PlotCoordinatesView";b.All=[b.HomePanel,b.LayerList,b.Legend,b.QueryBuilder,b.FilterBuilder,b.Results,b.PlotCoordinates,b.Charting,
b.ResultsTable,b.FeatureDetails,b.FeatureDetailsExpanded];return b}();h.ProjectView=l})(h.shells||(h.shells={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);a&&a.menus&&this.app.menuRegistry.loadMenus(a)};return b}(e.framework.application.ModuleBase);h.ContextMenuModule=f})(h.ContextMenu||(h.ContextMenu={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(a,d){e.call(this,a,d);this.app.command("ActivateContextMenu").register(this,this._positionAndActivateMenu);this.app.command("DeactivateContextMenu").register(this,this._deactivateMenu)}__extends(b,e);b.prototype.attach=function(a){e.prototype.attach.call(this,a)};b.prototype.activated=function(){var a=this;e.prototype.activated.call(this);this.app.command("TapToDismiss").execute({view:this,onOtherInteracted:function(d){return a._onOtherViewTapped(d)}});
this.app.event("ContextMenuActivated").publish()};b.prototype.deactivated=function(){e.prototype.deactivated.call(this);this.viewModel.isOffsetLeft.set(!1);this.viewModel.isOffsetUp.set(!1);this.app.event("ContextMenuDeactivated").publish()};b.prototype._positionAndActivateMenu=function(a){this._tryActivateView(a.viewId);if(!this.app.configuration.mobileMode){this.root.style.left=a.pageX+"px";this.root.style.top=a.pageY+"px";var d=this.contextMenu;d.style.opacity="0";this.app.viewManager.activateView(this);
var g=document.body.clientWidth,b=document.body.clientHeight,e=d.getBoundingClientRect();a.pageX+e.width>g?(this.viewModel.isOffsetLeft.set(!0),this.root.style.left=a.pageX-e.width+"px"):this.viewModel.isOffsetLeft.set(!1);a.pageY+e.height>b?(this.viewModel.isOffsetUp.set(!0),this.root.style.top=a.pageY-e.height+"px"):this.viewModel.isOffsetUp.set(!1);d.style.opacity="1"}};b.prototype._tryActivateView=function(a){var d=this.app.viewManager.getViewById(a);d?this.app.viewManager.activateView(d):this.app.trace.error(String.format("ContextMenuView: Could not find view by id when activating the context menu: {0}",
a))};b.prototype._deactivateMenu=function(){this.app.viewManager.deactivateView(this)};b.prototype._onOtherViewTapped=function(a){this._deactivateMenu()};return b}(e.framework.ui.ViewBase);h.ContextMenuView=f})(h.ContextMenu||(h.ContextMenu={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this.isOffsetLeft=new Observable(!1);this.isOffsetUp=new Observable(!1)}__extends(b,e);return b}(e.framework.ui.ViewModelBase);h.ContextMenuViewModel=f})(h.ContextMenu||(h.ContextMenu={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(e){function b(a,d){e.call(this,a,d);this._pushPinId="MapContextMenuPushPin";this.app.event("MapContextMenuPointUpdatedEvent").subscribe(this,this._updatePointInfo);this.app.configuration.mobileMode?this.app.event("SmallBottomPanelClosedEvent").subscribe(this,this._smallBottomPanelClosedHandler):this.app.event("ContextMenuDeactivated").subscribe(this,this._contextMenuDeactivatedHandler)}__extends(b,e);b.prototype.activated=
function(){this._stopMapClicks()};b.prototype.deactivated=function(){this._enableMapClicks();this._removePushPin()};b.prototype._stopMapClicks=function(){this.app.event("FlyoutActivated").publish(this)};b.prototype._enableMapClicks=function(){this.app.event("FlyoutDeactivated").publish(this)};b.prototype._contextMenuDeactivatedHandler=function(){this.isActive&&(this._removePushPin(),this._enableMapClicks())};b.prototype._smallBottomPanelClosedHandler=function(){this.isActive&&this._enableMapClicks()};
b.prototype._updatePointInfo=function(a){this._showPushPin(a)};b.prototype._deactivateContextMenu=function(){this.app.command("DeactivateContextMenu").execute()};b.prototype._showPushPin=function(a){var d=document.createElement("div"),g=document.createElement("img");g.src="Resources/Images/Pushpins/map-marker-green-32.png";g.style.pointerEvents="none";d.appendChild(g);d=new h.infrastructure.commandArgs.ShowMapElementArgs(this._pushPinId,a,d);this.app.command("ShowMapElement").execute(d);if(this.app.configuration.mobileMode)this.app.command("PanToPoint").execute(a);
else this.app.event("MapExtentChangingEvent").once(this,this._handleExtentChangedEvent)};b.prototype._removePushPin=function(){this.app.command("HideMapElement").execute(this._pushPinId)};b.prototype._handleExtentChangedEvent=function(){this._deactivateContextMenu();this._removePushPin()};return b}(e.framework.ui.ViewBase);f.MapContextMenuView=k})(f.map||(f.map={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex=
{}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.attach=function(a){e.prototype.attach.call(this,a);this._registerCommands()};b.prototype.resolveWidget=function(a,d,g){if("PagingControlsWidget"===a){if(a=this.app.viewManager.createView({type:"geocortex.essentialsHtmlViewer.mapping.infrastructure.ui.components.PagingControls.PagingControlsView",markup:"Mapping/infrastructure/ui/components/PagingControls/PagingControlsView.html",libraryId:"Mapping.Infrastructure",
visible:!0}))d=new h.infrastructure.ui.components.PagingControls.PagingControlsViewModel(this.app,d),a.attach(d);return a}return e.prototype.resolveWidget.call(this,a,d,g)};b.prototype._registerCommands=function(){this.app.command("ListSelections").register(this,this.show)};b.prototype.show=function(){var a=this;this.viewModel&&this.viewModel.findAllMetadata().then(function(d){return a._processMetadata(d)}).then(function(d){a.viewModel.selections.set(d);a.viewModel.selections.pulse();a.app.viewManager.activateView(a)})};
b.prototype.handleRestoreSelectionClick=function(a,d,g){a=g?g.name:null;if(!a)throw Error("Cannot restore named selection into the results view: selection name is required.");this.app.viewManager.deactivateView(this);this.app.command("RestoreSelection").execute({name:a})};b.prototype.handleRenameClick=function(a,d,g){var b=this;this.promptForSelectionName(g).then(function(a){return b._processName(a,g)}).then(function(a){return a}).then(function(a){return b.viewModel.renameSelection(g,a)})["catch"](function(a){return b._processError(a)})};
b.prototype.handleDeleteClick=function(a,d,g){var b=this;this.confirmDelete(g).then(function(a){a&&b.viewModel.deleteSelection(g)})};b.prototype.confirmDelete=function(a){var d=this,g=this.getResource("language-saved-results-delete-prompt").format(a.name),b=this.getResource("language-saved-results-delete-prompt-title").format(a.name);return new Promise(function(a,e){return d.app.command("Confirm").execute(g,b,a)})};b.prototype.promptForSelectionName=function(a){var d=this,g=this.getResource("language-saved-results-rename-prompt-title"),
b=this.getResource("language-saved-results-rename-prompt"),e=a.name;return new Promise(function(a,h){return d.app.command("Prompt").execute(g,b,e,a)})};b.prototype._processMetadata=function(a){var d=this;return a.map(function(a){a=new f.SelectionItem(a);return d.viewModel.setTooltips(a)})};b.prototype._processName=function(a,d){var g=this.viewModel.selections.get();if(!a||a===d.name)return d.name;if(g.some(function(d){return d.name===a}))throw g=Error(this.getResource("language-saved-results-rename-prompt-error").format(a)),
g.name="UiError",g;return a};b.prototype._processError=function(a){var d=a&&"UiError"==a.name?a.message:this.getResource("language-saved-results-error-message");this.app.command("AddResultsStatus").execute(d);this.app.trace.error(d,a);return a};return b}(e.framework.ui.ViewBase);f.ListSelectionsView=k})(f.selection||(f.selection={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(h){function b(a,d){h.call(this,a,d);this.isPaged=!0;this.pageSize=10;this.selections=new ObservableCollection;this.presentableResults=new e.framework.ui.PresentableCollection(this.selections);this.resultsPage=this.presentableResults.items;this.presentableResults.items.useThrottling=!0}__extends(b,h);b.prototype.initialize=function(a){h.prototype.initialize.call(this,a);a=a||{};a.hasOwnProperty("isPaged")&&(this.isPaged=
a.isPaged);a.hasOwnProperty("pageSize")&&(this.pageSize=a.pageSize);this.presentableResults.isPaginated.set(this.isPaged);this.presentableResults.pageSize.set(this.pageSize)};b.prototype.findAllMetadata=function(){var a=this;return new Promise(function(d,g){a.app.command("FindAllSelectionMetadata").execute({successCallback:d,errorCallback:g})})};b.prototype.deleteSelection=function(a){var d=this;return new Promise(function(g,b){var e={name:a.name,successCallback:function(){d.selections.removeItem(a);
g()},errorCallback:b};d.app.command("DeleteSelection").execute(e)})};b.prototype.renameSelection=function(a,d){var g=this;return new Promise(function(b,e){var h={name:a.name,newName:d,successCallback:function(){a.name=d;g.setTooltips(a);g.resultsPage.pulse();b()},errorCallback:e};g.app.command("RenameSelection").execute(h)})};b.prototype.setTooltips=function(a){var d=this.getResource("language-saved-results-item-restore-description").format(a.name),g=this.getResource("language-saved-results-item-rename-description").format(a.name),
b=this.getResource("language-saved-results-item-delete-description").format(a.name);a.restoreTooltip=d;a.renameTooltip=g;a.deleteTooltip=b;return a};return b}(e.framework.ui.ViewModelBase);h.ListSelectionsViewModel=f})(h.selection||(h.selection={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.attach=function(a){e.prototype.attach.call(this,a);this._registerCommands()};b.prototype.deactivated=function(){this.viewModel.reset()};b.prototype._registerCommands=function(){this.app.command("ShowSearchOptions").register(this,this.show);this.app.command("CombineResultsInteractive").register(this,this._executeCombineResultsInteractive)};b.prototype.resolveWidget=
function(a,d,g){if("CombineResultsOptionsWidget"===a)return this.app.menuRegistry.createMenuWidget(this,d,g);if("PagingControlsWidget"===a){if(a=this.app.viewManager.createView({type:"geocortex.essentialsHtmlViewer.mapping.infrastructure.ui.components.PagingControls.PagingControlsView",markup:"Mapping/infrastructure/ui/components/PagingControls/PagingControlsView.html",libraryId:"Mapping.Infrastructure",visible:!0}))d=new h.infrastructure.ui.components.PagingControls.PagingControlsViewModel(this.app,
d),a.attach(d);return a}return e.prototype.resolveWidget.call(this,a,d,g)};b.prototype.show=function(a){this.viewModel&&((a="string"===typeof a?this.app.featureSetManager.getCollectionById(a):a)?(this.viewModel.featureSetCollection.set(a),this.app.viewManager.activateView(this)):this.app.trace.warning("Cannot save feature set collection: No feature set collection with matching ID found."))};b.prototype.handleOkClick=function(a,d,g){var b=this;a={nameOfCurrentResults:this.viewModel.featureSetCollection.get().displayName.get(),
collectionNames:this.viewModel.getSelectedItems().map(function(a){return a.name}),combineResponse:void 0};Promise.resolve(a).then(function(a){b.app.viewManager.deactivateView(b);return a}).then(function(a){return b._combineResults(a)}).then(function(a){return b._displayNotification(a)})["catch"](function(a){return b._processError(a)})};b.prototype.handleCancelClick=function(a,d,g){this.app.viewManager.deactivateView(this)};b.prototype._executeCombineResultsInteractive=function(a){var d=this;this.viewModel&&
Promise["try"](function(){var g,b=a?a.mode:null;g=a?a.currentResults:null;g="string"===typeof g?d.app.featureSetManager.getCollectionById(g):g;d.viewModel.combineModeChosen.set(!0);d.viewModel.combineMode=b||h.infrastructure.selection.CombineMode.REPLACE;g&&d.viewModel.featureSetCollection.get()&&g.id!==d.viewModel.featureSetCollection.get().id&&d.viewModel.featureSetCollection.set(g)}).then(function(){return d.viewModel.populateFromMetadata()})["catch"](function(a){return d._processError(a)})};b.prototype._combineResults=
function(a){var d=this;return new Promise(function(g,b){var e={combineMode:d.viewModel.combineMode,featureSetCollectionIds:d.viewModel.getSelectedItems().map(function(a){return a.featureSetCollectionId}),successCallback:function(d){a.combineResponse=d;g(a)},errorCallback:b};d.app.command("CombineResults").execute(e)})};b.prototype._displayNotification=function(a){var d,g=a.combineResponse,b=a.collectionNames.map(function(a){return"'"+a+"'"}).join(", "),e=a.nameOfCurrentResults;switch(g.combineMode){case h.infrastructure.selection.CombineMode.UNION:d=
this.getResource("language-common-results-union-confirmation");break;case h.infrastructure.selection.CombineMode.INTERSECT:d=this.getResource("language-common-results-intersect-confirmation");break;case h.infrastructure.selection.CombineMode.SUBTRACT:d=this.getResource("language-common-results-subtract-confirmation")}d&&(d=d.format(e,b),this.app.command("AddResultsStatus").execute(d));return a};b.prototype._processError=function(a){var d=a&&"UiError"==a.name?a.message:this.getResource("language-saved-results-error-message");
this.app.command("AddResultsStatus").execute(d);this.app.trace.error(a.message,a);return a};return b}(e.framework.ui.ViewBase);f.CombineResultsView=k})(f.selection||(f.selection={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(l){function b(a,d){l.call(this,a,d);this.featureSetCollection=new Observable;this.combineModeChosen=new Observable(!1);this.isPaged=!0;this.pageSize=10;this.combineMode=h.infrastructure.selection.CombineMode.REPLACE;this.selections=new ObservableCollection;this.presentableResults=new e.framework.ui.PresentableCollection(this.selections);this.resultsPage=this.presentableResults.items;this.presentableResults.items.useThrottling=
!0}__extends(b,l);b.prototype.initialize=function(a){l.prototype.initialize.call(this,a);a=a||{};a.hasOwnProperty("isPaged")&&(this.isPaged=a.isPaged);a.hasOwnProperty("pageSize")&&(this.pageSize=a.pageSize);this.presentableResults.isPaginated.set(this.isPaged);this.presentableResults.pageSize.set(this.pageSize)};b.prototype.reset=function(){this.combineModeChosen.set(!1)};b.prototype.getSelectedItems=function(){return(this.selections?this.selections.getItems():[]).filter(function(a){return a&&a.isSelected.get()})};
b.prototype.populateFromMetadata=function(){var a=this;return this._fetchMetadata().then(function(a){return a.map(function(a){return new f.SelectableSelectionItem(a)})}).then(function(d){return a._excludeCurrentResultsFromList(d)}).then(function(d){return a._populatePresentableCollection(d)}).then(function(d){return a.presentableResults.currPageNumber.set(1)})};b.prototype._fetchMetadata=function(){var a=this;return new Promise(function(d,g){a.app.command("FindAllSelectionMetadata").execute({successCallback:d,
errorCallback:g})})};b.prototype._excludeCurrentResultsFromList=function(a){var d=this.featureSetCollection.get();return a&&d&&"Selection"===d.sourceName?a.filter(function(a){return a.name!==d.getExtendedPropertyByName("SelectionName")}):a};b.prototype._populatePresentableCollection=function(a){this.selections.set(a);return a};return b}(e.framework.ui.ViewModelBase);f.CombineResultsViewModel=k})(f.selection||(f.selection={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(){function f(b){var a=this;this.id=b.id;this.featureSetCollectionId=b.featureSetCollectionId;this.name=b.name||"";this.count=b.count||0;this.modified=b.modified||!1;this.timeCreated=b.timeCreated;this.timeModified=b.timeModified;this.timeExpiration=b.timeExpiration;this.dateCreated=h.infrastructure.FormatUtils.parseUtcDate(this.timeCreated);this.dateModified=h.infrastructure.FormatUtils.parseUtcDate(this.timeModified);this.dateExpiration=
h.infrastructure.FormatUtils.parseUtcDate(this.timeExpiration);this.displayName=new e.framework.ui.LazyObservable(null,function(){return a.formatDisplayName()})}f.prototype.formatDisplayName=function(){var b=this.name||"",a=this.count||0;return b?"{0} ({1})".format(b,a):""};f.prototype.toMetaData=function(){return{id:this.id,featureSetCollectionId:this.featureSetCollectionId,name:this.name,count:this.count,modified:this.modified,timeCreated:this.timeCreated,timeModified:this.timeModified,timeExpiration:this.timeExpiration}};
return f}();f.SelectionItem=k})(f.selection||(f.selection={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){var h=function(e){function b(a){e.call(this,a);this.isSelected=new Observable(!1)}__extends(b,e);return b}(e.SelectionItem);e.SelectableSelectionItem=h})(e.selection||(e.selection={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.attach=function(a){a&&(e.prototype.attach.call(this,a),this.registerCommands())};b.prototype.registerCommands=function(){this.app.command("ActivateSelectLayersForSnapping").register(this,this.executeActivateSelectLayersForSnapping,this.canExecuteSnapping);this.app.command("DeactivateSelectLayersForSnapping").register(this,this.executeDeactivateSelectLayersForSnapping,
this.canExecuteSnapping)};b.prototype.executeActivateSelectLayersForSnapping=function(){this.app.viewManager.activateView(this);this.viewModel.activateSelectLayersForSnapping()};b.prototype.executeDeactivateSelectLayersForSnapping=function(){this.app.viewManager.deactivateView(this);this.viewModel.deactivateSelectLayersForSnapping()};b.prototype.canExecuteSnapping=function(){return this.app.command("ActivateSnapping").canExecute()};return b}(e.infrastructure.layerSelector.LayerSelectorViewBase);f.SnappingLayerSelectorView=
k})(f.snapping||(f.snapping={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(e){function b(a,d){e.call(this,a,d);this._providerRegistered=!1;this._initializeHandler=null;this.selectAllButtonTitle.set(this.app.getResource(d,"language-layer-selector-snapping-select-all-tooltip"));this.clearAllButtonTitle.set(this.app.getResource(d,"language-layer-selector-snapping-clear-all-tooltip"))}__extends(b,e);b.prototype.initialize=function(a){var d=this;e.prototype.initialize.call(this,a);this.app.event("SnappingProviderRegistered").once(this,
function(a){d._providerRegistered=!0;d._initializeHandler&&(d._initializeHandler(),d._initializeHandler=null)})};b.prototype.filter=function(a){if(a&&a.layer&&a.layer.gcxLayer)return(a=a.layer.gcxLayer)?a.snappable:!1};b.prototype.handleLayerStateChange=function(a){this._setLayerStateForSnapping(a)};b.prototype.handleAllLayersEnabled=function(){var a=this._getListedLayers();this.app.command("EnableAllLayersForSnapping").execute(a)};b.prototype.handleAllLayersDisabled=function(){var a=this._getListedLayers();
this.app.command("DisableAllLayersForSnapping").execute(a)};b.prototype.onInitialized=function(a){var d=this;this._providerRegistered?this._handleInitialize(a):this._initializeHandler=function(){d._handleInitialize(a)}};b.prototype._handleMapServicesAdded=function(a){e.prototype._handleMapServicesAdded.call(this,a);var d=0;for(a=a.layers;d<a.length;d++){var g=a[d];!1!==g.snappable&&g.snappingEnabled&&this.app.command("RegisterSnappingLayer").execute(g)}};b.prototype._handleMapServiceRemoved=function(a){e.prototype._handleMapServiceRemoved.call(this,
a);var d=0;for(a=a.layers;d<a.length;d++){var g=a[d];this.app.command("RemoveSnappingLayer").execute(g)}};b.prototype._handleInitialize=function(a){a.filteredLayerSelectorLayerItems.forEach(function(a){a&&a.layer&&a.layer.gcxLayer&&a.isEnabled.set(a.layer.gcxLayer.snappingEnabled)})};b.prototype._getListedLayers=function(){var a=[];this.layerSelector.filteredLayerSelectorLayerItems.forEach(function(d){d&&d.layer&&d.layer.gcxLayer&&a.push(d.layer.gcxLayer)});return a};b.prototype.activateSelectLayersForSnapping=
function(){this.app.event("SelectLayersForSnappingActivatedEvent").publish(this.layerSelector.filteredLayerSelectorLayerItems.slice(0))};b.prototype.deactivateSelectLayersForSnapping=function(){this.app.event("SelectLayersForSnappingDeactivatedEvent").publish(this.layerSelector.filteredLayerSelectorLayerItems.slice(0))};b.prototype._setLayerStateForSnapping=function(a){if(a&&a.layer&&a.layer.gcxLayer){var d=a.layer.gcxLayer;d?a.isEnabled.get()?this.app.command("EnableLayerForSnapping").execute(d):
this.app.command("DisableLayerForSnapping").execute(d):this.app.trace.error("SnappingLayerSelectorViewModel: Could not handle layer state change. Layer not defined.")}};return b}(e.infrastructure.layerSelector.LayerSelectorViewModelBase);f.SnappingLayerSelectorViewModel=k})(f.snapping||(f.snapping={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(f){function b(a,d){f.call(this,a,d);this.name="layerTheme";this.priority=e.infrastructure.sharing.LayerListLinkPriority.LAYERTHEME}__extends(b,f);b.prototype.generate=function(){var a=this.app.site.essentialsMap.layerThemesInfo;return a&&a.layerThemesConfigured?this.app.site.essentialsMap.layerThemesInfo.activeTheme.id:""};b.prototype.apply=function(a){var d=this;if(a)if(this.app.site&&this.app.site.serviceLayersLoaded)this._applyLayerTheme(a);
else this.app.event("LayerListInitializedEvent").once(this,function(){d._applyLayerTheme(a)})};b.prototype._applyLayerTheme=function(a){var d=this.app.site.essentialsMap.layerThemesInfo;d&&d.layerThemesConfigured?(d=d.getTheme(a,!0))&&!d.isActive?d.applyToMap():this.app.trace.warning("Could not switch layer theme to {0}: Specified theme not found.".format(a)):this.app.trace.warning("Could not switch layer theme to {0}: No layer themes configured.".format(a))};return b}(e.infrastructure.sharing.SharingLinkProviderBase);
f.LayerThemeSharingLinkProvider=k})(f.layerThemes||(f.layerThemes={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(m){(function(m){var l=function(){function b(a,d,g){this.app=a;this.libraryId=d;this.useThrottledCollections=!!g}b.prototype.supportsOffline=function(){return!0};b.prototype.provide=function(a){if(!(a instanceof e.infrastructure.ClusterLayer))return new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.NotFound,null);for(var d=this.app.site,g,b=0;b<d.essentialsMap.mapServices.length;b++){var q=
d.essentialsMap.mapServices[b];if(q.serviceLayer===a.featureLayer){g=q;break}}d=new e.infrastructure.legend.LegendItem(a,this.useThrottledCollections);d.label.set(g.displayName);for(b=0;b<g.layers.length;b++)g.layers[b].includeInLayerList&&this.populateItemForLayer(d,a,null);if(d&&d.children&&d.children.length()&&g.featureClustering.enabled)return new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.Show,d);if(!g.featureClustering.enabled)return new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.Hide,
d)};b.prototype.populateItemForLayer=function(a,d,g){g=[];a.essLayer=d.gcxLayer;if(d&&d.renderer&&d.gcxLayer.includeInLegend){(new f.legend.providers.FeatureLayerLegendProvider(this.app,this.libraryId,!0)).populateItemForLayer(a,d.gcxLayer,d.singleFeatureLayer,d.gcxLayer.mapService.serviceUrl);for(var b=d.renderer.infos,q=0;q<b.length;q++){var r=b[q].symbol,m=String.escapeHtml(r.color.toHex()),l=String.escapeHtml(""+r.size),r=r.color.toRgb(),p=new e.infrastructure.legend.LegendItem(d.featureLayer,
this.useThrottledCollections);p.isCluster=!0;p.essLayer=d.gcxLayer;p.isVisible.sync(d.rendererInformation[q].isVisible);p.label.sync(d.rendererInformation[q].rangeString);p.swatchElement="<div class='simple-swatch circle' style='background-color: "+m+"; width: "+l+"px; height: "+l+"px; border-radius: 50%; background-clip: padding-box; border: 4px solid rgba("+r[0]+", "+r[1]+", "+r[2]+", 0.25);'></div>";g.push(p)}}a.children.addItems(g);0<a.children.getLength()&&(a.templateType="group")};return b}();
m.ClusterLayerLegendProvider=l})(m.providers||(m.providers={}))})(f.legend||(f.legend={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){(function(f){var m=function(){function b(a,d,g){this.app=a;this.libraryId=d;this.useThrottledCollections=!!g}b.prototype.supportsOffline=function(){return!0};b.prototype.provide=function(a){if(!(a instanceof esri.layers.FeatureLayer&&Modernizr.canvas))return new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.NotFound,null);for(var d=this.app.site,g,b=0;b<d.essentialsMap.mapServices.length;b++){var q=
d.essentialsMap.mapServices[b];if(q.serviceLayer===a){g=q;break}}if(!(g&&g.heatMap&&g.heatMap.enabled&&g.heatMap.includeInLegend))return new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.NotFound,null);d=new e.infrastructure.legend.LegendItem(a,this.useThrottledCollections);d.label.set(g.displayName);for(b=0;b<g.layers.length;b++)q=g.layers[b],q.includeInLayerList&&this.populateItemForLayer(d,q,a,null);return d&&d.children&&d.children.length()?
new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.Show,d):new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.Hide,d)};b.prototype.populateItemForLayer=function(a,d,g,b){b=[];a.essLayer=d;if(g.renderer&&g.renderer instanceof esri.renderer.HeatmapRenderer)for(var q=g.renderer.colors.filter(function(a){return!a.match(/rgba.*,(?= 0\))/g)}),f=q.length-1;0<=f;f--){var m=String.escapeHtml(q[f]),
l=new e.infrastructure.legend.LegendItem(g,this.useThrottledCollections);l.essLayer=d;var k="";0===f?k=this.app.getResource(this.libraryId,"language-legend-heat-maps-low"):f===q.length-1&&(k=this.app.getResource(this.libraryId,"language-legend-heat-maps-high"));l.label.set(k);l.swatchElement="<div class='simple-swatch square' style='background-color: "+m+"; border-color: "+m+";'></div>";b.push(l)}a.children.addItems(b);0<a.children.getLength()&&(a.templateType="group")};return b}();f.HeatMapLayerLegendProvider=
m})(f.providers||(f.providers={}))})(f.legend||(f.legend={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){(function(f){var m=function(){function b(a,d,g){this.app=a;this.libraryId=d;this._featureLayerProvider=new f.FeatureLayerLegendProvider(this.app,this.libraryId);this.useThrottledCollections=!!g}b.prototype.supportsOffline=function(){return!0};b.prototype.provide=function(a){if(!(a instanceof esri.layers.KMLLayer))return new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.NotFound,
null);for(var d=this.app.site,g,b=0;b<d.essentialsMap.mapServices.length;b++){var q=d.essentialsMap.mapServices[b];q.serviceLayer===a&&(g=q)}a=new e.infrastructure.legend.LegendItem(a,this.useThrottledCollections);g?a.label.set(g.displayName):a.label.set(this.app.getResource(this.libraryId,"language-legend-kml-default-title"));g=g.serviceLayer.getLayers();for(b=0;b<g.length;b++)g[b]instanceof esri.layers.FeatureLayer&&this._featureLayerProvider.populateItemForLayer(a,null,g[b],null);return a&&a.children&&
a.children.length()?new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.Show,a):new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.Hide,a)};return b}();f.KMLLayerLegendProvider=m})(f.providers||(f.providers={}))})(f.legend||(f.legend={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(f){function b(a,d){f.call(this,a,d);this._separator=",";this.name="center";this.priority=e.infrastructure.sharing.ExtentLinkPriority.CENTER}__extends(b,f);b.prototype.generate=function(){if(!this.app.map.extent)return"";var a=this.app.map.extent.getCenter();return"{1}{0}{2}".format(this._separator,a.x,a.y)};b.prototype.apply=function(a){var d=this;if(a){var g=a.split(this._separator);if(2<=g.length)if(this.app.site&&this.app.site.serviceLayersLoaded)this._applyCenter(g);
else this.app.event("SiteServiceLayersLoadedEvent").once(this,function(){d._applyCenter(g)});else this.app.trace.warning("Unable to parse the center parameter {0}: expected two comma separated number values.".format(a))}};b.prototype._applyCenter=function(a){for(var d=0;d<a.length;d++)if(isNaN(parseFloat(a[d]))){this.app.trace.warning("Unable to parse the center parameter value '{0}': invalid number value.".format(a[d]));return}d=new esri.geometry.Point(parseFloat(a[0]),parseFloat(a[1]));3<=a.length&&
!isNaN(parseInt(a[2]))?d.spatialReference=new esri.SpatialReference(parseInt(a[2])):this.app.map&&this.app.map.spatialReference&&(d.spatialReference=this.app.map.spatialReference);e.infrastructure.MapUtils.panToPointWithPriority(this.app,d,7,!0)};return b}(e.infrastructure.sharing.SharingLinkProviderBase);f.CenterSharingLinkProvider=k})(f.map||(f.map={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(f){function b(a,d){f.call(this,a,d);this._separator=",";this.name="extent";this.priority=e.infrastructure.sharing.ExtentLinkPriority.EXTENT}__extends(b,f);b.prototype.generate=function(){if(!this.app.map.extent)return"";var a=this.app.map.extent;return"{1}{0}{2}{0}{3}{0}{4}".format(this._separator,a.xmin,a.ymin,a.xmax,a.ymax)};b.prototype.apply=function(a){var d=this;if(a){var g=a.split(this._separator);if(4<=g.length)if(this.app.site&&
this.app.site.serviceLayersLoaded)this._applyExtent(g);else this.app.event("SiteServiceLayersLoadedEvent").once(this,function(){d._applyExtent(g)});else this.app.trace.warning("Unable to parse the extent parameter '{0}': expected four comma separated number values.".format(a))}};b.prototype._applyExtent=function(a){for(var d=0;d<a.length;d++)if(isNaN(parseFloat(a[d]))){this.app.trace.warning("Unable to parse the extent parameter value '{0}': invalid number value.".format(a[d]));return}d=new esri.geometry.Extent(parseFloat(a[0]),
parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]),new esri.SpatialReference(4326));5<=a.length&&!isNaN(parseInt(a[4]))?d.setSpatialReference(new esri.SpatialReference(parseInt(a[4]))):this.app.map&&this.app.map.spatialReference&&d.setSpatialReference(this.app.map.spatialReference);e.infrastructure.MapUtils.zoomToExtentWithPriority(this.app,d,7,!0)};return b}(e.infrastructure.sharing.SharingLinkProviderBase);f.ExtentSharingLinkProvider=k})(f.map||(f.map={}))})(e.modules||(e.modules={}))})(e.mapping||
(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(f){function b(a,d){f.call(this,a,d);this.name="scale";this.priority=e.infrastructure.sharing.ExtentLinkPriority.SCALE}__extends(b,f);b.prototype.generate=function(){return this.app.map.extent?this.app.map.getScale().toString():""};b.prototype.apply=function(a){var d=this;if(a){var g=parseFloat(a);if(isNaN(g))this.app.trace.warning("Unable to parse the scale parameter {0}: expected a single number value.".format(a));else if(this.app.site&&
this.app.site.serviceLayersLoaded)this.app.site.essentialsMap.extentManager.setScaleWithPriority(g,7);else this.app.event("SiteServiceLayersLoadedEvent").once(this,function(){d.app.site.essentialsMap.extentManager.setScaleWithPriority(g,7)})}};return b}(e.infrastructure.sharing.SharingLinkProviderBase);f.ScaleSharingLinkProvider=k})(f.map||(f.map={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(f){function b(a,d){var g=this;f.call(this,a,d);this._markersLayer=null;this._markerConfigurations=[];this._activeMarkers=[];this._moveable=this._selectedMarker=null;if(this.app.map)this._map=this.app.map;else this.app.eventRegistry.event("MapLoadedEvent").once(this,function(){g._map=g.app.map});this._registerCommandsAndEvents()}__extends(b,f);b.prototype.initialize=function(a){f.prototype.initialize.call(this,a);a.markers&&
(this._markerConfigurations=a.markers)};b.prototype._registerCommandsAndEvents=function(){this.app.command("ShowMarkers").register(this,this._executeShowMarkers);this.app.command("HideMarkers").register(this,this._executeHideMarkers);this.app.command("AddMarker").register(this,this._executeAddMarker);this.app.command("UpdateMarker").register(this,this._executeUpdateMarker);this.app.command("RemoveMarker").register(this,this._executeRemoveMarker)};b.prototype._executeShowMarkers=function(){this._setMarkersVisibility(!0)};
b.prototype._executeHideMarkers=function(){this._setMarkersVisibility(!1)};b.prototype._executeAddMarker=function(a){if("string"===typeof a){var d=e.framework.utils.ArrayUtils.firstOrDefault(this._markerConfigurations,function(d){return d.id===a});d?this._addMarker(d):this.app.trace.warning("Could not find marker with ID '{0}'.".format(a))}else this._addMarker(a)};b.prototype._executeUpdateMarker=function(a){var d=this._getMarkerById(a.id);if(d){if(a.iconUri){if(!a.iconWidth||!a.iconHeight){this.app.trace.warning("Could not update the marker symbol because the required 'iconWidth' and 'iconHeight' was not supplied.");
return}var g=new esri.symbol.PictureMarkerSymbol(a.iconUri,a.iconWidth,a.iconHeight);if(!g){this.app.trace.warning("Could not update the marker symbol. Invalid icon configuration.");return}d.graphic.setSymbol(g)}if(a.symbolJson){g=esri.symbol.fromJson(a.symbolJson);if(!g){this.app.trace.warning("Could not update the marker symbol. Invalid json object.");return}d.graphic.setSymbol(g)}a.center&&this._updateGraphicCenter(d.graphic,a.center);a.geometry&&d.graphic.setGeometry(a.geometry);g=this._getEsriMarkerSymbol(d.graphic);
if(!e.framework.utils.isNullOrUndefined(a.angle)&&g)if(d===this._selectedMarker&&a.angle!=g.angle){var b=this._getGraphicCenter(d.graphic),h=this._moveable.shape,f=h.getTransform(),m=this._calculateRotationMatrix(g.angle,b),f=dojox.gfx.matrix.translate(f.dx-m.dx,f.dy-m.dy),b=this._calculateRotationMatrix(a.angle,b);b.dx+=f.dx;b.dy+=f.dy;g.setAngle(a.angle);h.setTransform(b)}else g.setAngle(a.angle),d.graphic.setSymbol(g);null!=a.visible&&(d.graphic.visible=a.visible);null!=a.draggable&&(d.draggable=
a.draggable);this.app.event("MarkerUpdatedEvent").publish(d.graphic)}else this.app.trace.warning("Could not find marker with ID '{0}'.".format(a.id))};b.prototype._executeRemoveMarker=function(a){var d=this._getMarkerById(a);d?(a=this._getMarkersLayer(),d.graphic&&a.remove(d.graphic),d=this._activeMarkers.indexOf(d),0>d||this._activeMarkers.splice(d,1)):this.app.trace.warning("Could not find marker with ID '{0}'.".format(a))};b.prototype._setMarkersVisibility=function(a){this._getMarkersLayer().setVisibility(a)};
b.prototype._addMarker=function(a){0<this._activeMarkers.filter(function(d){return d.id===a.id}).length&&(this.app.trace.warning("Removing previous marker with ID '{0}'. ".format(a.id)),this._executeRemoveMarker(a.id));var d;if(a.symbolJson)d=esri.symbol.fromJson(a.symbolJson);else if(a.iconUri){if(!a.iconWidth||!a.iconHeight){this.app.trace.warning("Could not create the marker symbol because the required 'iconWidth' and 'iconHeight' was not supplied.");return}d=new esri.symbol.PictureMarkerSymbol(a.iconUri,
a.iconWidth,a.iconHeight)}if(d){var g=a.geometry||a.center;!g||g instanceof esri.geometry.Geometry||(g=esri.geometry.fromJson(g));g||(g=this._map.extent.getCenter());var n={};n[b.MARKER_ATTRIBUTE_ID]=a.id;d=new esri.Graphic(g,d,n);this._getMarkersLayer().add(d);this._activeMarkers.push({id:a.id,draggable:!1===a.draggable?!1:!0,graphic:d})}else this.app.trace.warning("Could not create the marker symbol.")};b.prototype._getGraphicCenter=function(a){return h.infrastructure.GeometryUtils.getMiddle(a.geometry)};
b.prototype._updateGraphicCenter=function(a,d){var g=this._map.toScreen(this._getGraphicCenter(a)),b=this._map.toScreen(d);this._updateGraphicPosition(a,b.x-g.x,b.y-g.y)};b.prototype._updateGraphicPosition=function(a,d,g){if(a)switch(a.geometry.type){case "point":var b=a.geometry,b=this._offsetPoint(b,d,g);a.setGeometry(b);break;case "multipoint":for(var b=a.geometry,e=0;e<b.points.length;e++){var f=b.getPoint(e),f=this._offsetPoint(f,d,g);b.setPoint(e,f)}a.setGeometry(b);break;case "polyline":case "polygon":d=
h.infrastructure.MatrixUtils.translate(a.geometry,this._map,d,g);a.setGeometry(d.geometry);break;case "extent":b=a.geometry,e=b.getCenter(),g=this._offsetPoint(e,d,g),d=g.x-e.x,g=g.y-e.y,b.xmin+=d,b.ymin+=g,b.xmax+=d,b.ymax+=g,a.setGeometry(b)}};b.prototype._offsetPoint=function(a,d,g){a=this._map.toScreen(a);return this._map.toMap(a.offset(d,g))};b.prototype._getMarkersLayer=function(){this._markersLayer||(this._markersLayer=new esri.layers.GraphicsLayer,this._map.addLayer(this._markersLayer),this._attachEventHandlers(this._markersLayer));
return this._markersLayer};b.prototype._attachEventHandlers=function(a){var d=this;dojo.on(a,"click",function(a){d.app.event("MarkerClickedEvent").publish(d._getPointerEventFromAGSMouseEvent(a));"function"===typeof a.preventDefault&&"function"===typeof a.stopPropagation&&(a.preventDefault(),a.stopPropagation())});dojo.on(a,"mouse-down",function(a){var b=d._getPointerEventFromAGSMouseEvent(a);d.app.event("MarkerPointerDownEvent").publish(b);b=d._getMarkerById(b.id);b.draggable&&d._handleMarkerDragStart(b,
a)});dojo.on(a,"mouse-up",function(a){d.app.event("MarkerPointerUpEvent").publish(d._getPointerEventFromAGSMouseEvent(a))})};b.prototype._getPointerEventFromAGSMouseEvent=function(a){var d=a.graphic.attributes[b.MARKER_ATTRIBUTE_ID],g=this._getMarkerById(d);return{id:d,graphic:g.graphic,mapPoint:a.mapPoint,screenPoint:a.screenPoint,button:a.button}};b.prototype._handleMarkerDragStart=function(a,d){var g=this;if(a.draggable){var b=a.graphic.getShape();this._moveable=new dojox.gfx.Moveable(b);this._selectedMarker=
a;this._map.disableMapNavigation();b=this._getGraphicCenter(a.graphic);this._moveable.mover=new dojox.gfx.Mover(this._moveable.shape,d,this._moveable);this._dragOffset={x:d.screenPoint.x-this._moveable.mover.lastX,y:d.screenPoint.y-this._moveable.mover.lastY,initialCenter:b};this._moveable.onMoved=function(a){g._onMoveableMoved(a)};this._moveable.onMoveStop=function(a){g._onMoveableMoveStop(a)};this.app.event("MarkerDragStartEvent").publish({id:a.id,centerPoint:b,mapPoint:d.mapPoint,screenPoint:d.screenPoint})}};
b.prototype._onMoveableMoved=function(a){this.app.event("MarkerDragEvent").publish(this._getDragEventFromMover(a))};b.prototype._onMoveableMoveStop=function(a){var d=this._getDragEventFromMover(a),g=this._getGraphicCenter(this._selectedMarker.graphic),b=this._dragOffset.initialCenter;a=a.shape;var e=a.getTransform(),h=this._getEsriMarkerSymbol(this._selectedMarker.graphic);h&&0!==h.angle?(h=this._calculateRotationMatrix(h.angle,g),e.dx-=h.dx,e.dy-=h.dy,a.setTransform(h)):a.setTransform(null);g.x==
b.x&&g.y==b.y&&this._updateGraphicPosition(this._selectedMarker.graphic,e.dx,e.dy);this.app.event("MarkerDragEndEvent").publish(d);this._map.enableMapNavigation();this._selectedMarker=null;this._moveable.destroy();this._moveable=null};b.prototype._getDragEventFromMover=function(a){var d=this._getGraphicCenter(this._selectedMarker.graphic),g=0,b=0;this._dragOffset&&(g=this._dragOffset.x,b=this._dragOffset.y);a=new esri.geometry.ScreenPoint(a.lastX+g,a.lastY+b);g=this._map.toMap(a);return{id:this._selectedMarker.id,
centerPoint:d,mapPoint:g,screenPoint:a}};b.prototype._getMarkerById=function(a){var d=e.framework.utils.ArrayUtils.firstOrDefault(this._activeMarkers,function(d){return d.id===a});return d?d:(this.app.trace.warning("Could not find marker with ID '{0}'.".format(a)),null)};b.prototype._calculateRotationMatrix=function(a,d){var g=this.app.map.toScreen(d);return dojox.gfx.matrix.rotategAt(a,g.x,g.y)};b.prototype._getEsriMarkerSymbol=function(a){return a.symbol instanceof esri.symbol.MarkerSymbol?a.symbol:
null};b.MARKER_ATTRIBUTE_ID="id";return b}(e.framework.application.ModuleBase);f.MarkersModule=k})(f.markers||(f.markers={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){(function(e){e[e.LINE_SEGMENT=0]="LINE_SEGMENT";e[e.POLYLINE=1]="POLYLINE";e[e.POLYGON=2]="POLYGON"})(f.DescriptorType||(f.DescriptorType={}));var k=function(){function l(b,a,d){this.id="";this.graphicSymbol=this.graphic=this.spatialReference=this.labelStr=this.unitStr=this.lengthUnit=this.length=this.type=this.geometry=null;this.isActive=!0;this.highlightedLabelGraphic=this.feature=null;this.app=d;this.type=b;this.spatialReference=
a}l.prototype.addSegment=function(b){};l.prototype.setMeasurementUnit=function(b,a){};l.prototype.setGeometry=function(b){};l.prototype.addToMap=function(b,a){var d=null;this.isActive&&(a||this.graphic||(this.graphic=new esri.Graphic,this.graphic.geometry=this.geometry,this.graphic.symbol=this.graphicSymbol),d=a?a:this.graphic,d.measurementId=this.id,d=f.MeasurementUtils.addGraphicToLayer(d,b,this.app)?d:null);return d};l.prototype.updateFeature=function(){this.feature||(this.feature=new esri.Graphic,
this.feature.geometry=this._polygonToPolyLine(this.geometry),this.feature.symbol=this.graphicSymbol);this.feature.setAttributes(this._createAttributes())};l.prototype.exportState=function(){return{id:this.id,geometry:this.app.project.convert.fromEsriGeometry(this.geometry),length:this.length,type:this.type,spatialReference:this.app.project.convert.fromEsriSpatialReference(this.spatialReference),graphic:this.app.project.convert.fromEsriGraphic(this.graphic),feature:this.app.project.convert.fromEsriGraphic(this.feature),
label:this.highlightedLabelGraphic?this.highlightedLabelGraphic.exportState(this.app):null}};l.prototype.applyState=function(b){var a=this,d=this.app.project.convert,g={graphic:d.toEsriGraphic(b.graphic),feature:d.toEsriGraphic(b.feature),label:e.infrastructure.highlightedLabel.HighlightedLabelGraphic.fromExportedState(b.label,this.app,f.HighlightedMeasurementLabel.prototype)};return Promise.props(g).then(function(g){a.id=b.id;a.geometry=d.toEsriGeometry(b.geometry);a.length=b.length;a.type=b.type;
a.spatialReference=d.toEsriSpatialReference(b.spatialReference);a.graphic=g.graphic;a.feature=g.feature;a.lengthUnit=f.measurementMarkupManager._lengthUnit;a.unitStr=f.measurementMarkupManager._lengthUnitString;a.highlightedLabelGraphic=g.label})};l.prototype._createAttributes=function(){throw Error("DescriptorBase._createAttributes is abstract and must be overridden in derived classes.");};l.prototype._getResource=function(b){return this.app.getResource(f.measurementMarkupManager.libraryId,b)};l.prototype._polygonToPolyLine=
function(b){if(!b||"polygon"!==b.type)return b;var a=new esri.geometry.Polyline(b.rings);a.setSpatialReference(b.spatialReference);return a};return l}();f.DescriptorBase=k})(f.measurement||(f.measurement={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){var h=function(){function b(){}b.getIdNumber=function(a){a=a||window.event;a=a.currentTarget?a.currentTarget.id:this.getId(a.target||a.srcElement);return parseInt(a.replace(/^\D+/g,""))};b.getId=function(a){return null==a?"":"BUTTON"==a.tagName&&a.id?a.id:this.getId(a.parentNode)};return b}();e.StyleSelectorUtils=h})(e.styleSelector||(e.styleSelector={}))})(e.markup||(e.markup={}))})(e.modules||(e.modules={}))})(e.mapping||
(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){(function(f){var m=function(){function b(a,d,g,b,e){this.app=a;this.libraryId=d;this.layerType=g?g:"";this.offlineSupported=b?b:!1;this.useThrottledCollections=e?e:!1}b.prototype.supportsOffline=function(){return this.offlineSupported};b.prototype.provide=function(a){var d=this;if((null!=a.declaredClass?a.declaredClass:null)!==this.layerType||10.01>Number(a.version)||a.url&&0<=a.url.indexOf("/ImageServer"))return new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.NotFound,
null);for(var g=this.app.site,b="",q=null,f=0;f<g.essentialsMap.mapServices.length;++f){var m=g.essentialsMap.mapServices[f];if(m.serviceLayer===a){q=m;break}}g=null;q&&(g=this._getLegendUrl(q));null==g&&(g=a.url.replace("/MapServer","/MapServer/legend"));var l=new e.infrastructure.legend.LegendItem(a,this.useThrottledCollections),g=esri.request({url:g,content:{f:"json"},handleAs:"json",callbackParamName:"callBack"}),k=new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.Pending,
l);g.then(function(g){d._handleLegendResponse(g,k,l,a,q)},function(a){d._handleLegendError(l,a)});q?b=m.displayName:(m=a.url.lastIndexOf("/"),-1<m&&(b=a.url.substr(m)));l.label.set(b);l.templateType="group";return k};b.prototype._handleLegendResponse=function(a,d,g,b,e){this._populateItemForLayer(a,d,g,b,e)};b.prototype._findGcxLayerForEsriLayer=function(a,d){return a.findLayerById(d.layerId)};b.prototype._populateItemForLayer=function(a,d,g,b,q){if(a){g.isVisible.set(!0);for(var f=0;f<a.layers.length;++f){var m=
a.layers[f],l=null,k=null;if(q)if(l=this._findGcxLayerForEsriLayer(q,m)){if(!l.includeInLegend)continue;k=l.displayName}else continue;var p=new e.infrastructure.legend.LegendItem(b,this.useThrottledCollections);p.label.set(k||m.layerName);p.essLayer=l;for(k=0;k<m.legend.length;++k){var t=m.legend[k],z=t.imageData,s=t.label?t.label:m.layerName,t=String.escapeHtml(t.contentType),z=String.escapeHtml(z),s=String.escapeHtml(s),t="data:"+t+";base64,"+z,z=this.app.getResource(this.libraryId,"language-legend-icon-alt-text").format(s),
v=new e.infrastructure.legend.LegendItem(b,this.useThrottledCollections);v.label.set(s);v.sublayerId=m.layerId;v.essLayer=l;v.swatchElement="<img src='"+t+"' alt='"+z+"' />";p.children.addItem(v)}1===p.children.getLength()?(m=p.children.getAt(0),m.templateType="single-item",m.label.set(p.label.get()),g.children.addItem(m)):1<p.children.getLength()&&(p.templateType="group",g.children.addItem(p))}0<g.children.getLength()&&(g.templateType="group");d.code.set(e.infrastructure.legend.LegendItemProviderResponseCode.Show)}else this.app.trace.warning("Could not fetch legend entry for '{0}'".format(b.url))};
b.prototype._handleLegendError=function(a,d){this.app.trace.warning("Error fetching legend information: "+d.toString());a.isVisible.set(!1)};b.prototype._getLegendUrl=function(a){var d=null;a&&a.serviceLayer&&a.serviceLayer.url&&(d=a.serviceLayer.url.replace("/MapServer","/MapServer/legend"));d&&a.serviceToken&&!/.*token=.*/.test(d)&&(d+=-1<d.indexOf("?")?"&token=":"?token=",d+=encodeURIComponent(a.serviceToken));return d};return b}();f.ArcGISMapServiceLegendProvider=m})(f.providers||(f.providers=
{}))})(f.legend||(f.legend={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){var h=function(b){function a(a,g,n){b.call(this,a,g,"esri.layers.ArcGISTiledMapServiceLayer",!1,!!n)}__extends(a,b);return a}(e.ArcGISMapServiceLegendProvider);e.ArcGISTiledMapServiceLegendProvider=h})(e.providers||(e.providers={}))})(e.legend||(e.legend={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(l){function b(){l.apply(this,arguments);this._calloutMap={};this._calloutViewMap={};this._count=0;this._mapTipHeaderView=this._mapTipContentView=null;this._allowMultiple=!1;this._lockWidth=!0;this._contentField=null;this._isZooming=this._isPanning=!1;this._pendingCommands=[];this._mapTipSuspended=!1;this._nullGeometryStatusMessageEnabled=this._mapTipEnabled=!0;this._nullGeometryStatusMessageArgs=null;this._nullGeometry=
!1}__extends(b,l);b.prototype.initialize=function(a){l.prototype.initialize.call(this,a);if(a&&(!1===a.lockWidth&&(this._lockWidth=a.lockWidth),a.allowMultiple&&(this._allowMultiple=!!a.allowMultiple),a.contentField&&(this._contentField=a.contentField),a.customSearchSuggestions&&this.app.featureSetManager.addSearchSuggestions(a.customSearchSuggestions),null!=a.nullGeometryStatusMessageEnabled&&(this._nullGeometryStatusMessageEnabled=a.nullGeometryStatusMessageEnabled),a.nullGeometryStatusMessageArgs&&
a.nullGeometryStatusMessageEnabled)){var d=this.app.getResource(this.libraryId,"language-map-tip-null-geometry-status-message-text");this._nullGeometryStatusMessageArgs=new h.infrastructure.commandArgs.AddStatusArgs(d);this._nullGeometryStatusMessageArgs.id=this.app.getResource(this.libraryId,"language-map-tip-null-geometry-status-message-view");a.nullGeometryStatusMessageArgs.imageUri&&(this._nullGeometryStatusMessageArgs.imageUri=a.nullGeometryStatusMessageArgs.imageUri);a.nullGeometryStatusMessageArgs.timeoutMS&&
(this._nullGeometryStatusMessageArgs.timeoutMS=a.nullGeometryStatusMessageArgs.timeoutMS)}this.registerCommands();this.subscribeEvents()};b.prototype._canExecuteMapTips=function(){return this._mapTipEnabled&&!this._mapTipSuspended};b.prototype.getStateFilter=function(){return{results:this.app.project.filter.featureSetCollection,currentFeature:this.app.project.filter.feature}};b.prototype.exportState=function(){var a=this;return Promise["try"](function(){var d=a.app.project.convert,g=a.app.viewManager.getViewById("MapTipView"),
b=g.isActive?d.fromGcxFeatureSetCollection(a._currentMapTipFeatureSetCollection):null,d=g.isActive?d.fromGcxFeature(a._currentMapTipFeature):null;return{results:b,currentFeature:d}})};b.prototype.applyState=function(a){var d=this;return Promise.props({results:this.app.project.convert.toGcxFeatureSetCollection(a.results),currentFeature:this.app.project.convert.toGcxFeature(a.currentFeature)}).then(function(a){if(a.results)return d._showMapTipResultsInFixedView(a.results).then(function(){a.currentFeature&&
d._showMapTipInFixedView(a.currentFeature)});if(a.currentFeature)return d._showMapTipInFixedView(a.currentFeature);d._hideAll()})};b.prototype.subscribeEvents=function(){var a=this;this.app.event("MapPanStartedEvent").subscribe(this,function(d,g){a._isPanning=!0});this.app.event("MapPanEndedEvent").subscribe(this,function(d,g){a._isPanning=!1;a._isZooming||a.flushPendingCommands()});this.app.event("MapZoomStartedEvent").subscribe(this,function(){a._isZooming=!0});this.app.event("MapZoomEndedEvent").subscribe(this,
function(){a._isZooming=!1;a._isPanning||a.flushPendingCommands()});this.app.event("MapTipClosedEvent").subscribe(this,function(){a._clearCurrentMapTipFeature();a._currentMapTipFeatureSetCollection=null});this.app.event("ViewDimensionsChangedEvent").subscribe(this,this._onViewDimensionsChangedEvent);this.app.event("FeatureDeletedEvent").subscribe(this,function(d){a._currentMapTipFeature&&d&&h.infrastructure.MapUtils.esriFeaturesEqual(a._currentMapTipFeature.esriFeature.get(),d)&&a.app.command("DeactivateView").execute("MapTipView")});
this.app.event("Internal.ResetCalloutPosition").subscribe(this,function(d){(d=a._calloutMap[d])&&d.fixPositionDelayed&&d.fixPositionDelayed()})};b.prototype.presentFeature=function(a){if(a&&this.configuration&&this.configuration.webMapFeaturePresenter)if(this.app.allLibrariesLoaded){var d=this.configuration.webMapFeaturePresenter;if(d.view&&d.viewModel){var g=d.view,b=d.viewModel,q=a instanceof h.infrastructure.Feature?a:new e.essentialsHtmlViewer.mapping.infrastructure.Feature(a),f=this.app.viewManager.createView({type:g.type,
markup:g.markup,visible:!0,libraryId:g.libraryId});"object"==typeof g.configuration&&(f.configuration=g.configuration);g=this.app.instantiateFrameworkObject(b.type,b.libraryId);g.id=b.viewModelId||e.framework.utils.alphaNumericToken();g.initialize(b.configuration||{});d=d.featurePropertyName||"currentFeature";g[d]&&(g[d].set(q),f.attach(g),f.title.sync(g.title),d=this.getMapTipCalloutId(),this._allowMultiple&&(d+=q.layer.id),a=a.mapPoint,!a&&q.esriFeature.get()&&(a=e.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.getMiddle(q.esriFeature.get().geometry)),
q=new h.infrastructure.commandArgs.ShowMapElementArgs(d,a,f),q.destroyContentView=!0,this.app.command("ShowMapCallout").execute(q))}}else this.app.trace.warning("Aborting map tip because not all libraries are loaded.")};b.prototype.flushPendingCommands=function(){for(var a=0;a<this._pendingCommands.length;a++){var d=this._pendingCommands[a];this.app.command(d.commandName).execute(d.commandArgs)}this._pendingCommands.length=0};b.prototype.registerCommands=function(){var a=this;this.app.command("SuspendMapTips").register(this,
function(){a._mapTipSuspended=!0});this.app.command("ResumeMapTips").register(this,function(){a._mapTipSuspended=!1});this.app.command("InvokeMapTip").register(this,this._onInvokeMapTip,this._canExecuteMapTips);this.app.command("ShowMapTip").register(this,this._onShowMapTip,this._canExecuteMapTips);this.app.command("ShowMapTipInCallout").register(this,this._onShowMapTipInCallout,this._canExecuteMapTips);this.app.command("ShowMapTipResults").register(this,this._onShowMapTipResults,this._canExecuteMapTips);
this.app.command("ShowMapTipResultsInCallout").register(this,this._onShowMapTipResultsInCallout,this._canExecuteMapTips);this.app.command("ShowMapCallout").register(this,this._onShowMapCallout);this.app.command("ShowMapElement").register(this,this._onShowMapElement);this.app.command("HideMapElement").register(this,this._onHideMapElement);this.app.command("FixMapElementPosition").register(this,this._onFixMapElementPosition);this.app.command("DisableMapTips").register(this,this._executeDisableMapTips);
this.app.command("EnableMapTips").register(this,this._executeEnableMapTips);this.app.command("HideAllMapTips").register(this,this._executeHideAllMapTips);this.app.command("RestoreAllMapTips").register(this,this._executeRestoreAllMapTips);this.app.command("HideMapTips").register(this,this._executeHideMapTips);this.app.command("ShowMapTips").register(this,this._executeShowMapTips)};b.prototype._onInvokeMapTip=function(a){this.app.command("Identify").execute({geometry:a,source:"MapTip",delayFSCOpen:!0,
layerRestriction:function(a){return a.showMapTips}})};b.prototype._onShowMapTip=function(a){this._showMapTip(a,"ShowMapTip")};b.prototype._onShowMapTipInCallout=function(a){this._showMapTip(a,"ShowMapTipInCallout")};b.prototype._showMapTip=function(a,d){if(a)if(a&&(this.configuration.webMapFeaturePresenter&&this.configuration.webMapFeaturePresenter.force||a.useFeaturePresenter))this.presentFeature(a);else if("string"===typeof a)"ShowMapTipInCallout"===d?this.app.command("ShowMapTipResultsInCallout").execute(a):
this.app.command("ShowMapTipResults").execute(a);else if(!this.tryQueueCommand(d,a))if(a.length&&0<a.length&&a[0]&&(a=a[0]),!a||a&&a.layer&&!a.layer.showMapTips)this.app.command("DeactivateView").execute("MapTipView");else{var g=e.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.getMiddle(a.esriFeature.get().geometry);null==g&&(g=this.app.map.extent.getCenter(),this._nullGeometry=!0);"ShowMapTipInCallout"===d?this._showMapTipInCallout(a,g):this._showMapTipInFixedView(a);this._nullGeometry&&
this._nullGeometryStatusMessageArgs&&this._nullGeometryMessage();this._nullGeometry=!1}};b.prototype._showMapTipInCallout=function(a,d){(null==this._mapTipContentView||this._allowMultiple)&&this.createMapTipViews();this._mapTipContentView.viewModel.currentFeature.set(a);this._mapTipHeaderView.viewModel.hasMultipleFeatures.set(!1);var g=this.getMapTipCalloutId();this.showMapTipInCallout(g,d,0)};b.prototype._showMapTipInFixedView=function(a){var d=this;return a?this.app.waitUntilViewInitialized("MapTipView").then(function(g){d.app.viewManager.activateView(g);
if(a!=d._currentMapTipFeature){g.viewModel.contentField=d._contentField;g.viewModel.currentFeature.set(a);for(var b=!1,e=0;e<g.viewModel.features.length();e++)if(g.viewModel.features.getAt(e)===a){b=!0;break}b||(g.viewModel.features.clear(),d._currentMapTipFeatureBindingToken&&g.viewModel.currentFeature.unbind(d._currentMapTipFeatureBindingToken),d._setCurrentMapTipFeature(a))}}):Promise.resolve()};b.prototype._onShowMapTipResults=function(a){this._showMapTipResults(a,"ShowMapTipResults")};b.prototype._onShowMapTipResultsInCallout=
function(a){this._showMapTipResults(a,"ShowMapTipResultsInCallout")};b.prototype._showMapTipResults=function(a,d){if("object"===typeof a&&a instanceof h.infrastructure.Feature)this.app.command("ShowMapTip").execute(a);else if(!this.tryQueueCommand(d,a)){var g=this.app.featureSetManager.getCollectionById(a);if("ShowMapTipResultsInCallout"===d){var b=e.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.getMiddle(g.tag);if(null==b){b=g.firstFeature();if(null==b){var q;q=g.featureSets.bind(this,
function(a){this.tryRerunShowMapTipResults(a,g,q)});return}b=e.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.getMiddle(b.esriFeature.get().geometry);if(null==b){b=this.app.getResource(this.libraryId,"language-identify-no-geometry-for-map-tip-results");this.app.command("Alert").execute(b);this.app.trace.error(b);return}}this._showMapTipResultsInCallout(g,b)}else this._showMapTipResultsInFixedView(g)}};b.prototype._showMapTipResultsInFixedView=function(a){var d=this;return this.app.waitUntilViewInitialized("MapTipView").then(function(g){d._currentMapTipFeatureSetCollection=
a;d.app.viewManager.activateView(g);d.app.project.isLoading||d.app.command("RemovePushpins").execute();g.viewModel.contentField=d._contentField;d._currentMapTipFeatureBindingToken&&g.viewModel.currentFeature.unbind(d._currentMapTipFeatureBindingToken);g.viewModel.setFeatureSetCollection(a);d._setCurrentMapTipFeature(g.viewModel.currentFeature.get());d._currentMapTipFeatureBindingToken=g.viewModel.currentFeature.bind(d,function(a){d._currentMapTipFeature!==a&&d._setCurrentMapTipFeature(a)})})};b.prototype._showMapTipResultsInCallout=
function(a,d){(null==this._mapTipContentView||this._allowMultiple)&&this.createMapTipViews();this._mapTipContentView.setFeatureSetCollection(a);var g=this.getMapTipCalloutId();this.showMapTipInCallout(g,d,1E3)};b.prototype._onShowMapCallout=function(a){var d=this;if(!this.tryQueueCommand("ShowMapCallout",a)){var g;this._calloutViewMap.hasOwnProperty(a.elementID)?g=this._calloutViewMap[a.elementID]:(g=this.createView("MapCalloutView"),this._calloutViewMap[a.elementID]=g,dojo.addClass(g.root,"map-callout-wrapper"));
a.title?g.titleContent.set(a.getTitleNode()):a.contentIsView()&&a.content.title?g.titleContent.syncTransform(a.content.title,function(a){return d._toHtmlElement(a)}):g.titleContent=new Observable(null);g.innerContent.set(a.getNode());g.titleView=a.titleIsView()?a.title:null;g.innerContentView=a.contentIsView()?a.content:null;g.buildTree();g.pulseAll();var b=new h.infrastructure.commandArgs.ShowMapElementArgs(a.elementID,a.mapPoint,g);b.delay=a.delay;g.destroyContentView=a.destroyContentView;this.app.command("ShowMapElement").execute(b)}};
b.prototype._onShowMapElement=function(a){if(!this.tryQueueCommand("ShowMapElement",a)){var d;this._calloutMap[a.elementID]?(d=this._calloutMap[a.elementID],d.getNode()==a.getNode()?d.show(a.mapPoint,a.delay):null!=a.getNode()?(d.attachToMap(a.elementID,a.getNode(),this.app.map,a.mapPoint,a.delay,a.contentIsView()?a.content:null),this._calloutMap[a.elementID]=d):d.doDelayedShow()):(d=new e.essentialsHtmlViewer.mapping.modules.maptips.MapCallout(this.app),d.lockWidth=this._lockWidth,d.attachToMap(a.elementID,
a.getNode(),this.app.map,a.mapPoint,a.delay,a.contentIsView()?a.content:null),this._calloutMap[a.elementID]=d);a.contentIsView()&&(a.content.attached_calloutID=d.id)}};b.prototype._onHideMapElement=function(a){this.tryQueueCommand("HideMapElement",a)||(this._calloutMap[a]&&(this._calloutMap[a].destroy(),delete this._calloutMap[a]),this._calloutViewMap[a]&&(this.app.viewManager.destroyView(this._calloutViewMap[a]),delete this._calloutViewMap[a]))};b.prototype._onFixMapElementPosition=function(a){!this.tryQueueCommand("FixMapElementPosition",
a)&&this._calloutMap[a]&&(this._calloutMap[a].notifyContentChanged(),this._calloutMap[a].fixPosition())};b.prototype._onViewDimensionsChangedEvent=function(a){(a=a.view.attached_calloutID)&&this._calloutMap[a]&&(this.app.command("FixMapElementPosition").execute(a),a=new h.infrastructure.commandArgs.ShowMapElementArgs(a),this.app.command("ShowMapElement").execute(a))};b.prototype._executeDisableMapTips=function(){this._destroyAll();this._mapTipEnabled=!1};b.prototype._executeEnableMapTips=function(){this._mapTipEnabled=
!0;this._mapTipSuspended=!1};b.prototype._executeHideAllMapTips=function(){this._hideAll()};b.prototype._executeRestoreAllMapTips=function(){this._showAll()};b.prototype._executeHideMapTips=function(){this._hideAll();this.app.command("SuspendMapTips").execute()};b.prototype._executeShowMapTips=function(){this._showAll();this.app.command("ResumeMapTips").execute()};b.prototype._hideAll=function(){for(var a in this._calloutMap)a&&this._calloutMap.hasOwnProperty(a)&&this._calloutMap[a]&&this._calloutMap[a].hide();
this.app.command("DeactivateView").execute("MapTipView")};b.prototype._showAll=function(){for(var a in this._calloutMap)if(a&&this._calloutMap.hasOwnProperty(a)&&this._calloutMap[a]){var d=this._calloutMap[a];d.show(d.getMapPoint())}this.app.command("ActivateView").execute("MapTipView")};b.prototype._destroyAll=function(){var a=this,d=[],g;for(g in this._calloutMap)g&&this._calloutMap.hasOwnProperty(g)&&d.push(g);dojo.forEach(d,function(d){a.app.command("HideMapElement").execute(d)})};b.prototype._toHtmlElement=
function(a){if(a){if(a instanceof e.framework.ui.ViewBase)return a.root;if(a.nodeName)return a;if("string"===typeof a){var d=document.createElement("div");this.app.configuration.allowUnsafeContent||(a=String.escapeHtmlEncode(a));d.innerHTML=(new h.infrastructure.FilterUtils.UnsafeHtml(a)).safeHtml;return d}}else return null};b.prototype._nullGeometryMessage=function(){this.app.command("RemoveStatus").execute(this._nullGeometryStatusMessageArgs.id);this.app.command("AddStatus").execute(this._nullGeometryStatusMessageArgs);
this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-map-tip-null-geometry-status-message-text"))};b.prototype._clearCurrentMapTipFeature=function(){this._currentMapTipFeature&&this._currentMapTipFeature.esriFeature.get()&&this._currentMapTipFeature.esriFeature.get().geometry&&!this.app.project.isLoading&&("point"==this._currentMapTipFeature.esriFeature.get().geometry.type?(this.app.command("ClearHighlights").execute(),this.app.command("RemovePushpin").execute(this._currentMapTipFeature)):
this.app.command("ClearHighlights").execute());this._currentMapTipFeature=null};b.prototype._setCurrentMapTipFeature=function(a){a!=this._currentMapTipFeature&&(this._clearCurrentMapTipFeature(),(this._currentMapTipFeature=a)&&a.esriFeature.get()&&a.esriFeature.get().geometry&&!this.app.project.isLoading&&("point"==a.esriFeature.get().geometry.type?(this.app.command("EnablePushpins").execute(),this.app.command("ShowPushpins").execute(),this.app.command("AddPushpin").execute(a)):this.app.command("HighlightFeature").execute(a)),
this.app.project.isLoading||this.app.behavior("MapTipFeatureChangedBehavior").run(a))};b.prototype._onCurrentMapCalloutFeatureChanged=function(a){a&&this._mapTipContentView&&(this.app.command("ClearHighlights").execute(),this.app.command("HighlightFeature").execute(a),this.app.project.isLoading||this.app.behavior("MapCalloutFeatureChangedBehavior").run(a))};b.prototype.createMapTipViews=function(){this._mapTipContentView=this.createView("MapTipContent");this._mapTipHeaderView=this.createView("MapTipHeaderView");
var a=new f.MapTipContentViewModel(this.app,this.libraryId);a.initialize({});a.contentField=this._contentField;this._mapTipContentView.attach(a);this._mapTipHeaderView.attach(a);this._mapTipContentView.viewModel.currentFeature.bind(this,this._onCurrentMapCalloutFeatureChanged)};b.prototype.getMapTipCalloutId=function(){var a="MapTipResultsCallout";this._allowMultiple?a+=this._count++:this.app.command("HideMapElement").execute(a);return a};b.prototype.showMapTipInCallout=function(a,d,g){d=new h.infrastructure.commandArgs.ShowMapElementArgs(a,
d,this._mapTipContentView,this._mapTipHeaderView);d.delay=g;this.app.command("ShowMapCallout").execute(d);this._mapTipContentView.viewModel.containerView=this._calloutViewMap[a];this._mapTipContentView.viewModel.calloutID=a};b.prototype.tryQueueCommand=function(a,d){return this._isPanning||this._isZooming?(this._pendingCommands.push({commandName:a,commandArgs:d}),!0):!1};b.prototype.tryRerunShowMapTipResults=function(a,d,g){d.featureSets.unbind(g);this.app.command("ShowMapTipResults").execute(d.id)};
b.prototype.createView=function(a,d){return this.app.viewManager.createView({id:d,type:"geocortex.essentialsHtmlViewer.mapping.modules.maptips."+a,markup:this.libraryId+"/modules/MapTips/"+a+".html",visible:!0,libraryId:this.libraryId})};return b}(e.framework.application.ModuleBase);f.MapTipsModule=k})(f.maptips||(f.maptips={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(e){function b(){e.apply(this,arguments);this._descriptionChangedToken=this._currentFeatureChangedToken=this._view=this._featureChangedSubscriptionToken=null}__extends(b,e);b.prototype.attach=function(a){var d=this;e.prototype.attach.call(this,a);this._featureChangedSubscriptionToken&&this.app.event("FeatureChangedEvent").unsubscribe(this._featureChangedSubscriptionToken);this._featureChangedSubscriptionToken=this.app.event("FeatureChangedEvent").subscribe(this,
this.handleFeatureChanged);this._currentFeatureChangedToken&&a.currentFeature.unbind(this._currentFeatureChangedToken);this._currentFeatureChangedToken=a.currentFeature.bind(this,function(a){d._currentFeature&&d._descriptionChangedToken&&d._currentFeature.description.unbind(d._descriptionChangedToken);if(d._currentFeature=a)d._descriptionChangedToken=a.description.bind(d,function(b){d.handleFeatureChanged(a)})});this.viewModel.currentFeature.pulse()};b.prototype.destroy=function(){e.prototype.destroy.call(this);
this._featureChangedSubscriptionToken&&(this.app.event("FeatureChangedEvent").unsubscribe(this._featureChangedSubscriptionToken),this._featureChangedSubscriptionToken=null);this._currentFeature&&this._descriptionChangedToken&&this._currentFeature.description.unbind(this._descriptionChangedToken);this.viewModel&&this._currentFeatureChangedToken&&this.viewModel.currentFeature.unbind(this._currentFeatureChangedToken)};b.prototype.resolveWidget=function(a,d,g){var b=this;e.prototype.resolveWidget.call(this,
a,d);if(d)switch(a){case "GetDescription":return a=new h.infrastructure.FeatureDescriptionPresenterView(this.app,this.libraryId),a.app=this.app,a.libraryId=this.libraryId,a.contentField=this.viewModel.contentField,a.root=dojo.create("div"),a.root.className="feature-description",a.root.setAttribute("tabindex","0"),a.attach(d).then(function(){return b.resetCalloutPosition()}),this.viewModel.showNoResults.set(!1),this.viewModel.showLoading.set(!1),this._view=a,a.handleImgLoad=function(a){return b.resetCalloutPosition()},
this.resetCalloutPosition(),a;case "MapTipActionsWidget":return d=this.app.menuRegistry.createMenuWidget(this,d,g),this.resetCalloutPosition(),d;default:return null}};b.prototype.setFeatureSetCollection=function(a){this.viewModel&&this.viewModel.setFeatureSetCollection(a)};b.prototype.resetCalloutPosition=function(){void 0!=this.viewModel.calloutID&&this.app.event("Internal.ResetCalloutPosition").publish(this.viewModel.calloutID)};b.prototype.handleFeatureChanged=function(a){var d=this;if(a&&this.viewModel.currentFeature.get()&&
this.viewModel.currentFeature.get().token===a.token){var g=this._view;g.destroyBindings();g.attach(a).then(function(){d.resetCalloutPosition()})}};return b}(e.framework.ui.ViewBase);f.MapTipContent=k})(f.maptips||(f.maptips={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this.innerContent=new Observable(null);this.titleContent=new Observable(null);this.destroyContentView=!1}__extends(b,e);b.prototype.activated=function(){this.innerContentView&&(this.innerContentView.isActive=!0,this.innerContentView.activated());this.titleView&&(this.titleView.isActive=!0,this.titleView.activated())};b.prototype.deactivated=function(){this.innerContentView&&(this.innerContentView.isActive=
!1,this.innerContentView.deactivated());this.titleView&&(this.titleView.isActive=!1,this.titleView.deactivated())};b.prototype.destroy=function(){e.prototype.destroy.call(this);this.innerContentView&&this.destroyContentView&&this.innerContentView.destroy();this.titleView&&this.destroyContentView&&this.titleView.destroy()};b.prototype.handleClose=function(a,d,g){dojo.style(this.root,"display","none");(a=this.attached_calloutID)&&this.app.command("HideMapElement").execute(a);this.app.event("MapCalloutClosedEvent").publish(a)};
return b}(e.framework.ui.ViewBase);h.MapCalloutView=f})(h.maptips||(h.maptips={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){var h=function(){function e(b){this.position=this.id=null;this.lockWidth=!0;this._lastScreenPointY=this._lastScreenPointX=0;this._mapPoint=this._map=this._node=null;this._isVisible=!1;this._connections=[];this._lastUpdateTime=null;this._makeVisibleAfterDelay=!1;this.app=b}e.prototype.attachToMap=function(b,a,d,g,n,e){void 0===e&&(e=null);this.destroy();this.id=b;this._map=d;this._node=a;this._nodeView=e;this._mapPoint=g;this._isVisible=
!1;dojo.style(a,{position:"absolute",left:"0px",bottom:"0px",display:"none"});dojo.place(a,dojo.byId("map_root"));this.show(g,n)};e.prototype.show=function(b,a){a||(a=0);this._mapPoint=b;this._isVisible=!0;0<a?(this._makeVisibleAfterDelay=!0,setTimeout(dojo.hitch(this,this.doDelayedShow),a)):(dojo.style(this._node,"width","auto"),this._mapPoint=b,this._makeVisibleAfterDelay=!1,this._doResetPosition(),this._disconnectEventHandlers(),this._subscribeToMapEvent("onPanStart",this._onPanStart),this._subscribeToMapEvent("onPanEnd",
this._onPanEnd),this._subscribeToMapEvent("onPan",this._onPan),this._subscribeToMapEvent("onZoomStart",this._onZoomStart),this._subscribeToMapEvent("onZoomEnd",this._onZoomEnd),this.notifyContentChanged(),this._nodeView&&(this._nodeView.isActive=!0,this._nodeView.activated()))};e.prototype.doDelayedShow=function(){this._makeVisibleAfterDelay&&this.show(this._mapPoint)};e.prototype.hide=function(){this._makeNotVisible();this._disconnectEventHandlers();this._makeVisibleAfterDelay=this._isVisible=!1;
this._nodeView&&(this._nodeView.isActive=!1,this._nodeView.deactivated())};e.prototype._disconnectEventHandlers=function(){for(var b=0;b<this._connections.length;b++)dojo.disconnect(this._connections[b]);this._connections.length=0};e.prototype._makeNotVisible=function(){null!=this._node&&dojo.style(this._node,"display","none")};e.prototype._makeVisible=function(){null!=this._node&&dojo.style(this._node,"display","block")};e.prototype.destroy=function(){this.hide();this._node&&this._node.parentNode&&
this._node.parentNode.removeChild(this._node)};e.prototype.getNode=function(){return this._node};e.prototype.getMapPoint=function(){return this._mapPoint};e.prototype._subscribeToMapEvent=function(b,a){this._connections.push(dojo.connect(this._map,b,this,a))};e.prototype._onPanStart=function(b,a){this._setPositionByMapPoint(this._mapPoint);this._lastUpdateTime=(new Date).getTime()};e.prototype._onPan=function(b,a){0<=this._getEllapsedMilliseconds()&&(void 0===this._node.style.WebkitTransform?this._setPositionByScreenPoint(this._lastScreenPointX+
a.x,this._lastScreenPointY+a.y):this._node.style.WebkitTransform="translate({0}px, {1}px)".format(a.x,a.y),this._lastUpdateTime=(new Date).getTime())};e.prototype._onPanEnd=function(b,a){if(this._map.wrapAround180&&b.spatialReference._isWrappable()){if(b.spatialReference._isWebMercator()){for(;111319.4917*this._mapPoint.x+111319.4917<b.xmin;)this._mapPoint.x+=360;for(;111319.4917*this._mapPoint.x-111319.4917>b.xmax;)this._mapPoint.x-=360}else if(4326==b.spatialReference.wkid){for(;this._mapPoint.x<
b.xmin;)this._mapPoint.x+=360;for(;this._mapPoint.x>b.xmax;)this._mapPoint.x-=360}this._setPositionByMapPoint(this._mapPoint)}};e.prototype._getEllapsedMilliseconds=function(){null==this._lastUpdateTime&&(this._lastUpdateTime=(new Date).getTime());return(new Date).getTime()-this._lastUpdateTime};e.prototype.fixPosition=function(){this._isVisible&&this._doResetPosition()};e.prototype.fixPositionDelayed=function(b){var a=this;void 0===b&&(b=0);this._isVisible&&(this._makeNotVisible(),setTimeout(function(){a._doResetPosition()},
b))};e.prototype.notifyContentChanged=function(){var b=this;$(this._node).find("img").each(function(){this.complete||this.naturalWidth||(this.attached_calloutConnection&&(dojo.disconnect(this.attached_calloutConnection),delete this.attached_calloutConnection),Object.prototype.hasOwnProperty.call(this,"attached_originalDisplayValue")||(this.attached_originalDisplayValue=dojo.style(this,"display")),dojo.style(this,"display","none"),this.attached_calloutConnection=dojo.connect(this,"load",b,function(a){this._contentLoaded(a)}))})};
e.prototype._contentLoaded=function(b){this._isVisible&&(b=b.target,dojo.style(b,"display",b.attached_originalDisplayValue),b.attached_calloutConnection&&(dojo.disconnect(b.attached_calloutConnection),delete b.attached_calloutConnection),this._doResetPosition())};e.prototype._doResetPosition=function(){var b=dojo.style(this._node,"opacity");dojo.style(this._node,"opacity",0);this._makeVisible();0>=dojo.position(this._node).w||(dojo.style(this._node,"width","auto"),this._setPositionByMapPoint(this._mapPoint,
this.lockWidth));dojo.style(this._node,"opacity",b)};e.prototype._setPositionByMapPoint=function(b,a){var d=this._map.toScreen(b),g=dojo.position(this._node);g&&d&&(this.position&&0===g.w&&0===g.h?(this._lastScreenPointX=d.x-this.position.w/2,this._lastScreenPointY=d.y):(this._lastScreenPointX=d.x-g.w/2,this._lastScreenPointY=d.y,this.position=g),a&&dojo.style(this._node,"width",g.w+3+"px"),this._setPositionByScreenPoint(this._lastScreenPointX,this._lastScreenPointY))};e.prototype._setPositionByScreenPoint=
function(b,a){a=this._map&&this._map.height?this._map.height-a:a;void 0!==this._node.style.WebkitTransform&&(this._node.style.WebkitTransform="translate(0px, 0px)");dojo.style(this._node,{left:b+"px",bottom:a+"px"})};e.prototype._onZoomStart=function(b,a,d,g){this._makeNotVisible()};e.prototype._onZoomEnd=function(b,a,d,g){this._isVisible&&(this._makeVisible(),this._setPositionByMapPoint(this._mapPoint))};return e}();e.MapCallout=h})(e.maptips||(e.maptips={}))})(e.modules||(e.modules={}))})(e.mapping||
(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.attach=function(){this.app.event("ViewActivatedEvent").subscribe(this,this._activateMapHost);this.app.event("ViewDeactivatedEvent").subscribe(this,this._deactivateMapHost)};b.prototype._activateMapHost=function(a){"MapView"==a.id&&(this.app.command("ActivateView").execute(this.id),this.app.command("MapResize").execute())};b.prototype._deactivateMapHost=
function(a){"MapView"==a.id&&this.app.command("DeactivateView").execute(this.id)};return b}(e.framework.ui.ViewBase);h.MapHostView=f})(h.map||(h.map={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=h.infrastructure.PromiseUtils,l=function(b){function a(a,g){b.call(this,a,g);this._subscribedToMapEvents=!1;this._config=null;this._isAndroid3plus=this._isAndroid=!1;this._shownProjectError=null;this._showMapOnZoom=!0;this._showMapOnPan=!1;this._mapExtentLog=null;this._maxLogEntries=100;this._executeMapClickCommands=!0;this._mapClickTimerHandles=[];this._mapCoordinatesControllers=[];this._coordModelType="geocortex.essentialsHtmlViewer.mapping.infrastructure.coordinates.CoordinatesModel";
this._recenterRetryIntervalMs=100;this._postCenterFixupDelay=1E3;this.registerCommands();this._shownProjectError=!1;this.app.event("SiteInitializedEvent").subscribe(this,this._handleSiteInitialized);this.app.event("LayerUpdateStartedEvent").subscribe(this,this._handleLayerUpdateStart);this.app.event("LayerUpdateEndedEvent").subscribe(this,this._handleLayerUpdateEnd);this.app.event("LayerAddedEvent").subscribe(this,this._handleLayerAdded);this.app.event("LayerRemovedEvent").subscribe(this,this._handleLayerRemoved);
this._isAndroid3plus=this._androidSieve(navigator.userAgent,3);this._isAndroid=$(document.documentElement).hasClass("dj_android")}__extends(a,b);a.prototype.initialize=function(a){b.prototype.initialize.call(this,a);a||(a={});a&&a.menus&&this.app.menuRegistry.loadMenus(a);a.hasOwnProperty("showLoadingStatus")||(a.showLoadingStatus=!0);a.hasOwnProperty("loadingMessageTiming")&&a.loadingMessageTiming.length||(a.loadingMessageTiming=[1E3,3E3,3E3]);a.hasOwnProperty("defaultPointFeatureZoomScales")&&a.defaultPointFeatureZoomScales.length||
(a.defaultPointFeatureZoomScales=[]);if(a.hasOwnProperty("panDuration")){var g=parseInt(a.panDuration);isNaN(g)||(esri.config.defaults.map.panDuration=g)}a.hasOwnProperty("panRate")&&(g=parseInt(a.panRate),isNaN(g)||(esri.config.defaults.map.panRate=g));a.hasOwnProperty("zoomDuration")&&(g=parseInt(a.zoomDuration),isNaN(g)||(esri.config.defaults.map.zoomDuration=g));a.hasOwnProperty("zoomRate")&&(g=parseInt(a.zoomRate),isNaN(g)||(esri.config.defaults.map.zoomRate=g));this._initializeCoordinateModels();
a.tools&&this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,!0);a.hasOwnProperty("showMapOnZoom")&&(this._showMapOnZoom=a.showMapOnZoom);a.hasOwnProperty("showMapOnPan")&&(this._showMapOnPan=a.showMapOnPan);a.hasOwnProperty("maxExtentLogSize")&&(this._maxLogEntries=isNaN(parseInt(a.maxExtentLogSize,10))?this._maxLogEntries:parseInt(a.maxExtentLogSize,10));this._config=a;this._mapExtentLog=new e.essentialsHtmlViewer.mapping.modules.map.MapExtentLog(this.app,this.libraryId,this._maxLogEntries);
this.app.event("MapLoadedEvent").subscribe(this,this.subscribeToMapEvents);dojo.subscribe("FeatureClickedEvent",this,this.featureClickHandler);dojo.subscribe("geoRssLayerLoaded",this,this._onGeoRssLayerLoaded)};a.prototype.registerCommands=function(){this.app.command("ZoomToLayerVisibleScale").register(this,this._executeZoomToVisibleScale);this.app.command("ZoomToLayerExtent").register(this,this._executeZoomToLayerExtent);this.app.command("PanToAllFeatures").register(this,this._executePanToAllFeatures);
this.app.command("PanToFeature").register(this,this._executePanToFeature,function(a){return a&&a.esriFeature&&a.esriFeature.get()&&a.esriFeature.get().geometry});this.app.command("PanToFeatureIfOutsideMapExtent").register(this,this._executePanToFeatureIfOutsideMapExtent,function(a){return a&&a.esriFeature&&a.esriFeature.get()&&a.esriFeature.get().geometry});this.app.command("PanToPoint").register(this,this._executePanToPoint);this.app.command("Project").register(this,this._executeProject);this.app.command("RecenterMapOnNextMapResize").register(this,
this._executeRecenterMapOnNextMapResize);this.app.command("ZoomOutToExtent").register(this,this._executeZoomOutToExtent);this.app.command("ZoomToFeatures").register(this,this._executeZoomToFeatures);this.app.command("ZoomToAllFeatures").register(this,this._executeZoomToAllFeatures);this.app.command("ZoomToExtent").register(this,this._executeZoomToExtent);this.app.command("ZoomToFeature").register(this,this._executeZoomToFeature,this._canExecuteZoomToFeature);this.app.command("ZoomToFeatureIfOutsideMapExtent").register(this,
this._executeZoomToFeatureIfOutsideMapExtent,this._canExecuteZoomToFeature);this.app.command("ZoomToScale").register(this,this._executeZoomToScale);this.app.command("ZoomToNamedExtent").register(this,this._executeZoomToNamedExtent);this.app.command("ZoomToOfflineMapExtent").register(this,this._executeZoomToOfflineMapExtent);this.app.command("PanUp").register(this,this._executePanUp);this.app.command("PanDown").register(this,this._executePanDown);this.app.command("PanLeft").register(this,this._executePanLeft);
this.app.command("PanRight").register(this,this._executePanRight);this.app.command("SetTimeExtent").register(this,this._executeSetTimeExtent);this.app.command("EnableMapClick").register(this,this._executeEnableMapClick);this.app.command("DisableMapClick").register(this,this._executeDisableMapClick);this.app.command("EnableMapOnNextClick").register(this,this._enableMapNextClick)};a.prototype.getStateFilter=function(){return{serviceLayers:{item:this.app.project.filter.serviceLayer},graphicsLayers:{item:this.app.project.filter.operationalLayer}}};
a.prototype.exportState=function(){var a=this;return Promise["try"](function(){var g=h.infrastructure.ArrayUtils.mapWithErrorCallback(a.app.site.essentialsMap.mapServices,function(g){return a.app.project.convert.fromGcxMapService(g)},function(g,b){a.app.trace.warning('Unable to save map service "{0}" to project: {1}'.format(g.displayName,b))}),b=h.infrastructure.GraphicUtils.getUserGraphicsLayers(a.app),b=b.filter(function(a){return"Drawings_coordinates"!==a.id}),b=h.infrastructure.ArrayUtils.mapWithErrorCallback(b,
function(g){return a.app.project.convert.fromEsriLayer(g)},function(g,b){a.app.trace.warning('Unable to save graphics layer "{0}" to project: {1}'.format(g.id,b))});return{serviceLayers:g,graphicsLayers:b}})};a.prototype.applyState=function(a){var g=this;return Promise["try"](function(){g.app.site.essentialsMap.mapServices.filter(function(a){return a.isUserCreated}).forEach(function(a){g.app.site.essentialsMap.removeMapService(a)});["Drawings","Drawings_measurement"].forEach(function(a){(a=h.infrastructure.GraphicUtils.getGraphicsLayer(a,
!1,g.app))&&a.clear()});g.app.event("MarkupClearedEvent").publish();var b=g.app.project.convert,e=k.mapSkipRejected(a.serviceLayers,function(a){return k.warnOnReject(b.toGcxMapService(a),g.app,'Unable to restore map service "{0}": {{0}}'.format(a.id))})["return"](),f=k.mapSkipRejected(a.graphicsLayers,function(a){return k.warnOnReject(b.toEsriLayer(a),g.app,'Unable to restore graphics layer "{0}": {{0}}'.format(a.id))})["return"]();return Promise.join(e,f).then(function(){g._fixGraphicsLayersOrder();
g.app.command("ClearMarkup").raiseCanExecuteChanged();g.app.command("ClearMarkupQuiet").raiseCanExecuteChanged();g.app.command("EditMarkup").raiseCanExecuteChanged();g.app.command("DeleteMarkup").raiseCanExecuteChanged()})})};a.prototype._fixGraphicsLayersOrder=function(){var a=this,g=["Drawings","Drawings_measurement","Drawings_coordinates"].filter(function(g){return 0<=a.app.map.graphicsLayerIds.indexOf(g)});if(g.length){var b=Math.min.apply(null,g.map(function(g){return a.app.map.graphicsLayerIds.indexOf(g)}));
g.forEach(function(g,e){var h=a.app.map.getLayer(g);a.app.map.reorderLayer(h,e+b)})}};a.prototype._androidSieve=function(a,g){var b=a.match(/Android (\d+(?:\.\d+)+)/);return null!==b&&parseFloat(b[1])>=g?!0:!1};a.prototype._executeEnableMapClick=function(){this._executeMapClickCommands=!0};a.prototype._executeDisableMapClick=function(){this._executeMapClickCommands=!1;$(document.body).off("mousedown.nextClick touchstart.nextClick")};a.prototype._enableMapNextClick=function(){var a=this;$(document.body).off("mousedown.nextClick touchstart.nextClick");
if(this._isAndroid)setTimeout(function(){$(document.body).one("mousedown.nextClick touchstart.nextClick",function(){return a.app.command("EnableMapClick").execute()})},100);else $(document.body).one("mousedown.nextClick touchstart.nextClick",function(){return a.app.command("EnableMapClick").execute()})};a.prototype._executeRecenterMapOnNextMapResize=function(){var a=this;this._previousCenter=this.app.map.extent.getCenter();if(!this._recenterRetryTimerHandler){var g=this.app.map,b=0;g.layerIds.map(function(a){return g.getLayer(a)}).filter(function(a){return a.updating}).map(function(a){return++b});
if(0<b||this.app.map.updating)this.app.trace.debug("RecenterMapOnNextResize: Map updating, deferring recenter..."),this._recenterRetryTimerHandler=setTimeout(function(){a._recenterRetryTimerHandler=null;a._executeRecenterMapOnNextMapResize()},this._recenterRetryIntervalMs);else{var e=function(){setTimeout(function(){a.app.site.essentialsMap.extentManager.centerAtWithPriority(a._previousCenter,4)},0)};e();if(this.app.map&&this.app.map.extent)var h=dojo.connect(this.app.map,"onResize",function(){a._previousCenter&&
(dojo.disconnect(h),dojo.disconnect(f),dojo.disconnect(m),dojo.disconnect(l),e())}),f=dojo.connect(this.app.map,"onExtentChange",function(g,b,n,e){a._previousCenter=g.getCenter()}),m=dojo.connect(this.app.map,"onPanStart",function(){a._previousCenter=null}),l=dojo.connect(this.app.map,"onPanEnd",function(g,b){a._previousCenter=g.getCenter()})}}};a.prototype._executeZoomOutToExtent=function(a){var g=this,b=function(a){var d=null;if(a&&0<a.length){d=a[0];g.app.command("ShowMap").execute();var b=2;a=
2;0<d.getWidth()&&(b=g.app.map.extent.getWidth()/d.getWidth());0<d.getHeight()&&(a=g.app.map.extent.getHeight()/d.getHeight());b*=g.app.map.extent.getWidth();a*=g.app.map.extent.getHeight();d=new esri.geometry.Extent(d.getCenter().x-b/2,d.getCenter().y-a/2,d.getCenter().x+b/2,d.getCenter().y+a/2,d.spatialReference);g.app.site.essentialsMap.extentManager.setExtentWithPriority(d,5)}};a&&a.isInstanceOf(esri.geometry.Extent)&&(!a.spatialReference&&this.app.map.spatialReference?(a.spatialReference=this.app.map.spatialReference,
b([a])):(a=new e.essentialsHtmlViewer.mapping.infrastructure.commandArgs.ProjectArgs([a],b,function(a){g.app.trace.warning("ZoomOutToExtent: "+a.message)}),this.app.command("Project").execute(a)))};a.prototype._executeZoomToExtent=function(a){e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(this.app,a,10,this._showMapOnZoom)};a.prototype._executePanToPoint=function(a){e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.panToPointWithPriority(this.app,a,9,this._showMapOnPan)};
a.prototype._executeProject=function(a){var g=this;if(a&&a instanceof e.essentialsHtmlViewer.mapping.infrastructure.commandArgs.ProjectArgs)if(0<a.geometries.length&&!e.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.needsProjection(a.geometries[0],this.app)){var b=a.callback,h=a.errback;a.callback&&dojo.isFunction(b)?b(a.geometries):h&&dojo.isFunction(h)&&h(Error("callback function required."))}else{var h=function(b){g.app.command("Alert").execute(g.app.getResource(g.libraryId,"language-map-operation-project-failed"));
g.app.trace.warning(b);a.errback&&a.errback(b)},b=void 0!==esri.tasks.ProjectParameters?new esri.tasks.ProjectParameters:{};b.geometries=a.geometries;b.outSR=a.outputSpatialReference?a.outputSpatialReference:this.app.map.spatialReference;b.transformation=a.transformation;e.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.project(b,a.callback,h,this.app)}};a.prototype._executeZoomToVisibleScale=function(a){if(a){var g=1,b=null,h=this.app.map;if(this.app.site.essentialsMap){var f=this.app.site.essentialsMap.calculateScale();
!f||0>=f||(a.withinScaleRange(f)?b=null:f<a.maxScale?b=this._getClosestLODScale("greaterThan",a.maxScale)+1:f>a.minScale&&(b=this._getClosestLODScale("lessThan",a.minScale)-1),b&&(g=b/f),1===g?this.app.command("ShowMap").execute():(a=h.extent.getCenter(),e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(this.app,h.extent.expand(g).centerAt(a),8,this._showMapOnZoom)))}}};a.prototype._getClosestLODScale=function(a,g){var b=this.app.map,b=b.__tileInfo&&b.__tileInfo.lods;
if(!b||!b.length)return g;for(var e=0,h=0;h<b.length;h++){if(b[h].scale===g)return g;if("lessThan"===a){if(g<b[h].scale)continue}else if(b[h].scale>g){e=b[h].scale;continue}return"lessThan"===a?b[h].scale:e}};a.prototype._executeZoomToLayerExtent=function(a){a&&a.fullExtent&&e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(this.app,a.fullExtent,8,this._showMapOnZoom)};a.prototype._executeZoomToNamedExtent=function(a){var g=this;a?this.app.doWhenMapInitialized(function(){var b=
g.app.site.namedExtents.filter(function(g){return g.displayName.toLowerCase().trim()===a.toLowerCase().trim()});(b=b.length?b[0]:null)?e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(g.app,b.extent,8,g._showMapOnZoom):g.app.trace.error("Error ZoomToNamedExtent: could not find extent '{0}'.".format(a))}):this.app.trace.error("Error ZoomToNamedExtent: extent name was null.")};a.prototype._executeZoomToOfflineMapExtent=function(){var a=this;this.app.doWhenMapInitialized(function(){var g=
a.app.offlineManager.getActiveOfflineMap();g?(g=(new esri.geometry.Polygon(g.content.geometry)).getExtent(),h.infrastructure.MapUtils.zoomToExtentWithPriority(a.app,g,8,a._showMapOnZoom)):a.app.trace.warning("ZoomToOfflineMapExtent: no active offline map.")})};a.prototype._executePanToFeature=function(a){a&&a instanceof e.essentialsHtmlViewer.mapping.infrastructure.Feature?(a=a.esriFeature.get())&&a.geometry?this.app.command("PanToPoint").execute(a.geometry):this.app.trace.warning("Error PanToFeature: No geometry."):
this.app.trace.error("Error PanToFeature: not a feature.")};a.prototype._executePanToFeatureIfOutsideMapExtent=function(a){if(a&&a instanceof e.essentialsHtmlViewer.mapping.infrastructure.Feature){var g=a.esriFeature.get();g&&g.geometry?this.app&&this.app.map?this.app.map.extent.intersects(g.geometry)&&!this._isObscuredByMapTipView(g.geometry)||this.app.command("PanToFeature").execute(a):this.app.trace.error("Error ZoomToFeature: No access to the Esri map."):this.app.trace.warning("Error PanToFeatureIfOutsideMapExtent: No geometry.")}else this.app.trace.error("Error PanToFeatureIfOutsideMapExtent: not a feature.")};
a.prototype._executePanToAllFeatures=function(a){if(a&&dojo.isArray(a))if(1==a.length)this.app.command("PanToFeature").execute(a[0]);else{for(var g=null,b=0;b<a.length;b++){var h=a[b];h&&h instanceof e.essentialsHtmlViewer.mapping.infrastructure.Feature&&(h=h.esriFeature.get())&&h.geometry&&(h=e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.getExtent(h.geometry),g=null==g?h:g.union(h))}g&&e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.panToPointWithPriority(this.app,g,8,this._showMapOnPan)}};
a.prototype._executeZoomToFeatures=function(a){a&&a instanceof e.essentialsHtmlViewer.mapping.infrastructure.FeatureSet&&this._executeZoomToAllFeatures(a.features.getItems())};a.prototype._executeZoomToAllFeatures=function(a){if(a&&dojo.isArray(a))if(1==a.length)this._executeZoomToFeature(a[0]);else{for(var g=null,b=0;b<a.length;b++){var h=a[b];h&&h instanceof e.essentialsHtmlViewer.mapping.infrastructure.Feature&&(h=h.esriFeature.get())&&h.geometry&&(h=e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.getExtent(h.geometry),
g=null==g?h:g.union(h))}g&&(0==g.getWidth()&&0==g.getHeight()?e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.panToPointWithPriority(this.app,g.getCenter(),8,this._showMapOnPan):(g=g.expand(1.5),e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(this.app,g,8,this._showMapOnZoom)))}};a.prototype._executeZoomToFeature=function(a){var g=this;if(a&&a instanceof e.essentialsHtmlViewer.mapping.infrastructure.Feature)if(this.app&&this.app.map){var b;if(a.zoomExtent.get())e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(this.app,
a.zoomExtent.get(),8,this._showMapOnZoom);else if(a.esriFeature.get()&&a.esriFeature.get().geometry){var h=a.esriFeature.get().geometry;if(b=a.zoomScale.get()){var f=null;f="point"==h.type?h:(h=h.getExtent())?h.getCenter():null;var h=this.app.map.spatialReference.wkid?esri.geometry.getScale(this.app.map.extent,this.app.map.width,this.app.map.spatialReference.wkid):esri.geometry.getScale(this.app.map.extent,this.app.map.width,this.app.map.spatialReference.wkt),m=b/h;b=new e.essentialsHtmlViewer.mapping.infrastructure.commandArgs.ProjectArgs([f],
function(a){var d=null;a&&0<a.length&&(d=a[0]);d&&e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(g.app,g.app.map.extent.centerAt(d).expand(m),8,g._showMapOnZoom)},function(a){})}else"point"==h.type?b=new e.essentialsHtmlViewer.mapping.infrastructure.commandArgs.ProjectArgs([h],function(b){var n=null;b&&0<b.length&&(n=b[0]);n&&(b=g.app.map.extent.centerAt(n),n=g._pickDefaultZoomScaleForPointFeature(a),isNaN(n)&&(n=g.app.map.spatialReference.wkid?esri.geometry.getScale(b,
g.app.map.width,g.app.map.spatialReference.wkid):esri.geometry.getScale(b,g.app.map.width,g.app.map.spatialReference.wkt)),b=esri.geometry.getExtentForScale(g.app.map,a.calculateScaleToMakeVisible(n)).centerAt(b.getCenter()),e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(g.app,b,8,g._showMapOnZoom))},function(a){}):((b=a.zoomFactor.get())||(b=1.5),(h=h.getExtent())&&(h=e.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.fixAspectRatio(h.expand(b),this.app.map.extent)),
b=new e.essentialsHtmlViewer.mapping.infrastructure.commandArgs.ProjectArgs([h],function(b){var n=null;b&&0<b.length&&(n=b[0]);n&&(b=g.app.map.spatialReference.wkid?esri.geometry.getScale(n,g.app.map.width,g.app.map.spatialReference.wkid):esri.geometry.getScale(n,g.app.map.width,g.app.map.spatialReference.wkt),a.withinScaleRange(b)||(b=a.calculateScaleToMakeVisible(b),n=esri.geometry.getExtentForScale(g.app.map,b).centerAt(n.getCenter())),e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(g.app,
n,8,g._showMapOnZoom))},function(a){}));this.app.command("Project").execute(b)}else this.app.trace.warning("Error ZoomToFeature: No geometry.")}else this.app.trace.error("Error ZoomToFeature: No access to the Esri map.");else this.app.trace.error("Error ZoomToFeature: No feature provided.")};a.prototype._executeZoomToFeatureIfOutsideMapExtent=function(a){if(a&&a instanceof e.essentialsHtmlViewer.mapping.infrastructure.Feature)if(this.app&&this.app.map){if(this.app.map.extent){var g;if(a.zoomExtent.get())g=
a.zoomExtent.get();else if(a.esriFeature.get()&&a.esriFeature.get().geometry)g=a.esriFeature.get().geometry;else{this.app.trace.warning("Error ZoomToFeatureIfOutsideMapExtent: No geometry.");return}if(this.app.map.extent.intersects(g)&&!this._isObscuredByMapTipView(g))return}this.app.command("ZoomToFeature").execute(a)}else this.app.trace.error("Error ZoomToFeature: No access to the Esri map.");else this.app.trace.error("Error ZoomToFeatureIfOutsideMapExtent: No feature provided.")};a.prototype._canExecuteZoomToFeature=
function(a){if(a&&a.esriFeature&&a.esriFeature.get()&&a.esriFeature.get().geometry){if(this.app.isOffline.get()){var g=this.app.map.spatialReference;return(a=a.esriFeature.get().geometry.spatialReference)?g.equals(a)||g.isWebMercator()&&4326===a.wkid||a.isWebMercator()&&4326===g.wkid:g.equals(a)}return!0}return!1};a.prototype._isObscuredByMapTipView=function(a){if(!a)return!1;var g=this.app.viewManager.getViewById("MapTipView");if(!g||!g.root)return!1;var b=g.root.getBoundingClientRect(),g=this.app.map.toMap(new esri.geometry.ScreenPoint(b.left-
this.app.map.position.x,b.bottom-this.app.map.position.y)),b=this.app.map.toMap(new esri.geometry.ScreenPoint(b.right-this.app.map.position.x,b.top-this.app.map.position.y));return(new esri.geometry.Extent(g.x,g.y,b.x,b.y,this.app.map.spatialReference)).contains(h.infrastructure.MapUtils.getExtent(a))};a.prototype.calculateScaleToMakeVisible=function(a){return null};a.prototype._executeZoomToScale=function(a){a&&this.app&&this.app.site&&this.app.site.essentialsMap&&this.app.site.essentialsMap.extentManager.setScaleWithPriority(a,
6)};a.prototype._executePanUp=function(d){if(d){var g=this.app.map.extent;d=this._calculateVerticalPanAmount(d);g=new esri.geometry.Extent(g.xmin,g.ymin+d,g.xmax,g.ymax+d,g.spatialReference);this.app.site.essentialsMap.extentManager.setExtentWithPriority(g,a.extentChangePriority)}else this.app.site.essentialsMap.extentManager.changeExtentWithPriority(function(a){return a.panUp()},a.extentChangePriority)};a.prototype._executePanDown=function(d){if(d){var g=this.app.map.extent;d=this._calculateVerticalPanAmount(d);
g=new esri.geometry.Extent(g.xmin,g.ymin-d,g.xmax,g.ymax-d,g.spatialReference);this.app.site.essentialsMap.extentManager.setExtentWithPriority(g,a.extentChangePriority)}else this.app.site.essentialsMap.extentManager.changeExtentWithPriority(function(a){return a.panDown()},a.extentChangePriority)};a.prototype._executePanLeft=function(d){if(d){var g=this.app.map.extent;d=this._calculateHorizontalPanAmount(d);g=new esri.geometry.Extent(g.xmin-d,g.ymin,g.xmax-d,g.ymax,g.spatialReference);this.app.site.essentialsMap.extentManager.setExtentWithPriority(g,
a.extentChangePriority)}else this.app.site.essentialsMap.extentManager.changeExtentWithPriority(function(a){return a.panLeft()},a.extentChangePriority)};a.prototype._executePanRight=function(d){if(d){var g=this.app.map.extent;d=this._calculateHorizontalPanAmount(d);g=new esri.geometry.Extent(g.xmin+d,g.ymin,g.xmax+d,g.ymax,g.spatialReference);this.app.site.essentialsMap.extentManager.setExtentWithPriority(g,a.extentChangePriority)}else this.app.site.essentialsMap.extentManager.changeExtentWithPriority(function(a){return a.panRight()},
a.extentChangePriority)};a.prototype._calculateHorizontalPanAmount=function(a){return this.app.map&&this.app.map.extent?this.app.map.extent.getWidth()*a:0};a.prototype._calculateVerticalPanAmount=function(a){return this.app.map&&this.app.map.extent?this.app.map.extent.getHeight()*a:0};a.prototype._executeSetTimeExtent=function(a){this.app.map&&this.app.map.setTimeExtent(a)};a.prototype._pickDefaultZoomScaleForPointFeature=function(a){if(a=a.layer)for(var g=0;g<this._config.defaultPointFeatureZoomScales.length;g++){var b=
this._config.defaultPointFeatureZoomScales[g];if(a.withinScaleRange(b))return b}else if(0<this._config.defaultPointFeatureZoomScales.length)return this._config.defaultPointFeatureZoomScales[0];return NaN};a.prototype._pointToExtent=function(a){var g=5*(this.app.map.extent.getWidth()/this.app.map.width);return new esri.geometry.Extent(a.x-g,a.y-g,a.x+g,a.y+g,this.app.map.spatialReference)};a.prototype.featureClickHandler=function(a){a&&this.app.behavior("MapOnFeatureClickBehavior").run(a)};a.prototype.subscribeToMapEvents=
function(){var a=this,g=this,b=!1,e=0,h=null,f=null,m=function(g){if(b)return b=!1;if(!a._executeMapClickCommands)return!1;var m=(new Date).getTime();a._isAndroid3plus?300>=m-e&&h&&50>Math.abs(h.x-g.screenPoint.x)&&50>Math.abs(h.y-g.screenPoint.y)?clearTimeout(f):f=setTimeout(function(){a._executeMapClickCommands&&a.app.behavior("MapOnClickBehavior").run(g.mapPoint)},300):a.app.behavior("MapOnClickBehavior").run(g.mapPoint);e=m;h=g.screenPoint},l=null,k=function(a){null!=l&&(clearTimeout(l),l=null)},
p=function(g){k(g);b=!1;l=setTimeout(function(){l=null;b=!0;esri.MapNavigationManager?esri.MapNavigationManager.prototype._panEnd?a.app.map.navigationManager?a.app.map.navigationManager._panHandle&&esri.MapNavigationManager.prototype._panEnd.call(a.app.map.navigationManager):a.app.trace.warning("Can't prevent panning: missing map.navigationManager."):a.app.trace.warning("Can't prevent panning: missing esri.MapNavigationManager._panEnd"):a.app.trace.warning("Can't prevent panning: missing esri.MapNavigationManager.");
g.preventDefault();if(!(700>Date.now()-e)&&g.touches&&0<g.touches.length){var h=g.touches[0],f=$(a.app.map.root).offset(),h=new esri.geometry.ScreenPoint(Math.floor(h.pageX)-f.left,Math.floor(h.pageY)-f.top),h=a.app.map.toMap(h);e=Date.now();a.app.behavior("MapOnLongClickBehavior").run(h)}},a._config.longClickMilliseconds||500)},z=function(g){g.preventDefault();if(!(Modernizr.touch&&700>Date.now()-e)){var b=$(a.app.map.root).offset();g=new esri.geometry.ScreenPoint({x:g.pageX-b.left,y:g.pageY-b.top});
g=a.app.map.toMap(g);e=Date.now();a.app.behavior("MapOnContextMenuBehavior").run(g)}},s=[],v=function(){dojo.forEach(s,dojo.disconnect);s.length=0;Modernizr.touch&&(a.app.map.root.removeEventListener("touchstart",p,!1),a.app.map.root.removeEventListener("touchend",k,!1),a.app.map.root.removeEventListener("touchcancel",k,!1),a.app.map.root.removeEventListener("touchleave",k,!1),a.app.map.root.removeEventListener("touchmove",k,!1))},x=function(){v();var g=a.app.behaviorRegistry.behaviors.MapOnClickBehavior;
g&&0<g.commands.length&&s.push(dojo.connect(a.app.map,"onClick",m));(g=a.app.behaviorRegistry.behaviors.MapOnLongClickBehavior)&&0<g.commands.length&&(s.push(dojo.connect(a.app.map,"onMouseDown",p)),s.push(dojo.connect(a.app.map,"onMouseUp",k)),s.push(dojo.connect(a.app.map,"onMouseDrag",k)),s.push(dojo.connect(a.app.map,"onPanStart",k)),s.push(dojo.connect(a.app.map,"onZoomStart",k)),Modernizr.touch&&(a.app.map.root.addEventListener("touchstart",p,!1),a.app.map.root.addEventListener("touchend",k,
!1),a.app.map.root.addEventListener("touchcancel",k,!1),a.app.map.root.addEventListener("touchleave",k,!1),a.app.map.root.addEventListener("touchmove",k,!1)));(g=a.app.behaviorRegistry.behaviors.MapOnContextMenuBehavior)&&0<g.commands.length&&a.app.map.root.addEventListener("contextmenu",z,!1)};x();this.app.event("GraphicDrawActivatedEvent").subscribe(this,function(){0!==a._mapClickTimerHandles.length&&(a._mapClickTimerHandles.forEach(function(a){clearTimeout(a)}),a._mapClickTimerHandles=[]);v()});
this.app.event("GraphicDrawDeactivatedEvent").subscribe(this,function(){a._isAndroid?a._mapClickTimerHandles.push(setTimeout(x,950)):x()});var D=esri.toolbars.Draw.prototype.activate;esri.toolbars.Draw.prototype.activate=function(){if(!this.__attached_isActive)if(D.apply(this,arguments),this.__attached_isActive=!0,this.__attached_stopEvent)delete this.__attached_stopEvent;else{var a=arguments[0];g.app.event("GraphicDrawActivatedEvent").publish({sender:this,geometryType:a})}};var A=esri.toolbars.Draw.prototype.deactivate;
esri.toolbars.Draw.prototype.deactivate=function(){this.__attached_isActive&&(this.__attached_stopEvent?delete this.__attached_stopEvent:g.app.event("GraphicDrawDeactivatedEvent").publish({sender:this,geometryType:null}),A.apply(this,arguments),this.__attached_isActive=!1)};this.app.event("GraphicEditActivatedEvent").subscribe(this,v);this.app.event("GraphicEditDeactivatedEvent").subscribe(this,x);if("undefined"!==typeof esri.toolbars.Edit){var F=0,E=null,G=esri.toolbars.Edit.prototype.activate;esri.toolbars.Edit.prototype.activate=
function(){if(!this.__attached_isActive)if(G.apply(this,arguments),this.__attached_isActive=!0,this.__attached_stopEvent)delete this.__attached_stopEvent;else{F=arguments[0];E=arguments[1];var a={tool:F,graphic:E,sender:this};g.app.event("GraphicEditActivatedEvent").publish(a)}};var I=esri.toolbars.Edit.prototype.deactivate;esri.toolbars.Edit.prototype.deactivate=function(){if(this.__attached_isActive){if(this.__attached_stopEvent)delete this.__attached_stopEvent;else{var a={tool:F,graphic:E,sender:this};
F=0;E=null;g.app.event("GraphicEditDeactivatedEvent").publish(a)}I.apply(this,arguments);this.__attached_isActive=!1}}}};a.prototype._onGeoRssLayerLoaded=function(a){a&&a.esriLayer&&dojo.connect(a.esriLayer,"onClick",this,function(a){dojo.stopEvent(a);a=new e.essentialsHtmlViewer.mapping.infrastructure.Feature({graphic:a.graphic,allowUnsafeContent:this.app.configuration.allowUnsafeContent});a.descriptionFormat.set("{content}");a.labelFormat.set("{title}");this.app.command("ShowMapTip").execute(a)})};
a.prototype._handleSiteInitialized=function(a){a&&a.isInitialized?this._previousCenter=this.app.map.extent.getCenter():this.app.trace.error("Error processing MapModule._handleSiteInitialized. - site was not initialized.")};a.prototype._handleLayerUpdateStart=function(a,g){if(g){g.attached_isLoading=!0;g.attached_timers||(g.attached_timers=[]);var b=setTimeout(dojo.hitch(this,function(){if(!(1>this._config.loadingMessageTiming.length)&&this._config.showLoadingStatus&&g.attached_isLoading){var b=this.app.getResource(this.libraryId,
"language-map-loading-stage1").format(g.displayName),n=new e.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(b);n.id=a.id+"LoadingStatus";n.showBusyIcon=!0;this.app.command("AddStatus").execute(n);2>this._config.loadingMessageTiming.length||(b=setTimeout(dojo.hitch(this,function(){if(g.attached_isLoading){var a=this.app.viewManager.getViewById(n.id);a&&a.viewModel&&a.viewModel.text.set(this.app.getResource(this.libraryId,"language-map-loading-stage2").format(g.displayName));
3>this._config.loadingMessageTiming.length||(a=setTimeout(dojo.hitch(this,function(){if(g.attached_isLoading){var a=this.app.viewManager.getViewById(n.id);a&&a.viewModel&&a.viewModel.text.set(this.app.getResource(this.libraryId,"language-map-loading-stage3").format(g.displayName))}}),this._config.loadingMessageTiming[2]),g.attached_timers.push(a))}}),this._config.loadingMessageTiming[1]),g.attached_timers.push(b))}}),this._config.loadingMessageTiming[0]);g.attached_timers.push(b)}};a.prototype._handleLayerUpdateEnd=
function(a,g){if(g){if(g.attached_timers){for(var b=0;b<g.attached_timers.length;b++)clearTimeout(g.attached_timers[b]);g.attached_timers.length=0}g.attached_isLoading=!1;b=a.id+"LoadingStatus";this.app.command("RemoveStatus").execute(b)}};a.prototype._handleLayerAdded=function(a,g){};a.prototype._handleLayerRemoved=function(a){a=a.id+"LoadingStatus";this.app.command("RemoveStatus").execute(a)};a.prototype._initializeCoordinateModels=function(){var a=this,g=this.id.split("-").pop(),b=this.app.configModel.moduleConfigs.filter(function(a){return a.moduleName===
g})[0];b&&b.viewModelConfigs.length&&b.viewModelConfigs.forEach(function(g){var b=g.viewModelId;g.typeName===a._coordModelType&&a._mapCoordinatesControllers.push(new f.MapCoordinatesController(a.app,a.libraryId,b))})};a.extentChangePriority=6;return a}(e.framework.application.ModuleBase);f.MapModule=l})(f.map||(f.map={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(h){function b(a,d){h.call(this,a,d);this._zoomedExtent=null;this.showMap=new Observable(!0);this.showError=new Observable(!1);this.showAuthError=new Observable(!1);this.showCriticalServicesError=new Observable(!1);this.siteFailed=new Observable(!1);this.temporaryMarkupSymbol=this.temporaryGraphicsLayer=null;this.stepZoomFactor=0.5;this.registerCommands()}__extends(b,h);b.prototype.initialize=function(a){h.prototype.initialize.call(this,
a);a&&a.hasOwnProperty("stepZoomFactor")&&(a=parseFloat(a.stepZoomFactor),this.stepZoomFactor=!isNaN(a)&&0<a?a:0.5);this.temporaryMarkupSymbol=new esri.symbol.SimpleMarkerSymbol(esri.symbol.SimpleMarkerSymbol.STYLE_DIAMOND,20,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color([0,0,0]),1),new esri.Color([255,255,0,0.5]));this.app.event("SiteInitializationFailedEvent").subscribe(this,function(a){this.showMap.set(!1);this.showError.set(!0)});this.app.event("SiteAuthorizationFailedEvent").subscribe(this,
function(a){this.showMap.set(!1);this.showAuthError.set(!0)});this.app.event("SiteServiceLayersFailedEvent").subscribe(this,function(a){dojo.some(a,function(a){return a.failureAction===e.essentials.FailureAction.ERROR})&&(this.showMap.set(!1),this.showCriticalServicesError.set(!0))});this.app.event("UserSignInCancelledEvent").subscribe(this,function(a){this.showMap.set(!1);this.showAuthError.set(!0)});this.app.event("MapLoadedEvent").subscribe(this,this._subscribeToMapEvents)};b.prototype.registerCommands=
function(){var a=this;this.app.command("AddTemporaryMarkupGeometry").register(this,function(a){this.temporaryGraphicsLayer||(this.temporaryGraphicsLayer=new esri.layers.GraphicsLayer({id:"TemporaryMarkup"}),this.app.map.addLayer(this.temporaryGraphicsLayer));if(a){var g=null;switch(a.type){case "polygon":case "extent":g=new esri.symbol.SimpleFillSymbol(esri.symbol.SimpleFillSymbol.STYLE_SOLID,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color([255,51,51,0.8]),
2),new esri.Color([255,51,51,0.5]));break;case "polyline":g=new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color([204,51,51,0.8]),2);break;default:g=new esri.symbol.SimpleMarkerSymbol(esri.symbol.SimpleMarkerSymbol.STYLE_CIRCLE,14,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color([0,0,0]),1),new esri.Color([204,51,51]))}this.temporaryGraphicsLayer.add(new esri.Graphic(a,g))}});this.app.command("ClearTemporaryMarkup").register(this,
function(){a.temporaryGraphicsLayer&&a.temporaryGraphicsLayer.clear()});this.app.command("AddMapService").register(this,this._executeAddMapService);this.app.command("RemoveUserAddedLayer").register(this,this._executeRemoveUserAddedLayer,this._canExecuteRemoveUserAddedLayer);this.app.command("ZoomToInitialExtent").register(this,function(){setTimeout(function(){null!=a.app.map&&(null!==a.app.site&&a.app.site.isInitialized&&null!==a.app.site.essentialsMap?a.app.site.essentialsMap.isInitialized&&null!==
a.app.site.essentialsMap.initialExtent?a.app.site.essentialsMap.extentManager.setExtentWithPriority(a.app.site.essentialsMap.initialExtent,8):a.app.trace.warning("Could not zoom to initial extent - Map was not initialized or has no initial extent."):a.app.trace.warning("Could not zoom to initial extent - Site was null or uninitialized."))},1)});this.app.command("ZoomToFullExtent").register(this,function(){setTimeout(function(){null!=a.app.map&&(null!==a.app.site&&a.app.site.isInitialized&&null!==
a.app.site.essentialsMap?a.app.site.essentialsMap.isInitialized&&null!==a.app.site.essentialsMap.fullExtent?a.app.site.essentialsMap.extentManager.setExtentWithPriority(a.app.site.essentialsMap.fullExtent,8):a.app.trace.warning("Could not zoom to full extent - Map was not initialized or has no full extent."):a.app.trace.warning("Could not zoom to full extent - Site was null or uninitialized."))},1)});this.app.command("StepZoomIn").register(this,this._executeStepZoomIn);this.app.command("StepZoomOut").register(this,
this._executeStepZoomOut)};b.prototype._executeAddMapService=function(a){this.app.site.essentialsMap.addMapService(a)};b.prototype._executeRemoveUserAddedLayer=function(a){this.app.site.essentialsMap.removeMapService(a.mapService);(a=this.app.viewManager.getViewById("LayerActionsView"))&&this.app.viewManager.deactivateView(a)};b.prototype._canExecuteRemoveUserAddedLayer=function(a){return a&&1===a.mapService.layers.length&&a.isUserCreated};b.prototype._executeStepZoomOut=function(){this.app.command("ShowMap").execute();
this._zoomedExtent=e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.stepZoomWithPriority(this.app.site,this.stepZoomFactor,this._zoomedExtent,5)};b.prototype._executeStepZoomIn=function(){this.app.command("ShowMap").execute();this._zoomedExtent=e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.stepZoomWithPriority(this.app.site,1/this.stepZoomFactor,this._zoomedExtent,5)};b.prototype._subscribeToMapEvents=function(){dojo.connect(this.app.map,"onPanEnd",this,function(){this._zoomedExtent=
null});dojo.connect(this.app.map,"onZoomEnd",this,function(){this._zoomedExtent=null})};return b}(e.framework.ui.ViewModelBase);h.MapViewModel=f})(h.map||(h.map={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(f){function b(a,d){f.call(this,a,d);this.resizeTimer=this.hoverTimer=this.active=null;this.resizeDelay=200;this.initialized=this.firstResize=!1;this.maxScale=this.minScale=this.extentBroadcastFrequency=this.extentEpoch=null;this._layerEventsLookup={};this._mapHoverSubscriberCount=0;this._mapHoverTimeout=500;this._enableMapClickEvent=!0;this._coordChannelId="defaultMapCoordinates";this.app.event("ViewActivatedEvent").subscribe(this,
this._updateBingLogoPosition);this.app.event("ViewDeactivatedEvent").subscribe(this,this._updateBingLogoPosition);this.app.event("RegionActivatedEvent").subscribe(this,this._updateBingLogoPosition);this.app.event("RegionDeactivatedEvent").subscribe(this,this._updateBingLogoPosition);this.app.command("ActivateMapContextMenu").register(this,this._activateMapContextMenu)}__extends(b,f);b.prototype.removed=function(){null!=this.app.map&&this.app.map.destroy()};b.prototype.activated=function(){var a=this;
f.prototype.activated.call(this);this.initialized||this.initialize();this.active=!0;setTimeout(function(){return h.infrastructure.FocusUtils.focusOnMap(a.app.map)},0);this.resize()};b.prototype.deactivated=function(){f.prototype.deactivated.call(this);this.active=!1;clearTimeout(this.resizeTimer);clearTimeout(this.hoverTimer)};b.prototype.attach=function(a){f.prototype.attach.call(this,a);this.viewModel&&(this.initialized||this.initialize(),this._addBrokenPanDetection())};b.prototype._activateMapContextMenu=
function(a){var d=this.mapDiv.getBoundingClientRect(),g=this.app.map.toScreen(a),b=d.left+g.x,d=d.top+g.y;this.app.event("MapContextMenuPointUpdatedEvent").publish(a);this.app.command("ActivateContextMenu").execute({pageX:b,pageY:d,viewId:"MapContextMenuView"})};b.prototype._addBrokenPanDetection=function(){if(/.*Trident\/([0-9]+)\..*/.test(navigator.userAgent)){var a,d;if(navigator.msPointerEnabled)a="MSPointerMove",d="MSPointerUp";else if(navigator.pointerEnabled)a="pointermove",d="pointerup";else return;
var g=this.mapDiv.childNodes[0].childNodes[0],b=this.app.map;if(void 0===b.__panning)throw Error("Missing __panning property on esri.Map");this._addEventListener(g,a,function(a){a=a||window.event;if(b.__panning&&0===a.buttons&&(void 0===a.pointerType||"mouse"===a.pointerType||4===a.pointerType)){var e=document.createEvent("HTMLEvents");e.initEvent(d,!1,!0);dojo.mixin(e,a);e.type=d;e.button=0;e.buttons=0;e.which=0;g.dispatchEvent(e)}})}};b.prototype.resize=function(){var a=this,d=this.app.map,g=this.mapDiv;
null!=d&&null!=d.extent&&(this.resizeTimer&&(clearTimeout(this.resizeTimer),this.resizeTimer=null),this.resizeTimer=setTimeout(function(){try{if(g){var b=dojo.coords(g);!0===a.isActive&&2<b.w&&2<b.h&&d.width&&d.height&&(d.resizeDelay=0,a.app.map.reposition(),a.app.site.essentialsMap.extentManager.blockForResize(b.w,b.h,!0),setTimeout(function(){},a.resizeDelay))}}catch(e){}},0))};b.prototype.initialize=function(){var a=this;if(!this.initialized&&this.viewModel&&this.root){var d=!1,g=!!Modernizr.csstransforms3d,
b=!0,e=!1;this.configuration&&this.configuration.hasOwnProperty("wrapAround180")&&(d=this.configuration.wrapAround180);this.configuration&&this.configuration.hasOwnProperty("force3DTransforms")&&(g=this.configuration.force3DTransforms);this.configuration&&this.configuration.hasOwnProperty("showAttribution")&&(b=!!this.configuration.showAttribution);this.configuration&&this.configuration.hasOwnProperty("fitTiledMapsToExtent")&&(e=!!this.configuration.fitTiledMapsToExtent);this.configuration&&this.configuration.hasOwnProperty("resizeDelay")&&
(this.resizeDelay=parseInt(this.configuration.resizeDelay));d={slider:!1,logo:!1,showAttribution:b,wrapAround180:d,force3DTransforms:g,autoResize:!1,fitExtent:e,showInfoWindowOnClick:!1};this.configuration&&this.configuration.hasOwnProperty("minScale")&&(g=parseFloat(this.configuration.minScale),isNaN(g)||(this.minScale=g,d.minScale=g));this.configuration&&this.configuration.hasOwnProperty("maxScale")&&(g=parseFloat(this.configuration.maxScale),isNaN(g)||(this.maxScale=g,d.maxScale=g));this.app.map=
new esri.Map("map",d);this.app.map._fitTiledMapsToExtent=e;this.app.map.hideZoomSlider();this.extentBroadcastFrequency=this.configuration.extentBroadcastFrequency||0;this.app.command("InitializeSite").execute(this.app.map);this.app.command("ZoomToInitialExtent").register(this,function(){a.app.command("ActivateView").execute(a.id)});this.app.command("ZoomToFullExtent").register(this,function(){a.app.command("ActivateView").execute(a.id)});this.app.event("ApplicationResizedEvent").subscribe(this,function(){this.resize()});
this.app.command("MapResize").register(this,function(){this.resize()});this.app.command("ShowMap").register(this,function(){this.app.command("ActivateView").execute(this.id)});this.app.command("EnableMapClick").register(this,function(){return a._enableMapClickEvent=!0});this.app.command("DisableMapClick").register(this,function(){return a._enableMapClickEvent=!1});this.app.event("ActiveToolChangedEvent").subscribe(this,this._toolChanged);dojo.connect(this.app.map,"onExtentChange",function(d,g,b,n){!n&&
a.app.site.essentialsMap&&(n=a._getLevelOfDetails(d));a.app.map.graphicsLayerIds.forEach(function(d){d=a.app.map.getLayer(d);var g=d.getNode();g&&g.style&&"none"===g.style.display&&d.visible&&d.visibleAtMapScale&&!d.suspended&&$(g).show()});a.app.event("MapExtentChangeEvent").publish(d,g,b,n);a._publishWithMapExtent("MapExtentChangedEvent",d,n)});dojo.connect(this.app.map,"onLayerAdd",this,this._layerAdd);dojo.connect(this.app.map,"onLayerAddResult",this,function(d,g){a.app.event("LayerAddResultEvent").publish(d,
g);a.app.event("LayerAddedWithResultEvent").publish(d,g);a._updateBingLogoPosition()});dojo.connect(this.app.map,"onLayerRemove",this,function(d){if(d){var g=a._layerEventsLookup[d.id];if(g){for(var b=0;b<g.length;b++)dojo.disconnect(g[b]);delete a._layerEventsLookup[d.id]}a.app.event("LayerRemovedEvent").publish(d);a._updateBingLogoPosition()}});dojo.connect(this.app.map,"onLayersAddResult",this,function(d){a.app.event("LayersAddedWithResultEvent").publish(d||[]);a._updateBingLogoPosition()});dojo.connect(this.app.map,
"onPanStart",function(d,g){a.app.event("MapPanStartEvent").publish(d,g);a.app.event("MapPanStartedEvent").publish(d,g)});dojo.connect(this.app.map,"onPan",function(d,g){a.app.event("MapPanEvent").publish(d,g);a._broadcastExtent(d)});dojo.connect(this.app.map,"onPanEnd",function(d,g){a.app.event("MapPanEndEvent").publish(d,g);a.app.event("MapPanEndedEvent").publish(d,g)});dojo.connect(this.app.map,"onZoomStart",function(d,g,b,n){a.app.event("MapZoomStartEvent").publish(d,g,b,n);a.app.event("MapZoomStartedEvent").publish(d,
g,b,n)});dojo.connect(this.app.map,"onZoom",function(d,g,b){a.app.event("MapZoomEvent").publish(d,g,b);a._broadcastExtent(d)});dojo.connect(this.app.map,"onZoomEnd",function(d,g,b,n){a.app.event("MapZoomEndEvent").publish(d,g,b,n);a.app.event("MapZoomEndedEvent").publish(d,g,b,n)});dojo.connect(this.app.map,"onLoad",function(d){if(a.minScale||a.maxScale){var g=a.app.map._params,b=g.lods;if(b&&b.length){var n=a.app.map.__tileInfo.lods;if(a.minScale){for(;b[0].scale<a.minScale;){var e=Math.min(a.minScale,
2*b[0].scale),h=new esri.layers.LOD;h.level=0;h.scale=e;h.resolution=b[0].resolution*e/b[0].scale;b.splice(0,0,h);n.splice(0,0,h);g.hasOwnProperty("maxZoom")&&g.maxZoom++}for(e=0;e<b.length;e++)b[e].level=e,n[e].level=e}if(a.maxScale)for(var q=b.length-1;b[q].scale>a.maxScale;)e=Math.max(a.maxScale,0.5*b[q].scale),h=new esri.layers.LOD,h.level=b[q].level+1,h.scale=e,h.resolution=b[q].resolution*e/b[q].scale,b.push(h),n.push(h),g.maxZoom=h.level,q++}}a._installZoomFix();a.resize();a.app.event("MapLoadedEvent").publish(d)});
dojo.connect(this.app.map,"onClick",function(d){a._enableMapClickEvent&&(a.app.event("MapClickEvent").publish(d),a.app.event("MapClickedEvent").publish(d))});dojo.connect(this.app.map,"onMouseDown",function(d){a.app.event("MapMouseDownEvent").publish(d)});dojo.connect(this.app.map,"onMouseUp",function(d){a.app.event("MapMouseUpEvent").publish(d)});dojo.subscribe("LayerVisibilityChange",function(d){var g=[];if(d&&0<d.length)for(var b=0;b<d.length;b++){var n=d[b];if(n&&n.mapServiceId&&n.layerId){var e=
a.app.site.essentialsMap.findMapServiceById(n.mapServiceId);if(e){var h=e.findLayerById(n.layerId);h&&g.push({layer:h,mapService:e,visibility:n.visibility})}}else a.app.trace.error(a.id+" can't find map service for layer. Either mapServiceId or layerId are not available.")}a.app.event("LayerVisibilityChangedEvent").publish(g)});dojo.subscribe("ServiceLayerInitializedEvent",function(d){a.app.event("SiteLayerLoadingEvent").publish(d)});dojo.subscribe("MapServiceVisibilityChangedEvent",function(d){d&&
(a.app.event("MapServiceVisibilityChangedEvent").publish(d.serviceLayer,d),a._updateBingLogoPosition())});dojo.subscribe("MapServiceAddedEvent",function(d){d&&a.app.event("MapServiceAddedEvent").publish(d)});dojo.subscribe("MapServiceRemovedEvent",function(d){d&&a.app.event("MapServiceRemovedEvent").publish(d)});dojo.subscribe("CatalogLayerAddedEvent",function(d){return a.app.event("CatalogLayerAddedEvent").publish(d)});dojo.subscribe("CatalogLayerRemovedEvent",function(d){return a.app.event("CatalogLayerRemovedEvent").publish(d)});
dojo.subscribe("MapServiceLayersChangedWithResultEvent",function(d){return a.app.event("MapServiceLayersChangedWithResultEvent").publish(d)});this._attachMouseHoverHandlers();this._updateBingLogoPosition();this.initialized=!0}};b.prototype._installZoomFix=function(){var a=this;this.app.map.on("zoom-start",function(d){a.app.map.layerIds.map(function(d){(d=a.app.map.getLayer(d))&&d instanceof esri.layers.DynamicMapServiceLayer&&d.updating&&(d=d._img)&&(d.style.display="none")})})};b.prototype._addEventListener=
function(a,d,g){a.addEventListener?a.addEventListener(d,g,!1):a.attachEvent&&a.attachEvent("on"+d,g)};b.prototype._removeEventListener=function(a,d,g){a.removeEventListener?a.removeEventListener(d,g,!1):a.detachEvent&&a.detachEvent("on"+d,g)};b.prototype._attachMouseHoverHandlers=function(){var a=this,d=function(d){clearTimeout(a.hoverTimer);var g={clientX:d.clientX,clientY:d.clientY};a.hoverTimer=setTimeout(function(){a.app.event("MapMouseHoverEvent").publish(g)},a._mapHoverTimeout)},g=function(d){d.explicitOriginalTarget&&
"path"==d.explicitOriginalTarget.localName||clearTimeout(a.hoverTimer)};dojo.require("dojo.aspect");dojo.aspect.after(this.app.event("MapMouseHoverEvent"),"subscribe",function(b){0>=a._mapHoverSubscriberCount++&&(a._addEventListener(a.app.map.root,"mousemove",d),a._addEventListener(a.app.map.root,"mouseout",g));return b});dojo.aspect.after(this.app.event("MapMouseHoverEvent"),"unsubscribe",function(){0>=--a._mapHoverSubscriberCount&&(a._removeEventListener(a.app.map.root,"mousemove",d),a._removeEventListener(a.app.map.root,
"mouseout",g))})};b.prototype._updateBingLogoPosition=function(){for(var a=0;this.app.map&&a<this.app.map.layerIds.length;a++){var d=this.app.map.getLayer(this.app.map.layerIds[a]);if(d.isInstanceOf(esri.virtualearth.VETiledLayer)&&d.visible){if((a=this.app.viewManager.getExistingRegionByName("BottomLeftMapRegion"))&&(a=a.activeViews)&&0<a.length){for(var g=d=0;g<a.length;g++)a[g].root.clientHeight>d&&(d=a[g].root.clientHeight);$(".bingLogo-lg").css("bottom",d)}break}}};b.prototype._broadcastExtent=
function(a){var d=null,g=null;this.extentEpoch||(this.extentEpoch=+new Date);d=+new Date;d-this.extentEpoch>this.extentBroadcastFrequency&&(this.app.site.essentialsMap&&(g=this._getLevelOfDetails(a)),this._publishWithMapLod("MapExtentChangingEvent",g),this.extentEpoch=d)};b.prototype._layerAdd=function(a){var d=this,g=this.app.site.essentialsMap.mapServices.filter(function(d){return d.serviceLayer===a});if(0!=g.length){var b=g[0];this.app.event("LayerAddEvent").publish(a,b);this.app.event("LayerAddedEvent").publish(a,
b);g=[];this._layerEventsLookup[a.id]=g;g.push(dojo.connect(a,"onUpdateStart",this,function(){d.app.event("LayerUpdateStartEvent").publish(a,b);d.app.event("LayerUpdateStartedEvent").publish(a,b)}));g.push(dojo.connect(a,"onUpdateEnd",this,function(){d.app.event("LayerUpdateEndEvent").publish(a,b);d.app.event("LayerUpdateEndedEvent").publish(a,b)}));g.push(dojo.connect(a,"onVisibilityChange",this,function(){d.app.event("MapServiceVisibilityChangedEvent").publish(a,b);d._updateBingLogoPosition()}));
this._updateBingLogoPosition()}};b.prototype._getLevelOfDetails=function(a){var d={scale:this.app.site.essentialsMap.calculateScale()};a&&this.app.map&&0<this.app.map.width&&(d.resolution=a.getWidth()/this.app.map.width);return d};b.prototype._publishWithMapLod=function(a,d){var g=null;d&&(g=new e.essentialsHtmlViewer.mapping.infrastructure.eventArgs.MapExtentEventArgs,g.currentScale=d.scale,g.currentResolution=d.resolution);this.app.event(a).publish(g)};b.prototype._publishWithMapExtent=function(a,
d,g){var b=null;g&&(b=new e.essentialsHtmlViewer.mapping.infrastructure.eventArgs.MapExtentEventArgs,b.currentScale=g.scale,b.currentResolution=g.resolution);this.app.event(a).publish(d,b)};b.prototype._toolChanged=function(a){a.tool&&this.app.command("ActivateView").execute(this.id)};return b}(e.framework.ui.ViewBase);f.MapView=k})(f.map||(f.map={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(){function h(b,a,d){this._mapLoadedEventToken=null;this._previousExtentArray=[];this._nextExtentArray=[];this._currentExtent=null;this._prevNextExtentCommandInProgress=this._pauseRecordExtentChange=!1;this._disableExtentChangeTimeoutId=null;this._maxLogEntries=100;this._extentChangeRecordDelayMs=500;this.app=b;this.libraryId=a;if(this._maxLogEntries=void 0!=d?d:this._maxLogEntries)this._mapLoadedEventToken=this.app.event("MapLoadedEvent").subscribe(this,
this._onMapLoaded)}h.prototype._onMapLoaded=function(){this.app.event("MapLoadedEvent").unsubscribe(this._mapLoadedEventToken);this.app.map.on("extent-change",dojo.hitch(this,this._recordExtentChange));this.app.map.on("resize",dojo.hitch(this,this._onMapResized));this._registerCommands()};h.prototype._onMapResized=function(){this._pauseRecordExtentChangeOperation()};h.prototype._registerCommands=function(){this.app.command("ZoomToPreviousExtent").register(this,this._executeZoomToPreviousExtent,this._canExecuteZoomToPreviousExtent);
this.app.command("ZoomToNextExtent").register(this,this._executeZoomToNextExtent,this._canExecuteZoomToNextExtent)};h.prototype._canExecuteZoomToPreviousExtent=function(){return!this._prevNextExtentCommandInProgress&&0!==this._previousExtentArray.length};h.prototype._canExecuteZoomToNextExtent=function(){return!this._prevNextExtentCommandInProgress&&0!==this._nextExtentArray.length};h.prototype._executeZoomToPreviousExtent=function(){if(this._previousExtentArray.length){var b=this._previousExtentArray.pop();
this._prevNextExtentCommandInProgress=!0;this._addExtentConditionally(this._nextExtentArray,this._currentExtent);this._currentExtent=b;e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtent(this.app,this._currentExtent,!0);this._zoomToPrevNextExtentCanExecuteChanged()}};h.prototype._executeZoomToNextExtent=function(){if(this._nextExtentArray.length){var b=this._nextExtentArray.pop();this._prevNextExtentCommandInProgress=!0;this._addExtentConditionally(this._previousExtentArray,this._currentExtent);
this._currentExtent=b;e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtent(this.app,this._currentExtent,!0);this._zoomToPrevNextExtentCanExecuteChanged()}};h.prototype._recordExtentChange=function(b){this._pauseRecordExtentChange||this._prevNextExtentCommandInProgress||(this._currentExtent&&this._addExtentConditionally(this._previousExtentArray,this._currentExtent),this._nextExtentArray=[]);this._currentExtent=b.extent;this._pauseRecordExtentChangeOperation(this._extentChangeRecordDelayMs);
this._prevNextExtentCommandInProgress=!1;this._zoomToPrevNextExtentCanExecuteChanged()};h.prototype._numLogEntries=function(){return this._previousExtentArray.length+this._nextExtentArray.length};h.prototype._addExtentConditionally=function(b,a){var d=this._numLogEntries();this._isValidExtentObject(a)?(d>=this._maxLogEntries&&b.length&&b.shift(),(!b.length||b.length&&!this._extentsEqual(b[b.length-1],a))&&b.push(new esri.geometry.Extent(a.toJson()))):this.app.trace.error("MapExtentLog: Invalid extent specified. Could not add to extent log")};
h.prototype._pauseRecordExtentChangeOperation=function(b){var a=this;this._disableExtentChangeTimeoutId&&(clearTimeout(this._disableExtentChangeTimeoutId),this._disableExtentChangeTimeoutId=null);this._pauseRecordExtentChange=!0;void 0!=b&&(this._disableExtentChangeTimeoutId=setTimeout(function(){a._pauseRecordExtentChange=!1},b))};h.prototype._extentsEqual=function(b,a){return b&&a&&b.spatialReference&&a.spatialReference&&b.xmin===a.xmin&&b.xmax===a.xmax&&b.ymin===a.ymin&&b.ymax===a.ymax&&e.essentials.GeometryUtilities.spatialRefsAreEqual(b.spatialReference,
a.spatialReference,!1)};h.prototype._isValidExtentObject=function(b){return b&&b instanceof esri.geometry.Extent?!0:b&&"number"===typeof parseFloat(b.xmin)&&"number"===typeof parseFloat(b.xmax)&&"number"===typeof parseFloat(b.ymin)&&"number"===typeof parseFloat(b.ymax)&&b.spatialReference&&(b.spatialReference.wkid&&"number"===typeof parseInt(b.spatialReference.wkid,10)||b.spatialReference.wkt)};h.prototype._zoomToPrevNextExtentCanExecuteChanged=function(){this.app.command("ZoomToPreviousExtent").raiseCanExecuteChanged();
this.app.command("ZoomToNextExtent").raiseCanExecuteChanged()};return h}();h.MapExtentLog=f})(h.map||(h.map={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(h){function b(){h.apply(this,arguments);this._additionalLayers=null;this._defaultHighlightLayerName="defaultHighlightLayer";this._isInitialized=!1}__extends(b,h);b.prototype.initialize=function(a){h.prototype.initialize.call(this,a);a.borderColor&&this.app.highlightManager.setHighlightBorderColor(a.borderColor);a.fillColor&&this.app.highlightManager.setHighlightFillColor(a.fillColor);a.additionalLayers&&(this._additionalLayers=
a.additionalLayers);this.app.command("CreateHighlightLayer").register(this,this._createHighlightLayer,this._canCreateHighlightLayer);this.app.command("SetActiveHighlightLayer").register(this,this._setActiveHighlightLayer,this._canSetActiveHighlightLayer);this.app.command("SetActiveHighlightLayerDefault").register(this,this._setActiveHighlightLayerDefault,this._canSetActiveHighlightLayerDefault);this.app.command("HighlightEsriFeatureSet").register(this,this._highlightEsriFeatureSet,this._canHighlightEsriFeatureSet);
this.app.command("SetHighlightBorderColor").register(this,this._setHighlightBorderColor);this.app.command("SetHighlightFillColor").register(this,this._setHighlightFillColor);this.app.command("RemoveHighlightLayer").register(this,this._removeHighlightLayer,this._canRemoveHighlightLayer);this.app.command("ClearHighlights").register(this,this._clearHighlights,this._canClearHighlights);this.app.command("HighlightFeatureSet").register(this,this._highlightFeatureSet,this._canHighlightFeatureSet);this.app.command("HighlightFeature").register(this,
this._highlightFeature,this._canHighlightFeature);this.app.command("HighlightFeatureDefault").register(this,this._highlightFeatureDefault,this._canHighlightFeatureDefault);this.app.command("ClearDefaultHighlights").register(this,this._clearHighlightsDefault);this.app.command("HighlightFeatureSetTestHarness").register(this,function(a){a=this.app.featureSetManager.getCollectionById(a).featureSets;a.bind(this,function(a){if("append"===a.type)for(var d=a.rangeStart;d<a.rangeEnd+1;d++)this.app.command("HighlightFeatureSet").execute(a.sender.getAt(d))});
for(var g=0;g<a.length;g++)this.app.command("HighlightFeatureSet").execute(a[g])});this.app.command("HighlightFeatureTestHarness").register(this,function(a){var g=this.app.featureSetManager.getCollectionById(a);if(a=g.firstFeature())this.app.command("HighlightFeature").execute(a);else var b=g.featureSets.bind(this,function(a){if(a=g.firstFeature())g.featureSets.unbind(b),this.app.command("HighlightFeature").execute(a)})});this._layersReady()?this._initializeDefaultHighlights():this.app.event("SiteServiceLayersLoaded").subscribe(this,
this._initializeDefaultHighlights)};b.prototype.getStateFilter=function(){var a=this;return{highlightLayers:function(d){var g={},b=0;for(d=Object.keys(d);b<d.length;b++)g[d[b]]=a.app.project.filter.operationalLayer;return g},activeHighlightLayerName:!0,highlights:{item:{feature:this.app.project.filter.feature,highlightLayer:this.app.project.filter.operationalLayer}}}};b.prototype.exportState=function(){return this.app.highlightManager.exportState()};b.prototype.applyState=function(a){return this.app.highlightManager.applyState(a)};
b.prototype._layersReady=function(){if(this.app.site&&this.app.site.essentialsMap&&this.app.site.essentialsMap.mapServices){for(var a=this.app.site.essentialsMap.mapServices,d=0;d<a.length;d++)if(!a[d].serviceLayer.loaded)return!1;return!0}return!1};b.prototype._initializeDefaultHighlights=function(){this.app.highlightManager._defaultHighlightLayerName=this._defaultHighlightLayerName;this.app.highlightManager.createHighlightLayer(this._defaultHighlightLayerName);if(this._additionalLayers)for(var a=
0;a<this._additionalLayers.length;a++){var d=this._additionalLayers[a];this.app.highlightManager.createHighlightLayer(d.name,d.hasOwnProperty("fillColor")?d.fillColor:void 0,d.hasOwnProperty("borderColor")?d.borderColor:void 0)}this._setActiveHighlightLayerDefault();this._isInitialized=!0;d="CreateHighlightLayer SetActiveHighlightLayer SetActiveHighlightLayerDefault HighlightEsriFeatureSet RemoveHighlightLayer ClearHighlights HighlightFeatureSet HighlightFeature".split(" ");for(a=0;a<d.length;a++)this.app.command(d[a]).raiseCanExecuteChanged()};
b.prototype._canCreateHighlightLayer=function(a){return this._isInitialized&&!this.app.project.isLoading&&!this.app.highlightManager.getHighlightLayer(a)};b.prototype._createHighlightLayer=function(a,d,g){this.app.highlightManager.createHighlightLayer(a,d,g)};b.prototype._canSetActiveHighlightLayer=function(a){return this._isInitialized&&!this.app.project.isLoading&&!!this.app.highlightManager.getHighlightLayer(a)};b.prototype._setActiveHighlightLayer=function(a){this.app.highlightManager.setActiveHighlightLayer(a)};
b.prototype._canSetActiveHighlightLayerDefault=function(){return this._isInitialized&&!this.app.project.isLoading&&!!this.app.highlightManager.getHighlightLayer(this.app.highlightManager._defaultHighlightLayerName)};b.prototype._setActiveHighlightLayerDefault=function(){this.app.highlightManager.setActiveHighlightLayer(this.app.highlightManager._defaultHighlightLayerName)};b.prototype._canHighlightEsriFeatureSet=function(a){return this._isInitialized&&!this.app.project.isLoading&&a&&a instanceof esri.tasks.FeatureSet?
!0:!1};b.prototype._highlightEsriFeatureSet=function(a){this.app.highlightManager.highlightEsriFeatureSet(a)};b.prototype._setHighlightBorderColor=function(a){this.app.highlightManager.setHighlightBorderColor(a)};b.prototype._setHighlightFillColor=function(a){this.app.highlightManager.setHighlightFillColor(a)};b.prototype._canRemoveHighlightLayer=function(a){return this._isInitialized&&!this.app.project.isLoading&&!!this.app.highlightManager.getHighlightLayer(a)};b.prototype._removeHighlightLayer=
function(a){this.app.highlightManager.removeHighlightLayer(a)};b.prototype._clearHighlights=function(){this.app.highlightManager.clearHighlights()};b.prototype._canClearHighlights=function(){return this._isInitialized&&!this.app.project.isLoading};b.prototype._clearHighlightsDefault=function(){this.app.highlightManager.clearHighlights(this._defaultHighlightLayerName)};b.prototype._canHighlightFeatureSet=function(a){return this._isInitialized&&!this.app.project.isLoading&&a&&0<a.features.getLength()};
b.prototype._highlightFeatureSet=function(a){this.app.highlightManager.highlightFeatures(a.features.get())};b.prototype._featureInHighlights=function(a,d){if(a&&a.esriFeature&&a.esriFeature.get()&&a.esriFeature.get().geometry){a=new e.essentialsHtmlViewer.mapping.infrastructure.Feature({graphic:a.esriFeature.get()});var g=d.apply(this.app.highlightManager);if(g)for(var b=0;b<g.length;b++){var h=new e.essentialsHtmlViewer.mapping.infrastructure.Feature({graphic:g[b]});if(a.equals(h))return!1}return!0}return!1};
b.prototype._canHighlightFeature=function(a){return this._isInitialized&&!this.app.project.isLoading&&this._featureInHighlights(a,this.app.highlightManager.activeHighlightLayerGraphics)};b.prototype._canHighlightFeatureDefault=function(a){return this._isInitialized&&!this.app.project.isLoading&&this._featureInHighlights(a,this.app.highlightManager.defaultHighlightLayerGraphics)};b.prototype._highlightFeature=function(a){this.app.highlightManager.highlightFeatures([a])};b.prototype._highlightFeatureDefault=
function(a){this._clearHighlightsDefault();this.app.highlightManager.highlightFeatures([a],this.app.highlightManager._defaultHighlightLayerName)};return b}(e.framework.application.ModuleBase);h.HighlightModule=f})(h.Highlight||(h.Highlight={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(f){function b(){f.apply(this,arguments);this._identifyTask=null;this.defaultPixelTolerance=5;this.defaultPolygonPixelTolerance=2;this._layersInVisibleScaleRangeOnly=this._visibleLayersOnly=this._returnGeometry=this._topMostLayerOnly=this._polygonPixelTolerance=this._pixelTolerance=null}__extends(b,f);b.prototype.initialize=function(a){f.prototype.initialize.call(this,a);null!=a.pixelTolerance&&(this._pixelTolerance=a.pixelTolerance);
null!=a.polygonPixelTolerance&&(this._polygonPixelTolerance=a.polygonPixelTolerance);null!=a.visibleLayersOnly&&(this._visibleLayersOnly=!!a.visibleLayersOnly);null!=a.layersInVisibleScaleRangeOnly&&(this._layersInVisibleScaleRangeOnly=!!a.layersInVisibleScaleRangeOnly);null!=a.topMostLayerOnly&&(this._topMostLayerOnly=!!a.topMostLayerOnly);null!=a.returnGeometry&&(this._returnGeometry=!!a.returnGeometry)};b.prototype.search=function(a,d){var g=this,b=null;if(d.delayFSCOpen)var e=a.id,f=!1,b=function(){f||
(f=!0,g.app.featureSetManager.openCollection(e))};else this.app.featureSetManager.openCollection(a.id);this._identifyTask=new h.MapIdentifyTask(this.app.map,this.app);this._identifyTask.tag=a;this._identifyTask.pixelTolerance=null!=this._pixelTolerance?this._pixelTolerance:d.pixelTolerance;this._identifyTask.polygonPixelTolerance=null!=this._polygonPixelTolerance?this._polygonPixelTolerance:d.polygonPixelTolerance;this._identifyTask.topMostLayerOnly=null!=this._topMostLayerOnly?this._topMostLayerOnly:
!!d.topMostLayerOnly;this._identifyTask.returnGeometry=null!=this._returnGeometry?this._returnGeometry:!!d.returnGeometry;this._identifyTask.layersInVisibleScaleRangeOnly=null!=this._layersInVisibleScaleRangeOnly?this._layersInVisibleScaleRangeOnly:!!d.layersInVisibleScaleRangeOnly;this._identifyTask.restrictRasterIdentifyToPoint=!!d.restrictRasterIdentifyToPoint;d.identifiableLayerInfo&&(this._identifyTask.mapServicesAndLayersToIdentify=d.identifiableLayerInfo);isNaN(this._identifyTask.pixelTolerance)&&
(this._identifyTask.pixelTolerance=this.defaultPixelTolerance);isNaN(this._identifyTask.polygonPixelTolerance)&&(this._identifyTask.polygonPixelTolerance=this.defaultPolygonPixelTolerance);d.extent&&(this._identifyTask.extent=d.extent);d.width&&(this._identifyTask.width=d.width);d.height&&(this._identifyTask.height=d.height);null!==d.visibleLayersOnly&&(this._identifyTask.visibleLayersOnly=d.visibleLayersOnly);null!==d.visibleMapServicesOnly&&(this._identifyTask.visibleMapServicesOnly=d.visibleMapServicesOnly);
d.layerRestriction&&(this._identifyTask.layerRestriction=d.layerRestriction);b&&(this._identifyTask.delayedFSCOpen=b);setTimeout(function(){g._identifyTask.execute(d.geometry,function(a,d,b){g.identifyTaskProgress(a,d,b)},function(a){g.identifyTaskComplete(a)},function(a,d,b){g.identifyTaskError(a,d,b)})},0)};b.prototype.identifyTaskProgress=function(a,d,g){e.essentialsHtmlViewer.mapping.modules.identify.IdentifyUtils.appendToFeatureSetCollection(d,a.tag,g,this.app)};b.prototype.identifyTaskComplete=
function(a){this.app.featureSetManager.tryCloseCollection(a.tag.id)};b.prototype.identifyTaskError=function(a,d,g){this.app.featureSetManager.tryCloseCollection(a.tag.id);a=this.getResource("language-identify-error-message",null).format(d.message,d.details);this.app.command("Alert").execute(a);g&&this.app.trace.error("Error performing identify operation on service {0}. Message: {1}. Error details: {2}.".format(g.serviceLayer.url,d.message,d.details))};b.prototype.cancelSearch=function(){this._identifyTask&&
this._identifyTask.cancel()};return b}(e.essentialsHtmlViewer.mapping.infrastructure.identify.IdentifyProviderBase);h.MapIdentifyTaskIdentifyProvider=f})(h.identify||(h.identify={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this.userInitiatedDA=!1}__extends(b,e);b.prototype.attach=function(a){e.prototype.attach.call(this,a);this.title.set(a.alertTitle);if(this.okButtonElement)try{this.okButtonElement.focus()}catch(d){}this.viewContainerViewClosedEventToken||(this.viewContainerViewClosedEventToken=this.app.event("ViewContainerViewClosedEvent").subscribe(this,function(a){a&&a.viewId==this.id&&this._deactivateForUser()}))};
b.prototype.destroyBindings=function(){e.prototype.destroyBindings.call(this);this.viewContainerViewClosedEventToken&&(this.app.event("ViewContainerViewClosedEvent").unsubscribe(this.viewContainerViewClosedEventToken),this.viewContainerViewClosedEventToken=null)};b.prototype.handleClickOk=function(a,d,g){this._deactivateForUser();return!1};b.prototype._deactivateForUser=function(){this.userInitiatedDA=!0;this.app.viewManager.deactivateView(this);this.app.viewManager.destroyView(this);this.viewModel.callback&&
this.userInitiatedDA&&this.viewModel.callback()};return b}(e.framework.ui.ViewBase);h.AlertView=f})(h.alert||(h.alert={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this.alertRegion="ModalWindowRegion";this.overrideNativeAlert=!0;this.nativeImplementation=null}__extends(b,e);b.prototype.initialize=function(a){var d=this;e.prototype.initialize.call(this,a);this.nativeImplementation=window.alert;this.alertRegion=a.alertRegion;this.overrideNativeAlert=a.overrideNativeAlert;var g=function(a,g,b){if(b)try{var e=d.app.viewManager.createView({type:"geocortex.essentialsHtmlViewer.mapping.modules.alert.AlertView",
markup:"Mapping/modules/Alert/AlertView.html",visible:!0,region:d.alertRegion,libraryId:d.libraryId});g||(g=d.app.getResource(d.libraryId,"language-alert-default-title"));b={alertTitle:g,alertBody:a,callback:b,isOpen:!0,pending:[]};e.title.set(g);e.attach(b);d.app.viewManager.activateView(e);d.app.command("ScreenReaderNarrate").execute(a)}catch(h){d.app.trace.error("Error: Could not display alert: "+h)}else try{d.nativeImplementation.apply(window,[a])}catch(f){d.nativeImplementation(a)}};this.overrideNativeAlert&&
(window.alert=g);this.app.command("Alert").register(this,function(a,d,b){b||(b=function(){});g(a,d,b)})};return b}(e.framework.application.ModuleBase);h.AlertModule=f})(h.alert||(h.alert={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this.userCanceled=this.userHasClicked=!1}__extends(b,e);b.prototype.attach=function(a){e.prototype.attach.call(this,a);this.title.set(a.title);if(this.cancelButtonElement)try{this.cancelButtonElement.focus()}catch(d){}this.viewContainerViewClosedEventToken||(this.viewContainerViewClosedEventToken=this.app.event("ViewContainerViewClosedEvent").subscribe(this,function(a){a&&a.viewId===
this.id&&this._deactivateForUser(!0)}))};b.prototype.destroyBindings=function(){e.prototype.destroyBindings.call(this);this.viewContainerViewClosedEventToken&&(this.app.event("ViewContainerViewClosedEvent").unsubscribe(this.viewContainerViewClosedEventToken),this.viewContainerViewClosedEventToken=null)};b.prototype.handleClickOk=function(a,d,g){this._deactivateForUser(!1);return!1};b.prototype.handleClickCancel=function(a,d,g){this._deactivateForUser(!0);return!1};b.prototype._deactivateForUser=function(a){this.userCanceled=
a;this.userHasClicked=!0;this.app.viewManager.deactivateView(this);this.app.viewManager.destroyView(this);this.userHasClicked&&this.viewModel&&this.viewModel.callback&&this.viewModel.callback(!this.userCanceled)};return b}(e.framework.ui.ViewBase);h.ConfirmView=f})(h.confirm||(h.confirm={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this.confirmRegion="ModalWindowRegion";this.nativeImplementation=null;this.overrideNativeConfirm=!1}__extends(b,e);b.prototype.initialize=function(a){var d=this;e.prototype.initialize.call(this,a);this.nativeImplementation=window.confirm;this.confirmRegion=a.confirmRegion;this.overrideNativeConfirm=a.overrideNativeConfirm;var g=function(a,g,b,e){if(!b)return d.nativeImplementation.apply(window,
[a]);e=e||{};e.okLabel=e.okLabel||d.app.getResource(d.libraryId,"language-common-ok");e.cancelLabel=e.cancelLabel||d.app.getResource(d.libraryId,"language-common-cancel");try{var h=d.app.viewManager.createView({type:"geocortex.essentialsHtmlViewer.mapping.modules.confirm.ConfirmView",markup:"Mapping/modules/Confirm/ConfirmView.html",visible:!0,region:d.confirmRegion,libraryId:d.libraryId});g||(g=d.app.getResource(d.libraryId,"language-confirm-default-title"));var f={title:g,confirmBody:a,callback:b,
isOpen:!0,pending:[],okLabel:e.okLabel,cancelLabel:e.cancelLabel};h.title.set(g);h.attach(f);d.app.viewManager.activateView(h)}catch(m){d.app.trace.error("Error: Could not display confirm: "+m)}};this.overrideNativeConfirm&&(window.confirm=g);this.app.command("Confirm").register(this,function(a,d,b,e){d||(d=this.app.getResource(this.libraryId,"language-confirm-default-title"));b||(b=function(){});g(a,d,b,e)})};return b}(e.framework.application.ModuleBase);h.ConfirmModule=f})(h.confirm||(h.confirm=
{}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);return b}(e.framework.application.ModuleBase);h.LogModule=f})(h.log||(h.log={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this.logEntries=new ObservableCollection;this.isVisible=new Observable(!1);this.logToConsole=!0}__extends(b,e);b.prototype.initialize=function(a){this.logToConsole=a.logToConsole||!0;this.app.event("TraceEvent").subscribe(this,this._onTraceEvent);a=dojo.getObject(a.version||"geocortex.essentialsHtmlViewer.version");this.app.trace.info("Version {0}. {1}".format(a,this.app.locale));
this.app.trace.info("Esri JavaScript API version {0}.".format(esri.version))};b.prototype._onTraceEvent=function(a){var d=a.timestamp,d="{0}:{1}:{2}.{3}".format(this._padDigits(d.getHours(),2),this._padDigits(d.getMinutes(),2),this._padDigits(d.getSeconds(),2),this._padDigits(d.getMilliseconds(),3));a.timestamp=d;a.cssClass="trace "+a.level;this.logEntries.addItem(a)};b.prototype._padDigits=function(a,d,g){null==g&&(g=!0);a=a.toString();var b="";if(d>a.length)for(var e=0;e<d-a.length;e++)b+="0";return g?
b.toString()+a:a+b.toString()};return b}(e.framework.ui.ViewModelBase);h.LogViewModel=f})(h.log||(h.log={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(a,d){var g=this;e.call(this,a,d);this.isActive=!1;this.app.command("ToggleLogView").register(this,function(){g.isActive?g.app.command("DeactivateView").execute(g.id):g.app.command("ActivateView").execute(g.id)});this.app.command("ShowLog").register(this,function(a){a?g.app.command("ActivateView").execute(g.id):g.app.command("DeactivateView").execute(g.id)});this.app.command("HideLog").register(this,function(){g.app.command("DeactivateView").execute(g.id)})}
__extends(b,e);b.prototype.handleClickClear=function(a,d,g){this.viewModel.logEntries.clear();this._deactivateView()};b.prototype.handleClickHide=function(a,d,g){this._deactivateView()};b.prototype._deactivateView=function(){this.app.command("DeactivateView").execute(this.id);this.app.event("ToolbarViewTilePressedEvent").publish("IWantToMenuView")};return b}(e.framework.ui.ViewBase);h.LogView=f})(h.log||(h.log={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.handleClick=function(a,d,g){this.app.command("ToggleLogView").execute()};return b}(e.framework.ui.ViewBase);h.LogStatusView=f})(h.log||(h.log={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(e){function b(){e.apply(this,arguments);this._longPressTimer=null;this._pressLengthMs=1500}__extends(b,e);b.prototype.activated=function(){e.prototype.activated.call(this)};b.prototype.attach=function(a){a&&(e.prototype.attach.call(this,a),this.initialize())};b.prototype.initialize=function(){this.viewModel&&!this.viewModel.viewInitialized.get()&&this.root&&(this.title.set(this.app.getResource(this.libraryId,"language-layerlist-title")),
this.app.viewManager.notifyDimensionsChanged(this),this.registerCommands(),this.viewModel.viewInitialized.set(!0))};b.prototype.registerCommands=function(){var a=this,d=function(){a.app.command("ActivateView").execute(a.id)};this.app.command("ShowLayerList").register(this,d);this.app.command("SwitchToLayerView").register(this,d)};b.prototype.resolveWidget=function(a,d,g){e.prototype.resolveWidget.call(this,a,d);switch(a){case "TransparencySlider":if(!d||!d.opacity)return null;a=this.app.viewManager.createView({markup:"Mapping/modules/LayerList/Widgets/TransparencySliderView.html",
type:"geocortex.essentialsHtmlViewer.mapping.modules.layerList.TransparencySliderView",visible:!0,libraryId:this.libraryId,app:this.app});a.attach(d);return a;case "LayerListActionsWidget":return this.app.menuRegistry.createMenuWidget(this,d,g);default:return this.app.trace.warning("LayerListView: Unknown Widget"),null}};b.prototype.handleExpanderClick=function(a,d,g){g.isExpanded.set(!g.isExpanded.get())};b.prototype.handleLegendExpanderClick=function(a,d,g){return g.legendItems&&1<g.legendItems.length()?
(g.expandLegend.set(!g.expandLegend.get()),!1):!0};b.prototype.setItemVisibility=function(a,d,g){if(!g)return!1;g.setItemVisibility(void 0!=d.checked?d.checked:d.status);if(g.type===h.infrastructure.layerList.LayerListItemType.FOLDER)this.app.event("FolderClickedEvent").publish(g);else if(g.type===h.infrastructure.layerList.LayerListItemType.MAPSERVICE)this.app.event("MapServiceClickedEvent").publish(g);else if(g.type===h.infrastructure.layerList.LayerListItemType.LAYER||g.type===h.infrastructure.layerList.LayerListItemType.GRAPHICSLAYER)this.app.event("LayerClickedEvent").publish(g),
this.app.event("LayerPressedEvent").publish(g);return!0};b.prototype.setItemVisibilityExclusive=function(a,d,g){if(!g)return!1;g.setItemVisibility(!0);a=g.getSiblings(!1);for(d=0;d<a.length;d++){var b=a[d];b.radioGroup.get()===g.radioGroup.get()&&b.isVisible.set(!1)}if(g.type===h.infrastructure.layerList.LayerListItemType.FOLDER)this.app.eventRegistry.event("FolderClickedEvent").publish(g);else if(g.type===h.infrastructure.layerList.LayerListItemType.MAPSERVICE)this.app.eventRegistry.event("MapServiceClickedEvent").publish(g);
else if(g.type===h.infrastructure.layerList.LayerListItemType.LAYER||g.type===h.infrastructure.layerList.LayerListItemType.GRAPHICSLAYER)this.app.eventRegistry.event("LayerClickedEvent").publish(g),this.app.eventRegistry.event("LayerPressedEvent").publish(g);return!0};b.prototype.handleClickShowLegend=function(){this.app.command("SwitchToLegendView").execute()};b.prototype.handleOpacityChanged=function(a,d,g){g.opacity.set(parseFloat(d.value))};b.prototype.handleLayerActions=function(a,d,g){if(g){var b;
switch(g.type){case h.infrastructure.layerList.LayerListItemType.LAYER:case h.infrastructure.layerList.LayerListItemType.GRAPHICSLAYER:b=g.layer.gcxLayer}b&&this.app.command("ShowLayerActions").execute(b)}};b.prototype.handleTouchStart=function(a,d,g){this._beginLongPress(g);return!0};b.prototype.handleMouseDown=function(a,d,g){this._beginLongPress(g);return!0};b.prototype.handleTouchEnd=function(){this._cancelLongPress();return!0};b.prototype.handleMouseUp=function(){this._cancelLongPress();return!0};
b.prototype._beginLongPress=function(a){var d=this;this._longPressTimer&&clearTimeout(this._longPressTimer);this._longPressTimer=setTimeout(function(){d.app.event("LayerLongPressedEvent").publish(a)},this._pressLengthMs)};b.prototype._cancelLongPress=function(){this._longPressTimer&&(clearTimeout(this._longPressTimer),this._longPressTimer=null)};return b}(e.framework.ui.ViewBase);f.LayerListView=k})(f.layerList||(f.layerList={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(f){function b(){f.apply(this,arguments);this.providerViewModelList=[];this.providerViewList=[];this._defaultViewMode=this._currentFeature=this._providerConfig=null;this._viewModes={}}__extends(b,f);b.prototype.initialize=function(a){f.prototype.initialize.call(this,a);this._processConfig(a);this.registerCommands()};b.prototype.getStateFilter=function(){return{currentFeature:this.app.project.filter.feature,viewMode:!0}};
b.prototype.exportState=function(){var a=this;return Promise["try"](function(){var d=a.app.viewManager.getViewById(a._viewModes[a._defaultViewMode].viewId);return{currentFeature:d&&d.isActive?a.app.project.convert.fromGcxFeature(a._currentFeature):null,viewMode:a._defaultViewMode}})};b.prototype.applyState=function(a){var d=this;return this.app.project.convert.toGcxFeature(a.currentFeature)["catch"](function(a){return null}).then(function(g){var b=a.viewMode;d._viewModes[b]||(b=d._defaultViewMode);
d._executeSetFeatureDetailsMode({viewMode:b,feature:g})})};b.prototype._processConfig=function(a){if(a){if(a.viewModes)for(var d in a.viewModes)a.viewModes.hasOwnProperty(d)&&(a.viewModes[d].viewId&&a.viewModes[d].defaultProviderTargetRegion?(a.defaultViewMode||(a.defaultViewMode=d.toLowerCase()),this._viewModes[d.toLowerCase()]=a.viewModes[d]):this.app.trace.warning("FeatureDetailsModule: Error loading view mode - viewId or defaultProviderTargetRegion not specified. Please check your configuration"));
this._defaultViewMode=a.defaultViewMode;this._defaultViewMode?a.providers&&(this._providerConfig=a.providers):this.app.trace.error("FeatureDetailsModule: Could not compute default view mode. Please check your configuration settings")}};b.prototype.registerCommands=function(){var a=this;this.app.command("ShowFirstFeatureFromCollection").register(this,function(d){var g=null;!d&&a._currentFeature?a.app.command("ShowFeatureDetails").execute(a._currentFeature):"string"===typeof d?g=a.app.featureSetManager.getCollectionById(d):
d instanceof h.infrastructure.FeatureSetCollection?g=d:a.app.trace.error("No FeatureSetCollection or ID given");g?(d=g.firstFeature())?a.app.command("ShowFeatureDetails").execute(d):a.app.trace.error("No feature in FeatureSetCollection"):a.app.trace.error("No FeatureSetColection found.")});this.app.command("ShowFeatureDetails").register(this,function(d){!d&&a._currentFeature&&(d=a._currentFeature);d?"string"===typeof d?a.app.command("ShowFirstFeatureFromCollection").execute(d):(a.app.command("_updateFeatureDetailViewModels").execute(d),
a._processFeatureDetails(d)):a.app.trace.error("ShowFeatureDetails: Could not execute command. No feature found.")});this.app.command("HideFeatureDetails").register(this,this._deactivateFeatureDetailsView);this.app.command("GetFeatureDetailsProviders").register(this,this._processFeatureDetails);this.app.command("ShowFeatureDetailsCompact").register(this,function(d){a._executeSetFeatureDetailsMode({viewMode:"compact",feature:d});a.app.command("ShowFeatureDetailsExpanded").raiseCanExecuteChanged()},
function(d){return a._canExecuteSetFeatureDetailsMode({viewMode:"compact",feature:d})});this.app.command("ShowFeatureDetailsExpanded").register(this,function(d){a._executeSetFeatureDetailsMode({viewMode:"expanded",feature:d});a.app.command("ShowFeatureDetailsCompact").raiseCanExecuteChanged()},function(d){return a._canExecuteSetFeatureDetailsMode({viewMode:"expanded",feature:d})});this.app.command("SetFeatureDetailsMode").register(this,this._executeSetFeatureDetailsMode,this._canExecuteSetFeatureDetailsMode);
this.app.command("GetRelatedFeatures").register(this,this._executeGetRelatedFeatures)};b.prototype._executeSetFeatureDetailsMode=function(a){this._defaultViewMode="string"===typeof a?a:a.viewMode;this._getViewModeConfigParams(this._defaultViewMode);"string"!==typeof a&&a.feature&&a.feature!==this._currentFeature&&(this.app.command("_updateFeatureDetailViewModels").execute(a.feature),this._processFeatureDetails(a.feature));this._activateFeatureDetailsView(this._currentFeature)};b.prototype._canExecuteSetFeatureDetailsMode=
function(a){var d=this._getViewModeConfigParams("string"===typeof a?a:a.viewMode);if(d)var g=this.app.viewManager.getViewById(d.viewId);return(a=a.feature)&&a!==this._currentFeature?!!g&&!!d.defaultProviderTargetRegion:!!g&&!g.isActive&&!!d.defaultProviderTargetRegion&&!(!a&&!this._currentFeature)};b.prototype.updateFeature=function(a){a&&a!==this._currentFeature&&(this._currentFeature=a,this.providerViewModelList.forEach(function(d){return d.currentFeature.set(a)}),this.app.project.isLoading||this.app.event("FeatureDetailsCurrentFeatureChanged").publish(a))};
b.prototype._processFeatureDetails=function(a){var d=this,g=function(){d._loadProviders(d._providerConfig);d.updateFeature(a);d._activateFeatureDetailsView(a);d.app.event("FeatureDetailsInvokedEvent").publish(a)};if(this.app.allLibrariesLoaded)g();else this.app.event("ViewerLibrariesDownloadedEvent").once(this,g)};b.prototype._activateFeatureDetailsView=function(a){if(a){if(!this.app.project.isLoading)for(var d in this._viewModes)if(this._viewModes.hasOwnProperty(d))if(a=this._viewModes[d].viewId,
d===this._defaultViewMode)this.app.command("ActivateView").execute(a);else{var g=this.app.viewManager.getViewById(a);g&&g.isActive&&this.app.command("DeactivateView").execute(a)}this._setProviderTargetRegions(this._defaultViewMode)}};b.prototype._deactivateFeatureDetailsView=function(){var a=this._getViewModeConfigParams(this._defaultViewMode);a&&this.app.command("DeactivateView").execute(a.viewId)};b.prototype._loadProviders=function(a){var d=this;if(!(0<this.providerViewModelList.length)){var g=
function(a,g){g.forEach(function(a){d._wireUpViewBindings(a);d.providerViewList.push(a)});d._setProviderTargetRegions(d._defaultViewMode)};a.forEach(function(a){if(!1!==a.enabled){var b=dojo.getObject(a.type);if(b){var e=new b(d.app,a.libraryId||d.libraryId),b=d._getProviderViewModeRegionConfig(a);e.app=d.app;e.libraryId=a.libraryId||d.libraryId;e.initialize(a.config);e.createAttachedViews(a,b,function(a){return g(e,a)});d.providerViewModelList.push(e)}else d.app.trace.warning("Cannot find FeatureDetailsProvider '{0}'.".format(a.type))}})}};
b.prototype._getProviderConfigByView=function(a){if(this._providerConfig)for(var d=0;d<this._providerConfig.length;d++){var g=this._providerConfig[d].markup;if(g&&"string"===typeof g){if(g===a.markupResource)return this._providerConfig[d]}else for(var b in g)if(g.hasOwnProperty(b)&&g[b]===a.markupResource)return this._providerConfig[d]}return null};b.prototype._getProviderTargetRegionForMode=function(a,d){var g=null;if(a.targetRegion&&a.targetRegion[d])g=a.targetRegion[d];else{var b=this._getViewModeConfigParams(d);
b&&(g=b.defaultProviderTargetRegion)}return g};b.prototype._getViewModeConfigParams=function(a){for(var d in this._viewModes)if(this._viewModes.hasOwnProperty(d)&&d===a)return this._viewModes[a];return null};b.prototype._getProviderViewModeRegionConfig=function(a){var d={};if("string"===typeof a.markup)d["default"]=this._getProviderTargetRegionForMode(a,this._defaultViewMode);else for(var g in a.markup)a.markup.hasOwnProperty(g)&&(d[g]=this._getProviderTargetRegionForMode(a,g));return d};b.prototype._setProviderTargetRegions=
function(a){var d=this;a&&(this.providerViewList.forEach(function(g){var b=d._getProviderConfigByView(g),e=d._getProviderTargetRegionForMode(b,a),b="string"===typeof b.markup||b.markup[a]&&b.markup[a]===g.markupResource||void 0===b.markup[a];d.app.viewManager.deactivateView(g);if(b){b=null;if(e){var h=d.app.viewManager.getRegionForViewId(g.id);h&&(b=g.removed,g.removed=function(){},h.unhostView(g),g.regionName=e)}d.app.viewManager.activateView(g);b&&(g.removed=b);void 0!=g.viewModel.providerEnabled&&
g.viewModel.providerEnabled.pulse()}}),this.app.event("Internal.FeatureProviderTargetRegionsChanged").publish(this._currentFeature))};b.prototype._wireUpViewBindings=function(a){var d=this,g=function(g){g?(g=d.app.viewManager.getExistingRegionByName(a.regionName),!g||g instanceof e.framework.ui.MultiViewRegionAdapter&&1!==g.views.length||d.app.viewManager.activateView(a)):d.app.viewManager.deactivateView(a)};if(a.viewModel&&a.viewModel.providerEnabled&&a.viewModel.providerEnabled.isObservable){g(a.viewModel.providerEnabled.get());
var b=a.viewModel.providerEnabled.bind(this,g),h=a.onDestroy;a.onDestroy=function(){a.viewModel.providerEnabled.unbind(b);for(var g=d.providerViewList.length-1;0<=g;g--)d.providerViewList[g]===a&&d.providerViewList.splice(g,1);"function"===typeof h&&h()}}};b.prototype._executeGetRelatedFeatures=function(a){this._getRelatedFeatures(a.mapService,a.relationshipId,a.objectId,a.currentFeature,a.successCallback,a.errorCallback)};b.prototype._getRelatedFeatures=function(a,d,g,b,f,r){var m=new dojo.Deferred;
if(!a)return a=Error("_getRelatedFeatures: mapService cannot be null."),e.deferredReject(m,a),"function"==typeof r&&r(a),m;if(isNaN(d))return a=Error("_getRelatedFeatures: relationshipId cannot be null."),e.deferredReject(m,a),"function"==typeof r&&r(a),m;if(!g)return a=Error("_getRelatedFeatures: objectId cannot be null."),e.deferredReject(m,a),"function"==typeof r&&r(a),m;r=new esri.tasks.RelationshipQuery;r.outFields=["*"];r.relationshipId=d;r.objectIds=[g];d=null;b&&(b instanceof h.infrastructure.Feature?
d=b.layer?b.layer:b.featureLayer:b instanceof esri.Graphic&&(d=b.getLayer()));d||(d=a.serviceLayer);d?h.infrastructure.taskUtils.getQueryTask(d,a).executeRelationshipQuery(r).then(function(a){var d=[],g;for(g in a)if(a.hasOwnProperty(g))for(var b=0;b<a[g].features.length;b++)d.push(a[g].features[b]);e.deferredResolve(m,d);"function"==typeof f&&f(d)},function(a){e.deferredReject(m,a)}):e.deferredResolve(m,[]);return m};return b}(e.framework.application.ModuleBase);f.FeatureDetailsModule=k})(f.FeatureDetails||
(f.FeatureDetails={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){(function(h){var f=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.attachment_click=function(a,g,b){var e=this;return this.app.isOffline.get()?(this.app.command("RewriteUrlForOffline").execute(b.url.get(),function(a){if(a)return e.app.command("OpenWebPage").execute({url:a,element:g});e.app.command("Alert").execute(e.getResource("language-feature-details-attachment-not-available-offline"))}),!1):this.app.followNavigationLink({url:b.url.get(),
element:g})};return a}(e.framework.ui.ViewBase);h.AttachmentsView=f})(h.FeatureDetailsProviders||(h.FeatureDetailsProviders={}))})(h.FeatureDetails||(h.FeatureDetails={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){(function(f){var m=function(b){function a(a,g){b.call(this,a,g);this.hasAttachments=new Observable(!1);this.attachmentInfos=new ObservableCollection;this.isAttachmentInfosInitialized=new Observable(!1);this.noAttachments=new Observable(!1);this.isOffline=new Observable(!1);this.bindToken=null;this.app.event("FeatureAttachmentAddedEvent").subscribe(this,this.handleCurrentFeatureChanged)}__extends(a,b);a.prototype.handleCurrentFeatureChanged=
function(a){var g=this;this.hasAttachments.set(!1);this.noAttachments.set(!1);this.isOffline.set(!1);this.isAttachmentInfosInitialized.set(!1);this._setAttachmentInfos(null);if(a)this.hasAttachments.set(a.hasAttachments.get()),this.hasAttachments.get()&&(a.attachmentInfosInitialized.get()?(this._setAttachmentInfos(a.attachmentInfos),0==this.attachmentInfos.length()&&(this.isOffline.set(this.app.isOffline.get()),this.noAttachments.set(!this.app.isOffline.get())),this.isAttachmentInfosInitialized.set(!0)):
this.bindToken=a.attachmentInfosInitialized.bind(this,function(b){b&&(g.isAttachmentInfosInitialized.set(!0),g._setAttachmentInfos(a.attachmentInfos),0==g.attachmentInfos.length()&&(g.isOffline.set(g.app.isOffline.get()),g.noAttachments.set(!g.app.isOffline.get())),a.attachmentInfosInitialized.unbind(g.bindToken))}),a.attachmentInfos.get());else throw Error("Feature cannot be null for the attachment infos view model");};a.prototype._setAttachmentInfos=function(a){this.attachmentInfos.clear();if(a)for(var g=
a.getLength(),b=0;b<g;b++){var e=a.getAt(b);this.attachmentInfos.addItem({name:e.name,url:e.url,size:this.formatSize(e.size.get())})}this.updateProviderState(!!this.attachmentInfos.length())};a.prototype.formatSize=function(a){for(var g=0;1E3<a;g++)a=Math.round(a/1E3);return a+" "+"B KB MB GB TB PB".split(" ")[g]};return a}(e.infrastructure.featureDetails.FeatureProviderBase);f.AttachmentsViewModel=m})(f.FeatureDetailsProviders||(f.FeatureDetailsProviders={}))})(f.FeatureDetails||(f.FeatureDetails=
{}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){(function(h){var f=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.handleClickAttributeLink=function(a,g,b){return this.app.followNavigationLink({url:b.value.get(),element:g})};return a}(e.framework.ui.ViewBase);h.AttributesView=f})(h.FeatureDetailsProviders||(h.FeatureDetailsProviders={}))})(h.FeatureDetails||(h.FeatureDetails={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){(function(f){var m=function(b){function a(a,g){b.call(this,a,g);this.attributeTypes={};this.MAX_COLUMNS=3;this.COLUMN_THRESHOLD=5;this._attributesChangedSubscriptionToken=null;this.attributes=new ObservableCollection([]);this.multiColumnAttributeContainer=new ObservableCollection([])}__extends(a,b);a.prototype.initialize=function(a){b.prototype.initialize.call(this,a);a&&(this.MAX_COLUMNS=isNaN(parseInt(a.maxColumns,10))?this.MAX_COLUMNS:
parseInt(a.maxColumns,10),this.COLUMN_THRESHOLD=isNaN(parseInt(a.columnThreshold,10))?this.COLUMN_THRESHOLD:parseInt(a.columnThreshold,10))};a.prototype.handleCurrentFeatureChanged=function(a){if(a){this._getAttributeTypes(this.currentFeature.get());var g=a.getAttributes();this._attributesChangedSubscriptionToken&&this._prevFeatureLinkedAttributes&&this._prevFeatureLinkedAttributes.unbind(this._attributesChangedSubscriptionToken);this._attributesChangedSubscriptionToken=this._prevFeatureLinkedAttributes=
null;this._prevFeatureLinkedAttributes=a.linkedAttributes;this._attributesChangedSubscriptionToken=a.linkedAttributes.bind(this,this._handleAttributesChanged);this.processAttributes(g);this._setAttributes(g)}else this._setAttributes(null)};a.prototype._getAttributeTypes=function(a){this.attributeTypes={};if(a.layer&&a.layer.fields)for(var g=0;g<a.layer.fields.length;g++){var b=a.layer.fields[g];a.layer instanceof esri.layers.FeatureLayer&&(b.dataType=e.essentials.Field.convertFromEsriType(b.type));
this.attributeTypes[b.name]=b.dataType}};a.prototype._handleAttributesChanged=function(){var a=this.currentFeature.get().getAttributes();this.processAttributes(a);this._setAttributes(a)};a.prototype._setAttributes=function(a){this.attributes.clear();a&&this.attributes.set(a);this._populateMultiColumnAttributeContainer();this.updateProviderState(!!this.attributes.length())};a.prototype._populateMultiColumnAttributeContainer=function(){this.multiColumnAttributeContainer.clear();for(var a=dojo.filter(this.attributes.get(),
function(a){return a.visible.get()}),g=a.length>this.COLUMN_THRESHOLD?Math.ceil(a.length/this.COLUMN_THRESHOLD):1,g=g>this.MAX_COLUMNS?this.MAX_COLUMNS:g,b=Math.ceil(a.length/g),e=0;e<g;e++){var h=new ObservableCollection(a.slice(e*b,(e+1)*b));this.multiColumnAttributeContainer.addItem(h)}};a.prototype.processAttributes=function(a){for(var g=0;g<a.length;g++){a[g].name.get();var b=a[g].value.get();a[g].displayAsUrl=e.framework.utils.isUrl(b)}};return a}(h.infrastructure.featureDetails.FeatureProviderBase);
f.AttributesViewModel=m})(f.FeatureDetailsProviders||(f.FeatureDetailsProviders={}))})(f.FeatureDetails||(f.FeatureDetails={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){(function(f){var m=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.attach=function(a){this.masterViewModel=a.masterViewModel;b.prototype.attach.call(this,a)};a.prototype.handleViewClick=function(a,g,b){for(a=0;a<this.viewModel.dataLinks.length();a++)if(g=this.viewModel.dataLinks.getAt(a),g===b){this.masterViewModel.currentDataLink.set(g);break}this.masterViewModel.activateDataLinkDetailsView()};a.prototype.resolveWidget=
function(a,g,n){b.prototype.resolveWidget.call(this,a,g);switch(a){case "DataLinksTableViewWidget":if(a=this.app.viewManager.createView({type:"geocortex.essentialsHtmlViewer.mapping.infrastructure.ui.components.Table.TableView",markup:"Mapping/infrastructure/ui/components/Table/TableView.html",libraryId:"Mapping.Infrastructure",visible:!0}))n=new e.essentialsHtmlViewer.mapping.infrastructure.ui.components.Table.TableViewModel(this.app,this.libraryId),n.addRecordClickEvents(this.masterViewModel.DATALINK_TABLE_ITEM_CLICKED_EVENT),
n.addRecordLongPressEvents(this.masterViewModel.DATALINK_TABLE_ITEM_PRESSED_EVENT),n.columnHeaders=g.columnHeaders,n.attachToPresentableCollection(g.presentableResults),a.attach(n);return a;case "PagingControlsWidget":return g=new h.infrastructure.ui.components.PagingControls.PagingControlsViewModel(this.app,g),(a=this.app.viewManager.createView({type:"geocortex.essentialsHtmlViewer.mapping.infrastructure.ui.components.PagingControls.PagingControlsView",markup:"Mapping/infrastructure/ui/components/PagingControls/PagingControlsView.html",
libraryId:"Mapping.Infrastructure",visible:!0}))&&g&&a.attach(g),a;default:return null}};return a}(e.framework.ui.ViewBase);f.DataLinksView=m})(f.FeatureDetailsProviders||(f.FeatureDetailsProviders={}))})(f.FeatureDetails||(f.FeatureDetails={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));var FormatUtils=geocortex.essentialsHtmlViewer.mapping.infrastructure.FormatUtils;
(function(e){(function(f){(function(h){(function(f){(function(f){(function(f){var m=h.infrastructure.FormatUtils,b=function(a){function d(d,b){a.call(this,d,b);this.hasDataLinks=new Observable(!1);this.dataLinksList=new ObservableCollection([]);this.currentDataLink=new Observable(null);this.targetDataLinkDetailsRegion=null;this.DEFAULT_VIEW_ID="FeatureDataLinksProviderView";this.DEFAULT_PAGED=!0;this.DEFAULT_PAGE_SIZE=50;this.DATALINK_TABLE_ITEM_CLICKED_EVENT="DataLinkTableItemClickedEvent";this.DATALINK_TABLE_ITEM_PRESSED_EVENT=
"DataLinkTableItemPressedEvent";this._featureDataLinkBindingToken=null;this._datalinkViews=[];this._addedDataLinks=[];this._dataLinkListBindingTokens=[];this._onViewsCreated=this._viewModeRegionConfig=this._config=null}__extends(d,a);d.prototype.initialize=function(d){a.prototype.initialize.call(this,d);d&&(d.dataLinkView||d.dataLinkDetailsView)&&(this.targetDataLinkDetailsRegion=d.dataLinkView||d.dataLinkDetailsView);this.hasDataLinks.bind(this,this.updateProviderState)};d.prototype.handleCurrentFeatureChanged=
function(a){this.hasDataLinks.set(!1);this._destroyAttachedViews();this.dataLinksList.clear();this._featureDataLinkBindingToken&&this._prevFeatureDataLinkingResults&&this._prevFeatureDataLinkingResults.unbind(this._featureDataLinkBindingToken);this._prevFeatureDataLinkingResults=this._featureDataLinkBindingToken=null;this._prevFeatureDataLinkingResults=a.dataLinkingResults;this._featureDataLinkBindingToken=a.dataLinkingResults.bind(this,this.handleCollectionChanged);this._handleDataLinks(a.dataLinkingResults.get());
this._createAttachedViews()};d.prototype.activateDataLinkDetailsView=function(){if(this.targetDataLinkDetailsRegion){if(!this.currentDataLink.get())throw Error("Cannot display data link details. Current datalink not set.");this.dataLinkView||(this.dataLinkView=this.app.viewManager.createView({markup:"Mapping/modules/FeatureDetails/FeatureDetailsProviders/DataLinkView.html",type:"geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.DataLinkView",iconUri:"Resources/Images/Icons/Toolbar/file-multi-24.png",
regionName:this.targetDataLinkDetailsRegion,visible:!1,libraryId:this.libraryId}),this.dataLinkView.attach(this));this.dataLinkView.title.set(this.currentDataLink.get().displayName);this.app.viewManager.activateView(this.dataLinkView);this.app.command("FocusOnFirstInputInView").execute(this.dataLinkView)}};d.prototype.createAttachedViews=function(a,d,b){this._config=a;this._viewModeRegionConfig=d;this._onViewsCreated=b};d.prototype._createAttachedViews=function(d,b,e){var h=this;d=d||this._config;
b=b||this._viewModeRegionConfig;e=e||this._onViewsCreated;if(d){var f=function(){h.dataLinksList.get().forEach(function(f){if(-1===h._addedDataLinks.indexOf(f.displayName)){var m=dojo.clone(d);m.title=f.displayName;m.viewId=h._generateDataLinksViewIdFromConfigViewId(m.viewId,m.title);a.prototype.createAttachedViews.call(h,m,b,function(a){h._datalinkViews=h._datalinkViews.concat(a);e&&e(a)},f);h._addedDataLinks.push(f.displayName)}})};f();this._dataLinkListBindingTokens.push(this.dataLinksList.bind(this,
function(){return f()}))}};d.prototype.handleCollectionChanged=function(a){"append"===a.type&&(a=a.sender.value.slice(a.rangeStart,a.rangeStart+1),this._handleDataLinks(a))};d.prototype._generateDataLinksViewIdFromConfigViewId=function(a,d){var b=e.framework.utils.alphaNumericToken();return"{0} datalink-{1}".format(a||this.DEFAULT_VIEW_ID,d?d+"-"+b:b)};d.prototype._createConfiguredPresentableResultCollection=function(a){a=new e.framework.ui.PresentableCollection(a);a.pageSize.set(this.DEFAULT_PAGE_SIZE);
this.DEFAULT_PAGED!=a.isPaginated.get()&&a.isPaginated.set(this.DEFAULT_PAGED);a.items.useThrottling=!0;a.sortingPredicate=null;return a};d.prototype._destroyAttachedViews=function(){var a=this;this._datalinkViews.forEach(function(d){a.app.viewManager.destroyView(d);delete d.viewModel});this._dataLinkListBindingTokens.forEach(function(d){return a.dataLinksList.unbind(d)});this._datalinkViews=[];this._addedDataLinks=[];this._dataLinkListBindingTokens=[]};d.prototype._handleDataLinks=function(a){for(var d=
0;d<a.length;d++){var b=a[d];if(b.dataLink&&b.dataLink.get()&&!b.dataLink.get().isOneToOne){var e=new ObservableCollection(this._buildLinkRecords(b)),h=new ObservableCollection(this._buildTableRows(b)),h=this._createConfiguredPresentableResultCollection(h),f=this._createColumnHeaderCollection(h),m=new Observable(this.providerEnabled.get());m.sync(this.providerEnabled);this.dataLinksList.addItem({displayName:b.dataLink.get().displayName,dataLinks:e,presentableResults:h,columnHeaders:f,providerEnabled:m,
masterViewModel:this});this.hasDataLinks.get()||this.hasDataLinks.set(!0)}}};d.prototype._buildTableRows=function(a){var d=[];a=a.table.get();for(var b=0;b<a.rows.length;b++){var e=this._buildTableColumns(a.columns,a.rows[b].row);d.push({attributes:new ObservableCollection(e)})}return d};d.prototype._buildTableColumns=function(a,d){for(var b=[],h=0;h<a.length;h++)b.push({visible:new Observable(!0),value:new Observable(d[h]),presentableValue:function(a){return new e.framework.ui.LazyObservable(null,
function(){return m.format(d[a])})}(h),displayAsUrl:e.framework.utils.isUrl(d[h]),columnHeader:a[h]});return b};d.prototype._createColumnHeaderCollection=function(a){var d=new ObservableCollection([]),b=new e.essentialsHtmlViewer.mapping.infrastructure.ui.components.Table.TableColumnHeaderViewModel.SharedState(a,"sort","sort-up","sort-down");a=a.items.get();if(a.length){a=a[0].attributes.get();for(var f=0;f<a.length;f++){var m="string";a[f].value.get()instanceof Date&&(m="DateTime");a[f].visible&&
!a[f].visible.get()||d.addItem(new h.infrastructure.ui.components.Table.TableColumnHeaderViewModel(this.app,this.libraryId,b,a[f].columnHeader,m,f))}}return d};d.prototype._buildLinkRecords=function(a){a=a.table.get();for(var d=[],b=0;b<a.rows.length;b++){var e=a.rows[b].row;d.push({displayName:e[0],attributes:new ObservableCollection(this.toDict(a.columns,e))})}return d};d.prototype.toDict=function(a,d){var b=[];h.infrastructure.PresentableDelegateFactory.valuePresenterDelegate(null,null);for(var f=
0;f<a.length;f++)b.push({name:a[f],value:d[f],presentableValue:m.format(d[f]),displayAsUrl:e.framework.utils.isUrl(d[f])});return b};return d}(h.infrastructure.featureDetails.FeatureProviderBase);f.DataLinksViewModel=b})(f.FeatureDetailsProviders||(f.FeatureDetailsProviders={}))})(f.FeatureDetails||(f.FeatureDetails={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){(function(h){var f=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.handleClickDataLink=function(a,g,b){return this.app.followNavigationLink({url:b.value.get(),element:g})};return a}(e.framework.ui.ViewBase);h.DataLinkView=f})(h.FeatureDetailsProviders||(h.FeatureDetailsProviders={}))})(h.FeatureDetails||(h.FeatureDetails={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){(function(h){var f=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.attach=function(a){var g=this;b.prototype.attach.call(this,a);this.viewModel.menuContext.sync(a.currentFeature);this.viewModel.visibleMenuItems.bind(this,function(b){var e=g.viewModel.visibleMenuItems.length();"clear"===b.type?e=0:"remove"===b.type&&(e=b.sender.get().slice(0),e.splice(b.rangeStart,b.rangeEnd-b.rangeStart+1),e=e.length);a.updateProviderState(!!e)})};
return a}(e.essentialsHtmlViewer.mapping.infrastructure.menus.MenuView);h.FeatureActionsView=f})(h.FeatureDetailsProviders||(h.FeatureDetailsProviders={}))})(h.FeatureDetails||(h.FeatureDetails={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){(function(f){var m=function(b){function a(){b.apply(this,arguments)}__extends(a,b);return a}(e.infrastructure.featureDetails.FeatureProviderBase);f.FeatureActionsViewModel=m})(f.FeatureDetailsProviders||(f.FeatureDetailsProviders={}))})(f.FeatureDetails||(f.FeatureDetails={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){var h=function(){return function(b,a){this.toolTip=this.target=this.iconUri=this.uri=this.text=null;this.isBroken=!1;if(a&&(this.currentFeature=a,b)){if(b.text)this.text=this.currentFeature.formatTemplateString(b.text);else if(b.uri)this.text=this.currentFeature.formatTemplateString(b.uri);else return;b.uri&&(this.uri=this.currentFeature.formatTemplateString(b.uri));b.iconUri&&(this.iconUri=b.iconUri);b.target&&(this.target=
b.target);b.toolTip&&(this.toolTip=this.currentFeature.formatTemplateString(b.toolTip))}}}();e.Hyperlink=h})(e.FeatureDetailsProviders||(e.FeatureDetailsProviders={}))})(e.FeatureDetails||(e.FeatureDetails={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){(function(h){var f=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.handleClickHyperlink=function(a,g,b){return b.isBroken?!1:this.app.followNavigationLink({url:b.uri,element:g})};return a}(e.framework.ui.ViewBase);h.HyperlinksView=f})(h.FeatureDetailsProviders||(h.FeatureDetailsProviders={}))})(h.FeatureDetails||(h.FeatureDetails={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){(function(f){var m=function(b){function a(a,g){b.call(this,a,g);this._numHyperlinksTotal=this._numHyperlinksChecked=0;this.hyperlinks=new ObservableCollection}__extends(a,b);a.prototype.handleCurrentFeatureChanged=function(a){this.hyperlinks.set(null);if(a&&a.hyperlinks){var g=dojo.getObject("geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.Hyperlink");if(g){var b=[];this._numHyperlinksChecked=0;
this._numHyperlinksTotal=a.hyperlinks.getLength();0!==a.hyperlinks.getLength()&&this.updateProviderState(!0);for(var e=0;e<this._numHyperlinksTotal;e++){var h=new g(a.hyperlinks.getAt(e),a);b.push(h);a.layer&&"ShowAll"!==a.layer.showFeatureHyperlinks&&this._testHyperlink(h,b,"HEAD")}a.layer&&"ShowAll"===a.layer.showFeatureHyperlinks&&this._showHyperlinks(b)}else this.hyperlinks.addItems(a.hyperlinks.get())}};a.prototype._testHyperlink=function(a,g,b){var h=this,f=function(){h._numHyperlinksChecked++;
h._numHyperlinksChecked===h._numHyperlinksTotal&&h._showHyperlinks(g)};if(a.uri)if(a.uri&&a.uri.length>e.config.io.postLength-500)this.app.trace.warning("Unable to test hyperlink with URI '{0}...'. The URI was too long.".format(a.uri.substr(0,100))),f();else{var m={type:b,cache:!0,url:a.uri};"GET"===b&&(m.headers={"If-Match":"LatitudeGeographics"});m.success=function(a,d,g){f()};m.error=function(e,m,l){e=e.status;"HEAD"!==b||405!==e&&0!==e?(a.isBroken=400<=e&&412!==e,f()):h._testHyperlink(a,g,"GET")};
$.ajax(m)}else a.isBroken=!0,f()};a.prototype._showHyperlinks=function(a){for(var g=this.currentFeature.get(),g=g&&g.layer?g.layer.showFeatureHyperlinks:null,b=0;b<a.length;b++){var e=a[b];null==e.uri||""===e.uri||g&&"HideBrokenLinks"===g&&e.isBroken||this.hyperlinks.addItem(e)}0===this.hyperlinks.getLength()&&this.updateProviderState(!1)};return a}(h.infrastructure.featureDetails.FeatureProviderBase);f.HyperlinksViewModel=m})(f.FeatureDetailsProviders||(f.FeatureDetailsProviders={}))})(f.FeatureDetails||
(f.FeatureDetails={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){(function(f){var m=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.attach=function(a){this.masterViewModel=a.masterViewModel;b.prototype.attach.call(this,a);this.masterViewModel._viewContainerViewClosedEventBindingToken||(this.masterViewModel._viewContainerViewClosedEventBindingToken=this.app.event("ViewContainerViewClosedEvent").subscribe(this,this._checkIfEventIsRelevant))};a.prototype.destroy=function(){this.masterViewModel._viewContainerViewClosedEventBindingToken&&
0===this.masterViewModel.relatedFeatureViews.length&&(this.app.event("ViewContainerViewClosedEvent").unsubscribe(this.masterViewModel._viewContainerViewClosedEventBindingToken),this.masterViewModel._viewContainerViewClosedEventBindingToken=null)};a.prototype.resolveWidget=function(a,g,n){b.prototype.resolveWidget.call(this,a,g);switch(a){case "RelatedFeaturesTableViewWidget":if(a=this.app.viewManager.createView({type:"geocortex.essentialsHtmlViewer.mapping.infrastructure.ui.components.Table.TableView",
markup:"Mapping/infrastructure/ui/components/Table/TableView.html",libraryId:"Mapping.Infrastructure",visible:!0}))n=new e.essentialsHtmlViewer.mapping.infrastructure.ui.components.Table.TableViewModel(this.app,this.libraryId),n.addRecordClickEvents(this.masterViewModel.REL_FEATURES_TABLE_ITEM_CLICKED_EVENT),n.addRecordLongPressEvents(this.masterViewModel.REL_FEATURES_TABLE_ITEM_PRESSED_EVENT),n.columnHeaders=g.columnHeaders,n.attachToPresentableCollection(g.presentableResults),a.attach(n);return a;
case "PagingControlsWidget":return g=new h.infrastructure.ui.components.PagingControls.PagingControlsViewModel(this.app,g),(a=this.app.viewManager.createView({type:"geocortex.essentialsHtmlViewer.mapping.infrastructure.ui.components.PagingControls.PagingControlsView",markup:"Mapping/infrastructure/ui/components/PagingControls/PagingControlsView.html",libraryId:"Mapping.Infrastructure",visible:!0}))&&g&&a.attach(g),a;default:return null}};a.prototype.handleViewClick=function(a,g,b){if(b&&b.attributes&&
0<b.attributes.getLength())for(a=b.attributes.get(),g=0;g<a.length;g++){var h=a[g].value.get();a[g].displayAsUrl=e.framework.utils.isUrl(h)}this.isBusy.set(!0);this.masterViewModel.activateRelatedFeatureView(b)};a.prototype.handleClickAddRelatedRecord=function(a,g,b){var e=this;if(!b||b.editable&&!b.editable.get())return!1;(a=this.masterViewModel)&&a.generateRelatedLayerObject(b,function(a){e.app.command("StartEditingNewRelatedRecord").execute(a,!0)})};a.prototype._checkIfEventIsRelevant=function(a){(a.backButtonClicked||
a.xButtonClicked)&&this.masterViewModel.showParentView()};return a}(e.framework.ui.ViewBase);f.RelatedFeaturesView=m})(f.FeatureDetailsProviders||(f.FeatureDetailsProviders={}))})(f.FeatureDetails||(f.FeatureDetails={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){(function(f){var m=function(b){function a(a,g){b.call(this,a,g);this.app.event("RelatedRecordCreatedEvent").subscribe(this,this._relatedRecordCreated);this.app.event("RelatedRecordEditedEvent").subscribe(this,this._relatedRecordEdited)}__extends(a,b);a.prototype.handleCurrentFeatureChanged=function(a){var g=this;if(a){this._destroyAttachedViews();this.hasRelationships.set(!1);this.relationList.clear();this._allRelatedFeatureInfo=[];
this.relatedLayers=new ObservableCollection([]);this._relatedLayerPromises&&(this._relatedLayerPromises.cancel(),this._relatedLayerPromises=null);var b=[],h=this.currentFeature.get().layer||this.currentFeature.get().featureLayer;if(h&&h.relationships){for(var f=0;f<h.relationships.length;f++){var m=h.relationships[f];h instanceof e.essentials.Layer&&b.push(new Promise(function(a,d){return h.getRelatedFeatureLayer(m.id,a,d)}))}this._relatedLayerPromises=Promise.all(b);this._relatedLayerPromises.then(function(b){g._relatedLayerPromises=
null;g.relatedLayers.addItems(b);if(a.hasVisibleRelationships.get()&&h&&h.relationships&&g.app.site.getFeatureServices()){g.hasRelationships.set(!0);for(var e=0;e<h.relationships.length;e++)h.relationships[e].visible&&function(){var a=new Observable(g.providerEnabled.get()),d=new ObservableCollection([]);a.sync(g.providerEnabled);a={displayName:new Observable(h.relationships[e].displayName||h.relationships[e].name),id:new Observable(h.relationships[e].id),relatedTableId:new Observable(h.relationships[e].relatedTableId),
visible:new Observable(h.relationships[e].visible),relatedEsriFeatureInfo:new ObservableCollection([]),relatedGcxFeatures:d,hasRetrievedData:new Observable(!1),noRelatedFeatures:new Observable(!1),canAdd:new Observable(!0),validCardinality:new Observable(!0),errorFetchingRelatedFeatures:new Observable(!1),presentableResults:g._createConfiguredPresentableResultCollection(d),columnHeaders:new ObservableCollection([]),providerEnabled:a,masterViewModel:g};a.relatedEsriFeatureInfo.bind(g,function(a){g._generateGCXFeaturesFromRelatedFeatureInfos(a.sender.getRange(a.rangeStart,
a.rangeEnd))});g.relationList.addItem(a)}();g._fetchRelatedFeatures()}g._createAttachedViews();g._updateProviderState();null==g.parentFeature.get()&&g.parentFeature.set(g.currentFeature.get())})}}else throw Error("Feature cannot be null for the related features view model");};a.prototype._generateGCXFeaturesFromRelatedFeatureInfos=function(a){for(var g=0;g<a.length;g++)this._generateRelatedGCXFeature(a[g])};a.prototype._generateRelatedGCXFeature=function(a){var g={featureInfo:a,esriFeature:null,gcxFeature:null,
layer:null},b={};a.attributes.get().forEach(function(a){var d=a.name.get();a=a.value.get();b[d]=a});var e=new esri.Graphic;e.setAttributes(b);var h=null;(this.currentFeature.get().layer||this.currentFeature.get().featureLayer).relationships.forEach(function(g){(g.name?g.name:g.displayName)==a.relationName.get()&&(h=g.relatedTableId)});for(var f=null,m=0;m<this.relatedLayers.getLength();m++){var l=this.relatedLayers.getAt(m);l.layerId===h&&(f=l)}if(f)null!=h&&(f.add(e),g.layer=f,g.esriFeature=e,this._checkRelatedFeature(g));
else{for(var l=a.featureUrl.replace(/\/[^/]*.$/,""),k=this.app.site.getFeatureServices(),m=0;m<k.length;m++){var p=k[m],z=this._getProperMapServiceUrlForComparison(p,l);l==z&&(f=p.serviceLayer)}g.layer=f;g.esriFeature=e;this._checkRelatedFeature(g)}};a.prototype.generateRelatedLayerObject=function(a,g){var b=this,e=null,h=null;try{this._getFeatureLayerForCurrentFeature(a,function(f){f.relationships.forEach(function(g){g.id==a.id.get()&&g.relatedTableId==a.relatedTableId.get()&&(h=g)});e={id:a.id.get(),
text:"New "+a.displayName.get(),relatedFeature:b.currentFeature.get().esriFeature.get(),essentialsRelatedFeature:b.currentFeature.get(),feature:null,editable:!0,relationship:h};g(e)})}catch(f){this.app.trace.error("Error in generating related layer object for creation: "+f)}};a.prototype._getFeatureLayerForCurrentFeature=function(a,g){var b=this.currentFeature.get().esriFeature.get().getLayer();if(b)g(b);else if(!b&&"Table"!=this.currentFeature.get().layer.type)this.app.command("GetFeatureDetailsProviders").execute(this.currentFeature.get()),
(b=this.currentFeature.get().esriFeature.get().getLayer())||(b=this.currentFeature.get().layer.mapService.layers[0]),g(b);else if(!b)for(var e=this.app.site.getFeatureServices(),h=0;h<e.length;h++)for(var f=e[h],m=0;m<f.layers.length;m++)f.layers[m].id==a.relatedTableId.get()&&f.getRelatedFeatureLayer(a.id.get(),function(a){b=a;g(b)},function(a){})};a.prototype._relatedRecordCreated=function(a){this.handleCurrentFeatureChanged(this.currentFeature.get())};a.prototype._relatedRecordEdited=function(a){a.attributes.Date&&
(a.attributes.Date=this._formatDate(a.attributes.Date));var g=this.currentFeature.get().esriFeature.get().attributes,b;for(b in g)a.attributes[b]&&(g[b]=a.attributes[b]);this.currentFeature.get().loadAttributes(!0)};a.prototype._fetchRelatedFeatures=function(){var a=this,g=this.currentFeature.get(),b=this.currentFeature.get().layer||this.currentFeature.get().featureLayer;if(g&&b&&this.relationList&&0<this.relationList.length()){var e=g.layer?g.layer:g.featureLayer;if(e)for(b=0;b<this.relationList.length();b++)(function(b){var n=
b.id.get(),f=new esri.tasks.RelationshipQuery;f.outFields=["*"];f.relationshipId=b.id.get();null!=g.getPrimaryKeyValue()?f.objectIds=[g.getPrimaryKeyValue()]:f.objectIds=[g.esriFeature.get().attributes.OBJECTID];h.infrastructure.taskUtils.getQueryTask(e).executeRelationshipQuery(f).then(function(g){var h=!1,f;for(f in g)if(g.hasOwnProperty(f)){h=!0;break}if(h){var m=null,h=null;if(e.getRelatedFeatureLayer)m=e.getRelatedFeatureLayer(n);else{var l=a.app.site.getFeatureServices(),k=e.url.match(/.*\//g);
for(f=0;f<l.length;f++){var p=l[f],y=p.serviceLayer;if(p.serviceUrl.match(/.*\//g)[0]===k[0]){for(var A=0;A<y.relationships.length;A++){var F=y.relationships[A];if(F.relatedTableId==b.relatedTableId.get()){m=p.getRelatedFeatureLayer(F.id,null,null);break}}if(y.layerId==b.relatedTableId.get()){h=p.serviceLayer;break}if(m)break}}}if(m)m.then(function(n){if(n.message)a._setCanAddNewFeature(e,b),b.noRelatedFeatures.set(!0);else{for(var h in g)if(g.hasOwnProperty(h))for(var f=0;f<g[h].features.length;f++){var m=
a._processRelatedFeature(n,g[h].features[f],b);b.relatedEsriFeatureInfo.addItem(m);n.hasAttachments&&setTimeout(function(a,d){return function(){d._loadAttachments(a)}}(m,a),100)}a._setCanAddNewFeature(e,b)}b.hasRetrievedData.set(!0)},function(g){b.errorFetchingRelatedFeatures.set(!0);b.hasRetrievedData.set(!0);a.app.trace.error("Error getting related record for layer {0}: {1}.".format(e.displayName,g.message))});else{for(var E in g)if(g.hasOwnProperty(E))for(f=0;f<g[E].features.length;f++)m=a._processRelatedFeature(h,
g[E].features[f],b),b.relatedEsriFeatureInfo.addItem(m),h.hasAttachments&&setTimeout(function(a,d){return function(){d._loadAttachments(a)}}(m,a),100);a._setCanAddNewFeature(e,b);b.hasRetrievedData.set(!0)}}else a._setCanAddNewFeature(e,b),b.noRelatedFeatures.set(!0),b.hasRetrievedData.set(!0)},function(g){b.errorFetchingRelatedFeatures.set(!0);b.hasRetrievedData.set(!0);a.app.trace.error("Error getting related record for layer {0}: {1}.".format(e.displayName,g.message))})})(this.relationList.getAt(b))}};
a.prototype._setCanAddNewFeature=function(a,g){var b=null,h=null;g.canAdd.set(!0);g.validCardinality.set(!0);a instanceof e.essentials.Layer?(b=a,b.mapService.serviceLayer instanceof esri.layers.FeatureLayer&&(h=b.mapService.serviceLayer)):a instanceof esri.layers.FeatureLayer&&(h=a);if(!h)this.app.trace.debug("Attempted to see if related feature could be created but layer is not a Essentials Layer or Esri FeatureLayer."),g.canAdd.set(!1),g.validCardinality.set(!1);else if(h){var f=h.relationships,
m=null;if(f&&f.length)for(b=0;b<f.length;b++){var l=f[b];l.id===g.id.get()&&(m=l)}if(m){("esriRelCardinalityOneToOne"===m.cardinality||"esriRelCardinalityOneToMany"===m.cardinality&&"esriRelRoleDestination"===m.role)&&0<g.relatedEsriFeatureInfo.get().length&&g.validCardinality.set(!1);f=this.app.site.essentialsMap.mapServices;for(b=0;b<f.length;b++)m=f[b].serviceLayer,m instanceof esri.layers.FeatureLayer&&m.layerId===g.relatedTableId.get()&&!1===m.getEditCapabilities().canCreate&&g.canAdd.set(!1);
h=e.essentials.utilities.LayerUtilities.decomposeFeatureLayerUrl(h.url).serviceUrl+"/"+g.relatedTableId.get();this.app.offlineManager.isOfflineMapActive.get()&&((h=this.app.offlineManager.syncInfo.findLayerOrTable(h))&&h.canEdit||g.canAdd.set(!1))}}};return a}(f.RelatedFeaturesViewModelBase);f.RelatedFeaturesViewModel=m})(f.FeatureDetailsProviders||(f.FeatureDetailsProviders={}))})(f.FeatureDetails||(f.FeatureDetails={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.initialize=function(a){var d=this;e.prototype.initialize.call(this,a);if(a&&"string"==typeof a.title)if(a.titleLibraryId&&a.title.startsWith("@"))if(this.app.allLibrariesLoaded)document.title=this.app.getResource(a.titleLibraryId,a.title.substring(1));else var g=this.app.event("ViewerLibrariesDownloadedEvent").subscribe(this,function(){d.app.event("ViewerLibrariesDownloadedEvent").unsubscribe(g);
document.title=d.app.getResource(a.titleLibraryId,a.title.substring(1))});else document.title=a.title};return b}(e.framework.application.ModuleBase);h.BrowserModule=f})(h.browser||(h.browser={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(l){function b(a,d){var g=this;l.call(this,a,d);this.headerText=new Observable("");this.currentFeature=new Observable(null);this.currentFeatureSet=this.currentEsriFeatureClone=null;this.viewsToActivate=[];this.featureMultiRegionCss=new Observable("");this.currentFeature.bind(this,function(){return g._handleCurrentFeatureChanged()});this.regionViewSwitcherWidgetMarkup="Mapping/modules/FeatureDetails/FeatureDetailsSwitcherView.html";
this.regionViewSwitcherLibraryId=this.libraryId;this._registerCommands();this._subscribeEvents()}__extends(b,l);b.prototype.initialize=function(a){a&&(this._config=a,this._config.autoInsertViewSwitcher=!0);l.prototype.initialize.call(this,a)};b.prototype.createViewSwitcherViewModel=function(a){a=new f.FeatureDetailsSwitcherViewModel(this.app,this.libraryId,a);a.initialize(this._config);return a};b.prototype.processRegion=function(a){var d=this;l.prototype.processRegion.call(this,a);a.regionActive.bind(this,
function(g){return d._updateMultiRegionViewCss(a,g)})};b.prototype._updateMultiRegionViewCss=function(a,d){var g="";this.regionDescriptors.get().forEach(function(a){return g=g.concat(" {0}-{1}".format(a.regionName,a.regionActive.get()?"active":"inactive"))});this.featureMultiRegionCss.set(g.trim())};b.prototype._registerCommands=function(){var a=this;this.app.command("_updateFeatureDetailViewModels").register(this,function(d){d&&d instanceof h.infrastructure.Feature&&(a._setCurrentFeature(d),a.currentFeatureSet=
a.currentFeature.get()?a.currentFeature.get().featureSet:null)})};b.prototype._subscribeEvents=function(){this.app.event("FeatureEditedEvent").subscribe(this,this._handleEditedFeature);this.app.event("FeatureDeletedEvent").subscribe(this,this._handleDeletedFeature);this.app.event("FSMCollectionRemovedEvent").subscribe(this,this._onFeatureSetCollectionRemoved)};b.prototype._handleDeletedFeature=function(a){(a=a.originalFeature||a instanceof esri.Graphic?a:null)&&this.currentEsriFeatureClone&&h.infrastructure.MapUtils.esriFeaturesEqual(this.currentEsriFeatureClone,
a)&&(this.currentEsriFeatureClone=null,this._deactivateViews())};b.prototype._handleEditedFeature=function(a){a.originalFeature&&a.editedFeature?this.currentEsriFeatureClone&&h.infrastructure.MapUtils.esriFeaturesEqual(a.originalFeature,this.currentEsriFeatureClone)&&(this.currentFeature.get().esriFeature.set(a.editedFeature),this._processCurrentFeature(),this.currentEsriFeatureClone=a.editedFeature):this.app.trace.warning("FeatureDetailsViewModel: Could not handle FeatureEditedEvent. Original or Edited feature not provided.")};
b.prototype._onFeatureSetCollectionRemoved=function(a){var d=a.featureSetCollection;d&&(a=this.currentFeature.get())&&a.featureSet&&(d=d.getFeatureSetById(a.featureSet.id))&&d.uniqueId==a.featureSet.uniqueId&&(this.currentFeature.set(null),this._deactivateViews())};b.prototype._setCurrentFeature=function(a){if("string"==typeof a){var d=this.app.featureSetManager.getCollectionById(a);d?(a=d.firstFeature())?this.currentFeature.set(a):this.app.trace.error("No feature in feature set collection"):this.app.trace.error("No feature set collection found matching id: "+
a)}else a&&a instanceof e.essentialsHtmlViewer.mapping.infrastructure.Feature&&(null==a.featureSet&&(d=new h.infrastructure.FeatureSet({app:this.app}),d.addFeature(a),a.featureSet=d),this.currentFeature.set(a));this._processCurrentFeature()};b.prototype._handleCurrentFeatureChanged=function(){var a=this.currentFeature.get();this.currentEsriFeatureClone=a?e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.cloneEsriFeature(a._graphic):null};b.prototype._processCurrentFeature=function(){var a=this.currentFeature.get();
this.headerText.removeSync();a&&this.headerText.sync(a.plainLabel)};b.prototype._deactivateViews=function(){for(var a=0;a<this.viewsToActivate.length;a++){var d=this.viewsToActivate[a];this.app.command("DeactivateView").execute(d)}};return b}(e.framework.ui.MultiRegion.MultiRegionViewModel);f.FeatureDetailsViewModel=k})(f.FeatureDetails||(f.FeatureDetails={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){(function(f){var m=function(b){function a(){b.apply(this,arguments);this.showLongDescription=!1}__extends(a,b);a.prototype.initialize=function(a){b.prototype.initialize.call(this,a);a&&a.longDescription&&(this.showLongDescription=!0)};a.prototype.handleCurrentFeatureChanged=function(a){a.longDescription||a.description?(a=this.showLongDescription?a.longDescription.get():a.description.get(),this.updateProviderState(!!a)):this.app.trace.warning("Input must be a Feature")};
return a}(e.infrastructure.featureDetails.FeatureProviderBase);f.DescriptionViewModel=m})(f.FeatureDetailsProviders||(f.FeatureDetailsProviders={}))})(f.FeatureDetails||(f.FeatureDetails={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){(function(f){var m=function(b){function a(){b.apply(this,arguments);this._presenterView=this._relatedRecordEditedToken=this._featureEditedToken=this._featureChangedToken=null}__extends(a,b);a.prototype.attach=function(a){b.prototype.attach.call(this,a);this._featureChangedToken&&(this.app.event("FeatureChangedEvent").unsubscribe(this._featureChangedToken),this._featureChangedToken=null);this._featureEditedToken&&(this.app.event("FeatureEditedEvent").unsubscribe(this._featureEditedToken),
this._featureEditedToken=null);this._featureChangedToken=this.app.event("FeatureChangedEvent").subscribe(this,this._handleFeatureChangedEvent);this._featureEditedToken=this.app.event("FeatureEditedEvent").subscribe(this,this._updateDescription);this._relatedRecordEditedToken=this.app.event("RelatedRecordEditedEvent").subscribe(this,this._handleRelatedRecordsEdited)};a.prototype.destroy=function(){b.prototype.destroy.call(this);this._featureChangedToken&&(this.app.event("FeatureChangedEvent").unsubscribe(this._featureChangedToken),
this._featureChangedToken=null);this._featureEditedToken&&(this.app.event("FeatureEditedEvent").unsubscribe(this._featureEditedToken),this._featureEditedToken=null);this._relatedRecordEditedToken&&(this.app.event("RelatedRecordEditedEvent").unsubscribe(this._relatedRecordEditedToken),this._relatedRecordEditedToken=null);this._presenterView&&(this._presenterView.destroy(),this._presenterView=null)};a.prototype.resolveWidget=function(a,g,e){return g&&"GetDescription"===a?(a=new h.infrastructure.FeatureDescriptionPresenterView(this.app,
this.libraryId),a.contentField=this.viewModel.showLongDescription?"longDescription":"description",a.root=dojo.create("div"),a.root.className="feature-description",a.attach(g),this._presenterView=a):b.prototype.resolveWidget.call(this,a,g,e)};a.prototype._handleFeatureChangedEvent=function(a){this._presenterView&&a&&this.viewModel.currentFeature.get()&&this.viewModel.currentFeature.get().token===a.token&&this._updateDescription()};a.prototype._handleRelatedRecordsEdited=function(a){var g=this.viewModel.currentFeature.get(),
b=g&&g.esriFeature.get(),e=b&&b.getLayer();g&&e&&b.attributes[e.objectIdField]===a.attributes[e.objectIdField]&&(dojo.mixin(b.attributes,a.attributes),g.esriFeature.pulse())};a.prototype._updateDescription=function(){this._presenterView.destroyBindings();this._presenterView.attach(this.viewModel.currentFeature.get())};return a}(e.framework.ui.ViewBase);f.DescriptionView=m})(f.FeatureDetailsProviders||(f.FeatureDetailsProviders={}))})(f.FeatureDetails||(f.FeatureDetails={}))})(h.modules||(h.modules=
{}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);return b}(e.framework.application.ModuleBase);h.GeolocateModule=f})(h.geolocate||(h.geolocate={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.deactivateGeolocateMenuView=function(){this.app.event("FlyoutDeactivated").publish(this);this.app.command("DeactivateView").execute("GeolocateView")};b.prototype.handleClickGeolocate=function(a,d,g){var b=this;if(this.viewModel.isTracking.get()||this.viewModel.isFollowing.get())return this.app.command("GeolocateStop").execute(),!1;if(1===this.viewModel.optionsCount.get()){if(this.viewModel.geolocateEnabled.get())return this.app.command("Geolocate").execute(),
!1;if(this.viewModel.trackingEnabled.get())return this.app.command("GeolocateTrack").execute(),!1;if(this.viewModel.followingEnabled.get())return this.app.command("GeolocateFollow").execute(),!1}else this.app.event("FlyoutActivated").publish(this),this.app.configuration.mobileMode?this.app.command("ActivateView").execute("GeolocateView"):(a={view:this,onOtherInteracted:function(a){return b._onOtherInteracted(a)}},this.app.command("TapToDismiss").execute(a),this.app.command("ToggleView").execute("GeolocateView"))};
b.prototype.handleClickMenuFind=function(a,d,g){this.app.command("Geolocate").execute();this.deactivateGeolocateMenuView();return!1};b.prototype.handleClickMenuTrack=function(a,d,g){this.app.command("GeolocateTrack").execute();this.deactivateGeolocateMenuView();return!1};b.prototype.handleClickMenuFollow=function(a,d,g){this.app.command("GeolocateFollow").execute();this.deactivateGeolocateMenuView();return!1};b.prototype._onOtherInteracted=function(a){a=$(a.target||a.srcElement);a.hasClass("geolocate-base")&&
a.hasClass("toggle-btn")||this.deactivateGeolocateMenuView()};return b}(e.framework.ui.ViewBase);h.GeolocateView=f})(h.geolocate||(h.geolocate={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(f){function b(){f.apply(this,arguments);this.visible=new Observable(!0);this.geolocateEnabled=new Observable(!1);this.geolocateWatchId=new Observable(null);this.geolocateOptions={};this.trackingEnabled=new Observable(!1);this.followingEnabled=new Observable(!1);this.adjustExtentZoomOnGeolocate=new Observable(!0);this.geolocateExtentZoomLevel=new Observable(null);this.geolocateAccuracyCircleEnabled=new Observable(!0);this.optionsCount=
new Observable(0);this.isSingle=new Observable(!1);this.isTracking=new Observable(!1);this.isFollowing=new Observable(!1);this.geolocationLayer=new esri.layers.GraphicsLayer;this.accuracyCircle=new esri.symbol.SimpleFillSymbol(esri.symbol.SimpleFillSymbol.STYLE_SOLID,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color([42,84,155,0.65]),2),new esri.Color([42,84,155,0.35]));this.indicatorIcon=null;this.mapZoomEndEventId=new Observable(null);this.activeToolChangedEventId=
new Observable(null);this.lastProjectedPoint=null;this.singleGeolocationProfiles={};this.singleGeolocationFallbackProfile={accuracyThreshold:10,timeLimit:3E4}}__extends(b,f);b.prototype.initialize=function(a){this._registerCommands();if(a&&(this.geolocateEnabled.set(a.geolocateEnabled||!1),this.trackingEnabled.set(a.trackingEnabled||!1),this.followingEnabled.set(a.followingEnabled||!1),this.geolocateOptions.enableHighAccuracy=a.hasOwnProperty("enableHighAccuracy")?a.enableHighAccuracy:!0,this.geolocateOptions.timeout=
a.hasOwnProperty("timeout")?a.timeout:Infinity,this.geolocateOptions.maximumAge=a.maximumAge||0,a.hasOwnProperty("singleGeolocationProfiles")))for(var d in a.singleGeolocationProfiles)this.singleGeolocationProfiles[d]=a.singleGeolocationProfiles[d];this.geolocateEnabled.get()||this.trackingEnabled.get()||this.followingEnabled.get()||this.visible.set(!1);navigator.geolocation?("undefined"!==typeof a.adjustExtentZoomOnGeolocate?this.adjustExtentZoomOnGeolocate.set(a.adjustExtentZoomOnGeolocate):this.adjustExtentZoomOnGeolocate.set(!0),
"undefined"!==typeof a.geolocateExtentZoomLevel?this.geolocateExtentZoomLevel.set(a.geolocateExtentZoomLevel):this.geolocateExtentZoomLevel.set(5E4),"undefined"!==typeof a.geolocateAccuracyCircleEnabled?this.geolocateAccuracyCircleEnabled.set(a.geolocateAccuracyCircleEnabled):this.geolocateAccuracyCircleEnabled.set(!0),"undefined"!==typeof a.geolocationIndicator&&(this.indicatorIcon=new esri.symbol.PictureMarkerSymbol({angle:0,xoffset:0,yoffset:0,type:"esriPMS",url:a.geolocationIndicator,contentType:"image/png",
width:24,height:24}),null==this.indicatorIcon&&(this.indicatorIcon=new esri.symbol.PictureMarkerSymbol({angle:0,xoffset:0,yoffset:0,type:"esriPMS",url:"Resources/Images/Icons/geolocate-position-32.png",contentType:"image/png",width:24,height:24}))),navigator.geolocation?(this.app.event("SiteInitializedEvent").once(this,this._handleGeolocateStateChanged),this.app.event("ApplicationOnlineEvent").subscribe(this,this._handleGeolocateStateChanged),this.app.event("ApplicationOfflineEvent").subscribe(this,
this._handleGeolocateStateChanged),this.app.event("NativeApplicationReady").subscribe(this,this._handleGeolocateStateChanged)):this.visible.set(!1),this.optionsCount.set(this.geolocateEnabled.get()?this.optionsCount.get()+1:this.optionsCount.get()),this.optionsCount.set(this.followingEnabled.get()?this.optionsCount.get()+1:this.optionsCount.get()),this.optionsCount.set(this.trackingEnabled.get()?this.optionsCount.get()+1:this.optionsCount.get())):this.visible.set(!1)};b.prototype._registerCommands=
function(){var a=this;this.app.command("ShowGeolocateMenu").register(this,function(){a.app.command("ActivateView").execute("GeolocateView")},function(){return a.visible.get()});this.app.command("Geolocate").register(this,this._geolocate);this.app.command("GeolocateTrack").register(this,this._geolocateTrack);this.app.command("GeolocateFollow").register(this,this._geolocateFollow);this.app.command("GeolocateStop").register(this,this._stopGeolocation);this.app.command("GeolocateShowBuffer").register(this,
this._showBuffer);this.app.command("GeolocateHideBuffer").register(this,this._hideBuffer)};b.prototype._handleGeolocateStateChanged=function(){var a=this,d=this.app.map,g=this.app.isOffline.get();if(!this._geolocateIsEnabled())this.visible.set(!1);else if(this.app.isNative.get())this._setVisibilityForNativeApp(d);else if(!g)this.visible.set(!0);else if(d.loaded)this._checkSpatialReferencesAndSetVisibility(d);else if(!d.loaded)this.app.event("MapLoadedEvent").once(this,function(d){return a._checkSpatialReferencesAndSetVisibility(d)})};
b.prototype._checkSpatialReferencesAndSetVisibility=function(a){this._geolocateIsEnabled();this.visible.set(!1)};b.prototype._setVisibilityForNativeApp=function(a){var d=this;if(this._geolocateIsEnabled()){var g=function(a){!a.spatialReference||102100!==a.spatialReference.wkid&&4326!==a.spatialReference.wkid?a.spatialReference?d.app.command("NativeHasCapability").execute("project",function(a){return d.visible.set(a)}):d.visible.set(!1):d.visible.set(!0)};if(a.loaded)g(a);else this.app.event("MapLoadedEvent").once(this,
function(a){return g(a)})}else this.visible.set(!1)};b.prototype._geolocateIsEnabled=function(){return this.geolocateEnabled.get()||this.trackingEnabled.get()||this.followingEnabled.get()};b.prototype._geolocate=function(a){this._stopGeolocation();a&&"toolFriendly"in a&&a.toolFriendly||this.app.command("ClearActiveTool").execute();this.singleGeolocationAccuracyThreshold=this.singleGeolocationFallbackProfile.accuracyThreshold;this.singleGeolocationTimeLimit=this.singleGeolocationFallbackProfile.timeLimit;
var d=a&&a.profile?a.profile:"default";d in this.singleGeolocationProfiles?("accuracyThreshold"in this.singleGeolocationProfiles[d]&&(this.singleGeolocationAccuracyThreshold=this.singleGeolocationProfiles[d].accuracyThreshold),"timeLimit"in this.singleGeolocationProfiles[d]&&(this.singleGeolocationTimeLimit=this.singleGeolocationProfiles[d].timeLimit)):console.error("Single geolocation profile named '"+d+"' was not found. Fallback values will be used");a&&"accuracyThreshold"in a&&(this.singleGeolocationAccuracyThreshold=
a.accuracyThreshold);a&&"timeLimit"in a&&(this.singleGeolocationTimeLimit=a.timeLimit);this.isSingle.set(!0);this._initializeGeolocation()};b.prototype._geolocateTrack=function(){this.app.command("ClearActiveTool").execute();this._stopGeolocation();this.isTracking.set(!0);this._initializeGeolocation()};b.prototype._geolocateFollow=function(){var a=this;this.app.command("ClearActiveTool").execute();this._stopGeolocation();this.isFollowing.set(!0);this.app.map.disablePan();this.mapZoomEndEventId.set(this.app.event("MapZoomEndEvent").subscribe(this,
function(){a.app.map.enablePan();a.lastProjectedPoint&&a.app.command("PanToPoint").execute(a.lastProjectedPoint);a.isFollowing.get()&&a.app.map.disablePan()}));this._initializeGeolocation()};b.prototype._initializeGeolocation=function(){var a=this,d=e.essentialsHtmlViewer.mapping.modules.geolocate.GeolocateSpoofer||navigator.geolocation;if(navigator&&d)null!==this.geolocateWatchId.get()&&d&&(d.clearWatch(this.geolocateWatchId.get()),this.geolocateWatchId.set(null)),this.activeToolChangedEventId.set(this.app.event("ActiveToolChanged").subscribe(this,
function(){a._stopGeolocation(!0)})),this.isSingle.get()&&(this.singleGeolocationBestEventPayload=null,this.singleGeolocatedEventAlreadyPublished=!1,this.singleGeolocationTimeoutId&&(clearTimeout(this.singleGeolocationTimeoutId),this.singleGeolocationTimeoutId=null),this.singleGeolocationTimeoutId=setTimeout(function(){a._haltSingleGeolocation(!0)},this.singleGeolocationTimeLimit)),this.app.map.removeLayer(this.geolocationLayer),this._showBusyLocating(!0),d=e.essentialsHtmlViewer.mapping.modules.geolocate.GeolocateSpoofer||
navigator.geolocation,this.geolocateWatchId.set(d.watchPosition(function(d){return a._handleGeolocationResult(d)},function(d){return a._handleGeolocationError(d)},this.geolocateOptions));else{var d=this.app.getResource(this.libraryId,"language-geolocate-error"),g=this.app.getResource(this.libraryId,"language-geolocate-error-browser");this.app.command("Alert").execute(g,d)}};b.prototype._showBusyLocating=function(a){var d=this;a?(a=this.app.getResource(this.libraryId,"language-geolocate-in-progress"),
a=new e.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(a,null,this.isSingle.get()?function(){d._haltSingleGeolocation()}:function(){d._stopGeolocation()}),a.showBusyIcon=!0,a.timeoutMS=0,this.app.command("AddStatus").execute(a)):this.app.command("RemoveStatus").execute("")};b.prototype._hideBuffer=function(){this.accuracyGraphic&&this.geolocationLayer.remove(this.accuracyGraphic);this.indicatorGraphic&&this.geolocationLayer.remove(this.indicatorGraphic)};b.prototype._showBuffer=
function(){this.accuracyGraphic&&this.geolocationLayer.add(this.accuracyGraphic);this.indicatorGraphic&&this.geolocationLayer.add(this.indicatorGraphic)};b.prototype._handleGeolocationResult=function(a){var d=this;if(a&&a.coords){var g=new esri.SpatialReference({wkid:4326}),b=new esri.SpatialReference({wkid:102100}),g=new esri.geometry.Point(a.coords.longitude,a.coords.latitude,g),f=esri.geometry.geographicToWebMercator(g),b=e.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.createCircle(b,
f,a.coords.accuracy,60),g=new esri.tasks.ProjectParameters;g.geometries=[b];g.outSR=this.app.map.spatialReference;var r=function(a){d._showBusyLocating(!1);d._stopGeolocation();var g;g=d.app.isOffline.get()?d.getResource("language-geolocate-error-offline"):d.getResource("language-geolocate-error-projection").format(a.message);d.app.trace.warning(a.toString());d.app.command("Alert").execute(g)};h.infrastructure.GeometryUtils.project(g,function(g){var b=(g=g&&0<g.length?g[0]:null)?g.getExtent():null,
b=b?b.getCenter():null,n=new e.essentialsHtmlViewer.mapping.infrastructure.eventArgs.GeolocationEventArgs;n.mapPoint=f;n.projectedMapPoint=b;n.location=a;n.accuracyThreshold=d.singleGeolocationAccuracyThreshold;d.isFollowing.get()?n.typeOfGeolocation="following":d.isTracking.get()?n.typeOfGeolocation="tracking":n.typeOfGeolocation="single";(d.isFollowing.get()||d.isTracking.get())&&d.app.event("GeolocatedEvent").publish(n);if(d.isSingle.get()){if(!d.singleGeolocationBestEventPayload||n.location.coords.accuracy<=
d.singleGeolocationBestEventPayload.location.coords.accuracy)d.singleGeolocationBestEventPayload=n;n=d.singleGeolocationBestEventPayload;n.location.coords.accuracy<=d.singleGeolocationAccuracyThreshold&&(clearTimeout(d.singleGeolocationTimeoutId),d.singleGeolocationTimeoutId=null,d._showBusyLocating(!1),d._updateStatus(n.location),null!==d.geolocateWatchId.get()&&((e.essentialsHtmlViewer.mapping.modules.geolocate.GeolocateSpoofer||navigator.geolocation).clearWatch(d.geolocateWatchId.get()),d.geolocateWatchId.set(null)),
d.app.event("GeolocatedEvent").publish(n),d.singleGeolocatedEventAlreadyPublished=!0)}!d.isTracking.get()&&null==d.geolocationLayer.getMap()&&d.adjustExtentZoomOnGeolocate.get()&&d.app.map.setScale(d.geolocateExtentZoomLevel.get());g&&b?(d.lastProjectedPoint=b,d.isTracking.get()||(d.app.map.enablePan(),d.app.command("PanToPoint").execute(b),d.isFollowing.get()&&d.app.map.disablePan()),null==d.geolocationLayer.getMap()?((d.isFollowing.get()||d.isTracking.get())&&d._showBusyLocating(!1),"undefined"==
typeof d.indicatorGraphic&&(d.indicatorGraphic=new esri.Graphic(b,d.indicatorIcon),d.accuracyGraphic=new esri.Graphic(g,d.accuracyCircle)),d.geolocationLayer.add(d.indicatorGraphic),d.geolocateAccuracyCircleEnabled.get()?(d.accuracyGraphic.setGeometry(g),d.geolocationLayer.add(d.accuracyGraphic)):d.geolocationLayer.remove(d.accuracyGraphic),d.app.map.addLayer(d.geolocationLayer)):(d.indicatorGraphic.setGeometry(b),d.geolocateAccuracyCircleEnabled.get()&&d.accuracyGraphic.setGeometry(g)),(d.isFollowing.get()||
d.isTracking.get())&&d._updateStatus(a),d.app.map.on("click",function(a){if(d.accuracyGraphic===a.graphic||d.indicatorGraphic==a.graphic)d.geolocationLayer.remove(d.accuracyGraphic),d.isFollowing.get()||d.isTracking.get()||d._stopGeolocation()})):r(Error("Cannot add the indicators and status message to the map without a proper geometry."))},r,this.app)}};b.prototype._handleGeolocationError=function(a){this._showBusyLocating(!1);this._stopGeolocation();var d;switch(a.code){case a.PERMISSION_DENIED:d=
"language-geolocate-error-permission";break;case a.POSITION_UNAVAILABLE:d="language-geolocate-error-position-unavailable";break;case a.TIMEOUT:d="language-geolocate-error-timeout";break;default:d="language-geolocate-error-unknown"}this.app.event("GeolocationFailedEvent").publish({error:a,isFollowing:this.isFollowing.get(),isTracking:this.isTracking.get()});d=this.getResource("language-geolocate-error")+this.getResource(d);this.app.trace.warning(d+": "+a.message);this.app.command("Alert").execute(d)};
b.prototype._haltSingleGeolocation=function(a){void 0===a&&(a=!1);var d=this.geolocateWatchId.get(),g=e.essentialsHtmlViewer.mapping.modules.geolocate.GeolocateSpoofer||navigator.geolocation;null!==d&&g&&(g.clearWatch(d),this.geolocateWatchId.set(null));this.singleGeolocationTimeoutId&&(clearTimeout(this.singleGeolocationTimeoutId),this.singleGeolocationTimeoutId=null);this.singleGeolocationBestEventPayload?(this._showBusyLocating(!1),this._updateStatus(this.singleGeolocationBestEventPayload.location),
this.singleGeolocatedEventAlreadyPublished||(d=this.singleGeolocationBestEventPayload,d.timedOut=a,this.app.event("GeolocatedEvent").publish(d),this.singleGeolocatedEventAlreadyPublished=!0)):(this._stopGeolocation(),this.app.command("Alert").execute(this.app.getResource(this.libraryId,"language-geolocate-error-no-results"),this.app.getResource(this.libraryId,"language-geolocate-title")))};b.prototype._stopGeolocation=function(a){void 0==a&&(a=!1);var d=e.essentialsHtmlViewer.mapping.modules.geolocate.GeolocateSpoofer||
navigator.geolocation;null!==this.geolocateWatchId.get()&&d&&(d.clearWatch(this.geolocateWatchId.get()),this.geolocateWatchId.set(null));this.singleGeolocationTimeoutId&&(clearTimeout(this.singleGeolocationTimeoutId),this.singleGeolocationTimeoutId=null);this.lastProjectedPoint=null;this.app.event("MapZoomEndEvent").unsubscribe(this.mapZoomEndEventId.get());this.app.event("ActiveToolChanged").unsubscribe(this.activeToolChangedEventId.get());this.app.map.removeLayer(this.geolocationLayer);this.isSingle.set(!1);
this.isTracking.set(!1);this.isFollowing.set(!1);this.app.command("RemoveStatus").execute("");a||this.app.map.enableMapNavigation();this.app.command("DeactivateView").execute("GeolocateStatusView")};b.prototype._updateStatus=function(a){var d=this,g=this.app.viewManager.getViewById("GeolocateStatusView");if(g){g.viewModel.onClose=function(){d._stopGeolocation()};var b;this.isSingle.get()?b="single":this.isTracking.get()?b="tracking":this.isFollowing.get()&&(b="following");g.viewModel.updateStatus(b,
a);g.viewModel.status.get()||g.viewModel.showCoordinates.get()?this.app.viewManager.activateView(g):this.app.viewManager.deactivateView(g)}};return b}(e.framework.ui.ViewModelBase);f.GeolocateViewModel=k})(f.geolocate||(f.geolocate={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(a,d){e.call(this,a,d)}__extends(b,e);b.prototype.attach=function(a){a&&(a.layerActionsView=this,e.prototype.attach.call(this,a))};b.prototype.handleClickHyperlink=function(a,d,g){return this.app.followNavigationLink({url:g.uri.get(),element:d})};return b}(e.essentialsHtmlViewer.mapping.infrastructure.menus.MenuView);h.LayerActionsView=f})(h.layerList||(h.layerList={}))})(h.modules||(h.modules={}))})(f.mapping||
(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(a,d){e.call(this,a,d);this.layerHyperlinks=new ObservableCollection;this.registerCommands()}__extends(b,e);b.prototype.registerCommands=function(){var a=this;this.app.command("ShowLayerActions").register(this,function(d){d&&a.layerActionsView&&(a.layerActionsView.viewModel.menuContext.set(d),a.layerActionsView.title.set(d.displayName),a.layerHyperlinks.clear(),a.generateHyperlinks(d),a.app.command("ActivateView").execute(a.layerActionsView.id))})};
b.prototype.generateHyperlinks=function(a){var d=this;a.layerHyperlinks.forEach(function(g){d.layerHyperlinks.addItem(new h.LayerHyperlinkViewModel(d.app,g,a,d.libraryId))});a.mapService&&a.mapService.layerHyperlinks&&a.mapService.layerHyperlinks.forEach(function(g){d.layerHyperlinks.addItem(new h.LayerHyperlinkViewModel(d.app,g,a,d.libraryId))})};return b}(e.essentialsHtmlViewer.mapping.infrastructure.menus.MenuViewModel);h.LayerActionsViewModel=f})(h.layerList||(h.layerList={}))})(h.modules||(h.modules=
{}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(e){function b(a,d){e.call(this,a,d);this._layerList=this._childrenChangedToken=null;this._isApplyingState=!1;this.layerListItems=new ObservableCollection([]);this.layerThemes=new ObservableCollection;this.activeLayerTheme=new Observable(null);this.viewInitialized=new Observable(!1);this.activeLayerTheme.bind(this,dojo.hitch(this,this._setActiveLayerTheme))}__extends(b,e);b.prototype.initialize=function(a){var d=this;e.prototype.initialize.call(this,
a);this.showTransparencySlider=a.showTransparencySlider||!1;this.autoExpandLegendSwatches=a.autoExpandLegendSwatches||!1;this.showTransparencySlider||this.app.trace.info("Transparency sliders not enabled for map services in the Configurable LayerList module");this.app.event("LayerListInitializedEvent").once(this,function(a){d._layerList=a;a=d._layerList.children.get();d.layerListItems.clear();d.setupListItems(a);d.layerListItems.addItems(a);d._childrenChangedToken=d._layerList.children.bind(d,function(a){switch(a.type){case "append":case "insert":var g=
d._layerList.children.get().slice(a.rangeStart,a.rangeEnd+1);d.setupListItems(g);d.layerListItems.insertItems(a.rangeStart,g);break;case "remove":case "clear":d.layerListItems.removeRange(a.rangeStart,a.rangeEnd)}});d._layerList.mapInfo&&d._layerList.mapInfo.gcxMap&&d._layerList.mapInfo.gcxMap.layerThemesInfo&&(a=d._layerList.mapInfo.gcxMap.layerThemesInfo,d.layerThemes.addItems(a.themes),a.activeTheme&&d.activeLayerTheme.set(a.activeTheme),dojo.connect(a,"layerThemeChangedEvent",function(a){a.currTheme&&
d.activeLayerTheme.get()&&d.activeLayerTheme.get()!==a.currTheme&&d.activeLayerTheme.set(a.currTheme)}))})};b.prototype.onDestroy=function(){e.prototype.onDestroy.call(this);this._childrenChangedToken&&this._layerList&&this._layerList.children.unbind(this._childrenChangedToken)};b.prototype.setupListItems=function(a){var d=this,g=function(a){for(var b=0;b<a.length;b++)d._processListItem(a[b]),a[b].children&&a[b].children.length()&&g(a[b].children.get())};g(a)};b.prototype._processListItem=function(a){a.canAdjustOpacity.get()&&
!this.showTransparencySlider&&a.canAdjustOpacity.set(!1);if(a.layerList.enableLegendIntegration&&this.autoExpandLegendSwatches&&(a.type===h.infrastructure.layerList.LayerListItemType.LAYER||a.type===h.infrastructure.layerList.LayerListItemType.GRAPHICSLAYER)){var d=function(){a.expandLegend.set(a.legendItems&&1<a.legendItems.length())};if(a.legendItems&&!a.legendItems.length())a.legendItems.once(this,d);else d()}};b.prototype._setActiveLayerTheme=function(a){a&&!a.isActive&&a.applyToMap()};return b}(e.framework.ui.ViewModelBase);
f.LayerListViewModel=k})(f.layerList||(f.layerList={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=h.infrastructure.FormatUtils,l=h.infrastructure.NumberFormat,b=function(a){function d(){a.apply(this,arguments);this.tSliderElement=null;this.initialOpacity=1;this.layerName=this.descriptionText="";this.SLIDER_MIN_VAL=0;this.SLIDER_MAX_VAL=1;this.SLIDER_STEP_INCREMENT=0.01}__extends(d,a);d.prototype.attach=function(d){a.prototype.attach.call(this,d);if(this.viewModel.opacity){this.initialOpacity=this.viewModel.opacity.get();var b=
$(this.tSliderElement);this.viewModel.opacity.bind(this,function(a){return b.slider("value",a)})}this.layerName=d.name.get();this.descriptionText="{0} {1}: {2}".format(this.layerName,this.app.getResource(this.libraryId,"language-layerlist-opacity-slider-description"),k.formatNumber(d.opacity.get(),l.PERCENT,{fractionalDigits:0}))};d.prototype.added=function(d){a.prototype.added.call(this,d);this._setupJQuerySlider()};d.prototype._setupJQuerySlider=function(){var a=this,d={animate:!0,min:this.SLIDER_MIN_VAL,
max:this.SLIDER_MAX_VAL,step:this.SLIDER_STEP_INCREMENT,orientation:"horizontal",value:this.initialOpacity,slide:function(d,b){return a._handleSliderValueChanged(d,b)}},b=$(this.tSliderElement);b.slider(d);d=b.children(".ui-slider-handle");d.attr("aria-label",this.descriptionText);d.attr("title",this.getResource("language-layerlist-opacity"));d.text(this.getResource("language-layerlist-opacity-slider-handle"))};d.prototype._handleSliderValueChanged=function(a,d){d&&void 0!=d.value&&this.viewModel.opacity&&
(this.viewModel.opacity.set(d.value),this.descriptionText="{0} {1}: {2}".format(this.layerName,this.app.getResource(this.libraryId,"language-layerlist-opacity-slider-description"),k.formatNumber(d.value,l.PERCENT,{fractionalDigits:0})),$(this.tSliderElement).children("a").attr("aria-label",this.descriptionText))};d.prototype.handleTransparencySliderClick=function(){return!1};return d}(e.framework.ui.ViewBase);f.TransparencySliderView=b})(f.layerList||(f.layerList={}))})(h.modules||(h.modules={}))})(f.mapping||
(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(h){function b(a,d){h.call(this,a,d)}__extends(b,h);b.prototype.initialize=function(a){var d=this;a=function(){d.app.site.essentialsMap&&d.app.site.essentialsMap.layerThemesInfo&&d.app.site.essentialsMap.layerThemesInfo.layerThemesConfigured&&(d.layerThemesInfo=d.app.site.essentialsMap.layerThemesInfo,d.app.site.hasNamedExtents&&(d.namedExtents=d.app.site.namedExtents),d.layerThemesInfo.activeTheme&&d._handleConfiguredThemeProperties({currTheme:d.layerThemesInfo.activeTheme,
prevTheme:d.layerThemesInfo.previousTheme}),d._registerEvents());d._registerCommands()};if(this.app.site&&this.app.site.isInitialized)a();else this.app.event("SiteInitializedEvent").once(this,a)};b.prototype._registerCommands=function(){this.app.command("SwitchToLayerTheme").register(this,this._switchToLayerThemeImpl)};b.prototype._registerEvents=function(){var a=this;this.layerThemesInfo&&(dojo.connect(this.layerThemesInfo,"layerThemeChangingEvent",function(d){a.app.event("LayerThemeChangingEvent").publish(d)}),
dojo.connect(this.layerThemesInfo,"layerThemeChangedEvent",function(d){a._handleConfiguredThemeProperties(d);a.app.event("LayerThemeChangedEvent").publish(d)}))};b.prototype._switchToLayerThemeImpl=function(a){if(this.layerThemesInfo&&this.layerThemesInfo.layerThemesConfigured){var d=this.layerThemesInfo.getTheme(a,!0);d?d.applyToMap():this.app.trace.warning("LayerThemeModule: Could not switch layer theme to: {0}. Specified theme not found.".format(a))}else this.app.trace.warning("LayerThemeModule: Could not switch layer theme to: {0}. No layer themes configured.".format(a))};
b.prototype._handleConfiguredThemeProperties=function(a){var d=this;if(a.currTheme&&a.currTheme.properties&&a.currTheme.properties.length)for(var g=0;g<a.currTheme.properties.length;g++){var b=a.currTheme.properties[g];switch(b.name){case "LayerThemeNamedExtent":case "layerThemeNamedExtent":case "layerthemenamedextent":case "LAYERTHEMENAMEDEXTENT":if(this.namedExtents)for(var h=0;h<this.namedExtents.length;h++)if(this.app.map&&(this.namedExtents[h].id===b.value||this.namedExtents[h].displayName===
b.value)){if(this.app.map.loaded)e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(this.app,this.namedExtents[h].extent,10,!0);else var f=this.app.map.on("load",function(){f.remove();e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.zoomToExtentWithPriority(d.app,d.namedExtents[h].extent,10,!0)});break}break;default:this.app.trace.info("LayerThemesModule: Property {0} not supported by the Geocortex Viewer for HTML".format(b.name))}}};return b}(e.framework.application.ModuleBase);
h.LayerThemesModule=f})(h.layerThemes||(h.layerThemes={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(a,d){e.call(this,a,d)}__extends(b,e);b.prototype.handleClose=function(a,d,g){this.app.viewManager.deactivateView(this);this.app.event("MapTipClosedEvent").publish()};return b}(e.framework.ui.ViewBase);h.MapTipView=f})(h.maptips||(h.maptips={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(h){function b(a,d){h.call(this,a,d);this.fsc=null;this.currentFeature=new Observable(null);this.searchSuggestion=this.title=null;this.showNoResults=new Observable(!1);this.showLoading=new Observable(!0);this.containerView=this.contentField=this.calloutID=null;this.features=new ObservableCollection;this.presentableFeatures=new e.framework.ui.PresentableCollection(this.features);this.hasMultipleFeatures=new Observable(!1);
this.hasNullGeometry=new Observable(!1);this._esriFeatureBindToken=this._boundEsriFeature=this._fscBindHandle=null;this.currentFeature.bind(this,this.currentFeatureChanged);this.title=new Observable(this.app.getResource(this.libraryId,"language-common-results"));this.app.event("FSMCollectionClosedEvent").subscribe(this,this.fsmCollectionClosed);this.hasMultipleFeatures.syncTransform(this.presentableFeatures.numberOfItems,function(a){return 1<a});this.searchSuggestion=new Observable(this.app.getResource(this.libraryId,
"language-common-no-results-short"))}__extends(b,h);b.prototype.setFeatureSetCollection=function(a){this.fsc&&this._fscBindHandle&&(this.fsc.featureSets.bindingEvent.unsubscribe(this._fscBindHandle),this._fscBindHandle=null);this.fsc=a;this.updateFeatures();this.updateCurrentFeature();var d=this.app.featureSetManager.getSearchSuggestion(a.sourceName);this.searchSuggestion.set(d?d:this.app.getResource(this.libraryId,"language-common-no-results-short"));a&&(this._fscBindHandle=a.featureSets.bindingEvent.subscribe(this,
function(a){this.updateFeatures();"clear"===a.type?this.clearCurrentFeature():this.updateCurrentFeature()}))};b.prototype.updateCurrentFeature=function(){var a=[];this.fsc&&this.fsc.featureSets&&0<this.fsc.featureSets.length()&&(a=this.fsc.featureSets.get().filter(function(a){return!a.layer||a.layer&&a.layer.showMapTips}));a.length&&0<a[0].features.length()?(a=a[0].features.getAt(0))&&this.currentFeature.get()!==a&&this.currentFeature.set(a):this.currentFeature.set(null)};b.prototype.updateFeatures=
function(){var a=[];if(this.fsc&&this.fsc.featureSets)for(var d=0;d<this.fsc.featureSets.length();d++){var g=this.fsc.featureSets.getAt(d);if((!g.layer||g.layer.showMapTips)&&g.features)for(var b=0;b<g.features.length();b++)a.push(g.features.getAt(b))}else this.currentFeature.get()&&(a=[this.currentFeature.get()]);this.features.set(a)};b.prototype.clearCurrentFeature=function(){this.title.removeSync();this.title.set(this.app.getResource(this.libraryId,"language-common-results"));this.isFscOpen()?
(this.showNoResults.set(!1),this.showLoading.set(!0)):(this.showNoResults.set(!0),this.showLoading.set(!1))};b.prototype.currentFeatureChanged=function(a){var d=this;this.hasNullGeometry.set(!1);if(a){this._esriFeatureBindToken&&this._boundEsriFeature&&(this._boundEsriFeature.unbind(this._esriFeatureBindToken),this._esriFeatureBindToken=this._boundEsriFeature=null);this._boundEsriFeature=a.esriFeature;this._esriFeatureBindToken=this._boundEsriFeature.bind(this,function(a){return d.currentFeature.pulse()});
for(var g=0;g<this.features.length();g++)if(this.features.getAt(g)===this.currentFeature.get()){this.presentableFeatures.currIndexStart.set(g);this.presentableFeatures.currIndexEnd.set(g);break}this.title.set(a.label.get());a&&a.esriFeature.get()&&!a.esriFeature.get().geometry&&this.hasNullGeometry.set(!0);this.showNoResults.set(!1);this.showLoading.set(!1)}else this.clearCurrentFeature();this.calloutID&&this.app.viewManager.notifyDimensionsChanged(this.containerView)};b.prototype.isFscOpen=function(){return this.fsc?
this.app.featureSetManager.isCollectionOpen(this.fsc.id):!1};b.prototype.fsmCollectionClosed=function(a){this.fsc&&a.featureSetCollectionId==this.fsc.id&&this.updateCurrentFeature()};return b}(e.framework.ui.ViewModelBase);h.MapTipContentViewModel=f})(h.maptips||(h.maptips={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.attach=function(a){var d=this;e.prototype.attach.call(this,a);this._fdpv=new h.infrastructure.FeatureDescriptionPresenterView(this.app,this.libraryId);this._fdpv.contentField="label";a.title.bind(this,function(a){var b=d.viewModel.currentFeature.get();d._fdpv.destroyBindings();d._fdpv.root=d.titleElement;b||(d._fdpv.root.innerHTML=null,d._fdpv.root.innerText=
a);d._fdpv.attach(b)})};b.prototype.handleMoveNext=function(){var a=this.viewModel.presentableFeatures.currIndexStart.get(),d=this.viewModel.presentableFeatures;a<d.numberOfItems.get()-1?this.selectFeature(d.getAt(a+1)):d.numberOfItems.get()&&this.selectFeature(d.getAt(0))};b.prototype.handleMovePrev=function(){var a=this.viewModel.presentableFeatures.currIndexStart.get(),d=this.viewModel.presentableFeatures;0<a?this.selectFeature(d.getAt(a-1)):d.numberOfItems.get()&&this.selectFeature(d.getAt(d.numberOfItems.get()-
1))};b.prototype.handleSelect=function(){this.viewModel.calloutID&&this.app.viewManager.notifyDimensionsChanged(this.viewModel.containerView)};b.prototype.selectFeature=function(a){this.viewModel.currentFeature.set(a);this.viewModel.calloutID&&this.app.viewManager.notifyDimensionsChanged(this.viewModel.containerView)};return b}(e.framework.ui.ViewBase);f.MapTipHeaderView=k})(f.maptips||(f.maptips={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(e){function b(){e.apply(this,arguments);this._addedGraphicsToMapLayer=[]}__extends(b,e);b.prototype.addToMapGraphicLayer=function(a){var d=this;void 0===a&&(a=!1);a&&(this._addedGraphicsToMapLayer=[]);this._addedGraphicsToMapLayer.push(this.app.map.graphics.add(this.highlightGraphic));this.highlightIdTagGraphic&&this._addedGraphicsToMapLayer.push(this.app.map.graphics.add(this.highlightIdTagGraphic));this.textGraphics.forEach(function(a){d._addedGraphicsToMapLayer.push(d.app.map.graphics.add(a))});
this.show()};b.prototype.getMapGraphics=function(){return this._addedGraphicsToMapLayer};b.prototype.addToMeasurementLayer=function(a){void 0===a&&(a=!0);e.prototype.addToLayer.call(this,a)};b.prototype.hide=function(){e.prototype.hide.call(this);this._addedGraphicsToMapLayer.forEach(function(a){a.hide()});return this};b.prototype.show=function(){e.prototype.show.call(this);this._addedGraphicsToMapLayer.forEach(function(a){a.show()});return this};b.prototype.assignMeasurementId=function(a){e.prototype.assignGraphicIdentifierKey.call(this,
"measurementId",a)};return b}(e.infrastructure.highlightedLabel.HighlightedLabelGraphic);f.HighlightedMeasurementLabel=k})(f.measurement||(f.measurement={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(a,d){e.call(this,a,d);this.measurementSwitcherView=null}__extends(b,e);b.prototype.attach=function(a){e.prototype.attach.call(this,a);this.measurementSwitcherView=this.app.viewManager.getViewById("MeasurementUnitSwitcherView")};b.prototype.activateUnitSwitcherView=function(){this.measurementSwitcherView&&!this.measurementSwitcherView.isActive&&this.app.command("ActivateView").execute("MeasurementUnitSwitcherView")};
b.prototype.deactivateUnitSwitcherView=function(){this.measurementSwitcherView&&this.measurementSwitcherView.isActive&&this.app.command("DeactivateView").execute("MeasurementUnitSwitcherView")};b.prototype.handleClickClose=function(){this.deactivateUnitSwitcherView();this.app.command("ClearActiveTool").execute()};b.prototype.handleShowLengthSwitcher=function(){this.viewModel.measurementInProgress.get()||(this.viewModel.lengthSwitcherSelected.set(!0),this.activateUnitSwitcherView())};b.prototype.handleShowAreaSwitcher=
function(){this.viewModel.measurementInProgress.get()||(this.viewModel.lengthSwitcherSelected.set(!1),this.activateUnitSwitcherView())};b.prototype.handleSetLengthUnits=function(a,d,g){this.viewModel.selectedLengthUnits.set(g);this.deactivateUnitSwitcherView()};b.prototype.handleSetAreaUnits=function(a,d,g){this.viewModel.selectedAreaUnits.set(g);this.deactivateUnitSwitcherView()};return b}(e.framework.ui.ViewBase);h.MeasurementView=f})(h.measurement||(h.measurement={}))})(h.modules||(h.modules={}))})(f.mapping||
(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=e.infrastructure.FormatUtils,l=e.infrastructure.NumberFormat,b=function(){function a(a,g,b){var f=this;this.GCX_UNIT_YARDS=12345;this.GCX_UNIT_SQ_NAUTICAL_MILES="gcXSqNauticalMileConstant";this.geometryIdCounter=1;this.descriptorContainer=[];this.measurementLayerId=this.markupLayerId=null;this.unit={feet:null,yard:null,meter:null,kilometer:null,mile:null,nauticalMile:null,sqFeet:null,sqYard:null,sqMeter:null,sqKilometer:null,sqMile:null,
sqNauticalMile:null,acre:null,hectare:null};this.measurementResultTypes=[];this.coordinateFractionalDigits=4;this.measurementFractionalDigits=2;this.degreeFormat=e.infrastructure.coordinates.AngleFormat.DD;this.angleDirectionSystem=e.infrastructure.coordinates.AngleDirectionSystem.POLAR;this.addedMapGraphics=[];this._measurementLayersCreated=this._currentGeometryInProcess=this._currentLineSegmentInProcess=this._areaUnitString=this._lengthUnitString=this._areaUnit=this._lengthUnit=this._predictiveMeasurementCount=
this._measurementModule=this._predictiveMeasurementsGraphic=this._mapOutToken=this._delayedExecuteToken=this._predictiveMeasurementToken=this._zoomEndToken=null;this._toolActive=!1;this._predictiveMeasurementTextSize=this._predictiveMeasurementHighlightRadius=this._predictiveMeasurementOutlineWidth=this._predictiveMeasurementOutlineColor=this._predictiveMeasurementHighlightColor=this._predictiveMeasurementTextColor=null;this.app=g;this.libraryId=b;this._measurementModule=a;this._predictiveMeasurementCount=
0;this._measurementLayersCreated=!1;this.measurementInProgress=new Observable(!1);this.descriptorContainerEmpty=new Observable(!0);this._getUnitLanguageResources();this._subscribeEvents();this.descriptorContainerEmpty.bind(this,function(a){a&&f._zoomEndToken?(f._zoomEndToken.remove(),f._zoomEndToken=null,f.app.command("ClearMarkup").raiseCanExecuteChanged()):a||f._zoomEndToken||(f._zoomEndToken=f.app.map.on("zoom-end",dojo.hitch(f,f.refreshLabels)))})}a.prototype._subscribeEvents=function(){this.app.event("MarkupEditingStartedEvent").subscribe(this,
this._processMarkupEditingStarted);this.app.event("MarkupEditingStoppedEvent").subscribe(this,this._processMarkupEditingStopped);this.app.event("MarkupDeletedEvent").subscribe(this,this._processMarkupDeleted);this.app.event("MarkupClearedEvent").subscribe(this,this.destroyAllDescriptors)};a.prototype.formatMeasurement=function(a,g){void 0===g&&(g=2);return null==a||"number"!==typeof a?"":k.formatNumber(a,l.NUMBER,{fractionalDigits:g})};a.prototype.measurementCompleted=function(){var a=this;this.addedMapGraphics.forEach(function(g){g.getMapGraphics().forEach(function(g){a.app.map.graphics.remove(g)})});
this.addedMapGraphics.forEach(function(a){a.addToMeasurementLayer(a.isVisible())})};a.prototype.createDescriptor=function(a,g){var b=null;switch(a){case f.DescriptorType.LINE_SEGMENT:this._currentLineSegmentInProcess=b=new f.LineSegmentDescriptor(g,this.app);break;case f.DescriptorType.POLYLINE:case f.DescriptorType.POLYGON:b=new f.GeometryDescriptor(this.geometryIdCounter.toString(),a,g,this.app);this.descriptorContainer.push(b);this.geometryIdCounter++;this._currentGeometryInProcess=b;break;default:this._reportStatus("MeasurementMarkupManager: Invalid Descriptor type",
"error",!1)}this.descriptorContainerEmpty.set(!1);return b};a.prototype.destroyDescriptor=function(a,g,b){var e=this;void 0===g&&(g=!1);void 0===b&&(b=!0);for(var h=0;h<this.descriptorContainer.length;h++)if(g||this.descriptorContainer[h].id===a){var f=this.descriptorContainer[h];f.setInactive();for(var m=0;m<f._lineSegments.length;m++){var l=f._lineSegments[m];this._removeGraphicFromLayer(l.graphic);this._removeHighlightedLabelFromLayer(l.highlightedLabelGraphic)}(g||!g&&b)&&this._removeGraphicFromLayer(f.graphic);
f.highlightedLabelGraphic&&(this._removeGraphicFromLayer(f.highlightedLabelGraphic.highlightGraphic),f.highlightedLabelGraphic.textGraphics.forEach(function(a){e._removeGraphicFromLayer(a)}),this._removeHighlightedLabelFromLayer(f.highlightedLabelGraphic));f.measurementData&&(m=this.app.featureSetManager.getCollectionById("Measurement"))&&m.featureSets.removeItem(f.measurementData);this._currentGeometryInProcess&&this._currentGeometryInProcess.id===f.id&&(this._currentGeometryInProcess=null);this.app.event("MeasurementMarkupDeleted").publish({graphic:f.graphic,
measurementDescriptor:f});if(g)h===this.descriptorContainer.length-1&&(this.descriptorContainer=[]);else{this.descriptorContainer.splice(h,1);break}}0===this.descriptorContainer.length&&this.descriptorContainerEmpty.set(!0)};a.prototype.getGeometryDescriptorById=function(a){for(var g=0;g<this.descriptorContainer.length;g++)if(this.descriptorContainer[g].id===a)return this.descriptorContainer[g];return null};a.prototype.getGeometryDescriptorByGeometry=function(a){for(var g=0;g<this.descriptorContainer.length;g++)if(a.declaredClass===
this.descriptorContainer[g].geometry.declaredClass){var b=this.descriptorContainer[g].geometry;if(a!==b){var e=a.paths?a.paths.length:a.rings?a.rings.length:0;if(e===(b.paths?b.paths.length:b.rings.length))for(;0<e;){e=a.paths?a.paths[0].length:a.rings[0].length;if(e===(b.paths?b.paths[0].length:b.rings[0].length))for(var h=0;h<e;h++){var f=a.getPoint(0,h),m=b.getPoint(0,h);if(f.x!==m.x||f.y!==m.y)break;if(h===e-1)return this.descriptorContainer[g]}break}}else return this.descriptorContainer[g]}return null};
a.prototype.getMeasurementResultsCollection=function(){var a=this.app.featureSetManager.getCollectionById("Measurement");a||(a=new e.infrastructure.FeatureSetCollection,a.id="Measurement",a.sourceName="Measurement",a.displayName.set(this.app.getResource(f.measurementMarkupManager.libraryId,"language-measurement-results-collection-name")),this.app.featureSetManager.addCollection(a));return a};a.prototype.destroyAllDescriptors=function(){this.destroyDescriptor("",!0)};a.prototype.refreshLabels=function(){for(var a=
0;a<this.descriptorContainer.length;a++)this.descriptorContainer[a].refreshLabelVisibilities()};a.prototype.activatePredictiveMeasurements=function(){var a=this;if(this._measurementModule._enablePrediction){var g=!0,b=0,e=0;this._predictiveMeasurementToken=this.app.map.on("mouse-move",function(h){if(b!==h.mapPoint.x||e!==h.mapPoint.y){b=h.mapPoint.x;e=h.mapPoint.y;var f=function(){a._predictiveMeasurementCount++;a._executePredictiveMeasurements(h.mapPoint,a._predictiveMeasurementCount)};switch(g){case !1:a._predictiveMeasurementsGraphic&&
a._predictiveMeasurementsGraphic.isVisible()&&a._predictiveMeasurementsGraphic.hide(),a._delayedExecuteToken&&(clearTimeout(a._delayedExecuteToken),a._delayedExecuteToken=null),g=!0;case !0:a._delayedExecuteToken=setTimeout(f,1E3),g=!1}}})}};a.prototype.deactivatePredictiveMeasurements=function(){this._measurementModule._enablePrediction&&(this._delayedExecuteToken&&(clearTimeout(this._delayedExecuteToken),this._delayedExecuteToken=null),this._predictiveMeasurementToken&&(this._predictiveMeasurementToken.remove(),
this._predictiveMeasurementToken=null),this._predictiveMeasurementCount=0,this._predictiveMeasurementsGraphic&&this._predictiveMeasurementsGraphic.hide())};a.prototype._setLayerIds=function(a,g){this.markupLayerId=a?a:this.markupLayerId;this.measurementLayerId=g?g:this.measurementLayerId};a.prototype._setMapTipPresentation=function(a,g,b,e,h,f){this._predictiveMeasurementTextColor=a;this._predictiveMeasurementHighlightColor=g;this._predictiveMeasurementOutlineColor=b;this._predictiveMeasurementOutlineWidth=
e;this._predictiveMeasurementHighlightRadius=h;this._predictiveMeasurementTextSize=f};a.prototype._executePredictiveMeasurements=function(a,g){var b=this;if(this._currentGeometryInProcess&&this._currentLineSegmentInProcess&&this._currentLineSegmentInProcess.mapPointStart){if(!this._measurementLayersCreated){var e=f.MeasurementUtils.getGraphicsLayer(this.markupLayerId,!0,this.app),h=f.MeasurementUtils.getGraphicsLayer(this.measurementLayerId,!0,this.app);e&&h&&(this._measurementLayersCreated=!0)}var l=
0,k=0===this._currentGeometryInProcess._lineSegments.length?this._currentLineSegmentInProcess.mapPointStart:this._currentGeometryInProcess._lineSegments[this._currentGeometryInProcess._lineSegments.length-1].mapPointEnd,p="";if(a.x!==k.x||a.y!==k.y)switch(this._currentGeometryInProcess.type){case f.DescriptorType.POLYLINE:e=new esri.geometry.Polyline(k.spatialReference);e.addPath([k,a]);this._measurementModule._processLineSegment(e,function(e){l=b._currentGeometryInProcess.length?e.length+b._currentGeometryInProcess.length:
e.length;e=f.measurementMarkupManager.formatMeasurement(e.length,b.measurementFractionalDigits);var h=f.measurementMarkupManager.formatMeasurement(l,b.measurementFractionalDigits);p=b.app.getResource(f.measurementMarkupManager.libraryId,"language-measurement-polyline-predictive-markup-label").format(e,b._lengthUnitString,h,b._lengthUnitString);g===b._predictiveMeasurementCount&&(b._predictiveMeasurementsGraphic=f.MeasurementUtils.addHighlightedLabelToMap(p,a,null,b.measurementLayerId,b.app,!0,0,0,
"Arial",b._predictiveMeasurementTextSize,b._predictiveMeasurementTextColor,b._predictiveMeasurementHighlightColor,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,b._predictiveMeasurementOutlineColor,b._predictiveMeasurementOutlineWidth),b._predictiveMeasurementHighlightRadius,0,!0))});break;case f.DescriptorType.POLYGON:for(var e=new esri.geometry.Polygon(k.spatialReference),h=[],w=0;w<this._currentGeometryInProcess._lineSegments.length;w++)h.push(this._currentGeometryInProcess._lineSegments[w].mapPointStart),
h.push(this._currentGeometryInProcess._lineSegments[w].mapPointEnd);0===h.length&&h.push(k,a);h.push(a);h.push(h[0]);e.addRing(h);this._measurementModule._processPolygon(e,function(e){var h=new esri.geometry.Polyline(k.spatialReference);h.addPath([k,a]);b._measurementModule._processLineSegment(h,function(h){var q=0===e.perimeter?2*h.length:e.perimeter;h=f.measurementMarkupManager.formatMeasurement(h.length,b.measurementFractionalDigits);var r=f.measurementMarkupManager.formatMeasurement(e.area,b.measurementFractionalDigits),
q=f.measurementMarkupManager.formatMeasurement(q,b.measurementFractionalDigits);p=b.app.getResource(f.measurementMarkupManager.libraryId,"language-measurement-polygon-predictive-markup-label").format(h,b._lengthUnitString,r,b._areaUnitString,q,b._lengthUnitString);g===b._predictiveMeasurementCount&&(b._predictiveMeasurementsGraphic=f.MeasurementUtils.addHighlightedLabelToMap(p,a,null,b.measurementLayerId,b.app,!0,0,0,"Arial",b._predictiveMeasurementTextSize,b._predictiveMeasurementTextColor,b._predictiveMeasurementHighlightColor,
new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,b._predictiveMeasurementOutlineColor,b._predictiveMeasurementOutlineWidth),b._predictiveMeasurementHighlightRadius,0,!0))})})}}};a.prototype._createMeasurementMarkupFromGeometry=function(a){if(a&&(a instanceof esri.geometry.Polyline||a instanceof esri.geometry.Polygon)){this.app.command("_clearMeasurementMarkup").execute("temporary",!0);var g=this.getGeometryDescriptorByGeometry(a),b=!0;g||(b=null,g=this.createDescriptor(a instanceof
esri.geometry.Polyline?f.DescriptorType.POLYLINE:f.DescriptorType.POLYGON,a.spatialReference),b=a instanceof esri.geometry.Polyline?new esri.geometry.Polyline(a.toJson()):new esri.geometry.Polygon(a.toJson()),g.setGeometry(b),b=!1,this.app.command("_addGeometryMarkup").execute(g));this._recreateMeasurementMarkup(g.graphic,b,!1)}else this._reportStatus("CreateMeasurementMarkup: Invalid geometry type. Measurement information can only be generated for Polyline or Polygon geometry types.","error",!1)};
a.prototype._recreateMeasurementMarkup=function(a,g,b){var q=this;void 0===g&&(g=!0);void 0===b&&(b=!0);var r=function(a){q.app.command(z).execute(a,function(){q.measurementInProgress.set(!1);a.refreshMeasurementData();q._reportStatus("Successfully computed measurement information for specified geometry/graphic.","info",!1)},l)},l=function(a){q.measurementInProgress.set(!1);f.measurementMarkupManager._reportStatus("Error recreating measurement markup: {0}","error",!1,[a])};if(a&&a.geometry&&void 0!=
a.measurementId){var k=a.measurementId,p=a.geometry,w=0,t=0;new Observable(0);p.paths?w=p.paths.length:p.rings&&(w=p.rings.length);if(a&&p instanceof esri.geometry.Polyline||p instanceof esri.geometry.Polygon){var z=p instanceof esri.geometry.Polyline?"MeasureDistance":"MeasureArea",s=p instanceof esri.geometry.Polyline?f.DescriptorType.POLYLINE:f.DescriptorType.POLYGON,v=this.getGeometryDescriptorById(k);if(!v||v&&g)g=null,v&&(g=v.originalZoomLevel,this.destroyDescriptor(k,!1,b)),v=this.createDescriptor(s,
p.spatialReference),v.originalZoomLevel=null===g?v.originalZoomLevel:g,v.drawMode="polyline"===p.type?e.infrastructure.tools.DrawMode.POLYLINE:e.infrastructure.tools.DrawMode.POLYGON,a.measurementId=v.id;v.setGeometry(p);v.graphic=a;var x=[];a=[];for(b=0;b<w;b++)for(k=p.paths?p.paths[b].length:p.rings[b].length,s=1;s<k;s++){g=p.getPoint(b,s-1);var D=p.getPoint(b,s);if(g&&D){var A=this.createDescriptor(f.DescriptorType.LINE_SEGMENT,p.spatialReference);A.id=v.id;A.setStartPt(g);A.setEndPt(D);if(A.mapPointStart.x!==
A.mapPointEnd.x||A.mapPointStart.y!==A.mapPointEnd.y)x.push(A),a.push(A.geometry),t++}}this.measurementInProgress.set(!0);this._measurementModule._processLineSegment(a,function(a){var d=a.serverResponse.lengths.length;a=a.serverResponse.lengths;for(var g=0;g<d;g++)x[g].setMeasurementUnit(q._lengthUnit),x[g].length=a[g],q.app.command("_addLineSegmentMeasurementMarkup").execute(x[g],function(a){a.isActive=v.isActive;v.addSegment(a);g===d-1&&r(v)},l)},l)}else this._reportStatus("Could not recreate measurement markup. Incompatible geometry. Only Polyline and Polygon geometry are supported.",
"warning",!1)}};a.prototype._hideMeasurementMarkup=function(a,g){void 0===g&&(g=!1);for(var b=0;b<this.descriptorContainer.length;b++)if(this.descriptorContainer[b].id===a.measurementId){this.app.command("ClearDefaultHighlights").execute();for(var e=0;e<this.descriptorContainer[b]._lineSegments.length;e++){var h=this.descriptorContainer[b]._lineSegments[e];h.graphic&&h.graphic.hide();h.highlightedLabelGraphic&&h.highlightedLabelGraphic.hide()}b=this.descriptorContainer[b];g&&b.graphic&&b.graphic.hide();
b.highlightedLabelGraphic&&b.highlightedLabelGraphic.hide();break}};a.prototype._updateMeasurementUnits=function(a,g){for(var b=0;b<this.descriptorContainer.length;b++)this.descriptorContainer[b].setMeasurementUnit(a,g);this._lengthUnit=a;this._areaUnit=g;this._lengthUnitString=f.MeasurementUtils.getUnitString(a);this._areaUnitString=f.MeasurementUtils.getUnitString(g)};a.prototype._removeGraphicFromLayer=function(a){if(a){var g=a.getLayer();g&&g.remove(a)}};a.prototype._removeHighlightedLabelFromLayer=
function(a){var g=this;a.textGraphics.forEach(function(a){g._removeGraphicFromLayer(a)});this._removeGraphicFromLayer(a.highlightGraphic);a=this.addedMapGraphics.indexOf(a);-1!==a&&this.addedMapGraphics.splice(a,1)};a.prototype._canExecuteMarkupIntegration=function(a){return a&&void 0!=a.measurementId?!0:!1};a.prototype._processMarkupEditingStarted=function(a){if(this._canExecuteMarkupIntegration(a)){var g=this.getGeometryDescriptorById(a.measurementId);g&&(this._hideMeasurementMarkup(a),g.editingInProgress=
!0)}};a.prototype._processMarkupEditingStopped=function(a){if(this._canExecuteMarkupIntegration(a)){var g=this.getGeometryDescriptorById(a.measurementId);g&&(this._recreateMeasurementMarkup(a,!0,!1),g.editingInProgress=!1)}};a.prototype._processMarkupDeleted=function(a){this._canExecuteMarkupIntegration(a)&&this.destroyDescriptor(a.measurementId)};a.prototype._getUnitLanguageResources=function(){for(var a in this.unit)this.unit.hasOwnProperty(a)&&(this.unit[a]={shortName:this.app.getResource(this.libraryId,
"language-measurement-unit-"+a.toLowerCase()+"-short"),longName:this.app.getResource(this.libraryId,"language-measurement-unit-"+a.toLowerCase()),config:a})};a.prototype._reportStatus=function(a,g,b,e){var h=this;void 0===b&&(b=!1);void 0===e&&(e=null);a="language-measurement-"===a.substring(0,21)?this.app.getResource(this.libraryId,a):a;e&&(a=a.format.apply(a,e));var f=function(){b&&h.app.command("ClearActiveTool").execute()};switch(g.toLowerCase()){case "alert":this.app.command("Alert").execute(a,
this.app.getResource(this.libraryId,"language-measurement-alert-title"),function(){f()});return;case "info":this.app.trace.info(a);break;case "warning":this.app.trace.warning(a);break;case "error":this.app.trace.error(a)}f()};return a}();f.MeasurementMarkupManager=b})(f.measurement||(f.measurement={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){var h=function(){function h(b){this.pointIndex=0;this._tool=this._prevSegEndPt=this._currentLineSegment=this._currentGeometry=null;this._tool=b;this._lineSegmentCommandCallbackCompleted=new Observable(0);this._drawEndInvoked=!1;this._totalSegmentCount=0}h.prototype.setStartPt=function(b){this._tool.app.command("ClearDefaultHighlights").execute();this._tool.app.command("_clearMeasurementMarkup").execute("temporary",!0);this._currentGeometry=
"POLYLINE"===this._tool.drawMode?e.measurementMarkupManager.createDescriptor(e.DescriptorType.POLYLINE,b.mapPoint.spatialReference):e.measurementMarkupManager.createDescriptor(e.DescriptorType.POLYGON,b.mapPoint.spatialReference);this._currentLineSegment=e.measurementMarkupManager.createDescriptor(e.DescriptorType.LINE_SEGMENT,b.mapPoint.spatialReference);this._currentLineSegment.id=this._currentGeometry.id;this._currentLineSegment.setStartPt(b.snappingPoint?b.snappingPoint:b.mapPoint);e.measurementMarkupManager.activatePredictiveMeasurements();
this.pointIndex=1};h.prototype.setEndPt=function(b){var a=this;if(this._currentLineSegment.mapPointStart.x!==b.mapPoint.x||this._currentLineSegment.mapPointStart.y!==b.mapPoint.y){if(this._prevSegEndPt){if(this._prevSegEndPt.x===b.mapPoint.x&&this._prevSegEndPt.y===b.mapPoint.y)return;this._currentLineSegment=e.measurementMarkupManager.createDescriptor(e.DescriptorType.LINE_SEGMENT,this._prevSegEndPt.spatialReference);this._currentLineSegment.id=this._currentGeometry.id;this._currentLineSegment.setStartPt(this._prevSegEndPt);
this._prevSegEndPt=null}this._currentLineSegment.setEndPt(b.snappingPoint?b.snappingPoint:b.mapPoint);this._prevSegEndPt=this._currentLineSegment.mapPointEnd;this._totalSegmentCount++;this._tool.executeToolCommand(this._currentLineSegment,function(d){a._currentGeometry.addSegment(d);a._lineSegmentCommandCallbackCompleted.set(a._lineSegmentCommandCallbackCompleted.get()+1)})}};h.prototype.plotPoint=function(b){0===this.pointIndex?this.setStartPt(b):this.setEndPt(b)};h.prototype.executeDrawEnd=function(b){var a=
this;e.measurementMarkupManager.deactivatePredictiveMeasurements();if(0===this._totalSegmentCount)e.measurementMarkupManager._reportStatus("No geometry drawn. Cannot compute measurements","info",!1),e.measurementMarkupManager.destroyDescriptor(this._currentGeometry.id);else{var d=function(){e.measurementMarkupManager.measurementInProgress.get()&&e.measurementMarkupManager.measurementInProgress.set(!1)},g=function(g){a._tool.onDrawCompleted(g,a._currentGeometry,function(g){d();a._tool.isSticky||a._tool.setActive(!1);
g.refreshMeasurementData()},function(g){d();a._tool.isSticky||a._tool.setActive(!1);a._tool._onDrawCompletedError(g)})};this._drawEndInvoked=!0;this._currentGeometry.setGeometry(b);this._tool.app.command("_addGeometryMarkup").execute(a._currentGeometry);if(this._lineSegmentCommandCallbackCompleted.get()===this._totalSegmentCount)g(b);else var n=this._lineSegmentCommandCallbackCompleted.bind(this,function(d){d===a._totalSegmentCount&&(a._lineSegmentCommandCallbackCompleted.unbind(n),g(b))})}};return h}();
e.MeasurementOperation=h})(e.measurement||(e.measurement={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.initialize=function(a){};return b}(e.framework.application.ModuleBase);h.BasemapModule=f})(h.basemap||(h.basemap={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.attach=function(a){e.prototype.attach.call(this,a);this.configuration&&this.configuration.hasOwnProperty("hideIfNoBasemapsAvailable")&&(this.viewModel.hideIfNoBasemapsAvailable=this.configuration.hideIfNoBasemapsAvailable)};b.prototype.handleDrawerButtonClicked=function(){0<this.viewModel.basemaps.getLength()&&(this.app.viewManager.getViewById("BasemapSwitcherView")&&
this.app.command("ToggleView").execute("BasemapSwitcherView"),this.app.command("ToggleBasemapsDrawer").execute())};return b}(e.framework.ui.ViewBase);h.BasemapSwitcherButtonView=f})(h.basemap||(h.basemap={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.attach=function(a){e.prototype.attach.call(this,a);this.viewModel.isExpanded.bind(this,this._setButtonSize);this.viewModel.selectedBasemap.get()instanceof h.BasemapSliderViewModel&&this.viewModel.sliderIsExpanded.set(!0)};b.prototype._setButtonSize=function(){var a=$(this.drawerContentParent).children().eq(0);this.viewModel.buttonWidth=$(a).outerWidth(!0);
this.viewModel.buttonHeight=$(a).outerHeight(!0)};b.prototype.handleBasemapClick=function(a,d,g){this.app.command("SelectBaseMap").execute(g.displayName.get())};return b}(e.framework.ui.ViewBase);h.BasemapSwitcherView=f})(h.basemap||(h.basemap={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=h.infrastructure.BookmarkSource,l=function(b){function a(a,g){b.call(this,a,g);this._registerCommands()}__extends(a,b);a.prototype.getStateFilter=function(){return{bookmarks:{item:this.app.project.filter.bookmark}}};a.prototype.exportState=function(){return this.app.bookmarks["export"]([k.User,k.Project]).then(function(a){return{bookmarks:a}})};a.prototype.applyState=function(a){var g=this;return this.app.bookmarks.getProjectBookmarks().then(function(a){a.forEach(function(a){return g.app.bookmarks.remove(a)})}).then(function(){return g.app.bookmarks.getUserBookmarks()}).then(function(b){a.bookmarks.filter(function(a){return!b.some(function(d){return d.name===
a.name})}).forEach(function(a){g.app.bookmarks.add({name:a.name,extent:g.app.project.convert.toEsriGeometry(a.extent),source:k.Project})})})};a.prototype._registerCommands=function(){var a=this;this.app.command("AddBookmark").register(this,function(g){if(a.isValidBookmarkName(g))a._addBookmark(g);else throw Error(a.app.getResource(a.libraryId,"language-bookmarks-name-required"));});this.app.command("RemoveBookmark").register(this,function(g){a._deleteBookmark(g)})};a.prototype._deleteBookmark=function(a){var g=
this;a&&this.app.bookmarks.remove(a)["catch"](function(a){g.app.trace.error("Error occurred while deleting bookmark: {0}".format(a))})};a.prototype._addBookmark=function(a){var g=this;a={name:a.trim(),extent:this.app.map.extent,source:k.User};this.app.bookmarks.add(a)["catch"](function(a){g.app.trace.error("Error occurred while adding bookmark: {0}".format(a))})};a.prototype.isValidBookmarkName=function(a){return"string"!==typeof a||null===a||""===a.trim()?!1:!0};return a}(e.framework.application.ModuleBase);
f.BookmarksModule=l})(f.bookmarks||(f.bookmarks={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=e.infrastructure.BookmarkSource,l=function(){function b(a,d,g){this.defaultBookmarkName="Unspecified Bookmark Label";this.extent=null;if(!g)return null;this.displayName=g.name||this.defaultBookmarkName;this.deleteBookmarkString=a.getResource(d,"language-bookmarks-delete")+" "+this.displayName;this.isUserDefined=g.source!==k.Site;this.extent=g.extent;if(!this.extent)return null}b.prototype.setExtent=function(a){if(a&&a.spatialReference&&
a.xmin&&a.ymin&&a.xmax&&a.ymax&&!(!a.spatialReference.wkid&&!a.spatialReference.wkt||a.spatialReference.wkid&&isNaN(parseInt(a.spatialReference.wkid,10))))if(a instanceof esri.geometry.Extent)this.extent=a;else{var d=a.spatialReference.wkid?new esri.SpatialReference(parseInt(a.spatialReference.wkid,10)):new esri.SpatialReference(a.spatialReference.wkt);this.extent=new esri.geometry.Extent(a.xmin,a.ymin,a.xmax,a.ymax,d)}};return b}();f.BookmarkViewModel=l})(f.bookmarks||(f.bookmarks={}))})(e.modules||
(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(a,d){e.call(this,a,d);this.bookmarks=new ObservableCollection;this.textErrorMessage=new Observable;this.bookmarksEnabled=new Observable(!1);this.showBookmarksButton=new Observable(!1);this.newBookmarkName=new Observable;this.active=new Observable(!1);this._buttonEnabled=!1;this.app=a;this.libraryId=d;this._registerCommand();this._subscribeEvents()}__extends(b,e);b.prototype.initialize=function(a){var d=this;
a&&(this.bookmarksEnabled.set(!!a.bookmarksEnabled),this._buttonEnabled=!!a.showBookmarksButton)&&(this.app.configuration.mobileMode?this.bookmarks.bind(this,function(a){d.showBookmarksButton.set("clear"!==a.type&&0<d.bookmarks.length())}):(this.bookmarks.bind(this,function(a){d.active.get()||d.showBookmarksButton.set("clear"!==a.type&&0<d.bookmarks.length())}),this.active.bind(this,function(a){a||d.showBookmarksButton.set(0<d.bookmarks.length())})));this.app.command("ShowBookmarks").raiseCanExecuteChanged();
this.app.command("ShowAddBookmark").raiseCanExecuteChanged();this.bookmarksEnabled.get()?this._initializePromise=this._initializeBookmarks():this._initializePromise=Promise.resolve()};b.prototype._registerCommand=function(){var a=this;this.app.command("ShowBookmarks").register(this,function(){a.app.command("ActivateView").execute("BookmarksView");a._buttonEnabled&&(a.showBookmarksButton.set(!0),a.active.set(!0))},function(){return a.bookmarksEnabled.get()});this.app.command("ShowAddBookmark").register(this,
function(){var d=a.app.viewManager.getViewById("BookmarksView");d&&d.showAddBookmarkDialog()},function(){return a.bookmarksEnabled.get()&&a._buttonEnabled})};b.prototype._subscribeEvents=function(){var a=this;this.app.event("BookmarksModifiedEvent").subscribe(this,function(d){a._initializeBookmarks()})};b.prototype._initializeBookmarks=function(){var a=this;return this.app.bookmarks.getAll().then(function(d){a.bookmarks.set(d.map(function(d){return new h.BookmarkViewModel(a.app,a.libraryId,d)}))})["catch"](function(d){return a.app.trace.error("Error occurred while retrieving the bookmark values: {0}".format(d))})};
b.prototype.existsBookmarkWithName=function(a){if(a){for(var d=0;d<this.bookmarks.getLength();d++)if(this.bookmarks.getAt(d).displayName===a.trim())return!0;return!1}};return b}(e.framework.ui.ViewModelBase);h.BookmarksViewModel=f})(h.bookmarks||(h.bookmarks={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this.subscriptionToken=null}__extends(b,e);b.prototype.attach=function(a){e.prototype.attach.call(this,a);this.subscriptionToken=this.app.event("ViewContainerViewClosedEvent").subscribe(this,function(a){a&&a.viewId===this.id&&this.destroyAddBookmarkView()})};b.prototype.activated=function(){this.viewModel.newBookmarkName.set(null);this.viewModel.textErrorMessage.set(null)};b.prototype.destroyAddBookmarkView=
function(){this.app.viewManager.destroyView(this);this.subscriptionToken&&this.app.event("ViewContainerViewClosedEvent").unsubscribe(this.subscriptionToken)};b.prototype.handleSubmit=function(){if(this.viewModel.existsBookmarkWithName(this.viewModel.newBookmarkName.get()))return this.viewModel.textErrorMessage.set(this.app.getResource(this.libraryId,"language-bookmarks-name-exists")),!1;try{this.app.command("AddBookmark").execute(this.viewModel.newBookmarkName.get())}catch(a){return this.viewModel.textErrorMessage.set(a.message),
!1}this.destroyAddBookmarkView()};b.prototype.handleCancelClick=function(a,d,g){this.destroyAddBookmarkView()};b.prototype.handleTextBoxClick=function(a,d,g){};return b}(e.framework.ui.ViewBase);h.AddBookmarkView=f})(h.bookmarks||(h.bookmarks={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this.addBookMarksView=null;this.addBookmarksViewActive=!1}__extends(b,e);b.prototype.activated=function(){var a=this;if("BookmarksView"===this.id&&this.viewModel.showBookmarksButton.get()&&(this.viewModel.active.set(!0),!this.app.configuration.mobileMode)){this.app.event("FlyoutActivated").publish(this);var d={view:this,onOtherInteracted:function(d){return a._onOtherInteracted(d)}};
this.app.command("TapToDismiss").execute(d)}};b.prototype.deactivated=function(){"ModalWindowRegion"!==this.regionName&&(this.addBookmarksViewActive||this.addBookMarksView)&&(this.addBookMarksView&&(this.app.viewManager.destroyView(this.addBookMarksView),this.addBookMarksView=null),this.addBookmarksViewActive=!1);this.viewModel.showBookmarksButton.get()&&this.viewModel.active.set(!1)};b.prototype.deactivateBookmarksView=function(){this.app.command("DeactivateView").execute("BookmarksView");this.app.configuration.mobileMode||
this.app.event("FlyoutDeactivated").publish(this)};b.prototype.handleBookmarkSelectionChanged=function(a,d,g){if(null!==this.app.map){if(null===this.app.site||!this.app.site.isInitialized||null===this.app.site.essentialsMap||!this.app.site.essentialsMap.isInitialized||null===this.app.site.essentialsMap.initialExtent)return;this.app.map.setExtent(g.extent,!!this.app.map._fitTiledMapsToExtent)}this.deactivateBookmarksView();this.app.command("ShowMap").execute();this.app.command("LogOptimizerEvent").execute("SelectBookmark",
g.displayName)};b.prototype.handleClickToggleBookmark=function(a,d,g){this.app.configuration.mobileMode?this.app.command("ActivateView").execute("BookmarksView"):this.app.command("ToggleView").execute("BookmarksView")};b.prototype.handleHideBookmarks=function(a,d,g){this.deactivateBookmarksView()};b.prototype.handleDeleteBookmark=function(a,d,g){this.app.command("RemoveBookmark").execute(g.displayName)};b.prototype.handleAddBookmark=function(a,d,g){this.showAddBookmarkDialog()};b.prototype.showAddBookmarkDialog=
function(){var a=this;this.addBookMarksView=this.app.viewManager.createView({markupResource:"Mapping/modules/Bookmarks/AddBookmarkView.html",region:"ModalWindowRegion",type:"geocortex.essentialsHtmlViewer.mapping.modules.bookmarks.AddBookmarkView",title:this.app.getResource(this.libraryId,"language-bookmarks-add"),libraryId:this.libraryId});this.addBookMarksView.app=this.app;this.addBookMarksView.attach(this.viewModel);this.app.viewManager.activateView(this.addBookMarksView);this.addBookmarksViewActive=
!0;this.addBookMarksView&&dojo.connect(this.addBookMarksView,"destroy",function(){a.addBookmarksViewActive=!1;a.addBookMarksView=null;var d={view:a,onOtherInteracted:function(d){return a._onOtherInteracted(d)}};a.app.command("TapToDismiss").execute(d)})};b.prototype._onOtherInteracted=function(a){!this.addBookmarksViewActive&&this.isActive&&(a=$(a.target||a.srcElement),a.hasClass("bookmark")&&a.hasClass("toggle-btn")||this.deactivateBookmarksView())};return b}(e.framework.ui.ViewBase);h.BookmarksView=
f})(h.bookmarks||(h.bookmarks={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){(function(b){b[b.esriFieldTypeSmallInteger=0]="esriFieldTypeSmallInteger";b[b.esriFieldTypeInteger=1]="esriFieldTypeInteger";b[b.esriFieldTypeSingle=2]="esriFieldTypeSingle";b[b.esriFieldTypeDouble=3]="esriFieldTypeDouble";b[b.esriFieldTypeString=4]="esriFieldTypeString";b[b.esriFieldTypeDate=5]="esriFieldTypeDate";b[b.esriFieldTypeOID=6]="esriFieldTypeOID";b[b.esriFieldTypeGeometry=7]="esriFieldTypeGeometry";b[b.esriFieldTypeBlob=8]=
"esriFieldTypeBlob";b[b.esriFieldTypeRaster=9]="esriFieldTypeRaster";b[b.esriFieldTypeGUID=10]="esriFieldTypeGUID";b[b.esriFieldTypeGlobalID=11]="esriFieldTypeGlobalID";b[b.esriFieldTypeXML=12]="esriFieldTypeXML";b[b.other=13]="other"})(e.esriFieldTypeEnum||(e.esriFieldTypeEnum={}));var h=e.esriFieldTypeEnum,f=function(){function b(){var a=this;this.type=h.esriFieldTypeString;this._isSettingValue=this._isSettingPresentableValue=!1;this.name=new Observable;this.displayName=new Observable;this.editable=
new Observable(!0);this.readOnly=new Observable(!1);this.required=new Observable(!1);this.nullable=new Observable(!1);this.cssClass=new Observable;this.showIndicator=new Observable(!1);this.value=new Observable(null);this.presentableValue=new Observable;this.formatFunc=function(a){return null===a||void 0===a?"":a.toString()};this.value.bind(this,function(d){a._isSettingValue||(a._isSettingPresentableValue=!0,a.presentableValue.set(a.formatFunc(a.value.get())),a._isSettingPresentableValue=!1)});this.presentableValue.bind(this,
function(d){a._isSettingPresentableValue||(a._isSettingValue=!0,a.value.set(d),a._isSettingValue=!1)})}b.prototype.showFormattedValue=function(){this._isSettingPresentableValue=!0;this.presentableValue.set(this.formatFunc(this.value.get()));this._isSettingPresentableValue=!1};b.prototype.showActualValue=function(){this._isSettingPresentableValue=!0;this.presentableValue.set(this.value.get());this._isSettingPresentableValue=!1};return b}();e.EditingFormField=f})(e.editing||(e.editing={}))})(e.modules||
(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(){function l(){}l.createValidationFunction=function(b,a,d,g){g=f.esriFieldTypeEnum[d.type];var e=function(d){return!1===d.editable.get()||!1!==d.nullable.get()&&!0!==d.required.get()?null:b.getResource(a,"language-feature-editing-requires-value").format(d.displayName.get())};if(d.domain){var h=function(g,h,f,q){h=b.getResource(a,"language-feature-editing-invalid-number").format(h,f,q);return g?l.isValidNumber(d,g)?g<f||
g>q?h:null:h:e(d)};if("codedValue"===d.domain.type)return function(g){return!d.required.get()||null!==g&&void 0!==g?null:b.getResource(a,"language-feature-editing-requires-value").format(d.displayName.get())};if("range"===d.domain.type){var r=d.domain;return d.domain.hasOwnProperty("range")?("Function"===typeof r.replace&&(r=r.replace("[","").replace("]","").split(",")),function(a){return h(a,d.displayName.get(),r[0],r[1])}):function(a){return h(a,d.displayName.get(),r.minValue,r.maxValue)}}return function(a){return null}}switch(g){case "esriFieldTypeDate":return function(a){return a?
null:e(d)};case "esriFieldTypeString":case "esriFieldTypeGUID":return function(g){return g?d.length&&g.toString().length>d.length?b.getResource(a,"language-feature-editing-value-too-long").format(d.displayName.get(),d.length):null:e(d)};case "esriFieldTypeSingle":case "esriFieldTypeDouble":return function(g){return g||0===g?l.isValidNumber(d,g)?l.isWithinNumericTypeRange(d,g)?null:b.getResource(a,"language-feature-editing-invalid-numeric-range").format(d.displayName.get()):b.getResource(a,"language-feature-editing-invalid-decimal").format(d.displayName.get()):
e(d)};case "esriFieldTypeSmallInteger":case "esriFieldTypeInteger":return function(g){return g||0===g?l.isValidNumber(d,g)?l.isWithinNumericTypeRange(d,g)?null:b.getResource(a,"language-feature-editing-invalid-numeric-range").format(d.displayName.get()):b.getResource(a,"language-feature-editing-invalid-integer").format(d.displayName.get()):e(d)};default:return function(a){return null}}};l.isWithinNumericTypeRange=function(b,a){var d=e.infrastructure.FormatUtils.parseNumber(a);if(isNaN(d))return!1;
var g=!0;b.type===f.esriFieldTypeEnum.esriFieldTypeSingle?(g=3.402823*Math.pow(10,38),g=d>=-g&&d<=g):b.type===f.esriFieldTypeEnum.esriFieldTypeSmallInteger?g=-32768<=d&&32767>=d:b.type===f.esriFieldTypeEnum.esriFieldTypeInteger&&(g=-2147483648<=d&&2147483647>=d);return g};l.isValidNumber=function(b,a){return!isNaN(e.infrastructure.FormatUtils.parseNumber(a))};return l}();f.ValidationFunctionFactory=k})(f.editing||(f.editing={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=h.infrastructure.FormatUtils,l=h.infrastructure.TimeZoneUtils,b=function(a){function d(d,b,e,h,f){a.call(this,d,b);this.textareaThreshold=80;this.doNotAdjustTime=!1;this.id="EditingFormViewModel";this.fields=new ObservableCollection;this.validationMessages=new ObservableCollection;this.buttons=new ObservableCollection;this.currentFeature=new Observable;this.featureIsNew=new Observable(!1);d=null;f&&(f.textareaThreshold&&(this.textareaThreshold=
f.textareaThreshold),f.fieldOrder&&(d=f.fieldOrder),f.doNotAdjustTime&&(this.doNotAdjustTime=f.doNotAdjustTime),f.timeZoneId&&(this.fallbackTimeZoneId=f.timeZoneId),f.displayTimeZoneId&&(this.fallbackDisplayTimeZoneId=f.displayTimeZoneId));e&&this.setup(e,h?h:null,d)}__extends(d,a);d.prototype.addValidationMessage=function(a){this.validationMessages.addItem(a)};d.prototype.clearValidationMessages=function(){this.validationMessages.clear()};d.prototype._fieldHasSubTypeDomainValues=function(a,d){for(var b=
0;b<d.types.length;++b){var e=d.types[b];if(e.domains&&a.name in e.domains)return!0}return!1};d.prototype.setup=function(a,d,b){var r=this;this.clear();var B=[];if(!d)throw Error("Attempted to edit a feature with no layer attached!");for(var y=null,u=this.app.site.getFeatureServices(),w=null,t=0;t<u.length;++t){var z=u[t];if(z.serviceLayer===d){w=z.layers[0];break}}u=function(a){if(!w)return null;for(var d=0;d<w.fields.length;++d){var g=w.fields[d];if(g.name===a)return g}return null};t=[];if((z=d._outFields)&&
0<z.length)for(var s=0;s<z.length;++s){var v=z[s];if(0===s&&"*"===v){t=d.fields;break}for(var x=0;x<d.fields.length;++x){var D=d.fields[x];if(D.name===v){t.push(D);break}}}else t=d.fields;if(b){var A=t.slice(),F=[];b.forEach(function(a){for(var d=A.length-1;-1<d;--d){var g=A[d];g.name===a&&(F.push(g),A.splice(d,1))}});F.concat(A);t=F}b=function(a,d){for(var g=0;g<d.length;g++){var b=d[g].prototype.attributes;if(a.name&&b.hasOwnProperty(a.name))return a.nullable=null===b[a.name],!0}return!1};for(z=
0;z<t.length;++z)if((s=t[z])&&s.editable&&(x=u(s.name),!x||x.visible)){var E=h.infrastructure.gis.FieldInfo.fromEsriField(s,d,x);if(void 0===s.nullable||null===s.nullable)if(d&&d.templates&&d.templates.length)b(s,d.templates);else if(d&&d.types&&d.types.length)for(v=0;v<d.types.length&&!(d.types[v].templates&&d.types[v].templates.length&&b(s,d.types[v].templates));v++);var G=!0===s.nullable,I=!1===s.editable,v=!1===G&&!I,D=null;this.featureIsNew.get()&&s.name!==d.typeIdField||a.attributes&&(D=a.attributes[s.name]);
var C=new f.EditingFormField;C.name.set(s.name);C.readOnly.set(I);C.nullable.set(G);C.required.set(v);C.showIndicator.set(C.required.get());C.type=f.esriFieldTypeEnum[s.type];C.renderType=s.type;(function(a){!a.timeZoneId&&r.fallbackTimeZoneId&&(a.timeZoneId=r.fallbackTimeZoneId);!a.displayTimeZoneId&&r.fallbackDisplayTimeZoneId&&(a.displayTimeZoneId=r.fallbackDisplayTimeZoneId);C.formatFunc=function(d){return a.formatValue(d)}})(E);C.value.set(D);C.length=s.length;C.editable.set(s.editable);x?C.displayName.set(x.displayName):
C.displayName.set(null!=s.alias?s.alias:s.name);if("esriFieldTypeDate"===s.type){var H=new e.forms.items.DatePickerFormItem(null,null);H.timePickerItem=new e.forms.items.TimePickerFormItem(null,null);a&&a.attributes[s.name]?(s=k.parseDate(a.attributes[s.name]),s=E.displayTimeZoneId?l.correctDatesForDisplayInDisplayTimeZone(s,E.timeZoneId,E.displayTimeZoneId):l.correctDatesForDisplayInLocalTime(s,E.timeZoneId)):s=C.nullable.get()?null:new Date;H.includeTimePicker.set(!0);H.initialDate.set(s);H.date.set(s);
H.isRequired.set(C.required.get());H.nullable.set(C.nullable.get());E.format&&(s=E.format.match(/\{0:([^}]*)\}/))&&2==s.length&&H.dateFormat.set(s[1]);(function(a){return H.date.bind(r,function(d){r.doNotAdjustTime||(d=l.correctDatesToSubmitInDatabaseTime(d,E.timeZoneId,E.displayTimeZoneId));a.value.set(d)})})(C);C.datePickerViewModel=H}else if(s.name===d.typeIdField)y={viewModel:C,valueCollection:d.types,nullable:!v,nullOption:{name:"",code:null}},C.renderType="typeField",this._applyFieldConfiguration(y,
C),y=D;else if(E.isCodedValueDomain()||E.hasSubtypeCodedValueDomains()){if(x=s.domain)C.domain=x;else for(x=0;x<d.types.length;++x)if(D=d.types[x],D.domains&&s.name in D.domains){C.domain=D.domains[s.name];break}"codedValue"===C.domain.type&&(s={viewModel:C,collectionName:"codedDomainValues",valueCollection:C.domain.codedValues,nullable:!v,nullOption:{name:"",code:null}},C.renderType="codedDomainValue",this._applyFieldConfiguration(s,C))}else C.type!==f.esriFieldTypeEnum.esriFieldTypeDouble&&C.type!==
f.esriFieldTypeEnum.esriFieldTypeInteger&&C.type!==f.esriFieldTypeEnum.esriFieldTypeOID&&C.type!==f.esriFieldTypeEnum.esriFieldTypeSingle&&C.type!==f.esriFieldTypeEnum.esriFieldTypeSmallInteger||C.value.set(k.formatNumber(k.parseNumber(D),"#.####################")),C.renderType=C.type===f.esriFieldTypeEnum.esriFieldTypeString&&C.length>this.textareaThreshold?"textArea":this._getRenderTypeForField(C);this.app.urlParameters.hasOwnProperty("noval")?C.validationFunc=function(){return null}:C.validationFunc=
f.ValidationFunctionFactory.createValidationFunction(this.app,this.libraryId,C,this);B.push(C)}this.fields.addItems(B);if(null!==y)for(x=0;x<d.types.length;x++)a=d.types[x],null!==a.id&&a.id.toString()===y.toString()&&this._applyCodedDomains(a.domains)};d.prototype.getRawFieldValue=function(a){for(var d=0;d<this.fields.getLength();++d){var b=this.fields.getAt(d);if(b.name.get()===a)return b.value.get()}return null};d.prototype.getAttributeValues=function(){for(var a={},d=0;d<this.fields.getLength();++d){var b=
this.fields.getAt(d),e=b.value.get(),l=null;b.type===f.esriFieldTypeEnum.esriFieldTypeDate?(e=b.value.get(),l=null===e?null:k.parseDate(e).getTime()):b.type===f.esriFieldTypeEnum.esriFieldTypeDouble||b.type===f.esriFieldTypeEnum.esriFieldTypeInteger||b.type===f.esriFieldTypeEnum.esriFieldTypeOID||b.type===f.esriFieldTypeEnum.esriFieldTypeSingle||b.type===f.esriFieldTypeEnum.esriFieldTypeSmallInteger?(l=h.infrastructure.FormatUtils.parseNumber(e),isNaN(l)&&(l=null)):l=e;""===e&&b.type!==f.esriFieldTypeEnum.esriFieldTypeString&&
(l=null);a[b.name.get()]=l}return a};d.prototype._getRenderTypeForField=function(a){return"text"};d.prototype._applyCodedDomains=function(a){if(a)for(var d in a)if(a.hasOwnProperty(d)&&"codedValue"===a[d].type)for(var b=0;b<this.fields.getLength();b++){var e=this.fields.getAt(b);if(e.name.get()===d){b={field:e,collectionName:"codedDomainValues",valueCollection:a[d].codedValues,nullable:e.nullable.get(),nullOption:{name:"",code:null}};e.renderType="codedDomainValue";this._applyFieldConfiguration(b,
e);break}}};d.prototype._applyFieldConfiguration=function(a,d){d.valueOptions?d.valueOptions.clear():d.valueOptions=new ObservableCollection([]);d.valueOptions.addItems(a.valueCollection);a.nullable&&d.valueOptions.insertItem(0,a.nullOption);for(var b=0;b<d.valueOptions.getLength();++b){var e=d.valueOptions.getAt(b);"undefined"===typeof e.code&&e.hasOwnProperty("id")&&(e.code=e.id)}};d.prototype.clear=function(){this.fields.clear();this.clearValidationMessages()};return d}(e.framework.ui.ViewModelBase);
f.EditingFormViewModel=b})(f.editing||(f.editing={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(k){(function(m){var k=h.infrastructure.FormatUtils,l=h.infrastructure.NumberFormat;(function(a){a[a.Idle=0]="Idle";a[a.Paused=1]="Paused";a[a.CantEdit=2]="CantEdit";a[a.EditingAttributes=3]="EditingAttributes";a[a.EditingGeometry=4]="EditingGeometry";a[a.Saving=5]="Saving"})(m.EditorState||(m.EditorState={}));var b=m.EditorState,a=function(a){function g(g,e){a.call(this,g,e);this.state=b.Idle;this.isBusy=new Observable(!1);this.title=new Observable("");
this.headerText=new Observable("");this.form=new Observable;this.isEditingGeometry=new Observable(!1);this.isEditingNewFeature=new Observable(!1);this.isEditingLogEntry=new Observable(!1);this.isEditingRelatedFeature=new Observable(!1);this.isEditingRelatedFeatureNotInSite=new Observable(!1);this.currentFeatureRelationships=new ObservableCollection;this.hasRelatedLayers=new Observable(!1);this.showRelatedLayers=new Observable(!1);this.canDeleteFeature=new Observable(!0);this.canEditGeometry=new Observable(!1);
this.showEditGeometryButton=new Observable(!1);this.showStopEditingGeometryButton=new Observable(!1);this.geometryHasBeenEdited=new Observable(!1);this.validateGeometry=!1;this.configAllowsEditGeometry=!0;this.layerUpdateEndToken=null;this.textareaThreshold=80;this.doNotAdjustTime=!1;this._registerCommands();this._subscribeToEvents();this.isEditingNewFeature.bind(this,this._calculateCanDeleteFeature);this.auto(this.hasRelatedLayers,this,this._hideOrShowRelateds);this.auto(this.isEditingRelatedFeatureNotInSite,
this,this._hideOrShowRelateds)}__extends(g,a);g.prototype.initialize=function(a){a&&(a.tools&&this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,!0),this.validateGeometry=!!a.validateGeometry,this.configAllowsEditGeometry=void 0!==a.editGeometry?!!a.editGeometry:this.configAllowsEditGeometry,this.textareaThreshold=void 0!==a.textareaThreshold?parseInt(a.textareaThreshold):this.textareaThreshold,this.doNotAdjustTime=void 0!==a.doNotAdjustTime?!!a.doNotAdjustTime:this.doNotAdjustTime)};
g.prototype._registerCommands=function(){var a=this;this.app.command("StartEditingFeature").register(this,this._executeStartEditingFeature,this._canExecuteStartEditingFeature);this.app.command("StartEditingNewFeature").register(this,this._executeStartEditingNewFeature,this._canExecuteStartEditingNewFeature);this.app.command("StartEditingEditLogEntry").register(this,this._executeStartEditingEditLogEntry,this._canExecuteStartEditingEditLogEntry);this.app.command("StartEditingNewRelatedRecord").register(this,
this._executeStartEditingRelatedRecord);this.app.command("StartEditingGraphicGeometry").postExecute.subscribe(this,this._onStartEditingGraphicGeometry);this.app.event("GeometryEditCompletedEvent").subscribe(this,this._onGeometryEditCompletedEvent);this.app.command("StartAddingFeatureGeometry").register(this,this._executeStartAddingFeatureGeometry,this._canExecuteStartEditingNewFeature);this.app.command("Internal.CancelEditingIfNotIdle").register(this,function(){a.state!==b.Idle&&a.cancelEditing()})};
g.prototype._executeStartAddingFeatureGeometry=function(a,d){this.app.command("StartEditingNewFeature").execute(a,d)};g.prototype._subscribeToEvents=function(){this.app.event("GeometryEditInvokedEvent").subscribe(this,this._handleGeometryEditInvokedEvent);this.app.event("GeometryEditCompletedEvent").subscribe(this,this._handleGeometryEditCompletedEvent);this.app.event("GeolocatedEvent").subscribe(this,this._handleGeolocation)};g.prototype.performValidation=function(){var a=!0;this.form.get().clearValidationMessages();
a=this.performFormValidation()&&a;this.validateGeometry&&(a=this.performGeometryValidation()&&a);return a};g.prototype.performFormValidation=function(){for(var a=!0,d=this.form.get(),g=0;g<d.fields.getLength();++g){var b=d.fields.getAt(g);try{if(b.validationFunc){var e=b.validationFunc(b.value.get(),b,d);e&&(a=!1,d.addValidationMessage(e))}}catch(h){this.app.trace.warning("Error validating field {0}: {1}".format(b.displayName,h))}}return a};g.prototype.performGeometryValidation=function(){var a=!0,
d=this.form.get(),g=this.currentFeatureEsriClone;g.geometry&&"polygon"===g.geometry.type&&e.essentials.GeometryUtilities.isSelfIntersectingPolygon(g.geometry)&&(d.addValidationMessage(this.app.getResource(this.libraryId,"language-feature-editing-self-intersecting-polygon-need-fixing")),a=!1);return a};g.prototype.confirmDelete=function(){var a=this;this.app.command("Confirm").execute(this.app.getResource(this.libraryId,"language-feature-editing-delete-confirmation"),this.app.getResource(this.libraryId,
"language-feature-editing-module-title"),function(d){if(d){var g=!1;a._preventDeleteForRelOrigin(a.currentFeatureRelationships,function(){a.app.command("Alert").execute(a.app.getResource(a.libraryId,"language-feature-editing-delete-with-relation-forbidden"),a.app.getResource(a.libraryId,"language-feature-editing-module-title"));g=!0},function(){g||a.deleteCurrentFeature()})}})};g.prototype.deleteCurrentFeature=function(a,d){var g=this,b=this.currentFeatureEsri,e=b.getLayer()||this._sourceLayer,h=
this._getMapServiceByLayer(e);h?(h={mapService:h,layer:e,feature:b,successCallback:function(){g._deleteFeatureSuccessCallback(b,e,a)},errorCallback:function(a){g._deleteFeatureErrorCallback(a,e,d)}},this.isBusy.set(!0),this.app.command("DeleteFeature").execute(h)):(h={mapService:this.currentMapService,layer:e,feature:b,relatedFeature:this._relatedFeature,relationshipOrigin:this._editingRelationshipOrigin,relationshipDestination:this._editingRelationshipDestination,successCallback:function(){g._deleteFeatureSuccessCallback(b,
e,a)},errorCallback:function(a){g._deleteFeatureErrorCallback(a,e,d)}},this.isBusy.set(!0),this.app.command("DeleteRelatedRecord").execute(h),this.app.event("RelatedRecordDeletedEvent").publish())};g.prototype._deleteFeatureErrorCallback=function(a,d,g){a=this.app.getResource(this.libraryId,"language-feature-editing-error-feature-edits").format(a);d=this.app.getResource(this.libraryId,"language-feature-editing-error-title");this.app.command("Alert").execute(a,d);this.app.trace.error(a);this.isBusy.set(!1)};
g.prototype._deleteFeatureSuccessCallback=function(a,d,g){this._handleDeletedFeature(a);this.app.event("FeatureDeletedEvent").publish(a);d&&d.remove&&d.remove(a);this.app.command("ShowMap").execute();this.currentFeatureEsriClone.hide();this._destroyEditingLayer();this._sourceLayer.refresh&&this._sourceLayer.refresh();this.app.command("ShowFeatureParentDetails").execute();g&&g();this.isBusy.set(!1)};g.prototype._buildFeatureRelationships=function(){this.currentFeatureRelationships.clear();for(var a=
this.currentFeatureEsri,d=this._sourceLayer,g=this.currentMapService,b=0;b<d.relationships.length;++b){var e=d.relationships[b];if(g){var h=g._getRelation(e.id);if(h&&!h.visible)continue}var f=!0;if(!e.role)f=!1;else if("esriRelRoleOrigin"!==e.role)continue;var m=e.name;"undefined"!==typeof h&&(m=h.displayName);m=this.app.getResource(this.libraryId,"language-feature-editing-create-related-feature").format(m);this.currentFeatureRelationships.addItem({id:e.id,text:m,editable:f,relatedFeature:a,relationship:e})}this.hasRelatedLayers.set(0<
this.currentFeatureRelationships.getLength())};g.prototype._preventDeleteForRelOrigin=function(a,d,g){var b=this,e=this.currentFeatureEsri,f=this._sourceLayer,l=null,k=!1;if(e&&f&&a&&0<a.length()&&(l=a.length(),f))for(var p=0;p<a.length();p++){var s=function(){l--;0>=l&&g&&g()},v=function(a){var g=parseInt(a.id),n=a.relatedTableId?a.relatedTableId.get():a.relationship.relatedTableId,r=f.url||f._essentialsMetadata.serviceUrl;a=b._getMapServiceByLayer(f);var l=new esri.tasks.RelationshipQuery;l.objectIds=
[e.attributes[f.objectIdField]];l.outFields=["*"];l.relationshipId=g;h.infrastructure.taskUtils.getQueryTask(f,a);m.FeatureUtilities.getRelatedFeatures(b._getMapServiceByLayer(f),g,l.objectIds[0]).then(function(a){var g=!1,e;for(e in a)if(a.hasOwnProperty(e)){g=!0;break}g?b._getRelatedFeatureLayer(n,r,function(g){if(!k){g=[];for(var b in a)if(a.hasOwnProperty(b)){var e=a[b].features||a[b];if(e)if(e.length)for(var n=0;n<e.length;n++)g.push(e[n]);else g.push(e)}0<g.length&&d&&(d(g),k=!0);s()}},function(a){s()}):
s()},function(a){s()})},x=a.getAt(p);x.relationship&&"esriRelRoleOrigin"===x.relationship.role&&!1==x.relationship.composite?v(x):x.relationship.composite&&s()}(!l||0>=l)&&g&&g()};g.prototype._getMapServiceByLayer=function(a){a=a.url;var d=a.indexOf("?token=");-1!=d&&(a=a.substring(0,d));for(d=0;d<this.app.site.essentialsMap.mapServices.length;++d){var g=this.app.site.essentialsMap.mapServices[d];if(g.serviceUrl===a)return g}return null};g.prototype._getRelatedFeatureLayer=function(a,d,g,b){var h=
new dojo.Deferred,f=d.match(/token=.[^&]*/g);a=d.substring(0,d.lastIndexOf("/")+1)+a;f&&(a+="?"+f);f=new esri.layers.FeatureLayer(a,{mode:esri.layers.FeatureLayer.MODE_SELECTION,outFields:["*"]});dojo.connect(f,"onLoad",dojo.hitch(this,function(a){e.deferredResolve(h,a);"function"==typeof g&&g(a)}));dojo.connect(f,"onError",dojo.hitch(this,function(a){e.deferredReject(h,a);"function"===typeof b&&b(a)}));return h};g.prototype._getMapServiceForRelatedRecord=function(a){for(var d=this.app.site.getFeatureServices(),
g=0;g<d.length;g++){for(var b=d[g].serviceLayer,e=0;e<b.relationships.length;e++)if(b.relationships[e]==a.relationship){this._sourceLayer=b;this._calculateCanDeleteFeature();return}if(b.layerId==a.relationship.relatedTableId)for(g=0;g<b.fields.length;g++)b.fields[g].name==a.relationship.keyField&&(this._sourceLayer=b)}this._sourceLayer||this.app.trace.warning("Could not find a proper source layer.");(a=this._getMapServiceByLayer(this._sourceLayer))||this.app.trace.warning("Could not edit related feature. No map service for layer '{0}' was found.".format(this._sourceLayer.url));
return a};g.prototype._getRelatedKeyFieldForRelatedRecords=function(a,d){if(a.relationship.keyField){for(var g=null,b=0;b<d.relationships.length;++b){var e=d.relationships[b];if(e.id===a.relationship.id){this._editingRelationshipDestination=e;g=e.keyField;break}}if(g)return g;this.app.trace.error(this.app.getResource(this.libraryId,"language-feature-editing-relationships-key-field-missing"))}else this.app.trace.error(this.app.getResource(this.libraryId,"language-feature-editing-relationships-require-arcgis-version"))};
g.prototype._setupViewForRelatedRecordCreationAndEditing=function(a,d,g){this._editingRelationshipOrigin=a.relationship;this.canEditGeometry.set(this.configAllowsEditGeometry&&!!d.geometryType);this.showEditGeometryButton.set(this.canEditGeometry.get());this.showStopEditingGeometryButton.set(!1);this.currentFeatureEsri=g;this.currentFeatureEsriClone=this._cloneEsriFeature(this.currentFeatureEsri);this.originalFeatureClone=null;this.form.set(new m.EditingFormViewModel(this.app,this.libraryId,g,d,{textareaThreshold:this.textareaThreshold,
doNotAdjustTime:this.doNotAdjustTime,timeZoneId:a.timeZoneId,displayTimeZoneId:a.displayTimeZoneId}));this.app.event("Internal.EditorFormSetupForRelatedFeatureEvent").publish(this.form,g)};g.prototype._renderRelatedRecordEditingTable=function(a,d,g){for(var b=!1,e=0;e<this.form.get().fields.getLength();++e){var h=this.form.get().fields.getAt(e);h.name.get()===d&&("objectid"===d.toLowerCase()||"globalid"===d.toLowerCase()?h.editable.set(!1):a.feature?(h.value.set(a.feature.attributes[d]),a.relationship.keyField in
g.attributes&&(g.attributes[a.relationship.keyField]=a.feature.attributes[a.relationship.keyField]||a.feature.attributes[d])):a.relatedFeature&&(h.value.set(a.relatedFeature.attributes[a.relationship.keyField]),a.relationship.keyField in g.attributes&&(g.attributes[a.relationship.keyField]=a.relatedFeature.attributes[a.relationship.keyField]||a.relatedFeature.attributes[d])))}!0===this.isEditingNewFeature.get()&&(d in g.attributes&&(g.attributes[d]=a.relatedFeature.attributes[a.relationship.keyField]||
a.relatedFeature.attributes[d],b=!0),0===this.form.get().fields.getLength()||!1==b)&&(g.attributes[d]=a.relatedFeature.attributes[a.relationship.keyField]||a.relatedFeature.attributes[d])};g.prototype._executeStartEditingRelatedRecord=function(a,d){var g=this;this.isEditingNewFeature.set(d);this.isEditingRelatedFeature.set(!0);this._relatedFeature=a.relatedFeature;var b=null;this.app.map.getLayersVisibleAtScale().forEach(function(d){d.layerId&&d.layerId==a.relationship.relatedTableId&&d.fields[a.relationship.keyField]&&
(b=d)});if(b)this.isEditingRelatedFeatureNotInSite.set(!1),this.currentMapService=this._getMapServiceByLayer(b);else{this.isEditingRelatedFeatureNotInSite.set(!0);if(a.essentialsRelatedFeature){if(a.essentialsRelatedFeature.layer.getRelatedFeatureLayer)a.essentialsRelatedFeature.layer.getRelatedFeatureLayer(a.relationship.id,function(d){g._refreshRelatedRecord(a,d)},function(a){g.app.trace.error("Error in getting related feature layer: "+a)});else{var e=this._getMapServiceForRelatedRecord(a);this.currentMapService=
e;this._refreshRelatedRecord(a,e.serviceLayer)}return}b=this.currentFeatureGeocortex.featureLayer;this.currentMapService=null}this._refreshRelatedRecord(a,b)};g.prototype._refreshRelatedRecord=function(a,d){var g=this;a.feature?this._refreshEsriGraphic(a.feature,d).then(function(b){null!=b&&b.features&&0<b.features.length?a.feature=b.features[0]:g.app.trace.info("Error retrieving most recent version of related record. Falling back to currently loaded version.");g._displayEditorForRelatedFeatures(a,
d)}).caught(function(b){g.app.trace.info("Error retrieving most recent version of related record. Falling back to currently loaded version.");g._displayEditorForRelatedFeatures(a,d)}):this._displayEditorForRelatedFeatures(a,d)};g.prototype._displayEditorForRelatedFeatures=function(a,d){a.text?this.headerText.set(a.text):this.headerText.set(this.app.getResource(this.libraryId,"language-feature-editing-new-related-feature-default"));this.state!==b.Idle&&this.cancelEditing();this._sourceLayer=d;this._calculateCanDeleteFeature();
var g={};d.fields.forEach(function(a){g[a.name]=null});var e=null;this.isEditingNewFeature.get()?(e=this._createNewEsriFeature(null,g,null,null),e.setGeometry(null)):e=a.feature;this._setupViewForRelatedRecordCreationAndEditing(a,d,e);var h=this._getRelatedKeyFieldForRelatedRecords(a,d);this._renderRelatedRecordEditingTable(a,h,e);if(this.isEditingNewFeature.get()&&"Table"!=this._sourceLayer.type){for(var h=this.app.site.getFeatureServices(),f=void 0,m=0;m<h.length;m++)for(var l=h[m],k=0;k<l.layers.length;k++){var p=
l.layers[k];p.id==a.relationship.relatedTableId&&p.name==a.relationship.name&&(f=p)}this.app.command("ShowFeatureTemplatePicker").execute(f,e)}else this._activateEditingView()};g.prototype.startEditingGeometry=function(){if(!this.currentFeatureEsri)throw Error("Could not edit geometry - no feature selected.");this.app.command("StartEditingGraphicGeometry").execute(this.currentFeatureEsriClone,this._sourceLayer)};g.prototype.stopEditingGeometry=function(){this.app.command("StopEditingGraphicGeometry").execute()};
g.prototype._onStartEditingGraphicGeometry=function(a,d){this.state==b.Idle||!a||a!==this.currentFeatureEsri&&a!==this.currentFeatureEsriClone||this.currentFeatureEsriClone.hide();var g=this.app.toolRegistry.getActiveTool();g instanceof h.infrastructure.tools.MapTool&&"EditingPointTool"===g.name&&(this.app.event("GeometryEditPointActivatedEvent").publish(),this.app.command("OpenToolbar").execute())};g.prototype._onGeometryEditCompletedEvent=function(a){this.state==b.Idle||!this.currentFeatureEsriClone||
this.currentFeatureEsri!==a.originalGraphic&&this.currentFeatureEsriClone!==a.originalGraphic||(a.cancelled||this.currentFeatureEsri!==a.originalGraphic||this.currentFeatureEsriClone.setGeometry(a.editedGraphic.geometry),this.app.command("HideFeatureTemplatePicker").execute(),this.app.command("HideCreateEditView").execute(),this.app.command("ShowFeatureAttributeEditor").execute(),this.currentFeatureEsriClone.show(),a=new h.infrastructure.Feature({graphic:this.currentFeatureEsriClone}),this.app.behavior("EditorFeatureSelectedBehavior").run(a))};
g.prototype._handleGeolocation=function(a){var d=this,g=function(){d.currentFeatureEsriClone.setGeometry(a.projectedMapPoint);d.app.event("GeometryEditCompletedEvent").publish({editedGraphic:d.currentFeatureEsriClone,originalGraphic:d.currentFeatureEsri,cancelled:!1});setTimeout(function(){return d.app.command("GeolocateStop").execute()},0);d.app.command("StopEditingGraphicGeometry").execute();var g=new h.infrastructure.Feature({graphic:d.currentFeatureEsriClone});d.app.behavior("EditorFeatureSelectedBehavior").run(g)},
b=this.app.toolRegistry.getActiveTool(),b=this.isEditingNewFeature.get()&&"esriGeometryPoint"===this._sourceLayer.geometryType&&b&&"EditingPointTool"===b.name,e=a&&"single"===a.typeOfGeolocation&&a.location;b&&e&&(a.location.coords.accuracy<=a.accuracyThreshold?g():this.app.command("Confirm").execute(this.app.getResource(this.libraryId,"language-feature-editing-confirm-low-accuracy-geolocation").format(k.formatNumber(a.location.coords.accuracy,l.DEFAULT,{fractionalDigits:0}),this.getResource("language-common-ok")||
"'OK'",this.getResource("language-common-cancel")||"'Cancel'"),this.app.getResource(this.libraryId,"language-feature-editing-confirm-low-accuracy-geolocation-title"),function(a){a?g():setTimeout(function(){return d.app.command("GeolocateStop").execute()},0)}))};g.prototype._createEditingLayer=function(){this._destroyEditingLayer();this._editingLayer=new esri.layers.GraphicsLayer;this._sourceLayer&&this._editingLayer.setRenderer(this._sourceLayer.renderer);this.app.map.addLayer(this._editingLayer);
return this._editingLayer};g.prototype._destroyEditingLayer=function(){this.currentFeatureEsriClone&&(this.currentFeatureEsriClone.hide(),this._editingLayer&&this._editingLayer.remove(this.currentFeatureEsriClone));this._editingLayer&&(this._editingLayer.clear(),this.app.map.removeLayer(this._editingLayer),this._editingLayer=null)};g.prototype._createNewEsriFeature=function(a,d,g,b){var e=new esri.Graphic(null);e.attributes=d||{};e.geometry=a||new esri.geometry.Point(NaN,NaN);e.symbol=g||null;e.infoTemplate=
b||null;return e};g.prototype.save=function(a,d){var g=this;this.stopEditingGeometry();var e=this.performValidation();this.isBusy.set(!1);if(e){this.state=b.Saving;this.isBusy.set(!0);var e=this.currentFeatureEsri?this._cloneEsriFeature(this.currentFeatureEsri):new esri.Graphic(null),h;for(h in e.attributes)e.attributes.hasOwnProperty(h)&&(h||delete e.attributes[h]);h=this.currentFeatureEsri;var f=this._sourceLayer;try{var m=this.form.get().getAttributeValues(),l=null,k;if(this.isEditingNewFeature.get())for(k in l=
m,h.attributes)h.attributes.hasOwnProperty(k)&&(l.hasOwnProperty(k)||null==h.attributes[k]||(l[k]=h.attributes[k]));else{l={};for(k in m)m.hasOwnProperty(k)&&h.attributes[k]!==m[k]&&(l[k]=m[k]);var p=f.objectIdField,v=f.globalIdField;h.attributes.hasOwnProperty(p)&&(l[p]=h.attributes[p]);h.attributes.hasOwnProperty(v)&&(l[v]=h.attributes[v])}var x=!0;if(f.relationships){var D=[],A=[];for(k=0;k<f.relationships.length;k++){var F=f.relationships[k];D[k]={key:F.keyField,value:m[F.keyField]};if("esriRelCardinalityOneToOne"===
F.cardinality||"esriRelCardinalityOneToMany"===F.cardinality&&"esriRelRoleOrigin"===F.role){var E=null,G=new esri.tasks.Query;if(!m.hasOwnProperty(F.keyField)||null===m[F.keyField])continue;G.where=F.keyField+" = '"+m[F.keyField]+"'";E=Promise.resolve(f.queryFeatures(G,function(a){a.features&&(g.isEditingNewFeature.get()&&1<=a.features.length?x=!1:!g.isEditingNewFeature.get()&&1<a.features.length&&(x=!1))},function(a){g.app.trace.warning("Unable to query layer for cardinality check: "+a)}))}A.push(E)}}Promise.all(A).then(function(a){if(!1===
x){for(var d="",e="",n=0;n<D.length;n++){var h=D[n];$.each(a,function(g){g=a[g];g.features&&0<g.features.length&&g.features[0].attributes[h.key]===h.value&&(d=h.key,e=h.value)})}g.app.command("Alert").execute(g.app.getResource(g.libraryId,"language-feature-editing-cardinality-violation").format(e,d),g.app.getResource(g.libraryId,"language-feature-editing-error-dialogue"));g.state=b.Idle;g.isBusy.set(!1)}}).lastly(function(){if(!1!==x){var e=new esri.Graphic(g.currentFeatureEsriClone.toJson());e.attributes=
l;g.geometryHasBeenEdited.get();var h=null;if(!g.isEditingRelatedFeatureNotInSite.get()&&(h=g._getMapServiceByLayer(f),!h))throw Error("Could not find map service for feature layer while saving.");g.isBusy.set(!0);h={mapService:h,layer:f,feature:e,successCallback:function(){g.isBusy.set(!1);g._handleSaveSuccess(e,f,a,d)},errorCallback:function(a){g.isBusy.set(!1);g._handleSaveError(a,d)}};try{g.app.event("Internal.EditorFormPreSaveEvent").publish(g.form,h)}catch(m){return}g.isEditingRelatedFeature.get()?
(h.relatedFeature=g._relatedFeature,h.relationshipOrigin=g._editingRelationshipOrigin,h.relationshipDestination=g._editingRelationshipDestination,g.isEditingNewFeature.get()?(h.successCallback=function(d){g.app.event("RelatedRecordCreatedEvent").publish(e);g.isBusy.set(!1);a()},g.app.command("CreateRelatedRecord").execute(h)):(h.successCallback=function(d){g.app.event("RelatedRecordEditedEvent").publish(e);g.isBusy.set(!1);a()},g.app.command("UpdateRelatedRecord").execute(h))):g.isEditingNewFeature.get()?
(g.app.event("EditorPreCreateFeatureEvent").publish(e),g.app.command("CreateFeature").execute(h)):(g.app.event("EditorPreUpdateFeatureEvent").publish(e),g.app.command("UpdateFeature").execute(h));g.state=b.Saving}})}catch(I){this.state=b.Idle,this.isBusy.set(!1),this.app.trace.error("Error applying edits: {0}".format(I))}}};g.prototype._handleSaveError=function(a,d){this.isBusy.set(!1);this.state=b.Idle;var g=this.app.getResource(this.libraryId,"language-feature-editing-error-feature-edits").format(a),
e=this.app.getResource(this.libraryId,"language-feature-editing-error-title");this.app.command("Alert").execute(g,e);this.app.trace.error(g);d&&d(a)};g.prototype._handleSaveSuccess=function(a,d,g,h){this.layerUpdateEndToken&&(dojo.disconnect(this.layerUpdateEndToken),this.layerUpdateEndToken=null);if(h=e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.findFeatureInMap(this.currentFeatureEsri,this.app.site,this._sourceLayer)){var f=a.attributes;a.attributes=null;h.attributes={};dojo.mixin(h.attributes,
this.originalFeatureClone.attributes);dojo.mixin(h.attributes,f);h.show()}this._destroyEditingLayer();this.originalFeatureClone&&h?(h={originalFeature:this.originalFeatureClone,editedFeature:h},this._handleEditedFeature(h),this.app.event("FeatureEditedEvent").publish(h)):this.originalFeatureClone&&this.isEditingNewFeature.get()&&this.app.event("FeatureCreatedEvent").publish(a);this.isEditingNewFeature.set(!1);this.state=b.Idle;d&&d.refresh();this.isEditingRelatedFeatureNotInSite.get()&&(d=this.findGeocortexLayerForUrl(d.url),
a=new e.essentialsHtmlViewer.mapping.infrastructure.Feature({graphic:a,layer:d}),this.headerText.set(a.plainLabel.get()));this.cancelEditing();g&&g()};g.prototype._cloneEsriFeature=function(a){return new esri.Graphic(a.geometry,a.symbol,a.attributes,a.infoTemplate)};g.prototype._handleGeometryEditInvokedEvent=function(a){this.isEditingGeometry.set(!0);this.showEditGeometryButton.set(!1);this.showStopEditingGeometryButton.set(this.canEditGeometry.get());this.geometryHasBeenEdited.set(!0)};g.prototype._handleGeometryEditCompletedEvent=
function(a){this.isEditingGeometry.set(!1);this.showEditGeometryButton.set(this.canEditGeometry.get());this.showStopEditingGeometryButton.set(!1);this.currentFeatureEsriClone&&this.currentFeatureEsriClone===a.originalGraphic&&(this.currentFeatureEsriClone.setGeometry(a.editedGraphic.geometry),this.currentFeatureEsriClone.show(),this._swapOriginalFeatureForClone());this.isEditingNewFeature.get()&&this.isEditingRelatedFeature.get()&&this._activateEditingView()};g.prototype._handleLayerUpdateEnd=function(){this._swapOriginalFeatureForClone()};
g.prototype._handleDeletedFeature=function(a){a={originalFeature:a instanceof esri.Graphic?a:a.originalFeature,action:"delete"};a.originalFeature&&a.originalFeature instanceof esri.Graphic?this._handleEditedFeature(a):this.app.trace.warning("EditorViewModel: Could not update feature set collections on feature deletion. Original feature not provided.")};g.prototype._handleEditedFeature=function(a){var d=this;if(!a.originalFeature||!a.editedFeature&&"delete"!==a.action)this.app.trace.warning("EditorViewModel: Could not update feature set collections on feature edit. Original or edited feature not provided.");
else{var g=this.app.featureSetManager.findFeaturesByEsriFeature(a.editedFeature||a.originalFeature);g&&g.length||a.editedFeature&&a.originalFeature&&a.editedFeature!==a.originalFeature&&(g=this.app.featureSetManager.findFeaturesByEsriFeature(a.originalFeature));g&&g.length&&(a.editedFeature||"delete"!==a.action?g.forEach(function(d){return d.esriFeature.set(a.editedFeature)}):g.forEach(function(a){var g=a.featureSet;g&&g.features.removeItem(a);0===g.features.length()&&d.app.featureSetManager.featureSetCollections.get().forEach(function(a){var d=
a.getFeatureSetById(g.id);d&&a.featureSets.removeItem(d)})}))}};g.prototype._swapOriginalFeatureForClone=function(){if(this.currentFeatureEsri){var a=e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.findFeatureInMap(this.currentFeatureEsri,this.app.site,this._sourceLayer);a&&(a.hide(),!this.isEditingGeometry.get()&&this.currentFeatureEsriClone.getLayer()&&this.currentFeatureEsriClone.show())}};g.prototype._restoreOriginalFeature=function(){if(this.currentFeatureEsri){var a=null;(a=this.currentFeatureGeocortex&&
this.currentFeatureGeocortex.featureLayer&&"Table"==this.currentFeatureGeocortex.featureLayer.type?e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.findFeatureInLayer(this.currentFeatureEsri,this._sourceLayer):e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.findFeatureInMap(this.currentFeatureEsri,this.app.site,this._sourceLayer))&&a.show()}};g.prototype.cancelEditing=function(){this.stopEditingGeometry();this.geometryHasBeenEdited.set(!1);this._restoreOriginalFeature();this._destroyEditingLayer();
this.form.get()&&this.form.get().clear();this.isEditingGeometry.set(!1);this.isEditingLogEntry.set(!1);this.isEditingNewFeature.set(!1);this.isEditingRelatedFeature.set(!1);this.isEditingRelatedFeatureNotInSite.set(!1);this.layerUpdateEndToken&&dojo.disconnect(this.layerUpdateEndToken);this.app.behavior("EditorRemoveFeatureSelectedBehavior").run();this.app.event("EditorClosedEvent").publish();this.state=b.Idle};g.prototype._canExecuteStartEditingFeature=function(a){if(!a)return!1;if(a.layer){var d=
a.layer;if(d.mapService&&d.mapService.serviceLayer){if(this.app.offlineManager.isOfflineMapActive.get()){var g=this.app.offlineManager.syncInfo.findLayerOrTable(a.layer.mapService.serviceLayer.url);if(!g.canEdit)return!1}if(d.mapService.serviceLayer.isEditable){if(!d.mapService.serviceLayer.isEditable())return!1}else return!1}if(a=a.esriFeature.get()){if(a.getLayer())return!0;d.mapService&&d.mapService.serviceLayer&&(a._graphicsLayer=a._layer=d.mapService.serviceLayer);return!!e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.findFeatureInMap(a,
this.app.site)}}else if(a.featureLayer)return this.app.offlineManager.isOfflineMapActive.get()?(g=this.app.offlineManager.syncInfo.findLayerOrTable(a.featureLayer.url),g.canEdit):a.featureLayer.isEditable();return!1};g.prototype._executeStartEditingFeature=function(a,d){var g=this;void 0===d&&(d=!1);var b=!0;this.isEditingNewFeature.set(d);this.geometryHasBeenEdited.set(!1);var h;try{if(a&&a instanceof e.essentialsHtmlViewer.mapping.infrastructure.Feature?(a.layer&&a.layer.mapService&&(this.currentMapService=
a.layer.mapService),a.featureLayer&&"Table"==a.featureLayer.type&&(b=!1),this.currentFeatureGeocortex=a,this.headerText.set(a.plainLabel.get()),h=a.esriFeature.get()):h=a,this.app.map&&this.app.site&&this.app.site.isInitialized)this.isEditingNewFeature.get()?this._executeStartEditingFeatureImpl(h,d,b):this._refreshEsriGraphic(h).then(function(a){null!=a&&a.features&&0<a.features.length&&a.features[0].attributes?(h.attributes={},dojo.mixin(h.attributes,a.features[0].attributes)):g.app.trace.info("Error retrieving most recent version of related record. Falling back to currently loaded version.");
g._executeStartEditingFeatureImpl(h,d,b)}).caught(function(a){g.app.trace.info("Error retrieving most recent version of feature for editing. Falling back to currently loaded version.");g._executeStartEditingFeatureImpl(h,d,b)});else this.app.event("SiteInitializedEvent").once(this,function(){return g._executeStartEditingFeatureImpl(h,d,b)})}catch(f){this.app.trace.error("Could not start editing: {0}".format(f)),this.cancelEditing()}};g.prototype._refreshEsriGraphic=function(a,d){var g=null;d||(d=
a.getLayer());var g=this._getMapServiceByLayer(d),b=d.objectIdField;!b&&g.serviceLayer instanceof esri.layers.FeatureLayer&&(b=g.serviceLayer.objectIdField);var e=new esri.tasks.Query;e.objectIds=[a.attributes[b]];e.returnGeometry=!0;e.outFields=["*"];var f=h.infrastructure.taskUtils.getQueryTask(d,g);return new Promise(function(a,g){f.execute(e,function(g){g&&g.features&&g.features.length&&(g.features[0]._layer=d);a(g)},g)})};g.prototype._executeStartEditingFeatureImpl=function(a,d,g){void 0===d&&
(d=!1);this.state!==b.Idle&&(this.cancelEditing(),this.isEditingNewFeature.set(d));var h=null;if(g)if(g=d?a:e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.findFeatureInMap(a,this.app.site),this.originalFeatureClone=this._cloneEsriFeature(g),h=d?this._sourceLayer:g.getLayer()){if(h instanceof esri.layers.GraphicsLayer){var f=h;if(f.id){var l=f.id.replace("-explodedClusterLayer",""),l=this.app.map.getLayer(l);l instanceof esri.layers.FeatureLayer&&(h=l)}f.renderer&&a.setSymbol(f.renderer.getSymbol(a))}d&&
(h.objectIdField&&(a.attributes[h.objectIdField]=0),h.globalIdField&&(a.attributes[h.globalIdField]=""));this._sourceLayer=h;this._calculateCanDeleteFeature();this.layerUpdateEndToken=dojo.connect(h,"onUpdateEnd",dojo.hitch(this,this._handleLayerUpdateEnd));this.state=b.EditingAttributes;this.isEditingRelatedFeatureNotInSite.set(!1);this.canEditGeometry.set(this.configAllowsEditGeometry&&!!h.geometryType&&h.allowGeometryUpdates);this.showStopEditingGeometryButton.set(!1);this.showEditGeometryButton.set(this.canEditGeometry.get());
this.currentFeatureEsri=g;this.currentFeatureEsriClone=this._cloneEsriFeature(g);g.hasOwnProperty("_drawType")&&(this.currentFeatureEsriClone._drawType=g._drawType);this._createEditingLayer();this._editingLayer.add(this.currentFeatureEsriClone);f={textareaThreshold:this.textareaThreshold,doNotAdjustTime:this.doNotAdjustTime};if(this.currentFeatureGeocortex&&this.currentFeatureGeocortex.layer){var k=[];this.currentFeatureGeocortex.layer.fields.forEach(function(a){k.push(a.name)});f.fieldOrder=k}this.form.set(new m.EditingFormViewModel(this.app,
this.libraryId,a,h,f));this.app.event("Internal.EditorFormSetupEvent").publish(this.form,g);if(null!=this._sourceLayer.typeIdField)for(a=this.form.get(),h=0;h<a.fields.getLength();h++)if(g=a.fields.getAt(h),g.name.get()===this._sourceLayer.typeIdField){this.handleTypeFieldSelected(g);break}try{this._buildFeatureRelationships()}catch(p){this.app.trace.warning("Could not set up related records for editing.")}this.isBusy.set(!1);d||this._activateEditingView()}else this.app.trace.error("Error - could not find layer for feature.");
else this._editAsTable(a)};g.prototype._canExecuteStartEditingNewFeature=function(a){return!0};g.prototype._editAsTable=function(a){for(var d=this,g=this.app.site.getFeatureServices(),b=null,e=null,h=0;h<g.length;h++){var m=g[h];m.serviceLayer.relationships.forEach(function(g){var h=d.currentFeatureGeocortex.featureLayer;g.relatedTableId==h.layerId&&(e=h,b=g,h=g=null,(h=d.app.site&&d.app.site.essentialsMap?d.app.site.essentialsMap.findLayerFromMatchingEsriFeatureLayer(e):null)?(g=f.mapping.infrastructure.TimeZoneUtils.getTimeZoneFromLayer(h),
h=f.mapping.infrastructure.TimeZoneUtils.getDisplayTimeZoneFromMapService(h.mapService)):(g=f.mapping.infrastructure.TimeZoneUtils.getTimeZoneFromMapService(m),h=f.mapping.infrastructure.TimeZoneUtils.getDisplayTimeZoneFromMapService(m)),g={id:e.layerId,text:"Editing "+a.attributes.OBJECTID,relatedFeature:null,essentialsRelatedFeature:null,feature:a,editable:e.isEditable(),relationship:b,timeZoneId:g,displayTimeZoneId:h},d._executeStartEditingRelatedRecord(g,!1))})}};g.prototype._executeStartEditingNewFeature=
function(a,d,g){void 0===g&&(g=!0);this.currentFeatureEsri=a;this._sourceLayer=d;this._calculateCanDeleteFeature();var b=this.app.getResource(this.libraryId,"language-common-feature-editing");this.headerText.set(b);this._executeStartEditingFeature(a,!0);g?d.geometryType&&d.allowGeometryUpdates?this.startEditingGeometry():this._activateEditingView():(this._activateEditingView(),this.currentFeatureEsriClone.show())};g.prototype._canExecuteStartEditingEditLogEntry=function(a){return!0};g.prototype._executeStartEditingEditLogEntry=
function(a){return!0};g.prototype.handleTypeFieldSelected=function(a){if(a){var d=a.value.get();if(null!=d)for(var g=0;g<a.valueOptions.getLength();g++){var b=a.valueOptions.getAt(g);if(null!=b.id&&b.id.toString()===d.toString()){this._loadCodedDomainsForType(b.domains,a.name.get());break}}}};g.prototype._loadCodedDomainsForType=function(a,d){if(a){var g=this.form.get(),b;for(b in a)if(b!==d&&a.hasOwnProperty(b)&&a[b].type)for(var e=0;e<g.fields.getLength();e++){var h=g.fields.getAt(e),f=!0;if(h.name.get()===
b){var m=[];if("inherited"!==a[b].type)m=a[b].codedValues;else{for(var l=0;l<this._sourceLayer.fields.length;++l){var k=this._sourceLayer.fields[l];if(k.name===h.name.get()&&(k=k.domain)){k.codedValues?m=k.codedValues:f=!1;break}}if(!f)continue}f={viewModel:h,typeName:"codedDomainValue",collectionName:"codedDomainValues",valueCollection:m,nullable:h.nullable.get(),nullOption:{name:"",code:null}};this._addValueCollection(f);h.value.pulse()}}}};g.prototype._addValueCollection=function(a){function d(a){return null===
a||void 0===a?"":a.toString()}if(a){var g=a.viewModel.valueOptions;g||(g=a.viewModel.valueOptions=new ObservableCollection([]));g.clear();g.addItems(a.valueCollection);a.nullable&&g.insertItem(0,a.nullOption);var b=d(a.viewModel.value.get());g.get().some(function(a){return d(a.code)===b})||(g=g.get().filter(function(d){return d!==a.nullOption})[0],a.viewModel.value.set(g?g.code:a.nullOption.code))}};g.prototype._activateEditingView=function(){this.app.command("HideFeatureTemplatePicker").execute();
this.app.command("ActivateView").execute("EditorView");var a=new h.infrastructure.Feature({graphic:this.currentFeatureEsriClone});this.app.behavior("EditorFeatureSelectedBehavior").run(a)};g.prototype._getEditingToolMessage=function(a){switch(a){case esri.toolbars.Draw.POINT:return this.app.getResource(this.libraryId,"language-feature-editing-geometry-point");case esri.toolbars.Draw.MULTI_POINT:return this.app.getResource(this.libraryId,"language-feature-editing-geometry-multi-point");case esri.toolbars.Draw.POLYLINE:case esri.toolbars.Draw.FREEHAND_POLYLINE:return this.app.getResource(this.libraryId,
"language-feature-editing-geometry-polyline");case esri.toolbars.Draw.POLYGON:case esri.toolbars.Draw.FREEHAND_POLYGON:return this.app.getResource(this.libraryId,"language-feature-editing-geometry-polygon");case esri.toolbars.Draw.EXTENT:return this.app.getResource(this.libraryId,"language-feature-editing-geometry-rectangle")}return this.app.getResource(this.libraryId,"language-feature-editing-geometry-default")};g.prototype.findGeocortexLayerForUrl=function(a){for(var d=this.app.site,g=0;g<d.essentialsMap.mapServices.length;g++){var b=
d.essentialsMap.mapServices[g];if(b.serviceUrl===a&&0<b.layers.length)return b.layers[0]}return null};g.prototype._findServiceLayerForUrl=function(a){for(var d=this.app.site,g=0;g<d.essentialsMap.mapServices.length;g++){var b=d.essentialsMap.mapServices[g];if(b.url===a)return b.serviceLayer}return null};g.prototype._hideOrShowRelateds=function(){this.showRelatedLayers.set(this.hasRelatedLayers.get()&&!this.isEditingRelatedFeatureNotInSite.get()&&!this.isEditingNewFeature.get())};g.prototype._calculateCanDeleteFeature=
function(){this.canDeleteFeature.set(!this.isEditingNewFeature.get()&&this._sourceLayer&&/Delete/.test(this._sourceLayer.capabilities))};return g}(e.framework.ui.ViewModelBase);m.EditorViewModel=a})(k.editing||(k.editing={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){(function(b){b[b.Create=0]="Create";b[b.Update=1]="Update";b[b.Delete=2]="Delete";b[b.Cut=3]="Cut";b[b.Explode=4]="Explode";b[b.Union=5]="Union"})(f.EditGraphicType||(f.EditGraphicType={}));var k=f.EditGraphicType,l=function(b){function a(){b.apply(this,arguments);this._hasGeometry=!1;this._editorDeactivatedHandle=null;this._isEditingGeometry=!1}__extends(a,b);a.prototype.initialize=function(a){b.prototype.initialize.call(this,a);this._registerCommands();
this._registerEvents()};a.prototype._registerCommands=function(){this.app.command("SetEditorFeatureGeometry").register(this,this._executeSetEditorFeatureGeometry,this._canExecuteSetEditorFeatureGeometry);this.app.command("StartEditingGraphicGeometry").register(this,this._executeStartEditingGeometry,this._canExecuteStartEditingGeometry);this.app.command("StopEditingGraphicGeometry").register(this,this._executeStopEditingGeometry,this._canExecuteStopEditingGeometry);(new f.CoreEditCommands(this.app,
this.libraryId)).registerCommands();this.app.command("StopFeaturePlacementState").register(this,this._executeStopFeaturePlacementState,this._canExecuteStopFeaturePlacementState);this.app.command("CreateGraphicsInMemory").register(this,this._executeCreateGraphicsInMemory);this.app.command("UpdateGraphicsInMemory").register(this,this._executeUpdateGraphicsInMemory);this.app.command("DeleteGraphicsInMemory").register(this,this._executeDeleteGraphicsInMemory);this.app.command("CutGraphicsInMemory").register(this,
this._executeCutGraphicsInMemory);this.app.command("ExplodeGraphicsInMemory").register(this,this._executeExplodeGraphicsInMemory);this.app.command("UnionGraphicsInMemory").register(this,this._executeUnionGraphicsInMemory)};a.prototype._registerEvents=function(){var a=this,g=null;this.app.event("StartFeaturePlacementEvent").subscribe(this,function(){g=a.app.event("ViewDeactivatedEvent").subscribe(a,function(g){"TemplatePickerView"===g.id&&a.app.event("StopFeaturePlacementEvent").publish()})});this.app.event("StopFeaturePlacementEvent").subscribe(this,
function(){a.app.event("ViewDeactivatedEvent").unsubscribe(g);a.app.command("ClearActiveTool").execute();var b=a.app.viewManager.getViewById("TemplatePickerView");b&&b.isActive&&a.app.command("DeactivateView").execute("TemplatePickerView")})};a.prototype._executeStopFeaturePlacementState=function(){this.app.event("StopFeaturePlacementEvent").publish()};a.prototype._canExecuteStopFeaturePlacementState=function(){return!0};a.prototype._canExecuteSetEditorFeatureGeometry=function(a){return!0};a.prototype._executeSetEditorFeatureGeometry=
function(a){this._executeStopEditingGeometry();var g=this._feature;g&&("extent"===a.type&&(a=e.essentials.GeometryUtilities.envelopeToPolygon(a)),this._geometry=a,this._hasGeometry=!!a,this._graphic.setGeometry(a),this.app.event("GeometryEditCompletedEvent").publish({originalGraphic:this._feature,editedGraphic:this._graphic,cancelled:!1}),this._destroyEditingLayer(),this.app.event("FeatureGeometryEditedEvent").publish(g))};a.prototype._canExecuteStartAddingFeatureGeometry=function(a){return!0};a.prototype._executeStartAddingFeatureGeometry=
function(a){};a.prototype._canExecuteStartEditingGeometry=function(a,g){return!0};a.prototype._executeStartEditingGeometry=function(a,g){var b=this;this._isEditingGeometry=!0;this._editObject&&this._editObject.deactivate();this._feature=a;a.symbol||g.renderer||a.setSymbol(this._getMoveSymbol(a,g));this._graphic=new esri.Graphic(a.geometry,a.symbol,a.attributes,a.infoTemplate);this._hasGeometry=!!this._graphic.geometry;var e=g?g:this._feature.getLayer();this._featureLayer=e;this._createEditingLayer();
this._hideOriginalFeature();this._graphic.symbol=this._getMoveSymbol(a,e);this._editingLayer.add(this._graphic);this._layerUpdateEndToken&&dojo.disconnect(this._layerUpdateEndToken);this._layerUpdateEndToken=dojo.connect(this._graphic._graphicsLayer,"onUpdateEnd",dojo.hitch(this,this._handleLayerUpdateEnd));if(this._hasGeometry){e=null;if(null===a)throw Error("Can't edit geometry of null feature");if(esri.toolbars.Edit){var e=this._getConfiguredEditMode(),h={allowAddVertices:!0,allowDeleteVertices:!0};
this._editObject=this.app.accessibilityManager.createComponent("geocortex.accessibility.edit",this.app.map,h);var f=dojo.aspect.after(this._editObject,"onGraphicFirstMove",function(a){b.app.map.disableMapNavigation()},!0),m=dojo.aspect.after(this._editObject,"onGraphicMoveStop",function(a){b.app.map.enableMapNavigation()},!0);this._editorDeactivatedHandle&&(this._editorDeactivatedHandle.remove(),this._editorDeactivatedHandle=null);this._editorDeactivatedHandle=dojo.aspect.after(this._editObject,"onDeactivate",
function(a,d,g){f&&(f.remove(),f=null);m&&(m.remove(),m=null);null!=b._editingGeometryMapClickHandle&&(dojo.disconnect(b._editingGeometryMapClickHandle),b._editingGeometryMapClickHandle=null);b._layerUpdateEndToken&&(dojo.disconnect(b._layerUpdateEndToken),b._layerUpdateEndToken=null);b._editorDeactivatedHandle&&(b._editorDeactivatedHandle.remove(),b._editorDeactivatedHandle=null);b._editObject&&(b._editObject=null);b._destroyEditingLayer();b._indicateGeometryEditing(!1);b.app.event("GeometryEditCompletedEvent").publish({originalGraphic:b._feature,
editedGraphic:b._graphic,cancelled:!1})},!0);this._editingGeometryMapClickHandle=dojo.connect(this.app.map,"onClick",function(){b._executeStopEditingGeometry(!0)});this._indicateGeometryEditing(!0);this._editObject.activate(e,this._graphic,h);this.app.event("GeometryEditInvokedEvent").publish(this._feature)}else e=this.app.getResource(this.libraryId,"language-feature-editing-package-required"),h=this.app.getResource(this.libraryId,"language-feature-editing-error-title"),this.app.command("Alert").execute(e,
h)}else this._currentToolName=this._getToolNameByGeometryType(e.geometryType),this.app.command("SetActiveTool").execute(this._currentToolName),this._indicateGeometryEditing(!0)};a.prototype._createEditingLayer=function(){this._editingLayer=new esri.layers.GraphicsLayer;this._editingLayer.id="editing_layer";this.app.map.addLayer(this._editingLayer)};a.prototype._destroyEditingLayer=function(){this._editingLayer&&(this._editingLayer.clear(),this.app.map.removeLayer(this._editingLayer),this._editingLayer=
null)};a.prototype._handleLayerUpdateEnd=function(){this._hideOriginalFeature()};a.prototype._hideOriginalFeature=function(){if(this._feature){var a=e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.findFeatureInMap(this._feature,this.app.site);a&&a.hide()}};a.prototype._getMoveSymbol=function(a,g){function b(a){f||(e=new a(e.toJson()),f=!0);return e}var e=null;if(g.renderer)e=a.symbol?a.symbol:g.renderer.getSymbol(a);else{var h=this.app.map.graphicsLayerIds.filter(function(a){return a===g.id+
"-cluster"});0<h.length&&(e=this.app.map.getLayer(h[0]).featureLayerRenderer.getSymbol(a))}var f=!1;e instanceof esri.symbol.SimpleMarkerSymbol&&(h=e,10>h.size&&b(esri.symbol.SimpleMarkerSymbol).setSize(10),0.5>h.color.a&&(!h.outline||0.5>h.outline.color.a)&&(b(esri.symbol.SimpleMarkerSymbol).color.a=0.5));return e};a.prototype._canExecuteStopEditingGeometry=function(){return!0};a.prototype._executeStopEditingGeometry=function(a){this._isEditingGeometry&&(this.app.command("ClearActiveTool").execute(),
this._editObject&&(this._editObject.deactivate(),this._editObject=null),null!=this._editingGeometryMapClickHandle&&(dojo.disconnect(this._editingGeometryMapClickHandle),this._editingGeometryMapClickHandle=null),this._layerUpdateEndToken&&(dojo.disconnect(this._layerUpdateEndToken),this._layerUpdateEndToken=null),this._editorDeactivatedHandle&&(this._editorDeactivatedHandle.remove(),this._editorDeactivatedHandle=null),this._indicateGeometryEditing(!1))};a.prototype._indicateGeometryEditing=function(a){var g=
this;if(this._feature&&this._feature.geometry)if(a){a=this._feature.geometry.type;var b=e.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.getEsriGeometryType(a,esri.toolbars.Draw.POINT),b=this.getEditingGeometryStatusMessage(this.app,this.libraryId,b);a=new e.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(b,null,function(){g._executeStopEditingGeometry(!0)},"geometry-type-"+a.toLowerCase(),"geometryEditingStatus");this.app.command("AddStatus").execute(a);this.app.command("ShowMap").execute()}else this.app.command("RemoveStatus").execute("geometryEditingStatus")};
a.prototype.getEditingGeometryStatusMessage=function(a,g,b){switch(b){case esri.toolbars.Draw.POINT:return a.getResource(g,"language-feature-editing-geometry-point");case esri.toolbars.Draw.POLYLINE:case esri.toolbars.Draw.FREEHAND_POLYLINE:return a.getResource(g,"language-feature-editing-geometry-polyline");case esri.toolbars.Draw.CIRCLE:case esri.toolbars.Draw.ELLIPSE:case esri.toolbars.Draw.POLYGON:case esri.toolbars.Draw.FREEHAND_POLYGON:return a.getResource(g,"language-feature-editing-geometry-polygon");
case esri.toolbars.Draw.EXTENT:return a.getResource(g,"language-feature-editing-geometry-rectangle")}return a.getResource(g,"language-feature-editing-geometry-default")};a.prototype._getToolNameByDrawType=function(a){a||(a="Polygon");return"Editing{0}Tool".format(a)};a.prototype._getToolNameByGeometryType=function(a){a=a.slice(12);return"Editing{0}Tool".format(a)};a.prototype._getConfiguredEditMode=function(){var a=this,g=0,b=this.app.site.essentialsMap.mapServices.filter(function(g){return g.id===
a._featureLayer.id});0==b.length?g=esri.toolbars.Edit.MOVE|esri.toolbars.Edit.EDIT_VERTICES|esri.toolbars.Edit.SCALE|esri.toolbars.Edit.ROTATE:(b=b[0],b.rotateEnabled&&(g|=esri.toolbars.Edit.ROTATE),b.scaleEnabled&&(g|=esri.toolbars.Edit.SCALE),b.moveEnabled&&(g|=esri.toolbars.Edit.MOVE),b.editVerticesEnabled&&(g|=esri.toolbars.Edit.EDIT_VERTICES));return g};a.prototype._executeCreateGraphicsInMemory=function(a){var g=this;this._validateEditInMemoryArgs(a,k.Create)&&(a.graphics.map(function(b){a.graphicsLayer.add(b);
g.app.event("MarkupAddedEvent").publish(b)}),a.successCallback(a.graphics,[],[]).then(function(){var b=g.app.getResource(g.libraryId,"language-feature-editing-undoable-add");g.app.undoManager.add(new f.undoable.Add(b,{app:g.app,addedGraphics:a.graphics,graphicsLayer:a.graphicsLayer}))}))};a.prototype._executeUpdateGraphicsInMemory=function(a){var g=this;if(this._validateEditInMemoryArgs(a,k.Update))if(a.geometries&&a.geometries.length===a.graphics.length){for(var b=[],e=0;e<a.graphics.length;e++)b[e]=
new esri.Graphic(a.graphics[e].toJson()),a.graphics[e].setGeometry(a.geometries[e]),this.app.event("MarkupUpdatedEvent").publish(a.graphics[e]);a.successCallback([],a.graphics,[]).then(function(){var e=g.app.getResource(g.libraryId,"language-feature-editing-undoable-update");g.app.undoManager.add(new f.undoable.Update(e,{app:g.app,preUpdatedGraphics:b,updatedGraphics:a.graphics,graphicsLayer:a.graphicsLayer}))})}else a.errorCallback(Error("Could not update graphics: the graphic count does not match the updated geometry count."))};
a.prototype._executeDeleteGraphicsInMemory=function(a){var g=this;if(this._validateEditInMemoryArgs(a,k.Delete)){for(var b=[],e=0;e<a.graphics.length;e++)a.graphicsLayer.remove(a.graphics[e])&&(b.push(a.graphics[e]),this.app.event("MarkupDeletedEvent").publish(a.graphics[e]));0===b.length&&a.errorCallback(Error("Could not delete graphics: the provided graphics are not on the graphics layer."));a.successCallback([],[],b).then(function(){var e=g.app.getResource(g.libraryId,"language-feature-editing-undoable-delete");
g.app.undoManager.add(new f.undoable.Delete(e,{app:g.app,deletedGraphics:b,graphicsLayer:a.graphicsLayer}))})}};a.prototype._executeCutGraphicsInMemory=function(a){var g=this;if(this._validateEditInMemoryArgs(a,k.Cut))if(a.polyline){var b=a.graphics.map(function(a){return a.geometry});h.infrastructure.GeometryUtils.cutGeometries(b,a.polyline,this.app).then(function(b){for(var e=0;e<b.length;e++)if(2>b[e].length){a.errorCallback(Error("Could not cut graphics: the provided polyline does not cut a graphic."));
return}var h=a.graphics.map(function(a){return new esri.Graphic(a.toJson())}),n=a.graphics,l=g._splitGraphics(n,b);n.map(function(a){return g.app.event("MarkupUpdatedEvent").publish(a)});l.map(function(b){a.graphicsLayer.add(b);g.app.event("MarkupAddedEvent").publish(b)});a.successCallback(l,n,[]).then(function(){var b=g.app.getResource(g.libraryId,"language-feature-editing-undoable-cut");g.app.undoManager.add(new f.undoable.AddAndUpdate(b,{app:g.app,addedGraphics:l,preUpdatedGraphics:h,updatedGraphics:n,
graphicsLayer:a.graphicsLayer}))})},function(g){a.errorCallback(g)})}else a.errorCallback(Error("Could not cut graphics: required polyline was not supplied."))};a.prototype._executeExplodeGraphicsInMemory=function(a){var g=this;if(this._validateEditInMemoryArgs(a,k.Explode)){for(var b=a.graphics,e=[],r=0;r<b.length;r++)if(e[r]=h.infrastructure.GeometryUtils.explodeGeometry(b[r].geometry),!e[r]){a.errorCallback(Error("Could not explode graphics: invalid geometry."));return}var l=b.map(function(a){return new esri.Graphic(a.toJson())}),
y=this._splitGraphics(b,e);b.map(function(a){return g.app.event("MarkupUpdatedEvent").publish(a)});y.map(function(b){a.graphicsLayer.add(b);g.app.event("MarkupAddedEvent").publish(b)});a.successCallback(y,b,[]).then(function(){var e=g.app.getResource(g.libraryId,"language-feature-editing-undoable-explode");g.app.undoManager.add(new f.undoable.AddAndUpdate(e,{app:g.app,addedGraphics:y,preUpdatedGraphics:l,updatedGraphics:b,graphicsLayer:a.graphicsLayer}))})}};a.prototype._executeUnionGraphicsInMemory=
function(a){var g=this;if(this._validateEditInMemoryArgs(a,k.Union)){var b=a.graphics[0],e=a.graphics.map(function(a){return a.geometry});h.infrastructure.GeometryUtils.unionGeometries(e).then(function(e){var h=new esri.Graphic(b.toJson());b.setGeometry(e);g.app.event("MarkupUpdatedEvent").publish(b);var q=a.graphics.slice(1);for(e=0;e<q.length;e++)a.graphicsLayer.remove(q[e]),g.app.event("MarkupDeletedEvent").publish(q[e]);a.successCallback([],[b],q).then(function(){var e=g.app.getResource(g.libraryId,
"language-feature-editing-undoable-union");g.app.undoManager.add(new f.undoable.DeleteAndUpdate(e,{app:g.app,deletedGraphics:q,preUpdatedGraphics:[h],updatedGraphics:[b],graphicsLayer:a.graphicsLayer}))})},function(g){a.errorCallback(g)})}};a.prototype._validateEditInMemoryArgs=function(a,g){a.successCallback=a.successCallback||function(){return Promise.resolve()};a.errorCallback=a.errorCallback||function(){};if(!(a.graphicsLayer&&a.graphicsLayer instanceof esri.layers.GraphicsLayer))return a.errorCallback(Error("Could not edit graphics: required graphics layer was not supplied.")),
!1;if(!a.graphics||0===a.graphics.length)return a.errorCallback(Error("Could not edit graphics: required graphics were not supplied.")),!1;if(g===k.Cut||g===k.Explode||g===k.Union)for(var b=0;b<a.graphics.length;b++){var e=a.graphics[b];if(e.getLayer().id!==a.graphicsLayer.id)return a.errorCallback(Error("Could not edit graphics: graphic is not on the supplied graphics layer.")),!1;if(g===k.Union){if(e.geometry.type!==a.graphics[0].geometry.type)return a.errorCallback(Error("Could not edit graphics: graphics are not of the same type.")),
!1;if(!e.geometry.spatialReference.equals(a.graphics[0].geometry.spatialReference))return a.errorCallback(Error("Could not edit graphics: graphics are not of the same spatial reference.")),!1}}return!0};a.prototype._splitGraphics=function(a,g){for(var b=[],e=0;e<g.length;e++){var h=a[e];h.setGeometry(g[e][0]);for(var f=1;f<g[e].length;f++)b.push(new esri.Graphic(g[e][f],h.symbol,h.attributes,h.infoTemplate))}return b};return a}(e.framework.application.ModuleBase);f.EditingModule=l})(f.editing||(f.editing=
{}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.attach=function(a){var d=this;e.prototype.attach.call(this,a);this.isBusy.sync(a.isBusy);this.title.syncTransform(a.headerText,function(a){return String.unescapeHtml(a)});this.app.event("ApplicationOfflineEvent").subscribe(this,this.cancelEditing);this.app.event("ApplicationOnlineEvent").subscribe(this,this.cancelEditing);this.app.event("FeatureDeletedEvent").subscribe(this,
this._onFeatureDeletedEvent);this.app.event("RelatedRecordDeletedEvent").subscribe(this,this._onRelatedRecordDeletedEvent);this.app.event("GeometryEditCompletedEvent").subscribe(this,this._onGeometryEditCompletedEvent);this.app.command("ShowFeatureAttributeEditor").register(this,function(){d._activateView()});this.app.command("HideFeatureAttributeEditor").register(this,function(){d.isActive&&d._deactivateView();return!1})};b.prototype.deactivated=function(){e.prototype.deactivated.call(this);this.viewModel.cancelEditing()};
b.prototype.handleTypeFieldChange=function(a,d,g){this.viewModel.handleTypeFieldSelected(g)};b.prototype.handleClickEditGeometry=function(a,d,g){this.viewModel.isEditingGeometry.get()?(this.viewModel.stopEditingGeometry(),a=new h.infrastructure.Feature({graphic:this.viewModel.currentFeatureEsriClone}),this.app.behavior("EditorFeatureSelectedBehavior").run(a)):(this.viewModel.startEditingGeometry(),this.app.behavior("EditorRemoveFeatureSelectedBehavior").run());return!1};b.prototype.handleClickDeleteFeature=
function(a,d,g){this.viewModel.state===f.EditorState.EditingGeometry&&this.viewModel.stopEditingGeometry();this.viewModel.confirmDelete();return!1};b.prototype.handleClickSave=function(a,d,g){var b=this;this.viewModel.state===f.EditorState.EditingGeometry&&this.viewModel.stopEditingGeometry();this.isBusy.set(!0);this.viewModel.save(function(){return b.saveSuccessCallback()},function(a){return b.saveErrorCallback(a)});return!1};b.prototype.saveSuccessCallback=function(){this._deactivateView()};b.prototype.saveErrorCallback=
function(a){};b.prototype.cancelEditing=function(){this.viewModel.cancelEditing();this.isActive&&this._deactivateView()};b.prototype._activateView=function(){this.app.command("ActivateView").execute(this.id)};b.prototype._deactivateView=function(a){void 0===a&&(a=!0);this.app.command("DeactivateView").execute(this.id);a&&this.app.event("_internalEvent.EditorViewDeactivated").publish(this.viewModel.currentFeatureEsri)};b.prototype._onFeatureDeletedEvent=function(a){this.viewModel&&this.viewModel.currentFeatureEsri&&
this.viewModel.currentFeatureEsri===a&&(this._deactivateView(!1),this.viewModel.currentFeatureEsriClone.hide())};b.prototype._onRelatedRecordDeletedEvent=function(){this._deactivateView()};b.prototype._onGeometryEditCompletedEvent=function(a){var d=null,d=a.cancelled?new h.infrastructure.Feature({graphic:a.editedGraphic}):new h.infrastructure.Feature({graphic:a.originalGraphic});this.app.behavior("EditorFeatureSelectedBehavior").run(d)};b.prototype.handleClickCancel=function(a,d,g){this.cancelEditing();
return!1};b.prototype.handleInputFocus=function(a,d,g){g.showActualValue()};b.prototype.handleInputBlur=function(a,d,g){g.showFormattedValue()};return b}(e.framework.ui.ViewBase);f.EditorView=k})(f.editing||(f.editing={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(h){function b(a,d){var g=this;h.call(this,a,d);this.app.command("ShowFeatureTemplatePicker").register(this,this._onShowFeatureTemplatePicker,this._canShowFeatureTemplatePicker);this.app.command("HideFeatureTemplatePicker").register(this,function(){g.isActive&&g.app.viewManager.deactivateView(g)})}__extends(b,h);b.prototype._onShowFeatureTemplatePicker=function(a,d){this.app.command("ActivateView").execute(this.id);this.viewModel&&
(this.viewModel.filteredLayers&&(this.viewModel.filteredLayers.length=0,this.viewModel.filteredLayers=null),this._loadTemplate(a,d))};b.prototype._canShowFeatureTemplatePicker=function(a,d){return void 0===a?!0:"object"===typeof a&&a instanceof e.essentials.Layer&&a.mapService&&a.mapService.serviceLayer&&a.mapService.serviceLayer.isEditable&&/Create/.test(a.mapService.serviceLayer.capabilities)?a.mapService.serviceLayer.isEditable():!1};b.prototype._loadTemplate=function(a,d){a?this.viewModel.loadTemplatesForCurrentLayer(a,
d):this.viewModel.loadLayerTemplates(d)};b.prototype.handleFeatureTemplateClick=function(a,d,g){var b=this;this.app.command("Internal.CancelEditingIfNotIdle").execute();var e;if(g.proto&&g.proto.toJson&&!g.relatedFeature)e=new esri.Graphic(g.proto.toJson());else if(!g.relatedFeature)e=new esri.Graphic(null),g.proto&&g.proto.attributes&&(e.attributes=g.proto.attributes);else if(g.proto&&g.proto.toJson){e=g.relatedFeature;for(var h in g.proto.attributes)a=g.proto.attributes[h],null!=a&&(e.attributes[h]=
a)}h=null;if(g.drawingTool&&g.drawingTool.get())switch(g.drawingTool.get()){case "esriFeatureEditToolPoint":h="MapPoint";break;case "esriFeatureEditToolLine":h="Polyline";break;case "esriFeatureEditToolFreehand":"esriGeometryPolyline"===g.layer.geometryType?h="FreehandPolyline":"esriGeometryPolygon"===g.layer.geometryType&&(h="FreehandPolygon");break;case "esriFeatureEditToolAutoCompletePolygon":case "esriFeatureEditToolPolygon":h="Polygon";break;case "esriFeatureEditToolEllipse":h="Ellipse";break;
case "esriFeatureEditToolCircle":h="Circle";break;case "esriFeatureEditToolRectangle":h="Rectangle";break;default:h="Polygon"}if(!h)switch(g.layer.geometryType){case "esriGeometryPoint":h="MapPoint";break;default:h=g.layer.geometryType.replace("esriGeometry","")}e._drawType=h;this.app.configuration.mobileMode?(this.app.command("DisableMapClick").execute(),this.app.command("ShowMap").execute(),this.app.command("CloseDataFrame").execute(),this.app.event("DataFrameClosedEvent").once(this,function(){setTimeout(function(){b.app.command("EnableMapClick").execute();
b.app.event("StartFeaturePlacementEvent").publish();b.app.command("StartEditingNewFeature").execute(e,g.layer)},225)})):(this.app.command("ShowMap").execute(),this.app.event("StartFeaturePlacementEvent").publish(),this.app.command("StartEditingNewFeature").execute(e,g.layer))};return b}(e.framework.ui.ViewBase);h.TemplatePickerView=f})(h.editing||(h.editing={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex=
{}));(function(e){(function(e){(function(e){(function(e){(function(e){var h=function(){return function(){this.name=new Observable("");this.description=new Observable;this.proto={};this.drawingTool=new Observable;this.symbolUri=new Observable;this.symbolStyle=new Observable("");this.swatchElement=null}}();e.FeatureTemplate=h})(e.editing||(e.editing={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments);this.layerIsEditable=new Observable(!1);this.layerTemplates=new ObservableCollection}__extends(b,e);b.prototype.initialize=function(a){var d=this;this.app.event("SiteServiceLayersLoadedEvent").subscribe(this,function(){return d.loadLayerTemplates()})};b.prototype._layerIsValidForEditing=function(a){if(!a)return!1;var d=!0;if(this.filteredLayers)for(var d=!1,g=0;g<this.filteredLayers.length;g++)if(this.filteredLayers[g]===
a){d=!0;break}return d};b.prototype.loadTemplatesForCurrentLayer=function(a,d){if(a&&a.mapService){this.layerTemplates.clear();var g=this._getFeatureLayerModel(a.mapService,d);g&&this.layerTemplates.addItem(g)}};b.prototype.loadLayerTemplates=function(a){var d=this.app.site;if(d&&d.essentialsMap&&d.isInitialized){d=d.getFeatureServices();this.layerTemplates.clear();for(var g=[],b=0;b<d.length;b++){var e=this._getFeatureLayerModel(d[b],a);e&&g.push(e)}this.layerTemplates.addItems(g)}};b.prototype._getFeatureLayerModel=
function(a,d){var g=a.serviceLayer;if(!this._layerIsValidForEditing(a.id))return null;if(this.app.offlineManager.isOfflineMapActive.get()){var b=this.app.offlineManager.syncInfo.findLayerOrTable(g.url);if(!b||!b.canEdit)return null}if(!g.isEditable||!g.isEditable())return null;g=a.displayName;a&&a.layers&&0<a.layers.length&&(g=a.layers[0].displayName);var b=new ObservableCollection,e=this._loadFeatureTemplates(a.serviceLayer,d);e&&0<e.length&&b.addItems(e);return{displayName:new Observable(g),mapServiceId:new Observable(a.id),
layer:a.serviceLayer,templates:b,proto:null}};b.prototype.createTemplate=function(a,d,g){var b=new h.FeatureTemplate,e=null;if(!a.renderer){var f=this.app.map.graphicsLayerIds.filter(function(d){return d===a.id+"-cluster"});0<f.length&&(e=this.app.map.getLayer(f[0]))}if(d&&(b.name.set(d.name),b.description.set(d.description),b.drawingTool.set(d.drawingTool),b.proto=d.prototype,g&&g.attributes&&(b.relatedFeature=g),a.renderer||e)&&(g=a.renderer||e.featureLayerRenderer,g instanceof esri.renderer.HeatmapRenderer&&
(e=this.app.site.essentialsMap.mapServices.filter(function(d){return d.serviceLayer.id===a.id})[0],e.heatMap&&e.heatMap.defaultRenderer&&(g=e.heatMap.defaultRenderer)),d=this._getTemplateSymbol(d,g)))switch(d.type){case "picturemarkersymbol":b.symbolUri.set(d.url);b.swatchElement=null;break;default:d=String.escapeHtml(d.color.toCss()),b.swatchElement="<div class='simple-swatch square' style='background-color: "+d+"'></div>"}b.layer=a;return b};b.prototype._consumeTemplate=function(a,d,g){return this.createTemplate(a,
d,g)};b.prototype._getTemplateSymbol=function(a,d){var g=new esri.Graphic(null);g.attributes={};a.prototype.attributes&&dojo.mixin(g.attributes,a.prototype.attributes);return d.getSymbol(g)||d.defaultSymbol};b.prototype._loadFeatureTemplates=function(a,d){if(!a||!a.templates)return null;var g=[];if(0<a.templates.length)for(var b=0;b<a.templates.length;++b)g.push(this._consumeTemplate(a,a.templates[b],d));else if(a.types&&0<a.types.length)for(b=0;b<a.types.length;++b){var e=a.types[b];if(e.templates)for(var h=
0;h<e.templates.length;++h)g.push(this._consumeTemplate(a,e.templates[h],d))}return g};return b}(e.framework.ui.ViewModelBase);h.TemplatePickerViewModel=f})(h.editing||(h.editing={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){(function(f){var m=function(a){function d(d,b,e){a.call(this,d,b,"esri.layers.ArcGISDynamicMapServiceLayer",!1,!!e)}__extends(d,a);d.prototype.provide=function(a){var d=this;if((null!=a.declaredClass?a.declaredClass:null)!==this.layerType||10.01>Number(a.version))return new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.NotFound,null);for(var b=this.app.site,f="",m=null,l=0;l<
b.essentialsMap.mapServices.length;++l){var k=b.essentialsMap.mapServices[l];if(k.serviceLayer===a){m=k;break}}b=null;m&&(b=this._getLegendUrl(m));null==b&&(b=a.url.replace("/MapServer","/MapServer/legend"));var p=new e.infrastructure.legend.LegendItem(a,this.useThrottledCollections),l={};if(m){if(0===m.layers.length)return new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.NotFound,null);m.supportsDynamicLayers&&a.dynamicLayerInfos&&0<a.dynamicLayerInfos.length&&
(l.dynamicLayers=this.getDynamicLayersParameterJSON(a));f=m.displayName}else k=a.url.lastIndexOf("/"),-1<k&&(f=a.url.substr(k));p.label.set(f);p.templateType="group";l.f="json";var f=esri.request({url:b,content:l,handleAs:"json",callbackParamName:"callBack"}),t=new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.Pending,p);f.then(function(b){d._handleLegendResponse(b,t,p,a,m)},function(a){d._handleLegendError(p,a)});return t};d.prototype.getDynamicLayersParameterJSON=
function(a){var d=[];if(a.dynamicLayerInfos)for(var e=a.dynamicLayerInfos,h=0;h<e.length;h++)if(e[h]){var f=new b;f.source=e[h].source.toJson();f.id=e[h].id;a.layerDrawingOptions&&a.layerDrawingOptions[e[h].id]&&(f.drawingInfo=a.layerDrawingOptions[e[h].id].toJson());d.push(f)}return JSON.stringify(d)};return d}(f.ArcGISMapServiceLegendProvider);f.ArcGISDynamicMapServiceLegendProvider=m;var b=function(){return function(){}}()})(f.providers||(f.providers={}))})(f.legend||(f.legend={}))})(e.modules||
(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){(function(f){var m=function(){function b(a,d,g){this.app=a;this.libraryId=d;this.mapServiceLegends={};this.useThrottledCollections=!!g}b.prototype.supportsOffline=function(){return!0};b.prototype.provide=function(a){if("esri.layers.FeatureLayer"!==(null!=a.declaredClass?a.declaredClass:null))return new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.NotFound,null);for(var d=this.app.site,
g=0;g<d.essentialsMap.mapServices.length;g++){var b=d.essentialsMap.mapServices[g];if(b.serviceLayer instanceof esri.layers.KMLLayer)for(var b=b.serviceLayer.getLayers(),f=0;f<b.length;f++){if(b[f]===a)return new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.NotFound,null)}else if(b.serviceLayer===a&&(b.heatMap&&b.heatMap.enabled&&Modernizr.canvas||b.featureClustering&&b.featureClustering.enabled))return new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.NotFound,
null)}b=new e.infrastructure.legend.LegendItem(a,this.useThrottledCollections);d=d.getFeatureServices();f=null;for(g=0;g<d.length;++g){var m=d[g];if(m.serviceLayer===a){f=m;break}}if(f)for(b.label.set(f.displayName),g=0;g<f.layers.length;++g){var l=f.layers[g];l.includeInLegend&&this.populateItemForLayer(b,l,a,null)}else b.label.set(a.name),this.populateItemForLayer(b,l,a,null);return b&&b.children&&b.children.length()?new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.Show,
b):new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.Hide,b)};b.prototype._buildLegendItemForTemplate=function(a,d,g){var b;b=new e.infrastructure.legend.LegendItem(d,this.useThrottledCollections);b.essLayer=a;b.label.set(g.name);d.renderer&&(a=this._getTemplateSymbol(g,d.renderer))&&this._populateSwatchElement(b,a);return b};b.prototype._buildLegendItemFromSimpleRenderer=function(a,d,g){var b;b=new e.infrastructure.legend.LegendItem(d,this.useThrottledCollections);
b.essLayer=a;b.label.set(a&&a.displayName?a.displayName:d.name);g.symbol&&this._populateSwatchElement(b,g.symbol);return b};b.prototype._buildLegendItemFromRendererInfo=function(a,d,g){d=new e.infrastructure.legend.LegendItem(d,this.useThrottledCollections);d.essLayer=a;d.label.set(g.label);g.symbol&&this._populateSwatchElement(d,g.symbol);return d};b.prototype._populateSwatchElement=function(a,d){if(d&&d.type&&a){var g=d.color&&(!d.color.hasOwnProperty("a")||d.color.hasOwnProperty("a")&&0!==d.color.a)?
d.color.toCss():"rgb(255,255,255)",b=String.escapeHtml(g);switch(d.type){case "picturefillsymbol":case "picturemarkersymbol":b=d.url;g=this.app.getResource(this.libraryId,"language-legend-icon-alt-text").format(a.label.get());b=String.escapeHtml(b);g=String.escapeHtml(g);a.swatchElement="<img src='"+b+"' alt='"+g+"' />";break;case "simplefillsymbol":case "simplemarkersymbol":b="rgb(255,255,255)";if("simplemarkersymbol"===d.type||d.style===esri.symbol.SimpleFillSymbol.STYLE_SOLID)b=g;g=d.outline&&
d.outline.color?d.outline.color.toCss():b;b=String.escapeHtml(b);g=String.escapeHtml(g);a.swatchElement="<div class='simple-swatch square' style='background-color: "+b+"; border-color: "+g+";'></div>";break;case "simplelinesymbol":a.swatchElement="<div class='simple-swatch line' style='color: "+b+";'></div>";break;default:a.swatchElement="<div class='simple-swatch square' style='background-color: "+b+"; border-color: "+b+";'></div>"}}};b.prototype._getTemplateSymbol=function(a,d){var g=new esri.Graphic(null);
g.attributes={};a.prototype.attributes&&dojo.mixin(g.attributes,a.prototype.attributes);return d.getSymbol(g)};b.prototype.populateItemForLayer=function(a,d,g,b){b=[];a.essLayer=d;if(g.renderer&&g.renderer instanceof esri.renderer.UniqueValueRenderer&&g.renderer.infos&&g.renderer.infos.length)for(var e=0;e<g.renderer.infos.length;++e)b.push(this._buildLegendItemFromRendererInfo(d,g,g.renderer.infos[e]));else if(g.templates&&0<g.templates.length)for(e=0;e<g.templates.length;++e)b.push(this._buildLegendItemForTemplate(d,
g,g.templates[e]));else if(g.types&&0<g.types.length)for(e=0;e<g.types.length;++e){var h=g.types[e];if(h.templates)for(var f=0;f<h.templates.length;++f)b.push(this._buildLegendItemForTemplate(d,g,h.templates[f]))}else g.renderer&&g.renderer instanceof esri.renderer.SimpleRenderer&&g.renderer.symbol&&b.push(this._buildLegendItemFromSimpleRenderer(d,g,g.renderer));a.children.addItems(b);0<a.children.getLength()&&(a.templateType="group")};b.prototype._handleLegendError=function(a,d){this.app.trace.warning("Error fetching legend information: "+
d.toString())};return b}();f.FeatureLayerLegendProvider=m})(f.providers||(f.providers={}))})(f.legend||(f.legend={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){(function(f){var m=function(){function b(a,d,g){this.app=a;this.libraryId=d;this.useThrottledCollections=!!g}b.prototype.supportsOffline=function(){return!1};b.prototype.provide=function(a){if("esri.layers.WMSLayer"!==(null!=a.declaredClass?a.declaredClass:null))return new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.NotFound,null);for(var d=new e.infrastructure.legend.LegendItem(a,
this.useThrottledCollections),g=this.app.site,b="",f=null,m=0;m<g.essentialsMap.mapServices.length;++m)if(b=g.essentialsMap.mapServices[m],b.serviceLayer===a){f=b;break}if(f){b=f.displayName;g=[];for(m=0;m<f.layers.length;++m){var l=f.layers[m];if(l.includeInLegend&&l.legendUrl){var k=l.legendUrl;f.proxyUrl&&(k=f.proxyUrl+"?"+encodeURIComponent(k));var p=String.escapeHtml(k),w=String.escapeHtml(this.app.getResource(this.libraryId,"language-legend-icon-alt-text").format(l.displayName)),k=new e.infrastructure.legend.LegendItem(a,
this.useThrottledCollections);k.essLayer=l;k.swatchElement="<img src='"+p+"' alt='"+w+"' class='wms-legend-swatch'/>";p=new e.infrastructure.legend.LegendItem(a,this.useThrottledCollections);p.label.set(l.displayName);p.templateType="group";p.children.addItem(k);g.push(p)}}if(0<g.length)d.children.addItems(g);else return new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.Hide,d)}else return new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.NotFound,
null);d.label.set(b);0<d.children.getLength()&&(d.templateType="group");return new e.infrastructure.legend.LegendItemProviderResponse(e.infrastructure.legend.LegendItemProviderResponseCode.Show,d)};return b}();f.WMSLayerLegendProvider=m})(f.providers||(f.providers={}))})(f.legend||(f.legend={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(){return function(){}}();f.LegendItemViewModel=k;k=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.initialize=function(a){this.enableThrottling=a&&void 0!=a.enableThrottling?a.enableThrottling:!0;h.infrastructure.legend.LegendItemProviderFactory.registerLegendItemProvider(new f.providers.ArcGISDynamicMapServiceLegendProvider(this.app,this.libraryId,this.enableThrottling));h.infrastructure.legend.LegendItemProviderFactory.registerLegendItemProvider(new f.providers.ArcGISTiledMapServiceLegendProvider(this.app,
this.libraryId,this.enableThrottling));h.infrastructure.legend.LegendItemProviderFactory.registerLegendItemProvider(new f.providers.FeatureLayerLegendProvider(this.app,this.libraryId,this.enableThrottling));h.infrastructure.legend.LegendItemProviderFactory.registerLegendItemProvider(new f.providers.KMLLayerLegendProvider(this.app,this.libraryId,this.enableThrottling));h.infrastructure.legend.LegendItemProviderFactory.registerLegendItemProvider(new f.providers.WMSLayerLegendProvider(this.app,this.libraryId,
this.enableThrottling));h.infrastructure.legend.LegendItemProviderFactory.registerLegendItemProvider(new f.providers.HeatMapLayerLegendProvider(this.app,this.libraryId,this.enableThrottling));h.infrastructure.legend.LegendItemProviderFactory.registerLegendItemProvider(new f.providers.ClusterLayerLegendProvider(this.app,this.libraryId,this.enableThrottling))};return b}(e.framework.application.ModuleBase);f.LegendModule=k})(f.legend||(f.legend={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping=
{}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(a,d){e.call(this,a,d);this.registerCommands()}__extends(b,e);b.prototype.registerCommands=function(){var a=this;this.app.command("SwitchToLegendView").register(this,function(){a.app.command("ActivateView").execute(a.id)})};b.prototype.resolveWidget=function(a,d,g){e.prototype.resolveWidget.call(this,a,d);switch(a){case "LegendActionsWidget":return this.app.menuRegistry.createMenuWidget(this,d,g);default:return this.app.trace.warning("LegendView: Unknown Widget"),
null}};b.prototype.activated=function(){this.viewModel.viewActive.set(!0)};b.prototype.deactivated=function(){this.viewModel.viewActive.set(!1)};b.prototype.handleSlideToggleClick=function(a,d,g){g.expanded.set(!g.expanded.get())};b.prototype.handleClickShowLayerList=function(){this.app.command("SwitchToLayerView").execute()};return b}(e.framework.ui.ViewBase);h.LegendView=f})(h.legend||(h.legend={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(e){function b(){e.apply(this,arguments);this.viewActive=new Observable(!1);this.extentChangedBindingToken=null;this._namePositionDictionary={}}__extends(b,e);b.prototype.initialize=function(){var a=this;this.rootNode=new h.infrastructure.legend.LegendItem(null);this.onDemandRootNode=new h.infrastructure.legend.LegendItem(null,!0);this._topLevelItems=[];this.hasVisibleItems=new Observable(!1);if(this.app.site&&this.app.site.isInitialized)this._handleInitializedSite(this.app.isOffline.get());
else this.app.event("SiteInitializedEvent").once(this,function(){return a._handleInitializedSite(a.app.isOffline.get())});this.app.event("MapServiceAddedEvent").subscribe(this,this._handleMapServiceAddedEvent);this.app.event("MapServicePropertyChangedEvent").subscribe(this,this._handleMapServiceAddedEvent);this.app.event("MapServiceLayersChangedEvent").subscribe(this,this._handleMapServiceAddedEvent);this.app.event("MapServiceRemovedEvent").subscribe(this,this._handleMapServiceRemovedEvent);this.app.event("MapExtentChangedEvent").subscribe(this,
this._handleMapExtentChangedEvent);this.app.event("LayerVisualizationChangedEvent").subscribe(this,this._handleLayerVisualizationChanged);this.app.event("ClusterLayerAddedEvent").subscribe(this,this._handleAddClusterLegend);this.app.isOffline.bind(this,function(d){try{a._clear(),a._handleInitializedSite(d),setTimeout(function(){a._handleMapExtentChangedEvent()},100)}catch(g){a.app.trace.warning("Legend error while transitioning between online/offline modes: "+g)}})};b.prototype._handleAddClusterLegend=
function(a){this._handleLayerAddition(a,this.app.isOffline.get())};b.prototype._handleLayerVisualizationChanged=function(a){var d=this;setTimeout(function(){d._handleMapServiceAddedEvent(a.mapService);d._removeClusteredLegendItems()},500)};b.prototype._handleMapServiceAddedEvent=function(a){if(a){a=a.serviceLayer;try{this._handleLayerAddition(a,this.app.isOffline.get())}catch(d){this.app.trace.warning("Error loading legend items for layer '{0}': {1}".format(a.url,d.toString()))}}};b.prototype._handleMapServiceRemovedEvent=
function(a){if(a){a=a.serviceLayer;for(var d=0;d<this.rootNode.children.get().length;d++)a===this.rootNode.children.get()[d].esriLayer&&(this.rootNode.children.removeAt(d),this._topLevelItems.splice(d,1))}};b.prototype._clear=function(){this._onLayerAddConnectHandle&&this._onLayerAddConnectHandle.remove();this._onLayerRemoveHandle&&this._onLayerRemoveHandle.remove();this._onLayerVisibilityChangeOnHandle&&this._onLayerVisibilityChangeOnHandle.remove();this._layerVisEventSubscribeHandle&&this.app.event("LayerVisibilityChangedEvent").unsubscribe(this._layerVisEventSubscribeHandle);
this._topLevelItems=[];this.hasVisibleItems.set(!1)};b.prototype._handleInitializedSite=function(a){var d=this;this._map=this.app.map;for(var g={},b=this._map.layerIds.concat(this._map.graphicsLayerIds),e=0;e<b.length;++e){var h=this._map.getLayer(b[e]);if(h){g[h.url]=h;try{this._handleLayerAddition(h,a)}catch(f){this.app.trace.warning("Error loading legend items for layer '{0}': {1}".format(h.url,f.toString()))}}}this._onLayerAddConnectHandle=this._map.on("layer-add",function(b){d._onLayerVisibilityChangeOnHandle=
b.layer.on("visibility-change",dojo.hitch(d,d._handleMapExtentChangedEvent));if(!g[b.layer.url])try{d._handleLayerAddition(b.layer,a)}catch(e){d.app.trace.warning("Error loading legend items for layer '{0}': {1}".format(b.layer.url,e.toString()))}});this._onLayerRemoveHandle=this._map.on("layer-remove",function(g){d._handleLayerRemoval(g.layer,a)});this._layerVisEventSubscribeHandle=this.app.event("LayerVisibilityChangedEvent").subscribe(this,this._handleMapExtentChangedEvent)};b.prototype._handleMapExtentChangedEvent=
function(){var a=this;if(this.viewActive.get())try{this._handleMapExtentChangedEventImpl()}catch(d){}else this.extentChangedBindingToken||(this.extentChangedBindingToken=this.viewActive.bind(this,function(){a.viewActive.unbind(a.extentChangedBindingToken);a.extentChangedBindingToken=null;a._handleMapExtentChangedEventImpl()}))};b.prototype._handleMapExtentChangedEventImpl=function(){for(var a=this.app.map.getScale(),d=0,g=!1,b=0;b<this._topLevelItems.length;++b){var e=this._topLevelItems[b];e&&(d+=
this._walkLegendTree(a,e),e.isVisible.get()&&("group"!==e.templateType||"group"===e.templateType&&e.children.length())&&(g=!0))}this._removeClusteredLegendItems();this._populateOnDemandRootNode();g!==this.hasVisibleItems.get()&&this.hasVisibleItems.set(g)};b.prototype._populateOnDemandRootNode=function(){var a=this;this.onDemandRootNode.children.clear();this.rootNode.children.get().forEach(function(d){d.isVisible.get()&&a.onDemandRootNode.children.addItem(d)})};b.prototype._isVisibleInTree=function(a){if(a&&
!a.isVisible())return!0;if(a){if(null==a.parentLayerId)return!1;if(a=a.mapService.findLayerById(a.parentLayerId))return this._isVisibleInTree(a)}return!1};b.prototype._walkLegendTree=function(a,d){if(d.essLayer&&this._isVisibleInTree(d.essLayer)||!d.essLayer&&!d.esriLayer.visible)return this._hideLegendItem(d),0;if(d.isCluster)return 1;for(var g=0,b=0<d.children.getLength(),e=0;e<d.children.getLength();++e)g+=this._walkLegendTree(a,d.children.getAt(e));var e=Number.POSITIVE_INFINITY,h=0,e=d.essLayer?
d.essLayer.minScale:d.esriLayer.minScale,h=d.essLayer?d.essLayer.maxScale:d.esriLayer.maxScale,f=!1;0===e&&0===h?f=!0:a>=h&&a<=e&&(f=!0);(f=f&&(d.essLayer?d.essLayer.isVisible():d.esriLayer.visible))?b&&0===g?this._hideLegendItem(d):this._showLegendItem(d):this._hideLegendItem(d);return!f||0===g&&0<d.children.getLength()?0:g+(b?0:1)};b.prototype._hideLegendItem=function(a){!0===a.isVisible.get()&&a.isVisible.set(!1)};b.prototype._showLegendItem=function(a){!1===a.isVisible.get()&&a.isVisible.set(!0)};
b.prototype._handleLayerAddition=function(a,d){var g=this._getProvider(a,d);if(g){var b=g.item;if(g.code.get()===h.infrastructure.legend.LegendItemProviderResponseCode.Show||g.code.get()===h.infrastructure.legend.LegendItemProviderResponseCode.Pending)this._replaceDuplicate(b)||this._addTopLevelItem(b);else if(g.code.get()===h.infrastructure.legend.LegendItemProviderResponseCode.Hide){for(g=0;g<this.rootNode.children.length();g++)if(this.rootNode.children.getAt(g).esriLayer===b.esriLayer){this.rootNode.children.removeAt(g);
break}for(g=0;g<this._topLevelItems.length;g++)if(this._topLevelItems[g]&&this._topLevelItems[g].esriLayer===b.esriLayer){this._topLevelItems.splice(g,1);break}}}};b.prototype._handleLayerRemoval=function(a,d){var g=this._getProvider(a,d);if(g){for(var g=g.item,b=0;b<this.rootNode.children.length();b++)if(this.rootNode.children.getAt(b).esriLayer===g.esriLayer){if(g.esriLayer instanceof esri.layers.FeatureLayer){var e=g.esriLayer.name;if(!this._namePositionDictionary.hasOwnProperty(e)||this._namePositionDictionary[e]>
b)this._namePositionDictionary[e]=b}this.rootNode.children.removeAt(b);break}for(b=0;b<this._topLevelItems.length;b++)if(this._topLevelItems[b]&&this._topLevelItems[b].esriLayer===g.esriLayer){this._topLevelItems.splice(b,1);break}}};b.prototype._getProvider=function(a,d){for(var g=h.infrastructure.legend.LegendItemProviderFactory.getProviders(),b=0;b<g.length;++b){var e=g[b];if(!d||e.supportsOffline()){var f;try{f=e.provide(a)}catch(m){this.app.trace.warning("Error building legend: "+m);continue}if(f&&
f.code.get()!==h.infrastructure.legend.LegendItemProviderResponseCode.NotFound)return f}}return null};b.prototype._replaceDuplicate=function(a){for(var d=0;d<this.rootNode.children.get().length;d++)if(a.esriLayer===this.rootNode.children.get()[d].esriLayer)return this.rootNode.children.removeAt(d),this.rootNode.children.insertItem(d,a),this._topLevelItems[d]=a,!0;return!1};b.prototype._addTopLevelItem=function(a){var d=0;if(a.esriLayer instanceof esri.layers.FeatureLayer){var g=a.esriLayer.name;g&&
this._namePositionDictionary.hasOwnProperty(g)&&(d=this._namePositionDictionary[g])}this.rootNode.children.insertItem(d,a);this._topLevelItems.unshift(a)};b.prototype._removeClusteredLegendItems=function(){for(var a=0;a<this._topLevelItems.length;++a){var d=this._topLevelItems[a];d&&d.esriLayer instanceof esri.layers.FeatureLayer&&null===d.esriLayer.renderer&&d.isVisible.set(!1)}};return b}(e.framework.ui.ViewModelBase);f.LegendViewModel=k})(f.legend||(f.legend={}))})(h.modules||(h.modules={}))})(f.mapping||
(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.POINT="point";b.MULTIPOINT="multipoint";b.POLYLINE="polyline";b.POLYGON="polygon";b.POLYGON_FILL="polygonFill";b.POLYGON_BORDER="polygonBorder";b.TEXT="text";b.TEXT_WEIGHT="textWeight";return b}(e.framework.application.ModuleBase);h.MarkupModule=f})(h.markup||(h.markup={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){(function(f){var m=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.attach=function(a){b.prototype.attach.call(this,a);this.title.set(this.app.getResource(this.libraryId,"language-toolbar-markup-change-styles-dialog-title"));this.app.command("InitializePolylineSwatches").register(this,this.createLineSwatches);this.app.event("InitializeMarkupSwatches").publish("polyline");$(this.root).find("svg").attr("focusable","false")};
a.prototype.createLineSwatches=function(a){for(var g=$(".markup-swatch",this.root),b=0;b<g.length;b++){g[b].id="polyline"+b.toString();g[b].onclick=dojo.hitch(this,this.handleClickStyle);var e=null;switch(a[b].style){case "Solid":e={style:"Solid",width:a[b].width,cap:"round",color:a[b].color};break;case "Dash":e={style:"Dash",width:a[b].width,cap:"round",color:a[b].color};break;case "Dash Dot":e={style:"DashDot",width:a[b].width,cap:"round",color:a[b].color};break;case "Dash Dot Dot":e={style:"LongDashDotDot",
width:a[b].width,cap:"round",color:a[b].color};break;case "Dot":e={style:"Dot",width:a[b].width,cap:"round",color:a[b].color}}dojox.gfx.createSurface(g[b],30,30).createPolyline([{x:0,y:15},{x:30,y:15}]).setStroke(e)}};a.prototype.handleClickStyle=function(a){a=f.StyleSelectorUtils.getIdNumber(a||window.event);this.app.command("ChangeMarkupStyleFromId").execute("polyline",a);this.app.command("DeactivateView").execute(this.id);h.infrastructure.FocusUtils.focusOnMap(this.app.map)};a.prototype.handleClickCancel=
function(a,g,b){this.app.command("DeactivateView").execute(this.id)};return a}(e.framework.ui.ViewBase);f.StyleSelectorLineView=m})(f.styleSelector||(f.styleSelector={}))})(f.markup||(f.markup={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){(function(f){var m=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.attach=function(a){b.prototype.attach.call(this,a);this.title.set(this.app.getResource(this.libraryId,"language-toolbar-markup-change-styles-dialog-title"));this.app.command("InitializePointSwatches").register(this,this.createPointSwatches);this.app.event("InitializeMarkupSwatches").publish("point");$(this.root).find("svg").attr("focusable",
"false")};a.prototype.createPointSwatches=function(a){for(var g=$(".markup-swatch",this.root),b=0;b<g.length;b++)switch(g[b].id="point"+b.toString(),g[b].onclick=dojo.hitch(this,this.handleClickStyle),a[b].style){case "Circle":var e=dojox.gfx.createSurface(g[b],1.2*a[b].size,1.2*a[b].size);e.createCircle({cx:a[b].size/2,cy:a[b].size/2,r:a[b].size/2}).setFill(a[b].color);break;case "Diamond":var h=a[b].size,h=h/Math.sqrt(2),e=dojox.gfx.createSurface(g[b],h*Math.sqrt(2),h*Math.sqrt(2));e.createRect({x:h*
Math.sqrt(2)/2-h/2,y:h*Math.sqrt(2)/2-h/2,width:h,height:h}).setFill(a[b].color).setTransform([dojox.gfx.matrix.rotategAt(45,h*Math.sqrt(2)/2,h*Math.sqrt(2)/2)]);break;case "Square":e=dojox.gfx.createSurface(g[b],a[b].size,a[b].size),e.createRect({x:0,y:0,width:a[b].size,height:a[b].size}).setFill(a[b].color)}};a.prototype.handleClickStyle=function(a){a=f.StyleSelectorUtils.getIdNumber(a||window.event);this.app.command("ChangeMarkupStyleFromId").execute("point",a);this.app.command("DeactivateView").execute(this.id);
h.infrastructure.FocusUtils.focusOnMap(this.app.map)};a.prototype.handleClickCancel=function(a,g,b){this.app.command("DeactivateView").execute(this.id)};return a}(e.framework.ui.ViewBase);f.StyleSelectorPointView=m})(f.styleSelector||(f.styleSelector={}))})(f.markup||(f.markup={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){(function(f){var m=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.attach=function(a){b.prototype.attach.call(this,a);this.title.set(this.app.getResource(this.libraryId,"language-toolbar-markup-change-styles-dialog-title"));this.app.command("InitializePolygonSwatches").register(this,this.createPolygonSwatches);this.app.event("InitializeMarkupSwatches").publish("polygon");$(this.root).find("svg").attr("focusable",
"false")};a.prototype.createPolygonSwatches=function(a){for(var g=$(".markup-swatch",this.root),b=0;b<g.length;b++){g[b].id="polygon"+b.toString();g[b].onclick=dojo.hitch(this,this.handleClickStyle);var e=null;switch(a[b].borderStyle){case "Solid":e={style:"Solid",width:a[b].borderWidth,cap:"round",color:a[b].borderColor};break;case "Dash":e={style:"Dash",width:a[b].borderWidth,cap:"round",color:a[b].borderColor};break;case "Dash Dot":e={style:"DashDot",width:a[b].borderWidth,cap:"round",color:a[b].borderColor};
break;case "Dash Dot Dot":e={style:"LongDashDotDot",width:a[b].borderWidth,cap:"round",color:a[b].borderColor};break;case "Dot":e={style:"Dot",width:a[b].borderWidth,cap:"round",color:a[b].borderColor}}var h=null;switch(a[b].fillStyle){case "Solid":h=a[b].fillColor;break;case "Cross":h={type:"pattern",height:24,width:24,src:"Resources/Images/Markup/cross-24.png"};break;case "Diagonal Cross":h={type:"pattern",height:24,width:24,src:"Resources/Images/Markup/diagonal-cross-24.png"};break;case "Vertical":h=
{type:"pattern",height:24,width:24,src:"Resources/Images/Markup/vertical-24.png"};break;case "Horizontal":h={type:"pattern",height:24,width:24,src:"Resources/Images/Markup/horizontal-24.png"};break;case "Forward Diagonal":h={type:"pattern",height:12,width:12,src:"Resources/Images/Markup/forward-diagonal-12.png"};break;case "Backward Diagonal":h={type:"pattern",height:12,width:12,src:"Resources/Images/Markup/backward-diagonal-12.png"}}dojox.gfx.createSurface(g[b],30,30).createPolyline([{x:0,y:0},{x:30,
y:15},{x:30,y:30},{x:0,y:30},{x:0,y:0}]).setFill(h).setStroke(e)}};a.prototype.handleClickStyle=function(a){a=f.StyleSelectorUtils.getIdNumber(a||window.event);this.app.command("ChangeMarkupStyleFromId").execute("polygon",a);this.app.command("DeactivateView").execute(this.id);h.infrastructure.FocusUtils.focusOnMap(this.app.map)};a.prototype.handleClickCancel=function(a,g,b){this.app.command("DeactivateView").execute(this.id)};return a}(e.framework.ui.ViewBase);f.StyleSelectorPolygonView=m})(f.styleSelector||
(f.styleSelector={}))})(f.markup||(f.markup={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){(function(f){var m=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.attach=function(a){b.prototype.attach.call(this,a);this.title.set(this.app.getResource(this.libraryId,"language-toolbar-markup-change-styles-dialog-title"));this.app.command("InitializeTextSwatches").register(this,this.createTextSwatches);this.app.event("InitializeMarkupSwatches").publish("text");$(this.root).find("svg").attr("focusable","false")};
a.prototype.createTextSwatches=function(a){for(var g=$(".markup-swatch",this.root),b=0;b<g.length;b++){g[b].id="text"+b.toString();g[b].onclick=dojo.hitch(this,this.handleClickStyle);var e={family:a[b].textFamily,style:a[b].style,weight:a[b].weight,size:a[b].size},h=a[b].color,f=parseInt(a[b].size.replace(/[^\d.]/g,""));dojox.gfx.createSurface(g[b],3*f,1.2*f).createText({x:0,y:f,text:"ABC",style:"italic",align:"start"}).setFont(e).setFill(h)}};a.prototype.handleClickStyle=function(a){a=f.StyleSelectorUtils.getIdNumber(a||
window.event);this.app.command("ChangeMarkupStyleFromId").execute("text",a);this.app.command("DeactivateView").execute(this.id);h.infrastructure.FocusUtils.focusOnMap(this.app.map)};a.prototype.handleClickCancel=function(a,g,b){this.app.command("DeactivateView").execute(this.id)};return a}(e.framework.ui.ViewBase);f.StyleSelectorTextView=m})(f.styleSelector||(f.styleSelector={}))})(f.markup||(f.markup={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){(function(k){var l=function(b){function a(a,g){b.call(this,a,g);this.defaultPointStyles=[["point","#FF4CA0D8","Circle",16],["point","#FF2DB459","Circle",16],["point","#FF9B82BC","Circle",16],["point","#FFDB5A5A","Circle",16],["point","#FFF37521","Circle",16],["point","#FFFDF068","Circle",16],["point","#FF4CA0D8","Square",16],["point","#FF2DB459","Square",16],["point","#FF9B82BC","Square",16],["point","#FFDB5A5A","Square",16],["point",
"#FFF37521","Square",16],["point","#FFFDF068","Square",16],["point","#FF4CA0D8","Diamond",16],["point","#FF2DB459","Diamond",16],["point","#FF9B82BC","Diamond",16],["point","#FFDB5A5A","Diamond",16],["point","#FFF37521","Diamond",16],["point","#FFFDF068","Diamond",16]];this.defaultLineStyles=[["polyline","#FF4CA0D8","Dash",3],["polyline","#FF2DB459","Dash",3],["polyline","#FF9B82BC","Dash",3],["polyline","#FFDB5A5A","Dash",3],["polyline","#FFF37521","Dash",3],["polyline","#FFFDF068","Dash",3],["polyline",
"#FF4CA0D8","Solid",3],["polyline","#FF2DB459","Solid",3],["polyline","#FF9B82BC","Solid",3],["polyline","#FFDB5A5A","Solid",3],["polyline","#FFF37521","Solid",3],["polyline","#FFFDF068","Solid",3],["polyline","#FF4CA0D8","Dot",3],["polyline","#FF2DB459","Dot",3],["polyline","#FF9B82BC","Dot",3],["polyline","#FFDB5A5A","Dot",3],["polyline","#FFF37521","Dot",3],["polyline","#FFFDF068","Dot",3]];this.defaultPolygonStyles=[["polygon","#FF4CA0D8","#4D4CA0D8","Solid","Solid",3],["polygon","#FF2DB459",
"#4D2DB459","Solid","Solid",3],["polygon","#FF9B82BC","#4D9B82BC","Solid","Solid",3],["polygon","#FFDB5A5A","#4DDB5A5A","Solid","Solid",3],["polygon","#FFF37521","#4DF37521","Solid","Solid",3],["polygon","#FFFDF068","#4DFDF068","Solid","Solid",3],["polygon","#FF4CA0D8","#4D4CA0D8","Dash Dot","Solid",3],["polygon","#FF2DB459","#4D2DB459","Dash Dot","Solid",3],["polygon","#FF9B82BC","#4D9B82BC","Dash Dot","Solid",3],["polygon","#FFDB5A5A","#4DDB5A5A","Dash Dot","Solid",3],["polygon","#FFF37521","#4DF37521",
"Dash Dot","Solid",3],["polygon","#FFFDF068","#4DFDF068","Dash Dot","Solid",3],["polygon","#FF4CA0D8","#4D4CA0D8","Dot","Solid",3],["polygon","#FF2DB459","#4D2DB459","Dot","Solid",3],["polygon","#FF9B82BC","#4D9B82BC","Dot","Solid",3],["polygon","#FFDB5A5A","#4DDB5A5A","Dot","Solid",3],["polygon","#FFF37521","#4DF37521","Dot","Solid",3],["polygon","#FFFDF068","#4DFDF068","Dot","Solid",3]];this.defaultTextStyles=["text #FF000000 Normal Normal 12pt Arial".split(" "),"text #FF000000 Normal Normal 14pt Arial".split(" "),
"text #FF000000 Normal Normal 18pt Arial".split(" "),"text #FFCCCCCC Normal Normal 12pt Arial".split(" "),"text #FFCCCCCC Normal Normal 14pt Arial".split(" "),"text #FFCCCCCC Normal Normal 18pt Arial".split(" ")];this.pointStyles=new ObservableCollection;this.lineStyles=new ObservableCollection;this.polygonStyles=new ObservableCollection;this.textStyles=new ObservableCollection;this.app.event("InitializeMarkupSwatches").subscribe(this,this.handleInitializeMarkupSwatches);this.app.command("ChangeMarkupStyleFromId").register(this,
this.executeChangeMarkupFromId)}__extends(a,b);a.prototype.initialize=function(a){0<a.customPointStyles.length?this.initializePointStyles(a.customPointStyles):this.initializePointStyles(this.defaultPointStyles);0<a.customLineStyles.length?this.initializeLineStyles(a.customLineStyles):this.initializeLineStyles(this.defaultLineStyles);0<a.customPolygonStyles.length?this.initializePolygonStyles(a.customPolygonStyles):this.initializePolygonStyles(this.defaultPolygonStyles);0<a.customTextStyles.length?
this.initializeTextStyles(a.customTextStyles):this.initializeTextStyles(this.defaultTextStyles)};a.prototype.handleInitializeMarkupSwatches=function(a){switch(a){case f.MarkupModule.POLYGON:this.app.command("InitializePolygonSwatches").execute(this.polygonStyles.get());break;case f.MarkupModule.POLYLINE:this.app.command("InitializePolylineSwatches").execute(this.lineStyles.get());break;case f.MarkupModule.POINT:this.app.command("InitializePointSwatches").execute(this.pointStyles.get());break;case f.MarkupModule.TEXT:this.app.command("InitializeTextSwatches").execute(this.textStyles.get())}};
a.prototype.initializePointStyles=function(a){for(var g=0;g<a.length;g++)4!=a[g].length?this.app.trace.warning("Point Style "+(g+1)+" in the style selector has an incorrect number of elements."):this.pointStyles.addItem({type:a[g][0],color:h.infrastructure.ColorUtils.getColorFromString(a[g][1]).toRgba(),style:a[g][2],size:a[g][3]})};a.prototype.initializeLineStyles=function(a){for(var g=0;g<a.length;g++)4!=a[g].length?this.app.trace.warning("Line Style "+(g+1)+" in the style selector has an incorrect number of elements."):
this.lineStyles.addItem({type:a[g][0],color:h.infrastructure.ColorUtils.getColorFromString(a[g][1]).toRgba(),style:a[g][2],width:a[g][3]})};a.prototype.initializePolygonStyles=function(a){for(var g=0;g<a.length;g++)6!=a[g].length?this.app.trace.warning("Polygon Style "+(g+1)+" in the style selector has an incorrect number of elements."):this.polygonStyles.addItem({type:a[g][0],borderColor:h.infrastructure.ColorUtils.getColorFromString(a[g][1]).toRgba(),fillColor:h.infrastructure.ColorUtils.getColorFromString(a[g][2]).toRgba(),
borderStyle:a[g][3],fillStyle:a[g][4],borderWidth:a[g][5]})};a.prototype.initializeTextStyles=function(a){for(var g=0;g<a.length;g++)6!=a[g].length?this.app.trace.warning("Text Style "+(g+1)+" in the style selector has an incorrect number of elements."):this.textStyles.addItem({type:a[g][0],color:h.infrastructure.ColorUtils.getColorFromString(a[g][1]).toRgba(),style:a[g][2],weight:a[g][3],size:a[g][4],textFamily:a[g][5]})};a.prototype.executeChangeMarkupFromId=function(a,g){var b=null;switch(a){case f.MarkupModule.POINT:b=
this.pointStyles.getAt(g);b={type:b.type,style:b.style,size:b.size,color:b.color};this.app.command("ChangeMarkupStyle").execute(b);break;case f.MarkupModule.POLYLINE:b=this.lineStyles.getAt(g);b={type:b.type,style:b.style,width:b.width,color:b.color};this.app.command("ChangeMarkupStyle").execute(b);break;case f.MarkupModule.POLYGON:b=this.polygonStyles.getAt(g);b={type:b.type,borderStyle:b.borderStyle,fillStyle:b.fillStyle,borderWidth:b.borderWidth,borderColor:b.borderColor,fillColor:b.fillColor};
this.app.command("ChangeMarkupStyle").execute(b);break;case f.MarkupModule.TEXT:b=this.textStyles.getAt(g),b={type:b.type,textFamily:b.textFamily,style:b.style,weight:b.weight,size:b.size,color:b.color},this.app.command("ChangeMarkupStyle").execute(b)}};return a}(e.framework.ui.ViewModelBase);k.StyleSelectorViewModel=l})(f.styleSelector||(f.styleSelector={}))})(f.markup||(f.markup={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(l){function b(){l.apply(this,arguments);this.markupLayerId="Drawings";this.coordinatesMarkupLayerId="Drawings_coordinates";this.markupTools={point:[],polyline:[],polygon:[],text:[]};this.editToolbar=null;this.editToolbarTool=esri.toolbars.Edit.MOVE|esri.toolbars.Edit.EDIT_VERTICES|esri.toolbars.Edit.SCALE|esri.toolbars.Edit.ROTATE;this._editToolbarInputMethodChangeHandle=this.editToolbarDeactivatedHandle=this.editToolbarMoveStoppedHandle=
this.editToolbarMoveStartedHandle=this.modifiedGraphic=this.originalGraphic=null;this._markerSymbol=e.essentialsHtmlViewer.mapping.infrastructure.SymbolUtils.defaultMarkerSymbol();this._lineSymbol=e.essentialsHtmlViewer.mapping.infrastructure.SymbolUtils.defaultLineSymbol();this._polyFillSymbol=e.essentialsHtmlViewer.mapping.infrastructure.SymbolUtils.defaultFillSymbol();this._polyBorderSymbol=e.essentialsHtmlViewer.mapping.infrastructure.SymbolUtils.defaultLineSymbol();this._textSymbol=e.essentialsHtmlViewer.mapping.infrastructure.SymbolUtils.defaultTextSymbol();
this._fontSymbol=this._textSymbol.font;this.textStyleViewCreated=this.polygonStyleViewCreated=this.lineStyleViewCreated=this.pointStyleViewCreated=!1;this.pointSize=new Observable(15);this.lineWidth=new Observable(2);this.polyBorderWidth=new Observable(2);this.textSize=new Observable("12pt");this.pointColor=new Observable(h.infrastructure.ColorUtils.getColorFromString("#cc3333FF"));this.lineColor=new Observable(h.infrastructure.ColorUtils.getColorFromString("#cc3333FF"));this.polygonFillColor=new Observable(h.infrastructure.ColorUtils.getColorFromString("#cc333380"));
this.polygonBorderColor=new Observable(h.infrastructure.ColorUtils.getColorFromString("#cc3333FF"));this.textColor=new Observable(h.infrastructure.ColorUtils.getColorFromString("#000000FF"));this._coordinatesPointBuffer=35;this._coordinatesSmsSymbolBuffer=15;this.pointStyleObsv=new ObservableCollection(["Circle","Diamond","Square"]);this.lineStyleObsv=new ObservableCollection(["Dash","Dash Dot","Dash Dot Dot","Dot","Solid"]);this.polyBorderStyleObsv=new ObservableCollection(["Dash","Dash Dot","Dash Dot Dot",
"Dot","Solid"]);this.polyFillStyleObsv=new ObservableCollection("Solid;Forward Diagonal;Backward Diagonal;Cross;Diagonal Cross;Horizontal;Vertical".split(";"));this.textStyleObsv=new ObservableCollection(["Italic","Normal","Oblique"]);this.textStyleWeightObsv=new ObservableCollection(["Bold","Bolder","Lighter","Normal"]);this.selectedPointStyleObsv=new Observable("Circle");this.selectedLineStyleObsv=new Observable("Dash");this.selectedPolyBorderStyleObsv=new Observable("Dash");this.selectedPolyFillStyleObsv=
new Observable("Solid");this.selectedTextStyleObsv=new Observable("Italic");this.selectedTextStyleWeightObsv=new Observable("Bold");this.selectedTextFamily=new Observable("times");this.pointStyle=[esri.symbol.SimpleMarkerSymbol.STYLE_CIRCLE,esri.symbol.SimpleMarkerSymbol.STYLE_DIAMOND,esri.symbol.SimpleMarkerSymbol.STYLE_SQUARE];this.lineStyle=[esri.symbol.SimpleLineSymbol.STYLE_DASH,esri.symbol.SimpleLineSymbol.STYLE_DASHDOT,esri.symbol.SimpleLineSymbol.STYLE_DASHDOTDOT,esri.symbol.SimpleLineSymbol.STYLE_DOT,
esri.symbol.SimpleLineSymbol.STYLE_SOLID];this.polyBorderStyle=[esri.symbol.SimpleLineSymbol.STYLE_DASH,esri.symbol.SimpleLineSymbol.STYLE_DASHDOT,esri.symbol.SimpleLineSymbol.STYLE_DASHDOTDOT,esri.symbol.SimpleLineSymbol.STYLE_DOT,esri.symbol.SimpleLineSymbol.STYLE_SOLID];this.polyFillStyle=[esri.symbol.SimpleFillSymbol.STYLE_SOLID,esri.symbol.SimpleFillSymbol.STYLE_FORWARD_DIAGONAL,esri.symbol.SimpleFillSymbol.STYLE_BACKWARD_DIAGONAL,esri.symbol.SimpleFillSymbol.STYLE_CROSS,esri.symbol.SimpleFillSymbol.STYLE_DIAGONAL_CROSS,
esri.symbol.SimpleFillSymbol.STYLE_HORIZONTAL,esri.symbol.SimpleFillSymbol.STYLE_VERTICAL];this.textStyle=[esri.symbol.Font.STYLE_ITALIC,esri.symbol.Font.STYLE_NORMAL,esri.symbol.Font.STYLE_OBLIQUE];this.textStyleWeight=[esri.symbol.Font.WEIGHT_BOLD,esri.symbol.Font.WEIGHT_BOLDER,esri.symbol.Font.WEIGHT_LIGHTER,esri.symbol.Font.STYLE_NORMAL]}__extends(b,l);b.prototype.initialize=function(a){a.markupLayerName&&(this.markupLayerId=a.markupLayerName);a.defaultPointMarkup&&(a.defaultPointMarkup.pointStyle&&
this.selectedPointStyleObsv.set(a.defaultPointMarkup.pointStyle),a.defaultPointMarkup.pointSize&&this.pointSize.set(a.defaultPointMarkup.pointSize),a.defaultPointMarkup.pointColor&&this.pointColor.set(h.infrastructure.ColorUtils.getColorFromString(a.defaultPointMarkup.pointColor)));this.pointMarkupStyleChanged();a.defaultLineMarkup&&(a.defaultLineMarkup.lineStyle&&this.selectedLineStyleObsv.set(a.defaultLineMarkup.lineStyle),a.defaultLineMarkup.lineWidth&&this.lineWidth.set(a.defaultLineMarkup.lineWidth),
a.defaultLineMarkup.lineColor&&this.lineColor.set(h.infrastructure.ColorUtils.getColorFromString(a.defaultLineMarkup.lineColor)));this.polylineMarkupStyleChanged();a.defaultPolygonMarkup&&(a.defaultPolygonMarkup.polygonBorderStyle&&this.selectedPolyBorderStyleObsv.set(a.defaultPolygonMarkup.polygonBorderStyle),a.defaultPolygonMarkup.polygonFillStyle&&this.selectedPolyFillStyleObsv.set(a.defaultPolygonMarkup.polygonFillStyle),a.defaultPolygonMarkup.polygonBorderWidth&&this.polyBorderWidth.set(a.defaultPolygonMarkup.polygonBorderWidth),
a.defaultPolygonMarkup.polygonFillColor&&this.polygonFillColor.set(h.infrastructure.ColorUtils.getColorFromString(a.defaultPolygonMarkup.polygonFillColor)),a.defaultPolygonMarkup.polygonBorderColor&&this.polygonBorderColor.set(h.infrastructure.ColorUtils.getColorFromString(a.defaultPolygonMarkup.polygonBorderColor)));this.polygonMarkupStyleChanged();a.defaultTextMarkup&&(a.defaultTextMarkup.textStyle&&this.selectedTextStyleObsv.set(a.defaultTextMarkup.textStyle),a.defaultTextMarkup.textWeight&&this.selectedTextStyleWeightObsv.set(a.defaultTextMarkup.textWeight),
a.defaultTextMarkup.textSize&&this.textSize.set(a.defaultTextMarkup.textSize),a.defaultTextMarkup.textColor&&this.textColor.set(h.infrastructure.ColorUtils.getColorFromString(a.defaultTextMarkup.textColor)),a.defaultTextMarkup.textFamily&&this.selectedTextFamily.set(a.defaultTextMarkup.textFamily));this.app.toolRegistry.registerToolTypeForCommand("EditMarkup","geocortex.essentialsHtmlViewer.mapping.infrastructure.tools.DisablingMapTool");this.app.toolRegistry.registerToolTypeForCommand("DeleteMarkup",
"geocortex.essentialsHtmlViewer.mapping.infrastructure.tools.DisablingMapTool");this.textMarkupStyleChanged();this.markupTools.point=this.markupTools.point.concat(a.customMarkupTools.point);this.markupTools.polyline=this.markupTools.polyline.concat(a.customMarkupTools.polyline);this.markupTools.polygon=this.markupTools.polygon.concat(a.customMarkupTools.polygon);this.markupTools.text=this.markupTools.text.concat(a.customMarkupTools.text);this.initializeCommands();this.initializeEvents()};b.prototype.initializeCommands=
function(){this.app.command("AddMarkup").register(this,this.executeAddMarkupCommand,this.canExecuteAddMarkupCommand);this.app.command("AddMarkupGeometry").register(this,this.executeAddMarkupCommand,this.canExecuteAddMarkupCommand);this.app.command("AddTextMarkup").register(this,this.executeAddTextMarkupCommand,this.canExecuteAddTextMarkupCommand);this.app.command("ClearMarkup").register(this,this.executeClearMarkupCommand,this.canExecuteClearMarkupCommand);this.app.command("ClearMarkupQuiet").register(this,
this.executeClearMarkupQuietCommand,this.canExecuteClearMarkupQuietCommand);this.app.command("EditMarkup").register(this,this.executeEditMarkupCommand,this.canExecuteEditMarkupCommand);this.app.command("DeleteMarkup").register(this,this.executeDeleteMarkupCommand,this.canExecuteDeleteMarkupCommand);this.app.command("ExportMarkupLayer").register(this,this.executeExportMarkupLayerCommand,this.canExecuteExportMarkupLayerCommand);this.app.command("ExportGraphicsLayer").register(this,this.executeExportGraphicsLayerCommand);
this.app.command("ChangeMarkupStyle").register(this,this.executeChangeMarkupStyleCommand,this.canExecuteChangeMarkupStyleCommand);this.app.command("CreateMarkupStyleView").register(this,this.executeCreateStyleViewCommand,this.canExecuteCreateStyleViewCommand);this.app.command("StopEditingMarkup").register(this,this.executeStopEditingCommand,this.canExecuteStopEditingCommand)};b.prototype.initializeEvents=function(){var a=this;this.app.event("ActiveToolChangedEvent").subscribe(this,function(d){a.app.command("CreateMarkupStyleView").raiseCanExecuteChanged();
a.app.command("ExportMarkupLayer").raiseCanExecuteChanged()})};b.prototype.canExecuteAddMarkupCommand=function(a){return!!a};b.prototype.executeAddMarkupCommand=function(a){this.addMarkup(a)};b.prototype.canExecuteClearMarkupCommand=function(){return this._markupExists()};b.prototype.executeClearMarkupCommand=function(){this.clearMarkup()};b.prototype.canExecuteClearMarkupQuietCommand=function(){return this._markupExists()};b.prototype.executeClearMarkupQuietCommand=function(){this.clearMarkupQuiet()};
b.prototype.canExecuteAddTextMarkupCommand=function(a){return!!a};b.prototype.executeAddTextMarkupCommand=function(a){this.addTextMarkup(a)};b.prototype.canExecuteDeleteMarkupCommand=function(){return this._markupExists()};b.prototype.executeDeleteMarkupCommand=function(a){this.deleteMarkup(a)};b.prototype.canExecuteExportMarkupLayerCommand=function(){return this._hasExportableMarkup()};b.prototype.executeExportMarkupLayerCommand=function(){var a={format:"shp",graphicLayer:this.app.map.getLayer(this.markupLayerId)};
this.app.command("ExportGraphicsLayer").execute(a)};b.prototype.executeExportGraphicsLayerCommand=function(a){for(var d=a.graphicLayer.graphics,g,b,f,m,l=0;l<d.length;l++)if(null!=d[l].geometry)switch(d[l].geometry.type){case "point":null!=d[l].symbol&&"textsymbol"!=d[l].symbol.type&&(null==b&&(b=new esri.tasks.FeatureSet),b.features.push(new esri.Graphic(d[l].geometry,d[l].symbol,d[l].attributes,null)));break;case "polygon":null==f&&(f=new esri.tasks.FeatureSet);f.features.push(new esri.Graphic(d[l].geometry,
d[l].symbol,d[l].attributes,null));break;case "extent":null==f&&(f=new esri.tasks.FeatureSet);var k=e.essentials.GeometryUtilities.envelopeToPolygon(d[l].geometry);f.features.push(new esri.Graphic(k,d[l].symbol,d[l].attributes,null));break;case "polyline":null==g&&(g=new esri.tasks.FeatureSet);g.features.push(new esri.Graphic(d[l].geometry,d[l].symbol,d[l].attributes,null));break;case "multipoint":null==m&&(m=new esri.tasks.FeatureSet),m.features.push(new esri.Graphic(d[l].geometry,d[l].symbol,d[l].attributes,
null))}d=new e.essentialsHtmlViewer.mapping.infrastructure.FeatureSetCollection;null!=b&&(b=new h.infrastructure.FeatureSet({esriFeatureSet:b}),b.displayName.set("Point"),d.featureSets.addItem(b));null!=f&&(f=new h.infrastructure.FeatureSet({esriFeatureSet:f}),f.displayName.set("Polygon"),d.featureSets.addItem(f));null!=g&&(g=new h.infrastructure.FeatureSet({esriFeatureSet:g}),g.displayName.set("Polyline"),d.featureSets.addItem(g));null!=m&&(m=new h.infrastructure.FeatureSet({esriFeatureSet:m}),m.displayName.set("Multipoint"),
d.featureSets.addItem(m));a={format:a.format,fsc:d};this.app.command("ExportResultsTo").execute(a)};b.prototype.canExecuteEditMarkupCommand=function(){return this._markupExists()};b.prototype.executeEditMarkupCommand=function(a){this.editMarkup(a)};b.prototype.canExecuteChangeMarkupStyleCommand=function(){return!0};b.prototype.executeChangeMarkupStyleCommand=function(a){this.changeMarkupStyle(a)};b.prototype.canExecuteCreateStyleViewCommand=function(){var a=this.app.toolRegistry.getActiveTool();if(this.editToolbar)return!0;
if(!a)return!1;var d=["AddMarkup","AddMarkupGeometry","AddTextMarkup"];return a instanceof h.infrastructure.tools.MapTool&&-1!=d.indexOf(a.command)||-1!=$.inArray(a.name,this.markupTools.point)||-1!=$.inArray(a.name,this.markupTools.polyline)||-1!=$.inArray(a.name,this.markupTools.polygon)||-1!=$.inArray(a.name,this.markupTools.text)?!0:!1};b.prototype.executeCreateStyleViewCommand=function(){var a=this.app.toolRegistry.getActiveTool();if(a||this.editToolbar){this.editToolbar&&this._createStylePickerView(null);
var d=null,g=["AddMarkup","AddMarkupGeometry","AddTextMarkup"];if(a instanceof h.infrastructure.tools.MapTool&&-1!=g.indexOf(a.command)){switch(a.drawMode){case h.infrastructure.tools.DrawMode.POINT:d="AddTextMarkup"==a.command?f.MarkupModule.TEXT:f.MarkupModule.POINT;break;case h.infrastructure.tools.DrawMode.MULTI_POINT:d=f.MarkupModule.POINT;break;case h.infrastructure.tools.DrawMode.LINE:case h.infrastructure.tools.DrawMode.POLYLINE:case h.infrastructure.tools.DrawMode.FREEHAND_POLYLINE:d=f.MarkupModule.POLYLINE;
break;case h.infrastructure.tools.DrawMode.POLYGON:case h.infrastructure.tools.DrawMode.FREEHAND_POLYGON:case h.infrastructure.tools.DrawMode.EXTENT:case h.infrastructure.tools.DrawMode.ARROW:case h.infrastructure.tools.DrawMode.LEFT_ARROW:case h.infrastructure.tools.DrawMode.RIGHT_ARROW:case h.infrastructure.tools.DrawMode.UP_ARROW:case h.infrastructure.tools.DrawMode.DOWN_ARROW:case h.infrastructure.tools.DrawMode.TRIANGLE:case h.infrastructure.tools.DrawMode.CIRCLE:case h.infrastructure.tools.DrawMode.ELLIPSE:case h.infrastructure.tools.DrawMode.RECTANGLE:d=
f.MarkupModule.POLYGON}this._createStylePickerView(d)}else-1!=$.inArray(a.name,this.markupTools.point)?this._createStylePickerView(f.MarkupModule.POINT):-1!=$.inArray(a.name,this.markupTools.polyline)?this._createStylePickerView(f.MarkupModule.POLYLINE):-1!=$.inArray(a.name,this.markupTools.polygon)?this._createStylePickerView(f.MarkupModule.POLYGON):-1!=$.inArray(a.name,this.markupTools.text)?this._createStylePickerView(f.MarkupModule.TEXT):"EditMarkupTool"==a.name&&this._createStylePickerView(null)}};
b.prototype.canExecuteStopEditingCommand=function(){return!!this.editToolbar};b.prototype.executeStopEditingCommand=function(a){if(this.editToolbar){var d=this.editToolbar.getCurrentState().graphic||this.modifiedGraphic;this.removeMarkupHighlight(d);this.app.event("MarkupEditingStoppedEvent").publish(d);this._deactivateToolbar();this.originalGraphic=this.modifiedGraphic=null;this.app.toolRegistry.getActiveTool()&&a&&"EditMarkupTool"==this.app.toolRegistry.getActiveTool().name&&this.app.command("ClearActiveTool").execute();
this.app.command("CreateMarkupStyleView").raiseCanExecuteChanged()}};b.prototype._deactivateToolbar=function(){this.editToolbarMoveStartedHandle&&(this.editToolbarMoveStartedHandle.remove(),this.editToolbarMoveStartedHandle=null);this.editToolbarMoveStoppedHandle&&(this.editToolbarMoveStoppedHandle.remove(),this.editToolbarMoveStoppedHandle=null);this.editToolbarDeactivatedHandle&&(this.editToolbarDeactivatedHandle.remove(),this.editToolbarDeactivatedHandle=null);this._editToolbarInputMethodChangeHandle&&
(this._editToolbarInputMethodChangeHandle.remove(),this._editToolbarInputMethodChangeHandle=null);this.editToolbar&&(this.editToolbar.deactivate(),this.editToolbar=null)};b.prototype.pointMarkupStyleChanged=function(){this._markerSymbol.setStyle(this.getEsriStyle(f.MarkupModule.POINT,this.selectedPointStyleObsv.get()));this._markerSymbol.setSize(this.pointSize.get());this._markerSymbol.setColor(this.pointColor.get())};b.prototype.polylineMarkupStyleChanged=function(){this._lineSymbol.setStyle(this.getEsriStyle(f.MarkupModule.POLYLINE,
this.selectedLineStyleObsv.get()));this._lineSymbol.setWidth(this.lineWidth.get());this._lineSymbol.setColor(this.lineColor.get())};b.prototype.polygonMarkupStyleChanged=function(){this._polyBorderSymbol.setStyle(this.getEsriStyle(f.MarkupModule.POLYGON_BORDER,this.selectedPolyBorderStyleObsv.get()));this._polyBorderSymbol.setWidth(this.polyBorderWidth.get());this._polyBorderSymbol.setColor(this.polygonBorderColor.get());this._polyFillSymbol.setStyle(this.getEsriStyle(f.MarkupModule.POLYGON_FILL,
this.selectedPolyFillStyleObsv.get()));this._polyFillSymbol.setColor(this.polygonFillColor.get());this._polyFillSymbol.setOutline(this._polyBorderSymbol)};b.prototype.textMarkupStyleChanged=function(){this._fontSymbol.setSize(this.textSize.get());this._fontSymbol.setStyle(this.getEsriStyle(f.MarkupModule.TEXT,this.selectedTextStyleObsv.get()));this._fontSymbol.setWeight(this.getEsriStyle(f.MarkupModule.TEXT_WEIGHT,this.selectedTextStyleWeightObsv.get()));this._fontSymbol.setFamily(this.selectedTextFamily.get());
this._textSymbol.setColor(this.textColor.get())};b.prototype.clearMarkup=function(){var a=this;this.editToolbar&&this.app.command("StopEditingMarkup").execute();if(this._markupExists()){var d=this.app.getResource(this.libraryId,"language-markup-clear-all-prompt"),g=this.app.getResource(this.libraryId,"language-markup-clear-all-prompt-title");this.app.command("Confirm").execute(d,g,function(d){d&&a.clearMarkupQuiet()})}};b.prototype.clearMarkupQuiet=function(){var a=this;this.editToolbar&&setTimeout(function(){a.app.command("StopEditingMarkup").execute()},
0);if(this._markupExists()){var d=this._getGraphicsLayer(!1,this.markupLayerId),g=this._getGraphicsLayer(!1,this.coordinatesMarkupLayerId);if(g&&g.graphics&&g.graphics.length)for(;g.graphics.length;){var b=g.graphics[g.graphics.length-1];b.coordinateId&&this.app.command("DeleteCoordinates").execute(b.coordinateId);g.remove(b);this.app.event("MarkupDeletedEvent").publish(b)}if(!d)return;g=d.graphics.length;for(b=0;b<g;b++)d.graphics[0].measurementId?this.app.event("MarkupDeletedEvent").publish(d.graphics[0]):
(this.app.event("MarkupDeletedEvent").publish(d.graphics[0]),d.remove(d.graphics[0]));this._deactivateActiveToolIfNoMarkupExists();this.app.command("ClearMarkup").raiseCanExecuteChanged();this.app.command("EditMarkup").raiseCanExecuteChanged();this.app.command("DeleteMarkup").raiseCanExecuteChanged();this.app.command("ExportMarkupLayer").raiseCanExecuteChanged();this.app.event("MarkupClearedEvent").publish()}this.app.command("LogOptimizerEvent").execute("ClearMarkupTool","ClearAllMarkup")};b.prototype.deleteMarkup=
function(a){var d=this;e.essentialsHtmlViewer.mapping.infrastructure.GraphicUtils.deleteMarkup(a,[this.markupLayerId,this.markupLayerId+"_measurement",this.coordinatesMarkupLayerId],this.app,function(a){if(a&&a.length){for(var b=0;b<a.length;b++){var e=a[b];e[h.infrastructure.coordinates.coordinateIdentifierProperty]&&d.app.command("DeleteCoordinates").execute(e[h.infrastructure.coordinates.coordinateIdentifierProperty]);d.app.event("MarkupDeletedEvent").publish(e)}d._deactivateActiveToolIfNoMarkupExists();
d.app.command("ClearMarkup").raiseCanExecuteChanged();d.app.command("EditMarkup").raiseCanExecuteChanged();d.app.command("DeleteMarkup").raiseCanExecuteChanged();d.app.command("ExportMarkupLayer").raiseCanExecuteChanged()}d.app.command("ShowMap").execute()},!1,"language-markup-delete-multiple-prompt","language-markup-delete-multiple-prompt-title",this.libraryId)};b.prototype._deactivateActiveToolIfNoMarkupExists=function(){if(!this._markupExists()&&this.app.toolRegistry.getActiveTool()instanceof h.infrastructure.tools.MapTool){var a=
this.app.toolRegistry.getActiveTool();"EditMarkup"!==a.command&&"DeleteMarkup"!==a.command||this.app.command("ClearActiveTool").execute()}};b.prototype.addMarkup=function(a){if(!a)throw Error("geometry is null");"extent"===a.type&&(a=e.essentials.GeometryUtilities.envelopeToPolygon(a));var d=null;switch(a.type){case "point":case "multipoint":d=this._copySymbol(this._markerSymbol);break;case "polyline":d=this._copySymbol(this._lineSymbol);break;case "polygon":case "extent":d=this._copySymbol(this._polyFillSymbol)}if(d){var g=
new esri.Graphic;g.setGeometry(a);g.setSymbol(d);this._addGraphic(g,this.markupLayerId);this.app.event("MarkupAddedEvent").publish(g)}this.app.command("ClearMarkup").raiseCanExecuteChanged();this.app.command("EditMarkup").raiseCanExecuteChanged();this.app.command("DeleteMarkup").raiseCanExecuteChanged();this.app.command("ExportMarkupLayer").raiseCanExecuteChanged()};b.prototype.addTextMarkup=function(a){var d=this;if(a){var g=this.app.getResource(this.libraryId,"language-markup-add-text-title"),b=
this.app.getResource(this.libraryId,"language-markup-add-text");this.app.command("Prompt").execute(g,b,"",function(g){g&&d._addTextMarkup(g,a);d.app.command("ShowMap").execute()})}};b.prototype.editMarkup=function(a){var d=this,g=this._getGraphicsLayer(!1,this.coordinatesMarkupLayerId),b=null;g&&(b=e.essentialsHtmlViewer.mapping.infrastructure.GraphicUtils.getMarkupFromGeometry(a,g,this.app,this._coordinatesSmsSymbolBuffer,this._coordinatesPointBuffer));if(b&&b[b.length-1]&&(g=b[b.length-1],g.hasOwnProperty(h.infrastructure.coordinates.coordinateIdentifierProperty))){this.app.command("StopEditingMarkup").execute(!0);
this.app.command("EditCoordinate").execute(g[h.infrastructure.coordinates.coordinateIdentifierProperty]);return}this.editToolbar&&this.app.command("StopEditingMarkup").execute(!1);g=this._getGraphicsLayer(!1,this.markupLayerId);b=null;g&&(b=e.essentialsHtmlViewer.mapping.infrastructure.GraphicUtils.getMarkupFromGeometry(a,g,this.app));if(b&&b[b.length-1]){this.originalGraphic=b[b.length-1];this.app.event("MarkupEditingStartedEvent").publish(this.originalGraphic);this.originalGraphic.hasOwnProperty("measurementId")&&
this.app.event("MeasurementEditingStartedEvent").publish({graphic:this.originalGraphic});this.originalGraphic.symbol instanceof esri.symbol.TextSymbol&&(this.setMarkupHighlight(this.originalGraphic),a=this.app.getResource(this.libraryId,"language-markup-change-text-text-title"),g=this.app.getResource(this.libraryId,"language-markup-change-text-text"),this.app.command("Prompt").execute(a,g,this.originalGraphic.symbol.text,function(a){""!=a&&null!=a?(d.originalGraphic.symbol.setText(a),d.originalGraphic.draw(),
d.app.command("ShowMap").execute()):""===a&&(d.app.event("MarkupDeleteEvent").publish(d.originalGraphic),d._getGraphicsLayer(!1,d.markupLayerId).remove(d.originalGraphic),d._deactivateActiveToolIfNoMarkupExists(),d.app.command("ClearMarkup").raiseCanExecuteChanged(),d.app.command("EditMarkup").raiseCanExecuteChanged(),d.app.command("DeleteMarkup").raiseCanExecuteChanged(),d.app.command("ExportMarkupLayer").raiseCanExecuteChanged(),d.editToolbar.deactivate(),d.editToolbar=null,d.app.command("CreateMarkupStyleView").raiseCanExecuteChanged())}));
this.editToolbar=this.app.accessibilityManager.createComponent("geocortex.accessibility.edit",this.app.map);this.editToolbarMoveStartedHandle=dojo.aspect.after(this.editToolbar,"onGraphicFirstMove",function(a){d.app.map.disableMapNavigation()},!0);this.editToolbarMoveStoppedHandle=dojo.aspect.after(this.editToolbar,"onGraphicMoveStop",function(a){d.app.map.enableMapNavigation()},!0);this.editToolbarDeactivatedHandle=dojo.aspect.after(this.editToolbar,"onDeactivate",function(a,g,b){(a=d.editToolbar)&&
a.__attached_markupStyleChanged?delete a.__attached_markupStyleChanged:(d.modifiedGraphic=g,d.app.command("StopEditingMarkup").execute(!1))},!0);this.editToolbar instanceof e.essentialsHtmlViewer.mapping.infrastructure.accessibility.Edit&&(this._editToolbarInputMethodChangeHandle=dojo.aspect.after(this.editToolbar,"onInputMethodChange",function(a){var g=d.app.toolRegistry.getActiveTool();g&&"EditMarkupTool"===g.name&&(a={tool:g,previousMethod:a?a.previousMethod:null,newMethod:a?a.newMethod:null},
d.app.event("ToolInputMethodChangedEvent").publish(a))},!0));this.editToolbar.activate(this.editToolbarTool,this.originalGraphic);this.app.command("CreateMarkupStyleView").raiseCanExecuteChanged();var f=this.app.event("ActiveToolChangedEvent").subscribe(this,function(a){if(a.previousTool&&"EditMarkupTool"==a.previousTool.name&&!0==a.previousTool.isSticky)d.app.command("StopEditingMarkup").execute(!1),d.app.event("ActiveToolChangedEvent").unsubscribe(f);else d.app.map.on("click",function(){d.app.command("StopEditingMarkup").execute(!1);
d.app.event("ActiveToolChangedEvent").unsubscribe(f)});a.tool&&d.editToolbar&&(d.app.command("false").execute(),d.app.event("ActiveToolChangedEvent").unsubscribe(f))})}};b.prototype.changeMarkupStyle=function(a){if(this.editToolbar){var d=this.editToolbar.getCurrentState().graphic,g=null;d.measurementId&&(g=d.measurementId)}switch(a.type){case f.MarkupModule.POINT:case f.MarkupModule.MULTIPOINT:a.style&&this.selectedPointStyleObsv.set(a.style);a.size&&this.pointSize.set(a.size);a.color&&this.pointColor.set(new esri.Color(a.color));
this.pointMarkupStyleChanged();if(this.editToolbar){a=d.geometry;this.editToolbar.__attached_markupStyleChanged=!0;this.editToolbar.deactivate();this._getGraphicsLayer(!1,this.markupLayerId).remove(d);var d=this._copySymbol(this._markerSymbol),b=new esri.Graphic;b.geometry=a;b.symbol=d;g&&(b.measurementId=g);this._addGraphic(b,this.markupLayerId);this.editToolbar.activate(this.editToolbarTool,b)}break;case f.MarkupModule.POLYLINE:a.style&&this.selectedLineStyleObsv.set(a.style);a.color&&this.lineColor.set(new esri.Color(a.color));
a.width&&this.lineWidth.set(a.width);this.polylineMarkupStyleChanged();this.editToolbar&&(a=d.geometry,this.editToolbar.__attached_markupStyleChanged=!0,this.editToolbar.deactivate(),this._getGraphicsLayer(!1,this.markupLayerId).remove(d),d=this._copySymbol(this._lineSymbol),b=new esri.Graphic,b.geometry=a,b.symbol=d,g&&(b.measurementId=g),this._addGraphic(b,this.markupLayerId),this.editToolbar.activate(this.editToolbarTool,b));break;case f.MarkupModule.POLYGON:a.borderStyle&&this.selectedPolyBorderStyleObsv.set(a.borderStyle);
a.borderWidth&&this.polyBorderWidth.set(a.borderWidth);a.fillStyle&&this.selectedPolyFillStyleObsv.set(a.fillStyle);a.borderColor&&this.polygonBorderColor.set(new esri.Color(a.borderColor));a.fillColor&&this.polygonFillColor.set(new esri.Color(a.fillColor));this.polygonMarkupStyleChanged();this.editToolbar&&(a=d.geometry,this.editToolbar.__attached_markupStyleChanged=!0,this.editToolbar.deactivate(),this._getGraphicsLayer(!1,this.markupLayerId).remove(d),d=this._copySymbol(this._polyFillSymbol),b=
new esri.Graphic,b.geometry=a,b.symbol=d,g&&(b.measurementId=g),this._addGraphic(b,this.markupLayerId),this.editToolbar.activate(this.editToolbarTool,b));break;case f.MarkupModule.TEXT:a.textFamily&&this.selectedTextFamily.set(a.textFamily),a.style&&this.selectedTextStyleObsv.set(a.style),a.weight&&this.selectedTextStyleWeightObsv.set(a.weight),a.size&&this.textSize.set(a.size),a.color&&this.textColor.set(new esri.Color(a.color)),this.textMarkupStyleChanged(),this.editToolbar&&(a=d.geometry,b=d.symbol.text,
this.editToolbar.__attached_markupStyleChanged=!0,this.editToolbar.deactivate(),this._getGraphicsLayer(!1,this.markupLayerId).remove(d),d=this._copySymbol(this._textSymbol),d.text=b,b=new esri.Graphic,b.geometry=a,b.symbol=d,g&&(b.measurementId=g),this._addGraphic(b,this.markupLayerId),this.editToolbar.activate(this.editToolbarTool,b),this.setMarkupHighlight(b))}};b.prototype.setMarkupHighlight=function(a){a&&a.symbol instanceof esri.symbol.TextSymbol&&(a.symbol.setDecoration(esri.symbol.TextSymbol.DECORATION_UNDERLINE),
a.draw())};b.prototype.removeMarkupHighlight=function(a){a&&a.symbol instanceof esri.symbol.TextSymbol&&(a.symbol.setDecoration(esri.symbol.TextSymbol.DECORATION_NONE),a.draw())};b.prototype.getEsriStyle=function(a,d){var g=null;switch(a){case f.MarkupModule.POINT:return g=this.pointStyleObsv.indexOf(d),this.pointStyle[g];case f.MarkupModule.POLYLINE:return g=this.lineStyleObsv.indexOf(d),this.lineStyle[g];case f.MarkupModule.POLYGON_BORDER:return g=this.polyBorderStyleObsv.indexOf(d),this.polyBorderStyle[g];
case f.MarkupModule.POLYGON_FILL:return g=this.polyFillStyleObsv.indexOf(d),this.polyFillStyle[g];case f.MarkupModule.TEXT:return g=this.textStyleObsv.indexOf(d),this.textStyle[g];case f.MarkupModule.TEXT_WEIGHT:return g=this.textStyleWeightObsv.indexOf(d),this.textStyleWeight[g];default:throw Error("Illegal style type.");}};b.prototype._addTextMarkup=function(a,d){if(d.getExtent){var g=d.getExtent();g&&(d=g.getCenter())}g=this._copySymbol(this._textSymbol);g.setText(a);var b=new esri.Graphic;b.geometry=
d;b.symbol=g;this._addGraphic(b,this.markupLayerId);this.app.event("MarkupAddedEvent").publish(b);this.app.command("ClearMarkup").raiseCanExecuteChanged();this.app.command("EditMarkup").raiseCanExecuteChanged();this.app.command("DeleteMarkup").raiseCanExecuteChanged()};b.prototype._addGraphic=function(a,d){if(a){var g=this._getGraphicsLayer(!0,d);g.add(a);g.visible||g.setVisibility(!0)}};b.prototype._getGraphicsLayer=function(a,d){var g=this.app.map.getLayer(d);!g&&a&&(g=new esri.layers.GraphicsLayer,
g.id=d,this.app.map.addLayer(g),this.app.markupLayer.set(g));return g};b.prototype._copySymbol=function(a){var d=null,g=null;a&&a.isInstanceOf&&(a.isInstanceOf(esri.symbol.SimpleMarkerSymbol)?(g=this._copySymbol(a.outline),d=new esri.symbol.SimpleMarkerSymbol(a.style,a.size,g,a.color)):a.isInstanceOf(esri.symbol.SimpleLineSymbol)?d=new esri.symbol.SimpleLineSymbol(a.style,a.color,a.width):a.isInstanceOf(esri.symbol.SimpleFillSymbol)?(g=this._copySymbol(a.outline),d=new esri.symbol.SimpleFillSymbol(a.style,
g,a.color)):a.isInstanceOf(esri.symbol.TextSymbol)&&(d=new esri.symbol.TextSymbol(a.text),d.setFont(new esri.symbol.Font(a.font.size,a.font.style,a.font.variant,a.font.weight,a.font.family)),d.setColor(a.color),d.setAlign(a.align)));return d};b.prototype._markupExists=function(){var a=!1;if(this.app.map){var d=this._getGraphicsLayer(!1,this.markupLayerId);d&&d.graphics&&0<d.graphics.length&&(a=!0);(d=this._getGraphicsLayer(!1,this.coordinatesMarkupLayerId))&&d.graphics&&0<d.graphics.length&&(a=!0)}return a};
b.prototype._hasExportableMarkup=function(){var a=!1;if(this.app.map){var d=this._getGraphicsLayer(!1,this.markupLayerId);if(d&&d.graphics&&0<d.graphics.length){if(this.app.toolRegistry.getActiveTool()&&"EditMarkupTool"==this.app.toolRegistry.getActiveTool().name)return!1;for(var d=d.graphics,g=0;g<d.length;g++)if(null!=d[g].geometry)if("point"==d[g].geometry.type){if(null!=d[g].symbol&&"textsymbol"!=d[g].symbol.type){a=!0;break}}else{a=!0;break}}}return a};b.prototype._createStylePickerView=function(a){if(null==
a){if(null==this.editToolbar)return;switch(this.editToolbar.getCurrentState().graphic.geometry.type){case "point":a=this.editToolbar.getCurrentState().graphic.symbol instanceof esri.symbol.SimpleMarkerSymbol?f.MarkupModule.POINT:f.MarkupModule.TEXT;break;case "polyline":a=f.MarkupModule.POLYLINE;break;case "polygon":a=f.MarkupModule.POLYGON;break;case "multipoint":a=f.MarkupModule.MULTIPOINT}}switch(a){case f.MarkupModule.POINT:case f.MarkupModule.MULTIPOINT:this.pointStyleViewCreated?this.app.command("ActivateView").execute("PointStyleView"):
(d=this.app.viewManager.createView({viewId:"PointStyleView",markup:"Mapping/modules/Markup/StyleSelector/StyleSelectorPoint.html",type:"geocortex.essentialsHtmlViewer.mapping.modules.markup.styleSelector.StyleSelectorPointView",regionName:"ModalWindowRegion",visible:!0,libraryId:this.libraryId}),a=this.app.getFrameworkObjectById("StyleSelectorViewModel"),d.attach(a),this.pointStyleViewCreated=!0);break;case f.MarkupModule.POLYLINE:if(this.lineStyleViewCreated)this.app.command("ActivateView").execute("LineStyleView");
else{var d=this.app.viewManager.createView({viewId:"LineStyleView",markup:"Mapping/modules/Markup/StyleSelector/StyleSelectorLine.html",type:"geocortex.essentialsHtmlViewer.mapping.modules.markup.styleSelector.StyleSelectorLineView",regionName:"ModalWindowRegion",visible:!0,libraryId:this.libraryId});a=this.app.getFrameworkObjectById("StyleSelectorViewModel");d.attach(a);this.lineStyleViewCreated=!0}break;case f.MarkupModule.POLYGON:this.polygonStyleViewCreated?this.app.command("ActivateView").execute("PolygonStyleView"):
(d=this.app.viewManager.createView({viewId:"PolygonStyleView",markup:"Mapping/modules/Markup/StyleSelector/StyleSelectorPolygon.html",type:"geocortex.essentialsHtmlViewer.mapping.modules.markup.styleSelector.StyleSelectorPolygonView",regionName:"ModalWindowRegion",visible:!0,libraryId:this.libraryId}),a=this.app.getFrameworkObjectById("StyleSelectorViewModel"),d.attach(a),this.polygonStyleViewCreated=!0);break;case f.MarkupModule.TEXT:this.textStyleViewCreated?this.app.command("ActivateView").execute("TextStyleView"):
(d=this.app.viewManager.createView({viewId:"TextStyleView",markup:"Mapping/modules/Markup/StyleSelector/StyleSelectorText.html",type:"geocortex.essentialsHtmlViewer.mapping.modules.markup.styleSelector.StyleSelectorTextView",regionName:"ModalWindowRegion",visible:!0,libraryId:this.libraryId}),a=this.app.getFrameworkObjectById("StyleSelectorViewModel"),d.attach(a),this.textStyleViewCreated=!0)}};return b}(e.framework.ui.ViewModelBase);f.MarkupViewModel=k})(f.markup||(f.markup={}))})(h.modules||(h.modules=
{}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(h){(function(h){(function(f){var l=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.handleClickDone=function(a,g,b){this.viewModel.editToggled.set(!1);this.viewModel.deleteToggled.set(!1);this.app.command("StopEditingMarkup").execute();this.app.command("ClearActiveTool").execute()};a.prototype.handleClickEdit=function(a,g,b){var e=this;this.viewModel.deleteToggled.get()&&this.viewModel.deleteToggled.set(!1);if(this.viewModel.editToggled.get())this.app.command("ClearActiveTool").execute();
else{this.app.command("SetActiveTool").execute("EditMarkupTool");this.viewModel.editToggled.set(!0);var h=this.app.event("ActiveToolChangedEvent").subscribe(this,function(){e.viewModel.editToggled.set(!1);e.app.event("ActiveToolChangedEvent").unsubscribe(h)})}};a.prototype.handleClickDelete=function(a,g,b){var e=this;if(!this.viewModel.clearDisabled.get())if(this.viewModel.editToggled.get()&&this.viewModel.editToggled.set(!1),this.viewModel.deleteToggled.get())this.app.command("ClearActiveTool").execute();
else{this.app.command("SetActiveTool").execute("DeleteMarkupTool");this.viewModel.deleteToggled.set(!0);var h=this.app.event("ActiveToolChangedEvent").subscribe(this,function(){e.viewModel.deleteToggled.set(!1);e.app.event("ActiveToolChangedEvent").unsubscribe(h)})}};a.prototype.handleClickChangeStyle=function(){var a=null;this.app.toolRegistry.getActiveTool()&&(a=this.app.toolRegistry.getActiveTool().name);var g=this.app.getFrameworkObjectById("MarkupViewModel").markupTools;-1!=$.inArray(a,g.point)?
this.app.command("CreateMarkupStyleView").execute(h.MarkupModule.POINT):-1!=$.inArray(a,g.polyline)?this.app.command("CreateMarkupStyleView").execute(h.MarkupModule.POLYLINE):-1!=$.inArray(a,g.polygon)?this.app.command("CreateMarkupStyleView").execute(h.MarkupModule.POLYGON):-1!=$.inArray(a,g.text)?this.app.command("CreateMarkupStyleView").execute(h.MarkupModule.TEXT):"EditMarkupTool"==a&&this.app.command("CreateMarkupStyleView").execute()};a.prototype.handleClickClear=function(a,g,b){this.app.command("StopEditingMarkup").execute();
this.app.command("ClearMarkup").execute()};return a}(e.framework.ui.ViewBase);f.TransientMarkupPaletteView=l})(h.toolPalettes||(h.toolPalettes={}))})(h.markup||(h.markup={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){f.measurementMarkupManager;var k=function(l){function b(a,d){l.call(this,a,d);this._measurementWkid=-1;this._currentSpatialReference=this._measurementSpatialReference=null;this._numberValidator=new h.infrastructure.validation.NumberValidator;f.measurementMarkupManager=new f.MeasurementMarkupManager(this,a,d);this.app.toolRegistry.registerToolTypeForCommand("MeasureArea","geocortex.essentialsHtmlViewer.mapping.modules.measurement.MeasurementTool");
this.app.toolRegistry.registerToolTypeForCommand("MeasureDistance","geocortex.essentialsHtmlViewer.mapping.modules.measurement.MeasurementTool")}__extends(b,l);b.prototype.initialize=function(a){this._registerCommands();this._measurementWkid=a&&a.measurementProjectionWkid&&""!=a.measurementProjectionWkid?parseInt(a.measurementProjectionWkid,10):-1;var d=-1===this._measurementWkid?"geodesic":"planar";this._calculationType=a&&a.calculationType?"planar"===a.calculationType||"geodesic"===a.calculationType||
"preserveShape"===a.calculationType?a.calculationType:d:d;this._enablePrediction=a&&void 0!=a.enablePrediction?a.enablePrediction:!0;this._measurementLengthUnits=f.MeasurementUtils.getGeometryServiceUnitConstant(a.measurementLengthUnits||"feet");this._measurementAreaUnits=f.MeasurementUtils.getGeometryServiceUnitConstant(a.measurementAreaUnits||"squarefeet");this._segmentWarningThreshold=void 0!=a.numSegmentsWarningThreshold?parseInt(a.numSegmentsWarningThreshold,10):1E3;a&&a.tools&&this.app&&this.app.toolRegistry&&
this.app.toolRegistry.createTools(a.tools,!0);f.measurementMarkupManager._updateMeasurementUnits(this._measurementLengthUnits,this._measurementAreaUnits);a&&a.measurementResultTypes&&(f.measurementMarkupManager.measurementResultTypes=a.measurementResultTypes);a&&a.coordinateFractionalDigits&&(f.measurementMarkupManager.coordinateFractionalDigits=a.coordinateFractionalDigits);a&&a.measurementFractionalDigits&&(f.measurementMarkupManager.measurementFractionalDigits=a.measurementFractionalDigits);a&&
a.degreeFormat&&(f.measurementMarkupManager.degreeFormat=a.degreeFormat.toLowerCase());a&&a.angleDirectionSystem&&(f.measurementMarkupManager.angleDirectionSystem=a.angleDirectionSystem.toLowerCase());-1!==this._measurementWkid&&(this._measurementSpatialReference=new esri.SpatialReference(this._measurementWkid));this.app.map&&this.app.map.loaded?this._onMapLoaded():this.app.event("MapLoadedEvent").subscribe(this,this._onMapLoaded)};b.prototype.getStateFilter=function(){return{lengthUnit:!0,areaUnit:!0,
measurements:{item:this._getMeasurementShapeFilter()}}};b.prototype.exportState=function(){return Promise["try"](function(){return{lengthUnit:f.measurementMarkupManager._lengthUnit,areaUnit:f.measurementMarkupManager._areaUnit,measurements:f.measurementMarkupManager.descriptorContainer.map(function(a){return a.exportState()})}})};b.prototype.applyState=function(a){var d=this;return Promise["try"](function(){f.measurementMarkupManager._lengthUnit=a.lengthUnit;f.measurementMarkupManager._lengthUnitString=
f.MeasurementUtils.getUnitString(a.lengthUnit);f.measurementMarkupManager._areaUnit=a.areaUnit;f.measurementMarkupManager._areaUnitString=f.MeasurementUtils.getUnitString(a.areaUnit);d._measurementLengthUnits=a.lengthUnit;d._measurementAreaUnits=a.areaUnit;d.app.command("_applyMeasurementUnits").execute(a.lengthUnit,a.areaUnit)}).then(function(){return d.app.waitUntilMapLoaded()}).then(function(){return Promise.map(a.measurements,function(a){var b=d.app.project.convert.toEsriSpatialReference(a.spatialReference),
b=new f.GeometryDescriptor(a.id,a.type,b,d.app);b.applyState(a);return b})}).then(function(a){f.measurementMarkupManager.descriptorContainer=a;f.measurementMarkupManager.descriptorContainerEmpty.set(0===a.length)})["return"]()};b.prototype._getHighlightedLabelFilter=function(){return{highlightGraphic:this.app.project.filter.graphic,highlightSymbol:this.app.project.filter.simpleMarkerSymbol,textGraphics:{item:this.app.project.filter.graphic},textSymbols:{item:this.app.project.filter.textSymbol},layerId:!0,
mapPoint:this.app.project.filter.point,text:!0,labelXoffset:this._numberValidator,labelYoffset:this._numberValidator,fontFamily:!0,fontSize:!0,cornerRadius:this._numberValidator,angle:this._numberValidator,anchor:!0,textColor:this.app.project.filter.color,highlightColor:this.app.project.filter.color,highlightOutlineSymbol:this.app.project.filter.simpleLineSymbol}};b.prototype._getDescriptorFilter=function(){return{id:!0,geometry:this.app.project.filter.geometry,length:this._numberValidator,type:this._numberValidator,
spatialReference:this.app.project.filter.spatialReference,graphic:this.app.project.filter.graphic,feature:this.app.project.filter.feature,label:this._getHighlightedLabelFilter()}};b.prototype._getMeasurementSegmentFilter=function(){return $.extend({},this._getDescriptorFilter(),{startPoint:this.app.project.filter.point,endPoint:this.app.project.filter.point})};b.prototype._getMeasurementShapeFilter=function(){return $.extend({},this._getDescriptorFilter(),{segments:{item:this._getMeasurementSegmentFilter()},
area:this._numberValidator,simplifiedGeometry:this.app.project.filter.geometry,originalZoomLevel:this._numberValidator,drawMode:!0,measurementData:this.app.project.filter.featureSet})};b.prototype._onMapLoaded=function(){this._currentSpatialReference=this.app.map.spatialReference;this._measurementSpatialReference||(this._measurementSpatialReference=this._currentSpatialReference)};b.prototype._registerCommands=function(){this.app.command("MeasureDistance").register(this,this._executeMeasurementCommand,
this._canExecuteMeasureDistance);this.app.command("MeasureArea").register(this,this._executeMeasurementCommand,this._canExecuteMeasureArea);this.app.command("SetMeasurementUnits").register(this,this._setMeasurementUnits)};b.prototype._canExecuteMeasureArea=function(a){if(a instanceof h.infrastructure.Feature&&a.featureSet&&a.featureSet.isMeasurement)return!1;var d=this._retrieveGeometry(a),g=h.infrastructure.GeometryUtils.getGeometryService(this.app);a=a instanceof f.LineSegmentDescriptor;return d?
!!(d&&g&&(a||d instanceof esri.geometry.Polygon)):!1};b.prototype._canExecuteMeasureDistance=function(a){if(a instanceof h.infrastructure.Feature&&a.featureSet&&a.featureSet.isMeasurement)return!1;var d=this._retrieveGeometry(a),g=h.infrastructure.GeometryUtils.getGeometryService(this.app);a=a instanceof f.LineSegmentDescriptor;return d?!!(d&&g&&(a||d instanceof esri.geometry.Polyline)):!1};b.prototype._executeMeasurementCommand=function(a,d,g){var b=this,e=function(a){var d=0;a=a.hasOwnProperty("rings")?
a.rings:a.paths;for(var g=0;g<a.length;g++)d+=a[g].length-1;return d},h=function(a){b.app.command("ClearDefaultHighlights").execute();f.measurementMarkupManager._createMeasurementMarkupFromGeometry(a)};if(a instanceof f.DescriptorBase)this._executeMeasurement(a,d,g);else{var l=this._retrieveGeometry(a);l&&(a=e(l),a>this._segmentWarningThreshold?this.app.command("Confirm").execute(this.app.getResource(this.libraryId,"language-measurement-high-line-segments-warning").format(a),null,function(a){a&&h(l)}):
h(l))}};b.prototype._retrieveGeometry=function(a){var d=null;a&&(a instanceof f.DescriptorBase||a instanceof esri.Graphic?d=a.geometry:a instanceof esri.geometry.Geometry?d=a:a instanceof e.essentialsHtmlViewer.mapping.infrastructure.Feature&&a.esriFeature&&(a=a.esriFeature.get())&&(d=a.geometry));return d};b.prototype._executeMeasurement=function(a,d,g){var b=this;f.measurementMarkupManager.measurementInProgress.get()||f.measurementMarkupManager.measurementInProgress.set(!0);switch(a.type){case f.DescriptorType.LINE_SEGMENT:this._processLineSegment(a,
function(a){var e=f.measurementMarkupManager.getGeometryDescriptorById(a.id);a.isActive=e?e.isActive:!1;b.app.command("_addLineSegmentMeasurementMarkup").execute(a,d,function(a){b._tryErrorCallback(g,a)})},function(a){b._tryErrorCallback(g,a)});break;case f.DescriptorType.POLYLINE:this.app.command("_addCompletedGeometryMeasurementMarkup").execute(a,d,function(a){b._tryErrorCallback(g,a)});break;case f.DescriptorType.POLYGON:b._processPolygon(a,function(a){b.app.command("_addCompletedGeometryMeasurementMarkup").execute(a,
d,g)},function(a){b._tryErrorCallback(g,a)});break;default:b._tryErrorCallback(g,Error("Invalid Descriptor Type"))}};b.prototype._processLineSegment=function(a,d,g){var b=this,e=a instanceof f.LineSegmentDescriptor?a.geometry:a,e=e instanceof Array?e:[e];this._tryProject(e,b._measurementSpatialReference,function(e){b._measurePolylineLengths(e,b._measurementLengthUnits,function(g){g={length:g.lengths[0],serverResponse:g};a instanceof f.LineSegmentDescriptor?(a.setMeasurementUnit(b._measurementLengthUnits),
a.length=g.length,d(a)):d(g)},function(a){b._tryErrorCallback(g,a)})},function(a){b._projectionError(a);b._tryErrorCallback(g,a)})};b.prototype._processPolygon=function(a,d,g){var b=this,e=function(g,e){a.area=g;a.simplifiedGeometry=e;a.unit||a.setMeasurementUnit(b._measurementLengthUnits,b._measurementAreaUnits);d(a)};if(a instanceof f.GeometryDescriptor&&2===a._lineSegments.length)e(0,null);else{var r=a instanceof f.GeometryDescriptor?a.geometry:a,r=r instanceof Array?r:[r];h.infrastructure.GeometryUtils.getGeometryService(this.app).simplify(r,
function(h){b._tryProject(h,b._measurementSpatialReference,function(r){b._measurePolygonAreaAndPerimeter(r,b._measurementLengthUnits,b._measurementAreaUnits,function(g){g={area:g.areas[0],perimeter:g.lengths[0],serverResponse:g};a instanceof f.GeometryDescriptor?e(g.area,h[0]):d(g)},function(a){b._tryErrorCallback(g,a)})},function(a){b._projectionError(a);b._tryErrorCallback(g,a)})},function(a){b._tryErrorCallback(g,a)})}};b.prototype._tryProject=function(a,d,g,b){if(e.essentials.GeometryUtilities.spatialRefsAreEqual(this._currentSpatialReference,
d,!1))g(a);else{var h=new esri.tasks.ProjectParameters;h.geometries=a;h.outSR=d;this._calculationType="planar";var f=this;e.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.project(h,g,function(a){f._tryErrorCallback(b,a)},this.app)}};b.prototype._measurePolylineLengths=function(a,d,g,b){var e=this,r=!1;d===f.measurementMarkupManager.GCX_UNIT_YARDS&&(d=esri.tasks.GeometryService.UNIT_FOOT,r=!0);var l=new esri.tasks.LengthsParameters;l.calculationType=this._calculationType;"preserveShape"!=
this._calculationType&&(l.geodesic="planar"!=this._calculationType);l.lengthUnit=d;l.polylines=a;h.infrastructure.GeometryUtils.getGeometryService(this.app).lengths(l,function(a){if(r)for(var d=0;d<a.lengths.length;d++)a.lengths[d]=f.MeasurementUtils.convertLength(a.lengths[d],esri.tasks.GeometryService.UNIT_FOOT,f.measurementMarkupManager.GCX_UNIT_YARDS);g(a)},function(a){e._tryErrorCallback(b,a)})};b.prototype._measurePolygonAreaAndPerimeter=function(a,d,g,b,e){var r=this,l=!1;d===f.measurementMarkupManager.GCX_UNIT_YARDS&&
(d=esri.tasks.GeometryService.UNIT_FOOT,l=!0);var k=!1;g===f.measurementMarkupManager.GCX_UNIT_SQ_NAUTICAL_MILES&&(g=esri.tasks.GeometryService.UNIT_SQUARE_MILES,k=!0);var p=new esri.tasks.AreasAndLengthsParameters;p.lengthUnit=d;p.areaUnit=g;p.calculationType=this._calculationType;p.polygons=a;h.infrastructure.GeometryUtils.getGeometryService(this.app).areasAndLengths(p,function(a){if(l)for(var d=0;d<a.lengths.length;d++)a.lengths[d]=f.MeasurementUtils.convertLength(a.lengths[d],esri.tasks.GeometryService.UNIT_FOOT,
f.measurementMarkupManager.GCX_UNIT_YARDS);if(k)for(d=0;d<a.areas.length;d++)a.areas[d]=f.MeasurementUtils.convertArea(a.areas[d],esri.tasks.GeometryService.UNIT_SQUARE_MILES,f.measurementMarkupManager.GCX_UNIT_SQ_NAUTICAL_MILES);b(a)},function(a){r._tryErrorCallback(e,a)})};b.prototype._setMeasurementUnits=function(a,d){this._measurementLengthUnits=f.MeasurementUtils.getGeometryServiceUnitConstant(a);this._measurementAreaUnits=f.MeasurementUtils.getGeometryServiceUnitConstant(d);f.measurementMarkupManager._updateMeasurementUnits(this._measurementLengthUnits,
this._measurementAreaUnits)};b.prototype._projectionError=function(a){f.measurementMarkupManager._reportStatus("language-measurement-projection-error","alert",!0,[this._measurementWkid,a])};b.prototype._tryErrorCallback=function(a,d){a&&a(d)};return b}(e.framework.application.ModuleBase);f.MeasurementModule=k})(f.measurement||(f.measurement={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){var k=function(l){function b(a,d,g,b){l.call(this,d,g,b);this._lineSegments=[];this.showHighlightedLabel=!0;this.editingInProgress=!1;this.originalZoomLevel=0;this.id=a;this.length=0;this.originalZoomLevel=b.map.getZoom();d===f.DescriptorType.POLYGON?(this.graphicSymbol=e.essentialsHtmlViewer.mapping.infrastructure.SymbolUtils.defaultFillSymbol(),this.area=0,this.simplifiedGeometry=this.areaUnitStr=this.areaUnit=null):this.graphicSymbol=
e.essentialsHtmlViewer.mapping.infrastructure.SymbolUtils.defaultLineSymbol();(a=this.app.toolRegistry.getActiveTool())&&a instanceof h.infrastructure.tools.MapTool&&(this.drawMode=a.drawMode)}__extends(b,l);b.prototype.addSegment=function(a){a.id=this.id;a.isActive=this.isActive;null==this.lengthUnit&&null!=a.lengthUnit&&(a.unitStr?(this.lengthUnit=a.lengthUnit,this.unitStr=a.unitStr):(this.setMeasurementUnit(a.lengthUnit),a.unitStr=this.unitStr));null!=this.lengthUnit&&null!=a.lengthUnit&&this.lengthUnit!=
a.lengthUnit&&f.measurementMarkupManager._reportStatus("GeometryDescriptor: Added line segment unit differs from geometry.","error",!0);a.length?this.length=this.length?this.length+a.length:a.length:f.measurementMarkupManager._reportStatus("GeometryDescriptor: Line Segment added without computing length or length 0. Total geometry length not updated.","warning",!1);a.graphicSymbol&&!this.graphicSymbol&&this.type===f.DescriptorType.POLYLINE&&(this.graphicSymbol=new esri.symbol.SimpleLineSymbol(a.graphicSymbol.toJson()));
this._lineSegments.push(a)};b.prototype.setMeasurementUnit=function(a,d){var g=!1;if(null!=this.areaUnit&&this.areaUnit!=d||null==this.areaUnit&&d&&this.type===f.DescriptorType.POLYGON)this.area&&null!=this.areaUnit&&(this.area=f.MeasurementUtils.convertArea(this.area,this.areaUnit,d)),this.areaUnit=d,this.areaUnitStr=f.MeasurementUtils.getUnitString(this.areaUnit),g=!0;if(null!=this.lengthUnit&&this.lengthUnit!=a||null==this.lengthUnit&&null!=a){for(g=this.length=0;g<this._lineSegments.length;g++)this._lineSegments[g].setMeasurementUnit(a),
this.length+=this._lineSegments[g].length;this.unitStr=f.MeasurementUtils.getUnitString(a);this.lengthUnit=a;g=!0}if(g&&(this.labelStr=this.type===f.DescriptorType.POLYLINE?this._getResource("language-measurement-polyline-final-markup-label").format(f.measurementMarkupManager.formatMeasurement(this.length),this.unitStr):this._getResource("language-measurement-polygon-final-markup-label").format(f.measurementMarkupManager.formatMeasurement(this.area),this.areaUnitStr,f.measurementMarkupManager.formatMeasurement(this.length),
this.unitStr),this.highlightedLabelGraphic&&this.highlightedLabelGraphic.refresh(this.labelStr),this.measurementData)){this.updateFeature();null!=this.measurementData.features.getAt(0)&&this.measurementData.features.getAt(0).loadAttributes(!1);for(g=1;g<this.measurementData.features.length();g++)this._lineSegments[g-1].updateFeature(),this._lineSegments[g-1].feature.attributes.Segment=g.toString(),this.measurementData.features.getAt(g).loadAttributes(!1);this._formatMeasurementData();for(g=0;g<this.measurementData.features.length();g++)this.app.event("FeatureChangedEvent").publish(this.measurementData.features.getAt(g))}};
b.prototype.setGeometry=function(a){e.essentials.GeometryUtilities.spatialRefsAreEqual(a.spatialReference,this.spatialReference,!1)?this.geometry=a:f.measurementMarkupManager._reportStatus("GeometryDescriptor: setGeometry error: Invalid Spatial Reference","error",!0)};b.prototype.refreshLabelVisibilities=function(){if(!this.editingInProgress){this.showHighlightedLabel=!1;for(var a=this.app.map.getZoom()>=this.originalZoomLevel,d=0;d<this._lineSegments.length;d++)this._lineSegments[d].refreshLabelVisibility(),
this.showHighlightedLabel=this.showHighlightedLabel||a||this._lineSegments[d].showLabel;this.showHighlightedLabel?this.highlightedLabelGraphic&&this.highlightedLabelGraphic.highlightGraphic&&this.highlightedLabelGraphic.textGraphics&&0<this.highlightedLabelGraphic.textGraphics.length&&(this.highlightedLabelGraphic.moveToTop(),this.highlightedLabelGraphic.show()):this.highlightedLabelGraphic&&this.highlightedLabelGraphic.highlightGraphic&&this.highlightedLabelGraphic.textGraphics&&0<this.highlightedLabelGraphic.textGraphics.length&&
this.highlightedLabelGraphic.hide()}};b.prototype.refreshMeasurementData=function(){var a=this.drawMode||h.infrastructure.tools.DrawMode.POLYGON,d=new esri.tasks.FeatureSet;this.updateFeature();d.features.push(this.feature);if(0>[h.infrastructure.tools.DrawMode.CIRCLE,h.infrastructure.tools.DrawMode.ELLIPSE,h.infrastructure.tools.DrawMode.FREEHAND_POLYGON,h.infrastructure.tools.DrawMode.FREEHAND_POLYLINE].indexOf(this.drawMode))for(var g=0;g<this._lineSegments.length;g++)this._lineSegments[g].updateFeature(),
this._lineSegments[g].feature.attributes.Segment=(g+1).toString(),d.features.push(this._lineSegments[g].feature);this.measurementData?(this.measurementData.esriFeatureSet=d,this.measurementData.loadFeatures()):(this.measurementData=new h.infrastructure.FeatureSet({esriFeatureSet:d}),this.measurementData.displayName.set(this._getDisplayName()),this.measurementData.isSelectedInCollection.set(!0),this.measurementData.isMeasurement=!0,this._setAttributeMetadata(this.measurementData.attributes));this._formatMeasurementData();
0<=f.measurementMarkupManager.measurementResultTypes.indexOf(a)&&(a=f.measurementMarkupManager.getMeasurementResultsCollection(),a.featureSets.addItem(this.measurementData),this.app.featureSetManager.openCollection(a.id),this.app.featureSetManager.closeCollection(a.id))};b.prototype.setInactive=function(){this.isActive=!1;for(var a=0;a<this._lineSegments.length;a++)this._lineSegments[a].isActive=!1};b.prototype.exportState=function(){var a=l.prototype.exportState.call(this);a.area=this.area;a.simplifiedGeometry=
this.app.project.convert.fromEsriGeometry(this.simplifiedGeometry);a.drawMode=this.drawMode;a.measurementData=this.app.project.convert.fromGcxFeatureSet(this.measurementData);a.originalZoomLevel=this.originalZoomLevel;a.segments=this._lineSegments.map(function(a){return a.exportState()});return a};b.prototype.applyState=function(a){var d=this,g={measurementData:this.app.project.convert.toGcxFeatureSet(a.measurementData),segments:Promise.map(a.segments,function(a){var g=new f.LineSegmentDescriptor(d.spatialReference,
d.app);return g.applyState(a)["return"](g)})};return l.prototype.applyState.call(this,a).then(function(){return Promise.props(g)}).then(function(g){d.area=a.area;d.simplifiedGeometry=d.app.project.convert.toEsriGeometry(a.simplifiedGeometry);d.drawMode=a.drawMode;d.measurementData=g.measurementData;d.originalZoomLevel=d.originalZoomLevel;d._lineSegments=g.segments;d.areaUnit=f.measurementMarkupManager._areaUnit;d.areaUnitStr=f.measurementMarkupManager._areaUnitString;d.refreshLabelVisibilities()})};
b.prototype._createAttributes=function(){var a={};a.Segment=this._getResource("language-measurement-results-total");a.X=this._lineSegments[0].mapPointStart.x;a.Y=this._lineSegments[0].mapPointStart.y;a.Length=this.length;a.Units=this.unitStr;a.Area=this.area;a["Area Units"]=this.areaUnitStr;a.Angle=0;a.Bearing="";return a};b.prototype._formatMeasurementData=function(){for(var a=0;a<this.measurementData.features.length();a++){var d=this.measurementData.features.getAt(a);0==a?(d.labelFormat.set(this._getResource("language-measurement-results-feature-label-total").format(this.measurementData.displayName.get())),
d.descriptionFormat.set(this._getResource("language-measurement-results-feature-description-"+this.geometry.type))):(d.labelFormat.set(this._getResource("language-measurement-results-feature-label-segment").format(this.measurementData.displayName.get(),a)),d.descriptionFormat.set(this._getResource("language-measurement-results-feature-description-segment")));for(var g=0;g<d.attributes.length();g++){var b=d.attributes.getAt(g),e=b.name.get(),r=b.value.get();0!=a||"X"!=e&&"Y"!=e&&"Angle"!=e?(0<a||"polyline"===
this.geometry.type)&&"Area"===e?b.presentableValue.set(""):"X"===e||"Y"==e?b.presentableValue.set(f.measurementMarkupManager.formatMeasurement(r,f.measurementMarkupManager.coordinateFractionalDigits)):"Length"===e||"Area"===e?b.presentableValue.set(f.measurementMarkupManager.formatMeasurement(r,f.measurementMarkupManager.measurementFractionalDigits)):"Angle"===e&&b.presentableValue.set(h.infrastructure.coordinates.CoordinateUtils.formatAngle(r,f.measurementMarkupManager.degreeFormat,this.app,f.measurementMarkupManager.coordinateFractionalDigits)):
b.presentableValue.set("")}this._setAttributeMetadata(d.attributes)}};b.prototype._setAttributeMetadata=function(a){for(var d=0;d<a.length();d++){var g=a.getAt(d);switch(g.name.get()){case "Segment":g.displayName.set(this._getResource("language-measurement-results-field-segment"));g.type.set(e.essentials.EssentialsFieldTypes.essentialsFieldTypeString);break;case "X":g.displayName.set(this._getResource("language-measurement-results-field-x"));g.type.set(e.essentials.EssentialsFieldTypes.essentialsFieldTypeDouble);
break;case "Y":g.displayName.set(this._getResource("language-measurement-results-field-y"));g.type.set(e.essentials.EssentialsFieldTypes.essentialsFieldTypeDouble);break;case "Length":g.displayName.set(this._getResource("language-measurement-results-field-length"));g.type.set(e.essentials.EssentialsFieldTypes.essentialsFieldTypeDouble);break;case "Units":g.displayName.set(this._getResource("language-measurement-results-field-units"));g.type.set(e.essentials.EssentialsFieldTypes.essentialsFieldTypeString);
break;case "Area":g.displayName.set(this._getResource("language-measurement-results-field-area"));g.type.set(e.essentials.EssentialsFieldTypes.essentialsFieldTypeDouble);break;case "Area Units":g.displayName.set(this._getResource("language-measurement-results-field-area-units"));g.type.set(e.essentials.EssentialsFieldTypes.essentialsFieldTypeString);break;case "Angle":g.displayName.set(this._getResource("language-measurement-results-field-angle"));g.type.set(e.essentials.EssentialsFieldTypes.essentialsFieldTypeDouble);
break;case "Bearing":g.displayName.set(this._getResource("language-measurement-results-field-bearing")),g.type.set(e.essentials.EssentialsFieldTypes.essentialsFieldTypeString)}}};b.prototype._getDisplayName=function(){for(var a=1,d=this.drawMode||h.infrastructure.tools.DrawMode.POLYGON,g=0;g<f.measurementMarkupManager.descriptorContainer.length;g++)(f.measurementMarkupManager.descriptorContainer[g].drawMode||h.infrastructure.tools.DrawMode.POLYGON)===d&&f.measurementMarkupManager.descriptorContainer[g].id!==
this.id&&a++;d=this._getResource("language-measurement-drawmode-"+d.toLowerCase().replace("_","-"));return this._getResource("language-measurement-results-feature-set-name").format(d,a)};return b}(f.DescriptorBase);f.GeometryDescriptor=k})(f.measurement||(f.measurement={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(l){function b(a,d){l.call(this,f.DescriptorType.LINE_SEGMENT,a,d);this.mapPointEnd=this.mapPointStart=null;this.showLabel=!1;this.geometry=new esri.geometry.Polyline(a);this.length=0}__extends(b,l);b.prototype.setStartPt=function(a){a?(this.mapPointStart=new esri.geometry.Point(a.toJson()),0===this.geometry.paths.length?this.geometry.addPath([this.mapPointStart]):this.geometry.insertPoint(0,0,this.mapPointStart)):f.measurementMarkupManager._reportStatus("LineSegmentDescriptor: setStartPt - Start point not specified",
"error",!1)};b.prototype.setEndPt=function(a){a?(this.mapPointEnd=new esri.geometry.Point(a.toJson()),1===this.geometry.paths.length?this.geometry.insertPoint(0,1,this.mapPointEnd):f.measurementMarkupManager._reportStatus("LineSegmentDescroptor: setEndPt - Please set startPt of segment before setting endPt","error",!1)):f.measurementMarkupManager._reportStatus("LineSegmentDescriptor: setEndPt - End point not specified","error",!1)};b.prototype.setMeasurementUnit=function(a,d){if(null!=this.lengthUnit&&
this.lengthUnit!=a||null==this.lengthUnit&&null!=a)this.length&&null!=this.lengthUnit&&(this.length=f.MeasurementUtils.convertLength(this.length,this.lengthUnit,a)),this.lengthUnit=a,this.unitStr=d?d:f.MeasurementUtils.getUnitString(this.lengthUnit),this.highlightedLabelGraphic&&this.highlightedLabelGraphic.refresh(f.measurementMarkupManager.formatMeasurement(this.length)+" "+this.unitStr)};b.prototype.refreshLabelVisibility=function(){if(this.highlightedLabelGraphic){var a=f.MeasurementUtils.getRenderedLineSegmentLength(this);
(this.showLabel=this.highlightedLabelGraphic.getWidth()<a?!0:!1)?this.highlightedLabelGraphic.show():this.highlightedLabelGraphic.hide()}};b.prototype.exportState=function(){var a=l.prototype.exportState.call(this);a.startPoint=this.app.project.convert.fromEsriGeometry(this.mapPointStart);a.endPoint=this.app.project.convert.fromEsriGeometry(this.mapPointEnd);return a};b.prototype.applyState=function(a){var d=this;return l.prototype.applyState.call(this,a).then(function(){d.mapPointStart=d.app.project.convert.toEsriGeometry(a.startPoint);
d.mapPointEnd=d.app.project.convert.toEsriGeometry(a.endPoint)})};b.prototype._createAttributes=function(){var a={};a.Segment=this.id;a.X=this.mapPointStart.x;a.Y=this.mapPointStart.y;a.Length=this.length;a.Units=this.unitStr;a.Area=0;a["Area Units"]="";a.Angle=this.getAngle();a.Bearing=this.getQuadrantBearing();return a};b.prototype.getAngle=function(){return f.measurementMarkupManager.angleDirectionSystem===e.infrastructure.coordinates.AngleDirectionSystem.NORTH_AZIMUTH?this.getNorthAzimuth():f.measurementMarkupManager.angleDirectionSystem===
e.infrastructure.coordinates.AngleDirectionSystem.SOUTH_AZIMUTH?this.getSouthAzimuth():this.getPolarAngle()};b.prototype.getAngleDegree=function(){var a=0;this.mapPointStart&&this.mapPointEnd&&(a=Math.atan2(this.mapPointStart.y-this.mapPointEnd.y,this.mapPointEnd.x-this.mapPointStart.x)*(180/Math.PI),a=0>a?360+a:a,a=0<=a&&180>=a?90<a?180+a:a:270>a?a-180:a);return a};b.prototype.getPolarAngle=function(){return(180*Math.atan2(this.mapPointEnd.y-this.mapPointStart.y,this.mapPointEnd.x-this.mapPointStart.x)/
Math.PI+360)%360};b.prototype.getNorthAzimuth=function(){return(360-this.getPolarAngle()+90)%360};b.prototype.getSouthAzimuth=function(){return(360-this.getPolarAngle()+270)%360};b.prototype.getLabelLocation=function(){if(this.mapPointStart&&this.mapPointEnd)return new esri.geometry.Point((this.mapPointStart.x+this.mapPointEnd.x)/2,(this.mapPointStart.y+this.mapPointEnd.y)/2,this.spatialReference)};b.prototype.getQuadrantBearing=function(){return e.infrastructure.coordinates.CoordinateUtils.formatBearing(this.getNorthAzimuth(),
f.measurementMarkupManager.degreeFormat,this.app,f.measurementMarkupManager.coordinateFractionalDigits)};return b}(f.DescriptorBase);f.LineSegmentDescriptor=k})(f.measurement||(f.measurement={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(h){(function(f){(function(f){(function(k){function l(a){return a.split(g)}var b=null,a=null,d={},g=/\r\n|\r|\n/g;k.getUnitString=function(a,d){void 0===d&&(d=!1);var g="";if(!a)return g;switch(a){case esri.Units.FEET:case esri.tasks.GeometryService.UNIT_FOOT:case f.measurementMarkupManager.unit.feet.shortName:case f.measurementMarkupManager.unit.feet.longName:case f.measurementMarkupManager.unit.feet.config:g=d?f.measurementMarkupManager.unit.feet.longName:f.measurementMarkupManager.unit.feet.shortName;
break;case esri.Units.YARDS:case f.measurementMarkupManager.GCX_UNIT_YARDS:case f.measurementMarkupManager.unit.yard.shortName:case f.measurementMarkupManager.unit.yard.longName:case f.measurementMarkupManager.unit.yard.config:g=d?f.measurementMarkupManager.unit.yard.longName:f.measurementMarkupManager.unit.yard.shortName;break;case esri.Units.METERS:case esri.tasks.GeometryService.UNIT_METER:case f.measurementMarkupManager.unit.meter.shortName:case f.measurementMarkupManager.unit.meter.longName:case f.measurementMarkupManager.unit.meter.config:g=
d?f.measurementMarkupManager.unit.meter.longName:f.measurementMarkupManager.unit.meter.shortName;break;case esri.Units.KILOMETERS:case esri.tasks.GeometryService.UNIT_KILOMETER:case f.measurementMarkupManager.unit.kilometer.shortName:case f.measurementMarkupManager.unit.kilometer.longName:case f.measurementMarkupManager.unit.kilometer.config:g=d?f.measurementMarkupManager.unit.kilometer.longName:f.measurementMarkupManager.unit.kilometer.shortName;break;case esri.Units.MILES:case esri.tasks.GeometryService.UNIT_STATUTE_MILE:case f.measurementMarkupManager.unit.mile.shortName:case f.measurementMarkupManager.unit.mile.longName:case f.measurementMarkupManager.unit.mile.config:g=
d?f.measurementMarkupManager.unit.mile.longName:f.measurementMarkupManager.unit.mile.shortName;break;case esri.Units.NAUTICAL_MILES:case esri.tasks.GeometryService.UNIT_NAUTICAL_MILE:case f.measurementMarkupManager.unit.nauticalMile.shortName:case f.measurementMarkupManager.unit.nauticalMile.longName:case f.measurementMarkupManager.unit.nauticalMile.config:g=d?f.measurementMarkupManager.unit.nauticalMile.longName:f.measurementMarkupManager.unit.nauticalMile.shortName;break;case esri.tasks.GeometryService.UNIT_SQUARE_FEET:case esri.Units.SQUARE_FEET:case f.measurementMarkupManager.unit.sqFeet.shortName:case f.measurementMarkupManager.unit.sqFeet.longName:case f.measurementMarkupManager.unit.sqFeet.config:g=
d?f.measurementMarkupManager.unit.sqFeet.longName:f.measurementMarkupManager.unit.sqFeet.shortName;break;case esri.tasks.GeometryService.UNIT_SQUARE_METERS:case esri.Units.SQUARE_METERS:case f.measurementMarkupManager.unit.sqMeter.shortName:case f.measurementMarkupManager.unit.sqMeter.longName:case f.measurementMarkupManager.unit.sqMeter.config:g=d?f.measurementMarkupManager.unit.sqMeter.longName:f.measurementMarkupManager.unit.sqMeter.shortName;break;case esri.tasks.GeometryService.UNIT_SQUARE_KILOMETERS:case esri.Units.SQUARE_KILOMETERS:case f.measurementMarkupManager.unit.sqKilometer.shortName:case f.measurementMarkupManager.unit.sqKilometer.longName:case f.measurementMarkupManager.unit.sqKilometer.config:g=
d?f.measurementMarkupManager.unit.sqKilometer.longName:f.measurementMarkupManager.unit.sqKilometer.shortName;break;case esri.tasks.GeometryService.UNIT_SQUARE_MILES:case esri.Units.SQUARE_MILES:case f.measurementMarkupManager.unit.sqMile.shortName:case f.measurementMarkupManager.unit.sqMile.longName:case f.measurementMarkupManager.unit.sqMile.config:g=d?f.measurementMarkupManager.unit.sqMile.longName:f.measurementMarkupManager.unit.sqMile.shortName;break;case esri.tasks.GeometryService.UNIT_SQUARE_YARDS:case esri.Units.SQUARE_YARDS:case f.measurementMarkupManager.unit.sqYard.shortName:case f.measurementMarkupManager.unit.sqYard.longName:case f.measurementMarkupManager.unit.sqYard.config:g=
d?f.measurementMarkupManager.unit.sqYard.longName:f.measurementMarkupManager.unit.sqYard.shortName;break;case f.measurementMarkupManager.GCX_UNIT_SQ_NAUTICAL_MILES:case f.measurementMarkupManager.unit.sqNauticalMile.shortName:case f.measurementMarkupManager.unit.sqNauticalMile.longName:case f.measurementMarkupManager.unit.sqNauticalMile.config:g=d?f.measurementMarkupManager.unit.sqNauticalMile.longName:f.measurementMarkupManager.unit.sqNauticalMile.shortName;break;case esri.tasks.GeometryService.UNIT_ACRES:case esri.Units.ACRES:case f.measurementMarkupManager.unit.acre.shortName:case f.measurementMarkupManager.unit.acre.longName:case f.measurementMarkupManager.unit.acre.config:g=
d?f.measurementMarkupManager.unit.acre.longName:f.measurementMarkupManager.unit.acre.shortName;break;case esri.tasks.GeometryService.UNIT_HECTARES:case esri.Units.HECTARES:case f.measurementMarkupManager.unit.hectare.shortName:case f.measurementMarkupManager.unit.hectare.longName:case f.measurementMarkupManager.unit.hectare.config:g=d?f.measurementMarkupManager.unit.hectare.longName:f.measurementMarkupManager.unit.hectare.shortName}return g};k.getGeometryServiceUnitConstant=function(a,d){if(!a)return null;
var g=null;switch(a){case esri.Units.ACRES:case f.measurementMarkupManager.unit.acre.longName:case f.measurementMarkupManager.unit.acre.shortName:case f.measurementMarkupManager.unit.acre.config:case esri.tasks.GeometryService.UNIT_ACRES.toString():g=esri.tasks.GeometryService.UNIT_ACRES;break;case esri.Units.ARES:case esri.tasks.GeometryService.UNIT_ARES.toString():g=esri.tasks.GeometryService.UNIT_ARES;break;case f.measurementMarkupManager.unit.feet.longName:case f.measurementMarkupManager.unit.feet.shortName:case f.measurementMarkupManager.unit.feet.config:case e.essentials.DistanceUnitType.FEET:case esri.tasks.GeometryService.UNIT_FOOT.toString():case esri.Units.FEET:g=
esri.tasks.GeometryService.UNIT_FOOT;break;case esri.Units.HECTARES:case f.measurementMarkupManager.unit.hectare.longName:case f.measurementMarkupManager.unit.hectare.shortName:case f.measurementMarkupManager.unit.hectare.config:case esri.tasks.GeometryService.UNIT_HECTARES.toString():g=esri.tasks.GeometryService.UNIT_HECTARES;break;case f.measurementMarkupManager.unit.kilometer.longName:case f.measurementMarkupManager.unit.kilometer.shortName:case f.measurementMarkupManager.unit.kilometer.config:case e.essentials.DistanceUnitType.KILOMETERS:case esri.tasks.GeometryService.UNIT_KILOMETER.toString():case esri.Units.KILOMETERS:g=
esri.tasks.GeometryService.UNIT_KILOMETER;break;case f.measurementMarkupManager.unit.meter.longName:case f.measurementMarkupManager.unit.meter.shortName:case f.measurementMarkupManager.unit.meter.config:case e.essentials.DistanceUnitType.METERS:case esri.tasks.GeometryService.UNIT_METER.toString():case esri.Units.METERS:g=esri.tasks.GeometryService.UNIT_METER;break;case f.measurementMarkupManager.unit.mile.longName:case f.measurementMarkupManager.unit.mile.shortName:case f.measurementMarkupManager.unit.mile.config:case e.essentials.DistanceUnitType.MILES:case esri.tasks.GeometryService.UNIT_STATUTE_MILE.toString():case esri.Units.MILES:g=
esri.tasks.GeometryService.UNIT_STATUTE_MILE;break;case f.measurementMarkupManager.unit.nauticalMile.longName:case f.measurementMarkupManager.unit.nauticalMile.shortName:case f.measurementMarkupManager.unit.nauticalMile.config:case e.essentials.DistanceUnitType.NAUTICAL_MILES:case esri.tasks.GeometryService.UNIT_NAUTICAL_MILE.toString():case esri.Units.NAUTICAL_MILES:g=esri.tasks.GeometryService.UNIT_NAUTICAL_MILE;break;case f.measurementMarkupManager.unit.yard.longName:case f.measurementMarkupManager.unit.yard.shortName:case f.measurementMarkupManager.unit.yard.config:case e.essentials.DistanceUnitType.YARDS:case esri.Units.YARDS:g=
f.measurementMarkupManager.GCX_UNIT_YARDS;break;case esri.Units.SQUARE_CENTIMETERS:case esri.tasks.GeometryService.UNIT_SQUARE_CENTIMETERS.toString():g=esri.tasks.GeometryService.UNIT_SQUARE_CENTIMETERS;break;case esri.Units.SQUARE_DECIMETERS:case esri.tasks.GeometryService.UNIT_SQUARE_DECIMETERS.toString():g=esri.tasks.GeometryService.UNIT_SQUARE_DECIMETERS;break;case f.measurementMarkupManager.unit.sqFeet.longName:case f.measurementMarkupManager.unit.sqFeet.shortName:case f.measurementMarkupManager.unit.sqFeet.config:case esri.tasks.GeometryService.UNIT_SQUARE_FEET.toString():case esri.Units.SQUARE_FEET:g=
esri.tasks.GeometryService.UNIT_SQUARE_FEET;break;case esri.Units.SQUARE_INCHES:case esri.tasks.GeometryService.UNIT_SQUARE_INCHES.toString():g=esri.tasks.GeometryService.UNIT_SQUARE_INCHES;break;case f.measurementMarkupManager.unit.sqKilometer.longName:case f.measurementMarkupManager.unit.sqKilometer.shortName:case f.measurementMarkupManager.unit.sqKilometer.config:case esri.tasks.GeometryService.UNIT_SQUARE_KILOMETERS.toString():case esri.Units.SQUARE_KILOMETERS:g=esri.tasks.GeometryService.UNIT_SQUARE_KILOMETERS;
break;case f.measurementMarkupManager.unit.sqMeter.longName:case f.measurementMarkupManager.unit.sqMeter.shortName:case f.measurementMarkupManager.unit.sqMeter.config:case esri.tasks.GeometryService.UNIT_SQUARE_METERS.toString():case esri.Units.SQUARE_METERS:g=esri.tasks.GeometryService.UNIT_SQUARE_METERS;break;case f.measurementMarkupManager.unit.sqMile.longName:case f.measurementMarkupManager.unit.sqMile.shortName:case f.measurementMarkupManager.unit.sqMile.config:case esri.tasks.GeometryService.UNIT_SQUARE_MILES.toString():case esri.Units.SQUARE_MILES:g=
esri.tasks.GeometryService.UNIT_SQUARE_MILES;break;case f.measurementMarkupManager.unit.sqNauticalMile.longName:case f.measurementMarkupManager.unit.sqNauticalMile.shortName:case f.measurementMarkupManager.unit.sqNauticalMile.config:g=f.measurementMarkupManager.GCX_UNIT_SQ_NAUTICAL_MILES;break;case esri.Units.SQUARE_MILLIMETERS:case esri.tasks.GeometryService.UNIT_SQUARE_MILLIMETERS.toString():g=esri.tasks.GeometryService.UNIT_SQUARE_MILLIMETERS;break;case f.measurementMarkupManager.unit.sqYard.longName:case f.measurementMarkupManager.unit.sqYard.shortName:case f.measurementMarkupManager.unit.sqYard.config:case esri.tasks.GeometryService.UNIT_SQUARE_YARDS.toString():case esri.Units.SQUARE_YARDS:g=
esri.tasks.GeometryService.UNIT_SQUARE_YARDS;break;default:g=d||a}return g};k.addGraphicToLayer=function(a,d,g){return a?(d=this.getGraphicsLayer(d,!0,g),d.add(a),d.visible||d.setVisibility(!0),!0):!1};k.getGraphicsLayer=function(a,d,g){var b=g.map.getLayer(a);!b&&d&&(b=new esri.layers.GraphicsLayer,b.id=a,g.map.addLayer(b));return b};k.getLabelSize=function(b,e,f,h){for(var m=!0,k=null,p=(g.test(b)?b.match(g).length:0)+1,t=l(b),z=0,s=0;t&&s<t.length;s++){for(var v=b.length,x=0,D=0;D<v;D++){var A=
t[s].charAt(D),A=" "===A?".":A;if(!d.hasOwnProperty(A)){m?(m=document.getElementById(h+"_layer"),k=document.createElementNS("http://www.w3.org/2000/svg","text"),k.setAttributeNS(null,"font-size",f),k.setAttributeNS(null,"font-family",e),k.setAttributeNS(null,"visibility","hidden"),k.textContent=A,m.appendChild(k),m=!1):k.textContent=A;var F=k.getBBox();a=null===a?F.height:a;d[A]=k.getComputedTextLength()}A=d[A];x+=A}x>z&&(z=x)}return{width:Math.ceil(z),height:Math.ceil(a*p)}};k.getRenderedLineSegmentLength=
function(a){if(!a||!a.mapPointStart||!a.mapPointEnd)return null;var d=f.measurementMarkupManager.app.map.toScreen(a.mapPointStart),g=f.measurementMarkupManager.app.map.toScreen(a.mapPointEnd);a=Math.abs(g.x-d.x);d=Math.abs(g.y-d.y);return Math.sqrt(a*a+d*d)};k.plotPointOnMap=function(a,d,g,b){var f=new esri.Graphic;new dojo.Color(d);f.geometry=a;f.symbol=e.essentialsHtmlViewer.mapping.infrastructure.SymbolUtils.defaultMarkerSymbol();f.symbol.setColor(new esri.Color(d));this.addGraphicToLayer(f,g,
b)};k.addHighlightedLabelToMap=function(a,d,e,l,k,p,w,t,z,s,v,x,D,A,F,E){void 0===p&&(p=!1);void 0===w&&(w=0);void 0===t&&(t=0);void 0===z&&(z="Arial");void 0===s&&(s="12px");void 0===v&&(v=new esri.Color("white"));void 0===x&&(x=new esri.Color("black"));void 0===D&&(D=null);void 0===A&&(A=0);void 0===F&&(F=0);void 0===E&&(E=!1);var G={};G.layerId=l;G.mapPoint=d;G.text=a;G.labelXoffset=w;G.labelYoffset=t;G.fontFamily=z;G.fontSize=s;G.cornerRadius=A;G.angle=F;G.anchor=h.infrastructure.highlightedLabel.HighlightedLabelAnchor.MIDDLE;
G.textColor=v;G.highlightColor=x;G.highlightOutlineSymbol=D;l=!1;g.test(a)&&a.match(g);b?(b.textGraphics&&0<b.textGraphics.length&&b.textGraphics[0].getLayer()&&b.highlightGraphic.getLayer()&&(l=!0),b.isVisible()&&b.hide()):p&&(G.anchor=h.infrastructure.highlightedLabel.HighlightedLabelAnchor.BOTTOM_LEFT,b=new f.HighlightedMeasurementLabel(G,k));p?(k=b,k.update(d,a)):k=new f.HighlightedMeasurementLabel(G,k);!p&&e&&k.assignMeasurementId(e);if(!p||p&&!l)k.addToMapGraphicLayer(),p||f.measurementMarkupManager.addedMapGraphics.push(k);
E?k.show():k.hide();return k};k.getTextLines=l;k.svgRoundedRectanglePath=function(a,d,g){return"M0,0h"+(a-g)+"a"+g+","+g+" 0 0 1 "+g+","+g+"v"+(d-2*g)+"a"+g+","+g+" 0 0 1 "+-g+","+g+"h"+(g-a)+"a"+g+","+g+" 0 0 1 "+-g+","+-g+"v"+(2*g-d)+"a"+g+","+g+" 0 0 1 "+g+","+-g+"z"};k.refreshHighlightSymbolSize=function(a,d,g,b){void 0===g&&(g="Arial");void 0===b&&(b="12px");g=this.getLabelSize(a,g,b);b=0.5*g.height;a=g.width+b;g=g.height+b;d&&(d.setStyle("STYLE_PATH"),d.setPath("M0,0h"+a+"v"+g+"h-"+a+"z"));
return d};k.convertLength=function(a,d,g){var b=0;switch(d){case esri.tasks.GeometryService.UNIT_METER:b=3.280839895013*a;break;case esri.tasks.GeometryService.UNIT_KILOMETER:b=3280.839895013123*a;break;case esri.tasks.GeometryService.UNIT_STATUTE_MILE:b=5280*a;break;case esri.tasks.GeometryService.UNIT_NAUTICAL_MILE:b=6076.12*a;break;case f.measurementMarkupManager.GCX_UNIT_YARDS:b=3*a;break;default:b=a}switch(g){case esri.tasks.GeometryService.UNIT_METER:return b/3.280839895013;case esri.tasks.GeometryService.UNIT_KILOMETER:return b/
3280.839895013123;case esri.tasks.GeometryService.UNIT_STATUTE_MILE:return b/5280;case esri.tasks.GeometryService.UNIT_NAUTICAL_MILE:return b/6076.12;case f.measurementMarkupManager.GCX_UNIT_YARDS:return b/3;default:return b}};k.convertArea=function(a,d,g){var b=0;switch(d){case esri.tasks.GeometryService.UNIT_SQUARE_METERS:b=10.76391041670891*a;break;case esri.tasks.GeometryService.UNIT_SQUARE_KILOMETERS:b=1.076391041670972E7*a;break;case esri.tasks.GeometryService.UNIT_SQUARE_MILES:b=27878400*a;
break;case esri.tasks.GeometryService.UNIT_SQUARE_YARDS:b=9*a;break;case esri.tasks.GeometryService.UNIT_ACRES:b=43560*a;break;case esri.tasks.GeometryService.UNIT_HECTARES:b=107639*a;break;case f.measurementMarkupManager.GCX_UNIT_SQ_NAUTICAL_MILES:b=3.69192342544E7*a;break;default:b=a}switch(g){case esri.tasks.GeometryService.UNIT_SQUARE_METERS:return b/10.76391041670891;case esri.tasks.GeometryService.UNIT_SQUARE_KILOMETERS:return b/1.076391041670972E7;case esri.tasks.GeometryService.UNIT_SQUARE_MILES:return b/
27878400;case f.measurementMarkupManager.GCX_UNIT_SQ_NAUTICAL_MILES:return b/3.69192342544E7;case esri.tasks.GeometryService.UNIT_SQUARE_YARDS:return b/9;case esri.tasks.GeometryService.UNIT_ACRES:return b/43560;case esri.tasks.GeometryService.UNIT_HECTARES:return b/107639;default:return b}}})(f.MeasurementUtils||(f.MeasurementUtils={}))})(f.measurement||(f.measurement={}))})(h.modules||(h.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(m){var k=function(l){function b(a,d){var g=this;l.call(this,a,d);this.mapMouseHoverToken=this.keyDownHandlerToken=this.drawEndHandlerToken=this.clickHandlerToken=null;this._toolSuspended=!1;this.app.command("_suspendMeasurementToolIfActive").register(this,function(){m.measurementMarkupManager._toolActive?g._drawIsActive&&g._drawObject&&(g._toolSuspended=!0,g._drawObject.deactivate()):g.app.command("ClearActiveTool").execute()});this.app.command("_resumeMeasurementToolIfSuspended").register(this,
function(){g._toolSuspended&&g._drawObject&&(g._toolSuspended=!1,g._drawObject.activate(esri.toolbars.Draw[g.drawMode]))})}__extends(b,l);b.prototype.onActivated=function(){var a=this;if(this.drawMode!==f.infrastructure.tools.DrawMode.POLYLINE&&this.drawMode!==f.infrastructure.tools.DrawMode.POLYGON)return l.prototype.onActivated.call(this);if(!this._drawObject){this._drawObject=this.app.accessibilityManager.createComponent("geocortex.accessibility.draw",this.app.map,{enableEditing:!1});this._drawObject.setFillSymbol(new esri.symbol.SimpleFillSymbol(esri.symbol.SimpleFillSymbol.STYLE_SOLID,
new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color([0,0,0,0.8]),2),new esri.Color([0,0,0,0.25])));this._drawObject.setLineSymbol(new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color([0,0,0,0.8]),2));this._drawObject.setRespectDrawingVertexOrder(!0);var d=null,g=function(a){d.executeDrawEnd(a);d=null},b=function(d){if(27===d.which||27===d.keyCode)a.isSticky?(a.onDeactivated(),a.onActivated()):a.setActive(!1)};this.clickHandlerToken&&
this.drawEndHandlerToken||(this.clickHandlerToken=this.app.event("GraphicVertexAddedEvent").subscribe(this,function(g){if(g&&g.sender===a._drawObject){if(!d||d._drawEndInvoked)d=new m.MeasurementOperation(a);d.plotPoint(g)}}),this.drawEndHandlerToken=dojo.aspect.after(this._drawObject,"onDrawEnd",g,!0));this.keyDownHandlerToken||(this.keyDownHandlerToken=this.app.map.on("key-down",b));this._drawObject instanceof e.essentialsHtmlViewer.mapping.infrastructure.accessibility.Draw&&!this._inputMethodChangeHandle&&
(this._inputMethodChangeHandle=dojo.aspect.after(this._drawObject,"onInputMethodChange",dojo.hitch(this,"onInputMethodChange"),!0))}this._drawIsActive&&(this._drawObject.deactivate(),this._drawIsActive=!1);if(!this.app.map.graphics)return setTimeout(function(){m.measurementMarkupManager._reportStatus("language-measurement-null-graphics-error","alert",!0)},0),!1;this.mapMouseHoverToken=this.app.event("MapMouseHoverEvent").subscribe(this,this.onMapMouseHover);this._drawObject.activate(esri.toolbars.Draw[this.drawMode]);
this._drawIsActive=!0;return m.measurementMarkupManager._toolActive=!0};b.prototype.onDeactivated=function(){l.prototype.onDeactivated.call(this);this.clickHandlerToken&&(this.app.event("GraphicVertexAddedEvent").unsubscribe(this.clickHandlerToken),this.clickHandlerToken=null);this.drawEndHandlerToken&&(this.drawEndHandlerToken.remove(),this.drawEndHandlerToken=null);this.keyDownHandlerToken&&(this.keyDownHandlerToken.remove(),this.keyDownHandlerToken=null);this._inputMethodChangeHandle&&(this._inputMethodChangeHandle.remove(),
this._inputMethodChangeHandle=null);this.mapMouseHoverToken&&(this.app.event("MapMouseHoverEvent").unsubscribe(this.mapMouseHoverToken),this.mapMouseHoverToken=null);m.measurementMarkupManager.deactivatePredictiveMeasurements();m.measurementMarkupManager.measurementInProgress.get()&&m.measurementMarkupManager.measurementInProgress.set(!1);this.isSticky?this.app.command("_clearMeasurementMarkup").execute("temporary",!0):m.measurementMarkupManager._currentGeometryInProcess&&!m.measurementMarkupManager._currentGeometryInProcess.graphic&&
m.measurementMarkupManager.destroyDescriptor(m.measurementMarkupManager._currentGeometryInProcess.id);this._drawObject&&delete this._drawObject;m.measurementMarkupManager._toolActive=!1};b.prototype.executeToolCommand=function(a,d,g){if(this.command){var b=this.app.command(this.command);b.canExecute(a)?b.execute(a,function(a){d&&d(a)},function(a){m.measurementMarkupManager._reportStatus("Execute Tool Command Error - Measurement Tools: {0}","error",!1,[a]);g&&g(a)}):m.measurementMarkupManager._reportStatus("Could not invoke command '{0}' for tool '{1}'.",
"error",!0,[this.name,this.command])}};b.prototype._onDrawCompletedError=function(a){m.measurementMarkupManager._reportStatus("Measurement Tool - Error on Draw Complete: {0}","error",!0,[a])};b.prototype.onDrawCompleted=function(a,d,g,b){var e=this,f=function(a){g&&g(a)},h=function(a,d){b&&(d?b(Error(d)):b(a))};if(a instanceof esri.geometry.Polygon)if(d.type===m.DescriptorType.POLYGON){var l=d._lineSegments,k=l[l.length-1].mapPointEnd,l=l[0].mapPointStart;k.x!==l.x||k.y!==l.y?(a=m.measurementMarkupManager.createDescriptor(m.DescriptorType.LINE_SEGMENT,
a.spatialReference),a.id=d.id,a.setStartPt(k),a.setEndPt(l),this.executeToolCommand(a,function(a){d.addSegment(a);e.executeToolCommand(d,f,h)},h)):this.executeToolCommand(d,f,h)}else h(null,"Measurement Tools: onDrawCompleted - Descriptor type mismatch");else a instanceof esri.geometry.Polyline?d.type===m.DescriptorType.POLYLINE?this.executeToolCommand(d,f,h):h(null,"Measurement Tools: onDrawCompleted - Descriptor type mismatch"):h(null,"Only Polygon and Polyline geometries supported")};return b}(e.essentialsHtmlViewer.mapping.infrastructure.tools.MapTool);
m.MeasurementTool=k})(k.measurement||(k.measurement={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(h){function b(a,d){h.call(this,a,d);this.measurementMarkupLayerId=this.markupLayerId=null;this.measurementGraphicId=0;this._textOffset=this._textSize=this._highlightRadius=this._totalMeasurementOutlineWidth=this._totalMeasurementOutlineColor=this._totalMeasurementHighlightColor=this._totalMeasurementTextColor=this._outlineWidth=this._outlineColor=this._highlightColor=this._textColor=this._fillColor=this._lineColor=null;
this._count=-1;this._measurementLayer=this._markupLayer=null;this._currentMarkupSegmentGraphics=[];this._temporaryMarkupSegmentGraphics=[];this._isRestoringState=!1;this._labelSizeAdjustmentFactor=1.25;this._defaultOutlineWidth=this._defaultTextOffset=0;this._defaultHighlightRadius=5;this._flipLabelThreshold=1E3}__extends(b,h);b.prototype.initialize=function(a){var d=this;a=a||{};this.markupLayerId=a.markupLayerName?a.markupLayerName:"Drawings";this._lineColor=a.lineColor?new esri.Color(a.lineColor):
null;this._fillColor=a.fillColor?new esri.Color(a.fillColor):null;this._textColor=a.textColor?new esri.Color(a.textColor):null;this._highlightColor=a.highlightColor?new esri.Color(a.highlightColor):null;this._outlineColor=a.outlineColor?new esri.Color(a.outlineColor):null;this._outlineWidth=void 0!=a.outlineWidth?parseFloat(a.outlineWidth):this._defaultOutlineWidth;this._totalMeasurementTextColor=a.totalMeasurementTextColor?new esri.Color(a.totalMeasurementTextColor):null;this._totalMeasurementHighlightColor=
a.totalMeasurementHighlightColor?new esri.Color(a.totalMeasurementHighlightColor):null;this._totalMeasurementOutlineColor=a.totalMeasurementOutlineColor?new esri.Color(a.totalMeasurementOutlineColor):null;this._totalMeasurementOutlineWidth=void 0!=a.totalMeasurementOutlineWidth?parseFloat(a.totalMeasurementOutlineWidth):this._defaultOutlineWidth;this._highlightRadius=void 0!=a.highlightRadius?parseInt(a.highlightRadius):this._defaultHighlightRadius;this._textSize=a.textSize?a.textSize:"12px";this._textOffset=
void 0!=a.textOffset?parseInt(a.textOffset):this._defaultTextOffset;this._textAboveMarkup=void 0!=a.textAboveMarkup?a.textBelowMarkup:!1;this._flipLabelThreshold=void 0!=a.disablePolygonLabelFlipThreshold?parseInt(a.disablePolygonLabelFlipThreshold):1E3;this.addMarkupToMap=new Observable(a.addMarkupToMapByDefault||!1);this.measurementMarkupLayerId=this.markupLayerId+"_measurement";f.measurementMarkupManager._setLayerIds(this.markupLayerId,this.measurementMarkupLayerId);f.measurementMarkupManager._setMapTipPresentation(this._totalMeasurementTextColor,
this._totalMeasurementHighlightColor,this._totalMeasurementOutlineColor,this._totalMeasurementOutlineWidth,this._highlightRadius,this._textSize);this._textFont=new esri.symbol.Font;this._textFont.setSize(this._textSize);this._textFont.setFamily("Arial");this.lengthUnits=new ObservableCollection([f.measurementMarkupManager.unit.feet.longName,f.measurementMarkupManager.unit.yard.longName,f.measurementMarkupManager.unit.meter.longName,f.measurementMarkupManager.unit.kilometer.longName,f.measurementMarkupManager.unit.mile.longName,
f.measurementMarkupManager.unit.nauticalMile.longName]);this.areaUnits=new ObservableCollection([f.measurementMarkupManager.unit.sqFeet.longName,f.measurementMarkupManager.unit.sqYard.longName,f.measurementMarkupManager.unit.sqMeter.longName,f.measurementMarkupManager.unit.sqKilometer.longName,f.measurementMarkupManager.unit.sqMile.longName,f.measurementMarkupManager.unit.sqNauticalMile.longName,f.measurementMarkupManager.unit.acre.longName,f.measurementMarkupManager.unit.hectare.longName]);this.selectedAreaUnits=
new Observable(f.MeasurementUtils.getUnitString(f.measurementMarkupManager._areaUnitString,!0));this.selectedAreaUnitShort=new Observable(f.MeasurementUtils.getUnitString(f.measurementMarkupManager._areaUnitString));this.selectedLengthUnits=new Observable(f.MeasurementUtils.getUnitString(f.measurementMarkupManager._lengthUnitString,!0));this.selectedLengthUnitShort=new Observable(f.MeasurementUtils.getUnitString(f.measurementMarkupManager._lengthUnitString));this.measurementInProgress=new Observable(!1);
this.descriptorContainerEmpty=new Observable(!0);this.lengthSwitcherSelected=new Observable(!0);this.eraseActive=new Observable(!1);this.measurementInProgress.sync(f.measurementMarkupManager.measurementInProgress);this.descriptorContainerEmpty.sync(f.measurementMarkupManager.descriptorContainerEmpty);this.selectedAreaUnits.bind(this,function(a){d._isRestoringState||d.app.command("SetMeasurementUnits").execute(d.selectedLengthUnits.get(),a);d.selectedAreaUnitShort.set(f.MeasurementUtils.getUnitString(f.measurementMarkupManager._areaUnitString))});
this.selectedLengthUnits.bind(this,function(a){d._isRestoringState||d.app.command("SetMeasurementUnits").execute(a,d.selectedAreaUnits.get());d.selectedLengthUnitShort.set(f.MeasurementUtils.getUnitString(f.measurementMarkupManager._lengthUnitString))});this.addMarkupToMap.bind(this,function(a){a?(d._currentMarkupSegmentGraphics=d._temporaryMarkupSegmentGraphics.slice(0),d._temporaryMarkupSegmentGraphics=[]):(d._temporaryMarkupSegmentGraphics=d._currentMarkupSegmentGraphics.slice(0),d._currentMarkupSegmentGraphics=
[])});this._registerCommands()};b.prototype._registerCommands=function(){var a=this;this.app.command("DeleteMeasurement").register(this,this._executeDeleteMeasurementCommand,this._canExecuteDeleteMeasurementCommand);this.app.command("_addLineSegmentMeasurementMarkup").register(this,this._executeAddLineSegmentMeasurementMarkup,this._canExecuteAddMarkup);this.app.command("_addCompletedGeometryMeasurementMarkup").register(this,this._executeAddCompletedGeometryMeasurementMarkup,this._canExecuteAddMarkup);
this.app.command("_addGeometryMarkup").register(this,this._executeAddGeometryMarkup,this._canExecuteAddMarkup);this.app.command("_clearMeasurementMarkup").register(this,this._executeClearMeasurementMarkup);this.app.command("_applyMeasurementUnits").register(this,function(d,g){a._isRestoringState=!0;a.selectedLengthUnits.set(f.MeasurementUtils.getUnitString(d,!0));a.selectedAreaUnits.set(f.MeasurementUtils.getUnitString(g,!0));a._isRestoringState=!1})};b.prototype._canExecuteAddMarkup=function(a){this._markupLayer&&
this._measurementLayer||(this._markupLayer=f.MeasurementUtils.getGraphicsLayer(this.markupLayerId,!0,this.app),this._measurementLayer=f.MeasurementUtils.getGraphicsLayer(this.measurementMarkupLayerId,!0,this.app),this._markupLayer&&this._measurementLayer&&(f.measurementMarkupManager._measurementLayersCreated=!0));return!!(a&&a.geometry&&this._markupLayer&&this._measurementLayer)};b.prototype._canExecuteDeleteMeasurementCommand=function(a){return!!a};b.prototype._executeAddGeometryMarkup=function(a){a.type===
f.DescriptorType.POLYGON?(this._fillColor&&(a.graphicSymbol.setColor(this._fillColor),a.graphicSymbol.color.a=0.4),this._lineColor&&a.graphicSymbol.outline.setColor(this._lineColor)):this._lineColor&&a.graphicSymbol.setColor(this._lineColor);var d=a.addToMap(this.markupLayerId);this.app.command("EditMarkup").raiseCanExecuteChanged();this.app.command("DeleteMarkup").raiseCanExecuteChanged();this.app.command("ClearMarkup").raiseCanExecuteChanged();this.app.command("ExportMarkupLayer").raiseCanExecuteChanged();
a.type===f.DescriptorType.LINE_SEGMENT?this._temporaryMarkupSegmentGraphics.push(d):this.addMarkupToMap.get()?this._currentMarkupSegmentGraphics.push(d):this._temporaryMarkupSegmentGraphics.push(d)};b.prototype._executeAddLineSegmentMeasurementMarkup=function(a,d,g){if(!a||!a.geometry)this._tryErrorCallback(g,Error("LineSegment or geometry not defined"));else if(a.isActive&&(this.addMarkupToMap.get()||f.measurementMarkupManager._currentGeometryInProcess&&f.measurementMarkupManager._currentGeometryInProcess.id===
a.id)){g=f.measurementMarkupManager.formatMeasurement(a.length,f.measurementMarkupManager.measurementFractionalDigits)+" "+a.unitStr;this._setLineSegmentSymbols(a);var b=a.getAngleDegree(),e=a.getLabelLocation();a.highlightedLabelGraphic=f.MeasurementUtils.addHighlightedLabelToMap(g,e,null,this.measurementMarkupLayerId,this.app,!1,this._textOffset,this._textOffset,this._textFont.family,this._textSize,this._textColor,this._highlightColor,0<this._outlineWidth?new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,
this._outlineColor,this._outlineWidth):null,this._highlightRadius,b);a.showLabel=a.highlightedLabelGraphic.getWidth()*this._labelSizeAdjustmentFactor<f.MeasurementUtils.getRenderedLineSegmentLength(a)?!0:!1;a.showLabel&&!a.highlightedLabelGraphic.isVisible()&&a.highlightedLabelGraphic.show();d&&d(a)}};b.prototype._executeAddCompletedGeometryMeasurementMarkup=function(a,d,g){var b=null;if(a&&a.isActive&&(this.addMarkupToMap.get()||f.measurementMarkupManager._currentGeometryInProcess&&f.measurementMarkupManager._currentGeometryInProcess.id===
a.id)){switch(a.type){case f.DescriptorType.POLYGON:g=a.geometry;b=(b=g.getExtent())?b.getCenter():null;!g.contains(b)&&a.simplifiedGeometry&&(b=a.simplifiedGeometry.getCentroid()||b);a.labelStr=this.app.getResource(f.measurementMarkupManager.libraryId,"language-measurement-polygon-final-markup-label").format(f.measurementMarkupManager.formatMeasurement(a.area,f.measurementMarkupManager.measurementFractionalDigits),a.areaUnitStr,f.measurementMarkupManager.formatMeasurement(a.length,f.measurementMarkupManager.measurementFractionalDigits),
a.unitStr);this.app.command("LogOptimizerEvent").execute("MeasureAreaTool","MeasureArea");break;case f.DescriptorType.POLYLINE:a.labelStr=this.app.getResource(f.measurementMarkupManager.libraryId,"language-measurement-polyline-final-markup-label").format(f.measurementMarkupManager.formatMeasurement(a.length,f.measurementMarkupManager.measurementFractionalDigits),a.unitStr);b=a._lineSegments[a._lineSegments.length-1].mapPointEnd;this.app.command("LogOptimizerEvent").execute("MeasureDistanceTool","MeasureDistance");
break;default:this._tryErrorCallback(g,Error("Invalid Geometry Descriptor"))}a.highlightedLabelGraphic=f.MeasurementUtils.addHighlightedLabelToMap(a.labelStr,b,a.id,this.measurementMarkupLayerId,this.app,!1,this._textOffset,this._textOffset,"Arial",this._textSize,this._totalMeasurementTextColor,this._totalMeasurementHighlightColor,0<this._totalMeasurementOutlineWidth?new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,this._totalMeasurementOutlineColor,this._totalMeasurementOutlineWidth):
null,this._highlightRadius,0,!0);f.measurementMarkupManager.measurementCompleted();a.setInactive();this.app.event("MeasurementMarkupAdded").publish({graphic:a.graphic,measurementDescriptor:a});d&&d(a)}};b.prototype._executeDeleteMeasurementCommand=function(a){var d=this;e.essentialsHtmlViewer.mapping.infrastructure.GraphicUtils.deleteMarkup(a,[this.markupLayerId,this.measurementMarkupLayerId],this.app,function(a){if(a&&a.length)for(var b=0;b<a.length;b++)a[b].hasOwnProperty("measurementId")&&f.measurementMarkupManager.destroyDescriptor(a[b].measurementId);
a=d.app.toolRegistry.getActiveTool();f.measurementMarkupManager.descriptorContainerEmpty.get()&&a&&"DeleteMeasurementTool"===a.name&&d.app.command("ClearActiveTool").execute()},!0,"language-measurement-erase-multiple-prompt","language-measurement-erase-multiple-prompt-title",this.libraryId);this.app.command("LogOptimizerEvent").execute("DeleteMeasurementTool","DeleteMeasurement")};b.prototype._executeClearMeasurementMarkup=function(a,d){var g=this;if("all"===a){var b=this.app.getResource(this.libraryId,
"language-measurement-clear-all-prompt"),e=this.app.getResource(this.libraryId,"language-measurement-clear-all-prompt-title");this.app.command("StopEditingMarkup").execute();this.app.command("Confirm").execute(b,e,function(b){b&&g._clearMarkup(a,d)})}else this._clearMarkup(a,d)};b.prototype._clearMarkup=function(a,d){void 0===a&&(a="all");void 0===d&&(d=!1);switch(a){case "all":f.measurementMarkupManager.destroyAllDescriptors();this.app.command("LogOptimizerEvent").execute("ClearMeasurementTool",
"ClearAllMeasurements");break;case "temporary":for(var g=0;g<this._temporaryMarkupSegmentGraphics.length;g++){var b=this._temporaryMarkupSegmentGraphics[g];b&&b.measurementId&&f.measurementMarkupManager.destroyDescriptor(b.measurementId)}break;case "current":for(g=0;g<this._currentMarkupSegmentGraphics.length;g++)(b=this._currentMarkupSegmentGraphics[g])&&b.measurementId&&f.measurementMarkupManager.destroyDescriptor(b.measurementId)}f.measurementMarkupManager._currentGeometryInProcess&&!f.measurementMarkupManager._currentGeometryInProcess.graphic&&
f.measurementMarkupManager.destroyDescriptor(f.measurementMarkupManager._currentGeometryInProcess.id);if("temporary"===a||"all"===a||d)this._temporaryMarkupSegmentGraphics=[];if("current"===a||"all"===a||d)this._currentMarkupSegmentGraphics=[]};b.prototype._setLineSegmentSymbols=function(a){a.graphicSymbol||(a.graphicSymbol=e.essentialsHtmlViewer.mapping.infrastructure.SymbolUtils.defaultLineSymbol(),this._lineColor&&a.graphicSymbol.setColor(this._lineColor))};b.prototype._tryErrorCallback=function(a,
d){a&&a(d)};return b}(e.framework.ui.ViewModelBase);f.MeasurementViewModel=h})(f.measurement||(f.measurement={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){var h=function(b){function a(){b.apply(this,arguments);this.clearDisabled=new Observable(!0);this.changeStyleDisabled=new Observable(!0);this.markupCounter=new Observable(0);this.deleteToggled=new Observable(!1);this.editToggled=new Observable(!1);this.previousTool=null}__extends(a,b);a.prototype.initialize=function(a){b.prototype.initialize.call(this,a);this.markupCounter.bind(this,this.evaluateMarkupCounter);this.registerEventsClearDisabled();
this.registerEventsChangeStyleDisabled()};a.prototype.registerEventsChangeStyleDisabled=function(){var a=this;this.app.event("ActiveToolChangedEvent").subscribe(this,function(g){var b=null,e=null;g.tool&&(b=g.tool.name);g.previousTool&&(e=g.previousTool.name);a.isMarkupTool(e)&&a.changeStyleDisabled.set(!0);a.isMarkupTool(b)&&a.changeStyleDisabled.set(!1)});this.app.event("MarkupEditingStartedEvent").subscribe(this,function(){a.changeStyleDisabled.set(!1)});this.app.event("MarkupEditingStoppedEvent").subscribe(this,
function(){a.changeStyleDisabled.set(!0)})};a.prototype.registerEventsClearDisabled=function(){var a=this;this.app.event("MarkupAddedEvent").subscribe(this,function(){a.markupCounter.set(a.markupCounter.get()+1)});this.app.event("MeasurementMarkupAdded").subscribe(this,function(){a.markupCounter.set(a.markupCounter.get()+1)});this.app.event("MarkupDeletedEvent").subscribe(this,function(g){g.measurementId||a.markupCounter.set(a.markupCounter.get()-1)});this.app.event("MeasurementMarkupDeleted").subscribe(this,
function(g){g.graphic&&g.graphic.measurementId&&a.markupCounter.set(a.markupCounter.get()-1)});this.app.event("MarkupClearedEvent").subscribe(this,function(){a.markupCounter.set(0)})};a.prototype.evaluateMarkupCounter=function(){if(0<this.markupCounter.get())this.clearDisabled.set(!1);else{var a=this.app.toolRegistry.getActiveTool();a&&"DeleteMarkupTool"===a.name&&this.app.command("ClearActiveTool").execute();this.clearDisabled.set(!0)}};a.prototype.isMarkupTool=function(a){var g=this.app.getFrameworkObjectById("MarkupViewModel").markupTools;
return-1!=$.inArray(a,g.point)||-1!=$.inArray(a,g.polyline)||-1!=$.inArray(a,g.polygon)||-1!=$.inArray(a,g.text)?!0:!1};return a}(e.framework.ui.ViewModelBase);f.TransientMarkupPaletteViewModel=h})(f.toolPalettes||(f.toolPalettes={}))})(f.markup||(f.markup={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);this.app.menuRegistry.loadMenus(a)};return b}(e.framework.application.ModuleBase);f.MenuModule=h})(f.Menu||(f.Menu={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.handleTakeNativePhotoCamera=function(a,d,g){this.viewModel._handlePhotoFromNativeApp(!0)};b.prototype.handleTakeNativePhotoGallery=function(a,d,g){this.viewModel._handlePhotoFromNativeApp(!1)};b.prototype.handleSelectedFileInput=function(a,d,g){this.viewModel._handleFileFromBrowser(a.currentTarget.files[0])};b.prototype.clearFileInputField=function(){this.uploadFormElement.reset()};
return b}(e.framework.ui.ViewBase);f.AttachFileView=h})(f.nativeIntegration||(f.nativeIntegration={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(f){function b(a,d){f.call(this,a,d);this.feature=new Observable(null);this.esriFeature=new Observable(null);this.esriFeatureLayer=new Observable(null);this.isUploading=new Observable(!1);this._attachFileViewId=null;this.browserFileAPISupported=new Observable(this._fileApiSupported());this.deviceCordovaSupported=new Observable(this._cordovaSupported());this.app.command("AttachFileToFeature").register(this,this._executeAttachFile,
this._canExecuteAttachFile)}__extends(b,f);b.prototype.initialize=function(a){f.prototype.initialize.call(this,a);this._attachFileViewId=a.attachFileViewId};b.prototype._fileApiSupported=function(){return this._isFileInputSupported()&&window.File&&window.FileReader};b.prototype._cordovaSupported=function(){return navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry)/)&&navigator.camera&&"undefined"!==typeof navigator.camera.getPicture?!0:!1};b.prototype._handleFileFromBrowser=function(a){var d=
this;this.isUploading.set(!0);var g=new FileReader;g.onload=function(g){g={data:decodeURIComponent(g.target.result.substring(g.target.result.indexOf("base64,")+7)),fileName:a.name,fileType:a.type};d._handleReceiveFileData(g,function(a){d._handleCallback.call(d,a)})};g.readAsDataURL(a)};b.prototype._handlePhotoFromNativeApp=function(a){var d=this;navigator.camera?navigator.camera.getPicture(function(a){setTimeout(function(){d._handleReceiveFileData({data:a},function(a){d._handleCallback.call(d,a)})},
0)},function(a){},{quality:60,sourceType:a?window.Camera.PictureSourceType.CAMERA:window.Camera.PictureSourceType.PHOTOLIBRARY,destinationType:"undefined"!==typeof window.Camera&&window.Camera.DestinationType?window.Camera.DestinationType.DATA_URL:1,correctOrientation:!0}):this._reportStatus("language-native-no-photo-no-camera-detected")};b.prototype._handleReceiveFileData=function(a,d){this.feature.get()&&this.feature.get().esriFeature.get()&&this.feature.get().esriFeature.get().getLayer()&&this.feature.get().esriFeature.get().getLayer()instanceof
esri.layers.FeatureLayer&&this.feature.get().esriFeature.get().getLayer().isEditable()&&this.feature.get().esriFeature.get().getLayer().hasAttachments||this._resolveFeature(this.feature.get());var g=this.esriFeature.get(),b=this.esriFeatureLayer.get();if(this.esriFeature.get()&&this.esriFeatureLayer.get()){var e=null;b&&b.url?e=b.url:b._essentialsMetadata&&(e=b._essentialsMetadata.serviceUrl);e?(g={feature:g,layer:b,featureUrl:e,filename:this._formatAttachmentName(a.fileName),contentType:a.fileType||
"image/jpeg",payload:a.data,callback:d},this.app.command("CreateAttachment").execute(g)):this._reportStatus("language-native-feature-no-layer-url")}else this._reportStatus("language-native-feature-no-layer")};b.prototype._formatAttachmentName=function(a){var d=new Date,g=a?a.substr(0,a.lastIndexOf(".")):"image";a=a?a.substr(a.lastIndexOf(".")+1):"jpg";return"{0}-{1}.{2}.{3}-{4}-{5}-{6}.{7}".format(g,d.getHours(),d.getMinutes(),d.getSeconds(),d.getDate(),d.getMonth()+1,d.getFullYear(),a)};b.prototype._handleCallback=
function(a){var d={};try{d=JSON.parse(a.currentTarget.response).error}catch(g){d.message=a.currentTarget&&a.currentTarget.statusText?a.currentTarget.statusText:this.app.getResource(this.libraryId,"language-native-internal-server-error")}d&&d.message?this._reportStatus("language-native-file-upload-failed",d.message):(this._reportStatus("language-native-file-upload-success"),this.app.event("FeatureAttachmentAddedEvent").publish(this.feature.get()))};b.prototype._executeAttachFile=function(a){this._resolveFeature(a);
this.app.command("HideFeatureTemplatePicker").execute();this.esriFeature.get()&&this.esriFeatureLayer.get()?this.app.command("ActivateView").execute(this._attachFileViewId):this._reportStatus("language-native-feature-no-layer")};b.prototype._canExecuteAttachFile=function(a){if(a&&(this._resolveFeature(a,!1),this.esriFeature.get()&&this.esriFeatureLayer.get())){var d=this.esriFeatureLayer.get();if((a=this.app.site.essentialsMap.mapServices.filter(function(a){return a.serviceLayer===d})[0])&&a.canAddAttachments){if(this.app.isOffline.get()&&
!this.app.offlineManager.syncInfo.findLayerOrTable(a.serviceLayer.url).canAddAttachments)return!1;if(this.browserFileAPISupported.get()||this.deviceCordovaSupported.get())return!0}}return!1};b.prototype._resolveFeature=function(a,d){void 0===d&&(d=!0);var g=null;a.esriFeature&&(g=a.esriFeature.get(),!g.getLayer()&&a.layer&&a.layer.mapService&&a.layer.mapService.serviceLayer&&(g._graphicsLayer=a.layer.mapService.serviceLayer),g=a.layer||a.featureLayer&&"Table"!=a.featureLayer.type?e.essentialsHtmlViewer.mapping.infrastructure.MapUtils.findFeatureInMap(g,
this.app.site):a.esriFeature.get());g?(d&&a.esriFeature.set(g),this.feature.set(a),this.esriFeature.set(g),(g=g.getLayer())&&g.isEditable&&g.isEditable()?(g.id&&-1!==g.id.indexOf("-explodedClusterLayer")&&(g=this.app.map.getLayer(g.id.replace("-explodedClusterLayer",""))),this.esriFeatureLayer.set(g)):this.esriFeatureLayer.set(null)):(this.feature.set(null),this.esriFeature.set(null),this.esriFeatureLayer.set(null))};b.prototype._reportStatus=function(a,d){var g=this;this.isUploading.set(!1);var b=
this.app.getResource(this.libraryId,a),b=d?b+d:b;this.app.command("Alert").execute(b,null,function(){var a=g.app.viewManager.getViewById(g._attachFileViewId);a&&a.isActive&&(a.clearFileInputField(),g.app.command("DeactivateView").execute(g._attachFileViewId))})};b.prototype._isFileInputSupported=function(){if(navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/))return!1;var a=document.createElement("input");
a.type="file";return!a.disabled};return b}(e.framework.ui.ViewModelBase);f.AttachFileViewModel=h})(f.nativeIntegration||(f.nativeIntegration={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);return b}(e.framework.application.ModuleBase);f.NavigationModule=h})(f.navigation||(f.navigation={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(f){function b(){f.apply(this,arguments);this.nativeInitialized=!1}__extends(b,f);b.prototype.initialize=function(a){var d=this,g=null;(function(a){if("undefined"!==typeof gcxNativeReady)a&&a();else{var d=window.gcxNativeReadyCallback;window.gcxNativeReadyCallback=function(){d&&d();a&&a()}}})(function(){d.nativeInitialized=!0;d.app.isNative.set(!0);e.GeocortexNativeApp.registerNativeEventListener(dojo.hitch(d,d.handleNativeEvent));
d.app.command("NativeHasCapability").register(d,function(a,d){var b=this;null===g?this.app.isNative.get()?e.GeocortexNativeApp.capabilities(function(e){g=e;d.apply(b,[-1<g.indexOf(a)])},function(a){d.apply(this,[!1])}):d.apply(this,[!1]):d.apply(this,[-1<g.indexOf(a)])});d.app.command("SetNativeTitle").register(d,function(a){e.GeocortexNativeApp.setNativeTitle(a)})});this.app.event("NativeMessageEvent").subscribe(this,this._onNativeMessageEvent)};b.prototype._onNativeMessageEvent=function(a){if("native ready"===
a.type)this.app.localServerAddress=a.parameters.localServerAddress,this.app.localServerNamespace=a.parameters.localServerNamespace,this.app.localServerToken=a.parameters.localServerToken,this.app.trace.info("Native initialization complete.  Geocortex Mobile Application Framework version: {0}  Local Server Address: {1}  Locale: {2}".format(a.parameters.version,a.parameters.localServerAddress,a.parameters.locale)),this.app.nativeManager.signalNativeInitialized();else if("download"===a.type){var d=a.parameters;
a=new e.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(null);a.timeoutMS=1E4;a.id="native-download-status";"Downloading"===d.state?(a.text=this.getResource("language-native-download-downloading").format(d.fileName,d.progress),this.app.command("AddStatus").execute(a)):"Completed"===d.state?(a.text=this.getResource("language-native-download-complete").format(d.fileName),this.app.command("AddStatus").execute(a)):"Failed"===d.state&&(a.text=this.getResource("language-native-download-failed").format(d.fileName),
this.app.command("AddStatus").execute(a));this.app.command("ActivateView").execute(a.id)}else"low memory"===a.type?(a=new e.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(this.getResource("language-native-low-memory")),a.timeoutMS=3E4,a.id="native-low-memory-status",this.app.command("AddStatus").execute(a),this.app.command("ActivateView").execute(a.id)):"license information"===a.type&&this.app.trace.info("ArcGIS License Level: {0}. Expiry: {1}".format(a.parameters.level,a.parameters.expiry))};
b.prototype.handleNativeEvent=function(a){this.app.event("NativeMessageEvent").publish(a)};return b}(e.framework.application.ModuleBase);f.NativeIntegrationModule=h})(f.nativeIntegration||(f.nativeIntegration={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){var f=function(){function b(a){var d=this;this.appInfo=a;this.extent=a.map.extent;this.layers={};a.mapInfo.getLayerInfos().forEach(function(a){d.layers[a.uniqueId]={visible:a.isVisible(),definitionExpression:a.getDefinitionExpression()}})}b.prototype.restore=function(){var a=this;this.appInfo.map.setExtent(this.extent);this.appInfo.mapInfo.getLayerInfos().forEach(function(d){if(a.layers.hasOwnProperty(d.uniqueId))try{d.setEsriLayerVisibility(a.layers[d.uniqueId].visible),
d.setDefinitionExpression(a.layers[d.uniqueId].definitionExpression)}catch(g){}})};return b}();e.MapState=f})(e.editor||(e.editor={}))})(e.offlineMaps||(e.offlineMaps={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(h){(function(h){var b=function(a){function d(){a.apply(this,arguments)}__extends(d,a);d.prototype.handleTypeRadioClick=function(a,d,b){b.type.set(d.value)};d.prototype.handleEditLevelsClick=function(a,d,b){f.OfflineMapsModule._execCommandFromConfig(this.app,this.configuration.showBasemapsLevelEditorView,{basemap:b})};d.prototype.handleBackClick=function(a,d,b){this.app.command("DeactivateView").execute(this.id)};return d}(e.framework.ui.ViewBase);
h.OfflineMapEditorBasemapsView=b})(h.basemap||(h.basemap={}))})(f.editor||(f.editor={}))})(f.offlineMaps||(f.offlineMaps={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function d(){a.apply(this,arguments)}__extends(d,a);d.prototype.attach=function(d){var b=this;a.prototype.attach.call(this,d);this.viewModel.isEditing.bind(this,function(a){b._getGraphicsLayer().setVisibility(a)});this.viewModel.savingEvent.subscribe(this,function(){b._getGraphicsLayer().setVisibility(!1)});this.viewModel.geometry.bind(this,function(a){var d=b._getGraphicsLayer();d.clear();
if(a){var g=new esri.Graphic;g.setGeometry(a);d.add(g)}})};d.prototype.activated=function(){a.prototype.activated.call(this);this._getGraphicsLayer().setOpacity(1)};d.prototype.deactivated=function(){a.prototype.deactivated.call(this);this._getGraphicsLayer().setOpacity(this.configuration.offViewOpacity);this.app.command("ClearActiveTool").execute()};d.prototype.resolveWidget=function(d,b,e){a.prototype.resolveWidget.call(this,d,b,e);switch(d){case "OfflineMapEditorGeometryActionsWidget":return this.app.menuRegistry.createMenuWidget(this,
b,e)}};d.prototype.handleBackClick=function(a,d,b){this.app.command("DeactivateView").execute(this.id)};d.prototype._getGraphicsLayer=function(){if(this._layer)return this._layer;this._layer=this.app.map.getLayer(this.configuration.geometryLayerId);if(!this._layer){this._layer=new esri.layers.GraphicsLayer;this._layer.id=this.configuration.geometryLayerId;var a=new esri.symbol.SimpleLineSymbol;a.color.setColor(new esri.Color(this.configuration.outlineColor));a.setWidth(this.configuration.outlineWidth);
var d=new esri.symbol.SimpleFillSymbol;d.setColor(new esri.Color(this.configuration.fillColor));d.setOutline(a);a=new esri.renderer.SimpleRenderer(d);this._layer.setRenderer(a);this._layer.setOpacity(this.configuration.offViewOpacity);this.app.map.addLayer(this._layer)}return this._layer};return d}(e.framework.ui.ViewBase);f.OfflineMapEditorGeometryView=b})(f.geometry||(f.geometry={}))})(f.editor||(f.editor={}))})(f.offlineMaps||(f.offlineMaps={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping=
{}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function d(){a.apply(this,arguments)}__extends(d,a);d.prototype.selectAllLayers=function(a,d,b){this.viewModel.layerSelectorViewModel.layerSelector.enableAllLayers()};d.prototype.clearAllLayers=function(a,d,b){this.viewModel.layerSelectorViewModel.layerSelector.disableAllLayers()};d.prototype.handleExpanderClick=function(a,d,b){b.isExpanded.set(!b.isExpanded.get())};d.prototype.handleDefinitionExpressionClick=
function(a,d,b){this.app.command("Prompt").execute(this.getResource("language-offlinemapeditor-layers-lde-title"),this.getResource("language-offlinemapeditor-layers-lde-description"),b.definitionExpression.get(),function(a){"string"===typeof a&&b.definitionExpression.set(a)})};d.prototype.handleBackClick=function(a,d,b){this.app.command("DeactivateView").execute(this.id)};return d}(e.framework.ui.ViewBase);f.OfflineMapEditorLayersView=b})(f.layers||(f.layers={}))})(f.editor||(f.editor={}))})(f.offlineMaps||
(f.offlineMaps={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(h){var l=function(b){function a(a,g){b.call(this,a,g);this.app.command("ShowOfflineMapEditor").register(this,this._onShowOfflineMapEditor);this.app.event("ViewContainerViewClosedEvent").subscribe(this,this._onViewContainerViewClosedEvent)}__extends(a,b);a.prototype._onShowOfflineMapEditor=function(a){this._setTitle(!!a.existingOfflineMap);this.viewModel.startEditing(a);this.app.command("ActivateView").execute(this.id)};a.prototype.activated=
function(){b.prototype.activated.call(this);this.viewModel.calculateIsValid()};a.prototype.handleCancelClick=function(a,g,b){this.viewModel.finishEditing(!0);this.app.command("DeactivateView").execute(this.id)};a.prototype.handleDoneClick=function(a,g,b){var e=this;this.isBusy.set(!0);this.viewModel.finishEditing().then(function(){e.isBusy.set(!1);e.app.command("DeactivateView").execute(e.id)})};a.prototype.handleLayersClick=function(a,g,b){f.OfflineMapsModule._execCommandFromConfig(this.app,this.configuration.showLayersEditor)};
a.prototype.handleGeometryClick=function(a,g,b){f.OfflineMapsModule._execCommandFromConfig(this.app,this.configuration.showGeometryEditor)};a.prototype.handleBasemapsClick=function(a,g,b){f.OfflineMapsModule._execCommandFromConfig(this.app,this.configuration.showBasemapsEditor)};a.prototype.handleSharingClick=function(a,g,b){f.OfflineMapsModule._execCommandFromConfig(this.app,this.configuration.showSharingEditor)};a.prototype._setTitle=function(a){this.configuration.title&&(a=a?this.configuration.title.forExisting:
this.configuration.title.forNew)&&(a.startsWith("@")&&(a=this.app.getResource(this.configuration.title.libraryId?this.configuration.title.libraryId:this.libraryId,a)),this.title.set(a))};a.prototype._onViewContainerViewClosedEvent=function(a){a.viewId===this.id&&this.viewModel.finishEditing(!0)};return a}(e.framework.ui.ViewBase);h.OfflineMapEditorView=l})(f.editor||(f.editor={}))})(f.offlineMaps||(f.offlineMaps={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(m){(function(k){var l=function(b){function a(a,g){var n=this;b.call(this,a,g);this.savingEvent=new e.framework.events.Event("OfflineMapEditorViewModelSaving");this.isEditing=new Observable(!1);this.loadError=new Observable(null);this.canChange=new Observable(!1);this.name=new Observable("");this.thumbnail=new Observable("");this.basemaps=new ObservableCollection([]);this.geometry=new Observable(null);this.includeAttachments=new Observable(!0);
this.layersChanged=new Observable(!1);this.geometryChanged=new Observable(!1);this.basemapsChanged=new Observable(!1);this.layersText=new Observable("");this.basemapsText=new Observable("");this.hasBasemaps=new Observable(!1);this.hasSharing=new Observable(!1);this.isLayersValid=new Observable(!1);this.isGeometryValid=new Observable(!1);this.isBasemapsValid=new Observable(!1);this.isBasemapsCalculating=new Observable(!1);this.isValid=new Observable(!1);this.layerSelectorViewModel=new k.layers.LayerSelectorViewModel(a,
g);this.layerSelectorViewModel.onEnabledItemsChanged=function(){return n.layersChanged.set(!0)};this.layerSelectorViewModel.onAllLayersEnabled=function(){return n.includeAttachments.set(!0)};this.layerSelectorViewModel.onAllLayersDisabled=function(){return n.includeAttachments.set(!1)};this.layerSelectorViewModel.initialize({});this.layerSelectorViewModel.geometry.sync(this.geometry);this.grantEditorViewModel=new f.infrastructure.documents.GrantEditorViewModel(a,"Mapping.Infrastructure");this.grantEditorViewModel.enabled.sync(this.canChange);
this.name.bind(this,this.calculateIsValid);this.geometry.bind(this,function(){return n.geometryChanged.set(!0)});this.app.command("SetOfflineMapEditorGeometry").register(this,function(a){a&&"extent"===a.type&&(a=e.essentials.GeometryUtilities.envelopeToPolygon(a));a&&"polygon"!==a.type?n.app.trace.error("SetOfflineMapEditorGeometry does not support geometry type '"+a.type+"'."):n.geometry.set(a)})}__extends(a,b);a.prototype.initialize=function(a){this.config=a;b.prototype.initialize.call(this,a);
a.tools&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,!0);a.menus&&this.app.menuRegistry&&this.app.menuRegistry.loadMenus({menus:a.menus})};a.prototype.startEditing=function(a){if(!this.app.site.isInitialized)throw Error("Can't start editing before the site is initialized.");this.isEditing.get()&&this.finishEditing(!0);this.basemaps.isEmpty()&&0<this.app.site.essentialsMap.baseMaps.length&&this._initBasemaps();this.isEditing.set(!0);this.loadError.set(null);this.initialMapState=
new k.MapState(f.infrastructure.gis.AppInfo.fromGeocortexApp(this.app));(this.existingOfflineMap=a.existingOfflineMap)&&this._loadExistingOfflineMapDoc(a.existingOfflineMap)||this._reset();m.OfflineMapsModule._execCommandsFromConfig(this.app,this.config.onEditingStarted)};a.prototype._initBasemaps=function(){var a=this,g=this.app.site.essentialsMap.baseMaps.map(function(g){g=new k.OfflineMapEditorBasemap(a.app,a.libraryId,g);g.geometry.sync(a.geometry);g.isValid.bind(a,a.calculateIsValid);g.type.bind(a,
function(){return a.basemapsChanged.set(!0)});return g});this.basemaps.set(g);this.app.site.getOfflineBasemaps(function(a){g.forEach(function(d){return d.staticTpks.set(a)})},function(g){a.app.trace.error("Unable to fetch offline basemaps: "+g)})};a.prototype._loadExistingOfflineMapDoc=function(a){var g=this;try{return this.name.set(a.title),this.thumbnail.set(a.thumbnail?a.thumbnail.location:null),this.geometry.set(new esri.geometry.Polygon(a.content.geometry)),this.includeAttachments.set(a.content.includeAttachments),
this.canChange.set(a.access.change),this.app.map.setExtent(this.geometry.get().getExtent()),this.layerSelectorViewModel.getAllItems().filter(function(a){return!a.isFolder}).forEach(function(b){var e=a.content.layers.filter(function(a){return g.layerSelectorViewModel.filter(b)&&a.layerInfoUniqueId===b.layer.uniqueId});0<e.length?(e=e[0],b.definitionExpression.set(e?e.definitionExpression:null),b.isEnabled.set(!0)):(b.definitionExpression.set(null),b.isEnabled.set(!1))}),this.layerSelectorViewModel.setVisibleLayersFromSelectedItems(),
this.basemaps.get().forEach(function(g){var b=a.content.basemaps.filter(function(a){return a.baseMapId===g.source.id});0<b.length?g.load(b[0]):g.reset()}),this.grantEditorViewModel.loadById(a.id),this.layersChanged.set(!0),this.geometryChanged.set(!0),this.basemapsChanged.set(!0),!0}catch(b){return this.app.trace.error("Unable to load existing offline map.  "+(b.message||b)),this.loadError.set(this.getResource("language-offlinemapeditor-error-load").format(b.message||b)),!1}};a.prototype._reset=function(){this.canChange.set(!0);
this.name.set("");this.thumbnail.set("");this.geometry.set(esri.geometry.Polygon.fromExtent(this.app.map.extent));this.includeAttachments.set(!0);this.layerSelectorViewModel.setSelectedItemsFromVisibleLayers();this.layerSelectorViewModel.getAllItems().filter(function(a){return!a.isFolder}).forEach(function(a){a.layer&&a.definitionExpression.set(a.layer.getDefinitionExpression())});this.basemaps.get().forEach(function(a){a.reset()});this.grantEditorViewModel.reset();this.layersChanged.set(!1);this.geometryChanged.set(!1);
this.basemapsChanged.set(!1)};a.prototype.finishEditing=function(a){var g=this;void 0===a&&(a=!1);if(!this.isEditing.get())throw this.app.trace.error("OfflineMapEditorViewModel.finishEditing called when not editing."),Error("Not editing.");this.savingEvent.publish();var b={existingOfflineMap:this.existingOfflineMap,newOfflineMap:null,canceled:a},e=Promise.resolve();a||(b.newOfflineMap={content:{layers:this.layerSelectorViewModel.getAllItems().filter(function(a){return a.layer&&a.isEnabled.get()}).map(function(a){return{layerInfoUniqueId:a.layer.uniqueId,
definitionExpression:a.definitionExpression.get()}}),geometry:this.geometry.get()?this.geometry.get().toJson():null,basemaps:this.basemaps.get().filter(function(a){return a.type.get()===f.infrastructure.offline.OfflineMapBasemap.Type.PREGENERATED||a.type.get()===f.infrastructure.offline.OfflineMapBasemap.Type.EXPORT_TILES}).map(function(a){return a.save()}),includeAttachments:this.includeAttachments.get()},title:this.name.get(),thumbnail:{location:this.thumbnail.get()},properties:{siteId:{string:this.app.site.id},
viewerId:{string:(this.app.configModel.viewerId||"null").toLowerCase()}},grants:this.grantEditorViewModel.grants},b.newOfflineMap.thumbnail&&this.existingOfflineMap&&JSON.stringify(this.existingOfflineMap.content.layers)===JSON.stringify(b.newOfflineMap.content.layers)&&JSON.stringify(this.existingOfflineMap.content.geometry)===JSON.stringify(b.newOfflineMap.content.geometry)||(e=this._getThumbnailUri().then(function(a){a&&(b.newOfflineMap.thumbnail.location=a)})));this.initialMapState.restore();
this.isEditing.set(!1);this.existingOfflineMap=this.initialMapState=null;return e.then(function(){m.OfflineMapsModule._execCommandsFromConfig(g.app,g.config.onEditingFinished);g.app.event("OfflineMapEditorFinishedEvent").publish(b)})};a.prototype._getThumbnailUri=function(){var a=this,g=new e.essentials.ReportParameters;g.outputFormat="PNG";g.includeData=!0;g.imageWidth=this.config.thumbnail&&this.config.thumbnail.width||150;g.imageHeight=this.config.thumbnail&&this.config.thumbnail.height||150;g.resolution=
{displayName:"custom",dpi:this.config.thumbnail&&this.config.thumbnail.dpi||20};g.customExtent=this.geometry.get().getExtent();g.extentType=e.essentials.ReportParameters.CUSTOM_EXTENT;g.populateMapGraphicsLayers(this.app.map);return new Promise(function(b,e){a.app.site.essentialsMap.exportMap(g,function(a){a.data?b("data:image/png;base64,"+a.data):a.href?b(a.href):b(null)},function(g){a.app.trace.error("Error exporting map for thumbnail: "+g.message);b(null)})})};a.prototype.calculateIsValid=function(){var a=
this.layerSelectorViewModel.getAllItems().filter(function(a){return a.layer&&a.isEnabled.get()}).length,g=0<a;this.isLayersValid.set(g);this.layersText.set(this.getResource("language-offlinemapeditor-layers-text").format(a));a=!!this.geometry.get();this.isGeometryValid.set(a);var b=this.basemaps.get().every(function(a){return a.isValid.get()});this.isBasemapsValid.set(b);this.isBasemapsCalculating.set(this.basemaps.get().some(function(a){return a.size.get()===k.OfflineMapEditorBasemap.sizeCalculating}));
var f=this.basemaps.get().filter(function(a){return!a.isNone.get()}).length;this.hasBasemaps.set(0<f);this.basemapsText.set(this.getResource("language-offlinemapeditor-basemaps-text").format(f));f=this.grantEditorViewModel.monikers.get().filter(function(a){return 0<a.grants.filter(function(a){return a.assert&&!a.revoke&&(a.kind===e.essentials.documents.GrantKind.READER||a.kind===e.essentials.documents.GrantKind.WRITER)}).length}).length;this.hasSharing.set(0<f);g=g&&a&&b&&!!this.name.get();this.isValid.set(g)};
return a}(e.framework.ui.ViewModelBase);k.OfflineMapEditorViewModel=l})(m.editor||(m.editor={}))})(k.offlineMaps||(k.offlineMaps={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(a,d){e.call(this,a,d);this._isManaging=!1;this.app.event("ViewContainerViewClosedEvent").subscribe(this,this._onViewContainerViewClosedEvent)}__extends(b,e);b.prototype.attach=function(a){e.prototype.attach.call(this,a);a&&(this.isBusy.sync(a.isBusy),a.showManageDoneButton.set(!1!==this.configuration.showDonebutton))};b.prototype.activated=function(){e.prototype.activated.call(this);this.viewModel.activate();
this._isManaging||(this.viewModel.startManaging(),this._isManaging=!0)};b.prototype.handleEditOfflineMapClick=function(a,d,g){var b=this;this.isBusy.get()||(g.doc.content?f.OfflineMapsModule._execCommandFromConfig(this.app,this.configuration.editOfflineMap,{offlineMap:g.doc}):(this.isBusy.set(!0),this.app.site.documentStore.getById(g.doc.id,!0).then(function(a){g.update(a);f.OfflineMapsModule._execCommandFromConfig(b.app,b.configuration.editOfflineMap,{offlineMap:g.doc});b.isBusy.set(!1)},function(a){b.app.trace.error("Error fetching offlinemap document. "+
(a.message||a));a=b.getResource("language-offline-maps-fetch-error");var d=b.getResource("language-offline-maps-fetch-error-title");b.app.command("Alert").execute(a,d);b.isBusy.set(!1)})))};b.prototype.handleDeleteOfflineMapClick=function(a,d,g){var b=this;this.isBusy.get()||this.app.command("Confirm").execute(this.getResource("language-offline-maps-delete-from-server").format(g.title.get()),this.getResource("language-offline-maps-delete-from-server-title"),function(a){a&&b.viewModel.deleteOfflineMap(g)})};
b.prototype.handleNewOfflineMapClick=function(a,d,g){this.isBusy.get()||f.OfflineMapsModule._execCommandFromConfig(this.app,this.configuration.newOfflineMap)};b.prototype.handleDoneClick=function(a,d,g){this.app.command("DeactivateView").execute(this.id);this._stopManaging()};b.prototype._onViewContainerViewClosedEvent=function(a){a.viewId===this.id&&this._stopManaging()};b.prototype._stopManaging=function(){this.viewModel.stopManaging();this._isManaging=!1};b.prototype.handleThumbnailLoadError=function(a,
d,g){d.src!==this.viewModel.defaultThumbnail&&(d.src=this.viewModel.defaultThumbnail,d.src!==this.viewModel.defaultThumbnail&&(this.viewModel.defaultThumbnail=d.src))};b.prototype.resolveWidget=function(a,d,g){e.prototype.resolveWidget.call(this,a,d,g);switch(a){case "ManageOfflineMapsActionsWidget":return this.app.menuRegistry.createMenuWidget(this,d,g)}};return b}(e.framework.ui.ViewBase);f.ManageOfflineMapsView=h})(f.offlineMaps||(f.offlineMaps={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping=
{}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);this.app.offlineManager.aoiMask.configure(a.aoiMask)};b._execCommandsFromConfig=function(a,d,g){var b=this;d&&d.forEach(function(d){return b._execCommandFromConfig(a,d,g)})};b._execCommandFromConfig=function(a,d,g){if(d){var e=d.commandParameter;e&&g&&(e=b._replaceCommandParameterTokens(e,g));a.command(d.command).execute(e)}};
b._replaceCommandParameterTokens=function(a,d){var g=this,b;if("string"===typeof a){b=/{{(.+)}}/.exec(a);var e=d[b[1]]}else{var e={},f;for(f in a)a.hasOwnProperty(f)&&("string"===typeof a[f]&&(b=/{{(.+)}}/.exec(a[f]))&&d.hasOwnProperty(b[1])?e[f]=d[b[1]]:dojo.isArray(a[f])?e[f]=a[f].map(function(a){return g._replaceCommandParameterTokens(a,d)}):e[f]="object"===typeof a[f]?this._replaceCommandParameterTokens(a[f],d):a[f])}return e};return b}(e.framework.application.ModuleBase);f.OfflineMapsModule=
h})(f.offlineMaps||(f.offlineMaps={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments);this._offlineMapIfBusyBindingTokens={}}__extends(b,e);b.prototype.attach=function(a){e.prototype.attach.call(this,a);a&&(a.isBusy.bind(this,this._calculateIsBusy),a.mergedOfflineMaps.bind(this,this._offlineMapsChanged))};b.prototype.activated=function(){e.prototype.activated.call(this);this.viewModel.activate()};b.prototype.handleOfflineMapClick=function(a,d,g){var b=this;g.isActive.get()||
(g.isDownloaded.get()?this.isBusy.get()||(g.isBusy.set(!0),this.app.offlineManager.activateOfflineMap(g.doc).then(function(){g.isBusy.set(!1)},function(a){g.isBusy.set(!1);b.app.trace.error("Failed to activate offline map. "+(a.message||a.toString()));b.app.command("Alert").execute(b.getResource("language-offline-maps-activate-failed"))})):g.isBusy.get()||this.app.command("Confirm").execute(this.getResource("language-offline-maps-add-confirm"),g.doc.title,function(a){a&&b._guaranteeOfflineMapContent(g).then(function(a){f.OfflineMapsModule._execCommandFromConfig(b.app,
b.configuration.download,{offlineMap:a})},function(a){b.app.trace.error("Failed to download offline map. "+(a.message||a.toString()));b.app.command("Alert").execute(a.message||a.toString())})}))};b.prototype.handleOfflineMapForgetClick=function(a,d,g){var b=this;!g.isDownloaded.get()||g.isActive.get()||g.isBusy.get()||this.app.command("Confirm").execute(this.getResource("language-offline-maps-delete-from-device-confirm"),g.doc.title,function(a){a&&(g.isBusy.set(!0),b.app.offlineManager.removeOfflineMap(g.doc).then(function(){g.isBusy.set(!1);
b._calculateIsBusy()},function(a){g.isBusy.set(!1);b.app.command("Alert").execute(a.message||a.toString());b._calculateIsBusy()}))})};b.prototype.handleOfflineMapSyncClick=function(a,d,g){var b=this;g.isDownloaded.get()&&!g.isBusy.get()&&this.app.site.documentStore.getById(g.doc.id,!0).then(function(a){return a},function(a){b.app.trace.warning("Error fetching existing offline map: "+a);return g.doc}).then(function(a){f.OfflineMapsModule._execCommandFromConfig(b.app,b.configuration.sync,{offlineMap:a})})};
b.prototype.handleDeactivateOfflineMapClick=function(a,d,g){var b=this;if(!this.isBusy.get()&&this.viewModel.hasActiveOfflineMap.get()){var e=this.app.offlineManager.getActiveOfflineMap();e&&(this.viewModel.downloadedOfflineMaps.get().filter(function(a){return a.doc.id===e.id})[0]?(this.isBusy.set(!0),this.app.offlineManager.deactivateOfflineMap().then(function(){b.isBusy.set(!1)},function(a){b.isBusy.set(!1);b.app.command("Alert").execute(a.message||a.toString())})):this.app.trace.error("Can't find view model matching the active offline map."))}};
b.prototype.handleThumbnailLoadError=function(a,d,g){d.src!==this.viewModel.defaultThumbnail&&(d.src=this.viewModel.defaultThumbnail,d.src!==this.viewModel.defaultThumbnail&&(this.viewModel.defaultThumbnail=d.src))};b.prototype.resolveWidget=function(a,d,g){e.prototype.resolveWidget.call(this,a,d,g);switch(a){case "ListOfflineMapsActionsWidget":return this.app.menuRegistry.createMenuWidget(this,d,g)}};b.prototype._guaranteeOfflineMapContent=function(a){return a.doc.content?Promise.resolve(a.doc):
this.app.site.documentStore.getById(a.doc.id,!0).then(function(d){a.update(d);return d})};b.prototype._offlineMapsChanged=function(a){for(var d=a.rangeStart;d<=a.rangeEnd;d++){var g=this.viewModel.mergedOfflineMaps.getAt(d);switch(a.type){case "append":case "insert":case "set":this._offlineMapIfBusyBindingTokens[g.doc.id]=g.isBusy.bind(this,this._calculateIsBusy);break;case "remove":case "clear":g.isBusy.unbind(this._offlineMapIfBusyBindingTokens[g.doc.id]),delete this._offlineMapIfBusyBindingTokens[g.doc.id]}}};
b.prototype._calculateIsBusy=function(){for(var a=this.viewModel.isBusy.get(),d=0,g=this.viewModel.mergedOfflineMaps.length();!a&&d<g;d++)a=this.viewModel.mergedOfflineMaps.getAt(d).isBusy.get();this.isBusy.set(a)};return b}(e.framework.ui.ViewBase);f.ListOfflineMapsView=h})(f.offlineMaps||(f.offlineMaps={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(m){function k(a,d){return(a.doc.title||"").toLocaleLowerCase().localeCompare((d.doc.title||"").toLocaleLowerCase())}var l=f.infrastructure.offline.OfflineMap,b=function(a){function d(){a.apply(this,arguments);this.docstoreOfflineMaps=new ObservableCollection;this.downloadedOfflineMaps=new ObservableCollection;this.mergedOfflineMaps=new ObservableCollection;this.canCreate=new Observable(!1);this.hasActiveOfflineMap=new Observable(!1);this.showManageDoneButton=
new Observable(!0);this.switchedToOnlineMap=new Observable(!1);this.isBusy=new Observable(!1);this.statusFetching=new Observable(!1);this.statusEmpty=new Observable(!1);this.statusOffline=new Observable(!1);this.statusUnsupported=new Observable(!1);this.statusNative=new Observable(!1);this._populated=this._activated=this._isNative=!1}__extends(d,a);d.prototype.initialize=function(d){var b=this;a.prototype.initialize.call(this,d);this.defaultThumbnail=d.defaultThumbnail;this.mergedOfflineMaps.bind(this,
function(){b.statusEmpty.set(0===b.mergedOfflineMaps.length())});this.app.nativeManager.onNativeInitialized().then(function(){b.statusNative.set(!0)});this.app.waitUntilSiteInitialized().then(function(){return b.app.site.documentStore.onInitialized()}).then(function(){return b.canCreate.set(b.app.site.documentStore.canCreate())});this._downloadedOfflineMapsLoaded({offlineMaps:this.app.offlineManager.getOfflineMaps(),activeOfflineMap:this.app.offlineManager.getActiveOfflineMap()});this.app.command("RefreshOfflineMapsList").register(this,
this.populateFromDocStore);this.app.event("OfflineMapsLoadedEvent").subscribe(this,this._downloadedOfflineMapsLoaded);this.app.event("OfflineMapAddedEvent").subscribe(this,this._downloadedOfflineMapAdded);this.app.event("OfflineMapRemovedEvent").subscribe(this,this._downloadedOfflineMapRemoved);this.app.event("OfflineMapSyncedEvent").subscribe(this,this._downloadedOfflineMapSynced);this.app.event("OfflineMapActivatedEvent").subscribe(this,this._offlineMapActivated);this.app.event("FeatureCreatedEvent").subscribe(this,
this._updateMetadataForActiveOfflineMap);this.app.event("FeatureEditedEvent").subscribe(this,this._updateMetadataForActiveOfflineMap);this.app.event("FeatureDeletedEvent").subscribe(this,this._updateMetadataForActiveOfflineMap);this.app.event("OfflineMapAddedEvent").subscribe(this,function(a){return b._updateMetadataForOfflineMap(a.offlineMap)});this.app.event("OfflineMapSyncedEvent").subscribe(this,function(a){return b._updateMetadataForOfflineMap(a.offlineMap)});d.saveOfflineMaps&&this.app.event("OfflineMapEditorFinishedEvent").subscribe(this,
this._onOfflineMapEditorFinishedEvent);d.menus&&this.app.menuRegistry&&this.app.menuRegistry.loadMenus({menus:d.menus})};d.prototype.activate=function(){var a=this;this._activated||(this._activated=!0,this._isNative=/GeocortexApp/.test(navigator.userAgent),this.app.waitUntilSiteInitialized().then(function(){a.statusUnsupported.set(!a.app.site.documentStore.supported);a.populateFromDocStore()}))};d.prototype.startManaging=function(){this._isNative&&((this._offlineMapWhenManagingStarted=this.app.offlineManager.getActiveOfflineMap())&&
this.app.offlineManager.deactivateOfflineMap(),this.switchedToOnlineMap.set(!!this._offlineMapWhenManagingStarted))};d.prototype.stopManaging=function(){this._isNative&&this._offlineMapWhenManagingStarted&&this.app.offlineManager.activateOfflineMap(this._offlineMapWhenManagingStarted)};d.prototype.populateFromDocStore=function(){var a=this;this.app.site.documentStore.supported&&this._activated&&(this.isBusy.set(!0),this.statusFetching.set(!0),Promise.resolve(this.app.site.documentStore.query({filters:{require:[{field:"fileType",
method:"values",range:[{string:"offlinemap"}]},{field:"properties.siteId.string",method:"values",range:[{string:this.app.site.id}]}]}})).then(function(d){a._populated=!0;a.statusOffline.set(!1);d=d.results.map(function(d){return new m.OfflineMapModel(a.app,a.libraryId,d.entity)}).sort(k);a.docstoreOfflineMaps.set(d);a.calculateMergedOfflineMaps()})["catch"](function(d){a.statusOffline.set(!0);a.app.trace.error("Unable to fetch offline maps. "+d)})["finally"](function(){a.statusFetching.set(!1)}).then(function(){return a._updateMetadataForAllOfflineMaps()})["catch"](function(d){a.app.trace.error("Unable to update metadata for offline maps. "+
d)})["finally"](function(){a.isBusy.set(!1)}))};d.prototype.deleteOfflineMap=function(a){var d=this;this.app.site.documentStore.supported&&(this.isBusy.set(!0),this.app.site.documentStore.deleteById(a.doc.id).then(function(){d.isBusy.set(!1);d.docstoreOfflineMaps.removeItem(a);d.calculateMergedOfflineMaps()},function(b){d.isBusy.set(!1);b.error&&404===b.error.code?(d.docstoreOfflineMaps.removeItem(a),d.calculateMergedOfflineMaps()):(b=b.message||b.error&&b.error.message||b.toString(),d.app.command("Alert").execute(b,
d.getResource("language-offline-maps-delete-from-server-title")))}))};d.prototype.calculateMergedOfflineMaps=function(){var a=this,d=this.downloadedOfflineMaps.get(),b=this.docstoreOfflineMaps.get();this._populated&&d.forEach(function(d){d.isOrphaned.set((a.app.site.documentStore.isOwner(d.doc)||a.app.site.documentStore.isPublic(d.doc))&&!b.some(function(a){return a.doc.id===d.doc.id}))});var b=b.filter(function(a){return!d.some(function(d){return d.doc.id===a.doc.id})}),e=d.concat(b).sort(k);this.mergedOfflineMaps.set(e)};
d.prototype._downloadedOfflineMapsLoaded=function(a){var d=this,b=a.offlineMaps.map(function(a){return new m.OfflineMapModel(d.app,d.libraryId,a)});b.forEach(function(a){a.isDownloaded.set(!0)});this.downloadedOfflineMaps.set(b);this.calculateMergedOfflineMaps();this._offlineMapActivated({offlineMap:a.activeOfflineMap})};d.prototype._downloadedOfflineMapAdded=function(a){a=new m.OfflineMapModel(this.app,this.libraryId,a.offlineMap);a.isDownloaded.set(!0);this.downloadedOfflineMaps.addItem(a);this.calculateMergedOfflineMaps()};
d.prototype._downloadedOfflineMapRemoved=function(a){for(var d=0,b=this.downloadedOfflineMaps.length();d<b;d++)if(this.downloadedOfflineMaps.getAt(d).doc.id===a.offlineMap.id){this.downloadedOfflineMaps.removeAt(d);this.calculateMergedOfflineMaps();break}};d.prototype._offlineMapActivated=function(a){this.hasActiveOfflineMap.set(!!a.offlineMap);for(var d=0,b=this.downloadedOfflineMaps.length();d<b;d++){var e=this.downloadedOfflineMaps.getAt(d);e.isActive.set(null!=a.offlineMap&&a.offlineMap.id===
e.doc.id)}};d.prototype._downloadedOfflineMapSynced=function(a){for(var d=0,b=this.downloadedOfflineMaps.length();d<b;d++){var e=this.downloadedOfflineMaps.getAt(d);if(e.doc.id===a.offlineMap.id){e.update(a.offlineMap);break}}};d.prototype._updateMetadataForActiveOfflineMap=function(){this.app.offlineManager.isOfflineMapActive.get()&&this._updateMetadataForOfflineMap(this.app.offlineManager.getActiveOfflineMap())};d.prototype._updateMetadataForAllOfflineMaps=function(){var a=this,d=[];this.mergedOfflineMaps.get().forEach(function(b){d.push(a._updateMetadataForOfflineMap(b))});
return Promise.all(d)};d.prototype._updateMetadataForOfflineMap=function(a){var d=this;if(!this._isNative)return Promise.resolve();var b=a instanceof m.OfflineMapModel?a:this.mergedOfflineMaps.get().filter(function(d){return d.doc===a})[0];if(!b)return Promise.reject("Offline map not downloaded.");var e=[];b.dataSizeBytes.set(0);e.push(f.infrastructure.offline.SyncEngine.getSyncInfo(this.app,b.doc.id).then(function(a){b.numberOfEdits.set(f.infrastructure.ArrayUtils.sum(a.servers,function(a){return a.numberOfAdds+
a.numberOfDeletes+a.numberOfEdits}));b.lastSyncTime.set(FormatUtils.formatDate(f.infrastructure.ArrayUtils.max(a.servers,function(a){return a.lastSyncTime})));b.dataSizeBytes.set(b.dataSizeBytes.get()+f.infrastructure.ArrayUtils.sum(a.servers,function(a){return a.totalSizeInBytes}))}));b.doc.content&&b.doc.content.basemaps.filter(function(a){return a.sourceType===f.infrastructure.offline.OfflineMapBasemap.Type.EXPORT_TILES}).forEach(function(a){e.push(d.app.nativeManager.getViewerResourceInfo(a.filename).then(function(a){b.dataSizeBytes.set(b.dataSizeBytes.get()+
a.length)}))});return Promise.all(e)};d.prototype._onOfflineMapEditorFinishedEvent=function(a){var d=this;if(this.app.site.documentStore.supported&&!a.canceled)if(a.newOfflineMap.contentType="application/json",a.newOfflineMap.fileType="offlinemap",a.existingOfflineMap){a.newOfflineMap.id=a.existingOfflineMap.id;var b=l.diff(a.existingOfflineMap,a.newOfflineMap);b?(b.content&&(b.content=a.newOfflineMap.content),this.isBusy.set(!0),this.app.site.documentStore.updateById(a.existingOfflineMap.id,b).then(function(a){d.isBusy.set(!1);
for(var g=0;g<d.docstoreOfflineMaps.length();g++)if(d.docstoreOfflineMaps.getAt(g).doc.id===a.id){d.docstoreOfflineMaps.getAt(g).update(a);break}},function(a){d.isBusy.set(!1);d.app.trace.error("Error updating offline map in doc store. "+(a.message||a));a=d.getResource("language-offline-maps-update-profile-error").format(a.message||a);var g=d.getResource("language-offline-maps-update-profile-error-title");d.app.command("Alert").execute(a,g)})):this.app.trace.warning("OfflineMapEditorFinishedEvent called without any changes to send.  Bailing.")}else this.isBusy.set(!0),
this.app.site.documentStore.add(a.newOfflineMap).then(function(a){d.isBusy.set(!1);a=new m.OfflineMapModel(d.app,d.libraryId,a);a=d.docstoreOfflineMaps.get().concat([a]).sort(k);d.docstoreOfflineMaps.set(a);d.calculateMergedOfflineMaps()},function(a){d.isBusy.set(!1);d.app.trace.error("Error adding offline map to doc store. "+(a.message||a));a=d.getResource("language-offline-maps-add-error").format(a.message||a);var g=d.getResource("language-offline-maps-add-error-title");d.app.command("Alert").execute(a,
g)})};return d}(e.framework.ui.ViewModelBase);m.OfflineMapsViewModel=b})(k.offlineMaps||(k.offlineMaps={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(a,d,g){var b=this;e.call(this,a,d);this.title=new Observable;this.thumbnail=new Observable;this.isBusy=new Observable(!1);this.isActive=new Observable(!1);this.isDownloaded=new Observable(!1);this.isOrphaned=new Observable(!1);this.canEdit=new Observable(!1);this.canChange=new Observable(!1);this.numberOfEdits=new Observable(0);this.lastSyncTime=new Observable("");this.dataSizeBytes=new Observable(0);this.dataSizeDisplayValue=
new Observable("\u2026");this.update(g);this.dataSizeDisplayValue.syncTransform(this.dataSizeBytes,function(a){return b._getDisplayBytes(a)})}__extends(b,e);b.prototype._getDisplayBytes=function(a){if(0===a)return"\u2026";a/=1024;var d=a/1024,g=d/1024;return 1<=g?this.getResource("language-offline-maps-size-gb").format(FormatUtils.formatNumber(g,null,{fractionalDigits:2})):1<=d?this.getResource("language-offline-maps-size-mb").format(FormatUtils.formatNumber(d,null,{fractionalDigits:1})):this.getResource("language-offline-maps-size-kb").format(FormatUtils.formatNumber(a,
null,{fractionalDigits:0}))};b.prototype.update=function(a){this.doc=a;this.title.set(a.title);this.thumbnail.set(a.thumbnail?a.thumbnail.location:null);this.canEdit.set(a.access.edit);this.canChange.set(a.access.change)};return b}(e.framework.ui.ViewModelBase);f.OfflineMapModel=h})(f.offlineMaps||(f.offlineMaps={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments);this._nativeAppHasBeenNotified=!1;this._geocortexSessionExpiryArgs=null;this._tokenRefreshSuspended=!1}__extends(b,e);b.prototype.initialize=function(a){var d=this;e.prototype.initialize.call(this,a);this.app.isOffline.bind(this,function(a){d._handleOfflineStatusChangeForTokenRefresh(a)});this._attachTokenRefreshHooks();this._registerCommands()};b.prototype._registerCommands=function(){var a=
this;this.app.command("ClearStorageForApplication").register(this,function(d){return a._clearStorage(!1,d)});this.app.command("ClearStorageForDomain").register(this,function(d){return a._clearStorage(!0,d)});this.app.command("ResumeOfflineTokenRefresh").register(this,this._handleResumeOfflineTokenRefresh)};b.prototype._attachTokenRefreshHooks=function(){var a=this;dojo.subscribe("geocortex_sessionExpiring",function(d){a._geocortexSessionExpiryArgs=d;d.handled=!0;a.app.isOffline.get()?(d.suspendRefresh(),
a._tokenRefreshSuspended=!0,a.app.trace.info("Principal expiring offline. Flagged for refresh the next time the user goes online.")):d.resumeRefresh()&&(a._tokenRefreshSuspended=!1)})};b.prototype._handleOfflineStatusChangeForTokenRefresh=function(a){this._geocortexSessionExpiryArgs&&!a&&this._tokenRefreshSuspended&&(this._geocortexSessionExpiryArgs.resumeRefresh(),this._tokenRefreshSuspended=!1)};b.prototype._handleResumeOfflineTokenRefresh=function(){this._handleOfflineStatusChangeForTokenRefresh(!1)};
b.prototype._clearStorage=function(a,d){var g=this,b=a?this.app.store.clearAllData:this.app.store.clear,e=function(){b.call(g.app.store,function(){g.app.trace.info("Offline data for this application cleared.");g.app.event("ApplicationStorageClearedEvent").publish();var a=g.getResource("language-offline-data-cleared"),d=g.getResource("language-offline-data-cleared-title");g.app.command("Alert").execute(a,d)},function(a){g.app.trace.info("There was an error clearing offline data.");a=g.getResource("language-offline-error-clearing-data").format(a);
g.app.command("Alert").execute(a)})};d?this.app.command("Confirm").execute(this.getResource("language-clear-storage-confirm"),this.getResource("language-clear-storage"),function(a){a&&e()}):e()};return b}(e.framework.application.ModuleBase);f.OfflineModule=h})(f.offline||(f.offline={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(f){function b(a,d){f.call(this,a,d);this._userName=new Observable;this._eventRelay=null}__extends(b,f);b.prototype.initialize=function(a){var d=this;this.app.command("LogOptimizerEvent").register(this,this._executeLogOptimizerEvent,this._canExecuteLogOptimizerEvent);this._loggingEnabled=a&&void 0!=a.enabled?a.enabled:!1;this._userName.set(a&&a.userName&&""!=a.userName?a.userName:"DefaultUser");this._dataRelayUri=a&&a.dataRelayUri&&
""!=a.dataRelayUri?a.dataRelayUri:"http://localhost/Geocortex/Optimizer/Rest/DataRelay/LogData.ashx?f=json";if(!1!==this._loggingEnabled&&!0!==this.app.isOffline.get()){this._dataRelayUri.endsWith(".ashx")&&(this._dataRelayUri+="?f=json");this._requiresProxy(this._dataRelayUri)&&(this._dataRelayUri=this.app.configuration.proxyUri+this._dataRelayUri);var g=this._userName.bind(this,function(){null!=d._eventRelay&&(d._eventRelay.userName=d._userName.get());d._userName.unbind(g)});this._authenticationSucceededToken=
this.app.event("AuthenticationSucceededEvent").subscribe(this,this._handleAuthenticationSucceeded);this._authenticationFailedToken=this.app.event("AuthenticationFailedEvent").subscribe(this,this._handleAuthenticationFailed);if(this.app.map&&this.app.map.loaded)this._onMapLoaded();else var b=this.app.event("MapLoadedEvent").subscribe(this,function(){d.app.event("MapLoadedEvent").unsubscribe(b);d._onMapLoaded()})}};b.prototype._onMapLoaded=function(){this._eventRelay=new e.optimizer.EventRelay(this.app.map,
this.app.site.id,this._dataRelayUri,this._userName.get());this._executeLogOptimizerEvent("ViewerShell",this.app.shellName)};b.prototype._canExecuteLogOptimizerEvent=function(a,d){return this._loggingEnabled&&null!=this._eventRelay};b.prototype._executeLogOptimizerEvent=function(a,d){this._eventRelay.logToolUsage(a,d)};b.prototype._handleAuthenticationSucceeded=function(a){!0===a.result&&this._userName.set(a.username);null!=this._eventRelay&&this._executeLogOptimizerEvent("AuthenticationSucceededEvent",
a.username);this._unsubscribeFromAuthenticationEvents()};b.prototype._handleAuthenticationFailed=function(a){null!=this._eventRelay&&this._executeLogOptimizerEvent("AuthenticationFailedEvent",a.username)};b.prototype._unsubscribeFromAuthenticationEvents=function(){this.app.event("AuthenticationSucceededEvent").unsubscribe(this._authenticationSucceededToken);this.app.event("AuthenticationFailedEvent").unsubscribe(this._authenticationSucceededToken)};b.prototype._requiresProxy=function(a){a=new dojo._Url(a);
var d=window.location;return(a.scheme||a.host||a.port)&&d.protocol+"//"+d.hostname+(d.port?":"+d.port:"")!==a.scheme+"://"+a.host+(a.port?":"+a.port:"")?!0:!1};return b}(e.framework.application.ModuleBase);f.OptimizerIntegrationModule=h})(f.optimizerIntegration||(f.optimizerIntegration={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);return b}(e.framework.application.ModuleBase);f.OverviewMapModule=h})(f.overviewMap||(f.overviewMap={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.activated=function(){var a=this;$(this.root).parent("[class*='bottom']").length&&this.viewModel.isBottom.set(!0);$(this.root).parent("[class*='right']").length&&this.viewModel.isRight.set(!0);$(this.root).parent("[class*='bottom']").length&&$(this.root).parent("[class*='right']").length&&$(".esriControlsBR").addClass("overview-map-attribution-override");
$(this.root).parent("[class*='left']").length&&this.viewModel.isLeft.set(!0);$(this.root).parent("[class*='top']").length&&this.viewModel.isTop.set(!0);this.app.command("OpenOverviewMap").register(this,this._loadOverviewMap);this.app.command("CloseOverviewMap").register(this,function(){return a.viewModel.isActive.set(!1)})};b.prototype._loadOverviewMap=function(){var a=this;this.viewModel.isActive.set(!0);null==this.viewModel.overviewMapDijit?setTimeout(function(){a.loadOverviewMapDijit();a.app.command("FocusOnFirstInputInView").execute(a)},
250):this.app.command("FocusOnFirstInputInView").execute(this)};b.prototype.toggleMap=function(a,d,g){!1===this.viewModel.isActive.get()?this.app.command("OpenOverviewMap").execute():this.app.command("CloseOverviewMap").execute()};b.prototype.loadOverviewMapDijit=function(){if(!1!=this.viewModel.isEnabled.get()&&(null==this.viewModel.overviewMapDijit||!this.viewModel.isEnabled.get())){var a=this.app.site.overviewMap,d="#00FFFF";this.viewModel.visibleExtentColour.get()&&(d=this.viewModel.visibleExtentColour.get());
this.viewModel.overviewMapDijit=new esri.dijit.OverviewMap({map:this.app.map,baseLayer:null,visible:!0,width:205,height:180,color:d,expandFactor:this.viewModel.extentScaleFactor.get(),maximizeButton:!1},this.viewModel.overviewMapId.get());try{this.viewModel.overviewMapDijit.startup()}catch(g){this.app.trace.alert("Error encountered loading overview map: "+g);this.viewModel.overviewMapDijit.hide();this.viewModel.overviewMapDijit.destroy();return}var b=this.viewModel.overviewMapDijit,d=b.map,d=b.overviewMap;
d.removeAllLayers();for(b=a.mapServices.length-1;0<=b;b--){var e=a.mapServices[b];e&&d.addLayer(e.serviceLayer)}0===d.layerIds.length&&(this.app.trace.info("No supported layers available for overview map. Disabling overview map."),this.viewModel.isEnabled.set(!1));(a=$(this.root).find(".ovwHighlight")[0])?a.setAttribute("tabindex","0"):this.app.trace.warning("Unable for find overview map highlight area!")}};return b}(e.framework.ui.ViewBase);f.OverviewMapView=h})(f.overviewMap||(f.overviewMap={}))})(f.modules||
(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(m){var k=function(l){function b(){l.apply(this,arguments);this.isEnabled=new Observable(!1);this.isActive=new Observable(!1);this.altText=new Observable(null);this.extentScaleFactor=new Observable(null);this.visibleExtentColour=new Observable(null);this.overviewMapDijit=null;this.overviewMapId=new Observable(null);this.isLeft=new Observable(!1);this.isRight=new Observable(!1);this.isTop=new Observable(!1);this.isBottom=new Observable(!1);
this.bottomAndActive=new Observable(!1)}__extends(b,l);b.prototype.initialize=function(a){var d=this;if(this.app.map&&this.app.map.loaded)this._loadConfig(a);else this.app.event("MapLoadedEvent").once(this,function(){return d._loadConfig(a)});this.overviewMapId.set(e.framework.utils.alphaNumericToken())};b.prototype._loadConfig=function(a){var d=this;if(this.app.site.hasOverviewMap){a&&(a.isEnabled&&this.isEnabled.set(!0),!0===a.openByDefault&&(this.isActive.set(!0),this.app.command("OpenOverviewMap").execute()),
a.extentScaleFactor&&this.extentScaleFactor.set(a.extentScaleFactor),a.visibleExtentColour&&this.visibleExtentColour.set(a.visibleExtentColour));this.altText.set(this.getResource("language-feature-overview-map-toggle"));this.isActive.bind(this,function(a){!0==a&&!0==d.isBottom.get()?d.bottomAndActive.set(!0):d.bottomAndActive.set(!1)});a=this.app.site.overviewMap;for(var g=[],b=a.mapServices.length-1;0<=b;b--){var e=a.mapServices[b];e&&(f.infrastructure.GeometryUtils.needsProjection(new esri.geometry.Point(1,
1,e.serviceLayer.spatialReference),this.app)&&this.app.trace.warning("Overview Map Layer WKID/WKT differs from basemap. There may be rendering errors in the overview map. Layer: "+e.serviceUrl),g.push(e))}0==g.length&&(this.app.trace.info(this.app.getResource(this.libraryId,"language-feature-overview-map-error-no-base-layer")),$(".esriControlsBR").removeClass("attributionOverride"),this.isEnabled.set(!1))}else $(".esriControlsBR").removeClass("attributionOverride")};return b}(e.framework.ui.ViewModelBase);
m.OverviewMapViewModel=k})(k.overviewMap||(k.overviewMap={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);return b}(e.framework.application.ModuleBase);f.PrintingModule=h})(f.printing||(f.printing={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(m){var k=f.infrastructure.PromiseUtils,l=function(b){function a(d,g){b.call(this,d,g);this._activeViewId=this._initializePromise=this._pushpinsLayer=this._defaultPushpinSymbol=this._cachedSymbol=this._handles=null;this._imageUrlErrors={};this.initialized=!1;this.pushpinsRemainVisible=this.enabled=!0;this.pushpinMarkerUri=a.DEFAULT_PUSHPIN_MARKER_URI;this.pushpinMarkerHeight=this.pushpinMarkerWidth=32;this.offsetX=0;this.offsetY=16;this._handles=
{appEvents:null,mapEvents:null,fsEvents:[]};this.featureSetCollection=new Observable;this.featureSetCollection.bind(this,this._handleCollectionChanged);this._defaultPushpinSymbol=new esri.symbol.PictureMarkerSymbol(a.DEFAULT_PUSHPIN_MARKER_URI,32,32);this._defaultPushpinSymbol.setOffset(0,16);this._registerCommands()}__extends(a,b);a.prototype.initialize=function(a){var g=this;b.prototype.initialize.call(this,a);a&&(a.hasOwnProperty("pushpinsEnabled")&&(this.enabled=!!a.pushpinsEnabled),a.hasOwnProperty("pushpinsRemainVisible")&&
(this.pushpinsRemainVisible=!!a.pushpinsRemainVisible),a.hasOwnProperty("pushpinMarkerUri")&&(this.pushpinMarkerUri=a.pushpinMarkerUri),a.hasOwnProperty("pushpinMarkerWidth")&&(this.pushpinMarkerWidth=parseInt(a.pushpinMarkerWidth)),a.hasOwnProperty("pushpinMarkerHeight")&&(this.pushpinMarkerHeight=parseInt(a.pushpinMarkerHeight)),a.hasOwnProperty("offsetX")&&(this.offsetX=parseInt(a.offsetX)),a.hasOwnProperty("offsetY")&&(this.offsetY=parseInt(a.offsetY)),a.hasOwnProperty("eventMappings")&&(this.eventMappings=
a.eventMappings||{}));this._initializePromise=this._getPushpinSymbolAsync(this.pushpinMarkerUri,this.pushpinMarkerWidth,this.pushpinMarkerHeight,this.offsetX,this.offsetY).then(function(a){g._cachedSymbol=a||g._defaultPushpinSymbol;g.initialized=!0;g.app.command("AddPushpin").raiseCanExecuteChanged();g.app.command("AddPushpins").raiseCanExecuteChanged();g.app.command("RemovePushpin").raiseCanExecuteChanged();g.app.command("RemovePushpins").raiseCanExecuteChanged()});this.app.command("ShowPushpins").raiseCanExecuteChanged();
this.app.command("HidePushpins").raiseCanExecuteChanged();this.app.command("AddPushpin").raiseCanExecuteChanged();this.app.command("AddPushpins").raiseCanExecuteChanged();this.app.command("RemovePushpin").raiseCanExecuteChanged();this.app.command("RemovePushpins").raiseCanExecuteChanged();this.enabled?this.app.command("EnablePushpins").execute():this.app.command("DisablePushpins").execute()};a.prototype.getStateFilter=function(){return{enabled:!0,visible:!0,results:this.app.project.filter.featureSetCollection,
pushpins:{item:this.app.project.filter.feature},resultsView:!0}};a.prototype.exportState=function(){var a=this;return Promise["try"](function(){var g=a.app.project.convert,b=a._getPushpinsLayer(),e=b.graphics.map(function(g){return a._getBackingFeature(g)});return{enabled:a.enabled,visible:b.visible,results:g.fromGcxFeatureSetCollection(a.featureSetCollection.get()),pushpins:e.map(function(a){return g.fromGcxFeature(a)}),resultsView:a._activeViewId}})};a.prototype.applyState=function(a){var g=this,
b=this.app.project.convert;return Promise["try"](function(){g._unsubscribeAll();g._pushpinsLayer&&g._pushpinsLayer.clear()}).then(function(){return g._initializePromise}).then(function(){return b.toGcxFeatureSetCollection(a.results)}).then(function(b){g.enabled=a.enabled;g.featureSetCollection.set(b)}).then(function(){return k.mapSkipRejected(a.pushpins,function(a){return b.toGcxFeature(a).then(function(a){return g._addPushpin(a,!0)})})}).then(function(){g._orderPushpinCollection();g._activeViewId=
a.resultsView;g._subscribeAll();g._getPushpinsLayer().setVisibility(a.visible)})};a.prototype.isReady=function(){return this.enabled&&this.initialized&&!this.app.project.isLoading};a.prototype._registerCommands=function(){this.app.command("EnablePushpins").register(this,this._executeEnablePushpins);this.app.command("DisablePushpins").register(this,this._executeDisablePushpins);this.app.command("ShowPushpins").register(this,this._executeShowPushpins,this.isReady);this.app.command("HidePushpins").register(this,
this._executeHidePushpins,this.isReady);this.app.command("AddPushpin").register(this,this._addPushpin,this.isReady);this.app.command("AddPushpins").register(this,this._executeAddPushpins,this.isReady);this.app.command("RemovePushpin").register(this,this._executeRemovePushpin,this.isReady);this.app.command("RemovePushpins").register(this,this._executeRemovePushpins,this.isReady)};a.prototype._subscribeAll=function(){var a=this;this._unsubscribeAll();this._handles.appEvents=[];this._connectAppEvent("ResultsPageChangedEvent",
this._resultsPageChangedEventHandler);this._connectAppEvent("FSMCollectionRemovedEvent",this._fsmCollectionRemovedEventHandler);this._connectAppEvent("ResultsViewOpenedEvent",function(g){a._trackView(g);a.app.command("ShowPushpins").execute()});this.pushpinsRemainVisible?this._connectAppEvent("ResultsViewClosedEvent",function(g){g&&g.id===a._activeViewId&&a.app.command("HidePushpins").execute()}):this._connectAppEvent("ResultsViewCollapsedEvent",function(g){g&&g.id===a._activeViewId&&a.app.command("HidePushpins").execute()});
if(this.eventMappings)for(var g in this.eventMappings)if(this.eventMappings.hasOwnProperty(g)){var b=this._wireUpConfiguredEventHandler(g,this.eventMappings[g]);this._handles.appEvents.push({eventName:g,token:b})}if(this.app.site&&this.app.site.isInitialized)this._connectMapEvents(this.app.map);else this.app.event("SiteInitializedEvent").once(this,function(){return a._connectMapEvents(a.app.map)});this._connectAppEvent("FeatureDeletedEvent",function(g){g&&a._executeRemovePushpin(g)})};a.prototype._unsubscribeAll=
function(){this._disconnectMapEvents();this._disconnectFeatureSetChanges();this._disconnectAppEvents()};a.prototype._trackView=function(a){a&&(this._activeViewId=a.id)};a.prototype._executeEnablePushpins=function(){this.enabled=!0;this._subscribeAll();this.app.command("ShowPushpins").raiseCanExecuteChanged();this.app.command("HidePushpins").raiseCanExecuteChanged();this.app.command("AddPushpin").raiseCanExecuteChanged();this.app.command("AddPushpins").raiseCanExecuteChanged();this.app.command("RemovePushpin").raiseCanExecuteChanged();
this.app.command("RemovePushpins").raiseCanExecuteChanged()};a.prototype._executeDisablePushpins=function(){this.enabled=!1;this._unsubscribeAll();if(this.app.map){var a=this._getPushpinsLayer();a.clear();a.hide()}this.app.command("ShowPushpins").raiseCanExecuteChanged();this.app.command("HidePushpins").raiseCanExecuteChanged();this.app.command("AddPushpin").raiseCanExecuteChanged();this.app.command("AddPushpins").raiseCanExecuteChanged();this.app.command("RemovePushpin").raiseCanExecuteChanged();
this.app.command("RemovePushpins").raiseCanExecuteChanged()};a.prototype._executeShowPushpins=function(){this._setPushpinsVisibility(!0)};a.prototype._executeHidePushpins=function(){this._setPushpinsVisibility(!1)};a.prototype._executeAddPushpins=function(a){a=this.app.featureSetManager.getCollectionById(a);this.featureSetCollection.set(a)};a.prototype._executeRemovePushpins=function(){this.featureSetCollection.set(null)};a.prototype._setPushpinsVisibility=function(a){this._getPushpinsLayer().setVisibility(a);
this.app.command("ShowPushpins").raiseCanExecuteChanged();this.app.command("HidePushpins").raiseCanExecuteChanged()};a.prototype._connectAppEvent=function(a,g){var b=this.app.event(a).subscribe(this,g);this._handles.appEvents.push({eventName:a,token:b})};a.prototype._disconnectAppEvents=function(){if(this._handles.appEvents)for(var a=0;a<this._handles.appEvents.length;a++){var g=this._handles.appEvents[a];this.app.event(g.eventName).unsubscribe(g.token)}this._handles.appEvents=null};a.prototype._connectMapEvents=
function(a){var g=this;this._handles.mapEvents=[a.on("layer-add-result",function(a){g.initialized&&g.enabled&&a.layer&&g._pushpinsLayer&&a.layer.id!==g._pushpinsLayer.id&&g._movePushpinsToFront()}),a.on("layer-remove",function(a){g.initialized&&g.enabled&&a.layer&&g._pushpinsLayer&&a.layer.id!==g._pushpinsLayer.id&&g._movePushpinsToFront()}),a.on("layers-reordered",function(a){g.initialized&&g.enabled&&g._movePushpinsToFront()})]};a.prototype._disconnectMapEvents=function(){this._handles.mapEvents&&
dojo.forEach(this._handles.mapEvents,function(a,g){a.remove()});this._handles.mapEvents=null};a.prototype._connectFeatureSetChanges=function(a){for(var g=this,b=0;b<a.featureSets.getLength();b++){var e=a.featureSets.getAt(b);if(!this._handles.fsEvents.some(function(a){return a.collection===e.features})){var f=e.features.bind(this,function(b){return g._featureSetChanged(a.id,b)});this._handles.fsEvents.push({collection:e.features,token:f})}}};a.prototype._disconnectFeatureSetChanges=function(a){a=
a?a.featureSets.getRange(0):null;for(var g=0;g<this._handles.fsEvents.length;g++){var b=this._handles.fsEvents[g];!b.collection||a&&a.some(function(a){return a.features===b.collection})||(b.collection.unbind(b.token),this._handles.fsEvents.splice(g,1),g--)}};a.prototype._movePushpinsToFront=function(){if(this._pushpinsLayer){var a=this.app.map.graphicsLayerIds.length-1;null!=this.app.map.getLayer(this._pushpinsLayer.id)&&this.app.map.graphicsLayerIds[a]!==this._pushpinsLayer.id&&(this._disconnectMapEvents(),
this.app.map.reorderLayer(this._pushpinsLayer,a),this._connectMapEvents(this.app.map))}};a.prototype._wireUpConfiguredEventHandler=function(a,g){var b=this;return this.app.event(a).subscribe(this,function(a){var d=null;a&&(a instanceof esri.Graphic?d=b._getBackingFeature(a):a instanceof f.infrastructure.Feature&&(d=a));b._executeMappedCommands(g,d)})};a.prototype._executeMappedCommands=function(a,g){if("string"===typeof a)this.app.command(a).execute(g);else if(a instanceof Array)for(var b=0;b<a.length;b++)this.app.command(a[b]).execute(g)};
a.prototype._getPushpinsLayer=function(){this._pushpinsLayer||(this._pushpinsLayer=this.app.map.getLayer(a.DEFAULT_PUSHPINS_LAYER_NAME));this._pushpinsLayer||(this._pushpinsLayer=new esri.layers.GraphicsLayer({id:a.DEFAULT_PUSHPINS_LAYER_NAME}),this.app.map.addLayer(this._pushpinsLayer),this._attachMouseEventHandlers(this._pushpinsLayer),this._pushpinsLayer.hide());return this._pushpinsLayer};a.prototype._attachMouseEventHandlers=function(a){var g=this;a=a.getNode();$(a).on("click",function(a){g._getGraphicFromJQueryEvent(a,
function(d){g.app.event("PushpinClickedEvent").publish(d);"function"===typeof a.preventDefault&&"function"===typeof a.stopPropagation&&(a.preventDefault(),a.stopPropagation())})});$(a).on("mousedown",function(a){g._getGraphicFromJQueryEvent(a,function(d){0==a.button?g.app.event("PushpinMouseLeftButtonDownEvent").publish(d):2==a.button&&g.app.event("PushpinMouseRightButtonDownEvent").publish(d)})});$(a).on("mouseup",function(a){g._getGraphicFromJQueryEvent(a,function(d){0==a.button?g.app.event("PushpinMouseLeftButtonUpEvent").publish(d):
2==a.button&&g.app.event("PushpinMouseRightButtonUpEvent").publish(d)})});$(a).on("mouseenter",function(a){g._getGraphicFromJQueryEvent(a,function(a){g.app.event("PushpinMouseEnterEvent").publish(a)})});$(a).on("mouseleave",function(a){g._getGraphicFromJQueryEvent(a,function(a){g.app.event("PushpinMouseLeaveEvent").publish(a)})});this._linkBehaviorsToEvents()};a.prototype._linkBehaviorsToEvents=function(){var a=this;this.app.event("PushpinClickedEvent").subscribe(this,function(g){a.app.behavior("PushpinClickedBehavior").run(g.attributes.Feature)});
this.app.event("PushpinMouseLeftButtonDownEvent").subscribe(this,function(g){a.app.behavior("PushpinMouseLeftButtonDownBehavior").run(g.attributes.Feature)});this.app.event("PushpinMouseRightButtonDownEvent").subscribe(this,function(g){a.app.behavior("PushpinMouseRightButtonDownBehavior").run(g.attributes.Feature)});this.app.event("PushpinMouseLeftButtonUpEvent").subscribe(this,function(g){a.app.behavior("PushpinMouseLeftButtonUpBehavior").run(g.attributes.Feature)});this.app.event("PushpinMouseRightButtonUpEvent").subscribe(this,
function(g){a.app.behavior("PushpinMouseRightButtonUpBehavior").run(g.attributes.Feature)});this.app.event("PushpinMouseEnterEvent").subscribe(this,function(g){a.app.behavior("PushpinMouseEnterBehavior").run(g.attributes.Feature)});this.app.event("PushpinMouseLeaveEvent").subscribe(this,function(g){a.app.behavior("PushpinMouseLeaveBehavior").run(g.attributes.Feature)})};a.prototype._getGraphicFromJQueryEvent=function(a,g){if(a.originalEvent){var b=a.originalEvent.graphic;null!==b&&"undefined"!==typeof b||
!a.originalEvent.srcElement||(b=a.originalEvent.srcElement.e_graphic);-1!=$.inArray(b,this._pushpinsLayer.graphics)&&g(b)}};a.prototype._handleCollectionChanged=function(a){if(!this.app.project.isLoading&&(this._getPushpinsLayer().clear(),this._disconnectFeatureSetChanges(a),a&&0<a.featureSets.getLength()&&!1!==a.getExtendedPropertyByName("ShowPushpins"))){for(var g=0;g<a.featureSets.getLength();g++)this._addPushpinsForFS(a.featureSets.getAt(g));this._orderPushpinCollection();this._connectFeatureSetChanges(a)}};
a.prototype._resultsPageChangedEventHandler=function(a){if(this.featureSetCollection.get()&&a&&a.featureSetCollection&&a.featureSetCollection.id==this.featureSetCollection.get().id&&!this.app.project.isLoading&&(this._getPushpinsLayer().clear(),this._disconnectFeatureSetChanges(a.featureSetCollection),!1!==a.featureSetCollection.getExtendedPropertyByName("ShowPushpins"))){for(var g=0;g<a.newValue.getLength();g++)this._addPushpin(a.newValue.getAt(g));this._orderPushpinCollection();this._connectFeatureSetChanges(a.featureSetCollection)}};
a.prototype._featureSetChanged=function(a,g){var b=this;if(!this.app.project.isLoading&&this.isReady()&&this.featureSetCollection.get()&&a&&a==this.featureSetCollection.get().id)if("append"===g.type||"insert"===g.type){for(var e=g.rangeStart;e<=g.rangeEnd;e++){var f=g.sender.getAt(e);this._addPushpin(f)}this._orderPushpinCollection()}else"remove"!==g.type&&"clear"!==g.type||setTimeout(function(){b.featureSetCollection.get().featureSets.pulse()},0)};a.prototype._fsmCollectionRemovedEventHandler=function(a){!this.app.project.isLoading&&
this.featureSetCollection.get()&&a&&a.featureSetCollectionId&&a.featureSetCollectionId==this.featureSetCollection.get().id&&(this._disconnectFeatureSetChanges(),this._getPushpinsLayer().clear(),this.featureSetCollection.set(null))};a.prototype._addPushpinsForFS=function(a){if(a&&a.features)for(var g=0;g<a.features.getLength();g++)this._addPushpin(a.features.getAt(g))};a.prototype._addPushpin=function(a,g){void 0===g&&(g=!1);if((this.isReady()||g)&&a&&a.esriFeature.get()&&a.hasValidGeometry.get()){var b=
f.infrastructure.GeometryUtils.getMiddle(a.esriFeature.get().geometry);b&&(b=new esri.Graphic(b,this._cachedSymbol,{Feature:a},null),this._getPushpinsLayer().add(b))}};a.prototype._executeRemovePushpin=function(a){if(a){var g=a instanceof f.infrastructure.Feature?a.esriFeature.get():a;if(this.isReady()&&g)for(var b=this._getPushpinsLayer(),e=0;e<b.graphics.length;e++){var l=b.graphics[e],m=l.attributes.Feature;if(m===a||m&&f.infrastructure.MapUtils.esriFeaturesEqual(g,m.esriFeature.get())){b.remove(l);
break}}}};a.prototype._getBackingFeature=function(d){return d&&d.getLayer()&&d.getLayer().id===a.DEFAULT_PUSHPINS_LAYER_NAME&&d.attributes&&d.attributes.hasOwnProperty("Feature")?d.attributes.Feature:null};a.prototype._orderPushpinCollection=function(){var a=this._getPushpinsLayer().graphics.slice(0);a&&0<a.length&&(a.sort(function(a,d){var b=a.geometry,e=d.geometry;return null==b&&null==e?0:null==b?e.y-0||0-e.x:null==e?0-b.y||b.x-0:e.y-b.y||b.x-e.x}),dojo.forEach(a,function(a,d){var b=a?a.getShape():
null;b&&"function"===typeof b.moveToFront&&b.moveToFront()}))};a.prototype._getPushpinSymbolAsync=function(a,g,b,e,f){var h=this,l=new dojo.Deferred;this._cachedSymbol&&this._cachedSymbol.url===a&&this._cachedSymbol.width===g&&this._cachedSymbol.height===b&&this._cachedSymbol.xoffset===e&&this._cachedSymbol.yoffset===f?l.resolve(this._cachedSymbol):this._checkImageExists(a).then(function(m){var k=null;m&&m.exists?(k=new esri.symbol.PictureMarkerSymbol(m.url,g||h.pushpinMarkerWidth,b||h.pushpinMarkerHeight),
k.setOffset(e||h.offsetX,f||h.offsetY)):(h.app.trace.warning("Could not load pushpin image at {0}. The default marker image will be used.".format(a)),k=h._defaultPushpinSymbol);l.resolve(k)},function(g){h.app.trace.warning("Could not load pushpin image at {0}. The default marker image will be used.".format(a));l.resolve(h._defaultPushpinSymbol)});return l};a.prototype._checkImageExists=function(a){var g=this,b=new dojo.Deferred;if(!a||this._imageUrlErrors[a])b.resolve({url:a,exists:!1});else{var e=
new Image;e.onload=function(){b.resolve({url:a,exists:!0})};e.onerror=function(){g._imageUrlErrors[a]=!0;b.resolve({url:a,exists:!1})};e.src=a;e.complete&&(e.onload=null,b.resolve({url:a,exists:!0}))}return b};a.DEFAULT_PUSHPIN_MARKER_URI="Resources/Images/Pushpins/map-marker-red-32.png";a.DEFAULT_PUSHPINS_LAYER_NAME="DefaultPushpinsLayer";return a}(e.framework.application.ModuleBase);m.PushpinsModule=l})(k.pushpins||(k.pushpins={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(m){var k=function(l){function b(){l.apply(this,arguments)}__extends(b,l);b.prototype.initialize=function(a){this._config=a;this.app.command("LaunchBarcodeScannerWithCallback").register(this,this._executeLaunchBarcodeScanner);this.app.event("NativeMessageEvent").subscribe(this,this._handleNativeMessageEvent);this.app.event("_HtmlBarcodeScannerResult").subscribe(this,this._handleHtmlBarcodeScanner)};b.prototype._executeLaunchBarcodeScanner=
function(a){this.lastCallback=a;!1!==this._config.allowHtmlScanner&&Modernizr.getusermedia&&Modernizr.webworkers?this.app.command("ActivateView").execute(this._config.htmlScannerView):!1!==this._config.allowNativeScanner&&e.GeocortexNativeApp&&e.GeocortexNativeApp.launchBarcodeScanner?e.GeocortexNativeApp.launchBarcodeScanner():(this.app.trace.warning("Could not launch a QR scanner."),this.app.command("AddStatus").execute(new f.infrastructure.commandArgs.AddStatusArgs(this.getResource("language-barcode-scanner-unavailable"))))};
b.prototype._handleNativeMessageEvent=function(a){"BarcodeScanResult"===a.type&&this.lastCallback&&(this.lastCallback(a.parameters),this.lastCallback=null)};b.prototype._handleHtmlBarcodeScanner=function(a){this.lastCallback&&(this.lastCallback({status:"Success",content:a.value}),this.lastCallback=null)};return b}(e.framework.application.ModuleBase);m.BarcodeScannerModule=k})(k.barcodescanner||(k.barcodescanner={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.getStateFilter=function(){return{queries:{item:this._getQueryStateFilter()},filters:{item:this._getQueryStateFilter()}}};b.prototype.exportState=function(){var a=this,d={queries:[],filters:[]};return Promise["try"](function(){a.app.command("_ExportQueryBuilderState").execute(d);return d})};b.prototype.applyState=function(a){var d=this,g={state:a,completePromises:[]};
return this.app.waitUntilAllLibrariesLoaded().then(function(){d.app.command("_ApplyQueryBuilderState").execute(g);return Promise.all(g.completePromises)})["return"]()};b.prototype._getQueryStateFilter=function(){return{layer:this.app.project.filter.layer,clauses:{item:{field:!0,operator:!0,value:!0}},where:!0}};return b}(e.framework.application.ModuleBase);f.QueryBuilderModule=h})(f.queryBuilder||(f.queryBuilder={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(m){var k=function(l){function b(a,d){var g=this;l.call(this,a,d);this.app.command("PrintMap").register(this,function(){g.viewModel.printComplete.set(!1);g.app.viewManager.activateView(g);g.app.configuration.mobileMode||g.initializePrintPreview()},function(){return g.app.site&&g.app.site.hasPrintTemplates});var b=this.app.site;if(b&&b.isInitialized)this.siteInitializedEvent();else this.app.event("SiteInitializedEvent").once(this,this.siteInitializedEvent)}
__extends(b,l);b.prototype.attach=function(a){l.prototype.attach.call(this,a);this.viewModel.printPreviewIsLocked.bind(this,this.lockModeHasChanged)};b.prototype.siteInitializedEvent=function(){var a=this;this.viewModel.previewIsEnabled.set(f.infrastructure.distances.canConvert(this.app.site.essentialsMap.units.type.replace("_",""),e.essentials.DistanceUnitType.INCHES));this.viewModel.previewIsEnabled.get()&&(this.app.event("PrintTemplateStartedEvent").subscribe(this,this.hidePrintPreview),this.app.event("PrintTemplateCompletedEvent").subscribe(this,
this.printTemplateCompletedEvent),this.app.configuration.mobileMode&&this.app.event("DataFrameOpenedEvent").subscribe(this,function(d){a.bottomPanelPercHeight=d;var g=document.body.clientHeight;a.adaptMapScale(g-g*d)}));this.viewModel.siteInitialized()};b.prototype.initializePrintPreview=function(){this.viewModel.previewIsEnabled.get()&&(this.viewModel.previewIsVisible.get()?this.addGraphicPrintPreview():(this.viewModel.setScales(this.viewModel.selectedTemplate.get()),this.viewModel.printPreviewIsLocked.set(!0),
this.viewModel.graphic||this.addGraphicPrintPreview()))};b.prototype.activated=function(){this.viewIsActivated=!0;this.viewModel.printPreviewLockTogglerIsDisabled.set(!1)};b.prototype.deactivated=function(){this.viewIsActivated=!1;this.viewModel.previewIsEnabled.get()&&this.resetPrintPreview();this.app.configuration.mobileMode||this.app.command("DeactivateView").execute("UnlockedPrintPreviewView")};b.prototype.printTemplateCompletedEvent=function(){this.viewModel.printPreviewIsLocked.get()&&this.addGraphicPrintPreview({scale:this.viewModel.printPreviewScale,
extent:this.viewModel.printPreviewExtent})};b.prototype.handleTemplateSelectionChanged=function(a,d,g){this.viewModel.updatePrintTemplate();this.viewModel.previewIsVisible.get()&&this.viewModel.previewIsEnabled.get()&&this.viewModel.printPreviewIsLocked.get()&&this.addGraphicPrintPreview();this.app.event("PrintPreviewLayoutChangedEvent").publish()};b.prototype.handleScaleSelectionChanged=function(a,d,g){var b=this;setTimeout(function(){b.viewModel.previewIsVisible.get()&&b.viewModel.previewIsEnabled.get()&&
b.viewModel.printPreviewIsLocked.get()&&b.addGraphicPrintPreview();var a=parseFloat(b.viewModel.selectedScale.get().scale);a?(b.app.command("ZoomToScale").execute(a),b.viewModel.printPreviewLockTogglerIsDisabled.get()&&b.viewModel.printPreviewLockTogglerIsDisabled.set(!1)):(b.viewModel.printPreviewLockTogglerIsDisabled.set(!0),b.viewModel.printPreviewIsLocked.get()&&b.viewModel.printPreviewIsLocked.set(!1));b.app.event("PrintPreviewScaleChangedEvent").publish()});return!0};b.prototype.handlePrintClick=
function(a,d,g){this.viewModel.performPrint()};b.prototype.handleOpenFileClick=function(a,d,g){window.open(this.viewModel.url.get());this.viewModel.printComplete.set(!1)};b.prototype.lockModeHasChanged=function(a){this.viewModel.printPreviewIsLocked.get()?this.addGraphicPrintPreview({extent:this.viewModel.printPreviewExtent}):this.hidePrintPreview()};b.prototype.handleReCenterClick=function(a,d,g){this.viewModel.previewIsEnabled.get()&&this.addGraphicPrintPreview({adaptMapScale:this.app.configuration.mobileMode})};
b.prototype.handleCancelClick=function(){this.app.viewManager.deactivateView(this)};b.prototype.handleTogglePreviewClick=function(){this.viewModel.previewIsVisible.get()?this.hidePrintPreview():this.viewModel.graphic?this.showPrintPreview():this.addGraphicPrintPreview({adaptMapScale:this.app.configuration.mobileMode})};b.prototype.resetPrintPreview=function(){this.hidePrintPreview();this.imageGraphic=this.viewModel.graphic=null;this.viewModel.printPreviewExtent=null;this.viewModel.printPreviewScale=
null};b.prototype.showPrintPreview=function(){this.viewModel.previewIsVisible.set(!0);this.viewModel.graphic&&this.app.map.graphics.add(this.viewModel.graphic);this.imageGraphic&&this.app.map.graphics.add(this.imageGraphic)};b.prototype.hidePrintPreview=function(){this.viewModel.previewIsVisible.set(!1);this.viewModel.graphic&&this.app.map.graphics.remove(this.viewModel.graphic);this.imageGraphic&&this.app.map.graphics.remove(this.imageGraphic)};b.prototype.addGraphicPrintPreview=function(a){a||(a=
{});this.resetPrintPreview();var d=a.extent?a.extent.getCenter():this.app.map.extent.getCenter(),g=a.scale?a.scale:parseFloat(this.viewModel.selectedScale.get().scale);g||(this.viewModel.printPreviewScale=null);var b=this.viewModel.calculateWidthAndHeightFromSelectedPrintTemplate(g);this.viewModel.graphic=this.viewModel.getGraphicFromPrintTemplate(d,b.width,b.height);this.app.map.graphics.add(this.viewModel.graphic);this.imageGraphic=new esri.Graphic;this.imageGraphic.setSymbol(this.viewModel.imageSymbol);
this.imageGraphic.setGeometry(d);this.app.map.graphics.add(this.imageGraphic);this.imageGraphic.show();this.viewModel.previewIsVisible.set(!0);this.viewModel.printPreviewExtent=this.viewModel.graphic.geometry.getExtent();this.viewModel.printPreviewScale=g;if(this.app.configuration.mobileMode&&this.bottomPanelPercHeight)var d=document.body.clientHeight,e=d-d*this.bottomPanelPercHeight;else this.app.configuration.mobileMode||(e=this.app.map.height);a.adaptMapScale&&e&&this.adaptMapScale(e)};b.prototype.adaptMapScale=
function(a){var d=this.app.map.getScale();if(f.infrastructure.MapUtils.getClosestScale(this.app.map,f.infrastructure.MapUtils.ScaleChangeMode.GreaterThan,d+1)!==d+1&&this.viewModel.graphic&&this.viewModel.previewIsVisible.get()){var g=this.viewModel.getGraphicPositionFromExtent(this.viewModel.printPreviewExtent),b=g.width>g.height?g.height:g.width,g=b/1,e;if(b>a){for(;a<g;)e=f.infrastructure.MapUtils.getClosestScale(this.app.map,f.infrastructure.MapUtils.ScaleChangeMode.GreaterThan,d+1),d=e/d,g/=
d,d=e;this.app.command("ZoomToScale").execute(e)}}};return b}(e.framework.ui.ViewBase);m.PrintingView=k})(k.printing||(k.printing={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(m){var k=function(l){function b(a,d){l.call(this,a,d);this.printTemplates=new ObservableCollection;this.outputFormats=new ObservableCollection;this.resolutions=new ObservableCollection;this.scales=new ObservableCollection;this.grids=new ObservableCollection;this.textFields=new ObservableCollection;this.textFied=new Observable(null);this.selectedTemplate=new Observable(null);this.selectedScale=new Observable(null);this.selectedResolution=
new Observable(null);this.selectedFormat=new Observable(null);this.selectedGrid=new Observable(null);this.supportsEmailNotification=new Observable(!1);this.validEmailAddressSupplied=new Observable(!1);this.emailAddress=new Observable(null);this.isPrinting=new Observable(!1);this.printComplete=new Observable(!1);this.isMapLoaded=new Observable(!1);this.url=new Observable(null);this.previewIsVisible=new Observable(!1);this.printPreviewIsLocked=new Observable(!0);this.previewIsEnabled=new Observable(!1);
this.printPreviewLockTogglerIsDisabled=new Observable(!1);this.mobileMode=new Observable(this.app.configuration.mobileMode)}__extends(b,l);b.prototype.initialize=function(a){var d=a.previewBackgroundColor||[207,76,64,0.3],g=a.previewBorderThickness||2;this.printPreviewSymbol=new esri.symbol.SimpleFillSymbol(esri.symbol.SimpleFillSymbol.STYLE_SOLID,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color(a.previewBorderColor||[128,128,128]),g),new esri.Color(d));this.imageSymbol=
new esri.symbol.PictureMarkerSymbol(a.previewCenterImageUrl||"Resources/Images/center-cross-32.png",32,32)};b.prototype.siteInitialized=function(){if(this.app.site&&this.app.site.hasPrintTemplates){this.printTemplates.addItems(this.app.site.printTemplates);for(var a=this.printTemplates.getLength()-1;0<=a;a--)!1===this.printTemplates.getAt(a).visible?this.printTemplates.removeAt(a):!0===this.printTemplates.getAt(a).isDefault&&this.selectedTemplate.set(this.printTemplates.getAt(a));null===this.selectedTemplate.get()&&
this.selectedTemplate.set(this.printTemplates.getAt(0));this.updatePrintTemplate()}this.isMapLoaded.set(!0);this.app.command("PrintMap").raiseCanExecuteChanged()};b.prototype.performPrint=function(){var a=this;this.isPrinting.set(!0);var d=this.selectedTemplate.get();this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-is-printing"));var g=new e.essentials.ReportParameters;g.outputFormat=this.selectedFormat.get();g.resolution=this.selectedResolution.get();
g.grid=this.selectedGrid.get();g.fields=d.textFields;g.customExtent=this.printPreviewExtent;g.scale=this.selectedScale.get();if(g.scale.scale){var b=parseFloat(g.scale.scale);g.scale.scale=b.toFixed(6)}g.extentType=""===g.scale.scale?e.essentials.ReportParameters.CURRENT_EXTENT:e.essentials.ReportParameters.CUSTOM_EXTENT;this.supportsEmailNotification.get()&&(String.isNullOrEmpty(this.emailAddress.get())?this.validEmailAddressSupplied.set(!1):(g.notificationEmailAddress=this.emailAddress.get(),this.validEmailAddressSupplied.set(!0)));
this.app.event("PrintTemplateStartedEvent").publish(d);b=new e.essentials.exportMap.ExportMapParameters;b.reportParameters=g;(new e.essentials.exportMap.ExportMapTask(d)).generateMapImageUrl(b).then(function(d){return a._printSuccess(d)},function(d){return a._printError(d)})};b.prototype._printError=function(a){this.app.command("Alert").execute("Print error: "+a.message);this.app.command("ScreenReaderNarrate").execute("Print error: "+a.message);this.isPrinting.set(!1)};b.prototype._printSuccess=function(a){this.isPrinting.set(!1);
this.url.set(a.href);this.printComplete.set(!0);this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-print-complete-description"));this.app.command("LogOptimizerEvent").execute("PrintMap",this.selectedTemplate.get().displayName);this.app.event("PrintTemplateCompletedEvent").publish(this.selectedTemplate.get())};b.prototype.updatePrintTemplate=function(){var a=this.selectedTemplate.get();a&&(this.setOutputFormats(a),this.setResolutions(a),this.setGrids(a),this.setScales(a),
this.setTextFields(a),this.setEmailNotification(a))};b.prototype.setOutputFormats=function(a){this.outputFormats.clear();a.supportedOutputFormats&&(this.outputFormats.addItems(a.supportedOutputFormats),a.defaultOutputFormat?this.selectedFormat.set(a.defaultOutputFormat):this.selectedFormat.set(this.outputFormats.getAt(0)))};b.prototype.setResolutions=function(a){this.resolutions.clear();a.supportedResolutions&&(this.resolutions.addItems(a.supportedResolutions),a.defaultResolution?this.selectedResolution.set(a.defaultResolution):
this.selectedResolution.set(this.resolutions.getAt(0)))};b.prototype.setGrids=function(a){this.grids.clear();if(a.grids&&a.grids.length){var d=this.app.getResource(this.libraryId,"language-printing-none");this.grids.addItem({id:null,displayName:d});this.grids.addItems(a.grids);a.defaultGrid?this.selectedGrid.set(a.defaultGrid):this.selectedGrid.set(this.grids.getAt(0))}};b.prototype.setScales=function(a){this.scales.clear();var d=this.app.getResource(this.libraryId,"language-printing-current-scale"),
g=esri.geometry.getScale(this.app.map),b={displayName:d+" - 1: "+Math.round(g),scale:g.toString()};this.scales.addItem({displayName:d+" - 1: "+Math.round(g),scale:g.toString()});d={displayName:this.app.getResource(this.libraryId,"language-printing-current-extent"),scale:""};this.scales.addItem(d);a.supportedMapScales&&a.supportedMapScales.length&&this.scales.addItems(a.supportedMapScales);this.selectedScale.set(this.scales.getAt(0));a.defaultMapScale?this.selectedScale.set(a.defaultMapScale):a.defaultMapScaleName&&
("Current Extent"===a.defaultMapScaleName?this.selectedScale.set(d):"Current Scale"===a.defaultMapScaleName&&this.selectedScale.set(b))};b.prototype.setTextFields=function(a){this.textFields.clear();if(a.textFields&&0<a.textFields.length){for(var d=[],g=0;g<a.textFields.length;g++){var b=a.textFields[g],e={},f;for(f in b)if(b.hasOwnProperty(f)){var h=this._setupObservablePrimitive(h,f,b);e[f]=h}d.push(new Observable(e))}this.textFields.addItems(d)}};b.prototype.adjustCustomExtent=function(a,d,g){var b=
a.getWidth(),e=a.getHeight(),f=b/e;d/=g;d!==f&&(f>d?(e=b,b/=d):(b=e,e*=d),f=a.getCenter(),e/=2,b/=2,a=new esri.geometry.Extent(f.x-e,f.y-b,f.x+e,f.y+b,a.spatialReference));return a};b.prototype.getGraphicFromPrintTemplate=function(a,d,g){var b=new esri.geometry.Polygon(this.app.map.spatialReference),e=[];e.push(new esri.geometry.Point(a.x-d/2,a.y-g/2));e.push(new esri.geometry.Point(a.x-d/2,a.y+g/2));e.push(new esri.geometry.Point(a.x+d/2,a.y+g/2));e.push(new esri.geometry.Point(a.x+d/2,a.y-g/2));
e.push(new esri.geometry.Point(a.x-d/2,a.y-g/2));b.addRing(e);return new esri.Graphic(b,this.printPreviewSymbol)};b.prototype.getGraphicPositionFromExtent=function(a){var d=this.app.map.toScreen(new esri.geometry.Point(a.xmin,a.ymax,this.app.map.spatialReference));a=this.app.map.toScreen(new esri.geometry.Point(a.xmax,a.ymin,this.app.map.spatialReference));return{top:d.y,left:d.x,width:a.x-d.x,height:a.y-d.y}};b.prototype.calculateWidthAndHeightFromSelectedPrintTemplate=function(a){var d;a?(d=f.infrastructure.distances.convert(this.app.site.essentialsMap.units.type.replace("_",
""),this.selectedTemplate.get().mainMapWidth*a,e.essentials.DistanceUnitType.INCHES),a=f.infrastructure.distances.convert(this.app.site.essentialsMap.units.type.replace("_",""),this.selectedTemplate.get().mainMapHeight*a,e.essentials.DistanceUnitType.INCHES)):(a=this.adjustCustomExtent(this.app.map.extent,this.selectedTemplate.get().mainMapWidth,this.selectedTemplate.get().mainMapHeight),d=a.getWidth(),a=a.getHeight());return{width:d,height:a}};b.prototype.calculateExtentFromPrintTemplate=function(a,
d){d=d||parseFloat(this.selectedScale.get().scale);var g=this.calculateWidthAndHeightFromSelectedPrintTemplate(d),b=new esri.geometry.Point(a.x-g.width/2,a.y+g.height/2),g=new esri.geometry.Point(a.x+g.width/2,a.y-g.height/2);return new esri.geometry.Extent(b.x,g.y,g.x,b.y,this.app.map.spatialReference)};b.prototype._setupObservablePrimitive=function(a,d,g){a=new Observable(g[d]);a.set=function(b){g[d]=b;a.value=b;a.bindingEvent.publish(b)};a.get=function(){return g[d]};return a};b.prototype.setEmailNotification=
function(a){this.supportsEmailNotification.set(a.supportsEmailNotification)};return b}(e.framework.ui.ViewModelBase);m.PrintingViewModel=k})(k.printing||(k.printing={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments);this.promptRegion="ModalWindowRegion";this.oldPrompt=null;this.overrideNativePrompt=!0}__extends(b,e);b.prototype.initialize=function(a){var d=this;e.prototype.initialize.call(this,a);this.promptRegion=a.promptRegion;this.oldPrompt=window.prompt;this.overrideNativePrompt=a.overrideNativePrompt;var g=function(a,g,b,e){if(!e)return d.oldPrompt(a,b);try{var f=d.app.viewManager.createView({type:"geocortex.essentialsHtmlViewer.mapping.modules.prompt.PromptView",
markup:"Mapping/modules/Prompt/PromptView.html",visible:!1,region:d.promptRegion,libraryId:d.libraryId}),h={title:a,description:g,defaultText:b,callback:e,promptText:new Observable(b)};f.attach(h);f.title.set(a);d.app.viewManager.activateView(f)}catch(l){d.app.trace.error("Error: Could not display prompt: "+l)}};this.overrideNativePrompt&&(window.prompt=g);this.app.command("Prompt").register(this,function(a,b,e,f){a||(a=d.app.getResource(d.libraryId,"language-prompt-default-title"));f||(f=function(){});
g(a,b,e,f)})};return b}(e.framework.application.ModuleBase);f.PromptModule=h})(f.prompt||(f.prompt={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments);this.promptResult=null}__extends(b,e);b.prototype.attach=function(a){e.prototype.attach.call(this,a);this.promptResult=null;this.title.set(a.promptTitle);if(this.okButtonElement)try{this.okButtonElement.focus()}catch(d){}this.viewContainerViewClosedEventToken||(this.viewContainerViewClosedEventToken=this.app.event("ViewContainerViewClosedEvent").subscribe(this,function(a){a&&a.viewId===
this.id&&this._deactivateForUser()}))};b.prototype.destroyBindings=function(){e.prototype.destroyBindings.call(this);this.viewContainerViewClosedEventToken&&(this.app.event("ViewContainerViewClosedEvent").unsubscribe(this.viewContainerViewClosedEventToken),this.viewContainerViewClosedEventToken=null)};b.prototype.handleClickOk=function(a,d,g){this.viewModel&&(this.promptResult=this.viewModel.promptText.get());this._deactivateForUser();return!1};b.prototype.handleClickCancel=function(a,d,g){this.promptResult=
null;this._deactivateForUser();return!1};b.prototype._deactivateForUser=function(){this.app.viewManager.deactivateView(this);this.app.viewManager.destroyView(this);this.viewModel&&this.viewModel.callback&&this.viewModel.callback(this.promptResult)};return b}(e.framework.ui.ViewBase);f.PromptView=h})(f.prompt||(f.prompt={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(a,d){e.call(this,a,d)}__extends(b,e);b.prototype.activated=function(){e.prototype.activated.call(this)};b.prototype.attach=function(a){var d=this,g=this;e.prototype.attach.call(this,a);$(this.autoCompleteInput).autocomplete({minLength:0,source:function(a,g){d.getSuggestions(a,g)},appendTo:a.appendTo,position:{my:"right top",at:"right bottom",using:function(a){var d=$(this);d.css("top",a.top);d.css("right",
d.offsetParent().innerWidth()-(a.left+d.outerWidth()));d.css("left","auto")}}}).on("autocompleteselect",function(a,d){g.viewModel.value.set(d.item.value);return!0});$(this.autoCompleteInput).data("autocomplete")._resizeMenu=function(){var a=this.menu.element;this.options&&this.options.appendTo?(a.css("max-width",$(this.options.appendTo).width()),a.css("min-width",this.element.outerWidth()-6)):a.outerWidth(this.element.outerWidth())}};b.prototype.getSuggestions=function(a,d){var g=this,b=this.viewModel.queryClause.format(f.QueryOperator.StartsWith);
this.viewModel.queryClause.queryBuilderViewModel.getGeometryFilter().then(function(a){f.Query.getSuggestions(g.viewModel.queryClause.layer,g.viewModel.queryClause.selectedField,b,a).then(function(a){d(a)})})};b.prototype.dispose=function(){$(this.autoCompleteInput).remove()};b.prototype.autoComplete_focus=function(a,d,g){$(d).val()||$(d).autocomplete("search","")};b.prototype.autoComplete_blur=function(a,d,g){$(d).autocomplete("widget").hide()};return b}(e.framework.ui.ViewBase);f.AutoCompleteView=
h})(f.queryBuilder||(f.queryBuilder={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments);this.value=new Observable}__extends(b,e);return b}(e.framework.ui.ViewModelBase);f.AutoCompleteViewModel=h})(f.queryBuilder||(f.queryBuilder={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(){function e(a){this.settings={};this.settings=a}e.prototype.getFormatter=function(e){return 0<=e.dataProvider.search(/^Db2$/i)?new b(this.settings):0<=e.dataProvider.search(/^FileGdb$/i)?new a(this.settings):0<=e.dataProvider.search(/^Informix$/i)?new d(this.settings):0<=e.dataProvider.search(/^MsAccess$/i)?new g(this.settings):0<=e.dataProvider.search(/^Oracle$/i)?new n(this.settings):0<=e.dataProvider.search(/^PostgreSql/i)?
new q(this.settings):0<=e.dataProvider.search(/^Shapefile/i)?new r(this.settings):0<=e.dataProvider.search(/^SqlServer/i)?new B(this.settings):"WMS"==e.serviceLayerInfo.serviceType?new y(this.settings):new l(this.settings)};return e}();f.QueryFormatterFactory=k;var l=function(){function a(d){this._settings=d||{}}a.prototype.wildcard=function(){return this._settings.wildcard||"%"};a.prototype.dateQueryFormat=function(){return this._settings.dateQueryFormat||"DATE '{0:yyyy-MM-dd}'"};a.prototype.textComparisonQueryFormat=
function(){return this._settings.textComparisonQueryFormat||"LOWER({0}) LIKE LOWER({1})"};a.prototype.numberToTextComparisonQueryFormat=function(){return this._settings.numberToTextComparisonQueryFormat||"CAST({0} AS VARCHAR(50)) LIKE '{1}'"};a.prototype.doesNotContainQueryFormat=function(){return this._settings.doesNotContainQueryFormat||"LOWER({0}) NOT LIKE LOWER({1})"};a.prototype.supportsTimeOfDay=function(){return void 0!=this._settings.queryProviderSupportsTimeOfDay?this._settings.queryProviderSupportsTimeOfDay:
!1};a.prototype.format=function(a,d,g){var b=[f.QueryOperator.Contains,f.QueryOperator.DoesNotContain,f.QueryOperator.StartsWith,f.QueryOperator.EndsWith],e=[f.QueryOperator.IsNull,f.QueryOperator.IsNotNull];if(0<=dojo.indexOf([f.QueryOperator.Equals,f.QueryOperator.NotEquals,f.QueryOperator.LessThan,f.QueryOperator.LessThanEquals,f.QueryOperator.GreaterThan,f.QueryOperator.GreaterThanEquals],d))return this.formatComparison(a,d,g);if(0<=dojo.indexOf(b,d))return this.formatPatternMatch(a,d,g);if(0<=
dojo.indexOf(e,d))return this.formatNull(a,d)};a.prototype.formatComparison=function(a,d,g){var b=this.formatField(a);d=this.formatComparisonOperator(d);a=this.formatValue(a,g);return"{0} {1} {2}".format(b,d,a)};a.prototype.formatPatternMatch=function(a,d,g){return d==f.QueryOperator.DoesNotContain?this.doesNotContainQueryFormat().format(this.formatField(a),this.formatValue(a,this.formatPattern(d,g))):a.isNumeric()?this.numberToTextComparisonQueryFormat().format(this.formatField(a),this.formatPattern(d,
this.formatValue(a,g))):this.textComparisonQueryFormat().format(this.formatField(a),this.formatValue(a,this.formatPattern(d,g)))};a.prototype.formatPattern=function(a,d){var g;switch(a){case f.QueryOperator.Contains:g="{0}{1}{0}";break;case f.QueryOperator.DoesNotContain:g="{0}{1}{0}";break;case f.QueryOperator.StartsWith:g="{1}{0}";break;case f.QueryOperator.EndsWith:g="{0}{1}";break;default:throw Error("Invalid pattern matching operator.");}return g.format(this.wildcard(),d)};a.prototype.formatNull=
function(a,d){if(d==f.QueryOperator.IsNull)return"{0} IS NULL".format(this.formatField(a));if(d==f.QueryOperator.IsNotNull)return"{0} IS NOT NULL".format(this.formatField(a));throw Error("Invalid operator.");};a.prototype.formatField=function(a){return a.name};a.prototype.formatComparisonOperator=function(a){switch(a){case f.QueryOperator.Equals:return"=";case f.QueryOperator.NotEquals:return"<>";case f.QueryOperator.LessThan:return"<";case f.QueryOperator.LessThanEquals:return"<=";case f.QueryOperator.GreaterThan:return">";
case f.QueryOperator.GreaterThanEquals:return">=";default:throw Error("Invalid binary comparison operator.");}};a.prototype.formatValue=function(a,d){return a.isNumeric()?this.formatNumericValue(d):a.isDate()?this.formatDateValue(d):this.formatTextValue(d)};a.prototype.formatNumericValue=function(a){var d=a||"";(a=e.infrastructure.FormatUtils.parseNumber(a))&&(d=e.infrastructure.FormatUtils.formatNumber(a,e.infrastructure.NumberFormat.ROUND_TRIP));return d};a.prototype.formatDateValue=function(a){a=
a||"";var d=FormatUtils.parseDate(a);d&&(a=this.dateQueryFormat().replace(/\{0:([^}]+)\}/,function(a,g){return e.infrastructure.FormatUtils.formatDate(d,g)}));return a.trim()};a.prototype.formatTextValue=function(a){a=(a||"").replace("'","''");return"'{0}'".format(a.trim())};return a}();f.QueryFormatter=l;var b=function(a){function d(g){a.call(this,g)}__extends(d,a);d.prototype.supportsTimeOfDay=function(){return!0};d.prototype.dateQueryFormat=function(){return"TO_DATE('{0:yyyy-MM-dd HH:mm:ss}','YYYY-MM-DD HH24:MI:SS')"};
return d}(l);f.Db2QueryFormatter=b;var a=function(a){function d(g){a.call(this,g)}__extends(d,a);d.prototype.supportsTimeOfDay=function(){return!0};d.prototype.dateQueryFormat=function(){return"DATE '{0:yyyy-MM-dd HH:mm:ss}'"};return d}(l);f.FileGdbQueryFormatter=a;var d=function(a){function d(g){a.call(this,g)}__extends(d,a);d.prototype.supportsTimeOfDay=function(){return!0};d.prototype.dateQueryFormat=function(){return"'{0:yyyy-MM-dd HH:mm:ss}'"};return d}(l);f.InformixQueryFormatter=d;var g=function(a){function d(g){a.call(this,
g)}__extends(d,a);d.prototype.supportsTimeOfDay=function(){return!0};d.prototype.dateQueryFormat=function(){return"#{0:MM-dd-yyyy HH:mm:ss}#"};d.prototype.wildcard=function(){return"*"};return d}(l);f.MsAccessQueryFormatter=g;var n=function(a){function d(g){a.call(this,g)}__extends(d,a);d.prototype.supportsTimeOfDay=function(){return!0};d.prototype.dateQueryFormat=function(){return"TO_DATE('{0:yyyy-MM-dd HH:mm:ss}','YYYY-MM-DD HH24:MI:SS')"};return d}(l);f.OracleQueryFormatter=n;var q=function(a){function d(g){a.call(this,
g)}__extends(d,a);d.prototype.supportsTimeOfDay=function(){return!0};d.prototype.dateQueryFormat=function(){return"TIMESTAMP '{0:yyyy-MM-dd HH:mm:ss}'"};return d}(l);f.PostgreSqlQueryFormatter=q;var r=function(a){function d(g){a.call(this,g)}__extends(d,a);d.prototype.supportsTimeOfDay=function(){return!1};d.prototype.dateQueryFormat=function(){return"DATE '{0:yyyy-MM-dd}'"};return d}(l);f.ShapefileQueryFormatter=r;var B=function(a){function d(g){a.call(this,g)}__extends(d,a);d.prototype.supportsTimeOfDay=
function(){return!0};d.prototype.dateQueryFormat=function(){return"'{0:yyyy-MM-dd HH:mm:ss}'"};return d}(l);f.SqlServerQueryFormatter=B;var y=function(a){function d(g){a.call(this,g)}__extends(d,a);d.prototype.textComparisonQueryFormat=function(){return"{0} LIKE {1}"};d.prototype.doesNotContainQueryFormat=function(){return"{0} NOT LIKE {1}"};return d}(l);f.GeocortexOwsQueryFormatter=y})(f.queryBuilder||(f.queryBuilder={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(m){var k=function(){function l(){}l.execute=function(b,a,d,g){var n=this;l._previousExecuteQuery&&l._previousExecuteQuery.cancel();var q=l.getFsc(g);q.clear();g.openCollection(q.id);a=this._appendExpression(a,b.getDefinitionExpression());var m=b.gcxLayer?f.infrastructure.taskUtils.getQueryTask(b.gcxLayer):f.infrastructure.taskUtils.getQueryTask(b.serviceLayerInfo.serviceLayer,b.serviceLayerInfo),k=new esri.tasks.Query;k.where=a;k.returnGeometry=
!0;k.outFields=["*"];k.geometry=d;a=m.execute(k);l._previousExecuteQuery=a;a.then(function(a){a=new esri.tasks.FeatureSet(a);a=new e.essentialsHtmlViewer.mapping.infrastructure.FeatureSet({esriFeatureSet:a,layer:b.gcxLayer,app:n.app});a.displayName.set(n.app.getResource(n.libraryId,"language-querybuilder-feature-set-display-name").format(b.displayName));q.featureSets.addItem(a);a.resolveDataLinks(function(a){n.app.event("FeatureChangedEvent").publish(a)});g.closeCollection(q.id);l._previousExecuteQuery=
null},function(a){n.app.trace.error(a);g.closeCollection(q.id);l._previousExecuteQuery=null})};l._appendExpression=function(b,a){var d=b;a&&0<a.length&&(d=b&&0<b.length?b+" AND "+a:a);return d};l.getFsc=function(b){if(l._fsc)return l._fsc;var a=new e.essentialsHtmlViewer.mapping.infrastructure.FeatureSetCollection;b.addCollection(a);a.displayName.set(this.app.getResource(this.libraryId,"language-querybuilder-feature-set-collection-display-name"));a.sourceName="QueryBuilder";return l._fsc=a};l.getSuggestions=
function(b,a,d,g){l._previousGetSuggestions&&(l._previousGetSuggestions.cancel(),l._previousGetSuggestions=null);l._previousGetSuggestionsQuery&&(l._previousGetSuggestionsQuery.cancel(),l._previousGetSuggestionsQuery=null);var e=new dojo.Deferred;e.id=l.counter++;l._previousGetSuggestions=e;d=this._appendExpression(d,b.getDefinitionExpression())||"1 = 1";b=f.infrastructure.taskUtils.getQueryTask(b.gcxLayer);var q=new esri.tasks.Query;q.where=d;q.returnGeometry=!1;q.outFields=[a.name];q.geometry=g;
d=b.execute(q);l._previousGetSuggestionsQuery=d;d.id=l.counter++;d.then(function(d){l._previousGetSuggestions=null;l._previousGetSuggestionsQuery=null;for(var g={},b=[],f=0;f<d.features.length;f++){var h=d.features[f].attributes[a.name]+"";l._isNullOrWhiteSpace(h)||g.hasOwnProperty(h)||(g[h]=h,b.push(h));if(10==b.length)break}b.sort();b=b.map(function(d){return a.formatValue(d)});e.resolve(b)},function(a){l._previousGetSuggestions=null;l._previousGetSuggestionsQuery=null;e.errback(a)});return e};
l._isNullOrWhiteSpace=function(b){return!b||0==b.length||0<=b.search(/^\s+$/g)};l.counter=0;return l}();m.Query=k})(k.queryBuilder||(k.queryBuilder={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=e.essentialsHtmlViewer.mapping.infrastructure.FormatUtils,l=e.essentialsHtmlViewer.mapping.infrastructure.DateFormat,b=e.essentialsHtmlViewer.mapping.infrastructure.TimeZoneUtils,a=function(){function a(g,b){var q=this;this._settingCodedDomainValue=!1;this.fields=new ObservableCollection;this.fieldValue=new Observable;this.codedDomainValue=new Observable;this.operators=new ObservableCollection;this.selectedFieldName=new Observable;
this.selectedOperator=new Observable;this.deleteDisabled=new Observable(!1);this.isNotLast=new Observable(!1);this.codedValues=new ObservableCollection;this.presentableFieldName=new Observable;this.presentableOperator=new Observable;this.presentableFieldValue=new Observable;this.presentableFieldValueIsEmptyText=new Observable;this.isAwab=new Observable(!1);this.isGvh=new Observable(!1);this.showTextInput=new Observable;this.showDateTimeInput=new Observable;this.showCodedValueDomainInput=new Observable;
this.showDisabledInput=new Observable;this.showDisplayField=new Observable(!1);this.showEditField=new Observable(!0);this.showDisplayOperator=new Observable(!1);this.showEditOperator=new Observable(!0);this.showDisplayValue=new Observable(!1);this.showEditValue=new Observable(!0);this.app=b.app;this.libraryId=b.libraryId;this.autoCompleteViewModel=new f.AutoCompleteViewModel(this.app);this.autoCompleteViewModel.queryClause=this;this.datePickerFormItem=new e.forms.items.DatePickerFormItem(null);this.datePickerFormItem.nullable.set(!1);
this.layer=g;this.queryBuilderViewModel=b;this.selectedOperator.set(f.QueryOperator.Equals.toString());this._selectedFieldNameBindingToken=this.selectedFieldName.bind(this,this._fieldChanged);this._fieldsBindingToken=this.fields.bind(this,this._fieldsChanged);this._selectedOperatorBindingToken=this.selectedOperator.bind(this,this._operatorChanged);this._codedDomainValueBindingToken=this.codedDomainValue.bind(this,function(a){!q._settingCodedDomainValue&&q.selectedField.isTypeField&&q.queryBuilderViewModel.updateCodedDomainValues()});
this.presentableFieldName.syncTransform(this.selectedFieldName,function(a){return(a=q.fields.get().filter(function(a){return a.name==q.selectedFieldName.get()})[0])?a.alias:""});this.presentableFieldValue.syncTransform(this.fieldValue,function(g){if(g){q.presentableFieldValueIsEmptyText.set(!1);var e=h.parseDate(g,l.ROUND_TRIP);if(e&&!isNaN(e.getTime()))return q.queryBuilderViewModel.queryFormatterFactory.getFormatter(b.selectedLayer).supportsTimeOfDay()?h.formatDate(e,l.DATE_TIME_SHORT):h.formatDate(e,
l.DATE_SHORT);if(a._isCodedValueDomain(q.selectedField))for(e=0;e<q.codedValues.length();e++)if(q.codedValues.getAt(e).val===q.codedDomainValue.get())return q.codedValues.getAt(e).name;return q.selectedField.isNumeric()?q.selectedField.formatValue(g):"'{0}'".format(g)}q.presentableFieldValueIsEmptyText.set(!0);return q.app.getResource(q.libraryId,"language-querybuilder-any-value")});this.presentableOperator.syncTransform(this.selectedOperator,function(a){return f.QueryOperatorDescription.FromQueryOperator(parseInt(a)).name});
this.isAwab.sync(b.isAwab);this.isGvh.sync(b.isGvh)}a.prototype.format=function(a){var d=this.queryBuilderViewModel.queryFormatterFactory.getFormatter(this.layer);a=a||parseInt(this.selectedOperator.get());var e=this.fieldValue.get();if(!e&&a!=f.QueryOperator.IsNull&&a!=f.QueryOperator.IsNotNull)return"";var k=h.parseDate(e,l.ROUND_TRIP);if(!isNaN(k.getTime()))var e=this.layer&&this.layer.gcxLayer?b.getTimeZoneFromLayer(this.layer.gcxLayer):null,B=this.layer&&this.layer.gcxLayer?b.getDisplayTimeZoneFromMapService(this.layer.gcxLayer.mapService):
null,k=b.correctDatesToQueryInDatabaseTime(k,e,B),e=h.formatDate(k,l.ROUND_TRIP);return d.format(this.selectedField,a,e)};a.prototype.exportState=function(){return{field:this.selectedFieldName.get(),operator:this.selectedOperator.get(),value:this.fieldValue.get()}};a.prototype.applyState=function(g,b){this.fields.set(b);this.selectedFieldName.set(g.field);this.updateCodedDomainValues();this.selectedOperator.set(g.operator);a._isCodedValueDomain(this.selectedField)?this.codedDomainValue.set(g.value):
this.selectedField.isDate()?this.datePickerFormItem.date.set(h.parseDate(g.value)):this.autoCompleteViewModel.value.set(g.value)};a.prototype._fieldsChanged=function(){0<this.fields.length()&&!this.selectedFieldName.get()&&this.selectedFieldName.set(this.fields.getAt(0).name)};a.prototype._fieldChanged=function(){var g=this,b=this.fields.get().filter(function(a){return a.name==g.selectedFieldName.get()})[0];this.selectedField=b;this.operators.clear();a._isCodedValueDomain(b)?(this.operators.addItem(f.QueryOperatorDescription.Equals),
this.operators.addItem(f.QueryOperatorDescription.NotEquals)):b.isNumeric()||b.isDate()?(this.operators.addItem(f.QueryOperatorDescription.Equals),this.operators.addItem(f.QueryOperatorDescription.NotEquals),this.operators.addItem(f.QueryOperatorDescription.LessThan),this.operators.addItem(f.QueryOperatorDescription.LessThanEquals),this.operators.addItem(f.QueryOperatorDescription.GreaterThan),this.operators.addItem(f.QueryOperatorDescription.GreaterThanEquals)):b.isText()&&(this.operators.addItem(f.QueryOperatorDescription.Contains),
this.operators.addItem(f.QueryOperatorDescription.DoesNotContain),this.operators.addItem(f.QueryOperatorDescription.StartsWith),this.operators.addItem(f.QueryOperatorDescription.EndsWith),this.operators.addItem(f.QueryOperatorDescription.Equals),this.operators.addItem(f.QueryOperatorDescription.NotEquals));b.nullable&&(this.operators.addItem(f.QueryOperatorDescription.IsNull),this.operators.addItem(f.QueryOperatorDescription.IsNotNull));this.selectedOperator.set(this.operators.getAt(0).value.toString());
var e=parseInt(this.selectedOperator.get());this._updateInputVisibility(b,e);this.queryBuilderViewModel.updateCodedDomainValues();a._isCodedValueDomain(this.selectedField)?this.fieldValue.sync(this.codedDomainValue):this.selectedField.isDate()?this.fieldValue.syncTransform(this.datePickerFormItem.date,function(a){return h.formatDate(g.datePickerFormItem.date.get(),l.ROUND_TRIP)}):this.fieldValue.sync(this.autoCompleteViewModel.value)};a.prototype.switchToReadOnly=function(){this.disableModeSwitch||
(this.showEditField.set(!1),this.showEditOperator.set(!1),this.showEditValue.set(!1),this.showDisplayField.set(!0),this.showDisplayOperator.set(!0),this.showDisplayValue.set(!0))};a.prototype.switchToEditMode=function(){this.disableModeSwitch||(this.showDisplayField.set(!1),this.showDisplayOperator.set(!1),this.showDisplayValue.set(!1),this.showEditField.set(!0),this.showEditOperator.set(!0),this.showEditValue.set(!0))};a.prototype.updateCodedDomainValues=function(){var a=this;this.codedValues.clear();
if(this.selectedField.isCodedValueDomain())for(var d=0;d<this.selectedField.getCodedValueDomain().codedValues.length;d++){var b=this.selectedField.getCodedValueDomain().codedValues[d];this.codedValues.addItem({name:b.name,val:b.code.toString()})}else if(this.selectedField.hasSubtypeCodedValueDomains()){for(var b=this.selectedField.getSubtypeCodedValueDomains(),e=0,h=null,d=0;d<this.queryBuilderViewModel.queryClauses.length();d++){var l=this.queryBuilderViewModel.queryClauses.getAt(d);l!==this&&l.selectedField&&
l.selectedField.isTypeField&&(h=l,e++)}if(1===e)if(d=h.codedDomainValue.get(),h.selectedOperator.get()===f.QueryOperator.Equals.toString())(h=b[d])&&h.codedValues.forEach(function(d){a.codedValues.addItem({name:d.name,val:d.code.toString()})});else for(var k in b)k!==d&&b.hasOwnProperty(k)&&(h=b[k],h.codedValues.forEach(function(d){a.codedValues.addItem({name:d.name,val:d.code.toString()})}));else for(k in b)b.hasOwnProperty(k)&&(h=b[k],h.codedValues.forEach(function(d){a.codedValues.addItem({name:d.name,
val:d.code.toString()})}))}if(0<this.codedValues.length()){this._settingCodedDomainValue=!0;b=!1;for(d=0;d<this.codedValues.getLength();d++)this.codedValues.getAt(d).val===this.codedDomainValue.get()&&(b=!0,this.codedDomainValue.pulse());b||this.codedDomainValue.set(this.codedValues.getAt(0).val);this._settingCodedDomainValue=!1}};a.prototype._updateInputVisibility=function(g,b){this.showTextInput.set(!1);this.showDateTimeInput.set(!1);this.showCodedValueDomainInput.set(!1);this.showDisabledInput.set(!1);
b==f.QueryOperator.IsNotNull||b==f.QueryOperator.IsNull?this.showDisabledInput.set(!0):g.isDate()?this.showDateTimeInput.set(!0):a._isCodedValueDomain(g)?this.showCodedValueDomainInput.set(!0):this.showTextInput.set(!0)};a.prototype._operatorChanged=function(){var a=this.selectedField;a.isTypeField&&this.queryBuilderViewModel.updateCodedDomainValues();var d=parseInt(this.selectedOperator.get());this._updateInputVisibility(a,d)};a._isCodedValueDomain=function(a){return a.isCodedValueDomain()||a.hasSubtypeCodedValueDomains()};
a.prototype.dispose=function(){this.selectedFieldName.unbind(this._selectedFieldNameBindingToken);this.fields.unbind(this._fieldsBindingToken);this.selectedOperator.unbind(this._selectedOperatorBindingToken);this.codedDomainValue.unbind(this._codedDomainValueBindingToken);this.fieldValue.removeSync();this.presentableFieldName.removeSync();this.presentableFieldValue.removeSync();this.presentableOperator.removeSync();this.autoCompleteView&&this.autoCompleteView.dispose();this.isAwab.removeSync();this.isGvh.removeSync()};
return a}();f.QueryClause=a})(f.queryBuilder||(f.queryBuilder={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){e=e.essentialsHtmlViewer||(e.essentialsHtmlViewer={});e=e.mapping||(e.mapping={});e=e.modules||(e.modules={});e=e.queryBuilder||(e.queryBuilder={});e=e.QueryOperator||(e.QueryOperator={});e[e.Equals=0]="Equals";e[e.NotEquals=1]="NotEquals";e[e.GreaterThan=2]="GreaterThan";e[e.GreaterThanEquals=3]="GreaterThanEquals";e[e.LessThan=4]="LessThan";e[e.LessThanEquals=5]="LessThanEquals";e[e.Contains=6]="Contains";e[e.DoesNotContain=7]="DoesNotContain";e[e.StartsWith=8]="StartsWith";e[e.EndsWith=
9]="EndsWith";e[e.IsNull=10]="IsNull";e[e.IsNotNull=11]="IsNotNull"})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){var f=function(){function f(b,a){this.value=b;this.name=a}f.FromQueryOperator=function(b){for(var a in f)if(f[a].value==b)return f[a];return null};f.initializeStaticValues=function(b,a){this.Equals=new f(e.QueryOperator.Equals,b.getResource(a,"language-querybuilder-operator-equals"));this.NotEquals=new f(e.QueryOperator.NotEquals,b.getResource(a,"language-querybuilder-operator-not-equals"));this.GreaterThan=new f(e.QueryOperator.GreaterThan,
b.getResource(a,"language-querybuilder-operator-greater-than"));this.GreaterThanEquals=new f(e.QueryOperator.GreaterThanEquals,b.getResource(a,"language-querybuilder-operator-greater-than-equal-to"));this.LessThan=new f(e.QueryOperator.LessThan,b.getResource(a,"language-querybuilder-operator-less-than"));this.LessThanEquals=new f(e.QueryOperator.LessThanEquals,b.getResource(a,"language-querybuilder-operator-less-than-equal-to"));this.Contains=new f(e.QueryOperator.Contains,b.getResource(a,"language-querybuilder-operator-contains"));
this.DoesNotContain=new f(e.QueryOperator.DoesNotContain,b.getResource(a,"language-querybuilder-operator-does-not-contain"));this.StartsWith=new f(e.QueryOperator.StartsWith,b.getResource(a,"language-querybuilder-operator-starts-with"));this.EndsWith=new f(e.QueryOperator.EndsWith,b.getResource(a,"language-querybuilder-operator-ends-with"));this.IsNull=new f(e.QueryOperator.IsNull,b.getResource(a,"language-querybuilder-operator-null"));this.IsNotNull=new f(e.QueryOperator.IsNotNull,b.getResource(a,
"language-querybuilder-operator-not-null"))};return f}();e.QueryOperatorDescription=f})(e.queryBuilder||(e.queryBuilder={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(h){function b(){h.apply(this,arguments);this._focussedOnOtherInput=this._initialized=!1}__extends(b,h);b.prototype.attach=function(a){h.prototype.attach.call(this,a);this.viewModel.initialize(this.configuration);this._initialized||(dojo.connect(this.viewModel,"event_queryClausesRemoving",this,this.viewModel_queryClausesRemoving),this.bindAutoCompleteEvents(),this.subscribeDocumentClickHandler(),this._initialized=!0)};
b.prototype.document_click=function(a){var d=a.data.view;if(0==$(a.target).closest(".query-clause-row, .ui-datepicker-div, .ui-autocomplete").length)for(a=0;a<d.viewModel.queryClauses.length();a++)d.switchToReadOnly(d.viewModel.queryClauses.getAt(a))};b.prototype.form_keydown=function(a){return 50<(new Date).getTime()-(this._lastAutoCompleteTime?this._lastAutoCompleteTime.getTime():0)&&13==a.keyCode&&(a=$(a.target),0<=a.prop("tagName").search(/^input$/i)&&0<=a.prop("type").search(/^text$/i))?(this.performAction(),
!1):!0};b.prototype.form_submit=function(){return!1};b.prototype.bindAutoCompleteEvents=function(){var a=this;$(this.htmlForm).on("autocompleteselect","input.ui-autocomplete-input",function(d){a._lastAutoCompleteTime=new Date})};b.prototype.addQueryClause_click=function(){for(var a=0;a<this.viewModel.queryClauses.length();a++)this.viewModel.queryClauses.getAt(a).switchToReadOnly();this.viewModel.addQueryClause();$(".query-clause-row").last().find("input, select").first().focus()};b.prototype.removeQueryClause_click=
function(a,d,g){1<this.viewModel.queryClauses.length()&&this.viewModel.removeQueryClause(g)};b.prototype.actionButton_click=function(){this.performAction()};b.prototype.clearFilterButton_click=function(){this.viewModel.disabled.set(!1);this.viewModel.whereClause.set(null);this.viewModel.selectedLayer.setDefinitionExpression(null)};b.prototype.clearResultsButton_click=function(){this.event_clearResultsButtonClicked()};b.prototype.externalfilterButton_click=function(){this.viewModel.selectedLayer.setDefinitionExpression("1 = 2")};
b.prototype.event_clearResultsButtonClicked=function(){};b.prototype.addLayerButton_click=function(){this._addedLayer||(this._addedLayer=new esri.layers.ArcGISDynamicMapServiceLayer("http://agsdemos2.geocortex.com/arcgis/rest/services/BeaverCounty/BeaverCounty_Wells/MapServer"),this.app.map.addLayer(this._addedLayer))};b.prototype.removeLayerButton_click=function(){this._addedLayer&&(this.app.map.removeLayer(this._addedLayer),this._addedLayer=null)};b.prototype.input_blur=function(a,d,g){this.switchToReadOnly(g)};
b.prototype.switchToReadOnly=function(a){var d=this;this._focussedOnOtherInput=!1;setTimeout(function(){d._focussedOnOtherInput||0!=$(".ui-datepicker:visible").length||(a.switchToReadOnly(),$(document).off("click",null,d.document_click))},0)};b.prototype.input_focus=function(a,d,g){this._focussedOnOtherInput=!0};b.prototype.displayField_click=function(a,d,g){this.switchToEditMode(g);g.disableModeSwitch=!0;$(d).closest(".query-clause-row").find("select.field-selector").focus();g.disableModeSwitch=
!1};b.prototype.displayOperator_click=function(a,d,g){this.switchToEditMode(g);g.disableModeSwitch=!0;$(d).closest(".query-clause-row").find("select.operator-selector").focus();g.disableModeSwitch=!1};b.prototype.displayValue_click=function(a,d,g){this.switchToEditMode(g);g.disableModeSwitch=!0;$(d).closest(".query-clause-row").find(".value-selector input:visible, select.value-selector:visible").focus();g.disableModeSwitch=!1};b.prototype.switchToEditMode=function(a){a.switchToEditMode();this.subscribeDocumentClickHandler()};
b.prototype.subscribeDocumentClickHandler=function(){$(document).off("click",null,this.document_click);$(document).click({view:this},this.document_click)};b.prototype.performAction=function(){var a=this,d=this.viewModel.buildWhereClause();this.viewModel.isQueryBuilder.get()?(this.event_searchInitiated(),this.viewModel.getGeometryFilter().then(function(g){f.Query.execute(a.viewModel.selectedLayer,d,g,a.app.featureSetManager)})):this.viewModel.getGeometryFilter().then(function(g){null!==g?a.viewModel.buildSpatiallyFilteredWhereClause(g,
d).then(function(d){a.viewModel.selectedLayer.setDefinitionExpression(d)}):(a.viewModel.selectedLayer.setDefinitionExpression(d),a.app.command("ShowMap").execute())})};b.prototype.event_searchInitiated=function(){};b.prototype.resolveWidget=function(a,d){var g=this;if("DatePicker"==a){var b=this.viewModel.queryFormatterFactory.getFormatter(this.viewModel.selectedLayer);d.datePickerFormItem.includeTimePicker.set(b.supportsTimeOfDay());b=new e.forms.items.TimePickerFormItem(null);d.datePickerFormItem.timePickerItem=
b;b=this.app.viewManager.createView({markupResource:"Mapping/modules/Workflow/Forms/Items/DatePickerFormItemView.html",libraryId:"Mapping",typeName:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.DatePickerFormItemView",isVisible:!0});b.attach(d.datePickerFormItem);d.datePickerView=b;$(b.root).find("input, select").on("blur",function(){g.switchToReadOnly(d)});$(b.root).find("input, button, select").on("focus",function(){g._focussedOnOtherInput=!0});return b}if("AutoComplete"==
a){var b=new f.AutoCompleteView(this.app),h=document.createElement("span");dojo.html.set(h,e.resourceManager.fetch("Mapping/modules/QueryBuilder/AutoCompleteView.html",this.libraryId));b.root=h;$(h).find("input").on("blur",function(){g.switchToReadOnly(d)});$(h).find("input").on("focus",function(){g._focussedOnOtherInput=!0});d.autoCompleteViewModel.appendTo="."+this.id+" .autocomplete-container";b.attach(d.autoCompleteViewModel);return d.autoCompleteView=b}};b.prototype.viewModel_queryClausesRemoving=
function(a){for(var d=0;d<a.length;d++)a[d].datePickerView&&$(a[d].datePickerView.root).find("input, button, select").off();for(d=0;d<a.length;d++)a[d].autoCompleteView&&$(a[d].autoCompleteView.root).find("input").off()};return b}(e.framework.ui.ViewBase);f.SimpleQueryBuilderView=h})(f.queryBuilder||(f.queryBuilder={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=e.essentialsHtmlViewer.mapping.infrastructure.gis,l=e.framework.utils.ArrayUtils,b=function(a){function d(d,b){a.call(this,d,b);this.layers=new e.framework.ui.FilterableCollection;this.tables=new e.framework.ui.FilterableCollection;this.selectedLayerUniqueId=new Observable;this.infoText=new Observable;this.queryClauses=new ObservableCollection;this.whereClause=new Observable;this.spatialFilters=new ObservableCollection;this.selectedSpatialFilter=
new Observable;this.isAwab=new Observable(!1);this.isGvh=new Observable(!1);this.isQueryAndAwab=new Observable(!1);this.isDebug=new Observable(!1);this.isQueryBuilder=new Observable(!0);this.areQueryableTables=new Observable(!1);this.areQueryableLayers=new Observable(!1);this.isFilterBuilder=new Observable(!1);this.selectedLayerIsTable=new Observable(!1);this.showLayerError=new Observable(!1);this.disabled=new Observable(!1);this.notDisabled=new Observable(!0);this.noValidLayers=new Observable(!1);
this.noValidLayersText=new Observable("");this.config={};this._allLayers=new ObservableCollection;this._allTables=new ObservableCollection;this._fields=[];this._layerToQueryClausesLookup=new e.essentialsHtmlViewer.mapping.infrastructure.Dictionary;this._isRestoringState=!1;this._initializingPromise=null;this._subTokenDictionary={};this._graphicsLayerSubscriptions=[];this.isGvh.syncTransform(this.isAwab,function(a){return!a});this.notDisabled.syncTransform(this.disabled,function(a){return!a});this.selectedLayerUniqueId.bind(this,
this.layerIdChanged);this.app.command("_ExportQueryBuilderState").register(this,this.exportState);this.app.command("_ApplyQueryBuilderState").register(this,this.applyState)}__extends(d,a);d.prototype.refreshSpatialFilterOptions=function(){0==this.spatialFilters.length()&&(this.spatialFilters.addItem({name:this.getResource("language-querybuilder-spatial-filter-none"),val:"None"}),this.spatialFilters.addItem({name:this.getResource("language-querybuilder-spatial-filter-current-extent"),val:"CurrentExtent"}),
this.selectedSpatialFilter.set("None"));void 0==this.config.allowDrawingsAsSpatialFilter&&(this.config.allowDrawingsAsSpatialFilter=!0);if(this.config.allowDrawingsAsSpatialFilter){var a=this._appInfo.mapInfo.markupLayer.get();a&&0<a.graphics.length&&2==this.spatialFilters.length()?this.spatialFilters.addItem({name:this.getResource("language-querybuilder-spatial-filter-polygons"),val:"Drawings"}):a&&0!=a.graphics.length||3!=this.spatialFilters.length()||(this.spatialFilters.removeAt(2),"Drawings"==
this.selectedSpatialFilter.get()&&this.selectedSpatialFilter.set("None"))}};d.prototype.initialize=function(a){var d=this;a&&(this.config=a);this.queryFormatterFactory=new k.QueryFormatterFactory(this.config);this.isDebug.set(!!a.debug);this.isAwab.set(this.app.isArcGisWebApp);k.QueryOperatorDescription.initializeStaticValues(this.app,this.libraryId);k.Query.app=this.app;k.Query.libraryId=this.libraryId;a="filter"!=this.config.mode;this.isQueryBuilder.set(a);this.isFilterBuilder.set(!a);this.isQueryAndAwab.set(this.isAwab.get()&&
a);a?this.noValidLayersText.set(this.app.getResource(this.libraryId,"language-querybuilder-no-valid-query-layers")):this.noValidLayersText.set(this.app.getResource(this.libraryId,"language-querybuilder-no-valid-filter-layers"));this._initializingPromise||(this._initializingPromise=this.app.waitUntilSiteServiceLayersLoaded().then(function(){var a=p.AppInfo.fromGeocortexApp(d.app);d.initializeQueryBuilder(a)}))};d.prototype.initializeQueryBuilder=function(a){var d=this;this._appInfo=a;this._allLayers.clear();
var b=a.mapInfo.getLayerInfos().filter(function(a){return a.queryable&&!!a.displayName&&!!a.url}),b=e.essentialsHtmlViewer.mapping.infrastructure.ArrayUtils.sortBy(b,function(a){return a.displayName});this._allLayers.set(b);b=a.mapInfo.getTableInfos().filter(function(a){return a.queryable&&!!a.displayName&&!!a.url});this._allTables.set(b);this._checkUseableLayers();this.layers.setSource(this._allLayers);this.tables.setSource(this._allTables);this.layers.setFilter(function(a){return!a.gcxLayer||a.gcxLayer.inActiveTheme});
0<this.layers.length()?this.selectedLayerUniqueId.set(this.layers.getAt(0).uniqueId):0<this.tables.length()&&this.selectedLayerUniqueId.set(this.tables.getAt(0).uniqueId);this._handleNewServiceLayers(a.mapInfo.serviceLayers);this.refreshSpatialFilterOptions();this._appInfo.mapInfo.markupLayer.bind(this,this.markupLayerChanged);this.markupLayerChanged(this._appInfo.mapInfo.markupLayer.get());this._appInfo.map.on("layer-add",function(a){d.layerAdded(a)});this._appInfo.map.on("layer-remove",function(a){d.layerRemoved(a)});
this.app.event("MapServiceLayersChangedEvent").subscribe(this,function(a){a&&a.serviceLayer&&(d.layerRemoved({layer:a.serviceLayer}),d.layerAdded({layer:a.serviceLayer}))});this._layerThemeChangedEventToken||(this._layerThemeChangedEventToken=this.app.event("LayerThemeChangedEvent").subscribe(this,function(a){d.layers.refresh();0>d.layers.indexOf(d.selectedLayer)?d.selectedLayerUniqueId.set(d.layers.length()?d.layers.getAt(0).uniqueId:null):d.selectedLayerUniqueId.pulse()}))};d.prototype.exportState=
function(a){var d=this,b=[];this.selectedLayer&&b.push({layer:this.app.project.convert.fromGcxLayer(this.selectedLayer.gcxLayer),clauses:this.queryClauses.get().map(function(a){return a.exportState()}),where:this.whereClause.get()});this._layerToQueryClausesLookup.keys().forEach(function(a){if(!d.selectedLayer||d.selectedLayer.uniqueId!==a){var g=l.firstOrDefault(d._allLayers.get(),function(d){return d.uniqueId===a});if(g){var e=d._layerToQueryClausesLookup.get(a);b.push({layer:d.app.project.convert.fromGcxLayer(g.gcxLayer),
clauses:e.clauses.slice(),where:e.where})}}});this.isFilterBuilder.get()?a.filters=b:a.queries=b};d.prototype.applyState=function(a){var d=this,b=this.isFilterBuilder.get()?a.state.filters:a.state.queries;b&&b.length&&(this._layerToQueryClausesLookup=new e.essentialsHtmlViewer.mapping.infrastructure.Dictionary,a.completePromises.push(this._initializingPromise.then(function(){return d._fieldsRequest}).then(function(){return Promise.map(b,function(a){return d.app.project.convert.toGcxLayer(a.layer,
null)["catch"](function(a){return null}).then(function(b){var g=l.firstOrDefault(d._allLayers.get(),function(a){return a.gcxLayer===b});g&&d._layerToQueryClausesLookup.set(g.uniqueId,{clauses:a.clauses.slice(),where:a.where})})})}).then(function(){return d.app.project.convert.toGcxLayer(b[0].layer,null)})["catch"](function(a){return null}).then(function(a){var b=l.firstOrDefault(d._allLayers.get(),function(d){return d.gcxLayer===a});b&&(d._isRestoringState=!0,d.selectedLayerUniqueId.set(b.uniqueId),
d._isRestoringState=!1)})))};d.prototype._checkUseableLayers=function(){for(var a=0;a<this._allLayers.getLength();a++){var d=this._allLayers.getAt(a);if(d&&d.gcxLayer&&f.infrastructure.taskUtils.canQueryLayer(d.gcxLayer)&&0<d.gcxLayer.fields.length&&null!=d.gcxLayer.mapService&&null!==d.gcxLayer.mapService.serviceLayer){if(!this.isFilterBuilder.get()||this._isValidFilterLayer(d.gcxLayer.mapService))continue}else if(d&&d.queryable&&d.serviceLayerInfo&&d.serviceLayerInfo.serviceLayer&&d.serviceLayerInfo.serviceLayer.url&&
(!this.isFilterBuilder.get()||this._isValidFilterLayer(d.serviceLayerInfo)))continue;this._allLayers.removeAt(a);a--}a=0===this._allLayers.getLength();d=0===this._allTables.getLength();this.areQueryableLayers.set(!a);this.areQueryableTables.set(!d&&this.isQueryBuilder.get());a=this.isFilterBuilder.get()&&a||this.isQueryBuilder.get()&&a&&d;this.noValidLayers.set(a)};d.prototype._isValidFilterLayer=function(a){return a.serviceLayer instanceof esri.layers.FeatureLayer&&a.serviceLayer.url||a.serviceLayer instanceof
esri.layers.ArcGISDynamicMapServiceLayer&&(a=a.serviceLayer,null===a.capabilities||-1!==a.capabilities.indexOf("Query"))?!0:!1};d.prototype._handleNewServiceLayers=function(a){if(this.isFilterBuilder.get())for(var d=this,b=0;b<a.length;b++){var e=a[b];this._removeSub(e.serviceLayer.id);var f=dojo.connect(e.serviceLayer,"setLayerDefinitions",function(a){d._layerDefinitionsSet.call(d,this,a)});f&&(d._subTokenDictionary[e.serviceLayer.id]=f)}};d.prototype._removeSub=function(a){if(this._subTokenDictionary.hasOwnProperty(a)){var d=
this._subTokenDictionary[a];d&&d.remove();delete this._subTokenDictionary[a]}};d.prototype._layerDefinitionsSet=function(a,d){for(var b=0;b<d.length;++b){var e=d[b];this.selectedLayer&&this.selectedLayer.serviceLayerInfo.serviceLayer==a&&this.selectedLayer.id==e+""&&this.whereClause.get()!=d[e]&&this.disabled.set(!0)}};d.prototype.markupLayerChanged=function(a){for(var d=this,b=0;b<this._graphicsLayerSubscriptions.length;b++)this._graphicsLayerSubscriptions[b].remove();a&&(this._graphicsLayerSubscriptions.push(a.on("graphic-add",
function(){d.refreshSpatialFilterOptions()})),this._graphicsLayerSubscriptions.push(a.on("graphic-remove",function(){d.refreshSpatialFilterOptions()})))};d.prototype.layerIdChanged=function(){var a=this;if(!this.selectedLayer||this.selectedLayerUniqueId.get()!==this.selectedLayer.uniqueId||this._isRestoringState)if(!this.app.project.isLoading||this._isRestoringState){this.event_queryClausesRemoving(this.queryClauses.get());this.disabled.set(!1);this.previousLayer=this.selectedLayer;this.selectedLayer=
null;for(var d=0;d<this.layers.length();d++)if(this.layers.getAt(d).uniqueId==this.selectedLayerUniqueId.get()){this.selectedLayer=this.layers.getAt(d);break}this.selectedLayerIsTable.set(!1);if(null===this.selectedLayer)for(d=0;d<this.tables.length();d++)if(this.tables.getAt(d).uniqueId===this.selectedLayerUniqueId.get()){this.selectedLayerIsTable.set(!0);this.selectedLayer=this.tables.getAt(d);break}this.infoText.set("");this.previousLayer&&!this._isRestoringState&&this._layerToQueryClausesLookup.set(this.previousLayer.uniqueId,
{where:this.whereClause.get(),clauses:this.queryClauses.get().map(function(a){return a.exportState()})});this.queryClauses.get().forEach(function(a){return a.dispose()});this.queryClauses.clear();this.whereClause.set(null);this._fieldsRequest&&this._fieldsRequest.cancel();this.selectedLayer&&this._refreshFields().then(function(){var d;if(a._layerToQueryClausesLookup.containsKey(a.selectedLayer.uniqueId)){d=a._layerToQueryClausesLookup.get(a.selectedLayer.uniqueId);var b=[];d.clauses.forEach(function(e){var f=
new k.QueryClause(a.selectedLayer,a);f.applyState(e,a._fields);1<d.clauses.length&&f.switchToReadOnly();b.push(f)});a.queryClauses.addItems(b);a.whereClause.set(d.where)}else{var e=new k.QueryClause(a.selectedLayer,a);e.deleteDisabled.set(!0);e.isNotLast.set(!1);a.queryClauses.addItem(e);e.fields.set(a._fields)}a.infoText.set(a.getResource("language-querybuilder-find-in-layer").format(a.selectedLayer.displayName));a.isFilterBuilder.get()&&d&&(a._isEquivalentExpression(d.where,a.selectedLayer.getDefinitionExpression())||
a.disabled.set(!0))})}};d.prototype._refreshFields=function(){var a=this;this._fieldsRequest=this.selectedLayer.getFields();return this._fieldsRequest.then(function(b){a._fieldsRequest=null;a._fields=b.filter(function(a){return 0>dojo.indexOf(d._excludedFieldTypes,a.type)&&a.isVisible});a._fields=a._fields.sort(function(a,d){var b=(a.alias||"").toLocaleLowerCase(),g=(d.alias||"").toLocaleLowerCase();return b==g?0:b<g?-1:1})},function(d){a._fieldsRequest=null;"CancelError"!==d.name&&(a.app.trace.error("Error retrieving field information:",
d),a.infoText.set(a.getResource("language-querybuilder-cannot-query")))})};d.prototype._isEquivalentExpression=function(a,d){return(a&&"1 = 1"!=a||d&&"1 = 1"!=d)&&a!=d?!1:!0};d.prototype.layerAdded=function(a){var d=null,b=[];this.app.isArcGisWebApp||(this._appInfo=p.AppInfo.fromGeocortexApp(this.app),(d=this._appInfo.mapInfo.findMapServiceById(a.layer.id))&&(b=d.layers.filter(function(a){return a.gcxLayer&&a.gcxLayer.queryable?!0:!1})));d||(d=p.ServiceLayerInfo.fromEsriLayer(a.layer),b=d.layers);
0<b.length&&(b=e.essentialsHtmlViewer.mapping.infrastructure.ArrayUtils.sortBy(b,function(a){return a.displayName}));a=this._allLayers.length()-1;for(var f=b.length-1;0<=a&&0<=f;){var h=this._allLayers.getAt(a).displayName;b[f].displayName>=h?(this._allLayers.insertItem(a+1,b[f]),f--):a--}for(;0<=f;)this._allLayers.insertItem(0,b[f]),f--;this._handleNewServiceLayers([d]);this._checkUseableLayers();0<this.layers.length()&&this.selectedLayerUniqueId.set(this.layers.getAt(0).uniqueId)};d.prototype.layerRemoved=
function(a){this._allLayers.removeWhere(function(d){return d.serviceLayerInfo.serviceLayer==a.layer});this._removeSub(a.layer.id);this._checkUseableLayers()};d.prototype.addQueryClause=function(){var a=new k.QueryClause(this.selectedLayer,this);a.fields.set(this._fields);a.updateCodedDomainValues();this.queryClauses.addItem(a);this.queryClauses.getAt(0).deleteDisabled.set(!1);this.queryClauses.getAt(this.queryClauses.length()-2).isNotLast.set(!0)};d.prototype.removeQueryClause=function(a){this.event_queryClausesRemoving([a]);
a.dispose();this.queryClauses.removeItem(a);1==this.queryClauses.length()&&(this.queryClauses.getAt(0).deleteDisabled.set(!0),this.queryClauses.getAt(0).isNotLast.set(!1));this.queryClauses.getAt(this.queryClauses.length()-1).isNotLast.set(!1);if(a.selectedField&&a.selectedField.isTypeField)for(this.updateCodedDomainValues(),a=0;a<this.queryClauses.length();a++)this.queryClauses.getAt(a).codedDomainValue.pulse()};d.prototype.buildWhereClause=function(){for(var a="",d=0;d<this.queryClauses.length();d++){var b=
this.queryClauses.getAt(d).format();b&&(0<a.length&&(a+=" AND "),a+=b)}a||(a="1 = 1");this.whereClause.set(a);return a};d.prototype.buildSpatiallyFilteredWhereClause=function(a,d){var b=this,e=new dojo.Deferred,l=new esri.tasks.Query,k=f.infrastructure.taskUtils.getQueryTask(this.selectedLayer.gcxLayer?this.selectedLayer.gcxLayer:this.selectedLayer.serviceLayerInfo.serviceLayer);l.geometry=a;l.where=d;k.executeForIds(l).then(function(a){for(var g=null,f=0;f<b.selectedLayer.fields.length;f++){var h=
b.selectedLayer.fields[f];if("esriFieldTypeOID"===h.type){g=h.name;break}}null!==g?(a="{0} IN ({1})".format(g,a.toString()),b.whereClause.set(a),e.resolve(a)):e.resolve(d)},function(a){e.resolve(d)});return e};d.prototype.getGeometryFilter=function(){var a=new dojo.Deferred;if("None"==this.selectedSpatialFilter.get())return a.resolve(null),a;if("CurrentExtent"==this.selectedSpatialFilter.get())return a.resolve(this._appInfo.map.extent),a;if("Drawings"==this.selectedSpatialFilter.get()){var d=[];if(this.isAwab.get())for(var b=
0;b<this._appInfo.mapInfo.getGraphicsLayers().length;b++){var f=this._appInfo.mapInfo.getGraphicsLayers()[b];-1<f.id.indexOf("graphicsLayer")&&d.push(f)}else d.push(this._appInfo.mapInfo.markupLayer.get());f=[];for(b=0;b<d.length;b++)for(var h=d[b],l=0;l<h.graphics.length;l++){var k=h.graphics[l];"polygon"==k.geometry.type?f.push(k.geometry):"extent"==k.geometry.type&&(k=e.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.extentToPolygon(k.geometry),f.push(k))}0==f.length?a.resolve(null):
this._appInfo.getGeometryService().union(f).then(function(d){a.resolve(d)},function(d){a.resolve(null)});return a}a.resolve(null);return a};d.prototype.getViewerApp=function(){return this.app};d.prototype.event_queryClausesRemoving=function(a){};d.prototype.updateCodedDomainValues=function(){for(var a=0;a<this.queryClauses.length();a++)this.queryClauses.getAt(a).updateCodedDomainValues()};d.prototype.onDestroy=function(){a.prototype.onDestroy.call(this);this._layerThemeChangedEventToken&&this.app.event("LayerThemeChangedEvent").unsubscribe(this._layerThemeChangedEventToken)};
d._excludedFieldTypes=[e.essentials.EsriFieldTypes.esriFieldTypeBlob,e.essentials.EsriFieldTypes.esriFieldTypeGeometry,e.essentials.EsriFieldTypes.esriFieldTypeGlobalID,e.essentials.EsriFieldTypes.esriFieldTypeGUID];return d}(e.framework.ui.ViewModelBase);k.SimpleQueryBuilderViewModel=b})(k.queryBuilder||(k.queryBuilder={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(e){function b(a,d){e.call(this,a,d);this.app.command("RunReport").preExecute.subscribe(this,this._displayReportProgressUI);this.app.event("ReportResultEvent").subscribe(this,this._handleReportResultUI);this.app.event("ReportErrorEvent").subscribe(this,this._handleReportErrorUI)}__extends(b,e);b.prototype.handleClickDoneButton=function(){this.app.viewManager.deactivateView(this)};b.prototype._displayReportProgressUI=function(a){this.isBusy.set(!0);
this.app.viewManager.activateView(this);a=new f.infrastructure.commandArgs.AddStatusArgs(this.getResource("language-run-report-progress-status").format(a.report.displayName||a.report.id));a.id="RunningReport";a.imageUri="Resources/Images/Icons/Toolbar/reports-24.png";a.showBusyIcon=!0;a.timeoutMS=0;this.app.command("AddStatus").execute(a)};b.prototype._cleanupReportProgressUI=function(){this.isBusy.set(!1);this.app.command("RemoveStatus").execute("RunningReport")};b.prototype._handleReportResultUI=
function(a){this._cleanupReportProgressUI();this.isBusy.set(!1);this.app.viewManager.activateView(this)};b.prototype._handleReportErrorUI=function(a){this.isBusy.set(!1);this.app.viewManager.deactivateView(this);var d=this.getResource("language-run-report-error-title"),b;b="ReportAlreadyRunning"===a.name?this.getResource("language-run-report-error-message-already-running"):"RequestTimeoutError"===a.name?this.getResource("language-run-report-error-message-timeout"):"OfflineReportImpossible"===a.name?
this.getResource("language-run-report-error-message-offline"):/outputFormat parameter invalid/.test(a.message)?this.getResource("language-run-report-error-message-output-format-unavailable"):this.getResource("language-run-report-error-message-generic");"ReportAlreadyRunning"!==a.name&&this._cleanupReportProgressUI();this.app.command("Alert").execute(b,d)};return b}(e.framework.ui.ViewBase);k.RunReportView=p})(k.reporting||(k.reporting={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(l){function b(){l.apply(this,arguments);this.complete=new Observable(!1);this.isAsync=new Observable(!1);this.href=new Observable("")}__extends(b,l);b.prototype.initialize=function(a){void 0===a&&(a={});l.prototype.initialize.apply(this,arguments);this.app.command("RunReport").register(this,this._executeRunReport)};b.prototype._executeRunReport=function(a){var d=this;if(a)try{this.complete.set(!1);a.reportParameters=a.reportParameters||
new e.essentials.ReportParameters;a.reportParameters.featureIds=[];a.reportParameters.outputFormat=a.reportParameters.outputFormat||"PDF";if(!a.report.supportedOutputFormats.some(function(d){return d.toLowerCase()===a.reportParameters.outputFormat.toLowerCase()})){var b=a.report.supportedOutputFormats.length?a.report.supportedOutputFormats[0]:null;if(b)a.reportParameters.outputFormat=b;else{var n=Error("Selected report has no available output formats configured.");n.name="ReportHasNoSupportedOutputFormats";
throw n;}}f.infrastructure.reporting.getAllFeaturesFromReportable(a.reportable).forEach(function(d){(d=d.getPrimaryKeyValue())&&a.reportParameters.featureIds.push(d)});if(this.app.isOffline.get())throw n=Error("Reports cannot be run while offline."),n.name="OfflineReportImpossible",n;a.report.run(null,a.reportParameters,function(a){d.isAsync.set(a.isAsync);d.href.set(a.href);d.complete.set(!0);d.app.event("ReportResultEvent").publish(a)},function(a){d.app.event("ReportErrorEvent").publish(a)})}catch(l){this.app.event("ReportErrorEvent").publish(l)}};
return b}(e.framework.ui.ViewModelBase);k.RunReportViewModel=p})(k.reporting||(k.reporting={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(e){function b(){e.apply(this,arguments);this.features=new ObservableCollection;this.availableReportListings=new ObservableCollection}__extends(b,e);b.prototype.initialize=function(a){void 0===a&&(a={});e.prototype.initialize.apply(this,arguments);this.warnUserWhenReportExcludesFeatures="warnUserWhenReportExcludesFeatures"in a?a.warnUserWhenReportExcludesFeatures:!1;this.app.command("ListReports").register(this,this._executeListReports,
this._canExecuteListReports);this.app.command("RunFeatureReport").register(this,this._executeListReports,this._canExecuteListReports);this.app.command("RunFeaturesReport").register(this,this._executeListReports,this._canExecuteListReports)};b.prototype._executeListReports=function(a){var d=this,b=f.infrastructure.reporting.getAllFeaturesFromReportable(a);this.features.set(b);this.availableReportListings.set(this._getVisibleReportsFromFeatures(b).map(function(a){var e=b.filter(function(d){return!d||
!d.layer||!d.layer.mapService||d.layer.mapService.id!==a.layer.mapService.id||d.layer.id!==a.layer.id}),f=d.features.get().filter(function(a){return-1===e.indexOf(a)});return{report:a,displayName:a.displayName,description:a.description,excludedFeatures:e,includedFeatures:f,details:d.getResource("language-list-reports-details").format(f.length,b.length),isMoreThanOneFeatureSelected:1<d.features.getLength()}}))};b.prototype._canExecuteListReports=function(a){a=f.infrastructure.reporting.getAllFeaturesFromReportable(a);
return 0<this._getVisibleReportsFromFeatures(a).length};b.prototype._getVisibleReportsFromFeatures=function(a){var d=[];a.forEach(function(a){a.layer&&-1===d.indexOf(a.layer)&&d.push(a.layer)});var b=[];d.forEach(function(a){a.reports&&a.reports.forEach(function(a){-1===b.indexOf(a)&&a.visible&&b.push(a)})});return b};b.prototype.engageReport=function(a){var d=this,b=a.report,e=a.excludedFeatures;a=a.includedFeatures;var f={report:b,reportable:a};this.warnUserWhenReportExcludesFeatures&&0<e.length?
this.app.command("Confirm").execute(this.getResource("language-list-reports-exclusion-warning-message").format(b.displayName,e.length,this.features.getLength(),a.length),this.getResource("language-list-reports-exclusion-warning-title"),function(a){a&&d.app.command("RunReport").execute(f)}):this.app.command("RunReport").execute(f)};return b}(e.framework.ui.ViewModelBase);k.ListReportsViewModel=p})(k.reporting||(k.reporting={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(a,d){var b=this;e.call(this,a,d);this.app.command("ListReports").postExecute.subscribe(this,function(){b.app.viewManager.activateView(b)});this.app.command("RunFeatureReport").postExecute.subscribe(this,function(){b.app.viewManager.activateView(b)});this.app.command("RunFeaturesReport").postExecute.subscribe(this,function(){b.app.viewManager.activateView(b)})}__extends(b,e);b.prototype.handleClickReport=
function(a,d,b){this.viewModel.engageReport(b)};return b}(e.framework.ui.ViewBase);f.ListReportsView=h})(f.reporting||(f.reporting={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);return b}(e.framework.application.ModuleBase);f.ReportingModule=h})(f.reporting||(f.reporting={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);return b}(e.framework.application.ModuleBase);f.ScalebarModule=h})(f.scalebar||(f.scalebar={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(l){function b(a,d){l.call(this,a,d);this.scaleInputBoxIsVisible=new Observable(!1);this.selectedScale=new Observable;this.inputScale=new Observable;this.scales=new ObservableCollection;this.label=new Observable(this.getResource("language-scale-label"));this.mobileMode=new Observable(this.app.configuration.mobileMode);this.isLeft=new Observable(!1);this.isRight=new Observable(!1);if(this.app.site&&this.app.site.isInitialized)this._onSiteInitialized(this.app.site);
else this.app.event("SiteInitializedEvent").once(this,this._onSiteInitialized);this.app.event("MapExtentChangedEvent").subscribe(this,this.mapExtentChanged)}__extends(b,l);b.prototype._onSiteInitialized=function(a){(a=this.app.map.__tileInfo&&this.app.map.__tileInfo.lods)&&a.length&&this.setScaleCollection(a);this.setScale(this.app.map.getScale())};b.prototype.mapExtentChanged=function(){this.setScale(this.app.map.getScale())};b.prototype.setScaleCollection=function(a){var d=this,b=[];a.forEach(function(a){d.isValidScale(a.scale)&&
(a=d.getEssentialScale(a.scale),b.push(a))});this.scales.set(b)};b.prototype.setScale=function(a){a=Math.round(a);if(!this.selectedScale.get()||Math.round(parseFloat(this.selectedScale.get().scale))!==a)for(var d=0;d<this.scales.getLength();d++){var b=this.scales.getAt(d);if(Math.round(parseFloat(b.scale))===a){this.selectedScale.set(b);break}}this.inputScale.set(this.scaleToString(a))};b.prototype.scaleToString=function(a){return f.infrastructure.FormatUtils.formatNumber(Math.round(a),f.infrastructure.NumberFormat.NUMBER)};
b.prototype.stringToScale=function(a){return f.infrastructure.FormatUtils.parseNumber(a)};b.prototype.isValidScale=function(a){return a>=this.app.map.getMaxScale()&&a<=this.app.map.getMinScale()};b.prototype.getEssentialScale=function(a){return new e.essentials.Scale("1:{0}".format(f.infrastructure.FormatUtils.formatNumber(Math.round(a),f.infrastructure.NumberFormat.NUMBER)),a.toString())};return b}(e.framework.ui.ViewModelBase);k.ScalebarViewModel=p})(k.scalebar||(k.scalebar={}))})(f.modules||(f.modules=
{}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments);this.scalebarContainer=this.scalebarHost=null}__extends(b,e);b.prototype.attach=function(a){var d=this;e.prototype.attach.call(this,a);var b=this.configuration;b.scalebarStyle?"line"!=b.scalebarStyle&&"ruler"!=b.scalebarStyle&&this.app.trace.warning("Configured value of '{0}' for scalebarStyle in ScalebarView is not known to be supported.".format(b.scalebarStyle)):b.scalebarStyle=
"line";b.scalebarUnit?"english"!=b.scalebarUnit&&"metric"!=b.scalebarUnit&&"dual"!=b.scalebarUnit&&this.app.trace.warning("Configured value of '{0}' for scalebarUnit in ScalebarView is not known to be supported.".format(b.scalebarUnit)):b.scalebarUnit="dual";b.showBackground=!!b.showBackground;b.showBackground&&$(this.scalebarContainer).addClass("scalebar-standout");"line"==b.scalebarStyle?$(this.scalebarContainer).addClass("scalebar-line-style"):"ruler"==b.scalebarStyle&&$(this.scalebarContainer).addClass("scalebar-ruler-style");
require(["esri/dijit/Scalebar"],function(a){new a({map:d.app.map,scalebarStyle:b.scalebarStyle,scalebarUnit:b.scalebarUnit},d.scalebarHost)})};b.prototype.toggleScaleInputBoxActive=function(){this.app.command("ToggleScaleInputBox").execute()};return b}(e.framework.ui.ViewBase);f.ScalebarView=h})(f.scalebar||(f.scalebar={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(f){function b(a,d){f.call(this,a,d);this.SEARCH_TYPE="BingGeocode";this.DEFAULT_ICONURI="Resources/Images/Icons/pin-red-32.png";this.culture=this.bingMapsKey=this.iconUri=null;this.libraryId=void 0;this.intSearchUniqueId=0;this.currentSearchId=null;this._searchCancelState={};this._bingGeocoder=null;this.name="Bing Geocode";this.description="Search provider for the Bing Geocode Service.";this.isEnabled=!0}__extends(b,f);
b.prototype.initialize=function(a){f.prototype.initialize.call(this,a);a&&a.bingMapsKey&&(this.bingMapsKey=a.bingMapsKey);this.culture=a&&a.culture?a.culture:!this.culture&&this.app.locale?this.app.locale:"en-US";a&&a.iconUri&&(this.iconUri=a.iconUri)};b.prototype._getGeocoder=function(){this._bingGeocoder||(this._bingGeocoder=new esri.virtualearth.VEGeocoder({bingMapsKey:this.bingMapsKey,culture:this.culture}));return this._bingGeocoder};b.prototype.search=function(a,d){var b=this,f=this.intSearchUniqueId++;
this.currentSearchId=f;this._searchCancelState[f]=!1;var h=new e.essentialsHtmlViewer.mapping.infrastructure.eventArgs.SearchProgressEventArgs;h.results=a;h.error=null;h.message="";h.searchType=this.SEARCH_TYPE;h.query=d;var l=function(){b.status=e.essentialsHtmlViewer.mapping.infrastructure.search.Status.IDLE};a?d?(this.status=e.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING,this._getGeocoder().addressToLocations(d).then(function(d){if(!b._searchCancelState[f]&&0<d.length){var k=
new esri.tasks.FeatureSet;k.displayFieldName="address";k.geometryType="esriGeometryPoint";d[0].spatialReference&&(k.spatialReference=d[0].spatialReference);var m=new e.essentialsHtmlViewer.mapping.infrastructure.FeatureSet({app:b.app});m.iconUri.set(b.iconUri?b.iconUri:b.DEFAULT_ICONURI);m.attributes.addItem(new e.essentialsHtmlViewer.mapping.infrastructure.FeatureAttribute("","addressLine","addressLine",b.app.getResource(b.libraryId,"language-search-bing-address")));m.attributes.addItem(new e.essentialsHtmlViewer.mapping.infrastructure.FeatureAttribute("",
"adminDistrict","adminDistrict",b.app.getResource(b.libraryId,"language-search-bing-admin-district")));m.attributes.addItem(new e.essentialsHtmlViewer.mapping.infrastructure.FeatureAttribute("","countryRegion","countryRegion",b.app.getResource(b.libraryId,"language-search-bing-country")));m.attributes.addItem(new e.essentialsHtmlViewer.mapping.infrastructure.FeatureAttribute("","district","district",b.app.getResource(b.libraryId,"language-search-bing-district")));m.attributes.addItem(new e.essentialsHtmlViewer.mapping.infrastructure.FeatureAttribute("",
"formattedAddress","formattedAddress",b.app.getResource(b.libraryId,"language-search-bing-formatted")));m.attributes.addItem(new e.essentialsHtmlViewer.mapping.infrastructure.FeatureAttribute("","locality","locality",b.app.getResource(b.libraryId,"language-search-bing-locality")));m.attributes.addItem(new e.essentialsHtmlViewer.mapping.infrastructure.FeatureAttribute("","postalCode","postalCode",b.app.getResource(b.libraryId,"language-search-bing-postal-code")));m.attributes.addItem(new e.essentialsHtmlViewer.mapping.infrastructure.FeatureAttribute("",
"postalTown","postalTown",b.app.getResource(b.libraryId,"language-search-bing-postal-town")));m.displayName.set(b.name);dojo.forEach(d,function(a){var d=JSON.parse(JSON.stringify(a.address));delete d.declaredClass;d=new esri.Graphic(esri.geometry.geographicToWebMercator(a.location),null,d);d=new e.essentialsHtmlViewer.mapping.infrastructure.Feature({graphic:d});d.label.set(a.address.formattedAddress);d.description.set(b.app.getResource(b.libraryId,"language-search-geocoding-score-description")+a.confidence);
d.zoomExtent.set(esri.geometry.geographicToWebMercator(a.bestView));m.addFeature(d)});a.featureSets.addItem(m)}l();b._searchCancelState[f]||(h.status=b.status,b.app.event("SearchProgress").publish(h),b.app.event("SearchProgressEvent").publish(h))},function(a){l();if(!b._searchCancelState[f]){var d="Bing Geocode error: "+a.message;h.status=e.essentialsHtmlViewer.mapping.infrastructure.search.Status.ERROR;h.error=a;h.message=d;b.app.trace.error(d);b.app.event("SearchProgress").publish(h);b.app.event("SearchProgressEvent").publish(h)}})):
this.app.trace.error("Bing Geocode Search Provider: Cannot perform search without search text."):this.app.trace.error("Bing Geocode Search Provider: Cannot perform search without a feature set collection.")};b.prototype.cancelSearch=function(){this.status===e.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING&&(this._searchCancelState[this.currentSearchId]=!0)};return b}(e.essentialsHtmlViewer.mapping.infrastructure.search.SearchProviderBase);f.BingGeocodeSearchProvider=h})(f.search||
(f.search={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(f){function b(a,d){f.call(this,a,d);this.SEARCH_TYPE="ArcGISGeocode";this.DEFAULT_ICONURI="Resources/Images/Icons/pin-blue-32.png";this.token=this.locatorUrl=this.iconUri=null;this.minimumScore=70;this.defaultZoomScale=8E3;this.singleLineField=null;this.parameters=[];this.globalSearchKey=null;this.intSearchUniqueId=0;this.currentSearchId=null;this._searchCancelState={};this._offlineSwitchToken=this._geocoder=null;this.name=
"ArcGIS Geocode";this.description="Search provider for the ArcGIS Geocode Service.";this.isEnabled=!0}__extends(b,f);b.prototype.initialize=function(a){f.prototype.initialize.call(this,a);a&&a.url&&(this.locatorUrl=a.url);a&&a.iconUri&&(this.iconUri=a.iconUri);a&&a.defaultZoomScale&&(this.defaultZoomScale=a.defaultZoomScale);a&&a.singleLineField&&(this.singleLineField=a.singleLineField);a&&a.minimumScore&&(this.minimumScore=a.minimumScore);if(!this.singleLineField&&this.locatorUrl)if(this.app.site&&
this.app.site.isInitialized)this._loadGeocodeDefinition();else this.app.event("SiteInitializedEvent").once(this,this._loadGeocodeDefinition)};b.prototype._loadGeocodeDefinition=function(){var a=this;if(this.app.isOffline.get())this._offlineSwitchToken=this.app.event("ApplicationOnlineEvent").subscribe(this,function(){a.app.event("ApplicationOnlineEvent").unsubscribe(a._offlineSwitchToken);a._loadGeocodeDefinition()});else if(!this.singleLineField&&this.locatorUrl){var d=this.locatorUrl+"?f=json"+
(this.token?"&token="+encodeURIComponent(this.token):"");esri.request({url:d}).then(function(d){d&&d.singleLineAddressField&&d.singleLineAddressField.name?a.singleLineField=d.singleLineAddressField.name:a.app.trace.error("ArcGIS geocode server does not support single address line query: '"+a.locatorUrl+"'.")},function(d){a.app.trace.error("Unable to retrieve geocode server information at: '"+a.locatorUrl+"': "+d.message)})}};b.prototype._getGeocoder=function(){if(!this._geocoder){var a=this.locatorUrl+
(this.token?"?token="+encodeURIComponent(this.token):"");this._geocoder=new esri.tasks.Locator(a);this.app&&this.app.map&&(this._geocoder.outSpatialReference=this.app.map.spatialReference)}return this._geocoder};b.prototype.updateToken=function(a){this.token=a;this._geocoder=null};b.prototype.search=function(a,d){var b=this,f=this.intSearchUniqueId++;this.currentSearchId=f;this._searchCancelState[f]=!1;var h=new e.essentialsHtmlViewer.mapping.infrastructure.eventArgs.SearchProgressEventArgs;h.results=
a;h.error=null;h.searchType=this.SEARCH_TYPE;h.query=d;h.endpointUrl=this.locatorUrl;var l=function(){b.status=e.essentialsHtmlViewer.mapping.infrastructure.search.Status.IDLE};if(a)if(d){this.status=e.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING;h.status=this.status;this.app.event("SearchProgress").publish(h);this.app.event("SearchProgressEvent").publish(h);var k=this._getGeocoder(),m;this.globalSearchKey===this.singleLineField?(m={},m[this.singleLineField]=d,m={address:m}):
m={address:this._getMultiLineFields(d)};var p=parseInt(this.minimumScore);!isNaN(p)&&(0>p||100<p)&&(p=null);k.addressToLocations(m).then(function(d){if(!b._searchCancelState[f]&&0<d.length){var k=new esri.tasks.FeatureSet;k.displayFieldName="address";k.geometryType="esriGeometryPoint";d[0].spatialReference&&(k.spatialReference=d[0].spatialReference);var m=new e.essentialsHtmlViewer.mapping.infrastructure.FeatureSet({app:b.app,esriFeatureSet:k});m.iconUri.set(b.iconUri?b.iconUri:b.DEFAULT_ICONURI);
m.attributes.addItem(new e.essentialsHtmlViewer.mapping.infrastructure.FeatureAttribute("","address","address",b.app.getResource(b.libraryId,"language-search-arcgis-address")));m.attributes.addItem(new e.essentialsHtmlViewer.mapping.infrastructure.FeatureAttribute("","score","score",b.app.getResource(b.libraryId,"language-search-arcgis-score")));m.displayName.set(b.name);dojo.forEach(d,function(a){if(isNaN(p)||a.score>=p){var d=new esri.Graphic(a.location,null,{address:a.address,score:a.score}),f=
new e.essentialsHtmlViewer.mapping.infrastructure.Feature({graphic:d});f.label.set(a.address);f.zoomScale.set(b.defaultZoomScale);f.description.set(b.app.getResource(b.libraryId,"language-search-geocoding-score-description")+a.score);k.features.push(d);m.addFeature(f)}});0<m.features.length()&&a.featureSets.addItem(m)}l();b._searchCancelState[f]||(h.status=b.status,b.app.event("SearchProgress").publish(h),b.app.event("SearchProgressEvent").publish(h))},function(a){l();b._searchCancelState[f]||(h.status=
e.essentialsHtmlViewer.mapping.infrastructure.search.Status.ERROR,h.error=a,h.message=a.message,b.app.event("SearchProgress").publish(h),b.app.event("SearchProgressEvent").publish(h))})}else this.app.trace.error("ArcGIS Geocode Search Provider: Cannot perform search without search text.");else this.app.trace.error("ArcGIS Geocode Search Provider: Cannot perform search without a feature set collection.")};b.prototype._getMultiLineFields=function(a){var d={},b;for(b in this.parameters)d[this.parameters[b].name]=
this.parameters[b].name===this.globalSearchKey?a:this.parameters[b].value;return d};b.prototype.cancelSearch=function(){this.status===e.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING&&(this._searchCancelState[this.currentSearchId]=!0)};return b}(e.essentialsHtmlViewer.mapping.infrastructure.search.SearchProviderBase);f.ArcGisGeocodeSearchProvider=h})(f.search||(f.search={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){(function(k){k.getIdentifyLayerIds=function(f,b,a,d,g,h,q,k){var m=[];if(!1===g||f.isVisible()){g=f.essentialsMap.site.essentialsMap.calculateScale();for(var p=0;p<f.layers.length;p++){var u=f.layers[p];if(!k||u.type!==e.essentials.LayerType.RASTER_LAYER){var w=u.identifiableAtAllScales||!1===h||u.withinScaleRange(g),t=u.isVisible()&&u.areAllAncestorsVisible();null!=q&&-1===$.inArray(u.id,q)||!t&&!1!==d||!w||!b(u)||(null==a||0==a.length||
0<=dojo.indexOf(a,u.featureType))&&m.push(u.id)}}}return m};k.getLayerDefinitions=function(e,b){var a=[];if(e.serviceLayer.layerDefinitions)for(var d=e.serviceLayer.layerDefinitions,g=0;g<d.length;g++)if(d[g])for(var f=0;f<b.length;f++)if(b[f]==g.toString()){a[g]=d[g];break}return a};k.getDynamicLayerInfos=function(e,b){for(var a=[],d=0;d<b.length;d++){var g=e.getDynamicLayerInfoById(b[d]);g&&a.push(g)}return a};k.appendToFeatureSetCollection=function(l,b,a,d){null==b&&(b=new f.infrastructure.FeatureSetCollection);
for(var g={},n=0;n<l.length;n++){var q=l[n],k=g[q.layerId];if(null==k){var m=a.findLayerById(q.layerId.toString());if(m&&m.type===e.essentials.LayerType.RASTER_LAYER){if(q.feature&&q.feature.attributes&&$.isEmptyObject(q.feature.attributes))return;var p=k=0,u;for(u in q.feature.attributes)if(q.feature.attributes.hasOwnProperty(u)){p++;var w=q.feature.attributes[u];"NoValue"!==w&&"NoData"!==w||k++}if(k===p)continue}k={};if(m)for(w=0;w<m.fields.length;w++)p=m.fields[w],k[p.alias]=p;if(m&&m.type===e.essentials.LayerType.RASTER_LAYER&&
m.fields)if(0===m.fields.length){if(q.feature.attributes)for(u in q.feature.attributes)w=q.feature.attributes[u],m.fields.push(new e.essentials.Field({layer:m,displayName:u,dataType:e.essentials.EssentialsFieldTypes.essentialsFieldTypeString,alias:u,hyperlinkLabel:"",name:u,searchable:!0,visible:!0}))}else for(var t in q.feature.attributes)if("Pixel value"===t)for(n=0;n<m.fields.length;n++)if("VALUE"===m.fields[n].name){m.fields[n].name="Pixel value";break}w=null;q.displayFieldName&&(k=k[q.displayFieldName])&&
k.name&&(w=k.name);w||(w=m&&m.displayField?m.displayField.name:m&&m.primaryKeyField&&m.primaryKeyField.name?m.primaryKeyField.name:q.displayFieldName);k=new esri.tasks.FeatureSet({displayFieldName:w,features:[]});q.feature.geometry&&(k.geometryType=q.feature.geometry.type,k.spatialReference=q.feature.geometry.spatialReference);k=new f.infrastructure.FeatureSet({esriFeatureSet:k,layer:m,app:this.app});m?k.displayName.set(m.displayName):k.displayName.set(q.layerName);g[q.layerId]=k}k.layer&&e.essentialsHtmlViewer.mapping.infrastructure.GraphicUtils.sanitizeAttributeNames(q.feature,
k.layer);k.esriFeatureSet.features.push(q.feature);m={graphic:q.feature,layer:k.layer,resolveLayerFields:!0,allowUnsafeContent:!1};a.drawingBehavior===e.essentials.DrawingBehavior.KML_SERVICE&&(m.allowUnsafeContent=d.configuration.allowUnsafeContent);q.feature._graphicsLayer&&(m.featureLayer=q.feature._graphicsLayer);a.drawingBehavior===e.essentials.DrawingBehavior.KML_SERVICE?(q=new f.infrastructure.KmlFeature(m),q.defaultNumberFormat=a.defaultNumberFormat?a.defaultNumberFormat:f.infrastructure.NumberFormat.DEFAULT,
q.defaultDateFormat=a.defaultDateFormat?a.defaultDateFormat:f.infrastructure.DateFormat.DEFAULT):q=new f.infrastructure.Feature(m);k.features.addItem(q)}for(var z in g)g.hasOwnProperty(z)&&(k=g[z],b.featureSets.addItem(k),k.resolveDataLinks(function(a){d.event("FeatureChangedEvent").publish(a)}));return b}})(k.IdentifyUtils||(k.IdentifyUtils={}))})(k.identify||(k.identify={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(){function l(b,a){this._identifyTaskErrorCount=this._identifyTaskCompletedCount=this._identifyTaskExecutedCount=0;this._isCancelled=this._taskExecutionComplete=!1;this.height=this.width=this.extent=this.tag=this.map=this.app=null;this.returnGeometry=this.topMostLayerOnly=!1;this.layersInVisibleScaleRangeOnly=this.visibleMapServicesOnly=this.visibleLayersOnly=!0;this.pixelTolerance=5;this.polygonPixelTolerance=2;this.allServicesInError=
!1;this.mapServicesAndLayersToIdentify=null;this.restrictRasterIdentifyToPoint=!0;this.layerRestriction=this.delayedFSCOpen=null;this.app=a||null;this.map=b}l.prototype._pointToExtent=function(b,a){void 0===a&&(a=this.pixelTolerance);var d=this.map.extent.getWidth()/this.map.width,d=a*d;return new esri.geometry.Extent(b.x-d,b.y-d,b.x+d,b.y+d,this.map.spatialReference)};l.prototype._checkAndReturnLayerRestriction=function(){var b=this.layerRestriction;b||(b=function(a){return a.identifiable&&a.supportsIdentify});
return b};l.prototype.execute=function(b,a,d,g,f){var h=this,l=this._checkAndReturnLayerRestriction();if(this.app&&b&&"polygon"==b.type&&e.essentials.GeometryUtilities.isSelfIntersectingPolygon(b)&&!f)e.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.simplifyPolygon(b,function(b){h.execute(b,a,d,g,!0)},function(a){h.app.trace.warning("An error occurred while attempting to simplify the identify geometry. Make sure that your proxy is configured correctly.");g(h,a,null)},this.app);else{this._identifyTaskErrorCount=
this._identifyTaskCompletedCount=this._identifyTaskExecutedCount=0;this.allServicesInError=this._taskExecutionComplete=!1;f=new esri.tasks.IdentifyParameters;f.tolerance=this.pixelTolerance;f.returnGeometry=this.returnGeometry;f.layerOption=this.topMostLayerOnly?esri.tasks.IdentifyParameters.LAYER_OPTION_TOP:esri.tasks.IdentifyParameters.LAYER_OPTION_ALL;f.width=this.width||this.map.width;f.height=this.height||this.map.height;f.mapExtent=this.extent||this.map.extent;f.geometry=b;for(var k=0;k<this.app.site.essentialsMap.mapServices.length;k++){var m=
this.app.site.essentialsMap.mapServices[k];if(m.serviceLayer&&m.serviceLayer instanceof esri.layers.FeatureLayer)this._handleFeatureLayer(b,m,m.serviceLayer,f,l,a,d,g);else if(m.serviceLayer instanceof esri.layers.KMLLayer)for(var p=m.serviceLayer.getLayers(),w=0;w<p.length;w++)p[w]instanceof esri.layers.FeatureLayer&&this._handleFeatureLayer(b,m,p[w],f,l,a,d,g);else m.serviceLayer instanceof esri.layers.ArcGISImageServiceLayer||this._handleLayer(m,f,l,a,d,g)}this._taskExecutionComplete=!0;this._conditionallyInvokeCompleteCallback(this,
d)}};l.prototype._handleLayer=function(b,a,d,g,n,l){var r=this,p=this._getLayersToIdentifyForMapService(b,null,d,!0);this._identifyTaskExecutedCount++;this.delayedFSCOpen&&this.delayedFSCOpen();var y=[],u=[],w=Promise.defer(),t=p.map(function(a){return a.toString()}),z=k.IdentifyUtils.getLayerDefinitions(b,t),s=function(a,d,e){r._isCancelled||(a=r._queryResultToIdentifyResults(a,d,e,a.displayFieldName),g(r,a,b))};p.forEach(function(d){var g=b.findLayerById(d.toString()),e=f.infrastructure.taskUtils.getQueryTask(g),
n=new esri.tasks.Query;n.outFields=["*"];n.outSpatialReference=r.app.map.spatialReference;n.returnGeometry=a.returnGeometry;n.where=z[d];"Polygon"===g.featureType?(n.geometry=r._applyTolerance(a.geometry,r.polygonPixelTolerance),u.push(e.execute(n).then(function(a){return w.promise.then(function(){return s(a,d,g.name)})}))):(n.geometry=r._applyTolerance(a.geometry,r.pixelTolerance),y.push(e.execute(n).then(function(a){return s(a,d,g.name)})))});"point"!==a.geometry.type&&this.restrictRasterIdentifyToPoint||
(p=dojo.clone(a),p.layerIds=this._getLayersToIdentifyForMapService(b,null,d,!1),p.layerIds=p.layerIds.filter(function(a){return b.findLayerById(a.toString()).type===e.essentials.LayerType.RASTER_LAYER}),0<p.layerIds.length&&(p.spatialReference=this.app.map.extent.spatialReference,d=f.infrastructure.taskUtils.getIdentifyTask(b),y.push(d.execute(p).then(function(a){r._isCancelled||(r._assignSpatialReferences(a),g(r,a,b))}))));Promise.all(y).then(function(){w.resolve();return Promise.all(u).then(function(){r._identifyTaskCompletedCount++;
r._conditionallyInvokeCompleteCallback(r,n)})})["catch"](function(a){r._isCancelled||(r._identifyTaskCompletedCount++,r._identifyTaskErrorCount++,l(r,a,b))})};l.prototype._assignSpatialReferences=function(b){for(var a=0;a<b.length;++a){var d=b[a];d.feature.geometry&&(d.feature.geometry.spatialReference=this.app.map.extent.spatialReference)}};l.prototype._getLayersToIdentifyForMapService=function(b,a,d,g){if(this.mapServicesAndLayersToIdentify)for(var f=0;f<this.mapServicesAndLayersToIdentify.length;f++){if(this.mapServicesAndLayersToIdentify[f].mapServiceId===
b.id)return e.essentialsHtmlViewer.mapping.modules.identify.IdentifyUtils.getIdentifyLayerIds(b,d,a,this.visibleLayersOnly,this.visibleMapServicesOnly,this.layersInVisibleScaleRangeOnly,this.mapServicesAndLayersToIdentify[f].layerIds,g)}else return e.essentialsHtmlViewer.mapping.modules.identify.IdentifyUtils.getIdentifyLayerIds(b,d,a,this.visibleLayersOnly,this.visibleMapServicesOnly,this.layersInVisibleScaleRangeOnly,null,g)};l.prototype._handleFeatureLayer=function(b,a,d,g,n,l,k,m){var p=this;
g.layerIds=this._getLayersToIdentifyForMapService(a,null,n,!1);if(0<g.layerIds.length||a.drawingBehavior==e.essentials.DrawingBehavior.KML_SERVICE){this.delayedFSCOpen&&this.delayedFSCOpen();var u=new esri.tasks.Query;u.geometry=b;"point"===b.type?u.geometry=a.heatMap&&a.heatMap.enabled?this._pointToExtent(b,a.heatMap.intensity):this._pointToExtent(b):a.drawingBehavior===e.essentials.DrawingBehavior.KML_SERVICE&&(u.geometry=b.getExtent());u.outFields=["*"];u.outSpatialReference=this.app.map.spatialReference;
u.returnGeometry=!0;this._identifyTaskExecutedCount++;var w=function(a,b){(b.essentialsMap&&b.essentialsMap.getMap&&a.isVisibleAtScale(b.essentialsMap.getMap().getScale())?a.queryFeatures(u):f.infrastructure.taskUtils.getQueryTask(a,b).execute(u)).then(dojo.hitch(b,function(a){p._isCancelled||(a=p._queryResultToIdentifyResults(a,d.layerId,d.name,d.displayField),a.forEach(function(a){a.feature._graphicsLayer=d}),p._identifyTaskCompletedCount++,l(p,a,this),p._conditionallyInvokeCompleteCallback(p,k))}),
dojo.hitch(b,function(a){p._isCancelled||(p._identifyTaskCompletedCount++,p._identifyTaskErrorCount++,m(p,a,this),p._conditionallyInvokeCompleteCallback(p,k))}))};if(d.updating)var t=dojo.connect(d,"onUpdateEnd",function(){w(d,a);dojo.disconnect(t)});else w(d,a)}};l.prototype._applyTolerance=function(b,a){return b instanceof esri.geometry.Point?this._pointToExtent(b,a):b};l.prototype._queryResultToIdentifyResults=function(b,a,d,g){var e=[];if(b&&b.features&&0<b.features.length)for(var f=0;f<b.features.length;f++)e.push({feature:b.features[f],
displayFieldName:g,layerId:a,layerName:d});return e};l.prototype._conditionallyInvokeCompleteCallback=function(b,a){b._taskExecutionComplete&&b._identifyTaskExecutedCount==b._identifyTaskCompletedCount&&(b.allServicesInError=b._identifyTaskExecutedCount==b._identifyTaskErrorCount,a(b))};l.prototype.cancel=function(){this._isCancelled=!0};return l}();k.MapIdentifyTask=p})(k.identify||(k.identify={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(l){function b(a,d){l.call(this,a,d);this.bufferingEnabled=!0;this._providers=[];this._previousFscSource=null;this._previousFscIds={};this._fscSourceCount={};this._fscDisplayName="";this.app.command("Identify").register(this,this.search);this._fscDisplayName=a.getResource(d,"language-identify-results-header")}__extends(b,l);b.prototype.initialize=function(a){l.prototype.initialize.call(this,a);a&&(a.resultsDisplayName&&
(this._fscDisplayName=a.resultsDisplayName),this.pixelTolerance=isNaN(parseInt(a.pixelTolerance))?5:parseInt(a.pixelTolerance),this.polygonPixelTolerance=isNaN(parseInt(a.polygonPixelTolerance))?2:parseInt(a.polygonPixelTolerance),this.topMostLayerOnly=void 0!=a.topMostLayerOnly?!!a.topMostLayerOnly:!1,this.returnGeometry=void 0!=a.returnGeometry?!!a.returnGeometry:!0,this.visibleLayersOnly=void 0!=a.visibleLayersOnly?!!a.visibleLayersOnly:!0,this.layersInVisibleScaleRangeOnly=void 0!=a.layersInVisibleScaleRangeOnly?
!!a.layersInVisibleScaleRangeOnly:!0,this.bufferingEnabled=void 0!=a.bufferingEnabled?!!a.bufferingEnabled:!0,this.restrictRasterIdentifyToPoint=void 0!=a.restrictRasterIdentifyToPoint?!!a.restrictRasterIdentifyToPoint:!0,dojo.isArray(a.tools)&&this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,!0),this.layerSelectorForIdentify=new k.LayerSelectorForIdentify(this.app,this),dojo.isArray(a.identifyProviders)&&this._loadProviders(a.identifyProviders))};b.prototype._loadProviders=
function(a){for(var d=0;d<a.length;d++){var b=a[d];b&&(b.libraryId&&!this.app.allLibrariesLoaded?this._loadProviderWhenLibrariesDownloaded(b):this._loadProvider(b))}};b.prototype._loadProviderWhenLibrariesDownloaded=function(a){var d=this,b=this.app.event("ViewerLibrariesDownloadedEvent").subscribe(this,function(){d.app.event("ViewerLibrariesDownloadedEvent").unsubscribe(b);d._loadProvider(a)})};b.prototype._loadProvider=function(a){var d=dojo.getObject(a.type);d?(d=new d(this.app,a.libraryId||this.libraryId),
d.isEnabled=!1!==a.enabled,d.initialize(a.configuration||{}),this._providers.push(d)):this.app.trace.error(this.id+" can't find identify provider typed "+a.type)};b.prototype.search=function(a){var d=this,b=this._processIdentifyArgs(a);this.cancelSearch();try{if(b.geometry&&"polygon"==b.geometry.type){var f=b.geometry;if(f.rings&&1===f.rings.length&&5===f.rings[0].length){var h=b.geometry.getExtent();if(!e.framework.utils.isNullOrUndefined(h)&&this.app.site){var l=this.app.site.getMap();if(l){var k=
l.toScreen(new esri.geometry.Point(h.xmin,h.ymin,h.spatialReference)),m=l.toScreen(new esri.geometry.Point(h.xmax,h.ymax,h.spatialReference));96===Math.abs(m.x-k.x)&&96===Math.abs(m.y-k.y)&&(b.geometry=h.getCenter())}}}}}catch(p){this.app.trace.warning("Could not perform rectangle validation of polygon geometry: "+p)}b.source=b.source||"Identify";b.doNotBuffer?this._executeIdentifyImpl(b):this._applyBufferIfConfigured(b).then(function(a){b.geometry=a.geometry;d._executeIdentifyImpl(b)},function(a){d.app.trace.error("Identify: Could not apply buffer. Operation failed.")})};
b.prototype._executeIdentifyImpl=function(a){var d=a.source||"Identify";this._previousFscSource&&(this.app.featureSetManager.tryCloseCollection(this._previousFscIds[this._previousFscSource]),this._previousFscIds[d]&&(this.app.featureSetManager.removeCollectionById(this._previousFscIds[d]),delete this._previousFscIds[d]));var b=new f.infrastructure.FeatureSetCollection;b.displayName.set(this._fscDisplayName);do this._fscSourceCount[d]=this._fscSourceCount.hasOwnProperty(d)?this._fscSourceCount[d]+
1:0,b.id=d+this._fscSourceCount[d];while(this.app.featureSetManager.getCollectionById(b.id));this._previousFscIds[d]=b.id;this._previousFscSource=b.sourceName=d;this.app.featureSetManager.addCollection(b);b.tag=a.geometry;for(d=0;d<this._providers.length;d++)this._providers[d].isEnabled&&this._providers[d].search(b,a)};b.prototype.cancelSearch=function(){for(var a=0;a<this._providers.length;a++)this._providers[a].cancelSearch()};b.prototype._processIdentifyArgs=function(a){a={geometry:a instanceof
esri.geometry.Geometry?a:a.geometry,source:void 0!=a.source?a.source:"Identify",extent:a instanceof esri.geometry.Geometry?null:a.extent||null,width:a instanceof esri.geometry.Geometry?null:parseInt(a.width)||null,height:a instanceof esri.geometry.Geometry?null:parseInt(a.height)||null,pixelTolerance:isNaN(parseInt(a.pixelTolerance))?this.pixelTolerance:parseInt(a.pixelTolerance),polygonPixelTolerance:isNaN(parseInt(a.polygonPixelTolerance))?this.polygonPixelTolerance:parseInt(a.polygonPixelTolerance),
topMostLayerOnly:void 0!=a.topMostLayerOnly?!!a.topMostLayerOnly:this.topMostLayerOnly,visibleLayersOnly:void 0!=a.visibleLayersOnly?!!a.visibleLayersOnly:this.visibleLayersOnly,visibleMapServicesOnly:void 0!=a.visibleMapServicesOnly?!!a.visibleMapServicesOnly:!1,layersInVisibleScaleRangeOnly:void 0!=a.layersInVisibleScaleRangeOnly?!!a.layersInVisibleScaleRangeOnly:this.layersInVisibleScaleRangeOnly,restrictRasterIdentifyToPoint:void 0!=a.restrictRasterIdentifyToPoint?!!a.restrictRasterIdentifyToPoint:
this.restrictRasterIdentifyToPoint,returnGeometry:void 0!=a.returnGeometry?!!a.returnGeometry:this.returnGeometry,delayFSCOpen:void 0!=a.delayFSCOpen?!!a.delayFSCOpen:!1,layerRestriction:void 0!=a.layerRestriction&&dojo.isFunction(a.layerRestriction)?a.layerRestriction:null,doNotBuffer:void 0!=a.doNotBuffer?!!a.doNotBuffer:!1};"Identify"===a.source&&(a.identifiableLayerInfo=this.layerSelectorForIdentify.mapServiceLayersToIdentify);return a};b.prototype._applyBufferIfConfigured=function(a){var d=this;
return new Promise(function(b,e){var f=d.app.command("BufferGeometry");!d.bufferingEnabled||f.isWrapper?b({geometry:a.geometry}):f.execute({geometry:a.geometry,callback:function(a){return b(a)},errback:function(a){return e(a)},sourceCommand:a.source})})};return b}(e.framework.application.ModuleBase);k.IdentifyModule=p})(k.identify||(k.identify={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(a,d){e.call(this,a,d);this._menuIsActive=!1;this.app.event("ViewActivatedEvent").subscribe(this,function(a){"IWantToMenuView"===a.id&&this.root&&(dojo.removeClass(this.root,"wtm-inactive"),dojo.addClass(this.root,"wtm-active"),this._menuIsActive=!0)});this.app.event("ViewDeactivatedEvent").subscribe(this,function(a){"IWantToMenuView"===a.id&&this.root&&(dojo.removeClass(this.root,"wtm-active"),dojo.addClass(this.root,
"wtm-inactive"),this._menuIsActive=!1)})}__extends(b,e);b.prototype.handleButtonClick=function(a,d,b){this.app.command("ToggleView").execute("IWantToMenuView");return!1};return b}(e.framework.ui.ViewBase);f.IWantToMenuButtonView=h})(f.IWantToMenu||(f.IWantToMenu={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments);this.name=new Observable("");this.description=new Observable("");this.cssClass=new Observable("menu-item disabled");this.iconUri=new Observable("");this.commandParameter=this.commandName=null}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);this.name.set(a.name);this.description.set(a.description);this.iconUri.set(a.iconUri||"Resources/Images/Icons/arrow-right-24.png");
this.commandName=a.command;this.commandParameter=a.commandParameter};return b}(e.framework.ui.ViewModelBase);f.IWantToMenuItemViewModel=h})(f.IWantToMenu||(f.IWantToMenu={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);a&&a.menus&&this.app.menuRegistry.loadMenus(a)};return b}(e.framework.application.ModuleBase);f.IWantToMenuModule=h})(f.IWantToMenu||(f.IWantToMenu={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.resolveWidget=function(a,d,b){e.prototype.resolveWidget.call(this,a,d);if("MobileSettingsMenuWidget"===a&&!0===this.viewModel.mobileMode.get()||"MobileSettingsMenuWidget"===a&&!0===this.viewModel.mobileMode.get())return this.app.menuRegistry.createMenuWidget(this,d,b)};b.prototype.activated=function(){var a=this;e.prototype.activated.call(this);this.app.command("ClearActiveTool").execute();
this.app.event("FlyoutActivated").publish(this);var d={view:this,onOtherInteracted:function(d){return a._onOtherViewTapped(d)},onElementInteracted:function(d){return a._onMenuViewTapped(d)}};this.app.command("TapToDismiss").execute(d)};b.prototype.deactivated=function(){e.prototype.deactivated.call(this);this._lastState=!1;this.app.event("FlyoutDeactivated").publish(this)};b.prototype.handleMenuItemClick=function(a,d,b){this._deactivateSelf();e.prototype.handleMenuItemClick.call(this,a,d,b)};b.prototype.handleMobileModeHeaderClick=
function(a,d,b){this._deactivateSelf()};b.prototype._onOtherViewTapped=function(a){$(a.srcElement||a.target).hasClass("wtm-button")||this._deactivateSelf()};b.prototype._onMenuViewTapped=function(a){var d=this;this.app.configuration.mobileMode&&!1===$(a.target).hasClass("list-menu-button")?(a={view:this,onOtherInteracted:function(a){return d._onOtherViewTapped(a)},onElementInteracted:function(a){return d._onMenuViewTapped(a)}},this.app.command("TapToDismiss").execute(a)):this.app.configuration.mobileMode&&
!0===$(a.target).hasClass("list-menu-button")&&(a.target.click(),this._deactivateSelf())};b.prototype._deactivateSelf=function(){this.app.command("DeactivateView").execute(this.id)};return b}(e.essentialsHtmlViewer.mapping.infrastructure.menus.MenuView);f.IWantToMenuView=h})(f.IWantToMenu||(f.IWantToMenu={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(e){function b(a,d){e.call(this,a,d);this.mobileMode=new Observable(!1);this.showMenu=new Observable(!0);this.showGlobalMenu=new Observable(!0);this.menuTitle.set(this.getResource("language-menu-title"))}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);!0===this.app.configuration.mobileMode&&this.mobileMode.set(!0);a&&(a.hasOwnProperty("menuTitle")&&this.menuTitle.set(a.menuTitle),a.hasOwnProperty("showMenu")&&
this.showMenu.set(!!a.showMenu),a.hasOwnProperty("showGlobalMenu")&&this.showGlobalMenu.set(!!a.showGlobalMenu))};return b}(e.infrastructure.menus.MenuViewModel);f.IWantToMenuViewModel=k})(f.IWantToMenu||(f.IWantToMenu={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));geocortex.essentialsHtmlViewer.mapping.modules.results=geocortex.essentialsHtmlViewer.mapping.infrastructure.results;
(function(e){(function(f){(function(f){(function(k){(function(k){var p=f.infrastructure.FormatUtils,l=f.infrastructure.NumberFormat,b=function(a){function d(d,b){a.call(this,d,b);this.SEARCH_TYPE="InstantSearch";this.SEARCH_TYPE_HINTS="InstantSearchHints";this._cancelled=this._canExecute=!1;this._intSearchUniqueID=0;this._fscSourceName="Search";this.precedenceToNearbyResults=this.enableSearchHints=!0;this.maxResults=50;this.maxHints=5;this.name=this.app.getResource("Mapping","language-search-instant-provider-name");
this.description=this.app.getResource("Mapping","language-search-instant-provider-description");this.supportsHints=this.isEnabled=!0}__extends(d,a);d.prototype.initialize=function(d){a.prototype.initialize.call(this,d);d&&(d.hasOwnProperty("enableSearchHints")&&(this.enableSearchHints=d.enableSearchHints),d.hasOwnProperty("maxResults")&&(this.maxResults=parseInt(d.maxResults)),d.hasOwnProperty("maxHints")&&(this.maxHints=parseInt(d.maxHints)),d.hasOwnProperty("precedenceToNearbyResults")&&(this.precedenceToNearbyResults=
d.precedenceToNearbyResults));if(this.app.site&&this.app.site.isInitialized)this._onSiteInitialized(this.app.site);else this.app.event("SiteInitializedEvent").once(this,this._onSiteInitialized)};d.prototype.canExecute=function(){return this._canExecute?!0:this.isEnabled=!1};d.prototype.cancelSearch=function(){if(!this._cancelled){this._cancelled=!0;this.status=f.infrastructure.search.Status.IDLE;var a=new f.infrastructure.eventArgs.SearchProgressEventArgs;a.status=f.infrastructure.search.Status.IDLE;
a.message=this.app.getResource("Mapping","language-search-instant-provider-search-cancelled");a.results=null;this._updateProgress(a)}};d.prototype.search=function(a,d){var b=this;if(!1!==this.canExecute()){this._cancelled=!1;d=(d||"").split(/\s+/).map(function(a){var d=p.parseNumber(a);return isNaN(d)?a:p.formatNumber(d,l.ROUND_TRIP)}).join(" ");var k=new e.essentials.SearchQuery;k.searchText=d;k.maxResults=this.maxResults;k.searchLayers=this._getSearchableLayers();k.returnIdsOnly=!1;k.returnCountOnly=
!1;k.returnHighlights=!1;k.returnGeometry=!0;k.contains=!0;0==k.searchLayers.length?this._onSearchError(Error("No layers to search. Make sure you mark some layers as searchable in your site."),a,k):(this.precedenceToNearbyResults&&this.app.map?(k.extent=this.app.map.extent,k.outSpatialReference=this.app.map.spatialReference):(k.extent=null,k.outSpatialReference=null),this.status=f.infrastructure.search.Status.SEARCHING,this.app.site.search(k,function(d){return b._onSearchBegin(d,a)},function(d){return b._onSearchCompleted(d,
a,k)},function(d){return b._onSearchError(d,a,k)}))}};d.prototype.getSearchHints=function(a,d){var b=this;if(!1!==this.canExecute()&&d&&""!=d.replace(/ /g,"")&&this.enableSearchHints){var f=++this._intSearchUniqueID,h=new e.essentials.SearchQuery;h.searchText=d;h.maxResults=this.maxHints;h.searchLayers=this._getSearchableLayers();h.returnIdsOnly=!1;h.returnCountOnly=!1;h.returnGeometry=!1;h.returnHighlights=!0;h.contains=!0;this.precedenceToNearbyResults&&this.app.map?(h.extent=this.app.map.extent,
h.outSpatialReference=this.app.map.spatialReference):(h.extent=null,h.outSpatialReference=null);this.app.site.search(h,function(a){b._onGetSearchHintsBegin(a,f)},function(d){b._onGetSearchHintsCompleted(d,a,h,f)},function(d){b._onGetSearchHintsError(d,a,h,f)})}};d.prototype._onSiteInitialized=function(a){this._checkCanExecute(a)};d.prototype._checkCanExecute=function(a){a&&4<=a.getEssentialsVersion()?this._canExecute=this._hasSearchableMapServices(a):(this._canExecute=!1,this.app.trace.warning(this.app.getResource("Mapping",
"language-search-instant-provider-not-available")))};d.prototype._hasSearchableMapServices=function(a){for(var d=0;d<a.essentialsMap.mapServices.length;d++)if(a.essentialsMap.mapServices[d].instantSearch)return!0;return!1};d.prototype._getSearchableLayers=function(){for(var a=this.app.site.essentialsMap.allLayersAndTables(),d=[],b=0;b<a.length;b++)a[b].searchable&&a[b].mapService&&a[b].mapService.instantSearch&&d.push(a[b]);return d};d.prototype._onSearchBegin=function(a,d){if(!this._cancelled){var b=
new f.infrastructure.eventArgs.SearchProgressEventArgs;b.status=f.infrastructure.search.Status.SEARCHING;b.message=this.app.getResource("Mapping","language-search-instant-provider-search-started");b.searchType=this.SEARCH_TYPE;b.query=a.searchText;this._updateProgress(b)}};d.prototype._onSearchCompleted=function(a,d,b){if(!this._cancelled&&(this.status=f.infrastructure.search.Status.IDLE,!a.error)){a=this._createFeatureSetArray(a);for(var e=0;e<a.length;e++)this._addFsToFsc(a[e],d);a=new f.infrastructure.eventArgs.SearchProgressEventArgs;
a.status=f.infrastructure.search.Status.IDLE;a.message=this.app.getResource("Mapping","language-search-instant-provider-search-completed");a.results=d;a.searchType=this.SEARCH_TYPE;a.query=b.searchText;this._updateProgress(a)}};d.prototype._onSearchError=function(a,d,b){if(!this._cancelled){this.status=f.infrastructure.search.Status.IDLE;var e=new f.infrastructure.eventArgs.SearchProgressEventArgs;e.status=f.infrastructure.search.Status.ERROR;e.message=this.app.getResource("Mapping","language-search-error").format(a.message);
e.results=d;e.searchType=this.SEARCH_TYPE;e.query=b.searchText;this._updateProgress(e)}};d.prototype._onGetSearchHintsBegin=function(a,d){var b=new f.infrastructure.eventArgs.SearchProgressEventArgs;b.status=f.infrastructure.search.Status.SEARCHING;b.message=this.app.getResource("Mapping","language-search-instant-provider-search-started");b.searchType=this.SEARCH_TYPE_HINTS;b.query=a.searchText;this._updateProgress(b)};d.prototype._onGetSearchHintsCompleted=function(a,d,b,e){a=this._createFeatureSetArray(a);
if(e&&e===this._intSearchUniqueID){var k=[],l=!1;for(e=0;!l&&e<a.length;e++){var m=a[e];if(m)for(var p=0;!l&&p<m.features.getLength();p++){var t=m.features.getAt(p);if(t&&(t=t.getExtendedPropertyByName("highlights")))for(var z in t)if(t.hasOwnProperty(z)){var s=(t[z]+"").trim();(l=k.length>=this.maxHints)||-1!=k.indexOf(s)||k.push(s)}}}d.addItems(k.map(function(a){return new f.infrastructure.search.SearchHintItem(a)}))}d=new f.infrastructure.FeatureSetCollection;for(e=0;e<a.length;e++)this._addFsToFsc(a[e],
d);a=new f.infrastructure.eventArgs.SearchProgressEventArgs;a.status=f.infrastructure.search.Status.IDLE;a.message=this.app.getResource("Mapping","language-search-instant-provider-search-completed");a.results=d;a.searchType=this.SEARCH_TYPE_HINTS;a.query=b.searchText;this._updateProgress(a)};d.prototype._onGetSearchHintsError=function(a,d,b,e){this.app.trace.warning("InstantSearchProvider: could not retrieve search hints.");d=new f.infrastructure.eventArgs.SearchProgressEventArgs;d.status=f.infrastructure.search.Status.ERROR;
d.message=this.app.getResource("Mapping","language-search-error").format(a.message);d.searchType=this.SEARCH_TYPE_HINTS;d.query=b.searchText;this._updateProgress(d)};d.prototype._updateProgress=function(a){this.app.event("SearchProgressEvent").publish(a)};d.prototype._createFeatureSetArray=function(a){var d=[];if(a&&!a.error)for(var b=0;b<a.results.length;b++){var e=a.results[b],k=new f.infrastructure.FeatureSet({esriFeatureSet:new esri.tasks.FeatureSet,layer:e.layer,app:this.app});dojo.forEach(e.features,
function(a){var d=new f.infrastructure.Feature({graphic:a.esriFeature,layer:e.layer,resolveLayerFields:!0});a.highlights&&d.setExtendedProperty("highlights",a.highlights);k.addFeature(d)});d.push(k)}return d};d.prototype._addFsToFsc=function(a,d){var b=this;a&&a.esriFeatureSet&&0!=a.esriFeatureSet.features.length&&(a.resolveDataLinks(function(a){b.app.event("FeatureChangedEvent").publish(a)}),d.featureSets.addItem(a))};return d}(f.infrastructure.search.SearchProviderBase);k.InstantSearchProvider=
b})(k.search||(k.search={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(k){function b(a,d){k.call(this,a,d);this.SEARCH_TYPE="ArcGIS";this._cancelFunction=null;this.name="Query";this.description="Search provider for querying map servers or feature servers.";this.supportsOffline=this.isEnabled=!0}__extends(b,k);b.prototype.initialize=function(a){k.prototype.initialize.call(this,a)};b.prototype.search=function(a,d){var b=this;d=d.trim();if(a)if(d)if(this.app.site&&this.app.site.isInitialized){this._cancelFunction&&
this._cancelFunction();for(var n=!1,k=0;k<this.app.site.essentialsMap.mapServices.length;k++)if(this.app.site.essentialsMap.mapServices[k].instantSearch){n=!0;break}var l=this._getSearchableLayers();if(0==l.length)n||this._handleWarning(Error("No layers to search. Make sure you mark some layers as searchable in your site."),a,d);else{this.status=e.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING;var m=!1,p=0,u=new e.essentialsHtmlViewer.mapping.infrastructure.eventArgs.SearchProgressEventArgs;
u.results=a;u.error=null;u.message="";u.searchType=this.SEARCH_TYPE;u.query=d;u.status=this.status;this.app.event("SearchProgress").publish(u);this.app.event("SearchProgressEvent").publish(u);var w=function(d,f){m||(0<d.features.length&&b._addFsToFsc(d,f,a),p++,b.status=p===l.length?e.essentialsHtmlViewer.mapping.infrastructure.search.Status.IDLE:e.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING,u.status=b.status,b.app.event("SearchProgress").publish(u),b.app.event("SearchProgressEvent").publish(u))},
t=function(d,f){m||(p++,p===l.length&&(b.status=e.essentialsHtmlViewer.mapping.infrastructure.search.Status.IDLE),b._handleError(d,a,f.displayName))};this._cancelFunction=function(){m||(m=!0,b._cancelFunction=null,b.status=e.essentialsHtmlViewer.mapping.infrastructure.search.Status.IDLE)};l.forEach(function(a){f.infrastructure.gis.LayerInfo.fromGcxLayer(a).getFields().then(function(e){(e=f.infrastructure.taskUtils.getSearchTextWhereClause(a,e,d,b.app.trace))?a instanceof f.infrastructure.LayerIntegrationUtils.LocalLayer?
b._searchLocalLayer(d,a,w,t):b._searchLayer(a,e,w,t):p++},function(d){t(d,a)})})}}else this._handleError(Error("The site needs to be initialized before a search is performed."),a);else this._handleError(Error("Cannot perform search without search text."),a);else this._handleError(Error("Cannot perform search without a feature set collection."),a)};b.prototype._getSearchableLayers=function(){for(var a=this.app.site.essentialsMap.allLayersAndTables(),d=[],b=0;b<a.length;b++)a[b].mapService&&!a[b].mapService.instantSearch&&
a[b].searchable&&this._layerTypeSupported(a[b])&&d.push(a[b]);return d};b.prototype._searchLayer=function(a,d,b,e){var k=new esri.tasks.Query;k.where=d;k.outFields=["*"];k.outSpatialReference=this.app.map.spatialReference;k.returnGeometry=!0;f.infrastructure.taskUtils.getQueryTask(a).execute(k,function(d){b(d,a)},function(d){e(d,a)})};b.prototype._searchLocalLayer=function(a,d,b,e){try{var f=a.split(" ").map(function(a){return a.trim()}).filter(function(a){return!!a}).map(function(a){return RegExp("\\b"+
a+"\\b","i")}),h=d.mapService.serviceLayer,k=new esri.tasks.FeatureSet;a=0;a:for(;a<h.graphics.length;a++)for(var l=h.graphics[a],m=0,p=Object.keys(l.attributes);m<p.length;m++){var t=l.attributes[p[m]];if(f.map(function(a){return a.test(t)}).every(function(a){return!!a})){k.features.push(l);continue a}}b(k,d)}catch(z){e(z,d)}};b.prototype._addFsToFsc=function(a,d,b){var f=this;if(a&&a.features&&0<a.features.length)for(var h=0;h<a.features.length;h++)d.mapService&&d.mapService.serviceLayer&&(a.features[h]._graphicsLayer=
d.mapService.serviceLayer);a=new e.essentialsHtmlViewer.mapping.infrastructure.FeatureSet({esriFeatureSet:a,layer:d,app:this.app});a.resolveDataLinks(function(a){f.app.event("FeatureChangedEvent").publish(a)});b.featureSets.addItem(a)};b.prototype.cancelSearch=function(){this._cancelFunction&&this._cancelFunction()};b.prototype._layerTypeSupported=function(a){return a&&a.mapService?a.mapService.mapServiceType===e.essentials.MapServiceType.DYNAMIC?!0:a.mapService.mapServiceType===e.essentials.MapServiceType.TILED?
!0:a.mapService.mapServiceType===e.essentials.MapServiceType.FEATURE?!0:a.mapService.mapServiceType===e.essentials.MapServiceType.WMS?!0:!1:!1};b.prototype._handleWarning=function(a,d,b,f){b="Layer Search Provider"+(b?" ("+b+"): ":": ")+a.message;var h=new e.essentialsHtmlViewer.mapping.infrastructure.eventArgs.SearchProgressEventArgs;h.results=d;h.status=e.essentialsHtmlViewer.mapping.infrastructure.search.Status.ERROR;h.error=a;h.message=b;h.searchType=this.SEARCH_TYPE;h.query=f;this.app.trace.warning(b);
this.app.event("SearchProgress").publish(h);this.app.event("SearchProgressEvent").publish(h)};b.prototype._handleError=function(a,d,b,f){b="Layer Search Provider"+(b?" ("+b+"): ":": ")+a.message;var h=new e.essentialsHtmlViewer.mapping.infrastructure.eventArgs.SearchProgressEventArgs;h.results=d;h.status=e.essentialsHtmlViewer.mapping.infrastructure.search.Status.ERROR;h.error=a;h.message=b;h.searchType=this.SEARCH_TYPE;h.query=f;this.app.trace.error(b);this.app.event("SearchProgress").publish(h);
this.app.event("SearchProgressEvent").publish(h)};return b}(e.essentialsHtmlViewer.mapping.infrastructure.search.SearchProviderBase);k.LayerQuerySearchProvider=p})(k.search||(k.search={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(a,d){e.call(this,a,d);this.enableSearchRefinement=new Observable(!0);this.minimumPopulateDelay=300;this.consecutiveSearchDelay=1E4;this.delayConsecutiveSearches=!1;this.minimumPrefixLength=3;this.searchText=new Observable("");this.enableUI=new Observable(!1);this.expanded=new Observable(!1);this.searchDisabled=!1;this.searchHints=new ObservableCollection;if(this.app.site&&this.app.site.isInitialized)this._onSiteInitialized(this.app.site);
else this.app.event("SiteInitializedEvent").once(this,this._onSiteInitialized)}__extends(b,e);b.prototype.initialize=function(a){a&&a.hasOwnProperty("enableSearchRefinement")&&this.enableSearchRefinement.set(a.enableSearchRefinement);a&&a.hasOwnProperty("minimumPopulateDelay")&&(this.minimumPopulateDelay=parseInt(a.minimumPopulateDelay));a&&a.hasOwnProperty("minimumPrefixLength")&&(this.minimumPrefixLength=parseInt(a.minimumPrefixLength));a&&a.hasOwnProperty("consecutiveSearchDelay")&&(this.consecutiveSearchDelay=
parseInt(a.consecutiveSearchDelay));a&&a.hasOwnProperty("delayConsecutiveSearches")&&(this.delayConsecutiveSearches=a.delayConsecutiveSearches);this.app.command("EnableSearchRefinement").register(this,this._executeEnableSearchRefinementCommand)};b.prototype.clearSearchHints=function(){this.searchHints.clear()};b.prototype.updateSearchHints=function(a){this.clearSearchHints();this.app.searchManager.getSearchHints(this.searchHints,a)};b.prototype._onSiteInitialized=function(a){this.enableUI.set(!0)};
b.prototype._executeEnableSearchRefinementCommand=function(a){this.enableSearchRefinement.set(a||!1)};return b}(e.framework.ui.ViewModelBase);f.SearchViewModel=h})(f.search||(f.search={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(e){function b(a,d){var b=this;e.call(this,a,d);this.app.command("FocusOnSearchHint").register(this,function(a){a===dojo.keys.DOWN_ARROW||a===dojo.keys.NUMPAD_2?f.infrastructure.FocusUtils.focus($(b.hintsList).find(".list-menu-button")[0]):a!==dojo.keys.UP_ARROW&&a!=dojo.keys.NUMPAD_8||f.infrastructure.FocusUtils.focus($(b.hintsList).find(".list-menu-button")[$(b.hintsList).find(".list-menu-button").length-1])})}__extends(b,
e);b.prototype.attach=function(a){var d=this;e.prototype.attach.call(this,a);this.viewModel&&this.viewModel.expanded.bind(this,function(a){d.app.command(a?"ActivateView":"DeactivateView").execute(d.id);a?(d.app.event("FlyoutActivated").publish(d),a={view:d,onOtherInteracted:function(a){return d._onOtherInteracted(a)}},d.app.command("TapToDismiss").execute(a)):d.app.event("FlyoutDeactivated").publish(d)})};b.prototype.handleHintClick=function(a,d,b){b&&b.plainText.get()&&(this._hideAutoComplete(),
this.viewModel.searchText.set(b.plainText.get()),this.app.command("GlobalSearch").execute(b.plainText.get()),this.app.event("SearchHintClickedEvent").publish(b))};b.prototype.handleRefineSearchClick=function(a,d,b){b&&b.plainText.get()&&(this._showAutoComplete(),this.viewModel.searchText.set(b.plainText.get()),this.viewModel.updateSearchHints(b.plainText.get()))};b.prototype.handleKeyDown=function(a,d,b){if($(document.activeElement).parent(".hints-list")&&-1<[dojo.keys.DOWN_ARROW,dojo.keys.UP_ARROW,
dojo.keys.NUMPAD_2,dojo.keys.NUMPAD_8].indexOf(a.keyCode)){d=$(this.hintsList).find(".list-menu-button");for(b=b=0;b<d.length&&d[b]!==document.activeElement;b++);if(a.keyCode===dojo.keys.DOWN_ARROW||a.keyCode===dojo.keys.NUMPAD_2)return f.infrastructure.FocusUtils.focus(d[++b]),!1;if(a.keyCode===dojo.keys.UP_ARROW||a.keyCode==dojo.keys.NUMPAD_8)return f.infrastructure.FocusUtils.focus(d[--b]),!1}return!0};b.prototype._showAutoComplete=function(){this.viewModel.expanded.set(!0)};b.prototype._onOtherInteracted=
function(a){this.viewModel.expanded.set(!1)};b.prototype._hideAutoComplete=function(){this.viewModel.expanded.set(!1)};return b}(e.framework.ui.ViewBase);k.SearchHintsView=p})(k.search||(k.search={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(f){function b(){f.apply(this,arguments);this.autoLoadSiteGeocoders=!0}__extends(b,f);b.prototype.initialize=function(a){a&&a.searchProviders&&this._loadProviders(a.searchProviders);a&&a.hasOwnProperty("autoLoadSiteGeocoders")&&!1==a.autoLoadSiteGeocoders&&(this.autoLoadSiteGeocoders=!1);if(this.autoLoadSiteGeocoders)if(this.app.site&&this.app.site.isInitialized)this._loadGeocoders();else this.app.event("SiteInitializedEvent").once(this,
this._loadGeocoders)};b.prototype._loadProviders=function(a){for(var d=0;d<a.length;d++){var b=a[d];b&&(b.libraryId&&!this.app.allLibrariesLoaded?this._loadProviderWhenLibrariesDownloaded(b):this._loadProvider(b))}};b.prototype._loadProviderWhenLibrariesDownloaded=function(a){var d=this,b=this.app.event("ViewerLibrariesDownloadedEvent").subscribe(this,function(){d.app.event("ViewerLibrariesDownloadedEvent").unsubscribe(b);d._loadProvider(a)})};b.prototype._loadProvider=function(a){var d=dojo.getObject(a.type);
d&&(d=new d(this.app,a.libraryId||this.libraryId),d.initialize(a.configuration),a.hasOwnProperty("enable")&&(d.isEnabled=a.enable),a.hasOwnProperty("name")&&(d.name=a.name),a.hasOwnProperty("description")&&(d.description=a.description),this.app.command("RegisterSearchProvider").execute(d))};b.prototype._loadGeocoders=function(){if(this.app.site&&this.app.site.isInitialized&&this.app.site.geocodingEndpoints&&0<this.app.site.geocodingEndpoints.length)for(var a=0;a<this.app.site.geocodingEndpoints.length;a++){var d=
this.app.site.geocodingEndpoints[a];if(d.includeInGlobalSearch)if(d.geocoderType==e.essentials.GeocodingEndpointType.BING_GEOCODER){var b=new e.essentialsHtmlViewer.mapping.modules.search.BingGeocodeSearchProvider(this.app,this.libraryId);b.libraryId=this.libraryId;b.name=d.displayName;b.iconUri=e.essentials.RestHelper.processClientSideTokens(this.app.site,d.iconUri);b.initialize({});b.bingMapsKey=d.bingProperties.bingMapsKey;d.bingProperties.culture&&(b.culture=d.bingProperties.culture);this.app.command("RegisterSearchProvider").execute(b)}else if(d.geocoderType==
e.essentials.GeocodingEndpointType.ARCGIS_GEOCODER){var f=new e.essentialsHtmlViewer.mapping.modules.search.ArcGisGeocodeSearchProvider(this.app,this.libraryId);f.libraryId=this.libraryId;f.locatorUrl=d.geocoderUrl;f.token=d.geocoderToken;f.name=d.displayName;f.iconUri=e.essentials.RestHelper.processClientSideTokens(this.app.site,d.iconUri);f.parameters=d.parameters;f.globalSearchKey=d.globalSearchKey;f.minimumScore=70;f.initialize({});this.app.command("RegisterSearchProvider").execute(f);d.geocoderToken&&
dojo.subscribe("ServiceTokenRefreshed",function(a){a.serviceUrl==f.locatorUrl&&f.updateToken(a.token)})}}};return b}(e.framework.application.ModuleBase);f.SearchModule=h})(f.search||(f.search={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(k){function b(a,d){k.call(this,a,d);this._keyDownTimer=null}__extends(b,k);b.prototype.attach=function(a){var d=this;k.prototype.attach.call(this,a);this.viewModel&&(this._keyDownTimer=new e.framework.utils.TimeDelayedAction(this.viewModel.minimumPopulateDelay,this._requestSearchHints,this),this.app.event("FSMCollectionClosedEvent").subscribe(this,function(a){"SearchResultsCollection"===a.featureSetCollectionId&&($(d.inputElement).prop("disabled",
!1),d.viewModel.searchDisabled=!1)}),this.app.event("SearchHintClickedEvent").subscribe(this,function(a){return d._delayConsecutiveSearches()}))};b.prototype.handleKeyDown=function(a,d,b){b=a.which?a.which:a.keyCode;this._isUpOrDownKey(b)&&0!==this.viewModel.searchHints.length()&&this.app.command("FocusOnSearchHint").execute(b);if(this._isSpecialChar(b))return!0;this._resetKeyDownTimer(b);if(b===dojo.keys.ENTER){if(this.viewModel.searchDisabled)return!0;this._hideAutoComplete();this.app.command("GlobalSearch").execute(d.value);
this._delayConsecutiveSearches();a.preventDefault()}return!0};b.prototype.handleSearchClick=function(a,d,b){this._hideAutoComplete();(a=this.viewModel.searchText.get())&&!this.viewModel.searchDisabled&&(this.app.command("GlobalSearch").execute(a),this._delayConsecutiveSearches())};b.prototype._delayConsecutiveSearches=function(){var a=this;this.viewModel.delayConsecutiveSearches&&($(this.inputElement).prop("disabled",!0),this.viewModel.searchDisabled=!0,setTimeout(function(){$(a.inputElement).prop("disabled",
!1);a.viewModel.searchDisabled=!1},this.viewModel.consecutiveSearchDelay))};b.prototype.handleDoubleClick=function(){this._hideAutoComplete()};b.prototype._isSpecialChar=function(a){switch(a){case dojo.keys.TAB:case dojo.keys.SHIFT:case dojo.keys.CTRL:case dojo.keys.ALT:case dojo.keys.PAUSE:case dojo.keys.CAPS_LOCK:case dojo.keys.ESCAPE:case dojo.keys.PAGE_UP:case dojo.keys.PAGE_DOWN:case dojo.keys.END:case dojo.keys.HOME:case dojo.keys.LEFT_ARROW:case dojo.keys.UP_ARROW:case dojo.keys.RIGHT_ARROW:case dojo.keys.DOWN_ARROW:case dojo.keys.NUM_LOCK:case dojo.keys.SCROLL_LOCK:return!0}return!1};
b.prototype._isUpOrDownKey=function(a){switch(a){case dojo.keys.UP_ARROW:case dojo.keys.DOWN_ARROW:return!0}return!1};b.prototype._resetKeyDownTimer=function(a){this._keyDownTimer.stop();a!==dojo.keys.ENTER&&this._keyDownTimer.start()};b.prototype._requestSearchHints=function(){var a=this.viewModel,d=a.searchText.get();null===d||d.length<a.minimumPrefixLength||""==d.replace(/ /g,"")?(this._hideAutoComplete(),a.clearSearchHints()):(this._showAutoComplete(),a.updateSearchHints(d))};b.prototype._showAutoComplete=
function(){this.viewModel.expanded.set(!0);f.infrastructure.FocusUtils.focus(this.inputElement)};b.prototype._hideAutoComplete=function(){this.viewModel.expanded.set(!1)};return b}(e.framework.ui.ViewBase);k.SearchView=p})(k.search||(k.search={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(e){function b(){e.apply(this,arguments);this._metadataCache=new f.infrastructure.Dictionary}__extends(b,e);b.prototype.attach=function(a){e.prototype.attach.call(this,a);this._registerCommands()};b.prototype._registerCommands=function(){this.app.command("ShowSaveSelectionDialog").register(this,this.show,this._canShow);this.app.event("SelectionCreatedEvent").subscribe(this,this._handleSelectionCreated);this.app.event("SelectionChangedEvent").subscribe(this,
this._handleSelectionChanged);this.app.event("SelectionRemovedEvent").subscribe(this,this._handleSelectionRemoved)};b.prototype.handleKeyDown=function(a,d,b){(a.which?a.which:a.keyCode)===dojo.keys.ENTER&&(this.save(),a.preventDefault());return!0};b.prototype.handleCancelClick=function(a,d,b){this.app.viewManager.deactivateView(this)};b.prototype.handleSaveClick=function(a,d,b){this.save()};b.prototype.save=function(){var a=this,d=this.viewModel.name.get();this.viewModel.saveSelection(d).then(function(d){return a._processResults(d)})["catch"](function(d){return a._processError(d)})};
b.prototype.show=function(a,d){var b;if(b="string"===typeof a?this.app.featureSetManager.getCollectionById(a):a){var e=d;e||(e="Selection"===b.sourceName?b.getExtendedPropertyByName("SelectionName"):"");this.viewModel.featureSetCollection.set(b);this.viewModel.name.set(e);this.app.viewManager.activateView(this)}else this.app.trace.warning("Cannot save feature set collection: No feature set collection with matching ID found.")};b.prototype._canShow=function(a,d){var b;return(b="string"===typeof a?
this.app.featureSetManager.getCollectionById(a):a)&&0!=b.featureSets.length()?"Selection"===b.sourceName?b.isModified.get():!0:!1};b.prototype._processResults=function(a){a&&(this.viewModel.showConfirmationMessage(),this.app.viewManager.deactivateView(this));return a};b.prototype._processError=function(a){var d=a&&"UiError"==a.name?a.message:this.getResource("language-saved-results-error-message");this.app.command("AddResultsStatus").execute(d);this.app.trace.error(d,a);return a};b.prototype._handleSelectionCreated=
function(a){this._computeCanExecute(a?a.name:null,a&&a.featureSetCollection?a.featureSetCollection.id:null)};b.prototype._handleSelectionChanged=function(a){this._computeCanExecute(a?a.name:null,a&&a.featureSetCollection?a.featureSetCollection.id:null)};b.prototype._handleSelectionRemoved=function(a){this._computeCanExecute(a?a.name:null,a&&a.featureSetCollection?a.featureSetCollection.id:null)};b.prototype._computeCanExecute=function(a,d){var b=this;d&&this.viewModel.findMetadata(a,d).then(function(a){return a?
b._metadataCache.set(d,a):b._metadataCache.remove(d)})["catch"](function(a){return b._metadataCache.remove(d)}).lastly(function(){return b.app.command("ShowSaveSelectionDialog").raiseCanExecuteChanged()})};return b}(e.framework.ui.ViewBase);k.SaveSelectionView=p})(k.selection||(k.selection={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(f){function b(){f.apply(this,arguments);this.name=new Observable;this.featureSetCollection=new Observable;this._existingSelection=!1}__extends(b,f);b.prototype.saveSelection=function(a){var d=this;return Promise["try"](function(){d._assertNameNotNull(a);return d.selectionExists(a).then(function(b){d._existingSelection=b;return d._existingSelection?d.confirmOverwrite(a):Promise.resolve(!0)}).then(function(b){return d._existingSelection&&
b?d.updateSelection(a).thenReturn(!0):d._existingSelection?Promise.resolve(!1):d.createSelection(a).thenReturn(!0)})})};b.prototype.findMetadata=function(a,d){var b=this;return new Promise(function(e,f){var h={successCallback:e,errorCallback:f};if(!a&&!d)throw Error("The selection name or feature set collection ID must be set.");a&&(h.name=a);d&&(h.featureSetCollectionId=d);b.app.command("FindMetadataForSelection").execute(h)})};b.prototype.selectionExists=function(a){var d=this;return Promise["try"](function(){d._assertNameNotNull(a);
return d.findMetadata(a).then(function(a){return!e.framework.utils.isNullOrUndefined(a)})})};b.prototype.createSelection=function(a){var d=this;return new Promise(function(b,e){d._assertNameNotNull(a);d.app.command("CreateSelection").execute({name:a,featureSetCollection:d.featureSetCollection.get(),successCallback:b,errorCallback:e})})};b.prototype.updateSelection=function(a){var d=this;return new Promise(function(b,e){d._assertNameNotNull(a);d.app.command("UpdateSelection").execute({name:a,featureSetCollection:d.featureSetCollection.get(),
successCallback:b,errorCallback:e})})};b.prototype.confirmOverwrite=function(a){var d=this,b=this.app.getResource(this.libraryId,"language-saved-results-overwrite-prompt").format(a),e=this.app.getResource(this.libraryId,"language-saved-results-overwrite-prompt-title").format(a);return new Promise(function(a,f){return d.app.command("Confirm").execute(b,e,a)})};b.prototype.showConfirmationMessage=function(){var a=this.name.get(),d=this.featureSetCollection.get().countFeatures(),a=this.getResource(this._existingSelection?
"language-saved-results-update-confirmation":"language-saved-results-create-confirmation").format(a,d);this.app.command("AddResultsStatus").execute(a)};b.prototype._assertNameNotNull=function(a){if(e.framework.utils.isNullOrUndefined(a))throw Error("The selection name must be set.");};return b}(e.framework.ui.ViewModelBase);f.SaveSelectionViewModel=h})(f.selection||(f.selection={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(k){function b(a,d){k.call(this,a,d);this._fscSourceName="Selection";this._extPropName="SelectionName";this._resultsListStatusRegion="DataFrameResultsStatusRegion";this._resultsTableStatusRegion="ResultsStatusRegion";this._statusView=null;this._featureSetCollection=new Observable;this._metadataStore=new f.infrastructure.selection.SelectionMetadataStore(a)}__extends(b,k);b.prototype.initialize=function(a){k.prototype.initialize.call(this,a);
a=a||{};a.hasOwnProperty("resultsListStatusRegion")&&(this._resultsListStatusRegion=a.resultsListStatusRegion);a.hasOwnProperty("resultsTableStatusRegion")&&(this._resultsTableStatusRegion=a.resultsTableStatusRegion);this.app.menuRegistry.loadMenus(a);this._statusRegionName=this._resultsListStatusRegion;this._registerCommands()};b.prototype.getStateFilter=function(){var a=new f.infrastructure.validation.NumberValidator;return{results:this.app.project.filter.featureSetCollection,selections:{item:{id:!0,
name:!0,featureSetCollectionId:!0,count:a,modified:!0,timeCreated:a,timeModified:a,timeExpiration:a}}}};b.prototype.exportState=function(){var a=this;return Promise["try"](function(){return{results:a.app.project.convert.fromGcxFeatureSetCollection(a._featureSetCollection.get()),selections:a._metadataStore.findAll()}})};b.prototype.applyState=function(a){var d=this;return Promise["try"](function(){d._metadataStore.clear();return d.app.project.convert.toGcxFeatureSetCollection(a.results).then(function(b){d._featureSetCollection.set(b);
(a.selections||[]).forEach(function(a){d._metadataStore.add(a)});d._notifyCanExecuteChanged()})})};b.prototype._registerCommands=function(){var a=this;this.app.command("FindAllSelectionMetadata").register(this,this._executeFindAllSelectionMetadata);this.app.command("FindMetadataForSelection").register(this,this._executeFindMetadataForSelection);this.app.command("FindSelection").register(this,this._executeFindSelection,this._canFindSelection);this.app.command("CreateSelection").register(this,this._executeCreateSelection,
this._canCreateSelection);this.app.command("UpdateSelection").register(this,this._executeUpdateSelection,this._canUpdateSelection);this.app.command("RestoreSelection").register(this,this._executeRestoreSelection,this._canRestoreSelection);this.app.command("DeleteSelection").register(this,this._executeDeleteSelection,this._canDeleteSelection);this.app.command("RenameSelection").register(this,this._executeRenameSelection,this._canRenameSelection);this.app.command("AddFeatureToResults").register(this,
this._executeAddFeatureToResults,this._canAddFeatureToResults);this.app.command("RemoveFeatureFromResults").register(this,this._executeRemoveFeatureFromResults,this._canRemoveFeatureFromResults);this.app.command("CombineResults").register(this,this._executeCombineResults,this._canCombineResults);this.app.command("ResultsReplace").register(this,this._executeReplaceResults,this._canReplaceResults);this.app.command("ResultsUnion").register(this,this._executeUnionResults,this._canUnionResults);this.app.command("ResultsSubtract").register(this,
this._executeSubtractResults,this._canSubtractResults);this.app.command("ResultsIntersect").register(this,this._executeIntersectResults,this._canIntersectResults);this.app.command("AddResultsStatus").register(this,this.addStatus);this.app.command("RemoveResultsStatus").register(this,this.removeStatus);this.app.command("ShowResultsList").register(this,function(d){a._setStatusRegion(a._resultsListStatusRegion);(d="string"===typeof d?a.app.featureSetManager.getCollectionById(d):d)&&d!==a._featureSetCollection.get()&&
a._featureSetCollection.set(d);a._notifyCanExecuteChanged()});this.app.command("ShowResultsTable").register(this,function(d){a._setStatusRegion(a._resultsTableStatusRegion);(d="string"===typeof d?a.app.featureSetManager.getCollectionById(d):d)&&d!==a._featureSetCollection.get()&&a._featureSetCollection.set(d);a._notifyCanExecuteChanged()});this.app.event("ViewUnhostedEvent").subscribe(this,this._handleViewUnhosted);this.app.event("ResultsViewCollapsedEvent").subscribe(this,this._handleResultsViewCollapsed);
this.app.event("FSMCollectionRemovedEvent").subscribe(this,this._handleFsmCollectionRemovedEvent);this.app.event("FSMCollectionChangedEvent").subscribe(this,this._handleFsmCollectionChangedEvent)};b.prototype.addStatus=function(a){var d=this,b;"string"===typeof a?(b=new e.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(a),b.timeoutMS=0):b=a;this._statusView&&this.app.command("RemoveResultsStatus").execute();a=new e.essentialsHtmlViewer.mapping.modules.status.StatusMessageViewModel(this.app,
this.libraryId);a.text.set(b.text);a.closeTitle.set(b.closeTitle);a.imageUri.set(b.imageUri);a.imageClass.set(b.imageClass);a.statusClass.set(b.statusClass);var f=this.app.viewManager.createView({id:"ResultsStatusMessageView",type:"geocortex.essentialsHtmlViewer.mapping.modules.status.StatusMessageView",markup:this.libraryId+"/modules/Status/StatusMessageView.html",viewModel:a,visible:!0,libraryId:this.libraryId,regionName:this._statusRegionName});a.userClosedCallback=function(){f&&b&&b.userClosedCallback&&
b.userClosedCallback.call(f,f);d._statusView=null};"number"===typeof b.timeoutMS&&0<b.timeoutMS&&(a.timer=new e.framework.utils.TimeDelayedAction(b.timeoutMS,function(){return d.app.command("RemoveResultsStatus").execute()},this),a.timer.start());this._statusView=f};b.prototype.removeStatus=function(){this._statusView&&(this.app.viewManager.destroyView(this._statusView),this._statusView=null)};b.prototype._handleFsmCollectionChangedEvent=function(a){this._featureSetCollection.get()&&a&&a.featureSetCollectionId&&
a.featureSetCollectionId==this._featureSetCollection.get().id&&this._featureSetCollection.get().sourceName===this._fscSourceName&&(this._featureSetCollection.get().isModified.set(!0),this.app.command("ShowSaveSelectionDialog").raiseCanExecuteChanged())};b.prototype._handleFsmCollectionRemovedEvent=function(a){this._featureSetCollection.get()&&a&&a.featureSetCollectionId&&a.featureSetCollectionId==this._featureSetCollection.get().id&&(this._featureSetCollection.set(null),this.app.command("ShowSaveSelectionDialog").raiseCanExecuteChanged())};
b.prototype._setStatusRegion=function(a){this._statusRegionName=a||this._resultsListStatusRegion};b.prototype._handleViewUnhosted=function(a){var d=a.region;a=a.view;d&&d.name==this._statusRegionName&&a&&a.viewModel&&a.viewModel.timer&&a.viewModel.timer.stop()};b.prototype._handleResultsViewCollapsed=function(a){a&&this._statusView&&this.app.command("RemoveResultsStatus").execute()};b.prototype._copyFeatureSets=function(a,d,b){void 0===b&&(b=!1);if(a&&d&&a!=d)for(b&&d.clear(),b=0;b<a.featureSets.length();b++){var e=
a.featureSets.getAt(b);e&&(e=e.clone(),d.featureSets.addItem(e))}};b.prototype._copyExtendedProperties=function(a,d,b){void 0===b&&(b=!1);a&&d&&a!==d&&(b&&d.extendedProperties.clear(),a.extendedProperties.getItems().forEach(function(a){return d.setExtendedProperty(a.name,a.value)}))};b.prototype._copy=function(a){var d=new f.infrastructure.FeatureSetCollection;d.sourceName=a.sourceName;d.displayName.set(a.displayName.get());d.isModified.set(a.isModified.get());d.tag=a.tag;this._copyExtendedProperties(a,
d,!0);this._copyFeatureSets(a,d,!0);this.app.featureSetManager.addCollection(d);return d};b.prototype._create=function(a,d){var b=new f.infrastructure.FeatureSetCollection;b.sourceName=this._fscSourceName;b.tag=d.tag;b.displayName.set(a);this._copyFeatureSets(d,b,!0);this._copyExtendedProperties(d,b,!0);b.setExtendedProperty(this._extPropName,a);this.app.featureSetManager.addCollection(b);this._createMetadata(a,b);return b};b.prototype._createMetadata=function(a,d){if(!d)throw Error("Cannot create metadata for selection: A feature set collection is required.");
if(!a)throw Error("Cannot create metadata for selection: The selection name is required.");var b=(new Date).getTime(),b={id:null,name:a,featureSetCollectionId:d.id,count:d.countFeatures(),modified:!1,timeCreated:b,timeModified:b};return this._metadataStore.add(b)};b.prototype._update=function(a,d,b){d.displayName.set(b.displayName.get());d.tag=b.tag;this._copyFeatureSets(b,d,!0);this._copyExtendedProperties(b,d,!0);d.setExtendedProperty(this._extPropName,a.name);d.isModified.set(!1);b.isModified.set(!1);
b=(new Date).getTime();a.timeModified=b;a.count=d.countFeatures();a.modified=!1;this._metadataStore.updateById(a.id,a)};b.prototype._restore=function(a){if(!a)throw Error("Collection is required");-1<this.app.featureSetManager.getCollectionIds().indexOf(a.id)||this.app.featureSetManager.addCollection(a);this._restoreById(a.id)};b.prototype._restoreById=function(a){this.app.featureSetManager.tryCloseCollection(a);this.app.featureSetManager.openCollection(a);this.app.featureSetManager.closeCollection(a)};
b.prototype._delete=function(a,d){this.app.featureSetManager.tryCloseCollection(d.id);this.app.featureSetManager.removeCollectionById(d.id);this._metadataStore.removeById(a.id)};b.prototype._rename=function(a,d,b){var e=(new Date).getTime();d.timeModified=e;d.name=a;this._metadataStore.updateById(d.id,d);b.displayName.set(a);b.setExtendedProperty(this._extPropName,a)};b.prototype._existsInCollection=function(a,d){if(!a||!a.featureSet&&!a.layer)return!1;if(!d)throw Error("FeatureSetCollection is required");
for(var b=0;b<d.featureSets.getLength();b++){var e=d.featureSets.getAt(b),f=e.layer;if(a.featureSet&&a.featureSet.id===e.id)return e.containsFeature(a);var h=a.layer===f||a.layer&&f&&a.layer.mapService===f.mapService||a.layer&&f&&a.layer.mapService&&f.mapService&&a.layer.mapService.id==f.mapService.id;if((a.layer===f||a.layer&&f&&a.layer.id==f.id)&&h)return e.containsFeature(a)}return!1};b.prototype._tryAddToCollection=function(a,d){if(!d||!a||this._existsInCollection(a,d))return!1;var b=null,e=a.featureSet?
a.featureSet.id:null,k=a.layer;e&&(b=d.getFeatureSetById(e));!b&&k&&(b=d.getFeatureSetByLayer(k));b?b.addFeature(a):(b=new f.infrastructure.FeatureSet({app:this.app,layer:a.layer,esriFeatureSet:new esri.tasks.FeatureSet}),b.addFeature(a),d.featureSets.addItem(b));return!0};b.prototype._tryRemoveFromCollection=function(a,d){if(!d||!a)return!1;var b=null,e=a.featureSet?a.featureSet.id:null,f=a.layer,h=!1;e&&(b=d.getFeatureSetById(e));!b&&f&&(b=d.getFeatureSetByLayer(f));b&&(h=b.removeFeature(a),0===
b.features.getLength()&&(d.featureSets.removeItem(b),h=!0));return h};b.prototype._notifyCanExecuteChanged=function(){this.app.command("AddFeatureToResults").raiseCanExecuteChanged();this.app.command("RemoveFeatureFromResults").raiseCanExecuteChanged();this.app.command("CombineResults").raiseCanExecuteChanged();this.app.command("ResultsReplace").raiseCanExecuteChanged();this.app.command("ResultsUnion").raiseCanExecuteChanged();this.app.command("ResultsSubtract").raiseCanExecuteChanged();this.app.command("ResultsIntersect").raiseCanExecuteChanged()};
b.prototype._notifyFeatureSetCollectionChanged=function(){var a=new e.essentialsHtmlViewer.mapping.infrastructure.eventArgs.FeatureSetManagerEventArgs({sender:this,featureSetCollection:this._featureSetCollection.get(),featureSetCollectionId:this._featureSetCollection.get().id});this.app.event("FSMCollectionChangedEvent").publish(a)};b.prototype._executeAddFeatureToResults=function(a){var d=this._featureSetCollection.get()?this._featureSetCollection.get().displayName.get():"";this._tryAddToCollection(a,
this._featureSetCollection.get())&&(this._notifyCanExecuteChanged(),this._notifyFeatureSetCollectionChanged(),a=this.getResource("language-common-results-added-confirmation").format(1,d),this.app.command("AddResultsStatus").execute(a))};b.prototype._executeRemoveFeatureFromResults=function(a){var d=this._featureSetCollection.get()?this._featureSetCollection.get().displayName.get():"";this._tryRemoveFromCollection(a,this._featureSetCollection.get())&&(this._notifyCanExecuteChanged(),this._notifyFeatureSetCollectionChanged(),
a=this.getResource("language-common-results-removed-confirmation").format(1,d),this.app.command("AddResultsStatus").execute(a))};b.prototype._executeFindAllSelectionMetadata=function(a){a=a||{};a=a.successCallback||this._noop;var d=this._metadataStore.findAll();a(d)};b.prototype._executeFindMetadataForSelection=function(a){a=a||{};var d=a.successCallback||this._noop,b=a.errorCallback||this._noop,f=a.name;a=a.featureSetCollectionId;f||a?(b={},f&&(b.name=f),a&&(b.featureSetCollectionIds=[a]),f=this._metadataStore.find(b),
f=e.framework.utils.ArrayUtils.firstOrDefault(f),d(f)):b(Error("Cannot fetch selection metadata: A selection name or feature set collection ID is required."))};b.prototype._executeFindSelection=function(a){a=a||{};var d=null,b=a.successCallback||this._noop;(a=(a=(a=a.name)?this._metadataStore.findByName(a):null)?this.app.featureSetManager.getCollectionById(a.featureSetCollectionId):null)&&(d=this._copy(a));b(d)};b.prototype._executeCreateSelection=function(a){a=a||{};var d=a.successCallback||this._noop,
b=a.errorCallback||this._noop,e=a.featureSetCollection;(a=a.name)?(b="string"===typeof e?this.app.featureSetManager.getCollectionById(e):e,b=this._copy(this._create(a,b)),this._restore(b),d(),this.app.event("SelectionCreatedEvent").publish({name:a,featureSetCollection:b}),this._notifyCanExecuteChanged()):b(Error("Cannot create named selection: The selection name is required."))};b.prototype._executeUpdateSelection=function(a){a=a||{};var d=a.successCallback||this._noop,b=a.errorCallback||this._noop,
e=a.featureSetCollection;if(a=a.name){var f=this._metadataStore.findByName(a);if(f&&f.id){var e="string"===typeof e?this.app.featureSetManager.getCollectionById(e):e,h=this.app.featureSetManager.getCollectionById(f.featureSetCollectionId);h?(this._update(f,h,e),this._restore(e),d(),this.app.event("SelectionChangedEvent").publish({name:a,previousName:a,featureSetCollection:e}),this._notifyCanExecuteChanged()):b(Error("Cannot update named selection: feature set collection '{0}' not found.".format(f.featureSetCollectionId)))}else b(Error("Cannot update named selection: '{0}' not found.".format(a)))}else b(Error("Cannot update named selection: The selection name is required."))};
b.prototype._executeRestoreSelection=function(a){a=a||{};var d=a.successCallback||this._noop,b=a.errorCallback||this._noop,e;(e=a.name)?(a=this._metadataStore.findByName(e))?(e=this.app.featureSetManager.getCollectionById(a.featureSetCollectionId))?(b=this._copy(e),this._restore(b),d(),this._notifyCanExecuteChanged()):b(Error("Cannot restore named selection: feature set collection '{0}' not found.".format(a.featureSetCollectionId))):b(Error("Cannot restore named selection: '{0}' not found.".format(e))):
b(Error("Cannot restore named selection: The selection name is required."))};b.prototype._executeDeleteSelection=function(a){a=a||{};var d=a.successCallback||this._noop,b=a.errorCallback||this._noop,e=a.name;if(e){var f=this._metadataStore.findByName(e);f?(a=this.app.featureSetManager.getCollectionById(f.featureSetCollectionId))?(this._delete(f,a),d(),this.app.event("SelectionRemovedEvent").publish({name:e,featureSetCollection:a})):b(Error("Cannot delete named selection: feature set collection '{0}' not found.".format(f.featureSetCollectionId))):
b(Error("Cannot delete named selection: '{0}' not found.".format(e)))}else b(Error("Cannot delete named selection: The selection name is required."))};b.prototype._executeRenameSelection=function(a){a=a||{};var d=a.successCallback||this._noop,b=a.errorCallback||this._noop,e=a.name;a=a.newName;if(e&&a){var f=this._metadataStore.findByName(e);if(f&&f.id){var h=this.app.featureSetManager.getCollectionById(f.featureSetCollectionId);h?(this._rename(a,f,h),b=this._copy(h),(f=this._featureSetCollection.get())&&
f.sourceName===this._fscSourceName&&(h=f.getExtendedPropertyByName(this._extPropName))&&h===e&&(f.displayName.set(a),f.setExtendedProperty(this._extPropName,a)),d(),this.app.event("SelectionChangedEvent").publish({name:a,previousName:e,featureSetCollection:b}),this._notifyCanExecuteChanged()):b(Error("Cannot rename selection: feature set collection '{0}' not found.".format(f.featureSetCollectionId)))}else b(Error("Cannot rename selection: '{0}' not found.".format(e)))}else b(Error("Cannot rename selection: The selection name is required."))};
b.prototype._getCombineResultsCommandArgs=function(a,d){var b="string"===typeof a?a:a.id;return b?{combineMode:d||f.infrastructure.selection.CombineMode.REPLACE,currentResults:this._featureSetCollection.get(),featureSetCollectionIds:[b]}:null};b.prototype._executeReplaceResults=function(a){a=this._getCombineResultsCommandArgs(a,f.infrastructure.selection.CombineMode.REPLACE);this._executeCombineResults(a)};b.prototype._executeUnionResults=function(a){a=this._getCombineResultsCommandArgs(a,f.infrastructure.selection.CombineMode.UNION);
this._executeCombineResults(a)};b.prototype._executeSubtractResults=function(a){a=this._getCombineResultsCommandArgs(a,f.infrastructure.selection.CombineMode.SUBTRACT);this._executeCombineResults(a)};b.prototype._executeIntersectResults=function(a){a=this._getCombineResultsCommandArgs(a,f.infrastructure.selection.CombineMode.INTERSECT);this._executeCombineResults(a)};b.prototype._executeCombineResults=function(a){var d=this;if(a&&a.featureSetCollectionIds&&0!=a.featureSetCollectionIds.length){var b=
a.currentResults,e;(e="string"===typeof b?this.app.featureSetManager.getCollectionById(b):b)||(e=this._featureSetCollection.get());if(e){var b=!1,k=a.featureSetCollectionIds.map(function(a){return d.app.featureSetManager.getCollectionById(a)}).filter(function(a){return null!=a}),l=a.combineMode||f.infrastructure.selection.CombineMode.REPLACE,m=a.successCallback;switch(l){case f.infrastructure.selection.CombineMode.REPLACE:a=a.featureSetCollectionIds[0];this._restoreById(a);e=this.app.featureSetManager.getCollectionById(a);
break;case f.infrastructure.selection.CombineMode.UNION:b=e.unionManyInPlace(k);break;case f.infrastructure.selection.CombineMode.SUBTRACT:b=e.subtractManyInPlace(k);break;case f.infrastructure.selection.CombineMode.INTERSECT:b=e.intersectManyInPlace(k)}b&&(this._notifyCanExecuteChanged(),this._notifyFeatureSetCollectionChanged());m&&m({updatedCollection:e,combineMode:l,modified:b})}}};b.prototype._canAddFeatureToResults=function(a){var d=this._featureSetCollection.get();return d&&a?!this._existsInCollection(a,
d):!1};b.prototype._canRemoveFeatureFromResults=function(a){var d=this._featureSetCollection.get();return d&&a?this._existsInCollection(a,d):!1};b.prototype._canFindSelection=function(a){return!0};b.prototype._canCreateSelection=function(a){return!0};b.prototype._canUpdateSelection=function(a){return!0};b.prototype._canRestoreSelection=function(a){return!0};b.prototype._canDeleteSelection=function(a){return!0};b.prototype._canRenameSelection=function(a){return!0};b.prototype._canReplaceResults=function(a){return!0};
b.prototype._canUnionResults=function(a){return!0};b.prototype._canSubtractResults=function(a){return!0};b.prototype._canIntersectResults=function(a){return!0};b.prototype._canCombineResults=function(a){return!0};b.prototype._noop=function(){};return b}(e.framework.application.ModuleBase);k.SelectionModule=p})(k.selection||(k.selection={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(a,d){e.call(this,a,d);this.shareOptions={};this._urlToken="{ViewerUrl}"}__extends(b,e);b.prototype.initialize=function(a){var d=this;a.shareOptions&&a.shareOptions.forEach(function(a,b,e){if(a){b=a.displayName;e=a.url;var f=a.iconUri;a=a.id;b&&e&&f&&a&&(d.shareOptions[a]={displayName:new Observable(b),url:new Observable(e),iconUri:new Observable(f)})}});this._registerCommands()};b.prototype._registerCommands=
function(){var a=this;this.app.commandRegistry.command("ShareOn").register(this,function(d){var b=a.shareOptions[d];if(b){var e=a.app.getResource(a.libraryId,"language-share-share-on-prompt-content").format(b.displayName.get()),b=a.app.getResource(a.libraryId,"language-share-share-on-prompt-title").format(b.displayName.get());a.app.commandRegistry.command("Confirm").execute(e,b,function(b){b&&a._openUrl(a.shareOptions[d].url.get())})}},function(d){return!!a.shareOptions[d]});this.app.commandRegistry.command("GetShareOptions").register(this,
this._getShareOptions)};b.prototype._getShareOptions=function(a){a(this.shareOptions)};b.prototype._openUrl=function(a){var d=this;this.app.commandRegistry.command("HandleGenerateSharingLink").execute(function(b){b=encodeURIComponent(b);(b=a.replace(d._urlToken,b))&&b.toLowerCase().startsWith("mailto")&&d.app.configuration.mobileMode?window.open(b,"_top"):window.open(b,"_blank")})};return b}(e.framework.application.ModuleBase);f.ShareModule=h})(f.share||(f.share={}))})(f.modules||(f.modules={}))})(f.mapping||
(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(a,d){e.call(this,a,d);this.urlToken="{ViewerUrl}"}__extends(b,e);b.prototype.attach=function(a){var d=this;e.prototype.attach.call(this,a);this.app.commandRegistry.command("ShowShareView").register(this,function(){d.app.viewManager.activateView(d)},function(){return!!d.viewModel&&!!d.viewModel.shareOptions.get()&&0<d.viewModel.shareOptions.get().length})};b.prototype.handleClick=function(a,d,b){var e=this;
this.app.commandRegistry.command("HandleGenerateSharingLink").execute(function(a){a=encodeURIComponent(a);d.href=b.url.get().replace(e.urlToken,a)});return!0};return b}(e.framework.ui.ViewBase);f.ShareView=h})(f.share||(f.share={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(a,d){e.call(this,a,d);this.shareOptions=new ObservableCollection}__extends(b,e);b.prototype.initialize=function(a){var d=this,b=[];a.shareOptionIds&&a.shareOptionIds.hasOwnProperty("length")&&(b=a.shareOptionIds);this.app.commandRegistry.command("GetShareOptions").execute(function(a){d._populateShareOptions(a,b)})};b.prototype._populateShareOptions=function(a,d){var b=this;if(0===d.length){d=[];for(var e in a)d.push(e)}d.forEach(function(d){(d=
a[d])&&b.shareOptions.addItem(d)})};return b}(e.framework.ui.ViewModelBase);f.ShareViewModel=h})(f.share||(f.share={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(a,d){var b=this;e.call(this,a,d);this._providers=[];this._intrinsicUrlParameters=["configBase","viewer","viewerConfigUri"];this._appInitialized=!1;this.app.command("HandleGenerateSharingLink").register(this,this.handleGenerateSharingLink);dojo.connect(this.app,"initializationCompleteCallback",function(){return b.handleAppInitialize()})}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,
a);a&&(dojo.isArray(a.intrinsicUrlParameters)&&(this._intrinsicUrlParameters=a.intrinsicUrlParameters),dojo.isArray(a.sharingLinkProviders)&&this._loadProviders(a.sharingLinkProviders))};b.prototype.handleGenerateSharingLink=function(a){var d=window.location.href;-1<d.indexOf("?")&&(d=d.substring(0,d.indexOf("?")));for(var b=0;b<this._intrinsicUrlParameters.length;b++)this.app.getUrlParameter(this._intrinsicUrlParameters[b])&&(d+=-1<d.indexOf("?")?"&":"?",d+=encodeURIComponent(this._intrinsicUrlParameters[b])+
"=",d+=encodeURIComponent(this.app.getUrlParameter(this._intrinsicUrlParameters[b])));for(b=0;b<this._providers.length;b++){var e=this._providers[b];e.generateParameter&&(d+=-1<d.indexOf("?")?"&":"?",d+=encodeURIComponent(e.name)+"=",d+=encodeURIComponent(e.generate()))}a(d)};b.prototype.handleAppInitialize=function(){if(this.app&&this.app.urlParameters){this._providers.sort(function(a,b){return a.priority-b.priority});for(var a=0;a<this._providers.length;a++)this._applyProvider(this._providers[a]);
this._appInitialized=!0}};b.prototype._applyProvider=function(a){if(a.acceptParameter){var d=this.app.getUrlParameter(a.name);try{a.apply(d)}catch(b){this.app.trace.warning("SharingLinkModule: Could not apply the url parameter '{0}={1}'".format(a.name,d))}}};b.prototype._loadProviders=function(a){for(var d=0;d<a.length;d++){var b=a[d];b&&(b.libraryId&&!this.app.allLibrariesLoaded?this._loadProvidersWhenLibrariesDownloaded(b):this._loadProvider(b))}};b.prototype._loadProvidersWhenLibrariesDownloaded=
function(a){var d=this;this.app.event("ViewerLibrariesDownloadedEvent").once(this,function(){var b=d._loadProvider(a);d._appInitialized&&d._applyProvider(b)})};b.prototype._loadProvider=function(a){var d=dojo.getObject(a.type);if(d)return d=new d(this.app,a.libraryId||this.libraryId),d.acceptParameter=!1!==a.apply,d.generateParameter=!1!==a.generate,a.name&&(d.name=a.name),d.initialize(a.configuration||{}),this._providers.push(d),d;this.app.trace.error(this.id+" can't find sharing link provider typed "+
a.type)};return b}(e.framework.application.ModuleBase);f.SharingLinkModule=h})(f.sharingLink||(f.sharingLink={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);return b}(e.framework.ui.ViewModelBase);f.CommonShellViewModel=h})(f.shells||(f.shells={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(f){function b(){f.apply(this,arguments);this._waitForEsc=!1;this._escTimer=null}__extends(b,f);b.prototype.attach=function(a){var d=this;f.prototype.attach.call(this,a);window&&dojo.connect(window,"onkeyup",this,this.handleKeyUp);this.app.event("ViewActivatedEvent").subscribe(this,function(a){a instanceof e.essentialsHtmlViewer.mapping.modules.map.MapView&&d.app.command("CloseModalRegion").execute()});this.handleiOSShellIssue()};
b.prototype.handleiOSShellIssue=function(){navigator.userAgent.match(/iPad;.*CPU.*OS 7_\d/i)&&!window.navigator.standalone&&$("html").addClass("ipad ios7")};b.prototype.handleKeyUp=function(a){var d=this;!0===a.shiftKey&&27===a.keyCode?this._waitForEsc?(this._waitForEsc=!1,this.app.command("ToggleLogView").execute()):(this._waitForEsc=!0,this._escTimer=setTimeout(function(){d._waitForEsc=!1},1E3)):!0===a.ctrlKey&&!0===a.shiftKey&&192===a.keyCode&&this.app.command("ToggleLogView").execute();return!0};
b.prototype.scrollToTop=function(){window.scrollTo&&window.scrollTo(0,0)};b.prototype.handleCloseModalRegionClick=function(){this.app.modalRegionSingleton&&this.app.modalRegionSingleton.deactivateActiveView()};return b}(e.framework.ui.ViewBase);f.CommonShellView=h})(f.shells||(f.shells={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){(function(k){var l=function(b){function a(){b.apply(this,arguments);this.timeoutId=null;this.dataframeIsOpen=!1;this.resizeDelay=300}__extends(a,b);a.prototype.attach=function(a){var b=this;this.app.event("DataFrameOpenedEvent").subscribe(this,function(){$(b.buttonElement).removeClass("tab-closed");$(b.buttonElement).addClass("tab-open");b.isActive||b.app.command("ActivateView").execute(b.id);b.dataframeIsOpen=!0});this.app.event("DataFrameClosedEvent").subscribe(this,
function(){$(b.buttonElement).removeClass("tab-open");$(b.buttonElement).addClass("tab-closed");b.dataframeIsOpen=!1})};a.prototype.handleMouseDown=function(a,b,e){var f=this;1<a.button&&"mousedown"===a.type||!this.dataframeIsOpen||(this.timeoutId=setTimeout(function(){f._resizeDataFrame(a.pageX,a.pageY)},this.resizeDelay))};a.prototype.handleTouchStart=function(a,b,e){var f=this,h=null;$(this.viewModel.currentView.root).is(":visible")?($(this.app.getHostElement()).one("touchend.dataframe-toggle-click",
function(){f.app.command("CloseDataFrame").execute();clearTimeout(h)}),h=setTimeout(function(){$(f.app.getHostElement()).off("touchend.dataframe-toggle-click");f._resizeDataFrame(a.targetTouches[0].pageX,a.targetTouches[0].pageY)},this.resizeDelay)):this.app.command("OpenDataFrame").execute()};a.prototype.handleOnClick=function(a,b,e){this.app.command("ToggleDataFrame").execute();this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)};a.prototype._resizeDataFrame=function(a,b){this.viewModel.currentView instanceof
f.infrastructure.ui.components.SmartPanel.SmartPanelView?this.viewModel.currentView.resizeSmartPanel(a,b):this.app.viewManager.getViewById("DataFrameViewContainer").resizeSmartPanel(a,b)};return a}(e.framework.ui.ViewBase);k.DataFrameButtonView=l})(k.components||(k.components={}))})(k.shells||(k.shells={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){var h=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.handleTap=function(a,b,e){this.app.command("ToggleView").execute("NavBarSmallView");return!1};return a}(e.framework.ui.ViewBase);f.NavButtonView=h})(f.components||(f.components={}))})(f.shells||(f.shells={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex=
{}));(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){var h=function(b){function a(){b.apply(this,arguments)}__extends(a,b);return a}(e.framework.ui.ViewModelBase);f.NavButtonViewModel=h})(f.components||(f.components={}))})(f.shells||(f.shells={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){var h=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.handleTapNavButton=function(a,b,e){this.app.command("DeactivateView").execute(this.id);this.app.command("ActivateView").execute(e.view.id)};a.prototype.handleTapSwitcherCloseButton=function(a,b,e){this.app.command("DeactivateView").execute(this.id)};return a}(e.framework.ui.ViewBase);f.NavBarSmallView=h})(f.components||(f.components={}))})(f.shells||
(f.shells={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));(function(e){e=e.essentialsHtmlViewer||(e.essentialsHtmlViewer={});e=e.mapping||(e.mapping={});e=e.modules||(e.modules={});e=e.shells||(e.shells={});e=e.PanelPosition||(e.PanelPosition={});e[e.Minimized=0]="Minimized";e[e.Partial=1]="Partial";e[e.Maximized=2]="Maximized"})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments);this._resizeShell=!0}__extends(b,e);b.prototype.attach=function(a){var d=this;e.prototype.attach.call(this,a);this.configuration&&!1===this.configuration.resizeShell&&(this._resizeShell=!1);this.app.event("ApplicationNativeReadyEvent").subscribe(this,function(){d._native=d.app.isNative.get()});if(!this.configuration||!0!==this.configuration.disableHideAddressBar){var b=this.root;
a=navigator.userAgent;this._iphone=!(!~a.indexOf("iPhone")&&!~a.indexOf("iPod"));this._ipad=!!~a.indexOf("iPad");this._ios=this._iphone||this._ipad;this._native=this.app.isNative.get();this._fullscreen=window.navigator.standalone;this._android=!!~a.indexOf("Android");this._androidChrome=/Android.*Chrome/.test(a);this._androidFirefox=/Firefox/.test(a);this._androidWebkit=this._android&&/WebKit/.test(a);this._androidGecko=this._android&&/Gecko/.test(a);var f=0;window.onresize=function(){f!=b.offsetWidth&&
(d.app.command("RecenterMapOnNextMapResize").execute(),f=b.offsetWidth)}}};b.prototype.resizeShell=function(){if(this._resizeShell&&this.screenRegionElement){var a=!this._android||this._androidChrome||this._androidFirefox?dojo.window.getBox().h:window.outerHeight/window.devicePixelRatio,d=!this._android||this._androidChrome||this._androidFirefox?dojo.window.getBox().w:window.outerWidth/window.devicePixelRatio,b=this.screenRegionElement;dojo.style(b,"height",a-50+"px");dojo.style(b,"width",d+"px")}};
return b}(e.essentialsHtmlViewer.mapping.modules.shells.CommonShellView);f.HandheldShellView=h})(f.shells||(f.shells={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(h){function b(){h.apply(this,arguments);this.cssClasses={maximized:"panel-maximized",partial:"panel-partial-height",minimized:"panel-minimized",hiddenDueToMaximization:"hidden-by-panel",screenRegionSlideUp:"slide-up-end",leftPanelOpen:"left-panel-open",leftPanelOpening:"left-panel-opening",leftPanelClosed:"left-panel-closed",leftPanelClosing:"left-panel-closing"};this._headerBarDeactivateAnimation=["header-active:0","header-inactive:0"];
this._headerBarActivateAnimation=["header-inactive:0","header-active:0"];this._leftPanelOpenAnimation=["left-panel-closed:0","left-panel-opening:0","left-panel-opened:300"];this._leftPanelCloseAnimation=["left-panel-opened:0","left-panel-closing:300","left-panel-closed:0"];this._topRightRegionActivateAnimation=["top-right-shell-region-closed:0","top-right-shell-region-opening","top-right-shell-region-opened:250"];this._topRightRegionDeactivateAnimation=["top-right-shell-region-opened:0","top-right-shell-region-closing:250",
"top-right-shell-region-closed:0"];this._navRegionActivateAnimation=["nav-region-closed:0","nav-region-opening:0","nav-region-opened:500"];this._navRegionDeactivateAnimation=["nav-region-opened:0","nav-region-closing:500","nav-region-closed:0"];this._domBreatheDelay=50;this._resizeSettleTimeoutMs=550;this._bottomPanelOpening=!1;this._useCssTransitions=!0;this._cssTransitionStyle="transition";this._cssTransitionEnd="transitionend";this._cssTransitionEndMap={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",
OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}}__extends(b,h);b.prototype.added=function(a){var d=this;$(this.app.getHostElement()).addClass("shell-small");this._detectCssTransitions();this._shellDimensions=this._measureShellDimensions();this.app.event("ViewActivatedEvent").subscribe(this,this._handleViewActivated);this.app.event("ViewDeactivatedEvent").subscribe(this,this._handleViewDeactivated);this.app.event("RegionActivatedEvent").subscribe(this,
this._handleRegionActivated);this.app.event("RegionDeactivatedEvent").subscribe(this,this._handleRegionDeactivated);this.app.event("ApplicationResizedEvent").subscribe(this,this._resizeShellOnceSettled);this.app.event("ApplicationNativeReadyEvent").subscribe(this,this.resizeShell);this.app.command("ResizeShell").register(this,this.resizeShell);this.app.command("OpenDataFrame").register(this,function(){return d._openBottomPanel()});this.app.command("CloseDataFrame").register(this,function(){return d._closeBottomPanel()});
this.app.command("DataFrameRaise").register(this,function(){return d._rotateDataFramePosition(!0,!1)});this.app.command("DataFrameLower").register(this,function(){return d._rotateDataFramePosition(!1,!1)});this.app.command("DataFrameCyclePosition").register(this,function(){return d._rotateDataFramePosition()});this.app.command("_SetDataFrameAutoOpenClose").register(this,function(a){return d.viewModel.bottomPanelAutoPosition=a});this.app.command("_ExportShellState").register(this,this._exportState);
this.app.command("_ApplyShellState").register(this,this._applyState);this.app.event("ToolbarFlyoutDeactivatedEvent").subscribe(this,this._handleToolbarFlyoutDeactivatedEvent);$(window).on("scroll",function(a){return d._resizeShellOnceSettled()});this._yield(function(){e.framework.ui.animation.create(d.bottomPanelRegionElement).add({transform:"translate(0px, {0}px)".format(d._shellDimensions.height),duration:0}).play()})};b.prototype.resizeShell=function(a){var d=this;void 0===a&&(a=!1);if(this.containerElement){var b=
this._measureShellDimensions(),h,k;this._shellDimensions?(h=this._shellDimensions.width!==b.width,k=this._shellDimensions.height!==b.height):(this._shellDimensions=this._measureShellDimensions(),k=h=!0);if(this._ios&&!this._native){var l=document.body.offsetHeight,p=window.innerHeight;Math.abs(window.orientation);p<l?($(this.containerElement).css({top:"{0}px".format(l-p)}),$(this.navigationRegionElement).css({top:"{0}px".format(p)}),b.height=p,a=!0):($(this.containerElement).css({top:"0px"}),$(this.navigationRegionElement).css({top:"{0}px".format(l)}),
$("body").height(""),b.height=p)}if(a||h||k){this._shellDimensions=b;this.viewModel.headerHeight=$(this.headerRegionElement).height();if(!this.viewModel.headerHeight||isNaN(this.viewModel.headerHeight))this.viewModel.headerHeight=f.SmallShellViewModel.DEFAULT_HEADER_HEIGHT;if(k||a){switch(this.viewModel.bottomPanelPosition){case f.PanelPosition.Minimized:case f.PanelPosition.Partial:this.viewModel.bottomPanelTargetHeight=this.viewModel.config.bottomPanelHeightPercent*this._shellDimensions.height;
break;case f.PanelPosition.Maximized:this.viewModel.bottomPanelTargetHeight=this._shellDimensions.height+1}$(this.screenRegionElement).height(b.height-this.viewModel.headerHeight);$(this.containerElement).height(b.height)}if(h||k||a)setTimeout(scrollTo,1,0,0),this._yieldForDom(function(){d.app.command("MapResize").execute();d._setPanelVerticalOffset(null,d.viewModel.bottomPanelPosition);var a=d.app.viewManager.getRegionForViewId(d.id);d.app.event("ViewDimensionsChangedEvent").publish(new e.framework.events.ViewDimensionsChangedArgs(d,
a))})}}};b.prototype._oneTimePanelTransitionEvent=function(a){if(this._useCssTransitions)$(this.bottomPanelRegionElement).one(this._cssTransitionEnd,function(d){a(d)});else this._yield(a)};b.prototype._viewIsInBottomPanelRegion=function(a){return(a=this.app.viewManager.getRegionForViewId(a.id))&&"BottomPanelRegion"===a.name};b.prototype._handleViewActivated=function(a){!this._bottomPanelOpening&&this.viewModel.bottomPanelAutoPosition&&this._viewIsInBottomPanelRegion(a)&&this.app.command("OpenDataFrame").execute()};
b.prototype._handleViewDeactivated=function(a){if(this.viewModel.bottomPanelAutoPosition)if(-1!==this.viewModel.config.closeBottomPanelWhenDeactivated.indexOf(a.id))this._changeDataFramePosition(f.PanelPosition.Minimized);else if((a=this.app.viewManager.getRegionForViewId(a.id))&&(!a||"BottomPanelRegion"===a.name)){var d=!1;a.views.forEach(function(a){return d=a.isActive?!0:d});d||this._changeDataFramePosition(f.PanelPosition.Minimized)}};b.prototype._handleRegionActivated=function(a){var d=this;
switch(a.name){case "LeftPanelRegion":e.framework.ui.animation.play(this.leftPanelRegionElement,this._leftPanelOpenAnimation).then(function(a){return d.app.event("LeftPanelOpenedEvent")});$(this.leftPanelRegionElement).removeClass(this.cssClasses.leftPanelClosed);$(this.leftPanelRegionElement).removeClass(this.cssClasses.leftPanelClosing);break;case "TopRightShellRegion":e.framework.ui.animation.play(this.topRightShellRegionElement,this._topRightRegionActivateAnimation);break;case "SmallNavigationRegion":e.framework.ui.animation.play(this.navigationRegionElement,
this._navRegionActivateAnimation).then(function(a){return d.app.event("SmallNavigationPanelOpenedEvent")})}};b.prototype._handleRegionDeactivated=function(a){var d=this;switch(a.name){case "LeftPanelRegion":e.framework.ui.animation.play(this.leftPanelRegionElement,this._leftPanelCloseAnimation).then(function(a){return d.app.event("LeftPanelClosedEvent")});$(this.leftPanelRegionElement).removeClass(this.cssClasses.leftPanelOpen);$(this.leftPanelRegionElement).removeClass(this.cssClasses.leftPanelOpening);
break;case "TopRightShellRegion":e.framework.ui.animation.play(this.topRightShellRegionElement,this._topRightRegionDeactivateAnimation);break;case "SmallNavigationRegion":e.framework.ui.animation.play(this.navigationRegionElement,this._navRegionDeactivateAnimation).then(function(a){return d.app.event("SmallNavigationPanelClosedEvent")})}};b.prototype._handleToolbarFlyoutDeactivatedEvent=function(a){var d=this;this.app.command("DeactivateView").execute(a);this._yield(function(){return d.app.command("CloseDataFrame").execute()})};
b.prototype._yield=function(a){return setTimeout(a,0)};b.prototype._yieldForDom=function(a){return setTimeout(a,this._domBreatheDelay)};b.prototype._panelIsOpen=function(){return this.viewModel.bottomPanelPosition===f.PanelPosition.Maximized||this.viewModel.bottomPanelPosition===f.PanelPosition.Partial};b.prototype._openBottomPanel=function(){this._panelIsOpen()||(this.viewModel.config.openToMaximum?this._changeDataFramePosition(f.PanelPosition.Maximized):this._changeDataFramePosition(f.PanelPosition.Partial))};
b.prototype._closeBottomPanel=function(){this._panelIsOpen()&&(this.app.event("SmallBottomPanelClosedEvent").publish(),this._changeDataFramePosition(f.PanelPosition.Minimized))};b.prototype._rotateDataFramePosition=function(a,d){void 0===a&&(a=!0);void 0===d&&(d=!0);var b=[f.PanelPosition.Minimized,f.PanelPosition.Partial,f.PanelPosition.Maximized],e=b.indexOf(this.viewModel.bottomPanelPosition),e=e===b.length-1?b[0]:e+1;a?this.viewModel.bottomPanelPosition===f.PanelPosition.Minimized?e=f.PanelPosition.Partial:
this.viewModel.bottomPanelPosition===f.PanelPosition.Partial?e=f.PanelPosition.Maximized:this.viewModel.bottomPanelPosition===f.PanelPosition.Maximized&&(e=d?f.PanelPosition.Minimized:f.PanelPosition.Maximized):this.viewModel.bottomPanelPosition===f.PanelPosition.Maximized?e=f.PanelPosition.Partial:this.viewModel.bottomPanelPosition===f.PanelPosition.Partial?e=f.PanelPosition.Minimized:this.viewModel.bottomPanelPosition===f.PanelPosition.Minimized&&(e=d?f.PanelPosition.Maximized:f.PanelPosition.Minimized);
this._changeDataFramePosition(e)};b.prototype._changeDataFramePosition=function(a,d){var b=this,h=this.viewModel.bottomPanelPosition;this.viewModel.bottomPanelPosition===f.PanelPosition.Maximized&&this._setToolAndScreenRegionVisibility(!0);this.viewModel.bottomPanelPosition=a;a===f.PanelPosition.Partial?(this.viewModel.bottomPanelTargetHeight=this._shellDimensions.height*this.viewModel.config.bottomPanelHeightPercent,$(this.bottomPanelRegionElement).height(this.viewModel.bottomPanelTargetHeight)):
a===f.PanelPosition.Maximized&&(this.viewModel.bottomPanelTargetHeight=this._shellDimensions.height,$(this.bottomPanelRegionElement).height(this.viewModel.bottomPanelTargetHeight));var k=this._shellDimensions.height,l;a===f.PanelPosition.Maximized||a===f.PanelPosition.Partial?(l=100*this.viewModel.config.bottomPanelHeightPercent/2,l+=this.viewModel.headerHeight/k*100,l*=-1):l=0;e.framework.ui.animation.create(this.screenRegionElement).add({transform:"translate(0px, {0}%)".format(l)}).play().then(function(){var a=
b.app.viewManager.getRegionForViewId(b.id),a=new e.framework.events.ViewDimensionsChangedArgs(b,a);b.app.event("ViewDimensionsChangedEvent").publish(a);b.app.command("MapResize").execute()});this._setPanelVerticalOffset(h,a,function(){return b._handlePanelVerticalOffsetChanged(h,d)})};b.prototype._handlePanelVerticalOffsetChanged=function(a,d){var b=this;this.viewModel.bottomPanelPosition===f.PanelPosition.Maximized&&this.viewModel.config.openToMaximum&&this._setToolAndScreenRegionVisibility(!1);
this.viewModel.bottomPanelPosition===f.PanelPosition.Maximized?(a===f.PanelPosition.Minimized&&this.app.event("DataFrameOpenedEvent").publish(this.viewModel.config.bottomPanelHeightPercent),this.app.event("DataFrameMaximizedEvent").publish()):this.viewModel.bottomPanelPosition===f.PanelPosition.Partial?this._yield(function(){return b.app.event("DataFrameOpenedEvent").publish(b.viewModel.config.bottomPanelHeightPercent)}):this._yield(function(){b.app.event("DataFrameClosedEvent").publish()});d&&d()};
b.prototype._setPanelVerticalOffset=function(a,d,b){var h=this,k=0;d===f.PanelPosition.Maximized?(this.viewModel.bottomPanelTargetHeight=this._shellDimensions.height,k=-this.viewModel.headerHeight-2):d===f.PanelPosition.Partial?(k=this._shellDimensions.height-this._shellDimensions.height*this.viewModel.config.bottomPanelHeightPercent,k-=this.viewModel.headerHeight):d===f.PanelPosition.Minimized&&(k=this._shellDimensions.height);$(this.bottomPanelRegionElement).height(this.viewModel.bottomPanelTargetHeight);
var l=this._cssClassForPanelPosition(d);null!=a&&$(this.bottomPanelRegionElement).removeClass(this._cssClassForPanelPosition(a));a=e.framework.ui.animation.create(this.bottomPanelRegionElement);a.add({transform:"translate(0px, {0}px)".format(k)});a.play().then(function(){d!==f.PanelPosition.Partial&&d!==f.PanelPosition.Maximized||$(h.bottomPanelRegionElement).removeClass(h.cssClasses.minimized);$(h.bottomPanelRegionElement).addClass(l);h._bottomPanelOpening=!1}).then(function(){b&&h._yieldForDom(b)});
this._bottomPanelOpening=!0};b.prototype._cssClassForPanelPosition=function(a){return[this.cssClasses.minimized,this.cssClasses.partial,this.cssClasses.maximized][[f.PanelPosition.Minimized,f.PanelPosition.Partial,f.PanelPosition.Maximized].indexOf(a)]};b.prototype._setToolAndScreenRegionVisibility=function(a){void 0===a&&(a=!0);if(this.viewModel.toolAndScreenRegionsHidden!==a){var d=[this.headerRegionElement,this.screenRegionElement];a?$(d).removeClass(this.cssClasses.hiddenDueToMaximization):$(d).addClass(this.cssClasses.hiddenDueToMaximization);
this.viewModel.toolAndScreenRegionsHidden=a}};b.prototype._resizeShellOnceSettled=function(a){var d=this;void 0===a&&(a=!1);this._resizeSettleHandle&&clearTimeout(this._resizeSettleHandle);this._resizeSettleHandle=setTimeout(function(){d.resizeShell(a)},this._resizeSettleTimeoutMs)};b.prototype._detectCssTransitions=function(){(this._useCssTransitions=Modernizr.csstransitions)?(this._cssTransitionStyle=Modernizr.prefixed("transition"),(this._cssTransitionEnd=this._cssTransitionEndMap[this._cssTransitionStyle])?
this.app.trace.debug("Detected CSS transitions using '{0}' and '{1}'.".format(this._cssTransitionStyle,this._cssTransitionEnd)):(this._useCssTransitions=!1,this.app.trace.debug("No CSS transition end event detected. Transitions will not be used."))):this.app.trace.debug("Support for CSS transitions was not detected.")};b.prototype._measureShellDimensions=function(){return{width:!this._android||this._androidChrome||this._androidFirefox?$(window).width():window.outerWidth/window.devicePixelRatio,height:!this._android||
this._androidChrome||this._androidFirefox?$(window).height():window.outerHeight/window.devicePixelRatio}};b.prototype._exportState=function(a){a.dataFrameIsOpen=this.viewModel.bottomPanelPosition!==f.PanelPosition.Minimized;a.dataFrameIsMaximized=this.viewModel.bottomPanelPosition===f.PanelPosition.Maximized;var d=this.app.viewManager.getExistingRegionByName("BottomPanelViewContainerRegion");a.dataFrameSelectedView=f.ProjectView.getTopmostViewInRegion(d)};b.prototype._applyState=function(a){a.dataFrameIsOpen&&
a.dataFrameIsMaximized?this._changeDataFramePosition(f.PanelPosition.Maximized):this._changeDataFramePosition(a.dataFrameIsOpen?f.PanelPosition.Partial:f.PanelPosition.Minimized);a=a.dataFrameSelectedView;if("DataFrameResultsContainerView"===a||"SimpleQueryBuilderContainerView"===a||"SimpleFilterBuilderContainerView"===a)a="ResultsViewContainerView";a&&this.app.command("ActivateView").execute(a)};return b}(f.HandheldShellView);f.SmallShellView=h})(f.shells||(f.shells={}))})(f.modules||(f.modules=
{}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){var f=function(f){function b(){f.apply(this,arguments);this.toolAndScreenRegionsHidden=!1;this.bottomPanelPosition=e.PanelPosition.Minimized;this.bottomPanelTargetHeight=0;this.bottomPanelAutoPosition=!0;this.headerHeight=b.DEFAULT_HEADER_HEIGHT;this.closeBottomPanelWhenDeactivatedDefaults=["BookmarksView","GeolocateView"]}__extends(b,f);b.prototype.initialize=function(a){this.config={};a&&(this.config.openToMaximum=!!a.openToMaximum,
this.config.bottomPanelHeightPercent=void 0!==a.bottomPanelHeightPercent?a.bottomPanelHeightPercent:b.DEFAULT_BOTTOM_PANEL_HEIGHT_PERCENT,this.config.bottomPanelHeightPercent/=100,this.config.closeBottomPanelWhenDeactivated=a.closeBottomPanelWhenDeactivated||this.closeBottomPanelWhenDeactivatedDefaults)};b.DEFAULT_HEADER_HEIGHT=43;b.DEFAULT_BOTTOM_PANEL_HEIGHT_PERCENT=75;return b}(e.CommonShellViewModel);e.SmallShellViewModel=f})(e.shells||(e.shells={}))})(e.modules||(e.modules={}))})(e.mapping||
(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(l){function b(){l.apply(this,arguments)}__extends(b,l);b.prototype.initialize=function(a){var d=this;if(a.hasOwnProperty("css"))for(var b=0;b<a.css.length;++b){var e=dojo.create("link",{rel:"stylesheet",href:a.css[b]});dojo.place(e,document.getElementsByTagName("head")[0],"last")}a.hasOwnProperty("homePanelVisible")&&a.homePanelVisible&&(this.app.command("DisableScreenReaderNarrate").execute(),this.app.event("SiteInitializedEvent").once(this,
function(){d.app.project.isLoading?d.app.command("EnableScreenReaderNarrate").execute():(d.app.command("ActivateHomePanel").execute(),f.infrastructure.ShellUtils.debounceViewEvents(d.app,function(){d._focusHomePanelAndEnableNarration()}))}));this.registerCommands();this.registerEvents()};b.prototype.getStateFilter=function(){return{dataFrameIsOpen:!0,dataFrameIsMaximized:!0,dataFrameWidth:!0,dataFrameSelectedView:!0,resultsFrameIsOpen:!0,resultsFrameIsMaximized:!0,resultsFrameHeight:!0,resultsFrameSelectedView:!0,
views:!0}};b.prototype.exportState=function(){var a=this;return Promise["try"](function(){var d={dataFrameIsOpen:!1,dataFrameIsMaximized:!1,resultsFrameIsOpen:!1,resultsFrameIsMaximized:!1,views:{}};k.ProjectView.All.forEach(function(b){var e=a.app.viewManager.getViewById(b);e&&(d.views[b]=e.isActive)});a.app.command("_ExportShellState").execute(d);return d})};b.prototype.applyState=function(a){var d=this;a=dojo.clone(a);var b=this.app.event("ProjectLoadedEvent").subscribe(this,function(e){d.app.event("ProjectLoadedEvent").unsubscribe(b);
d.app.command("_SetDataFrameAutoOpenClose").execute(!1);a.views=a.views||{};d.app.project.isLoading=!0;k.ProjectView.All.forEach(function(b){var g=d.app.viewManager.getViewById(b),e=!!a.views[b];!g&&b===k.ProjectView.ResultsTable&&e?(g=d.app.viewManager.getViewById(k.ProjectView.Results),a.dataFrameIsOpen=a.dataFrameIsOpen||a.resultsFrameIsOpen):!g&&b===k.ProjectView.FeatureDetailsExpanded&&e&&(g=d.app.viewManager.getViewById(k.ProjectView.FeatureDetails),a.dataFrameIsOpen=a.dataFrameIsOpen||a.resultsFrameIsOpen);
g&&(e?d.app.viewManager.activateView(g):d.app.viewManager.deactivateView(g))});d.app.command("_ApplyShellState").execute(a);d.app.command("_SetDataFrameAutoOpenClose").execute(!0);d.app.project.isLoading=!1});return Promise.resolve()};b.prototype.registerCommands=function(){this.app.command("TapToDismiss").register(this,this._executeTapToDismiss)};b.prototype.registerEvents=function(){var a=this;this.app.event("FlyoutActivated").subscribe(this,function(d){a.app.command("DisableMapClick").execute()});
this.app.event("FlyoutDeactivated").subscribe(this,function(d){a.app.command("EnableMapOnNextClick").execute()})};b.prototype._focusHomePanelAndEnableNarration=function(){var a=this,d=this.app.viewManager.getViewById("InfoView");if(d){var b=$(d.root);b&&dojo.isFunction(b.focusout)?b.focusout(function(){a.app.command("EnableScreenReaderNarrate").execute();b.off("focusout")}):this.app.command("EnableScreenReaderNarrate").execute();this.app.command("FocusOnFirstInputInView").execute(d)}};b.prototype._executeTapToDismiss=
function(a){this.app.configuration.mobileMode&&"IWantToMenuView"!==a.view.id&&"SearchHintsView"!==a.view.id||e.framework.ui.utils.tapToDismissThis(a.view,a.onOtherInteracted,a.onElementInteracted)};b.prototype._getContainerView=function(a){if(a=this.app.viewManager.getRegionForViewId(a))if(a=a.ownerView,a instanceof e.framework.ui.ViewContainer.ViewContainerView)return a;return null};return b}(e.framework.application.ModuleBase);k.ShellModule=p})(k.shells||(k.shells={}))})(f.modules||(f.modules={}))})(f.mapping||
(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(f){function b(){f.apply(this,arguments);this.dataFrameIsUserResized=new Observable(!1);this.dataFrameOpenByDefault=new Observable(!1);this.dataFrameIsOpen=new Observable(!1);this.dataFrameIsEmpty=new Observable(!1);this.canAutoOpenDataframe=new Observable(!1);this.bottomRegionIsUserResized=new Observable(!1);this.bottomRegionIsOpen=new Observable(!1);this.bottomRegionIsMaximized=new Observable(!1);this.bottomRegionHasViews=
new Observable(!1);this.linkableModuleLoaded=new Observable(!1);this.infoModuleLoaded=new Observable(!1);this.layerListModuleLoaded=new Observable(!1)}__extends(b,f);b.prototype.initialize=function(a){var d=this;this.config={};var g=function(a,d,b,g){var f="string"===typeof a&&e.framework.utils.isPercentage(a);d=f?b:d;a=f?e.framework.utils.clamp(parseFloat(a),0,100):parseInt(a);0<=a&&(g[d]=a)};if(a){a.hasOwnProperty("minWidth")&&g(a.minWidth,"minWidth","minWidthPercent",this.config);a.hasOwnProperty("maxWidth")&&
g(a.maxWidth,"maxWidth","maxWidthPercent",this.config);a.hasOwnProperty("dataFrameWidth")&&g(a.dataFrameWidth,"dataFrameWidth","dataFrameWidthPercent",this.config);if(0===this.config.dataFrameWidth||0===this.config.dataFrameWidthPercent)e.framework.utils.isNullOrUndefined(this.config.minWidth)?e.framework.utils.isNullOrUndefined(this.config.minWidthPercent)||(this.config.dataFrameWidthPercent=this.config.minWidthPercent,delete this.config.dataFrameWidth):(this.config.dataFrameWidth=this.config.minWidth,
delete this.config.dataFrameWidthPercent);a.hasOwnProperty("dataFrameOpenByDefault")&&this.dataFrameOpenByDefault.set(a.dataFrameOpenByDefault);var f=this.app.configModel.moduleConfigs.filter(function(a){return"Shells"===a.moduleName})[0];f?f&&!0==f.configuration.homePanelVisible&&this.dataFrameOpenByDefault.set(!0):this.app.trace.warning("'Shells' module could not be found! Map offset may be incorrect due to missing panel setting.");a.hasOwnProperty("bottomRegionHeight")&&g(a.bottomRegionHeight,
"bottomRegionHeight","bottomRegionHeightPercent",this.config)}this.minWidth=new e.framework.ui.LazyObservable(null,this._createLazyDelegateGetter(this.config.minWidth,this.config.minWidthPercent,b.DEFAULT_DATA_FRAME_MIN_WIDTH));this.maxWidth=new e.framework.ui.LazyObservable(null,this._createLazyDelegateGetter(this.config.maxWidth,this.config.maxWidthPercent,b.DEFAULT_DATA_FRAME_MAX_WIDTH));this.dataFrameWidth=new e.framework.ui.LazyObservable(null,this._createLazyDelegateGetter(this.config.dataFrameWidth,
this.config.dataFrameWidthPercent,b.DEFAULT_DATA_FRAME_WIDTH));this.bottomRegionHeight=new e.framework.ui.LazyObservable(null,this._createLazyDelegateGetter(this.config.bottomRegionHeight,this.config.bottomRegionHeightPercent,b.DEFAULT_BOTTOM_REGION_HEIGHT));this.app.event("SiteInitializedEvent").once(this,function(){d.canAutoOpenDataframe.set(!0);d.dataFrameOpenByDefault.get()&&d.app.command("OpenDataFrame").execute()});this.app.command("ActivateHomePanel").canExecuteChanged.subscribe(this,function(a){d.infoModuleLoaded.set(d.app.command("ActivateHomePanel").canExecute());
d.linkableModuleLoaded.set(d.infoModuleLoaded.get()||d.layerListModuleLoaded.get())});this.app.command("SwitchToLayerView").canExecuteChanged.subscribe(this,function(a){d.layerListModuleLoaded.set(d.app.command("SwitchToLayerView").canExecute());d.linkableModuleLoaded.set(d.infoModuleLoaded.get()||d.layerListModuleLoaded.get())})};b.prototype.getValue=function(a,d,b){return e.framework.utils.isNullOrUndefined(a)?e.framework.utils.isNullOrUndefined(d)?b:"{0}%".format(d):a};b.prototype._createLazyDelegateGetter=
function(a,d,b){var e=this;return function(){return e.getValue(a,d,b)}};b.DEFAULT_DATA_FRAME_MIN_WIDTH=200;b.DEFAULT_DATA_FRAME_MAX_WIDTH=500;b.DEFAULT_DATA_FRAME_WIDTH=350;b.DEFAULT_BOTTOM_REGION_HEIGHT=400;return b}(e.framework.ui.ViewModelBase);f.LargeShellViewModel=h})(f.shells||(f.shells={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(l){function b(a,d){var b=this;l.call(this,a,d);this.leftPanelView=this.dataFrameAwaitsViewModel=null;this._resizeAllInvoked=!1;this.app.event("ViewActivatedEvent").subscribe(this,function(a){b.resizeAllDeferred();"MapView"===a.id&&b.scrollToTop();var d=b.app.viewManager.getRegionForViewId(a.id);d&&"LeftPanelRegion"===d.name&&(b.viewModel.canAutoOpenDataframe.get()&&b.app.command("OpenDataFrame").execute(),b.leftPanelView=
a);d&&"BottomPanelRegion"===d.name&&b.viewModel.canAutoOpenDataframe.get()&&b.app.command("OpenResultsFrame").execute()});this.app.event("ViewDeactivatedEvent").subscribe(this,function(a){b.resizeAllDeferred()});this.app.event("ApplicationResizedEvent").subscribe(this,function(){b.resizeAllDeferred()});this.app.command("ActivateView").register(this,function(a){(a=b.app.viewManager.getRegionForViewId(a))&&"LeftPanelRegion"===a.name&&b.viewModel.canAutoOpenDataframe.get()&&b.app.command("OpenDataFrame").execute();
a&&"BottomPanelRegion"===a.name&&b.app.command("OpenBottomRegion").execute()});this.app.command("OpenDataFrame").register(this,this._executeOpenLeftPanel);this.app.command("CloseDataFrame").register(this,this._executeCloseLeftPanel);this.app.command("ToggleDataFrame").register(this,this._executeToggleLeftPanel);this.app.command("OpenResultsFrame").register(this,this._executeOpenBottomRegion);this.app.command("CloseResultsFrame").register(this,this._executeCloseBottomRegion);this.app.command("ToggleResultsFrame").register(this,
this._executeToggleBottomRegion);this.app.command("OpenBottomRegion").register(this,this._executeOpenBottomRegion);this.app.command("CloseBottomRegion").register(this,this._executeCloseBottomRegion);this.app.command("_SetDataFrameAutoOpenClose").register(this,function(a){return b.viewModel.canAutoOpenDataframe.set(a)});this.app.command("_ExportShellState").register(this,this._exportState);this.app.command("_ApplyShellState").register(this,this._applyState);this.app.event("RegionActivatedEvent").subscribe(this,
function(a){"LeftPanelRegion"===a.name&&b.viewModel.canAutoOpenDataframe.get()&&b._activateDataRegion(!0);"BottomPanelRegion"===a.name&&b._activateBottomRegion(!0)});this.app.event("RegionDeactivatedEvent").subscribe(this,function(a){"LeftPanelRegion"===a.name&&b._activateDataRegion(!1);"BottomPanelRegion"===a.name&&b._activateBottomRegion(!1)});this.app.event("WorkflowFormTextInputBlurredEvent").subscribe(this,function(){setTimeout(function(){b.scrollToTop();b.resizeAll()},100)});this.app.command("ResizeShell").register(this,
function(){b.resizeAll()});this.app.event("PanelResizeEndEvent").subscribe(this,function(a){var d=b.app.viewManager.getViewById(a.viewId),d=d&&d.configuration&&d.configuration.resizableParentRegion?d.configuration.resizableParentRegion:null;d||(d=(a=b.app.viewManager.getRegionForViewId(a.viewId))&&a.name?a.name:null);"LeftPanelRegion"===d&&(b.viewModel.dataFrameIsUserResized.set(!0),b.viewModel.dataFrameWidth.set(b.leftRegionElement.clientWidth));"BottomPanelRegion"===d&&(b.viewModel.bottomRegionIsUserResized.set(!0),
b.viewModel.bottomRegionHeight.set(b.bottomRegionElement.clientHeight))})}__extends(b,l);b.prototype._activateDataRegion=function(a){a?this._executeOpenLeftPanel():this._executeCloseLeftPanel();this.viewModel&&this.viewModel.dataFrameIsEmpty.set(!a)};b.prototype._activateBottomRegion=function(a){"boolean"===typeof a&&(a?this._executeOpenBottomRegion():this._executeCloseBottomRegion(),this.viewModel&&this.viewModel.bottomRegionHasViews.set(a))};b.prototype.attach=function(a){$(this.app.getHostElement()).addClass("shell-large");
l.prototype.attach.call(this,a);this.dataFrameAwaitsViewModel&&(this._activateDataRegion(!0),this.dataFrameAwaitsViewModel=!1,this.resizeAll());this._shellDimensions=this._shellDimensions||this._measureShellDimensions();a={"min-width":this._shellDimensions.width?this._toPixels(this.viewModel.minWidth.get(),this._shellDimensions.width):k.LargeShellViewModel.DEFAULT_DATA_FRAME_MIN_WIDTH,"max-width":this._shellDimensions.width?this._toPixels(this.viewModel.maxWidth.get(),this._shellDimensions.width):
k.LargeShellViewModel.DEFAULT_DATA_FRAME_MAX_WIDTH};$(this.leftRegionElement).css(a);this._subscribeEvents()};b.prototype._subscribeEvents=function(){var a=this;this.app.event("DataFrameOpenedEvent").subscribe(this,function(){a.leftPanelView?(a.app.trace.debug("View focused from dataframe opening: "+a.leftPanelView.id),a.app.command("FocusOnFirstInputInView").execute(a.leftPanelView)):a.app.trace.warning("View not found when trying to focus on dataframe.")})};b.prototype.handleClickCloseDataFrame=
function(){this.app.command("CloseDataFrame").execute()};b.prototype.handleClickDataRegionTab=function(){this.app.command("OpenDataFrame").execute()};b.prototype.resizeAll=function(){this.resizeShell();this.resizeScreenRegion()};b.prototype.resizeAllDeferred=function(){var a=this;if(!this._resizeAllInvoked){var d=function(){f.infrastructure.ShellUtils.debounceViewEvents(a.app,function(){a.resizeAll();a._resizeAllInvoked=!1},100)};this._resizeAllInvoked=!0;if(this.app&&this.app.site&&this.app.site.serviceLayersLoaded)d();
else this.app.event("SiteServiceLayersLoadedEvent").once(this,d)}};b.prototype.resizeScreenRegion=function(){if(this.viewModel&&this.headerContainerElement&&this.screenRegionElement){if(this.centerElement){var a=this.centerElement;setTimeout(function(){dojo.style(a,{display:"block"})},0)}this.app.command("MapResize").execute()}};b.prototype.resizeShell=function(){if(this.viewModel&&this.mainElement){this._shellDimensions=this._measureShellDimensions();var a=this.headerContainerElement?dojo.position(this.headerContainerElement):
null,a=a?a.h:0,d=this.footerContainerElement?dojo.position(this.footerContainerElement):null,d=d?d.h:0,b=this._currentDataFrameWidth(),f=this._currentBottomRegionHeight(),h=Math.max(document.documentElement.clientHeight,window.innerHeight||0);f>h-a&&(f=h-a,$(this.bottomElement).height(f));if(this.viewModel.dataFrameIsOpen.get())var h=parseInt($(this.leftRegionElement).css("min-width")),k=parseInt($(this.leftRegionElement).css("max-width")),b=e.framework.utils.clamp(b,h,k);this.viewModel.bottomRegionIsOpen.get()&&
(h=parseInt($(this.bottomRegionElement).css("min-height")),k=parseInt($(this.bottomRegionElement).css("max-height")),f=e.framework.utils.clamp(f,h,k));dojo.style(this.mainElement,"top",a+"px");dojo.style(this.mainElement,"bottom",d+"px");dojo.style(this.leftElement,"width",b+"px");dojo.style(this.leftRegionElement,"width",b+"px");dojo.style(this.centerElement,"left",b+"px");dojo.style(this.centerElement,"bottom",f+"px");dojo.style(this.bottomElement,"left",b+"px");dojo.style(this.bottomElement,"height",
f+"px");dojo.style(this.bottomRegionElement,"height",f+"px");"true"===$(this.bottomRegionElement).attr("data-maximized")?$(this.bottomElement).addClass("maximized"):$(this.bottomElement).removeClass("maximized");(a=this.app.viewManager.getExistingRegionByName("BottomPanelRegion"))&&0===a.activeViews.length&&$(this.bottomElement).removeClass("maximized")}};b.prototype._executeOpenLeftPanel=function(){var a=this;if(!this.viewModel)this.dataFrameAwaitsViewModel=!0;else if(!1===this.viewModel.dataFrameIsOpen.get()){this.viewModel.dataFrameIsOpen.set(!0);
if(this.leftElement){this.app.command("RecenterMapOnNextMapResize").execute();dojo.removeClass(this.leftElement,"panel-closed");dojo.addClass(this.leftElement,"panel-open");var d=this._currentDataFrameWidth();$(this.leftRegionElement).width(d)}setTimeout(function(){a.resizeAll();if(a.leftPanelView instanceof e.framework.ui.ViewContainer.ViewContainerView){var d=a.leftPanelView;d.resize();d.viewModel.currentView.resize&&d.viewModel.currentView.resize()}a.app.event("DataFrameOpenedEvent").publish();
a.app.event("ApplicationResizeEvent").publish();a.app.event("ApplicationResizedEvent").publish()},100)}};b.prototype._executeCloseLeftPanel=function(){this.viewModel&&!0===this.viewModel.dataFrameIsOpen.get()&&(this.viewModel.dataFrameIsOpen.set(!1),this.leftElement&&(this.app.command("RecenterMapOnNextMapResize").execute(),dojo.removeClass(this.leftElement,"panel-open"),dojo.addClass(this.leftElement,"panel-closed"),this.resizeAll()),this.app.event("DataFrameClosedEvent").publish(),this.app.event("ApplicationResizeEvent").publish(),
this.app.event("ApplicationResizedEvent").publish())};b.prototype._executeToggleLeftPanel=function(){!1===this.viewModel.dataFrameIsOpen.get()?this.app.command("OpenDataFrame").execute():this.app.command("CloseDataFrame").execute()};b.prototype._executeOpenBottomRegion=function(){if(this.viewModel&&!1===this.viewModel.bottomRegionIsOpen.get()){this.viewModel.bottomRegionIsOpen.set(!0);if(this.bottomElement){this.app.command("RecenterMapOnNextMapResize").execute();dojo.removeClass(this.bottomElement,
"panel-closed");dojo.addClass(this.bottomElement,"panel-open");var a=this._currentBottomRegionHeight();$(this.bottomRegionElement).height(a);this.resizeAll()}this.app.event("ResultsRegionOpenedEvent").publish();this.app.event("ApplicationResizeEvent").publish();this.app.event("ApplicationResizedEvent").publish()}};b.prototype._executeCloseBottomRegion=function(){this.viewModel&&!0===this.viewModel.bottomRegionIsOpen.get()&&(this.viewModel.bottomRegionIsOpen.set(!1),this.bottomElement&&(this.app.command("RecenterMapOnNextMapResize").execute(),
dojo.removeClass(this.bottomElement,"panel-open"),dojo.addClass(this.bottomElement,"panel-closed"),this.resizeAll()),this.app.event("ResultsRegionClosedEvent").publish(),this.app.event("ApplicationResizeEvent").publish(),this.app.event("ApplicationResizedEvent").publish())};b.prototype._executeToggleBottomRegion=function(){!1===this.viewModel.bottomRegionIsOpen.get()?this.app.command("OpenBottomRegion").execute():this.app.command("CloseBottomRegion").execute()};b.prototype._measureShellDimensions=
function(){return{width:this.mainElement?$(this.mainElement).width():0,height:this.mainElement?$(this.mainElement).height():0}};b.prototype._currentDataFrameWidth=function(){if(!1===this.viewModel.dataFrameIsOpen.get())return 0;this._shellDimensions=this._shellDimensions||this._measureShellDimensions();return this._toPixels(this.viewModel.dataFrameWidth.get(),this._shellDimensions.width)};b.prototype._currentBottomRegionHeight=function(){if(!1===this.viewModel.bottomRegionIsOpen.get())return 0;this._shellDimensions=
this._shellDimensions||this._measureShellDimensions();return this._toPixels(this.viewModel.bottomRegionHeight.get(),this._shellDimensions.height)};b.prototype._toPixels=function(a,d){return"string"===typeof a&&e.framework.utils.isPercentage(a)?parseFloat(a)*d/100:a};b.prototype.openLayerList=function(a,d,b){this.app.command("ShowLayerList").execute()};b.prototype.openHomePanel=function(a,d,b){this.app.command("ActivateHomePanel").execute()};b.prototype._exportState=function(a){a.dataFrameIsOpen=this.viewModel.dataFrameIsOpen.get();
this.viewModel.dataFrameIsUserResized.get()&&(a.dataFrameWidth=this.viewModel.dataFrameWidth.get());a.resultsFrameIsOpen=this.viewModel.bottomRegionIsOpen.get();var d=this.app.viewManager.getViewById("ResultsRegionViewContainerView");d&&d.viewModel&&(a.resultsFrameIsMaximized=d.viewModel.panelMaximized.get());this.viewModel.bottomRegionIsUserResized.get()&&(a.resultsFrameHeight=this.viewModel.bottomRegionHeight.get());d=this.app.viewManager.getExistingRegionByName("DataRegion");a.dataFrameSelectedView=
k.ProjectView.getTopmostViewInRegion(d);d=this.app.viewManager.getExistingRegionByName("BottomPanelRegion");a.resultsFrameSelectedView=k.ProjectView.getTopmostViewInRegion(d)};b.prototype._applyState=function(a){e.framework.utils.isNullOrUndefined(a.dataFrameWidth)||(this.viewModel.dataFrameWidth.set(a.dataFrameWidth),this.viewModel.dataFrameIsUserResized.set(!0));var d=a.dataFrameSelectedView;"ResultsViewContainerView"===d&&(d="DataFrameResultsContainerView");d&&this.app.command("ActivateView").execute(d);
a.dataFrameIsOpen?this.app.command("OpenDataFrame").execute():this.app.command("CloseDataFrame").execute();e.framework.utils.isNullOrUndefined(a.resultsFrameHeight)||(this.viewModel.bottomRegionHeight.set(a.resultsFrameHeight),this.viewModel.bottomRegionIsUserResized.set(!0));(d=this.app.viewManager.getViewById("ResultsRegionViewContainerView"))&&d.viewModel&&d.viewModel.panelMaximized.set(a.resultsFrameIsMaximized);a.resultsFrameSelectedView&&this.app.command("ActivateView").execute(a.resultsFrameSelectedView);
a.resultsFrameIsOpen?this.app.command("OpenResultsFrame"):this.app.command("CloseResultsFrame")};return b}(e.essentialsHtmlViewer.mapping.modules.shells.CommonShellView);k.LargeShellView=p})(k.shells||(k.shells={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){(function(f){var k=function(b){function a(){b.apply(this,arguments);this.managedViewsOnly=!0;this.panelIsOpen=new Observable(!1);this.showingSmartBackButton=new Observable(!1)}__extends(a,b);a.prototype.initialize=function(a){var g=this;b.prototype.initialize.call(this,a);this.app.event("DataFrameOpenedEvent").subscribe(this,function(){g.panelIsOpen.set(!0)});this.app.event("DataFrameClosedEvent").subscribe(this,function(){g.panelIsOpen.set(!1)})};
return a}(e.infrastructure.ui.components.SmartPanel.SmartPanelViewModel);f.ShellPanelViewModel=k})(f.components||(f.components={}))})(f.shells||(f.shells={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){(function(k){var l=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.added=function(a){var g=this;b.prototype.added.call(this,a);this._wireUpHammer();this.viewModel.titleBarIsVisible.set(!0);this.app.event("ViewActivatedInContainerEvent").subscribe(this,function(a){a.regionName===g.viewModel.regionName.get()&&(a instanceof e.framework.ui.ViewContainer.ViewContainerView?(g.activeContainer=a,g.viewModel.showingSmartBackButton.sync(g.activeContainer.viewModel.showingBackButton)):
(g.activeContainer=null,g.viewModel.showingSmartBackButton.set(!1)))})};a.prototype.deactivateContainer=function(){this._destroyHoistedMenuOwnerViewIfExists();this.app.command("CloseDataFrame").execute()};a.prototype.handleClickSmartBackButton=function(a,b,e){this.activeContainer&&(e=(e=this.activeContainer.viewModel&&this.activeContainer.viewModel.currentView)&&e.viewModel&&e.viewModel.menuSourceView,this.activeContainer.handleClickBack(a,b,this.activeContainer.viewModel),e&&this.app.viewManager.activateView(e))};
a.prototype.handleClickPanelNavButton=function(a,b,e){this.app.command("ActivateView").execute(e.view.id)};a.prototype.handleTapSizeButton=function(a,b,e){this._destroyHoistedMenuOwnerViewIfExists();this.app.command("CloseDataFrame").execute()};a.prototype.handleClickMore=function(a,b,e){this.app.command("ActivateView").execute("PrimaryViewSwitcherView")};a.prototype._wireUpHammer=function(){var a=this,b=new Hammer(this.headerElement,{});b.get("swipe").set({direction:Hammer.DIRECTION_ALL});b.on("swipe",
function(b){if(b.isFinal)switch(b.direction){case Hammer.DIRECTION_UP:a.app.command("DataFrameRaise").execute();break;case Hammer.DIRECTION_DOWN:a.app.command("CloseDataFrame").execute();break;case Hammer.DIRECTION_LEFT:a.app.command("ActivateView").execute("IWantToMenu")}})};return a}(f.infrastructure.ui.components.SmartPanel.SmartPanelView);k.ShellPanelView=l})(k.components||(k.components={}))})(k.shells||(k.shells={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(){function l(b,a){this._convertedSnappingGraphics=null;this._managedDynamicLayers=[];this._loadedDefaultLayers=[];this._snappingLayerInfos=[];this._paused=!1;this._snappingManagerReference=null;this._refreshOnNextContinue=this._active=!1;this.app=b;this.libraryId=a;this.name="EsriSnappingProvider"}l.prototype.initialize=function(b){this.providerConfiguration=b;this._convertedSnappingGraphics=new esri.layers.GraphicsLayer;
this._convertedSnappingGraphics.id="snapping_graphics";this.app.map.addLayer(this._convertedSnappingGraphics);this._handleGraphicsLayer(this._convertedSnappingGraphics);this._listenForGraphicLayers()};l.prototype.activate=function(b){this._threshold=b;this.app.map.enableSnapping(this._getSnappingInitOptions());this._refreshDynamicSnappingData();this._active=!0};l.prototype._getSnappingInitOptions=function(){return{map:this.app.map,alwaysSnap:!0,snapKey:-1,tolerance:this._threshold,snapPointSymbol:new esri.symbol.SimpleMarkerSymbol(esri.symbol.SimpleMarkerSymbol.STYLE_PATH,
0,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color([0,0,0,0]),0),new esri.Color([0,0,0,0])),layerInfos:this._cloneLayerInfos()}};l.prototype._cloneLayerInfos=function(){var b=[];this._loadConfiguredDefaultGraphicsLayers();this._snappingLayerInfos.forEach(function(a){var d=new k.SnappingInfo(a.layer);d.snapToEdge=a.snapToEdge;d.snapToPoint=a.snapToPoint;d.snapToVertex=a.snapToVertex;b.push(a)});return b};l.prototype.deactivate=function(){this.app.map.disableSnapping();
this._convertedSnappingGraphics.clear();this._snappingManagerReference&&(this._snappingManagerReference.destroy(),this._snappingManagerReference=null);this._active=!1};l.prototype._snappingWithinMap=function(b){var a=!0;b.x<this._threshold?a=!1:b.y<this._threshold?a=!1:b.y>this.app.map.height-this._threshold?a=!1:b.x>this.app.map.width-this._threshold&&(a=!1);return a};l.prototype.provideSnappingPoint=function(b){var a=this;return new Promise(function(d,g){a._paused&&d(null);a._snappingWithinMap(b)?
(a.continueSnapping(),a.app.map.snappingManager.getSnappingPoint(b).then(function(a){a?d(a):d(null)},function(a){g(a)})):(a.pauseSnapping(),d(null))})};l.prototype.registerLayer=function(b,a){if(!b)throw Error("Must specify a layer for snapping.");if(!b.snappable)return this.app.trace.warning("Cannot snap to layer {0}, must be set as snappable in REST Manager".format(b.displayName)),!1;if(b.mapService.serviceLayer instanceof esri.layers.GraphicsLayer)return this._handleGraphicsLayer(b.mapService.serviceLayer,
a),this._refreshLayerInfos(),!0;if(b.mapService.serviceLayer instanceof esri.layers.ArcGISDynamicMapServiceLayer)return this._handleDynamicLayer(b),!0;this.app.trace.warning("Cannot snap to layer {0}, must be of Graphic or Dynamic type".format(b.displayName));return!1};l.prototype.unregisterLayer=function(b){b.mapService.serviceLayer instanceof esri.layers.GraphicsLayer?this._handleRemoveGraphicsLayer(b.mapService.serviceLayer):b.mapService.serviceLayer instanceof esri.layers.ArcGISDynamicMapServiceLayer&&
this._handleRemoveDynamicLayer(b);this._refreshLayerInfos()};l.prototype.getSnappableLayers=function(b){b=b.mapInfo.getLayerInfos().filter(function(a){return a.gcxLayer.snappable});return b=e.essentialsHtmlViewer.mapping.infrastructure.ArrayUtils.sortBy(b,function(a){return a.displayName})};l.prototype.continueSnapping=function(){this._snappingManagerReference&&!this.app.map.snappingManager&&this._paused&&(this.app.map.enableSnapping(this._snappingManagerReference),this._snappingManagerReference=
null);this.app.map.snappingManager&&this._paused&&(this.app.map.snappingManager._killOffSnapping(),this.app.map.snappingManager._setUpSnapping(),this.app.map.snappingManager._activateSnapping(),this.app.map.snappingManager._startSelectionLayerQuery(),this._refreshLayerInfos());this._refreshOnNextContinue&&this._active&&(this._refreshDynamicSnappingData(),this._refreshOnNextContinue=!1);this._paused=!1};l.prototype.pauseSnapping=function(){this.app.map.snappingManager&&(this.app.map.snappingManager._killOffSnapping(),
this.app.map.snappingManager._deactivateSnapping(),this.app.map.snappingManager._stopSelectionLayerQuery(),this._snappingManagerReference=this.app.map.snappingManager,this.app.map.snappingManager=null);this._paused=!0};l.prototype._isLayerVisible=function(b){if(!b.isVisible())return!1;if(null!==b.maxScale&&void 0!==b.maxScale&&null!==b.minScale&&void 0!==b.minScale){var a=this.app.map.getScale();if(a<b.maxScale||a>b.minScale)return!1}return!0};l.prototype._handleGraphicsLayer=function(b,a){this._removeInfo(b);
this.app.trace.debug("[EsriSnappingProvider] Graphics Layer handled {0}".format(b.id));var d=new k.SnappingInfo(b);a&&(d.snapToEdge=a.edge,d.snapToPoint=a.point,d.snapToVertex=a.vertex);this._snappingLayerInfos.push(d);this._refreshLayerInfos()};l.prototype._listenForGraphicLayers=function(){var b=this;this.app.map.on("layer-add-result",function(a){a&&a.layer&&a.layer instanceof esri.layers.GraphicsLayer&&b._loadConfiguredDefaultGraphicsLayers()})};l.prototype._refreshLayerInfos=function(){this.app.map.snappingManager&&
this.app.map.snappingManager.setLayerInfos(this._cloneLayerInfos())};l.prototype._handleRemoveGraphicsLayer=function(b){this._removeInfo(b)};l.prototype._handleDynamicLayer=function(b){0>this._managedDynamicLayers.indexOf(b)&&(this._managedDynamicLayers.push(b),this._active&&!this._paused?this._refreshDynamicSnappingData():this._refreshOnNextContinue=!0)};l.prototype._handleRemoveDynamicLayer=function(b){b=this._managedDynamicLayers.indexOf(b);-1<b&&(this._managedDynamicLayers.splice(b,1),this._active&&
!this._paused?this._refreshDynamicSnappingData():this._refreshOnNextContinue=!0)};l.prototype._refreshDynamicSnappingData=function(){this.loadForExtent(this.app.map.extent)};l.prototype._removeInfo=function(b){for(var a=0;a<this._snappingLayerInfos.length;a++)if(this._snappingLayerInfos[a].layer===b){this._snappingLayerInfos.splice(a,1);break}};l.prototype.loadForExtent=function(b){var a=this;this._convertedSnappingGraphics.clear();this._refreshOnNextContinue=!1;for(var d=[],g=0;g<this._managedDynamicLayers.length;g++)this._isLayerVisible(this._managedDynamicLayers[g])&&
d.push(this._managedDynamicLayers[g]);for(g=0;g<d.length;g++){var e=d[g];if(e){var k=new esri.tasks.Query;k.geometry=b;k.outSpatialReference=this.app.map.spatialReference;k.returnGeometry=!0;var l="1=1";if(e.mapService&&e.mapService.serviceLayer&&e.mapService.serviceLayer instanceof esri.layers.ArcGISDynamicMapServiceLayer){var m=(e.mapService.serviceLayer.layerDefinitions||[])[parseInt(e.id)];m&&(l=m)}k.where=l;f.infrastructure.taskUtils.getQueryTask(e).execute(k,function(d){a._queryCompleted(d,
e)},function(d){a._queryError(d)})}}};l.prototype._queryCompleted=function(b,a){if(b&&b.features)for(var d=0;d<b.features.length;d++){var g=b.features[d];g&&this._convertedSnappingGraphics.add(g)}};l.prototype._queryError=function(b){this.app.trace.error("An error occured while downloading snapping points: {0}".format(b&&b.message?b.message:"Undetermined cause"))};l.prototype._loadConfiguredDefaultGraphicsLayers=function(){var b=this;this.providerConfiguration&&this.providerConfiguration.configuration&&
this.providerConfiguration.configuration.graphicsLayers&&this.providerConfiguration.configuration.graphicsLayers.forEach(function(a){(a=b.app.map.getLayer(a))&&a instanceof esri.layers.GraphicsLayer&&0>b._loadedDefaultLayers.indexOf(a)&&(b._loadedDefaultLayers.push(a),b._handleGraphicsLayer(a))})};return l}();k.EsriSnappingProvider=p})(k.snapping||(k.snapping={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex=
{}));
(function(e){(function(e){(function(e){(function(e){(function(e){var f=function(){function e(b,a){this.app=b;this.snappingModule=a;this._registerApplicationCommands()}e.prototype._registerApplicationCommands=function(){this.app.command("EnableAllLayersForSnapping").register(this,this._executeEnableAllLayersForSnapping);this.app.command("DisableAllLayersForSnapping").register(this,this._executeDisableAllLayersForSnapping);this.app.command("EnableLayerForSnapping").register(this,this._executeEnableLayerForSnapping);this.app.command("DisableLayerForSnapping").register(this,
this._executeDisableLayerForSnapping)};e.prototype._executeEnableLayerForSnapping=function(b){this.app.command("RegisterSnappingLayer").execute(b)};e.prototype._executeEnableAllLayersForSnapping=function(b){this.app.command("RegisterSnappingLayers").execute(b)};e.prototype._executeDisableLayerForSnapping=function(b){this.app.command("RemoveSnappingLayer").execute(b)};e.prototype._executeDisableAllLayersForSnapping=function(b){this.app.command("RemoveSnappingLayers").execute(b)};return e}();e.LayerSelectorForSnapping=
f})(e.snapping||(e.snapping={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){var f=function(){return function(e){this.snapToVertex=this.snapToPoint=this.snapToEdge=!0;this.layer=e}}();e.SnappingInfo=f})(e.snapping||(e.snapping={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(e){function b(){e.apply(this,arguments);this._inputThrottleDelay=1E3/60;this._timer=this._originSnapPoint=this._originPoint=null;this._mouseInsideMapBounds=!1;this._snapSymbol=null;this._canSnap=!1;this._supportedDrawModes=[];this._accessibleMode=this._enabled=!1;this._toggleKey=this._tempEditingLayer=this._graphicsLayer=null;this._supressNextDeactivatedEvent=this._isEditing=!1;this._esriEditVertexMovedToken=this._vertexHandleHiddenToken=
this._vertexHandleShownToken=this._editVertexMoveToken=this._vertexMovedToken=this._graphicDrawToken=this._onKeyDown=this._mouseOverToken=this._extentChangedToken=this._mouseMoveToken=this._toolbar=this._dummyGraphic=this._currentEditingGraphic=this._graphicEditingLayerRef=null;this._defaultRadiusBorderColor="#000000";this._defaultSnappingPointColor=this._defaultPointColor=this._defaultHoverColor="#ffffff";this._defaultHoverOpacity=0.2;this._defaultPointSize=5;this._defaultBorderSize=1;this._defaultThreshold=
25;this._defaultCancelKey=70}__extends(b,e);b.prototype.initialize=function(a){var d=this;e.prototype.initialize.call(this,a);this._toggleKey=isNaN(parseInt(this.configuration.toggleKey+""))?this._defaultCancelKey:parseInt(this.configuration.toggleKey+"");this._threshold=isNaN(parseInt(this.configuration.threshold))?this._defaultThreshold:parseInt(this.configuration.threshold);this.layerSelectorForSnapping=new k.LayerSelectorForSnapping(this.app,this);this.app.event("SiteServiceLayersLoadedEvent").subscribe(this,
function(a){d._initializeSnappingManager();d._subscribeToMapEvents()});this.configuration.supportedDrawModes&&(this._supportedDrawModes=this.configuration.supportedDrawModes);a=(new esri.Color(this.configuration.radiusFillColor?this.configuration.radiusFillColor:this._defaultHoverColor)).toRgba();var b=isNaN(parseFloat(this.configuration.radiusFillOpacity))?this._defaultHoverOpacity:parseFloat(this.configuration.radiusFillOpacity);a[3]=b;a=new esri.Color(a);var b=this.configuration.pointColor?this.configuration.pointColor:
this._defaultPointColor,f=isNaN(parseInt(this.configuration.pointSize))?this._defaultPointSize:parseInt(this.configuration.pointSize);this._snapSymbol=new esri.symbol.SimpleMarkerSymbol(esri.symbol.SimpleMarkerSymbol.STYLE_CIRCLE,f,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color(b),1),new esri.Color(b));b=isNaN(parseInt(this.configuration.radiusBorderSize))?this._defaultBorderSize:parseInt(this.configuration.radiusBorderSize);f=this.configuration.radiusBorderColor?
this.configuration.radiusBorderColor:this._defaultRadiusBorderColor;this._hoverGraphic=new esri.Graphic;this._hoverGraphic.setSymbol(new esri.symbol.SimpleMarkerSymbol(esri.symbol.SimpleMarkerSymbol.STYLE_CIRCLE,2*this._threshold,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new esri.Color(f),b),a));this._snapGraphic=new esri.Graphic;this._snapGraphic.setSymbol(this._snapSymbol);this._registerApplicationCommands();this._subscribeToApplicationEvents();if(this.app.map&&this.app.map.loaded)this._addKeyHandlers();
else this.app.event("MapLoadedEvent").once(this,function(a){d._addKeyHandlers()})};b.prototype._registerApplicationCommands=function(){this.app.command("ActivateSnapping").register(this,this._executeActivateSnapping,this._canExecuteSnapping);this.app.command("DeactivateSnapping").register(this,this._executeDeactivateSnapping,this._canExecuteSnapping);this.app.command("RegisterSnappingLayer").register(this,this._executeRegisterSnappingLayer);this.app.command("RegisterSnappingLayers").register(this,
this._executeRegisterSnappingLayers);this.app.command("RemoveSnappingLayer").register(this,this._executeUnregisterSnappingLayer);this.app.command("RemoveSnappingLayers").register(this,this._executeUnregisterSnappingLayers)};b.prototype._subscribeToApplicationEvents=function(){var a=this;this.app.event("ActiveToolChangedEvent").subscribe(this,this._handleActiveToolChanged);this.app.event("GraphicDrawActivatedEvent").subscribe(this,function(d){a._handleGraphicDrawActivatedEvent(d)});this.app.event("GraphicDrawDeactivatedEvent").subscribe(this,
function(d){a._handleDrawDeactivatedEvent(d)});this.app.event("GraphicEditActivatedEvent").subscribe(this,function(d){a._canSnap=!0;a._handleEditBegin();a._subscribeMouseEvents();a._supressNextDeactivatedEvent=!0;a._currentEditingGraphic=d.graphic;a._dummyGraphic=new esri.Graphic;a._toolbar=d.sender;a._graphicEditingLayerRef=d.graphic.getLayer();a._enabled&&a._moveEditingGraphicToTempLayer()});this.app.event("GraphicEditDeactivatedEvent").subscribe(this,function(d){a._canSnap=!1;a._handleEditEnd();
a._supressNextDeactivatedEvent=!1;a._currentEditingGraphic&&(a._returnEditingGraphicToOwner(!1),a._currentEditingGraphic=null,a._graphicEditingLayerRef=null,a._dummyGraphic=null,a._toolbar=null,a.app.trace.debug("[SnappingModule]: Graphic editing context cleaned up"))});this.app.event("GraphicDrawAccessibleEditActivatedEvent").subscribe(this,function(d){a._canSnap=!0;a._handleEditBegin()});this.app.event("GraphicDrawAccessibleEditDeactivatedEvent").subscribe(this,function(d){a._supressNextDeactivatedEvent?
a._supressNextDeactivatedEvent=!1:(a._canSnap=!1,a._handleEditEnd())});this.app.event("InputMethodChangedEvent").subscribe(this,function(d){var b=!1;d.newMethod===f.infrastructure.accessibility.InputMethod.KEYBOARD&&(b=!0);a._accessibleMode!==b&&a._hideSnappingGraphics();a._accessibleMode=b;a._subscribeToUIEvents()})};b.prototype._initializeSnappingManager=function(){this._graphicsLayer=new esri.layers.GraphicsLayer;this._graphicsLayer.id="snapping_helper_graphics";this.app.map.addLayer(this._graphicsLayer);
this._graphicsLayer.add(this._hoverGraphic);this._graphicsLayer.add(this._snapGraphic);this._hideSnappingGraphics();var a=this.configuration.snappingProvider;a&&(a.libraryId&&!this.app.allLibrariesLoaded?this._loadProviderWhenLibrariesDownloaded(a):this._loadProvider(a))};b.prototype._subscribeToMapEvents=function(){var a=this;this.app.map.on("layer-add-result",function(d){a.app.map.reorderLayer(a._graphicsLayer,a.app.map.graphicsLayerIds.length)})};b.prototype._loadProviderWhenLibrariesDownloaded=
function(a){var d=this;this.app.event("ViewerLibrariesDownloadedEvent").once(this,function(){return d._loadProvider(a)})};b.prototype._loadProvider=function(a){var d=dojo.getObject(a.type);d&&(d=new d(this.app,a.libraryId||this.libraryId),d.initialize(a),this._registerSnappingProvider(d))};b.prototype._subscribeMouseEvents=function(){window.PointerEvent?this._addPointerMove():this._addMouseMove();this._addMouseLeave();this._addMouseOver()};b.prototype._removeMouseEvents=function(){this._removeEventListener(this.app.map.root,
"pointermove",this._handlePointerMove);this._removeEsriHandle(this._mouseOverToken);this._removeEsriHandle(this._mouseMoveToken);this._removeJQueryHandle(this._mouseLeaveToken)};b.prototype._handleEditBegin=function(){var a=this;this._handleEditEnd();this._editVertexMoveToken=this.app.event("EditVertexMovedEvent").subscribe(this,function(d){a._mouseInsideMapBounds=!0;a._handleInputMove(d)});this._vertexHandleShownToken=this.app.event("VertexHandleShownEvent").subscribe(this,function(d){a._hideSnappingGraphics();
a._removeMouseEvents()});this._vertexHandleHiddenToken=this.app.event("VertexHandleHiddenEvent").subscribe(this,function(){a._hideSnappingGraphics();a._subscribeMouseEvents()});this._esriEditVertexMovedToken=this.app.event("EditVertexHandleMovedEvent").subscribe(this,function(d){d&&d.geometry&&d.geometry instanceof esri.geometry.Point&&(a._mouseInsideMapBounds=!0,a._timer||(a._timer=setTimeout(function(){var b=d.getShape(),e=b.matrix.dx,b=b.matrix.dy,e=a.app.map.toScreen(d.geometry).offset(e,b),e=
{mapPoint:a.app.map.toMap(e),screenPoint:e};a._handleInputMove(e);a._clearTimeout()},a._inputThrottleDelay)))});this._isEditing=!0};b.prototype._handleEditEnd=function(){this._hideSnappingGraphics();this._removeGcxHandle("EditVertexMovedEvent",this._editVertexMoveToken);this._removeGcxHandle("VertexHandleShownEvent",this._vertexHandleShownToken);this._removeGcxHandle("VertexHandleHiddenEvent",this._vertexHandleHiddenToken);this._removeGcxHandle("EditVertexHandleMovedEvent",this._esriEditVertexMovedToken);
this._isEditing=!1;this.snappingProvider.pauseSnapping()};b.prototype._subscribeAccessibilityEvents=function(){this._addVertexMoved()};b.prototype._removeAccessibilityEvents=function(){this._removeGcxHandle("GraphicVertexMovedEvent",this._vertexMovedToken)};b.prototype._handleGraphicDrawActivatedEvent=function(a){a=a.geometryType;a===esri.toolbars.Draw.MULTI_POINT&&(a=f.infrastructure.tools.DrawMode.MULTI_POINT);a&&this._drawModeSupported(a)?(this._canSnap=!0,this.snappingProvider.continueSnapping()):
(this._canSnap=!1,this.snappingProvider.pauseSnapping())};b.prototype._handleDrawDeactivatedEvent=function(a){this._canSnap=!1;this.snappingProvider.pauseSnapping()};b.prototype._handleActiveToolChanged=function(a){this.snappingProvider?a&&a.tool&&a.tool instanceof f.infrastructure.tools.MapTool?(a=a.tool,"EditMarkup"===a.command||"DeleteMarkup"===a.command?this._canSnap=!1:this._drawModeSupported(a.drawMode)?(this._canSnap=!0,this.snappingProvider.continueSnapping()):(this._canSnap=!1,this.snappingProvider.pauseSnapping())):
this._canSnap=!1:(this._canSnap=!1,this.app.trace.debug("[SnappingModule]: 'ActiveToolChangedEvent' cannot be handled by the module before a SnappingProvider is registered. Check to ensure 'SiteServiceLayersLoadedEvent' has fired."))};b.prototype._drawModeSupported=function(a){return-1<this._supportedDrawModes.indexOf(a?a.toUpperCase():a)?!0:!1};b.prototype._registerSnappingProvider=function(a){this.snappingProvider=a;this.app.command("ActivateSnapping").raiseCanExecuteChanged();this.app.event("SnappingProviderRegistered").publish(this.snappingProvider)};
b.prototype._subscribeToUIEvents=function(){this._enabled&&(this._accessibleMode?(this._subscribeAccessibilityEvents(),this._removeMouseEvents(),this._mouseInsideMapBounds=!0):(this._subscribeMouseEvents(),this._removeAccessibilityEvents()),this._addMapStateChangedEvents())};b.prototype._executeActivateSnapping=function(){this._executeDeactivateSnapping();this._enabled=!0;this.snappingProvider.activate(this._threshold);this._canSnap&&(this.snappingProvider.pauseSnapping(),this.snappingProvider.continueSnapping());
this._subscribeToUIEvents();this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-snapping-activated"));this._isEditing&&(this.app.trace.debug("[SnappingModule]: Snapping enabled mid-edit"),this._handleEditBegin(),this._subscribeMouseEvents(),this._currentEditingGraphic&&this._moveEditingGraphicToTempLayer())};b.prototype._canExecuteSnapping=function(){if(this._canSnap)return!0;if(!(this.app.toolRegistry.getActiveTool()instanceof f.infrastructure.tools.MapTool))return!1;
var a=this.app.toolRegistry.getActiveTool();return this.snappingProvider&&this._drawModeSupported(a.drawMode)?!0:!1};b.prototype._executeDeactivateSnapping=function(){this._enabled&&this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-snapping-deactivated"));this._enabled=!1;this.snappingProvider.deactivate();this._killOffSnapping();this._hideSnappingGraphics();this._raiseSnappingInputMovedEvent(null,null);f.infrastructure.FocusUtils.focusOnMap(this.app.map);
this._currentEditingGraphic&&this._returnEditingGraphicToOwner()};b.prototype._executeRegisterSnappingLayers=function(a){var d=this;a.forEach(function(a){d._readerLayerRegisterWrapper(a)})};b.prototype._executeRegisterSnappingLayer=function(a){this._readerLayerRegisterWrapper(a)};b.prototype._executeUnregisterSnappingLayer=function(a){this._readerLayerUnregisterWrapper(a)};b.prototype._executeUnregisterSnappingLayers=function(a){var d=this;a.forEach(function(a){d._readerLayerUnregisterWrapper(a)})};
b.prototype._readerLayerRegisterWrapper=function(a){this.snappingProvider.registerLayer(a)&&this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-snapping-layer-registered").format(a.displayName))};b.prototype._readerLayerUnregisterWrapper=function(a){this.snappingProvider.unregisterLayer(a);this.app.command("ScreenReaderNarrate").execute(this.app.getResource(this.libraryId,"language-snapping-layer-unregistered").format(a.displayName))};b.prototype._clearTimeout=
function(){this._timer&&(clearTimeout(this._timer),this._timer=null)};b.prototype._addVertexMoved=function(){var a=this;this._removeGcxHandle("GraphicVertexMovedEvent",this._vertexMovedToken);this._vertexMovedToken=this.app.event("GraphicVertexMovedEvent").subscribe(this,function(d){a._handleInputMove(d)})};b.prototype._addMouseLeave=function(){var a=this;this._removeJQueryHandle(this._mouseLeaveToken);this._mouseLeaveToken=$(this.app.map.root).mouseleave(function(){a._clearTimeout();a._hideSnappingGraphics();
a.snappingProvider.pauseSnapping();a._mouseInsideMapBounds=!1})};b.prototype._addPointerMove=function(){var a=this;this._removeEventListener(this.app.map.root,"pointermove",this._handlePointerMove);this._addEventListener(this.app.map.root,"pointermove",function(d){a._handlePointerMove(d)})};b.prototype._handlePointerMove=function(a){var d=this;a&&!this._timer&&(this._timer=setTimeout(function(){var b=a.clientX-d.app.map.root.getBoundingClientRect().left,e=a.clientY-d.app.map.root.getBoundingClientRect().top,
b=d.app.map.toMap(new esri.geometry.ScreenPoint(b,e)),b={mapPoint:b,screenPoint:d.app.map.toScreen(b)};d._handleInputMove(b);d._clearTimeout()},this._inputThrottleDelay))};b.prototype._addMouseOver=function(){var a=this;this._removeEsriHandle(this._mouseOverToken);this._mouseOverToken=this.app.map.on("mouse-over",function(d){a._mouseInsideMapBounds=!0;a._timer||(a._timer=setTimeout(function(){a._handleInputMove(d);a._clearTimeout()},a._inputThrottleDelay))})};b.prototype._addMouseMove=function(){var a=
this;this._removeEsriHandle(this._mouseMoveToken);this._mouseMoveToken=this.app.map.on("mouse-move",function(d){a._mouseInsideMapBounds=!0;a._timer||(a._timer=setTimeout(function(){a._handleInputMove(d);a._clearTimeout()},a._inputThrottleDelay))})};b.prototype._addMapStateChangedEvents=function(){var a=this;this._removeEsriHandle(this._extentChangedToken);this._extentChangedToken=this.app.map.on("extent-change",function(d){a.snappingProvider.loadForExtent(d.extent);a._originPoint=null;a._originSnapPoint=
null})};b.prototype._removeGcxHandle=function(a,d){a&&d&&this.app.event(a).unsubscribe(d)};b.prototype._addKeyHandlers=function(){var a=this;this._removeEsriHandle(this._onKeyDown);this._onKeyDown=this.app.map.on("key-down",function(d){a._onSnapKeyDownHandler(d)})};b.prototype._onSnapKeyDownHandler=function(a){a.keyCode===this._toggleKey&&(this._enabled?this.app.command("DeactivateSnapping").execute():this.app.command("ActivateSnapping").execute())};b.prototype._killOffSnapping=function(){this._removeMouseEvents();
this._removeAccessibilityEvents();this._removeEsriHandle(this._graphicDrawToken);this._removeEsriHandle(this._extentChangedToken)};b.prototype._removeEsriHandle=function(a){a&&a.remove()};b.prototype._removeJQueryHandle=function(a){a&&a.off()};b.prototype._addSnappingGraphics=function(a,d){void 0===d&&(d=null);d||(d=a);if(this._originPoint){var b=this.app.map.toScreen(d),e=b.x-this._originSnapPoint.x,b=b.y-this._originSnapPoint.y,e=dojox.gfx.matrix.translate(e,b);(b=this._snapGraphic.getDojoShape())&&
b.setTransform(e);b=this.app.map.toScreen(a);e=b.x-this._originPoint.x;b=b.y-this._originPoint.y;e=dojox.gfx.matrix.translate(e,b);(b=this._hoverGraphic.getDojoShape())&&b.setTransform(e)}else this._originPoint=this.app.map.toScreen(a),this._originSnapPoint=this.app.map.toScreen(d),this._snapGraphic.setGeometry(d),this._hoverGraphic.setGeometry(a);this._snapGraphic.visible||this._snapGraphic.show();this._hoverGraphic.visible||this._hoverGraphic.show();$(this._snapGraphic.getNode()).css("pointer-events",
"none");$(this._hoverGraphic.getNode()).css("pointer-events","none")};b.prototype._hideSnappingGraphics=function(){this._originSnapPoint=this._originPoint=null;this._hoverGraphic.visible&&this._hoverGraphic.hide();this._snapGraphic.visible&&this._snapGraphic.hide()};b.prototype._handleInputMove=function(a){var d=this;this._enabled&&(this._canSnap?a&&a.screenPoint&&this._mouseInsideMapBounds&&(this.snappingProvider.continueSnapping(),this.snappingProvider.provideSnappingPoint(a.screenPoint).then(function(b){b?
(d._addSnappingGraphics(a.mapPoint,b),d._raiseSnappingInputMovedEvent(b,a.mapPoint),d.app.command("ScreenReaderNarrate").execute(d.app.getResource(d.libraryId,"language-snapping-point-found"))):(d._addSnappingGraphics(a.mapPoint,null),d._raiseSnappingInputMovedEvent(null,a.mapPoint))})["catch"](function(b){d.app.trace.error("Failed to find a snapping point: {0}".format(b&&b.message?b.message:"Undetermined cause"));d.app.command("ScreenReaderNarrate").execute(d.app.getResource(d.libraryId,"language-snapping-error"));
d._raiseSnappingInputMovedEvent(null,a.mapPoint)})):this._hideSnappingGraphics())};b.prototype._raiseSnappingInputMovedEvent=function(a,d){var b={snappingPoint:a,inputPoint:d};this.app.event("SnappingFeedbackEvent").publish(b)};b.prototype._addEventListener=function(a,d,b){a.addEventListener?a.addEventListener(d,b,!1):a.attachEvent&&a.attachEvent("on"+d,b)};b.prototype._removeEventListener=function(a,d,b){a.removeEventListener?a.removeEventListener(d,b,!1):a.detachEvent&&a.detachEvent("on"+d,b)};
b.prototype._moveEditingGraphicToTempLayer=function(){this._graphicEditingLayerRef&&this._currentEditingGraphic&&this._canSwapEditingGraphic(this._graphicEditingLayerRef)&&(this.app.trace.debug("[SnappingModule]: Attempting to move the editing graphic from '{0}' to the temporary layer".format(this._graphicEditingLayerRef.id)),this._tempEditingLayer||(this._tempEditingLayer=new esri.layers.GraphicsLayer,this._tempEditingLayer.id="temp_snapping_graphics_editing"),this.app.map.getLayer("temp_snapping_graphics_editing")||
this.app.map.addLayer(this._tempEditingLayer),this._graphicEditingLayerRef.remove(this._currentEditingGraphic),this._graphicEditingLayerRef.add(this._dummyGraphic),this._tempEditingLayer.add(this._currentEditingGraphic),this._toolbar&&this._toolbar.refresh())};b.prototype._returnEditingGraphicToOwner=function(a){void 0===a&&(a=!0);this._graphicEditingLayerRef&&this._currentEditingGraphic&&this._tempEditingLayer&&this._canSwapEditingGraphic(this._graphicEditingLayerRef)&&(this.app.trace.debug("[SnappingModule]: Returning the editing graphic back to '{0}'".format(this._graphicEditingLayerRef.id)),
this._tempEditingLayer.remove(this._currentEditingGraphic),this._graphicEditingLayerRef.remove(this._dummyGraphic),this._graphicEditingLayerRef.add(this._currentEditingGraphic),this.app.map.removeLayer(this._tempEditingLayer),this._tempEditingLayer.clear(),this._tempEditingLayer=null,a&&this._toolbar&&this._toolbar.refresh())};b.prototype._canSwapEditingGraphic=function(a){var d=!1,b=[];this.snappingProvider&&this.snappingProvider.providerConfiguration&&this.snappingProvider.providerConfiguration.configuration&&
this.snappingProvider.providerConfiguration.configuration.graphicsLayers&&(b=this.snappingProvider.providerConfiguration.configuration.graphicsLayers);a&&a instanceof esri.layers.GraphicsLayer&&-1<b.indexOf(a.id)&&(d=!0);return d};return b}(e.framework.application.ModuleBase);k.SnappingModule=p})(k.snapping||(k.snapping={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.attach=function(a){var d=this;e.prototype.attach.call(this,a);this.viewModel.activeFlyout.bind(this,function(a){var b=$(d.root).is(":visible");a?b?b&&(d.app.command("FocusOnFirstInputInView").execute(d),a={view:d,onOtherInteracted:function(a){return d._onOtherInteracted(a)}},d.app.command("TapToDismiss").execute(a),d.app.event("FlyoutActivated").publish(d)):
(d.app.command("ActivateView").execute(d.id),d.fallbackFlyout=a):a||null==d.fallbackFlyout||(b?(d.app.event("ToolbarFlyoutDeactivatedEvent").publish(d.id),d.fallbackFlyout=a):b||d.viewModel.activeFlyout.set(d.fallbackFlyout))})};b.prototype._onOtherInteracted=function(a){!1===$(a.target||a.srcElement).hasClass("multi-tool-button")&&(this.fallbackFlyout=null,this.viewModel.activeFlyout.set(null),this.app.event("FlyoutDeactivated").publish(this))};b.prototype.changeToolFlyout=function(a,d,b){var e=
this.viewModel.activeFlyout.get();this.viewModel.activeFlyout.set(null);setTimeout(function(){e.switchActiveFlyoutTool(b)},0);this.viewModel.transientActive&&!this.viewModel.transientActive.get()&&this.app.command("ToggleToolbar").execute()};return b}(e.framework.ui.ViewBase);f.ToolbarFlyoutView=h})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){e=e.essentialsHtmlViewer||(e.essentialsHtmlViewer={});e=e.mapping||(e.mapping={});e=e.modules||(e.modules={});e=e.toolbar||(e.toolbar={});e=e.transients||(e.transients={});e=e.TransientElementSource||(e.TransientElementSource={});e[e.View=0]="View";e[e.Widget=1]="Widget";e[e.ToolbarGroup=2]="ToolbarGroup"})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(k){function b(){k.apply(this,arguments);this._transientElementEntries=[];this._transientElements=[];this._previousStateName=this._previousFriendToolId=this._previousToolId=this._peekTimerHandle=null;this._toolChangePeekPeriod=100}__extends(b,k);b.prototype.initialize=function(a){var d=this;if(a&&a.isEnabled){k.prototype.initialize.call(this,a);this.app.event("ActiveToolChangedEvent").subscribe(this,this._handleActiveToolChangedEvent);
this.app.command("ActivateTransientElements").register(this,this._activateTransientElementsFor);this.app.command("DeactivateTransientElements").register(this,this._deactivateTransientElementsFor);if(a.transientElements){for(var b=0;b<a.transientElements.length;++b){var e=a.transientElements[b];this._transientElementEntries.push({stateName:e.stateName,viewId:e.viewId,widgetId:e.widgetId,region:e.region,items:e.items})}this.app.event("StateEnteredEvent").subscribe(this,function(a){for(var b=0;b<d._transientElementEntries.length;b++){var g=
d._transientElementEntries[b];if(a.stateDefinition.name===g.stateName){d._activateTransientElementsFor(g.stateName);break}}});this.app.event("StateExitedEvent").subscribe(this,function(a){for(var b=0;b<d._transientElementEntries.length;b++){var g=d._transientElementEntries[b];a.stateDefinition.name===g.stateName&&(d._previousStateName=a.stateDefinition.name,d._deactivateTransientElementsFor(g.stateName))}})}a.toolbarGroups&&this.app.toolbarGroupRegistry.registerToolbarGroups(a.toolbarGroups,this.libraryId)}};
b.prototype._findTransientElementsFor=function(a){for(var d=[],b=0;b<this._transientElements.length;++b){var e=this._transientElements[b];e&&e.originatorId===a&&d.push(e)}return d};b.prototype._findTransientElementEntriesFor=function(a){for(var d=[],b=0;b<this._transientElementEntries.length;++b){var e=this._transientElementEntries[b];e.stateName===a&&d.push(e)}return d};b.prototype._activateTransientElementsFor=function(a){for(var b=this._findTransientElementEntriesFor(a),g=0;g<b.length;++g){var e=
this._activateTransientElement(b[g],a);e&&(this._transientElements.push(e),this.app.event("TransientActivatedEvent").publish({stateName:b[g].stateName,widgetId:b[g].widgetId,viewId:b[g].viewId}))}this._setNeighbourTransientClass()};b.prototype._setNeighbourTransientClass=function(){var a=this;if(1<this._transientElements.length)for(var b=0;b<this._transientElements.length;b++){for(var g=this._transientElements.filter(function(g){return g.element.regionName===a._transientElements[b].element.regionName}),
e=!1,f=0;f<g.length;f++)g[f].element.viewModel.hasOwnProperty("items")||(e=!0);if(e)for(e=0;e<g.length;e++)g[b].element.viewModel.hasNeighbour&&g[b].element.viewModel.hasNeighbour.set(!0)}else for(b=0;b<this._transientElements.length;b++)this._transientElements[b].element.viewModel.hasNeighbour&&this._transientElements[b].element.viewModel.hasNeighbour.set(!1)};b.prototype._activateTransientElement=function(a,b){var g=this;if(a.viewId)return this.app.commandRegistry.command("ActivateView").execute(a.viewId),
{source:e.essentialsHtmlViewer.mapping.modules.toolbar.transients.TransientElementSource.View,originatorId:b,element:a.viewId};if(a.widgetId){for(var f=null,h=0;h<this.app.configModel.widgetConfigs.length;++h)if(this.app.configModel.widgetConfigs[h].id===a.widgetId){f=this.app.configModel.widgetConfigs[h];break}if(!f)return this.app.trace.warning("Could not activate transient toolbar widget '{0}'".format(a.widgetId)),null;var k=(this.app.viewManager.getViewById("TabbedToolbarView")||new e.framework.ui.ViewBase(this.app,
this.libraryId))._createWidgetViewFromConfig(f,this);k.regionName=a.region;e.framework.ui.animation.runWhenIdle(function(){return g._activateView(k,a)});return{source:e.essentialsHtmlViewer.mapping.modules.toolbar.transients.TransientElementSource.Widget,originatorId:b,element:k}}};b.prototype._activateView=function(a,b){if(this.app.viewManager.getViewById(a.id)){var g=!1,e=this.app.viewManager.getExistingRegionByName(b.region);e&&e.views&&0<e.views.filter(function(a){return a.isActive}).length&&
(g=!0);b.items&&(e=new f.infrastructure.toolbarGroup.ToolbarGroup(this.app,this.libraryId,b),g?a.viewModel.items.addItems(e.items.get()):a.viewModel.items.set(e.items.get()),this.app.command("ResizeShell").execute());g&&b.items||this.app.commandRegistry.command("ActivateView").execute(a.id)}};b.prototype._deactivateTransientElementsFor=function(a){a=this._findTransientElementsFor(a);for(var b=0;b<a.length;++b){var g=a[b];e.framework.utils.ArrayUtils.removeItem(this._transientElements,g);this._deactivateTransientElement(g)}0===
this._transientElements.length&&this.app.event("TransientsDeactivatedEvent").publish();this._setNeighbourTransientClass()};b.prototype._deactivateTransientElement=function(a){switch(a.source){case e.essentialsHtmlViewer.mapping.modules.toolbar.transients.TransientElementSource.Widget:this.app.viewManager.destroyView(a.element)}};b.prototype._handleActiveToolChangedEvent=function(a){var b=this,g=a.tool?a.tool.id||a.tool.name:null;a=a.previousTool?a.previousTool.id||a.previousTool.name:null;if(g||this._peekTimerHandle){clearTimeout(this._peekTimerHandle);
this._peekTimerHandle=null;if(g&&this._previousToolId){var e=this._findTransientElementEntriesFor(this._previousStateName);if(e)for(var f=0;f<e.length;++f);if(-1<[].indexOf(g)){this._previousFriendToolId=g;0===this._transientElements.length&&this._activateTransientElementsFor(this._previousStateName);return}}this._handleToolChangeTransients.apply(this,[this._previousToolId,g])}else this._peekTimerHandle=setTimeout(function(){b._handleToolChangeTransients.apply(b,[b._previousToolId,g])},this._toolChangePeekPeriod);
a&&a!==this._previousFriendToolId?this._previousToolId=a:this._previousFriendToolId=a};b.prototype._handleToolChangeTransients=function(a,b){a&&(this._previousToolId=null);this._previousFriendToolId&&a&&(this._deactivateTransientElementsFor(this._previousStateName),this._previousFriendToolId=null,this.app.command("SetActiveTool").execute(a))};return b}(e.framework.application.ModuleBase);k.ToolbarModuleBase=p})(k.toolbar||(k.toolbar={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));(function(e){(function(e){(function(e){(function(e){(function(e){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a)};return b}(e.ToolbarModuleBase);e.CompactToolbarModule=f})(e.toolbar||(e.toolbar={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(f){function b(){f.apply(this,arguments);this._collapsibleAreaWidth=null;this._transientRegionId="CompactToolbarTransientRegion";this._toolChangePeekPeriod=110}__extends(b,f);b.prototype.attach=function(a){var b=this;f.prototype.attach.call(this,a);if(!1!==this.viewModel.isEnabled.get()){this.viewModel.activeTool.bind(this,function(a){return b._resizeView()});this.viewModel.backArrowVisible.bind(this,function(a){return b._resizeView()});
this.viewModel.forwardArrowVisible.bind(this,function(a){return b._resizeView()});this.viewModel.registerCompactToolbarViewId(this.id);if(this.app.site&&this.app.site.isInitialized)this.viewModel.isExpanded.get()&&this._assignFloatingAreaWidth(),this._resizeView(),this.toggleScrollArrows();else this.app.event("SiteInitializedEvent").once(this,function(){b.viewModel.isExpanded.get()&&b._assignFloatingAreaWidth();b._resizeView();b.toggleScrollArrows()});this.app.event("RegionActivatedEvent").subscribe(this,
this._handleTransientActivated);this.app.event("RegionDeactivatedEvent").subscribe(this,this._handleTransientDeactivated);this.app.event("ToggleButtonStateChangedEvent").subscribe(this,function(a){return b._resizeView()});this.app.command("ToggleToolbar").register(this,function(){return b._handleToolbarToggleStateChange()});this.app.command("OpenToolbar").register(this,function(){return b._handleToolbarToggleStateChange()});this.app.command("CloseToolbar").register(this,function(){return b._handleToolbarToggleStateChange()});
this.viewModel.isExpanded.bind(this,this.handleIsExpandedChange)}};b.prototype.handleToolbarButtonClicked=function(){var a=this;this.viewModel.activeTool.get()?(this.viewModel.activeTool.set(null),this.app.command("ClearActiveTool").execute(),this.app.command("CloseToolbar").execute(),setTimeout(function(){a.app.command("ClearActiveTool").execute()},this._toolChangePeekPeriod)):this.viewModel.isExpanded.get()?this.app.command("CloseToolbar").execute():this.app.command("OpenToolbar").execute();this.viewModel.activeFlyout.set(null)};
b.prototype.handleToolbarItemClick=function(a,b,g){g.execute();!1===this.viewModel.transientActive.get()&&this.app.command("CloseToolbar").execute()};b.prototype.handleOpenToolFlyout=function(a,b,g){g.toggleFlyout();this.viewModel.activeFlyout.get()===g?this.viewModel.activeFlyout.set(null):(this.viewModel.activeFlyout.get()&&this.viewModel.activeFlyout.get().toggleFlyout(),a=$(this.collapsibleAreaElement).width(),$(b).position().left>a/2?(this.viewModel.multitoolFloatRight.set(!0),this.viewModel.multitoolFloatLeft.set(!1)):
(this.viewModel.multitoolFloatRight.set(!1),this.viewModel.multitoolFloatLeft.set(!0)),this.viewModel.activeFlyout.set(g))};b.prototype.handleScrollBack=function(a,b,g){a=$(this.floatingAreaElement);a.scrollLeft(a.scrollLeft()-$(this.expandedElement).width()-$(this.backArrowElement).width());this.toggleScrollArrows();this.viewModel.backArrowVisible.get()&&a.scrollLeft(a.scrollLeft()+$(this.forwardArrowElement).width())};b.prototype.handleScrollForward=function(a,b,g){a=$(this.floatingAreaElement);
a.scrollLeft(a.scrollLeft()+$(this.expandedElement).width()-$(this.forwardArrowElement).width());this.toggleScrollArrows();this.viewModel.forwardArrowVisible.get()&&a.scrollLeft(a.scrollLeft()-$(this.backArrowElement).width())};b.prototype.handleIsExpandedChange=function(a){var b=this;a?(this.app.event("FlyoutActivated").publish(this),a={view:this,onOtherInteracted:function(a){return b._onOtherInteracted(a)}},this.app.command("TapToDismiss").execute(a)):this.app.event("FlyoutDeactivated").publish(this)};
b.prototype._onOtherInteracted=function(a){!1===this.viewModel.transientActive.get()&&!0===this.viewModel.isExpanded.get()&&this.app.command("CloseToolbar").execute()};b.prototype._resizeView=function(){!1===this.viewModel.transientActive.get()?($(this.expandedElement).width(this._collapsibleAreaWidth),$(this.collapsibleAreaElement).width(this._collapsibleAreaWidth),this._resizeEntireToolArea()):(this._resizeTransientToolArea(),$(this.expandedElement).width($(this.transientElement).width()))};b.prototype._handleTransientActivated=
function(a){a.name===this._transientRegionId&&(this.viewModel.transientActive.set(!0),a=this.app.toolRegistry.getActiveTool())&&(this.viewModel.activeTool.set(a),this.app.command("OpenToolbar").execute())};b.prototype._handleTransientDeactivated=function(a){var b=this;a.name===this._transientRegionId&&setTimeout(function(){b.app.toolRegistry.getActiveTool()?b._resizeView():(b.viewModel.activeTool.set(null),b.viewModel.transientActive.set(!1),b.app.command("CloseToolbar").execute())},this._toolChangePeekPeriod)};
b.prototype._resizeEntireToolArea=function(){var a=$(this.toolbarParentElement).children(),b=$(this.floatingAreaElement).find("div.toolbar-group"),g=0;$(a).each(function(a,b){g+=Math.ceil($(b).outerWidth(!0))});isNaN(parseFloat($(b).css("padding")))||(g+=2*parseFloat($(b).css("padding")));isNaN(parseFloat($(b).css("border")))||(g+=2*parseFloat($(b).css("border")));$(b).css("width",g)};b.prototype._resizeTransientToolArea=function(){var a=this;setTimeout(function(){var b=$(a.transientElement).find("li"),
g=$(a.collapsibleAreaElement);0===b.length&&(a.viewModel.transientActive.set(!1),a.app.command("CloseToolbar").execute());var e=0;$(b).each(function(a,b){e+=Math.ceil($(b).outerWidth(!0))});isNaN(parseFloat($(g).css("padding")))||(e+=2*parseFloat($(g).css("padding")));isNaN(parseFloat($(g).css("border")))||(e+=2*parseFloat($(g).css("border")));$(g).css("width",e)},0)};b.prototype._assignFloatingAreaWidth=function(){if(null===this._collapsibleAreaWidth&&this.viewModel.isExpanded.get()){var a=$(this.toolbarParentElement).children(),
b=Math.ceil($(a).outerWidth(!0)),g=$(this.forwardArrowElement).outerWidth(!0),g=b*this.viewModel.toolbarVisibleTools.get()+g,a=b*a.length;this._collapsibleAreaWidth=a<=g?a:g}};b.prototype._handleToolbarToggleStateChange=function(){var a=this;this.app.configuration.mobileMode?e.framework.ui.animation.runWhenIdle(function(){a._assignFloatingAreaWidth();a._resizeView();a.toggleScrollArrows()}):(this._assignFloatingAreaWidth(),this._resizeView(),this.toggleScrollArrows())};b.prototype.toggleScrollArrows=
function(){if(this.floatingAreaElement){var a=$(this.floatingAreaElement).scrollLeft(),b=this.floatingAreaElement,b=b.scrollWidth-b.clientWidth;0===a?this.viewModel.backArrowVisible.set(!1):this.viewModel.backArrowVisible.set(!0);a>=b?this.viewModel.forwardArrowVisible.set(!1):this.viewModel.forwardArrowVisible.set(!0)}};return b}(e.framework.ui.ViewBase);f.CompactToolbarView=h})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments);this.isEnabled=new Observable(!0);this.toggleCommandDisablesView=new Observable(!1);this.isExpanded=new Observable(!1);this.activeTool=new Observable(null);this.activeToolName=new Observable(null);this.activeToolIcon=new Observable(null);this.activeFlyout=new Observable(null);this.transientActive=new Observable(!1);this.toolbarGroup=new Observable(null);this.backArrowVisible=new Observable(!1);
this.forwardArrowVisible=new Observable(!0);this.toolbarVisibleTools=new Observable(4);this.toolbarOpenByDefault=new Observable(!1);this.multitoolFloatLeft=new Observable(!0);this.multitoolFloatRight=new Observable(!1);this._toolbarGroupId="compactToolbar";this._compactToolbarViewId=null}__extends(b,e);b.prototype.initialize=function(a){var b=this;this.toolbarGroup.set(this.app.toolbarGroupRegistry.getToolbarGroupById(this._toolbarGroupId));null===this.toolbarGroup.get()?this.isEnabled.set(!1):(!1!==
a.registerToggleCommand&&this.isEnabled.get()&&(this.app.command("ToggleToolbar").register(this,this._executeToggleToolbar,this._isPresent),this.app.command("OpenToolbar").register(this,this._executeOpenToolbar,this._isClosed),this.app.command("CloseToolbar").register(this,this._executeCloseToolbar,this._isOpen)),this.app.event("ActiveToolChangedEvent").subscribe(this,function(a){a.tool&&b._handleUpdateActiveTool(b.toolbarGroup.get().items.get(),a.tool,!0);a.previousTool&&b._handleUpdateActiveTool(b.toolbarGroup.get().items.get(),
a.previousTool,!1)}),a.toolbarVisibleTools?this.toolbarVisibleTools.set(a.toolbarVisibleTools):this.toolbarVisibleTools.set(this.toolbarGroup.get().items.length()),a.toggleCommandDisablesView&&(this.toggleCommandDisablesView.set(!0),this.isExpanded.set(!0)),a.toolbarOpenByDefault&&setTimeout(function(){b.app.command("ToggleToolbar").execute()},0),this.activeTool.bind(this,function(a){return a?b._assignProperNameToTool(a):b._clearToolInfo()}))};b.prototype.registerCompactToolbarViewId=function(a){a&&
!this._compactToolbarViewId&&(this._compactToolbarViewId=a)};b.prototype._executeToggleToolbar=function(){if(this.toggleCommandDisablesView.get()){var a=this.app.viewManager.getViewById(this._compactToolbarViewId);this.app.command("ToggleView").execute(a.id)}else this.isExpanded.set(!this.isExpanded.get())};b.prototype._executeOpenToolbar=function(){if(this.toggleCommandDisablesView.get()){var a=this.app.viewManager.getViewById(this._compactToolbarViewId);this.app.command("ActivateView").execute(a.id)}else this.isExpanded.set(!0)};
b.prototype._executeCloseToolbar=function(){if(this.toggleCommandDisablesView.get()){var a=this.app.viewManager.getViewById(this._compactToolbarViewId);a.isActive&&this.app.command("DeactivateView").execute(a.id)}else this.isExpanded.set(!1)};b.prototype._isPresent=function(){return this.isEnabled.get()};b.prototype._isOpen=function(){if(this.toggleCommandDisablesView.get()){var a=this.app.viewManager.getViewById(this._compactToolbarViewId);return a?a.isActive:null}return this.isExpanded.get()};b.prototype._isClosed=
function(){if(this.toggleCommandDisablesView.get()){var a=this.app.viewManager.getViewById(this._compactToolbarViewId);return a?!a.isActive:null}return!this.isExpanded.get()};b.prototype._handleUpdateActiveTool=function(a,b,g){var e=this;this.activeFlyout.set(null);if(b&&a){var f=!1;a.forEach(function(a){"tool"===a.type?a.tool?b&&a.tool.command&&b.command&&a.tool.command===b.command&&a.tool.drawMode===b.drawMode&&(f=!0,g?(a.activate(),e.activeTool.set(a.tool)):(a.deactivate(),e.activeTool.set(null))):
!1===e.transientActive.get()&&e.activeTool.set(null):"toolbarGroup"!==a.type&&"flyout"!==a.type||!a.items.getLength()||e._handleUpdateActiveTool(a.items.get(),b,g)});f||this.activeTool.set(g?b:null)}};b.prototype._assignProperNameToTool=function(a){if(!this.activeToolName.get()){for(var b=0;b<this.toolbarGroup.get().items.length();b++){var g=this.toolbarGroup.get().items.getAt(b);if("flyout"===g.type||"group"===g.type)for(var e=0;e<g.items.length();e++){var f=g.items.getAt(e);f.id===a.name&&(this.activeToolName.set(f.name.get()),
this.activeToolIcon.set(f.iconUri.get()))}g.id===a.name&&(this.activeToolName.set(g.name.get()),this.activeToolIcon.set(g.iconUri.get()))}this.activeToolIcon.get()||this.activeToolIcon.set(this.app.toolRegistry.tools[a.name]?this.app.toolRegistry.tools[a.name].iconUri:null);this.activeToolName.get()||this.activeToolName.set(a.name)}};b.prototype._clearToolInfo=function(){this.activeToolName.set(null);this.activeToolIcon.set(null)};return b}(e.framework.ui.ViewModelBase);f.CompactToolbarViewModel=
h})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments);this.failedServices=new ObservableCollection;this.hasError=new Observable(!1)}__extends(b,e);return b}(e.framework.ui.ViewModelBase);f.ServiceLayersFailureViewModel=h})(f.site||(f.site={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(f){function b(a,b){f.call(this,a,b);a.event("SiteServiceLayersFailedEvent").subscribe(this,this._serviceLayersFailed)}__extends(b,f);b.prototype._serviceLayersFailed=function(a){this.viewModel.failedServices.clear();this.viewModel.hasError.set(!1);for(var b=0;b<a.length;b++){var g=a[b];if(g.failureAction===e.essentials.FailureAction.WARN||g.failureAction===e.essentials.FailureAction.ERROR)g.failureAction===e.essentials.FailureAction.ERROR&&
this.viewModel.hasError.set(!0),this.viewModel.failedServices.addItem({name:a[b].displayName})}0<this.viewModel.failedServices.length()&&(this.title.set(this.app.getResource(this.libraryId,"language-site-service-layers-failure-view-title")),this.app.viewManager.activateView(this))};b.prototype.handleClickOk=function(a,b,g){this.app.viewManager.deactivateView(this)};return b}(e.framework.ui.ViewBase);f.ServiceLayersFailureView=h})(f.site||(f.site={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping=
{}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(k){function b(){k.apply(this,arguments);this.proxyUri=this.siteUri="";this.essentialsSite=null}__extends(b,k);b.prototype.initialize=function(a){k.prototype.initialize.call(this,a);this.siteUri=a.siteUri;this.proxyUri=this.app.configuration.proxyUri||null;this.app.command("InitializeSite").register(this,this._onInitializeSite);this.app.event("SiteInitializedEvent").once(this,this._handleSiteInitializedEvent);this.app.event("SignInEvent").subscribe(this,
this._onSignIn)};b.prototype._onInitializeSite=function(a){var b=this,g=this.app.makeAbsolute(this.siteUri);this.app.site=new e.essentials.Site(g,a);this.app.event("SiteInitializingEvent").publish(this.app.site);/GeocortexApp/.test(navigator.userAgent)||this.app.isNative.get()?this._setNativeProperties():this.app.isNative.bind(this,function(a){a&&b._setNativeProperties()});this.app.isOffline.get()&&(this.app.site.url=g);this.proxyUri&&(esri.config.defaults.io.proxyUrl=this.proxyUri);dojo.connect(this.app.site,
"onInitializationFailed",function(a){var g=b.getResource("language-site-initialization-failure");a.message&&(g+=b.getResource("language-site-initialization-failure-explanation").format(a.message));b.app.nativeManager.nativeInitialized&&0===b.app.offlineManager.getOfflineMaps().length&&(g+=b.getResource("language-site-initialization-failure-native-available"));b.app.trace.error(g);a&&403===a.code?b.app.event("SiteAuthorizationFailedEvent").publish(a):(b.app.event("SiteInitializationFailedEvent").publish(a),
b.app.command("Alert").execute(g))});dojo.connect(this.app.map,"onLoad",function(a){b._overrideGeometryService();setTimeout(function(){b.app.event("SiteInitializedEvent").publish(b.app.site)},750)});dojo.connect(this.app.site,"onLayerLoad",function(a){b.app.event("SiteLayerLoad").publish(a);b.app.event("SiteLayerLoadedEvent").publish(a)});dojo.connect(this.app.site,"onLayerLoadError",function(a){b.app.event("SiteLayerLoadError").publish(a);b.app.event("SiteLayerLoadFailedEvent").publish(a)});dojo.connect(this.app.site,
"onServiceLayersLoaded",function(a){b.app.event("SiteServiceLayersLoaded").publish(a);b.app.event("SiteServiceLayersLoadedEvent").publish(a);b._checkForFailedServices(a)});dojo.connect(this.app.site,"onSignIn",function(a){b.app.event("SignInEvent").publish(a)});dojo.connect(this.app.site,"onSignOut",function(){b.app.event("SignOutEvent").publish()});dojo.connect(this.app.site,"onUserSignInCancelled",function(a){b.app.event("UserSignInCancelledEvent").publish(a)});dojo.subscribe("onMapServiceAdded",
function(a){b.app.event("MapServiceAddedEvent").publish(a)});this.app.site.configPreprocessor=function(a){return b._processSiteConfig(a)};this.app.site.deepInitialize=!0;this.app.site.initialize()};b.prototype._handleSiteInitializedEvent=function(){for(var a=0;a<this.app.site.essentialsMap.mapServices.length;a++)if(this.app.site.essentialsMap.mapServices[a]._needsProxy){this.app.trace.info("Essentials security detected. The proxy page will be used.");break}};b.prototype._onSignIn=function(){var a=
this,b=this.getResource("language-site-signing-in"),g=new f.infrastructure.commandArgs.AddStatusArgs(b);g.timeoutMS=0;g.id=e.framework.utils.alphaNumericToken();this.app.command("AddStatus").execute(g);this.app.event("SiteInitializedEvent").once(this,function(){a.app.command("RemoveStatus").execute(g.id)})};b.prototype._checkForFailedServices=function(a){if(a.essentialsMap&&a.essentialsMap.mapServices){for(var b=[],g=0;g<a.essentialsMap.mapServices.length;g++){var e=a.essentialsMap.mapServices[g];
e.initializationFailure&&b.push(e)}0<b.length&&this.app.event("SiteServiceLayersFailedEvent").publish(b)}};b.prototype._setNativeProperties=function(){var a=window.location.toString(),b=a.indexOf("#");-1!==b&&(a=a.substring(0,b));a=encodeURIComponent(a);this.app.site.signInRedirectUri="gcx://viewer?url="+a;this.app.site.signOutRedirectUri="gcx://viewer?url="+a};b.prototype._processSiteConfig=function(a){if(a&&!(a.geometryEndpoints&&0<a.geometryEndpoints.length)){var b=this.app.configuration.geometryServiceUrl||
f.infrastructure.GeometryUtils.DEFAULT_GEOMETRY_SERVICE_URI;a.hasGeometryEndpoints=!0;a.geometryEndpoints=[{id:"0",displayName:null,serviceType:"ArcGisGeometry",connectionString:"url={0}".format(b),properties:[],extensions:[]}]}};b.prototype._overrideGeometryService=function(){var a=e.framework.utils.ArrayUtils.firstOrDefault(this.app.site.geometryEndpoints),b=a?a.geometryServiceUrl:null;this.app.configuration&&(this.app.configuration.geometryServiceUrl=b||this.app.configuration.geometryServiceUrl||
f.infrastructure.GeometryUtils.DEFAULT_GEOMETRY_SERVICE_URI,esri.config.defaults.geometryService=new esri.tasks.GeometryService(this.app.configuration.geometryServiceUrl),a&&a.geometryServiceToken&&(this.app.configuration.geometryServiceToken=a.geometryServiceToken))};return b}(e.framework.application.ModuleBase);k.SiteModule=p})(k.site||(k.site={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(a,b){e.call(this,a,b);this.tryAgainAction=null;a.event("UserSignInCancelledEvent").subscribe(this,this._signInCancelled)}__extends(b,e);b.prototype._signInCancelled=function(a){this.title.set(this.app.getResource(this.libraryId,"language-site-log-on-required-title"));this.tryAgainAction=a.tryAgainAction;this.app.viewManager.activateView(this)};b.prototype.handleClickTryAgain=function(a,b,g){this.tryAgainAction&&
this.tryAgainAction()};return b}(e.framework.ui.ViewBase);f.SignInErrorView=h})(f.site||(f.site={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);return b}(e.framework.ui.ViewBase);f.StatusIndicatorView=h})(f.status||(f.status={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);return b}(e.framework.application.ModuleBase);f.TempModule=h})(f.temp||(f.temp={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(f){function b(a,b){f.call(this,a,b);this.messageRegionName="StatusIndicatorMessageRegion";this.statusViewName="StatusIndicatorView";this.lastTestAddArgs=null;this.viewInstanceCounter=0;this.app.command("AddStatus").register(this,this.addStatus);this.app.command("UpdateStatus").register(this,this.updateStatus);this.app.command("PulseStatus").register(this,this.pulseStatus);this.app.command("RemoveStatus").register(this,
this.removeStatus);this.app.event("ViewUnhostedEvent").subscribe(this,this.viewUnhostedHandler)}__extends(b,f);b.prototype.initialize=function(a){f.prototype.initialize.call(this,a);a.busyIcon||(a.busyIcon="Resources/Images/loader-small.gif");this._defaultCloseTitle=this.getResource("language-common-close")};b.prototype.addStatus=function(a){a="string"===typeof a||a instanceof String?new e.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(a):a;this.app.command("ActivateView").execute(this.statusViewName);
var b=a.id?a.id:"StatusMessageView"+this.viewInstanceCounter++,g=this.app.viewManager.getViewById(b),f=g?g.viewModel:null;g||(g=this.createView("StatusMessageView",b,this.messageRegionName));a.id=b;f||(f=new e.essentialsHtmlViewer.mapping.modules.status.StatusMessageViewModel(this.app,this.libraryId),g.attach(f));f.text.set(a.text);f.closeTitle.set(a.closeTitle||this._defaultCloseTitle);f.imageUri.set(a.imageUri);f.imageClass.set(a.imageClass);f.statusClass.set(a.statusClass);f.userClosedCallback=
a.userClosedCallback;a.showBusyIcon&&f.imageUri.set(this.configuration.busyIcon);f.timer?f.timer.reset():a.timeoutMS&&0<a.timeoutMS&&(f.timer=new e.framework.utils.TimeDelayedAction(a.timeoutMS,function(){this.removeStatus(b)},this),f.timer.start())};b.prototype.updateStatus=function(a){a="string"===typeof a||a instanceof String?new e.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(a):a;this.app.command("ActivateView").execute(this.statusViewName);var b=null;if(a.id)b=this.app.viewManager.getViewById(a.id);
else{var g=this.app.viewManager.getExistingRegionByName(this.messageRegionName);1<=g.views.length&&(b=g.views[g.views.length-1])}b&&(b=b.viewModel)&&(a.text&&b.text.set(a.text),a.closeTitle&&b.closeTitle.set(a.closeTitle),a.imageUri&&b.imageUri.set(a.imageUri),a.imageClass&&b.imageClass.set(a.imageClass),a.statusClass&&b.statusClass.set(a.statusClass),"function"===typeof a.userClosedCallback&&(b.userClosedCallback=a.userClosedCallback),b.timer&&b.timer.reset())};b.prototype.pulseStatus=function(a){a&&
(a=this.app.viewManager.getViewById(a))&&(a=a.viewModel)&&a.timer&&a.timer.reset()};b.prototype.removeStatus=function(a){var b=null;a?b=this.app.viewManager.getViewById(a):(a=this.app.viewManager.getExistingRegionByName(this.messageRegionName),1<=a.views.length&&(b=a.views[a.views.length-1]));b&&this.app.viewManager.destroyView(b)};b.prototype.createView=function(a,b,g){return this.app.viewManager.createView({id:b,type:"geocortex.essentialsHtmlViewer.mapping.modules.status."+a,markup:this.libraryId+
"/modules/Status/"+a+".html",visible:!0,libraryId:this.libraryId,regionName:g})};b.prototype.viewUnhostedHandler=function(a){var b=a.region;a=a.view;b.name==this.messageRegionName&&(a&&a.viewModel&&a.viewModel.timer&&a.viewModel.timer.stop(),0==b.views.length&&this.app.command("DeactivateView").execute(this.statusViewName))};return b}(e.framework.application.ModuleBase);f.StatusModule=h})(f.status||(f.status={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments);this.text=new Observable;this.closeTitle=new Observable;this.imageUri=new Observable;this.imageClass=new Observable;this.statusClass=new Observable;this.userClosedCallback=null}__extends(b,e);return b}(e.framework.ui.ViewModelBase);f.StatusMessageViewModel=h})(f.status||(f.status={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.attach=function(a){e.prototype.attach.call(this,a);if(a){this.updateClassBinding(a.statusClass.get());var b=a.statusClass.bind(this,this.updateClassBinding);this.addDisposableBinding(a.statusClass,b)}};b.prototype.updateClassBinding=function(a){a=a||"";var b=this._previousClass||"";a&&a!==b&&(this._previousClass=a,dojo.removeClass(this.containerElement,b),
dojo.addClass(this.containerElement,a))};b.prototype.handleClickClose=function(a,b,g){this.app.viewManager.destroyView(this);g&&g.userClosedCallback&&g.userClosedCallback.call(this,this)};return b}(e.framework.ui.ViewBase);f.StatusMessageView=h})(f.status||(f.status={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);return b}(e.framework.ui.ViewBase);f.TempView=h})(f.temp||(f.temp={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);return b}(e.framework.ui.ViewModelBase);f.TempViewModel=h})(f.temp||(f.temp={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.getStateFilter=function(){return{isOpen:!0,currentTab:!0}};b.prototype.exportState=function(){var a=this,b={isOpen:!1,currentTab:null};return Promise["try"](function(){a.app.command("_ExportTabbedToolbarState").execute(b);return b})};b.prototype.applyState=function(a){var b=this,g={state:a,completePromise:null};return this.app.waitUntilAllLibrariesLoaded().then(function(){b.app.command("_ApplyTabbedToolbarState").execute(g);
return g.completePromise})};return b}(e.ToolbarModuleBase);e.TabbedToolbarModule=f})(e.toolbar||(e.toolbar={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.handleClickToggleToolbar=function(a,b,g){this.app.command("ToggleToolbar").execute();return!1};return b}(e.framework.ui.ViewBase);f.ToolbarButtonView=h})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(a,b){e.call(this,a,b);this.tileElements=[];this.app.event("ViewActivatedEvent").subscribe(this,this._onViewActivatedEvent);this.app.event("ViewDeactivatedEvent").subscribe(this,this._onViewDeactivatedEvent)}__extends(b,e);b.prototype._onViewActivatedEvent=function(a){if(this.root&&a.id){if(this.viewModel&&this.viewModel.hostedViews&&!this.viewModel.hostedViews.contains(a))return!1;this.handleViewActivated(a)}};
b.prototype._onViewDeactivatedEvent=function(a){if(this.root&&a.id){if(this.viewModel&&this.viewModel.hostedViews&&!this.viewModel.hostedViews.contains(a))return!1;this.handleViewDeactivated(a)}};b.prototype.handleViewActivated=function(a){for(var b=0;b<this.tileElements.length;++b)dojo.removeClass(this.tileElements[b],"tb-view-active");a=".{0}".format(a.id);(a=dojo.query(a,this.root)[0])&&dojo.addClass(a,"tb-view-active")};b.prototype.handleViewDeactivated=function(a){a=".{0}".format(a.id);(a=dojo.query(a,
this.root)[0])&&dojo.removeClass(a,"tb-view-active")};b.prototype.handleViewTileClick=function(a,b,g){this.app.command("ActivateView").execute(g.id);this.app.event("ToolbarViewTilePressedEvent").publish(g.id);return!1};return b}(e.framework.ui.ViewBase);f.ToolbarManagedViewsView=h})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(a,b){var g=this;e.call(this,a,b);this.hostedViews=new ObservableCollection;this.ordering={};this.managedRegionName="BottomPanelViewContainerRegion";this.app.event("ViewHostedEvent").subscribe(this,function(a){var b=a.view;a=a.region;b&&b.isManaged&&a.name===g.managedRegionName&&g._addOrderedView(b)});this.app.event("ViewUnhostedEvent").subscribe(this,function(a){var b=a.view;a=a.region;b&&b.isManaged&&a.name===
this.managedRegionName&&this.hostedViews.removeItem(b)});var h=this.app.event("ViewActivatedEvent").subscribe(this,function(a){if(a&&a instanceof f.ToolbarManagedViewsView){if(g.app.event("ViewActivatedEvent").unsubscribe(h),g.lastActivatedManagedView)var b=dojo.connect(a,"attach",function(){dojo.disconnect(b);a.handleViewActivated(g.lastActivatedManagedView)})}else a&&a.isManaged&&(g.lastActivatedManagedView=a)})}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,
a);a.hasOwnProperty("ordering")&&(this.ordering=a.ordering)};b.prototype._addOrderedView=function(a){if(this.ordering){var b=a.id;if(b)if(b=this.ordering.hasOwnProperty(b)?+this.ordering[b]:null,null===b||void 0===b)this.hostedViews.addItem(a);else{for(var g=!1,e=0;e<this.hostedViews.getLength();++e){var f=this.hostedViews.getAt(e),f=this.ordering.hasOwnProperty(f.id)?+this.ordering[f.id]:null;if(null===f||b<=f){g=!0;this.hostedViews.insertItem(e,a);break}}g||this.hostedViews.addItem(a)}else this.hostedViews.addItem(a)}else this.hostedViews.addItem(a)};
return b}(e.framework.ui.ViewModelBase);f.ToolbarManagedViewsViewModel=h})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments);this.title=new Observable("");this.tooltip=new Observable("");this.group=new Observable(null);this.isVisible=new Observable(!1);this.isActive=new Observable(!1)}__extends(b,e);return b}(e.framework.ui.ViewModelBase);f.ToolbarTabViewModel=h})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments);this._longPressTimer=null;this._pressLengthMs=2E3;this.flyoutRegion=this.previousActiveToolElement=this._firstEvent=null}__extends(b,e);b.prototype.manageToolVisuals=function(a,b){if(b&&a)for(var g=0;g<a.length;g++){var e=a[g];e&&("tool"!==e.type||e.disabled.get()?"toolbarGroup"!==e.type&&"flyout"!==e.type||!e.items.getLength()||this.manageToolVisuals(e.items.get(),b):e.tool.drawMode===
b.drawMode&&e.tool.command===b.command&&(b.isActive?e.activate():e.deactivate()))}};b.prototype.attach=function(a){var b=this;a.toolbarGroups&&(e.prototype.attach.call(this,a),a.registerTabbedToolbarViewId(this.id),a&&a.toolbarGroups&&!a.toolbarGroups.isEmpty()&&this.app.event("ActiveToolChangedEvent").subscribe(this,function(a){a.tool&&b.manageToolVisuals(b.viewModel.toolbarGroups.get(),a.tool);a.previousTool&&b.manageToolVisuals(b.viewModel.toolbarGroups.get(),a.previousTool)}),this.app.event("ActiveToolChangedEvent").subscribe(this,
function(a){b.isActive&&null!==a.tool&&b.app.configuration.mobileMode&&b.app.command("DataFrameLower").execute(b.id)}))};b.prototype.handleClickToggleToolbar=function(a,b,g){this.viewModel.toolbarGroups&&0<this.viewModel.toolbarGroups.getLength()&&(this.app.command("ActivateView").execute(this.id),this.app.event("ApplicationResizedEvent").publish())};b.prototype.handleToolbarItemClick=function(a,b,g){g.execute()};b.prototype.handleTabClick=function(a,b,g){this.viewModel.setCurrentTab(g)};b.prototype.closeToolbar=
function(a,b,g){this.app.viewManager.deactivateView(this);this.app.command("RecenterMapOnNextMapResize").execute();this.app.event("ApplicationResizedEvent").publish()};b.prototype.toggleToolbar=function(a,b,g){this.app.configuration.mobileMode?this.app.command("ActivateView").execute(this.id):this.app.command("ToggleToolbar").execute();return!1};b.prototype.resolveWidget=function(a,b){e.prototype.resolveWidget.call(this,a,b);if("RegionWidget"===a&&b.regionName){var g=this.app.viewManager.createView({markupResource:"Mapping/modules/Toolbar/Templates/ToolbarRegionTemplate.html"});
g.app=this.app;g.libraryId=this.libraryId;g.attach(b);return g}return null};b.prototype.toggleVisibleGroup=function(a,b,g){g.isActive.set(!g.isActive.get())};b.prototype.handleOpenToolFlyout=function(a,b,g){g.toggleFlyout();if(this.viewModel.activeFlyout.get()===g)this.viewModel.activeFlyout.set(null);else{this.viewModel.activeFlyout.get()&&this.viewModel.activeFlyout.get().toggleFlyout();a=$(b).offset();var e=$(b).outerHeight();$(this.flyoutRegion).css({left:a.left,top:a.top-$(b).parent().outerHeight()+
e});this.viewModel.activeFlyout.set(g)}};b.prototype.handleTouchStart=function(a){this._firstEvent||(this._firstEvent="touch start",this._beginLongPress());return!0};b.prototype.handleMouseDown=function(a){this._firstEvent||(this._firstEvent="mouse down",this._beginLongPress());return!0};b.prototype.handleTouchEnd=function(a){"touch start"===this._firstEvent&&(this._firstEvent=null,this._cancelLongPress());return!0};b.prototype.handleMouseUp=function(a){"mouse down"===this._firstEvent&&(this._firstEvent=
null,this._cancelLongPress());return!0};b.prototype.handleMouseOut=function(a){"mouse down"===this._firstEvent&&(this._firstEvent=null,this._cancelLongPress());return!0};b.prototype.handleTouchCancel=function(a){"touch start"===this._firstEvent&&(this._firstEvent=null,this._cancelLongPress());return!0};b.prototype.handleTouchMove=function(a){"touch start"===this._firstEvent&&(this._firstEvent=null,this._cancelLongPress());return!0};b.prototype._beginLongPress=function(){var a=this;this._longPressTimer&&
clearTimeout(this._longPressTimer);this._longPressTimer=setTimeout(function(){a.app.command("ActivateView").execute("LogView")},this._pressLengthMs)};b.prototype._cancelLongPress=function(){this._longPressTimer&&(clearTimeout(this._longPressTimer),this._longPressTimer=null)};return b}(e.framework.ui.ViewBase);f.TabbedToolbarView=h})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=e.framework.utils.ArrayUtils,k=function(b){function a(){b.apply(this,arguments);this.toolbarVisible=new Observable(!1);this.toolbarGroups=new ObservableCollection;this.toolbarTabs=new ObservableCollection;this.currToolbarGrp=new Observable(null);this.activeFlyout=new Observable(null);this._tabbedToolbarViewId=this.toolbarOpenByDefault=null}__extends(a,b);a.prototype.initialize=function(a){b.prototype.initialize.call(this,a);if(a){var g=
!1,e=a.toolbarGroupRefs;if(e){for(var h=0;h<e.length;h++){var k=this.app.toolbarGroupRegistry.getToolbarGroupById(e[h]);if(k){this.toolbarGroups.addItem(k);k.selected=new Observable(!1);var l=!!k.isDefault,p=new f.ToolbarTabViewModel(this.app,this.libraryId);p.group.set(k);p.title.sync(k.name);p.tooltip.sync(k.tooltip);k.isActive.sync(p.isActive);p.isActive.set(l);l&&(g=!0);this.toolbarTabs.addItem(p)}}0<this.toolbarTabs.getLength()&&(g||(p=this.toolbarTabs.getAt(0),p.isActive.set(!0)),this.currToolbarGrp.set(p.group.get()));
!1!==a.registerToggleCommand&&0!==this.toolbarGroups.getLength()&&(this.app.commandRegistry.command("ToggleToolbar").register(this,this._executeToggleToolbar,this._isPresent),this.app.commandRegistry.command("OpenToolbar").register(this,this._executeOpenToolbar,this._isClosed),this.app.commandRegistry.command("CloseToolbar").register(this,this._executeCloseToolbar,this._isOpen));this.handleDisabledItems(this.toolbarGroups.get())}this.toolbarOpenByDefault=void 0!=a.toolbarOpenByDefault?a.toolbarOpenByDefault:
!1;this.app.command("_ExportTabbedToolbarState").register(this,this._exportState);this.app.command("_ApplyTabbedToolbarState").register(this,this._applyState)}};a.prototype.registerTabbedToolbarViewId=function(a){a&&!this._tabbedToolbarViewId&&(this._tabbedToolbarViewId=a,this._setToolbarInitialVisibility())};a.prototype.handleDisabledItems=function(a,b){var e;try{for(var f=0;f<a.length;f++)e=a[f],"toolbarGroup"===e.type&&(e.areAllHidden&&e.disabled.set(e.areAllHidden(e.items)),this.handleDisabledItems(e.items.get(),
e)),e.disabled.bind(e,function(a){b&&b.areAllHidden&&b.disabled.set(b.areAllHidden(b.items))})}catch(h){this.app.trace.error("Error occurred while setting CSS class for toolbar items: "+h)}};a.prototype.setCurrentTab=function(a){for(var b=0;b<this.toolbarTabs.getLength();b++){var e=this.toolbarTabs.getAt(b);e!==a&&e.isActive.get()&&e.isActive.set(!1)}a.isActive.set(!0);this.currToolbarGrp.set(a.group.get());this.app.command("RecenterMapOnNextMapResize").execute();this.app.event("ApplicationResizedEvent").publish()};
a.prototype._setToolbarInitialVisibility=function(){var a=this,b=function(){a.toolbarOpenByDefault&&a.app.command("ActivateView").execute(a._tabbedToolbarViewId);a.toolbarVisible.set(a.toolbarOpenByDefault)};if(null!=this.app.site&&this.app.site.isInitialized)b();else this.app.event("SiteInitializedEvent").once(this,b)};a.prototype._executeToggleToolbar=function(){var a=this.app.viewManager.getViewById(this._tabbedToolbarViewId);this.app.configuration.mobileMode?this.app.command("ActivateView").execute(a.id):
this.app.command("ToggleView").execute(a.id);this.app.command("RecenterMapOnNextMapResize").execute();this.app.event("ApplicationResizedEvent").publish();this.app.event("ToolbarStateChangedEvent").publish(a.isActive)};a.prototype._executeOpenToolbar=function(){var a=this.app.viewManager.getViewById(this._tabbedToolbarViewId);a.isActive||this.app.command("ActivateView").execute(a.id)};a.prototype._executeCloseToolbar=function(){var a=this.app.viewManager.getViewById(this._tabbedToolbarViewId);a.isActive&&
this.app.command("DeactivateView").execute(a.id)};a.prototype._isPresent=function(){return this.toolbarGroups&&0<this.toolbarGroups.getLength()};a.prototype._isOpen=function(){var a=this.app.viewManager.getViewById(this._tabbedToolbarViewId);return a?a.isActive:null};a.prototype._isClosed=function(){var a=this.app.viewManager.getViewById(this._tabbedToolbarViewId);return a?!a.isActive:null};a.prototype._exportState=function(a){a.isOpen=this._isOpen();var b=h.firstOrDefault(this.toolbarTabs.get(),
function(a){return a.isActive.get()});a.currentTab=b?b.group.get().id:null};a.prototype._applyState=function(a){a.state.isOpen?this.app.command("OpenToolbar").execute():this.app.command("CloseToolbar").execute();var b=h.firstOrDefault(this.toolbarTabs.get(),function(b){return b.group.get().id===a.state.currentTab});b&&this.setCurrentTab(b)};return a}(e.framework.ui.ViewModelBase);f.TabbedToolbarViewModel=k})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){var h=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.handleToolbarItemClick=function(a,b,e){e.execute()};a.prototype.resolveWidget=function(a,g){b.prototype.resolveWidget.call(this,a,g);if("RegionWidget"===a&&g.regionName){var e=this.app.viewManager.createView({markupResource:"Mapping/modules/Toolbar/Templates/ToolbarRegionTemplate.html"});e.app=this.app;e.libraryId=this.libraryId;e.attach(g);
return e}return null};a.prototype.handleClickClose=function(a,b,e){this.app.command("ClearActiveTool").execute()};return a}(e.framework.ui.ViewBase);f.TransientView=h})(f.transients||(f.transients={}))})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){var h=function(b){function a(){b.apply(this,arguments);this.items=new ObservableCollection([]);this.name=new Observable(null);this.hasNeighbour=new Observable(!1)}__extends(a,b);a.prototype.initialize=function(a){b.prototype.initialize.call(this,a)};return a}(e.framework.ui.ViewModelBase);f.TransientViewModel=h})(f.transients||(f.transients={}))})(f.toolbar||(f.toolbar={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping=
{}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(e){function b(){e.apply(this,arguments);this.cssClasses={activeTool:"active-tool"}}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);a.tools&&this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,!0);a.hasOwnProperty("showStatusMessages")||(a.showStatusMessages=!0);a.showStatusMessages&&(this.app.event("ActiveToolChangedEvent").subscribe(this,this.activeToolChanged),
this.app.event("ToolInputMethodChangedEvent").subscribe(this,this.toolInputMethodChanged))};b.prototype.activeToolChanged=function(a){if(this.configuration.showStatusMessages)if(a&&a.tool){var b=a.tool;if(b.statusText){a=b.name+"StatusMessageView";var g=b.statusText;b.libraryId&&g&&0<g.length&&"@"===g[0]&&(g=this.app.getResource(b.libraryId,g.substring(1)));var e=b.closeTitle||this.getResource("language-common-deactivate-tool");b.libraryId&&e&&0<e.length&&"@"===e[0]&&(e=this.app.getResource(b.libraryId,
e.substring(1)));g=new f.infrastructure.commandArgs.AddStatusArgs(g);g.id=a;g.closeTitle=e;g.imageUri=b.iconUri;g.timeoutMS=0;g.userClosedCallback=function(){return b.setActive(!1)};g.statusClass=b.statusClass||this.cssClasses.activeTool;this.app.command("AddStatus").execute(g);this.app.command("ScreenReaderNarrate").execute(b.statusText)}}else a=a.previousTool.name+"StatusMessageView",this.app.command("RemoveStatus").execute(a)};b.prototype.toolInputMethodChanged=function(a){if(this.configuration.showStatusMessages&&
a&&a.tool){var b=a.tool,g=(a=(a.newMethod||null)===f.infrastructure.accessibility.InputMethod.KEYBOARD)?b.keyboardStatusText:b.statusText;b.libraryId&&g&&0<g.length&&"@"===g[0]&&(g=this.app.getResource(b.libraryId,g.substring(1)));if(g){var b=b.name+"StatusMessageView",e=new f.infrastructure.commandArgs.AddStatusArgs(g);e.id=b;this.app.command("UpdateStatus").execute(e);a&&this.app.command("ScreenReaderNarrate").execute(g)}}};return b}(e.framework.application.ModuleBase);k.ToolsModule=p})(k.tools||
(k.tools={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.attach=function(a){var b=this;e.prototype.attach.call(this,a);this.viewContainerViewClosedEventToken||(this.viewContainerViewClosedEventToken=this.app.event("ViewContainerViewClosedEvent").subscribe(this,function(a){a&&a.viewId===b.id&&b.handleCancel()}))};b.prototype.destroy=function(){e.prototype.destroy.call(this);this.viewContainerViewClosedEventToken&&
(this.app.event("ViewContainerViewClosedEvent").unsubscribe(this.viewContainerViewClosedEventToken),this.viewContainerViewClosedEventToken=null)};b.prototype.handleCancel=function(){this.close();this.viewModel.processActions&&this.viewModel.processActions.cancel&&this.viewModel.processActions.cancel()};b.prototype.close=function(){this.app.viewManager.deactivateView(this)};return b}(e.framework.ui.ViewBase);f.DialogViewBase=h})(f.uploadData||(f.uploadData={}))})(f.modules||(f.modules={}))})(f.mapping||
(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.handleProceed=function(){this.close();this.viewModel.processActions.proceed()};return b}(e.DialogViewBase);e.TableRecordResultsDialogView=f})(e.uploadData||(e.uploadData={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments);this.rejectedRecordsMessage=new Observable("");this.acceptedRecordsMessage=new Observable("");this.rejectedRecordsUrl=new Observable("")}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);this.configuration=a};b.prototype.prompt=function(a){var b=this;this.rejectedRecordsMessage.set(this.getResource("language-table-record-results-dialog-rejected-records-message").format(a.rejected));
this.acceptedRecordsMessage.set(this.getResource("language-table-record-results-dialog-accepted-records-message").format(a.accepted));this.rejectedRecordsUrl.set(a.rejectedRecordsUrl);return new Promise(function(a,e){b.processActions={proceed:function(){return a()},error:function(a){return e(a)},cancel:function(){return a()}}})};return b}(e.framework.ui.ViewModelBase);f.TableRecordResultsDialogViewModel=h})(f.uploadData||(f.uploadData={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){var f=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.reset=function(){this.symbologySettingsWidget.reset()};b.prototype.handleProceed=function(){this.close();this.viewModel.processActions.proceed(this.symbologySettingsWidget.viewModel.symbols)};b.prototype.handleCancel=function(){this.handleProceed()};return b}(e.DialogViewBase);e.SymbolDialogView=f})(e.uploadData||(e.uploadData={}))})(e.modules||(e.modules=
{}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.prompt=function(){var a=this;return new Promise(function(b,g){a.processActions={proceed:function(a){return b(a)},error:function(a){return g(a)},cancel:function(){return b()}}})};return b}(e.framework.ui.ViewModelBase);f.SymbolDialogViewModel=h})(f.uploadData||(f.uploadData={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){e.Z_AXIS_ENABLED=!1;e.Z_AXIS_REQUIRED=e.Z_AXIS_ENABLED&&!1;var f=function(f){function b(){f.apply(this,arguments)}__extends(b,f);b.prototype.validator=function(){var a=this,b=[];this.viewModel.locationTypeIsCoordinates.get()&&((![this.xAxis,this.yAxis].every(function(a){return-1!==a.selectedIndex})||e.Z_AXIS_ENABLED&&e.Z_AXIS_REQUIRED&&-1===this.zAxis.selectedIndex)&&b.push({title:this.getResource("language-table-mapping-validation-error-all-coordinates-must-be-set"),message:this.getResource("language-table-mapping-validation-error-all-coordinates-must-be-set-message")}),
function(){for(var b=[a.xAxis,a.yAxis,a.zAxis],d=0;d<b.length;d++)for(var g=b[d],e=0;e<b.length;e++){var f=b[e];if(g!==f&&g.value&&g.value===f.value)return!1}return!0}()||b.push({title:this.getResource("language-table-mapping-validation-error-axes-must-be-unique"),message:this.getResource("language-table-mapping-validation-error-axes-must-be-unique-message")}),this.getSourceSpatialReference()||b.push({title:this.getResource("language-table-mapping-validation-error-source-spatial-mapping-invalid"),
message:this.getResource("language-table-mapping-validation-error-source-spatial-mapping-invalid-message")}));if(this.viewModel.locationTypeIsAddress.get()){var g=[];this.viewModel.addressFieldSelectors.get().forEach(function(b,d){b.required&&-1===$(a.form).find(".address select").get(d).selectedIndex&&g.push(b)});g.length&&b.push({title:this.getResource("language-table-mapping-validation-error-lacking-required-address-fields"),message:this.getResource("language-table-mapping-validation-error-lacking-required-address-fields-message").format(g.map(function(a){return a.label}).join(", "))})}return b};
b.prototype.validate=function(){this.viewModel.validationProblems.set(this.validator())};b.prototype.attach=function(a){f.prototype.attach.call(this,a);this.reset();$(this.form).change(this.validate.bind(this))};b.prototype.reset=function(){this.refreshLocationType();this.viewModel.transformTablePreview(this.isFirstRowHeader.checked);this.sourceSpatialReference.selectedIndex=this.viewModel.sourceSpatialReferences.get().findIndex(function(a){return a.preselected});$(this.form).find(".address select").each(function(a,
b){b.selectedIndex=-1});this.performAutoDetection();this.validate()};b.prototype.performAutoDetection=function(){var a=this,b=this.viewModel.configuration.autoDetectionTerms,g=function(b){for(var d=a.viewModel.tableHeadings.get(),g=0;g<d.length;g++)if(e.checkStringForTerms(d[g],b))return g;return-1};this.xAxis.selectedIndex=b&&b.xAxis?g(b.xAxis):-1;this.yAxis.selectedIndex=b&&b.yAxis?g(b.yAxis):-1;this.zAxis.selectedIndex=b&&b.zAxis?g(b.zAxis):-1;this.viewModel.addressFieldSelectors.get().forEach(function(e,
f){$(a.form).find(".address li").eq(f).find("select").get(0).selectedIndex=b&&b[e.name]?g(b[e.name])+1:-1})};b.prototype.refreshLocationType=function(){var a=this.locationType.querySelector("input[type=radio]:checked").value;this.viewModel.locationTypeIsCoordinates.set("coordinates"===a);this.viewModel.locationTypeIsAddress.set("address"===a)};b.prototype.handleChangeLocationType=function(){this.refreshLocationType();this.validate()};b.prototype.handleChangeUseFirstRowAsHeader=function(){this.reset()};
b.prototype.handleChangeSourceSpatialReference=function(a,b){this.viewModel.sourceSpatialReferencesUseCustom.set(this.viewModel.sourceSpatialReferences.getAt(b.selectedIndex).custom);this.validate()};b.prototype.getSourceSpatialReference=function(){if(-1===this.sourceSpatialReference.selectedIndex)return null;var a=this.viewModel.sourceSpatialReferences.getAt(this.sourceSpatialReference.selectedIndex);if(a.spatialReference)return a.spatialReference;if(a.map)this.app.map.spatialReference;else if(a.custom)return(a=
this.sourceSpatialReferenceCustom.value.trim())?/^[0-9]+$/.test(a)?new esri.SpatialReference(parseInt(a,10)):new esri.SpatialReference(a):null};b.prototype.handleProceed=function(){var a=this;this.validate();if(1<=this.viewModel.validationProblems.getLength())this.app.command("Alert").execute(this.getResource("language-upload-data-cannot-proceed-when-invalid-message"),this.getResource("language-upload-data-cannot-proceed-when-invalid"));else{var b;if(this.viewModel.locationTypeIsCoordinates.get())b=
{locationType:"coordinates",isFirstRowHeader:this.isFirstRowHeader.checked,x:this.xAxis.value,y:this.yAxis.value,sourceSR:this.getSourceSpatialReference()},e.Z_AXIS_ENABLED&&(b.z=this.zAxis.value);else if(this.viewModel.locationTypeIsAddress.get()){var g={};$(this.form).find(".address select").each(function(b,d){var e=a.viewModel.addressFieldSelectors.getAt(b);d.value&&(g[e.name]=d.value)});b={locationType:"address",isFirstRowHeader:this.isFirstRowHeader.checked,addressFields:g}}else this.viewModel.processActions.error(Error("Location type is invalid."));
this.close();this.viewModel.processActions.proceed(b)}};return b}(e.DialogViewBase);e.TableMappingDialogView=f})(e.uploadData||(e.uploadData={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){var f=/[^a-z0-9_]/ig,h=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.attach=function(a){b.prototype.attach.call(this,a);$(this.form).change(this.validate.bind(this))};a.prototype.reset=function(a){void 0===a&&(a="");a=a.replace(/\.[^\.]+$/,"");this.layerName.value=a.replace(f,"");this.publish.checked=!1;this.viewModel.publishDisabledMessage.set("")};a.prototype.validator=function(){var a=[];this.layerName.value.trim()||
a.push({title:this.getResource("language-layer-details-validation-error-name-cannot-be-empty"),message:this.getResource("language-layer-details-validation-error-name-cannot-be-empty-message")});this.publish.checked&&this.layerName.value.match(f)&&a.push({title:this.getResource("language-layer-details-validation-error-invalid-publish-name"),message:this.getResource("language-layer-details-validation-error-invalid-publish-name-message")});"fileGeodatabase"!==this.viewModel.fileType.get()||this.publish.checked||
a.push({title:this.getResource("language-layer-details-validation-error-filegeodatabase-must-be-published"),message:this.getResource("language-layer-details-validation-error-filegeodatabase-must-be-published-message")});return a};a.prototype.validate=function(){this.viewModel.validationProblems.set(this.validator())};a.prototype.handleProceed=function(){this.validate();1<=this.viewModel.validationProblems.getLength()?this.app.command("Alert").execute(this.getResource("language-upload-data-cannot-proceed-when-invalid-message"),
this.getResource("language-upload-data-cannot-proceed-when-invalid")):(this.close(),this.viewModel.processActions.proceed({details:{layerName:this.layerName.value},publish:this.viewModel.signedIn.get()&&this.publish.checked}))};return a}(e.DialogViewBase);e.LayerDetailsDialogView=h})(e.uploadData||(e.uploadData={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments);this.hasConfiguredGeocoder=new Observable(!1);this.tablePreview=new ObservableCollection;this.tableHeadings=new ObservableCollection;this.tableHeadingOptions=new ObservableCollection;this.locationTypeIsCoordinates=new Observable(!1);this.locationTypeIsAddress=new Observable(!1);this.zAxisEnabled=new Observable(f.Z_AXIS_ENABLED);this.sourceSpatialReferences=new ObservableCollection;
this.sourceSpatialReferencesUseCustom=new Observable(!1);this.addressFieldSelectors=new ObservableCollection;this.validationProblems=new ObservableCollection}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);this.configuration=a};b.prototype.prompt=function(a){var b=this;this.sourceSpatialReferences.set(this.configuration.sourceSpatialReferences.map(function(a){a.map&&(a.spatialReference=b.app.map.spatialReference,a.spatialReference.wkid&&(a.label+=" ("+b.getResource("language-table-mapping-source-spatial-reference-map-wkid")+
" "+b.app.map.spatialReference.wkid+")"));return a}));this.rawTablePreview=a;this.transformTablePreview();this.geocoder=this.app.site.getDefaultBatchGeocoder();this.hasConfiguredGeocoder.set(this.geocoder&&0<this.geocoder.parameters.length);this.addressFieldSelectors.clear();if(this.hasConfiguredGeocoder.get()){a=0;for(var g=this.geocoder.parameters;a<g.length;a++){var e=g[a];this.addressFieldSelectors.addItem({name:e.name,label:e.displayName||e.name,required:e.isRequired,tableHeadingOptions:this.tableHeadingOptions})}}return new Promise(function(a,
g){b.processActions={proceed:function(b){return a(b)},error:function(a){return g(a)},cancel:function(){var a=Error(f.ERROR_CANCELLED_MESSAGE);a.name=f.ERROR_CANCELLED;g(a)}}})};b.prototype.transformTablePreview=function(a){void 0===a&&(a=!0);this.tablePreview.clear();if(this.rawTablePreview){if(!a){a=this.rawTablePreview[0].length;for(var b=new ObservableCollection,g=1;g<=a;g++)b.addItem(this.getResource("language-table-mapping-generated-column-prefix")+" "+g);this.tablePreview.addItem(b)}a=0;for(b=
this.rawTablePreview;a<b.length;a++)this.tablePreview.addItem(new ObservableCollection(b[a]));this.tableHeadings.set(this.tablePreview.getAt(0).get());this.tableHeadingOptions.set([""].concat(this.tableHeadings.get()))}};return b}(e.framework.ui.ViewModelBase);f.TableMappingDialogViewModel=h})(f.uploadData||(f.uploadData={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(e){function b(){e.apply(this,arguments);this.signedIn=new Observable(!1);this.fileType=new Observable(void 0);this.publishIsAvailable=new Observable(!1);this.publishDisabledMessage=new Observable;this.validationProblems=new ObservableCollection}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);this.configuration=a};b.prototype.prompt=function(a){var b=this;this.fileType.set(a);this.signedIn.set(f.infrastructure.PortalUtils.hasAccessToPortal(this.app));
this.publishIsAvailable.set(this.signedIn.get()&&"gpx"!==a);return new Promise(function(a,e){b.processActions={proceed:function(b){return a(b)},error:function(a){return e(a)},cancel:function(){var a=Error(k.ERROR_CANCELLED_MESSAGE);a.name=k.ERROR_CANCELLED;e(a)}}})};return b}(e.framework.ui.ViewModelBase);k.LayerDetailsDialogViewModel=p})(k.uploadData||(k.uploadData={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex=
{}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments);this.validationProblems=new ObservableCollection;this.disabled=new Observable(!1)}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);this.configuration=a};b.prototype.prompt=function(){var a=this;return new Promise(function(b,g){a.processActions={proceed:function(a){return b(a)},error:function(a){return g(a)},cancel:function(){var a=Error(f.ERROR_CANCELLED_MESSAGE);a.name=
f.ERROR_CANCELLED;g(a)}}})};return b}(e.framework.ui.ViewModelBase);f.UploadDialogViewModel=h})(f.uploadData||(f.uploadData={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){var f=function(e){function b(){var a=this;e.apply(this,arguments);this.isBusy=new Observable(!1);this.validator=function(){var b=a.uploaderWidget.viewModel.selectedFiles.get(),g=[],e=["csv","xlsx","gpx","kml","zip"],f="shp dbf shx prj cpg sbn sbx shp.xml".split(" "),h=e.concat(f);b.length||g.push({title:a.getResource("language-uploader-validation-error-no-file-title"),message:a.getResource("language-uploader-validation-error-no-file-message")});
var k=0;b.forEach(function(b){h.some(function(a){return b.name.endsWith("."+a)})||(b.flag=a.getResource("language-upload-dialog-selected-file-flag-extension-not-allowed"),k++)});k&&g.push({title:a.getResource("language-upload-dialog-validation-error-extension-not-allowed"),message:a.getResource("language-upload-dialog-validation-error-extension-not-allowed-message")});var l=b.filter(function(a){return e.some(function(b){return a.name.endsWith("."+b)})});1<l.length&&g.push({title:a.getResource("language-upload-dialog-validation-error-too-many"),
message:a.getResource("language-upload-dialog-validation-error-too-many-message").format(l.length)});b=b.filter(function(a){return["shp"].concat(f).some(function(b){return a.name.endsWith("."+b)})});l=b.some(function(a){return a.name.endsWith(".shp")});0<b.length&&!l&&g.push({title:a.getResource("language-upload-dialog-validation-error-shapefile-incomplete"),message:a.getResource("language-upload-dialog-validation-error-shapefile-incomplete-message")});return g}}__extends(b,e);b.prototype.attachUploader=
function(a){var b=this;this.uploaderWidget=a;this.isBusy.sync(this.uploaderWidget.viewModel.uploading);this.viewModel.disabled.sync(this.uploaderWidget.viewModel.disabled);this.uploaderWidget.viewModel.uploadRequestParameters.validator="feature";$(this.uploaderWidget.form).off("change").on("change",function(){b.validate()});this.uploaderWidget.viewModel.onUploadSuccess=function(a){return b.viewModel.processActions.proceed(a)};this.uploaderWidget.viewModel.onUploadFailure=function(a){return b.viewModel.processActions.error(a)}};
b.prototype.reset=function(){this.uploaderWidget.reset();this.viewModel.validationProblems.clear()};b.prototype.validate=function(){this.viewModel.validationProblems.set(this.validator());this.uploaderWidget.viewModel.selectedFiles.pulse()};b.prototype.handleProceed=function(a){this.validate();1<=this.viewModel.validationProblems.getLength()?this.app.command("Alert").execute(this.getResource("language-upload-data-cannot-proceed-when-invalid-message"),this.getResource("language-upload-data-cannot-proceed-when-invalid")):
this.uploaderWidget.viewModel.upload(this.uploaderWidget.form)};return b}(e.DialogViewBase);e.UploadDialogView=f})(e.uploadData||(e.uploadData={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){function p(a){return a.reduce(function(a,b){return a.concat(b)})}function l(a,b){return b.some(function(b){return RegExp("(?:^|\\b|_)"+b+"(?:$|\\b|_)","i").test(a)})}var b=[".shp",".shx",".dbf"];k.SERVICE_TYPE_FEATURE="Feature Service";k.SERVICE_TYPE_KML="KML";k.ERROR_CANCELLED="UploadDataError/Cancelled";k.ERROR_CANCELLED_MESSAGE="Upload data process was cancelled.";k.ERROR_MUST_SIGN_IN_TO_PUBLISH_GEODATABASE="UploadDataError/MustSignInToPublishGeodatabase";
var a=function(a){function g(){a.apply(this,arguments);this._processInProgress=new Observable(!1);this._layerNamePlaceholderCounter=0}__extends(g,a);g.prototype.initialize=function(a){a.checkJobStatusPeriod=a.checkJobStatusPeriod||4E3;a.warnOnFeatureCount=a.warnOnFeatureCount||1E4;a.heatMap=a.heatMap||{enabled:!1,userCanToggle:!0,respectScaleRange:!0,gradient:[[255,255,255,0],[0,0,255,98],[255,0,0,139],[255,255,0,181]],offset:[0,0.5,0.75,1],intensity:25,includeInLegend:!0};a.cluster=a.cluster||{enabled:!1,
userCanToggle:!0,radius:25,maximumFeatures:1E3,backgroundColor:[0,0,255],labelColor:[255,255,255]};this.configuration=a;this.app.command("UploadData").register(this,this._executeUploadData,this._canExecuteUploadData)};g.prototype._canExecuteUploadData=function(){return!this.app.isOffline.get()&&!this._processInProgress.get()};g.prototype._executeUploadData=function(){var a=this;if(/iPhone|iPad|iPod|GeocortexApp\.iOS/.test(navigator.userAgent)&&!window.MSBlobBuilder)this.app.command("Alert").execute(this.getResource("language-upload-data-ios-warning-message"),
this.getResource("language-upload-data-ios-warning"));else{if(this._processInProgress.get()){var b=Error("You cannot start an upload data process while one is already in progress.");b.name="UploadDataError/AlreadyInProgress";return this._handleError(b)}this._processInProgress.set(!0);return Promise.resolve({uploadResponse:void 0,tableMapping:void 0,layerDetailsResults:void 0,mainResponse:void 0,mapServices:void 0,symbols:void 0}).then(function(b){return a._promptUploadDialog(b)}).then(function(b){return a._promptTableMappingDialog(b)}).then(function(b){return a._promptLayerDetailsDialog(b)}).then(function(b){return a._confirmBeforePublish(b)}).then(function(b){return a._sendRequest(b)}).then(function(b){return a._handleMainResponse(b)}).then(function(b){return a._displayTableRecordResults(b)}).then(function(b){return a._promptSymbolDialog(b)}).then(function(b){return a._symbolize(b)}).then(function(b){return a._autoDetectFeatureLabels(b)}).then(function(b){return a._attachDefaultVisualizations(b)}).then(function(b){return a._addMapServicesToMap(b)}).then(function(b){return a._handleCompletion(b)})["catch"](function(b){return a._handleError(b)})}};
g.prototype._promptUploadDialog=function(a){var b=this,d=this.app.viewManager.getViewById("UploadDialogView");this.app.viewManager.activateView(d);d.reset();return d.viewModel.prompt().then(function(e){a.uploadResponse=e;b.app.viewManager.deactivateView(d);return a})["catch"](function(a){b.app.viewManager.deactivateView(d);return Promise.reject(a)})};g.prototype._promptTableMappingDialog=function(a){var b=this,d=a.uploadResponse;if(d=d.fileItems.length&&d.fileItems[0].tablePreviews&&d.fileItems[0].tablePreviews.length?
d.fileItems[0].tablePreviews[0]:null){var e=this.app.viewManager.getViewById("TableMappingDialogView");this.app.viewManager.activateView(e);d=e.viewModel.prompt(d).then(function(d){a.tableMapping=d;b.app.viewManager.deactivateView(e);return a})["catch"](function(a){b.app.viewManager.deactivateView(e);return Promise.reject(a)});e.reset();return d}a.tableMapping=!1;return Promise.resolve(a)};g.prototype._promptLayerDetailsDialog=function(a){var d=this,e=a.uploadResponse.fileItems[0].fileType;if("fileGeodatabase"===
e&&!f.infrastructure.PortalUtils.hasAccessToPortal(this.app))return e=Error("Geodatabase must be published, but the user is not signed into ArcGIS Online."),e.name=k.ERROR_MUST_SIGN_IN_TO_PUBLISH_GEODATABASE,Promise.reject(e);var g=this.app.viewManager.getViewById("LayerDetailsDialogView");this.app.viewManager.activateView(g);g.reset(a.layerDetailsResults?a.layerDetailsResults.details.layerName:a.uploadResponse.fileItems[0].fileName);"shapefile"===e&&"application/zip"!==a.uploadResponse.fileItems[0].contentType&&
(function(){for(var d=0;d<b.length;d++){var e=b[d];if(!a.uploadResponse.fileItems.some(function(a){return a.fileName.endsWith(e)}))return!1}return!0}()||g.viewModel.publishDisabledMessage.set(this.getResource("language-layer-details-publish-disabled-shapefile")));return g.viewModel.prompt(e).then(function(b){a.layerDetailsResults=b;d.app.viewManager.deactivateView(g);return a})["catch"](function(a){d.app.viewManager.deactivateView(g);return Promise.reject(a)})};g.prototype._promptSymbolDialog=function(a){var b=
this,d=this.app.viewManager.getViewById("SymbolDialogView");this.app.viewManager.activateView(d);var e=d.symbologySettingsWidget.viewModel;e.noMarker.set(!a.mapServices.some(function(a){return"esriGeometryPoint"===a.serviceLayer.geometryType}));e.noFill.set(!a.mapServices.some(function(a){return"esriGeometryPolygon"===a.serviceLayer.geometryType}));d.reset();return d.viewModel.prompt().then(function(b){a.symbols=b;return a})["catch"](function(a){b.app.viewManager.deactivateView(d);return Promise.reject(a)})};
g.prototype._confirmBeforePublish=function(a){var b=this;return a.layerDetailsResults.publish?new Promise(function(d,e){var g=b.getResource("language-upload-data-confirm-before-publish"),f=b.getResource("language-upload-data-confirm-before-publish-message");b.app.command("Confirm").execute(f,g,function(e){e?d(a):(a.layerDetailsResults.publish=!1,d(b._promptLayerDetailsDialog(a).then(function(a){return b._confirmBeforePublish(a)})))})}):Promise.resolve(a)};g.prototype._sendRequest=function(a){var b=
this,d=a.uploadResponse,g=a.tableMapping,l=a.layerDetailsResults,p=l.details,l=l.publish,w=new f.infrastructure.commandArgs.AddStatusArgs(this.getResource("language-upload-data-wait-for-main-response"));w.id="WaitForUploadDataMainResponse";w.showBusyIcon=!0;w.timeoutMS=0;this.app.command("AddStatus").execute(w);var t=this.app.site.url+(l?"/publish":"/generate"),w=d.fileItems.map(function(a){return a.fileId}),d=d.fileItems[0].fileType,z={layerName:p.layerName,targetSR:this.app.site.essentialsMap.spatialReference};
[g,p].forEach(function(a){if(a)for(var b=0,d=Object.keys(a);b<d.length;b++){var e=d[b];z[e]=a[e]}});var s=e.encodeJson(l?{f:"json",title:p.layerName,tags:"",fileIds:w,fileType:d,featureParameters:z}:{f:"json",fileIds:w,fileType:d,featureParameters:z});return new Promise(function(d,g){e.request({url:t,content:s},{usePost:!0}).then(function(e){b.app.command("RemoveStatus").execute("WaitForUploadDataMainResponse");a.mainResponse=e;d(a)},function(e){b.app.command("RemoveStatus").execute("WaitForUploadDataMainResponse");
var f;(f=e.message.match(/409 - Item '(.*)' already exists\./))?b.app.command("Confirm").execute(b.getResource("language-upload-data-error-publish-name-taken-message").format(f[1]),b.getResource("language-upload-data-error-publish-name-taken"),function(e){e?(a.layerDetailsResults.publish=!1,d(b._sendRequest(a))):(e=Error(k.ERROR_CANCELLED_MESSAGE),e.name=k.ERROR_CANCELLED,g(e))}):g(e)})})};g.prototype._handleMainResponse=function(a){var b=a.mainResponse,d=a.layerDetailsResults.details.layerName;if(b.featureCollection)return this._acceptGenerateResponse(b,
d).then(function(b){a.mapServices=b;return a});if(b.services)return this._acceptPublishResponse(b,d).then(function(b){a.mapServices=b;return a});if(b.error)throw d=Error(b.error.message),d.name=b.error.name,d;throw Error("Invalid response.");};g.prototype._symbolize=function(a){for(var b=0,d=a.mapServices;b<d.length;b++){var e=d[b].serviceLayer;"esriGeometryPoint"===e.geometryType?e.setRenderer(new esri.renderer.SimpleRenderer(a.symbols.marker)):"esriGeometryPolyline"===e.geometryType?e.setRenderer(new esri.renderer.SimpleRenderer(a.symbols.line)):
"esriGeometryPolygon"===e.geometryType&&e.setRenderer(new esri.renderer.SimpleRenderer(a.symbols.fill))}return Promise.resolve(a)};g.prototype._autoDetectFeatureLabels=function(a){var b=a.mapServices,d=this.app.viewManager.getViewById("TableMappingDialogView").viewModel.configuration;if(d.autoDetectionTerms&&d.autoDetectionTerms.featureLabel)for(var e=0;e<b.length;e++)for(var g=b[e],f=0,h=g.layers;f<h.length;f++){var k=h[f];if(!k.displayField){var m;a:{m=k.fields;for(var p=d.autoDetectionTerms.featureLabel,
v=0;v<m.length;v++){var x=m[v];if(l(x.name,p)){m=x;break a}}m=null}m&&(k.displayField=m,g.serviceLayer instanceof esri.layers.FeatureLayer&&(g.serviceLayer.displayField=m.name))}}return Promise.resolve(a)};g.prototype._attachDefaultVisualizations=function(a){for(var b=0,d=a.mapServices;b<d.length;b++){var e=d[b];e.serviceLayer instanceof esri.layers.FeatureLayer&&"esriGeometryPoint"===e.serviceLayer.geometryType&&(e.heatMap=this.configuration.heatMap,e.featureClustering=this.configuration.cluster)}return Promise.resolve(a)};
g.prototype._displayTableRecordResults=function(a){var b=a.mainResponse.recordResults;if(b&&a.tableMapping){var d=this.app.viewManager.getViewById("TableRecordResultsDialogView");this.app.viewManager.activateView(d);return d.viewModel.prompt(b).then(function(){return a})}return Promise.resolve(a)};g.prototype._handleCompletion=function(a){var b=this;this._processInProgress.set(!1);for(var d=[],g=0,k=a.mapServices;g<k.length;g++){var l=k[g];l instanceof e.essentials.KmlService?d.push.apply(d,l.serviceLayer.getLayers()):
d.push.apply(d,l.layers)}g=[];for(k=0;k<d.length;k++)l=d[k],l.fullExtent&&f.infrastructure.GeometryUtils.isValidGeometry(l.fullExtent)&&g.push(l.fullExtent);return f.infrastructure.GeometryUtils.unionGeometries(g).then(function(d){b.app.command("ZoomToExtent").execute(d);b.app.event("UploadDataCompletedEvent").publish(a);return a})};g.prototype._handleError=function(a){this._processInProgress.set(!1);a.name!==k.ERROR_CANCELLED&&(a.name===k.ERROR_MUST_SIGN_IN_TO_PUBLISH_GEODATABASE?this.app.command("Alert").execute(this.getResource("language-upload-data-error-must-be-signed-in-to-publish-geodatabase-message"),
this.getResource("language-upload-data-error-must-be-signed-in-to-publish-geodatabase")):"UploaderError/500"===a.name&&/Unable to upload file\: Invalid zip file\./.test(a.message)?this.app.command("Alert").execute(this.getResource("language-upload-data-error-invalid-zip-message"),this.getResource("language-upload-data-error-invalid-zip")):/406 - Error while analyzing Shapefile/.test(a.message)?this.app.command("Alert").execute(this.getResource("language-upload-data-error-invalid-shapefile-message"),
this.getResource("language-upload-data-error-invalid-shapefile")):/499 - Token required/.test(a.message)?this.app.command("Alert").execute(this.getResource("language-upload-data-error-geocoding-unauthenticated-message"),this.getResource("language-upload-data-error-geocoding-unauthenticated")):(this.app.trace.error(a.message,a),this.app.command("Alert").execute(this.getResource("language-upload-data-error-message"),this.getResource("language-upload-data-error"))));this.app.event("UploadDataFailedEvent").publish(a);
return Promise.reject(a)};g.prototype._acceptGenerateResponse=function(a,b){for(var d=this,e=0,g=0,l=a.featureCollection.layers;g<l.length;g++){var p=l[g];p.layerDefinition.name||(p.layerDefinition.name=b+" "+ ++this._layerNamePlaceholderCounter);p.featureSet&&p.featureSet.features&&(e+=p.featureSet.features.length)}var t=function(){var b=a.featureCollection.layers.map(function(a){return f.infrastructure.LayerIntegrationUtils.buildLocalFeatureLayerService(a)});return Promise.all(b)};return e>=this.configuration.warnOnFeatureCount?
new Promise(function(a,b){var g=d.getResource("language-upload-data-confirm-add-layer"),f=d.getResource("language-upload-data-confirm-add-layer-message").format(e);d.app.command("Confirm").execute(f,g,function(d){if(d)return a(t());d=Error(k.ERROR_CANCELLED_MESSAGE);d.name=k.ERROR_CANCELLED;b(d)})}):t()};g.prototype._acceptPublishResponse=function(a,b){var d=this,e=new f.infrastructure.commandArgs.AddStatusArgs(this.getResource("language-upload-data-wait-on-publish-job"));e.id="WaitOnPublishJob";
e.showBusyIcon=!0;e.timeoutMS=0;this.app.command("AddStatus").execute(e);return Promise.map(a.services,function(a){return d._waitOnJob(a).then(function(a){d.app.command("RemoveStatus").execute("WaitOnPublishJob");return a}).then(function(a){return d._buildService(a,b)})}).then(function(a){return p(a)})};g.prototype._waitOnJob=function(a){var b=this;return new Promise(function(d,e){if(a.type===k.SERVICE_TYPE_FEATURE){if(!/^https/i.test(a.jobStatusUrl))return e(Error("Job URL must be HTTPS."));var g=
{f:"json",token:b.app.site.getTokenFromPrincipal(a.jobStatusUrl,esri.IdentityManagerBase),jobId:a.jobId};esri.request({url:a.jobStatusUrl,content:g,handleAs:"json"}).then(function(g){"completed"===g.status?d(a):"processing"===g.status?setTimeout(function(){d(b._waitOnJob(a))},b.configuration.checkJobStatusPeriod):e(Error("Publish job check failed."))},e)}else d(a)})};g.prototype._buildService=function(a,b){if(a.type===k.SERVICE_TYPE_FEATURE)return f.infrastructure.LayerIntegrationUtils.discoverFeatureServices(a.serviceUrl).then(function(a){return Promise.all(a.map(f.infrastructure.LayerIntegrationUtils.buildFeatureLayerService))});
if(a.type===k.SERVICE_TYPE_KML){var d=b+" "+ ++this._layerNamePlaceholderCounter;return f.infrastructure.LayerIntegrationUtils.buildKmlService(a.serviceUrl,{displayName:d}).then(function(a){return[a]})}throw new TypeError("Given service type '"+a.type+"' unsupported.");};g.prototype._addMapServicesToMap=function(a){for(var b=0,d=a.mapServices;b<d.length;b++){var e=d[b];this.app.command("AddMapService").execute(e)}return Promise.resolve(a)};return g}(e.framework.application.ModuleBase);k.UploadDataModule=
a;k.flatten=p;k.checkStringForTerms=l})(k.uploadData||(k.uploadData={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){(function(f){function b(){var a=document.createElement("input");a.setAttribute("type","color");return"text"!==a.type}var a=function(a){function e(){a.apply(this,arguments);this.noMarker=new Observable(!1);this.noFill=new Observable(!1);this.transparency=new Observable(10);this.markerSize=new Observable(10);this.lineWidth=new Observable(2);this.useColorSwatches=new Observable(!0);this.colorSwatches=new ObservableCollection;
this.markerStyles=new ObservableCollection([{style:esri.symbol.SimpleMarkerSymbol.STYLE_CIRCLE,label:this.getResource("language-symbology-settings-marker-style-circle")},{style:esri.symbol.SimpleMarkerSymbol.STYLE_CROSS,label:this.getResource("language-symbology-settings-marker-style-cross")},{style:esri.symbol.SimpleMarkerSymbol.STYLE_DIAMOND,label:this.getResource("language-symbology-settings-marker-style-diamond")},{style:esri.symbol.SimpleMarkerSymbol.STYLE_SQUARE,label:this.getResource("language-symbology-settings-marker-style-square")},
{style:esri.symbol.SimpleMarkerSymbol.STYLE_X,label:this.getResource("language-symbology-settings-marker-style-x")}]);this.lineStyles=new ObservableCollection([{style:esri.symbol.SimpleLineSymbol.STYLE_SOLID,label:this.getResource("language-symbology-settings-line-style-solid")},{style:esri.symbol.SimpleLineSymbol.STYLE_DASH,label:this.getResource("language-symbology-settings-line-style-dash")},{style:esri.symbol.SimpleLineSymbol.STYLE_DASHDOT,label:this.getResource("language-symbology-settings-line-style-dashdot")},
{style:esri.symbol.SimpleLineSymbol.STYLE_DASHDOTDOT,label:this.getResource("language-symbology-settings-line-style-dashdotdot")},{style:esri.symbol.SimpleLineSymbol.STYLE_DOT,label:this.getResource("language-symbology-settings-line-style-dot")},{style:esri.symbol.SimpleLineSymbol.STYLE_LONGDASH,label:this.getResource("language-symbology-settings-line-style-longdash")},{style:esri.symbol.SimpleLineSymbol.STYLE_LONGDASHDOT,label:this.getResource("language-symbology-settings-line-style-longdashdot")},
{style:esri.symbol.SimpleLineSymbol.STYLE_SHORTDASH,label:this.getResource("language-symbology-settings-line-style-shortdash")},{style:esri.symbol.SimpleLineSymbol.STYLE_SHORTDASHDOT,label:this.getResource("language-symbology-settings-line-style-shortdashdot")},{style:esri.symbol.SimpleLineSymbol.STYLE_SHORTDASHDOTDOT,label:this.getResource("language-symbology-settings-line-style-shortdashdotdot")},{style:esri.symbol.SimpleLineSymbol.STYLE_SHORTDOT,label:this.getResource("language-symbology-settings-line-style-shortdot")},
{style:esri.symbol.SimpleLineSymbol.STYLE_NULL,label:this.getResource("language-symbology-settings-line-style-null")}]);this.fillStyles=new ObservableCollection([{style:esri.symbol.SimpleFillSymbol.STYLE_SOLID,label:this.getResource("language-symbology-settings-fill-style-solid")},{style:esri.symbol.SimpleFillSymbol.STYLE_HORIZONTAL,label:this.getResource("language-symbology-settings-fill-style-horizontal")},{style:esri.symbol.SimpleFillSymbol.STYLE_VERTICAL,label:this.getResource("language-symbology-settings-fill-style-vertical")},
{style:esri.symbol.SimpleFillSymbol.STYLE_CROSS,label:this.getResource("language-symbology-settings-fill-style-cross")},{style:esri.symbol.SimpleFillSymbol.STYLE_DIAGONAL_CROSS,label:this.getResource("language-symbology-settings-fill-style-diagonal-cross")},{style:esri.symbol.SimpleFillSymbol.STYLE_FORWARD_DIAGONAL,label:this.getResource("language-symbology-settings-fill-style-forward-diagonal")},{style:esri.symbol.SimpleFillSymbol.STYLE_BACKWARD_DIAGONAL,label:this.getResource("language-symbology-settings-fill-style-backward-diagonal")},
{style:esri.symbol.SimpleFillSymbol.STYLE_NULL,label:this.getResource("language-symbology-settings-fill-style-null")}])}__extends(e,a);e.prototype.initialize=function(a){void 0===a&&(a={});this.configuration=a;a.alwaysUseColorSwatches=void 0!=a.alwaysUseColorSwatches?a.alwaysUseColorSwatches:!1;a.numberOfColorSwatches=a.numberOfColorSwatches?6:a.numberOfColorSwatches;a.transparency=a.transparency?a.transparency:{min:0,max:90,value:10,step:5};a.markerSize=a.markerSize?a.markerSize:{min:1,max:25,value:10,
step:1};a.lineWidth=a.lineWidth?a.lineWidth:{min:1,max:5,value:2,step:1};void 0!==a.markerStyles&&this.markerStyles.set(a.markerStyles);void 0!==a.lineStyles&&this.lineStyles.set(a.lineStyles);void 0!==a.fillStyles&&this.fillStyles.set(a.fillStyles);this.useColorSwatches.set(a.alwaysUseColorSwatches||!b())};return e}(e.framework.ui.ViewModelBase);f.SymbologySettingsViewModel=a})(f.symbologySettings||(f.symbologySettings={}))})(f.widgets||(f.widgets={}))})(f.uploadData||(f.uploadData={}))})(f.modules||
(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){(function(f){function b(b){void 0===b&&(b=6);for(var d=[],e=Math.random(),f=0;f<b;f++)d.push(e+1/b*f);return d.map(function(b){return a(b,0.8,1)})}function a(a,b,d){var e,f,h;b*=d;a*=6;var k=b*(1-Math.abs(a%2-1));d-=b;switch(Math.floor(a)%6){case 0:e=b+d;f=k+d;h=d;break;case 1:e=k+d;f=b+d;h=d;break;case 2:e=d;f=b+d;h=k+d;break;case 3:e=d;f=k+d;h=b+d;break;case 4:e=k+d;f=d;h=b+d;break;case 5:e=b+d,f=d,h=k+d}e=("00"+Math.floor(255*
e).toString(16)).slice(-2);f=("00"+Math.floor(255*f).toString(16)).slice(-2);h=("00"+Math.floor(255*h).toString(16)).slice(-2);return"#"+e+h+f}var d=function(d){function e(){d.apply(this,arguments)}__extends(e,d);e.prototype.getSelectedColorSwatch=function(){for(var a=this.viewModel.colorSwatches.get(),b=0;b<a.length;b++){var d=a[b];if(this.colorSwatchFieldSet.children[b].querySelector("input[type=radio]").checked)return d}};e.prototype.attach=function(a){a.initialize(this.configuration);d.prototype.attach.call(this,
a)};e.prototype.added=function(a){a.symbologySettingsWidget=this;d.prototype.added.call(this,a);this._setupJQuerySliders()};e.prototype.reset=function(){var d=this,e=this.viewModel.configuration;this.colorInput.value=a(Math.random(),0.8,1);this.markerStyleInput.selectedIndex=0;this.lineStyleInput.selectedIndex=0;this.fillStyleInput.selectedIndex=0;this.viewModel.colorSwatches.set(b(e.numberOfColorSwatches).map(function(a){return{hex:a}}));this.viewModel.colorSwatches.get().forEach(function(a,b){d.colorSwatchFieldSet.children[b].style.backgroundColor=
a.hex});this.colorSwatchFieldSet.querySelector(".color-swatch:first-child > input[type=radio]").checked=!0;$(this.transparencySlider).slider("option","value",e.transparency.value);$(this.markerSizeSlider).slider("option","value",e.markerSize.value);$(this.lineWidthSlider).slider("option","value",e.lineWidth.value);this.handleChange()};e.prototype.handleChange=function(){this.viewModel.transparency.set($(this.transparencySlider).slider("value"));this.viewModel.markerSize.set($(this.markerSizeSlider).slider("value"));
this.viewModel.lineWidth.set($(this.lineWidthSlider).slider("value"));var a=this.viewModel.useColorSwatches.get()?esri.Color.fromHex(this.getSelectedColorSwatch().hex):esri.Color.fromHex(this.colorInput.value),b=this.viewModel.markerStyles.getAt(this.markerStyleInput.selectedIndex).style,d=this.viewModel.lineStyles.getAt(this.lineStyleInput.selectedIndex).style,e=this.viewModel.fillStyles.getAt(this.fillStyleInput.selectedIndex).style,g=this.viewModel.markerSize.get(),f=this.viewModel.lineWidth.get();
a.a=this.viewModel.transparency.get()/100*-1+1;var h=new esri.symbol.SimpleLineSymbol;h.setColor(a);h.setStyle(d);h.setWidth(f);d=new esri.symbol.SimpleMarkerSymbol;d.setColor(a);d.setStyle(b);d.setSize(g);d.setOutline(h);b=new esri.symbol.SimpleFillSymbol;b.setColor(a);b.setStyle(e);b.setOutline(h);this.viewModel.symbols={marker:d,line:h,fill:b}};e.prototype._setupJQuerySliders=function(){var a=this,b=this.viewModel.configuration;$(this.transparencySlider).slider({min:b.transparency.min,max:b.transparency.max,
value:b.transparency.value,step:b.transparency.step,slide:function(b,d){return a._handleSliderValueChanged(b,d,a.viewModel.transparency)}});$(this.markerSizeSlider).slider({min:b.markerSize.min,max:b.markerSize.max,value:b.markerSize.value,step:b.markerSize.step,slide:function(b,d){return a._handleSliderValueChanged(b,d,a.viewModel.markerSize)}});$(this.lineWidthSlider).slider({min:b.lineWidth.min,max:b.lineWidth.max,value:b.lineWidth.value,step:b.lineWidth.step,slide:function(b,d){return a._handleSliderValueChanged(b,
d,a.viewModel.lineWidth)}});$(this.transparencySlider).add(this.markerSizeSlider).add(this.lineWidthSlider).off("slidechange").on("slidechange",function(b){b=document.createEvent("Event");b.initEvent("change",!0,!0);a.container.dispatchEvent(b)})};e.prototype._handleSliderValueChanged=function(a,b,d){b&&void 0!=b.value&&d.set(b.value)};return e}(e.framework.ui.ViewBase);f.SymbologySettingsView=d})(f.symbologySettings||(f.symbologySettings={}))})(f.widgets||(f.widgets={}))})(f.uploadData||(f.uploadData=
{}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function b(){a.apply(this,arguments)}__extends(b,a);b.prototype.added=function(b){var d=this;a.prototype.added.call(this,b);this.viewModel.legacyMode?($(this.input).add(this.selectedFileList).remove(),this.handleLegacyAddInput(),this.viewModel.selectedFiles.bind(this,function(){var a=$(d.legacyInputBox).find("input");d.viewModel.selectedFiles.get().forEach(function(b,d){a.each(function(a,d){if(d.value.endsWith(b.name)){var e=
!!b.flag,g=$(d).closest("li");e?g.removeClass("flagged"):g.addClass("flagged");g.find(".file-flag").text(e?b.flag:"")}})})})):$(this.legacyInputBox).remove();b.attachUploader(this)};b.prototype.updateSelectedFiles=function(){var a=this;if(this.viewModel.legacyMode){var b=$(this.legacyInputBox).find("input");this.viewModel.selectedFiles.clear();b.each(function(b,d){var e=d.value;e&&a.viewModel.selectedFiles.addItem({name:/(?:\\|\/)(.+)$/.exec(e)[1],size:null,flag:null})})}else b=[].slice.call(this.input.files),
this.viewModel.selectedFiles.set(b.map(function(b){return{name:b.name,size:1048576<b.size?(b.size/1024/1024).toFixed(1)+" "+a.getResource("language-uploader-megabyte-abbreviation"):(b.size/1024).toFixed(0)+" "+a.getResource("language-uploader-kilobyte-abbreviation"),flag:null}}));this.app.viewManager.notifyDimensionsChanged(this)};b.prototype.reset=function(){this.viewModel.disabled.set(!1);this.viewModel.legacyMode?(this.viewModel.legacyInputs.clear(),this.handleLegacyAddInput()):this.form.reset();
this.viewModel.selectedFiles.clear();this.viewModel.progress.set(0)};b.prototype.handleChange=function(){this.updateSelectedFiles()};b.prototype.handleLegacyAddInput=function(){this.viewModel.legacyInputs.addItem({})};b.prototype.handleLegacyRemoveInput=function(a,b){var d=$(b).closest("li").index();this.viewModel.legacyInputs.removeAt(d);$(this.form).change()};b.prototype.handleSubmit=function(a){var b=this;a.preventDefault();if(1<=this.viewModel.selectedFiles.getLength())this.viewModel.upload(this.form).caught(function(a){b.reset();
/\/0$/.test(a.name)?b.app.command("Alert").execute(b.getResource("language-uploader-error-cors-message"),b.getResource("language-uploader-error-cors-title")):b.app.command("Alert").execute(b.getResource("language-uploader-error-unknown-message"),b.getResource("language-uploader-error-unknown-title"));throw a;});else throw a=Error("Cannot upload when there are no selected files."),a.name="UploaderError/NoSelectedFiles",a;return!1};return b}(e.framework.ui.ViewBase);f.UploaderView=b})(f.uploader||(f.uploader=
{}))})(f.widgets||(f.widgets={}))})(f.uploadData||(f.uploadData={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){(function(f){function b(){try{var a=esri._getProxyUrl();if(a.path)return a.path}catch(b){}return null}function a(a){a=new dojo._Url(a);var b=window.location;return!a.scheme&&!a.host&&!a.port||/\bGeocortexApp\b/.test(navigator.userAgent)&&"https"===a.scheme?!1:a.scheme+"://"+a.host+(a.port?":"+a.port:"")!==b.protocol+"//"+b.hostname+(b.port?":"+b.port:"")}var d=function(d){function f(){d.apply(this,arguments);this.selectedFiles=
new ObservableCollection;this.progress=new Observable(0);this.uploading=new Observable(!1);this.disabled=new Observable(!1);this.legacyMode=document.documentMode&&9>=document.documentMode;this.legacyInputs=new ObservableCollection;this.uploadEndpointUrl=e.essentials.utilities.UrlUtilities.simplify(this.app.site.url+"/../../")+"/files/upload";this.uploadRequestParameters={f:"json"};this.onUploadSuccess=function(){};this.onUploadFailure=function(){}}__extends(f,d);f.prototype.upload=function(d){var e=
this;return new Promise(function(g,f){e.uploading.set(!0);var h=e.uploadEndpointUrl;if(a(h)){var k=b();if(k)h=k+"?"+h;else throw Error("Proxy is required but not available");}if(e.legacyMode)$.ajax({url:h,data:e.uploadRequestParameters,files:$(":file",d),iframe:!0,processData:!1}).always(function(a,b,d){a=JSON.parse(d.responseText);a.error?(e.disabled.set(!1),b=Error(a.error.message),b.name="UploaderError/"+a.error.code,e.onUploadFailure(b),f(b)):(e.onUploadSuccess(a),g(a))});else{var n=new FormData(d);
Object.keys(e.uploadRequestParameters).forEach(function(a){n.append(a,e.uploadRequestParameters[a])});$.ajax({url:h,data:n,type:"POST",processData:!1,contentType:!1,dataType:"json",xhr:function(){var a=$.ajaxSettings.xhr();a.upload&&(a.upload.onprogress=function(a){a=a.loaded/a.total;a=isNaN(a)?0:100*a;e.progress.set(a)});return a}}).done(function(a,b,d){a.error?(e.disabled.set(!1),b=Error(a.error.message),b.name="UploaderError/"+a.error.code,e.onUploadFailure(b),f(b)):(e.onUploadSuccess(a),g(a))}).fail(function(a,
b,d){e.disabled.set(!1);b=Error(d);b.name="UploaderError/"+a.status;e.onUploadFailure(b);f(b)}).always(function(){e.uploading.set(!1)})}e.disabled.set(!0)})};return f}(e.framework.ui.ViewModelBase);f.UploaderViewModel=d})(f.uploader||(f.uploader={}))})(f.widgets||(f.widgets={}))})(f.uploadData||(f.uploadData={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(a,b){e.call(this,a,b);this.app.command("SignIn").canExecuteChanged.subscribe(this,this._handleCanExecuteSignInChanged)}__extends(b,e);b.prototype._handleCanExecuteSignInChanged=function(){this.app.command("SignIn").canExecute()?this.isActive||this.app.viewManager.activateView(this):this.isActive&&this.app.viewManager.deactivateView(this)};b.prototype.handleSignInClick=function(a,b,e){this.app.command("SignIn").execute(null)};
return b}(e.framework.ui.ViewBase);f.SignInView=h})(f.User||(f.User={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments);this.linkColor=new Observable("#1A72C4")}__extends(b,e);b.prototype.initialize=function(a){a.linkColor&&this.linkColor.set(a.linkColor)};return b}(e.framework.ui.ViewModelBase);f.SignInViewModel=h})(f.User||(f.User={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(e){function b(a,b){e.call(this,a,b);this.app.command("SignIn").register(this,this._executeSignIn,this._canExecuteSignIn);this.app.command("SignOut").register(this,this._executeSignOut,this._canExecuteSignOut)}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);if((a=this.app.site)&&a.isInitialized)this._handleSiteInitialized(a);else this.app.event("SiteInitializedEvent").once(this,this._handleSiteInitialized);
this.app.event("SiteAuthorizationFailedEvent").subscribe(this,this._handleSiteAuthorizationFailedEvent)};b.prototype._canExecuteSignIn=function(){return!!this.app.site&&this.app.site.canSignIn()};b.prototype._canExecuteSignOut=function(){return!!this.app.site&&this.app.site.canSignOut()};b.prototype._executeSignIn=function(a){var b=new f.infrastructure.eventArgs.UserEventArgs;this.app.event("UserSigningInEvent").publish(b);b.isCancelled||this.app.site.signIn(a)};b.prototype._executeSignOut=function(){var a=
new f.infrastructure.eventArgs.UserEventArgs;this.app.event("UserSigningOutEvent").publish(a);a.isCancelled||this.app.site.signOut()};b.prototype._handleSiteInitialized=function(a){this.app.command("SignIn").raiseCanExecuteChanged();this.app.command("SignOut").raiseCanExecuteChanged()};b.prototype._handleSiteAuthorizationFailedEvent=function(){this.app.command("SignIn").raiseCanExecuteChanged();this.app.command("SignOut").raiseCanExecuteChanged()};return b}(e.framework.application.ModuleBase);k.UserModule=
p})(k.User||(k.User={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments);this.expanded=new Observable(!1);this.userName=new Observable("");this.backgroundColor=new Observable("transparent")}__extends(b,e);b.prototype.initialize=function(a){this.linkColor=new Observable(a.linkColor||"#1A72C4");this.textColor=new Observable(a.textColor||"#333333");this._backgroundColor=a.backgroundColor||"#FFFFFF";if((a=this.app.site)&&a.isInitialized)this._handleSiteInitialized(a);
else this.app.event("SiteInitializedEvent").once(this,this._handleSiteInitialized)};b.prototype.setExpanded=function(a){this.expanded.set(a);this.backgroundColor.set(a?this._backgroundColor:"transparent")};b.prototype._handleSiteInitialized=function(a){this.userName.set(a.principal.label)};return b}(e.framework.ui.ViewModelBase);f.UserInfoViewModel=h})(f.User||(f.User={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(a,b){e.call(this,a,b);this._unclickHandler=null;this.app.command("SignOut").canExecuteChanged.subscribe(this,this._handleCanExecuteSignOutChanged)}__extends(b,e);b.prototype.handleExpanderClick=function(a,b,e){this.viewModel.expanded.get()?this._hideUserInfo():this._showUserInfo()};b.prototype.handleSignOutClick=function(a,b,e){this._hideUserInfo();this.app.command("SignOut").execute()};b.prototype._showUserInfo=function(){var a=
this;$(document).bind("mousedown",this,this._unclickHandler=function(b){$(b.target).parents().is(a.root)||a._hideUserInfo()});this.viewModel.setExpanded(!0)};b.prototype._hideUserInfo=function(){this._unclickHandler&&($(document).unbind("mousedown",this._unclickHandler),this._unclickHandler=null);this.viewModel.setExpanded(!1)};b.prototype._handleCanExecuteSignOutChanged=function(){this.app.command("SignOut").canExecute()?this.app.viewManager.activateView(this):this.app.viewManager.deactivateView(this)};
return b}(e.framework.ui.ViewBase);f.UserInfoView=h})(f.User||(f.User={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(e){function b(a,b){e.call(this,a,b);this.displayName=this.app.getResource(b,"language-visualization-none")}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);this.isEnabled.set(!0);this.isSupported.set(!0)};b.prototype.canSupport=function(a){return!0};b.prototype.handleCurrentLayerChanged=function(a){};b.prototype.handleActivate=function(){this.app.command("RemoveVisualization").execute({gcxLayer:this.currentLayer.get()})};
b.prototype.handleApply=function(){this.app.command("RemoveVisualization").execute({gcxLayer:this.currentLayer.get()})};return b}(e.infrastructure.visualization.VisualizationProviderBase);f.SimpleVisualizationProvider=k})(f.visualization||(f.visualization={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);this._registerCommandsAndEvents()};b.prototype._registerCommandsAndEvents=function(){this.app.command("RemoveVisualization").register(this,this._executeRemoveVisualization,this._canExecuteRemoveVisualization)};b.prototype._executeRemoveVisualization=function(a){a=this._getGeocortexLayer(a);this.app.command("RemoveHeatMap").execute({gcxLayer:a});
this.app.command("RemoveClusterLayer").execute({gcxLayer:a})};b.prototype._canExecuteRemoveVisualization=function(a){return(a=this._getGeocortexLayer(a))&&!!a.mapService};b.prototype._getGeocortexLayer=function(a){return"string"===typeof a?this.app.site&&this.app.site.essentialsMap?this.app.site.essentialsMap.allLayers().filter(function(b){return a===b.mapService.id})[0]:null:a.gcxLayer};return b}(e.framework.application.ModuleBase);f.VisualizationModule=h})(f.visualization||(f.visualization={}))})(f.modules||
(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(e){function b(a,b){e.call(this,a,b);this._registerCommandsAndEvents()}__extends(b,e);b.prototype._registerCommandsAndEvents=function(){this.app.command("ShowVisualizationView").register(this,this._executeShowVisualizationView,this._canExecuteShowVisualizationView)};b.prototype._executeShowVisualizationView=function(a){a=this._getGeocortexLayer(a);this.viewModel.selectedLayer.set(a);this.app.command("ActivateView").execute(this.id);
this.app.event("VisualizationViewActivatedEvent").publish(a)};b.prototype._canExecuteShowVisualizationView=function(a){var b=this;if(a=this._getGeocortexLayer(a))return this.viewModel&&this.viewModel.supportsVisualization(a);if(!this.app.site.serviceLayersLoaded)this.app.event("SiteServiceLayersLoadedEvent").once(this,function(a){b.app.command("ShowVisualizationView").raiseCanExecuteChanged()});return!1};b.prototype.handleApplyButtonClick=function(a,b,e){this.viewModel.updateVisualization()};b.prototype.handleDoneButtonClick=
function(a,b,e){this.viewModel.updateVisualization();this.app.command("SwitchToLayerView").execute()};b.prototype._getGeocortexLayer=function(a){return"string"===typeof a?this.app.site&&this.app.site.essentialsMap?this.app.site.essentialsMap.allLayers().filter(function(b){return a===b.mapService.id})[0]:null:a};return b}(e.infrastructure.ui.components.SmartPanel.SmartPanelView);f.VisualizationView=k})(f.visualization||(f.visualization={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(f){function b(){f.apply(this,arguments);this._activeProvider=null;this._providers=[];this._simpleViewProvider=null;this.selectedLayer=new Observable(null);this.supportedProviders=new ObservableCollection([]);this.selectedVisualization=new Observable(null);this.isSimpleView=new Observable(!1)}__extends(b,f);b.prototype.initialize=function(a){f.prototype.initialize.call(this,a);this._simpleViewProvider=this._loadProvider({type:"geocortex.essentialsHtmlViewer.mapping.modules.visualization.SimpleVisualizationProvider",
displayName:a.defaultDisplayName});a.visualizationProviders&&this._loadProviders(a.visualizationProviders);this.selectedLayer.bind(this,this._handleLayerChange);this.selectedVisualization.bind(this,this._handleVisualizationChanged)};b.prototype.supportsVisualization=function(a){for(var b=0;b<this._providers.length;b++){var e=this._providers[b];if(this._isVisualization(e)&&e.canSupport(a))return!0}return!1};b.prototype.updateVisualization=function(){this._activeProvider&&this._activeProvider.handleApply()};
b.prototype._isVisualization=function(a){return!(a instanceof e.essentialsHtmlViewer.mapping.modules.visualization.SimpleVisualizationProvider)};b.prototype._handleLayerChange=function(a){var b=this;this.supportedProviders.clear();for(var e=0;e<this._providers.length;e++){var f=this._providers[e];f.currentLayer.set(a);f.isSupported.get()&&this.supportedProviders.addItem(f)}a=this._simpleViewProvider.displayName;e=this.supportedProviders.get().filter(function(a){return b._isVisualization(a)&&a.isEnabled.get()});
0<e.length?a=e[0].displayName:(e=this._providers.filter(function(a){return b._isVisualization(a)&&a.isEnabled.get()}),0<e.length&&(a=e[0].displayName));this.selectedVisualization.set(a)};b.prototype._handleVisualizationChanged=function(a){var b=this._providers.filter(function(b){return b.displayName===a})[0];b?(this._activeProvider=b,this._activeProvider.handleActivate(),this._activeProvider.isSupported.get()?(this.isSimpleView.set(!this._isVisualization(this._activeProvider)),b.viewId&&(b=this.app.viewManager.getViewById(b.viewId))&&
this.app.viewManager.activateView(b)):(this._activeProvider=this._simpleViewProvider,this.isSimpleView.set(!0))):this.app.trace.warning("Could not find a visualization provider with name {0}".format(a))};b.prototype._loadProviders=function(a){for(var b=this,e=0;e<a.length;e++){var f=a[e];if(f.libraryId&&!this.app.allLibrariesLoaded)this.app.event("ViewerLibrariesDownloadedEvent").once(this,function(){b._loadProvider(f)});else this._loadProvider(f)}};b.prototype._loadProvider=function(a){var b;if(b=
dojo.getObject(a.type))return b=new b(this.app,a.libraryId||this.libraryId),b.initialize(a),this._providers.push(b),b;this.app.trace.error("{0} can't find visualization provider typed {1}".format(this.id,a.type))};return b}(f.infrastructure.ui.components.SmartPanel.SmartPanelViewModel);k.VisualizationViewModel=p})(k.visualization||(k.visualization={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(f){function b(a,b){f.call(this,a,b);this.toolbar=this.drawType=this.defaultButton=this.currentExtentImage=this.showCapturedMessage=this.graphicsLayer=this.geometryTypeCssDictionary=this.activityContext=this._inputMethodChangeHandle=null;this.defaultFormWidth=800;this.defaultFormHeight=600;this.statusMessageID="DisplayCaptureGeometryMessage";this.showCaptureStatusMessages=!0;this.workflowFormContent=new Observable(null);
this.title=new Observable(null);this.showTitleInFormBody=new Observable(!1);this.buttons=new ObservableCollection([]);this.formWidth=new Observable(this.defaultFormWidth);this.formHeight=new Observable(this.defaultFormHeight);this.showRequiredValidationMessage=new Observable(!0);this.capturedMessageVisible=new Observable(!1);this.showCapturedGeometry=!1;this.showCurrentExtentOption=new Observable(!1);this.geometryRequired=!1;this.instructionMessage=this.inputGeometry=this.currentExtentLabel=this.requiredMessage=
null;this.captureTypes=new ObservableCollection([]);this.activeCaptureType=null;this.defaultCaptureType=new Observable(null);this.validationResults=new ObservableCollection([]);this.customGeometryInstructions=null;this.autoSubmit=!1;this.app.event("ViewUnhostedEvent").subscribe(this,this.viewUnhostedHandler);this.app.command("SetActiveTool").preExecute.subscribe(this,this.cleanUp);this.app.command("ClearActiveTool").preExecute.subscribe(this,this.cleanUp);this.app.trace.debug("DisplayCaptureGeometryViewModel: object constructed.")}
__extends(b,f);b.prototype.initialize=function(a){var b=this,g=[],f=null,h=null,k=this.activityContext.getValue("CaptureTypes");a&&a.hasOwnProperty("showTitleInFormBody")&&this.showTitleInFormBody.set(a.showTitleInFormBody||!1);a=this.activityContext.getValue("DefaultCaptureType");for(var l=0;l<k.length;l++)f=k[l],"CurrentExtent"===f&&(this.showCurrentExtentOption=new Observable(!0)),h={typeName:null,tooltip:null,isSelected:new Observable(!1)},h.typeName=f,h.tooltip=this.getCaptureGeometryTooltip(f),
this.geometryTypeCssDictionary&&(h.className=this.geometryTypeCssDictionary[f]),f==a&&(this.activeCaptureType=h,h.isSelected.set(!0),this.setDrawMode(this.app.map,h,!1)),g.push(h);this.captureTypes.addItems(g);this.defaultCaptureType=this.activityContext.getValue("DefaultCaptureType");this.inputGeometry=this.activityContext.getValue("InputGeometry");this.instructionMessage=this.activityContext.getValue("Message");this.requiredMessage=this.activityContext.getValue("RequiredMessage")||this.app.getResource(this.libraryId,
"language-capture-geometry-required-message");this.currentExtentLabel=this.activityContext.getValue("CurrentExtentLabel")||this.app.getResource(this.libraryId,"language-current_extent");this.showCapturedGeometry=this.activityContext.getValue("ShowCapturedGeometry");this.geometryRequired=this.activityContext.getValue("GeometryRequired");this.customGeometryInstructions=this.activityContext.getValue("CustomGeometryInstructions");this.autoSubmit=this.activityContext.getValue("AutoSubmit");this.showCapturedGeometry&&
(this.graphicsLayer=this.app.map.graphics);"CurrentExtent"===a&&this.setDrawMode(this.app.map,h,!0);this.inputGeometry&&(this.addGraphic(this.inputGeometry,null,this.app.map),this.setCaptureResult(this.inputGeometry));f=this.activityContext.getValue("Buttons");g=[];if(f)for(h=0;h<f.length;h++)k=new e.forms.FormButton(f[h].Label,f[h].Value,f[h].CausesValidation,f[h].IsDefault),f[h].IsDefault&&(this.defaultButton=k),g.push(k);else f=this.defaultButton=new e.forms.FormButton("OK","OK",!0,!0),g.push(f),
g.push(new e.forms.FormButton("Cancel","Cancel",!1,!1));this.buttons=new ObservableCollection(g);this.app.trace.debug("DisplayCaptureGeometryViewModel: object initialized.");this.app.event("MapMouseDownEvent").subscribe(this,function(a){3===a.which&&b.toolbar&&b.cleanUp()})};b.prototype.clearGraphics=function(){this.graphicsLayer&&this.graphicsLayer.clear()};b.prototype.addGraphic=function(a,b,e){var f=null,f=null;this.showCapturedGeometry&&a&&e&&(b||(b=this._getDrawTool(e)),f=a.type,f="point"===
f||"multipoint"===f?b.markerSymbol:"line"===f||"polyline"===f?b.lineSymbol:b.fillSymbol,this.graphicsLayer.add(new esri.Graphic(a,f)))};b.prototype.setCaptureResult=function(a){!a&&this.geometryRequired?this.showRequiredValidationMessage.set(!0):(this.capturedMessageVisible.set(this.activityContext.getValue("ShowCapturedMessage")),this.showRequiredValidationMessage.set(!1),"extent"===a.type&&(a=e.essentials.GeometryUtilities.envelopeToPolygon(a)),this.activityContext.setValue("Result",a))};b.prototype._getDrawTool=
function(a){null==this.toolbar&&(this.toolbar=this.app.accessibilityManager.createComponent("geocortex.accessibility.draw",a,{showTooltips:!1}),dojo.connect(this.toolbar,"onDrawEnd",dojo.hitch(this,this.drawEnd)));return this.toolbar};b.prototype.setDrawMode=function(a,b,g){a&&(g?(this.cleanUp(),this.addGraphic(a.extent,null,a),this.setCaptureResult(a.extent)):esri.toolbars&&esri.toolbars.Draw&&(this.app.command("ShowMap").execute(),this.app.command("ClearActiveTool").execute(),this.app.configuration.mobileMode&&
!g&&this.app.command("CloseDataFrame").execute(),a=this._getDrawTool(a),this.drawType=e.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.getEsriGeometryType(b.typeName),this.app.trace.debug("DisplayCaptureGeometryViewModel: setDrawMode :: Draw mode set."),!this._inputMethodChangeHandle&&a instanceof e.essentialsHtmlViewer.mapping.infrastructure.accessibility.Draw&&(this._inputMethodChangeHandle=dojo.aspect.after(a,"onInputMethodChange",dojo.hitch(this,"_onInputMethodChange"),!0)),a.deactivate(),
a.activate(this.drawType),this.app.trace.debug("DisplayCaptureGeometryViewModel: setDrawMode :: Toolbar activated."),this.showCaptureStatusMessages&&(a=e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowModule.getCaptureGeometryStatusMessage(this.app,this.libraryId,this.drawType,!0),b=new e.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(a,null,dojo.hitch(this,this.userCancelled),b.className,this.statusMessageID),this.app.command("AddStatus").execute(b),this.app.trace.debug("DisplayCaptureGeometryViewModel: setDrawMode :: Status Message assigned and displayed."))))};
b.prototype.setCaptureTypeSelection=function(a){null!=this.activeCaptureType&&this.activeCaptureType.isSelected.set(!1);this.activeCaptureType=a;a.isSelected.set(!0)};b.prototype.drawEnd=function(a){var b=this.app.map,e=this._getDrawTool(b);if("multipoint"!=a.type||0<a.points.length)this.setCaptureResult(a),this.addGraphic(a,e,b);this.app.command("ActivateContainersForWorkflow").execute(this.activityContext.workflow().id);this.cleanUp();this.app.trace.debug("DisplayCaptureGeometryViewModel: drawEnd :: draw ended.");
this.autoSubmit&&this.app.event("Submit").publish(this)};b.prototype.cleanUp=function(){this.showCaptureStatusMessages&&this.app.command("RemoveStatus").execute(this.statusMessageID);null!=this.activeCaptureType&&(this.activeCaptureType.isSelected.set(!1),this.activeCaptureType=null);this._inputMethodChangeHandle&&(this._inputMethodChangeHandle.remove(),this._inputMethodChangeHandle=null);this.toolbar&&(this.toolbar.deactivate(),this.toolbar=null);this.app.trace.debug("DisplayCaptureGeometryViewModel: cleanUp :: clean up finished.")};
b.prototype.userCancelled=function(){this._getDrawTool(this.app.map).finishDrawing();this.cleanUp()};b.prototype.validate=function(){var a=[];this.geometryRequired&&this.showRequiredValidationMessage&&this.showRequiredValidationMessage.get()&&a.push(new e.forms.items.validation.ValidationResult(!1,this.requiredMessage));return a};b.prototype.viewUnhostedHandler=function(a){a.view.viewModel==this&&this.cleanUp()};b.prototype.getCaptureGeometryTooltip=function(a){switch(a){case "MapPoint":return this.getResource("language-capture-geometry-point_tooltip");
case "MultiPoint":return this.getResource("language-capture-geometry-multi-point_tooltip");case "Polyline":return this.getResource("language-capture-geometry-polyline_tooltip");case "FreehandPolyline":return this.getResource("language-capture-geometry-freehand-polyline_tooltip");case "Polygon":return this.getResource("language-capture-geometry-polygon_tooltip");case "Extent":return this.getResource("language-capture-geometry-rectangle_tooltip")}return this.getResource("language-current_extent_tooltip")};
b.prototype._onInputMethodChange=function(a){this.showCaptureStatusMessages&&(a=e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowModule.getCaptureGeometryStatusMessage(this.app,this.libraryId,this.drawType,!0,a?a.newMethod:null),a=new e.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(a),a.id=this.statusMessageID,this.app.command("UpdateStatus").execute(a),this.app.trace.debug("DisplayCaptureGeometryViewModel: _onInputMethodChange :: Status message updated."))};return b}(e.framework.ui.ViewModelBase);
f.DisplayCaptureGeometryViewModel=h})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(a,b){e.call(this,a,b);this.token=this.workflowFormContent=this.activityContext=null;this.token=this.app.event("Submit").subscribe(this,this.submitRequest)}__extends(b,e);b.prototype.attach=function(a){if(!a)throw Error("{0}: A view model must be specified to attach to.".format(this.id));e.prototype.attach.call(this,a);this.title.set(this.viewModel.title.get());this.app.event("ViewActivatedEvent").publish(this);
this.app.viewManager.notifyDimensionsChanged(this)};b.prototype.deactivated=function(){e.prototype.deactivated.call(this);this._deactivated()};b.prototype.handleClickButton=function(a,b,e){this.viewModel.clearGraphics();this.finishFormWithButton(e)};b.prototype.handleCaptureTypeSelection=function(a,b,e){this.viewModel.clearGraphics();this.viewModel.setDrawMode(this.app.map,e,b&&"CurrentExtent"===b.id);this.viewModel.setCaptureTypeSelection(e)};b.prototype.submitRequest=function(){null!=this.viewModel.defaultButton&&
this.finishFormWithButton(this.viewModel.defaultButton)};b.prototype.finishFormWithButton=function(a){this._processForm(this.activityContext,a)&&(this.workflowContainer&&this.workflowContainer.view&&(this.workflowContainer.hasContent.set(!1),this.app.viewManager.notifyDimensionsChanged(this.workflowContainer.view)),this.app.event("Submit").unsubscribe(this.token),this.app.viewManager.destroyView(this))};b.prototype._processForm=function(a,b){var e=null,f=null;if(b&&b.causesValidation&&b.causesValidation.get()){for(var e=
this.viewModel.validate(),f=[],h=0;h<e.length;++h)!1==e[h].isValid&&f.push(e[h]);if(f&&0<f.length)return this.viewModel.validationResults.set(f),!1;this.viewModel.validationResults.clear()}a.setValue("ButtonResultValue",b.value.get());a.completeActivity();return!0};b.prototype._deactivated=function(){this.viewModel.clearGraphics()};return b}(e.framework.ui.ViewBase);f.DisplayCaptureGeometryView=h})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(a,b){e.call(this,a,b)}__extends(b,e);b.prototype.attach=function(a){if(!a)throw Error("{0}: A view model must be specified to attach to.".format(this.id));e.prototype.attach.call(this,a);this.title.set(this.viewModel.title.get());this.workflowContainer&&this.workflowContainer.view&&this.app.viewManager.notifyDimensionsChanged(this.workflowContainer.view)};b.prototype.handleClickButton=function(a,b,e){this.activityContext&&
(this.activityContext.setValue("ButtonResultValue",e.value.get()),this.activityContext.completeActivity());this.workflowContainer&&(this.workflowContainer.hasContent.set(!1),this.app.viewManager.notifyDimensionsChanged(this.workflowContainer.view));this.app.viewManager.destroyView(this)};return b}(e.framework.ui.ViewBase);f.DisplayHyperlinkView=h})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=f.infrastructure.selection.CombineMode,l=function(b){function a(a,e){b.call(this,a,e);this._defaultFeatureSetCollection=this._defaultContainerRegionName=this._iconMap=this._workflowContainers=this._lastOpenedCollectionId=this._startupWorkflowIds=this.defaultContainerName=this._defaultContainerIconUri=this._defaultContainerTitle=this._containerConfigs=this._eventListenersToken=this._eventListenersResults=this.configuration=this.dispatcher=
null}__extends(a,b);a.prototype.initialize=function(a){var g=this;this._eventListenersResults={};this._eventListenersToken=[];this.configuration=a;b.prototype.initialize.call(this,arguments);this.defaultContainerName="Default";a&&void 0==a.showCaptureStatusMessages&&(a.showCaptureStatusMessages=!0);this._defaultFeatureSetCollection||(this._defaultFeatureSetCollection=new f.infrastructure.FeatureSetCollection,this._defaultFeatureSetCollection.sourceName="Workflow",this._defaultFeatureSetCollection.displayName.set(a.defaultContainerTitle||
this.getResource("@language-workflow-title")),this.app.featureSetManager.addCollection(this._defaultFeatureSetCollection));this._iconMap=a.icons?a.icons:{};this._workflowContainers={};this._defaultContainerTitle=a.defaultContainerTitle||this.getResource("@language-workflow-title");this._defaultContainerRegionName=a.defaultContainerRegionName||"ModalWindowRegion";this._defaultContainerIconUri=a.defaultContainerIconUri||"Resources/Images/workflow-24.png";this._containerConfigs={};for(var k=0;k<a.containers.length;++k){var l=
a.containers[k],m=new e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowContainerConfig(l);m.iconUri.set(l.iconUri||this._defaultContainerIconUri);m.title.set(l.title);this._containerConfigs[m.name]=m}this._startupWorkflowIds=[];if(a.startupWorkflows&&a.startupWorkflows.length)for(k=0;k<a.startupWorkflows.length;k++)(l=a.startupWorkflows[k])&&(l.id?this._startupWorkflowIds.push(l.id):this._startupWorkflowIds.push(l));k=this._getUrlParameterIgnoreCase("run")||this._getUrlParameterIgnoreCase("runWorkflow")||
this._getUrlParameterIgnoreCase("runWorkflowById");if(this.app.urlParameters&&k){var p;this.app.urlParameters[k]&&(p=this.app.urlParameters[k].split(","));for(k=0;k<p.length;k++)l=p[k],0>dojo.indexOf(this._startupWorkflowIds,l)&&this._startupWorkflowIds.push(l)}this.dispatcher=new e.workflow.DefaultActivityDispatcher(function(a,b){g.app.event("WorkflowActivityDispatchError").publish({error:a,context:b});g.app.event("WorkflowActivityDispatchErrorEvent").publish({error:a,context:b})},function(a){g.app.event("WorkflowActivityBegin").publish(a.workflow());
g.app.event("WorkflowActivityStartedEvent").publish(a.workflow())},function(a){g.app.event("WorkflowActivityComplete").publish(a.workflow());g.app.event("WorkflowActivityCompletedEvent").publish(a.workflow())},function(a,b){g.app.event("WorkflowCompletedEvent").publish(b,a);g.app.event("WorkflowComplete").publish(b,a)},function(a,b){var d=b||a.workflow();d&&(g.app.event("WorkflowAbortedEvent").publish(d),g.app.trace.debug("Workflow '{0}' with id '{1}' aborted by the '{2}' activity.".format(d.displayName,
d.id,a.getDisplayName())))},function(a,b){g.app.event("WorkflowWebRequestStartedEvent").publish(a,b)},function(a,b){g.app.event("WorkflowWebRequestCompletedEvent").publish(a,b)});this.dispatcher.handleUnhandledActivityErrorFunction=function(a,b){g.app.trace.error(a.toString())};this.dispatcher._showDebugHandler=function(a,b){g._showDebugHandler(g,a,b)};this.dispatcher.handleOpenReportUrlFunction=function(a,b){g._handleOpenReportUrl(g,a,b)};this.app.event("WorkflowCompletedEvent").subscribe(this,function(a){g.cleanupViewsForWorkflow(a)});
this.app.event("WorkflowAbortedEvent").subscribe(this,function(a){g.cleanupViewsForWorkflow(a)});this.app.event("ActiveToolChanged").subscribe(this,function(a){g.dispatcher.abortMapBasedActivity()});this.app.event("WorkflowActivityDispatchErrorEvent").subscribe(this,function(a){var b=a.error;a=a.context;b=g.app.getResource(g.libraryId,"language-workflow-error").format(b.message);g.app.command("Alert").execute(b);g.app.trace.error(b);a&&a.workflow&&g.cleanupViewsForWorkflow(a.workflow())});this.app.event("FSMCollectionOpenedEvent").subscribe(this,
function(a){a&&a.featureSetCollection&&(g._lastOpenedCollectionId=a.featureSetCollection.id)});e.forms.renderFormItem=function(a){var b=null;g.configuration&&g.configuration.hasOwnProperty("formItems")&&(b=g.configuration.formItems);var d=null;a&&a.formDefinition&&(d=a.formDefinition.attached_application);return e.essentialsHtmlViewer.mapping.modules.workflow.forms.FormRenderer.getItemView(d,a,b).root};this.registerActivityHandlers();this.registerCommands();if(this.app.site&&this.app.site.isInitialized)this._onSiteInitialized(this.app.site);
else this.app.event("SiteInitializedEvent").once(this,this._onSiteInitialized);a&&a.tools&&this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,!0)};a.prototype._getUrlParameterIgnoreCase=function(a){if(this.app.urlParameters)for(var b in this.app.urlParameters)if(this.app.urlParameters.hasOwnProperty(b)&&!String.isNullOrEmpty(b)&&!String.isNullOrEmpty(a)&&b.toLowerCase()===String(a).toLowerCase())return b;return null};a.prototype.remapWorkflowContainerIconUri=function(a){var b=
null;return b=this._iconMap&&this._iconMap[a]?this._iconMap[a]:String.isNullOrEmpty(a)?this._defaultContainerIconUri:a};a.prototype.shutdown=function(a){if(this._eventListenersToken)for(a=0;a<this._eventListenersToken.length;a++)this._eventListenersToken[a]()};a.prototype._showDebugHandler=function(a,b,f){var h=this,k={typeName:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormView",markupResource:"Mapping/modules/Workflow/WorkflowFormView.html",isVisible:!0,regionName:a._defaultContainerRegionName,
libraryId:a.libraryId,iconUri:a.configuration.defaultContainerIconUri,configuration:{activityContext:null}},l=new e.workflow.ActivityContext(this.dispatcher,0,null,null);k.configuration.activityContext=l;var m=new e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormViewModel(a.app);m.activityContext=l;m.initialize({showTitleInFormBody:null==a.configuration?!1:a.configuration.showTitleInFormBody||!1,formDefinition:b,buttons:[new e.forms.FormButton("OK","OK",!1,!0)]});var p=a.app.viewManager.createView(k);
p.attach(m);p.configuration={};l.completeActivity=function(){h.app.viewManager.destroyView(p);dojo.isFunction(f)&&f()};a.app.viewManager.activateView(p)};a.prototype._handleOpenReportUrl=function(a,b,f){var h=a.app.viewManager.createView({markup:"Mapping/modules/Workflow/DisplayReportUrlView.html",type:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.DisplayReportUrlView",visible:!0,libraryId:a.libraryId,iconUri:a._defaultContainerIconUri}),k=new e.essentialsHtmlViewer.mapping.modules.workflow.DisplayReportUrlViewModel(this.app,
this.libraryId);k.app=a.app;k.libraryId=a.libraryId;k.initialize(b);h.attach(k);h.activityContext=f;h.activityContextCompleteActivity=f.completeActivity;f.completeActivity=function(){a.app.trace.debug("activityContext.completeActivity ignored because the report url view is open")};b=new Observable(this.app.getResource(this.libraryId,"language-workflow-report-url-title"));k=a.getOrCreateContainer("Default");a.displayContainerContent(h,k,b,f)};a.prototype.getOrCreateContainer=function(a){var b=this._containerConfigs[a];
null==b&&(b=new e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowContainerConfig({name:a,regionName:this._defaultContainerRegionName,view:null}),b.iconUri.set(this._defaultContainerIconUri),b.title.set(this._defaultContainerTitle));return b};a.prototype.cleanupViewsForWorkflow=function(a){var b=this._workflowContainers[a.id];null==b&&(b=this._workflowContainers[a.id]=[]);for(var f=0;f<b.length;++f){var h=b[f];e.resourceManager.remove(this.libraryId,h.resourceName,"inv");this.app.viewManager.destroyView(h.view);
h.view=null}this._workflowContainers[a.id]=[]};a.prototype.createContainerView=function(a,b){var f=b.workflow(),h=e.resourceManager.fetch("Mapping/modules/Workflow/WorkflowContainerView.html",this.libraryId,"inv");if(null==h)return this.app.trace.warning("Could not create container '{0}' - markup resource '{1}' could not be found.".format(a.name,"Mapping/modules/Workflow/WorkflowContainerView.html")),!1;var k="WorkflowContainerRegion-{0}".format(e.framework.utils.alphaNumericToken()),h=h.replace("!region-name-placeholder!",
k),l="DynamicView-{0}-{1}".format(k,f.id);e.resourceManager.register(this.libraryId,"inv",l,"html",e.framework.utils.base64Encode(h));h={typeName:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowContainerView",isVisible:!0,regionName:a.regionName,configuration:{internalRegionName:k,showXButton:a.allowClose},libraryId:this.libraryId,isManaged:null,iconUri:null,markupResource:null};h.isManaged=a.isManaged;h.iconUri=a&&a.iconUri?a.iconUri.get():this._defaultContainerIconUri;h.markupResource=
l;a.view=this.app.viewManager.createView(h);a.view.activityContext=b;a.internalRegionName=k;a.activityContext=b;a.resourceName=l;a.view.attach(a);k=this._workflowContainers[f.id];null==k&&(k=this._workflowContainers[f.id]=[]);Array.contains(k,a)||k.push(a);return!0};a.prototype.displayContainerContent=function(a,b,e,f){var h=f.workflow();null==b.view&&this.createContainerView(b,f);a.regionName=b.internalRegionName;null!=e&&b.view.viewModel.title.set(e.get());b.showOverlay.set(!1);b.hasContent.set(!0);
b.view.activityContext=f;this.app.viewManager.activateView(b.view);this.app.viewManager.activateView(a);this.app.command("FocusOnFirstInputInView").execute(a);this.app.viewManager.notifyDimensionsChanged(b.view);a=this._workflowContainers[h.id];null==a&&(a=this._workflowContainers[h.id]=[]);Array.contains(a,b)||a.push(b)};a.prototype.getEssentialsLayerInfoFromLayer=function(a){if(!a)return null;var b=new e.essentials.EssentialsLayerInfo;b.mapServiceUrl=a.mapService.serviceUrl;b.mapServiceId=a.mapService.id;
b.token=a.mapService.serviceToken;b.isVisible=a.isVisible();b.isDynamic=a.isDynamic;b.id=a.id;b.name=a.name;b.displayName=a.displayName;b.layerUrl=b.mapServiceUrl+"/"+(b.isDynamic?"dynamicLayer":b.id);if(b.isDynamic&&(a=a.mapService.serviceLayer)&&a.dynamicLayerInfos)for(var f=0;f<a.dynamicLayerInfos.length;f++){var h=a.dynamicLayerInfos[f];if(h&&h.id.toString()===b.id){h.source&&(b.layerSourceJson=JSON.stringify(h.source.toJson()));break}}return b};a.prototype.getEssentialsFeatureSetFromFeatureSet=
function(a){var b=new e.essentials.EssentialsFeatureSet;b.featureSetId=a.id;b.featureSetDisplayName=a.displayName.get();b.esriFeatureSet=null;b.layerInfo=null;a.esriFeatureSet&&(a.esriFeatureSet.features=a.esriFeatureSet.features||[],b.esriFeatureSet=a.esriFeatureSet.toJson());a.layer&&(b.layerInfo=this.getEssentialsLayerInfoFromLayer(a.layer));return b};a.prototype.getFeaturesInCollection=function(a,b){var e=[],f=null;a?a&&(f="Active"==a?this.app.featureSetManager.getCollectionById(this._lastOpenedCollectionId):
this.app.featureSetManager.getCollectionById(a)):f=this.app.featureSetManager.getCollectionById(this._lastOpenedCollectionId);if(f&&f.featureSets&&0<f.featureSets.getLength())if(b)(k=f.getFeatureSetById(b))&&e.push(this.getEssentialsFeatureSetFromFeatureSet(k));else for(var h=0;h<f.featureSets.getLength();h++){var k=f.featureSets.getAt(h);k&&e.push(this.getEssentialsFeatureSetFromFeatureSet(k))}return e};a.prototype.getFeaturesInCollectionAsync=function(a,b){var e=this;return this._findCollectionForGetSelectedFeaturesActivity(a).then(function(a){var d=
[];if(a&&a.featureSets&&0<a.featureSets.getLength())if(b)(h=a.getFeatureSetById(b))&&d.push(e.getEssentialsFeatureSetFromFeatureSet(h));else for(var f=0;f<a.featureSets.getLength();f++){var h=a.featureSets.getAt(f);h&&d.push(e.getEssentialsFeatureSetFromFeatureSet(h))}return d})};a.prototype._findCollectionForGetSelectedFeaturesActivity=function(a){var b=this;if(!a){var e=this.app.featureSetManager.getCollectionById(this._lastOpenedCollectionId);return Promise.resolve(e)}return"active"==a.toLowerCase()?
(e=this.app.featureSetManager.getCollectionById(this._lastOpenedCollectionId),Promise.resolve(e)):this._findResultsByName(a).then(function(e){e||(e=b.app.featureSetManager.getCollectionById(a));return e})};a.prototype._findResultsByName=function(a){var b=this;return(new Promise(function(e,f){a?b.app.command("FindSelection").execute({name:a,successCallback:e,errorCallback:f}):e(null)}))["catch"](function(a){return null})};a.prototype.prepFeatureSetInCollection=function(a,b,e,f,h,k,l){var m=this;this._findCollectionForSelectFeaturesActivity(b).then(function(l){return m._combineFeatureSetWithCollection(a,
l,b,e,f,h,k)})["finally"](function(){l&&l()})};a.prototype._findCollectionForSelectFeaturesActivity=function(a){var b=this;return Promise["try"](function(){return b._getDefaultCollectionForEmptyId(a)}).then(function(e){return b._findCollectionInSavedResults(e,a)}).then(function(e){return b._findCollectionById(e,a)}).then(function(e){return b._createNewCollection(e,a)})};a.prototype._getDefaultCollectionForEmptyId=function(a){var b;a||(b=this.app.featureSetManager.getCollectionById(this._defaultFeatureSetCollection.id),
b||(b=this._defaultFeatureSetCollection,this.app.featureSetManager.addCollection(b)));return b};a.prototype._findCollectionInSavedResults=function(a,b){return!a&&b?this._findResultsByName(b):Promise.resolve(a)};a.prototype._findCollectionById=function(a,b){!a&&b&&(a=this.app.featureSetManager.getCollectionById(b))&&a.displayName.set(b);return a};a.prototype._createNewCollection=function(a,b){!a&&b&&(a=new f.infrastructure.FeatureSetCollection,a.id=b,a.sourceName="Workflow",a.displayName.set(b),this.app.featureSetManager.addCollection(a));
return a};a.prototype._combineFeatureSetWithCollection=function(a,b,e,k,l,m,y){var u=this;e=null;b.setExtendedProperty("ShowPushpins",m);k&&(y=p.REPLACE);String.isNullOrEmpty(a.displayName.get())&&l&&a.displayName.set(l.displayName?l.displayName:l.name);this.app.featureSetManager.openCollection(b.id);k=new f.infrastructure.FeatureSetCollection;k.featureSets.addItem(a);0<b.featureSets.getLength()&&(e=b.getFeatureSetById(a.id));e&&y!==p.REPLACE?(String.isNullOrEmpty(a.displayName.get())?e.displayName.set(a.id):
e.displayName.set(a.displayName.get()),this._combineCollections(b,k,y),e.resolveDataLinks(function(a){u.app.event("FeatureChangedEvent").publish(a)})):(this._combineCollections(b,k,y),a.resolveDataLinks(function(a){u.app.event("FeatureChangedEvent").publish(a)}));this.app.featureSetManager.closeCollection(b.id);return b};a.prototype._combineCollections=function(a,b,e){switch(e){case p.REPLACE:a.clear();a.featureSets.addItems(b.featureSets.getItems());break;case p.INTERSECT:a.intersectInPlace(b);a.featureSets.pulse();
break;case p.SUBTRACT:a.subtractInPlace(b);a.featureSets.pulse();break;case p.UNION:a.unionInPlace(b);a.featureSets.pulse();break;default:a.unionInPlace(b),a.featureSets.pulse()}};a.prototype._displayNotification=function(a,b,e){var k;b=b.features.length();a=a.displayName.get();switch(e){case f.infrastructure.selection.CombineMode.UNION:k=this.getResource("language-select-features-union-confirmation");break;case f.infrastructure.selection.CombineMode.INTERSECT:k=this.getResource("language-select-features-intersect-confirmation");
break;case f.infrastructure.selection.CombineMode.SUBTRACT:k=this.getResource("language-select-features-subtract-confirmation");break;case f.infrastructure.selection.CombineMode.REPLACE:k=this.getResource("language-select-features-replace-confirmation")}k&&(k=k.format(a,b),this.app.command("AddResultsStatus").execute(k))};a.prototype._handleError=function(a){var b=a&&"UiError"==a.name?a.message:this.getResource("language-saved-results-error-message");this.app.command("AddResultsStatus").execute(b);
this.app.trace.error(a.message,a);return a};a.prototype.registerActivityHandlers=function(){var a=this;this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.ListenForExternalEvent",function(b){e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleListenForExternalEvent(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.CollectExternalEventArgs",function(b){e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleCollectExternalEventArgs(a,
b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.Alert",function(b){e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleAlert(a,b)});this.dispatcher.registerExternalIdHandler("IntersectLayers",e.workflow.DefaultActivityHandlers.handleIntersectLayers);this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.ConfigureWorkflowContainer",function(b){e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleConfigureWorkflowContainer(a,
b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.Confirm",function(b){e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleConfirm(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.DisplayForm",function(b){e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleDisplayForm(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.DisplayHyperlink",function(b){e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleDisplayHyperlink(a,
b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.DisplayCaptureGeometry",function(b){e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleDisplayCaptureGeometry(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.Report",function(b){var f=b.getValue("MapServiceId"),h=b.getValue("LayerName"),k=b.getValue("ReportId");a.app.event("ReportTemplateStartedEvent").publish(k,f,h);e.workflow.DefaultActivityHandlers.handleReport(b);a.app.event("ReportTemplateCompletedEvent").publish(k,
f,h)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.Prompt",function(b){e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handlePrompt(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.RunExternalCommand",function(b){e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleRunExternalCommand(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.SelectFeatures",function(b){e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleSelectFeatures(a,
b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.GetSelectedFeatures",function(b){e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleGetSelectedFeatures(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.DisplayResultPicker",function(b){e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleDisplayResultPicker(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.ExternalLog",function(b){e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleExternalLog(a,
b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.ShowMapTip",function(b){e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleShowMapTip(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.CaptureGeometry",function(b){e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleCaptureGeometry(a,b)});this.app.setWorkflowActivityDispatcher(this.dispatcher)};a.prototype._getContainersForWorkflowId=function(a){return this._workflowContainers&&
this._workflowContainers.hasOwnProperty(a)?this._workflowContainers[a]:null};a.prototype._activateContainersForWorkflow=function(a){if((a=this._getContainersForWorkflowId(a))&&0<a.length)for(var b=0;b<a.length;++b)this.app.command("ActivateView").execute(a[b].view.id)};a.prototype._deactivateContainersForWorkflow=function(a){if((a=this._getContainersForWorkflowId(a))&&0<a.length)for(var b=0;b<a.length;++b)this.app.command("DeactivateView").execute(a[b].view.id)};a.prototype.registerCommands=function(){var a=
this;this.app.command("RunWorkflowById").register(this,function(b){if(a.app.site&&a.app.site.isInitialized)if(a.app&&a.app.isOffline&&a.app.isOffline.get())a.app.command("Alert").execute(a.app.getResource(a.libraryId,"language-workflow-offline"),a.app.getResource(a.libraryId,"language-workflow-offline-title")),a.app.trace.error("Error running workflow '{0}' - Unable to run workflows in an offline state".format(b));else{var f=a.app.site.findWorkflowById(b);f?(e.workflow.WorkflowControllerProxy.startWorkflow(f,
a.dispatcher,null),a.app.command("LogOptimizerEvent").execute("RunWorkflow",f.id)):a.app.trace.error("Error running workflow '{0}' - workflow not found in site.".format(b))}else a.app.trace.error("Error running workflow '{0}' - Site was not initialized.".format(b))},function(b){return!a.app||!a.app.site||!a.app.site.isInitialized||a.app.isOffline&&a.app.isOffline.get()||!a.app.site.findWorkflowById(b)?!1:!0});this.app.command("RunWorkflowWithGeometry").register(this,function(b){if(a.app.site&&a.app.site.isInitialized)if(a.app&&
a.app.isOffline&&a.app.isOffline.get())a.app.command("Alert").execute(a.app.getResource(a.libraryId,"language-workflow-offline"),a.app.getResource(a.libraryId,"language-workflow-offline-title")),a.app.trace.error("Error running workflow '{0}' - Unable to run workflows in an offline state".format(b.workflowId));else{var f=a.app.site.findWorkflowById(b.workflowId);if(f){var h=f.getInputs();if(b.geometry&&h)for(var k=0;k<h.length;k++){var l=h[k];null!=l&&null!=l.typeName&&("ESRI.ArcGIS.Client.Geometry.Geometry, ESRI.ArcGIS.Client"==
l.typeName||"point"==b.geometry.type&&"ESRI.ArcGIS.Client.Geometry.Point, ESRI.ArcGIS.Client"==l.typeName||"multipoint"==b.geometry.type&&"ESRI.ArcGIS.Client.Geometry.MultiPoint, ESRI.ArcGIS.Client"==l.typeName||"polyline"==b.geometry.type&&"ESRI.ArcGIS.Client.Geometry.Polyline, ESRI.ArcGIS.Client"==l.typeName||"polygon"==b.geometry.type&&"ESRI.ArcGIS.Client.Geometry.Polygon, ESRI.ArcGIS.Client"==l.typeName||"extent"==b.geometry.type&&"ESRI.ArcGIS.Client.Geometry.Envelope, ESRI.ArcGIS.Client"==l.typeName)&&
(l.value=b.geometry)}e.workflow.WorkflowControllerProxy.startWorkflow(f,a.dispatcher,h);a.app.command("LogOptimizerEvent").execute("RunWorkflow",f.id)}else a.app.trace.error("Error running workflow '{0}' - workflow not found in site.".format(b.workflowId))}else a.app.trace.error("Error running workflow '{0}' - Site was not initialized.".format(b.workflowId))},function(b){return b&&b.workflowId&&b.geometry&&a.app.site&&a.app.site.isInitialized&&a.app.site.findWorkflowById(b.workflowId)?!0:!1});this.app.command("RunWorkflowWithArguments").register(this,
function(b){if(a.app.site&&a.app.site.isInitialized)if(a.app&&a.app.isOffline&&a.app.isOffline.get())a.app.command("Alert").execute(a.app.getResource(a.libraryId,"language-workflow-offline"),a.app.getResource(a.libraryId,"language-workflow-offline-title")),a.app.trace.error("Error running workflow '{0}' - Unable to run workflows in an offline state".format(b.workflowId));else{var f=a.app.site.findWorkflowById(b.workflowId);if(f){var h=f.getInputs();if(h)for(var k=0;k<h.length;k++)h[k].value=b[h[k].name];
e.workflow.WorkflowControllerProxy.startWorkflow(f,a.dispatcher,h);a.app.command("LogOptimizerEvent").execute("RunWorkflow",f.id)}else a.app.trace.error("Error running workflow '{0}' - workflow not found in site.".format(b.workflowId))}else a.app.trace.error("Error running workflow '{0}' - Site was not initialized.".format(b.workflowId))},function(b){return b&&b.workflowId&&a.app.site&&a.app.site.isInitialized&&a.app.site.findWorkflowById(b.workflowId)?!0:!1});this.app.command("DisplayWorkflowContainerContent").register(this,
function(b){var e=b.containerName,f=b.view;b=b.activityContext;if(null!=e)e=a.getOrCreateContainer(e);else throw Error("Missing container name in DisplayWorkflowContainerContent.");a.displayContainerContent(f,e,e.title,b)});this.app.command("ActivateContainersForWorkflow").register(this,this._activateContainersForWorkflow);this.app.command("DeactivateContainersForWorkflow").register(this,this._deactivateContainersForWorkflow)};a.prototype._onSiteInitialized=function(a){if(a&&a.isInitialized){for(var b=
this.app.site.workflows,f=0;f<b.length;f++){var h=b[f];h.runOnStartup&&0>this._startupWorkflowIds.indexOf(h.id)&&this._startupWorkflowIds.push(h.id);0===f&&(this.app.command("RunWorkflowById").raiseCanExecuteChanged(),this.app.command("RunWorkflowWithArguments").raiseCanExecuteChanged(),this.app.command("RunWorkflowWithGeometry").raiseCanExecuteChanged())}if(null!=this._startupWorkflowIds&&0!=this._startupWorkflowIds.length)for(f=0;f<this._startupWorkflowIds.length;f++)if(b=this._startupWorkflowIds[f],
null!=b)if(h=a.findWorkflowById(b)){b=h.getInputs();if(null!=b&&this.app.urlParameters)for(var k=0;k<b.length;k++){var l=b[k];if(null!=l&&null!=l.name){var m=this.app.urlParameters[l.name];m&&(l.value=m)}}e.workflow.WorkflowControllerProxy.startWorkflow(h,this.dispatcher,b);this.app.command("LogOptimizerEvent").execute("RunWorkflow",h.id)}else this.app.trace.error("Error running startup workflow '{0}' - workflow not found in site.".format(b))}else this.app.trace.error("Error processing startup workflows. - site was not initialized.")};
a.getCaptureGeometryStatusMessage=function(a,b,e,k,l){void 0===l&&(l=f.infrastructure.accessibility.InputMethod.MOUSE);switch(e){case esri.toolbars.Draw.POINT:return a=l==f.infrastructure.accessibility.InputMethod.KEYBOARD?a.getResource(b,"language-capture-geometry-point-keyboard"):a.getResource(b,"language-capture-geometry-point");case esri.toolbars.Draw.MULTI_POINT:return k?a.getResource(b,"language-capture-geometry-multi-point"):a.getResource(b,"language-capture-geometry-point");case esri.toolbars.Draw.POLYLINE:return a=
l==f.infrastructure.accessibility.InputMethod.KEYBOARD?a.getResource(b,"language-capture-geometry-polyline-keyboard"):a.getResource(b,"language-capture-geometry-polyline");case esri.toolbars.Draw.POLYGON:return a=l==f.infrastructure.accessibility.InputMethod.KEYBOARD?a.getResource(b,"language-capture-geometry-polygon-keyboard"):a.getResource(b,"language-capture-geometry-polygon");case esri.toolbars.Draw.FREEHAND_POLYLINE:return a.getResource(b,"language-capture-geometry-freehand-polyline");case esri.toolbars.Draw.FREEHAND_POLYGON:return a.getResource(b,
"language-capture-geometry-freehand-polygon");case esri.toolbars.Draw.EXTENT:return a.getResource(b,"language-capture-geometry-rectangle")}return a.getResource(b,"language-capture-geometry-default")};return a}(e.framework.application.ModuleBase);k.WorkflowModule=l})(k.workflow||(k.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(f){function b(a,b){f.call(this,a,b);this.target=this.hyperlinkText=this.uri=this.message=this.buttons=this.workflowContainer=this.activityContext=null;this.title=new Observable("");this.showTitleInFormBody=new Observable(!1)}__extends(b,f);b.prototype.initialize=function(a){if(this.activityContext&&a){var b=this.activityContext.getValue("Buttons"),g=[];b&&0!==b.length||(b=[{Label:this.app.getResource(this.libraryId,"language-common-close"),
Value:"Close",CausesValidation:!1,IsDefault:!1}]);for(var f=0;f<b.length;f++){var h=new e.forms.FormButton(b[f].Label,b[f].Value,b[f].CausesValidation,b[f].IsDefault);b[f].IsDefault&&(this.defaultButton=h);g.push(h)}this.buttons=Observable.makeBindableProxy(g);this.message=new Observable(this.activityContext.getValue("Message"));this.uri=new Observable(this.activityContext.getValue("Uri"));this.hyperlinkText=new Observable(this.activityContext.getValue("HyperlinkText"));null==this.hyperlinkText.get()&&
this.hyperlinkText.set(this.uri.get());this.target=new Observable(this.activityContext.getValue("Target"));a&&a.hasOwnProperty("showTitleInFormBody")&&this.showTitleInFormBody.set(a.showTitleInFormBody||!1)}};return b}(e.framework.ui.ViewModelBase);f.DisplayHyperlinkViewModel=h})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(a,b){e.call(this,a,b);this.activityContextCompleteActivity=this.activityContext=null}__extends(b,e);b.prototype.attach=function(a){if(!a)throw Error("{0}: A view model must be specified to attach to.".format(this.id));e.prototype.attach.call(this,a)};b.prototype.handleClickButton=function(a,b,e){this.app.viewManager.destroyView(this)};b.prototype.destroy=function(){e.prototype.destroy.call(this);this._completeActivity()};
b.prototype._completeActivity=function(){if(this.activityContext&&this.activityContextCompleteActivity){var a=this.activityContext;this.activityContext=null;this.activityContextCompleteActivity.apply(a)}};return b}(e.framework.ui.ViewBase);f.DisplayReportUrlView=h})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(f){function b(a,b){f.call(this,a,b);this.url=this.buttons=this.workflowContainer=null;this.target="_blank"}__extends(b,f);b.prototype.initialize=function(a){a&&(this.defaultButton=new e.forms.FormButton(this.app.getResource(this.libraryId,"language-common-close"),"Close",!1,!0),this.buttons=Observable.makeBindableProxy([this.defaultButton]),this.url=new Observable(a))};return b}(e.framework.ui.ViewModelBase);f.DisplayReportUrlViewModel=
h})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(f){function b(a,b,e){f.call(this,a,b);this.resultTemplateComplexity=this.isSingleSelectionMode=this.selectionModes=this.selectionMode=this.startingIndex=this.defaultButton=this.buttons=this.message=this.workflowContainer=this.activityContext=null;this.featureSet=e;this.title=new Observable("");this.showTitleInFormBody=new Observable(!1);this.filterText=new Observable("");this.selectedFeatures=new ObservableCollection([]);
this.shiftPressed=this.ctrlPressed=!1;this.selectionModes=["single","multiple","extended"];this.disabledLinkCssClass=new Observable("");this.requiredValueErrorMessage=new Observable("");this.cssClass=new Observable("display-result-picker-list");this.features=new ObservableCollection(e.features.get());this.resultsList=new ObservableCollection(this.features.get());this.topOffset=new Observable("0px");this.bottomOffset=new Observable("0px");this.filterSectionVisible=new Observable(!0);this.filterText.bind(this,
function(a){this.filterResults(a)})}__extends(b,f);b.prototype.initialize=function(a){if(this.activityContext&&a){a=this.activityContext.getValue("Buttons");var b=[];a&&0!==a.length||(a=[{Label:this.app.getResource(this.libraryId,"language-common-close"),Value:"Close",CausesValidation:!1,IsDefault:!1}]);for(var g=0;g<a.length;g++){var f=new e.forms.FormButton(a[g].Label,a[g].Value,a[g].CausesValidation,a[g].IsDefault);a[g].IsDefault&&(this.defaultButton=f);b.push(f)}this.buttons=Observable.makeBindableProxy(b);
this.message=new Observable(this.activityContext.getValue("Message"));this.showFilterTextBox=new Observable(this.activityContext.getValue("ShowFilterTextBox"));this.isSingleSelectionMode="single"==this.selectionMode;("single"!=this.selectionMode||null!=this.message.get()||this.showFilterTextBox.get())&&0<this.features.length()?this.filterSectionVisible.set(!0):this.filterSectionVisible.set(!1)}};b.prototype.filterResults=function(a){if(a){0<a.length&&!this.isSingleSelectionMode?this.disabledLinkCssClass.set("bound-visible-inline disabled-link"):
this.isSingleSelectionMode?this.disabledLinkCssClass.set("bound-invisible"):this.disabledLinkCssClass.set("bound-visible-inline");var b={},e;e=[];for(var f,h=[],k=[],l=!1,m=0;m<this.resultsList.length();m++){b=this.resultsList.getAt(m);e=b.descriptionFormat;f=b.labelFormat;e=this.getTokens(e.get());h=this.getTokens(f.get());f=[];if(e&&h)f=e.concat(h);else if(e||h)f=e||h;if(0<f.length)for(e=0;e<f.length;e++)-1==k.indexOf(f[e])&&k.push(f[e]);e=void 0!=a?a.toLowerCase():"";if(0<k.length)for(b=b.esriFeature.get().attributes,
f=0;f<k.length;f++){if(h=b[k[f]])if("string"==typeof h||h instanceof String||(h=h.toString()),h=h.toLowerCase(),-1!==h.indexOf(e)){l=!0;break}}else l=!0;l?this.resultsList.getAt(m).isFiltered.set(!1):this.resultsList.getAt(m).isFiltered.set(!0);l=!1}}else{for(a=0;a<this.resultsList.length();a++)this.resultsList.getAt(a).isFiltered.set(!1);this.isSingleSelectionMode?this.disabledLinkCssClass.set("bound-invisible"):this.disabledLinkCssClass.set("bound-visible-inline")}};b.prototype.featureClicked=function(a){if(void 0!=
a)if(!this.ctrlPressed&&"multiple"!=this.selectionMode||"single"==this.selectionMode)if(this.shiftPressed&&"extended"==this.selectionMode)if(0===this.selectedFeatures.length())this.addFeatureToSelection(a,!0);else if(a=this.features.indexOf(a),a>this.startingIndex){this.clearSelection();for(var b=this.startingIndex;b<=a;b++)this.addFeatureToSelection(this.features.getAt(b),!1)}else for(this.clearSelection(),b=a;b<=this.startingIndex;b++)this.addFeatureToSelection(this.features.getAt(b),!1);else this.clearSelection(),
this.addFeatureToSelection(a,!0);else-1!=this.selectedFeatures.indexOf(a)?this.removeFeatureFromSelection(a):this.addFeatureToSelection(a,!0);return!1};b.prototype.getTokens=function(a){if(!a)return null;a=a.match(/{{.+?}}|{(.+?)}/g);var b=[];if(a)for(var e=0;e<a.length;e++)a[e].match(/{(.+?)}/g)&&!a[e].match(/{{.+?}}/g)&&b.push(a[e].match("{(.+?)}")[1]);return b};b.prototype.featureChecked=function(a){a.isSelected.get()?this.addFeatureToSelection(a,!0):this.removeFeatureFromSelection(a)};b.prototype.addFeatureToSelection=
function(a,b){if(void 0!=a.isFiltered.get()&&!a.isFiltered.get()){a.isSelected.set(!0);a.cssClass.set("selected");for(var e=!1,f=0;f<this.selectedFeatures.getItems().length;f++)if(this.selectedFeatures.getItems()[f]===a){e=!0;break}e||this.selectedFeatures.addItem(a);e=this.features.indexOf(a);b&&-1!=e&&(this.startingIndex=e)}};b.prototype.removeFeatureFromSelection=function(a){a.isSelected.set(!1);a.cssClass.set("");this.selectedFeatures.removeItem(a);this.startingIndex=this.features.indexOf(a)};
b.prototype.clearSelection=function(){if(this.selectedFeatures.length()){for(var a=0;a<this.selectedFeatures.length();a++)this.selectedFeatures.getAt(a).isSelected.set(!1),this.selectedFeatures.getAt(a).cssClass.set("");this.selectedFeatures.clear()}};b.prototype.clearTextBox=function(){this.filterText.set("")};b.prototype.selectAll=function(){this.addFeatureToSelection(this.features.getAt(0),!0);for(var a=1;a<this.features.get().length;a++)this.addFeatureToSelection(this.features.getAt(a),!1)};b.prototype.selectNone=
function(){this.clearSelection()};b.prototype.getSelectedIndices=function(){for(var a=[],b=0;b<this.selectedFeatures.length();b++)a.push(this.features.indexOf(this.selectedFeatures.getAt(b)));return a};b.prototype.showError=function(){var a=this.activityContext.getValue("RequiredValueErrorMessage");null===a&&(a=this.app.getResource(this.libraryId,"language-display-result-picker-no-results-selected"));this.requiredValueErrorMessage.set(a);this.cssClass.set("display-result-picker-list error")};return b}(e.framework.ui.ViewModelBase);
f.DisplayResultPickerViewModel=h})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=function(e){function b(a,b){e.call(this,a,b);this.activityContext=null;this.onKeyDownHandle=[];this.onKeyUpHandle=[]}__extends(b,e);b.prototype.attach=function(a){if(!a)throw Error("{0}: A view model must be specified to attach to.".format(this.id));e.prototype.attach.call(this,a);this.app.event("ViewActivatedEvent").subscribe(this,this.setDisplayResultPickerListOffset);this.title.set(this.viewModel.title.get());this.workflowContainer&&
this.workflowContainer.view&&this.app.viewManager.notifyDimensionsChanged(this.workflowContainer.view);window&&(this.onKeyDownHandle.push(dojo.connect(window,"onkeydown",this,this.handleKeyDown)),this.onKeyUpHandle.push(dojo.connect(window,"onkeyup",this,this.handleKeyUp)))};b.prototype.setDisplayResultPickerListOffset=function(){this.topContainer&&this.viewModel.topOffset.set(this.topContainer.clientHeight);this.bottomContainer&&this.viewModel.bottomOffset.set(this.bottomContainer.clientHeight)};
b.prototype.makeUnselectableNode=function(a,b){1==a.nodeType&&a.setAttribute("unselectable",b);for(var e=a.firstChild;e;)this.makeUnselectableNode(e,b),e=e.nextSibling};b.prototype.handleKeyDown=function(a,b,e){!0===a.ctrlKey&&(this.viewModel.ctrlPressed=!0);!0===a.shiftKey&&(this.viewModel.shiftPressed=!0);!0!==a.ctrlKey&&!0!==a.shiftKey||-1!=this.viewModel.cssClass.get().indexOf("unselectable")||(this.viewModel.cssClass.set(this.viewModel.cssClass.get()+" unselectable"),this.makeUnselectableNode(this["display-result-picker-list"],
"on"));return!1};b.prototype.handleKeyUp=function(a,b,e){!1===a.ctrlKey&&(this.viewModel.ctrlPressed=!1);!1===a.shiftKey&&(this.viewModel.shiftPressed=!1);if(!0===a.ctrlKey||!0===a.shiftKey)this.viewModel.cssClass.set(this.viewModel.cssClass.get().replace(" unselectable","")),this.makeUnselectableNode(this["display-result-picker-list"],"off");return!1};b.prototype.handleClick=function(a,b,e){this._firstEvent&&this._cancelLongPress&&(this._firstEvent=null,this._cancelLongPress());"A"!==a.target.tagName&&
this.viewModel.featureClicked(e);return!0};b.prototype.handleClearTextBox=function(a,b,e){this.viewModel.clearTextBox()};b.prototype.handleSelectAll=function(a,b,e){this.viewModel.selectAll()};b.prototype.handleSelectNone=function(a,b,e){this.viewModel.selectNone()};b.prototype.getDescription=function(a,b,e){b.title=e.description.get()};b.prototype.resolveWidget=function(a,b){e.prototype.resolveWidget.call(this,a,b);var g;if("GetLabel"===a)return g=new f.infrastructure.FeatureDescriptionPresenterView(this.app,
this.libraryId),g.contentField="label",g.root=dojo.create("div"),g.root.className="feature-label",g.attach(b),g;if("GetDescription"===a)return g=new f.infrastructure.FeatureDescriptionPresenterView(this.app,this.libraryId),g.root=dojo.create("div"),g.root.className="feature-description",g.attach(b),g;if("RenderComplexResultTemplate"===a&&"complex"===this.viewModel.resultTemplateComplexity)return g=this.app.viewManager.createView({markupResource:"Mapping/modules/Workflow/Templates/DisplayResultPickerComplexResultTemplateView.html",
type:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.templates.DisplayResultPickerResultTemplateView"}),g.app=this.app,g.libraryId=this.libraryId,g.parentView=this,g.attach(b),g;if("RenderSimpleResultTemplate"===a&&"simple"===this.viewModel.resultTemplateComplexity)return g=this.app.viewManager.createView({markupResource:"Mapping/modules/Workflow/Templates/DisplayResultPickerSimpleResultTemplateView.html",type:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.templates.DisplayResultPickerResultTemplateView"}),
g.app=this.app,g.libraryId=this.libraryId,g.parentView=this,g.attach(b),g};b.prototype.handleClickButton=function(a,b,e){e.causesValidation.get()&&0<this.viewModel.selectedFeatures.get().length||e.causesValidation.get()&&0==this.viewModel.features.get().length||!e.causesValidation.get()?(this.activityContext&&(this.activityContext.setValue("ButtonResultValue",e.value.get()),this.activityContext.setValue("SelectedIndices",this.viewModel.getSelectedIndices()),this.activityContext.completeActivity()),
this.workflowContainer&&(this.workflowContainer.hasContent.set(!1),this.app.viewManager.notifyDimensionsChanged(this.workflowContainer.view)),this.app.viewManager.destroyView(this)):this.viewModel.showError()};b.prototype.deactivated=function(){e.prototype.deactivated.call(this);this._deactivated()};b.prototype._deactivated=function(){dojo.forEach(this.onKeyDownHandle,dojo.disconnect);dojo.forEach(this.onKeyUpHandle,dojo.disconnect);this.onKeyDownHandle=[];this.onKeyUpHandle=[]};return b}(e.framework.ui.ViewBase);
k.DisplayResultPickerView=p})(k.workflow||(k.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){(function(f){f.render=function(b,a){b.attached_application=a;var d=a.viewManager.createView({type:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormView",markup:"Mapping/modules/Workflow/WorkflowFormView.html",visible:!0,region:null,libraryId:"Mapping"}),g=new e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormViewModel(a);g.initialize({});d.attach(g);d.configuration={};return d};f.getItemView=
function(b,a,d){var g=function(d,e){var g=b.viewManager.createView({type:e,markup:d,visible:!0,region:null,libraryId:"Mapping"});g.attach(a);return g};if(d&&d.hasOwnProperty(a.declaredClass))return d=d[a.declaredClass],g(d.markup,d.codebehind);d=b.configModel.widgetConfigs.filter(function(b){return b.id===a.formItemType});return 0<d.length?(g=d[0],d="WidgetView-{0}-{1}".format(g.id,e.framework.utils.alphaNumericToken()),d=new e.framework.config.ViewConfig(d,null,g.type),d.libraryId=g.libraryId,d.markupResource=
g.markup,d.configuration=g.configuration,g=b.viewManager.createView(d),g.attach(a),g):g("Mapping/modules/Workflow/Forms/Items/FormItemView.html","geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase")}})(f.FormRenderer||(f.FormRenderer={}))})(f.forms||(f.forms={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function b(d,e){a.call(this,d,e)}__extends(b,a);b.prototype.attach=function(b){if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));this.viewModel=b;this.addDisposableBinding(b.isValid,b.isValid.bind(this,function(a){this.calculateIndicatorDisplay()}));this.addDisposableBinding(b.isRequired,b.isRequired.bind(this,function(a){this.calculateIndicatorDisplay()}));
this.calculateIndicatorDisplay();a.prototype.attach.call(this,b)};b.prototype.calculateIndicatorDisplay=function(){this.viewModel.attached_showIndicator&&(this.viewModel.attached_showIndicator.set(!0===this.viewModel.isRequired.get()||!1===this.viewModel.isValid.get()),!1==this.viewModel.isValid.get()?this.viewModel.attached_indicatorClass.set("form-item invalid"):this.viewModel.attached_indicatorClass.set("form-item required"))};return b}(e.framework.ui.ViewBase);f.FormItemViewBase=b})(f.items||
(f.items={}))})(f.forms||(f.forms={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(h){(function(h){var b=function(a){function b(d,e){a.call(this,d,e);this.closeTimer=this.keyTraverseInterval=this.lastKeyEvent=this.positionIndex=this.timer=this.dropDownListElement=this.dropDownContainerElement=this.textElement=null;this._searchFocus=this._queryCancelled=!1;this.isBusy=new Observable(!1);this.positionIndex=0;this.keyTraverseInterval=25}__extends(b,a);b.prototype.attach=function(b){if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));
b.isDropDownOpen=new Observable(!1);b.attached_controlId=new Observable("textbox-{0}".format(e.framework.utils.alphaNumericToken()));b.queryTaskRunner&&(b.queryTaskRunner.formatCallback=f.WorkflowUtils.formatListItem);a.prototype.attach.call(this,b);this.lastKeyEvent=(new Date).getTime();this.addDisposableBinding(this.viewModel.dataItems,this.viewModel.dataItems.bind(this,function(a){this.isBusy.set(!1);0<this.viewModel.dataItems.getLength()?(this.positionIndex=0,this._queryCancelled||this.openDropDown()):
this.closeDropDown()}))};b.prototype.handleInputBlurEvent=function(a,b,d){var e=this;this.isBusy.set(!1);this._searchFocus=!1;this.closeTimer=setTimeout(function(){e._searchFocus||(e._queryCancelled=!0,e.viewModel.queryTaskRunner.triggerCascading(d.text.get()),e.closeDropDown())},750)};b.prototype.handleInputClickEvent=function(a,b,d){b.focus()};b.prototype.handleInputFocusEvent=function(a,b,d){this._queryCancelled=!1;this._searchFocus=!0};b.prototype.handleDropdownFocusEvent=function(a,b,d){var e=
this;setTimeout(function(){e._searchFocus=!0},100);null!=this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null);return!0};b.prototype.handleDropdownBlurEvent=function(a,b,d){this.closeDropDown();return!0};b.prototype.handleClickItem=function(a,b,d){this.viewModel.text.set(d.display);this.viewModel.queryTaskRunner.triggerCascading(d.display);this.closeDropDown()};b.prototype.openDropDown=function(){e.essentialsHtmlViewer.___userInAutoComplete=!0;this.viewModel.isDropDownOpen.set(!0);
this.positionIndex=-1;$(this.dropDownContainerElement).removeClass("inactive").addClass("active")};b.prototype.closeDropDown=function(){e.essentialsHtmlViewer.___userInAutoComplete=!1;this.viewModel.isDropDownOpen.set(!1);$(this.dropDownContainerElement).removeClass("active").addClass("inactive")};b.prototype.setDropDownPosition=function(a){a=Math.min(a,this.viewModel.dataItems.getLength()-1);dojo.removeClass(this.dropDownListElement,"autocomplete-highlight");this.positionIndex=Math.max(0,a);a=$("li",
this.dropDownListElement).eq(this.positionIndex);$(a).addClass("autocomplete-highlight");var b=this.viewModel.dataItems.getAt(this.positionIndex);b&&this.viewModel.text.set(b.display);0<a.length&&$(this.dropDownContainerElement).scrollTop($(this.dropDownContainerElement).scrollTop()+$(a).position().top-$(this.dropDownContainerElement).height()/2+$(a).height()/2)};b.prototype.handleDropdownKeyDown=function(a,b,d){return 13===a.which?this.handleKeyEvent(a,b,d):!0};b.prototype.handleKeyEvent=function(a,
b,d){b=(new Date).getTime();if(b-this.lastKeyEvent>this.keyTraverseInterval)if(this.lastKeyEvent=b,38===a.which||40===a.which)this.viewModel.isDropDownOpen.get()&&(40===a.which?this.setDropDownPosition(this.positionIndex+1):38===a.which&&this.setDropDownPosition(this.positionIndex-1));else{if(this.viewModel.isDropDownOpen.get()&&13===a.which){if(a=this.viewModel.dataItems.getAt(this.positionIndex))this.viewModel.text.set(a.display),this.viewModel.queryTaskRunner.triggerCascading(a.display);this.closeDropDown();
null!=this.timer&&clearInterval(this.timer);return!1}if(this.viewModel.isDropDownOpen.get()&&8===a.which)return this.closeDropDown(),this.viewModel.queryTaskRunner.triggerCascading(null),8==a.which&&this.trigger(),!1;if(9!==a.which&&37!==a.which&&39!==a.which){if(13===a.which)return this.viewModel.queryTaskRunner.triggerCascading(d.display),!1;this.trigger()}}return!0};b.prototype.trigger=function(){var a=this;null!=this.timer&&clearInterval(this.timer);this.textElement.value.length>=this.viewModel.minimumPrefixLength.get()&&
(this.timer=setTimeout(function(){a.filter(!1)},this.viewModel.minimumPopulateDelay.get()))};b.prototype.filter=function(a){null!=this.timer&&(clearInterval(this.timer),this.timer=null);this.closeDropDown();this.viewModel.queryTaskRunner.performQuery(this.textElement.value,a)};return b}(e.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase);h.AutoCompleteBoxFormItemView=b})(h.items||(h.items={}))})(f.forms||(f.forms={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules=
{}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function b(d,e){a.call(this,d,e)}__extends(b,a);b.prototype.attach=function(b){if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));b.attached_textOnLeft=new Observable(!1);this.addDisposableBinding(b.textLocation,b.textLocation.bind(this,function(a){b.attached_textOnLeft.set("left"===a.toLowerCase())}));b.textLocation.pulse();b.attached_controlId=new Observable("checkbox-{0}".format(e.framework.utils.alphaNumericToken()));
b.attached_labelText=null!=b.text?new Observable(b.text.get()):"";a.prototype.attach.call(this,b)};return b}(e.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase);f.CheckBoxFormItemView=b})(f.items||(f.items={}))})(f.forms||(f.forms={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){(function(k){(function(k){var b=function(a){function b(d,e){a.call(this,d,e);this.attached_style=new Observable("");this.attached_isHorizontal=new Observable(!1)}__extends(b,a);b.prototype.attach=function(b){var d=this;if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));b.attached_style=this.attached_style;b.attached_isHorizontal=this.attached_isHorizontal;b.hasOwnProperty("description")&&(e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowUtils.convertToHTMLSyntax(b.description),
b.description.set(f.infrastructure.FilterUtils.sanitize(b.description.get(),{allowFrames:!0,uriTransformer:function(a){return a}})));var k=this.configuration&&void 0!==this.configuration.allowHorizontal;this.auto(b.orientation,this,function(a){a="Horizontal"===b.orientation.get();d.attached_style.set(void 0);d.attached_isHorizontal.set(a&&k)});b.orientation.pulse();this._attachVisibilityControls(b);a.prototype.attach.call(this,b)};b.prototype._attachVisibilityControls=function(a){var b=this;if(!a)throw Error("A view model must be specified to attach to.");
if(a.visibleControlID.get()){var d=a.formDefinition.getFormItemById(a.visibleControlID.get());d&&(a.applyVisibility(d),this.resultChangeSubscription||(this.resultChangeSubscription=dojo.subscribe("FormItemResultChangedEvent",function(f){if(f===d&&(f=a.isVisible.get(),a.applyVisibility(d),f!==a.isVisible.get())){var h=b.app.viewManager.getRegionForViewId(b.id);b.app.event("ViewDimensionsChangedEvent").publish(new e.framework.events.ViewDimensionsChangedArgs(b,h));h=a.getDisplayName();f="language-accessibility-form-{0}-container-{1}".format(h?
"named":"unnamed",f?"hidden":"shown");f=b.app.getResource(b.libraryId,f).format(h);b.app.command("ScreenReaderNarrate").execute(f)}})))}};b.prototype.onDestroy=function(){a.prototype.onDestroy.call(this);this.resultChangeSubscription&&dojo.unsubscribe(this.resultChangeSubscription)};return b}(e.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase);k.ContainerFormItemView=b})(k.items||(k.items={}))})(k.forms||(k.forms={}))})(k.workflow||(k.workflow={}))})(f.modules||(f.modules=
{}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function b(d,e){a.call(this,d,e);this._lastClearedTime=this.attached_hour=this.attached_minute=this.attached_second=this.attached_hours=this.attached_minutes=this.attached_seconds=null}__extends(b,a);b.prototype.attach=function(b){var d=this;if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));b.attached_controlId=new Observable("timepicker-{0}".format(e.framework.utils.alphaNumericToken()));
b.attached_time=this.attached_time=new Observable;b.attached_timeIsNull=new Observable(!1);b.attached_timeIsNull.syncTransform(b.time,function(a){return null==a});this._buildComboBoxes(b);a.prototype.attach.call(this,b);setTimeout(function(){d.viewModel.date?d.setPickerDateTime(d.viewModel.date.get()):d.viewModel.time&&d.setPickerDateTime(d.viewModel.time.get())},1)};b.prototype._buildComboBoxes=function(a){this.attached_seconds=new ObservableCollection([]);this.attached_minutes=new ObservableCollection([]);
this.attached_hours=new ObservableCollection([]);this.attached_second=new Observable(0);this.attached_minute=new Observable(0);this.attached_hour=new Observable(0);for(var b=[],d=[],e=[],f=0;24>f;++f)b.push({val:f,desc:"{0}".format(f)});this.attached_hours.addItems(b);for(f=0;60>f;++f)d.push(f),e.push(f);this.attached_minutes.addItems(d);this.attached_seconds.addItems(e);a.attached_seconds=this.attached_seconds;a.attached_minutes=this.attached_minutes;a.attached_hours=this.attached_hours;a.attached_second=
this.attached_second;a.attached_minute=this.attached_minute;a.attached_hour=this.attached_hour};b.prototype.setPickerDateTime=function(a){null!=a?(this.attached_second.set(a.getSeconds()),this.attached_minute.set(a.getMinutes()),this.attached_hour.set(a.getHours())):(this.attached_second.set(null),this.attached_minute.set(null),this.attached_hour.set(null),$(this.selectContainerElement).find("select").val([]))};b.prototype.handleChangeComboBoxTime=function(){var a;a=this.viewModel.time?this.viewModel.time.get():
this.viewModel.date?this.viewModel.date.get():new Date;null!=this.attached_hour.get()||null!=this.attached_minute.get()||null!=this.attached_second.get()?(null==a&&(a=new Date,a.setMilliseconds(0)),null==this.attached_hour.get()&&this.attached_hour.set(a.getHours()),null==this.attached_minute.get()&&this.attached_minute.set(a.getMinutes()),null==this.attached_second.get()&&this.attached_second.set(a.getSeconds()),a.setHours(this.attached_hour.get()),a.setMinutes(this.attached_minute.get()),a.setSeconds(this.attached_second.get())):
a=null;this.viewModel.time?this.viewModel.time.set(a):this.viewModel.date&&this.viewModel.date.set(a)};b.prototype.handleClickSetNull=function(){this.viewModel.time.get()&&(this._lastClearedTime=this.viewModel.time.get());this.viewModel.time.set(null);this.setPickerDateTime(null)};b.prototype.handleClickSetNotNull=function(){if(null!=this._lastClearedTime)this.viewModel.time.set(this._lastClearedTime),this.setPickerDateTime(this._lastClearedTime),this._lastClearedTime=null;else{var a=new Date;this.viewModel.time.set(a);
this.setPickerDateTime(a)}};return b}(e.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase);f.TimePickerFormItemView=b})(f.items||(f.items={}))})(f.forms||(f.forms={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){(function(f){var b=e.essentialsHtmlViewer.mapping.infrastructure.DateFormat,a=e.essentialsHtmlViewer.mapping.infrastructure.FormatUtils,d=function(d){function f(a,e){d.call(this,a,e);this.attached_year=this.attached_month=this.attached_day=this.attached_years=this.attached_months=this.attached_days=this.attached_pickerType=null;this.selectElementCount=11;this._lastClearedDate=null;this._daysPerMonth={0:31,1:28,2:31,3:30,
4:31,5:30,6:31,7:31,8:30,9:31,10:30,11:31};this._dateTimePickerType={comboPicker:"combos",comboDateTimePicker:"combos_datetime",nativePicker:"native",nativeDateTimePicker:"native_datetime",nativeDateComboTimePicker:"native_date_combo_time",jQueryPicker:"jQuery",nativeDateJQueryTimePicker:"native_date_jQuery_time"};this._dateFormat=b.DATE_TIME_SHORT}__extends(f,d);f.prototype.attach=function(a){var b=this;if(!a)throw Error("{0}: A view model must be specified to attach to.".format(this.id));a.attached_controlId=
new Observable("datepicker-{0}".format(e.framework.utils.alphaNumericToken()));this.attached_pickerType=new Observable(this._dateTimePickerType.comboPicker);a.attached_isNull=new Observable(!1);a.attached_isNull.syncTransform(a.date,function(a){return null==a});var f=-1<navigator.userAgent.indexOf("Android")&&-1<navigator.userAgent.indexOf("Mobile Safari")&&!(-1<navigator.userAgent.indexOf("Chrome")),h=-1<navigator.userAgent.indexOf("Android")&&-1<navigator.userAgent.indexOf("Firefox"),k=navigator.userAgent.match(/(iPad|iPhone|iPod)/gi)?
!0:!1;!Modernizr||!Modernizr.inputtypes.date||-1<navigator.userAgent.indexOf("Chrome")||f||h?Modernizr.touch?(this.attached_pickerType.set(this._dateTimePickerType.comboPicker),!0===a.includeTimePicker.get()&&this.attached_pickerType.set(this._dateTimePickerType.comboDateTimePicker)):this.attached_pickerType.set(this._dateTimePickerType.jQueryPicker):(this.attached_pickerType.set(this._dateTimePickerType.nativePicker),!0===a.includeTimePicker.get()&&(Modernizr.inputtypes.datetime&&!k?this.attached_pickerType.set(this._dateTimePickerType.nativeDateTimePicker):
this.attached_pickerType.set(this._dateTimePickerType.nativeDateComboTimePicker)));a.attached_pickerType=this.attached_pickerType;this.viewModel=a;this.attached_days=new ObservableCollection([]);this.attached_months=new ObservableCollection([]);this.attached_years=new ObservableCollection([]);this.attached_day=new Observable(1);this.attached_month=new Observable(1);this.attached_year=new Observable(2E3);a.attached_days=this.attached_days;a.attached_months=this.attached_months;a.attached_years=this.attached_years;
a.attached_day=this.attached_day;a.attached_month=this.attached_month;a.attached_year=this.attached_year;this._buildComboBoxes(a);setTimeout(function(){b.viewModel.date?b.setPickerDateTime(b.viewModel.date.get()):b.viewModel.time&&b.setPickerDateTime(b.viewModel.time.get())},1);this._syncComboBoxes();d.prototype.attach.call(this,a);this._createjQueryPicker()};f.prototype._syncComboBoxes=function(){for(var a=[this.attached_day,this.attached_month,this.attached_year],b=0;b<a.length;++b)a[b].bind(this,
dojo.hitch(this,this._calcTime))};f.prototype._isLeapYear=function(a){return 0===a%400?!0:0===a%100?!1:0===a%4?!0:!1};f.prototype._calcTime=function(){var a=this.attached_month.get();if(null!=a){var b=this._daysPerMonth[a];1===a&&(b=29);if(this.attached_days.getLength()<b)for(a=this.attached_days.getLength();a<b;++a)this.attached_days.addItem(a+1);else this.attached_days.removeRange(b)}};f.prototype.setPickerDateTime=function(a){d.prototype.setPickerDateTime.call(this,a);if(null!=a)this.attached_day.set(a.getDate()),
this.attached_month.set(a.getMonth()),this.attached_year.set(a.getFullYear());else{this.attached_day.set(null);this.attached_month.set(null);this.attached_year.set(null);for(var b=0;b<=this.selectElementCount;b++)this["select"+b]&&(this["select"+b].selectedIndex=-1)}this.native_datetime_element&&(this.native_datetime_element.valueAsDate=a);this.native_date_element&&(this.native_datetime_element.valueAsDate=a);if(this.attached_pickerType.get()===this._dateTimePickerType.jQueryPicker||this.attached_pickerType.get()===
this._dateTimePickerType.nativeDateJQueryTimePicker)$(this.jQueryPicker,this.root).datetimepicker("setDate",a),this._updatejQueryFormattedInput(a)};f.prototype.handleChangeComboBoxTime=function(){var a=this.viewModel.date.get();null!=this.attached_year.get()||null!=this.attached_month.get()||null!=this.attached_day.get()||this.viewModel.includeTimePicker.get()&&(null!=this.attached_hour.get()||null!=this.attached_minute.get()||null!=this.attached_second.get())?(a||(a=new Date,this.viewModel.includeTimePicker.get()||
(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0))),null==this.attached_year.get()&&this.attached_year.set(a.getFullYear()),null==this.attached_month.get()&&this.attached_month.set(a.getMonth()),null==this.attached_day.get()&&this.attached_day.set(a.getDate()),a.setFullYear(this.attached_year.get()),a.setMonth(this.attached_month.get()),a.setDate(this.attached_day.get()),this.viewModel.includeTimePicker.get()&&(null==this.attached_hour.get()&&this.attached_hour.set(a.getHours()),
null==this.attached_minute.get()&&this.attached_minute.set(a.getMinutes()),null==this.attached_second.get()&&this.attached_second.set(a.getSeconds()),a.setHours(this.attached_hour.get()),a.setMinutes(this.attached_minute.get()),a.setSeconds(this.attached_second.get()))):a=null;this.viewModel.date.set(a)};f.prototype.handleChangeComboBoxTimeWithNativeDate=function(){var a=this.viewModel.date.get();a||(a=new Date);null==this.attached_hour.get()&&this.attached_hour.set(a.getHours());null==this.attached_minute.get()&&
this.attached_minute.set(a.getMinutes());null==this.attached_second.get()&&this.attached_second.set(a.getSeconds());a.setHours(this.attached_hour.get());a.setMinutes(this.attached_minute.get());a.setSeconds(this.attached_second.get());this.viewModel.date.set(a)};f.prototype._createjQueryPicker=function(){var a=this;e.essentialsHtmlViewer.mapping.modules.workflow.forms.items.DatePickerFormItemView.localizedJqueryDatepicker||this._localizeJqueryDatepicker();$(this.jQueryPicker,this.root).blur();var d=
{dateFormat:"yy-mm-dd",showOn:"button",changeYear:!0,yearRange:"c-50:c+50",onClose:function(b,d){a.disabled=!0;a.readOnly=!0},onChangeMonthYear:function(b,d,e){e=e.selectedDay;var f=null;a.viewModel.date.get()?f=new Date(b,d-1,e,a.viewModel.date.get().getHours(),a.viewModel.date.get().getMinutes(),a.viewModel.date.get().getSeconds()):(f=new Date,f=new Date(b,d-1,e,f.getHours(),f.getMinutes(),f.getSeconds()));a.viewModel.date.set(f)},beforeShow:function(b,d){a.disabled=!0;a.readOnly=!0;var e=$(a.jQueryFormattedInput,
a.root).offset().left-$(d.input).siblings(".ui-datepicker-trigger").offset().left;$(d.dpDiv).css("marginLeft",e)}};this.attached_pickerType.get()===this._dateTimePickerType.jQueryPicker?(d.onSelect=function(b,d){var e=$(a.jQueryPicker,a.root).datepicker("getDate");a.viewModel.date.set(e);a._updatejQueryFormattedInput(e)},this.viewModel.includeTimePicker.get()?("Long"===this.viewModel.dateFormat.get()?this._dateFormat=b.DATE_TIME_LONG:"Short"===this.viewModel.dateFormat.get()?this._dateFormat=b.DATE_TIME_SHORT:
this.viewModel.dateFormat.get()?this._dateFormat=this.viewModel.dateFormat.get():this._dateFormat=b.DATE_TIME_SHORT,d.timeFormat="Short"===this.viewModel.timePickerItem.timeFormat.get()?"HH:mm":"HH:mm:ss",d.gcxTimeFormat="Short"===this.viewModel.timePickerItem.timeFormat.get()?b.TIME_SHORT:b.TIME_LONG,d.showSecond="LongTime"===this.viewModel.timePickerItem.timeFormat.get()):("Long"===this.viewModel.dateFormat.get()?this._dateFormat=b.DATE_LONG:"Short"===this.viewModel.dateFormat.get()?this._dateFormat=
b.DATE_SHORT:this.viewModel.dateFormat.get()?this._dateFormat=this.viewModel.dateFormat.get():this._dateFormat=b.DATE_SHORT,d.hourMin=0,d.hourMax=0,d.minuteMin=0,d.minuteMax=0,d.showHour=!1,d.showMinute=!1,d.showTime=!1,d.timeFormat=""),$(this.jQueryPicker,this.root).datetimepicker(d),$(this.jQueryPicker,this.root).datetimepicker("setDate",this.viewModel.date.get())):this.attached_pickerType.get()===this._dateTimePickerType.nativeDateJQueryTimePicker&&(this._dateFormat="Short"===this.viewModel.timePickerItem.timeFormat.get()?
b.TIME_SHORT:b.TIME_LONG,d.timeFormat="Short"===this.viewModel.timePickerItem.timeFormat.get()?"HH:mm":"HH:mm:ss",d.gcxTimeFormat="Short"===this.viewModel.timePickerItem.timeFormat.get()?b.TIME_SHORT:b.TIME_LONG,d.showSecond="LongTime"===this.viewModel.timePickerItem.timeFormat.get(),d.onSelect=function(b,d){var e=$(a.jQueryPicker,a.root).datepicker("getDate"),f=a.viewModel.date.get();f.setHours(e.getHours());f.setMinutes(e.getMinutes());f.setSeconds(e.getSeconds());a.viewModel.date.set(f);a.setPickerDateTime(f)},
$(this.jQueryPicker,this.root).timepicker(d),$(this.jQueryPicker,this.root).timepicker("setDate",this.viewModel.date.get()));this._updatejQueryFormattedInput(this.viewModel.date.get());$.datepicker._doKeyDown&&(d=$(this.jQueryFormattedInput,this.root),d.data("datepicker",$(this.jQueryPicker,this.root).data("datepicker")),d.keydown($.datepicker._doKeyDown),d.keypress($.datepicker._doKeyPress),d.keyup($.datepicker._doKeyUp))};f.prototype._updatejQueryFormattedInput=function(b){b?(b=a.formatDate(b,this._dateFormat),
$(this.jQueryFormattedInput,this.root).val(b)):$(this.jQueryFormattedInput,this.root).val("")};f.prototype._localizeJqueryDatepicker=function(){var a=this.getResource("datepicker.regional"),b=this.getResource("timepicker.regional");a&&$.datepicker.setDefaults(a);b&&$.timepicker.setDefaults(b);e.essentialsHtmlViewer.mapping.modules.workflow.forms.items.DatePickerFormItemView.localizedJqueryDatepicker=!0};f.prototype._buildComboBoxes=function(a){d.prototype._buildComboBoxes.call(this,a);a=[];for(var b=
1900;2100>=b;++b)a.push(b);this.attached_years.set(a);a=[];for(b=0;12>b;++b){var e="language-months-{0}".format(b);a.push({value:b,name:this.app.getResource(this.libraryId,e)})}this.attached_months.set(a);a=[];for(b=1;32>b;++b)a.push(b);this.attached_days.set(a)};f.prototype.handleClickSetNull=function(){this.viewModel.date.get()&&(this._lastClearedDate=this.viewModel.date.get());this.viewModel.date.set(null);this.setPickerDateTime(null)};f.prototype.handleClickSetNotNull=function(){if(null!=this._lastClearedDate)this.viewModel.date.set(this._lastClearedDate),
this.setPickerDateTime(this._lastClearedDate),this._lastClearedDate=null;else{var a=new Date;this.viewModel.date.set(a);this.setPickerDateTime(a)}};f.prototype.handleJqueryDatePickerTextChanged=function(d,e,f){e="";if(e=d.currentTarget?d.currentTarget.value:d.target.value)d=[this._dateFormat],this.viewModel.includeTimePicker.get()?d.concat([b.DATE_TIME_LONG,b.DATE_TIME_SHORT]):d.concat([b.DATE_LONG,b.DATE_SHORT]),d=a.parseDate(e,d),isNaN(d.getTime())&&(d=new Date),this.viewModel.date.get()&&d.getTime()==
this.viewModel.date.get().getTime()||(this.viewModel.date.set(d),this.setPickerDateTime(d),this.handleChangeComboBoxTime())};f.prototype.handleJqueryTimePickerTextChanged=function(d,e,f){e="";if(e=d.currentTarget?d.currentTarget.value:d.target.value)d=a.parseDate(e,[b.TIME_LONG,b.TIME_SHORT]),isNaN(d.getTime())&&(d=new Date),(e=this.viewModel.date.get())||(e=new Date),e.setHours(d.getHours()),e.setMinutes(d.getMinutes()),e.setSeconds(d.getSeconds()),this.viewModel.date.set(e),this.setPickerDateTime(e)};
f.localizedJqueryDatepicker=!1;return f}(e.essentialsHtmlViewer.mapping.modules.workflow.forms.items.TimePickerFormItemView);f.DatePickerFormItemView=d})(f.items||(f.items={}))})(f.forms||(f.forms={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function b(d,e){a.call(this,d,e)}__extends(b,a);b.prototype.attach=function(b){if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));b.attached_controlId=new Observable("filepicker-{0}".format(e.framework.utils.alphaNumericToken()));a.prototype.attach.call(this,b)};b.prototype.handleChange=function(a,b,d){var f=this;this.viewModel.files.clear();b=function(a){var b=
a.name,d=a.size,g=a.type,h=new FileReader;h.onload=function(a){var h=new e.forms.FileItem;h.fileName=b;h.fileSize=d;h.fileType=g;h.fileDataBase64=decodeURIComponent(a.target.result.substring(a.target.result.indexOf("base64,")+7));f.viewModel.files.addItem(h)};h.readAsDataURL(a)};for(d=0;d<a.currentTarget.files.length;d++)b(a.currentTarget.files[d])};b.prototype.handleClearClick=function(a,b,d){this.viewModel.clear()};return b}(e.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase);
f.FilePickerFormItemView=b})(f.items||(f.items={}))})(f.forms||(f.forms={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function b(d,e){a.call(this,d,e)}__extends(b,a);b.prototype.attach=function(b){if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));a.prototype.attach.call(this,b)};return b}(e.essentialsHtmlViewer.mapping.modules.workflow.forms.items.ContainerFormItemView);f.GroupBoxFormItemView=b})(f.items||(f.items={}))})(f.forms||(f.forms={}))})(f.workflow||(f.workflow=
{}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){var b=function(a){function b(d,e){a.call(this,d,e)}__extends(b,a);b.prototype.attach=function(b){if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));a.prototype.attach.call(this,b)};b.prototype.handleClick=function(a,b,d){this.viewModel.wasClicked.set(!0);return this.app.followNavigationLink({url:d.uri,element:b})};return b}(e.FormItemViewBase);e.HyperlinkFormItemView=b})(e.items||
(e.items={}))})(e.forms||(e.forms={}))})(e.workflow||(e.workflow={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(h){(function(h){var b=function(a){function b(d,e){a.call(this,d,e);this.selectionBindingToken=this.selectedBindingToken=this.selectionChangedTimer=null}__extends(b,a);b.prototype.attach=function(b){var d=this;if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));b.attached_controlId=new Observable("formitem-{0}".format(e.framework.utils.alphaNumericToken()));if(b.selectionMode){var h=b.selectionMode.get().toLowerCase();
b.attached_isMultiple=new Observable("multiple"===h.toLowerCase()||"extended"==h.toLowerCase())}b.selected&&!this.selectedBindingToken?this.selectedBindingToken=b.selected.bind(this,function(){0<=b.selected.get()&&this.handleSelectionChanged()}):b.selection&&!this.selectionBindingToken&&(this.selectionBindingToken=b.selection.bind(this,function(){0<b.selection.length()&&this.handleSelectionChanged()}));b.queryTaskRunner&&(b.queryTaskRunner.formatCallback=f.WorkflowUtils.formatListItem);a.prototype.attach.call(this,
b);$(this.selectElement).dblclick(function(){d.app.command("SubmitWorkflowForm").execute(d.viewModel.formDefinition)})};b.prototype.handleSelectionChanged=function(a,b,d){var e=this;null!=this.selectionChangedTimer&&(clearInterval(this.selectionChangedTimer),this.selectionChangedTimer=null);this.selectionChangedTimer=setTimeout(function(){!1===e.viewModel.queryTaskRunner.isBusy.get()&&(e.viewModel.triggerCascading(null),e.selectionChangedTimer=null)},450);return!0};return b}(e.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase);
h.ListBoxFormItemView=b})(h.items||(h.items={}))})(f.forms||(f.forms={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){(function(k){(function(k){var b=function(a){function b(d,e){a.call(this,d,e);this.markdownElement=null}__extends(b,a);b.prototype.attach=function(b){if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));a.prototype.attach.call(this,b);b=(new Remarkable({breaks:!0})).render(b.plainText.get());b=f.infrastructure.FilterUtils.sanitize(b,{uriTransformer:function(a){return a}});this.markdownElement.innerHTML=
b};return b}(e.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase);k.MarkdownFormItemView=b})(k.items||(k.items={}))})(k.forms||(k.forms={}))})(k.workflow||(k.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function b(d,e){a.call(this,d,e)}__extends(b,a);b.prototype.attach=function(b){var d=this;if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));b.attached_textOnLeft=new Observable(!1);this.addDisposableBinding(b.textLocation,b.textLocation.bind(this,function(a){b.attached_textOnLeft.set("left"===a.toLowerCase())}));b.textLocation.pulse();b.attached_controlId=
new Observable("radio-{0}".format(e.framework.utils.alphaNumericToken()));b.attached_labelText=null!=b.text?new Observable(b.text.get()):"";a.prototype.attach.call(this,b);this.radioElement&&(this.radioElement.checked=b.checked.get(),$(this.radioElement).change(function(){b.checked.set(this.checked)}));this.viewModel.__getRadioValueClosure=function(){var a=d.radioElement;return a?a.checked:!1};return!0};return b}(e.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase);f.RadioButtonFormItemView=
b})(f.items||(f.items={}))})(f.forms||(f.forms={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){e.handleCaptureGeometry=function(e,b){function a(a,d,e){e.deactivate();dojo.disconnect(d);f.setDrawObjectContext(null);b.setValue("Result",a);b.completeActivity()}function d(b){var d;switch(b){case 0:d=esri.toolbars.Draw.EXTENT;break;case 1:d=esri.toolbars.Draw.FREEHAND_POLYGON;break;case 2:d=esri.toolbars.Draw.FREEHAND_POLYLINE;break;case 3:d=esri.toolbars.Draw.LINE;break;case 4:d=esri.toolbars.Draw.POINT;break;case 5:d=
esri.toolbars.Draw.MULTI_POINT;break;case 6:d=esri.toolbars.Draw.POLYGON;break;case 7:d=esri.toolbars.Draw.POLYLINE;break;case 8:a(k.extent,p,m);y=!1;break;default:d=esri.toolbars.Draw.EXTENT}return d}var f=b.dispatcher();if(!f.abortMapBasedActivity())throw Error("Could not deactivate current map based activity.");e.app.command("ClearActiveTool").execute();var h=b.getValue("CaptureType"),k=b.getEsriMap();if(null!=k){if("function"!=typeof esri.toolbars.Draw)throw Error('dojo.require("esri.toolbars.draw") must be added to your client code to use CaptureGeometry activity.');
var m=e.app.accessibilityManager.createComponent("geocortex.accessibility.draw",k),p=dojo.connect(m,"onDrawEnd",dojo.hitch(p,function(b){a(b,p,m)})),y=!0,h=d(h);y&&m.activate(h)}else throw Error("Capture Geometry: No map available.");f.setDrawObjectContext({activityContext:b,toolbar:m,drawEvent:p})}})(e.WorkflowHandlers||(e.WorkflowHandlers={}))})(e.workflow||(e.workflow={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){e.handleCollectExternalEventArgs=function(e,b){var a=b.getValue("EventName"),d=b.getValue("WaitForEvent"),f=b.getValue("WaitTimeout");if(e._eventListenersResults.hasOwnProperty(a))if(e._eventListenersResults[a])b.setValue("EventArgs",e._eventListenersResults[a]),b.completeActivity();else if(d)if(0<f)window.setTimeout(function(){b.setValue("EventArgs",e._eventListenersResults[a]);b.completeActivity()},f);else{var h=function(){e._eventListenersResults[a]?
(b.setValue("EventArgs",e._eventListenersResults[a]),b.completeActivity()):window.setTimeout(h,2E3)};h()}else b.completeActivity();else b.completeActivity()}})(e.WorkflowHandlers||(e.WorkflowHandlers={}))})(e.workflow||(e.workflow={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){e.handleAlert=function(e,b){var a=b.getValue("Title"),d=b.getValue("Text");e.app.command("Alert").execute(d,a,function(){b.completeActivity()})}})(e.WorkflowHandlers||(e.WorkflowHandlers={}))})(e.workflow||(e.workflow={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){(function(f){var b=function(a){function b(){a.apply(this,arguments)}__extends(b,a);b.prototype.attach=function(b){if(!b)throw Error("{0}: A view model must be specified to attach to.".format(this.id));b.attached_controlId=new Observable("formitem-{0}".format(e.framework.utils.alphaNumericToken()));null!=b.inputScope&&("Password"===b.inputScope.get()?b.attached_type=new Observable("password"):b.attached_type=new Observable("text"));
a.prototype.attach.call(this,b)};b.prototype.handleBlurControl=function(){this.app.event("WorkflowFormTextInputBlurredEvent").publish(this)};return b}(e.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase);f.TextEntryFormItemView=b})(f.items||(f.items={}))})(f.forms||(f.forms={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){f.handleConfigureWorkflowContainer=function(f,b){var a=b.getValue("WorkflowContainerName"),d=b.getValue("ShowContainer"),g=b.getValue("IsBusy"),h=b.getValue("Message"),k=b.getValue("Title"),m=b.getValue("IconUri");m&&(m=e.essentials.RestHelper.processClientSideTokens(b.getSite(),m),0==m.indexOf("/")&&(m=m.substring(1)));var p=f.getOrCreateContainer(a);f._containerConfigs[a]=p;null!=k&&p.title.set(k);null!=g&&p.busy.set(g);
null!=h&&(p.message.set(h),p.hasContent.set(!1),p.view&&f.app.viewManager.notifyDimensionsChanged(p.view));m&&p.iconUri.set(f.remapWorkflowContainerIconUri(m));p.view||f.createContainerView(p,b);d?f.app.viewManager.activateView(p.view):!1===d&&f.app.viewManager.deactivateView(p.view);b.completeActivity()}})(f.WorkflowHandlers||(f.WorkflowHandlers={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||
(geocortex={}));(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){e.handleConfirm=function(e,b){var a=b.getValue("Title"),d=b.getValue("Text");e.app.command("Confirm").execute(d,a,function(a){b.setValue("Result",a||!1);b.completeActivity()})}})(e.WorkflowHandlers||(e.WorkflowHandlers={}))})(e.workflow||(e.workflow={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){f.handleDisplayForm=function(f,b){var a=b.workflow(),d=b.getValue("RegionName"),g=b.getValue("WorkflowContainerName"),h=new Observable(f._defaultContainerTitle),k=null,m=b.getInputNamesByType("System.Collections.Generic.IEnumerable`1[[Geocortex.Forms.Client.DataItem"),p={};if(null!=m&&0<m.length)for(var y=0;y<m.length;++y){var u=b.getValue(m[y]);if(null!=u){for(var w=[],t=0;t<u.length;++t)w.push(new e.forms.DataItem(u[t].Display,
u[t].Value,u[t].TypeName));p[m[y]]=w}}y=b.getValue("InputGeometry");m=b.getValue("FormDefinition");p=new e.forms.FormDefinition(m,p,y);u=b.getValue("Buttons");m=[];if(null!=u)for(y=0;y<u.length;y++)m.push(new e.forms.FormButton(u[y].Label,u[y].Value,u[y].CausesValidation,u[y].IsDefault));else String.isNullOrEmpty(d)&&String.isNullOrEmpty(g)&&(m.push(new e.forms.FormButton("OK","OK",!0,!0)),m.push(new e.forms.FormButton("Cancel","Cancel",!1,!1)));null!=g?(k=f.getOrCreateContainer(g),d=k.internalRegionName,
h=k.title):d&&f.app.viewManager.getExistingRegionByName(d)||(d="ModalWindowRegion");y={typeName:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormView",markupResource:"Mapping/modules/Workflow/WorkflowFormView.html",isVisible:!0,regionName:null,libraryId:f.libraryId,iconUri:k&&k.iconUri?k.iconUri.get():f._defaultContainerIconUri,configuration:{}};y.configuration.activityContext=b;y.configuration.workflowContainer=k;g=new e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormViewModel(f.app,
f.libraryId);g.activityContext=b;g.initialize({showTitleInFormBody:null==f.configuration?!1:f.configuration.showTitleInFormBody||!1,formDefinition:p,buttons:m});k?(a=f.app.viewManager.createView(y),a.attach(g),h=g.title&&!String.isNullOrEmpty(g.title.get())?g.title:h,f.displayContainerContent(a,k,h,b)):(f.cleanupViewsForWorkflow(a),y.regionName=d,a=f.app.viewManager.createView(y),a.attach(g),a.configuration={},f.app.viewManager.activateView(a))}})(f.WorkflowHandlers||(f.WorkflowHandlers={}))})(f.workflow||
(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){f.handleDisplayCaptureGeometry=function(f,b){var a=null,d=null,g=null,h=null;b.workflow();var k=b.getValue("Title"),a=b.getValue("WorkflowContainerName"),h=f.configuration&&f.configuration.showTitleInFormBody,m=new Observable(f._defaultContainerTitle);if(a){f.app.command("ClearActiveTool").execute();a=f.getOrCreateContainer(a);k?m.set(k):a.title&&m.set(a.title.get());g="MapPoint MultiPoint FreehandPolyline Polygon Polyline Extent CurrentExtent".split(" ");
k={};for(d=0;d<g.length;d++){var p=g[d];k[p]="geometry-type-"+p.toLowerCase()}d={typeName:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.DisplayCaptureGeometryView",markupResource:"Mapping/modules/Workflow/DisplayCaptureGeometryView.html",isVisible:!0,regionName:null,libraryId:f.libraryId,iconUri:f._defaultContainerIconUri};g=new e.essentialsHtmlViewer.mapping.modules.workflow.DisplayCaptureGeometryViewModel(f.app,f.libraryId);g.activityContext=b;g.libraryId=f.libraryId;g.hideShowContainer=
a.hideForMapInteraction||!1;g.geometryTypeCssDictionary=k;g.title.set(m.get());g.initialize({showTitleInFormBody:h});void 0!=f.configuration.showCaptureStatusMessages&&(g.showCaptureStatusMessages=f.configuration.showCaptureStatusMessages);h=f.app.viewManager.createView(d);h.activityContext=b;h.workflowContainer=a;h.viewModel=g;f.displayContainerContent(h,a,m,b)}else f.app.trace.error("Error parsing activity context. WorkflowContainerName is a required value and is not supplied.")}})(f.WorkflowHandlers||
(f.WorkflowHandlers={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){f.handleDisplayHyperlink=function(f,b){b.workflow();var a=b.getValue("WorkflowContainerName"),d=b.getValue("Buttons"),g=b.getValue("Title"),h=new Observable(f._defaultContainerTitle),k=null;!a&&f&&(a=f.defaultContainerName);null!=a&&(k=f.getOrCreateContainer(a));h.set(g);a=f.app.viewManager.createView({markup:"Mapping/modules/Workflow/DisplayHyperlinkView.html",type:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.DisplayHyperlinkView",
isVisible:!0,libraryId:f.libraryId,iconUri:f._defaultContainerIconUri});a.activityContext=b;a.workflowContainer=k;g=new e.essentialsHtmlViewer.mapping.modules.workflow.DisplayHyperlinkViewModel(f.app,f.libraryId);g.activityContext=b;g.app=f.app;g.libraryId=f.libraryId;var m=f.configuration&&f.configuration.showTitleInFormBody;g.title.set(h.get());g.initialize({buttons:d,showTitleInBody:m});a.attach(g);f.displayContainerContent(a,k,h,b)}})(f.WorkflowHandlers||(f.WorkflowHandlers={}))})(f.workflow||
(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){(function(k){var l=f.infrastructure.FormatUtils;k.handleDisplayResultPicker=function(b,a){a.workflow();var d=a.getValue("WorkflowContainerName"),g=a.getValue("Buttons"),k=a.getValue("FeatureSet"),m=a.getValue("MapServiceId"),p=a.getValue("LayerId"),B=a.getValue("LayerName"),y=a.getValue("DescriptionFormat"),u=a.getValue("LabelFormat"),w="extended";switch(a.getValue("SelectionMode")){case 0:w="single";break;case 1:w="multiple";break;
case 2:w="extended"}var t=a.getValue("ShowIcons"),z=a.getValue("Title"),s=new Observable(b._defaultContainerTitle),v=null,x=null;!d&&b&&(d=b.defaultContainerName);null!=d&&(v=b.getOrCreateContainer(d));z?s.set(z):v.title&&s.set(v.title.get());m&&(d=a.getSite().essentialsMap.findMapServiceById(m))&&(p?x=d.findLayerById(p):B&&(x=d.findLayerByName(B)));if(k&&k.fields)for(p=0;p<k.fields.length;p++)if(B=k.fields[p],"esriFieldTypeDate"===B.type)for(d=0;d<k.features.length;d++)m=k.features[d],m.attributes[B.alias]?
m.attributes[B.alias]=l.parseDate(m.attributes[B.alias]):m.attributes[B.name]&&(m.attributes[B.name]=l.parseDate(m.attributes[B.name]));k=new f.infrastructure.FeatureSet({esriFeatureSet:k,layer:x});x="extended"===w||"multiple"===w;for(p=0;p<k.features.length();p++)B=e.essentialsHtmlViewer.mapping.modules.workflow.generateDisplayResultPickerFeaturefromFeature(k.features.getAt(p)),B.showCheckbox=x,t||(B.showIcon=t),y&&B.descriptionFormat.set(y),u&&B.labelFormat.set(u);y=b.app.viewManager.createView({markup:"Mapping/modules/Workflow/DisplayResultPickerView.html",
type:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.DisplayResultPickerView",isVisible:!0,libraryId:b.libraryId,iconUri:b._defaultContainerIconUri});y.activityContext=a;y.workflowContainer=v;u=new e.essentialsHtmlViewer.mapping.modules.workflow.DisplayResultPickerViewModel(b.app,b.libraryId,k);u.activityContext=a;u.selectionMode=w;u.app=b.app;u.libraryId=b.libraryId;w=b.configuration&&!!b.configuration.showTitleInFormBody;u.title.set(s.get());t=b.configuration.displayResultPickerTemplateComplexity;
u.resultTemplateComplexity=void 0===t||"complex"!=t&&"simple"!=t?"complex":t.toLowerCase();u.initialize({buttons:g,showTitleInBody:w});y.attach(u);b.displayContainerContent(y,v,s,a)}})(k.WorkflowHandlers||(k.WorkflowHandlers={}))})(k.workflow||(k.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){e.handleExternalLog=function(e,b){var a=b.getValue("Message");e.app.trace.info(a);b.completeActivity()}})(e.WorkflowHandlers||(e.WorkflowHandlers={}))})(e.workflow||(e.workflow={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){function h(b,a){if(b&&b.parent)for(var d=b.getSelfAndAncestors()||[],e=0;e<d.length;e++){var f=d[e];f&&f.id.get()!==b.layerList.id.get()&&f.isVisible.get()!=a&&f.isVisible.set(a)}}f.handleGetLayerListItemInfo=function(b,a){if(!a)throw Error("Get Layer List Item Info: required context was not supplied.");if(!b||!b.layerList)throw Error("Get Layer List Item Info: No layer list available.");b.waitUntilLayerListInitialized().then(function(){var d=
a.getValue("ItemId"),e=a.getValue("ItemName"),f=b.layerList.getDescendants()||[];d?f=dojo.filter(f,function(a){return a&&a.id.get()==d}):e&&(f=dojo.filter(f,function(a){return a&&a.name.get()==e}));for(var h=[],k=0;k<f.length;k++){var l=f[k];l&&(l={isVisible:l.isVisible.get(),isEffectivelyVisible:l.isEffectivelyVisible.get(),isExpanded:l.isExpanded.get(),hasChildren:l.children&&0<l.children.getLength(),name:l.name.get(),id:l.id.get(),parentId:l.parent?l.parent.id.get():null},h.push(l))}a.setValue("Items",
JSON.stringify(h));a.completeActivity()})};f.handleSetLayerListItemInfo=function(b,a){if(!a)throw Error("Set Layer List Item Info: required context was not supplied.");if(!b||!b.layerList)throw Error("Set Layer List Item Info: No layer list available.");b.waitUntilLayerListInitialized().then(function(){var d=a.getValue("ItemId"),f=a.getValue("ItemName"),k=a.getValue("IsVisible"),m=a.getValue("IsEffectivelyVisible"),p=a.getValue("IsExpanded"),B=b.layerList.getDescendants()||[],y=null;d?y=e.framework.utils.ArrayUtils.firstOrDefault(B,
function(a){return a&&a.id.get()==d}):f&&(y=e.framework.utils.ArrayUtils.firstOrDefault(B,function(a){return a&&a.name&&a.name.get()==f}));y&&(null!==p&&y.isExpanded.set(p),null!==m&&h(y,m),null!==k&&y.setItemVisibility(k));a.completeActivity()})}})(f.WorkflowHandlers||(f.WorkflowHandlers={}))})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){e.handleListenForExternalEvent=function(e,b){var a=b.getValue("EventName");if(e._eventListenersResults.hasOwnProperty(a))e._eventListenersResults[a]=null;else{e._eventListenersResults[a]=null;var d=e.app.event(a).subscribe(e,function(){e._eventListenersResults[a]=arguments});e._eventListenersToken.push(function(){e.app.event(a).unsubscribe(d)})}b.completeActivity()}})(e.WorkflowHandlers||(e.WorkflowHandlers={}))})(e.workflow||
(e.workflow={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){e.handleGetSelectedFeatures=function(e,b){var a=b.getValue("FeatureSetId"),d=b.getValue("FeatureSetCollectionId");e.getFeaturesInCollectionAsync(d,a).then(function(a){a&&0<a.length?b.setValue("SelectedFeatures",a):b.setValue("SelectedFeatures",null)}).lastly(function(){return b.completeActivity()})}})(e.WorkflowHandlers||(e.WorkflowHandlers={}))})(e.workflow||(e.workflow={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping=
{}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){e.handleIntersectLayers=function(e,b){}})(e.WorkflowHandlers||(e.WorkflowHandlers={}))})(e.workflow||(e.workflow={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){e.handlePrompt=function(e,b){var a=b.getValue("Title"),d=b.getValue("Description"),f=b.getValue("DefaultText");e.app.command("Prompt").execute(a,d,f,function(a){b.setValue("Result",a);b.completeActivity()})}})(e.WorkflowHandlers||(e.WorkflowHandlers={}))})(e.workflow||(e.workflow={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex=
{}));(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){e.handleRunExternalCommand=function(e,b){var a=b.getValue("CommandName"),d=b.getValue("CommandParameter");e.app.command(a).execute(d);b.completeActivity()}})(e.WorkflowHandlers||(e.WorkflowHandlers={}))})(e.workflow||(e.workflow={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(e){(function(e){(function(e){e.handleShowMapTip=function(e,b){var a=b.getValue("FeatureSetCollectionId"),d=b.getValue("FeatureSetId"),f=b.getValue("FeatureId"),h=null,k=[];a?a&&(h="Active"==a?e.app.featureSetManager.getCollectionById(e._lastOpenedCollectionId):e.app.featureSetManager.getCollectionById(a)):h=e.app.featureSetManager.getCollectionById(e._lastOpenedCollectionId);if(h&&h.featureSets&&0<h.featureSets.getLength())if(d){if(d=h.getFeatureSetById(d))for(m=
0;m<d.features.getLength();m++)if(p=d.features.getAt(m))if(f)p.id.get()==f&&k.push(p);else{k.push(p);break}}else for(a=0;a<h.featureSets.getLength();a++)if(d=h.featureSets.getAt(a))for(var m=0;m<d.features.getLength();m++){var p=d.features.getAt(m);if(p)if(f)p&&p.id.get()==f&&k.push(p);else{k.push(p);break}}0<k.length&&e.app.command("ShowMapTip").execute(k[0]);b.completeActivity()}})(e.WorkflowHandlers||(e.WorkflowHandlers={}))})(e.workflow||(e.workflow={}))})(e.modules||(e.modules={}))})(e.mapping||
(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){(function(k){function l(b){switch(b){case d.Union:return a.UNION;case d.Replace:return a.REPLACE;case d.Intersect:return a.INTERSECT;case d.Subtract:return a.SUBTRACT;default:return a.UNION}}var b=f.infrastructure.FormatUtils,a=f.infrastructure.selection.CombineMode,d;(function(a){a[a.Union=0]="Union";a[a.Replace=1]="Replace";a[a.Intersect=2]="Intersect";a[a.Subtract=3]="Subtract"})(d||(d={}));k.setFeatureProperties=function(a,b){if(a){var d=
b.getValue("LabelFormat"),f=b.getValue("DescriptionFormat"),h=b.getValue("LongDescriptionFormat"),k=b.getValue("IconUri"),l=b.getValue("FeatureSetDisplayName");l&&a.displayName.set(l);if((d||f||h||k)&&a.features)for(l=0;l<a.features.length();++l){var m=a.features.getAt(l);if(m){if(k){var p=b.getSite();p&&m.iconUri.set(e.essentials.RestHelper.processClientSideTokens(p,k))}d&&m.labelFormat.set(d);f&&m.descriptionFormat.set(f);h&&m.longDescriptionFormat.set(h)}}}};k.handleSelectFeatures=function(a,k){var m=
k.getValue("FeatureSet"),p=k.getValue("MapServiceId"),B=k.getValue("LayerId"),y=k.getValue("LayerName"),u=k.getValue("CollectionName"),w=k.getValue("ClearCollectionFirst"),t=k.getValue("ShowPushpins"),z=k.getValue("CombineMode"),s=!e.framework.utils.isNullOrUndefined(z),v=null;w||(w=!1);t||(t=!1);s?w=z==d.Replace:z=w?d.Replace:d.Union;if(p){var s=null,x=k.getSite();x&&(s=x.getResourceById(x.essentialsMap.mapServices,p));s&&(B?v=s.findLayerById(B):y&&(v=s.findLayerByName(y)))}if(m&&m.fields)for(p=
0;p<m.fields.length;p++)if(B=m.fields[p],"esriFieldTypeDate"===B.type&&m.features&&m.features.length)for(y=0;y<m.features.length;y++)s=m.features[y],s.attributes[B.alias]?s.attributes[B.alias]=b.parseDate(s.attributes[B.alias]):s.attributes[B.name]&&(s.attributes[B.name]=b.parseDate(s.attributes[B.name]));var D=l(z),A=new f.infrastructure.FeatureSet({esriFeatureSet:m,layer:v,app:this.app});e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.setFeatureProperties(A,k);null!=A&&null!=A.features&&
0<A.features.length()&&null!=v&&!A.features.getAt(0).hasGeometry.get()?A.loadGeometries(null).then(function(){a.prepFeatureSetInCollection(A,u,w,v,t,D,function(){return k.completeActivity()})},function(b){a.prepFeatureSetInCollection(A,u,w,v,t,D,function(){return k.completeActivity()})}):a.prepFeatureSetInCollection(A,u,w,v,t,D,function(){return k.completeActivity()})}})(k.WorkflowHandlers||(k.WorkflowHandlers={}))})(k.workflow||(k.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping=
{}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){(function(f){var h=function(b){function a(a,e){b.call(this,a,e)}__extends(a,b);a.prototype.attach=function(a){if(!a)throw Error("{0}: A view model must be specified to attach to.".format(this.id));b.prototype.attach.call(this,a)};a.prototype.handleCheckboxChecked=function(a,b,e){this.parentView.viewModel.featureChecked(e)};return a}(e.framework.ui.ViewBase);f.DisplayResultPickerResultTemplateView=h})(f.templates||(f.templates={}))})(f.workflow||
(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(){return function(f){this.resourceName=this.internalRegionName=this.regionName=this.name=null;this.hideForMapInteraction=this.isManaged=!1;this.allowClose=!0;this.activityContext=this.view=null;f&&dojo.safeMixin(this,f);this.showOverlay=new Observable(!1);this.displayHeader=new Observable(f.displayHeader||!1);this.busy=new Observable(!1);this.hasContent=new Observable(!1);this.iconUri=new Observable("");this.title=new Observable("");
this.visible=new Observable(!0);this.message=new Observable("");this.safeMessage=new Observable("");this.safeMessage.syncTransform(this.message,function(b){return e.infrastructure.FilterUtils.sanitize(b,{framesAllowed:!0,uriTransformer:function(a){return a}})})}}();f.WorkflowContainerConfig=k})(f.workflow||(f.workflow={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(f){function b(a,b){f.call(this,a,b);this.hasSubscribed=!1;var e=this;a&&!this.hasSubscribed&&(this.hasSubscribed=!0,a.event("ViewContainerViewClosedEvent").subscribe(this,function(a){a&&(a.xButtonClicked||a.backButtonClicked)&&a.viewId===this.id&&e.viewModel&&e.viewModel.activityContext&&e.viewModel.activityContext.workflow&&(e.app.event("WorkflowAbort").publish(e.viewModel.activityContext.workflow()),e.app.event("WorkflowAbortedEvent").publish(e.viewModel.activityContext.workflow()))}))}
__extends(b,f);b.prototype.attach=function(a){if(!a)throw Error("{0}: A view model must be specified to attach to.".format(this.id));f.prototype.attach.call(this,a);e.essentialsHtmlViewer.mapping.modules.workflow.WorkflowUtils.convertToHTMLSyntax(a.message);this.title.sync(a.title);this.iconUri.sync(a.iconUri)};return b}(e.framework.ui.ViewBase);f.WorkflowContainerView=h})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(f){function b(a,b){f.call(this,a,b);this.formWidth=this.formHeight=this.showTitleInFormBody=this.title=this.buttons=this.workflowFormContent=this.validationResults=this.formDefinition=this.activityContext=null;this.defaultFormWidth=800;this.defaultFormHeight=600;this.workflowFormContent=new Observable(null);this.buttons=new ObservableCollection([]);this.title=new Observable("Workflow form");this.formWidth=new Observable(this.defaultFormWidth);
this.formHeight=new Observable(this.defaultFormHeight);this.showTitleInFormBody=new Observable(!1);this.validationResults=new ObservableCollection}__extends(b,f);b.prototype.initialize=function(a){a&&a.hasOwnProperty("showTitleInFormBody")&&this.showTitleInFormBody.set(a.showTitleInFormBody||!1);a&&a.hasOwnProperty("buttons")?this.buttons=new ObservableCollection(a.buttons):this.buttons=new ObservableCollection([]);a&&a.hasOwnProperty("formDefinition")&&(this.formDefinition=a.formDefinition);null!=
this.formDefinition&&(this.formDefinition.attached_application=this.app,this.formWidth.set(this.formDefinition.maxWidth.get()),this.formHeight.set(this.formDefinition.maxHeight.get()),1>this.formWidth.get()&&this.formWidth.set(this.defaultFormWidth),this.title.set(this.formDefinition.title.get()),a=e.forms.renderFormItem(this.formDefinition.containerFormItem),this.workflowFormContent.set(a))};b.prototype.getDefaultButton=function(){for(var a=null,b=null,e=0;e<this.buttons.getLength();e++)if(b=this.buttons.getAt(e),
b.isDefault.get()){a=b;break}return a};return b}(e.framework.ui.ViewModelBase);f.WorkflowFormViewModel=h})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(f){function b(a,b){f.call(this,a,b);this.token=this.workflowFormContent=this.formDefinition=this.workflowContainer=this.activityContext=null;this.token=this.app.command("SubmitWorkflowForm").register(this,this.submitRequest)}__extends(b,f);b.prototype.attach=function(a){if(!a)throw Error("{0}: A view model must be specified to attach to.".format(this.id));this.workflowFormContent=a.workflowFormContent;this.workflowFormContent.bind(this,
function(){this.app.viewManager.notifyDimensionsChanged(this)});this.activityContext=this.configuration.activityContext;this.workflowContainer=this.configuration.workflowContainer;f.prototype.attach.call(this,a);Modernizr&&!Modernizr.touch&&this._focusFirstItem();a.title.bind(this,function(a){this.title.set(a)});a.title.pulse();this.app.viewManager.notifyDimensionsChanged(this)};b.prototype._focusFirstItem=function(){this.app.command("FocusOnFirstInputInView").execute(this)};b.prototype.submitRequest=
function(a){this.viewModel.formDefinition===a&&this.handleSubmit(null)};b.prototype.handleSubmit=function(a){if(a&&!0===e.essentialsHtmlViewer.___userInAutoComplete)return a.preventDefault(),!1;var b=this.viewModel.getDefaultButton();if(b)this.finishFormWithButton(b);else if(a)return a.preventDefault(),!1};b.prototype.handleClickButton=function(a,b,e){this.finishFormWithButton(e)};b.prototype.finishFormWithButton=function(a){!0==this._processForm(this.viewModel.formDefinition,this.activityContext,
a)&&(null!=this.workflowContainer&&null!=this.workflowContainer.view&&(this.workflowContainer.hasContent.set(!1),this.app.viewManager.notifyDimensionsChanged(this.workflowContainer.view)),this.app.command("SubmitWorkflowForm").unregister(this.token),this.app.viewManager.destroyView(this))};b.prototype._processForm=function(a,b,e,f){if(null!=a&&null!=e&&e.causesValidation&&e.causesValidation.get()){f=a.validate();for(var h=[],k=0;k<f.length;++k)!1==f[k].isValid&&h.push(f[k]);if(null!=h&&0<h.length)return this.viewModel.validationResults.set(h),
!1;this.viewModel.validationResults.clear()}f=a.getResults();for(h=0;h<f.length;h++)(k=f[h])&&k.argumentName&&""!=dojo.trim(k.argumentName)&&b.setValue(k.argumentName,k.value,!0);b.setValue("ButtonResultValue",e.value.get());a.destroy();b.completeActivity();return!0};b.prototype.deactivated=function(){null!=this.formDefinition&&this.formDefinition.destroy();this.formDefinition=null};return b}(e.framework.ui.ViewBase);f.WorkflowFormView=h})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||
(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(a,b){e.call(this,a,b);this._hideViewOnClickWorkflow=null}__extends(b,e);b.prototype.attach=function(a){if(!a)throw Error("{0}: A view model must be specified to attach to.".format(this.id));e.prototype.attach.call(this,a);this.title.set(this.app.getResource(this.libraryId,"language-workflow-available-workflows"))};b.prototype.handleButtonClick=function(a,b,e){};b.prototype.handleClickWorkflow=function(a,
b,e){this.configuration.hideOnClickWorkflow&&this.app.command("DeactivateView").execute(this.id);this.app.command("RunWorkflowById").execute(e.id);return!1};return b}(e.framework.ui.ViewBase);f.WorkflowListView=h})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(k){(function(k){var p=f.infrastructure.FormatUtils,l=e.essentials.EsriFieldTypes,b=function(){function a(){}a.convertToHTMLSyntax=function(b){if(null===b.get()||void 0===b.get())return null;for(var e in a.patterns){if(!e||void 0===e||null===e)break;var f=RegExp(e,"g");b.set(b.get().replace(f,a.patterns[e]))}};a.formatListItem=function(a,b){switch(b){case l.esriFieldTypeDate:return p.formatDate(p.parseDate(a));case l.esriFieldTypeOID:case l.esriFieldTypeSmallInteger:case l.esriFieldTypeInteger:case l.esriFieldTypeSingle:case l.esriFieldTypeDouble:return p.formatNumber(p.parseNumber(a));
default:return a}};a.patterns={"\\n":"<br />","\\t":"&nbsp; &nbsp; &nbsp; &nbsp;"};return a}();k.WorkflowUtils=b})(k.workflow||(k.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(e){(function(e){(function(f){(function(f){var k=function(e){function b(a,b){e.call(this,a,b);this.command=this.workflowId=null}__extends(b,e);b.prototype.onDrawEnd=function(a){if(this.workflowId){var b={geometry:a,workflowId:this.workflowId};this.app.command("RunWorkflowWithGeometry").execute(b)}e.prototype.onDrawEnd.call(this,a)};return b}(e.infrastructure.tools.MapTool);f.WorkflowTool=k})(f.workflow||(f.workflow={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments);this.workflows=this.isActive=null}__extends(b,e);b.prototype.initialize=function(a){this.isActive=new Observable(!1);this.workflows=new ObservableCollection([]);null!=this.app.site&&this.app.site.isInitialized?this.getWorkflows():this.app.event("SiteInitializedEvent").subscribe(this,this.getWorkflows)};b.prototype.getWorkflows=function(){this.workflows.set(this.app.site.workflows)};
return b}(e.framework.ui.ViewModelBase);f.WorkflowViewModel=h})(f.workflow||(f.workflow={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);return b}(e.framework.application.ModuleBase);f.ZoomControlModule=h})(f.zoomcontrol||(f.zoomcontrol={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.handleClickZoomIn=function(a,b,e){var f=this;this.app.command("StepZoomIn").execute();this.app.event("MapZoomEvent").once(this,function(){f.app.command("FocusOnFirstInputInView").execute(f)});return!1};return b}(e.framework.ui.ViewBase);f.ZoomInView=h})(f.zoomcontrol||(f.zoomcontrol={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(f){(function(f){(function(f){(function(f){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.handleClickZoomOut=function(a,b,e){var f=this;this.app.command("StepZoomOut").execute();this.app.event("MapZoomEvent").once(this,function(){f.app.command("FocusOnFirstInputInView").execute(f)});return!1};return b}(e.framework.ui.ViewBase);f.ZoomOutView=h})(f.zoomcontrol||(f.zoomcontrol={}))})(f.modules||(f.modules={}))})(f.mapping||(f.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.authentication.AuthenticationModule",geocortex.framework.application.ModuleBase,{attempts:null,authView:null,constructor:function(){this.attempts=0},initialize:function(e){this.inherited(arguments);var f=e.region||"ModalWindowRegion",h=this;dojo.subscribe("geocortex_authenticationSucceeded",function(e){h.attempts=0;var f=new geocortex.essentialsHtmlViewer.mapping.infrastructure.eventArgs.AuthenticationEventArgs;f.username=e.username;f.token=
e.token;f.result=!0;h.app.eventRegistry.event("AuthenticationSucceededEvent").publish(f)});dojo.extend(geocortex.essentials.RestHelperHTTPService,{_gatherCredentials:function(e){var m=!1;if(0<h.attempts){var p=new geocortex.essentialsHtmlViewer.mapping.infrastructure.eventArgs.AuthenticationEventArgs;p.username=null;p.token=null;p.result=!1;m=!0;h.app.eventRegistry.event("AuthenticationFailedEvent").publish(p)}deferred=e?e:new dojo.Deferred;null==h.authView&&(h.authView=h.app.viewManager.createView({id:"AuthenticationdialogView",
markup:"Mapping/modules/Authentication/AuthenticationView.html",type:"geocortex.essentialsHtmlViewer.mapping.modules.authentication.AuthenticationView",title:h.app.getResource(h.libraryId,"language-auth-title"),libraryId:h.libraryId,region:f}),e=new geocortex.essentialsHtmlViewer.mapping.modules.authentication.AuthenticationViewModel(h.app),e.libraryId=h.libraryId,e.error.set(m),h.authView.attach(e));h.authView.deferred=deferred;h.app.viewManager.activateView(h.authView);++h.attempts;return deferred}})}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.authentication.AuthenticationView",geocortex.framework.ui.ViewBase,{deferred:null,attach:function(e){this.inherited(arguments);this.app.eventRegistry.event("AuthenticationFailedEvent").subscribe(this,function(){this.app.viewManager.destroyView(this)});this.app.eventRegistry.event("AuthenticationSucceededEvent").subscribe(this,function(){this.app.viewManager.destroyView(this)});this.app.eventRegistry.event("SiteInitializationFailedEvent").subscribe(this,
function(){this.app.viewManager.destroyView(this)});this.app.eventRegistry.event("SiteAuthenticationFailedEvent").subscribe(this,function(){this.app.viewManager.destroyView(this)})},handleClickLogin:function(e,f,h){""==this.viewModel.username.get()?(this.app.viewManager.destroyView(this),this.viewModel.password.set(),this.viewModel.error.set(!0),this.viewModel.errorMessage.set(this.app.getResource(this.libraryId,"language-auth-username-empty")),this.app.viewManager.activateView(this)):this.deferred&&
this.viewModel&&(this.viewModel.authenticating.set(!0),this.deferred.resolve({username:this.viewModel.username.get(),password:this.viewModel.password.get()}))}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.authentication.AuthenticationViewModel",geocortex.framework.application.ModuleBase,{username:null,password:null,authenticating:null,error:null,errorMessage:null,constructor:function(){this.inherited(arguments);this.username=new Observable("");this.password=new Observable("");this.authenticating=new Observable(!1);this.error=new Observable(!1);this.errorMessage=new Observable;this.app.eventRegistry.event("AuthenticationFailedEvent").subscribe(this,
function(){this.error.set(!0);this.authenticating.set(!1);this.errorMessage.set(this.app.getResource(this.libraryId,"language-auth-error"))});this.app.eventRegistry.event("AuthenticationSucceededEvent").subscribe(this,function(){this.error.set(!1);this.errorMessage.set(null);this.authenticating.set(!1)});this.app.commandRegistry.command("HideSplashScreen").execute()},reset:function(){this.username.set("");this.password.set("");this.authenticating.set(!1);this.error.set(!1);this.errorMessage.set(null)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.banner.BannerModule",geocortex.framework.application.ModuleBase,{initialize:function(e){this.inherited(arguments)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.banner.BannerView",geocortex.framework.ui.ViewBase,{_longPressTimer:null,_pressLengthMs:1E3,_firstEvent:null,handleTouchStart:function(e){e=e.target||e.srcElement;this._firstEvent||"gcx_search"===e.id||(this._firstEvent="touch start",this._beginLongPress());return!0},handleMouseDown:function(e){e=e.target||e.srcElement;this._firstEvent||"gcx_search"===e.id||(this._firstEvent="mouse down",this._beginLongPress());return!0},handleTouchEnd:function(e){"touch start"===
this._firstEvent&&(this._firstEvent=null,this._cancelLongPress());return!0},handleMouseUp:function(e){"mouse down"===this._firstEvent&&(this._firstEvent=null,this._cancelLongPress());return!0},handleMouseOut:function(e){"mouse down"===this._firstEvent&&(this._firstEvent=null,this._cancelLongPress());return!0},handleTouchCancel:function(e){"touch start"===this._firstEvent&&(this._firstEvent=null,this._cancelLongPress());return!0},handleTouchMove:function(e){"touch start"===this._firstEvent&&(this._firstEvent=
null,this._cancelLongPress());return!0},handleDoubleClick:function(e){this.app.command("ToggleToolbar").execute()},_beginLongPress:function(){this._longPressTimer&&clearTimeout(this._longPressTimer);var e=this;this._longPressTimer=setTimeout(function(){e.app.command("ActivateView").execute("LogView")},e._pressLengthMs)},_cancelLongPress:function(){this._longPressTimer&&(clearTimeout(this._longPressTimer),this._longPressTimer=null)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.banner.BannerViewModel",geocortex.framework.ui.ViewModelBase,{applicationTitle:null,applicationSubtitle:null,titleColor:null,subtitleColor:null,backgroundColor:null,backgroundImage:null,leftImage:null,leftImageDescription:null,rightImage:null,rightImageDescription:null,height:null,initialize:function(e){this.inherited(arguments);this.applicationTitle=new Observable(e.applicationTitle);this.applicationSubtitle=new Observable(e.applicationSubtitle||
"");this.titleColor=new Observable(e.titleColor||"#1A72C4");this.subtitleColor=new Observable(e.subtitleColor||"#959398");this.backgroundColor=new Observable(e.backgroundColor||"White");this.backgroundImage=new Observable(e.backgroundImage?"url({0})".format(encodeURI(e.backgroundImage)):"");this.leftImage=new Observable(e.leftImage);this.leftImageDescription=new Observable(e.leftImageDescription);this.rightImage=new Observable(e.rightImage);this.rightImageDescription=new Observable(e.rightImageDescription);
this.height=new Observable(e.height?e.height+"px":"50px")}});dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.featureEditing.FeatureEditingModule",geocortex.framework.application.ModuleBase,{constructor:function(){},initialize:function(e){}});
geocortex.essentialsHtmlViewer.mapping.modules.featureEditing.FeatureEditingModule.getEditingGeometryStatusMessage=function(e,f,h,k){switch(h){case esri.toolbars.Draw.POINT:return e.getResource(f,"language-feature-editing-geometry-point");case esri.toolbars.Draw.MULTI_POINT:return k?e.getResource(f,"language-feature-editing-geometry-multi-point"):e.getResource(f,"language-feature-editing-geometry-point");case esri.toolbars.Draw.POLYLINE:case esri.toolbars.Draw.FREEHAND_POLYLINE:return e.getResource(f,
"language-feature-editing-geometry-polyline");case esri.toolbars.Draw.POLYGON:case esri.toolbars.Draw.FREEHAND_POLYGON:return e.getResource(f,"language-feature-editing-geometry-polygon");case esri.toolbars.Draw.EXTENT:return e.getResource(f,"language-feature-editing-geometry-rectangle")}return e.getResource(f,"language-feature-editing-geometry-default")};
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.featureEditing.TemplatePickerView",geocortex.framework.ui.ViewBase,{constructor:function(){this.app.commandRegistry.command("ShowFeatureTemplatePicker").register(this,function(e){this.app.commandRegistry.command("ActivateView").execute(this.id);if(this.viewModel)if(!0===this.app.isOffline.get()){var f=this;this.app.store.get("__featureLayerModuleIndex",function(h){if(h&&(h=JSON.parse(h))){f.viewModel.filteredLayers=[];for(var k in h.featureLayers){if(!h.featureLayers.hasOwnProperty(k))break;
f.viewModel.filteredLayers.push(h.featureLayers[k].serviceId)}}f._loadTemplate(e)})}else this.viewModel.filteredLayers&&(this.viewModel.filteredLayers.length=0,this.viewModel.filteredLayers=null),this._loadTemplate(e)},function(e){return void 0===e?!0:"object"===typeof e&&e instanceof geocortex.essentials.Layer&&e.mapService&&e.mapService.serviceLayer&&e.mapService.serviceLayer.isEditable?e.mapService.serviceLayer.isEditable():!1})},_loadTemplate:function(e){e?this.viewModel.loadTemplatesForCurrentLayer(e):
this.viewModel.loadLayerTemplates()},handleFeatureTemplateClick:function(e,f,h){e=null;h.proto&&h.proto.toJson?e=new esri.Graphic(h.proto.toJson()):(e=new esri.Graphic(null),h.proto&&h.proto.attributes&&(e.attributes=h.proto.attributes));f=null;if(h.drawingTool&&h.drawingTool.value)switch(h.drawingTool.value){case "esriFeatureEditToolPoint":f="MapPoint";break;case "esriFeatureEditToolLine":f="Polyline";break;case "esriFeatureEditToolFreehand":"esriGeometryPolyline"===h.layer.geometryType?f="FreehandPolyline":
"esriGeometryPolygon"===h.layer.geometryType&&(f="FreehandPolygon");break;case "esriFeatureEditToolAutoCompletePolygon":case "esriFeatureEditToolPolygon":f="Polygon";break;case "esriFeatureEditToolRectangle":"esriGeometryPolygon"===h.layer.geometryType&&dojo.mixin(e,{needsConversion:!0});f="Rectangle";break;default:f="Polygon"}if(!f)switch(h.layer.geometryType){case "esriGeometryPoint":f="MapPoint";break;default:f=h.layer.geometryType.replace("esriGeometry","")}h.layer.add(e);h.layer.show&&h.layer.show();
dojo.mixin(e,{drawType:f});this.app.commandRegistry.command("StartAddingFeatureGeometry").execute(e);this.app.commandRegistry.command("ActivateView").execute("MapView")}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.featureEditing.TemplatePickerViewModel",geocortex.framework.ui.ViewModelBase,{layerTemplates:null,filteredLayers:null,constructor:function(){this.layerTemplates=new ObservableCollection},initialize:function(e){this.app.eventRegistry.event("SiteServiceLayersLoadedEvent").subscribe(this,this.loadLayerTemplates)},_layerIsValidForEditing:function(e){if(!e)return!1;var f=!0;if(this.filteredLayers)for(var f=!1,h=0;h<this.filteredLayers.length;h++)if(this.filteredLayers[h]===
e){f=!0;break}return f},loadTemplatesForCurrentLayer:function(e){e&&e.mapService&&(this.layerTemplates.clear(),(e=this._getFeatureLayerModel(e.mapService))&&this.layerTemplates.addItem(e))},loadLayerTemplates:function(){if(this.app.site&&this.app.site.essentialsMap&&this.app.site.isInitialized){var e=this.app.site.getFeatureServices();this.layerTemplates.clear();for(var f=[],h=0;h<e.length;h++){var k=this._getFeatureLayerModel(e[h]);k&&f.push(k)}this.layerTemplates.addItems(f)}},_getFeatureLayerModel:function(e){if(e){if(!this._layerIsValidForEditing(e.id))return null;
if(e.serviceLayer.isEditable&&e.serviceLayer.isEditable()){var f=e.displayName;e&&e.layers&&0<e.layers.length&&(f=e.layers[0].displayName);var h=new ObservableCollection,k=!0,m=this._loadFeatureTemplates(e.serviceLayer);m&&0<m.length&&(h.addItems(m),k=!1);f={displayName:new Observable(f),mapServiceId:new Observable(e.id),layer:e.serviceLayer,templates:h};if(k)for(f.proto={attributes:[]},k=0;k<e.serviceLayer.fields.length;k++)f.proto.attributes.push(e.serviceLayer.fields[k]);return f}}},createTemplate:function(e,
f){var h=new geocortex.essentialsHtmlViewer.mapping.modules.featureEditing.Templates.FeatureTemplateViewModel;if(f){var k=f.name;h.name.set(k);h.description.set(f.description);h.drawingTool.set(f.drawingTool);h.proto=f.prototype;if(e.renderer&&(k=this._getTemplateSymbol(k,e.renderer)))switch(k.type){case "picturemarkersymbol":h.symbolUri.set(k.url);break;default:h.setTemplateShapeStyle("background-color:"+k.color.toCss()+";height:24px;width:24px"),k=this._getSVGShapeType(k.type),h.createSVGElement(k.shapeType,
k.points)}}h.layer=e;return h},_consumeTemplate:function(e,f){return this.createTemplate(e,f)},_getSVGShapeType:function(e){var f={shapeType:null,points:null};switch(e){case "simplelinesymbol":f.shapeType="polyline";f.points="20,1 25,9 16,21 8,2";break;case "simplemarkersymbol":case "simplefillsymbol":f.shapeType="polygon",f.points="30,1 35,9 20,21 8,2"}return f},_getTemplateSymbol:function(e,f){if(e&&f)if(f.infos)for(var h=0;h<f.infos.length;h++){var k=f.infos[h];if(k.label===e||k.value===e)return k.symbol}else return f.symbol},
_loadFeatureTemplates:function(e){if(e&&e.templates){var f=[];if(0<e.templates.length)for(var h=0;h<e.templates.length;++h)f.push(this._consumeTemplate(e,e.templates[h]));else if(e.types&&0<e.types.length)for(h=0;h<e.types.length;++h){var k=e.types[h];if(k.templates)for(var m=0;m<k.templates.length;++m)f.push(this._consumeTemplate(e,k.templates[m]))}return f}}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.featureEditing.Editor.AttributeEditorView",geocortex.framework.ui.ViewBase,{inactive:null,constructor:function(){this.app.commandRegistry.command("ShowFeatureAttributeEditor").register(this,function(){this.app.commandRegistry.command("ActivateView").execute(this.id)});this.app.commandRegistry.command("HideFeatureAttributeEditor").register(this,function(){this.isActive&&this.app.viewManager.deactivateView(this);return!1})},deactivated:function(){this.inactive||
(this.inactive=!0,this.inherited(arguments),this.viewModel&&this.viewModel._cancelEditing())},attach:function(e){this.inherited(arguments);e&&this.title.sync(e.headerText)},handleButtonClick:function(e,f,h){this.viewModel.applyButtonClick(h);return!1},handleTypeFieldChange:function(e,f,h){this.viewModel.typeFieldSelected(h);return!1}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.featureEditing.Editor.AttributeEditorViewModel",geocortex.framework.ui.ViewModelBase,{isApplyingEdits:null,feature:null,featureClone:null,fields:null,currentMapService:null,currentToolName:null,editingActive:null,editingNewFeature:null,hasRelatedLayers:null,validationMessages:null,isEditingRelatedFeatureNotInSite:null,isEditingGeometry:null,featureTypeHasGeometry:null,editGeometryButton:null,hasGeometry:null,geometry:null,attributes:null,
templates:null,defaultButton:null,buttons:null,validateGeometry:null,headerText:null,originalSymbol:null,_editingRelationshipOrigin:null,_editingRelationshipDestination:null,_editingGeometryMapClickHandle:null,_relatedFeature:null,_editObject:null,_layerClickEvents:null,_lastLayer:null,_newObjectId:0,_editLogEntry:null,constructor:function(){this.isApplyingEdits=new Observable(!1);this.feature=new Observable(null);this.gcxFeature=new Observable(null);this.fields=new ObservableCollection([]);this.editingActive=
new Observable(!1);this.editingNewFeature=new Observable(null);this.validationMessages=new ObservableCollection([]);this.hasRelatedLayers=new Observable(!1);this.isEditingRelatedFeatureNotInSite=new Observable(!1);this.isEditingGeometry=new Observable(!1);this.featureTypeHasGeometry=new Observable(!1);this.hasGeometry=new Observable(!1);this.geometry=new Observable(null);this.currentMapService=new Observable(null);this.headerText=new Observable("");this._layerClickEvents=[];this.buttons=new ObservableCollection;
this._registerCommands();this._listenToMapEvents()},initialize:function(e){e&&e.tools&&this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(e.tools,!0);this.validateGeometry=e&&e.validateGeometry?e.validateGeometry:!0},_getToolNameByDrawType:function(e){e||(e="Polygon");return"Editing"+e+"Tool"},_registerCommands:function(){this.app.commandRegistry.command("StartAddingFeatureGeometry").register(this,function(e){e&&(this.headerText.set(this.app.getResource(this.libraryId,"language-common-feature-editing")),
this.currentToolName=this._getToolNameByDrawType(e.drawType),this.editingNewFeature.set(!0),this.setFeature(e),this.app.commandRegistry.command("ShowMap").execute(),this._editGeometry())});this.app.commandRegistry.command("StartEditingFeature").register(this,this._executeStartEditingFeature,function(e){return e&&e.layer&&(e=e.layer,e.mapService&&e.mapService.serviceLayer&&e.mapService.serviceLayer.isEditable)?e.mapService.serviceLayer.isEditable():!1});this.app.commandRegistry.command("StartEditingNewFeature").register(this,
this._executeStartEditingNewFeature);this.app.commandRegistry.command("SetEditorFeatureGeometry").register(this,this._executeSetEditorGeometry);this.app.commandRegistry.command("StartEditingEditLogEntry").register(this,function(e){this.headerText.set(e.getDescription(this.app,this.libraryId));this.editingNewFeature.set(!1);var f=new esri.Graphic(e.feature.toJson?e.feature.toJson():e.feature);this.setFeature(f,e.mapServiceUrl);this._editLogEntry=e;this._setupButtons();this.app.commandRegistry.command("ShowFeatureAttributeEditor").execute()});
this.app.event("FeatureDataSyncStartedEvent").register(this,this._cancelEditing)},_listenToMapEvents:function(){this.app.eventRegistry.event("MapExtentChangedEvent").subscribe(this,function(e){var f=this;if(f.isEditingGeometry.get()&&!f.editingNewFeature.get()){var h=f.featureClone;if(h){var k=function(e){c;if(e=f._findFeatureInLayer(h,e))e.setGeometry(h.geometry),e.hide()};if(f._lastLayer.updating)var m=dojo.connect(f._lastLayer,"onUpdateEnd",function(){if(f._lastLayer.loaded)k(this);else var e=
dojo.connect(f._lastLayer,"onLoad",function(){k(this);dojo.disconnect(e)});dojo.disconnect(m)});else k(f._lastLayer)}}});this.app.eventRegistry.event("OfflineMapActivatedEvent").subscribe(this,this._resetGeometryEditingTool)},_resetGeometryEditingTool:function(){this.editingNewFeature.get()&&(this.cancel(),this.app.commandRegistry.command("ShowFeatureTemplatePicker").execute())},_setupButtons:function(){var e=[];this.buttons.clear();var f=new Observable(!0),h=null,k=null;null==this._editLogEntry&&
(h=this.app.getResource(this.libraryId,"language-common-delete"),h=dojo.mixin(new geocortex.forms.FormButton(h,"Delete",!1,!1),{visibility:new Observable,callback:this._confirmDelete}),h.visibility.syncTransform(this.editingNewFeature,function(e){return!e}),e.push(h));this.featureTypeHasGeometry.get()&&(this.hasGeometry.get()?(h=this.app.getResource(this.libraryId,"language-feature-editing-edit-geometry-caption"),k="EditGeometry"):(h=this.app.getResource(this.libraryId,"language-feature-editing-add-geometry-caption"),
k="AddGeometry"),this.editGeometryButton=dojo.mixin(new geocortex.forms.FormButton(h,k,!0,!1),{visibility:f,callback:this._editGeometry}),this.editGeometryButton.visibility.syncTransform(this.isEditingGeometry,function(e){return!e}),e.push(this.editGeometryButton),h=this.app.getResource(this.libraryId,"language-feature-editing-stop-editing-geometry-caption"),f=dojo.mixin(new geocortex.forms.FormButton(h,"StopEditingGeometry",!1,!1),{visibility:new Observable,callback:this.stopEditingGeometry}),f.visibility.syncTransform(this.isEditingGeometry,
function(e){return e}),e.push(f));h=this.app.getResource(this.libraryId,"language-common-save");f=this.defaultButton=dojo.mixin(new geocortex.forms.FormButton(h,"Save",!0,!0),{visibility:new Observable(!0),callback:this.save});e.push(f);h=this.app.getResource(this.libraryId,"language-common-cancel");e.push(dojo.mixin(new geocortex.forms.FormButton(h,"Cancel",!1,!1),{visibility:new Observable(!0),callback:this._cancelEditing}));this.buttons.addItems(e)},applyButtonClick:function(e){e&&e.callback&&
e.callback.apply(this)},_removeFeatureClickEvents:function(){for(var e=0;e<this._layerClickEvents.length;++e)dojo.disconnect(this._layerClickEvents[e]);this._layerClickEvents=[]},_executeStartEditingFeature:function(e,f){this.app.commandRegistry.command("ClearDefaultHighlights").execute();f||(f=!1);try{if(this.app.map&&this.app.site&&this.app.site.isInitialized)this._executeStartEditingFeatureImpl(e,f);else{var h=this;this.app.eventRegistry.event("SiteInitializedEvent").subscribe(this,function(){h._executeStartEditingFeatureImpl(e,
f)})}}catch(k){this.app.trace.error("Could not start editing: {0}".format(k)),this.cancel()}},_executeStartEditingNewFeature:function(e){this._executeStartEditingFeature(e,!0)},_executeStartEditingFeatureImpl:function(e,f){this.cancel();try{var h=e;e&&e instanceof geocortex.essentialsHtmlViewer.mapping.infrastructure.Feature&&(e.layer&&e.layer.mapService&&this.currentMapService.set(e.layer.mapService),this.headerText.set(e.label.get()),h=e.esriFeature.get());if(h){if("function"!=typeof h.getLayer){this.app.trace.warning("Could not edit feature - No associated graphic layer was found.");
return}this.editingNewFeature.set(f);this.setFeature(h)}this._setupButtons();this.app.commandRegistry.command("ShowFeatureAttributeEditor").execute()}catch(k){this.app.trace.error("Could not start editing: {0}".format(k)),this.cancel()}},_findFeatureInLayer:function(e,f){if(!e||!f)return null;var h=f.objectIdField,k=f.graphics;if(1>k.length)return null;var m=["timestamp"];if(f.editFieldsInfo)for(var p in f.editFieldsInfo)f.editFieldsInfo.hasOwnProperty(p)&&m.push(f.editFieldsInfo[p]);var l=function(a){var b=
0,d;for(d in a)!Array.contains(m,d)&&a.hasOwnProperty(d)&&++b;return b};p=k[0].attributes;if(l(p)!==l(e.attributes))return null;var l=0,b=[],a=[],d;for(d in p){var g=Array.contains(m,d);if(!(g||p.hasOwnProperty(d)&&e.attributes.hasOwnProperty(d)))return null;g||(b.push(d),a.push(d),++l)}for(d=0;d<l;++d)if(b[d]!==a[d])return null;for(d=0;d<k.length;d++)if(p=k[d],!p.gcxIsClone&&p.attributes[h]===e.attributes[h])return p._graphicsLayer=f,p;return null},_findFeatureInLayers:function(e){var f=null;if(this._lastLayer&&
(f=this._findFeatureInLayer(e,this._lastLayer)))return this._lastLayer=f._graphicsLayer=m,f;for(var h=this.app.site.getFeatureServices(),k=0;k<h.length;k++){var m=h[k].serviceLayer;if(m!==this._lastLayer&&(f=this._findFeatureInLayer(e,m))){this._lastLayer=f._graphicsLayer=m;break}}return f},_findGeocortexLayerForUrl:function(e){if(this.app&&this.app.site&&this.app.site.essentialsMap&&this.app.site.essentialsMap.mapServices)for(var f=0;f<this.app.site.essentialsMap.mapServices.length;f++){var h=this.app.site.essentialsMap.mapServices[f];
if(h.serviceUrl===e&&0<h.layers.length)return h.layers[0]}return null},_findServiceLayerForUrl:function(e){if(this.app&&this.app.site&&this.app.site.essentialsMap&&this.app.site.essentialsMap.mapServices)for(var f=0;f<this.app.site.essentialsMap.mapServices.length;f++){var h=this.app.site.essentialsMap.mapServices[f];if(h.url===e)return h.serviceLayer}return null},_reAttachLayerToFeature:function(e,f){if(e.getLayer())this._lastLayer=e.getLayer();else if(f)this._lastLayer=this._findServiceLayerForUrl(f);
else{var h=this._findFeatureInLayers(e);h&&(e=h)}this._lastLayer&&this.featureTypeHasGeometry.set(!!this._lastLayer.geometryType);return e},setFeature:function(e,f,h){h||this.cancel();e?(e=this._reAttachLayerToFeature(e,f),this.feature.set(e),this.geometry.set(e.geometry),this.hasGeometry.set(!!e.geometry),h||(this._buildFeatureAttributes(),this._buildFeatureRelationships()),this.editingActive.set(!0)):(this.editingNewFeature.set(!0),this.feature.set(null),this._lastLayer=null,this.geometry.set(null),
this.hasGeometry.set(!1))},cloneFeature:function(e){return new esri.Graphic(e.toJson())},_executeSetEditorGeometry:function(e){this.stopEditingGeometry();var f=this.feature.get();f&&(f.needsConversion&&"extent"===e.type&&"esriGeometryPolygon"===this._lastLayer.geometryType&&(e=geocortex.essentials.GeometryUtilities.envelopeToPolygon(e)),this.geometry.set(e),this.hasGeometry.set(!!e),f.setGeometry(e),this.app.eventRegistry.event("FeatureGeometryEditedEvent").publish(f));this._setupButtons();this.app.commandRegistry.command("ShowFeatureAttributeEditor").execute()},
_createNewFeature:function(e,f,h,k){var m=new esri.Graphic;m.attributes=f||{};m.geometry=e||new esri.geometry.Point(NaN,NaN);m.symbol=h||null;m.infoTemplate=k;return m},_getMapServiceByLayer:function(e){e=e.url||e._essentialsMetadata.serviceUrl;if(!e)return null;var f=e.indexOf("?token=");-1!=f&&(e=e.substring(0,f));for(f=0;f<this.app.site.essentialsMap.mapServices.length;++f){var h=this.app.site.essentialsMap.mapServices[f];if(h.serviceUrl===e)return h}return null},_getRelatedFeatureLayer:function(e,
f,h,k){var m=new dojo.Deferred;e=f.substring(0,f.lastIndexOf("/")+1)+e;e=new esri.layers.FeatureLayer(e,{mode:esri.layers.FeatureLayer.MODE_SELECTION,outFields:["*"]});dojo.connect(e,"onLoad",dojo.hitch(this,function(e){geocortex.deferredResolve(m,e);"function"==typeof h&&h(e)}));dojo.connect(e,"onError",dojo.hitch(this,function(e){geocortex.deferredReject(m,e);"function"==typeof k&&k(e)}));return m},_preventDeleteForRelOrigin:function(e,f,h){var k=this,m=this.feature.get(),p=this._lastLayer,l=null,
b=!1;if(m&&p&&e&&0<e.length()&&(l=e.length(),p))for(var a=0;a<e.length();a++){var d=function(){l--;0>=l&&h&&h()},g=function(a){var e=parseInt(a.id.get()),g=a.relatedTableId?a.relatedTableId.get():a.relationship.relatedTableId,h=p.url||p._essentialsMetadata.serviceUrl;a=new esri.tasks.RelationshipQuery;a.objectIds=[m.attributes[p.objectIdField]];a.outFields=["*"];a.relationshipId=e;e=e=(new esri.tasks.QueryTask(h)).executeRelationshipQuery(a);e.then(function(a){var e=!1,l;for(l in a)if(a.hasOwnProperty(l)){e=
!0;break}e?k._getRelatedFeatureLayer(g,h).then(function(e){if(!b){e=[];for(var g in a)if(a.hasOwnProperty(g)){var h=a[g].features||a[g];if(h)if(h.length)for(var k=0;k<h.length;k++)e.push(h[k]);else e.push(h)}0<e.length&&f&&(f(e),b=!0);d()}},function(a){d()}):d()},function(a){d()})},n=e.getAt(a);n.relationship&&"esriRelRoleOrigin"===n.relationship.role&&g(n)}(!l||0>=l)&&h&&h()},_confirmDelete:function(){this.app.commandRegistry.command("Confirm").execute(this.app.getResource(this.libraryId,"language-feature-editing-delete-confirmation"),
this.app.getResource(this.libraryId,"language-feature-editing-module-title"),function(e){})},deleteCurrentFeature:function(e,f){var h=this,k=this.feature.get(),m=k.getLayer()||this._lastLayer,p=null,p=this._getMapServiceByLayer(m);f||(f=function(e){h.isApplyingEdits.set(!1);e=h.app.getResource(h.libraryId,"language-feature-layer-error-feature-edits").format(e);var b=h.app.getResource(h.libraryId,"language-feature-layer-error-title");h.app.trace.error(e);h.app.commandRegistry.command("Alert").execute(e,
b)});p={mapService:p,layer:m,feature:k,successCallback:function(){m&&m.remove(k);h.app.commandRegistry.command("HideFeatureAttributeEditor").execute();h.app.commandRegistry.command("ShowMap").execute();h.app.eventRegistry.event("FeatureDeletedEvent").publish(k);e&&e();h.isApplyingEdits.set(!1)},errorCallback:f};this.isApplyingEdits.set(!0);this.app.commandRegistry.command("DeleteFeature").execute(p)},_editGeometry:function(){this.startEditingGeometry()},stopEditingGeometry:function(e){this.app.commandRegistry.command("ClearActiveTool").execute();
var f=this.feature.get();f&&(this.featureClone&&!e&&f.setGeometry(this.featureClone.geometry),f.show());if(this._lastLayer)for(e=this._lastLayer.graphics,f=0;f<e.length;++f){var h=e[f];h.gcxIsClone&&this._lastLayer.remove(h)}this.featureClone=null;this._editObject&&(this._editObject.deactivate(),this._editObject=null);null!=this._editingGeometryMapClickHandle&&(dojo.disconnect(this._editingGeometryMapClickHandle),this._editingGeometryMapClickHandle=null);this._indicateGeometryEditing(!1)},startEditingGeometry:function(){this._editObject&&
this._editObject.deactivate();var e=this;this._lastLayer&&this.app.map.reorderLayer(this._lastLayer,this.app.map._layers.length-1);if(this.hasGeometry.get()){var f=null,f=this.feature.get();if(null==f)throw Error("Can't edit geometry of null feature");f.geometry!=this.geometry.get()&&(f.geometry=this.geometry.get());this.featureClone&&this._lastLayer.remove(this.featureClone);this.featureClone=new esri.Graphic(f.toJson());this.featureClone=dojo.mixin(this.featureClone,{gcxIsClone:!0});this._lastLayer.add(this.featureClone);
f.hide();this.originalSymbol=f.symbol;if(esri.toolbars.Edit){var f=esri.toolbars.Edit.MOVE|esri.toolbars.Edit.EDIT_VERTICES|esri.toolbars.Edit.SCALE|esri.toolbars.Edit.ROTATE,h={allowAddVertices:!0,allowDeleteVertices:!0};this._editObject=new esri.toolbars.Edit(this.app.map,h);var k=this._editObject.on("graphic-first-move",function(f){e.app.map.disableMapNavigation()}),m=this._editObject.on("graphic-move-stop",function(f){e.app.map.enableMapNavigation()}),p=function(f,b,a){k.remove();m.remove();e._indicateGeometryEditing(!1);
b.setSymbol(e.originalSymbol);a.isModified&&e.app.commandRegistry.command("SetEditorFeatureGeometry").execute(b.geometry)};dojo.connect(this._editObject,"onDeactivate",p);null!=this._editingGeometryMapClickHandle&&(dojo.disconnect(this._editingGeometryMapClickHandle),this._editingGeometryMapClickHandle=null);this._editingGeometryMapClickHandle=dojo.connect(this.app.map,"onClick",function(){p(e._editObject,e.featureClone,{isModified:!0});dojo.disconnect(e._editingGeometryMapClickHandle);this._editingGeometryMapClickHandle=
null});this._indicateGeometryEditing(!0);this._editObject.activate(f,this.featureClone,h)}else f=this.app.getResource(this.libraryId,"language-feature-editing-package-required"),h=e.app.getResource(e.libraryId,"language-feature-layer-error-title"),this.app.commandRegistry.command("Alert").execute(f,h)}else this.app.commandRegistry.command("SetActiveTool").execute(this.currentToolName),this._indicateGeometryEditing(!0)},_indicateGeometryEditing:function(e){this.isEditingGeometry.set(e);if(e){e=null;
var f=this.feature.get(),h=this.geometry.get();f&&(e=f.drawType||null,!e&&h&&(e=h.type));h&&(f=geocortex.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.getEsriGeometryType(e,esri.toolbars.Draw.POINT),h=null,h=geocortex.essentialsHtmlViewer.mapping.modules.featureEditing.FeatureEditingModule.getEditingGeometryStatusMessage(this.app,this.libraryId,f,!0),e=new geocortex.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(h,null,null,"geometry-type-"+e.toLowerCase(),"geometryEditingStatus"),
this.app.commandRegistry.command("AddStatus").execute(e));this.app.commandRegistry.command("ShowMap").execute()}else this.app.commandRegistry.command("RemoveStatus").execute("geometryEditingStatus")},save:function(e,f){var h=this,k,m=this.feature.get();this.isEditingGeometry.get()&&m.setSymbol(this.originalSymbol);if(m){k=this.cloneFeature(m);k=dojo.mixin(k,meta);for(var p in k.attributes)k.attributes.hasOwnProperty(p)&&(p||delete k.attributes[p])}var l=m&&m.getLayer()||this._lastLayer;this.stopEditingGeometry();
k||(k=this._createNewFeature(),l.renderer&&(k.symbol=l.renderer.getSymbol(k)));l.geometryType&&this.hasGeometry.get()?k.geometry=this.geometry.get():k.geometry=null;this.validationMessages.clear();for(p=0;p<this.fields.getLength();++p){var b=this.fields.getAt(p),a=b.value.get();"esriFieldTypeDate"===b.type.get()&&(a=b.value.get())&&(a=a.getTime());""===a&&"esriFieldTypeString"!==b.type.get()&&(a=null);var d=b.validationFunc(a);d?(b.cssClass.set("invalid"),this.validationMessages.addItem(d)):(b.cssClass.set(""),
k.attributes[b.name.get()]=a)}this.validateGeometry&&k.geometry&&"polygon"===k.geometry.type&&geocortex.essentials.GeometryUtilities.isSelfIntersectingPolygon(k.geometry)&&(p=this.app.getResource(this.libraryId,"language-feature-editing-self-intersecting-polygon-need-fixing"),this.validationMessages.addItem(p));if(0<this.validationMessages.getLength())return f&&f(),!1;var g=new esri.Graphic(k.toJson());p=null;b=l.url||l._essentialsMetadata.serviceUrl;this.isEditingRelatedFeatureNotInSite.get()||(p=
this._getMapServiceByLayer(l));var n=function(){k=g;h.app.eventRegistry.event("FeatureEditedEvent").publish(g);h.editingNewFeature.set(!1);h.isApplyingEdits.set(!1);var a=null;h._editLogEntry?(a=h._editLogEntry,a.setFeature(k)):(l.remove(m)||(m=h._findFeatureInLayer(m,l))&&l.remove(m),null==k.getLayer()&&(l.add(k),l.refresh()));h.feature.set(k);h._buildFeatureAttributes();h._buildFeatureRelationships();a&&(h._editLogEntry=a);a||h.isEditingRelatedFeatureNotInSite.get()||(a=h._findGeocortexLayerForUrl(l.url),
a=new geocortex.essentialsHtmlViewer.mapping.infrastructure.Feature({graphic:k,layer:a}),h.headerText.set(a.label.get()));h.app.commandRegistry.command("DeactivateView").execute("AttributeEditorView");e&&e()};l.url=b;p={mapService:p,layer:l,feature:g,successCallback:n,errorCallback:function(a){h.isApplyingEdits.set(!1);f&&f();h._cancelEditing();var b="";a.message&&(b+=a.message,a.details&&(b+=" (Details: {0})".format(a.details[0])));a=h.app.getResource(h.libraryId,"language-feature-layer-error-feature-edits").format(b?
b:a);b=h.app.getResource(h.libraryId,"language-feature-layer-error-title");h.app.trace.error(a);h.app.commandRegistry.command("Alert").execute(a,b)}};null!=this._editLogEntry?(p.successCallback=function(){h.app.commandRegistry.command("RefreshOfflineLayers").execute();n()},this.app.commandRegistry.command("ChangeEditLogEntry").execute(p)):this.isEditingRelatedFeatureNotInSite.get()?this.editingNewFeature.get()?(p.relatedFeature=h._relatedFeature,p.relationshipOrigin=h._editingRelationshipOrigin,p.relationshipDestination=
h._editingRelationshipDestination,this.app.commandRegistry.command("CreateRelatedRecord").execute(p)):this.app.commandRegistry.command("UpdateRelatedRecord").execute(p):this.editingNewFeature.get()?(this.app.eventRegistry.event("EditorPreCreateFeatureEvent").publish(g),this.app.commandRegistry.command("CreateFeature").execute(p),!1===this.app.isOffline.get()&&this._lastLayer.remove(this.feature.get())):(this.app.eventRegistry.event("EditorPreUpdateFeatureEvent").publish(g),this.app.commandRegistry.command("UpdateFeature").execute(p));
this.isApplyingEdits.set(!0)},_cancelEditing:function(){this._lastLayer&&(this.editingNewFeature.get()&&this._lastLayer.remove(this.feature.get()),this._lastLayer.refresh());this.cancel();this.app.commandRegistry.command("HideFeatureAttributeEditor").execute()},cancel:function(){this.feature.get();this.validationMessages.clear();this.stopEditingGeometry(!0);this._editLogEntry=this._lastLayer=null;this.feature.set(null);this.editingActive.set(!1);this.isEditingRelatedFeatureNotInSite.set(!1);this.fields.clear();
this.geometry.set(null);this.hasGeometry.set(!1);this._relatedFeature=this._editingRelationshipDestination=this._editingRelationshipOrigin=null},startAddingNewRelatedRecord:function(e){var f=this,h=e.relationship,k=this._lastLayer,m=this._getMapServiceByLayer(k);this.setFeature(null);m?this.app.featureLayerModule._getRelatedFeatureLayer(m,h.id,function(k){var l=f._getMapServiceByLayer(k);l?(f.isEditingRelatedFeatureNotInSite.set(!1),f.currentMapService.set(l)):f.isEditingRelatedFeatureNotInSite.set(!0);
k&&f.featureTypeHasGeometry.set(!!k.geometryType);l=e.feature.get();f._lastLayer=k;f._editingRelationshipOrigin=h;f._relatedFeature=l;f.editingNewFeature.set(!0);f.feature.set(null);f.geometry.set(null);f.hasGeometry.set(!1);f._buildFeatureAttributes();if(h.keyField){for(var b=null,a=0;a<k.relationships.length;++a){var d=k.relationships[a];if(d.id===h.id){f._editingRelationshipDestination=d;b=d.keyField;break}}if(b){for(a=0;a<f.fields.getLength();++a)if(k=f.fields.getAt(a),k.name.get()===b)if("objectid"===
b.toLowerCase()||"globalid"===b.toLowerCase())k.value.set("[Automatic]"),k.editable.set(!1),k.cantEdit.set(!0);else{k.value.set(l.attributes[h.keyField]);break}f._setupButtons()}else f.app.trace.error(f.app.getResource(f.libraryId,"language-feature-editing-relationships-key-field-missing"))}else f.app.trace.error(f.app.getResource(f.libraryId,"language-feature-editing-relationships-require-arcgis-version"))},function(e){f.app.trace.error(f.app.getResource(f.libraryId,"language-feature-editing-related-feature-failed").format(h.id))}):
this.app.trace.warning("Could not edit feature. No map service for layer '{0}' was found.".format(k.url))},typeFieldSelected:function(e){if(e)for(var f=0;f<e.subTypes.getLength();f++){var h=e.subTypes.getAt(f);if(null!==h.id&&h.id.toString()===e.value.get()){this._loadRelatedCodedDomains(h.domains);break}}},_loadRelatedCodedDomains:function(e){if(e)for(var f in e)if(e.hasOwnProperty(f)&&"codedValue"===e[f].type)for(var h=0;h<this.fields.getLength();h++){var k=this.fields.getAt(h);k.name.get()===f&&
(k={viewModel:k,typeName:"codedDomainValue",collectionName:"codedDomainValues",valueCollection:e[f].codedValues,nullable:k.nullable.get(),nullOption:{name:"",code:null}},this._addValueCollection(k))}},_addValueCollection:function(e){e&&(e.viewModel.renderType=new Observable(e.typeName),e.viewModel[e.collectionName]=new ObservableCollection([]),e.viewModel[e.collectionName].addItems(e.valueCollection),e.nullable&&e.viewModel[e.collectionName].insertItem(0,e.nullOption))},_buildFeatureAttributes:function(){var e=
null,f=this.feature.get();!this._lastLayer&&this._findFeatureInLayers(f)&&(this._lastLayer=feature.getLayer());var h=this._lastLayer;if(h){this.fields.clear();null===f&&(f=new esri.Graphic);var k=[],m=[];if(h._outFields&&0<h._outFields.length)for(var p=0;p<h._outFields.length;++p){var l=h._outFields[p];if(0===p&&"*"===l){m=h.fields;break}for(var b=0;b<h.fields.length;++b){var a=h.fields[b];if(a.name===l){m.push(a);break}}}else m=h.fields;for(p=0;p<m.length;++p)if(b=m[p],b.editable){var d=!1===b.editable,
l=!1===b.nullable&&!d,a=null;this.editingNewFeature.get()&&b.name!==h.typeIdField||f.attributes&&(a=f.attributes[b.name]);var g=this._buildValidationFunc(b),d={name:new Observable(b.name),alias:new Observable(b.alias),length:new Observable(b.length),editable:new Observable(!d),cantEdit:new Observable(d),nullable:new Observable(!l),type:new Observable(b.type),renderType:new Observable(b.type),value:new Observable(a),cssClass:new Observable(""),attached_showIndicator:new Observable(l),attached_indicatorClass:new Observable(""),
validationFunc:g||function(){return!0}};if("esriFieldTypeDate"===b.type){g=new geocortex.forms.items.DatePickerFormItem;g.timePickerItem=new geocortex.forms.items.TimePickerFormItem;var n=this.feature.get()?new Date(this.feature.get().attributes[b.name]):new Date;g.includeTimePicker.set(!0);g.initialDate.set(n);g.date.set(n);d.value.sync(g.date);dojo.safeMixin(g,d);d=g}b.name===h.typeIdField&&(this._addValueCollection({viewModel:d,typeName:"subType",collectionName:"subTypes",valueCollection:h.types,
nullable:!l,nullOption:{name:"",id:null}}),e=a);b.hasOwnProperty("domain")&&(b=b.domain)&&"codedValue"===b.type&&this._addValueCollection({viewModel:d,typeName:"codedDomainValue",collectionName:"codedDomainValues",valueCollection:b.codedValues,nullable:!l,nullOption:{name:"",code:null}});k.push(d)}this.fields.addItems(k);if(null===e)for(p=0;p<h.types.length;p++)f=h.types[p],f.id===e&&this._loadRelatedCodedDomains(f.domains)}},_isValidEsriDate:function(e){return"[object Date]"!==Object.prototype.toString.call(e)?
!1:!isNaN(e.getTime())},_buildValidationFunc:function(e){if(this.app.urlParameters.hasOwnProperty("noval"))return function(){};var f=this,h=function(e){return!1!==e.editable&&!1===e.nullable?f.app.getResource(f.libraryId,"language-feature-editing-requires-value").format(e.alias):null},k=function(e,b){var a=null;if(!e)return!1;switch(e.type){case "esriFieldTypeSingle":case "esriFieldTypeDouble":a=/^[+-]?\d+.?\d*$/;break;case "esriFieldTypeSmallInteger":case "esriFieldTypeInteger":a=/^\s*(\+|-)?\d+\s*$/}return a.test(String(b.toString()))};
if(e.domain){var m=function(l,b,a,d){b=f.app.getResource(f.libraryId,"language-feature-editing-invalid-number").format(b,a,d);return l?k(e,l)?l<a||l>d?b:null:b:h(e)};if("codedValue"===e.domain.type)return function(e){return null};if("range"===e.domain.type){if(e.domain.hasOwnProperty("range")){var p=e.domain.range;p.replace&&(p=p.replace("[","").replace("]","").split(","));return function(f){return m(f,e.alias,p[0],p[1])}}return function(f){return m(f,e.alias,e.domain.minValue,e.domain.maxValue)}}return function(e){return null}}switch(e.type){case "esriFieldTypeDate":return function(k){return k?
f._isValidEsriDate(new Date(k))?null:f.app.getResource(f.libraryId,"language-feature-editing-invalid-date").format(e.alias):h(e)};case "esriFieldTypeString":case "esriFieldTypeGUID":return function(k){return k?e.length&&k.toString().length>e.length?f.app.getResource(f.libraryId,"language-feature-editing-value-too-long").format(e.alias,e.length):null:h(e)};case "esriFieldTypeSingle":case "esriFieldTypeDouble":return function(l){return l||0===l?k(e,l)?null:f.app.getResource(f.libraryId,"language-feature-editing-invalid-decimal").format(e.name):
h(e)};case "esriFieldTypeSmallInteger":case "esriFieldTypeInteger":return function(l){return l||0===l?k(e,l)?null:f.app.getResource(f.libraryId,"language-feature-editing-invalid-integer").format(e.name):h(e)};default:return function(e){return null}}}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.featureEditing.Templates.FeatureTemplateViewModel",geocortex.framework.ui.ViewModelBase,{name:null,description:null,proto:null,layer:null,drawingTool:null,symbolUri:null,symbolStyle:null,constructor:function(){this.name=new Observable;this.description=new Observable;this.drawingTool=new Observable;this.symbolUri=new Observable;this.symbolStyle=new Observable("");this.proto={}},setTemplateShapeStyle:function(e){e&&this.symbolStyle.set(e)},
createSVGElement:function(e,f){}});dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.Info.InfoModule",geocortex.framework.application.ModuleBase,{constructor:function(){this.inherited(arguments)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.Info.InfoView",geocortex.framework.ui.ViewBase,{constructor:function(){this.inherited(arguments)},attach:function(e){this.inherited(arguments);if(null!==this.viewModel.content.get())this._activateHomePanel();else var f=this.app.eventRegistry.event("HomePanelContentInitializedEvent").subscribe(this,function(){this._activateHomePanel();this.app.eventRegistry.event("HomePanelContentInitializedEvent").unsubscribe(f)})},_registerCommands:function(){this.app.commandRegistry.command("ShowHomePanel").register(this,
this._executeActivateHomePanel,this._canExecuteActivateHomePanel);this.app.commandRegistry.command("ActivateHomePanel").register(this,this._executeActivateHomePanel,this._canExecuteActivateHomePanel)},_canExecuteActivateHomePanel:function(){return this.viewModel.included.get()},_executeActivateHomePanel:function(){this.app.commandRegistry.command("ActivateView").execute(this.id)},_activateHomePanel:function(){this.viewModel.included.get()&&this.title.set(this.viewModel.title.get());this._registerCommands()},
resolveWidget:function(e,f){this.inherited(arguments);if("GetHTMLContent"===e){var h=new geocortex.essentialsHtmlViewer.mapping.infrastructure.FeatureDescriptionPresenterView(this.app,this.libraryId);h.root=document.createElement("div");h.root.className="content";h.root.innerHTML=h.insertLinkAndImageBindings(f);h.attach(null);return h}}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.Info.InfoViewModel",geocortex.framework.ui.ViewModelBase,{included:null,content:null,title:null,constructor:function(){this.inherited(arguments);this.content=new Observable(null);this.title=new Observable;this.included=new Observable(!1)},initialize:function(e){this.inherited(arguments);e&&(e.hasOwnProperty("included")&&this.included.set(e.included),e.hasOwnProperty("title")&&this.title.set(e.title),e.hasOwnProperty("content")&&(this.content.set(decodeURIComponent(e.content)),
this.app.eventRegistry.event("HomePanelContentInitializedEvent").publish()))}});geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Accessibility/AccessibilityButtonView.html","html","PGRpdiBjbGFzcz0iYWNjZXNzaWJpbGl0eSIgdGFiaW5kZXg9Ii0xIj4gPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJhY2Nlc3NpYmlsaXR5LWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGluY2x1ZGVkfXtAZXZlbnQtb25jbGljazogaGFuZGxlT25DbGlja317dGl0bGU6IEBsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1hY2Nlc3NpYmlsaXR5LWljb259IiB0YWJpbmRleD0iMCI+PC9idXR0b24+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Accessibility/AccessibilityIconView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlIG5vdGlmaWNhdGlvbiBhbGVydCI+IDxkaXYgcm9sZT0iYWxlcnQiIHRhYmluZGV4PSIwIj4gPGRpdiBjbGFzcz0iZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogR2V0SFRNTENvbnRlbnR9e0B3aWRnZXQtY29udGV4dDogY29udGVudH0iPjwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBva0J1dHRvbkVsZW1lbnR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja09rfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1va30iIC8+IDwvZGl2PiAgICANCjwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Accessibility/AccessibilityView.html","html","IDxkaXYgY2xhc3M9InNjcmVlbi1yZWFkZXItbm90aWZpY2F0aW9ucyIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogc2NyZWVuUmVhZGVyTm90aWZpY2F0aW9uc0VsZW1lbnR9IiBhcmlhLWxpdmU9InBvbGl0ZSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBhcmlhTGFiZWxUZXh0fSIgYXJpYS1saXZlPSJwb2xpdGUiPjwvc3Bhbj4gPC9kaXY+IA==");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Alert/AlertView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlIG5vdGlmaWNhdGlvbiBhbGVydCI+IDxwIGNsYXNzPSJkZXNjIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogYWxlcnRCb2R5fSI+PC9wPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0B2YXI6IG9rQnV0dG9uRWxlbWVudH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrT2t9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLW9rfSIgLz4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Authentication/AuthenticationView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlIGF1dGhlbnRpY2F0aW9uLWRpYWxvZyI+IDxkaXYgY2xhc3M9ImZvcm0tdmFsaWRhdGlvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGVycm9yfXtAdGV4dDplcnJvck1lc3NhZ2V9Ij48L2Rpdj4gIDxkaXYgY2xhc3M9ImxvYWRpbmctY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogYXV0aGVudGljYXRpbmd9Ij4gPGRpdiBjbGFzcz0ibG9hZGluZy1pbWciIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBidXN5fSI+PC9kaXY+IDxkaXYgY2xhc3M9ImxvYWRpbmctbXNnIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWF1dGgtYXV0aGVudGljYXRpbmd9Ij48L2Rpdj4gPC9kaXY+IDxmb3JtIGNsYXNzPSJmb3JtLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogYXV0aGVudGljYXRpbmd9Ij4gPGRpdiBjbGFzcz0iZm9ybS1pdGVtIj4gPGxhYmVsIGZvcj0idXNlcm5hbWUiY2xhc3M9ImZvcm0tbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtYXV0aC11c2VybmFtZX0iPjwvbGFiZWw+IDxkaXYgY2xhc3M9ImZvcm0tY29udHJvbCI+IDxpbnB1dCBpZD0idXNlcm5hbWUiIHR5cGU9InRleHQiIGF1dG9jb3JyZWN0PSJvZmYiIGF1dG9jYXBpdGFsaXplPSJvZmYiIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogdXNlcm5hbWV9IiAvPiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0taXRlbSI+IDxsYWJlbCBmb3I9InBhc3N3b3JkIiBjbGFzcz0iZm9ybS1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1hdXRoLXBhc3N3b3JkfSI+PC9sYWJlbD4gPGRpdiBjbGFzcz0iZm9ybS1jb250cm9sIj4gPGlucHV0IGlkPSJwYXNzd29yZCIgdHlwZT0icGFzc3dvcmQiIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogcGFzc3dvcmR9IiAvPiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrTG9naW59e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWxvZ2lufSI+PC9idXR0b24+IDwvZGl2PiA8L2Zvcm0+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Banner/BannerView.html","html","PGRpdiBjbGFzcz0iYmFubmVyIg0KICAgICBkYXRhLWJpbmRpbmc9IntAc3R5bGUtYmFja2dyb3VuZEltYWdlOiBiYWNrZ3JvdW5kSW1hZ2V9e0BzdHlsZS1iYWNrZ3JvdW5kQ29sb3I6IGJhY2tncm91bmRDb2xvcn17QHN0eWxlLWhlaWdodDogaGVpZ2h0fSI+ICA8ZGl2IGNsYXNzPSJiYW5uZXItaW1hZ2VzIGJhbm5lci1ub3NlbGVjdCINCiAgICAgICAgIGRhdGEtYmluZGluZz0ie0BldmVudC1tb3VzZWRvd246IGhhbmRsZU1vdXNlRG93bn0NCiAgICAgICAgICAgICAgICAgICAgICB7QGV2ZW50LW1vdXNldXA6IGhhbmRsZU1vdXNlVXB9DQogICAgICAgICAgICAgICAgICAgICAge0BldmVudC1tb3VzZW91dDogaGFuZGxlTW91c2VPdXR9DQogICAgICAgICAgICAgICAgICAgICAge0BldmVudC1kYmxjbGljazogaGFuZGxlRG91YmxlQ2xpY2t9DQogICAgICAgICAgICAgICAgICAgICAge0BldmVudC10b3VjaGNhbmNlbDogaGFuZGxlVG91Y2hDYW5jZWx9DQogICAgICAgICAgICAgICAgICAgICAge0BldmVudC10b3VjaHN0YXJ0OiBoYW5kbGVUb3VjaFN0YXJ0fQ0KICAgICAgICAgICAgICAgICAgICAgIHtAZXZlbnQtdG91Y2hlbmQ6IGhhbmRsZVRvdWNoRW5kfSI+IDxpbWcgY2xhc3M9ImJhbm5lci1sZWZ0LWltZyIgZGF0YS1iaW5kaW5nPSJ7c3JjOiBsZWZ0SW1hZ2V9e2FsdDogbGVmdEltYWdlRGVzY3JpcHRpb259e0B2aXNpYmxlOiBsZWZ0SW1hZ2V9IiB0YWJpbmRleD0iMCIgLz4gPGltZyBjbGFzcz0iYmFubmVyLXJpZ2h0LWltZyIgZGF0YS1iaW5kaW5nPSJ7c3JjOiByaWdodEltYWdlfXthbHQ6IHJpZ2h0SW1hZ2VEZXNjcmlwdGlvbn17QHZpc2libGU6IHJpZ2h0SW1hZ2V9IiB0YWJpbmRleD0iMCIgLz4gPC9kaXY+IDx0YWJsZSBjbGFzcz0iYmFubmVyLXRleHQiIHJvbGU9InByZXNlbnRhdGlvbiI+IDx0cj4gPHRkPiA8aDEgY2xhc3M9ImJhbm5lci10aXRsZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGFwcGxpY2F0aW9uVGl0bGV9e0BzdHlsZS1jb2xvcjogdGl0bGVDb2xvcn17QHZpc2libGU6IGFwcGxpY2F0aW9uVGl0bGV9IiB0YWJpbmRleD0iMCI+PC9oMT4gPGgyIGNsYXNzPSJiYW5uZXItc3VidGl0bGUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBhcHBsaWNhdGlvblN1YnRpdGxlfXtAc3R5bGUtY29sb3I6IHN1YnRpdGxlQ29sb3J9e0B2aXNpYmxlOiBhcHBsaWNhdGlvblN1YnRpdGxlfSIgdGFiaW5kZXg9IjAiPjwvaDI+IDwvdGQ+IDwvdHI+IDwvdGFibGU+IDxkaXYgY2xhc3M9ImJhbm5lci1jb250ZW50LXJlZ2lvbiIgZGF0YS1yZWdpb24tbmFtZT0iQmFubmVyQ29udGVudFJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5EaXZTdGFja1JlZ2lvbkFkYXB0ZXIiIGRhdGEtcmVnaW9uLW9wdGlvbnM9ImFjdGl2YXRlVmlld3NJbkxhc3RQb3NpdGlvbj1mYWxzZSI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/BarcodeScanner/BarcodeScannerView.html","html","PHZpZGVvIGF1dG9wbGF5IGRhdGEtYmluZGluZz0ie0B2YXI6IHZpZGVvRWxlbWVudH17QGV2ZW50LWtleWRvd246IGhhbmRsZUtleURvd259Ij48L3ZpZGVvPiA8Y2FudmFzIGRhdGEtYmluZGluZz0ie0B2YXI6IGNhbnZhc0VsZW1lbnR9IiBzdHlsZT0iZGlzcGxheTogbm9uZTsiIGlkPSJxci1jYW52YXMiIHdpZHRoPSI2NDAiIGhlaWdodD0iNDgwIj48L2NhbnZhcz4gPHVsIGNsYXNzPSJjYW1lcmEtY29udHJvbHMiPiA8bGk+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tY2FuY2VsfXtAZXZlbnQtb25jbGljazogaGFuZGxlQmFja0NsaWNrfSI+PC9idXR0b24+IDwvbGk+IDxsaT4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWJhcmNvZGUtc2Nhbm5lci1zd2l0Y2h9e0B2aXNpYmxlOiBzaG93U291cmNlU3dpdGNoZXJ9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVTd2l0Y2hTb3VyY2V9Ij48L2J1dHRvbj4gPC9saT4gPC91bD4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Basemap/BasemapSliderView.html","html","PGRpdiBjbGFzcz0iYmFzZW1hcC1zbGlkZXItY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAY2xhc3MtYmFzZW1hcC1zbGlkZXItZXhwYW5kZWQ6IHNsaWRlcklzRXhwYW5kZWR9Ij4gPGJ1dHRvbiBjbGFzcz0iYmFzZW1hcC1zbGlkZXItdG9nZ2xlIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogdG9nZ2xlRXhwYW5kZWR9e0BjbGFzcy1iYXNlbWFwLXNsaWRlci1leHBhbmRlZDogc2xpZGVySXNFeHBhbmRlZH17dGl0bGU6IEBsYW5ndWFnZS1iYXNlbWFwLXNsaWRlci10b2dnbGUtYnV0dG9ufSIgdGFiaW5kZXg9IjAiPlRvZ2dsZTwvYnV0dG9uPiA8ZGl2IGNsYXNzPSJiYXNlbWFwLXNsaWRlci1pbm5lciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNsaWRlcklzRXhwYW5kZWR9Ij4gPGRpdiBjbGFzcz0ic2xpZGVyLWxhYmVsIHNsaWRlci1sYWJlbC1taW4iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBzbGlkZXJNaW5MYWJlbH0iPjwvZGl2PiA8ZGl2IGNsYXNzPSJzbGlkZXItbGFiZWwgc2xpZGVyLWxhYmVsLW1heCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHNsaWRlck1heExhYmVsfSI+PC9kaXY+IDxkaXYgY2xhc3M9ImJhc2VtYXAtc2xpZGVyLXRpY2tzIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBzbGlkZXJUaWNrc30iPiA8ZGl2IGNsYXNzPSJ0aWNrIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBzbGlkZXJUaWNrc317QHN0eWxlLWxlZnQ6IHBvc2l0aW9ufSI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJiYXNlbWFwLXNsaWRlciIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogc2xpZGVyRWxlbWVudH0iPiA8ZGl2IGNsYXNzPSJ0aWNrIGxhc3QtdGljayI+PC9kaXY+IDxkaXYgY2xhc3M9InNsaWRlci1sYWJlbCBzbGlkZXItbGFiZWwtY3VycmVudCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogc2xpZGVyTGFiZWxFbGVtZW50fXtAdGV4dDogc2xpZGVyU2VsZWN0ZWRMYWJlbH0iPjwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Basemap/BasemapSwitcherButtonView.html","html","PGRpdiBjbGFzcz0iZmx5b3V0LW1lbnUiPiA8YnV0dG9uIGNsYXNzPSJmbHlvdXQtbWVudS1hY3RpdmUtdG9vbCIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZURyYXdlckJ1dHRvbkNsaWNrZWR9e3RpdGxlOiBAbGFuZ3VhZ2UtYmFzZW1hcC1zd2l0Y2hlci1zd2l0Y2h9e0BlbmFibGVkOiBiYXNlbWFwc30iIHRhYmluZGV4PSIwIj4gPGltZyBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2VsZWN0ZWRCYXNlbWFwSWNvblVyaX17c3JjOiBzZWxlY3RlZEJhc2VtYXBJY29uVXJpfXthbHQ6IGhlYWRlckxhYmVsfSIvPiA8cCBjbGFzcz0idG9vbC1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGhlYWRlckxhYmVsfXt0aXRsZTogaGVhZGVyTGFiZWx9Ij48L3A+IDwvYnV0dG9uPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IEJhc2VtYXBzTGlzdENvbnRyb2xsZXJ9e0B3aWRnZXQtY29udGV4dDogQGNvbnRleHR9e0B3aWRnZXQtcmVwbGFjZTogdHJ1ZX0iPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Basemap/BasemapSwitcherView.html","html","PHVsIGNsYXNzPSJiYXNlbWFwLXN3aXRjaGVyIHRvb2xiYXItcGFyZW50IiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBiYXNlbWFwc317QHZhcjogZHJhd2VyQ29udGVudFBhcmVudH0iPiA8bGkgY2xhc3M9ImJhc2VtYXAtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYmFzZW1hcHN9Ij4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIiBkYXRhLWJpbmRpbmc9IntAY2xhc3Mtc2VsZWN0ZWQ6IHZpc2libGV9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVCYXNlbWFwQ2xpY2t9IiB0YWJpbmRleD0iMCI+IDxpbWcgY2xhc3M9Imljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfXtzcmM6IGljb25Vcml9e3RpdGxlOiBkaXNwbGF5TmFtZX17YWx0OiBkaXNwbGF5TmFtZX0iIC8+IDxwIGNsYXNzPSJsYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfXt0aXRsZTogZGlzcGxheU5hbWV9Ij48L3A+IDwvYnV0dG9uPiA8L2xpPiA8L3VsPiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Basemap/BasemapSwitcherViewControllerView.html","html","PGRpdiBjbGFzcz0iZmx5b3V0LW1lbnUtY29sbGFwc2libGUtYXJlYSBmbHlvdXQtbWVudS10b29scyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzRXhwYW5kZWR9e0B2YXI6IGNvbGxhcHNpYmxlQXJlYUVsZW1lbnR9e0BjbGFzcy1tdWx0aS1yb3c6IG11bHRpcGxlUm93c30iPiA8YnV0dG9uIGNsYXNzPSJmbHlvdXQtbWVudS1zY3JvbGwgc2Nyb2xsLWJhY2siIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVTY3JvbGxCYWNrfXtAZW5hYmxlZDpiYWNrQXJyb3dFbmFibGVkfXtAdmlzaWJsZTpiYWNrQXJyb3dWaXNpYmxlfXtAdmFyOiBiYWNrQXJyb3dFbGVtZW50fSIgdGFiaW5kZXg9IjAiPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9jaGV2cm9uLWxlZnQtMTYucG5nIiBkYXRhLWJpbmRpbmc9InthbHQ6IEBsYW5ndWFnZS1jb21wYWN0LXRvb2xiYXItbW9yZS10b29sc30iIC8+IDwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJmbHlvdXQtbWVudS1zY3JvbGwgc2Nyb2xsLXRvcCIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVNjcm9sbFRvcH17QGVuYWJsZWQ6IHRvcEFycm93RW5hYmxlZH17QHZpc2libGU6IHRvcEFycm93VmlzaWJsZX17QHZhcjogdG9wQXJyb3dFbGVtZW50fSIgdGFiaW5kZXg9IjAiPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9jaGV2cm9uLXVwLTI0LnBuZyIgZGF0YS1iaW5kaW5nPSJ7YWx0OiBAbGFuZ3VhZ2UtY29tcGFjdC10b29sYmFyLW1vcmUtdG9vbHN9IiAvPiA8L2J1dHRvbj4gIDxkaXYgY2xhc3M9ImZseW91dC1tZW51LWZsb2F0aW5nLWFyZWEiIGRhdGEtYmluZGluZz0ie0B2YXI6IGRyYXdlckVsZW1lbnR9Ij4gPGRpdiBjbGFzcz0idG9vbGJhci1pdGVtIHRvb2xiYXItZ3JvdXAiIGRhdGEtYmluZGluZz0ie0B2YXI6IGRyYXdlckNvbnRlbnRFbGVtZW50fXtAY2xhc3MtdG9vbGJhci1ncm91cC1ob3Jpem9udGFsLWNvbnRyb2xzOiBoYXNIb3Jpem9udGFsQ29udHJvbHN9e0BjbGFzcy10b29sYmFyLWdyb3VwLXZlcnRpY2FsLWNvbnRyb2xzOiBoYXNWZXJ0aWNhbENvbnRyb2xzfSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogYmFzZW1hcHNMaXN0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcGxhY2U6IHRydWV9Ij48L2Rpdj4gPC9kaXY+IDwvZGl2PiAgPGJ1dHRvbiBjbGFzcz0iZmx5b3V0LW1lbnUtc2Nyb2xsIHNjcm9sbC1mb3J3YXJkIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlU2Nyb2xsRm9yd2FyZH17QGVuYWJsZWQ6IGZvcndhcmRBcnJvd0VuYWJsZWR9e0B2aXNpYmxlOmZvcndhcmRBcnJvd1Zpc2libGV9e0B2YXI6IGZvcndhcmRBcnJvd0VsZW1lbnR9Ij4gPGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvY2hldnJvbi1yaWdodC0xNi5wbmciIGRhdGEtYmluZGluZz0ie2FsdDogQGxhbmd1YWdlLWNvbXBhY3QtdG9vbGJhci1tb3JlLXRvb2xzfSIgLz4gPC9idXR0b24+IDxidXR0b24gY2xhc3M9ImZseW91dC1tZW51LXNjcm9sbCBzY3JvbGwtYm90dG9tIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlU2Nyb2xsQm90dG9tfXtAZW5hYmxlZDogYm90dG9tQXJyb3dFbmFibGVkfXtAdmlzaWJsZTogYm90dG9tQXJyb3dWaXNpYmxlfXtAdmFyOiBib3R0b21BcnJvd0VsZW1lbnR9Ij4gPGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvY2hldnJvbi1kb3duLTI0LnBuZyIgZGF0YS1iaW5kaW5nPSJ7YWx0OiBAbGFuZ3VhZ2UtY29tcGFjdC10b29sYmFyLW1vcmUtdG9vbHN9IiAvPiA8L2J1dHRvbj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Basemap/BasemapView.html","html","PGRpdiBjbGFzcz0icmVnaW9uIGJhc2VtYXAtcmVnaW9uIiBkYXRhLXJlZ2lvbi1uYW1lPSJCYXNlbWFwUmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLkRpdlN0YWNrUmVnaW9uQWRhcHRlciIgZGF0YS1yZWdpb24tb3B0aW9ucz0iYWN0aXZhdGVWaWV3c0luTGFzdFBvc2l0aW9uPWZhbHNlIj48L2Rpdj4g");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Basemap/SmallBasemapSwitcherButtonView.html","html","PGRpdiBjbGFzcz0iYmFzZW1hcC1zd2l0Y2hlci13cmFwcGVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd0Jhc2VtYXBzQ29udHJvbH17QGNsYXNzLXN3aXRjaGVyLWFjdGl2ZTogZXhwYW5kZWR9e0Bub2NsYXNzLXN3aXRjaGVyLWluYWN0aXZlOiBleHBhbmRlZH0iPiA8ZGl2IGNsYXNzPSJiYXNlbWFwLWJ1dHRvbiBzbWFsbCIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZURyYXdlckJ1dHRvbkNsaWNrZWR9Ij4gPGltZyBjbGFzcz0iYmFzZW1hcC1pY29uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2VsZWN0ZWRCYXNlbWFwSWNvblVyaX17c3JjOiBzZWxlY3RlZEJhc2VtYXBJY29uVXJpfXthbHQ6IGRpc3BsYXlOYW1lfSIgLz4gPHNwYW4gY2xhc3M9ImRpc3BsYXktbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGhlYWRlckxhYmVsfXt0aXRsZTogaGVhZGVyTGFiZWx9Ij48L3NwYW4+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Bookmarks/AddBookmarkView.html","html","PGRpdiBjbGFzcz0iZm9ybS1tb2RhbCBia21rLWFkZC1kaWFsb2ciPiA8Zm9ybSBhY3Rpb249ImphdmFzY3JpcHQ6dm9pZCgwKTsiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbnN1Ym1pdDogaGFuZGxlU3VibWl0fSI+IDxsYWJlbCBmb3I9IkJvb2ttYXJrTmFtZSIgZGF0YS1iaW5kaW5nPSIge0B0ZXh0OiBAbGFuZ3VhZ2UtYm9va21hcmtzLWVudGVyLW5hbWV9Ij48L2xhYmVsPiA8aW5wdXQgaWQ9IkJvb2ttYXJrTmFtZSIgY2xhc3M9ImJrbWstaW5wdXQiIHR5cGU9InRleHQiIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogbmV3Qm9va21hcmtOYW1lfXtAZXZlbnQtY2xpY2s6IGhhbmRsZVRleHRCb3hDbGlja30iIC8+IDxzcGFuIGNsYXNzPSJmb3JtLXZhbGlkYXRpb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiB0ZXh0RXJyb3JNZXNzYWdlfSI+IDxzcGFuIGNsYXNzPSJmaWVsZC12YWxpZGF0aW9uLWVycm9yIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogdGV4dEVycm9yTWVzc2FnZX0iPjwvc3Bhbj4gPC9zcGFuPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVTdWJtaXR9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLW9rfSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNhbmNlbENsaWNrfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1jYW5jZWx9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZm9ybT4gPC9kaXY+IA0K");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Bookmarks/BookmarksButtonView.html","html","PGRpdiBjbGFzcz0iYm9va21hcmstd3JhcHBlciI+IDxkaXYgY2xhc3M9Inpvb20tY29udHJvbC1idG4iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93Qm9va21hcmtzQnV0dG9ufXtAY2xhc3MtYmttay1hY3RpdmU6IGFjdGl2ZX0iPiA8YnV0dG9uIGNsYXNzPSJib29rbWFyayB0b2dnbGUtYnRuIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tUb2dnbGVCb29rbWFya317dGl0bGU6IEBsYW5ndWFnZS1ib29rbWFya3MtdGl0bGV9IiB0YWJpbmRleD0iMCI+PC9idXR0b24+IDwvZGl2PiA8ZGl2IGNsYXNzPSJib29rbWFyay1saXN0IiBkYXRhLXJlZ2lvbi1uYW1lPSJCb29rbWFya3NMaXN0UmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Bookmarks/BookmarksView.html","html","PGRpdiBjbGFzcz0iYmttay1jb250YWluZXIiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBib29rbWFya3NFbmFibGVkfSI+IDxkaXYgY2xhc3M9ImJrbWstdGl0bGUiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBib29rbWFya3N9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1ib29rbWFya3MtdGl0bGV9Ij48L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPSJia21rLWxpc3QiIHRhYmluZGV4PSItMSI+IDx1bCBjbGFzcz0ibGlzdC1tZW51IGhhcy1pY29uIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBib29rbWFya3N9e0BldmVudC1vbmJsdXI6IGhhbmRsZUhpZGVCb29rbWFya3N9Ij4gPGxpIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYm9va21hcmtzfXtAYXR0YWNoOiBAY29udGV4dH0iPiA8YnV0dG9uIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc1VzZXJEZWZpbmVkfXtAZXZlbnQtb25jbGljazogaGFuZGxlRGVsZXRlQm9va21hcmt9e3RpdGxlOiBkZWxldGVCb29rbWFya1N0cmluZ30iIGNsYXNzPSJia21rLWRlbGV0ZSI+IDxpbWcgY2xhc3M9Imxpc3QtbWVudS1pY29uIiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvZGVsZXRlLTE2LnBuZyIgYWx0PSIgIiAvPiA8L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUJvb2ttYXJrU2VsZWN0aW9uQ2hhbmdlZH0iPjwvYnV0dG9uPiA8L2xpPiA8L3VsPiA8dWwgY2xhc3M9Imxpc3QtbWVudSBoYXMtaWNvbiBia21rLWFkZCI+IDxsaSBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iPiA8YnV0dG9uIGNsYXNzPSJia21rLWFkZC1idG4iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVBZGRCb29rbWFya317dGl0bGU6IEBsYW5ndWFnZS1ib29rbWFya3MtYWRkfSI+IDxpbWcgY2xhc3M9Imxpc3QtbWVudS1pY29uIiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvYWRkLTE2LnBuZyIgYWx0PSIgIiAvPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtYm9va21hcmtzLWFkZH0iPjwvc3Bhbj4gPC9idXR0b24+IDwvbGk+IDwvdWw+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Buffer/BufferOptionsView.html","html","PGRpdiBjbGFzcz0iYnVmZmVyLW9wdGlvbnMiPiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1idWZmZXItb3B0aW9ucy1kaXN0YW5jZS1sYWJlbH0iPjwvbGFiZWw+IDxpbnB1dCB0eXBlPSJudW1iZXIiIHN0ZXA9ImFueSIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBidWZmZXJEaXN0YW5jZX17QGV2ZW50LW9uY2hhbmdlOiB2YWxpZGF0ZUFuZEFwcGx5SW5wdXR9e3RpdGxlOiBAbGFuZ3VhZ2UtYnVmZmVyLW9wdGlvbnMtZGlzdGFuY2UtdGl0bGV9IiAvPiA8L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS12YWxpZGF0aW9uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaW5wdXRFcnJvcn0iPiA8c3BhbiBjbGFzcz0iZmllbGQtdmFsaWRhdGlvbi1lcnJvciIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGlucHV0RXJyb3J9Ij48L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1idWZmZXItb3B0aW9ucy11bml0cy1sYWJlbH0iPjwvbGFiZWw+IDxzZWxlY3QgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogYnVmZmVyVW5pdHN9e0B2YWx1ZTogc2VsZWN0ZWRCdWZmZXJVbml0fXtAZXZlbnQtb25jaGFuZ2U6IHZhbGlkYXRlQW5kQXBwbHlJbnB1dH17dGl0bGU6IEBsYW5ndWFnZS1idWZmZXItb3B0aW9ucy1sZW5ndGgtdW5pdC1zZWxlY3R9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBidWZmZXJVbml0c317QHRleHQ6IGRpc3BsYXlOYW1lfXt2YWx1ZTogY29uZmlnfSIgLz4gPC9zZWxlY3Q+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmb3JtLXZhbGlkYXRpb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBidWZmZXJpbmdFcnJvcn0iPiA8c3BhbiBjbGFzcz0iZmllbGQtdmFsaWRhdGlvbi1lcnJvciIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGJ1ZmZlcmluZ0Vycm9yfSI+PC9zcGFuPiA8L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9Int0aXRsZTogQGxhbmd1YWdlLWJ1ZmZlci1jbGVhci1idXR0b24tdGl0bGV9e0B0ZXh0OiBAbGFuZ3VhZ2UtYnVmZmVyLWNsZWFyLWJ1dHRvbi10ZXh0fXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xlYXJCdXR0b25DbGlja30iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie3RpdGxlOiBAbGFuZ3VhZ2UtYnVmZmVyLWNhbmNlbC1idXR0b24tdGl0bGV9e0B0ZXh0OiBAbGFuZ3VhZ2UtYnVmZmVyLWNhbmNlbC1idXR0b24tdGV4dH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNhbmNlbEJ1dHRvbkNsaWNrfSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7dGl0bGU6IEBsYW5ndWFnZS1idWZmZXItb3B0aW9ucy1jb250aW51ZS1idXR0b24tdGl0bGV9e0B0ZXh0OiBAbGFuZ3VhZ2UtYnVmZmVyLW9wdGlvbnMtY29udGludWUtYnV0dG9uLXRleHR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDb250aW51ZUJ1dHRvbkNsaWNrfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/ClusterLayers/ClusterLayerView.html","html","PGRpdiBjbGFzcz0iY2x1c3RlcnMiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHNlbGVjdGVkQ2x1c3RlckxheWVyfSI+IDxkaXYgY2xhc3M9ImZvcm0tc3RhY2tlZCIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogc2VsZWN0ZWRDbHVzdGVyTGF5ZXJ9Ij4gPGg0IGNsYXNzPSJ2aXN1YWxpemF0aW9uLXRpdGxlIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNsdXN0ZXJpbmctdGl0bGV9Ij48L2g0PiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iPiA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtY2x1c3RlcmluZy1yYWRpdXN9Ij48L2xhYmVsPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRyb2wiPiA8aW5wdXQgdHlwZT0ibnVtYmVyIiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IGNsdXN0ZXJSYWRpdXN9e3RpdGxlOiBAbGFuZ3VhZ2UtY2x1c3RlcmluZy1yYWRpdXN9IiAvPiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0taXRlbSI+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1jbHVzdGVyaW5nLW1heGltdW0tZmVhdHVyZXN9Ij48L2xhYmVsPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRyb2wiPiA8aW5wdXQgdHlwZT0ibnVtYmVyIiBtaW49IjAiIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogbWF4RmVhdHVyZXNJbkNsdXN0ZXJ9e3RpdGxlOiBAbGFuZ3VhZ2UtY2x1c3RlcmluZy1tYXhpbXVtLWZlYXR1cmVzfSIgLz4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Confirm/ConfirmView.html","html","DQo8ZGl2IGNsYXNzPSJtb2R1bGUgbm90aWZpY2F0aW9uIGNvbmZpcm0iPiA8cCBjbGFzcz0iZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGNvbmZpcm1Cb2R5fSI+PC9wPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja09rfXtAdGV4dDogb2tMYWJlbH0iIC8+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogY2FuY2VsQnV0dG9uRWxlbWVudH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrQ2FuY2VsfXtAdGV4dDogY2FuY2VsTGFiZWx9IiAvPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/ContextMenu/ContextMenuView.html","html","PGRpdiBjbGFzcz0icmVnaW9uIGNvbnRleHQtbWVudS1yZWdpb24iIGRhdGEtYmluZGluZz0ie0B2YXI6IGNvbnRleHRNZW51fXtAY2xhc3Mtb2Zmc2V0LWxlZnQ6IGlzT2Zmc2V0TGVmdH17QGNsYXNzLW9mZnNldC11cDogaXNPZmZzZXRVcH0iIGRhdGEtcmVnaW9uLW5hbWU9IkNvbnRleHRNZW51Q29udGVudFJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Coordinates/CoordinatesView.html","html","PGRpdiBjbGFzcz0iY29vcmRzIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNFbmFibGVkfSI+IDxidXR0b24gY2xhc3M9ImNvb3Jkcy10b2dnbGUiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiB0b2dnbGVDb29yZGluYXRlc0FjdGl2ZX17QGNsYXNzLWNvb3Jkcy10b2dnbGUtYWN0aXZlOiBpc0FjdGl2ZX17QGNsYXNzLWNvb3Jkcy10b2dnbGUtbGVmdDogaXNMZWZ0fXtAY2xhc3MtY29vcmRzLXRvZ2dsZS1yaWdodDogaXNSaWdodH17dGl0bGU6IEBsYW5ndWFnZS1mZWF0dXJlLWNvb3JkaW5hdGVzLXRvZ2dsZS1idXR0b259IiB0YWJpbmRleD0iMCI+VG9nZ2xlPC9idXR0b24+IDxkaXYgY2xhc3M9ImNvb3Jkcy1pbmZvIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNBY3RpdmV9e0BjbGFzcy1jb29yZHMtaW5mby1mbG9hdC1sZWZ0OiBpc0xlZnR9e0BjbGFzcy1jb29yZHMtaW5mby1mbG9hdC1yaWdodDogaXNSaWdodH0iPiA8YnV0dG9uIGNsYXNzPSJjb29yZHMtc2VsZWN0LWJ0biIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IHRvZ2dsZVNlbGVjdENvbnRhaW5lcn17dGl0bGU6QGxhbmd1YWdlLWZlYXR1cmUtY29vcmRpbmF0ZXMtY2hhbmdlLXN5c3RlbX0iIHRhYmluZGV4PSIwIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogY3VycmVudENvb3JkaW5hdGVTeXN0ZW19Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogY3VycmVudENvb3JkaW5hdGVTeXN0ZW19e0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvc3Bhbj4gPC9zcGFuPiA8c3BhbiBjbGFzcz0iY29vcmQtc2VsZWN0LWFycm93IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogY29vcmRpbmF0ZVNlbGVjdEFycm93fSI+PC9zcGFuPiA8L2J1dHRvbj4gPHVsIGNsYXNzPSJjb29yZHMtc2VsZWN0IiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBjb29yZGluYXRlU3lzdGVtc317QHZpc2libGU6IGNvb3JkaW5hdGVTZWxlY3RFbmFibGVkfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0BjbGFzcy1jb29yZHMtc2VsZWN0LXRvcDogaXNUb3B9Ij4gPGxpIGNsYXNzPSJjb29yZHMtc2VsZWN0LWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGNvb3JkaW5hdGVTeXN0ZW1zfSI+IDxidXR0b24gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfXtAZXZlbnQtb25jbGljazogY2hhbmdlQ29vcmRpbmF0ZVN5c3RlbX0iPjwvYnV0dG9uPiA8L2xpPiA8L3VsPiA8ZGl2IGNsYXNzPSJjb29yZHMtZGlzcGxheSI+IDxkaXYgY2xhc3M9ImNvb3Jkcy1pdGVtIGNvb3Jkcy14Ij4gPHNwYW4gY2xhc3M9ImNvb3Jkcy1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHhWYWx1ZVR5cGV9Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJjb29yZHMtdmFsdWVzIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogeFZhbHVlfSI+PC9zcGFuPiA8L2Rpdj4gPGRpdiBjbGFzcz0iY29vcmRzLWl0ZW0gY29vcmRzLXkiPiA8c3BhbiBjbGFzcz0iY29vcmRzLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogeVZhbHVlVHlwZX0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNvb3Jkcy12YWx1ZXMiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB5VmFsdWV9Ij48L3NwYW4+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Editing/CreateOrEdit/CreateOrEditView.html","html","PGRpdiBjbGFzcz0idmlldy1mZWF0dXJlLWNyZWF0ZS1vci1lZGl0IGNvbnRlbnQtY29udGFpbmVyIj4gPHAgY2xhc3M9ImRlc2NyaXB0aW9uLXRleHQiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWNyZWF0ZS1lZGl0LW5vLWZlYXR1cmVzLWZvdW5kfSI+PC9wPiA8dWwgY2xhc3M9ImFjdGlvbi1idG5zIj4gPGxpPiA8YnV0dG9uIGNsYXNzPSJidXR0b24gYnV0dG9uLWFjdGlvbi1pY29uIGNyZWF0ZS1uZXctZmVhdHVyZSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrQ3JlYXRlTmV3RmVhdHVyZX0iPjxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvZmVhdHVyZS1jcmVhdGUtMjQucG5nIiBkYXRhLWJpbmRpbmc9InthbHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctY3JlYXRlLWVkaXQtbmV3LWZlYXR1cmV9e3RpdGxlOiBAbGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWNyZWF0ZS1lZGl0LW5ldy1mZWF0dXJlfSI+PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctY3JlYXRlLWVkaXQtbmV3LWZlYXR1cmV9Ij48L3NwYW4+PC9idXR0b24+IDwvbGk+IDxsaT4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIGJ1dHRvbi1hY3Rpb24taWNvbiBleGlzdGluZy1mZWF0dXJlIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tTZWxlY3RFeGlzdGluZ0ZlYXR1cmV9Ij48aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ZlYXR1cmUtbG9jYXRpb24tMjQucG5nIiBkYXRhLWJpbmRpbmc9InthbHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctY3JlYXRlLWVkaXQtc2VsZWN0LWV4aXN0aW5nLWZlYXR1cmV9e3RpdGxlOiBAbGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWNyZWF0ZS1lZGl0LXNlbGVjdC1leGlzdGluZy1mZWF0dXJlfSI+PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctY3JlYXRlLWVkaXQtc2VsZWN0LWV4aXN0aW5nLWZlYXR1cmV9Ij48L3NwYW4+PC9idXR0b24+IDwvbGk+IDwvdWw+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Editing/Editor/EditorView.html","html","PGRpdiBjbGFzcz0iZWRpdG9yIj4gIDxkaXYgY2xhc3M9ImxvYWRpbmctY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNCdXN5fSI+IDxkaXYgY2xhc3M9ImxvYWRpbmctaW1nIj48L2Rpdj4gPGRpdiBjbGFzcz0ibG9hZGluZy1tc2ciIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWFwcGx5aW5nfSI+PC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz0iYWRkLW9yLWVkaXQtZmVhdHVyZSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNCdXN5fSI+IDxkaXYgY2xhc3M9InBhbmVsLWNvbnRlbnQiPiAgPGRpdiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBmb3JtfSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogZm9ybX0iPiAgPGRpdiBjbGFzcz0icGFuZWwtbm90aWZpY2F0aW9uIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBmaWVsZHN9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctaW52YWxpZC1sYXllcn0iPjwvc3Bhbj4gPC9kaXY+IDxkaXYgY2xhc3M9InBhbmVsLWdyb3VwIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZmllbGRzfSI+IDxoMyBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1mZWF0dXJlLWF0dHJpYnV0ZXN9Ij48L2gzPiA8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cC1jb250ZW50cyI+IDxkaXYgY2xhc3M9ImZvcm0gbGFiZWwtc3RhY2tlZCI+IDxkaXYgY2xhc3M9ImZvcm0tY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBmaWVsZHN9e0B0ZW1wbGF0ZS1zZWxlY3RvcjogcmVuZGVyVHlwZX0iPiAgPGRpdiBjbGFzcz0iZm9ybS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBlc3JpRmllbGRUeXBlRGF0ZX17QHZpc2libGU6IGVkaXRhYmxlfSI+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvc3Bhbj4gPC9sYWJlbD4gPGRpdiBjbGFzcz0iZm9ybS1jb250cm9sLWRhdGUtcGlja2VyIiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBEYXRlUGlja2VyRm9ybUl0ZW19e0B3aWRnZXQtY29udGV4dDogZGF0ZVBpY2tlclZpZXdNb2RlbH0iPiA8L2Rpdj4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IGNvZGVkRG9tYWluVmFsdWV9e0B2aXNpYmxlOiBlZGl0YWJsZX0iPiA8ZGl2IGNsYXNzPSJjb21ib2JveCI+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImluZGljYXRvciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dJbmRpY2F0b3J9Ij4qPC9zcGFuPiA8L2xhYmVsPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRyb2wiPiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHZhbHVlT3B0aW9uc317QHZhbHVlOiB2YWx1ZX17QGRpc2FibGVkOiByZWFkT25seX0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHZhbHVlT3B0aW9uc317QHRleHQ6IG5hbWV9e3ZhbHVlOiBjb2RlfSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz0iZm9ybS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiB0eXBlRmllbGR9e0B2aXNpYmxlOiBlZGl0YWJsZX0iPiA8ZGl2IGNsYXNzPSJjb21ib2JveCI+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImluZGljYXRvciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dJbmRpY2F0b3J9Ij4qPC9zcGFuPiA8L2xhYmVsPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRyb2wiPiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHZhbHVlT3B0aW9uc317QHZhbHVlOiB2YWx1ZX17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVUeXBlRmllbGRDaGFuZ2V9e0BkaXNhYmxlZDogcmVhZE9ubHl9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiB2YWx1ZU9wdGlvbnN9e0B0ZXh0OiBuYW1lfXt2YWx1ZTogY29kZX0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImZvcm0taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogdGV4dEFyZWF9e0B2aXNpYmxlOiBlZGl0YWJsZX0iPiA8ZGl2IGNsYXNzPSJ0ZXh0Ym94Ij4gPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0iaW5kaWNhdG9yIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd0luZGljYXRvcn0iPio8L3NwYW4+IDwvbGFiZWw+IDxkaXYgY2xhc3M9ImZvcm0tY29udHJvbCI+IDx0ZXh0YXJlYSB0eXBlPSJ0ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IHByZXNlbnRhYmxlVmFsdWV9e0BkaXNhYmxlZDogcmVhZE9ubHl9e0BldmVudC1vbmJsdXI6IGhhbmRsZUlucHV0Qmx1cn17QGV2ZW50LW9uZm9jdXM6IGhhbmRsZUlucHV0Rm9jdXN9Ij48L3RleHRhcmVhPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz0iZm9ybS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBmaWVsZHN9e0B2aXNpYmxlOiBlZGl0YWJsZX0iPiA8ZGl2IGNsYXNzPSJ0ZXh0Ym94Ij4gPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0iaW5kaWNhdG9yIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd0luZGljYXRvcn0iPio8L3NwYW4+IDwvbGFiZWw+IDxkaXYgY2xhc3M9ImZvcm0tY29udHJvbCI+IDxpbnB1dCB0eXBlPSJ0ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IHByZXNlbnRhYmxlVmFsdWV9e0BkaXNhYmxlZDogcmVhZE9ubHl9e0BldmVudC1vbmJsdXI6IGhhbmRsZUlucHV0Qmx1cn17QGV2ZW50LW9uZm9jdXM6IGhhbmRsZUlucHV0Rm9jdXN9IiAvPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gIDx1bCBjbGFzcz0iZm9ybS12YWxpZGF0aW9uIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiB2YWxpZGF0aW9uTWVzc2FnZXN9e0B2aXNpYmxlOiB2YWxpZGF0aW9uTWVzc2FnZXN9Ij4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHZhbGlkYXRpb25NZXNzYWdlc30iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGNvbnRleHR9Ij48L3NwYW4+IDwvbGk+IDwvdWw+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9InBhbmVsLWdyb3VwLWNvbnRlbnRzIGZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrRWRpdEdlb21ldHJ5fXtAdmlzaWJsZTogc2hvd0VkaXRHZW9tZXRyeUJ1dHRvbn17QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctZWRpdC1nZW9tZXRyeS1jYXB0aW9ufSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrRWRpdEdlb21ldHJ5fXtAdmlzaWJsZTogc2hvd1N0b3BFZGl0aW5nR2VvbWV0cnlCdXR0b259e0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLXN0b3AtZWRpdGluZy1nZW9tZXRyeS1jYXB0aW9ufSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrRGVsZXRlRmVhdHVyZX17QHZpc2libGU6IGNhbkRlbGV0ZUZlYXR1cmV9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWRlbGV0ZX0iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja1NhdmV9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLXNhdmV9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tDYW5jZWx9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWNhbmNlbH0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Editing/TemplatePicker/FeatureTemplate.html","html","DQo8ZGl2IGNsYXNzPSJmZWF0dXJlLXRlbXBsYXRlIGhhcy1pY29uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlRmVhdHVyZVRlbXBsYXRlQ2xpY2t9Ij4gPGltZyBjbGFzcz0ibGlzdC1tZW51LWljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzeW1ib2xVcml9e3NyYzogc3ltYm9sVXJpfSIgYWx0PSIgIi8+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1pY29uIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBzeW1ib2xVcml9e2lubmVySFRNTDogc3dhdGNoRWxlbWVudH0iPjwvZGl2PiA8YnV0dG9uIGNsYXNzPSJsaXN0LW1lbnUtZGV0YWlscyI+IDxzdHJvbmcgY2xhc3M9Imxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvc3Ryb25nPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkZXNjcmlwdGlvbn17QHZpc2libGU6IGRlc2NyaXB0aW9ufSI+PC9zcGFuPiA8L2J1dHRvbj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Editing/TemplatePicker/TemplatePickerView.html","html","PGRpdiBjbGFzcz0iZmVhdHVyZS10ZW1wbGF0ZS1waWNrZXIiPiAgPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAgbm8taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogbGF5ZXJUZW1wbGF0ZXN9e0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLW5vLXRlbXBsYXRlc30iPjwvZGl2PiA8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogbGF5ZXJUZW1wbGF0ZXN9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBsYXllclRlbXBsYXRlc317QHZpc2libGU6IGxheWVySXNFZGl0YWJsZX0iPiA8aDMgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9oMz4gPGRpdiBjbGFzcz0ibm8tcmVzdWx0cyIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogdGVtcGxhdGVzfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLW5vLXRlbXBsYXRlc30iPjwvc3Bhbj4gPGRpdiBjbGFzcz0iZm9ybS1idXR0b24tY29udGFpbmVyIj4gPGRpdiBjbGFzcz0iZm9ybS1idXR0b24tYWxpZ24iPiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0gZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1hZGQtZmVhdHVyZS1idXR0b259e0BldmVudC1vbmNsaWNrOiBoYW5kbGVGZWF0dXJlVGVtcGxhdGVDbGlja30iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPHVsIGNsYXNzPSJsaXN0LW1lbnUiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiB0ZW1wbGF0ZXN9e0Bzb3VyY2U6IHRlbXBsYXRlc317QHRlbXBsYXRlLXNlbGVjdG9yOiBmb299Ij4gPGxpIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogQG51bGx9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL0VkaXRpbmcvVGVtcGxhdGVQaWNrZXIvRmVhdHVyZVRlbXBsYXRlLmh0bWx9Ij48L2xpPiA8L3VsPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/ExportMap/ExportMapView.html","html","PGRpdiBjbGFzcz0iZXhwb3J0bWFwIj4gPGRpdiBjbGFzcz0iZXhwb3J0LWNyZWF0ZSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogZXhwb3J0Q29tcGxldGV9Ij4gPGRpdiBjbGFzcz0iZXhwb3J0LXN0YXR1cyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzRXhwb3J0aW5nfSI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZXhwb3J0LW1hcC1pcy1leHBvcnRpbmd9Ij48L3A+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzRXhwb3J0aW5nfSI+IDxsYWJlbCBmb3I9Im91dHB1dGZvcm1hdCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1leHBvcnQtbWFwLXNlbGVjdC1pbWFnZS1mb3JtYXR9e0B2aXNpYmxlOiBvdXRwdXRGb3JtYXRzfSI+PC9sYWJlbD4gPHNlbGVjdCBpZD0ib3V0cHV0Zm9ybWF0IiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBvdXRwdXRGb3JtYXRzfXtAdmFsdWU6IHNlbGVjdGVkRm9ybWF0fXtAdmlzaWJsZTogb3V0cHV0Rm9ybWF0c30iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IG91dHB1dEZvcm1hdHN9e0B0ZXh0OiBAY29udGV4dH17QGF0dGFjaDogQGNvbnRleHR9Ij48L29wdGlvbj4gPC9zZWxlY3Q+IDxpbnB1dCBpZD0iZ2VvcmVmZXJlbmNlIiB0eXBlPSJjaGVja2JveCIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBpbmNsdWRlR2VvcmVmZXJlbmNlRGF0YX17QGVuYWJsZWQ6IGZvcm1hdFN1cHBvcnRzSW5jbHVkZUdlb3JlZmVyZW5jZURhdGF9e0B2aXNpYmxlOiBhbGxvd0luY2x1ZGVHZW9yZWZlcmVuY2VEYXRhfSIgLz4gPGxhYmVsIGZvcj0iZ2VvcmVmZXJlbmNlIiBjbGFzcz0iaW5saW5lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWV4cG9ydC1tYXAtaW5jbHVkZS1nZW9yZWZlcmVuY2UtZGF0YX17QHZpc2libGU6IGFsbG93SW5jbHVkZUdlb3JlZmVyZW5jZURhdGF9Ij48L2xhYmVsPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJleHBvcnQtYnV0dG9uIGJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LWNsaWNrOiBoYW5kbGVFeHBvcnRNYXBDbGlja317QHRleHQ6IEBsYW5ndWFnZS1leHBvcnQtbWFwLWNyZWF0ZS1pbWFnZX0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJleHBvcnQtY29tcGxldGUiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBleHBvcnRDb21wbGV0ZX0iPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWV4cG9ydC1tYXAtY29tcGxldGUtZGVzY3JpcHRpb259Ij48L3A+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImV4cG9ydC1idXR0b24gYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtY2xpY2s6IGhhbmRsZVZpZXdJbWFnZUNsaWNrfXtAdGV4dDogQGxhbmd1YWdlLWV4cG9ydC1tYXAtdmlldy1pbWFnZX0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/ExportWebMap/ExportWebMapView.html","html","PGRpdiBjbGFzcz0iZXhwb3J0LXdlYm1hcCI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogZXhwb3J0Q29tcGxldGV9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNFeHBvcnRpbmd9Ij4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1leHBvcnQtd2ViLW1hcC1pcy1leHBvcnRpbmd9Ij48L3A+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzRXhwb3J0aW5nfSI+IDxsYWJlbCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWV4cG9ydC13ZWItbWFwLXRpdGxlLWxhYmVsfSI+PC9sYWJlbD4gPGlucHV0IHR5cGU9InRleHQiIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogdGl0bGV9IiAvPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1jbGljazogaGFuZGxlRXhwb3J0V2ViTWFwQ2xpY2t9e0B0ZXh0OiBAbGFuZ3VhZ2UtZXhwb3J0LXdlYi1tYXAtZXhwb3J0LWJ1dHRvbn0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBleHBvcnRDb21wbGV0ZX0iPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWV4cG9ydC13ZWItbWFwLWNvbXBsZXRlLWRlc2NyaXB0aW9ufSI+PC9wPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1jbGljazogaGFuZGxlT3BlblBvcnRhbEl0ZW19e0B0ZXh0OiBAbGFuZ3VhZ2UtZXhwb3J0LXdlYi1tYXAtb3Blbi1wb3J0YWx9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsSwitcherView.html","html","PGRpdiBjbGFzcz0idGFiLWNvbnRhaW5lciI+IDx1bCBjbGFzcz0idGFiLWNvbnRyb2wiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHZpZXdEZXNjcmlwdG9yc30iPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogdmlld0Rlc2NyaXB0b3JzfXtAdmlzaWJsZTogcHJvdmlkZXJFbmFibGVkfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tUYWJ9Ij4gPGJ1dHRvbiBkYXRhLWJpbmRpbmc9IntAbm9jbGFzcy10YWI6IGlzQWN0aXZlfXtAY2xhc3MtdGFiLWFjdGl2ZTogaXNBY3RpdmV9e0B0ZXh0OiB0aXRsZX17dGl0bGU6IHRpdGxlfSI+PC9idXR0b24+IDwvbGk+IDwvdWw+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsView.html","html","PGRpdiBjbGFzcz0iZmVhdHVyZS1kZXRhaWxzLWhlYWRlciI+IDxkaXYgY2xhc3M9ImZlYXR1cmUtYWN0aW9ucy13aWRnZXQiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBjdXJyZW50RmVhdHVyZX17QHdpZGdldDogRmVhdHVyZUFjdGlvbnNXaWRnZXR9e0B3aWRnZXQtY29udGV4dDogY3VycmVudEZlYXR1cmV9e0B3aWRnZXQtcmVxdWlyZWQ6IGZhbHNlfSIgZGF0YS1tZW51LWlkPSJGZWF0dXJlQWN0aW9ucyIgZGF0YS1tZW51LXRlbXBsYXRlPSJNYXBwaW5nL2luZnJhc3RydWN0dXJlL21lbnVzL01lbnVIeXBlcmxpbmtWaWV3Lmh0bWwiPjwvZGl2PiA8L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBGZWF0dXJlRGV0YWlsc1JlZ2lvbldpZGdldH17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH17QHdpZGdldC1yZXF1aXJlZDogdHJ1ZX17QHdpZGdldC1yZXBsYWNlOiB0cnVlfSIgdGFiaW5kZXg9IjAiPjwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/LargeFeatureDetailsView.html","html","PGRpdiBjbGFzcz0ibGFyZ2UtZmVhdHVyZS1kZXRhaWwiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBoZWFkZXJUZXh0fSI+IDxoMiBkYXRhLWJpbmRpbmc9IntAdGV4dDogaGVhZGVyVGV4dH0iPjwvaDI+IDxkaXYgY2xhc3M9InBhbmVsLWdyb3VwIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogRmVhdHVyZUFjdGlvbnN9Ij4gPHVsIGNsYXNzPSJhY3Rpb25zLW1lbnUiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IEZlYXR1cmVBY3Rpb25zfSI+IDxsaSBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBGZWF0dXJlQWN0aW9uc30iPiA8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogdGV4dH17QGV2ZW50LW9ubW91c2VvdmVyOiBnZXREZXNjcmlwdGlvbn17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZU1lbnVJdGVtQ2xpY2t9Ij48L2E+IDwvbGk+IDwvdWw+IDwvZGl2PiA8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCIgZGF0YS1yZWdpb24tbmFtZT0iRmVhdHVyZVJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5EaXZTdGFja1JlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/AttachmentsView.html","html","DQo8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHByb3ZpZGVyRW5hYmxlZH0iPiA8aDMgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWF0dGFjaG1lbnRzfSI+PC9oMz4gPGRpdiBjbGFzcz0ibm8taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNBdHRhY2htZW50SW5mb3NJbml0aWFsaXplZH17QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWF0dGFjaG1lbnRzLWNoZWNraW5nfSI+PC9kaXY+IDxkaXYgY2xhc3M9Im5vLWl0ZW0iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBub0F0dGFjaG1lbnRzfXtAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtYXR0YWNobWVudHMtbm8tYXR0YWNobWVudHN9Ij48L2Rpdj4gPGRpdiBjbGFzcz0ibm8taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzT2ZmbGluZX17QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWF0dGFjaG1lbnRzLW5vLWF0dGFjaG1lbnRzLW9mZmxpbmV9Ij48L2Rpdj4gPGRpdiBjbGFzcz0ibGlzdC1tZW51IGFjdGl2ZSBoYXMtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogYXR0YWNobWVudEluZm9zfSI+IDxhIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYXR0YWNobWVudEluZm9zfXtocmVmOiB1cmx9e0BldmVudC1vbmNsaWNrOiBhdHRhY2htZW50X2NsaWNrfSIgdGFyZ2V0PSJfYmxhbmsiPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvYXR0YWNoLTI0LnBuZyIgZGF0YS1iaW5kaW5nPSJ7YWx0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1hdHRhY2htZW50c30iIC8+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGV0YWlscyI+IDxzdHJvbmcgY2xhc3M9Imxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvc3Ryb25nPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogc2l6ZX0iPjwvc3Bhbj4gPC9zcGFuPiA8L3NwYW4+IDwvYT4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/AttributesView.html","html","DQo8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHByb3ZpZGVyRW5hYmxlZH0iPiA8aDMgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWF0dHJpYnV0ZXN9IiB0YWItaW5kZXg9IjEiPjwvaDM+IDxkaXYgY2xhc3M9Imxpc3QtbWVudSBhdHRyaWIgc3RhdGljIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBhdHRyaWJ1dGVzfSI+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBhdHRyaWJ1dGVzfXtAdmlzaWJsZTogdmlzaWJsZX0iPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9zdHJvbmc+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1kZXNjIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogZGlzcGxheUFzVXJsfXtAdGV4dDogcHJlc2VudGFibGVWYWx1ZX0iPjwvc3Bhbj4gPGEgZGF0YS1iaW5kaW5nPSJ7aHJlZjogdmFsdWV9e0B2aXNpYmxlOiBkaXNwbGF5QXNVcmx9e0B0ZXh0OiBwcmVzZW50YWJsZVZhbHVlfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tBdHRyaWJ1dGVMaW5rfSIgdGFyZ2V0PSJfYmxhbmsiPjwvYT4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogcHJlc2VudGFibGVWYWx1ZX17QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLW5vdC1hdmFpbGFibGV9Ij48L3NwYW4+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/DataLinksTableView.html","html","PGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAiPiA8aDMgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9oMz4gIDxkaXYgY2xhc3M9ImRhdGFsaW5rcy10YWJsZS13aWRnZXQiIGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IERhdGFMaW5rc1RhYmxlVmlld1dpZGdldH17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH17QHdpZGdldC1yZXF1aXJlZDogZmFsc2V9Ij48L2Rpdj4gICA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IG5vUmVsYXRlZEZlYXR1cmVzfXtAd2lkZ2V0OiBQYWdpbmdDb250cm9sc1dpZGdldH17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH17QHdpZGdldC1yZXF1aXJlZDogZmFsc2V9Ij48L2Rpdj4gIDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/DataLinksView.html","html","PGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBwcm92aWRlckVuYWJsZWR9Ij4gPGgzIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvaDM+IDxkaXYgY2xhc3M9Imxpc3QtbWVudSBhY3RpdmUiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGRhdGFMaW5rc30iPiA8YnV0dG9uIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogZGF0YUxpbmtzfXtAZXZlbnQtY2xpY2s6IGhhbmRsZVZpZXdDbGlja30iPiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUtZGV0YWlscyI+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGlzcGxheU5hbWV9Ij48L2Rpdj4gPC9kaXY+IDwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/DataLinkView.html","html","DQo8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCBkYXRhLWxpbmsiPiA8aDMgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWF0dHJpYnV0ZXN9Ij48L2gzPiA8ZGl2IGNsYXNzPSJkYXRhbGlua3MiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBjdXJyZW50RGF0YUxpbmt9e0Bzb3VyY2U6IGN1cnJlbnREYXRhTGlua30iPiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUgYXR0cmliIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBjdXJyZW50RGF0YUxpbmt9e0Bzb3VyY2U6IGF0dHJpYnV0ZXN9Ij4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGF0dHJpYnV0ZXN9IiB0YWJpbmRleD0iMCI+IDxzdHJvbmcgY2xhc3M9Imxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvc3Ryb25nPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBwcmVzZW50YWJsZVZhbHVlfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGRpc3BsYXlBc1VybH17QHRleHQ6IHByZXNlbnRhYmxlVmFsdWV9Ij48L3NwYW4+IDxhIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0RhdGFMaW5rfXtocmVmOiB2YWx1ZX17QHZpc2libGU6IGRpc3BsYXlBc1VybH17QHRleHQ6IHZhbHVlfSIgdGFyZ2V0PSJfYmxhbmsiPjwvYT4gPC9zcGFuPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHByZXNlbnRhYmxlVmFsdWV9e0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1ub3QtYXZhaWxhYmxlfSI+PC9zcGFuPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/DescriptionView.html","html","PGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAgZmVhdHVyZS1kZXNjcmlwdGlvbi1wcm92aWRlciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHByb3ZpZGVyRW5hYmxlZH0iPiA8aDMgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWRlc2NyaXB0aW9ufSIgdGFiLWluZGV4PSIxIj48L2gzPiA8ZGl2IGNsYXNzPSJmZWF0dXJlLWRldGFpbHMtY29udGVudCIgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogR2V0RGVzY3JpcHRpb259e0B3aWRnZXQtY29udGV4dDogY3VycmVudEZlYXR1cmV9e0B3aWRnZXQtcmVxdWlyZWQ6IGZhbHNlfSI+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/FeatureActionsView.html","html","DQo8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHByb3ZpZGVyRW5hYmxlZH0iICB0YWJpbmRleD0iMCI+IDxoMyBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtYWN0aW9uc30iIHRhYmluZGV4PSIwIj48L2gzPiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUgYWN0aXZlIGhhcy1pY29uIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiB2aXNpYmxlTWVudUl0ZW1zfSI+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiB2aXNpYmxlTWVudUl0ZW1zfXtAZXZlbnQtb25tb3VzZW92ZXI6IGdldERlc2NyaXB0aW9ufXtAZXZlbnQtb25jbGljazogaGFuZGxlTWVudUl0ZW1DbGlja30iPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb25Vcml9e3NyYzogaWNvblVyaX17YWx0OiB0ZXh0fSIgLz4gPGJ1dHRvbiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRleHR9Ij48L3N0cm9uZz4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXNjIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGVzY3JpcHRpb259Ij48L3NwYW4+IDwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/HyperlinksView.html","html","DQo8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCBmZWF0dXJlLWh5cGVybGlua3MtcHJvdmlkZXIiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBwcm92aWRlckVuYWJsZWR9Ij4gPGgzIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1oeXBlcmxpbmtzfSI+PC9oMz4gPGRpdiBjbGFzcz0ibGlzdC1tZW51IGh5cGVybGlua3MiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBwcm92aWRlckVuYWJsZWR9e0Bzb3VyY2U6IGh5cGVybGlua3N9Ij4gPGEgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBoeXBlcmxpbmtzfXtocmVmOiB1cml9e3RhcmdldDogdGFyZ2V0fXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tIeXBlcmxpbmt9Ij4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXRhaWxzIiBkYXRhLWJpbmRpbmc9Int0aXRsZTogdG9vbFRpcH17QGNsYXNzLWRpc2FibGVkOiBpc0Jyb2tlbn0iPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRleHR9Ij48L3N0cm9uZz4gPC9zcGFuPiA8L2E+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/MultiColumnAttributesView.html","html","PGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBwcm92aWRlckVuYWJsZWR9Ij4gPGgzIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1hdHRyaWJ1dGVzfSIgdGFiaW5kZXg9IjAiPjwvaDM+IDxkaXYgY2xhc3M9ImF0dHJpYiBzdGF0aWMiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IG11bHRpQ29sdW1uQXR0cmlidXRlQ29udGFpbmVyfSI+IDxkaXYgY2xhc3M9Im11bHRpLWNvbHVtbi1jb250YWluZXIiIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IG11bHRpQ29sdW1uQXR0cmlidXRlQ29udGFpbmVyfSI+IDx1bCBjbGFzcz0iYXR0cmlidXRlLWxpc3QgY29sdW1ucyIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogQGNvbnRleHR9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL0ZlYXR1cmVEZXRhaWxzL0ZlYXR1cmVEZXRhaWxzUHJvdmlkZXJzL1NpbmdsZUF0dHJpYnV0ZVZpZXcuaHRtbH0iPjwvdWw+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/RelatedFeaturesTableView.html","html","PGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAiIGRhdGEtYmluZGluZz0ie0BjbGFzcy1oYXMtZWRpdGFibGUtcmVsYXRlZC1mZWF0dXJlczogcmVsYXRlZHNFZGl0YWJsZX17QHZpc2libGU6IHByb3ZpZGVyRW5hYmxlZH0iIHRhYmluZGV4PSIwIj4gPGgzPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtcmVsYXRlZC1mZWF0dXJlc30iPjwvc3Bhbj4gPHNwYW4+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvc3Bhbj4gPC9zcGFuPiA8L2gzPiAgPGRpdiBjbGFzcz0ibm8taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaGFzUmV0cmlldmVkRGF0YX17QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLXJlbGF0ZWQtY2hlY2tpbmd9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iY3JlYXRlZmVhdHVyZSIgZGF0YS1iaW5kaW5nPSJ7QGVuYWJsZWQ6IGhhc1JldHJpZXZlZERhdGF9Ij4gPGRpdiBjbGFzcz0ibGlzdC1tZW51IGhhcy1pY29uIGNyZWF0ZWZlYXR1cmUtYWN0aW9ucyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGNhbkFkZH0iPiA8YnV0dG9uIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGVuYWJsZWQ6IHZhbGlkQ2FyZGluYWxpdHl9e0BldmVudC1jbGljazogaGFuZGxlQ2xpY2tBZGRSZWxhdGVkUmVjb3JkfSI+IDxpbWcgY2xhc3M9Imxpc3QtbWVudS1pY29uIiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvYWRkLTI0LnBuZyIgYWx0PSIgIiAvPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1jcmVhdGUtcmVsYXRlZC1mZWF0dXJlc30iPjwvc3Bhbj4gPC9idXR0b24+IDwvZGl2PiA8ZGl2IGNsYXNzPSJuby1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogbm9SZWxhdGVkRmVhdHVyZXN9e0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1yZWxhdGVkLW5vLWRhdGF9Ij48L2Rpdj4gPGRpdiBjbGFzcz0ibm8taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGVycm9yRmV0Y2hpbmdSZWxhdGVkRmVhdHVyZXN9e0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1yZWxhdGVkLWVycm9yLWZldGNoaW5nfSI+PC9kaXY+ICA8ZGl2IGNsYXNzPSJyZWxhdGVkLWZlYXR1cmVzLXRhYmxlLXdpZGdldCIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogbm9SZWxhdGVkRmVhdHVyZXN9e0B3aWRnZXQ6IFJlbGF0ZWRGZWF0dXJlc1RhYmxlVmlld1dpZGdldH17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH17QHdpZGdldC1yZXF1aXJlZDogZmFsc2V9Ij48L2Rpdj4gICA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IG5vUmVsYXRlZEZlYXR1cmVzfXtAd2lkZ2V0OiBQYWdpbmdDb250cm9sc1dpZGdldH17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH17QHdpZGdldC1yZXF1aXJlZDogZmFsc2V9Ij48L2Rpdj4gIDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/RelatedFeaturesView.html","html","PGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBwcm92aWRlckVuYWJsZWR9IiB0YWJpbmRleD0iMCI+IDxoMz4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLXJlbGF0ZWQtZmVhdHVyZXN9Ij48L3NwYW4+IDxzcGFuPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGlzcGxheU5hbWV9Ij48L3NwYW4+IDwvc3Bhbj4gPC9oMz4gIDxkaXYgY2xhc3M9Im5vLWl0ZW0iIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGhhc1JldHJpZXZlZERhdGF9e0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1yZWxhdGVkLWNoZWNraW5nfSI+PC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QGVuYWJsZWQ6IGhhc1JldHJpZXZlZERhdGF9Ij4gPGRpdiBjbGFzcz0ibGlzdC1tZW51IGhhcy1pY29uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogY2FuQWRkfSI+IDxidXR0b24gY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAZW5hYmxlZDogdmFsaWRDYXJkaW5hbGl0eX17QGV2ZW50LWNsaWNrOiBoYW5kbGVDbGlja0FkZFJlbGF0ZWRSZWNvcmR9Ij4gPGltZyBjbGFzcz0ibGlzdC1tZW51LWljb24iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9hZGQtMjQucG5nIiBhbHQ9IiAiIC8+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWNyZWF0ZS1yZWxhdGVkLWZlYXR1cmVzfSI+PC9zcGFuPiA8L2J1dHRvbj4gPC9kaXY+IDxkaXYgY2xhc3M9Im5vLWl0ZW0iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBub1JlbGF0ZWRGZWF0dXJlc317QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLXJlbGF0ZWQtbm8tZGF0YX0iPjwvZGl2PiA8ZGl2IGNsYXNzPSJuby1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZXJyb3JGZXRjaGluZ1JlbGF0ZWRGZWF0dXJlc317QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLXJlbGF0ZWQtZXJyb3ItZmV0Y2hpbmd9Ij48L2Rpdj4gPGRpdiBjbGFzcz0ibGlzdC1tZW51IGFjdGl2ZSIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogcmVsYXRlZEVzcmlGZWF0dXJlSW5mb30iPiA8YnV0dG9uIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogcmVsYXRlZEVzcmlGZWF0dXJlSW5mb317QGV2ZW50LWNsaWNrOiBoYW5kbGVWaWV3Q2xpY2t9Ij4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9zdHJvbmc+IDwvZGl2PiA8L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/SingleAttributeView.html","html","PGxpIGNsYXNzPSJhdHRyaWJ1dGUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogQGNvbnRleHR9e0B2aXNpYmxlOiB2aXNpYmxlfSIgdGFiaW5kZXg9IjAiPiA8c3BhbiBjbGFzcz0iYXR0cmlidXRlLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGlzcGxheU5hbWV9Ij48L3NwYW4+IDxkaXYgY2xhc3M9ImF0dHJpYnV0ZS1kZXRhaWxzIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogZGlzcGxheUFzVXJsfXtAdGV4dDogcHJlc2VudGFibGVWYWx1ZX0iPjwvc3Bhbj4gPGEgZGF0YS1iaW5kaW5nPSJ7aHJlZjogdmFsdWV9e0B2aXNpYmxlOiBkaXNwbGF5QXNVcmx9e0B0ZXh0OiBwcmVzZW50YWJsZVZhbHVlfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tBdHRyaWJ1dGVMaW5rfSIgdGFyZ2V0PSJfYmxhbmsiPjwvYT4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogcHJlc2VudGFibGVWYWx1ZX17QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLW5vdC1hdmFpbGFibGV9Ij48L3NwYW4+IDwvZGl2PiA8L2xpPiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureEditing/TemplatePickerView.html","html","DQo8ZGl2IGNsYXNzPSJmZWF0dXJlLXRlbXBsYXRlLXBpY2tlciI+ICA8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCBuby1pdGVtIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBsYXllclRlbXBsYXRlc317QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctbm8tdGVtcGxhdGVzfSI+PC9kaXY+IDxkaXYgY2xhc3M9InBhbmVsLWdyb3VwIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBsYXllclRlbXBsYXRlc30iPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGxheWVyVGVtcGxhdGVzfSI+IDxoMyBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGlzcGxheU5hbWV9Ij48L2gzPiA8ZGl2IGNsYXNzPSJuby1yZXN1bHRzIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiB0ZW1wbGF0ZXN9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctbm8tdGVtcGxhdGVzfSI+PC9zcGFuPiA8ZGl2IGNsYXNzPSJmb3JtLWJ1dHRvbi1jb250YWluZXIiPiA8ZGl2IGNsYXNzPSJmb3JtLWJ1dHRvbi1hbGlnbiI+IDxkaXYgY2xhc3M9ImZvcm0taXRlbSBmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWFkZC1mZWF0dXJlLWJ1dHRvbn17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUZlYXR1cmVUZW1wbGF0ZUNsaWNrfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8dWwgY2xhc3M9Imxpc3QtbWVudSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHRlbXBsYXRlc317QHNvdXJjZTogdGVtcGxhdGVzfXtAdGVtcGxhdGUtc2VsZWN0b3I6IGZvb30iPiA8bGkgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBAbnVsbH17QHRlbXBsYXRlOiBNYXBwaW5nL21vZHVsZXMvRmVhdHVyZUVkaXRpbmcvVGVtcGxhdGVzL0ZlYXR1cmVUZW1wbGF0ZS5odG1sfSI+PC9saT4gPC91bD4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureEditing/Editor/AttributeEditorView.html","html","DQo8ZGl2IGNsYXNzPSJlZGl0b3IiPiAgPGRpdiBjbGFzcz0ibG9hZGluZy1jb250YWluZXIiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0FwcGx5aW5nRWRpdHN9Ij4gPGRpdiBjbGFzcz0ibG9hZGluZy1pbWciPjwvZGl2PiA8ZGl2IGNsYXNzPSJsb2FkaW5nLW1zZyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctYXBwbHlpbmd9Ij48L2Rpdj4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJhZGQtb3ItZWRpdC1mZWF0dXJlIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc0FwcGx5aW5nRWRpdHN9Ij4gPGRpdiBjbGFzcz0icGFuZWwtY29udGVudCI+IDxkaXYgY2xhc3M9InBhbmVsLW5vdGlmaWNhdGlvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGhhc0dlb21ldHJ5fSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWhhcy1nZW9tZXRyeX0iPjwvc3Bhbj4gPC9kaXY+IDxkaXYgY2xhc3M9InBhbmVsLW5vdGlmaWNhdGlvbiIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogZmllbGRzfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWludmFsaWQtbGF5ZXJ9Ij48L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGZpZWxkc30iPiA8aDMgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctZmVhdHVyZS1hdHRyaWJ1dGVzfSI+PC9oMz4gPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAtY29udGVudHMiPiA8ZGl2IGNsYXNzPSJmb3JtIGxhYmVsLWxlZnQiPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogZmllbGRzfXtAdGVtcGxhdGUtc2VsZWN0b3I6IHJlbmRlclR5cGV9Ij4gIDxkaXYgY2xhc3M9ImZvcm0taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogZXNyaUZpZWxkVHlwZURhdGV9Ij4gPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGFsaWFzfSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0iaW5kaWNhdG9yIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogYXR0YWNoZWRfc2hvd0luZGljYXRvcn0iPio8L3NwYW4+IDwvbGFiZWw+IDxkaXYgY2xhc3M9ImZvcm0tY29udHJvbC1kYXRlLXBpY2tlciIgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogRGF0ZVBpY2tlckZvcm1JdGVtfXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fSI+IDwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImZvcm0taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogY29kZWREb21haW5WYWx1ZX0iPiA8ZGl2IGNsYXNzPSJjb21ib2JveCIgPiA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogYWxpYXN9Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJpbmRpY2F0b3IiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhdHRhY2hlZF9zaG93SW5kaWNhdG9yfSI+Kjwvc3Bhbj4gPC9sYWJlbD4gPGRpdiBjbGFzcz0iZm9ybS1jb250cm9sIj4gPHNlbGVjdCBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBjb2RlZERvbWFpblZhbHVlc317QHZhbHVlOiB2YWx1ZX17ZGlzYWJsZWQ6IGNhbnRFZGl0fSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogY29kZWREb21haW5WYWx1ZXN9e0B0ZXh0OiBuYW1lfXt2YWx1ZTogY29kZX0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImZvcm0taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogc3ViVHlwZX0iPiA8ZGl2IGNsYXNzPSJjb21ib2JveCI+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBhbGlhc30iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImluZGljYXRvciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGF0dGFjaGVkX3Nob3dJbmRpY2F0b3J9Ij4qPC9zcGFuPiA8L2xhYmVsPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRyb2wiPiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHN1YlR5cGVzfXtAdmFsdWU6IHZhbHVlfXtkaXNhYmxlZDogY2FudEVkaXR9e0BldmVudC1vbmNoYW5nZTogaGFuZGxlVHlwZUZpZWxkQ2hhbmdlfSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogc3ViVHlwZXN9e0B0ZXh0OiBuYW1lfXt2YWx1ZTogaWR9Ij48L29wdGlvbj4gPC9zZWxlY3Q+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGZpZWxkc30iPiA8ZGl2IGNsYXNzPSJ0ZXh0Ym94Ij4gPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGFsaWFzfSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0iaW5kaWNhdG9yIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogYXR0YWNoZWRfc2hvd0luZGljYXRvcn0iPio8L3NwYW4+IDwvbGFiZWw+IDxkaXYgY2xhc3M9ImZvcm0tY29udHJvbCI+IDxpbnB1dCB0eXBlPSJ0ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IHZhbHVlfXtkaXNhYmxlZDogY2FudEVkaXR9IiAvPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gIDx1bCBjbGFzcz0iZm9ybS12YWxpZGF0aW9uIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiB2YWxpZGF0aW9uTWVzc2FnZXN9e0B2aXNpYmxlOiB2YWxpZGF0aW9uTWVzc2FnZXN9Ij4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHZhbGlkYXRpb25NZXNzYWdlc30iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGNvbnRleHR9Ij48L3NwYW4+IDwvbGk+IDwvdWw+ICA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0gZm9ybS1idG5zIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBidXR0b25zfSI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYnV0dG9uc317QHZpc2libGU6IHZpc2liaWxpdHl9e0B0ZXh0OiBsYWJlbH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUJ1dHRvbkNsaWNrfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureEditing/Templates/FeatureTemplate.html","html","PGRpdiBjbGFzcz0iZmVhdHVyZS10ZW1wbGF0ZSBoYXMtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUZlYXR1cmVUZW1wbGF0ZUNsaWNrfSI+IDxpbWcgY2xhc3M9Imxpc3QtbWVudS1pY29uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc3ltYm9sVXJpfXtzcmM6IHN5bWJvbFVyaX0iIGFsdD0iICIgLz4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWljb24iIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHN5bWJvbFVyaX17c3R5bGU6IHN5bWJvbFN0eWxlfSI+PC9kaXY+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1kZXRhaWxzIj4gPHN0cm9uZyBjbGFzcz0ibGlzdC1tZW51LW5hbWUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfSI+PC9zdHJvbmc+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRlc2NyaXB0aW9ufXtAdmlzaWJsZTogZGVzY3JpcHRpb259Ij48L3NwYW4+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Footer/FooterView.html","html","PGRpdiBjbGFzcz0iZm9vdGVyLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGhlaWdodH17QHN0eWxlLWJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZENvbG9yfXtAc3R5bGUtaGVpZ2h0OiBoZWlnaHR9Ij4gPGRpdiBjbGFzcz0icmVnaW9uIGZvb3Rlci1sZWZ0IiBkYXRhLXJlZ2lvbi1uYW1lPSJMZWZ0Rm9vdGVyUmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLkRpdlN0YWNrUmVnaW9uQWRhcHRlciIgZGF0YS1yZWdpb24tb3B0aW9ucz0iYWN0aXZhdGVWaWV3c0luTGFzdFBvc2l0aW9uPWZhbHNlIj48L2Rpdj4gPGRpdiBjbGFzcz0icmVnaW9uIGZvb3Rlci1yaWdodCIgZGF0YS1yZWdpb24tbmFtZT0iUmlnaHRGb290ZXJSZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuRGl2U3RhY2tSZWdpb25BZGFwdGVyIiBkYXRhLXJlZ2lvbi1vcHRpb25zPSJhY3RpdmF0ZVZpZXdzSW5MYXN0UG9zaXRpb249ZmFsc2UiPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Geolocate/GeolocateButtonView.html","html","PGRpdiBjbGFzcz0iZ2VvbG9jYXRlLXdyYXBwZXIiPiA8ZGl2IGNsYXNzPSJ6b29tLWNvbnRyb2wtYnRuIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdmlzaWJsZX17QGNsYXNzLWdlb2xvY2F0ZS10cmFja2luZzogaXNUcmFja2luZ317QGNsYXNzLWdlb2xvY2F0ZS1mb2xsb3dpbmc6IGlzRm9sbG93aW5nfXtAY2xhc3MtZ2VvbG9jYXRlLWFjdGl2ZTogYWN0aXZlfSI+IDxidXR0b24gY2xhc3M9Imdlb2xvY2F0ZS1iYXNlIHRvZ2dsZS1idG4iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0dlb2xvY2F0ZX17dGl0bGU6QGxhbmd1YWdlLWdlb2xvY2F0ZS1maW5kLWRlc2N9IiB0YWJpbmRleD0iMCI+PC9idXR0b24+IDwvZGl2PiA8ZGl2IGNsYXNzPSJnZW9sb2NhdGUtbWVudSIgZGF0YS1yZWdpb24tbmFtZT0iR2VvbG9jYXRlTWVudVJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Geolocate/GeolocateStatusView.html","html","PGRpdiBjbGFzcz0ic3RhdHVzLXdpbmRvdyBnZW9sb2NhdGUtc3RhdHVzLXdpbmRvdyI+IDx0YWJsZSByb2xlPSJwcmVzZW50YXRpb24iPiA8dHI+IDx0ZD4gPGltZyBjbGFzcz0ic3RhdHVzLWltZyIgZGF0YS1iaW5kaW5nPSJ7c3JjOiBpbWFnZVVyaX17QHZpc2libGU6IGltYWdlVXJpfSIgYWx0PSIgIiAvPiA8L3RkPiA8dGQ+IDxkaXYgY2xhc3M9Imdlb2xvY2F0ZS1zdGF0dXMiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBzdGF0dXN9e0B2aXNpYmxlOiBzdGF0dXN9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iY29vcmRzLWRpc3BsYXkiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93Q29vcmRpbmF0ZXN9Ij4gPGRpdiBjbGFzcz0iY29vcmRzLWl0ZW0gY29vcmRzLXgiPiA8c3BhbiBjbGFzcz0iY29vcmRzLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogeFZhbHVlVHlwZX0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNvb3Jkcy12YWx1ZXMiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB4VmFsdWV9Ij48L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPSJjb29yZHMtaXRlbSBjb29yZHMteSI+IDxzcGFuIGNsYXNzPSJjb29yZHMtbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB5VmFsdWVUeXBlfSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0iY29vcmRzLXZhbHVlcyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHlWYWx1ZX0iPjwvc3Bhbj4gPC9kaXY+IDwvZGl2PiA8L3RkPiA8dGQgY2xhc3M9InN0YXR1cy1jbG9zZSI+IDxidXR0b24gY2xhc3M9InN0YXR1cy1idG4iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0Nsb3NlfXt0aXRsZTogQGxhbmd1YWdlLWNvbW1vbi1jbG9zZX0iPiA8c3Bhbj4mbmJzcDs8L3NwYW4+IDwvYnV0dG9uPiA8L3RkPiA8L3RyPiA8L3RhYmxlPiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Geolocate/GeolocateView.html","html","PGRpdiBjbGFzcz0iZ2VvbG9jYXRlLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHZpc2libGV9Ij4gPGRpdiBjbGFzcz0iZ2VvbG9jYXRlLXRpdGxlIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1nZW9sb2NhdGUtdGl0bGV9Ij48L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPSJnZW9sb2NhdGUtbGlzdCI+IDx1bCBjbGFzcz0ibGlzdC1tZW51IGhhcy1pY29uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25ibHVyOiBkZWFjdGl2YXRlR2VvbG9jYXRlTWVudVZpZXd9Ij4gPGxpIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGdlb2xvY2F0ZUVuYWJsZWR9Ij4gPGJ1dHRvbiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tNZW51RmluZH17dGl0bGU6IEBsYW5ndWFnZS1nZW9sb2NhdGUtZmluZH0iPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL2dlb2xvY2F0ZS0yNC5wbmciIGFsdD0iICIgLz4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXRhaWxzIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWdlb2xvY2F0ZS1maW5kfSI+PC9zcGFuPiA8L2J1dHRvbj4gPC9saT4gPGxpIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHRyYWNraW5nRW5hYmxlZH0iPiA8YnV0dG9uIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja01lbnVUcmFja317dGl0bGU6IEBsYW5ndWFnZS1nZW9sb2NhdGUtdHJhY2t9Ij4gPGltZyBjbGFzcz0ibGlzdC1tZW51LWljb24iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9nZW9sb2NhdGUtdHJhY2stMjQucG5nIiBhbHQ9IiAiIC8+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGV0YWlscyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1nZW9sb2NhdGUtdHJhY2t9Ij48L3NwYW4+IDwvYnV0dG9uPiA8L2xpPiA8bGkgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZm9sbG93aW5nRW5hYmxlZH0iPiA8YnV0dG9uIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja01lbnVGb2xsb3d9e3RpdGxlOiBAbGFuZ3VhZ2UtZ2VvbG9jYXRlLWZvbGxvd30iPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL2dlb2xvY2F0ZS1mb2xsb3ctMjQucG5nIiBhbHQ9IiAiIC8+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGV0YWlscyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1nZW9sb2NhdGUtZm9sbG93fSI+PC9zcGFuPiA8L2J1dHRvbj4gPC9saT4gPC91bD4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/GlobalMenu/GlobalMenuView.html","html","PHVsIGNsYXNzPSJsaXN0LW1lbnUgZ2xvYmFsLW1lbnUgaGFzLWljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiB2aXNpYmxlTWVudUl0ZW1zfXtAc291cmNlOiB2aXNpYmxlTWVudUl0ZW1zfSI+IDxsaSBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHZpc2libGVNZW51SXRlbXN9e0BlbmFibGVkOiBjYW5FeGVjdXRlfSI+IDxidXR0b24gY2xhc3M9Imdsb2JhbC1tZW51LWRldGFpbHMiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVNZW51SXRlbUNsaWNrfXt0aXRsZTogZGVzY3JpcHRpb259Ij4gPGltZyBjbGFzcz0ibGlzdC1tZW51LWljb24iIGRhdGEtYmluZGluZz0ie3NyYzogaWNvblVyaX17QHZpc2libGU6IGljb25Vcml9e2FsdDogZGVzY3JpcHRpb259IiAvPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRleHR9e0BoaWRkZW46IG1vYmlsZU1vZGV9Ij48L3N0cm9uZz4gPC9idXR0b24+IDwvbGk+IDwvdWw+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/HeatMaps/HeatMapsView.html","html","PGRpdiBjbGFzcz0iaGVhdC1tYXBzIGZvcm0tc3RhY2tlZCI+IDxoNCBjbGFzcz0idmlzdWFsaXphdGlvbi10aXRsZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1oZWF0LW1hcHMtdGl0bGV9Ij48L2g0PiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iPiA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiIGZvcj0iaW50ZW5zaXR5IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWhlYXQtbWFwcy1pbnRlbnNpdHl9Ij48L2xhYmVsPiA8ZGl2IGNsYXNzPSJzbGlkZXItY29udGFpbmVyIj4gPGRpdiBjbGFzcz0ic2xpZGVyLWxhYmVsIHNsaWRlci1sYWJlbC1taW4iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtaGVhdC1tYXBzLWludGVuc2l0eS1zbGlkZXItbWluLWxhYmVsfSI+PC9kaXY+IDxkaXYgY2xhc3M9InNsaWRlci1sYWJlbCBzbGlkZXItbGFiZWwtbWF4IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWhlYXQtbWFwcy1pbnRlbnNpdHktc2xpZGVyLW1heC1sYWJlbH0iPjwvZGl2PiA8ZGl2IGNsYXNzPSJpbnRlbnNpdHktc2xpZGVyIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBzbGlkZXJFbGVtZW50fSI+IDxkaXYgY2xhc3M9InNsaWRlci1sYWJlbCBzbGlkZXItbGFiZWwtY3VycmVudCI+PC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0taXRlbSI+IDxsYWJlbCBmb3I9ImZpZWxkIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWhlYXQtbWFwcy1pbnRlbnNpdHktbXVsdGlwbGllcn0iPjwvbGFiZWw+IDxzZWxlY3QgaWQ9ImZpZWxkIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBmaWVsZHN9e0B2YWx1ZTogc2VsZWN0ZWRGaWVsZH17QGRpc2FibGVkOiBkaXNhYmxlRmllbGRzfXt0aXRsZTogQGxhbmd1YWdlLWhlYXQtbWFwcy1pbnRlbnNpdHktbXVsdGlwbGllcn0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGZpZWxkc317QHRleHQ6IGRpc3BsYXlOYW1lfXt2YWx1ZTogbmFtZX0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Identify/IdentifyOptionsView.html","html","PHVsIGNsYXNzPSJ0cmFuc2llbnQtaWRlbnRpZnkiPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogYnVmZmVyVG9nZ2xlQnV0dG9ufSI+IDxidXR0b24gY2xhc3M9InRvb2xiYXItaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYnVmZmVyVG9nZ2xlQnV0dG9ufXtAZGlzYWJsZWQ6IGRpc2FibGVkfXtAY2xhc3MtaGlkZGVuOiBoaWRkZW59e0BjbGFzcy10b2dnbGVkLW9uOiBpc1RvZ2dsZWRPbn17QG5vY2xhc3MtdG9nZ2xlZC1vZmY6IGlzVG9nZ2xlZE9ufXtAZXZlbnQtb25jbGljazogaGFuZGxlVG9vbGJhckl0ZW1DbGlja317dGl0bGU6IHRvb2x0aXB9IiAiPiA8aW1nIGNsYXNzPSIgaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb25Vcml9e3NyYzogaWNvblVyaX0iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ljb24tYmxhbmstMjQucG5nIiBhbHQ9IiIgLz4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3A+IDwvYnV0dG9uPiA8L2xpPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogc2VsZWN0TGF5ZXJzQnV0dG9ufSI+IDxidXR0b24gY2xhc3M9InRvb2xiYXItaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogc2VsZWN0TGF5ZXJzQnV0dG9ufXtAZGlzYWJsZWQ6IGRpc2FibGVkfXtAZXZlbnQtb25jbGljazogaGFuZGxlVG9vbGJhckl0ZW1DbGlja317dGl0bGU6IHRvb2x0aXB9Ij4gPGltZyBjbGFzcz0iaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb25Vcml9e3NyYzogaWNvblVyaX0iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ljb24tYmxhbmstMjQucG5nIiBhbHQ9IiIgLz4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3A+IDwvYnV0dG9uPiA8L2xpPiA8L3VsPiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Identify/Widgets/IdentifyOptionsTransientView.html","html","PHVsIGNsYXNzPSJtYXJrdXAtZWRpdCI+IDxsaSBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBidWZmZXJUb2dnbGVCdXR0b259Ij4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBidWZmZXJUb2dnbGVCdXR0b259e0BkaXNhYmxlZDogZGlzYWJsZWR9e0BjbGFzcy1oaWRkZW46IGhpZGRlbn17QGNsYXNzLXRvZ2dsZWQtb246IGlzVG9nZ2xlZE9ufXtAbm9jbGFzcy10b2dnbGVkLW9mZjogaXNUb2dnbGVkT259e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUb29sYmFySXRlbUNsaWNrfXt0aXRsZTogdG9vbHRpcH0iPiA8aW1nIGNsYXNzPSJpY29uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX17c3JjOiBpY29uVXJpfSIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvaWNvbi1ibGFuay0yNC5wbmciIGFsdD0iIiAvPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDxsaSBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBzZWxlY3RMYXllcnNCdXR0b259Ij4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBzZWxlY3RMYXllcnNCdXR0b259e0BkaXNhYmxlZDogZGlzYWJsZWR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUb29sYmFySXRlbUNsaWNrfXt0aXRsZTogdG9vbHRpcH0iPiA8aW1nIGNsYXNzPSJpY29uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX17c3JjOiBpY29uVXJpfSIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvaWNvbi1ibGFuay0yNC5wbmciIGFsdD0iIiAvPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDwvdWw+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Info/InfoView.html","html","PGRpdiBjbGFzcz0iaG9tZS1wYW5lbCIgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogR2V0SFRNTENvbnRlbnR9e0B3aWRnZXQtY29udGV4dDogY29udGVudH0iIHRhYmluZGV4PSIwIj48L2Rpdj4g");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Integration/ExternalComponentPaneView.html","html","PGRpdiBjbGFzcz0icGFuZSI+IDxpZnJhbWUgZnJhbWVib3JkZXI9IjAiIGNsYXNzPSJtYXAtZnJhbWUiIGRhdGEtYmluZGluZz0ie0B2YXI6IGZyYW1lRWxlbWVudH17ZGF0YS1mcmFtZS1pZDogZnJhbWVJZH17QHZpc2libGU6IHVyaX17c3JjOiB1cml9Ij48L2lmcmFtZT4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Integration/ExternalComponentView.html","html","PGRpdiBjbGFzcz0idmlldy1jb250YWluZXItdmlldyBpbnRlZ3JhdGlvbiIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogY29udGFpbmVyRWxlbWVudH0iPiAgPGJ1dHRvbiBjbGFzcz0iYm90dG9tLXBhbmVsLXJlc2l6ZSByZXNpemUtaGFuZGxlIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogcmVzaXplWX17QGV2ZW50LW1vdXNlZG93bjogaGFuZGxlSGVhZGVyTW91c2VEb3dufXtAZXZlbnQtdG91Y2hzdGFydDogaGFuZGxlSGVhZGVyVG91Y2hTdGFydH17dGl0bGU6IEBsYW5ndWFnZS1pbnRlZ3JhdGlvbi1zbWFydC1wYW5lbC1yZXNpemV9Ij4gPHNwYW4gY2xhc3M9Imljb24tZHJhZyI+PC9zcGFuPiA8L2J1dHRvbj4gPGRpdiBjbGFzcz0iYmFubmVyLW5vc2VsZWN0IiBkYXRhLWJpbmRpbmc9IntAdmFyOiBoZWFkZXJFbGVtZW50fXtAZXZlbnQtbW91c2Vkb3duOiBoYW5kbGVIZWFkZXJNb3VzZURvd259e0BldmVudC10b3VjaHN0YXJ0OiBoYW5kbGVIZWFkZXJUb3VjaFN0YXJ0fQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0BjbGFzcy1yZXNpemUtaG9yaXpvbnRhbC1oaW50OiByZXNpemVYfXtAY2xhc3MtcmVzaXplLXZlcnRpY2FsLWhpbnQ6IHJlc2l6ZVl9Ij4gPGRpdiBjbGFzcz0icGFuZWwtaGVhZGVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaGVhZGVySXNWaXNpYmxlfSI+IDxidXR0b24gY2xhc3M9IiBwYW5lbC1oZWFkZXItYnV0dG9uIHJpZ2h0IGNsb3NlLTE2IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93WEJ1dHRvbn17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrQ2xvc2V9Ij4gPC9idXR0b24+IDxidXR0b24gY2xhc3M9InBhbmVsLWhlYWRlci1idXR0b24gcmlnaHQiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93aW5nTWF4aW1pemVCdXR0b259e0BjbGFzcy1taW5pbWl6ZS0xNjogcGFuZWxNYXhpbWl6ZWR9e0Bub2NsYXNzLW1heGltaXplLTE2OiBwYW5lbE1heGltaXplZH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZU1heGltaXplVG9nZ2xlQ2xpY2t9e0BldmVudC10b3VjaHN0YXJ0OiBoYW5kbGVNYXhpbWl6ZVRvZ2dsZUNsaWNrfXt0aXRsZTogQGxhbmd1YWdlLWludGVncmF0aW9uLXNtYXJ0LXBhbmVsLW1heGltaXplLXJlc3RvcmV9Ij48L2J1dHRvbj4gPGltZyBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2VsZWN0b3JJY29uVXJpfXtzcmM6IHNlbGVjdG9ySWNvblVyaX0iIC8+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogU2VsZWN0b3J9e0B3aWRnZXQtcmVwbGFjZTogdHJ1ZX0iPjwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0icmVzaXplLWhlYWRlciIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaGVhZGVySXNWaXNpYmxlfSI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJwYW5lbC1zY3JvbGwtY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntkYXRhLXJlZ2lvbi1uYW1lOiByZWdpb25OYW1lfXtkYXRhLXJlZ2lvbi1hZGFwdGVyOiByZWdpb25UeXBlfXtAdmFyOiBzY3JvbGxSZWdpb25FbGVtZW50fXtAZXZlbnQtb25zY3JvbGw6IGhhbmRsZVNjcm9sbENoYW5nZX0iPjwvZGl2PiA8ZGl2IGNsYXNzPSJpbnRlZ3JhdGlvbi1vdmVybGF5IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogb3ZlcmxheUlzVmlzaWJsZX0iPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/IWantToMenu/IWantToMenuButtonView.html","html","PGgyIGNsYXNzPSJ3dG0taGVhZGluZyI+PGJ1dHRvbiBjbGFzcz0id3RtLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dNZW51fXtAdGV4dDogbWVudVRpdGxlfXtAZXZlbnQtb25jbGljazogaGFuZGxlQnV0dG9uQ2xpY2t9IiB0YWJpbmRleD0iMCI+PC9idXR0b24+PC9oMj4gPGRpdiBjbGFzcz0id3RtLWxpc3QtY29udGFpbmVyIiBkYXRhLXJlZ2lvbi1uYW1lPSJJV2FudFRvTWVudVJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5EaXZTdGFja1JlZ2lvbkFkYXB0ZXIiIGRhdGEtcmVnaW9uLW9wdGlvbnM9ImFjdGl2YXRlVmlld3NJbkxhc3RQb3NpdGlvbj1mYWxzZSI+PC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/IWantToMenu/IWantToMenuView.html","html","DQo8ZGl2IGNsYXNzPSJ3dG0tbGlzdCIgZGF0YS1iaW5kaW5nPSJ7QGNsYXNzLW1vYmlsZS1tb2RlOiBtb2JpbGVNb2RlfXtAdmlzaWJsZTogc2hvd01lbnV9Ij4gPGgyIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBtb2JpbGVNb2RlfXtAdGV4dDogbWVudVRpdGxlfXtAZXZlbnQtb25jbGljazogaGFuZGxlTW9iaWxlTW9kZUhlYWRlckNsaWNrfSI+PC9oMj4gPGRpdiBjbGFzcz0id2FudHRvbWVudS1uby1pdGVtcyIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogdmlzaWJsZU1lbnVJdGVtc317QHRleHQ6IEBsYW5ndWFnZS1tZW51LW5vLWl0ZW1zfSI+PC9kaXY+IDxkaXYgY2xhc3M9Imdsb2JhbC1tZW51LWNvbnRhaW5lciIgZGF0YS1yZWdpb24tbmFtZT0iR2xvYmFsTWVudVJlZ2lvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dHbG9iYWxNZW51fSI+PC9kaXY+IDx1bCBjbGFzcz0ibGlzdC1tZW51IGhhcy1pY29uIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiB2aXNpYmxlTWVudUl0ZW1zfSI+IDxsaSBjbGFzcz0ibGlzdC1tZW51LWl0ZW0gbm8taXRlbXMiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbWVudS1uby1pdGVtc30iPjwvbGk+IDwvdWw+IDx1bCBjbGFzcz0ibGlzdC1tZW51IGhhcy1pY29uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdmlzaWJsZU1lbnVJdGVtc317QHNvdXJjZTogdmlzaWJsZU1lbnVJdGVtc30iPiA8bGkgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiB2aXNpYmxlTWVudUl0ZW1zfSI+IDxidXR0b24gY2xhc3M9Imxpc3QtbWVudS1kZXRhaWxzIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlTWVudUl0ZW1DbGlja30iPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7c3JjOiBpY29uVXJpfXtAdmlzaWJsZTogaWNvblVyaX0iIGFsdD0iICIgLz4gPHN0cm9uZyBjbGFzcz0ibGlzdC1tZW51LW5hbWUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB0ZXh0fSI+PC9zdHJvbmc+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGRlc2NyaXB0aW9ufXtAdGV4dDogZGVzY3JpcHRpb259Ij48L3NwYW4+IDwvYnV0dG9uPiA8L2xpPiA8L3VsPiA8ZGl2IGNsYXNzPSJtZW51IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogbW9iaWxlTW9kZX17QHdpZGdldDogTW9iaWxlU2V0dGluZ3NNZW51V2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX0iDQogICAgICAgICBkYXRhLW1lbnUtaWQ9Ik1vYmlsZVNldHRpbmdzTWVudSINCiAgICAgICAgIGRhdGEtbWVudS10ZW1wbGF0ZT0iTWFwcGluZy9pbmZyYXN0cnVjdHVyZS9tZW51cy9NZW51SHlwZXJsaW5rVmlldy5odG1sIj48L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerList/LayerListView.html","html","PGRpdiBjbGFzcz0icmVzdWx0cy1saXN0LWFjdGlvbnMtd2lkZ2V0IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdmlld0luaXRpYWxpemVkfXtAd2lkZ2V0OiBMYXllckxpc3RBY3Rpb25zV2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX0iDQogICAgIGRhdGEtbWVudS1pZD0iTGF5ZXJMaXN0QWN0aW9ucyIgZGF0YS1tZW51LXRlbXBsYXRlPSJNYXBwaW5nL2luZnJhc3RydWN0dXJlL21lbnVzL01lbnVIeXBlcmxpbmtWaWV3Lmh0bWwiPjwvZGl2PiA8ZGl2IGNsYXNzPSJsYXllci10aGVtZS1zd2l0Y2hlciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGxheWVyVGhlbWVzfSI+IDxzZWxlY3QgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogbGF5ZXJUaGVtZXN9e0B2YWx1ZTogYWN0aXZlTGF5ZXJUaGVtZX17dGl0bGU6IEBsYW5ndWFnZS1sYXllcmxpc3QtdGhlbWUtc2VsZWN0b3J9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBsYXllclRoZW1lc317QHRleHQ6IGRpc3BsYXlOYW1lfXtAYXR0YWNoOiBAY29udGV4dH0iIC8+IDwvc2VsZWN0PiA8L2Rpdj4gPGRpdiBjbGFzcz0ibGF5ZXItbGlzdCIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogbGF5ZXJMaXN0SXRlbXN9e0B2aXNpYmxlOiB2aWV3SW5pdGlhbGl6ZWR9Ij4gPHVsIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGxheWVyTGlzdEl0ZW1zfSI+IDxsaSBjbGFzcz0ibGF5ZXIgbGF5ZXItaW5mbyBwYXJlbnQtbGF5ZXIiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBkaXNwbGF5SXRlbX17QGNsYXNzLWxheWVyLWVuYWJsZWQ6IGluVmlzaWJsZVNjYWxlUmFuZ2V9e0Bub2NsYXNzLWxheWVyLWRpc2FibGVkOiBpblZpc2libGVTY2FsZVJhbmdlfSI+IDxkaXYgY2xhc3M9ImxheWVyLWl0ZW0tZXhwYW5kZXIiPjxidXR0b24gY2xhc3M9InRyZWUtZXhwYW5kZXIiIGRhdGEtYmluZGluZz0ie3RpdGxlOiBsYXllckZvbGRlclRvZ2dsZVRvb2x0aXB9e0B2aXNpYmxlOiBoYXNEaXNwbGF5ZWRDaGlsZHJlbn17QGNsYXNzLWV4cGFuZGVkOiBpc0V4cGFuZGVkfXtAbm9jbGFzcy1jb2xsYXBzZWQ6IGlzRXhwYW5kZWR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVFeHBhbmRlckNsaWNrfSI+PC9idXR0b24+PC9kaXY+IDxzcGFuIGNsYXNzPSJsYXllci1hY3Rpb25zIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZW5hYmxlTGF5ZXJBY3Rpb25zfSI+PGJ1dHRvbiBjbGFzcz0iY2hldnJvbi1yaWdodC0xNiIgZGF0YS1iaW5kaW5nPSJ7dGl0bGU6IEBsYW5ndWFnZS1sYXllci1hY3Rpb25zLXRvb2x0aXB9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVMYXllckFjdGlvbnN9Ij48L2J1dHRvbj48L3NwYW4+IDxzcGFuIGNsYXNzPSJ3aWRnZXQiIGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IFRyYW5zcGFyZW5jeVNsaWRlcn17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH17QHdpZGdldC1yZXF1aXJlZDogZmFsc2V9e0B2aXNpYmxlOiBjYW5BZGp1c3RPcGFjaXR5fSI+PC9zcGFuPiA8ZGl2IGNsYXNzPSJsYXllci1jb250ZW50cyI+IDxzcGFuIGNsYXNzPSJsYXllci1pdGVtLWN0cmwiPiA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGhhc1JhZGlvVG9nZ2xlfXtAZGlzYWJsZWQ6IGhhc1JhZGlvVG9nZ2xlfXtjaGVja2VkOiBpc1Zpc2libGV9e0BldmVudC1vbmNsaWNrOiBzZXRJdGVtVmlzaWJpbGl0eX17dGl0bGU6IGxheWVyVG9nZ2xlVG9vbHRpcH0iIC8+IDxpbnB1dCB0eXBlPSJyYWRpbyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGhhc1JhZGlvVG9nZ2xlfXtAZW5hYmxlZDogaGFzUmFkaW9Ub2dnbGV9e25hbWU6IHJhZGlvR3JvdXB9e2NoZWNrZWQ6IGlzVmlzaWJsZX17QGV2ZW50LW9uY2xpY2s6IHNldEl0ZW1WaXNpYmlsaXR5RXhjbHVzaXZlfXt0aXRsZTogbGF5ZXJUb2dnbGVUb29sdGlwfSIgLz4gPC9zcGFuPiA8c3BhbiBjbGFzcz0ibGF5ZXItaXRlbS1jdHJsIGxheWVyLWxpc3QtbWFwc2VydmljZS1pY29uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX0iPjxpbWcgZGF0YS1iaW5kaW5nPSJ7YWx0OiBpY29uVG9vbHRpcH17c3JjOiBpY29uVXJpfSIgLz48L3NwYW4+IDxzcGFuIGNsYXNzPSJsYXllci1pdGVtLWN0cmwiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBsZWdlbmRJc1Zpc2libGV9Ij48YnV0dG9uIGNsYXNzPSJsYXllci1saXN0LWxlZ2VuZC1pY29uIiBkYXRhLWJpbmRpbmc9Intpbm5lckhUTUw6IGxlZ2VuZFN3YXRjaH17dGl0bGU6IGxlZ2VuZFRvb2x0aXB9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVMZWdlbmRFeHBhbmRlckNsaWNrfSI+PC9idXR0b24+PC9zcGFuPiA8c3BhbiBjbGFzcz0iZGlzcGxheS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUV4cGFuZGVyQ2xpY2t9Ij48L3NwYW4+IDwvZGl2PiA8L2xpPiA8bGkgY2xhc3M9ImxheWVyIiByb2xlPSJ0cmVlaXRlbSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGxlZ2VuZElzVmlzaWJsZX0iPiA8dWwgY2xhc3M9ImxlZ2VuZC1saXN0IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZXhwYW5kTGVnZW5kfXtAc291cmNlOiBsZWdlbmRJdGVtc317QHRlbXBsYXRlOiBNYXBwaW5nL21vZHVsZXMvTGF5ZXJMaXN0L1RlbXBsYXRlcy9MYXllckxpc3RMZWdlbmRJdGVtVGVtcGxhdGUuaHRtbH0iPjwvdWw+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0V4cGFuZGVkfXtAc291cmNlOiBvbkRlbWFuZEl0ZW1Db2xsZWN0aW9ufXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9MYXllckxpc3QvVGVtcGxhdGVzL0xheWVyTGlzdEl0ZW1UZW1wbGF0ZS5odG1sfSI+PC9kaXY+IDwvbGk+IDwvdWw+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerList/LayerActions/LayerActionsView.html","html","PGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAgbm8taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogdmlzaWJsZU1lbnVJdGVtc317QHRleHQ6IEBsYW5ndWFnZS1sYXllcmxpc3Qtbm8tZmVhdHVyZS1hY3Rpb25zfSI+PC9kaXY+IDxkaXYgY2xhc3M9InBhbmVsLWdyb3VwIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdmlzaWJsZU1lbnVJdGVtc317QHNvdXJjZTogdmlzaWJsZU1lbnVJdGVtc30iPiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUgYWN0aXZlIGhhcy1pY29uIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiB2aXNpYmxlTWVudUl0ZW1zfXtAZW5hYmxlZDogY2FuRXhlY3V0ZX0iPiA8YnV0dG9uIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9ubW91c2VvdmVyOiBnZXREZXNjcmlwdGlvbn17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZU1lbnVJdGVtQ2xpY2t9Ij4gPGltZyBjbGFzcz0ibGlzdC1tZW51LWljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfXtzcmM6IGljb25Vcml9IiBhbHQ9IiAiPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRleHR9Ij48L3N0cm9uZz4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXNjIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGVzY3JpcHRpb259Ij48L3NwYW4+IDwvc3Bhbj4gPC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPHVsIGNsYXNzPSJsaXN0LW1lbnUgaGFzLWljb24iIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGxheWVySHlwZXJsaW5rc30iPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogbGF5ZXJIeXBlcmxpbmtzfSI+IDxhIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrSHlwZXJsaW5rfXtocmVmOiB1cml9e3RhcmdldDogdGFyZ2V0fXt0aXRsZTogdG9vbHRpcH0iPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7c3JjOiBpY29uVXJpfSIgLz4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXRhaWxzIGxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogdGV4dH0iPjwvc3Bhbj4gPC9hPiA8L2xpPiA8L3VsPiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerList/Templates/LayerListItemTemplate.html","html","PHVsIGNsYXNzPSJsYXllcnMiIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IG9uRGVtYW5kSXRlbUNvbGxlY3Rpb259Ij4gPGxpIGNsYXNzPSJsYXllciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGRpc3BsYXlJdGVtfXtAbm9jbGFzcy1sYXllci1pbnZpc2libGU6IHBhcmVudEVmZmVjdGl2ZWx5VmlzaWJsZX0iPiA8ZGl2IGNsYXNzPSJsYXllci1pdGVtLWV4cGFuZGVyIj48YnV0dG9uIGNsYXNzPSJ0cmVlLWV4cGFuZGVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaGFzRGlzcGxheWVkQ2hpbGRyZW59e0BjbGFzcy1leHBhbmRlZDogaXNFeHBhbmRlZH17QG5vY2xhc3MtY29sbGFwc2VkOiBpc0V4cGFuZGVkfXtAZXZlbnQtb25jbGljazogaGFuZGxlRXhwYW5kZXJDbGlja317dGl0bGU6bGF5ZXJGb2xkZXJUb2dnbGVUb29sdGlwfSI+PC9idXR0b24+PC9kaXY+IDxkaXYgY2xhc3M9ImxheWVyLWluZm8iIGRhdGEtYmluZGluZz0ie0BjbGFzcy1sYXllci1lbmFibGVkOiBpblZpc2libGVTY2FsZVJhbmdlfXtAbm9jbGFzcy1sYXllci1kaXNhYmxlZDogaW5WaXNpYmxlU2NhbGVSYW5nZX0iPiA8ZGl2IGNsYXNzPSJsYXllci1jb250ZW50cyIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW1vdXNlZG93bjogaGFuZGxlTW91c2VEb3dufXtAZXZlbnQtbW91c2V1cDogaGFuZGxlTW91c2VVcH17QGV2ZW50LXRvdWNoc3RhcnQ6IGhhbmRsZVRvdWNoU3RhcnR9e0BldmVudC10b3VjaGVuZDogaGFuZGxlVG91Y2hFbmR9Ij4gPHNwYW4gY2xhc3M9ImxheWVyLWl0ZW0tY3RybCI+IDxpbnB1dCB0eXBlPSJjaGVja2JveCIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaGFzUmFkaW9Ub2dnbGV9e0BkaXNhYmxlZDogaGFzUmFkaW9Ub2dnbGV9e2NoZWNrZWQ6IGlzVmlzaWJsZX17ZGlzYWJsZWQ6IGNhbk5vdEFzc2lnblZpc2liaWxpdHl9e0BldmVudC1vbmNsaWNrOiBzZXRJdGVtVmlzaWJpbGl0eX17dGl0bGU6IGxheWVyVG9nZ2xlVG9vbHRpcH0iIC8+IDxpbnB1dCB0eXBlPSJyYWRpbyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGhhc1JhZGlvVG9nZ2xlfXtAZW5hYmxlZDogaGFzUmFkaW9Ub2dnbGV9e25hbWU6IHJhZGlvR3JvdXB9e2NoZWNrZWQ6IGlzVmlzaWJsZX17ZGlzYWJsZWQ6IGNhbk5vdEFzc2lnblZpc2liaWxpdHl9e0BldmVudC1vbmNsaWNrOiBzZXRJdGVtVmlzaWJpbGl0eUV4Y2x1c2l2ZX17dGl0bGU6IGxheWVyVG9nZ2xlVG9vbHRpcH0iIC8+IDwvc3Bhbj4gPHNwYW4gY2xhc3M9ImxheWVyLWl0ZW0tY3RybCBsYXllci1saXN0LWxheWVyLWljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfSI+PGltZyBkYXRhLWJpbmRpbmc9InthbHQ6IGljb25Ub29sdGlwfXtzcmM6IGljb25Vcml9IiAvPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImxheWVyLWl0ZW0tY3RybCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGxlZ2VuZElzVmlzaWJsZX0iPiA8c3BhbiBjbGFzcz0ibGF5ZXItbGlzdC1sZWdlbmQtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7aW5uZXJIVE1MOiBsZWdlbmRTd2F0Y2h9e3RpdGxlOiBsZWdlbmRUb29sdGlwfXtAaGlkZGVuOiBsZWdlbmRIYXNNdWx0aXBsZUl0ZW1zfSI+PC9zcGFuPiA8YnV0dG9uIGNsYXNzPSJsYXllci1saXN0LWxlZ2VuZC1pY29uIiBkYXRhLWJpbmRpbmc9Intpbm5lckhUTUw6IGxlZ2VuZFN3YXRjaH17dGl0bGU6IGxlZ2VuZFRvb2x0aXB9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVMZWdlbmRFeHBhbmRlckNsaWNrfXtAdmlzaWJsZTogbGVnZW5kSGFzTXVsdGlwbGVJdGVtc30iPjwvYnV0dG9uPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJkaXNwbGF5LW5hbWUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfXtAZXZlbnQtb25jbGljazogaGFuZGxlRXhwYW5kZXJDbGlja30iPjwvc3Bhbj4gPC9kaXY+IDxkaXYgY2xhc3M9IndpZGdldCIgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogVHJhbnNwYXJlbmN5U2xpZGVyfXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX17QHZpc2libGU6IGNhbkFkanVzdE9wYWNpdHl9Ij48L2Rpdj4gPGRpdiBjbGFzcz0ibGF5ZXItYWN0aW9ucyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGVuYWJsZUxheWVyQWN0aW9uc30iPjxidXR0b24gY2xhc3M9ImNoZXZyb24tcmlnaHQtMTYiIGRhdGEtYmluZGluZz0ie3RpdGxlOiBsYXllckFjdGlvbnNUb29sdGlwfXtAZXZlbnQtb25jbGljazogaGFuZGxlTGF5ZXJBY3Rpb25zfSI+PC9idXR0b24+PC9kaXY+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBsZWdlbmRJc1Zpc2libGV9Ij4gPHVsIGNsYXNzPSJsZWdlbmQtbGlzdCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGV4cGFuZExlZ2VuZH17QHNvdXJjZTogbGVnZW5kSXRlbXN9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL0xheWVyTGlzdC9UZW1wbGF0ZXMvTGF5ZXJMaXN0TGVnZW5kSXRlbVRlbXBsYXRlLmh0bWx9Ij48L3VsPiA8L2Rpdj4gPHVsIGNsYXNzPSJsYXllcnMiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0V4cGFuZGVkfXtAc291cmNlOiBvbkRlbWFuZEl0ZW1Db2xsZWN0aW9ufXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9MYXllckxpc3QvVGVtcGxhdGVzL0xheWVyTGlzdEl0ZW1UZW1wbGF0ZS5odG1sfSI+PC91bD4gPC9saT4gPC91bD4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerList/Templates/LayerListLegendItemTemplate.html","html","PHVsPiA8bGkgY2xhc3M9ImxlZ2VuZC1pdGVtIGxlYWYgY2xlYXIiIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGxlZ2VuZEl0ZW1zfSIgdGFiaW5kZXg9IjAiPiA8ZGl2IGNsYXNzPSJsZWdlbmQtaXRlbSBjaGlsZHJlbiBsYXllci1jb250ZW50cyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzVmlzaWJsZUluTGF5ZXJMaXN0TGVnZW5kfSI+IDxkaXYgY2xhc3M9ImxlZ2VuZC1zd2F0Y2giIGRhdGEtYmluZGluZz0ie2lubmVySFRNTDogc3dhdGNoRWxlbWVudH17dGl0bGU6IGxhYmVsfSI+PC9kaXY+IDxzcGFuIGNsYXNzPSJsZWdlbmQtaXRlbS1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGxhYmVsfXt0aXRsZTogbGFiZWx9Ij48L3NwYW4+IDwvZGl2PiA8L2xpPiA8L3VsPiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerList/Widgets/TransparencySliderView.html","html","PGRpdiBjbGFzcz0id2lkZ2V0Ij4gPGRpdiBjbGFzcz0idHJhbnNwYXJlbmN5LXNsaWRlciIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogdFNsaWRlckVsZW1lbnR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUcmFuc3BhcmVuY3lTbGlkZXJDbGlja30iPjwvZGl2PiA8L2Rpdj4g");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerSelector/LayerSelectorView.html","html","PHVsIGNsYXNzPSJsYXllci1zZWxlY3Rvci1idXR0b25zIj4gPGxpPjxidXR0b24gY2xhc3M9ImJ1dHRvbiBsYXllci1hY3Rpb25zLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHNlbGVjdEFsbEJ1dHRvblRleHR9e3RpdGxlOiBzZWxlY3RBbGxCdXR0b25UaXRsZX17QGV2ZW50LW9uY2xpY2s6IHNlbGVjdEFsbExheWVyc30iPjwvYnV0dG9uPjwvbGk+IDxsaT48YnV0dG9uIGNsYXNzPSJidXR0b24gbGF5ZXItYWN0aW9ucy1idXR0b24iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBjbGVhckFsbEJ1dHRvblRleHR9e3RpdGxlOiBjbGVhckFsbEJ1dHRvblRpdGxlfXtAZXZlbnQtb25jbGljazogY2xlYXJBbGxMYXllcnN9Ij48L2J1dHRvbj48L2xpPiA8L3VsPiA8ZGl2IGNsYXNzPSJsYXllci1saXN0Ij4gPGRpdiBjbGFzcz0iaWRlbnRpZnktbGF5ZXJzIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBpdGVtc317QHRlbXBsYXRlOiBNYXBwaW5nL21vZHVsZXMvTGF5ZXJTZWxlY3Rvci9UZW1wbGF0ZXMvTGF5ZXJTZWxlY3Rvckl0ZW1UZW1wbGF0ZS5odG1sfSI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/LayerSelector/Templates/LayerSelectorItemTemplate.html","html","PHVsIGNsYXNzPSJsYXllcnMiIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGl0ZW1zfSI+IDxsaSBjbGFzcz0ibGF5ZXIiPiA8ZGl2IGNsYXNzPSJsYXllci1pdGVtLWV4cGFuZGVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNGb2xkZXJ9Ij4gPGJ1dHRvbiBjbGFzcz0idHJlZS1leHBhbmRlciIgZGF0YS1iaW5kaW5nPSJ7QGNsYXNzLWV4cGFuZGVkOiBpc0V4cGFuZGVkfXtAbm9jbGFzcy1jb2xsYXBzZWQ6IGlzRXhwYW5kZWR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVFeHBhbmRlckNsaWNrfXt0aXRsZTogZXhwYW5kZXJUb29sdGlwfSI+PC9idXR0b24+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsYXllci1pbmZvIj4gPGRpdiBjbGFzcz0ibGF5ZXItY29udGVudHMiPiA8c3BhbiBjbGFzcz0ibGF5ZXItaXRlbS1jdHJsIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc0ZvbGRlcn0iPiA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogaXNFbmFibGVkfXtjaGVja2VkOiBpc0VuYWJsZWR9e3RpdGxlOiBzdGF0ZVRvZ2dsZVRvb2x0aXB9IiAvPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJsYXllci1pdGVtLWN0cmwgbGF5ZXItbGlzdC1sYXllci1pY29uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX0iPjxpbWcgZGF0YS1iaW5kaW5nPSJ7YWx0OiBpY29uVG9vbHRpcH17c3JjOiBpY29uVXJpfSIgLz48L3NwYW4+IDxzcGFuIGNsYXNzPSJkaXNwbGF5LW5hbWUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfSI+PC9zcGFuPiA8L2Rpdj4gPC9kaXY+IDx1bCBjbGFzcz0ibGF5ZXJzIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNFeHBhbmRlZH17QHNvdXJjZTogaXRlbXN9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL0xheWVyU2VsZWN0b3IvVGVtcGxhdGVzL0xheWVyU2VsZWN0b3JJdGVtVGVtcGxhdGUuaHRtbH0iPjwvdWw+IDwvbGk+IDwvdWw+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Legend/LegendView.html","html","PGRpdiBjbGFzcz0icmVzdWx0cy1saXN0LWFjdGlvbnMtd2lkZ2V0IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdmlld0luaXRpYWxpemVkfXtAd2lkZ2V0OiBMZWdlbmRBY3Rpb25zV2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX0iDQogICAgIGRhdGEtbWVudS1pZD0iTGVnZW5kQWN0aW9ucyIgZGF0YS1tZW51LXRlbXBsYXRlPSJNYXBwaW5nL2luZnJhc3RydWN0dXJlL21lbnVzL01lbnVIeXBlcmxpbmtWaWV3Lmh0bWwiPjwvZGl2PiA8ZGl2IGNsYXNzPSJuby1yZXN1bHRzIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBoYXNWaXNpYmxlSXRlbXN9Ij4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1sZWdlbmQtbm8taXRlbXN9Ij48L3A+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsYXllci1saXN0IGxlZ2VuZCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGhhc1Zpc2libGVJdGVtc317QHNvdXJjZTogb25EZW1hbmRSb290Tm9kZX0iPiA8ZGl2IGNsYXNzPSJsZWdlbmQtbGlzdCIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogb25EZW1hbmRSb290Tm9kZX0iPiA8dWwgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogY2hpbGRyZW59e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL0xlZ2VuZC9UZW1wbGF0ZXMvTGVnZW5kSXRlbU5vZGUuaHRtbH0iPjwvdWw+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Legend/Templates/LegendItem.html","html","PGRpdiBjbGFzcz0ibGVnZW5kLWl0ZW0gbGVhZiBjbGVhciI+IDxkaXYgY2xhc3M9ImxlZ2VuZC1zd2F0Y2giIGRhdGEtYmluZGluZz0ie2lubmVySFRNTDogc3dhdGNoRWxlbWVudH17dGl0bGU6IGxhYmVsfSI+PC9kaXY+IDxzcGFuIGNsYXNzPSJsZWdlbmQtaXRlbS1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGxhYmVsfXt0aXRsZTogbGFiZWx9Ij48L3NwYW4+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Legend/Templates/LegendItemGroup.html","html","PGRpdiBjbGFzcz0ibGVnZW5kLWl0ZW0gZ3JvdXAgY2xlYXIiPiA8ZGl2IGNsYXNzPSJsZWdlbmQtaXRlbS1wYXJlbnQiPiA8YnV0dG9uIGRhdGEtYmluZGluZz0ie2NsYXNzOiBleHBhbmRlckNsYXNzfXtAdmlzaWJsZTogY2hpbGRyZW59e0BldmVudC1vbmNsaWNrOiBoYW5kbGVTbGlkZVRvZ2dsZUNsaWNrfXt0aXRsZTogbGFiZWx9Ij4gPHNwYW4gY2xhc3M9ImxlZ2VuZC1pdGVtLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogbGFiZWx9e3RpdGxlOiBsYWJlbH0iPjwvc3Bhbj48L2J1dHRvbj4gPC9kaXY+IDx1bCBjbGFzcz0ibGVnZW5kLWl0ZW0gY2hpbGRyZW4iIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGNoaWxkcmVufXtAdmlzaWJsZTogZXhwYW5kZWR9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL0xlZ2VuZC9UZW1wbGF0ZXMvTGVnZW5kSXRlbU5vZGUuaHRtbH0iPiA8L3VsPiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Legend/Templates/LegendItemNode.html","html","PGxpIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IEBjb250ZXh0fXtAdmlzaWJsZTogaXNWaXNpYmxlfXtAdGVtcGxhdGUtc2VsZWN0b3I6IHRlbXBsYXRlVHlwZX0iPiA8ZGl2IGNsYXNzPSJ0ZW1wbC1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBzaW5nbGUtaXRlbX17QHRlbXBsYXRlOiBNYXBwaW5nL21vZHVsZXMvTGVnZW5kL1RlbXBsYXRlcy9MZWdlbmRJdGVtLmh0bWx9Ij48L2Rpdj4gPGRpdiBjbGFzcz0idGVtcGwtZ3JvdXAiIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IGdyb3VwfXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9MZWdlbmQvVGVtcGxhdGVzL0xlZ2VuZEl0ZW1Hcm91cC5odG1sfSI+PC9kaXY+IDwvbGk+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Log/LogStatusView.html","html","PGRpdiBjbGFzcz0ibG9nLXN0YXR1cyI+IDxkaXYgY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGxvZ0VudHJpZXN9Ij4gPGEgY2xhc3M9ImxvZy12aWV3LWJ1dHRvbiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2t9Ij48L2E+IDwvZGl2PiA8L2Rpdj4g");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Log/LogView.html","html","PGRpdiBjbGFzcz0ibG9ndmlldyI+IDxkaXYgY2xhc3M9ImxvZ3ZpZXctaGVhZGVyIj4gPGgyIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbG9nLXRpdGxlfSI+PC9oMj4gPGRpdiBjbGFzcz0ibG9ndmlldy1oZWFkZXItYnV0dG9ucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrQ2xlYXJ9e0B2aXNpYmxlOiBsb2dFbnRyaWVzfXtAdGV4dDogQGxhbmd1YWdlLWxvZy1jbGVhcn0iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0hpZGV9e0B0ZXh0OiBAbGFuZ3VhZ2UtbG9nLWhpZGV9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsb2d2aWV3LWlubmVyIj4gIDxkaXYgY2xhc3M9Im5vLXJlc3VsdHMiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGxvZ0VudHJpZXN9e0B0ZXh0OiBAbGFuZ3VhZ2UtbG9nLW5vLWVudHJpZXN9Ij48L2Rpdj4gIDx0YWJsZSBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogbG9nRW50cmllc30iPiA8dGhlYWQ+IDx0ciB0YWJpbmRleD0iMCI+IDx0aCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxvZy1sZXZlbH0iPjwvdGg+IDx0aCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxvZy10aW1lc3RhbXB9Ij48L3RoPiA8dGggZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1sb2ctbWVzc2FnZX0iPjwvdGg+IDwvdHI+IDwvdGhlYWQ+IDx0Ym9keSBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBsb2dFbnRyaWVzfSI+IDx0ciB0YWJpbmRleD0iMCIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogbG9nRW50cmllc30iPiA8dGQgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGxldmVsfXtjbGFzc05hbWU6IGNzc0NsYXNzfSI+PC90ZD4gPHRkIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB0aW1lc3RhbXB9e2NsYXNzTmFtZTogY3NzQ2xhc3N9Ij48L3RkPiA8dGQgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG1lc3NhZ2V9e2NsYXNzTmFtZTogY3NzQ2xhc3N9Ij48L3RkPiA8L3RyPiA8L3Rib2R5PiA8L3RhYmxlPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Map/MapHostView.html","html","PGRpdiBjbGFzcz0icmVnaW9uIG1hcC1yZWdpb24iIGRhdGEtcmVnaW9uLW5hbWU9Ik1hcFJlZ2lvbiI+PC9kaXY+IA==");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Map/MapView.html","html","DQo8ZGl2IGNsYXNzPSJtYXAtZXJyb3IiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHNob3dNYXB9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd0Vycm9yfSI+IDxoMiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW1hcC1zaXRlLWluaXRpYWxpemF0aW9uLWZhaWxlZH0iPjwvaDI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWRlYnVnLWxvZy1rZXlzfSI+PC9wPiA8L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd0F1dGhFcnJvcn0iPiA8aDIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tYXAtc2l0ZS1hdXRob3JpemF0aW9uLWZhaWxlZH0iPjwvaDI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbWFwLXNpdGUtYXV0aG9yaXphdGlvbi1mYWlsZWQtbWVzc2FnZX0iPjwvcD4gPC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dDcml0aWNhbFNlcnZpY2VzRXJyb3J9Ij4gPGgyIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbWFwLXNpdGUtY3JpdGljYWwtc2VydmljZXMtZmFpbGVkfSI+PC9oMj4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tYXAtc2l0ZS1jcml0aWNhbC1zZXJ2aWNlcy1mYWlsZWQtbWVzc2FnZX0iPjwvcD4gPC9kaXY+IDwvZGl2PiA8ZGl2IGlkPSJtYXAtY29udGFpbmVyIiBzdHlsZT0iaGVpZ2h0OiAxMDAlOyB3aWR0aDogMTAwJSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dNYXB9Ij4gIDxkaXYgaWQ9Im1hcCIgY2xhc3M9Im1hcCBuZWVkc2NsaWNrIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBtYXBEaXZ9Ij48L2Rpdj4gIDxkaXYgY2xhc3M9InJlZ2lvbiBtYXAtY2VudGVyLXJlZ2lvbiIgZGF0YS1yZWdpb24tbmFtZT0iQ2VudGVyUmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLkRpdlN0YWNrUmVnaW9uQWRhcHRlciIgZGF0YS1yZWdpb24tb3B0aW9ucz0iYWN0aXZhdGVWaWV3c0luTGFzdFBvc2l0aW9uPWZhbHNlIj48L2Rpdj4gPGRpdiBjbGFzcz0icmVnaW9uIG1hcC10b3AtbGVmdCIgZGF0YS1yZWdpb24tbmFtZT0iVG9wTGVmdE1hcFJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5EaXZTdGFja1JlZ2lvbkFkYXB0ZXIiIGRhdGEtcmVnaW9uLW9wdGlvbnM9ImFjdGl2YXRlVmlld3NJbkxhc3RQb3NpdGlvbj1mYWxzZSI+PC9kaXY+IDxkaXYgY2xhc3M9InJlZ2lvbiBtYXAtbmF2aWdhdGlvbi1yZWdpb24iIGRhdGEtcmVnaW9uLW5hbWU9Ik5hdmlnYXRpb25NYXBSZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuRGl2U3RhY2tSZWdpb25BZGFwdGVyIiBkYXRhLXJlZ2lvbi1vcHRpb25zPSJhY3RpdmF0ZVZpZXdzSW5MYXN0UG9zaXRpb249ZmFsc2UiPjwvZGl2PiA8ZGl2IGNsYXNzPSJyZWdpb24gbWFwLXRvcC1jZW50ZXIiIGRhdGEtcmVnaW9uLW5hbWU9IlRvcENlbnRlck1hcFJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5EaXZTdGFja1JlZ2lvbkFkYXB0ZXIiIGRhdGEtcmVnaW9uLW9wdGlvbnM9ImFjdGl2YXRlVmlld3NJbkxhc3RQb3NpdGlvbj1mYWxzZSI+PC9kaXY+IDxkaXYgY2xhc3M9InJlZ2lvbiBtYXAtdG9wLXJpZ2h0IiBkYXRhLXJlZ2lvbi1uYW1lPSJUb3BSaWdodE1hcFJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5EaXZTdGFja1JlZ2lvbkFkYXB0ZXIiIGRhdGEtcmVnaW9uLW9wdGlvbnM9ImFjdGl2YXRlVmlld3NJbkxhc3RQb3NpdGlvbj1mYWxzZSI+PC9kaXY+IDxkaXYgY2xhc3M9InJlZ2lvbiBtYXAtYmFzZW1hcC1yZWdpb24iIGRhdGEtcmVnaW9uLW5hbWU9IkJhc2VtYXBNYXBSZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuRGl2U3RhY2tSZWdpb25BZGFwdGVyIiBkYXRhLXJlZ2lvbi1vcHRpb25zPSJhY3RpdmF0ZVZpZXdzSW5MYXN0UG9zaXRpb249ZmFsc2UiPjwvZGl2PiA8ZGl2IGNsYXNzPSJyZWdpb24gbWFwLW1pZGRsZS1yaWdodCIgZGF0YS1yZWdpb24tbmFtZT0iTWlkZGxlUmlnaHRNYXBSZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuRGl2U3RhY2tSZWdpb25BZGFwdGVyIiBkYXRhLXJlZ2lvbi1vcHRpb25zPSJhY3RpdmF0ZVZpZXdzSW5MYXN0UG9zaXRpb249ZmFsc2UiPjwvZGl2PiA8ZGl2IGNsYXNzPSJyZWdpb24gbWFwLWJvdHRvbS1yaWdodCIgZGF0YS1yZWdpb24tbmFtZT0iQm90dG9tUmlnaHRNYXBSZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuRGl2U3RhY2tSZWdpb25BZGFwdGVyIiBkYXRhLXJlZ2lvbi1vcHRpb25zPSJhY3RpdmF0ZVZpZXdzSW5MYXN0UG9zaXRpb249ZmFsc2UiPjwvZGl2PiA8ZGl2IGNsYXNzPSJyZWdpb24gbWFwLWJvdHRvbS1jZW50ZXIiIGRhdGEtcmVnaW9uLW5hbWU9IkJvdHRvbUNlbnRlck1hcFJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5EaXZTdGFja1JlZ2lvbkFkYXB0ZXIiIGRhdGEtcmVnaW9uLW9wdGlvbnM9ImFjdGl2YXRlVmlld3NJbkxhc3RQb3NpdGlvbj1mYWxzZSI+PC9kaXY+IDxkaXYgY2xhc3M9InJlZ2lvbiBtYXAtYm90dG9tLWxlZnQiIGRhdGEtcmVnaW9uLW5hbWU9IkJvdHRvbUxlZnRNYXBSZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuRGl2U3RhY2tSZWdpb25BZGFwdGVyIiBkYXRhLXJlZ2lvbi1vcHRpb25zPSJhY3RpdmF0ZVZpZXdzSW5MYXN0UG9zaXRpb249ZmFsc2UiPjwvZGl2PiA8ZGl2IGNsYXNzPSJyZWdpb24gbWFwLW1pZGRsZS1sZWZ0IiBkYXRhLXJlZ2lvbi1uYW1lPSJNaWRkbGVMZWZ0TWFwUmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLkRpdlN0YWNrUmVnaW9uQWRhcHRlciIgZGF0YS1yZWdpb24tb3B0aW9ucz0iYWN0aXZhdGVWaWV3c0luTGFzdFBvc2l0aW9uPWZhbHNlIj48L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Map/MapContextMenu/MapContextMenuView.html","html","PGRpdiBjbGFzcz0icmVnaW9uIG1hcC1jb250ZXh0LW1lbnUtcmVnaW9uIiBkYXRhLXJlZ2lvbi1uYW1lPSJNYXBDb250ZXh0TWVudUNvbnRlbnRSZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuRGl2U3RhY2tSZWdpb25BZGFwdGVyIj48L2Rpdj4g");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Map/MapContextMenu/Views/Coordinates/CoordinatesView.html","html","PGRpdiBjbGFzcz0ibWFwLW1lbnUtY29vcmRpbmF0ZXMiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93Q29vcmRpbmF0ZXN9Ij4gPGRpdiB0YWJpbmRleD0iMCI+PGIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHhUeXBlfSI+PC9iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogeFZhbHVlfSI+PC9zcGFuPjwvZGl2PiA8ZGl2IHRhYmluZGV4PSIwIj48YiBkYXRhLWJpbmRpbmc9IntAdGV4dDogeVR5cGV9Ij48L2I+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB5VmFsdWV9Ij48L3NwYW4+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Map/MapContextMenu/Views/Menu/MapMenuView.html","html","PGRpdiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBNYXBDb250ZXh0TWVudVdpZGdldH17QHdpZGdldC1yZXF1aXJlZDogdHJ1ZX17QHdpZGdldC1jb250ZXh0OiBtYXBQb2ludH17QHZpc2libGU6IHNob3dNZW51fSIgZGF0YS1tZW51LWlkPSJNYXBDb250ZXh0TWVudSIgZGF0YS1tZW51LWhvaXN0LWRpc2FibGVkIGRhdGEtbWVudS10eXBlPSJnZW9jb3J0ZXguZXNzZW50aWFsc0h0bWxWaWV3ZXIubWFwcGluZy5tb2R1bGVzLm1hcC5NYXBNZW51VmlldyI+PC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Map/MapContextMenu/Views/ReverseGeocode/ReverseGeocodeView.html","html","PGRpdiBjbGFzcz0ibWFwLW1lbnUtcmV2ZXJzZS1nZW9jb2RlIiB0YWJpbmRleD0iMCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dSZXZlcnNlR2VvY29kZXJ9Ij4gPGIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGxhYmVsfSI+PC9iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogYWRkcmVzc30iPjwvc3Bhbj4gIDxwIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc1NlYXJjaGluZ30iPjwvcD4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/MapTips/MapCalloutView.html","html","DQo8ZGl2IGNsYXNzPSJtYXAtY2FsbG91dCI+IDxkaXYgY2xhc3M9Im1hcC1jYWxsb3V0LWhlYWRlciI+IDxidXR0b24gY2xhc3M9InBhbmVsLWhlYWRlci1idXR0b24gcmlnaHQgY2xvc2UtMTYiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbG9zZX17dGl0bGU6IEBsYW5ndWFnZS1jb21tb24tY2xvc2V9Ij48L2J1dHRvbj4gPGRpdiBjbGFzcz0ibWFwLWNhbGxvdXQtdGl0bGUiIGRhdGEtYmluZGluZz0ie0Bkb206IHRpdGxlQ29udGVudH0iPjwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0ibWFwLWNhbGxvdXQtY29udGVudHMiPiA8ZGl2IGRhdGEtYmluZGluZz0ie0Bkb206IGlubmVyQ29udGVudH0iPjwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9Im1hcC1jYWxsb3V0LXBvaW50ZXIgdW5zZWxlY3RhYmxlIj4gPGRpdiBjbGFzcz0ibWFwLWNhbGxvdXQtcG9pbnRlci1pbWFnZSI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/MapTips/MapTipContent.html","html","PGRpdiBjbGFzcz0ibWFwLXRpcC1jb250ZW50cyI+IDxkaXYgY2xhc3M9IndpZGdldCIgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogR2V0RGVzY3JpcHRpb259e0B3aWRnZXQtY29udGV4dDogY3VycmVudEZlYXR1cmV9e0B3aWRnZXQtcmVxdWlyZWQ6IGZhbHNlfXtAaGlkZGVuOiBzaG93Tm9SZXN1bHRzfSI+PC9kaXY+IDxkaXYgY2xhc3M9Im5vbmUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBzZWFyY2hTdWdnZXN0aW9ufXtAdmlzaWJsZTogc2hvd05vUmVzdWx0c30iPjwvZGl2PiA8ZGl2IGNsYXNzPSJidXN5IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1sb2FkaW5nfXtAdmlzaWJsZTogc2hvd0xvYWRpbmd9Ij48L2Rpdj4gPGRpdiBjbGFzcz0id2lkZ2V0IiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBNYXBUaXBBY3Rpb25zV2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IGN1cnJlbnRGZWF0dXJlfXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX17QGhpZGRlbjogc2hvd05vUmVzdWx0c30iIGRhdGEtbWVudS1pZD0iTWFwVGlwQWN0aW9ucyIgZGF0YS1tZW51LXRlbXBsYXRlPSJNYXBwaW5nL2luZnJhc3RydWN0dXJlL21lbnVzL01lbnVIeXBlcmxpbmtWaWV3Lmh0bWwiPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/MapTips/MapTipHeaderView.html","html","PGRpdiBjbGFzcz0ibWFwLXRpcC1oZWFkZXIiIHRhYi1pbmRleD0iMCI+IDxkaXYgY2xhc3M9Im1hcC10aXAtbmF2IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaGFzTXVsdGlwbGVGZWF0dXJlc30iPiA8ZGl2IGNsYXNzPSJtYXAtdGlwLW5hdi1pbm5lciI+IDxkaXYgY2xhc3M9ImZlYXR1cmUtc2VsZWN0LXdyYXBwZXIiPiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGZlYXR1cmVzfXtAdmFsdWU6IGN1cnJlbnRGZWF0dXJlfXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZVNlbGVjdH17dGl0bGU6IEBsYW5ndWFnZS1tYXAtdGlwLXNlbGVjdH0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGZlYXR1cmVzfXtpbm5lckhUTUw6IHBsYWluTGFiZWx9e0BhdHRhY2g6IEBjb250ZXh0fSIgLz4gPC9zZWxlY3Q+IDwvZGl2PiA8ZGl2IGNsYXNzPSJwYWdpbmctY29udHJvbCIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogcHJlc2VudGFibGVGZWF0dXJlc30iPiA8ZGl2IGNsYXNzPSIgcGFnaW5nLWJ1dHRvbnMiIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHByZXNlbnRhYmxlRmVhdHVyZXN9Ij4gPGJ1dHRvbiBjbGFzcz0icHJldiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZU1vdmVQcmV2fXt0aXRsZTogQGxhbmd1YWdlLW1hcC10aXAtZmVhdHVyZS1wcmV2fSI+PGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvcGFnaW5nLWNvbnRyb2wtcHJldmlvdXMtNDQucG5nIiBhbHQ9IiAiLz48L2J1dHRvbj4gPHNwYW4gY2xhc3M9InBhZ2luZy1idXR0b25zLWluZm8iIHRhYmluZGV4PSIwIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGN1cnJJbmRleFN0YXJ0RnJvbU9uZX0iPjwvc3Bhbj4mbmJzcDs8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW1hcC10aXAtZmVhdHVyZXMtb2Z9Ij48L3NwYW4+Jm5ic3A7PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG51bWJlck9mSXRlbXN9Ij48L3NwYW4+IDwvc3Bhbj4gPGJ1dHRvbiBjbGFzcz0ibmV4dCIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZU1vdmVOZXh0fXt0aXRsZTogQGxhbmd1YWdlLW1hcC10aXAtZmVhdHVyZS1uZXh0fSI+PGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvcGFnaW5nLWNvbnRyb2wtbmV4dC00NC5wbmciIGFsdD0iICIgLz48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9Im1hcC10aXAtdGl0bGUiIGRhdGEtYmluZGluZz0ie0B2YXI6IHRpdGxlRWxlbWVudH0iIHRhYmluZGV4PSIwIj48L2Rpdj4gPGRpdiBjbGFzcz0ibWFwLXRpcC1udWxsLWdlb21ldHJ5Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tYXAtdGlwLW51bGwtZ2VvbWV0cnl9e0B2aXNpYmxlOiBoYXNOdWxsR2VvbWV0cnl9IiB0YWJpbmRleD0iMCI+PC9zcGFuPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/MapTips/MapTipView.html","html","PGRpdiBjbGFzcz0ibWFwLXRpcC12aWV3Ij4gPGRpdiBjbGFzcz0ibWFwLXRpcC12aWV3LWhlYWRlciI+IDxkaXYgZGF0YS1yZWdpb24tbmFtZT0iTWFwVGlwSGVhZGVyUmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLkRpdlJlZ2lvbkFkYXB0ZXIiIHRhYi1pbmRleD0iMCI+PC9kaXY+IDxidXR0b24gY2xhc3M9InBhbmVsLWhlYWRlci1idXR0b24gcmlnaHQgY2xvc2UtMTYiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbG9zZX17dGl0bGU6QGxhbmd1YWdlLW1hcC10aXAtY2xvc2V9Ij48L2J1dHRvbj4gPC9kaXY+IDxkaXYgY2xhc3M9Im1hcC10aXAtdmlldy1jb250ZW50cyIgZGF0YS1yZWdpb24tbmFtZT0iTWFwVGlwQ29udGVudFJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5EaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPC9kaXY+IA0K");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Markup/StyleSelector/StyleSelectorLine.html","html","PGRpdiBjbGFzcz0ic3R5bGUtc2VsZWN0b3IgbWFya3VwIHBvbHlsaW5lIj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBsaW5lU3R5bGVzfSI+IDxidXR0b24gY2xhc3M9Im1hcmt1cC1zd2F0Y2giIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGxpbmVTdHlsZXN9Ij48L2J1dHRvbj4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrQ2FuY2VsfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1jYW5jZWx9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Markup/StyleSelector/StyleSelectorPoint.html","html","PGRpdiBjbGFzcz0ic3R5bGUtc2VsZWN0b3IgbWFya3VwIHBvaW50Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBwb2ludFN0eWxlc30iPiA8YnV0dG9uIGNsYXNzPSJtYXJrdXAtc3dhdGNoIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBwb2ludFN0eWxlc30iPjwvYnV0dG9uPiA8L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tDYW5jZWx9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWNhbmNlbH0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Markup/StyleSelector/StyleSelectorPolygon.html","html","PGRpdiBjbGFzcz0ic3R5bGUtc2VsZWN0b3IgbWFya3VwIHBvbHlnb24iPiA8ZGl2IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHBvbHlnb25TdHlsZXN9Ij4gPGJ1dHRvbiBjbGFzcz0ibWFya3VwLXN3YXRjaCIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogcG9seWdvblN0eWxlc30iPjwvYnV0dG9uPiA8L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tDYW5jZWx9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWNhbmNlbH0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Markup/StyleSelector/StyleSelectorText.html","html","PGRpdiBjbGFzcz0ic3R5bGUtc2VsZWN0b3IgbWFya3VwIHRleHQiPiA8ZGl2IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHRleHRTdHlsZXN9Ij4gPGJ1dHRvbiBjbGFzcz0ibWFya3VwLXN3YXRjaCIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogdGV4dFN0eWxlc30iPjwvYnV0dG9uPiA8L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tDYW5jZWx9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWNhbmNlbH0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Markup/ToolPalettes/DeletePaletteSmall.html","html","PGRpdiBjbGFzcz0idG9vbGJhci10b29sLW1vZGUiPiA8YnV0dG9uIGNsYXNzPSJ0YnRtLWRvbmUiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0RvbmV9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tZW51LWRvbmV9Ij48L3NwYW4+IDwvYnV0dG9uPiA8ZGl2IGNsYXNzPSJ0YnRtLWxpc3QiPiA8dWwgY2xhc3M9InR3byI+IDxsaT4gPGJ1dHRvbiBjbGFzcz0idGJ0bS1idG4iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0VkaXR9Ij4gPHNwYW4gY2xhc3M9Imljb24gaWNvbi1kcmF3LWVkaXQtMjQiPjwvc3Bhbj4gPC9idXR0b24+IDxsYWJlbCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXBhbGV0dGUtc21hbGwtZWRpdH0iPjwvbGFiZWw+IDwvbGk+IDxsaT4gPGJ1dHRvbiBjbGFzcz0idGJ0bS1idG4iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0NsZWFyfXtAZGlzYWJsZWQ6IGNsZWFyRGlzYWJsZWR9Ij4gPHNwYW4gY2xhc3M9Imljb24gaWNvbi1jbGVhci0yNCI+PC9zcGFuPiA8L2J1dHRvbj4gPGxhYmVsIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdG9vbGJhci1jbGVhci1hbGx9Ij48L2xhYmVsPiA8L2xpPiA8L3VsPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Markup/ToolPalettes/EditPaletteLarge.html","html","PHVsIGNsYXNzPSJtYXJrdXAtZWRpdCI+IDxsaT4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIiBkYXRhLWJpbmRpbmc9IntAZGlzYWJsZWQ6IGNoYW5nZVN0eWxlRGlzYWJsZWR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0NoYW5nZVN0eWxlfXt0aXRsZTogQGxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWNoYW5nZS1tYXJrdXAtc3R5bGUtdG9vbHRpcH0iPiA8c3BhbiBjbGFzcz0iaWNvbiBpY29uLXN3YXRjaC1waWNrZXItMjQiPjwvc3Bhbj4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1wYWxldHRlLXNtYWxsLWNoYW5nZS1zdHlsZX0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDwvdWw+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Markup/ToolPalettes/EditPaletteSmall.html","html","PGRpdiBjbGFzcz0idG9vbGJhci10b29sLW1vZGUiPiA8YnV0dG9uIGNsYXNzPSJ0YnRtLWRvbmUiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0RvbmV9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tZW51LWRvbmV9Ij48L3NwYW4+IDwvYnV0dG9uPiA8ZGl2IGNsYXNzPSJ0YnRtLWxpc3QiPiA8dWwgY2xhc3M9InRocmVlIj4gPGxpPiA8YnV0dG9uIGNsYXNzPSJ0YnRtLWJ0biIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrQ2hhbmdlU3R5bGV9e0BkaXNhYmxlZDogY2hhbmdlU3R5bGVEaXNhYmxlZH0iPiA8c3BhbiBjbGFzcz0iaWNvbiBpY29uLXN3YXRjaC1waWNrZXItMjQiPjwvc3Bhbj4gPC9idXR0b24+IDxsYWJlbCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXBhbGV0dGUtc21hbGwtY2hhbmdlLXN0eWxlfSI+PC9sYWJlbD4gPC9saT4gPGxpPiA8YnV0dG9uIGNsYXNzPSJ0YnRtLWJ0biIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrRGVsZXRlfXtAZGlzYWJsZWQ6IGNsZWFyRGlzYWJsZWR9Ij4gPHNwYW4gY2xhc3M9Imljb24gaWNvbi1kcmF3LWVkaXQtMjQiPjwvc3Bhbj4gPC9idXR0b24+IDxsYWJlbCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXBhbGV0dGUtc21hbGwtZGVsZXRlfSI+PC9sYWJlbD4gPC9saT4gPGxpPiA8YnV0dG9uIGNsYXNzPSJ0YnRtLWJ0biIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrQ2xlYXJ9e0BkaXNhYmxlZDogY2xlYXJEaXNhYmxlZH0iPiA8c3BhbiBjbGFzcz0iaWNvbiBpY29uLWNsZWFyLTI0Ij48L3NwYW4+IDwvYnV0dG9uPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS10b29sYmFyLWNsZWFyLWFsbH0iPjwvbGFiZWw+IDwvbGk+IDwvdWw+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Markup/ToolPalettes/MarkupPaletteSmall.html","html","PGRpdiBjbGFzcz0idG9vbGJhci10b29sLW1vZGUiPiA8ZGl2IGNsYXNzPSJ0YnRtLWRvbmUiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0RvbmV9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tZW51LWRvbmV9Ij48L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPSJ0YnRtLWxpc3QiPiA8dWwgY2xhc3M9InRyYW5zaWVudC1lbGVtZW50IG1hcmt1cCBmb3VyIj4gPGxpPiA8YnV0dG9uIGNsYXNzPSJ0YnRtLWJ0biIgZGF0YS1iaW5kaW5nPSJ7QGRpc2FibGVkOiBjaGFuZ2VTdHlsZURpc2FibGVkfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tDaGFuZ2VTdHlsZX0iPiA8c3BhbiBjbGFzcz0iaWNvbiBpY29uLXN3YXRjaC1waWNrZXItMjQiPjwvc3Bhbj4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1wYWxldHRlLXNtYWxsLWNoYW5nZS1zdHlsZX0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDxsaT4gPGJ1dHRvbiBjbGFzcz0idGJ0bS1idG4iIGRhdGEtYmluZGluZz0ie0BjbGFzcy1oaWdobGlnaHQ6IGVkaXRUb2dnbGVkfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tFZGl0fSI+IDxzcGFuIGNsYXNzPSJpY29uIGljb24tZHJhdy1lZGl0LTI0Ij48L3NwYW4+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtcGFsZXR0ZS1zbWFsbC1lZGl0fSI+PC9wPiA8L2J1dHRvbj4gPC9saT4gPGxpPiA8YnV0dG9uIGNsYXNzPSJ0YnRtLWJ0biIgZGF0YS1iaW5kaW5nPSJ7QGRpc2FibGVkOiBjbGVhckRpc2FibGVkfXtAY2xhc3MtaGlnaGxpZ2h0OiBkZWxldGVUb2dnbGVkfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tEZWxldGV9Ij4gPHNwYW4gY2xhc3M9Imljb24gaWNvbi1lcmFzZS0yNCI+PC9zcGFuPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXRvb2xiYXItZXJhc2V9Ij48L3A+IDwvYnV0dG9uPiA8L2xpPiA8bGk+IDxidXR0b24gY2xhc3M9InRidG0tYnRuIiBkYXRhLWJpbmRpbmc9IntAZGlzYWJsZWQ6IGNsZWFyRGlzYWJsZWR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0NsZWFyfSI+IDxzcGFuIGNsYXNzPSJpY29uIGljb24tY2xlYXItMjQiPjwvc3Bhbj4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS10b29sYmFyLWNsZWFyLWFsbH0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDwvdWw+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Measurement/MeasurementUnitSwitcherView.html","html","PGRpdiBjbGFzcz0ibWVhc3VyZW1lbnQtdW5pdC1zd2l0Y2hlciI+IDx1bCBjbGFzcz0ibGlzdC1tZW51IGhhcy1pY29uIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBsZW5ndGhVbml0c317QHZhbHVlOiBzZWxlY3RlZExlbmd0aFVuaXRzfXtAdmlzaWJsZTogbGVuZ3RoU3dpdGNoZXJTZWxlY3RlZH0iPiA8bGkgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBsZW5ndGhVbml0c317QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVNldExlbmd0aFVuaXRzfSI+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGV0YWlscyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBjb250ZXh0fSI+PC9zcGFuPiA8L2xpPiA8L3VsPiA8dWwgY2xhc3M9Imxpc3QtbWVudSBoYXMtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogYXJlYVVuaXRzfXtAdmFsdWU6IHNlbGVjdGVkQXJlYVVuaXRzfXtAaGlkZGVuOiBsZW5ndGhTd2l0Y2hlclNlbGVjdGVkfSI+IDxsaSBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGFyZWFVbml0c317QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVNldEFyZWFVbml0c30iPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAY29udGV4dH0iPjwvc3Bhbj4gPC9saT4gPC91bD4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Measurement/MeasurementView.html","html","PHVsIGNsYXNzPSJ0cmFuc2llbnQtbWVhc3VyZW1lbnQiPiA8bGkgY2xhc3M9InRvb2xiYXItaXRlbSBzZWxlY3QtZG91YmxlIj4gPHNlbGVjdCBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBsZW5ndGhVbml0c317QHZhbHVlOiBzZWxlY3RlZExlbmd0aFVuaXRzfXtkaXNhYmxlZDogbWVhc3VyZW1lbnRJblByb2dyZXNzfXt0aXRsZTogQGxhbmd1YWdlLW1lYXN1cmVtZW50LWxlbmd0aC1zZWxlY3R9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBsZW5ndGhVbml0c317dmFsdWU6IEBjb250ZXh0fXtAdGV4dDogQGNvbnRleHR9IiAvPiA8L3NlbGVjdD4gPHNlbGVjdCBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBhcmVhVW5pdHN9e0B2YWx1ZTogc2VsZWN0ZWRBcmVhVW5pdHN9e2Rpc2FibGVkOiBtZWFzdXJlbWVudEluUHJvZ3Jlc3N9e3RpdGxlOiBAbGFuZ3VhZ2UtbWVhc3VyZW1lbnQtYXJlYS1zZWxlY3R9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBhcmVhVW5pdHN9e3ZhbHVlOiBAY29udGV4dH17QHRleHQ6IEBjb250ZXh0fSIgLz4gPC9zZWxlY3Q+IDwvbGk+IDwvdWw+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Measurement/Widgets/MeasurementTransientView.html","html","PGRpdiBjbGFzcz0idG9vbGJhci10b29sLW1vZGUiPiA8ZGl2IGNsYXNzPSJ0YnRtLWRvbmUiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0Nsb3NlfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbWVudS1kb25lfSI+PC9zcGFuPiA8L2Rpdj4gPGRpdiBjbGFzcz0idGJ0bS1saXN0Ij4gPHVsIGNsYXNzPSJmaXZlIj4gPGxpIGNsYXNzPSJ0YnRtLWNoZWNrYm94Ij4gPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0idGJ0bS1hZGQtZHJhd2luZyIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBhZGRNYXJrdXBUb01hcH17ZGlzYWJsZWQ6IG1lYXN1cmVtZW50SW5Qcm9ncmVzc30iIC8+IDxwIGZvcj0idGJ0bS1hZGQtZHJhd2luZyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tZWFzdXJlbWVudC1hZGQtYXMtZHJhd2luZ30iPjwvcD4gPC9saT4gPGxpPiA8YnV0dG9uIGNsYXNzPSJ0YnRtLXNlbGVjdCIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVNob3dMZW5ndGhTd2l0Y2hlcn0iPiA8aDEgY2xhc3M9InRidG0tdW5pdHMiPjxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBzZWxlY3RlZExlbmd0aFVuaXRTaG9ydH0iPjwvc3Bhbj48c3BhbiBjbGFzcz0iaWNvbiBpY29uLXNlbGVjdCI+PC9zcGFuPjwvaDE+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbGVuZ3RoLWxhYmVsfSI+PC9wPiA8L2J1dHRvbj4gPC9saT4gPGxpPiA8YnV0dG9uIGNsYXNzPSJ0YnRtLXNlbGVjdCIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVNob3dBcmVhU3dpdGNoZXJ9Ij4gPGgxIGNsYXNzPSJ0YnRtLXVuaXRzIj48c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogc2VsZWN0ZWRBcmVhVW5pdFNob3J0fSI+PC9zcGFuPjxzcGFuIGNsYXNzPSJpY29uIGljb24tc2VsZWN0Ij48L3NwYW4+PC9oMT4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tZWFzdXJlbWVudC1hcmVhLWxhYmVsfSI+PC9wPiA8L2J1dHRvbj4gPC9saT4gPGxpPiA8YnV0dG9uIGNsYXNzPSJ0YnRtLWJ0biIgZGF0YS1iaW5kaW5nPSJ7QGRpc2FibGVkOiBkZXNjcmlwdG9yQ29udGFpbmVyRW1wdHl9e0BjbGFzcy1oaWdobGlnaHQ6IGVyYXNlQWN0aXZlfXtAZXZlbnQtb25jbGljazogaGFuZGxlRXJhc2VNZWFzdXJlbWVudH0iPiA8c3BhbiBjbGFzcz0iaWNvbiBpY29uLWVyYXNlLTI0Ij48L3NwYW4+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdG9vbGJhci1lcmFzZX0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDxsaT4gPGJ1dHRvbiBjbGFzcz0idGJ0bS1idG4iIGRhdGEtYmluZGluZz0ie0BkaXNhYmxlZDogZGVzY3JpcHRvckNvbnRhaW5lckVtcHR5fXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xlYXJBbGx9Ij4gPHNwYW4gY2xhc3M9Imljb24gaWNvbi1jbGVhci0yNCI+PC9zcGFuPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXRvb2xiYXItY2xlYXItYWxsfSI+PC9wPiA8L2J1dHRvbj4gPC9saT4gPC91bD4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Native/AttachFileView.html","html","PGRpdiBjbGFzcz0iYXR0YWNoLXBob3RvIj4gPGRpdiBjbGFzcz0icGFuZWwtY29udGVudCIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogYnJvd3NlckZpbGVBUElTdXBwb3J0ZWR9Ij4gPHAgY2xhc3M9ImhlYWRpbmciPjxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbmF0aXZlLWltYWdlLXNlbGVjdC1oZWFkaW5nfSI+PC9zcGFuPjwvcD4gPHA+PGJ1dHRvbiBjbGFzcz0iYnRuIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVUYWtlTmF0aXZlUGhvdG9DYW1lcmF9e0B0ZXh0OiBAbGFuZ3VhZ2UtbmF0aXZlLXBob3RvLWZyb20tY2FtZXJhfSI+PC9idXR0b24+PC9wPiA8cD48YnV0dG9uIGNsYXNzPSJidG4iIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVRha2VOYXRpdmVQaG90b0dhbGxlcnl9e0B0ZXh0OiBAbGFuZ3VhZ2UtbmF0aXZlLXBob3RvLWZyb20tZ2FsbGVyeX0iPjwvYnV0dG9uPjwvcD4gPC9kaXY+IDxkaXYgY2xhc3M9InBhbmVsLWNvbnRlbnQiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBicm93c2VyRmlsZUFQSVN1cHBvcnRlZH0iPiA8cCBjbGFzcz0iaGVhZGluZyI+PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1uYXRpdmUtZmlsZS1zZWxlY3QtaGVhZGluZ30iPjwvc3Bhbj48L3A+IDxmb3JtIGRhdGEtYmluZGluZz0ie0B2YXI6IHVwbG9hZEZvcm1FbGVtZW50fSI+IDxpbnB1dCB0eXBlPSJmaWxlIiBjbGFzcz0iaW5wIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZVNlbGVjdGVkRmlsZUlucHV0fSIgLz4gPC9mb3JtPiA8cCBjbGFzcz0ibG9hZGluZyI+PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzVXBsb2FkaW5nfXtAdGV4dDogQGxhbmd1YWdlLW5hdGl2ZS1maWxlLXVwbG9hZGluZ30iPjwvc3Bhbj48L3A+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/ListOfflineMapsView.html","html","PGRpdiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBMaXN0T2ZmbGluZU1hcHNBY3Rpb25zV2lkZ2V0fXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX0iIGRhdGEtbWVudS1pZD0iTGlzdE9mZmxpbmVNYXBzQWN0aW9ucyIgZGF0YS1tZW51LXRlbXBsYXRlPSJNYXBwaW5nL2luZnJhc3RydWN0dXJlL21lbnVzL01lbnVWaWV3Lmh0bWwiPjwvZGl2PiA8ZGl2IGNsYXNzPSJvZmZsaW5lLXByb2ZpbGVzIj4gPGRpdiBjbGFzcz0ib2ZmbGluZS1wcm9maWxlLW1lc3NhZ2UgZXJyb3ItbWVzc2FnZSI+IDxzcGFuIGNsYXNzPSJlcnJvci1tZXNzYWdlLXRleHQiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLW5vdC1uYXRpdmV9e0BoaWRkZW46IHN0YXR1c05hdGl2ZX0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImVycm9yLW1lc3NhZ2UtdGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lLW1hcHMtZW1wdHktb2ZmbGluZX17QHZpc2libGU6IHN0YXR1c09mZmxpbmV9Ij48L3NwYW4+IDxzcGFuIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHN0YXR1c09mZmxpbmV9Ij4gPHNwYW4gY2xhc3M9ImVycm9yLW1lc3NhZ2UtdGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lLW1hcHMtZW1wdHktZmV0Y2hpbmd9e0B2aXNpYmxlOiBzdGF0dXNGZXRjaGluZ30iPjwvc3Bhbj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogc3RhdHVzRmV0Y2hpbmd9Ij4gPHNwYW4gY2xhc3M9ImVycm9yLW1lc3NhZ2UtdGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lLW1hcHMtZW1wdHktdW5zdXBwb3J0ZWR9e0B2aXNpYmxlOiBzdGF0dXNVbnN1cHBvcnRlZH0iPjwvc3Bhbj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogc3RhdHVzVW5zdXBwb3J0ZWR9Ij4gPHNwYW4gY2xhc3M9ImVycm9yLW1lc3NhZ2UtdGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lLW1hcHMtZW1wdHktZW1wdHl9e0B2aXNpYmxlOiBzdGF0dXNFbXB0eX0iPjwvc3Bhbj4gPC9zcGFuPiA8L3NwYW4+IDwvc3Bhbj4gPC9kaXY+IDx1bCBjbGFzcz0ibGlzdC1tZW51IHByb2ZpbGUtbGlzdCI+IDxsaSBjbGFzcz0iaXRlbS1saXN0LWl0ZW0gb25saW5lLW9ubHkiPiA8YnV0dG9uIGNsYXNzPSJsaXN0LWl0ZW0tYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtY2xpY2s6IGhhbmRsZURlYWN0aXZhdGVPZmZsaW5lTWFwQ2xpY2t9e0BlbmFibGVkOiBoYXNBY3RpdmVPZmZsaW5lTWFwfSI+IDxzcGFuIGNsYXNzPSJvZmZsaW5lLXRodW1ibmFpbCI+PHNwYW4gY2xhc3M9Im9mZmxpbmUtdGh1bWJuYWlsLWhlbHBlciI+PC9zcGFuPjxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL21hcC1vbmxpbmUtNzB4NTAucG5nIiBjbGFzcz0ibGlzdC1pdGVtLWltZyIgZGF0YS1iaW5kaW5nPSJ7YWx0OiBAbGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLXVzZS1vbmxpbmUtZGF0YS1kZXNjfSIgLz48L3NwYW4+IDxzdHJvbmcgY2xhc3M9Imxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmUtbWFwcy11c2Utb25saW5lLWRhdGF9Ij48L3N0cm9uZz4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXNjIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmUtbWFwcy11c2Utb25saW5lLWRhdGEtZGVzY30iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9InN0YXR1cy1pY29uIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBoYXNBY3RpdmVPZmZsaW5lTWFwfSI+PHNwYW4gY2xhc3M9InN0YXR1cy1pY29uLWhlbHBlciI+PC9zcGFuPjxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL2Nsb3VkLTI0LnBuZyIgYWx0PSJEb3dubG9hZGVkIiAvPjwvc3Bhbj4gPC9idXR0b24+IDwvbGk+IDwvdWw+IDx1bCBjbGFzcz0ibGlzdC1tZW51IHByb2ZpbGUtbGlzdCIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogb2ZmbGluZX17QHNvdXJjZTogbWVyZ2VkT2ZmbGluZU1hcHN9Ij4gPGxpIGNsYXNzPSJpdGVtLWxpc3QtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogbWVyZ2VkT2ZmbGluZU1hcHN9e0BjbGFzcy1hY3RpdmUtbGlzdC1pdGVtOiBpc0FjdGl2ZX0iPiA8YnV0dG9uIGNsYXNzPSJsaXN0LWl0ZW0tYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtY2xpY2s6IGhhbmRsZU9mZmxpbmVNYXBDbGlja317QGRpc2FibGVkOiBpc0FjdGl2ZX0iPiA8c3BhbiBjbGFzcz0ib2ZmbGluZS10aHVtYm5haWwiPjxzcGFuIGNsYXNzPSJvZmZsaW5lLXRodW1ibmFpbC1oZWxwZXIiPjwvc3Bhbj48aW1nIGNsYXNzPSJsaXN0LWl0ZW0taW1nIiBkYXRhLWJpbmRpbmc9IntzcmM6IHRodW1ibmFpbH17dGl0bGU6IHRpdGxlfXthbHQ6IHRpdGxlfXtAZXZlbnQtZXJyb3I6IGhhbmRsZVRodW1ibmFpbExvYWRFcnJvcn0iIC8+PC9zcGFuPiA8c3BhbiBjbGFzcz0iaXRlbS1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRpdGxlfSI+PC9zcGFuPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc09ycGhhbmVkfSI+IDxzcGFuIGNsYXNzPSJzdGF0dXMtaWNvbiBhY3RpdmUtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzQWN0aXZlfSI+PHNwYW4gY2xhc3M9InN0YXR1cy1pY29uLWhlbHBlciI+PC9zcGFuPjxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL2RldmljZS1hY3RpdmUtMjQucG5nIiBhbHQ9IkFjdGl2ZSIgLz48L3NwYW4+IDxzcGFuIGNsYXNzPSJzdGF0dXMtaWNvbiBkb3dubG9hZGVkLWljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0Rvd25sb2FkZWR9Ij48c3BhbiBjbGFzcz0ic3RhdHVzLWljb24taGVscGVyIj48L3NwYW4+PGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvZGV2aWNlLXBob25lLTI0LnBuZyIgYWx0PSJEb3dubG9hZGVkIiAvPjwvc3Bhbj4gPHNwYW4gY2xhc3M9InN0YXR1cy1pY29uIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc0Rvd25sb2FkZWR9Ij48c3BhbiBjbGFzcz0ic3RhdHVzLWljb24taGVscGVyIj48L3NwYW4+PGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvY2xvdWQtZG93bmxvYWQtMjQucG5nIiBhbHQ9IkRvd25sb2FkIiAvPjwvc3Bhbj4gPC9zcGFuPiA8c3BhbiBjbGFzcz0ic3RhdHVzLWljb24gb3JwaGFuLWljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc09ycGhhbmVkfSI+PHNwYW4gY2xhc3M9InN0YXR1cy1pY29uLWhlbHBlciI+PC9zcGFuPjxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL2Vycm9yLTI0LnBuZyIgYWx0PSJQcm9maWxlIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgc2VydmVyIiAvPjwvc3Bhbj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNEb3dubG9hZGVkfSI+IDxkaXY+PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lLW1hcHMtc2l6ZX0iPjwvc3Bhbj48c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGF0YVNpemVEaXNwbGF5VmFsdWV9Ij48L3NwYW4+PC9kaXY+IDxkaXY+PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lLW1hcHMtbGFzdC1zeW5jLXRpbWV9Ij48L3NwYW4+PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGxhc3RTeW5jVGltZX0iPjwvc3Bhbj48L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNPcnBoYW5lZH0iPjxzcGFuIGNsYXNzPSJvcnBoYW4td2FybmluZyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lLW1hcHMtb3JwaGFuZWR9Ij48L3NwYW4+PC9kaXY+IDwvZGl2PiA8L2J1dHRvbj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc0FjdGl2ZX0iPiA8YnV0dG9uIGNsYXNzPSJsaXN0LWl0ZW0tYnV0dG9uIGFjdGlvbi1idXR0b24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0Rvd25sb2FkZWR9e0BldmVudC1jbGljazogaGFuZGxlT2ZmbGluZU1hcEZvcmdldENsaWNrfSI+PHNwYW4gY2xhc3M9ImFjdGlvbi1idXR0b24taGVscGVyIj48L3NwYW4+PGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvY2xlYXItMjQucG5nIiBhbHQ9IlJlbW92ZSBmcm9tIERldmljZSIgLz48L2J1dHRvbj4gPC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzQWN0aXZlfSI+IDxidXR0b24gY2xhc3M9Imxpc3QtaXRlbS1idXR0b24gYWN0aW9uLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ9e0B2aXNpYmxlOiBpc0Rvd25sb2FkZWR9e0BldmVudC1jbGljazogaGFuZGxlT2ZmbGluZU1hcFN5bmNDbGlja30iPjxzcGFuIGNsYXNzPSJhY3Rpb24tYnV0dG9uLWhlbHBlciI+PC9zcGFuPjxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL3Rvb2xiYXIvc3luYy0yNC5wbmciIGFsdD0iU3luYyIvPjwvYnV0dG9uPiA8L2Rpdj4gPHNwYW4gY2xhc3M9ImVkaXRzLWJhZGdlIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogbnVtYmVyT2ZFZGl0c317QHZpc2libGU6IG51bWJlck9mRWRpdHN9Ij48L3NwYW4+IDwvbGk+IDwvdWw+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/ManageOfflineMapsView.html","html","PGRpdiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBNYW5hZ2VPZmZsaW5lTWFwc0FjdGlvbnNXaWRnZXR9e0B3aWRnZXQtcmVxdWlyZWQ6IGZhbHNlfSIgZGF0YS1tZW51LWlkPSJNYW5hZ2VPZmZsaW5lTWFwc0FjdGlvbnMiIGRhdGEtbWVudS10ZW1wbGF0ZT0iTWFwcGluZy9pbmZyYXN0cnVjdHVyZS9tZW51cy9NZW51Vmlldy5odG1sIj48L2Rpdj4gPGRpdiBjbGFzcz0ib2ZmbGluZS1wcm9maWxlcyI+IDxkaXYgY2xhc3M9Im9mZmxpbmUtaGVhZGVyLWluZm8tdGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHN3aXRjaGVkVG9PbmxpbmVNYXB9e0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLW1hbmFnZS1zaG93aW5nLW9ubGluZS1tYXB9Ij4gPC9kaXY+IDxkaXYgY2xhc3M9Im9mZmxpbmUtcHJvZmlsZS1tZXNzYWdlIGVycm9yLW1lc3NhZ2UiPiA8c3BhbiBjbGFzcz0iZXJyb3ItbWVzc2FnZS10ZXh0IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmUtbWFwcy1lbXB0eS1vZmZsaW5lfXtAdmlzaWJsZTogc3RhdHVzT2ZmbGluZX0iPjwvc3Bhbj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogc3RhdHVzT2ZmbGluZX0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBzdGF0dXNVbnN1cHBvcnRlZH0iPiA8c3BhbiBjbGFzcz0iZXJyb3ItbWVzc2FnZS10ZXh0IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmUtbWFwcy1lbXB0eS1lbXB0eX17QHZpc2libGU6IHN0YXR1c0VtcHR5fSI+PC9zcGFuPiA8L3NwYW4+IDwvc3Bhbj4gPHNwYW4gY2xhc3M9ImVycm9yLW1lc3NhZ2UtdGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lLW1hcHMtY2Fubm90LWNyZWF0ZX17QGhpZGRlbjogY2FuQ3JlYXRlfSI+PC9zcGFuPiA8L2Rpdj4gPHVsIGNsYXNzPSJsaXN0LW1lbnUgcHJvZmlsZS1tYW5hZ2UiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IG9mZmxpbmV9e0Bzb3VyY2U6IGRvY3N0b3JlT2ZmbGluZU1hcHN9Ij4gPGxpIGNsYXNzPSJpdGVtLWxpc3QtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogZG9jc3RvcmVPZmZsaW5lTWFwc317QHZpc2libGU6IGNhbkVkaXR9Ij4gPGJ1dHRvbiBjbGFzcz0ibGlzdC1pdGVtLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LWNsaWNrOiBoYW5kbGVFZGl0T2ZmbGluZU1hcENsaWNrfSI+IDxzcGFuIGNsYXNzPSJvZmZsaW5lLXRodW1ibmFpbCI+PHNwYW4gY2xhc3M9Im9mZmxpbmUtdGh1bWJuYWlsLWhlbHBlciI+PC9zcGFuPjxpbWcgY2xhc3M9Imxpc3QtaXRlbS1pbWciIGRhdGEtYmluZGluZz0ie3NyYzogdGh1bWJuYWlsfXt0aXRsZTogdGl0bGV9e2FsdDogdGl0bGV9e0BldmVudC1lcnJvcjogaGFuZGxlVGh1bWJuYWlsTG9hZEVycm9yfSIgLz48L3NwYW4+IDxzcGFuIGNsYXNzPSJpdGVtLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogdGl0bGV9Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJzdGF0dXMtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNEb3dubG9hZGVkfSI+PHNwYW4gY2xhc3M9InN0YXR1cy1pY29uLWhlbHBlciI+PC9zcGFuPjxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvZWRpdC0yNC5wbmciIGFsdD0iRWRpdCIgLz48L3NwYW4+IDwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJsaXN0LWl0ZW0tYnV0dG9uIGJ1dHRvbi1kZWxldGUiIGRhdGEtYmluZGluZz0ie0BldmVudC1jbGljazogaGFuZGxlRGVsZXRlT2ZmbGluZU1hcENsaWNrfXtAdmlzaWJsZTogY2FuQ2hhbmdlfSI+IDxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL3RyYXNoLXdoaXRlLnBuZyIgZGF0YS1iaW5kaW5nPSJ7dGl0bGU6IEBsYW5ndWFnZS1vZmZsaW5lLW1hcHMtZGVsZXRlLWZyb20tc2VydmVyLXRpdGxlfXthbHQ6IEBsYW5ndWFnZS1vZmZsaW5lLW1hcHMtZGVsZXRlLWZyb20tc2VydmVyLXRpdGxlfSIvPiA8L2J1dHRvbj4gPC9saT4gPC91bD4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmUtbWFwcy1uZXctYnV0dG9ufXtAZXZlbnQtY2xpY2s6IGhhbmRsZU5ld09mZmxpbmVNYXBDbGlja317QGVuYWJsZWQ6IGNhbkNyZWF0ZX0iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWRvbmV9e0BldmVudC1jbGljazogaGFuZGxlRG9uZUNsaWNrfXtAdmlzaWJsZTogc2hvd01hbmFnZURvbmVCdXR0b259Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/Editor/OfflineMapEditorView.html","html","PGRpdiBjbGFzcz0ib2ZmbGluZS1tYXAtZWRpdG9yIj4gPHNwYW4gY2xhc3M9ImVycm9yLW1lc3NhZ2UiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBsb2FkRXJyb3J9e0B2aXNpYmxlOiBsb2FkRXJyb3J9Ij48L3NwYW4+IDxkaXYgY2xhc3M9InBhbmVsLWdyb3VwLWNvbnRlbnRzIj4gPGxhYmVsIGZvcj0icHJvZmlsZV8xIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbmFtZS1sYWJlbH0iPjwvbGFiZWw+IDxpbnB1dCBpZD0icHJvZmlsZV8xIiB0eXBlPSJ0ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IG5hbWV9e0BlbmFibGVkOiBjYW5DaGFuZ2V9Ii8+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogY2FuQ2hhbmdlfSI+IDxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL3N0YXR1cy1hbGVydC0xNi5wbmciIGNsYXNzPSJzdGF0dXMtbXNnLWljb24iIGRhdGEtYmluZGluZz0ie3RpdGxlOiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zdGF0dXMtdGl0bGUtYWxlcnR9e2FsdDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc3RhdHVzLWFsdC1hbGVydH0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbmFtZS1jYW50LWNoYW5nZX0iPjwvc3Bhbj4gPC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogbmFtZX0iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9zdGF0dXMtZXJyb3ItMTYucG5nIiBjbGFzcz0ic3RhdHVzLW1zZy1pY29uIiBkYXRhLWJpbmRpbmc9Int0aXRsZTogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc3RhdHVzLXRpdGxlLWVycm9yfXthbHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy1hbHQtZXJyb3J9Ij4gPHNwYW4gY2xhc3M9ImVycm9yLW1lc3NhZ2UiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1lcnJvci1ub25hbWV9e0BoaWRkZW46IG5hbWV9Ij48L3NwYW4+IDwvZGl2PiA8L2Rpdj4gPHVsIGNsYXNzPSJsaXN0LW1lbnUgYWN0aXZlIGhhcy1pY29uIj4gPGxpPiA8YnV0dG9uIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUdlb21ldHJ5Q2xpY2t9Ij4gPGltZyBjbGFzcz0ibGlzdC1tZW51LWljb24iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2RyYXctcG9seWdvbi0yNC5wbmciIGFsdD0iIiAvPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWdlb21ldHJ5LWJ1dHRvbn0iPjwvc3Ryb25nPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1nZW9tZXRyeS1kZXNjcmlwdGlvbn0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1zdGF0dXMtbXNnIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNHZW9tZXRyeVZhbGlkfSI+IDxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL3N0YXR1cy1vay0xNi5wbmciIGNsYXNzPSJzdGF0dXMtbXNnLWljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBnZW9tZXRyeUNoYW5nZWR9e3RpdGxlOiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zdGF0dXMtdGl0bGUtb2t9e2FsdDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc3RhdHVzLWFsdC1va30iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9zdGF0dXMtZGVmYXVsdC0xNi5wbmciIGNsYXNzPSJzdGF0dXMtbXNnLWljb24iIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGdlb21ldHJ5Q2hhbmdlZH17dGl0bGU6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy10aXRsZS1kZWZhdWx0fXthbHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy10aXRsZS1kZWZhdWx0fSI+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogZ2VvbWV0cnlDaGFuZ2VkfXtAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItZ2VvbWV0cnktdGV4dC1kZWZhdWx0fSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBnZW9tZXRyeUNoYW5nZWR9e0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1nZW9tZXRyeS10ZXh0fSI+PC9zcGFuPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtc3RhdHVzLW1zZyIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNHZW9tZXRyeVZhbGlkfSI+IDxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL3N0YXR1cy1lcnJvci0xNi5wbmciIGNsYXNzPSJzdGF0dXMtbXNnLWljb24iIGRhdGEtYmluZGluZz0ie3RpdGxlOiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zdGF0dXMtdGl0bGUtZXJyb3J9e2FsdDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc3RhdHVzLWFsdC1lcnJvcn0iPiA8c3BhbiBjbGFzcz0iZXJyb3ItbWVzc2FnZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWdlb21ldHJ5LWVycm9yLWVtcHR5fSI+PC9zcGFuPiA8L3NwYW4+IDwvc3Bhbj4gPC9idXR0b24+IDwvbGk+IDxsaT4gPGJ1dHRvbiBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVMYXllcnNDbGlja30iPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvbGF5ZXJzLTI0LnBuZyIgYWx0PSIiIC8+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGV0YWlscyI+IDxzdHJvbmcgY2xhc3M9Imxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWJ1dHRvbn0iPjwvc3Ryb25nPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1sYXllcnMtZGVzY3JpcHRpb259Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtc3RhdHVzLW1zZyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzTGF5ZXJzVmFsaWR9Ij4gPGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvc3RhdHVzLW9rLTE2LnBuZyIgY2xhc3M9InN0YXR1cy1tc2ctaWNvbiIgZGF0YS1iaW5kaW5nPSJ7dGl0bGU6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy10aXRsZS1va317YWx0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zdGF0dXMtYWx0LW9rfSI+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGxheWVyc1RleHR9e0B2aXNpYmxlOiBpc0xheWVyc1ZhbGlkfSI+PC9zcGFuPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtc3RhdHVzLW1zZyIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNMYXllcnNWYWxpZH0iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9zdGF0dXMtZXJyb3ItMTYucG5nIiBjbGFzcz0ic3RhdHVzLW1zZy1pY29uIiBkYXRhLWJpbmRpbmc9Int0aXRsZTogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc3RhdHVzLXRpdGxlLWVycm9yfXthbHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy1hbHQtZXJyb3J9Ij4gPHNwYW4gY2xhc3M9ImVycm9yLW1lc3NhZ2UiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1sYXllcnMtZXJyb3ItZW1wdHl9Ij48L3NwYW4+IDwvc3Bhbj4gPC9zcGFuPiA8L2J1dHRvbj4gPC9saT4gPGxpPiA8YnV0dG9uIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUJhc2VtYXBzQ2xpY2t9Ij4gPGltZyBjbGFzcz0ibGlzdC1tZW51LWljb24iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9iYXNlbWFwLTI0LnBuZyIgYWx0PSIiIC8+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGV0YWlscyI+IDxzdHJvbmcgY2xhc3M9Imxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtYnV0dG9ufSI+PC9zdHJvbmc+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLWRlc2NyaXB0aW9ufSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LXN0YXR1cy1tc2ciIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0Jhc2VtYXBzVmFsaWR9Ij4gPGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvc3RhdHVzLW9rLTE2LnBuZyIgY2xhc3M9InN0YXR1cy1tc2ctaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGhhc0Jhc2VtYXBzfXt0aXRsZTogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc3RhdHVzLXRpdGxlLW9rfXthbHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy1hbHQtb2t9Ij4gPGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvc3RhdHVzLWRlZmF1bHQtMTYucG5nIiBjbGFzcz0ic3RhdHVzLW1zZy1pY29uIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBoYXNCYXNlbWFwc317dGl0bGU6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy10aXRsZS1kZWZhdWx0fXthbHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy1hbHQtZGVmYXVsdH0iPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBiYXNlbWFwc1RleHR9Ij48L3NwYW4+IDwvc3Bhbj4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1zdGF0dXMtbXNnIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc0Jhc2VtYXBzVmFsaWR9Ij4gPGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvc3RhdHVzLWVycm9yLTE2LnBuZyIgY2xhc3M9InN0YXR1cy1tc2ctaWNvbiIgZGF0YS1iaW5kaW5nPSJ7dGl0bGU6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy10aXRsZS1lcnJvcn17YWx0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zdGF0dXMtYWx0LWVycm9yfSI+IDxzcGFuIGNsYXNzPSJlcnJvci1tZXNzYWdlIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc0Jhc2VtYXBzQ2FsY3VsYXRpbmd9e0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1lcnJvcn0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImVycm9yLW1lc3NhZ2UiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0Jhc2VtYXBzQ2FsY3VsYXRpbmd9e0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1lcnJvci1jYWxjdWxhdGluZ30iPjwvc3Bhbj4gPC9zcGFuPiA8L3NwYW4+IDwvYnV0dG9uPiA8L2xpPiA8bGk+IDxidXR0b24gY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlU2hhcmluZ0NsaWNrfSI+IDxpbWcgY2xhc3M9Imxpc3QtbWVudS1pY29uIiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvdGVhbS0yNC5wbmciIGFsdD0iIiAvPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXNoYXJpbmctYnV0dG9ufSI+PC9zdHJvbmc+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGNhbkNoYW5nZX17QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXNoYXJpbmctZGVzY3JpcHRpb259Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtc3RhdHVzLW1zZyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGNhbkNoYW5nZX0iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9zdGF0dXMtb2stMTYucG5nIiBjbGFzcz0ic3RhdHVzLW1zZy1pY29uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaGFzU2hhcmluZ317dGl0bGU6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy10aXRsZS1va317YWx0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zdGF0dXMtYWx0LW9rfSI+IDxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL3N0YXR1cy1kZWZhdWx0LTE2LnBuZyIgY2xhc3M9InN0YXR1cy1tc2ctaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaGFzU2hhcmluZ317dGl0bGU6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy10aXRsZS1kZWZhdWx0fXthbHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy1hbHQtZGVmYXVsdH0iPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBoYXNTaGFyaW5nfXtAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc2hhcmluZy10ZXh0LXNvbWV9Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaGFzU2hhcmluZ317QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXNoYXJpbmctdGV4dC1ub25lfSI+PC9zcGFuPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtc3RhdHVzLW1zZyIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogY2FuQ2hhbmdlfSI+IDxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL3N0YXR1cy1hbGVydC0xNi5wbmciIGNsYXNzPSJzdGF0dXMtbXNnLWljb24iIGRhdGEtYmluZGluZz0ie3RpdGxlOiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zdGF0dXMtdGl0bGUtYWxlcnR9e2FsdDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc3RhdHVzLWFsdC1hbGVydH0iPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zaGFyaW5nLWNhbnQtY2hhbmdlfSI+PC9zcGFuPiA8L3NwYW4+IDwvc3Bhbj4gPC9idXR0b24+IDwvbGk+IDwvdWw+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJ1dHRvbi1zYXZlfXtAZW5hYmxlZDogaXNWYWxpZH17QGV2ZW50LWNsaWNrOiBoYW5kbGVEb25lQ2xpY2t9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1jYW5jZWx9e0BldmVudC1jbGljazogaGFuZGxlQ2FuY2VsQ2xpY2t9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/Editor/Basemap/OfflineMapEditorBasemapLevelsView.html","html","PGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAtY29udGVudHMiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGJhc2VtYXB9Ij4gPGRpdiBjbGFzcz0ib2ZmbGluZS1iYXNlbWFwLWxldmVscyIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYmFzZW1hcH0iPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtbGV2ZWxzLWluc3RydWN0aW9uc30iPjwvcD4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLWxldmVscy1sZXZlbHN9Ij48L3NwYW4+PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGV4cG9ydFRpbGVzTWluTGV2ZWx9Ij48L3NwYW4+IC0gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGV4cG9ydFRpbGVzTWF4TGV2ZWx9Ij48L3NwYW4+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHZhcjogc2xpZGVyfSI+PC9kaXY+IDxkaXY+IDxzcGFuIGNsYXNzPSJvZmZsaW5lLXByb2ZpbGUtYmFzZW1hcC1sZXNzLWRldGFpbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLWxldmVscy1sZXNzLWRldGFpbH0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9Im9mZmxpbmUtcHJvZmlsZS1iYXNlbWFwLW1vcmUtZGV0YWlsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtbGV2ZWxzLW1vcmUtZGV0YWlsfSI+PC9zcGFuPiA8L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc05vbmV9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLXNpemUtbGFiZWx9Ij48L3NwYW4+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBzaXplUHJlc2VudGFibGV9Ij48L3NwYW4+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tb2t9e0BldmVudC1jbGljazogaGFuZGxlRG9uZUNsaWNrfSI+PC9idXR0b24+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/Editor/Basemap/OfflineMapEditorBasemapsView.html","html","PGRpdiBjbGFzcz0iYmFzZW1hcC1lZGl0b3Igb2ZmbGluZS1tYXAtZWRpdG9yIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBiYXNlbWFwc30iPiA8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cC1jb250ZW50cyIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYmFzZW1hcHN9Ij4gPHNwYW4gY2xhc3M9ImxheWVyLWl0ZW0tY3RybCBsYXllci1saXN0LWxheWVyLWljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfSI+PGltZyBkYXRhLWJpbmRpbmc9IntzcmM6IGljb25Vcml9IiAvPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImRpc3BsYXktbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9zcGFuPiA8Zm9ybSBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBiYXNlbWFwc317QHZpc2libGU6IHN1cHBvcnRzQW55fSI+IDxkaXYgY2xhc3M9ImlucHV0LWdyb3VwIj4gPGxhYmVsPiA8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9InNvdXJjZVR5cGUiIHZhbHVlPSJub25lIiBkYXRhLWJpbmRpbmc9IntjaGVja2VkOiBpc05vbmV9e0BldmVudC1vbmNoYW5nZTogaGFuZGxlVHlwZVJhZGlvQ2xpY2t9IiAvPiA8c3BhbiBjbGFzcz0ibGFiZWwtdGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLW5vbmV9Ij48L3NwYW4+IDwvbGFiZWw+IDxsYWJlbCBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc3VwcG9ydHNTdGF0aWN9Ij4gPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJzb3VyY2VUeXBlIiB2YWx1ZT0icHJlZ2VuZXJhdGVkIiBkYXRhLWJpbmRpbmc9IntjaGVja2VkOiBpc1N0YXRpY317QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVUeXBlUmFkaW9DbGlja30iIC8+IDxzcGFuIGNsYXNzPSJsYWJlbC10ZXh0IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtcHJlZ2VuZXJhdGVkfSI+PC9zcGFuPiA8L2xhYmVsPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHN1cHBvcnRzRXhwb3J0VGlsZXN9Ij4gPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJzb3VyY2VUeXBlIiB2YWx1ZT0iZXhwb3J0VGlsZXMiIGRhdGEtYmluZGluZz0ie2NoZWNrZWQ6IGlzRXhwb3J0VGlsZXN9e0BldmVudC1vbmNoYW5nZTogaGFuZGxlVHlwZVJhZGlvQ2xpY2t9IiAvPiA8c3BhbiBjbGFzcz0ibGFiZWwtdGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLWV4cG9ydHRpbGVzfSI+PC9zcGFuPiA8L2xhYmVsPiA8L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNFeHBvcnRUaWxlc30iPiA8ZGl2IGNsYXNzPSJpbnB1dC1ncm91cCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1leHBvcnR0aWxlcy1sZXZlbH0iPjwvc3Bhbj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGV4cG9ydFRpbGVzTWluTGV2ZWx9Ij48L3NwYW4+IC0gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGV4cG9ydFRpbGVzTWF4TGV2ZWx9Ij48L3NwYW4+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tZWRpdH17QGV2ZW50LWNsaWNrOiBoYW5kbGVFZGl0TGV2ZWxzQ2xpY2t9Ij48L2J1dHRvbj4gPC9kaXY+IDxkaXYgY2xhc3M9ImlucHV0LWdyb3VwIj4gPGxhYmVsPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtZXhwb3J0dGlsZXMtcmVmcmVzaC1sYWJlbH0iPjwvc3Bhbj4gPGlucHV0IHR5cGU9Im51bWJlciIgbWluPSIwIiBwYXR0ZXJuPSJcZCoiIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogZXhwb3J0VGlsZXNSZWZyZXNoSW50ZXJ2YWx9IiAvPiA8L2xhYmVsPiA8L2Rpdj4gPC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzU3RhdGljfSI+IDxzZWxlY3QgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogc3RhdGljVHBrc317QHZhbHVlOiBzdGF0aWNUcGt9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBzdGF0aWNUcGtzfXtAdGV4dDogZGlzcGxheU5hbWV9e0BhdHRhY2g6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc05vbmV9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLXNpemUtbGFiZWx9Ij48L3NwYW4+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBzaXplUHJlc2VudGFibGV9Ij48L3NwYW4+IDwvZGl2PiA8L2Zvcm0+ICA8c3BhbiBjbGFzcz0iZXJyb3ItbWVzc2FnZSBlcnJvci1tZXNzYWdlLXRleHQiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHN1cHBvcnRzQW55fXtAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtbm9uZXN1cHBvcnRlZH0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImVycm9yLW1lc3NhZ2UgZXJyb3ItbWVzc2FnZS10ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZXJyb3JDb25maWd1cmF0aW9uTWVzc2FnZX17QHRleHQ6IGVycm9yQ29uZmlndXJhdGlvbk1lc3NhZ2V9Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJlcnJvci1tZXNzYWdlIGVycm9yLW1lc3NhZ2UtdGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGVycm9yRXhwb3J0VGlsZXNNZXNzYWdlfXtAdGV4dDogZXJyb3JFeHBvcnRUaWxlc01lc3NhZ2V9Ij48L3NwYW4+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1va317QGV2ZW50LWNsaWNrOiBoYW5kbGVCYWNrQ2xpY2t9Ij48L2J1dHRvbj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/Editor/Geometry/OfflineMapEditorGeometryView.html","html","PGRpdiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBPZmZsaW5lTWFwRWRpdG9yR2VvbWV0cnlBY3Rpb25zV2lkZ2V0fXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX0iIGRhdGEtbWVudS1pZD0iT2ZmbGluZU1hcEVkaXRvckdlb21ldHJ5QWN0aW9ucyIgZGF0YS1tZW51LXRlbXBsYXRlPSJNYXBwaW5nL2luZnJhc3RydWN0dXJlL21lbnVzL01lbnVWaWV3Lmh0bWwiIGRhdGEtbWVudS1ob2lzdC1kaXNhYmxlZD48L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1va317QGV2ZW50LWNsaWNrOiBoYW5kbGVCYWNrQ2xpY2t9Ij48L2J1dHRvbj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/Editor/Layers/LayerSelectorItemTemplate.html","html","PGxpIGNsYXNzPSJsYXllciIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogaXRlbXN9Ij4gPGRpdiBjbGFzcz0ibGF5ZXItaXRlbS1leHBhbmRlciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzRm9sZGVyfSI+IDxidXR0b24gY2xhc3M9InRyZWUtZXhwYW5kZXIiIGRhdGEtYmluZGluZz0ie0BjbGFzcy1leHBhbmRlZDogaXNFeHBhbmRlZH17QG5vY2xhc3MtY29sbGFwc2VkOiBpc0V4cGFuZGVkfXtAZXZlbnQtb25jbGljazogaGFuZGxlRXhwYW5kZXJDbGlja317dGl0bGU6IGV4cGFuZGVyVG9vbHRpcH0iPjwvYnV0dG9uPiA8L2Rpdj4gPGRpdiBjbGFzcz0ibGF5ZXItaW5mbyI+IDxkaXYgY2xhc3M9ImxheWVyLWNvbnRlbnRzIj4gPGxhYmVsPiA8c3BhbiBjbGFzcz0ibGF5ZXItaXRlbS1jdHJsIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc0ZvbGRlcn0iPiA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogaXNFbmFibGVkfXtjaGVja2VkOiBpc0VuYWJsZWR9e3RpdGxlOiBzdGF0ZVRvZ2dsZVRvb2x0aXB9IiAvPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJsYXllci1pdGVtLWN0cmwgbGF5ZXItbGlzdC1sYXllci1pY29uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX0iPjxpbWcgZGF0YS1iaW5kaW5nPSJ7YWx0OiBpY29uVG9vbHRpcH17c3JjOiBpY29uVXJpfSIgLz48L3NwYW4+IDxzcGFuIGNsYXNzPSJkaXNwbGF5LW5hbWUgbGFiZWwtdGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3NwYW4+IDwvbGFiZWw+IDxkaXYgY2xhc3M9Iml0ZW0tY2hpbGQiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzRm9sZGVyfSI+IDxkaXYgY2xhc3M9Iml0ZW0tb3B0aW9ucyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzRW5hYmxlZH0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpbnZhbGlkRGVmaW5pdGlvbkV4cHJlc3Npb259Ij4gPGJ1dHRvbiBjbGFzcz0iZmlsdGVyLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogZGVmaW5pdGlvbkV4cHJlc3Npb259e0BldmVudC1vbmNsaWNrOiBoYW5kbGVEZWZpbml0aW9uRXhwcmVzc2lvbkNsaWNrfXt0aXRsZTogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWZpbHRlci10b29sdGlwfSI+PGltZyBkYXRhLWJpbmRpbmc9InthbHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWxheWVycy1maWx0ZXItdG9vbHRpcH0iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ZpbHRlci1vZmYtMjQucG5nIiAvPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJmaWx0ZXItYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZGVmaW5pdGlvbkV4cHJlc3Npb259e0BldmVudC1vbmNsaWNrOiBoYW5kbGVEZWZpbml0aW9uRXhwcmVzc2lvbkNsaWNrfXt0aXRsZTogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWZpbHRlci10b29sdGlwfSI+PGltZyBkYXRhLWJpbmRpbmc9InthbHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWxheWVycy1maWx0ZXItdG9vbHRpcH0iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ZpbHRlci1vbi0yNC5wbmciIC8+PC9idXR0b24+IDwvc3Bhbj4gPGJ1dHRvbiBjbGFzcz0iZmlsdGVyLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGludmFsaWREZWZpbml0aW9uRXhwcmVzc2lvbn17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZURlZmluaXRpb25FeHByZXNzaW9uQ2xpY2t9e3RpdGxlOiBAbGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1sYXllcnMtaW52YWxpZC1kZWZpbml0aW9uLWV4cHJlc3Npb24tdGl0bGV9Ij48aW1nIGRhdGEtYmluZGluZz0ie2FsdDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWludmFsaWQtZGVmaW5pdGlvbi1leHByZXNzaW9uLXRpdGxlfSIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvZmlsdGVyLWVycm9yLTI0LnBuZyIgLz48L2J1dHRvbj4gPGRpdiBjbGFzcz0ic3ViLXRleHQiPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogbnVtRmVhdHVyZXN9e3RpdGxlOiBudW1GZWF0dXJlc1RpdGxlfSI+PC9zcGFuPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWZlYXR1cmUtY291bnR9Ij48L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPSJzdWItdGV4dCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBlZGl0YWJsZU9yUmVhZE9ubHlUZXh0fSI+PC9zcGFuPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDx1bCBjbGFzcz0ibGF5ZXJzIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNFeHBhbmRlZH17QHNvdXJjZTogaXRlbXN9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL09mZmxpbmVNYXBzL0VkaXRvci9MYXllcnMvTGF5ZXJTZWxlY3Rvckl0ZW1UZW1wbGF0ZS5odG1sfSI+PC91bD4gPC9saT4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/Editor/Layers/OfflineMapEditorLayersView.html","html","PGRpdiBjbGFzcz0icHJvZmlsZS1sYXllcnMiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGxheWVyU2VsZWN0b3JWaWV3TW9kZWx9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBsYXllclNlbGVjdG9yVmlld01vZGVsfSI+IDx1bCBjbGFzcz0ibGF5ZXItc2VsZWN0b3ItYnV0dG9ucyBwYW5lbC1ncm91cC1jb250ZW50cyI+IDxsaT48YnV0dG9uIGNsYXNzPSJidXR0b24gbGF5ZXItYWN0aW9ucy1idXR0b24iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBzZWxlY3RBbGxCdXR0b25UZXh0fXt0aXRsZTogc2VsZWN0QWxsQnV0dG9uVGl0bGV9e0BldmVudC1vbmNsaWNrOiBzZWxlY3RBbGxMYXllcnN9Ij48L2J1dHRvbj48L2xpPiA8bGk+PGJ1dHRvbiBjbGFzcz0iYnV0dG9uIGxheWVyLWFjdGlvbnMtYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogY2xlYXJBbGxCdXR0b25UZXh0fXt0aXRsZTogY2xlYXJBbGxCdXR0b25UaXRsZX17QGV2ZW50LW9uY2xpY2s6IGNsZWFyQWxsTGF5ZXJzfSI+PC9idXR0b24+PC9saT4gPC91bD4gPGRpdiBjbGFzcz0ibGF5ZXItbGlzdCI+IDx1bCBjbGFzcz0iaWRlbnRpZnktbGF5ZXJzIGxheWVycyIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogaXRlbXN9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL09mZmxpbmVNYXBzL0VkaXRvci9MYXllcnMvTGF5ZXJTZWxlY3Rvckl0ZW1UZW1wbGF0ZS5odG1sfSI+PC91bD4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAtY29udGVudHMgY2xlYXIiPiA8bGFiZWw+IDxpbnB1dCB0eXBlPSJjaGVja2JveCIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBpbmNsdWRlQXR0YWNobWVudHN9Ii8+IDxzcGFuIGNsYXNzPSJsYWJlbC10ZXh0IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWF0dGFjaG1lbnRzLWxhYmVsfXt0aXRsZTogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWF0dGFjaG1lbnRzLWFsdH0iPjwvc3Bhbj4gPC9sYWJlbD4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tb2t9e0BldmVudC1jbGljazogaGFuZGxlQmFja0NsaWNrfSI+PC9idXR0b24+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/Editor/Sharing/OfflineMapEditorSharingView.html","html","PGRpdiBjbGFzcz0ic2hhcmUtd2l0aCI+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXNoYXJlLXdpdGgtbGFiZWx9Ij48L2xhYmVsPiA8L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBHcmFudEVkaXRvcldpZGdldH17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH17QHdpZGdldC1yZXBsYWNlOiB0cnVlfSI+PC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogY2FuQ2hhbmdlfXtAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc2hhcmluZy1jYW50LWNoYW5nZX0iPjwvZGl2PiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLW9rfXtAZXZlbnQtY2xpY2s6IGhhbmRsZUJhY2tDbGlja30iPjwvYnV0dG9uPiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/Sync/SyncStatusView.html","html","PGRpdiBjbGFzcz0ic3luYy1zdGF0dXMgcGFkZGVkLXZpZXciPiA8ZGl2PiAgPGgzIGNsYXNzPSJzeW5jLXN0YXR1cy1oZWFkaW5nIj48c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW9mZmxpbmUtbWFwcy1zeW5jLXN5bmNpbmctcHJvZmlsZX0iPjwvc3Bhbj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3NwYW4+PC9oMz4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd1Byb2dyZXNzfXtAd2lkZ2V0OiBzeW5jUHJvZ3Jlc3NCYXJ9Ij48L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdGV4dDogY29tcGxldGVUZXh0fXtAdmlzaWJsZTogY29tcGxldGVUZXh0fSIgY2xhc3M9InN1Y2Nlc3MiPjwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0B0ZXh0OiBjYW5jZWxsaW5nVGV4dH17QHZpc2libGU6IGNhbmNlbGxpbmdUZXh0fSI+PC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGVycm9yVGV4dH17QHZpc2libGU6IGVycm9yVGV4dH0iIGNsYXNzPSJlcnJvciI+PC9kaXY+ICA8ZGl2IGNsYXNzPSJzeW5jLWRldGFpbHMiPiA8YnV0dG9uIGRhdGEtYmluZGluZz0ie0BjbGFzcy1jb2xsYXBzZWQ6IGhpZGVTdGF0dXNUZXh0fXtAY2xhc3MtZXhwYW5kZWQ6IHNob3dTdGF0dXNUZXh0fXtAZXZlbnQtY2xpY2s6IGhhbmRsZVRvZ2dsZURldGFpbHNDbGlja30iIGNsYXNzPSJzeW5jLXN0YXR1cy1kZXRhaWxzLXRvZ2dsZSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLXN5bmMtc2hvdy1kZXRhaWxzfSI+PC9zcGFuPiA8L2J1dHRvbj4gPGRpdiBjbGFzcz0ic3luYy1zdGF0dXMtZGV0YWlscyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHN0YXR1c1RleHR9e0B2aXNpYmxlOiBzaG93U3RhdHVzVGV4dH0iPjwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9InN5bmMtd2FybmluZy1oZWFkZXIiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLXN5bmMtd2FybmluZ3N9e0B2aXNpYmxlOiB3YXJuaW5nc30iPjwvZGl2PiA8ZGl2IGNsYXNzPSJzeW5jLXdhcm5pbmdzIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogd2FybmluZ3N9Ij4gPHVsIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHdhcm5pbmdzfSI+IDxsaSBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiB3YXJuaW5nc30iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGNvbnRleHR9Ij48L3NwYW4+IDwvbGk+IDwvdWw+IDwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxsYWJlbCBjbGFzcz0ic3luYy1jaGVja2JveC1jbG9zZSI+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IGNsb3NlV2hlbkRvbmV9IiAvPjxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLXN5bmMtY2xvc2Utd2hlbi1kb25lfSI+PC9zcGFuPjwvbGFiZWw+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tY2FuY2VsfXtAZXZlbnQtY2xpY2s6IGhhbmRsZUNhbmNlbENsaWNrfXtAdmlzaWJsZTogc2hvd0NhbmNlbH17QGVuYWJsZWQ6IGNhbkNhbmNlbH0iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWNsb3NlfXtAZXZlbnQtY2xpY2s6IGhhbmRsZUNsb3NlQ2xpY2t9e0B2aXNpYmxlOiBzaG93Q2xvc2V9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OfflineMaps/Widgets/ProgressBarWidget.html","html","PGRpdiBjbGFzcz0icHJvZ3Jlc3MtYmFyIj4gPGRpdiBjbGFzcz0icHJvZ3Jlc3MiIGRhdGEtYmluZGluZz0ie0BzdHlsZS13aWR0aDogd2lkdGhTdHlsZX0iPjwvZGl2PiA8L2Rpdj4g");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/OverviewMap/OverviewMapView.html","html","PGRpdiBjbGFzcz0ib3ZlcnZpZXctbWFwLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzRW5hYmxlZH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGNsYXNzLW92ZXJ2aWV3LW1hcC1jb250YWluZXItdG9wLXBvc2l0aW9uOiBpc1RvcH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGNsYXNzLW92ZXJ2aWV3LW1hcC1jb250YWluZXItYm90dG9tLXBvc2l0aW9uOiBpc0JvdHRvbX0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGNsYXNzLW92ZXJ2aWV3LW1hcC1jb250YWluZXItbGVmdC1wb3NpdGlvbjogaXNMZWZ0fQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtAY2xhc3Mtb3ZlcnZpZXctbWFwLWNvbnRhaW5lci1yaWdodC1wb3NpdGlvbjogaXNSaWdodH0iPiA8YnV0dG9uIGNsYXNzPSJvdmVydmlldy1tYXAtdG9nZ2xlIiB0YWJpbmRleD0iMCIgIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiB0b2dnbGVNYXB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0BjbGFzcy1vdmVydmlldy1tYXAtdG9nZ2xlLW9mZjogaXNBY3RpdmV9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0BjbGFzcy1vdmVydmlldy1tYXAtdG9nZ2xlLXJpZ2h0UG9zaXRpb246IGlzUmlnaHR9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0BjbGFzcy1vdmVydmlldy1tYXAtdG9nZ2xlLWJvdHRvbVBvc2l0aW9uOiBpc0JvdHRvbX0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGNsYXNzLW92ZXJ2aWV3LW1hcC10b2dnbGUtYm90dG9tQWN0aXZlOiBib3R0b21BbmRBY3RpdmV9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RpdGxlOiBAbGFuZ3VhZ2UtZmVhdHVyZS1vdmVydmlldy1tYXAtdG9nZ2xlfSI+PC9idXR0b24+IDxkaXYgY2xhc3M9Im92ZXJ2aWV3LW1hcCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzQWN0aXZlfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtAY2xhc3Mtb3ZlcnZpZXctbWFwLWJvdHRvbS1wb3NpdGlvbjogaXNCb3R0b219DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0BjbGFzcy1vdmVydmlldy1tYXAtdG9wLXBvc2l0aW9uOiBpc1RvcH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGNsYXNzLW92ZXJ2aWV3LW1hcC1yaWdodC1wb3NpdGlvbjogaXNSaWdodH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGNsYXNzLW92ZXJ2aWV3LW1hcC1sZWZ0LXBvc2l0aW9uOiBpc0xlZnR9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntpZDogb3ZlcnZpZXdNYXBJZH0iPjwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/PlotCoordinates/PlotCoordinatesView.html","html","PGRpdiBjbGFzcz0iY29vcmRpbmF0ZS1saXN0LWFjdGlvbnMtd2lkZ2V0IiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBDb29yZGluYXRlc0xpc3RBY3Rpb25zV2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX0iDQogICAgIGRhdGEtbWVudS1pZD0iQ29vcmRpbmF0ZXNMaXN0QWN0aW9ucyIgZGF0YS1tZW51LXRlbXBsYXRlPSJNYXBwaW5nL2luZnJhc3RydWN0dXJlL21lbnVzL01lbnVIeXBlcmxpbmtWaWV3Lmh0bWwiPjwvZGl2PiA8ZGl2IGNsYXNzPSJwbG90LWNvb3JkaW5hdGVzIj4gPGRpdiBjbGFzcz0iY29vcmQtc3lzLXN3aXRjaGVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNFbmFibGVkfXtAc291cmNlOiBjb29yZGluYXRlc01vZGVsfSI+IDxsYWJlbCBjbGFzcz0iY29vcmQtc3lzLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBjb29yZGluYXRlc01vZGVsfSI+IDxsYWJlbCBjbGFzcz0iY29vcmQtc2VsZWN0LWxhYmVsIiBmb3I9ImNvb3JkLXNlbGVjdC1pbnB1dCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtY29vcmRpbmF0ZXMtbGFiZWx9Ij48L2xhYmVsPiA8c2VsZWN0IGlkPSJjb29yZC1zZWxlY3QtaW5wdXQiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGNvb3JkaW5hdGVTeXN0ZW1zfXtAdmFsdWU6IGN1cnJlbnRDb29yZGluYXRlU3lzdGVtfXt0aXRsZTogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1jb29yZGluYXRlLXN5c3RlbS1zZWxlY3Rvcn0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGNvb3JkaW5hdGVTeXN0ZW1zfXtAdGV4dDogZGlzcGxheU5hbWV9e0BhdHRhY2g6IEBjb250ZXh0fSIgLz4gPC9zZWxlY3Q+IDwvbGFiZWw+IDwvZGl2PiA8dWwgY2xhc3M9ImNvb3JkLWxpc3QiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGNvb3JkaW5hdGVEZXNjcmlwdG9yc317QHZhcjogY29vcmRMaXN0fSI+IDxsaSBjbGFzcz0iY29vcmQtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogY29vcmRpbmF0ZURlc2NyaXB0b3JzfSI+IDxkaXYgY2xhc3M9ImNvb3JkLWNvbnRlbnRzIGVkaXRpbmciIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0VkaXRpbmd9Ij4gPGRpdiBjbGFzcz0iY29vcmQtcmVmLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogaWR9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iY29vcmQtZ3JvdXAiPiA8bGFiZWwgY2xhc3M9ImNvb3JkLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogeExhYmVsfSI+PC9sYWJlbD4gPGRpdiBjbGFzcz0iY29vcmQtaW5wdXRzIiBkYXRhLWJpbmRpbmc9IntjbGFzczogY29vcmRDbGFzc30iPiA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImNvb3JkLXZhbCBjb29yZC14eSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogc2hvd0RlZ3JlZX17QHZhbHVlOiBvdXRwdXRYfXt0aXRsZTogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy14LXRpdGxlfSIgLz4gPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJjb29yZC12YWwgY29vcmQtZGVncmVlcyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dEZWdyZWV9e0B2YWx1ZTogZGVncmVlTGF0fXt0aXRsZTogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1kZWdyZWVzLXRpdGxlfSIgLz4gPHNwYW4gY2xhc3M9ImZpZWxkLXN5bSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dEZWdyZWV9e0B0ZXh0OiBkZWdyZWVTeW1ib2x9Ij48L3NwYW4+IDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iY29vcmQtdmFsIGNvb3JkLW1pbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dNaW51dGV9e0B2YWx1ZTogbWludXRlTGF0fXt0aXRsZTogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1taW51dGVzLXRpdGxlfSIgLz4gPHNwYW4gY2xhc3M9ImZpZWxkLXN5bSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dNaW51dGV9e0B0ZXh0OiBtaW51dGVTeW1ib2x9Ij48L3NwYW4+IDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iY29vcmQtdmFsIGNvb3JkLXNlYyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dTZWNvbmR9e0B2YWx1ZTogc2Vjb25kTGF0fXt0aXRsZTogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1zZWNvbmRzLXRpdGxlfSIgLz4gPHNwYW4gY2xhc3M9ImZpZWxkLXN5bSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dTZWNvbmR9e0B0ZXh0OiBzZWNvbmRTeW1ib2x9Ij48L3NwYW4+IDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iY29vcmQtdmFsIGNvb3JkLWJlYXJpbmciIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93RGVncmVlfXtAdmFsdWU6IGJlYXJpbmdMYXR9e3RpdGxlOiBAbGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLWJlYXJpbmctdGl0bGV9IiAvPiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImNvb3JkLWdyb3VwIj4gPGxhYmVsIGNsYXNzPSJjb29yZC1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHlMYWJlbH0iPjwvbGFiZWw+IDxkaXYgY2xhc3M9ImNvb3JkLWlucHV0cyIgZGF0YS1iaW5kaW5nPSJ7Y2xhc3M6IGNvb3JkQ2xhc3N9Ij4gPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJjb29yZC12YWwgY29vcmQteHkiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHNob3dEZWdyZWV9e0B2YWx1ZTogb3V0cHV0WX17dGl0bGU6IEBsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMteS10aXRsZX0iIC8+IDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iY29vcmQtdmFsIGNvb3JkLWRlZ3JlZXMiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93RGVncmVlfXtAdmFsdWU6IGRlZ3JlZUxvbn17dGl0bGU6IEBsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtZGVncmVlcy10aXRsZX0iIC8+IDxzcGFuIGNsYXNzPSJmaWVsZC1zeW0iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93RGVncmVlfXtAdGV4dDogZGVncmVlU3ltYm9sfSI+PC9zcGFuPiA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImNvb3JkLXZhbCBjb29yZC1taW4iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93TWludXRlfXtAdmFsdWU6IG1pbnV0ZUxvbn17dGl0bGU6IEBsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtbWludXRlcy10aXRsZX0iIC8+IDxzcGFuIGNsYXNzPSJmaWVsZC1zeW0iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93TWludXRlfXtAdGV4dDogbWludXRlU3ltYm9sfSI+PC9zcGFuPiA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImNvb3JkLXZhbCBjb29yZC1zZWMiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93U2Vjb25kfXtAdmFsdWU6IHNlY29uZExvbn17dGl0bGU6IEBsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtc2Vjb25kcy10aXRsZX0iIC8+IDxzcGFuIGNsYXNzPSJmaWVsZC1zeW0iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93U2Vjb25kfXtAdGV4dDogc2Vjb25kU3ltYm9sfSI+PC9zcGFuPiA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImNvb3JkLXZhbCBjb29yZC1iZWFyaW5nIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd0RlZ3JlZX17QHZhbHVlOiBiZWFyaW5nTG9ufXt0aXRsZTogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1iZWFyaW5nLXRpdGxlfSIgLz4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc05ld317dGl0bGU6IEBsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtYWRkLWNvb3JkaW5hdGUtYnV0dG9uLXRpdGxlfXtAdGV4dDogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1hZGQtY29vcmRpbmF0ZS1idXR0b24tdGV4dH17QGV2ZW50LWNsaWNrOiBoYW5kbGVBZGRDb29yZGluYXRlQ2xpY2t9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc05ld317dGl0bGU6IEBsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtdXBkYXRlLWNvb3JkaW5hdGUtYnV0dG9uLXRpdGxlfXtAdGV4dDogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy11cGRhdGUtY29vcmRpbmF0ZS1idXR0b24tdGV4dH17QGV2ZW50LWNsaWNrOiBoYW5kbGVVcGRhdGVDb29yZGluYXRlQ2xpY2t9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9Int0aXRsZTogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1jYW5jZWwtYWRkLWNvb3JkaW5hdGUtYnV0dG9uLXRpdGxlfXtAdGV4dDogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1jYW5jZWwtYWRkLWNvb3JkaW5hdGUtYnV0dG9uLXRleHR9e0BldmVudC1jbGljazogaGFuZGxlQ2FuY2VsQWRkQ29vcmRpbmF0ZUNsaWNrfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0iY29vcmQtY29udGVudHMgcGxvdHRlZCIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNFZGl0aW5nfXtAbm9jbGFzcy1jb29yZC1oaWRkZW46IGlzVmlzaWJsZX0iPiA8YnV0dG9uIGNsYXNzPSJpdGVtLWNvbnRlbnRzIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtY2xpY2s6IGhhbmRsZUNvb3JkaW5hdGVJdGVtQ2xpY2t9Ij4gPHNwYW4gY2xhc3M9ImNvb3JkLXJlZi1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGlkfSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0iY29vcmQtZ3JvdXAiPiA8c3BhbiBjbGFzcz0iY29vcmQtbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB4TGFiZWx9Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJjb29yZC1pbnB1dHMiPiA8c3BhbiBjbGFzcz0iY29vcmQtdmFsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogeFZhbH0iPjwvc3Bhbj4gPC9zcGFuPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJjb29yZC1ncm91cCI+IDxzcGFuIGNsYXNzPSJjb29yZC1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHlMYWJlbH0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNvb3JkLWlucHV0cyI+IDxzcGFuIGNsYXNzPSJjb29yZC12YWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB5VmFsfSI+PC9zcGFuPiA8L3NwYW4+IDwvc3Bhbj4gPC9idXR0b24+IDxkaXYgY2xhc3M9Iml0ZW0tYWN0aW9ucyI+IDxidXR0b24gY2xhc3M9Im1vcmUtMjQiIGRhdGEtYmluZGluZz0ie3RpdGxlOiBAbGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLWFjdGlvbnMtdG9vbHRpcH17QGV2ZW50LWNsaWNrOiBoYW5kbGVDb29yZGluYXRlQWN0aW9uc30iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvbGk+IDwvdWw+IDxkaXYgY2xhc3M9Im5vLWNvb3JkaW5hdGVzIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBoYXNDb29yZGluYXRlc317QHRleHQ6IEBsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtbm8tY29vcmRpbmF0ZXN9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iYWRkLWNvb3JkaW5hdGUiPiA8YnV0dG9uIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGNsYXNzLWFkZC1kaXNhYmxlZDogY3VycmVudGx5RWRpdGluZ317ZGlzYWJsZWQ6IGN1cnJlbnRseUVkaXRpbmd9e0BldmVudC1jbGljazogaGFuZGxlQ2xpY2tBZGRBbm90aGVyQ29vcmRpbmF0ZX0iPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL2FkZC0yNC5wbmciIGFsdD0iICIgLz4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXNjIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1hZGQtYW5vdGhlci1jb29yZGluYXRlfSI+PC9zcGFuPiA8L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/PlotCoordinates/CoordinateActions/CoordinateActionsView.html","html","PGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAgbm8taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogdmlzaWJsZU1lbnVJdGVtc317QHRleHQ6IEBsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtbm8tY29vcmRpbmF0ZS1hY3Rpb25zfSI+PC9kaXY+IDx1bCBjbGFzcz0icGFuZWwtZ3JvdXAgbGlzdC1tZW51IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdmlzaWJsZU1lbnVJdGVtc317QHNvdXJjZTogdmlzaWJsZU1lbnVJdGVtc30iPiA8bGkgY2xhc3M9Imxpc3QtbWVudS1pdGVtIGFjdGl2ZSBoYXMtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogdmlzaWJsZU1lbnVJdGVtc317QGVuYWJsZWQ6IGNhbkV4ZWN1dGV9Ij4gPGJ1dHRvbiBjbGFzcz0ibGlzdC1tZW51LWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9ubW91c2VvdmVyOiBnZXREZXNjcmlwdGlvbn17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZU1lbnVJdGVtQ2xpY2t9Ij4gPGltZyBjbGFzcz0ibGlzdC1tZW51LWljb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfXtzcmM6IGljb25Vcml9IiBhbHQ9IiAiPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRleHR9Ij48L3N0cm9uZz4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXNjIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGVzY3JpcHRpb259Ij48L3NwYW4+IDwvc3Bhbj4gPC9idXR0b24+IDwvbGk+IDwvdWw+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Printing/PrintingView.html","html","PGRpdiBjbGFzcz0icHJpbnRpbmciPiA8ZGl2IGNsYXNzPSJwcmludC1jcmVhdGUiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHByaW50Q29tcGxldGV9Ij4gPGRpdiBjbGFzcz0icHJpbnQtc3RhdHVzIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNQcmludGluZ30iPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWlzLXByaW50aW5nfSI+Li4uPC9wPiA8L2Rpdj4gPGRpdiBjbGFzcz0icHJpbnQtc3RhdHVzIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBzZWxlY3RlZFRlbXBsYXRlfSI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utbm8tcHJpbnQtdGVtcGxhdGV9Ij48L3A+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzUHJpbnRpbmd9e0B2aXNpYmxlOiBzZWxlY3RlZFRlbXBsYXRlfSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6cHJldmlld0lzRW5hYmxlZH0iPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOm1vYmlsZU1vZGV9Ij4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIHByaW50LWNlbnRlci1idXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1jbGljazogaGFuZGxlUmVDZW50ZXJDbGlja317QHRleHQ6IEBsYW5ndWFnZS1wcmludC1wcmV2aWV3LWNlbnRlcn0iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJidXR0b24gdG9nZ2xlLXByZXZpZXctYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBwcmV2aWV3SXNWaXNpYmxlfXtAZXZlbnQtY2xpY2s6IGhhbmRsZVRvZ2dsZVByZXZpZXdDbGlja317QHRleHQ6IEBsYW5ndWFnZS1wcmludC1zaG93LXByZXZpZXctY2VudGVyfSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiB0b2dnbGUtcHJldmlldy1idXR0b24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBwcmV2aWV3SXNWaXNpYmxlfXtAZXZlbnQtY2xpY2s6IGhhbmRsZVRvZ2dsZVByZXZpZXdDbGlja317QHRleHQ6IEBsYW5ndWFnZS1wcmludC1oaWRlLXByZXZpZXctY2VudGVyfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPGxhYmVsIGZvcj0ic2VsZWN0VGVtcGxhdGUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utc2VsZWN0LWxheW91dH0iPjwvbGFiZWw+IDxzZWxlY3QgaWQ9InNlbGVjdFRlbXBsYXRlIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBwcmludFRlbXBsYXRlc317QHZhbHVlOiBzZWxlY3RlZFRlbXBsYXRlfXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZVRlbXBsYXRlU2VsZWN0aW9uQ2hhbmdlZH0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHByaW50VGVtcGxhdGVzfXtAdGV4dDogZGlzcGxheU5hbWV9e0BhdHRhY2g6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8bGFiZWwgZm9yPSJvdXRwdXRGb3JtYXQiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utb3V0cHV0LWZvcm1hdH17QHZpc2libGU6IG91dHB1dEZvcm1hdHN9Ij48L2xhYmVsPiA8c2VsZWN0IGlkPSJvdXRwdXRGb3JtYXQiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IG91dHB1dEZvcm1hdHN9e0B2YWx1ZTogc2VsZWN0ZWRGb3JtYXR9e0B2aXNpYmxlOiBvdXRwdXRGb3JtYXRzfSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogb3V0cHV0Rm9ybWF0c317QHRleHQ6IEBjb250ZXh0fXtAYXR0YWNoOiBAY29udGV4dH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPGxhYmVsIGZvcj0icmVzb2x1dGlvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1yZXNvbHV0aW9ufXtAdmlzaWJsZTogcmVzb2x1dGlvbnN9Ij48L2xhYmVsPiA8c2VsZWN0IGlkPSJyZXNvbHV0aW9uIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiByZXNvbHV0aW9uc317QHZhbHVlOiBzZWxlY3RlZFJlc29sdXRpb259e0B2aXNpYmxlOiByZXNvbHV0aW9uc30iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHJlc29sdXRpb25zfXtAdGV4dDogZGlzcGxheU5hbWV9e0BhdHRhY2g6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8bGFiZWwgZm9yPSJncmlkcyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1ncmlkfXtAdmlzaWJsZTogZ3JpZHN9Ij48L2xhYmVsPiA8c2VsZWN0IGlkPSJncmlkcyIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogZ3JpZHN9e0B2YWx1ZTogc2VsZWN0ZWRHcmlkfXtAdmlzaWJsZTogZ3JpZHN9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBncmlkc317QHRleHQ6IGRpc3BsYXlOYW1lfXtAYXR0YWNoOiBAY29udGV4dH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPGxhYmVsIGZvcj0ibWFwc2NhbGUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbWFwLXNjYWxlfXtAdmlzaWJsZTogc2NhbGVzfSI+PC9sYWJlbD4gPHNlbGVjdCBpZD0ibWFwc2NhbGUiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHNjYWxlc317QHZhbHVlOiBzZWxlY3RlZFNjYWxlfXtAdmlzaWJsZTogc2NhbGVzfXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZVNjYWxlU2VsZWN0aW9uQ2hhbmdlZH0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHNjYWxlc317QHRleHQ6IGRpc3BsYXlOYW1lfXtAYXR0YWNoOiBAY29udGV4dH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPGRpdiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiB0ZXh0RmllbGRzfSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogdGV4dEZpZWxkc30iPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogbXVsdGlsaW5lfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvc3Bhbj4gPGlucHV0IHR5cGU9InRleHQiIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogdmFsdWV9e0BoaWRkZW46IG11bHRpbGluZX0iIC8+IDwvbGFiZWw+IDxsYWJlbCBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogbXVsdGlsaW5lfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvc3Bhbj4gPHRleHRhcmVhIGNvbHM9IjIwIiByb3dzPSI0IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogdmFsdWV9e0B2YWx1ZTogdmFsdWV9e0B2aXNpYmxlOiBtdWx0aWxpbmV9Ij48L3RleHRhcmVhPiA8L2xhYmVsPiA8L2Rpdj4gPC9kaXY+IDxsYWJlbCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXByaW50aW5nLWVtYWlsLWFkZHJlc3N9e0B2aXNpYmxlOiBzdXBwb3J0c0VtYWlsTm90aWZpY2F0aW9ufSI+PC9sYWJlbD4gPGlucHV0IHR5cGU9InRleHQiIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogZW1haWxBZGRyZXNzfXtAdmlzaWJsZTogc3VwcG9ydHNFbWFpbE5vdGlmaWNhdGlvbn0iIC8+IDxzbWFsbCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXByaW50aW5nLWVtYWlsLW5vdGlmaWNhdGlvbn17QHZpc2libGU6IHN1cHBvcnRzRW1haWxOb3RpZmljYXRpb259Ij48L3NtYWxsPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOnByZXZpZXdJc0VuYWJsZWR9Ij4gPGxhYmVsIGNsYXNzPSJwcmludC1wcmV2aWV3LXRvZ2dsZXIiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46bW9iaWxlTW9kZX0iPiA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogcHJpbnRQcmV2aWV3SXNMb2NrZWR9e2Rpc2FibGVkOiBwcmludFByZXZpZXdMb2NrVG9nZ2xlcklzRGlzYWJsZWR9IiAvPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXByaW50LXByZXZpZXctbG9ja30iPjwvc3Bhbj4gPC9sYWJlbD4gPC9kaXY+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiBwcmludC1idXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1jbGljazogaGFuZGxlUHJpbnRDbGlja317QHRleHQ6IEBsYW5ndWFnZS1wcmludH0iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJidXR0b24gcHJpbnQtY2FuY2VsLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LWNsaWNrOiBoYW5kbGVDYW5jZWxDbGlja317QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tY2FuY2VsfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9InByaW50LWNvbXBsZXRlIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogcHJpbnRDb21wbGV0ZX0iPiA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHN1cHBvcnRzRW1haWxOb3RpZmljYXRpb259Ij4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1wcmludC1jb21wbGV0ZS1kZXNjcmlwdGlvbn0iPjwvcD4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIHByaW50LWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LWNsaWNrOiBoYW5kbGVPcGVuRmlsZUNsaWNrfXtAdGV4dDogQGxhbmd1YWdlLW9wZW4tZmlsZX0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHN1cHBvcnRzRW1haWxOb3RpZmljYXRpb259Ij4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1wcmludGluZy1wcmludC1yZXF1ZXN0LXN0YXJ0LWRlc2NyaXB0aW9ufSI+PC9wPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiB2YWxpZEVtYWlsQWRkcmVzc1N1cHBsaWVkfSI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcHJpbnRpbmctcHJpbnQtcmVxdWVzdC1kZXNjcmlwdGlvbn0iPjwvcD4gPC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogdmFsaWRFbWFpbEFkZHJlc3NTdXBwbGllZH0iPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXByaW50aW5nLXByaW50LXJlcXVlc3Qtc3RhdHVzLWRlc2NyaXB0aW9ufSI+PC9wPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24gcHJpbnQtYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtY2xpY2s6IGhhbmRsZU9wZW5GaWxlQ2xpY2t9e0B0ZXh0OiBAbGFuZ3VhZ2UtcHJpbnRpbmctcHJpbnQtam9iLXN0YXR1c30iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Printing/UnlockedPrintPreviewView.html","html","PGRpdiBjbGFzcz0icHJpbnRpbmctcGVlcGhvbGUtY29udGFpbmVyIj4gPGRpdiBjbGFzcz0icHJpbnRpbmctcGVlcGhvbGUiIGRhdGEtYmluZGluZz0ie0B2YXI6cGVlcGhvbGV9Ij4gPGltZyBjbGFzcz0icHJpbnRpbmctcGVlcGhvbGUtaW1nIiBzcmM9IlJlc291cmNlcy9JbWFnZXMvY2VudGVyLWNyb3NzLTMyLnBuZyIgLz4gPC9kaXY+IDwvZGl2PiA=");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Project/ProjectActionsView.html","html","PGRpdiBjbGFzcz0ibm8taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogdmlzaWJsZU1lbnVJdGVtc317QHRleHQ6IEBsYW5ndWFnZS1tZW51LW5vLWl0ZW1zfSI+PC9kaXY+IDx1bCBjbGFzcz0ibGlzdC1tZW51IGhhcy1pY29uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdmlzaWJsZU1lbnVJdGVtc317QHNvdXJjZTogdmlzaWJsZU1lbnVJdGVtc30iPiA8bGkgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiB2aXNpYmxlTWVudUl0ZW1zfSI+IDxidXR0b24gY2xhc3M9Imxpc3QtbWVudS1idXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbm1vdXNlb3ZlcjogZ2V0RGVzY3JpcHRpb259e0BldmVudC1vbmNsaWNrOiBoYW5kbGVNZW51SXRlbUNsaWNrfSI+IDxpbWcgY2xhc3M9Imxpc3QtbWVudS1pY29uIiBkYXRhLWJpbmRpbmc9IntzcmM6IGljb25Vcml9e0B2aXNpYmxlOiBpY29uVXJpfSIgYWx0PSIgIiAvPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRleHR9Ij48L3N0cm9uZz4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXNjIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZGVzY3JpcHRpb259e0B0ZXh0OiBkZXNjcmlwdGlvbn0iPjwvc3Bhbj4gPC9zcGFuPiA8L2J1dHRvbj4gPC9saT4gPC91bD4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Project/ProjectEditorView.html","html","PGRpdiBjbGFzcz0icHJvamVjdC1lZGl0b3IiPiA8ZGl2IGNsYXNzPSJsb2FkaW5nLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzQnVzeX0iPiA8ZGl2IGNsYXNzPSJsb2FkaW5nLWltZyI+PC9kaXY+IDxkaXYgY2xhc3M9ImxvYWRpbmctbXNnIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1sb2FkaW5nfSI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJwcm9qZWN0LWVkaXRvci1jb250ZW50IiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc0J1c3l9Ij4gPGRpdiBjbGFzcz0iZm9ybS1zdGFja2VkIj4gPGRpdiBjbGFzcz0iZm9ybS1pdGVtIj4gPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1wcm9qZWN0LWVkaXRvci1uYW1lLWxhYmVsfSI+PC9zcGFuPiA8aW5wdXQgdHlwZT0idGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBuYW1lfXt0aXRsZTogQGxhbmd1YWdlLXByb2plY3QtZWRpdG9yLW5hbWUtdGl0bGV9e0BldmVudC1vbmlucHV0OiBoYW5kbGVJbnB1dENoYW5nZWR9IiAvPiA8L2xhYmVsPiA8L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS12YWxpZGF0aW9uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaW5wdXRFcnJvck1lc3NhZ2V9Ij4gPHNwYW4gY2xhc3M9ImZpZWxkLXZhbGlkYXRpb24tZXJyb3IiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBpbnB1dEVycm9yTWVzc2FnZX0iPjwvc3Bhbj4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0taXRlbSI+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcHJvamVjdC1lZGl0b3ItZGVzY3JpcHRpb24tbGFiZWx9Ij48L3NwYW4+IDx0ZXh0YXJlYSB0eXBlPSJ0ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IGRlc2NyaXB0aW9ufXt0aXRsZTogQGxhbmd1YWdlLXByb2plY3QtZWRpdG9yLWRlc2NyaXB0aW9uLXRpdGxlfSI+PC90ZXh0YXJlYT4gPC9sYWJlbD4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHByb2plY3RVcmx9Ij4gPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXByb2plY3QtdXJsLWxhYmVsfSI+PC9sYWJlbD4gPGlucHV0IHR5cGU9InRleHQiIHJlYWRvbmx5IGRhdGEtYmluZGluZz0ie0B2YWx1ZTogcHJvamVjdFVybH17dGl0bGU6IEBsYW5ndWFnZS1wcm9qZWN0LXVybC10aXRsZX0iIC8+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie3RpdGxlOiBAbGFuZ3VhZ2UtcHJvamVjdC1lZGl0b3Itc2F2ZS1idXR0b24tdGl0bGV9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLXNhdmV9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVTYXZlQnV0dG9uQ2xpY2t9e0BkaXNhYmxlZDogaW5wdXRFcnJvck1lc3NhZ2V9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9Int0aXRsZTogQGxhbmd1YWdlLXByb2plY3QtZWRpdG9yLWNhbmNlbC1idXR0b24tdGl0bGV9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWNhbmNlbH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNhbmNlbEJ1dHRvbkNsaWNrfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Project/ProjectStatusView.html","html","PGRpdiBjbGFzcz0icHJvamVjdC1zdGF0dXMiPiA8ZGl2IGNsYXNzPSJsb2FkaW5nLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzQnVzeX0iPiA8ZGl2IGNsYXNzPSJsb2FkaW5nLWltZyI+PC9kaXY+IDxkaXYgY2xhc3M9ImxvYWRpbmctbXNnIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogc3RhdHVzTWVzc2FnZX0iPjwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0icHJvamVjdC1zdGF0dXMtY29tcGxldGUiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzQnVzeX0iPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXByb2plY3Qtc3RhdHVzLXNhdmVkLWNvbXBsZXRlfSI+PC9wPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXByb2plY3Qtc3RhdHVzLXNhdmVkLWRlc2NyaXB0aW9ufSI+PC9wPiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93UHJvamVjdFVybH0iPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXByb2plY3Qtc3RhdHVzLXNhdmVkLXVybC1kZXNjcmlwdGlvbn0iPjwvcD4gPGlucHV0IHR5cGU9InRleHQiIHJlYWRvbmx5IGRhdGEtYmluZGluZz0ie0B2YWx1ZTogcHJvamVjdFVybH0iIC8+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie3RpdGxlOiBAbGFuZ3VhZ2UtcHJvamVjdC1zdGF0dXMtc2hhcmUtYnV0dG9uLXRpdGxlfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1zaGFyZX17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVNoYXJlQnV0dG9uQ2xpY2t9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9Int0aXRsZTogQGxhbmd1YWdlLXByb2plY3Qtc3RhdHVzLWNsb3NlLWJ1dHRvbi10aXRsZX17QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tY2xvc2V9e0BldmVudC1jbGljazogaGFuZGxlQ2xvc2VCdXR0b25DbGlja30iPkNsb3NlPC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Project/ProjectsView.html","html","PGRpdiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBQcm9qZWN0c0FjdGlvbnNXaWRnZXR9e0B3aWRnZXQtcmVxdWlyZWQ6IGZhbHNlfSIgZGF0YS1tZW51LWlkPSJQcm9qZWN0c0FjdGlvbnMiIGRhdGEtbWVudS10ZW1wbGF0ZT0iTWFwcGluZy9pbmZyYXN0cnVjdHVyZS9tZW51cy9NZW51Vmlldy5odG1sIj48L2Rpdj4gPGRpdiBjbGFzcz0icHJvamVjdHMiPiA8ZGl2IGNsYXNzPSJwcm9qZWN0cy1vcHRpb25zIj4gPGRpdiBjbGFzcz0iZmlsdGVyLWJveCI+IDxpbnB1dCBjbGFzcz0iZmlsdGVyLWlucHV0IiB0eXBlPSJ0ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IGZpbHRlclRleHR9e0BldmVudC1rZXlkb3duOiBoYW5kbGVLZXlEb3dufXtwbGFjZWhvbGRlcjogQGxhbmd1YWdlLXByb2plY3RzLWZpbHRlci1wbGFjZWhvbGRlcn17dGl0bGU6IEBsYW5ndWFnZS1wcm9qZWN0cy1maWx0ZXItdGl0bGV9IiB0YWJpbmRleD0iMCIgLz4gPGJ1dHRvbiBjbGFzcz0iZmlsdGVyLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGVuYWJsZWQ6IGZpbHRlclRleHR9e0BldmVudC1jbGljazogaGFuZGxlQ2xlYXJGaWx0ZXJDbGlja30iIHRhYmluZGV4PSIwIj48c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXByb2plY3RzLWZpbHRlci1jbGVhcn0iPjwvc3Bhbj48L2J1dHRvbj4gPC9kaXY+IDxkaXYgY2xhc3M9InByb2plY3Qtc2VsZWN0b3ItdG9vbHMiPiA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwgcHJvamVjdC1jaGVja2JveCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzQXV0aGVudGljYXRlZH0iPiA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogcHJpdmF0ZVByb2plY3RzT25seX0iIC8+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcHJvamVjdHMtcHJpdmF0ZS1wcm9qZWN0cy1sYWJlbH0iPjwvc3Bhbj4gPC9sYWJlbD4gPHNwYW4gY2xhc3M9InByb2plY3Qtc2VsZWN0b3ItZHJvcGRvd24iPiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGZpZWxkU29ydGVyc317QHZhbHVlOiBzZWxlY3RlZEZpZWxkU29ydGVyfXt0aXRsZTogQGxhbmd1YWdlLXByb2plY3RzLXNvcnQtc2VsZWN0b3ItdGl0bGV9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBmaWVsZFNvcnRlcnN9e0B0ZXh0OiBkaXNwbGF5TmFtZX17QGF0dGFjaDogQGNvbnRleHR9IiAvPiA8L3NlbGVjdD4gPC9zcGFuPiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9InByb2plY3RzLWxpc3QtY29udGFpbmVyIj4gPGRpdiBjbGFzcz0icHJvamVjdHMtc3RhdHVzLW1lc3NhZ2UiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzQnVzeX0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXByb2plY3Qtc3RhdHVzLW9mZmxpbmV9e0B2aXNpYmxlOiBzdGF0dXNPZmZsaW5lfSI+PC9zcGFuPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBzdGF0dXNPZmZsaW5lfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcHJvamVjdC1zdGF0dXMtZW1wdHl9e0B2aXNpYmxlOiBzdGF0dXNFbXB0eX0iPjwvc3Bhbj4gPC9zcGFuPiA8L2Rpdj4gPGRpdiBjbGFzcz0ibG9hZGluZy1jb250YWluZXIiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0J1c3l9Ij4gPGRpdiBjbGFzcz0ibG9hZGluZy1pbWciPjwvZGl2PiA8ZGl2IGNsYXNzPSJsb2FkaW5nLW1zZyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tbG9hZGluZ30iPjwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0icHJvamVjdHMtbGlzdCIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNCdXN5fSI+IDx1bCBjbGFzcz0ibGlzdC1tZW51IiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBwcm9qZWN0c1BhZ2V9Ij4gPGxpIGNsYXNzPSJpdGVtLWxpc3QtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogcHJvamVjdHNQYWdlfSI+IDxkaXYgY2xhc3M9InByb2plY3QtaW5mbyI+IDxidXR0b24gY2xhc3M9Imxpc3QtaXRlbS1idXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1jbGljazogaGFuZGxlUHJvamVjdENsaWNrfSI+IDxpbWcgY2xhc3M9Imxpc3QtaXRlbS1pY29uIiBkYXRhLWJpbmRpbmc9IntzcmM6IHRodW1ibmFpbH17dGl0bGU6IG5hbWV9e2FsdDogbmFtZX17QGV2ZW50LWVycm9yOiBoYW5kbGVUaHVtYm5haWxMb2FkRXJyb3J9IiAvPiA8ZGl2IGNsYXNzPSJwcm9qZWN0LW92ZXJ2aWV3Ij4gPHNwYW4gY2xhc3M9InByb2plY3QtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJwcm9qZWN0LW1vZGlmaWVkIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogbGFzdE1vZGlmaWVkQnl9Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJwcm9qZWN0LWNyZWF0ZWQiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBjcmVhdGVkQnl9Ij48L3NwYW4+IDwvZGl2PiA8L2J1dHRvbj4gPGRpdiBjbGFzcz0icHJvamVjdC1kZXRhaWxzIj4gPGRpdiBjbGFzcz0icHJvamVjdC1kZXNjcmlwdGlvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRlc2NyaXB0aW9ufSI+PC9kaXY+IDxhIGhyZWY9IiMiIGNsYXNzPSJtb3JlLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGNhbkV4cGFuZH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVByb2plY3RFeHBhbmRlckNsaWNrfXtAdGV4dDogQGxhbmd1YWdlLXByb2plY3RzLWRlc2NyaXB0aW9uLW1vcmV9Ij48L2E+IDwvZGl2PiA8L2Rpdj4gPGJ1dHRvbiBjbGFzcz0ibGlzdC1pdGVtLWJ1dHRvbiBwcm9qZWN0LWFjdGlvbnMgY2hldnJvbi1yaWdodC0xNiIgZGF0YS1iaW5kaW5nPSJ7dGl0bGU6IEBsYW5ndWFnZS1wcm9qZWN0LWFjdGlvbnMtdG9vbHRpcH17QGV2ZW50LWNsaWNrOiBoYW5kbGVQcm9qZWN0QWN0aW9uc30iPjwvYnV0dG9uPiA8L2xpPiA8L3VsPiA8L2Rpdj4gPC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogc3RhdHVzRW1wdHl9e0B3aWRnZXQ6IFBhZ2luZ0NvbnRyb2xzV2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcGxhY2U6IGZhbHNlfSI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Project/ShareProjectView.html","html","PGRpdiBjbGFzcz0ic2hhcmUtcHJvamVjdCI+IDxkaXYgY2xhc3M9ImxvYWRpbmctY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNCdXN5fSI+IDxkaXYgY2xhc3M9ImxvYWRpbmctaW1nIj48L2Rpdj4gPGRpdiBjbGFzcz0ibG9hZGluZy1tc2ciIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBzdGF0dXNNZXNzYWdlfSI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJzaGFyZS1wcm9qZWN0LWNvbnRlbnQiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzQnVzeX0iPiA8ZGl2IGNsYXNzPSJmb3JtLXN0YWNrZWQiPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc093bmVyfSI+IDxoNCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXNoYXJlLXByb2plY3QtcHJpdmlsZWdlcy10aXRsZX0iPjwvaDQ+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utc2hhcmUtcHJvamVjdC1wcml2aWxlZ2VzLWRlc2NyaXB0aW9ufSI+PC9wPiA8L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogcHJvamVjdFVybH0iPiA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcHJvamVjdC11cmwtbGFiZWx9Ij48L2xhYmVsPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRyb2wiPiA8aW5wdXQgdHlwZT0idGV4dCIgcmVhZG9ubHkgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBwcm9qZWN0VXJsfXt0aXRsZTogQGxhbmd1YWdlLXByb2plY3QtdXJsLXRpdGxlfSIgLz4gPC9kaXY+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc093bmVyfSI+IDxkaXYgY2xhc3M9ImZvcm0taXRlbSBzaGFyZS13aXRoIj4gPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXNoYXJlLXByb2plY3Qtc2hhcmUtd2l0aC1sYWJlbH0iPjwvbGFiZWw+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IEdyYW50RWRpdG9yV2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcGxhY2U6IHRydWV9Ij48L2Rpdj4gPGRpdiBjbGFzcz0ic2hhcmUtcHJvamVjdC1saW5rcyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dHdWVzdExpbmtzfSI+IDxoNCBjbGFzcz0ic2hhcmUtcHJvamVjdC1saW5rcy10aXRsZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LWxpbmtzLXRpdGxlfSI+PC9oND4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LWxpbmtzLWRlc2NyaXB0aW9ufSI+PC9wPiA8ZGl2IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGd1ZXN0TGlua3N9Ij4gPGRpdiBjbGFzcz0iZm9ybS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBndWVzdExpbmtzfSI+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L2xhYmVsPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRyb2wiPiA8aW5wdXQgY2xhc3M9ImxpbmstYm94IiB0eXBlPSJ0ZXh0IiByZWFkb25seSBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IGxpbmtVcmx9e3RpdGxlOiBuYW1lfSIgLz4gPGRpdiBjbGFzcz0iaW5saW5lLWJsb2NrIHByb2plY3QtbGluay1idXR0b25zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIGFkZC0xNiIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogbGlua1VybH17dGl0bGU6IEBsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LWxpbmtzLWFkZC1idXR0b24tdGl0bGV9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVBZGRMaW5rQnV0dG9uQ2xpY2t9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIGNsZWFyLTI0IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogbGlua1VybH17dGl0bGU6IEBsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LWxpbmtzLXJlbW92ZS1idXR0b24tdGl0bGV9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVSZW1vdmVMaW5rQnV0dG9uQ2xpY2t9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzT3duZXJ9Ij4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9Int0aXRsZTogQGxhbmd1YWdlLXNoYXJlLXByb2plY3QtY2xlYXItYnV0dG9uLXRpdGxlfXtAdGV4dDogQGxhbmd1YWdlLXNoYXJlLXByb2plY3QtY2xlYXItYnV0dG9uLXRleHR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGVhckJ1dHRvbkNsaWNrfSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7dGl0bGU6IEBsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LXNhdmUtYnV0dG9uLXRpdGxlfXtAdGV4dDogQGxhbmd1YWdlLXNoYXJlLXByb2plY3Qtc2F2ZS1idXR0b24tdGV4dH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVNhdmVCdXR0b25DbGlja30iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie3RpdGxlOiBAbGFuZ3VhZ2Utc2hhcmUtcHJvamVjdC1jYW5jZWwtYnV0dG9uLXRpdGxlfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1jYW5jZWx9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbG9zZUJ1dHRvbkNsaWNrfSI+PC9idXR0b24+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzT3duZXJ9Ij4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9Int0aXRsZTogQGxhbmd1YWdlLXNoYXJlLXByb2plY3QtY2xvc2UtYnV0dG9uLXRpdGxlfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1jbG9zZX17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsb3NlQnV0dG9uQ2xpY2t9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Prompt/PromptView.html","html","DQo8ZGl2IGNsYXNzPSJtb2R1bGUgbm90aWZpY2F0aW9uIHByb21wdCI+IDxwIGNsYXNzPSJkZXNjIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGVzY3JpcHRpb259Ij48L3A+IDxmb3JtIGRhdGEtYmluZGluZz0ie0BldmVudC1vbnN1Ym1pdDogaGFuZGxlQ2xpY2tPa30iPiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iPiA8aW5wdXQgdHlwZT0idGV4dCIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBwcm9tcHRUZXh0fSIgLz4gPC9kaXY+IDxpbnB1dCB0eXBlPSJzdWJtaXQiIGNsYXNzPSJib3VuZC1pbnZpc2libGUiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja09rfSIgLz4gPC9mb3JtPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0B2YXI6IG9rQnV0dG9uRWxlbWVudH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrT2t9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLW9rfSIgLz4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tDYW5jZWx9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWNhbmNlbH0iIC8+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/QueryBuilder/AutoCompleteView.html","html","PGlucHV0IHR5cGU9InRleHQiIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogdmFsdWV9e0B2YXI6IGF1dG9Db21wbGV0ZUlucHV0fXtAZXZlbnQtZm9jdXM6IGF1dG9Db21wbGV0ZV9mb2N1c317QGV2ZW50LWJsdXI6IGF1dG9Db21wbGV0ZV9ibHVyfSIgLz4g");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/QueryBuilder/SimpleQueryBuilderView.html","html","PGRpdiBjbGFzcz0ic2ltcGxlLXF1ZXJ5LWJ1aWxkZXIgcGFkZGVkLXZpZXciPiA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IG5vVmFsaWRMYXllcnN9Ij4gPGZvcm0gZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LWtleWRvd246IGZvcm1fa2V5ZG93bn17QHZhcjogaHRtbEZvcm19e0BldmVudC1zdWJtaXQ6IGZvcm1fc3VibWl0fSI+IDxkaXYgY2xhc3M9InNlbGVjdC1ib3giPiA8bGFiZWw+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcXVlcnlidWlsZGVyLWRhdGEtc291cmNlfSI+PC9zcGFuPiA8c2VsZWN0IGlkPSJzZWxlY3RsYXllciIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBzZWxlY3RlZExheWVyVW5pcXVlSWR9Ij4gPG9wdGdyb3VwIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhcmVRdWVyeWFibGVMYXllcnN9e0Bzb3VyY2U6IGxheWVyc317bGFiZWw6IEBsYW5ndWFnZS1xdWVyeWJ1aWxkZXItcXVlcnktbGF5ZXJzfSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogbGF5ZXJzfXtAdGV4dDogZGlzcGxheU5hbWV9e3ZhbHVlOiB1bmlxdWVJZH0iIC8+IDwvb3B0Z3JvdXA+IDxvcHRncm91cCBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogYXJlUXVlcnlhYmxlVGFibGVzfXtAc291cmNlOiB0YWJsZXN9e2xhYmVsOiBAbGFuZ3VhZ2UtcXVlcnlidWlsZGVyLXF1ZXJ5LXRhYmxlc30iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHRhYmxlc317QHRleHQ6IGRpc3BsYXlOYW1lfXt2YWx1ZTogdW5pcXVlSWR9IiAvPiA8L29wdGdyb3VwPiA8L3NlbGVjdD4gPC9sYWJlbD4gPC9kaXY+IDxociAvPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBkaXNhYmxlZH0iPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcXVlcnlidWlsZGVyLWZpbHRlci1hbHJlYWR5LWFwcGxpZWR9Ij48L2Rpdj4gPC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IG5vdERpc2FibGVkfSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7dGV4dDogaW5mb1RleHR9IiBjbGFzcz0iZmluZC1yZWNvcmRzIj48L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBxdWVyeUNsYXVzZXN9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBxdWVyeUNsYXVzZXN9IiBjbGFzcz0icXVlcnktY2xhdXNlLXJvdyI+IDx0YWJsZSBjbGFzcz0icXVlcnktY2xhdXNlLWNvbnRlbnQiIHJvbGU9InByZXNlbnRhdGlvbiI+IDx0cj4gPHRkIGNsYXNzPSJmaWVsZC1zZWxlY3RvciI+IDxhIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBwcmVzZW50YWJsZUZpZWxkTmFtZX17QHZpc2libGU6IHNob3dEaXNwbGF5RmllbGR9e0BldmVudC1vbmNsaWNrOiBkaXNwbGF5RmllbGRfY2xpY2t9IiBocmVmPSIjIiBjbGFzcz0icHJlc2VudGFibGUtcXVlcnktaXRlbSI+PC9hPiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGZpZWxkc317QHZhbHVlOiBzZWxlY3RlZEZpZWxkTmFtZX17QHZpc2libGU6IHNob3dFZGl0RmllbGR9e0BldmVudC1vbmJsdXI6IGlucHV0X2JsdXJ9e0BldmVudC1vbmZvY3VzOiBpbnB1dF9mb2N1c317dGl0bGU6IEBsYW5ndWFnZS1xdWVyeWJ1aWxkZXItc2VsZWN0LWZpbHRlcn0iIGNsYXNzPSJmaWVsZC1zZWxlY3RvciI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogZmllbGRzfXtAdGV4dDogYWxpYXN9e3ZhbHVlOiBuYW1lfSIgLz4gPC9zZWxlY3Q+IDwvdGQ+IDx0ZCBjbGFzcz0ib3BlcmF0b3Itc2VsZWN0b3IiPiA8YSBkYXRhLWJpbmRpbmc9IntAdGV4dDogcHJlc2VudGFibGVPcGVyYXRvcn17QHZpc2libGU6IHNob3dEaXNwbGF5T3BlcmF0b3J9e0BldmVudC1vbmNsaWNrOiBkaXNwbGF5T3BlcmF0b3JfY2xpY2t9IiBocmVmPSIjIiBjbGFzcz0icHJlc2VudGFibGUtcXVlcnktaXRlbSI+PC9hPiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IG9wZXJhdG9yc317QHZhbHVlOiBzZWxlY3RlZE9wZXJhdG9yfXtAdmlzaWJsZTogc2hvd0VkaXRPcGVyYXRvcn17QGV2ZW50LW9uYmx1cjogaW5wdXRfYmx1cn17QGV2ZW50LW9uZm9jdXM6IGlucHV0X2ZvY3VzfXt0aXRsZTogQGxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1zZWxlY3Qtb3BlcmF0b3J9IiBjbGFzcz0ib3BlcmF0b3Itc2VsZWN0b3IiPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IG9wZXJhdG9yc317QHRleHQ6IG5hbWV9e3ZhbHVlOiB2YWx1ZX0iIC8+IDwvc2VsZWN0PiA8L3RkPiA8dGQgY2xhc3M9ImF1dG8tZmllbGQiPiA8YSBkYXRhLWJpbmRpbmc9IntAdGV4dDogcHJlc2VudGFibGVGaWVsZFZhbHVlfXtAdmlzaWJsZTogc2hvd0Rpc3BsYXlWYWx1ZX17QGV2ZW50LW9uY2xpY2s6IGRpc3BsYXlWYWx1ZV9jbGlja317QGNsYXNzLWVtcHR5LXRleHQtcGxhY2Vob2xkZXI6IHByZXNlbnRhYmxlRmllbGRWYWx1ZUlzRW1wdHlUZXh0fSIgaHJlZj0iIyIgY2xhc3M9InByZXNlbnRhYmxlLXF1ZXJ5LWl0ZW0iPjwvYT4gPGRpdiBjbGFzcz0iaW5saW5lLWJsb2NrIGF1dG8tZmllbGQiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93RWRpdFZhbHVlfSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogQXV0b0NvbXBsZXRlfXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAdmlzaWJsZTogc2hvd1RleHRJbnB1dH0iIGNsYXNzPSJhdXRvLWNvbXBsZXRlIHZhbHVlLXNlbGVjdG9yIGlubGluZS1ibG9jayI+PC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogRGF0ZVBpY2tlcn17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH17QHZpc2libGU6IHNob3dEYXRlVGltZUlucHV0fSIgY2xhc3M9ImRhdGUtcGlja2VyIHZhbHVlLXNlbGVjdG9yIGlubGluZS1ibG9jayI+PC9kaXY+IDxzZWxlY3QgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dDb2RlZFZhbHVlRG9tYWluSW5wdXR9e0Bzb3VyY2U6IGNvZGVkVmFsdWVzfXtAdmFsdWU6IGNvZGVkRG9tYWluVmFsdWV9e0BldmVudC1vbmJsdXI6IGlucHV0X2JsdXJ9e0BldmVudC1vbmZvY3VzOiBpbnB1dF9mb2N1c317dGl0bGU6IEBsYW5ndWFnZS1xdWVyeWJ1aWxkZXItY29kZWQtdmFsdWV9IiBjbGFzcz0iY29kZWQtdmFsdWUtcGlja2VyIHZhbHVlLXNlbGVjdG9yIGlubGluZS1ibG9jayI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogY29kZWRWYWx1ZXN9e0B0ZXh0OiBuYW1lfXt2YWx1ZTogdmFsfSIgLz4gPC9zZWxlY3Q+IDxpbnB1dCBkaXNhYmxlZD0iZGlzYWJsZWQiIHR5cGU9InRleHQiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93RGlzYWJsZWRJbnB1dH17QGNsYXNzLWRpc2FibGVkOiBzaG93RGlzYWJsZWRJbnB1dH0iIGNsYXNzPSJ2YWx1ZS1zZWxlY3RvciIgLz4gPC9kaXY+IDwvdGQ+IDx0ZCBjbGFzcz0iZGVsZXRlIj48YnV0dG9uIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiByZW1vdmVRdWVyeUNsYXVzZV9jbGlja317QGNsYXNzLWRpc2FibGVkOiBkZWxldGVEaXNhYmxlZH17dGl0bGU6IEBsYW5ndWFnZS1jb21tb24tZGVsZXRlfSIgY2xhc3M9ImRlbGV0ZS1idXR0b24iPjwvYnV0dG9uPjwvdGQ+IDwvdHI+IDwvdGFibGU+IDxkaXYgY2xhc3M9ImFuZC10ZXh0IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1hbmR9e0B2aXNpYmxlOiBpc05vdExhc3R9Ij48L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJhZGQtcXVlcnktY29udGFpbmVyIj4gPGJ1dHRvbiBjbGFzcz0iamltdS1idG4gYWRkIGJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGFkZFF1ZXJ5Q2xhdXNlX2NsaWNrfXtAdGV4dDogQGxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1hZGQtY29uZGl0aW9ufSI+PC9idXR0b24+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHNlbGVjdGVkTGF5ZXJJc1RhYmxlfSI+IDxociAvPiA8ZGl2IGNsYXNzPSJzZWxlY3QtYm94Ij4gPGxhYmVsPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1zcGF0aWFsLWZpbHRlcn0iPjwvc3Bhbj4gPHNlbGVjdCBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBzcGF0aWFsRmlsdGVyc317QHZhbHVlOiBzZWxlY3RlZFNwYXRpYWxGaWx0ZXJ9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBzcGF0aWFsRmlsdGVyc317QHRleHQ6IG5hbWV9e3ZhbHVlOiB2YWx9IiAvPiA8L3NlbGVjdD4gPC9sYWJlbD4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPGhyIC8+IDxkaXYgY2xhc3M9InNlYXJjaC1idXR0b24tY29udGFpbmVyIj4gPGJ1dHRvbiBjbGFzcz0iamltdS1idG4gYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogY2xlYXJSZXN1bHRzQnV0dG9uX2NsaWNrfXtAdmlzaWJsZTogaXNRdWVyeUFuZEF3YWJ9e0B0ZXh0OiBAbGFuZ3VhZ2UtcXVlcnlidWlsZGVyLWNsZWFyfSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9ImppbXUtYnRuIGJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGNsZWFyRmlsdGVyQnV0dG9uX2NsaWNrfXtAdmlzaWJsZTogaXNGaWx0ZXJCdWlsZGVyfXtAdGV4dDogQGxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1jbGVhcn0iPjwvYnV0dG9uPiA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImppbXUtYnRuIGJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGFjdGlvbkJ1dHRvbl9jbGlja317QHZpc2libGU6IGlzUXVlcnlCdWlsZGVyfXtAdGV4dDogQGxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1zZWFyY2h9Ij48L2J1dHRvbj4gPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJqaW11LWJ0biBidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBhY3Rpb25CdXR0b25fY2xpY2t9e0B2aXNpYmxlOiBpc0ZpbHRlckJ1aWxkZXJ9e0B0ZXh0OiBAbGFuZ3VhZ2UtcXVlcnlidWlsZGVyLWZpbHRlcn17QGRpc2FibGVkOiBkaXNhYmxlZH17QGNsYXNzLWRpc2FibGVkOiBkaXNhYmxlZH0iPjwvYnV0dG9uPiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImNsZWFyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNEZWJ1Z30iPiA8aDQ+RGVidWc8L2g0PiA8aHIgLz4gPHRleHRhcmVhIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogd2hlcmVDbGF1c2V9e0B2aXNpYmxlOiBpc0RlYnVnfSIgc3R5bGU9IndpZHRoOiAxMDAlOyI+PC90ZXh0YXJlYT4gPGRpdiBjbGFzcz0ic2VhcmNoLWJ1dHRvbi1jb250YWluZXIiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiByZW1vdmVMYXllckJ1dHRvbl9jbGlja30iPlJlbW92ZSBMYXllcjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBhZGRMYXllckJ1dHRvbl9jbGlja30iPkFkZCBMYXllcjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBleHRlcm5hbGZpbHRlckJ1dHRvbl9jbGlja30iPkV4dGVybmFsIEZpbHRlcjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvZm9ybT4gPC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IG5vVmFsaWRMYXllcnN9e0B0ZXh0OiBub1ZhbGlkTGF5ZXJzVGV4dH0iPjwvZGl2PiA8ZGl2IGNsYXNzPSJhdXRvY29tcGxldGUtY29udGFpbmVyIj48L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Reporting/ListReportsView.html","html","PGRpdiBjbGFzcz0ibGlzdC1yZXBvcnRzLXZpZXciPiA8ZGl2IGNsYXNzPSJsaXN0LXJlcG9ydHMtaGVhZGVyIiB0YWJpbmRleD0iMCI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbGlzdC1yZXBvcnRzLWV4cGxhbmF0aW9ufSI+PC9wPiA8L2Rpdj4gPHVsIGNsYXNzPSJsaXN0LW9mLXJlcG9ydHMiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGF2YWlsYWJsZVJlcG9ydExpc3RpbmdzfSI+IDxsaSBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBhdmFpbGFibGVSZXBvcnRMaXN0aW5nc30iPiA8YnV0dG9uIGNsYXNzPSJsaXN0LW9mLXJlcG9ydHMtbGluayIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrUmVwb3J0fSI+IDxzdHJvbmcgY2xhc3M9Imxpc3Qtb2YtcmVwb3J0cy1saW5rLXRpdGxlIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGlzcGxheU5hbWV9Ij48L3N0cm9uZz4gPHNwYW4gY2xhc3M9Imxpc3Qtb2YtcmVwb3J0cy1saW5rLWRlc2NyaXB0aW9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGVzY3JpcHRpb259Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJsaXN0LW9mLXJlcG9ydHMtbGluay1kZXRhaWxzIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNNb3JlVGhhbk9uZUZlYXR1cmVTZWxlY3RlZH17QHRleHQ6IGRldGFpbHN9Ij48L3NwYW4+IDwvYnV0dG9uPiA8L2xpPiA8L3VsPiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Reporting/RunReportView.html","html","PGRpdiBjbGFzcz0icnVuLXJlcG9ydC12aWV3Ij4gIDxkaXYgY2xhc3M9InJ1bi1yZXBvcnQtcHJvZ3Jlc3MiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGNvbXBsZXRlfSI+ICA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzQXN5bmN9Ij4gPGgyIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcnVuLXJlcG9ydC1wcm9ncmVzcy1oZWFkaW5nLXN5bmN9Ij48L2gyPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXJ1bi1yZXBvcnQtcHJvZ3Jlc3MtbWVzc2FnZS1zeW5jfSI+PC9wPiA8L2Rpdj4gIDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzQXN5bmN9Ij4gPGgyIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcnVuLXJlcG9ydC1wcm9ncmVzcy1oZWFkaW5nLWFzeW5jfSI+PC9oMj4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1ydW4tcmVwb3J0LXByb2dyZXNzLW1lc3NhZ2UtYXN5bmN9Ij48L3A+IDwvZGl2PiA8L2Rpdj4gIDxkaXYgY2xhc3M9InJ1bi1yZXBvcnQtY29tcGxldGUiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBjb21wbGV0ZX0iPiAgPGRpdiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc0FzeW5jfSI+IDxoMiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXJ1bi1yZXBvcnQtY29tcGxldGUtaGVhZGluZy1zeW5jfSI+PC9oMj4gPGEgY2xhc3M9InJ1bi1yZXBvcnQtY29tcGxldGUtbGluayIgZGF0YS1iaW5kaW5nPSJ7aHJlZjogaHJlZn17QHRleHQ6IEBsYW5ndWFnZS1ydW4tcmVwb3J0LWNvbXBsZXRlLWxpbmstc3luY30iIGhyZWY9IiIgdGFyZ2V0PSJfYmxhbmsiIGRvd25sb2FkPjwvYT4gPC9kaXY+ICA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0FzeW5jfSI+IDxoMiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXJ1bi1yZXBvcnQtY29tcGxldGUtaGVhZGluZy1hc3luY30iPjwvaDI+IDxhIGNsYXNzPSJydW4tcmVwb3J0LWNvbXBsZXRlLWxpbmsiIGRhdGEtYmluZGluZz0ie2hyZWY6IGhyZWZ9e0B0ZXh0OiBAbGFuZ3VhZ2UtcnVuLXJlcG9ydC1jb21wbGV0ZS1saW5rLWFzeW5jfSIgaHJlZj0iIiB0YXJnZXQ9Il9ibGFuayI+PC9hPiA8L2Rpdj4gPGJ1dHRvbiBjbGFzcz0icnVuLXJlcG9ydC1jb21wbGV0ZS1kb25lLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1ydW4tcmVwb3J0LWNvbXBsZXRlLWRvbmUtYnV0dG9ufXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tEb25lQnV0dG9ufSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Scalebar/ScalebarView.html","html","PGRpdiBjbGFzcz0ic2NhbGUtYmFyLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogc2NhbGViYXJDb250YWluZXJ9Ij4gIDxzcGFuIGNsYXNzPSJzY2FsZS1iYXItaG9zdCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogc2NhbGViYXJIb3N0fSI+PC9zcGFuPiA8aW1nIGNsYXNzPSJzY2FsZS1zd2l0Y2hlciIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvc2NhbGUtaW5wdXQtMjQucG5nIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogdG9nZ2xlU2NhbGVJbnB1dEJveEFjdGl2ZX17QHZpc2libGU6bW9iaWxlTW9kZX0iIC8+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Scalebar/ScaleInputBoxButtonView.html","html","PGJ1dHRvbiBjbGFzcz0ic2NhbGUtaW5wdXQtYm94LXRvZ2dsZSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IHRvZ2dsZVNjYWxlSW5wdXRCb3hBY3RpdmV9e0BjbGFzcy1zY2FsZS1pbnB1dC1ib3gtb3Blbjogc2NhbGVJbnB1dEJveElzVmlzaWJsZX17QG5vY2xhc3Mtc2NhbGUtaW5wdXQtYm94LWNsb3NlZDogc2NhbGVJbnB1dEJveElzVmlzaWJsZX17QGNsYXNzLXNjYWxlLWlucHV0LWJveC10b2dnbGUtbGVmdDogaXNMZWZ0fXtAY2xhc3Mtc2NhbGUtaW5wdXQtYm94LXRvZ2dsZS1yaWdodDogaXNSaWdodH17dGl0bGU6IEBsYW5ndWFnZS1mZWF0dXJlLXNjYWxlLWlucHV0LWJveC10b2dnbGUtYnV0dG9ufSIgdGFiaW5kZXg9IjAiPlRvZ2dsZTwvYnV0dG9uPiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Scalebar/ScaleInputBoxView.html","html","PGRpdiBjbGFzcz0ic2NhbGUtaW5wdXQtYm94LWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6c2NhbGVJbnB1dEJveElzVmlzaWJsZX17QG5vY2xhc3MtY3VzdG9tLXNjYWxlLWNvbnRyb2w6c2NhbGVzfSI+IDxmb3JtIGFjdGlvbj0iamF2YXNjcmlwdDp2b2lkKDApOyIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uc3VibWl0OiBoYW5kbGVBcHBseX0iPiA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBsYWJlbH0iPjwvbGFiZWw+IDxzcGFuIGNsYXNzPSJzY2FsZS1pbnB1dC1ib3giPiA8c2VsZWN0IGNsYXNzPSJzY2FsZS1zZWxlY3Rvci1zZWxlY3Qgc2NhbGUtc2VsZWN0b3IiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHNjYWxlc317QHZpc2libGU6IHNjYWxlc317QHZhbHVlOiBzZWxlY3RlZFNjYWxlfXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZVNjYWxlQ2hhbmdlfSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogc2NhbGVzfXtAdGV4dDogZGlzcGxheU5hbWV9e0BhdHRhY2g6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8aW5wdXQgY2xhc3M9InNjYWxlLXNlbGVjdG9yLWlucHV0IHNjYWxlLXNlbGVjdG9yIiB0eXBlPSJ0ZXh0IiBwYXR0ZXJuPSJbMC05XSsoW1wuLF1bMC05XSspPyIgbWluPSIwIiBzdGVwPSIxMDAiIGRhdGEtYmluZGluZz0ie0B2YWx1ZTppbnB1dFNjYWxlfXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZUNoYW5nZU9uSW5wdXR9e0BldmVudC1vbmZvY3VzOiBoYW5kbGVGb2N1c09uSW5wdXR9IiAvPiA8L3NwYW4+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiBnby1idXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVBcHBseX17QHRleHQ6IEBsYW5ndWFnZS1zY2FsZS1nb30iPjwvYnV0dG9uPiA8L2Rpdj4gPC9mb3JtPiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Search/SearchHintsView.html","html","PGRpdiBjbGFzcz0iaGludHMtbGlzdCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNlYXJjaEhpbnRzfXtAdmFyOiBoaW50c0xpc3R9e0BldmVudC1rZXlkb3duOiBoYW5kbGVLZXlEb3dufSI+IDx1bCBjbGFzcz0ibGlzdC1tZW51IGhhcy1pY29uIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBzZWFyY2hIaW50c317QG5vY2xhc3MtcmVmaW5lLWRpc2FibGVkOiBlbmFibGVTZWFyY2hSZWZpbmVtZW50fSI+IDxsaSBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHNlYXJjaEhpbnRzfSI+IDxidXR0b24gY2xhc3M9ImNvbnRlbnQgbGlzdC1tZW51LWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUhpbnRDbGlja30iPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb25Vcml9e3NyYzogaWNvblVyaX17YWx0OiBwbGFpblRleHR9IiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvSWNvblBsYWNlaG9sZGVyMjR4MjQucG5nIiAvPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiIGRhdGEtYmluZGluZz0ie2lubmVySFRNTDogc2FmZVRleHR9e3RpdGxlOiBwbGFpblRleHR9Ij48L3NwYW4+IDwvYnV0dG9uPiA8ZGl2IGNsYXNzPSJyZWZpbmUtY29udGFpbmVyIj4gPGJ1dHRvbiBjbGFzcz0icmVmaW5lLWJ0biIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNlYXJjaEhpbnRzfXtAZXZlbnQtb25jbGljazogaGFuZGxlUmVmaW5lU2VhcmNoQ2xpY2t9e3RpdGxlOiBAbGFuZ3VhZ2Utc2VhcmNoLXJlZmluZX0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9saT4gPC91bD4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Search/SearchView.html","html","PGRpdiBjbGFzcz0iZ2xvYmFsLXNlYXJjaCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGVuYWJsZVVJfSI+IDxkaXYgY2xhc3M9InNlYXJjaC1ib3giPiAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJnY3hfc2VhcmNoIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBpbnB1dEVsZW1lbnR9e0B2YWx1ZTogc2VhcmNoVGV4dH17QGV2ZW50LWtleWRvd246IGhhbmRsZUtleURvd259e0BldmVudC1kYmxjbGljazogaGFuZGxlRG91YmxlQ2xpY2t9e3BsYWNlaG9sZGVyOiBAbGFuZ3VhZ2Utc2VhcmNoLXBsYWNlaG9sZGVyfXt0aXRsZTogQGxhbmd1YWdlLXNlYXJjaC1zZWFyY2gtcHJvbXB0fSIgdGFiaW5kZXg9IjAiIC8+IDxidXR0b24gY2xhc3M9InNlYXJjaC1idXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1jbGljazogaGFuZGxlU2VhcmNoQ2xpY2t9IiB0YWJpbmRleD0iMCI+PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1zZWFyY2gtcGVyZm9ybS1nbG9iYWwtc2VhcmNofSIgPjwvc3Bhbj48L2J1dHRvbj4gPC9kaXY+IDxkaXYgY2xhc3M9InJlZ2lvbiBzZWFyY2gtaGludHMtcmVnaW9uIiBkYXRhLXJlZ2lvbi1uYW1lPSJTZWFyY2hIaW50c1JlZ2lvbiI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Selection/CombineResultsView.html","html","PGRpdiBjbGFzcz0icmVmaW5lLXJlc3VsdHMiPiA8ZGl2IGNsYXNzPSJ3aWRnZXQgcmVmaW5lLW9wdGlvbnMiIGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IENvbWJpbmVSZXN1bHRzT3B0aW9uc1dpZGdldH17QHdpZGdldC1jb250ZXh0OiBmZWF0dXJlU2V0Q29sbGVjdGlvbn17QGhpZGRlbjogY29tYmluZU1vZGVDaG9zZW59IiBkYXRhLW1lbnUtaWQ9IkNvbWJpbmVSZXN1bHRzQWN0aW9ucyIgZGF0YS1tZW51LWhvaXN0LWRpc2FibGVkPSJ0cnVlIj48L2Rpdj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogY29tYmluZU1vZGVDaG9zZW59Ij4gPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAgbm8taXRlbSBib3gtY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBzZWxlY3Rpb25zfSI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utc2F2ZWQtcmVzdWx0cy1icm93c2Utbm8taXRlbXN9Ij48L3A+IDxwIGNsYXNzPSJkZXNjcmlwdGlvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1zYXZlZC1yZXN1bHRzLWJyb3dzZS1uby1pdGVtcy1kZXNjfSI+PC9wPiA8L2Rpdj4gPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzZWxlY3Rpb25zfSI+IDxkaXYgY2xhc3M9Imxpc3QtcmVmaW5lLXJlc3VsdHMtaGVhZGVyIiB0YWJpbmRleD0iMCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utc2F2ZWQtcmVzdWx0cy1jb21iaW5lLWxpc3QtZXhwbGFuYXRpb259Ij48L3NwYW4+IDwvZGl2PiA8dWwgY2xhc3M9Imxpc3QtbWVudSIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogcmVzdWx0c1BhZ2V9Ij4gPGxpIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogcmVzdWx0c1BhZ2V9Ij4gPGxhYmVsIGNsYXNzPSJsaXN0LW1lbnUtbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX17Zm9yOiBpZH0iPjwvbGFiZWw+IDxpbnB1dCBjbGFzcz0ibGlzdC1tZW51LWFjdGlvbiIgdHlwZT0iY2hlY2tib3giIGRhdGEtYmluZGluZz0ie2lkOiBpZH17QHZhbHVlOiBpc1NlbGVjdGVkfSIgLz4gPC9saT4gPC91bD4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIG9rLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LWNsaWNrOiBoYW5kbGVPa0NsaWNrfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1va30iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJidXR0b24gY2FuY2VsLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LWNsaWNrOiBoYW5kbGVDYW5jZWxDbGlja317QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tY2FuY2VsfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gIDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNlbGVjdGlvbnN9e0B3aWRnZXQ6IFBhZ2luZ0NvbnRyb2xzV2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX0iPjwvZGl2PiAgPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Selection/ListSelectionsView.html","html","PGRpdiBjbGFzcz0ibGlzdC1zZWxlY3Rpb25zLXZpZXciPiA8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCBuby1pdGVtIGJveC1jb250YWluZXIiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHNlbGVjdGlvbnN9Ij4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1zYXZlZC1yZXN1bHRzLWJyb3dzZS1uby1pdGVtc30iPjwvcD4gPHAgY2xhc3M9ImRlc2NyaXB0aW9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXNhdmVkLXJlc3VsdHMtYnJvd3NlLW5vLWl0ZW1zLWRlc2N9Ij48L3A+IDwvZGl2PiA8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNlbGVjdGlvbnN9Ij4gPHVsIGNsYXNzPSJsaXN0LW1lbnUiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHJlc3VsdHNQYWdlfSI+IDxsaSBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHJlc3VsdHNQYWdlfXtAZXZlbnQtb25jbGljazogaGFuZGxlUmVzdG9yZVNlbGVjdGlvbkNsaWNrfSI+IDxidXR0b24gY2xhc3M9InNlbGVjdGlvbi1jb250ZW50cyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfXtAZXZlbnQtb25jbGljazogaGFuZGxlUmVzdG9yZVNlbGVjdGlvbkNsaWNrfXt0aXRsZTogcmVzdG9yZVRvb2x0aXB9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYWN0aW9uLWJ1dHRvbiBlZGl0LTI0IHJpZ2h0IiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlUmVuYW1lQ2xpY2t9e3RpdGxlOiByZW5hbWVUb29sdGlwfSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9ImFjdGlvbi1idXR0b24gdHJhc2hjYW4tMjQgcmlnaHQiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVEZWxldGVDbGlja317dGl0bGU6IGRlbGV0ZVRvb2x0aXB9Ij48L2J1dHRvbj4gPC9saT4gPC91bD4gPC9kaXY+ICA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzZWxlY3Rpb25zfXtAd2lkZ2V0OiBQYWdpbmdDb250cm9sc1dpZGdldH17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH17QHdpZGdldC1yZXF1aXJlZDogZmFsc2V9Ij48L2Rpdj4gIDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Selection/SaveSelectionView.html","html","PGRpdiBjbGFzcz0ic2F2ZS1zZWxlY3Rpb24tdmlldyI+IDxsYWJlbCBmb3I9InNlbGVjdGlvbk5hbWUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utc2F2ZWQtcmVzdWx0cy1zYXZlLWFzfSI+PC9sYWJlbD4gPGlucHV0IHR5cGU9InRleHQiIGlkPSJzZWxlY3Rpb25OYW1lIiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IG5hbWV9e0BldmVudC1rZXlkb3duOiBoYW5kbGVLZXlEb3dufSIgLz4gPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIHNhdmUtYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtY2xpY2s6IGhhbmRsZVNhdmVDbGlja317QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tc2F2ZX0iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJidXR0b24gY2FuY2VsLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LWNsaWNrOiBoYW5kbGVDYW5jZWxDbGlja317QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tY2FuY2VsfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Share/ShareView.html","html","PGRpdiBjbGFzcz0ic29jaWFsLW1lZGlhLXNoYXJlIj4gPGRpdiBjbGFzcz0ibGlzdC1tZW51IGFjdGl2ZSBoYXMtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogc2hhcmVPcHRpb25zfXtAdmlzaWJsZTogc2hhcmVPcHRpb25zfSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogc2hhcmVPcHRpb25zfSI+IDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LWNsaWNrOiBoYW5kbGVDbGlja30iIHRhcmdldD0iX2JsYW5rIj4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb259e3NyYzogaWNvblVyaX0iIGFsdD0iICIgLz4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiPiA8c3Ryb25nIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9zdHJvbmc+IDwvZGl2PiA8L2Rpdj4gPC9hPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/DebugView.html","html","PGRpdiBjbGFzcz0iZGVidWctdmlldyI+IDxkaXYgY2xhc3M9ImRlYnVnLXZpZXctaW5uZXIiPiA8Yj5EZWJ1ZyB2aWV3PC9iPiA8L2Rpdj4gPC9kaXY+IA==");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/DesktopShellView.html","html","PGRpdiBjbGFzcz0ic2hlbGwtY29udGFpbmVyIj4gPGRpdiBjbGFzcz0ic2hlbGwtY29udGFpbmVyLWlubmVyIj4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJMb2dSZWdpb24iIGNsYXNzPSJyZWdpb24gbG9nLXJlZ2lvbiI+PC9kaXY+IDxkaXYgY2xhc3M9ImxhcmdlLXNoZWxsLWhlYWRlciIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogaGVhZGVyQ29udGFpbmVyRWxlbWVudH0iPiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9IkFjY2Vzc2liaWxpdHlSZWdpb24iIGNsYXNzPSJyZWdpb24gYWNjZXNzaWJpbGl0eS1yZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJIZWFkZXJSZWdpb24iIGNsYXNzPSJyZWdpb24gaGVhZGVyLXJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9IlRvb2xiYXJSZWdpb24iIGNsYXNzPSJyZWdpb24gdG9vbGJhci1yZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImxhcmdlLXNoZWxsLW1haW4iIGRhdGEtYmluZGluZz0ie0B2YXI6IG1haW5FbGVtZW50fSI+IDxkaXYgY2xhc3M9ImxhcmdlLXNoZWxsLWxlZnQgcGFuZWwtY2xvc2VkIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBsZWZ0RWxlbWVudH17QHZpc2libGU6IGRhdGFGcmFtZUlzT3Blbn0iPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2YXI6IGxlZnRSZWdpb25FbGVtZW50fSIgZGF0YS1yZWdpb24tbmFtZT0iTGVmdFBhbmVsUmVnaW9uIiBjbGFzcz0icmVnaW9uIGRhdGEtcmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciIgZGF0YS1tYXhpbWl6ZWQ9ImZhbHNlIj48L2Rpdj4gPGRpdiBjbGFzcz0icGFuZWwtc2lkZS1lbXB0eSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGRhdGFGcmFtZUlzRW1wdHl9Ij4gPGgyIGNsYXNzPSJwYW5lbC1lbXB0eS1oZWFkaW5nIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXNoZWxsLWRhdGFmcmFtZS1kaXNhYmxlZH0iPjwvaDI+IDxkaXYgY2xhc3M9InBhbmVsLWVtcHR5LWxpbmtzIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogbGlua2FibGVNb2R1bGVMb2FkZWR9Ij4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1zaGVsbC1kYXRhZnJhbWUtZGlzYWJsZWQtb3B0aW9uc30iPjwvcD4gPHVsPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGluZm9Nb2R1bGVMb2FkZWR9Ij48YnV0dG9uIGNsYXNzPSJidXR0b24tdGV4dC1saW5rIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogb3BlbkhvbWVQYW5lbH17QHRleHQ6IEBsYW5ndWFnZS1zaGVsbC1kYXRhZnJhbWUtZGlzYWJsZWQtaG9tZS1wYW5lbH0iPjwvYnV0dG9uPjwvbGk+IDxsaSBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogbGF5ZXJMaXN0TW9kdWxlTG9hZGVkfSI+PGJ1dHRvbiBjbGFzcz0iYnV0dG9uLXRleHQtbGluayIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IG9wZW5MYXllckxpc3R9e0B0ZXh0OiBAbGFuZ3VhZ2Utc2hlbGwtZGF0YWZyYW1lLWRpc2FibGVkLWxheWVyLWxpc3R9Ij48L2J1dHRvbj48L2xpPiA8L3VsPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsYXJnZS1zaGVsbC1jZW50ZXIiIGRhdGEtYmluZGluZz0ie0B2YXI6IGNlbnRlckVsZW1lbnR9Ij4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJNYXBSZWdpb24iIGRhdGEtYmluZGluZz0ie0B2YXI6IHNjcmVlblJlZ2lvbkVsZW1lbnR9IiBjbGFzcz0icmVnaW9uIG1hcC1yZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImxhcmdlLXNoZWxsLWJvdHRvbSBwYW5lbC1jbG9zZWQiIGRhdGEtYmluZGluZz0ie0B2YXI6IGJvdHRvbUVsZW1lbnR9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmFyOiBib3R0b21SZWdpb25FbGVtZW50fSIgZGF0YS1yZWdpb24tbmFtZT0iQm90dG9tUGFuZWxSZWdpb24iIGNsYXNzPSJyZWdpb24gYm90dG9tLXJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiIGRhdGEtbWF4aW1pemVkPSJmYWxzZSI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsYXJnZS1zaGVsbC1yaWdodCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogcmlnaHRFbGVtZW50fSI+IDxkaXYgZGF0YS1yZWdpb24tbmFtZT0iUmlnaHRQYW5lbFJlZ2lvbiIgY2xhc3M9InJlZ2lvbiBkYXRhLXJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImxhcmdlLXNoZWxsLWZvb3RlciIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogZm9vdGVyQ29udGFpbmVyRWxlbWVudH0iPiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9IkZvb3RlclJlZ2lvbiIgY2xhc3M9InJlZ2lvbiBmb290ZXItcmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJyZWdpb24iIGRhdGEtcmVnaW9uLW5hbWU9IkNvbnRleHRNZW51UmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+IDwvZGl2PiA8L2Rpdj4gICA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9Ik1vZGFsV2luZG93UGxhY2Vob2xkZXJSZWdpb24iIGNsYXNzPSJyZWdpb24gbW9kYWwiIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuUG9wdXBNb2RhbFJlZ2lvbkFkYXB0ZXIiPiA8ZGl2IGNsYXNzPSJtb2RhbC1vdmVybGF5Ij48L2Rpdj4gPGRpdiBjbGFzcz0ibW9kYWwtY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBtb2RhbENvbnRhaW5lckVsZW1lbnR9Ij4gPGRpdiBjbGFzcz0ibW9kYWwtY29udGFpbmVyLWlubmVyIj48L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmb290Ij48L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/HandheldShellView.html","html","PGRpdiBjbGFzcz0ic2hlbGwtY29udGFpbmVyIj4gPGRpdiBjbGFzcz0ic2hlbGwtY29udGFpbmVyLWlubmVyIj4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJUb29sUmVnaW9uIiBjbGFzcz0icmVnaW9uIHRvb2wtcmVnaW9uIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBiYW5uZXJDb250YWluZXJFbGVtZW50fSIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9IlNjcmVlblJlZ2lvbiIgY2xhc3M9InJlZ2lvbiBzY3JlZW4tcmVnaW9uIg0KICAgICAgICAgICAgIGRhdGEtYmluZGluZz0ie0B2YXI6IHNjcmVlblJlZ2lvbkVsZW1lbnR9IiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+IDxkaXYgY2xhc3M9InJlZ2lvbiIgZGF0YS1yZWdpb24tbmFtZT0iQ29udGV4dE1lbnVSZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPGRpdiBjbGFzcz0iY2xlYXIiPjwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/TabletShellView.html","html","PGRpdiBjbGFzcz0ic2hlbGwtY29udGFpbmVyIj4gPGRpdiBjbGFzcz0ic2hlbGwtY29udGFpbmVyLWlubmVyIj4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJMb2dSZWdpb24iIGNsYXNzPSJyZWdpb24gbG9nLXJlZ2lvbiI+PC9kaXY+IDxkaXYgY2xhc3M9Im1lZGl1bS1zaGVsbC1oZWFkZXIiICBkYXRhLWJpbmRpbmc9IntAdmFyOiBoZWFkZXJDb250YWluZXJFbGVtZW50fSI+IDxkaXYgZGF0YS1yZWdpb24tbmFtZT0iQWNjZXNzaWJpbGl0eVJlZ2lvbiIgY2xhc3M9InJlZ2lvbiBhY2Nlc3NpYmlsaXR5LXJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9IkhlYWRlclJlZ2lvbiIgIGNsYXNzPSJyZWdpb24gaGVhZGVyLXJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9IlRvb2xiYXJSZWdpb24iIGNsYXNzPSJyZWdpb24gdG9vbGJhci1yZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIiA+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJtZWRpdW0tc2hlbGwtbWFpbiIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogbWFpbkVsZW1lbnR9Ij4gPGRpdiBjbGFzcz0ibWVkaXVtLXNoZWxsLWxlZnQgcGFuZWwtY2xvc2VkIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBsZWZ0RWxlbWVudH17QHZpc2libGU6IGRhdGFGcmFtZUlzT3Blbn0iPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2YXI6IGxlZnRSZWdpb25FbGVtZW50fSIgZGF0YS1yZWdpb24tbmFtZT0iTGVmdFBhbmVsUmVnaW9uIiBjbGFzcz0icmVnaW9uIGRhdGEtcmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+IDxkaXYgY2xhc3M9InBhbmVsLXNpZGUtZW1wdHkiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBkYXRhRnJhbWVJc0VtcHR5fSI+IDxoMiBjbGFzcz0icGFuZWwtZW1wdHktaGVhZGluZyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1zaGVsbC1kYXRhZnJhbWUtZGlzYWJsZWR9Ij48L2gyPiA8ZGl2IGNsYXNzPSJwYW5lbC1lbXB0eS1saW5rcyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGxpbmthYmxlTW9kdWxlTG9hZGVkfSI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utc2hlbGwtZGF0YWZyYW1lLWRpc2FibGVkLW9wdGlvbnN9Ij48L3A+IDx1bD4gPGxpIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpbmZvTW9kdWxlTG9hZGVkfSI+PGJ1dHRvbiBjbGFzcz0iYnV0dG9uLXRleHQtbGluayIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IG9wZW5Ib21lUGFuZWx9e0B0ZXh0OiBAbGFuZ3VhZ2Utc2hlbGwtZGF0YWZyYW1lLWRpc2FibGVkLWhvbWUtcGFuZWx9Ij48L2J1dHRvbj48L2xpPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGxheWVyTGlzdE1vZHVsZUxvYWRlZH0iPjxidXR0b24gY2xhc3M9ImJ1dHRvbi10ZXh0LWxpbmsiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBvcGVuTGF5ZXJMaXN0fXtAdGV4dDogQGxhbmd1YWdlLXNoZWxsLWRhdGFmcmFtZS1kaXNhYmxlZC1sYXllci1saXN0fSI+PC9idXR0b24+PC9saT4gPC91bD4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0ibWVkaXVtLXNoZWxsLWNlbnRlciIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogY2VudGVyRWxlbWVudH0iPiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9Ik1hcFJlZ2lvbiIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogc2NyZWVuUmVnaW9uRWxlbWVudH0iIGNsYXNzPSJyZWdpb24gbWFwLXJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0ibWVkaXVtLXNoZWxsLWJvdHRvbSBwYW5lbC1jbG9zZWQiIGRhdGEtYmluZGluZz0ie0B2YXI6IGJvdHRvbUVsZW1lbnR9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmFyOiBib3R0b21SZWdpb25FbGVtZW50fSIgZGF0YS1yZWdpb24tbmFtZT0iQm90dG9tUGFuZWxSZWdpb24iIGNsYXNzPSJyZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9Im1lZGl1bS1zaGVsbC1yaWdodCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogcmlnaHRFbGVtZW50fSI+IDxkaXYgZGF0YS1yZWdpb24tbmFtZT0iUmlnaHRQYW5lbFJlZ2lvbiIgY2xhc3M9InJlZ2lvbiBkYXRhLXJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9Im1lZGl1bS1zaGVsbC1mb290ZXIiIGRhdGEtYmluZGluZz0ie0B2YXI6IGZvb3RlckNvbnRhaW5lckVsZW1lbnR9Ij4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJGb290ZXJSZWdpb24iIGNsYXNzPSJyZWdpb24gZm9vdGVyLXJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0icmVnaW9uIiBkYXRhLXJlZ2lvbi1uYW1lPSJDb250ZXh0TWVudVJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8L2Rpdj4gPC9kaXY+ICAgPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJNb2RhbFdpbmRvd1BsYWNlaG9sZGVyUmVnaW9uIiBjbGFzcz0icmVnaW9uIG1vZGFsIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLlBvcHVwTW9kYWxSZWdpb25BZGFwdGVyIj4gPGRpdiBjbGFzcz0ibW9kYWwtb3ZlcmxheSI+PC9kaXY+IDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogbW9kYWxDb250YWluZXJFbGVtZW50fSI+IDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRhaW5lci1pbm5lciI+PC9kaXY+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0iZm9vdCI+PC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/Components/DataFrameButtonView.html","html","PGJ1dHRvbiBjbGFzcz0iZGF0YS1mcmFtZS1idXR0b24gdGFiLWNsb3NlZCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogYnV0dG9uRWxlbWVudH17dGl0bGU6IEBsYW5ndWFnZS1zaGVsbC1kYXRhZnJhbWV9e0BldmVudC1tb3VzZWRvd246IGhhbmRsZU1vdXNlRG93bn17QGV2ZW50LXRvdWNoc3RhcnQ6IGhhbmRsZVRvdWNoU3RhcnR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVPbkNsaWNrfSI+PC9idXR0b24+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/Components/DataFrameResizeButtonView.html","html","PGJ1dHRvbiBjbGFzcz0iZGF0YS1mcmFtZS1yZXNpemUgcmVzaXplLWhhbmRsZSBpbmFjdGl2ZSIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogYnV0dG9uRWxlbWVudH17dGl0bGU6IEBsYW5ndWFnZS1zaGVsbC1kYXRhZnJhbWUtcmVzaXplfXtAZXZlbnQtbW91c2Vkb3duOiBoYW5kbGVNb3VzZURvd259e0BldmVudC10b3VjaHN0YXJ0OiBoYW5kbGVUb3VjaFN0YXJ0fSI+IDxzcGFuIGNsYXNzPSJpY29uLWRyYWciPjwvc3Bhbj4gPC9idXR0b24+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/Components/NavBarSmallView.html","html","PGRpdiBjbGFzcz0idmlldy1zd2l0Y2hlci12aWV3Ij4gPGRpdiBjbGFzcz0icGFuZWwtaGVhZGVyLW5hdiIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogYWN0aXZlVmlld0Rlc2NyaXB0b3JzfSI+IDxidXR0b24gY2xhc3M9Im5hdi1idG4iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGFjdGl2ZVZpZXdEZXNjcmlwdG9yc317QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVRhcE5hdkJ1dHRvbn17QGNsYXNzLW5hdi1idG4tYWN0aXZlOiBpc0FjdGl2ZX0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogdGl0bGV9Ij48L3NwYW4+IDwvYnV0dG9uPiA8L2Rpdj4gPGJ1dHRvbiBjbGFzcz0icGFuZWwtaGVhZGVyLWJ1dHRvbiByaWdodCIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVRhcFN3aXRjaGVyQ2xvc2VCdXR0b259Ij48L2J1dHRvbj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/Components/Navigation/NavButtonView.html","html","PGJ1dHRvbiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlVGFwfSIgY2xhc3M9Im5hdi1idXR0b24tdmlldyI+PC9idXR0b24+IA==");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/Components/Panels/ShellPanelView.html","html","PGRpdiBjbGFzcz0idmlldy1jb250YWluZXItdmlldyBzbWFydC1wYW5lbCBzaGVsbC1wYW5lbCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogY29udGFpbmVyRWxlbWVudH0iPiA8ZGl2IGNsYXNzPSJwYW5lbC1oZWFkZXIiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBoZWFkZXJJc1Zpc2libGV9e0B2YXI6IGhlYWRlckVsZW1lbnR9Ij4gPGJ1dHRvbiBjbGFzcz0icGFuZWwtaGVhZGVyLWJ1dHRvbiBwYW5lbC1yZXNpemVyIHJpZ2h0IiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlVGFwU2l6ZUJ1dHRvbn0iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJtZW51LWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGVuYWJsZWQ6IGhhc0V4ZWN1dGFibGVNZW51SXRlbXN9e0B2aXNpYmxlOiBoYXNIb2lzdGVkTWVudX17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVRhcE1lbnVCdXR0b259e0B2YXI6IG1lbnVCdXR0b25FbGVtZW50fSI+PC9idXR0b24+IDxkaXYgY2xhc3M9InBhbmVsLWhlYWRlci1uYXYiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHRpdGxlQmFySXNWaXNpYmxlfSI+PC9kaXY+IDxidXR0b24gY2xhc3M9InBhbmVsLWhlYWRlci1idXR0b24gcGFuZWwtYmFjayBsZWZ0IiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tTbWFydEJhY2tCdXR0b259e0B2aXNpYmxlOiBzaG93aW5nU21hcnRCYWNrQnV0dG9ufSI+PC9idXR0b24+IDxoMiBjbGFzcz0icGFuZWwtdGl0bGUiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiB0aXRsZUJhcklzVmlzaWJsZX0iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9sb2FkZXItc21hbGwuZ2lmIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd0J1c3lJbmRpY2F0b3J9IiBhbHQ9IiAiIC8+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB2aWV3VGl0bGV9Ij48L3NwYW4+IDwvaDI+IDxkaXYgY2xhc3M9InNtYXJ0LXBhbmVsLWhvaXN0ZWQtbWVudS1pbmxpbmUiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpbmxpbmVNZW51SXNPcGVufXtAd2lkZ2V0OiBTbWFydFBhbmVsSG9pc3RlZE1lbnV9e0B3aWRnZXQtcmVxdWlyZWQ6IGZhbHNlfXtAd2lkZ2V0LWNvbnRleHQ6IGhvaXN0ZWRNZW51Vmlld01vZGVsfSI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJwYW5lbC1zY3JvbGwtY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntkYXRhLXJlZ2lvbi1uYW1lOiByZWdpb25OYW1lfXtkYXRhLXJlZ2lvbi1hZGFwdGVyOiByZWdpb25UeXBlfXtAdmFyOiBzY3JvbGxSZWdpb25FbGVtZW50fXtAZXZlbnQtb25zY3JvbGw6IGhhbmRsZVNjcm9sbENoYW5nZX0iPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/Small/SmallShellView.html","html","PGRpdiBjbGFzcz0ic2hlbGwtY29udGFpbmVyIG5ldy1zaGVsbCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogY29udGFpbmVyRWxlbWVudH0iPiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9IkFjY2Vzc2liaWxpdHlSZWdpb24iIGNsYXNzPSJyZWdpb24gYWNjZXNzaWJpbGl0eS1yZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJIZWFkZXJSZWdpb24iIGNsYXNzPSJyZWdpb24gaGVhZGVyLXJlZ2lvbiIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogaGVhZGVyUmVnaW9uRWxlbWVudH0iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJTY3JlZW5SZWdpb24iIGNsYXNzPSJyZWdpb24gc2NyZWVuLXJlZ2lvbiIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogc2NyZWVuUmVnaW9uRWxlbWVudH0iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJUb3BMZWZ0U2hlbGxSZWdpb24iIGNsYXNzPSJyZWdpb24gdG9wLWxlZnQtc2hlbGwtcmVnaW9uIHRvcC1sZWZ0LXNoZWxsLXJlZ2lvbi1jbG9zZWQiIGRhdGEtYmluZGluZz0ie0B2YXI6IHRvcExlZnRTaGVsbFJlZ2lvbkVsZW1lbnR9IiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+IDxkaXYgZGF0YS1yZWdpb24tbmFtZT0iVG9wUmlnaHRTaGVsbFJlZ2lvbiIgY2xhc3M9InJlZ2lvbiB0b3AtcmlnaHQtc2hlbGwtcmVnaW9uIHRvcC1yaWdodC1zaGVsbC1yZWdpb24tY2xvc2VkIiBkYXRhLWJpbmRpbmc9IntAdmFyOiB0b3BSaWdodFNoZWxsUmVnaW9uRWxlbWVudH0iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJCb3R0b21MZWZ0U2hlbGxSZWdpb24iIGNsYXNzPSJyZWdpb24gYm90dG9tLWxlZnQtc2hlbGwtcmVnaW9uIGxlZnQtcGFuZWwtY2xvc2VkIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBib3R0b21MZWZ0U2hlbGxSZWdpb25FbGVtZW50fSIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9IkJvdHRvbVJpZ2h0U2hlbGxSZWdpb24iIGNsYXNzPSJyZWdpb24gYm90dG9tLXJpZ2h0LXNoZWxsLXJlZ2lvbiByaWdodC1wYW5lbC1jbG9zZWQiIGRhdGEtYmluZGluZz0ie0B2YXI6IGJvdHRvbVJpZ2h0U2hlbGxSZWdpb25FbGVtZW50fSIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8ZGl2IGNsYXNzPSJib3R0b20tcGFuZWwgcGFuZWwtbWluaW1pemVkIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBib3R0b21QYW5lbFJlZ2lvbkVsZW1lbnR9Ij4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJCb3R0b21QYW5lbFJlZ2lvbiIgY2xhc3M9InJlZ2lvbiBib3R0b20tcGFuZWwtcmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+IDwvZGl2PiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9IlNtYWxsTmF2aWdhdGlvblJlZ2lvbiIgY2xhc3M9InJlZ2lvbiBzbWFsbC1uYXZpZ2F0aW9uLXJlZ2lvbiBuYXYtcmVnaW9uLWNsb3NlZCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogbmF2aWdhdGlvblJlZ2lvbkVsZW1lbnR9IiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+IDxkaXYgZGF0YS1yZWdpb24tbmFtZT0iTGVmdFBhbmVsUmVnaW9uIiBjbGFzcz0icmVnaW9uIHNpZGUtcmVnaW9uIGxlZnQtcGFuZWwtcmVnaW9uIGxlZnQtcGFuZWwtY2xvc2VkIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBsZWZ0UGFuZWxSZWdpb25FbGVtZW50fSI+PC9kaXY+IDxkaXYgZGF0YS1yZWdpb24tbmFtZT0iUmlnaHRQYW5lbFJlZ2lvbiIgY2xhc3M9InJlZ2lvbiBzaWRlLXJlZ2lvbiByaWdodC1wYW5lbC1yZWdpb24gcmlnaHQtcGFuZWwtY2xvc2VkIiBkYXRhLWJpbmRpbmc9IntAdmFyOiByaWdodFBhbmVsUmVnaW9uRWxlbWVudH0iPjwvZGl2PiA8ZGl2IGNsYXNzPSJyZWdpb24iIGRhdGEtcmVnaW9uLW5hbWU9IkNvbnRleHRNZW51UmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Site/ServiceLayersFailureView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlIHNlcnZpY2UtbGF5ZXJzLWZhaWx1cmUiPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXNpdGUtc2VydmljZS1sYXllcnMtZmFpbHVyZS12aWV3LXdhcm5pbmd9e0BoaWRkZW46IGhhc0Vycm9yfSI+PC9wPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXNpdGUtc2VydmljZS1sYXllcnMtZmFpbHVyZS12aWV3LWVycm9yfXtAdmlzaWJsZTogaGFzRXJyb3J9Ij48L3A+IDx1bCBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBmYWlsZWRTZXJ2aWNlc30iPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogZmFpbGVkU2VydmljZXN9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3NwYW4+IDwvbGk+IDwvdWw+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaGFzRXJyb3J9Ij4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBva0J1dHRvbkVsZW1lbnR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja09rfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1va30iLz4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Site/SignInErrorView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlIHNpZ24tb24tZXJyb3IiPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXNpdGUtbG9nLW9uLXJlcXVpcmVkLWVycm9yfSI+PC9wPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja1RyeUFnYWlufXtAdGV4dDogQGxhbmd1YWdlLXNpdGUtdHJ5LWxvZy1vbi1hZ2Fpbn0iIC8+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Status/StatusIndicatorView.html","html","DQo8ZGl2IGNsYXNzPSJzdGF0dXMtaW5kaWNhdG9yIGFuaW0tem9vbS1pbiIgZGF0YS1yZWdpb24tbmFtZT0iU3RhdHVzSW5kaWNhdG9yTWVzc2FnZVJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA=");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Status/StatusMessageView.html","html","DQo8ZGl2IGNsYXNzPSJzdGF0dXMtd2luZG93IiBkYXRhLWJpbmRpbmc9IntAdmFyOiBjb250YWluZXJFbGVtZW50fSI+IDx0YWJsZT4gPHRyPiA8dGQgY2xhc3M9InN0YXR1cy1pbWctY29udGFpbmVyIj4gPGltZyBjbGFzcz0ic3RhdHVzLWltZyIgZGF0YS1iaW5kaW5nPSJ7c3JjOiBpbWFnZVVyaX17QHZpc2libGU6IGltYWdlVXJpfSIgYWx0PSIgIiBhcmlhLWhpZGRlbj0idHJ1ZSIgLz4gPC90ZD4gPHRkIGNsYXNzPSJzdGF0dXMtbXNnLWNvbnRhaW5lciI+IDxzcGFuIGNsYXNzPSJzdGF0dXMtbXNnIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogdGV4dH0iPjwvc3Bhbj4gPC90ZD4gPHRkIGNsYXNzPSJzdGF0dXMtY2xvc2UiPiA8YnV0dG9uIGNsYXNzPSJzdGF0dXMtYnRuIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tDbG9zZX17dGl0bGU6IGNsb3NlVGl0bGV9Ij4gPHNwYW4+Jm5ic3A7PC9zcGFuPiA8L2J1dHRvbj4gPC90ZD4gPC90cj4gPC90YWJsZT4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Temp/TempView.html","html","PGRpdiBjbGFzcz0iVGVtcENsYXNzIj4gPGgxPlRoaXMgaXMgVGVtcCBWaWV3PC9oMT4gPC9kaXY+IA==");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/LargeToolbarView.html","html","PGRpdiBjbGFzcz0idG9vbGJhci1jb250YWluZXIgdW5zZWxlY3RhYmxlIj4gPGRpdiBjbGFzcz0idG9vbGJhci10YWItY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdG9vbGJhclRhYnN9Ij4gPHVsIGNsYXNzPSJ0b29sYmFyLXRhYi1jb250cm9sIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiB0b29sYmFyVGFic30iPiA8bGkgY2xhc3M9InRvb2xiYXItdGFiIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiB0b29sYmFyVGFic317QGNsYXNzLXRiLXRhYi1hY3RpdmU6IGlzQWN0aXZlfXtAaGlkZGVuOiBkaXNhYmxlZH0iPiA8YnV0dG9uIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB0aXRsZX17dGl0bGU6IHRvb2x0aXB9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUYWJDbGlja30iPjwvYnV0dG9uPiA8L2xpPiA8L3VsPiA8L2Rpdj4gPGRpdiBjbGFzcz0idG9vbGJhci1ib2R5IGxhcmdlIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiB0b29sYmFyR3JvdXBzfXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9Ub29sYmFyL1RlbXBsYXRlcy9UYWJiZWRUb29sYmFyR3JvdXBUZW1wbGF0ZS5odG1sfSI+PC9kaXY+IDxkaXYgY2xhc3M9Im11bHRpLXRvb2wtZHJvcGRvd24iIGRhdGEtcmVnaW9uLW5hbWU9IlRvb2xiYXJGbHlvdXREcm9wZG93biIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGFjdGl2ZUZseW91dH17QHZhcjogZmx5b3V0UmVnaW9ufSI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/LargeTransientToolbarView.html","html","PGRpdiBjbGFzcz0ibGFyZ2UtdHJhbnNpZW50LXRvb2xiYXIiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiB0b29sYmFyR3JvdXBzfXtAc291cmNlOiB0b29sYmFyR3JvdXBzfXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9Ub29sYmFyL1RlbXBsYXRlcy9Ub29sYmFyR3JvdXBUZW1wbGF0ZS5odG1sfSI+IDxhIGNsYXNzPSJ0b29sYmFyLWNsb3NlLWJ1dHRvbiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogY2xvc2VUb29sYmFyfSI+PC9hPiANCjwvZGl2PiA8ZGl2ICBjbGFzcz0ibGFyZ2UtdHJhbnNpZW50LXRvb2xiYXIiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHRvb2xiYXJHcm91cHN9e0B0ZXh0OiBAbGFuZ3VhZ2UtdG9vbGJhci1ub3QtYXZhaWxhYmxlfSI+IDxpbWcgY2xhc3M9InRvb2xiYXItY2xvc2UtYnV0dG9uIiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvcGFuZWwtY2xvc2UucG5nIiBkYXRhLWJpbmRpbmc9InthbHQ6IEBsYW5ndWFnZS1jb21tb24tY2xvc2V9e0BldmVudC1vbmNsaWNrOiBjbG9zZVRvb2xiYXJ9IiAvPiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/SmallToolbarView.html","html","PGRpdiBjbGFzcz0idG9vbGJhci1ib2R5IHNtYWxsIHVuc2VsZWN0YWJsZSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHRvb2xiYXJHcm91cHN9e0Bzb3VyY2U6IHRvb2xiYXJHcm91cHN9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL1Rvb2xiYXIvVGVtcGxhdGVzL1Rvb2xiYXJHcm91cFRlbXBsYXRlLmh0bWx9Ij48L2Rpdj4g");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/SmallTransientToolbarView.html","html","PGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdG9vbGJhckdyb3Vwc317QHNvdXJjZTogdG9vbGJhckdyb3Vwc317QHRlbXBsYXRlOiBNYXBwaW5nL21vZHVsZXMvVG9vbGJhci9UZW1wbGF0ZXMvVG9vbGJhckdyb3VwVGVtcGxhdGUuaHRtbH0iPjwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHRvb2xiYXJHcm91cHN9e0B0ZXh0OiBAbGFuZ3VhZ2UtdG9vbGJhci1ub3QtYXZhaWxhYmxlfSI+PC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/ToolbarButtonView.html","html","PGJ1dHRvbiBjbGFzcz0idG9vbGJhci10b2dnbGUtYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdG9vbGJhckdyb3Vwc317QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrVG9nZ2xlVG9vbGJhcn17dGl0bGU6IEBsYW5ndWFnZS10b29sYmFyLW9wZW4tdG9vbGJhcn0iIHRhYmluZGV4PSIwIj48L2J1dHRvbj4g");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/ToolbarManagedViewsView.html","html","PHRhYmxlIGNsYXNzPSJ0YWItY29udGFpbmVyIj4gPHRyIGNsYXNzPSJ0YWItY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBob3N0ZWRWaWV3c30iPiA8dGQgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogaG9zdGVkVmlld3N9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVWaWV3VGlsZUNsaWNrfXtjbGFzc05hbWU6IGlkfXtAdmFyOiB0aWxlRWxlbWVudHN9Ij4gPGltZyBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX17c3JjOiBpY29uVXJpfXthbHQ6IGRlc2NyaXB0aW9ufSIvPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpY29uVXJpfXtAdGV4dDogdGl0bGV9Ij48L3NwYW4+IDwvdGQ+IDwvdHI+IDwvdGFibGU+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/ToolbarView.html","html","DQo8ZGl2IGNsYXNzPSJyZWdpb24gdG9vbGJhci10YWItY29udGVudC1yZWdpb24iIGRhdGEtcmVnaW9uLW5hbWU9IlRvb2xiYXJUYWJDb250ZW50UmVnaW9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtbW91c2Vkb3duOiBoYW5kbGVNb3VzZURvd259IHtAZXZlbnQtbW91c2V1cDogaGFuZGxlTW91c2VVcH0ge0BldmVudC10b3VjaHN0YXJ0OiBoYW5kbGVUb3VjaFN0YXJ0fSB7QGV2ZW50LXRvdWNoZW5kOiBoYW5kbGVUb3VjaEVuZH0ge0BldmVudC1tb3VzZW91dDogaGFuZGxlTW91c2VPdXR9IHtAZXZlbnQtdG91Y2hjYW5jZWw6IGhhbmRsZVRvdWNoQ2FuY2VsfSB7QGV2ZW50LXRvdWNobW92ZTogaGFuZGxlVG91Y2hNb3ZlfSIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/CompactToolbar/CompactToolbarView.html","html","IDxkaXYgY2xhc3M9ImZseW91dC1tZW51IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNFbmFibGVkfSI+ICA8YnV0dG9uIGNsYXNzPSJmbHlvdXQtbWVudS1hY3RpdmUtdG9vbCIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVRvb2xiYXJCdXR0b25DbGlja2VkfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhY3RpdmVUb29sfSI+IDxpbWcgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGFjdGl2ZVRvb2xJY29ufXtzcmM6IGFjdGl2ZVRvb2xJY29ufSIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvaWNvbi1ibGFuay0yNC5wbmciIGFsdD0iIi8+IDxzcGFuIGNsYXNzPSJ0b29sLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogYWN0aXZlVG9vbE5hbWV9Ij48L3NwYW4+IDwvc3Bhbj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogYWN0aXZlVG9vbH0iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL3Rvb2xzLTI0LnBuZyIgYWx0PSIiIC8+IDxzcGFuIGNsYXNzPSJ0b29sLWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNvbXBhY3QtdG9vbGJhci1idXR0b24tZGVzY3JpcHRpb259Ij48L3NwYW4+IDwvc3Bhbj4gPC9idXR0b24+IDxkaXYgY2xhc3M9ImZseW91dC1tZW51LWNvbGxhcHNpYmxlLWFyZWEgZmx5b3V0LW1lbnUtdG9vbHMiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0V4cGFuZGVkfXtAdmFyOiBjb2xsYXBzaWJsZUFyZWFFbGVtZW50fSI+ICA8ZGl2IGRhdGEtYmluZGluZz0ie0BoaWRkZW46IHRyYW5zaWVudEFjdGl2ZX0iPiA8YnV0dG9uIGNsYXNzPSJmbHlvdXQtbWVudS1zY3JvbGwgc2Nyb2xsLWJhY2siIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVTY3JvbGxCYWNrfXtAdmlzaWJsZTogYmFja0Fycm93VmlzaWJsZX17QHZhcjogYmFja0Fycm93RWxlbWVudH0iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9jaGV2cm9uLWxlZnQtMTYucG5nIiBkYXRhLWJpbmRpbmc9InthbHQ6IEBsYW5ndWFnZS1jb21wYWN0LXRvb2xiYXItbW9yZS10b29sc30iPiA8L2J1dHRvbj4gPGRpdiBjbGFzcz0iZmx5b3V0LW1lbnUtZXhwYW5kZWQiIGRhdGEtYmluZGluZz0ie0B2YXI6IGV4cGFuZGVkRWxlbWVudH0iPiA8ZGl2IGNsYXNzPSJmbHlvdXQtbWVudS1mbG9hdGluZy1hcmVhIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiB0b29sYmFyR3JvdXB9e0BldmVudC1vbnNjcm9sbDogdG9nZ2xlU2Nyb2xsQXJyb3dzfXtAdmFyOiBmbG9hdGluZ0FyZWFFbGVtZW50fXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9Ub29sYmFyL1RlbXBsYXRlcy9Ub29sYmFyR3JvdXBUZW1wbGF0ZS5odG1sfSI+PC9kaXY+IDwvZGl2PiA8YnV0dG9uIGNsYXNzPSJmbHlvdXQtbWVudS1zY3JvbGwgc2Nyb2xsLWZvcndhcmQiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVTY3JvbGxGb3J3YXJkfXtAdmlzaWJsZTogZm9yd2FyZEFycm93VmlzaWJsZX17QHZhcjogZm9yd2FyZEFycm93RWxlbWVudH0iPiA8aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9jaGV2cm9uLXJpZ2h0LTE2LnBuZyIgZGF0YS1iaW5kaW5nPSJ7YWx0OiBAbGFuZ3VhZ2UtY29tcGFjdC10b29sYmFyLW1vcmUtdG9vbHN9Ij4gPC9idXR0b24+IDwvZGl2PiAgPGRpdiBjbGFzcz0iZmx5b3V0LW1lbnUtdHJhbnNpZW50IiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciIgZGF0YS1yZWdpb24tbmFtZT0iQ29tcGFjdFRvb2xiYXJUcmFuc2llbnRSZWdpb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiB0cmFuc2llbnRBY3RpdmV9e0B2YXI6IHRyYW5zaWVudEVsZW1lbnR9Ij48L2Rpdj4gIDxkaXYgY2xhc3M9Im11bHRpLXRvb2wtZHJvcGRvd24iIGRhdGEtcmVnaW9uLW5hbWU9IkNvbXBhY3RUb29sYmFyRmx5b3V0RHJvcGRvd24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhY3RpdmVGbHlvdXR9e0BjbGFzcy1tdWx0aS10b29sLWRyb3Bkb3duLWxlZnQ6IG11bHRpdG9vbEZsb2F0TGVmdH17QGNsYXNzLW11bHRpLXRvb2wtZHJvcGRvd24tcmlnaHQ6IG11bHRpdG9vbEZsb2F0UmlnaHR9Ij48L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/Templates/TabbedToolbarGroupTemplate.html","html","PGRpdiBjbGFzcz0idG9vbGJhci1ncm91cCIgZGF0YS1iaW5kaW5nPSJ7QGNsYXNzLWhpZGRlbjogZGlzYWJsZWR9e0B2aXNpYmxlOiBpc0FjdGl2ZX0iPiA8dWwgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogaXRlbXN9e0B0ZW1wbGF0ZS1zZWxlY3RvcjogdHlwZX17QGNsYXNzLXRvb2xiYXItc21hbGwtbGF5b3V0OiBoYXNTbWFsbExheW91dH0iPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogdG9vbH0iPiA8YnV0dG9uIGNsYXNzPSJ0b29sYmFyLWl0ZW0gdG9vbCIgZGF0YS1iaW5kaW5nPSJ7QGRpc2FibGVkOiBkaXNhYmxlZH17QGNsYXNzLWhpZGRlbjogaGlkZGVufXtAY2xhc3MtaGlnaGxpZ2h0OiBpc0FjdGl2ZX17QGNsYXNzLXRyYW5zaWVudC1hY3RpdmU6IGFjdGl2ZVRyYW5zaWVudH17dGl0bGU6IHRvb2x0aXB9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUb29sYmFySXRlbUNsaWNrfSI+IDxpbWcgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb25Vcml9e3NyYzogaWNvblVyaX0iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ljb24tYmxhbmstMjQucG5nIiBhbHQ9IiIgLz4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3A+IDwvYnV0dG9uPiA8L2xpPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogYnV0dG9ufSI+IDxidXR0b24gY2xhc3M9InRvb2xiYXItaXRlbSB0b29sIiBkYXRhLWJpbmRpbmc9IntAZGlzYWJsZWQ6IGRpc2FibGVkfXtAY2xhc3MtaGlkZGVuOiBoaWRkZW59e3RpdGxlOiB0b29sdGlwfXtAZXZlbnQtb25jbGljazogaGFuZGxlVG9vbGJhckl0ZW1DbGlja30iPiA8aW1nIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfXtzcmM6IGljb25Vcml9IiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvVG9vbGJhci9pY29uLWJsYW5rLTI0LnBuZyIgYWx0PSIiIC8+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfSI+PC9wPiA8L2J1dHRvbj4gPC9saT4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IHRvZ2dsZUJ1dHRvbn0iPiA8YnV0dG9uIGNsYXNzPSJ0b29sYmFyLWl0ZW0gdG9nZ2xlLWJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGRpc2FibGVkOiBkaXNhYmxlZH17QGNsYXNzLWhpZGRlbjogaGlkZGVufXtAY2xhc3MtdG9nZ2xlZC1vbjogaXNUb2dnbGVkT259e0Bub2NsYXNzLXRvZ2dsZWQtb2ZmOiBpc1RvZ2dsZWRPbn17QGNsYXNzLXRyYW5zaWVudC1hY3RpdmU6IGFjdGl2ZVRyYW5zaWVudH17dGl0bGU6IHRvb2x0aXB9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUb29sYmFySXRlbUNsaWNrfXthcmlhLWxhYmVsOiBuYW1lfSI+IDxpbWcgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb25Vcml9e3NyYzogaWNvblVyaX0iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ljb24tYmxhbmstMjQucG5nIiBhbHQ9IiIgLz4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3A+IDwvYnV0dG9uPiA8L2xpPiA8bGkgY2xhc3M9InRvb2xiYXItcmVnaW9uIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiByZWdpb259Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiByZWdpb259e0B3aWRnZXQ6IFJlZ2lvbldpZGdldH17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH0iPjwvZGl2PiA8L2xpPiA8bGkgY2xhc3M9Im5lc3RlZC1ncm91cCIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogdG9vbGJhckdyb3VwfXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9Ub29sYmFyL1RlbXBsYXRlcy9UYWJiZWRUb29sYmFyR3JvdXBUZW1wbGF0ZS5odG1sfSI+PC9saT4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IGZseW91dH17QGNsYXNzLWhpZGRlbjogZGlzYWJsZWR9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL1Rvb2xiYXIvVGVtcGxhdGVzL1Rvb2xiYXJGbHlvdXRCdXR0b25UZW1wbGF0ZS5odG1sfSI+PC9saT4gPC91bD4gPGg0IGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfXtAdmlzaWJsZTogbmFtZX0iPjwvaDQ+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/Templates/ToolbarFlyoutButtonTemplate.html","html","PGRpdiBjbGFzcz0ibXVsdGktdG9vbC1pdGVtLWNvbnRhaW5lciI+IDxkaXYgY2xhc3M9Im11bHRpLXRvb2wtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogc2VsZWN0ZWRUb29sfXtAdGVtcGxhdGUtc2VsZWN0b3I6IHR5cGV9e0B0ZW1wbGF0ZS1mb3I6IHNlbGVjdGVkVG9vbH0iPiA8YnV0dG9uIGNsYXNzPSJ0b29sYmFyLWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IGJ1dHRvbn17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVRvb2xiYXJJdGVtQ2xpY2t9e3RpdGxlOiB0b29sdGlwfXthcmlhLWxhYmVsOiBuYW1lfSI+IDxpbWcgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb25Vcml9e3NyYzogaWNvblVyaX0iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ljb24tYmxhbmstMjQucG5nIiBhbHQ9IiIgLz4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3A+IDwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJ0b29sYmFyLWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IHRvZ2dsZUJ1dHRvbn17QGRpc2FibGVkOiBkaXNhYmxlZH17QGNsYXNzLWhpZGRlbjogaGlkZGVufXtAY2xhc3MtdG9nZ2xlZC1vbjogaXNUb2dnbGVkT259e0Bub2NsYXNzLXRvZ2dsZWQtb2ZmOiBpc1RvZ2dsZWRPbn17QGNsYXNzLXRyYW5zaWVudC1hY3RpdmU6IGFjdGl2ZVRyYW5zaWVudH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVRvb2xiYXJJdGVtQ2xpY2t9e3RpdGxlOiB0b29sdGlwfXthcmlhLWxhYmVsOiBuYW1lfSI+IDxpbWcgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb25Vcml9e3NyYzogaWNvblVyaX0iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ljb24tYmxhbmstMjQucG5nIiBhbHQ9IiIgLz4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3A+IDwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJ0b29sYmFyLWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IHRvb2x9e0BkaXNhYmxlZDogZGlzYWJsZWR9e0BjbGFzcy1oaWdobGlnaHQ6IGlzQWN0aXZlfXtAY2xhc3MtdHJhbnNpZW50LWFjdGl2ZTogYWN0aXZlVHJhbnNpZW50fXtAZXZlbnQtb25jbGljazogaGFuZGxlVG9vbGJhckl0ZW1DbGlja317dGl0bGU6IHRvb2x0aXB9e2FyaWEtbGFiZWw6IG5hbWV9Ij4gPGltZyBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX17c3JjOiBpY29uVXJpfSIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvaWNvbi1ibGFuay0yNC5wbmciIGFsdD0iIiAvPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvcD4gPC9idXR0b24+IDwvZGl2PiA8ZGl2IGNsYXNzPSJtdWx0aS10b29sLWl0ZW0gbXVsdGktdG9vbC1jaG9vc2VyIj4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlT3BlblRvb2xGbHlvdXR9e0BhdHRhY2g6IHNlbGVjdGVkVG9vbH17dGl0bGU6IGZseW91dEJ1dHRvbkRlc2NyaXB0aW9ufXthcmlhLWxhYmVsOiBmbHlvdXRCdXR0b25EZXNjcmlwdGlvbn0iPjxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL2Fycm93LWRvd24tc21hbGwtMjQucG5nIiBhbHQ9IiIgLz48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/Templates/ToolbarFlyoutDropdownTemplate.html","html","PGRpdiBjbGFzcz0ibXVsdGktdG9vbC1jb250YWluZXIiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGFjdGl2ZUZseW91dH0iPiA8dWwgY2xhc3M9Im11bHRpLXRvb2wtbGlzdCIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYWN0aXZlRmx5b3V0fXtAc291cmNlOiBpdGVtc317QHRlbXBsYXRlLXNlbGVjdG9yOiB0eXBlfSI+IDxsaSBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBidXR0b259Ij4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIHRvb2wiIGRhdGEtYmluZGluZz0ie0BkaXNhYmxlZDogZGlzYWJsZWR9e0BjbGFzcy1oaWRkZW46IGhpZGRlbn17QGV2ZW50LW9uY2xpY2s6IGNoYW5nZVRvb2xGbHlvdXR9e3RpdGxlOiB0b29sdGlwfSI+IDxpbWcgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb25Vcml9e3NyYzogaWNvblVyaX0iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ljb24tYmxhbmstMjQucG5nIiBhbHQ9IiIgLz4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3A+IDwvYnV0dG9uPiA8L2xpPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogdG9nZ2xlQnV0dG9ufSI+IDxidXR0b24gY2xhc3M9InRvb2xiYXItaXRlbSB0b29sIiBkYXRhLWJpbmRpbmc9IntAZGlzYWJsZWQ6IGRpc2FibGVkfXtAY2xhc3MtaGlkZGVuOiBoaWRkZW59e0BjbGFzcy10b2dnbGVkLW9uOiBpc1RvZ2dsZWRPbn17QG5vY2xhc3MtdG9nZ2xlZC1vZmY6IGlzVG9nZ2xlZE9ufXtAZXZlbnQtb25jbGljazogY2hhbmdlVG9vbEZseW91dH17dGl0bGU6IHRvb2x0aXB9e2FyaWEtbGFiZWw6IG5hbWV9Ij4gPGltZyBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX17c3JjOiBpY29uVXJpfSIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvaWNvbi1ibGFuay0yNC5wbmciIGFsdD0iIiAvPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDxsaSBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiB0b29sfSI+IDxidXR0b24gY2xhc3M9InRvb2xiYXItaXRlbSB0b29sIiBkYXRhLWJpbmRpbmc9IntAZGlzYWJsZWQ6IGRpc2FibGVkfXtAY2xhc3MtaGlkZGVuOiBoaWRkZW59e0BjbGFzcy1oaWdobGlnaHQ6IGlzQWN0aXZlfXtAZXZlbnQtb25jbGljazogY2hhbmdlVG9vbEZseW91dH17dGl0bGU6IHRvb2x0aXB9Ij4gPGltZyBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX17c3JjOiBpY29uVXJpfSIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvaWNvbi1ibGFuay0yNC5wbmciIGFsdD0iIiAvPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDwvdWw+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/Templates/ToolbarGroupTemplate.html","html","PGRpdiBjbGFzcz0idG9vbGJhci1pdGVtIHRvb2xiYXItZ3JvdXAiPiA8aDIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L2gyPiA8dWwgY2xhc3M9InRvb2xiYXItcGFyZW50IiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBpdGVtc317QHRlbXBsYXRlLXNlbGVjdG9yOiB0eXBlfXtAY2xhc3MtdG9vbGJhci1zbWFsbC1sYXlvdXQ6IGhhc1NtYWxsTGF5b3V0fXtAdmFyOiB0b29sYmFyUGFyZW50RWxlbWVudH0iPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogdG9vbH0iPiA8YnV0dG9uIGNsYXNzPSJ0b29sYmFyLWl0ZW0gdG9vbCIgZGF0YS1iaW5kaW5nPSJ7QGRpc2FibGVkOiBkaXNhYmxlZH17QGNsYXNzLWhpZ2hsaWdodDogaXNBY3RpdmV9e0BjbGFzcy10cmFuc2llbnQtYWN0aXZlOiBhY3RpdmVUcmFuc2llbnR9e0BjbGFzcy1oaWRkZW46IGhpZGRlbn17dGl0bGU6IHRvb2x0aXB9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUb29sYmFySXRlbUNsaWNrfSI+IDxpbWcgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb25Vcml9e3NyYzogaWNvblVyaX0iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9Ub29sYmFyL2ljb24tYmxhbmstMjQucG5nIiBhbHQ9IiIgLz4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3A+IDwvYnV0dG9uPiA8L2xpPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogYnV0dG9ufSI+IDxidXR0b24gY2xhc3M9InRvb2xiYXItaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGRpc2FibGVkOiBkaXNhYmxlZH17QGNsYXNzLWhpZGRlbjogaGlkZGVufXt0aXRsZTogdG9vbHRpcH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVRvb2xiYXJJdGVtQ2xpY2t9Ij4gPGltZyBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX17c3JjOiBpY29uVXJpfSIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvaWNvbi1ibGFuay0yNC5wbmciIGFsdD0iIiAvPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDxsaSBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiB0b2dnbGVCdXR0b259Ij4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIHRvZ2dsZS1idXR0b24iIGRhdGEtYmluZGluZz0ie0BkaXNhYmxlZDogZGlzYWJsZWR9e0BjbGFzcy1oaWRkZW46IGhpZGRlbn17QGNsYXNzLXRvZ2dsZWQtb246IGlzVG9nZ2xlZE9ufXtAY2xhc3MtdHJhbnNpZW50LWFjdGl2ZTogYWN0aXZlVHJhbnNpZW50fXt0aXRsZTogdG9vbHRpcH17QG5vY2xhc3MtdG9nZ2xlZC1vZmY6IGlzVG9nZ2xlZE9ufXtAZXZlbnQtb25jbGljazogaGFuZGxlVG9vbGJhckl0ZW1DbGlja317YXJpYS1sYWJlbDogbmFtZX0iPiA8aW1nIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfXtzcmM6IGljb25Vcml9IiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvVG9vbGJhci9pY29uLWJsYW5rLTI0LnBuZyIgYWx0PSIiIC8+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfSI+PC9wPiA8L2J1dHRvbj4gPC9saT4gPGxpIGNsYXNzPSJ0b29sYmFyLXJlZ2lvbiIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogcmVnaW9ufXt0aXRsZTogdG9vbHRpcH0iPiA8YnV0dG9uIGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IFJlZ2lvbldpZGdldH17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH0iPjwvYnV0dG9uPiA8L2xpPiA8bGkgY2xhc3M9InRvb2xiYXItaXRlbSB0b29sYmFyLWdyb3VwIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiB0b29sYmFyR3JvdXB9e0BjbGFzcy1oaWRkZW46IGRpc2FibGVkfXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9Ub29sYmFyL1RlbXBsYXRlcy9Ub29sYmFySXRlbXNUZW1wbGF0ZS5odG1sfSI+PC9saT4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IGZseW91dH17QGNsYXNzLWhpZGRlbjogZGlzYWJsZWR9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL1Rvb2xiYXIvVGVtcGxhdGVzL1Rvb2xiYXJGbHlvdXRCdXR0b25UZW1wbGF0ZS5odG1sfSI+PC9saT4gPC91bD4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/Templates/ToolbarItemsTemplate.html","html","PGgzIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfSI+PC9oMz4gIDx1bCBjbGFzcz0idG9vbGJhci1uZXN0ZWQiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGl0ZW1zfXtAdGVtcGxhdGUtc2VsZWN0b3I6IHR5cGV9Ij4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IHRvb2x9Ij4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIHRvb2wiIGRhdGEtYmluZGluZz0ie0BkaXNhYmxlZDogZGlzYWJsZWR9e0BjbGFzcy1oaWRkZW46IGhpZGRlbn17QGNsYXNzLWhpZ2hsaWdodDogaXNBY3RpdmV9e0BjbGFzcy10cmFuc2llbnQtYWN0aXZlOiBhY3RpdmVUcmFuc2llbnR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUb29sYmFySXRlbUNsaWNrfXt0aXRsZTogdG9vbHRpcH0iPiA8aW1nIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfXtzcmM6IGljb25Vcml9IiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvVG9vbGJhci9pY29uLWJsYW5rLTI0LnBuZyIgYWx0PSIiIC8+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfSI+PC9wPiA8L2J1dHRvbj4gPC9saT4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IGJ1dHRvbn0iPiA8YnV0dG9uIGNsYXNzPSJ0b29sYmFyLWl0ZW0gdG9vbCIgZGF0YS1iaW5kaW5nPSJ7QGRpc2FibGVkOiBkaXNhYmxlZH17QGNsYXNzLWhpZGRlbjogaGlkZGVufXtAZXZlbnQtb25jbGljazogaGFuZGxlVG9vbGJhckl0ZW1DbGlja317dGl0bGU6IHRvb2x0aXB9Ij4gPGltZyBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX17c3JjOiBpY29uVXJpfSIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvaWNvbi1ibGFuay0yNC5wbmciIGFsdD0iIiAvPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDxsaSBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiB0b2dnbGVCdXR0b259Ij4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIHRvZ2dsZS1idXR0b24iIGRhdGEtYmluZGluZz0ie0BkaXNhYmxlZDogZGlzYWJsZWR9e0BjbGFzcy1oaWRkZW46IGhpZGRlbn17QGNsYXNzLXRvZ2dsZWQtb246IGlzVG9nZ2xlZE9ufXtAY2xhc3MtdHJhbnNpZW50LWFjdGl2ZTogYWN0aXZlVHJhbnNpZW50fXtAbm9jbGFzcy10b2dnbGVkLW9mZjogaXNUb2dnbGVkT259e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUb29sYmFySXRlbUNsaWNrfXt0aXRsZTogdG9vbHRpcH17YXJpYS1sYWJlbDogbmFtZX0iPiA8aW1nIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfXtzcmM6IGljb25Vcml9IiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvVG9vbGJhci9pY29uLWJsYW5rLTI0LnBuZyIgYWx0PSIiIC8+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfSI+PC9wPiA8L2J1dHRvbj4gPC9saT4gPGxpIGNsYXNzPSJ0b29sYmFyLXJlZ2lvbiIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogcmVnaW9ufXt0aXRsZTogdG9vbHRpcH0iPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IHJlZ2lvbn17QHdpZGdldDogUmVnaW9uV2lkZ2V0fXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fSI+PC9kaXY+IDwvbGk+IDxsaSBjbGFzcz0ibmVzdGVkLWdyb3VwIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiB0b29sYmFyR3JvdXB9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL1Rvb2xiYXIvVGVtcGxhdGVzL1RhYmJlZFRvb2xiYXJHcm91cFRlbXBsYXRlLmh0bWx9Ij48L2xpPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogZmx5b3V0fXtAY2xhc3MtaGlkZGVuOiBkaXNhYmxlZH17QHRlbXBsYXRlOiBNYXBwaW5nL21vZHVsZXMvVG9vbGJhci9UZW1wbGF0ZXMvVG9vbGJhckZseW91dEJ1dHRvblRlbXBsYXRlLmh0bWx9Ij48L2xpPiA8L3VsPiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/Templates/ToolbarRegionTemplate.html","html","PGRpdiBkYXRhLWJpbmRpbmc9IntkYXRhLXJlZ2lvbi1uYW1lOiByZWdpb25OYW1lfSIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA=");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/Templates/TransientItems.html","html","PHVsIGNsYXNzPSJ0cmFuc2llbnQtdG9vbGJhciIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogaXRlbXN9e0B0ZW1wbGF0ZS1zZWxlY3RvcjogdHlwZX17QGNsYXNzLWhhcy1uZWlnaGJvdXItdHJhbnNpZW50OiBoYXNOZWlnaGJvdXJ9Ij4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IHRvb2x9Ij4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIHRvb2wiIGRhdGEtYmluZGluZz0ie0BkaXNhYmxlZDogZGlzYWJsZWR9e0BjbGFzcy1oaWRkZW46IGhpZGRlbn17QGNsYXNzLWhpZ2hsaWdodDogaXNBY3RpdmV9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUb29sYmFySXRlbUNsaWNrfXt0aXRsZTogdG9vbHRpcH0iPiA8aW1nIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfXtzcmM6IGljb25Vcml9IiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvVG9vbGJhci9pY29uLWJsYW5rLTI0LnBuZyIgYWx0PSIiIC8+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfSI+PC9wPiA8L2J1dHRvbj4gPC9saT4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IGJ1dHRvbn0iPiA8YnV0dG9uIGNsYXNzPSJ0b29sYmFyLWl0ZW0gdG9vbCIgZGF0YS1iaW5kaW5nPSJ7QGRpc2FibGVkOiBkaXNhYmxlZH17QGNsYXNzLWhpZGRlbjogaGlkZGVufXtAZXZlbnQtb25jbGljazogaGFuZGxlVG9vbGJhckl0ZW1DbGlja317dGl0bGU6IHRvb2x0aXB9Ij4gPGltZyBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX17c3JjOiBpY29uVXJpfSIgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL1Rvb2xiYXIvaWNvbi1ibGFuay0yNC5wbmciIGFsdD0iIiAvPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvcD4gPC9idXR0b24+IDwvbGk+IDxsaSBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiB0b2dnbGVCdXR0b259Ij4gPGJ1dHRvbiBjbGFzcz0idG9vbGJhci1pdGVtIHRvZ2dsZS1idXR0b24iIGRhdGEtYmluZGluZz0ie0BkaXNhYmxlZDogZGlzYWJsZWR9e0BjbGFzcy1oaWRkZW46IGhpZGRlbn17QGNsYXNzLXRvZ2dsZWQtb246IGlzVG9nZ2xlZE9ufXtAbm9jbGFzcy10b2dnbGVkLW9mZjogaXNUb2dnbGVkT259e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUb29sYmFySXRlbUNsaWNrfXt0aXRsZTogdG9vbHRpcH17YXJpYS1sYWJlbDogbmFtZX0iPiA8aW1nIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpY29uVXJpfXtzcmM6IGljb25Vcml9IiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvVG9vbGJhci9pY29uLWJsYW5rLTI0LnBuZyIgYWx0PSIiIC8+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfSI+PC9wPiA8L2J1dHRvbj4gPC9saT4gPC91bD4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/UploadData/Dialogs/LayerDetailsDialogView.html","html","PGRpdiBjbGFzcz0idXBsb2FkLWRhdGEgbGF5ZXItZGV0YWlscy1kaWFsb2ciPiAgPGZvcm0gYWN0aW9uPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGRhdGEtYmluZGluZz0ie0B2YXI6IGZvcm19Ij4gIDxkaXYgY2xhc3M9ImZvcm0tZmllbGRzIj4gPGxhYmVsIGZvcj0ibGF5ZXItZGV0YWlscy1sYXllci1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxheWVyLWRldGFpbHMtbGF5ZXItbmFtZX0iPjwvbGFiZWw+IDxpbnB1dCBpZD0ibGF5ZXItZGV0YWlscy1sYXllci1uYW1lIiBuYW1lPSJsYXllci1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBsYXllck5hbWV9e3ZhbHVlOiBAbGFuZ3VhZ2UtbGF5ZXItZGV0YWlscy1sYXllci1uYW1lLWRlZmF1bHR9IiAvPiA8L2Rpdj4gIDxkaXYgY2xhc3M9InB1Ymxpc2gtY2hlY2tib3gtY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogcHVibGlzaElzQXZhaWxhYmxlfSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QGRpc2FibGVkOiBwdWJsaXNoRGlzYWJsZWRNZXNzYWdlfSI+IDxpbnB1dCBpZD0ibGF5ZXItZGV0YWlscy1wdWJsaXNoIiB0eXBlPSJjaGVja2JveCIgbmFtZT0icHVibGlzaCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogcHVibGlzaH17QGRpc2FibGVkOiBwdWJsaXNoRGlzYWJsZWRNZXNzYWdlfSIgLz4gPGxhYmVsIGZvcj0ibGF5ZXItZGV0YWlscy1wdWJsaXNoIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWxheWVyLWRldGFpbHMtcHVibGlzaH0iPjwvbGFiZWw+IDwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBwdWJsaXNoRGlzYWJsZWRNZXNzYWdlfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBwdWJsaXNoRGlzYWJsZWRNZXNzYWdlfSI+PC9zcGFuPiA8L2Rpdj4gPC9kaXY+IDwvZm9ybT4gIDxvbCBjbGFzcz0idmFsaWRhdGlvbi1wcm9ibGVtcyIgZGF0YS1iaW5kaW5nPSINCiAgICAgIHtAc291cmNlOiB2YWxpZGF0aW9uUHJvYmxlbXN9DQogICAgICB7QHZpc2libGU6IHZhbGlkYXRpb25Qcm9ibGVtc30iPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogdmFsaWRhdGlvblByb2JsZW1zfSI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB0aXRsZX0iPjwvcD4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG1lc3NhZ2V9Ij48L3A+IDwvbGk+IDwvb2w+ICA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbGF5ZXItZGV0YWlscy1kaWFsb2ctYnV0dG9uLXByb2NlZWR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVQcm9jZWVkfSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1sYXllci1kZXRhaWxzLWRpYWxvZy1idXR0b24tY2FuY2VsfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2FuY2VsfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/UploadData/Dialogs/SymbolDialogView.html","html","PGRpdiBjbGFzcz0idXBsb2FkLWRhdGEgc3ltYm9sLWRpYWxvZyI+ICA8ZGl2IGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IFN5bWJvbG9neVNldHRpbmdzfXtAd2lkZ2V0LXJlcGxhY2U6IHRydWV9Ij48L2Rpdj4gIDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1zeW1ib2wtZGlhbG9nLWJ1dHRvbi1wcm9jZWVkfXtAZXZlbnQtb25jbGljazogaGFuZGxlUHJvY2VlZH0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/UploadData/Dialogs/TableMappingDialogView.html","html","IDxkaXYgY2xhc3M9InVwbG9hZC1kYXRhIHRhYmxlLW1hcHBpbmctZGlhbG9nIj4gIDxmb3JtIGNsYXNzPSJ0YWJsZS1tYXBwaW5nLWZvcm0iIG5hbWU9InRhYmxlLW1hcHBpbmciIGFjdGlvbj0iamF2YXNjcmlwdDp2b2lkKDApIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBmb3JtfXtAZXZlbnQtb25jaGFuZ2U6IHZhbGlkYXRlfSI+ICA8ZmllbGRzZXQgY2xhc3M9InRhYmxlLW1hcHBpbmctbG9jYXRpb24tdHlwZS1ib3giIGRhdGEtYmluZGluZz0ie0B2YXI6IGxvY2F0aW9uVHlwZX17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVDaGFuZ2VMb2NhdGlvblR5cGV9Ij4gPGxhYmVsPiA8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9InRhYmxlLW1hcHBpbmctbG9jYXRpb24tdHlwZSIgdmFsdWU9ImNvb3JkaW5hdGVzIiBjaGVja2VkIC8+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdGFibGUtbWFwcGluZy1sb2NhdGlvbi10eXBlLWNvb3JkaW5hdGVzfSI+PC9zcGFuPiA8L2xhYmVsPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGhhc0NvbmZpZ3VyZWRHZW9jb2Rlcn0iPiA8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9InRhYmxlLW1hcHBpbmctbG9jYXRpb24tdHlwZSIgdmFsdWU9ImFkZHJlc3MiIC8+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdGFibGUtbWFwcGluZy1sb2NhdGlvbi10eXBlLWFkZHJlc3N9Ij48L3NwYW4+IDwvbGFiZWw+IDwvZmllbGRzZXQ+ICA8b2wgY2xhc3M9InRhYmxlLW1hcHBpbmcgY29vcmRpbmF0ZXMiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBsb2NhdGlvblR5cGVJc0Nvb3JkaW5hdGVzfSI+IDxsaT4gPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS10YWJsZS1tYXBwaW5nLXgtYXhpc30iPjwvc3Bhbj4gPHNlbGVjdCBuYW1lPSJ4LWF4aXMiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHRhYmxlSGVhZGluZ3N9e0B2YXI6IHhBeGlzfSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogdGFibGVIZWFkaW5nc317QHRleHQ6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8L2xhYmVsPiA8L2xpPiA8bGk+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdGFibGUtbWFwcGluZy15LWF4aXN9Ij48L3NwYW4+IDxzZWxlY3QgbmFtZT0ieS1heGlzIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiB0YWJsZUhlYWRpbmdzfXtAdmFyOiB5QXhpc30iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHRhYmxlSGVhZGluZ3N9e0B0ZXh0OiBAY29udGV4dH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPC9sYWJlbD4gPC9saT4gPGxpIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiB6QXhpc0VuYWJsZWR9Ij4gPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS10YWJsZS1tYXBwaW5nLXotYXhpc30iPjwvc3Bhbj4gPHNlbGVjdCBuYW1lPSJ6LWF4aXMiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHRhYmxlSGVhZGluZ3N9e0B2YXI6IHpBeGlzfSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogdGFibGVIZWFkaW5nc317QHRleHQ6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8L2xhYmVsPiA8L2xpPiA8bGk+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdGFibGUtbWFwcGluZy1zb3VyY2Utc3BhdGlhbC1yZWZlcmVuY2V9Ij48L3NwYW4+IDxzZWxlY3QgbmFtZT0ic291cmNlLXNwYXRpYWwtcmVmZXJlbmNlIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBzb3VyY2VTcGF0aWFsUmVmZXJlbmNlc317QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVDaGFuZ2VTb3VyY2VTcGF0aWFsUmVmZXJlbmNlfXtAdmFyOiBzb3VyY2VTcGF0aWFsUmVmZXJlbmNlfSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogc291cmNlU3BhdGlhbFJlZmVyZW5jZXN9e0B0ZXh0OiBsYWJlbH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPC9sYWJlbD4gPC9saT4gPGxpIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzb3VyY2VTcGF0aWFsUmVmZXJlbmNlc1VzZUN1c3RvbX0iPiA8bGFiZWwgZm9yPSJ0YWJsZS1tYXBwaW5nLXNvdXJjZS1zcGF0aWFsLXJlZmVyZW5jZS1jdXN0b20iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdGFibGUtbWFwcGluZy1zb3VyY2Utc3BhdGlhbC1yZWZlcmVuY2UtY3VzdG9tfSI+PC9sYWJlbD4gPGlucHV0IHR5cGU9InRleHQiIGlkPSJ0YWJsZS1tYXBwaW5nLXNvdXJjZS1zcGF0aWFsLXJlZmVyZW5jZS1jdXN0b20iIG5hbWU9InNvdXJjZS1zcGF0aWFsLXJlZmVyZW5jZS1jdXN0b20iIGRhdGEtYmluZGluZz0ie0B2YXI6IHNvdXJjZVNwYXRpYWxSZWZlcmVuY2VDdXN0b219IiAvPiA8L2xpPiA8L29sPiAgPG9sIGNsYXNzPSJ0YWJsZS1tYXBwaW5nIGFkZHJlc3MiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBsb2NhdGlvblR5cGVJc0FkZHJlc3N9e0Bzb3VyY2U6IGFkZHJlc3NGaWVsZFNlbGVjdG9yc30iPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYWRkcmVzc0ZpZWxkU2VsZWN0b3JzfSI+IDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGxhYmVsfSI+PC9sYWJlbD4gPHNlbGVjdCBjbGFzcz0iYWRkcmVzcy1zZWxlY3QiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHRhYmxlSGVhZGluZ09wdGlvbnN9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiB0YWJsZUhlYWRpbmdPcHRpb25zfXtAdGV4dDogQGNvbnRleHR9Ij48L29wdGlvbj4gPC9zZWxlY3Q+IDwvbGk+IDwvb2w+ICA8bGFiZWwgY2xhc3M9InRhYmxlLW1hcHBpbmctaXMtZmlyc3Qtcm93LWhlYWRlci1ib3giPiA8aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9ImlzLWZpcnN0LXJvdy1oZWFkZXIiIGRhdGEtYmluZGluZz0ie0B2YXI6IGlzRmlyc3RSb3dIZWFkZXJ9e0BldmVudC1vbmNoYW5nZTogaGFuZGxlQ2hhbmdlVXNlRmlyc3RSb3dBc0hlYWRlcn0iIGNoZWNrZWQgLz4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS10YWJsZS1tYXBwaW5nLWlzLWZpcnN0LXJvdy1oZWFkZXJ9Ij48L3NwYW4+IDwvbGFiZWw+IDwvZm9ybT4gIDxkaXYgY2xhc3M9InRhYmxlLW1hcHBpbmctcHJldmlldy1jb250YWluZXIiPiA8dGFibGUgY2xhc3M9InRhYmxlLW1hcHBpbmctcHJldmlldyI+IDx0Ym9keSBkYXRhLWJpbmRpbmc9IntAc291cmNlOiB0YWJsZVByZXZpZXd9Ij4gPHRyIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHRhYmxlUHJldmlld317QHNvdXJjZTogQGNvbnRleHR9Ij4gPHRkIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IEBjb250ZXh0fXtAdGV4dDogQGNvbnRleHR9Ij48L3RkPiA8L3RyPiA8L3Rib2R5PiA8L3RhYmxlPiA8L2Rpdj4gIDxvbCBjbGFzcz0idmFsaWRhdGlvbi1wcm9ibGVtcyBlcnJvci1tZXNzYWdlIiBkYXRhLWJpbmRpbmc9Ig0KICAgICAgICB7QHNvdXJjZTogdmFsaWRhdGlvblByb2JsZW1zfQ0KICAgICAgICB7QHZpc2libGU6IHZhbGlkYXRpb25Qcm9ibGVtc30iPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogdmFsaWRhdGlvblByb2JsZW1zfSI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB0aXRsZX0iPjwvcD4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG1lc3NhZ2V9Ij48L3A+IDwvbGk+IDwvb2w+ICA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdGFibGUtbWFwcGluZy1kaWFsb2ctcHJvY2VlZH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVByb2NlZWR9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXRhYmxlLW1hcHBpbmctZGlhbG9nLWNhbmNlbH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNhbmNlbH0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/UploadData/Dialogs/TableRecordResultsDialogView.html","html","PGRpdiBjbGFzcz0idXBsb2FkLWRhdGEgdGFibGUtcmVjb3JkLXJlc3VsdHMtZGlhbG9nIj4gIDxkaXYgY2xhc3M9InRhYmxlLXJlY29yZC1yZXN1bHQiPiA8c3BhbiBjbGFzcz0idGFibGUtcmVjb3JkLXJlc3VsdC1kZXRhaWxzIj4gPGltZyBzcmM9IlJlc291cmNlc1xJbWFnZXNcSWNvbnNcVG9vbGJhclxhbGVydC0yNC5wbmciPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogcmVqZWN0ZWRSZWNvcmRzTWVzc2FnZX0iPjwvc3Bhbj4gPC9zcGFuPiA8c3BhbiBjbGFzcz0idGFibGUtcmVjb3JkLXJlc3VsdC1kZXRhaWxzIj4gPGltZyBzcmM9IlJlc291cmNlc1xJbWFnZXNcSWNvbnNcVG9vbGJhclxjaGVjay0yNC5wbmciPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogYWNjZXB0ZWRSZWNvcmRzTWVzc2FnZX0iPjwvc3Bhbj4gPC9zcGFuPiA8cCBjbGFzcz0idGFibGUtcmVjb3JkLXJlc3VsdC1kb3dubG9hZCI+PGEgZG93bmxvYWQgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHJlamVjdGVkUmVjb3Jkc1VybH17aHJlZjogcmVqZWN0ZWRSZWNvcmRzVXJsfXtAdGV4dDogQGxhbmd1YWdlLXRhYmxlLXJlY29yZC1yZXN1bHRzLWRpYWxvZy1yZWplY3RlZC1yZWNvcmRzLWxpbmt9Ij48L2E+PC9wPiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS10YWJsZS1yZWNvcmQtcmVzdWx0cy1kaWFsb2ctYnV0dG9uLXByb2NlZWR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVQcm9jZWVkfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/UploadData/Dialogs/UploadDialogView.html","html","PGRpdiBjbGFzcz0idXBsb2FkLWRhdGEgdXBsb2FkLWRpYWxvZyIgZGF0YS1iaW5kaW5nPSJ7QGNsYXNzLXVwbG9hZGVyLWRpc2FibGVkOiBkaXNhYmxlZH0iPiAgPHAgY2xhc3M9InVwbG9hZC1kaWFsb2ctZGVzY3JpcHRpb24iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdXBsb2FkLWRpYWxvZy1kZXNjcmlwdGlvbn0iPjwvcD4gPHAgY2xhc3M9InVwbG9hZC1kaWFsb2ctc3VwcG9ydGVkLWZpbGVzIj4gPHN0cm9uZyBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXVwbG9hZC1kaWFsb2ctc3VwcG9ydGVkLWZpbGVzLWxhYmVsfSI+PC9zdHJvbmc+IDxlbSBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXVwbG9hZC1kaWFsb2ctc3VwcG9ydGVkLWZpbGVzfSI+PC9lbT4gPC9wPiAgPGRpdiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBVcGxvYWRlcn17QHdpZGdldC1yZXBsYWNlOiB0cnVlfSI+PC9kaXY+ICA8b2wgY2xhc3M9InZhbGlkYXRpb24tcHJvYmxlbXMgZXJyb3ItbWVzc2FnZSIgZGF0YS1iaW5kaW5nPSINCiAgICAgICAge0Bzb3VyY2U6IHZhbGlkYXRpb25Qcm9ibGVtc30NCiAgICAgICAge0B2aXNpYmxlOiB2YWxpZGF0aW9uUHJvYmxlbXN9Ij4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHZhbGlkYXRpb25Qcm9ibGVtc30iPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogdGl0bGV9Ij48L3A+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBtZXNzYWdlfSI+PC9wPiA8L2xpPiA8L29sPiAgPGRpdiBjbGFzcz0iZm9ybS1idG5zIj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlUHJvY2VlZH17QHRleHQ6IEBsYW5ndWFnZS11cGxvYWQtZGlhbG9nLWJ1dHRvbi1wcm9jZWVkfXtkaXNhYmxlZDogZGlzYWJsZWR9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2FuY2VsfXtAdGV4dDogQGxhbmd1YWdlLXVwbG9hZC1kaWFsb2ctYnV0dG9uLWNhbmNlbH17ZGlzYWJsZWQ6IGRpc2FibGVkfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/UploadData/Widgets/SymbologySettings/SymbologySettingsView.html","html","PGRpdiBjbGFzcz0ic3ltYm9sb2d5LXNldHRpbmdzIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBjb250YWluZXJ9e0BldmVudC1vbmNoYW5nZTogaGFuZGxlQ2hhbmdlfXtAZXZlbnQtb25pbnB1dDogaGFuZGxlQ2hhbmdlfSI+ICA8ZGl2IGNsYXNzPSJzeW1ib2xvZ3ktY29sb3JzIj4gIDxkaXY+IDxsYWJlbCBjbGFzcz0ic3ltYm9sb2d5LWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXN5bWJvbG9neS1zZXR0aW5ncy1jb2xvcn0iPjwvbGFiZWw+IDxkaXYgY2xhc3M9ImlubGluZSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogdXNlQ29sb3JTd2F0Y2hlc30iPiA8aW5wdXQgdHlwZT0iY29sb3IiIGRhdGEtYmluZGluZz0ie0B2YXI6IGNvbG9ySW5wdXR9IiAvPiA8L2Rpdj4gPGRpdiBjbGFzcz0iaW5saW5lIGNvbG9yLXN3YXRjaGVzIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdXNlQ29sb3JTd2F0Y2hlc30iPiA8ZmllbGRzZXQgY2xhc3M9InJhZGlvLWNvbnRhaW5lciBpbmxpbmUiIGRhdGEtYmluZGluZz0ie0B2YXI6IGNvbG9yU3dhdGNoRmllbGRTZXR9e0Bzb3VyY2U6IGNvbG9yU3dhdGNoZXN9Ij4gPGxhYmVsIGNsYXNzPSJjb2xvci1zd2F0Y2giIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGNvbG9yU3dhdGNoZXN9Ij4gPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJjb2xvci1zd2F0Y2giIC8+IDwvbGFiZWw+IDwvZmllbGRzZXQ+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJzeW1ib2xvZ3ktc2xpZGVycyI+ICA8ZGl2IGNsYXNzPSJzeW1ib2xvZ3ktc2xpZGVyIj4gPGxhYmVsIGNsYXNzPSJzeW1ib2xvZ3ktbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utc3ltYm9sb2d5LXNldHRpbmdzLXRyYW5zcGFyZW5jeX0iPjwvbGFiZWw+IDxkaXYgY2xhc3M9InNsaWRlciIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogdHJhbnNwYXJlbmN5U2xpZGVyfSI+PC9kaXY+IDxzcGFuIGNsYXNzPSJzeW1ib2xvZ3ktc2xpZGVyLXZhbHVlIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRyYW5zcGFyZW5jeX0iPjwvc3Bhbj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtdHJhbnNwYXJlbmN5LXN1ZmZpeH0iPjwvc3Bhbj4gPC9zcGFuPiA8L2Rpdj4gIDxkaXYgY2xhc3M9InN5bWJvbG9neS1zbGlkZXIiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IG5vTWFya2VyfSI+IDxsYWJlbCBjbGFzcz0ic3ltYm9sb2d5LWxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXN5bWJvbG9neS1zZXR0aW5ncy1tYXJrZXItc2l6ZX0iPjwvbGFiZWw+IDxkaXYgY2xhc3M9InNsaWRlciIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogbWFya2VyU2l6ZVNsaWRlcn17ZGlzYWJsZWQ6IG5vTWFya2VyfSI+PC9kaXY+IDxzcGFuIGNsYXNzPSJzeW1ib2xvZ3ktc2xpZGVyLXZhbHVlIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG1hcmtlclNpemV9Ij48L3NwYW4+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utc3ltYm9sb2d5LXNldHRpbmdzLW1hcmtlci1zaXplLXN1ZmZpeH0iPjwvc3Bhbj4gPC9zcGFuPiA8L2Rpdj4gIDxkaXYgY2xhc3M9InN5bWJvbG9neS1zbGlkZXIiPiA8bGFiZWwgY2xhc3M9InN5bWJvbG9neS1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtbGluZS13aWR0aH0iPjwvbGFiZWw+IDxkaXYgY2xhc3M9InNsaWRlciIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogbGluZVdpZHRoU2xpZGVyfSI+PC9kaXY+IDxzcGFuIGNsYXNzPSJzeW1ib2xvZ3ktc2xpZGVyLXZhbHVlIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGxpbmVXaWR0aH0iPjwvc3Bhbj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtbGluZS13aWR0aC1zdWZmaXh9Ij48L3NwYW4+IDwvc3Bhbj4gPC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz0ic3ltYm9sb2d5LWRyb3AtZG93bnMiPiAgPGRpdiBjbGFzcz0ic3ltYm9sb2d5LWRyb3AtZG93biIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogbm9NYXJrZXJ9Ij4gPGxhYmVsIGNsYXNzPSJzeW1ib2xvZ3ktbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utc3ltYm9sb2d5LXNldHRpbmdzLW1hcmtlci1zdHlsZX0iPjwvbGFiZWw+IDxzZWxlY3QgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogbWFya2VyU3R5bGVzfXtAdmFyOiBtYXJrZXJTdHlsZUlucHV0fXtkaXNhYmxlZDogbm9NYXJrZXJ9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBtYXJrZXJTdHlsZXN9e0B0ZXh0OiBsYWJlbH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJzeW1ib2xvZ3ktZHJvcC1kb3duIj4gPGxhYmVsIGNsYXNzPSJzeW1ib2xvZ3ktbGFiZWwiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utc3ltYm9sb2d5LXNldHRpbmdzLWxpbmUtc3R5bGV9Ij48L2xhYmVsPiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGxpbmVTdHlsZXN9e0B2YXI6IGxpbmVTdHlsZUlucHV0fSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogbGluZVN0eWxlc317QHRleHQ6IGxhYmVsfSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8L2Rpdj4gIDxkaXYgY2xhc3M9InN5bWJvbG9neS1kcm9wLWRvd24iIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IG5vRmlsbH0iPiA8bGFiZWwgY2xhc3M9InN5bWJvbG9neS1sYWJlbCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtZmlsbC1zdHlsZX0iPjwvbGFiZWw+IDxzZWxlY3QgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogZmlsbFN0eWxlc317QHZhcjogZmlsbFN0eWxlSW5wdXR9e2Rpc2FibGVkOiBub0ZpbGx9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBmaWxsU3R5bGVzfXtAdGV4dDogbGFiZWx9Ij48L29wdGlvbj4gPC9zZWxlY3Q+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/UploadData/Widgets/Uploader/UploaderView.html","html","DQo8ZGl2IGNsYXNzPSJ1cGxvYWRlciIgZGF0YS1iaW5kaW5nPSJ7QGNsYXNzLXVwbG9hZGVyLWRpc2FibGVkOiBkaXNhYmxlZH0iPiAgPGZvcm0gYWN0aW9uPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGRhdGEtYmluZGluZz0ie0B2YXI6IGZvcm19e0BldmVudC1vbmNoYW5nZTogaGFuZGxlQ2hhbmdlfXtAZXZlbnQtb25zdWJtaXQ6IGhhbmRsZVN1Ym1pdH0iPiAgPGlucHV0IHR5cGU9ImZpbGUiIG5hbWU9ImZpbGVzIiBtdWx0aXBsZSBkYXRhLWJpbmRpbmc9IntAdmFyOiBpbnB1dH17ZGlzYWJsZWQ6IGRpc2FibGVkfSIgLz4gIDxvbCBjbGFzcz0ic2VsZWN0ZWQtZmlsZS1saXN0IiBkYXRhLWJpbmRpbmc9IntAdmFyOiBzZWxlY3RlZEZpbGVMaXN0fXtAdmlzaWJsZTogc2VsZWN0ZWRGaWxlc317QHNvdXJjZTogc2VsZWN0ZWRGaWxlc30iPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogc2VsZWN0ZWRGaWxlc317QGNsYXNzLWZsYWdnZWQ6IGZsYWd9Ij4gPGRpdiBjbGFzcz0ic2VsZWN0ZWQtZmlsZS1ib3giPiA8c3BhbiBjbGFzcz0ic2VsZWN0ZWQtZmlsZS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9InNlbGVjdGVkLWZpbGUtc2l6ZSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNpemV9e0B0ZXh0OiBzaXplfSI+PC9zcGFuPiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImZpbGUtZmxhZyBlcnJvci1tZXNzYWdlIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZmxhZ317QHRleHQ6IGZsYWd9Ij48L2Rpdj4gPC9saT4gPC9vbD4gIDxkaXYgY2xhc3M9InVwbG9hZGVyLWxlZ2FjeS1pbnB1dC1ib3giIGRhdGEtYmluZGluZz0ie0B2YXI6IGxlZ2FjeUlucHV0Qm94fSI+IDxvbCBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBsZWdhY3lJbnB1dHN9Ij4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGxlZ2FjeUlucHV0c30iPiA8aW5wdXQgdHlwZT0iZmlsZSIgbmFtZT0iZmlsZXMiIGRhdGEtYmluZGluZz0ie2Rpc2FibGVkOiBkaXNhYmxlZH0iIC8+IDxidXR0b24gY2xhc3M9InVwbG9hZGVyLWxlZ2FjeS1yZW1vdmUtYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlTGVnYWN5UmVtb3ZlSW5wdXR9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0idXBsb2FkZXItbGVnYWN5LWFkZC1idXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVMZWdhY3lBZGRJbnB1dH0iPjwvYnV0dG9uPiAgPGRpdiBjbGFzcz0iZmlsZS1mbGFnIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZmxhZ317QHRleHQ6IGZsYWd9Ij48L2Rpdj4gPC9saT4gPC9vbD4gPC9kaXY+IDwvZm9ybT4gIDxwcm9ncmVzcyBtYXg9IjEwMCIgdmFsdWU9IjAiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBwcm9ncmVzc317dmFsdWU6IHByb2dyZXNzfSI+PC9wcm9ncmVzcz4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/User/SignInView.html","html","PGRpdiBjbGFzcz0ic2lnbi1pbiIgdGFiaW5kZXg9Ii0xIj4gPGJ1dHRvbiB0eXBlPSJidXR0b24iDQogICAgICAgIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVTaWduSW5DbGlja30NCiAgICAgICAgICAgICAgICAgICAgICB7QHRleHQ6IEBsYW5ndWFnZS11c2VyLXNpZ24taW59DQogICAgICAgICAgICAgICAgICAgICAge3RpdGxlOiBAbGFuZ3VhZ2UtdXNlci1zaWduLWluLWRlc2N9DQogICAgICAgICAgICAgICAgICAgICAge0BzdHlsZS1jb2xvcjogbGlua0NvbG9yfSIgdGFiaW5kZXg9IjAiPiA8L2J1dHRvbj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/User/UserInfoView.html","html","PGRpdiBjbGFzcz0idXNlci1pbmZvLXdyYXBwZXIiIHRhYmluZGV4PSItMSI+IDxkaXYgY2xhc3M9InVzZXItaW5mbyIgZGF0YS1iaW5kaW5nPSJ7QGNsYXNzLWV4cGFuZGVkOiBleHBhbmRlZH17QHN0eWxlLWJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZENvbG9yfSIgPiA8ZGl2IGNsYXNzPSJ1c2VyLWluZm8tZXhwYW5kZXIiPiA8YSBocmVmPSIjIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlRXhwYW5kZXJDbGlja317QHRleHQ6IEBsYW5ndWFnZS11c2VyLW9wZW5tZW51fSI+PC9hPiA8L2Rpdj4gPGRpdiBjbGFzcz0ic2lnbi1vdXQiPiA8YnV0dG9uIHR5cGU9ImJ1dHRvbiINCiAgICAgICAgICAgICAgICBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLXVzZXItc2lnbi1vdXR9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGl0bGU6IEBsYW5ndWFnZS11c2VyLXNpZ24tb3V0LWRlc2N9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QHZpc2libGU6IHNpZ25PdXRWaXNpYmxlfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0BldmVudC1vbmNsaWNrOiBoYW5kbGVTaWduT3V0Q2xpY2t9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QHN0eWxlLWNvbG9yOiBsaW5rQ29sb3J9Ij4gPC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0idXNlci1pbmZvLXBvcHVwIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZXhwYW5kZWR9e0BzdHlsZS1jb2xvcjogdGV4dENvbG9yfXtAc3R5bGUtYmFja2dyb3VuZENvbG9yOiBiYWNrZ3JvdW5kQ29sb3J9IiB0YWJpbmRleD0iLTEiPiA8cCBjbGFzcz0idXNlci1pbmZvLWRlc2MiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtdXNlci1zaWduZWQtaW4tYXN9Ij48L3A+IDxwIGNsYXNzPSJ1c2VyLW5hbWUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB1c2VyTmFtZX0iPjwvcD4gPGJ1dHRvbg0KICAgICAgICAgICAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS11c2VyLXNpZ24tb3V0fQ0KICAgICAgICAgICAgICAgICAgICAgICAgICB7dGl0bGU6IEBsYW5ndWFnZS11c2VyLXNpZ24tb3V0LWRlc2N9DQogICAgICAgICAgICAgICAgICAgICAgICAgIHtAdmlzaWJsZTogc2lnbk91dFZpc2libGV9DQogICAgICAgICAgICAgICAgICAgICAgICAgIHtAZXZlbnQtb25jbGljazogaGFuZGxlU2lnbk91dENsaWNrfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICB7QHN0eWxlLWNvbG9yOiBsaW5rQ29sb3J9Ij4gPC9idXR0b24+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Visualization/VisualizationView.html","html","PGRpdiBjbGFzcz0idmlzdWFsaXphdGlvbiBwYW5lbC1ncm91cC1jb250ZW50cyI+IDxkaXYgY2xhc3M9InZpc3VhbGl6YXRpb24tc2VsZWN0b3IgZm9ybS1pdGVtIj4gPGxhYmVsIGZvcj0idmlzdWFsaXphdGlvbiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS12aXN1YWxpemF0aW9uLXNlbGVjdH0iPjwvbGFiZWw+IDxzZWxlY3QgaWQ9InZpc3VhbGl6YXRpb24iIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHN1cHBvcnRlZFByb3ZpZGVyc317QHZhbHVlOiBzZWxlY3RlZFZpc3VhbGl6YXRpb259Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBzdXBwb3J0ZWRQcm92aWRlcnN9e0B0ZXh0OiBkaXNwbGF5TmFtZX17QHZhbHVlOiBkaXNwbGF5TmFtZX0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJ2aXN1YWxpemF0aW9uLW9wdGlvbnMiIGRhdGEtYmluZGluZz0ie2RhdGEtcmVnaW9uLW5hbWU6IHJlZ2lvbk5hbWV9e2RhdGEtcmVnaW9uLWFkYXB0ZXI6IHJlZ2lvblR5cGV9e0B2YXI6IHNjcm9sbFJlZ2lvbkVsZW1lbnR9e0BldmVudC1vbnNjcm9sbDogaGFuZGxlU2Nyb2xsQ2hhbmdlfXtAaGlkZGVuOiBpc1NpbXBsZVZpZXd9Ij48L2Rpdj4gIDxkaXYgY2xhc3M9ImZvcm0tYnRucyI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LWNsaWNrOiBoYW5kbGVBcHBseUJ1dHRvbkNsaWNrfXtAdGV4dDogQGxhbmd1YWdlLXZpc3VhbGl6YXRpb24tYXBwbHl9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtY2xpY2s6IGhhbmRsZURvbmVCdXR0b25DbGlja317QHRleHQ6IEBsYW5ndWFnZS12aXN1YWxpemF0aW9uLWRvbmV9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/DisplayCaptureGeometryView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlIGRpc3BsYXktY2FwdHVyZS1nZW9tZXRyeSI+IDxkaXYgY2xhc3M9ImZvcm0tdGl0bGUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB0aXRsZX17QHZpc2libGU6IHNob3dUaXRsZUluRm9ybUJvZHl9Ij48L2Rpdj4gIDxkaXYgY2xhc3M9IndvcmtmbG93LWluc3RydWN0aW9uLW1zZyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGluc3RydWN0aW9uTWVzc2FnZX0iPjwvZGl2PiAgPHNwYW4gY2xhc3M9IndvcmtmbG93LWZvcm0tZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGN1c3RvbUdlb21ldHJ5SW5zdHJ1Y3Rpb25zfSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0id29ya2Zsb3ctZm9ybS1kZXNjIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBjdXN0b21HZW9tZXRyeUluc3RydWN0aW9uc317QHRleHQ6IEBsYW5ndWFnZS1nZW9tZXRyeS10b29sYmFyLWluc3RydWN0aW9uc30iPjwvc3Bhbj4gIDxkaXYgY2xhc3M9ImZvcm0tYnRucyBnZW9tZXRyeSIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogY2FwdHVyZVR5cGVzfSI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogY2FwdHVyZVR5cGVzfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2FwdHVyZVR5cGVTZWxlY3Rpb259e2lkOiB0eXBlTmFtZX17dGl0bGU6IHRvb2x0aXB9e0BjbGFzcy1oaWdobGlnaHQ6IGlzU2VsZWN0ZWR9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7Y2xhc3M6IGNsYXNzTmFtZX0iPjwvc3Bhbj4gPC9idXR0b24+IDwvZGl2PiAgPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd1JlcXVpcmVkVmFsaWRhdGlvbk1lc3NhZ2V9Ij4gPGRpdiBjbGFzcz0id29ya2Zsb3ctc3RhdHVzLW1zZyBpbnZhbGlkIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdmFsaWRhdGlvblJlc3VsdHN9Ij4gPHRhYmxlPiA8dHI+IDx0ZD48aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9lcnJvci13aGl0ZS0yNC5wbmciIGRhdGEtYmluZGluZz0ie2FsdDogQGxhbmd1YWdlLWdlb21ldHJ5LWNhcHR1cmVkfSIvPjwvdGQ+IDx0ZCBkYXRhLWJpbmRpbmc9IntAc291cmNlOiB2YWxpZGF0aW9uUmVzdWx0c30iPjxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHZhbGlkYXRpb25SZXN1bHRzfXtAdGV4dDogZXJyb3JNZXNzYWdlfSIgLz48L3RkPiA8L3RyPiA8L3RhYmxlPiA8L2Rpdj4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJ3b3JrZmxvdy1zdGF0dXMtbXNnIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogY2FwdHVyZWRNZXNzYWdlVmlzaWJsZX0iID4gPHRhYmxlPiA8dHI+IDx0ZD48aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9jaGVjay0yNC5wbmciIGRhdGEtYmluZGluZz0ie2FsdDogQGxhbmd1YWdlLWdlb21ldHJ5LWNhcHR1cmVkfSIvPjwvdGQ+IDx0ZCB2YWxpZ249Im1pZGRsZSI+PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1nZW9tZXRyeS1jYXB0dXJlZH0iIC8+PC90ZD4gPC90cj4gPC90YWJsZT4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGJ1dHRvbnN9Ij4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBidXR0b25zfXtAdGV4dDogbGFiZWx9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0J1dHRvbn0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/DisplayHyperlinkView.html","html","DQo8ZGl2IGNsYXNzPSJtb2R1bGUgZGlzcGxheS1oeXBlcmxpbmsiPiA8aDIgY2xhc3M9ImZvcm0tdGl0bGUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB0aXRsZX17QHZpc2libGU6IHNob3dUaXRsZUluRm9ybUJvZHl9Ij48L2gyPiA8cCBjbGFzcz0iZm9ybS1pdGVtIGZvcm0tZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG1lc3NhZ2V9Ij48L3A+IDxhIGNsYXNzPSJmb3JtLWl0ZW0iIGRhdGEtYmluZGluZz0ie2hyZWY6IHVyaX17dGFyZ2V0OiB0YXJnZXR9e0B0ZXh0OiBoeXBlcmxpbmtUZXh0fSI+PC9hPiA8ZGl2IGNsYXNzPSJmb3JtLWJ0bnMiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGJ1dHRvbnN9Ij4gPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBidXR0b25zfXtAdGV4dDogbGFiZWx9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0J1dHRvbn0iPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/DisplayReportUrlView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlIGRpc3BsYXktaHlwZXJsaW5rIj4gPHAgY2xhc3M9ImZvcm0taXRlbSBmb3JtLWRlc2MiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2Utd29ya2Zsb3ctcmVwb3J0LXVybH0iPjwvcD4gPGEgY2xhc3M9ImZvcm0taXRlbSIgZGF0YS1iaW5kaW5nPSJ7aHJlZjogdXJsfXt0YXJnZXQ6IHRhcmdldH17QHRleHQ6IEBsYW5ndWFnZS13b3JrZmxvdy1yZXBvcnQtdXJsLXRleHR9Ij48L2E+IDxkaXYgY2xhc3M9ImZvcm0tYnRucyIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogYnV0dG9uc30iPiA8YnV0dG9uIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGJ1dHRvbnN9e0B0ZXh0OiBsYWJlbH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrQnV0dG9ufSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/DisplayResultPickerView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlIGRpc3BsYXktcmVzdWx0LXBpY2tlciI+ICA8ZGl2IGNsYXNzPSJuby1yZXN1bHRzIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBmZWF0dXJlc30iPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1uby1yZXN1bHRzfSI+PC9wPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1uby1yZXN1bHRzLWRlc2N9Ij48L3A+IDwvZGl2PiAgPGRpdiBjbGFzcz0iZmlsdGVyLXNlY3Rpb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBmaWx0ZXJTZWN0aW9uVmlzaWJsZX17QHZhcjogdG9wQ29udGFpbmVyfSI+ICA8ZGl2IGNsYXNzPSJkaXNwbGF5LXJlc3VsdC1waWNrZXItbWVzc2FnZSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IG1lc3NhZ2V9Ij4gPHAgY2xhc3M9ImZvcm0taXRlbSBmb3JtLWRlc2MiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBtZXNzYWdlfSI+PC9wPiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImZpbHRlci10ZXh0LWJveCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dGaWx0ZXJUZXh0Qm94fSI+IDxpbnB1dCB0eXBlPSJ0ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZmVhdHVyZVNldH17QHZhbHVlOiBmaWx0ZXJUZXh0fXtwbGFjZWhvbGRlcjogQGxhbmd1YWdlLWRpc3BsYXktcmVzdWx0LXBpY2tlci1maWx0ZXItdGV4dC1ib3gtd2F0ZXJtYXJrfSI+IDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsZWFyVGV4dEJveH17QHZpc2libGU6IGZpbHRlclRleHR9Ij5DbGVhcjwvYT4gPC9kaXY+IDxkaXYgY2xhc3M9ImZpbHRlci1zZWxlY3Rpb24tbW9kZSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNTaW5nbGVTZWxlY3Rpb25Nb2RlfSI+IDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgZGF0YS1iaW5kaW5nPSJ7Y2xhc3NOYW1lOiBkaXNhYmxlZExpbmtDc3NDbGFzc317QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVNlbGVjdEFsbH0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWRpc3BsYXktcmVzdWx0LXBpY2tlci1zZWxlY3QtYWxsfSI+PC9zcGFuPiA8L2E+IDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVNlbGVjdE5vbmV9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1kaXNwbGF5LXJlc3VsdC1waWNrZXItc2VsZWN0LW5vbmV9Ij48L3NwYW4+IDwvYT4gPC9kaXY+IDwvZGl2PiAgPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZmVhdHVyZXN9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntjbGFzc05hbWU6IGNzc0NsYXNzfXtAdmFyOiBkaXNwbGF5LXJlc3VsdC1waWNrZXItbGlzdH17QHN0eWxlLXRvcDogdG9wT2Zmc2V0fXtAc3R5bGUtYm90dG9tOiBib3R0b21PZmZzZXR9Ij4gIDxwIGNsYXNzPSJlcnJvci1tZXNzYWdlIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogcmVxdWlyZWRWYWx1ZUVycm9yTWVzc2FnZX17QHZpc2libGU6IHJlcXVpcmVkVmFsdWVFcnJvck1lc3NhZ2V9Ij48L3A+ICA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUgYWN0aXZlIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiByZXN1bHRzTGlzdH17QHZpc2libGU6IHJlc3VsdHNMaXN0fSI+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiByZXN1bHRzTGlzdH17QGhpZGRlbjogaXNGaWx0ZXJlZH17QGV2ZW50LWNsaWNrOiBoYW5kbGVDbGlja30iPiA8ZGl2IGRhdGEtYmluZGluZz0ie2NsYXNzTmFtZTogY3NzQ2xhc3N9Ij4gIDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogUmVuZGVyQ29tcGxleFJlc3VsdFRlbXBsYXRlfXtAd2lkZ2V0LXJlcGxhY2U6IHRydWV9e0B3aWRnZXQtcmVxdWlyZWQ6IGZhbHNlfXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fSI+PC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogUmVuZGVyU2ltcGxlUmVzdWx0VGVtcGxhdGV9e0B3aWRnZXQtcmVwbGFjZTogdHJ1ZX17QHdpZGdldC1yZXF1aXJlZDogZmFsc2V9e0B3aWRnZXQtY29udGV4dDogQGNvbnRleHR9Ij48L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiAgIDxkaXYgY2xhc3M9ImZvcm0tYnRucyIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogYnV0dG9uc317QHZhcjogYm90dG9tQ29udGFpbmVyfSI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYnV0dG9uc317QHRleHQ6IGxhYmVsfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tCdXR0b259Ij48L2J1dHRvbj4gPC9kaXY+ICA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/WorkflowContainerView.html","html","DQo8ZGl2IGNsYXNzPSJ3b3JrZmxvdy1jb250YWluZXIiPiA8ZGl2IGNsYXNzPSJwYW5lbC1oZWFkZXIiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBkaXNwbGF5SGVhZGVyfSI+IDxoMiBjbGFzcz0icGFuZWwtdGl0bGUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB0aXRsZX0iPjwvaDI+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsb2FkaW5nLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaGFzQ29udGVudH0iPiA8ZGl2IGNsYXNzPSJsb2FkaW5nLWltZyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGJ1c3l9Ij48L2Rpdj4gPGRpdiBjbGFzcz0ibG9hZGluZy1tc2ciIGRhdGEtYmluZGluZz0ie2lubmVySFRNTDogc2FmZU1lc3NhZ2V9Ij48L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9IndvcmtmbG93LWNvbnRhaW5lci1yZWdpb24taG9sZGVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaGFzQ29udGVudH0iPiAgPGRpdiBjbGFzcz0icmVnaW9uIiBkYXRhLXJlZ2lvbi1uYW1lPSIhcmVnaW9uLW5hbWUtcGxhY2Vob2xkZXIhIj48L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/WorkflowFormView.html","html","DQo8ZGl2IGNsYXNzPSJtb2R1bGUgd29ya2Zsb3ctZm9ybSI+IDxoMiBjbGFzcz0iZm9ybS10aXRsZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRpdGxlfXtAdmlzaWJsZTogc2hvd1RpdGxlSW5Gb3JtQm9keX0iPjwvaDI+IDxmb3JtIGRhdGEtYmluZGluZz0ie0BzdHlsZS1tYXhXaWR0aDogZm9ybVdpZHRofXtAZXZlbnQtb25zdWJtaXQ6IGhhbmRsZVN1Ym1pdH0iPiAgPGRpdiBjbGFzcz0id29ya2Zsb3ctZm9ybS1pbm5lciIgZGF0YS1iaW5kaW5nPSJ7QGRvbTogd29ya2Zsb3dGb3JtQ29udGVudH0iPjwvZGl2PiAgPHVsIGNsYXNzPSJmb3JtLXZhbGlkYXRpb24iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiB2YWxpZGF0aW9uUmVzdWx0c317QHNvdXJjZTogdmFsaWRhdGlvblJlc3VsdHN9Ij4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHZhbGlkYXRpb25SZXN1bHRzfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLXZhbGlkYXRpb24tc3ltYm9sfSI+PC9zcGFuPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZXJyb3JNZXNzYWdlfSI+PC9zcGFuPiA8L2xpPiA8L3VsPiAgPGlucHV0IHR5cGU9InN1Ym1pdCIgc3R5bGU9InBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogLTk5OXB4OyB3aWR0aDogMXB4OyBoZWlnaHQ6IDFweDsiIHRhYmluZGV4PSItMSIvPiAgPGRpdiBjbGFzcz0iZm9ybS1idG5zIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBidXR0b25zfSI+IDxidXR0b24gY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYnV0dG9uc317QHRleHQ6IGxhYmVsfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tCdXR0b259Ij48L2J1dHRvbj4gPC9kaXY+IDwvZm9ybT4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/WorkflowListView.html","html","PGRpdiBjbGFzcz0id29ya2Zsb3ctbGlzdCI+ICA8ZGl2IGNsYXNzPSJuby1yZXN1bHRzIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiB3b3JrZmxvd3N9e0B0ZXh0OiBAbGFuZ3VhZ2Utd29ya2Zsb3ctbm9uZS1hdmFpbGFibGV9Ij48L2Rpdj4gIDxkaXYgY2xhc3M9Imxpc3QtbWVudSBhY3RpdmUiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHdvcmtmbG93c317QHZpc2libGU6IHdvcmtmbG93c30iPiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogd29ya2Zsb3dzfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tXb3JrZmxvd30iPiA8YnV0dG9uIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/AutoCompleteBoxFormItemView.html","html","PGRpdiBjbGFzcz0iYXV0b2NvbXBsZXRlLWlubmVyIj4gPGxhYmVsIGRhdGEtYmluZGluZz0ie2ZvcjogYXR0YWNoZWRfY29udHJvbElkfSIgY2xhc3M9IiBmb3JtLWxhYmVsIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogbGFiZWx9e0B2aXNpYmxlOiBsYWJlbH0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBsYWJlbH17QHRleHQ6IHRleHR9Ij48L3NwYW4+IDwvc3Bhbj4gPHNwYW4gY2xhc3M9ImluZGljYXRvciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGF0dGFjaGVkX3Nob3dJbmRpY2F0b3J9Ij4qPC9zcGFuPiA8L2xhYmVsPiA8ZGl2IGNsYXNzPSJmb3JtLWNvbnRyb2wiPiAgPGRpdiBjbGFzcz0iYXV0b2NvbXBsZXRlLWlucHV0Ij4gPGRpdiBjbGFzcz0ibG9hZGVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNCdXN5fSI+PC9kaXY+IDxpbnB1dCB0eXBlPSJ0ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmFyOiB0ZXh0RWxlbWVudH17QGV2ZW50LW9ua2V5dXA6IGhhbmRsZUtleUV2ZW50fXtAZXZlbnQtb25ibHVyOiBoYW5kbGVJbnB1dEJsdXJFdmVudH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUlucHV0Q2xpY2tFdmVudH17QGV2ZW50LW9uZm9jdXM6IGhhbmRsZUlucHV0Rm9jdXNFdmVudH17QHZhbHVlOiB0ZXh0fXtAc3R5bGUtd2lkdGg6IHRleHRib3hXaWR0aH17dGl0bGU6IHRvb2xUaXB9e2lkOiBhdHRhY2hlZF9jb250cm9sSWR9IiAvPiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImF1dG9jb21wbGV0ZS1tZW51IiBkYXRhLWJpbmRpbmc9IntAdmFyOiBkcm9wRG93bkNvbnRhaW5lckVsZW1lbnR9e0B2aXNpYmxlOiBpc0Ryb3BEb3duT3Blbn17QHN0eWxlLW1pbldpZHRoOiB0ZXh0Ym94V2lkdGh9e0BldmVudC1vbmtleWRvd246IGhhbmRsZURyb3Bkb3duS2V5RG93bn17QGV2ZW50LW9ubW91c2Vkb3duOiBoYW5kbGVEcm9wZG93bkZvY3VzRXZlbnR9e0BldmVudC1vbmZvY3VzOiBoYW5kbGVEcm9wZG93bkZvY3VzRXZlbnR9e0BldmVudC1vbmJsdXI6IGhhbmRsZURyb3Bkb3duQmx1ckV2ZW50fSI+IDx1bCBjbGFzcz0ibGlzdC1tZW51IiBkYXRhLWJpbmRpbmc9IntAdmFyOiBkcm9wRG93bkxpc3RFbGVtZW50fXtAdmlzaWJsZTogZGF0YUl0ZW1zfXtAc291cmNlOiBkYXRhSXRlbXN9Ij4gPGxpIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogZGF0YUl0ZW1zfXtAdGV4dDogdmFsdWV9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0l0ZW19Ij48L2xpPiA8L3VsPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/CheckBoxFormItemView.html","html","PGRpdiBjbGFzcz0iY2hlY2tib3gtaW5uZXIiPiA8dGFibGU+IDx0cj4gPHRkIGNsYXNzPSJmb3JtLWxhYmVsIGxlZnQiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhdHRhY2hlZF90ZXh0T25MZWZ0fSI+IDxsYWJlbCBkYXRhLWJpbmRpbmc9Intmb3I6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHRleHQ6IGF0dGFjaGVkX2xhYmVsVGV4dH17dGl0bGU6IHRvb2xUaXB9Ij48L2xhYmVsPiA8L3RkPiA8dGQ+IDxpbnB1dCB0eXBlPSJjaGVja2JveCIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBjaGVja2VkfXtpZDogYXR0YWNoZWRfY29udHJvbElkfXt0aXRsZTogdG9vbFRpcH0iIC8+IDwvdGQ+IDx0ZCBjbGFzcz0iZm9ybS1sYWJlbCBsZWZ0IiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBhdHRhY2hlZF90ZXh0T25MZWZ0fSI+IDxsYWJlbCBkYXRhLWJpbmRpbmc9Intmb3I6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHRleHQ6IGF0dGFjaGVkX2xhYmVsVGV4dH17dGl0bGU6IHRvb2xUaXB9Ij48L2xhYmVsPiA8L3RkPiA8L3RyPiA8L3RhYmxlPiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/ComboBoxFormItemView.html","html","PGRpdiBjbGFzcz0iaW5uZXIiPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7Zm9yOiBhdHRhY2hlZF9jb250cm9sSWR9IiBjbGFzcz0iIGZvcm0tbGFiZWwiPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBsYWJlbH17QHZpc2libGU6IGxhYmVsfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGxhYmVsfXtAdGV4dDogdGV4dH0iPjwvc3Bhbj4gPC9zcGFuPiA8c3BhbiBjbGFzcz0iaW5kaWNhdG9yIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogYXR0YWNoZWRfc2hvd0luZGljYXRvcn0iPio8L3NwYW4+IDwvbGFiZWw+IDxkaXYgY2xhc3M9ImZvcm0tY29udHJvbCI+IDxkaXYgY2xhc3M9ImxvYWRlciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzQnVzeX0iPjwvZGl2PiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie2lkOiBhdHRhY2hlZF9jb250cm9sSWR9e0Bzb3VyY2U6IGRhdGFJdGVtc317QHZhbHVlOiBzZWxlY3RlZH17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVTZWxlY3Rpb25DaGFuZ2VkfXtkaXNhYmxlZDogaXNCdXN5fXt0aXRsZTogdG9vbFRpcH0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGRhdGFJdGVtc317QHRleHQ6IGRpc3BsYXl9e0BhdHRhY2g6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/ContainerFormItemView.html","html","PGRpdiBjbGFzcz0iZm9ybS1jb250YWluZXIiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc1Zpc2libGV9e0BjbGFzcy1mb3JtLWhvcml6b250YWw6IGF0dGFjaGVkX2lzSG9yaXpvbnRhbH0iPiA8cCBjbGFzcz0iZm9ybS1pdGVtIGZvcm0tZGVzYyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGRlc2NyaXB0aW9ufXtpbm5lckhUTUw6IGRlc2NyaXB0aW9ufSI+PC9wPiA8ZGl2IGNsYXNzPSJmb3JtIGxhYmVsLWxlZnQiIGRhdGEtYmluZGluZz0ie3N0eWxlOiBhdHRhY2hlZF9zdHlsZX17QHN0eWxlLW1heFdpZHRoOiBtYXhXaWR0aH17QHNvdXJjZTogZm9ybUl0ZW1zfXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9Xb3JrZmxvdy9Gb3Jtcy9JdGVtcy9Gb3JtSXRlbVZpZXcuaHRtbH0iPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/DatePickerFormItemView.html","html","PGRpdiBjbGFzcz0iaW5uZXIiPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7Zm9yOiBhdHRhY2hlZF9jb250cm9sSWR9IiBjbGFzcz0iIGZvcm0tbGFiZWwiPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBsYWJlbH17QHZpc2libGU6IGxhYmVsfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGxhYmVsfXtAdGV4dDogdGV4dH0iPjwvc3Bhbj4gPC9zcGFuPiA8c3BhbiBjbGFzcz0iaW5kaWNhdG9yIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogYXR0YWNoZWRfc2hvd0luZGljYXRvcn0iPio8L3NwYW4+IDwvbGFiZWw+IDxkaXYgY2xhc3M9ImZvcm0tY29udHJvbCI+ICA8ZGl2IGNsYXNzPSJpbmxpbmUtYmxvY2siIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IEBjb250ZXh0fXtAdGVtcGxhdGUtc2VsZWN0b3I6IGF0dGFjaGVkX3BpY2tlclR5cGV9Ij4gIDxpbnB1dCBjbGFzcz0iZGF0ZS10aW1lIiBkYXRhLWJpbmRpbmc9IntpZDogYXR0YWNoZWRfY29udHJvbElkfXtAdmFyOiBuYXRpdmVfZGF0ZXRpbWVfZWxlbWVudH17QHRlbXBsYXRlLXNlbGVjdDogbmF0aXZlX2RhdGV0aW1lfXt0aXRsZTogdG9vbFRpcH17QHZhbHVlOiBkYXRlfSIgdHlwZT0iZGF0ZXRpbWUiIC8+ICA8ZGl2IGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IGpRdWVyeX0iPiA8aW5wdXQgZGF0YS1iaW5kaW5nPSJ7aWQ6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHZhcjogalF1ZXJ5Rm9ybWF0dGVkSW5wdXR9e3RpdGxlOiB0b29sVGlwfXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZUpxdWVyeURhdGVQaWNrZXJUZXh0Q2hhbmdlZH0iIHR5cGU9InRleHQiIGNsYXNzPSJoYXNEYXRlcGlja2VyIGdjeERhdGVwaWNrZXIiIC8+IDxpbnB1dCBkYXRhLWJpbmRpbmc9IntpZDogYXR0YWNoZWRfY29udHJvbElkfXtAdmFyOiBqUXVlcnlQaWNrZXJ9IiB0eXBlPSJoaWRkZW4iIC8+IDwvZGl2PiAgPGlucHV0IGRhdGEtYmluZGluZz0ie2lkOiBhdHRhY2hlZF9jb250cm9sSWR9e0B2YXI6IG5hdGl2ZV9kYXRldGltZV9lbGVtZW50fXtAdGVtcGxhdGUtc2VsZWN0OiBuYXRpdmV9e3RpdGxlOiB0b29sVGlwfXtAdmFsdWU6IGRhdGV9IiB0eXBlPSJkYXRlIiAvPiAgPGRpdiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBuYXRpdmVfZGF0ZV9qUXVlcnlfdGltZX17dGl0bGU6IHRvb2xUaXB9Ij4gPGlucHV0IGRhdGEtYmluZGluZz0ie2lkOiBhdHRhY2hlZF9jb250cm9sSWR9e0B2YWx1ZTogZGF0ZX0iIHR5cGU9ImRhdGUiIC8+IDxpbnB1dCBkYXRhLWJpbmRpbmc9IntpZDogYXR0YWNoZWRfY29udHJvbElkfXtAdmFyOiBqUXVlcnlGb3JtYXR0ZWRJbnB1dH17dGl0bGU6IHRvb2xUaXB9e0BldmVudC1vbmNoYW5nZTogaGFuZGxlSnF1ZXJ5VGltZVBpY2tlclRleHRDaGFuZ2VkfSIgdHlwZT0idGV4dCIgY2xhc3M9Imhhc0RhdGVwaWNrZXIgZ2N4RGF0ZXBpY2tlciIgLz4gPGlucHV0IGRhdGEtYmluZGluZz0ie2lkOiBhdHRhY2hlZF9jb250cm9sSWR9e0B2YXI6IGpRdWVyeVBpY2tlcn0iIHR5cGU9ImhpZGRlbiIgLz4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJkYXRldGltZS1zZWxlY3QiIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IG5hdGl2ZV9kYXRlX2NvbWJvX3RpbWV9e3RpdGxlOiB0b29sVGlwfSI+IDxpbnB1dCBkYXRhLWJpbmRpbmc9IntpZDogYXR0YWNoZWRfY29udHJvbElkfXtAdmFyOiBuYXRpdmVfZGF0ZXRpbWVfZWxlbWVudH17QHZhbHVlOiBkYXRlfSIgdHlwZT0iZGF0ZSIgLz4gPHNlbGVjdCBkYXRhLWJpbmRpbmc9IntpZDogYXR0YWNoZWRfY29udHJvbElkfXtAc291cmNlOiBhdHRhY2hlZF9ob3Vyc317QHZhbHVlOiBhdHRhY2hlZF9ob3VyfXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZUNoYW5nZUNvbWJvQm94VGltZVdpdGhOYXRpdmVEYXRlfXtAdmFyOiBzZWxlY3QwfSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYXR0YWNoZWRfaG91cnN9e0BhdHRhY2hlZC12YWx1ZTogdmFsfXtAdGV4dDogZGVzY30iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPHNlbGVjdCBkYXRhLWJpbmRpbmc9IntpZDogYXR0YWNoZWRfY29udHJvbElkfXtAc291cmNlOiBhdHRhY2hlZF9taW51dGVzfXtAdmFsdWU6IGF0dGFjaGVkX21pbnV0ZX17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVDaGFuZ2VDb21ib0JveFRpbWVXaXRoTmF0aXZlRGF0ZX17QHZhcjogc2VsZWN0MX0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGF0dGFjaGVkX21pbnV0ZXN9e0B0ZXh0OiBAY29udGV4dH17QGF0dGFjaGVkLXZhbHVlOiBAY29udGV4dH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPHNlbGVjdCBkYXRhLWJpbmRpbmc9IntpZDogYXR0YWNoZWRfY29udHJvbElkfXtAc291cmNlOiBhdHRhY2hlZF9zZWNvbmRzfXtAdmFsdWU6IGF0dGFjaGVkX3NlY29uZH17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVDaGFuZ2VDb21ib0JveFRpbWVXaXRoTmF0aXZlRGF0ZX17QHZhcjogc2VsZWN0Mn0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGF0dGFjaGVkX3NlY29uZHN9e0B0ZXh0OiBAY29udGV4dH17QGF0dGFjaGVkLXZhbHVlOiBAY29udGV4dH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJkYXRldGltZS1zZWxlY3QiIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IGNvbWJvc317dGl0bGU6IHRvb2xUaXB9Ij4gPHNlbGVjdCBjbGFzcz0iZHAteXkiIGRhdGEtYmluZGluZz0ie2lkOiBhdHRhY2hlZF9jb250cm9sSWR9e0Bzb3VyY2U6IGF0dGFjaGVkX3llYXJzfXtAdmFsdWU6IGF0dGFjaGVkX3llYXJ9e0BldmVudC1vbmNoYW5nZTogaGFuZGxlQ2hhbmdlQ29tYm9Cb3hUaW1lfXtAdmFyOiBzZWxlY3QzfSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYXR0YWNoZWRfeWVhcnN9e0B0ZXh0OiBAY29udGV4dH17QGF0dGFjaGVkLXZhbHVlOiBAY29udGV4dH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPHNlbGVjdCBjbGFzcz0iZHAtbW0iIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogYXR0YWNoZWRfbW9udGh9e0BldmVudC1vbmNoYW5nZTogaGFuZGxlQ2hhbmdlQ29tYm9Cb3hUaW1lfXtAdmFyOiBzZWxlY3Q0fSI+IDxvcHRpb24gdmFsdWU9IjAiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbW9udGhzLTB9Ij48L29wdGlvbj4gPG9wdGlvbiB2YWx1ZT0iMSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tb250aHMtMX0iPjwvb3B0aW9uPiA8b3B0aW9uIHZhbHVlPSIyIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW1vbnRocy0yfSI+PC9vcHRpb24+IDxvcHRpb24gdmFsdWU9IjMiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbW9udGhzLTN9Ij48L29wdGlvbj4gPG9wdGlvbiB2YWx1ZT0iNCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tb250aHMtNH0iPjwvb3B0aW9uPiA8b3B0aW9uIHZhbHVlPSI1IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW1vbnRocy01fSI+PC9vcHRpb24+IDxvcHRpb24gdmFsdWU9IjYiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbW9udGhzLTZ9Ij48L29wdGlvbj4gPG9wdGlvbiB2YWx1ZT0iNyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tb250aHMtN30iPjwvb3B0aW9uPiA8b3B0aW9uIHZhbHVlPSI4IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW1vbnRocy04fSI+PC9vcHRpb24+IDxvcHRpb24gdmFsdWU9IjkiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbW9udGhzLTl9Ij48L29wdGlvbj4gPG9wdGlvbiB2YWx1ZT0iMTAiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbW9udGhzLTEwfSI+PC9vcHRpb24+IDxvcHRpb24gdmFsdWU9IjExIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW1vbnRocy0xMX0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPHNlbGVjdCBjbGFzcz0iZHAtZGQiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGF0dGFjaGVkX2RheXN9e0B2YWx1ZTogYXR0YWNoZWRfZGF5fXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZUNoYW5nZUNvbWJvQm94VGltZX17QHZhcjogc2VsZWN0NX0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGF0dGFjaGVkX2RheXN9e0B0ZXh0OiBAY29udGV4dH17QGF0dGFjaGVkLXZhbHVlOiBAY29udGV4dH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJkcC10cC1zZWxlY3QiIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IGNvbWJvc19kYXRldGltZX17dGl0bGU6IHRvb2xUaXB9Ij4gPGRpdiBjbGFzcz0iZGF0ZXRpbWUtc2VsZWN0Ij4gPHNlbGVjdCBkYXRhLWJpbmRpbmc9IntpZDogYXR0YWNoZWRfY29udHJvbElkfXtAc291cmNlOiBhdHRhY2hlZF95ZWFyc317QHZhbHVlOiBhdHRhY2hlZF95ZWFyfXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZUNoYW5nZUNvbWJvQm94VGltZX17QHZhcjogc2VsZWN0Nn0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGF0dGFjaGVkX3llYXJzfXtAdGV4dDogQGNvbnRleHR9e0BhdHRhY2hlZC12YWx1ZTogQGNvbnRleHR9Ij48L29wdGlvbj4gPC9zZWxlY3Q+IDxzZWxlY3QgZGF0YS1iaW5kaW5nPSJ7aWQ6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHZhbHVlOiBhdHRhY2hlZF9tb250aH17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVDaGFuZ2VDb21ib0JveFRpbWV9e0B2YXI6IHNlbGVjdDd9Ij4gPG9wdGlvbiB2YWx1ZT0iMCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tb250aHMtMH0iPjwvb3B0aW9uPiA8b3B0aW9uIHZhbHVlPSIxIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW1vbnRocy0xfSI+PC9vcHRpb24+IDxvcHRpb24gdmFsdWU9IjIiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbW9udGhzLTJ9Ij48L29wdGlvbj4gPG9wdGlvbiB2YWx1ZT0iMyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tb250aHMtM30iPjwvb3B0aW9uPiA8b3B0aW9uIHZhbHVlPSI0IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW1vbnRocy00fSI+PC9vcHRpb24+IDxvcHRpb24gdmFsdWU9IjUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbW9udGhzLTV9Ij48L29wdGlvbj4gPG9wdGlvbiB2YWx1ZT0iNiIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tb250aHMtNn0iPjwvb3B0aW9uPiA8b3B0aW9uIHZhbHVlPSI3IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW1vbnRocy03fSI+PC9vcHRpb24+IDxvcHRpb24gdmFsdWU9IjgiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbW9udGhzLTh9Ij48L29wdGlvbj4gPG9wdGlvbiB2YWx1ZT0iOSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tb250aHMtOX0iPjwvb3B0aW9uPiA8b3B0aW9uIHZhbHVlPSIxMCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1tb250aHMtMTB9Ij48L29wdGlvbj4gPG9wdGlvbiB2YWx1ZT0iMTEiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtbW9udGhzLTExfSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGF0dGFjaGVkX2RheXN9e0B2YWx1ZTogYXR0YWNoZWRfZGF5fXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZUNoYW5nZUNvbWJvQm94VGltZX17QHZhcjogc2VsZWN0OH0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGF0dGFjaGVkX2RheXN9e0B0ZXh0OiBAY29udGV4dH17QGF0dGFjaGVkLXZhbHVlOiBAY29udGV4dH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPC9kaXY+IDxkaXYgY2xhc3M9ImRhdGV0aW1lLXNlbGVjdCB0aW1lIj4gPGxhYmVsPkg8L2xhYmVsPiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie2lkOiBhdHRhY2hlZF9jb250cm9sSWR9e0Bzb3VyY2U6IGF0dGFjaGVkX2hvdXJzfXtAdmFsdWU6IGF0dGFjaGVkX2hvdXJ9e0BldmVudC1vbmNoYW5nZTogaGFuZGxlQ2hhbmdlQ29tYm9Cb3hUaW1lfXtAdmFyOiBzZWxlY3Q5fSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYXR0YWNoZWRfaG91cnN9e0BhdHRhY2hlZC12YWx1ZTogdmFsfXtAdGV4dDogZGVzY30iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPGxhYmVsPk08L2xhYmVsPiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGF0dGFjaGVkX21pbnV0ZXN9e0B2YWx1ZTogYXR0YWNoZWRfbWludXRlfXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZUNoYW5nZUNvbWJvQm94VGltZX17QHZhcjogc2VsZWN0MTB9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBhdHRhY2hlZF9taW51dGVzfXtAdGV4dDogQGNvbnRleHR9e0BhdHRhY2hlZC12YWx1ZTogQGNvbnRleHR9Ij48L29wdGlvbj4gPC9zZWxlY3Q+IDxsYWJlbD5TPC9sYWJlbD4gPHNlbGVjdCBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBhdHRhY2hlZF9zZWNvbmRzfXtAdmFsdWU6IGF0dGFjaGVkX3NlY29uZH17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVDaGFuZ2VDb21ib0JveFRpbWV9e0B2YXI6IHNlbGVjdDExfSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYXR0YWNoZWRfc2Vjb25kc317QHRleHQ6IEBjb250ZXh0fXtAYXR0YWNoZWQtdmFsdWU6IEBjb250ZXh0fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJpbmxpbmUtYmxvY2siIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBudWxsYWJsZX0iPiA8YnV0dG9uIGNsYXNzPSJkYXRldGltZS1idG4gdW4tbnVsbGlmeSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGF0dGFjaGVkX2lzTnVsbH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrU2V0Tm90TnVsbH0iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJkYXRldGltZS1idG4gbnVsbGlmeSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogYXR0YWNoZWRfaXNOdWxsfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tTZXROdWxsfSI+PC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/FilePickerFormItemView.html","html","PGRpdiBjbGFzcz0iaW5uZXIiPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7Zm9yOiBhdHRhY2hlZF9jb250cm9sSWR9IiBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGxhYmVsfXtAdmlzaWJsZTogbGFiZWx9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogbGFiZWx9e0B0ZXh0OiB0ZXh0fSI+PC9zcGFuPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJpbmRpY2F0b3IiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhdHRhY2hlZF9zaG93SW5kaWNhdG9yfSI+Kjwvc3Bhbj4gPC9sYWJlbD4gPGRpdiBjbGFzcz0iZm9ybS1jb250cm9sIj4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNTdXBwb3J0ZWR9Ij4gPGRpdiBjbGFzcz0iZmlsZS1pbnB1dCI+IDxkaXYgY2xhc3M9ImZpbGUtaW5wdXQtYnJvd3NlciI+IDxpbnB1dCB0eXBlPSJmaWxlIiBkYXRhLWJpbmRpbmc9IntpZDogYXR0YWNoZWRfY29udHJvbElkfXtAdmlzaWJsZTogaXNTdXBwb3J0ZWR9e3RpdGxlOiB0b29sVGlwfXttdWx0aXBsZTogYWxsb3dNdWx0aXBsZX17YWNjZXB0OiBhY2NlcHRGaWxlVHlwZXN9e0BldmVudC1jaGFuZ2U6IGhhbmRsZUNoYW5nZX0iIC8+IDwvZGl2PiA8L2Rpdj4gPGlucHV0IGNsYXNzPSJmaWxlLWlucHV0LWNsZWFyIiB0eXBlPSJidXR0b24iIHZhbHVlPSJYIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZmlsZXN9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGVhckNsaWNrfSIgLz4gPC9kaXY+IDxzcGFuIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzU3VwcG9ydGVkfXtAdGV4dDogQGxhbmd1YWdlLWZpbGUtcGlja2VyLW5vdC1zdXBwb3J0ZWR9Ij48L3NwYW4+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/FormItemView.html","html","PGRpdiBjbGFzcz0iZm9ybS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNWaXNpYmxlfXtjbGFzc05hbWU6IGF0dGFjaGVkX2luZGljYXRvckNsYXNzfXtAc291cmNlOiBAY29udGV4dH17QHRlbXBsYXRlLXNlbGVjdG9yOiBmb3JtSXRlbVR5cGV9Ij4gPGRpdiBjbGFzcz0iYXV0b2NvbXBsZXRlIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBBdXRvQ29tcGxldGVCb3hGb3JtSXRlbX17QHdpZGdldDogQXV0b0NvbXBsZXRlQm94Rm9ybUl0ZW19e0B2aXNpYmxlOiBpc1Zpc2libGV9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iY2hlY2tib3giIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IENoZWNrQm94Rm9ybUl0ZW19e0B3aWRnZXQ6IENoZWNrQm94Rm9ybUl0ZW19e0B2aXNpYmxlOiBpc1Zpc2libGV9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iY29tYm9ib3giIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IENvbWJvQm94Rm9ybUl0ZW19e0B3aWRnZXQ6IENvbWJvQm94Rm9ybUl0ZW19e0B2aXNpYmxlOiBpc1Zpc2libGV9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBDb250YWluZXJGb3JtSXRlbX17QHdpZGdldDogQ29udGFpbmVyRm9ybUl0ZW19e0B2aXNpYmxlOiBpc1Zpc2libGV9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iZGF0ZXBpY2tlciIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogRGF0ZVBpY2tlckZvcm1JdGVtfXtAd2lkZ2V0OiBEYXRlUGlja2VyRm9ybUl0ZW19e0B2aXNpYmxlOiBpc1Zpc2libGV9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iZmlsZXBpY2tlciIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogRmlsZVBpY2tlckZvcm1JdGVtfXtAd2lkZ2V0OiBGaWxlUGlja2VyRm9ybUl0ZW19e0B2aXNpYmxlOiBpc1Zpc2libGV9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iZ3JvdXBib3giIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IEdyb3VwQm94Rm9ybUl0ZW19e0B3aWRnZXQ6IEdyb3VwQm94Rm9ybUl0ZW19e0B2aXNpYmxlOiBpc1Zpc2libGV9Ij48L2Rpdj4gPGRpdiBjbGFzcz0ibGluayIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogSHlwZXJsaW5rRm9ybUl0ZW19e0B3aWRnZXQ6IEh5cGVybGlua0Zvcm1JdGVtfXtAdmlzaWJsZTogaXNWaXNpYmxlfSI+PC9kaXY+IDxkaXYgY2xhc3M9ImltYWdlIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBJbWFnZUZvcm1JdGVtfXtAd2lkZ2V0OiBJbWFnZUZvcm1JdGVtfXtAdmlzaWJsZTogaXNWaXNpYmxlfSI+PC9kaXY+IDxkaXYgY2xhc3M9ImxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBMYWJlbEZvcm1JdGVtfXtAd2lkZ2V0OiBMYWJlbEZvcm1JdGVtfXtAdmlzaWJsZTogaXNWaXNpYmxlfSI+PC9kaXY+IDxkaXYgY2xhc3M9Imxpc3Rib3giIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IExpc3RCb3hGb3JtSXRlbX17QHdpZGdldDogTGlzdEJveEZvcm1JdGVtfXtAdmlzaWJsZTogaXNWaXNpYmxlfSI+PC9kaXY+IDxkaXYgY2xhc3M9Im1hcmtkb3duIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBNYXJrZG93bkZvcm1JdGVtfXtAd2lkZ2V0OiBNYXJrZG93bkZvcm1JdGVtfXtAdmlzaWJsZTogaXNWaXNpYmxlfSI+PC9kaXY+IDxkaXYgY2xhc3M9InJhZGlvYnRuIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBSYWRpb0J1dHRvbkZvcm1JdGVtfXtAd2lkZ2V0OiBSYWRpb0J1dHRvbkZvcm1JdGVtfXtAdmlzaWJsZTogaXNWaXNpYmxlfSI+PC9kaXY+IDxkaXYgY2xhc3M9InRleHRhcmVhIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBUZXh0QXJlYUZvcm1JdGVtfXtAd2lkZ2V0OiBUZXh0QXJlYUZvcm1JdGVtfXtAdmlzaWJsZTogaXNWaXNpYmxlfSI+PC9kaXY+IDxkaXYgY2xhc3M9InRleHRib3giIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IFRleHRCb3hGb3JtSXRlbX17QHdpZGdldDogVGV4dEJveEZvcm1JdGVtfXtAdmlzaWJsZTogaXNWaXNpYmxlfSI+PC9kaXY+IDxkaXYgY2xhc3M9InRleHRhcmVhIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtc2VsZWN0OiBUaW1lUGlja2VyRm9ybUl0ZW19e0B3aWRnZXQ6IFRpbWVQaWNrZXJGb3JtSXRlbX17QHZpc2libGU6IGlzVmlzaWJsZX0iPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/GroupBoxFormItemView.html","html","PGZpZWxkc2V0PiA8bGVnZW5kIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBoZWFkZXJ9Ij48L2xlZ2VuZD4gPHAgY2xhc3M9ImZvcm0taXRlbSBmb3JtLWRlc2MiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBkZXNjcmlwdGlvbn17aW5uZXJIVE1MOiBkZXNjcmlwdGlvbn0iPjwvcD4gIDxkaXYgY2xhc3M9ImZvcm0gbGFiZWwtbGVmdCIgZGF0YS1iaW5kaW5nPSJ7c3R5bGU6IGF0dGFjaGVkX3N0eWxlfXtAY2xhc3MtZm9ybS1ob3Jpem9udGFsOiBhdHRhY2hlZF9pc0hvcml6b250YWx9e0Bzb3VyY2U6IGZvcm1JdGVtc317QHRlbXBsYXRlOiBNYXBwaW5nL21vZHVsZXMvV29ya2Zsb3cvRm9ybXMvSXRlbXMvRm9ybUl0ZW1WaWV3Lmh0bWx9Ij48L2Rpdj4gPC9maWVsZHNldD4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/HyperlinkFormItemView.html","html","PGRpdiBjbGFzcz0iaHlwZXJsaW5rIj4gPGEgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrfXtocmVmOiB1cml9e0B0ZXh0OiBoeXBlcmxpbmtUZXh0fXt0YXJnZXQ6dGFyZ2V0fXt0aXRsZTogdG9vbFRpcH0iPjwvYT4gPC9kaXY+IA==");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/ImageFormItemView.html","html","PGRpdiBjbGFzcz0iaW5uZXIiPiA8aW1nIGRhdGEtYmluZGluZz0ie3NyYzogc291cmNlfXtAc3R5bGUtd2lkdGg6IHdpZHRofXtAc3R5bGUtaGVpZ2h0OiBoZWlnaHR9e2FsdDogdG9vbFRpcH0iIC8+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/ListBoxFormItemView.html","html","PGRpdiBjbGFzcz0iaW5uZXIiPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7Zm9yOiBhdHRhY2hlZF9jb250cm9sSWR9IiBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGxhYmVsfXtAdmlzaWJsZTogbGFiZWx9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogbGFiZWx9e0B0ZXh0OiB0ZXh0fSI+PC9zcGFuPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJpbmRpY2F0b3IiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhdHRhY2hlZF9zaG93SW5kaWNhdG9yfSI+Kjwvc3Bhbj4gPC9sYWJlbD4gPGRpdiBjbGFzcz0iZm9ybS1jb250cm9sIj4gPGRpdiBjbGFzcz0ibG9hZGVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNCdXN5fSI+PC9kaXY+IDxzZWxlY3QgZGF0YS1iaW5kaW5nPSJ7aWQ6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHNvdXJjZTogZGF0YUl0ZW1zfXtAdmFyOiBzZWxlY3RFbGVtZW50fXttdWx0aXBsZTogYXR0YWNoZWRfaXNNdWx0aXBsZX17QHZhbHVlOiBzZWxlY3Rpb259e0BldmVudC1vbmNoYW5nZTogaGFuZGxlU2VsZWN0aW9uQ2hhbmdlZH17dGl0bGU6IHRvb2xUaXB9e2Rpc2FibGVkOiBpc0J1c3l9e3NpemU6IHNpemV9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBkYXRhSXRlbXN9e0B0ZXh0OiBkaXNwbGF5fXtAYXR0YWNoOiBAY29udGV4dH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/MarkdownFormItemView.html","html","PGRpdiBjbGFzcz0iaW5uZXIiIGRhdGEtYmluZGluZz0ie0B2YXI6IG1hcmtkb3duRWxlbWVudH0iPjwvZGl2PiA=");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/RadioButtonFormItemView.html","html","PGRpdiBjbGFzcz0icmFkaW9idG4taW5uZXIiPiA8dGFibGU+IDx0cj4gPHRkIGNsYXNzPSJmb3JtLWxhYmVsIGxlZnQiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhdHRhY2hlZF90ZXh0T25MZWZ0fSI+IDxsYWJlbCBkYXRhLWJpbmRpbmc9Intmb3I6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHRleHQ6IGF0dGFjaGVkX2xhYmVsVGV4dH17dGl0bGU6IHRvb2xUaXB9Ij48L2xhYmVsPiA8L3RkPiA8dGQ+IDxpbnB1dCB0eXBlPSJyYWRpbyIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogcmFkaW9FbGVtZW50fXtpZDogYXR0YWNoZWRfY29udHJvbElkfXtuYW1lOiBncm91cE5hbWV9e3RpdGxlOiB0b29sVGlwfSIgLz4gPC90ZD4gPHRkIGNsYXNzPSJmb3JtLWxhYmVsIHJpZ2h0IiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBhdHRhY2hlZF90ZXh0T25MZWZ0fSI+IDxsYWJlbCBkYXRhLWJpbmRpbmc9Intmb3I6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHRleHQ6IGF0dGFjaGVkX2xhYmVsVGV4dH17dGl0bGU6IHRvb2xUaXB9Ij48L2xhYmVsPiA8L3RkPiA8L3RyPiA8L3RhYmxlPiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/TextAreaFormItemView.html","html","PGRpdiBjbGFzcz0iaW5uZXIiPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7Zm9yOiBhdHRhY2hlZF9jb250cm9sSWR9IiBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGxhYmVsfXtAdmlzaWJsZTogbGFiZWx9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogbGFiZWx9e0B0ZXh0OiB0ZXh0fSI+PC9zcGFuPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJpbmRpY2F0b3IiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhdHRhY2hlZF9zaG93SW5kaWNhdG9yfSI+Kjwvc3Bhbj4gPC9sYWJlbD4gPGRpdiBjbGFzcz0iZm9ybS1jb250cm9sIj4gPHRleHRhcmVhIGRhdGEtYmluZGluZz0ie2lkOiBhdHRhY2hlZF9jb250cm9sSWR9e0B2YWx1ZTogdGV4dH17QHN0eWxlLXdpZHRoOiB0ZXh0Ym94V2lkdGh9e0BzdHlsZS1oZWlnaHQ6IHRleHRib3hIZWlnaHR9e3RpdGxlOiB0b29sVGlwfXtAZXZlbnQtb25ibHVyOiBoYW5kbGVCbHVyQ29udHJvbH17cmVhZG9ubHk6IHJlYWRPbmx5fSI+PC90ZXh0YXJlYT4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/TextBoxFormItemView.html","html","PGRpdiBjbGFzcz0iaW5uZXIiPiA8bGFiZWwgZGF0YS1iaW5kaW5nPSJ7Zm9yOiBhdHRhY2hlZF9jb250cm9sSWR9IiBjbGFzcz0iZm9ybS1sYWJlbCI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGxhYmVsfXtAdmlzaWJsZTogbGFiZWx9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogbGFiZWx9e0B0ZXh0OiB0ZXh0fSI+PC9zcGFuPiA8L3NwYW4+IDxzcGFuIGNsYXNzPSJpbmRpY2F0b3IiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhdHRhY2hlZF9zaG93SW5kaWNhdG9yfSI+Kjwvc3Bhbj4gPC9sYWJlbD4gPGRpdiBjbGFzcz0iZm9ybS1jb250cm9sIj4gPGlucHV0IGRhdGEtYmluZGluZz0ie2lkOiBhdHRhY2hlZF9jb250cm9sSWR9e3R5cGU6IGF0dGFjaGVkX3R5cGV9e0B2YWx1ZTogdGV4dH17QHN0eWxlLXdpZHRoOiB0ZXh0Ym94V2lkdGh9e3RpdGxlOiB0b29sVGlwfXtyZWFkb25seTogcmVhZE9ubHl9IiAvPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/TimePickerFormItemView.html","html","PGRpdiBjbGFzcz0iZm9ybS1pdGVtIHRpbWUtcGlja2VyIj4gPGxhYmVsIGRhdGEtYmluZGluZz0ie2ZvcjogYXR0YWNoZWRfY29udHJvbElkfSIgY2xhc3M9ImZvcm0tbGFiZWwiPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBsYWJlbH17QHZpc2libGU6IGxhYmVsfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGxhYmVsfXtAdGV4dDogdGV4dH0iPjwvc3Bhbj4gPC9zcGFuPiA8c3BhbiBjbGFzcz0iaW5kaWNhdG9yIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogYXR0YWNoZWRfc2hvd0luZGljYXRvcn0iPio8L3NwYW4+IDwvbGFiZWw+IDxkaXYgY2xhc3M9ImRhdGV0aW1lLXNlbGVjdCBpbmxpbmUtYmxvY2siIGRhdGEtYmluZGluZz0ie3RpdGxlOiB0b29sVGlwfXtAdmFyOiBzZWxlY3RDb250YWluZXJFbGVtZW50fSI+IDxkaXY+IDxzZWxlY3QgZGF0YS1iaW5kaW5nPSJ7aWQ6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHNvdXJjZTogYXR0YWNoZWRfaG91cnN9e0B2YWx1ZTogYXR0YWNoZWRfaG91cn17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVDaGFuZ2VDb21ib0JveFRpbWV9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBhdHRhY2hlZF9ob3Vyc317QGF0dGFjaGVkLXZhbHVlOiB2YWx9e0B0ZXh0OiBkZXNjfSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGF0dGFjaGVkX21pbnV0ZXN9e0B2YWx1ZTogYXR0YWNoZWRfbWludXRlfXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZUNoYW5nZUNvbWJvQm94VGltZX0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGF0dGFjaGVkX21pbnV0ZXN9e0B0ZXh0OiBAY29udGV4dH17QGF0dGFjaGVkLXZhbHVlOiBAY29udGV4dH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPHNlbGVjdCBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBhdHRhY2hlZF9zZWNvbmRzfXtAdmFsdWU6IGF0dGFjaGVkX3NlY29uZH17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVDaGFuZ2VDb21ib0JveFRpbWV9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBhdHRhY2hlZF9zZWNvbmRzfXtAdGV4dDogQGNvbnRleHR9e0BhdHRhY2hlZC12YWx1ZTogQGNvbnRleHR9Ij48L29wdGlvbj4gPC9zZWxlY3Q+IDwvZGl2PiA8ZGl2IGNsYXNzPSJpbmxpbmUtYmxvY2siIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBudWxsYWJsZX0iPiA8YnV0dG9uIGNsYXNzPSJkYXRldGltZS1idG4gdW4tbnVsbGlmeSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGF0dGFjaGVkX3RpbWVJc051bGx9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja1NldE5vdE51bGx9Ij48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iZGF0ZXRpbWUtYnRuIG51bGxpZnkiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGF0dGFjaGVkX3RpbWVJc051bGx9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja1NldE51bGx9Ij48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJjbGVhciI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Templates/DisplayResultPickerComplexResultTemplateView.html","html","PGRpdiBjbGFzcz0ibGlzdC1tZW51LWNoZWNrYm94IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd0NoZWNrYm94fSI+IDxpbnB1dCBjbGFzcz0iZmVhdHVyZS1jaGVja2JveCIgdHlwZT0iY2hlY2tib3giIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93Q2hlY2tib3h9e0B2YWx1ZTogaXNTZWxlY3RlZH17QGV2ZW50LW9uY2hhbmdlOiBoYW5kbGVDaGVja2JveENoZWNrZWR9IiAvPiA8L2Rpdj4gIA0KPGRpdiBjbGFzcz0ibGlzdC1tZW51LWljb25zIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd0ljb259Ij4gPGltZyBjbGFzcz0ibGlzdC1tZW51LWljb24iIGRhdGEtYmluZGluZz0ie3NyYzogaWNvblVyaX17YWx0OiBsYWJlbH17QHZpc2libGU6IGljb25Vcml9IiAvPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7YWx0OiBsYWJlbH17QGhpZGRlbjogaWNvblVyaX0iIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9tYXAtZGVmYXVsdC0yNC5wbmciIC8+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUtZGV0YWlscyI+IDxzdHJvbmcgY2xhc3M9Imxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBHZXRMYWJlbH17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH17QHZpc2libGU6IGxhYmVsfSI+PC9zdHJvbmc+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1kZXNjIiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBHZXREZXNjcmlwdGlvbn17QHdpZGdldC1jb250ZXh0OiBAY29udGV4dH0iPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Templates/DisplayResultPickerSimpleResultTemplateView.html","html","PGlucHV0IGNsYXNzPSJmZWF0dXJlLWNoZWNrYm94IiB0eXBlPSJjaGVja2JveCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dDaGVja2JveH17QHZhbHVlOiBpc1NlbGVjdGVkfXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZUNoZWNrYm94Q2hlY2tlZH0iIC8+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1kZXRhaWxzIj4gPHN0cm9uZyBjbGFzcz0ibGlzdC1tZW51LW5hbWUiIGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IEdldExhYmVsfXtAd2lkZ2V0LWNvbnRleHQ6IEBjb250ZXh0fXtAdmlzaWJsZTogbGFiZWx9Ij48L3N0cm9uZz4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/ZoomControl/ZoomInView.html","html","PGRpdiBjbGFzcz0iem9vbS1jb250cm9sLWJ0biI+IDxidXR0b24gY2xhc3M9Inpvb20taW4iIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja1pvb21Jbn17dGl0bGU6IEBsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXN0ZXAtem9vbS1pbn0iIHRhYmluZGV4PSIwIj48L2J1dHRvbj4gPC9kaXY+IA==");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/ZoomControl/ZoomOutView.html","html","PGRpdiBjbGFzcz0iem9vbS1jb250cm9sLWJ0biI+IDxidXR0b24gY2xhc3M9Inpvb20tb3V0IiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tab29tT3V0fXt0aXRsZTogQGxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tc3RlcC16b29tLW91dH0iIHRhYmluZGV4PSIwIj48L2J1dHRvbj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Invariant","json","eyJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1kZWJ1Zy1sb2ciOiJEZWJ1ZyBMb2cgezB9IiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1zdGFydC1lZGl0aW5nLW5ldy1mZWF0dXJlIjoiQmVnaW5zIGVkaXRpbmcgYSBuZXcgZmVhdHVyZS4iLCJsYW5ndWFnZS10b29sYmFyLWlkZW50aWZ5LXBvbHlsaW5lLWRlc2Mta2V5Ym9hcmQiOiJUbyBsZWFybiB3aGF0XHUyMDE5cyB0aGVyZSwgdXNlIGFycm93cyB0byBtb3ZlIHRoZSBwb2ludC4gSGl0IEVOVEVSIHRvIHBsb3QgYW5kIGJlZ2luIG1vdmluZyB0aGUgbmV4dCBwb2ludC4gSGl0IEVOVEVSIHR3aWNlIHRvIGZpbmlzaC4iLCJsYW5ndWFnZS1tZW51LXByb2plY3RzLWFjdGlvbnMtcmVmcmVzaC1kZXNjIjoiUmVmcmVzaCB0aGUgbGlzdCBvZiBwcm9qZWN0cy4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1yZXN1bHRzLWZpZWxkLWFyZWEiOiJBcmVhIiwibGFuZ3VhZ2UtbGF5ZXItc2VsZWN0b3ItaWRlbnRpZnktdGl0bGUiOiJJZGVudGlmaWFibGUgTGF5ZXJzIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1vcGVuLXJlc3VsdHMtZnJhbWUiOiJBY3RpdmF0ZXMgdGhlIFJlc3VsdHNSZWdpb24uIiwibGFuZ3VhZ2UtcHJvamVjdC1lZGl0b3ItZXJyb3ItbmFtZS1leGlzdHMiOiJBIHByb2plY3Qgd2l0aCBuYW1lIFwiezB9XCIgYWxyZWFkeSBleGlzdHMuIFBsZWFzZSByZW5hbWUgdGhlIHByb2plY3QgYW5kIHRyeSBhZ2Fpbi4iLCJsYW5ndWFnZS1jYXB0dXJlLWdlb21ldHJ5LXBvaW50IjoiU2VsZWN0IGEgcG9pbnQgb24gdGhlIG1hcC4iLCJsYW5ndWFnZS11cGxvYWQtZGF0YS1lcnJvci1wdWJsaXNoLW5hbWUtdGFrZW4iOiJVbmFibGUgdG8gUHVibGlzaCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24taGlnaGxpZ2h0LWZlYXR1cmUtc2V0IjoiSGlnaGxpZ2h0cyBhbGwgb2YgdGhlIGZlYXR1cmVzIGluIHRoZSBzcGVjaWZpZWQgZmVhdHVyZSBzZXQgaW4gdGhlIGFjdGl2ZSBoaWdobGlnaHQgbGF5ZXIuIiwibGFuZ3VhZ2UtbWVudS1kcmF3LXBvaW50IjoiRHJhdyBhIFBvaW50IiwibGFuZ3VhZ2UtdG9vbGJhci10YXNrcy11cGxvYWQtZGF0YSI6IlVwbG9hZCBEYXRhIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWRzay1wb2ludC10b29sLWtleWJvYXJkIjoiVXNlIGFycm93cyB0byBtb3ZlIHRoZSBwb2ludC4gSGl0IEVOVEVSIHRvIGFkZCB0aGUgZmVhdHVyZS4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1yZXN1bHRzLWZlYXR1cmUtbGFiZWwtc2VnbWVudCI6InswfSwgU2VnbWVudCB7MX0iLCJsYW5ndWFnZS1idWZmZXItb3B0aW9ucy12aWV3IjoiQnVmZmVyIE9wdGlvbnMiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItc2ltcGxlLXRpdGxlIjoiUXVlcnkiLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtc3luYy1jbG9zZS13aGVuLWRvbmUiOiJDbG9zZSB3aGVuIGRvbmUiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItYW5kIjoiYW5kIiwibGFuZ3VhZ2UtbWFwLWNvbnRleHQtbWVudS10aXRsZSI6IlBvaW50IiwibGFuZ3VhZ2UtdXBsb2FkZXItbWVnYWJ5dGUtYWJicmV2aWF0aW9uIjoiTUIiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1ib29rbWFya3MiOiJCb29rbWFya3MgezB9IiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zaGFyaW5nLWNhbnQtY2hhbmdlIjoiWW91IGRvbid0IGhhdmUgcGVybWlzc2lvbiB0byBjaGFuZ2Ugc2hhcmluZy4iLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItc3BhdGlhbC1maWx0ZXItcG9seWdvbnMiOiJBbGwgUG9seWdvbiBEcmF3aW5ncyIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tem9vbS10by1mZWF0dXJlIjoiWm9vbXMgdG8gYSBmZWF0dXJlLiIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy11bmRvYWJsZS1leHBsb2RlIjoiRXhwbG9kZSBGZWF0dXJlcyIsImxhbmd1YWdlLWV4cG9ydC1tYXAtaXMtZXhwb3J0aW5nIjoiUHJlcGFyaW5nIGltYWdlLiBQbGVhc2Ugd2FpdC4uLiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tZmVhdHVyZS1sYXllci1tb2R1bGUtcmVmcmVzaC1kYXRhIjoiUmVmcmVzaGVzIGxheWVyIGVkaXQgc3VtbWFyaWVzIGFuZCB0aGUgXCJzeW5jIG5lZWRlZFwiIGZsYWcuIiwibGFuZ3VhZ2UtdG9vbGJhci10YWItdG9vbHMiOiJUb29scyIsImxhbmd1YWdlLXNlYXJjaC1zZWFyY2gtcHJvbXB0IjoiVHlwZSB5b3VyIHNlYXJjaCB0ZXJtcyIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1kZWxldGUtZnJvbS1zZXJ2ZXItdGl0bGUiOiJEZWxldGUiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1sYXllci1saXN0IjoiTGF5ZXIgTGlzdCB7MH0iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC11bml0LXNxbWV0ZXIiOiJNZXRlcsKyIChtwrIpIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1sYXllcnMtZmVhdHVyZS1jb3VudCI6IkVzdGltYXRlZCBmZWF0dXJlcyIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tYWRkLW1hcmt1cCI6IkFkZHMgdGhlIGdpdmVuIGdlb21ldHJ5IHRvIHRoZSBtYXJrdXAgbGF5ZXIuIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLXNpemUta2IiOiJ7MH0gS0IiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LWZvcm0tbmFtZWQtY29udGFpbmVyLXNob3duIjoiRm9ybSBncm91cCAnezB9JyBzaG93bi4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWhpZ2hsaWdodC1mZWF0dXJlIjoiSGlnaGxpZ2h0cyB0aGUgZmVhdHVyZSBpbiB0aGUgYWN0aXZlIGhpZ2hsaWdodCBsYXllci4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1lcmFzZS1zdGF0dXMta2V5Ym9hcmQiOiJVc2UgYXJyb3dzIHRvIG1vdmUgdGhlIHBvaW50LiBIaXQgRU5URVIgdG8gcmVtb3ZlIGRpc3RhbmNlIG9yIGFyZWEgY2FsY3VsYXRpb24gZnJvbSB0aGUgbWFwLiIsImxhbmd1YWdlLXNhdmVkLXJlc3VsdHMtc2F2ZS1hcyI6IlNhdmUgQXMiLCJsYW5ndWFnZS10b29sYmFyLWdyb3VwLW1lYXN1cmVtZW50IjoiTWVhc3VyZSIsImxhbmd1YWdlLWlkZW50aWZ5LWZyZWVoYW5kLXBvbHlnb24tdG9vbCI6IkRyYWcgb24gdGhlIG1hcCB0byBkcmF3IGEgc2hhcGUuIiwibGFuZ3VhZ2UtdXNlci1zaWduLW91dC1kZXNjIjoiU2lnbiBvdXQgb2YgdGhlIGFwcGxpY2F0aW9uIiwibGFuZ3VhZ2UtcHJvamVjdC1zdGF0dXMtb2ZmbGluZSI6IlVuYWJsZSB0byBjb250YWN0IHRoZSBQcm9qZWN0cyBzZXJ2ZXIuIFJlZmVyIHRvIHRoZSBsb2cgZm9yIG1vcmUgZGV0YWlscy4iLCJsYW5ndWFnZS1tZW51LXpvb20tb3V0IjoiWm9vbSBvdXQiLCJsYW5ndWFnZS1sYXllci1hY3Rpb25zLXRvb2x0aXAiOiJDbGljayB0byBzZWUgbGF5ZXIgYWN0aW9ucyBhdmFpbGFibGUgZm9yIHRoaXMgbGF5ZXIiLCJsYW5ndWFnZS10b29sYmFyLXNuYXBwaW5nLWRpc2FibGUiOiJEaXNhYmxlIFNuYXBwaW5nIiwibGFuZ3VhZ2Utc2VhcmNoLWJpbmctcG9zdGFsLWNvZGUiOiJQb3N0YWwgQ29kZSIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1yZXF1aXJlcy12YWx1ZSI6InswfSByZXF1aXJlcyBhIHZhbHVlIiwibGFuZ3VhZ2UtZmVhdHVyZS1vdmVydmlldy1tYXAtZXJyb3Itc3BhdGlhbC1yZWZlcmVuY2UiOiJPdmVydmlldyBNYXAgbXVzdCBoYXZlIHNhbWUgc3BhdGlhbCByZWZlcmVuY2UgYXMgYmFzZW1hcC4gT3ZlcnZpZXcgTWFwIGRpc2FibGVkLiIsImxhbmd1YWdlLWJvb2ttYXJrcy1uYW1lLWV4aXN0cyI6IkJvb2ttYXJrIHdpdGggdGhpcyBuYW1lIGFscmVhZHkgZXhpc3RzLiBQbGVhc2UgY2hvb3NlIHNvbWUgb3RoZXIgbmFtZS4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXVwZGF0ZS1mZWF0dXJlIjoiVXBkYXRlcyBlaXRoZXIgYSBuZXcgb3IgZXhpc3RpbmcgZmVhdHVyZS4iLCJsYW5ndWFnZS1mZWF0dXJlLWNvb3JkaW5hdGVzLVhZIjoiWC9ZIiwibGFuZ3VhZ2UtdGFibGUtbWFwcGluZy16LWF4aXMiOiJaIEF4aXMgQ29sdW1uIiwibGFuZ3VhZ2UtbWFwLXRpcC1udWxsLWdlb21ldHJ5LXN0YXR1cy1tZXNzYWdlLXZpZXciOiJOdWxsR2VvbWV0cnlTdGF0dXNNZXNzYWdlVmlldyIsImxhbmd1YWdlLWZlYXR1cmUtY29vcmRpbmF0ZXMtZG93bi1hcnJvdyI6IuKWvCIsImxhbmd1YWdlLXdvcmtmbG93LWVycm9yIjoiVGhlcmUgd2FzIGEgd29ya2Zsb3cgZXJyb3IgcnVubmluZyBhY3Rpdml0eTogezB9IiwibGFuZ3VhZ2UtcHJvamVjdHMtZmlsdGVyLXRpdGxlIjoiVHlwZSB5b3VyIGZpbHRlciB0ZXJtcyIsImxhbmd1YWdlLWNvbW1vbi1kZWxldGUiOiJEZWxldGUiLCJsYW5ndWFnZS1tZW51LXJlc3VsdHMtYWRkLWZlYXR1cmUtZGVzYyI6IkFkZCB0aGlzIGZlYXR1cmUgdG8gdGhlIGN1cnJlbnQgc2V0IG9mIHJlc3VsdHMiLCJsYW5ndWFnZS1wcm9qZWN0LWNvbmZpcm0tbG9hZC10aXRsZSI6IkxvYWQgUHJvamVjdCIsImxhbmd1YWdlLXN5bWJvbG9neS1zZXR0aW5ncy1saW5lLXN0eWxlLWRvdCI6IkRvdCIsImxhbmd1YWdlLXByb2plY3QtY29uZmlybS1sb2FkLWRlc2NyaXB0aW9uIjoiQXJlIHlvdSBzdXJlIHlvdSB3aXNoIHRvIGxvYWQgdGhpcyBwcm9qZWN0PyIsImxhbmd1YWdlLWdlb2xvY2F0ZS1lcnJvci10aW1lb3V0IjoiR2VvbG9jYXRpb24gaGFzIHRpbWVkIG91dC4iLCJsYW5ndWFnZS10b29sYmFyLXNob3ctbGF5ZXJsaXN0LWRlc2MiOiJEaXNwbGF5IHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBsYXllcnMiLCJsYW5ndWFnZS1uYXRpdmUtYWRkLXRvLWZhdm9yaXRlcy1uYW1lLWludmFsaWQtdGl0bGUiOiJOYW1lIEludmFsaWQiLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtc2l6ZS1tYiI6InswfSBNQiIsImxhbmd1YWdlLWNsZWFyLXN0b3JhZ2Utdmlldy1lbnRpcmUtZG9tYWluIjoiQWxsIGFwcGxpY2F0aW9ucyBvbiB0aGlzIHdlYnNpdGUiLCJsYW5ndWFnZS1mZWF0dXJlLWF0dGFjaG1lbnRzLW5vLWF0dGFjaG1lbnRzIjoiTm8gYXR0YWNobWVudHMiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctaW52YWxpZC1pbnRlZ2VyIjoiezB9IG11c3QgYmUgYSB2YWxpZCBpbnRlZ2VyLiIsImxhbmd1YWdlLWZlYXR1cmUtY29vcmRpbmF0ZXMtdW5zdXBwb3J0ZWQiOiJUaGUgbW91c2UgY29vcmRpbmF0ZXMgd2lkZ2V0IGRvZXMgbm90IHN1cHBvcnQgbWFwcyB0aGF0IGhhdmUgYSBzcGF0aWFsIHJlZmVyZW5jZSBzeXN0ZW0gdGhhdCBpcyBkZWZpbmVkIGJ5IGEgV2VsbC1Lbm93biBUZXh0IChXS1QpLiBXaWRnZXQgaGlkZGVuLiBJZiB5b3Ugd2lzaCB0byB1c2UgdGhlIHdpZGdldCBwbGVhc2UgdXNlIHRoZSBNYW5hZ2VtZW50IFBhY2sgdG8gZGVmaW5lIGFsdGVybmF0ZSBjb29yZGluYXRlIHN5c3RlbXMuIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbWVhc3VyZS1lbGxpcHNlLXRvb2wtdG9vbHRpcCI6IkNhbGN1bGF0ZSBhcmVhIGZvciBhbiBlbGxpcHNlIiwibGFuZ3VhZ2UtbWVudS1hZGQtYS1mZWF0dXJlLWRlc2MiOiJDcmVhdGUgYSBuZXcgZmVhdHVyZSBvbiB0aGlzIGxheWVyLiIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtc2l6ZS1sYWJlbCI6IkVzdGltYXRlZCBzaXplOiAiLCJsYW5ndWFnZS1jb21tb24tZGVhY3RpdmF0ZS10b29sIjoiRGVhY3RpdmF0ZSBUb29sIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLWRlbGV0ZS1mcm9tLWRldmljZS1jb25maXJtIjoiRG8geW91IHdhbnQgdG8gZm9yZ2V0IHRoaXMgb2ZmbGluZSBtYXAgYW5kIGRlbGV0ZSBhbGwgbG9jYWwgZGF0YT8iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWdlb21ldHJ5LWVycm9yLWVtcHR5IjoiVGhlIG9mZmxpbmUgbWFwIG5lZWRzIGFuIGFyZWEgb2YgaW50ZXJlc3QuIiwibGFuZ3VhZ2UtY2xlYXItc3RvcmFnZS1jb25maXJtIjoiV2FybmluZzogQ2xlYXJpbmcgZGF0YSBmb3IgdGhpcyB2aWV3ZXIgcmVtb3ZlcyBhbGwgc3RvcmVkIG1hcCBkYXRhLCBpbmNsdWRpbmcgYW55IGVkaXRzIG1hZGUgd2hpbGUgb2ZmbGluZS4gSWYgeW91IGNsZWFyIG9mZmxpbmUgZGF0YSwgeW91IHdpbGwgbmVlZCB0byByZWNhY2hlIG1hcCBkYXRhIHdoaWxlIG9ubGluZSBiZWZvcmUgeW91IGNhbiBjb250aW51ZSB3b3JraW5nIG9mZmxpbmUuIiwibGFuZ3VhZ2UtbGF5ZXItZGV0YWlscy1sYXllci1uYW1lLWRlZmF1bHQiOiJMYXllciIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtbGV2ZWxzLXRpdGxlIjoiT2ZmbGluZSBCYXNlbWFwIERldGFpbCIsImxhbmd1YWdlLWdlb2xvY2F0ZS1zdG9wIjoiU3RvcCBHZW9sb2NhdGlvbiIsImxhbmd1YWdlLWVudGVyLW9ubGluZSI6IkdvIHRvIE9ubGluZSBNb2RlIiwibGFuZ3VhZ2UtdG9vbGJhci1ncm91cC10b29scyI6IlRvb2xzIiwibGFuZ3VhZ2UtdG9vbGJhci1lZGl0aW5nLWNyZWF0ZS1uZXctZmVhdHVyZS1nZW9sb2NhdGlvbiI6IlVzZSBHZW9sb2NhdGlvbiIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLWlvcy13YXJuaW5nIjoiQ2FuJ3QgVXBsb2FkIG9uIGlPUyIsImxhbmd1YWdlLXRvb2xiYXItZWRpdGluZy1kYXRhIjoiRGF0YSIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWxkZS1kZXNjcmlwdGlvbiI6IlNldCB0aGUgZGVmaW5pdGlvbiBleHByZXNzaW9uIGZvciB0aGlzIGxheWVyOiIsImxhbmd1YWdlLXNhdmVkLXJlc3VsdHMtc2F2ZS10aXRsZSI6IlNhdmUgUmVzdWx0cyIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tb3Blbi1mZWF0dXJlLXNldC1jb2xsZWN0aW9uIjoiT3BlbnMgdGhlIGZlYXR1cmUgc2V0IGNvbGxlY3Rpb24uIiwibGFuZ3VhZ2UtY29tbW9uLW5vdGlmaWNhdGlvbiI6Ik5vdGlmaWNhdGlvbiIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXNlbGVjdC1mZWF0dXJlLWZvci1lZGl0aW5nIjoiU2VsZWN0IEZlYXR1cmUgZm9yIEVkaXRpbmcgezB9IiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtZHJhd21vZGUtdXAtYXJyb3ciOiJVcCBBcnJvdyIsImxhbmd1YWdlLXVwbG9hZC1kaWFsb2ctc2VsZWN0ZWQtZmlsZS1mbGFnLWV4dGVuc2lvbi1ub3QtYWxsb3dlZCI6IlRoaXMgZmlsZSdzIGV4dGVuc2lvbiBpcyBub3QgcmVjb2duaXplZC4iLCJsYW5ndWFnZS1tZW51LW9mZmxpbmUtbWFwLWVkaXRvci1nZW9tZXRyeS1hY3Rpb25zLXJlY3RhbmdsZS1kZXNjIjoiRHJhdyBhIHJlY3RhbmdsZSBmb3IgdGhlIGFyZWEgb2YgaW50ZXJlc3QgZ2VvbWV0cnkuIiwibGFuZ3VhZ2UtbWVudS1nbG9iYWwtb3Blbi1kZXNjIjoiQ2hvb3NlIGEgcHJldmlvdXNseSBzYXZlZCBwcm9qZWN0IHRvIHJlc3RvcmUgdGhlIHNhdmVkIHN0YXRlIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1idXR0b24tc2F2ZSI6IkZpbmlzaCIsImxhbmd1YWdlLWZlYXR1cmUtcmVsYXRlZC1mZWF0dXJlcyI6IlJlbGF0ZWQiLCJsYW5ndWFnZS1pbnRlZ3JhdGlvbi1zZWxlY3Rvci10ZXh0IjoiU2VsZWN0IE1hcCIsImxhbmd1YWdlLXNlYXJjaC1iaW5nLWNvdW50cnkiOiJDb3VudHJ5IiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLWhpZGUtYWxsLWNvb3JkaW5hdGVzLWRlc2MiOiJUZW1wb3JhcmlseSBoaWRlIGFsbCBjdXJyZW50bHkgcGxvdHRlZCBjb29yZGluYXRlcy4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWNsZWFyLXRlbXBvcmFyeS1tYXJrdXAiOiJSZW1vdmVzIHRlbXBvcmFyeSBtYXJrdXAgY3JlYXRlZCBieSBBZGRUZW1wb3JhcnlNYXJrdXBHZW9tZXRyeS4iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctZ2VvbWV0cnktcG9seWdvbiI6IkVkaXQgdmVydGljZXMgYnkgZHJhZ2dpbmcgdGhlbSwgb3IgcmlnaHQgY2xpY2sgdG8gZGVsZXRlLiBEcmFnIHRoZSBzaGFwZSB0byBtb3ZlIGl0LiBDbGljayBvciB0YXAgb24gdGhlIG1hcCB0byBzdG9wIGVkaXRpbmciLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItc3BhdGlhbC1maWx0ZXItbm9uZSI6Ik5vbmUiLCJsYW5ndWFnZS1leHBvcnQtd2ViLW1hcC1pbnZhbGlkLXRpdGxlIjoiTXVzdCBlbnRlciBhIHRpdGxlLiIsImxhbmd1YWdlLXN5bWJvbG9neS1zZXR0aW5ncy1saW5lLXN0eWxlLWRhc2hkb3Rkb3QiOiJEYXNoLWRvdC1kb3QiLCJsYW5ndWFnZS10b29sYmFyLW5hdmlnYXRpb24tem9vbS1pbiI6Ilpvb20gSW4iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctZHNrLWxpbmUtdG9vbCI6IkNsaWNrIG9yIHRhcCBvbiB0aGUgbWFwIHRvIGFkZCB0d28gb3IgbW9yZSBsaW5lIHBvaW50cy4gRG91YmxlIGNsaWNrL3RhcCB0byBzdG9wIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtY29vcmRpbmF0ZXMtZXJyb3IiOiJFcnJvciBsb2FkaW5nIG1hcCBjb29yZGluYXRlcy4gIiwibGFuZ3VhZ2UtZ2VvbG9jYXRlLXRyYWNrLWluLXByb2dyZXNzIjoiVHJhY2tpbmcgdmlhIGdlb2xvY2F0aW9uLi4uIiwibGFuZ3VhZ2UtdG9vbGJhci1hcmNnaXMtdmlldy1teS1jb250ZW50LXRvb2x0aXAiOiJWaWV3IHlvdXIgY29udGVudCBzdG9yZWQgaW4gQXJjR0lTIiwibGFuZ3VhZ2Utc3ltYm9sb2d5LXNldHRpbmdzLWxpbmUtc3R5bGUiOiJMaW5lIFN0eWxlIiwibGFuZ3VhZ2Utc2l0ZS10cnktbG9nLW9uLWFnYWluIjoiVHJ5IEFnYWluIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtZHJhd2luZyI6IkNyZWF0ZSIsImxhbmd1YWdlLXByaW50LWNvbXBsZXRlLWRlc2NyaXB0aW9uIjoiWW91ciBmaWxlIGlzIHJlYWR5LiBUbyB2aWV3IHRoZSBmaWxlLCBwbGVhc2UgY2xpY2sgJ09wZW4gRmlsZScuIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtcmVzdWx0cy1jb2xsZWN0aW9uLW5hbWUiOiJNZWFzdXJlbWVudCBSZXN1bHRzIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1sZXZlbHMtaW5zdHJ1Y3Rpb25zIjoiVXNlIHRoZSBzbGlkZXIgYmVsb3cgb3Igem9vbSB0aGUgbWFwIHRvIGFkanVzdCB0aGUgbWF4aW11bSBsZXZlbCBvZiBkZXRhaWwgdGhhdCB3aWxsIGJlIHZpc2libGUgZm9yIHRoaXMgbWFwIHdoZW4gb2ZmbGluZS4gTW9yZSBkZXRhaWwgd2lsbCB0YWtlIGxvbmdlciB0byBnZW5lcmF0ZSBhbmQgd2lsbCBjb25zdW1lIG1vcmUgc3BhY2Ugb24geW91ciBkZXZpY2UuIiwibGFuZ3VhZ2UtbWVudS16b29tLXRvLXZpc2libGUtc2NhbGUiOiJab29tIHRvIHZpc2libGUgc2NhbGUiLCJsYW5ndWFnZS1tZW51LWNvbWJpbmUtcmVzdWx0cyI6IkNvbWJpbmUgUmVzdWx0cyIsImxhbmd1YWdlLXVwbG9hZC1kaWFsb2ctc3VwcG9ydGVkLWZpbGVzIjoiLmNzdiwgLnhsc3gsIC5rbWwsIC5zaHAsIC5ncHgsIG9yIGEgLnppcCBjb250YWluaW5nIGEgRmlsZUdEQiBvciBzaGFwZWZpbGVzIiwibGFuZ3VhZ2UtdG9vbGJhci1lcmFzZSI6IkVyYXNlIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWVycm9yLWRpYWxvZ3VlIjoiRXJyb3IgU2F2aW5nIEZlYXR1cmUiLCJsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtZmlsbC1zdHlsZS1udWxsIjoiTm9uZSIsImxhbmd1YWdlLXNlYXJjaC1mc2MtZGlzcGxheS1uYW1lIjoiU2VhcmNoIFJlc3VsdHM6IHswfSIsImxhbmd1YWdlLWJhc2VtYXAtc2xpZGVyLWhhbmRsZSI6IlNsaWRlciBoYW5kbGUiLCJsYW5ndWFnZS1jb25maXJtLWRlZmF1bHQtdGl0bGUiOiJDb25maXJtIiwibGFuZ3VhZ2Utc3ltYm9sb2d5LXNldHRpbmdzLWxpbmUtd2lkdGgiOiJMaW5lIFdpZHRoIiwibGFuZ3VhZ2UtbG9nLWxldmVsIjoiTGV2ZWwiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1tZWFzdXJlLWZyZWVoYW5kLXBvbHlnb24tdG9vbC1zdGF0dXMiOiJIb2xkIHRoZSBtb3VzZSBidXR0b24gb3IgeW91ciBmaW5nZXJ0aXAgZG93biwgdGhlbiBkcmF3IGEgZnJlZWhhbmQgc2hhcGUgYW5kIGZpbmQgYXJlYS4iLCJsYW5ndWFnZS1uYXRpdmUtZmlsZS11cGxvYWQtc3VjY2VzcyI6IkZpbGUgc3VjY2Vzc2Z1bGx5IGF0dGFjaGVkIHRvIGZlYXR1cmUiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWdlb21ldHJ5LWRlc2NyaXB0aW9uIjoiVGhlIGFyZWEgdGhhdCB3aWxsIGJlIGF2YWlsYWJsZSBvZmZsaW5lLiIsImxhbmd1YWdlLWJ1ZmZlci1jbGVhci1idXR0b24tdGl0bGUiOiJDbGVhciBidWZmZXIgb3B0aW9ucyIsImxhbmd1YWdlLXNlYXJjaC1iaW5nLWZvcm1hdHRlZCI6IkZvcm1hdHRlZCBBZGRyZXNzIiwibGFuZ3VhZ2UtbGVnZW5kLWhlYXQtbWFwcy1oaWdoIjoiSGlnaCIsImxhbmd1YWdlLWVudGVyLW9mZmxpbmUiOiJHbyB0byBPZmZsaW5lIE1vZGUiLCJsYW5ndWFnZS1tYXAtc2l0ZS1hdXRob3JpemF0aW9uLWZhaWxlZC1tZXNzYWdlIjoiVGhpcyBzaXRlIGlzIHJlc3RyaWN0ZWQuIiwibGFuZ3VhZ2UtdXBsb2FkLWRpYWxvZy10aXRsZSI6IkFkZCBEYXRhIFRvIE1hcCIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1lbXB0eS11bnN1cHBvcnRlZCI6IllvdXIgdmVyc2lvbiBvZiBHZW9jb3J0ZXggRXNzZW50aWFscyBkb2VzIG5vdCBzdXBwb3J0IHRoZSBhYmlsaXR5IHRvIHN0b3JlIG9mZmxpbmUgbWFwcy4iLCJsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LWxpbmtzLXB1YmxpYy12aWV3LWxhYmVsIjoiVmlldyBMaW5rIChzaWduLWluIG5vdCByZXF1aXJlZCkiLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtc2Vjb25kcy10aXRsZSI6IlNlY29uZHMiLCJsYW5ndWFnZS1uYXRpdmUtZmVhdHVyZS1uby1sYXllci11cmwiOiJFcnJvcjogVGhlIExheWVyIFVybCBmb3IgdGhpcyBsYXllciBpcyBub3QgYXZhaWxhYmxlIG9yIGlzIG5vdCBjb25maWd1cmVkIGNvcnJlY3RseS4gRmlsZSB1cGxvYWQgZmFpbGVkLiIsImxhbmd1YWdlLXZpc3VhbGl6YXRpb24tbm9uZSI6Ik5vbmUiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LWZvcm0tdW5uYW1lZC1jb250YWluZXItc2hvd24iOiJGb3JtIGdyb3VwIHNob3duLiIsImxhbmd1YWdlLXRvb2xiYXItaWRlbnRpZnktZnJlZWhhbmQtZGVzYyI6IkNsaWNrL3RhcCBhbmQgaG9sZCBkb3duLCB0aGVuIGRyYXcgYSBmcmVlaGFuZCBzaGFwZSB0byBsZWFybiB3aGF0XHUyMDE5cyB0aGVyZS4iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLXNpemUtdW5rbm93biI6InVua25vd24iLCJsYW5ndWFnZS1ib29rbWFya3MtbmFtZS1yZXF1aXJlZCI6IkJvb2ttYXJrIG5hbWUgaXMgcmVxdWlyZWQiLCJsYW5ndWFnZS1zZWFyY2gtYmluZy1hZGRyZXNzIjoiQWRkcmVzcyIsImxhbmd1YWdlLXRvb2xiYXItdGFza3MtaWRlbnRpZnktdG9vbHRpcCI6IkZpbmQgZGF0YSBvbiB0aGUgbWFwIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLWZldGNoLWVycm9yIjoiVW5hYmxlIHRvIGZldGNoIHRoZSBPZmZsaW5lIE1hcCBmcm9tIHRoZSBzZXJ2ZXIgZm9yIGVkaXRpbmcuIiwibGFuZ3VhZ2UtYnVmZmVyLWNhbmNlbC1idXR0b24tdGl0bGUiOiJDYW5jZWwgYnVmZmVyIG9wdGlvbnMiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC11bml0LXNxbWlsZS1zaG9ydCI6Im1pwrIiLCJsYW5ndWFnZS1vZmZsaW5lLWRhdGEtY2xlYXJlZC10aXRsZSI6IkNvbXBsZXRlZCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24taWRlbnRpZnkiOiJFeGVjdXRlcyBhbiBpZGVudGlmeSBvcGVyYXRpb24gb24gYSBnZW9tZXRyeS4iLCJsYW5ndWFnZS1zYXZlZC1yZXN1bHRzLXJlbmFtZS1wcm9tcHQiOiJUeXBlIHRoZSBuZXcgbmFtZSBmb3Igc2F2ZWQgcmVzdWx0cyIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXNpbXBsZS1xdWVyeSI6IlNpbXBsZSBRdWVyeSB7MH0iLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItc2ltcGxlLWRlc2NyaXB0aW9uIjoiU2hvdyBzaW1wbGUgcXVlcnkgYnVpbGRlci4iLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1ub25lIjoiTm9uZS4iLCJsYW5ndWFnZS1nZW9sb2NhdGUtZXJyb3ItcHJvamVjdGlvbiI6IlRoZXJlIHdhcyBhbiBlcnJvciBwcm9qZWN0aW5nIGdlb2xvY2F0aW9uOiB7MH0iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy1hbHQtZGVmYXVsdCI6IkdyYXkgc3F1YXJlIHdpdGggYSBjaGVja21hcmsgaW4gdGhlIGNlbnRlciIsImxhbmd1YWdlLW9mZmxpbmUtcHJvdmlzaW9uaW5nLXNlY3VyZS1zaXRlLXNhdmVkIjoiVGhlIHNpdGUgd2FzIHNhdmVkLiIsImxhbmd1YWdlLWNvbXBhY3QtdG9vbGJhci1uYW1lIjoiQ29tcGFjdCBUb29sYmFyIiwibGFuZ3VhZ2Utb2ZmbGluZS1wcm92aXNpb25pbmctc3VjY2VlZGVkIjoiVGhlIHZpZXdlciBpcyBwcmVwYXJlZCBmb3Igb2ZmbGluZSB1c2UuIiwibGFuZ3VhZ2UtcHJvamVjdC1jb25maXJtLXJlbW92ZS1ndWVzdC1saW5rLWRlc2NyaXB0aW9uIjoiQXJlIHlvdSBzdXJlIHlvdSB3aXNoIHRvIHJlbW92ZSB0aGlzIGd1ZXN0IGxpbms/IEFmdGVyIHlvdSBzYXZlLCB0aGUgbGluayB3aWxsIG5vIGxvbmdlciBsb2FkIHRoZSBwcm9qZWN0LiIsImxhbmd1YWdlLWxheWVyLXNlbGVjdG9yLXNuYXBwaW5nLWNsZWFyLWFsbC10b29sdGlwIjoiQ2xlYXIgYWxsIHNuYXBwYWJsZSBsYXllcnMiLCJsYW5ndWFnZS1wcm9qZWN0LWNvbmZpcm0tc3RvcC1zaGFyaW5nLWFsbC1kZXNjcmlwdGlvbiI6IkFyZSB5b3Ugc3VyZSB5b3Ugd2lzaCB0byBzdG9wIHNoYXJpbmcgcHJvamVjdCBcInswfVwiPyBUaGlzIHdpbGwgZGlzYWJsZSBhbnkgZ3Vlc3QgbGlua3MgYW5kIHJlbW92ZSBhY2Nlc3MgdG8gdGhlIHByb2plY3QgZXhjZXB0IGZvciB5b3UgYW5kIGFueSBvdGhlciBvd25lcnMuIiwibGFuZ3VhZ2UtdG9vbGJhci10YWItb2ZmbGluZSI6Ik9mZmxpbmUiLCJsYW5ndWFnZS1tZW51LXNob3ctcmVzdWx0cy10YWJsZS1kZXNjIjoiU3dpdGNoIHRvIFRhYmxlIFZpZXciLCJsYW5ndWFnZS11cGxvYWQtZGlhbG9nLXZhbGlkYXRpb24tZXJyb3Itc2hhcGVmaWxlLWluY29tcGxldGUiOiJTaGFwZWZpbGUgaW5jb21wbGV0ZS4iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJ1dHRvbi1wcmV2aW91cyI6IkJhY2siLCJsYW5ndWFnZS10b29sYmFyLW1lbnUtZ2xvYmFsLXNhdmUtYXMiOiJTYXZlIGFzIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtdW5pdC1zcW5hdXRpY2FsbWlsZS1zaG9ydCI6Ik5NwrIiLCJsYW5ndWFnZS10YWJsZS1yZWNvcmQtcmVzdWx0cy1kaWFsb2ctYWNjZXB0ZWQtcmVjb3Jkcy1tZXNzYWdlIjoiezB9IHBhc3NlZC4iLCJsYW5ndWFnZS1jb21tb24tcmVzdWx0cy1yZXBsYWNlLWNvbmZpcm1hdGlvbiI6Iid7MH0nIHJlcGxhY2VkIHdpdGggezF9IiwibGFuZ3VhZ2UtbGF5ZXJsaXN0LW9wYWNpdHktc2xpZGVyLXBlcmNlbnQiOiJwZXJjZW50IiwibGFuZ3VhZ2Utc3ltYm9sb2d5LXNldHRpbmdzLW1hcmtlci1zaXplIjoiTWFya2VyIFNpemUiLCJsYW5ndWFnZS10b29sYmFyLXRhYi1ob21lIjoiSG9tZSIsImxhbmd1YWdlLWZlYXR1cmUtcmVsYXRlZC1ub3QtcmVsYXRpb24iOiJUaGVyZSBhcmUgbm8gZmVhdHVyZXMgcmVsYXRlZCB0byB0aGlzIGZlYXR1cmUuIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1yZW1vdmUtc3RhdHVzIjoiUmVtb3ZlcyB0aGUgc3RhdHVzIGluZGljYXRvciBmcm9tIHRoZSBzY3JlZW4gd2l0aCB0aGUgc3BlY2lmaWVkIElELiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tdG9nZ2xlLXJlc3VsdHMtZnJhbWUiOiJBY3RpdmF0ZXMgb3IgZGVhY3RpdmF0ZXMgUmVzdWx0cyBmcmFtZS4iLCJsYW5ndWFnZS10YWJsZS1tYXBwaW5nLWRpYWxvZy1wcm9jZWVkIjoiQ29uZmlybSIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXJlc3VsdHMtbGlzdCI6IlJlc3VsdHMgTGlzdCB7MH0iLCJsYW5ndWFnZS10b29sYmFyLW5hdmlnYXRpb24taG9tZSI6IkhvbWUiLCJsYW5ndWFnZS1mZWF0dXJlLWNvb3JkaW5hdGVzLVdLVCI6IldLVCIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLW51bWZlYXR1cmVzLXRpdGxlIjoiVGhpcyBsYXllciBjdXJyZW50bHkgaGFzICd7MH0nIGZlYXR1cmVzIHdpdGhpbiB0aGUgYXJlYSBvZiBpbnRlcmVzdC4gIFRoZXJlIG1heSBiZSBtb3JlIG9yIGZld2VyIGF0IHRoZSB0aW1lIG9mIHN5bmMuIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1zaG93LWZlYXR1cmUtbGF5ZXItbW9kYWwtbWVzc2FnZSI6IkNyZWF0ZXMgYSBNb2RlbE1lc3NhZ2VWaWV3IHZpZXcgYW5kIGRpc3BsYXlzIHRoZSBnaXZlbiBtZXNzYWdlLiIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWVkaXQiOiJFZGl0IiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1sYXllcnMtbGRlLXRpdGxlIjoiRGVmaW5pdGlvbiBFeHByZXNzaW9uIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbWVhc3VyZS1mcmVlaGFuZC1saW5lLXRvb2wtbmFtZSI6IkZyZWVoYW5kIExpbmUiLCJsYW5ndWFnZS1kaXNwbGF5LXJlc3VsdC1waWNrZXItc2VsZWN0LWFsbCI6IlNlbGVjdCBBbGwiLCJsYW5ndWFnZS11cGxvYWQtZGF0YS1lcnJvci1nZW9jb2RpbmctdW5hdXRoZW50aWNhdGVkLW1lc3NhZ2UiOiJVbmFibGUgdG8gcGVyZm9ybSBnZW9jb2RpbmcuIFlvdSBhcmUgbm90IGF1dGhlbnRpY2F0ZWQgdG8gdXNlIHRoZSBiYXRjaCBnZW9jb2RlciB3aXRoIHlvdXIgY3VycmVudCBjcmVkZW50aWFscy4iLCJsYW5ndWFnZS1jb21tb24tcGFuLWRlc2NyaXB0aW9uIjoiUGFuIHRoZSBtYXAgdG8gY2VudGVyIHRoaXMgZmVhdHVyZSIsImxhbmd1YWdlLXRvb2xiYXItbmF2aWdhdGlvbi1wcmV2aW91cy1leHRlbnQiOiJQcmV2aW91cyBFeHRlbnQiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1yZXN1bHRzLWZpZWxkLWJlYXJpbmciOiJCZWFyaW5nIiwibGFuZ3VhZ2UtdG9vbGJhci1ncm91cC1tZWFzdXJlbWVudC10b29scyI6Ik1lYXN1cmUiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItb3BlcmF0b3Itbm90LW51bGwiOiJpcyBub3QgbnVsbCIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1zZWxlY3QtZmlsdGVyIjoiU2VsZWN0IGZpbHRlciIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1jb25maXJtLWxvdy1hY2N1cmFjeS1nZW9sb2NhdGlvbiI6IlRoaXMgZ2VvbG9jYXRpb24gcmVzdWx0IGlzIGFjY3VyYXRlIHdpdGhpbiB7MH0gbWV0ZXJzLiBUbyBwbGFjZSB0aGUgZmVhdHVyZSBhdCB0aGlzIGxvY2F0aW9uLCBzZWxlY3QgezF9LiBUbyBzZWxlY3QgYSBkaWZmZXJlbnQgbG9jYXRpb24gb24gdGhlIG1hcCwgc2VsZWN0IHsyfS4iLCJsYW5ndWFnZS1mZWF0dXJlLW92ZXJ2aWV3LW1hcC1lcnJvci1uby1iYXNlLWxheWVyIjoiTm8gdmFsaWQgYmFzZSBsYXllciBmb3VuZCBmb3Igb3ZlcnZpZXcgbWFwLiIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXBvaW50IjoiUG9pbnQiLCJsYW5ndWFnZS1uYXRpdmUtb2ZmbGluZS1maWxlLXVwbG9hZC1lcnJvciI6IkVycm9yIHN0b3Jpbmcgb2ZmbGluZSBhdHRhY2htZW50LiBZb3UgbWF5IGJlIG91dCBvZiBvZmZsaW5lIHN0b3JhZ2Ugc3BhY2UuIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtZm9jdXNlZCI6Ik1hcCBmb2N1c2VkLiIsImxhbmd1YWdlLW5hdGl2ZS1jbG9zZS1hcHBsaWNhdGlvbi1kZXNjIjoiQ2xvc2VzIHRoZSBjdXJyZW50IGFwcGxpY2F0aW9uIGFuZCByZXR1cm5zIHRvIHRoZSBtYWluIG1lbnUuIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1oaWRlLWZlYXR1cmUtbGF5ZXItbW9kYWwtbWVzc2FnZSI6IlJlbW92ZXMgYSBtb2RhbCBtZXNzYWdlLiIsImxhbmd1YWdlLWNvbW1vbi1zeW5jLWNvbXBsZXRlIjoiU3luY2hyb25pemF0aW9uIGNvbXBsZXRlIiwibGFuZ3VhZ2UtZXhwb3J0LW1hcC1zZWxlY3QtaW1hZ2UtZm9ybWF0IjoiU2VsZWN0IEltYWdlIEZvcm1hdCIsImxhbmd1YWdlLWNhcHR1cmUtZ2VvbWV0cnktZnJlZWhhbmQtcG9seWdvbiI6IkRyYXcgYSBmcmVlaGFuZCBzaGFwZSBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLWNhcHR1cmUtZ2VvbWV0cnktcG9seWdvbi1rZXlib2FyZCI6IlVzZSBhcnJvd3MgdG8gbW92ZSB0aGUgcG9pbnQuIEhpdCBFTlRFUiB0byBwbG90IGFuZCBiZWdpbiBtb3ZpbmcgdGhlIG5leHQgcG9pbnQuIEhpdCBFTlRFUiB0d2ljZSB0byBmaW5pc2guIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWFkZC1nZW9tZXRyeS1jYXB0aW9uIjoiQWRkIEdlb21ldHJ5IiwibGFuZ3VhZ2UtZ2VvbG9jYXRlLWVycm9yLXVua25vd24iOiJVbmtub3duIEVycm9yIiwibGFuZ3VhZ2UtbGlzdC1yZXBvcnRzLWV4cGxhbmF0aW9uIjoiVGhlIGZvbGxvd2luZyByZXBvcnRzIGFyZSBhdmFpbGFibGUgZm9yIHRoZSBmZWF0dXJlcyB5b3Ugc2VsZWN0ZWQ6IiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zaGFyZS13aXRoLWxhYmVsIjoiU2hhcmUgb2ZmbGluZSBtYXAgd2l0aCIsImxhbmd1YWdlLXRvb2xiYXItbmF2aWdhdGlvbi1uZXh0LWV4dGVudCI6Ik5leHQgRXh0ZW50IiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtdmlzaWJsZS1mZWF0dXJlcyI6IlZpc2libGUgRmVhdHVyZXM6IHswfSIsImxhbmd1YWdlLWxvZy1uby1lbnRyaWVzIjoiTm8gRW50cmllcyIsImxhbmd1YWdlLW5hdGl2ZS1hZGQtdG8tZmF2b3JpdGVzLXZpZXdlci1uYW1lIjoiUGxlYXNlIGVudGVyIGEgbmFtZSBmb3IgdGhpcyBhcHBsaWNhdGlvbi4iLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1jbGVhciI6IkNsZWFyIiwibGFuZ3VhZ2UtdG9vbGJhci10YXNrcy1leHBvcnQtbWFwLXRvb2x0aXAiOiJTYXZlIGEgbWFwIGltYWdlIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLW5vLXN5bWJvbG9neSI6IllvdSBjYW5ub3QgZWRpdCB0aGUgc3ltYm9sb2d5IG9mIHRoaXMgZmVhdHVyZS4iLCJsYW5ndWFnZS1jYXB0dXJlLWdlb21ldHJ5LXBvbHlsaW5lX3Rvb2x0aXAiOiJTZWxlY3QgYnkgcG9seWxpbmUiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC11bml0LWtpbG9tZXRlciI6IktpbG9tZXRlcnMgKGttKSIsImxhbmd1YWdlLW9mZmxpbmUtcHJvdmlzaW9uaW5nLXNlY3VyZS1sYXllcnMtc2F2ZWQiOiJEb25lISIsImxhbmd1YWdlLXRvb2xiYXItbWVudS1nbG9iYWwtb3Blbi1kZXNjIjoiQ2hvb3NlIGEgcHJldmlvdXNseSBzYXZlZCBwcm9qZWN0IHRvIHJlc3RvcmUgdGhlIHNhdmVkIHN0YXRlIiwibGFuZ3VhZ2UtYXV0aC11c2VybmFtZS1lbXB0eSI6IlVzZXJuYW1lIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWQuIFBsZWFzZSB0cnkgYWdhaW4uIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWNyZWF0ZS1lZGl0LXNlbGVjdC1leGlzdGluZy1mZWF0dXJlIjoiU2VsZWN0IEV4aXN0aW5nIEZlYXR1cmUiLCJsYW5ndWFnZS1jb21tb24tcGFuIjoiUGFuIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1sYXllcnMtbnVtZmVhdHVyZXMtY2FsY3VsYXRpbmciOiJjYWxjdWxhdGluZy4uLiIsImxhbmd1YWdlLWNsdXN0ZXJpbmctcmFkaXVzIjoiUmFkaXVzIiwibGFuZ3VhZ2UtZXhwb3J0LW1hcC1jcmVhdGUtaW1hZ2UiOiJDcmVhdGUgSW1hZ2UiLCJsYW5ndWFnZS1uYXRpdmUtYWRkLXRvLWZhdm9yaXRlcyI6IkFkZCBhcHBsaWNhdGlvbiB0byBmYXZvcml0ZXMiLCJsYW5ndWFnZS1leHBvcnQtbWFwLWluY2x1ZGUtZ2VvcmVmZXJlbmNlLWRhdGEiOiJJbmNsdWRlIEdlb3JlZmVyZW5jZSBEYXRhIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWNyZWF0ZS1lZGl0LXNlbGVjdC1nZW9tZXRyeS1kZXNjcmlwdGlvbiI6IkNob29zZSBtZXRob2QgdG8gZGVmaW5lIGZlYXR1cmUncyBnZW9tZXRyeSIsImxhbmd1YWdlLXRvb2xiYXItaWRlbnRpZnktcG9seWdvbiI6IlBvbHlnb24iLCJsYW5ndWFnZS11c2VyLW9wZW5tZW51IjoiT3BlbiBVc2VyIGluZm8gbWVudSIsImxhbmd1YWdlLXByb2plY3QtZWRpdG9yLWRlc2NyaXB0aW9uLXRpdGxlIjoiUHJvamVjdCBEZXNjcmlwdGlvbiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXVuaXQtc3FtaWxlIjoiTWlsZcKyIChtacKyKSIsImxhbmd1YWdlLXJlc3VsdHMtdG9nZ2xlLWxpc3QtdmlldyI6IlN3aXRjaCB0byBMaXN0IiwibGFuZ3VhZ2Utb2ZmbGluZS1lcnJvci1jbGVhcmluZy1kYXRhIjoiRXJyb3IgY2xlYXJpbmcgb2ZmbGluZSBkYXRhOiB7MH0iLCJsYW5ndWFnZS1uYXRpdmUtYXR0YWNoLXBob3RvIjoiQXR0YWNoIGEgcGhvdG8gZnJvbSB0aGUgY2FtZXJhIG9yIGdhbGxlcnkiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1hcmVhLWxhYmVsIjoiQXJlYSIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXBvbHlsaW5lLWZpbmFsLW1hcmt1cC1sYWJlbCI6IlRvdGFsOiB7MH0gezF9IiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1yZWNlbnRlci1tYXAtb24tbmV4dC1tYXAtcmVzaXplIjoiUmVjZW50ZXJzIHRoZSBtYXAgdG8gaXRzIGV4aXN0aW5nIHBvc2l0aW9uIHRoZSBuZXh0IHRpbWUgdGhlIG1hcCBpcyByZXNpemVkLiIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1jbGVhciI6IkNsZWFyIiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLW9wZXJhdG9yLWdyZWF0ZXItdGhhbiI6Ij4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWNyZWF0ZS1hdHRhY2htZW50IjoiQ3JlYXRlcyBhIGZlYXR1cmUgYXR0YWNobWVudC4iLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1ob21lLXBhbmVsIjoiSG9tZSBQYW5lbCB7MH0iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctcmVsYXRlZC1rZXktZmllbGQtbWlzc2luZyI6InswfSBpcyBhIGtleSBmaWVsZCBhbmQgcmVxdWlyZXMgYSB2YWx1ZS4gUGxlYXNlIGFzc2lnbiBhIHZhbHVlIHRvIHRoZSBmZWF0dXJlIGFuZCBzYXZlIGl0LiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LW1lYXN1cmUtcmVjdGFuZ2xlLXRvb2wtdG9vbHRpcCI6IkNhbGN1bGF0ZSBhcmVhIGZvciBhIHJlY3RhbmdsZSIsImxhbmd1YWdlLWhlYXQtbWFwcy1pbnRlbnNpdHktc2xpZGVyLW1pbi1sYWJlbCI6IjAiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWNyZWF0ZS1mZWF0dXJlIjoiQ3JlYXRlcyBhIG5ldyBmZWF0dXJlLiIsImxhbmd1YWdlLXByaW50aW5nLXByaW50LXJlcXVlc3Qtc3RhcnQtZGVzY3JpcHRpb24iOiJZb3VyIHByaW50IGpvYiBoYXMgYmVndW4uIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtdW5pdC1zcW1ldGVyLXNob3J0IjoibcKyIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1jcmVhdGUtcmVsYXRlZC1yZWNvcmQiOiJDcmVhdGVzIGEgcmVsYXRlZCB0YWJsZSByZWNvcmQuIiwibGFuZ3VhZ2UtdG9vbGJhci1lZGl0aW5nLWVkaXQiOiJFZGl0IiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1wdWxzZS1zdGF0dXMiOiJSZXNldHMgdGhlIHRpbWVyIG9mIHRoZSBzdGF0dXMgdmlld01vZGVsLiIsImxhbmd1YWdlLXRvb2xiYXItZ3JvdXAtaG9tZSI6IkJhc2ljIFRvb2xzIiwibGFuZ3VhZ2UtdG9vbGJhci1hbmFseXNpcy1sb2NhdGlvbi1pbmZvIjoiTG9jYXRpb24gSW5mbyIsImxhbmd1YWdlLW1lbnUtZ2xvYmFsLXNhdmUtZGVzYyI6IlNhdmUgdGhlIHN0YXRlIG9mIHlvdXIgdmlld2VyIGluIGEgcHJvamVjdCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tZGVzdHJveS12aWV3IjoiRGVzdHJveXMgYSB2aWV3LCB3aXBpbmcgb3V0IGl0cyBiaW5kaW5nIGFuZCBET00gc3Vic3RydWN0dXJlcy4iLCJsYW5ndWFnZS1jb21tb24tb2siOiJPSyIsImxhbmd1YWdlLWNsdXN0ZXJpbmctbmFtZSI6IkZlYXR1cmUgQ2x1c3RlcmluZyIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1zaG93LWFsbC1jb29yZGluYXRlcy1kZXNjIjoiVW5oaWRlIGFsbCBoaWRkZW4gY29vcmRpbmF0ZXMgYW5kIHNob3cgdGhlbSBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1uby12YWxpZC1maWx0ZXItbGF5ZXJzIjoiVGhlIGFwcGxpY2F0aW9uIGRvZXMgbm90IGNvbnRhaW4gYW55IGZpbHRlcmFibGUgbGF5ZXJzLiIsImxhbmd1YWdlLXRvb2xiYXItbm90LWF2YWlsYWJsZSI6IlRvb2xiYXIgaXMgbm90IGF2YWlsYWJsZSIsImxhbmd1YWdlLXRhYmxlLW1hcHBpbmctc291cmNlLXNwYXRpYWwtcmVmZXJlbmNlLWN1c3RvbSI6IkN1c3RvbSBXS0lEL1dLVCIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbmFtZS1sYWJlbCI6Ik5hbWU6IiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLWNvZGVkLXZhbHVlIjoiU2VsZWN0IGNvZGVkIHZhbHVlIiwibGFuZ3VhZ2UtbmF0aXZlLWZpbGUtZnJvbS1icm93c2VyIjoiQXR0YWNoIGZpbGUgb3IgcGhvdG8gdG8gZmVhdHVyZSIsImxhbmd1YWdlLW9mZmxpbmUtdXBkYXRlLWRvd25sb2FkZWQtcmVzb3VyY2VzIjoiQW4gdXBkYXRlZCBvZmZsaW5lIGJ1bmRsZSBpcyBhdmFpbGFibGUuIFJlLXByb3Zpc2lvbmluZyB2aWV3ZXIuLi4iLCJsYW5ndWFnZS1tYXAtY29vcmRpbmF0ZXMtV0tJRCI6IldLSUQiLCJsYW5ndWFnZS1wcm9qZWN0LWNvbmZpcm0tZGVsZXRlLXRpdGxlIjoiRGVsZXRlIFByb2plY3QiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLW5vbmUiOiJOb25lIiwibGFuZ3VhZ2UtaXMtcHJpbnRpbmciOiJQcmVwYXJpbmcgZmlsZS4gUGxlYXNlIHdhaXQuLi4iLCJsYW5ndWFnZS1tZW51LW1hcC1sYXllcnMtZGVzYyI6IkFsdGVyIHZpc2liaWxpdHkgb2YgbWFwIGxheWVycywgcGVyZm9ybSBsYXllciBhY3Rpb25zLCBhbmQgdmlldyB0aGUgbGVnZW5kLiIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1lbXB0eS1mZXRjaGluZyI6IkZldGNoaW5nIE9mZmxpbmUgTWFwcy4uLiIsImxhbmd1YWdlLXByb2plY3RzLXNvcnQtc2VsZWN0b3ItdGl0bGUiOiJTb3J0IHByb2plY3RzIGJ5IiwibGFuZ3VhZ2UtdXBsb2FkLWRpYWxvZy12YWxpZGF0aW9uLWVycm9yLWV4dGVuc2lvbi1ub3QtYWxsb3dlZCI6IkludmFsaWQgZmlsZSBmb3JtYXQgZGV0ZWN0ZWQuIiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLWZpbHRlciI6IkZpbHRlciIsImxhbmd1YWdlLXRvb2xiYXItdG9nZ2xlLWJ1ZmZlci1vbi1uYW1lIjoiQnVmZmVyIE9wdGlvbnMiLCJsYW5ndWFnZS1tZW51LWFjY2Vzc2liaWxpdHktcGFuZWwiOiJWaWV3IHRoZSBhY2Nlc3NpYmlsaXR5IHBhbmVsIiwibGFuZ3VhZ2UtaGVhdC1tYXBzLWludGVuc2l0eS1zbGlkZXItdG9vbHRpcCI6IkFkanVzdCBoZWF0IG1hcCBpbnRlbnNpdHkgKGluIHBpeGVscykiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1jaGFuZ2Utc3R5bGVzLWRpYWxvZy10aXRsZSI6IlNlbGVjdCBEZXNpcmVkIFN0eWxpbmciLCJsYW5ndWFnZS12aXN1YWxpemF0aW9uLXNlbGVjdCI6IlNlbGVjdCBhIHZpc3VhbGl6YXRpb24gZm9yIHlvdXIgbGF5ZXI6IiwibGFuZ3VhZ2UtbWVudS1saXN0LW9mZmxpbmUtbWFwcy1hY3Rpb25zLXJlZnJlc2giOiJSZWZyZXNoIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWRzay1wb2ludC10b29sIjoiQ2xpY2sgb3IgdGFwIG9uIHRoZSBtYXAgdG8gYWRkIHRoZSBmZWF0dXJlLiIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWZyZWVoYW5kLXBvbHlnb24iOiJGcmVlaGFuZCBTaGFwZSIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tb3Blbi1kYXRhLWZyYW1lIjoiT3BlbnMgdGhlIERhdGFSZWdpb24sIGlmIHByZXNlbnQgaW4gdGhlIGN1cnJlbnQgc2hlbGwuIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtY2hhbmdlLW1hcmt1cC1zdHlsZS10b29sdGlwIjoiQ2hvb3NlIHN0eWxpbmcgZm9yIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZHJhd2luZyB0b29sIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1ub3RpbGVkIjoiVGhlcmUgaXMgbm8gdGlsZWQgTWFwIFNlcnZpY2UgaW4gdGhpcyBiYXNlbWFwIHRvIHN3YXAgZm9yIGEgVFBLLiIsImxhbmd1YWdlLXdvcmtmbG93LXdvcmtmbG93cyI6IldvcmtmbG93cyIsImxhbmd1YWdlLW9mZmxpbmUtcHJvdmlzaW9uaW5nLXNlY3VyZS1zaXRlIjoiU2F2aW5nIHRoZSBzZWN1cmVkIHNpdGUuLi4iLCJsYW5ndWFnZS1pZGVudGlmeS1wb2x5Z29uLXRvb2wiOiJDbGljayBvciB0YXAgb25jZSB0byBhZGQgcG9pbnRzLCB0d2ljZSB0byBmaW5pc2guIiwibGFuZ3VhZ2UtbWVudS1ib29rbWFyay1hZGQiOiJCb29rbWFyayBjdXJyZW50IG1hcCBleHRlbnQiLCJsYW5ndWFnZS1kc2stbWFwLWNlbnRlciI6IkNsaWNrIHRvIGNlbnRlciB0aGUgbWFwIGF0IHRoYXQgcG9pbnQuIiwibGFuZ3VhZ2UtdG9vbGJhci1hcmNnaXMtdmlldy1teS1jb250ZW50IjoiVmlldyBNeSBDb250ZW50IiwibGFuZ3VhZ2UtbWVudS1vZmZsaW5lLW1hcC1lZGl0b3ItZ2VvbWV0cnktYWN0aW9ucy1kZXNjIjoiR2VvbWV0cnkgQWN0aW9ucyIsImxhbmd1YWdlLWxlZ2VuZC1pY29uLWFsdC10ZXh0IjoiTGVnZW5kIEljb24gZm9yIHswfSIsImxhbmd1YWdlLWludGVncmF0aW9uLXNtYXJ0LXBhbmVsLXJlc2l6ZSI6IkRyYWcgdG8gcmVzaXplIHRoZSBwYW5lbCIsImxhbmd1YWdlLXByaW50LXByZXZpZXctbG9jayI6IkxvY2sgcHJpbnQgcHJldmlldyB3aXRoIG1hcCIsImxhbmd1YWdlLWJ1ZmZlci1lcnJvci1pZGVudGlmeS1idWZmZXJlZC1mZWF0dXJlLXNldC1jb2xsZWN0aW9uIjoiQ291bGQgbm90IGV4ZWN1dGUgSWRlbnRpZnlCdWZmZXJlZEZlYXR1cmVTZXRDb2xsZWN0aW9uIG9wZXJhdGlvbi4gRmVhdHVyZSBTZXQgQ29sbGVjdGlvbiBub3QgZm91bmQuIiwibGFuZ3VhZ2UtbWVudS16b29tLXRvLWxheWVyIjoiWm9vbSB0byBmdWxsIGV4dGVudCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tem9vbS10by1lc3JpLWZlYXR1cmUtc2V0IjoiWm9vbXMgdG8gdGhlIGV4dGVudCBvZiBhbGwgdGhlIGZlYXR1cmVzIGluIHRoZSBmZWF0dXJlIHNldC4iLCJsYW5ndWFnZS10b29sYmFyLWdyb3VwLW5hdGl2ZSI6Ik5hdGl2ZSIsImxhbmd1YWdlLXRvb2xiYXItZWRpdGluZy1tYW5hZ2Utb2ZmbGluZS1kYXRhLXRvb2x0aXAiOiJTZWxlY3QsIHN5bmMsIGFuZCBjbGVhciBvZmZsaW5lIGRhdGEiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXNldC1hY3RpdmUtaGlnaGxpZ2h0LWxheWVyIjoiU2V0cyB0aGUgbGF5ZXIgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUgYXMgYWN0aXZlLCBpZiB0aGVyZSBpcyBvbmUuIiwibGFuZ3VhZ2UtbWFya3VwLWNsZWFyLWFsbC1wcm9tcHQtdGl0bGUiOiJDbGVhciBBbGwiLCJsYW5ndWFnZS1zaXRlLWluaXRpYWxpemF0aW9uLWZhaWx1cmUtbmF0aXZlLWF2YWlsYWJsZSI6IiBNYWtlIHN1cmUgdG8gZG93bmxvYWQgYW4gb2ZmbGluZSBtYXAgdG8geW91ciBkZXZpY2UgYmVmb3JlIGdvaW5nIG9mZmxpbmUuIiwibGFuZ3VhZ2UtYXV0aC11c2VybmFtZSI6IlVzZXJuYW1lOiIsImxhbmd1YWdlLXJ1bi1yZXBvcnQtdGl0bGUiOiJSZXBvcnQiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWFsbG93LWhpZGUtZmVhdHVyZS1sYXllci1tb2RhbC1tZXNzYWdlIjoiU2hvdyB0aGUgY2xvc2UgYnV0dG9uIG9uIHRoZSBNb2RhbE1lc3NhZ2VWaWV3IGFsbG93aW5nIHRoZSB1c2VyIHRvIGNsb3NlIGl0LiIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWRlbGV0ZS1kZXNjIjoiQ2xpY2sgb3IgdGFwIHRvIGltbWVkaWF0ZWx5IGFuZCBwZXJtYW5lbnRseSBkZWxldGUgYSBkcmF3aW5nLiBUaGlzIGNhbm5vdCBiZSB1bmRvbmUuIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLXN5bmMtYnV0dG9uIjoiU3luYyIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWF0dGFjaG1lbnRzLWFsdCI6IkRvd25sb2FkIGF0dGFjaG1lbnRzIGZvciBhbGwgc2VsZWN0ZWQgbGF5ZXJzLiIsImxhbmd1YWdlLW1lbnUtc2hvdy1sb2ctZGVzYyI6IkRpc3BsYXkgdGhlIHZpZXdlcidzIGxvZywgaW5jbHVkaW5nIGRpYWdub3N0aWMgZXJyb3JzIGFuZCB0aGUgdmVyc2lvbiBudW1iZXIuIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtY2hhcnRpbmciOiJDaGFydGluZyB7MH0iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWRlbGV0ZS1hdHRhY2htZW50IjoiRGVsZXRlcyBhIGZlYXR1cmUgYXR0YWNobWVudC4iLCJsYW5ndWFnZS1sb2ctYXBwLWxvZyI6IkFwcGxpY2F0aW9uIExvZyIsImxhbmd1YWdlLWV4cG9ydC13ZWItbWFwLXRpdGxlLWxhYmVsIjoiVGl0bGUiLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtZW1wdHktZW1wdHkiOiJUaGVyZSBhcmUgbm8gT2ZmbGluZSBNYXBzIGZvciB0aGlzIHNpdGUuIiwibGFuZ3VhZ2UtdXBsb2FkLWRhdGEtY2Fubm90LXByb2NlZWQtd2hlbi1pbnZhbGlkIjoiSW52YWxpZCIsImxhbmd1YWdlLXN5bWJvbG9neS1zZXR0aW5ncy1tYXJrZXItc3R5bGUtY3Jvc3MiOiJDcm9zcyIsImxhbmd1YWdlLW1lbnUtaG9tZS1wYW5lbC1kZXNjIjoiVmlldyBpbmZvcm1hdGlvbiBhYm91dCB0aGlzIGFwcGxpY2F0aW9uLiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LW1lYXN1cmUtbGluZS10b29sLW5hbWUiOiJMaW5lIiwibGFuZ3VhZ2UtY29tbW9uLWZlYXR1cmUtZWRpdGluZy1kZXNjIjoiRWRpdCB0aGUgYXR0cmlidXRlcyBvZiB0aGUgZmVhdHVyZSBhbmQgc2F2ZSB0aGVtLiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXVuaXQtc3FraWxvbWV0ZXIiOiJLaWxvbWV0ZXLCsiAoa23CsikiLCJsYW5ndWFnZS1oZWF0LW1hcHMtaW50ZW5zaXR5IjoiSW50ZW5zaXR5IiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtdW5pdC1hY3JlIjoiQWNyZXMgKGFjKSIsImxhbmd1YWdlLWRzay1pZGVudGlmeS1wb2ludC10b29sIjoiQ2xpY2sgdG8gZmluZCBmZWF0dXJlcyBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tZGVsZXRlLWZyb20tZWRpdC1sb2ciOiJSZW1vdmVzIHRoZSBnaXZlbiBlbnRyeSBmcm9tIHRoZSBlZGl0IGxvZywgdGhlbiBzZXRzIHRoZSBlZGl0IGxvZy4iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWxheWVycy10aXRsZSI6IlNlbGVjdCBMYXllcnMiLCJsYW5ndWFnZS10b29sYmFyLWdyb3VwLW9mZmxpbmUtbWFuYWdlbWVudCI6Ik9mZmxpbmUgTWFuYWdlbWVudCIsImxhbmd1YWdlLWNvbW1vbi1lZGl0IjoiRWRpdCIsImxhbmd1YWdlLWNvbW1vbi1mZWF0dXJlLXN5bmMtc2V0dGluZ3MiOiJNYW5hZ2UgU3luYyBTZXR0aW5ncyIsImxhbmd1YWdlLW1hcC1jb29yZGluYXRlcy1kZWZhdWx0LWNvb3JkaW5hdGUtc3lzdGVtLWxhYmVsIjoiRGVmYXVsdCIsImxhbmd1YWdlLWJ1ZmZlci1vcHRpb25zLWRpc3RhbmNlLXRpdGxlIjoiQnVmZmVyIGRpc3RhbmNlIiwibGFuZ3VhZ2UtYnVmZmVyLWludmFsaWQtdW5pdC13YXJuaW5nIjoiVW5zdXBwb3J0ZWQgYnVmZmVyIHVuaXQgLSB7MH0uIFBsZWFzZSBjaGVjayB5b3VyIGNvbmZpZ3VyYXRpb24uIiwibGFuZ3VhZ2UtdXBsb2FkZXItbGVnYWN5LWJ1dHRvbi1yZW1vdmUtaW5wdXQiOiJSZW1vdmUiLCJsYW5ndWFnZS1iYXNlbWFwLXN3aXRjaGVyLW5vLWJhc2VtYXBzIjoiTm8gQmFzZW1hcHMiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXNoYXJpbmctZGVzY3JpcHRpb24iOiJXaG8gY2FuIHZpZXcgYW5kIHdobyBjYW4gZWRpdCB0aGlzIG9mZmxpbmUgbWFwLiIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXJlY3RhbmdsZS1kZXNjIjoiQ2xpY2sgYW5kIGRyYWcgdG8gZHJhdyBhIHJlY3RhbmdsZSBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLXByb2plY3Qtc3RhdHVzLWVtcHR5IjoiTm8gcHJvamVjdHMgd2VyZSBmb3VuZC4iLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtc3luYy1jYW5jZWxsaW5nIjoiQ2FuY2VsbGluZy4uLiIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1jYW5jZWwtYWRkLWNvb3JkaW5hdGUtYnV0dG9uLXRleHQiOiJDYW5jZWwiLCJsYW5ndWFnZS1zYXZlZC1yZXN1bHRzLW92ZXJ3cml0ZS1wcm9tcHQiOiJUaGUgbmFtZSAnezB9JyBhbHJlYWR5IGV4aXN0cy4gSWYgeW91IHByb2NlZWQsIHRoZSBzYXZlZCByZXN1bHRzIHdpbGwgYmUgb3ZlcndyaXR0ZW4uIENvbnRpbnVlPyIsImxhbmd1YWdlLWNvbW1vbi1mZWF0dXJlLWVkaXRpbmciOiJGZWF0dXJlIEF0dHJpYnV0ZXMiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1sb2FkaW5nLWNoYW5nZXMiOiJMb2FkaW5nIG1hcCBjaGFuZ2VzLi4uIiwibGFuZ3VhZ2UtYnVmZmVyLW9wZXJhdGlvbi1lcnJvciI6IkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGJ1ZmZlcmluZy4gUGxlYXNlIGVuc3VyZSB0aGF0IHRoZSBidWZmZXIgcGFyYW1ldGVycyBjb25maWd1cmVkIGhlcmUgYXJlIGNvcnJlY3QuIERldGFpbHMgb2YgdGhpcyBlcnJvciBhcmU6IHswfSIsImxhbmd1YWdlLW5hdGl2ZS1hZGQtdG8tZmF2b3JpdGVzLWVycm9yLXRpdGxlIjoiRXJyb3IgQWRkaW5nIEZhdm9yaXRlIiwibGFuZ3VhZ2UtZmVhdHVyZS1vdmVydmlldy1tYXAtdG9nZ2xlIjoiT3BlbiBhbmQgQ2xvc2UgdGhlIG92ZXJ2aWV3IG1hcCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tc2hvdy1tYXAiOiJBY3RpdmF0ZXMgbWFwIHZpZXcuIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtdW5pdC1tZXRlciI6Ik1ldGVycyAobSkiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItb3BlcmF0b3ItZG9lcy1ub3QtY29udGFpbiI6ImRvZXMgbm90IGNvbnRhaW4iLCJsYW5ndWFnZS10b29sYmFyLW5hdmlnYXRpb24tbmV4dC1leHRlbnQtdG9vbHRpcCI6Ilpvb20gdG8gdGhlIG5leHQgZXh0ZW50IiwibGFuZ3VhZ2Utd29ya2Zsb3ctdGl0bGUiOiJXb3JrZmxvdyIsImxhbmd1YWdlLW1hcmt1cC1jbGVhci1hbGwtcHJvbXB0IjoiSWYgeW91IHByb2NlZWQsIGFsbCBjdXJyZW50IGRyYXdpbmdzIHdpbGwgYmUgcGVybWFuZW50bHkgZXJhc2VkLiBDb250aW51ZT8iLCJsYW5ndWFnZS1tZW51LWV4cG9ydC1yZXN1bHRzLXRvLXNocC1kZXNjIjoiRXhwb3J0IHJlc3VsdHMgdG8gU2hhcGVmaWxlIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1pbnZva2UtbWFwLXRpcCI6IkV4ZWN1dGVzIGFuIElkZW50aWZ5IG9wZXJhdGlvbiBvbiB0aGUgZ2l2ZW4gZ2VvbWV0cnkgYW5kIFwiTWFwVGlwXCIgYXMgaXRzIHNvdXJjZSB0YWcuIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1jbG9zZS1mZWF0dXJlLXNldC1jb2xsZWN0aW9uIjoiQ2xvc2VzIHRoZSBmZWF0dXJlIHNldCBjb2xsZWN0aW9uLiIsImxhbmd1YWdlLWxheWVyLWRldGFpbHMtdmFsaWRhdGlvbi1lcnJvci1pbnZhbGlkLXB1Ymxpc2gtbmFtZSI6IkludmFsaWQgY2hhcmFjdGVycyBpbiBsYXllciBuYW1lLiIsImxhbmd1YWdlLWNvbXBhY3QtdG9vbGJhci1udW1iZXItdmlzaWJsZSI6IiMgb2YgVG9vbHMgdG8gRGlzcGxheSIsImxhbmd1YWdlLW1lbnUtZW50ZXItb25saW5lIjoiR28gdG8gb25saW5lIG1vZGUiLCJsYW5ndWFnZS1idWZmZXItdW5pdC1taWxlLWRpc3BsYXktbmFtZSI6Ik1pbGVzIChtaSkiLCJsYW5ndWFnZS1wcm9qZWN0LXN0YXR1cy1jbG9zZS1idXR0b24tdGl0bGUiOiJDbG9zZSIsImxhbmd1YWdlLW1lbnUtZWRpdC1mZWF0dXJlLWRlc2NyaXB0aW9uIjoiRWRpdCB0aGUgZGV0YWlscyBhYm91dCB0aGlzIGZlYXR1cmUuIiwibGFuZ3VhZ2UtbWVudS1pZGVudGlmeS1mcmVlaGFuZCI6IklkZW50aWZ5IGJ5IGZyZWVoYW5kIHNoYXBlIiwibGFuZ3VhZ2UtYmFzZW1hcC1zd2l0Y2hlci1iYXNlbWFwcyI6IkJhc2VtYXBzIiwibGFuZ3VhZ2Utb2ZmbGluZS1wcm92aXNpb25pbmctZmFpbGVkLXRpdGxlIjoiRXJyb3IiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1zY2FsZSI6IlNjYWxlOiBvbmUgdG8gezB9LiIsImxhbmd1YWdlLXVwbG9hZC1kaWFsb2ctYnV0dG9uLXByb2NlZWQiOiJVcGxvYWQiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXNoYXJpbmctdGl0bGUiOiJTaGFyaW5nIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbWVhc3VyZS1kaXN0YW5jZS10b29sLXN0YXR1cy1rZXlib2FyZCI6IlVzZSBhcnJvd3MgdG8gbW92ZSB0aGUgcG9pbnQuIEhpdCBFTlRFUiB0byBwbG90IGFuZCBiZWdpbiBtb3ZpbmcgdGhlIG5leHQgcG9pbnQuIEhpdCBFTlRFUiB0d2ljZSB0byBmaW5pc2guIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1lcnJvci1jYWxjdWxhdGluZyI6IkNhbGN1bGF0aW5nLi4uIiwibGFuZ3VhZ2UtbWVudS1pZGVudGlmeS1idWZmZXJlZC1mZWF0dXJlLXNldC1jb2xsZWN0aW9uIjoiU2hvdyBCdWZmZXIgT3B0aW9ucyIsImxhbmd1YWdlLXRvb2xiYXItZmx5b3V0LWRlc2NyaXB0aW9uIjoiQWNjZXNzIGFkZGl0aW9uYWwgdG9vbHMgaW4gezB9IG11bHRpLXRvb2wiLCJsYW5ndWFnZS10b29sYmFyLXNuYXBwaW5nLWFsdC1lbmFibGUiOiJFbmFibGUgc25hcHBpbmcgZm9yIGFjdGl2ZSB0b29sIiwibGFuZ3VhZ2Utc2l0ZS1pbml0aWFsaXphdGlvbi1mYWlsdXJlIjoiRmFpbGVkIHRvIGluaXRpYWxpemUgc2l0ZS4iLCJsYW5ndWFnZS10YWJsZS1tYXBwaW5nLWxvY2F0aW9uLXR5cGUtYWRkcmVzcyI6IkFkZHJlc3MgRGF0YSIsImxhbmd1YWdlLW1lYXN1cmVtZW50LW1lYXN1cmUtZnJlZWhhbmQtcG9seWdvbi10b29sLXRvb2x0aXAiOiJDYWxjdWxhdGUgYXJlYSBmb3IgYSBmcmVlaGFuZCBzaGFwZSIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy10aXRsZSI6IlBsb3QgQ29vcmRpbmF0ZXMiLCJsYW5ndWFnZS10b29sYmFyLWlkZW50aWZ5LXJlY3RhbmdsZSI6IlJlY3RhbmdsZSIsImxhbmd1YWdlLWNsdXN0ZXJpbmctbWF4aW11bS1mZWF0dXJlcyI6Ik1heGltdW0gQ2x1c3RlciBTaXplIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLW1ibC1wb2ludC10b29sIjoiVGFwIG9uIHRoZSBtYXAgdG8gYWRkIHRoZSBmZWF0dXJlLiIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1hY3RpdmF0ZS1mYWlsZWQiOiJUaGUgb2ZmbGluZSBtYXAgZmFpbGVkIHRvIGxvYWQuICBJZiB0aGUgbGFzdCBkb3dubG9hZCBvciBzeW5jIGZhaWxlZCB0cnkgc3luY2luZyBhZ2Fpbi4iLCJsYW5ndWFnZS1pbnRlZ3JhdGlvbi1zbWFydC1wYW5lbC1tYXhpbWl6ZS1yZXN0b3JlIjoiTWF4aW1pemUvUmVzdG9yZSBQYW5lbCIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtcHJlZ2VuZXJhdGVkIjoiUHJlLWdlbmVyYXRlZCIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy11cGRhdGUtY29vcmRpbmF0ZS1idXR0b24tdGl0bGUiOiJDbGljayB0byB1cGRhdGUgdGhlIGxvY2F0aW9uIG9mIHRoaXMgY29vcmRpbmF0ZSBvbiB0aGUgbWFwIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWRzay1yZWN0YW5nbGUtdG9vbCI6IkRyYWcgb24gdGhlIG1hcCB0byBkcmF3IGEgcmVjdGFuZ2xlIiwibGFuZ3VhZ2UtbWFwLWNvbnRleHQtbWVudS1yZXZlcnNlLWdlb2NvZGUtbGFiZWwiOiJBZGRyZXNzOiIsImxhbmd1YWdlLWNsZWFyLXN0b3JhZ2Utdmlldy10aXRsZSI6IkNsZWFyIE9mZmxpbmUgRGF0YSIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtc2l6ZS1pbnZhbGlkIjoiaW52YWxpZCIsImxhbmd1YWdlLWNhcHR1cmUtZ2VvbWV0cnktcG9pbnRfdG9vbHRpcCI6IlNlbGVjdCBieSBwb2ludCIsImxhbmd1YWdlLWZlYXR1cmUtcmVsYXRlZC1lcnJvci1mZXRjaGluZyI6IlRoZXJlIHdhcyBhbiBlcnJvciBmZXRjaGluZyByZWxhdGVkIGZlYXR1cmVzLiIsImxhbmd1YWdlLWxheWVyLXNlbGVjdG9yLWlkZW50aWZ5LXNlbGVjdC1hbGwtdG9vbHRpcCI6IlNlbGVjdCBhbGwgaWRlbnRpZmlhYmxlIGxheWVycyIsImxhbmd1YWdlLWV4cG9ydC13ZWItbWFwLW9wZW4tcG9ydGFsIjoiT3BlbiBpbiBBcmNHSVMiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLWV4cG9ydHRpbGVzIjoiQ3VzdG9tIiwibGFuZ3VhZ2Utc2hhcmUtcHJvamVjdC1jbG9zZS1idXR0b24tdGl0bGUiOiJDbG9zZSBTaGFyZSBQcm9qZWN0IiwibGFuZ3VhZ2UtbWVudS1tYXAtbGF5ZXJzIjoiQ2hhbmdlIHZpc2libGUgbWFwIGxheWVycyIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXdvcmtmbG93bGlzdC12aWV3IjoiV29ya2Zsb3dMaXN0VmlldyIsImxhbmd1YWdlLXByb2plY3RzLXNvcnQtZGVmYXVsdC1kaXNwbGF5LW5hbWUiOiJTb3J0IEJ5Li4uIiwibGFuZ3VhZ2UtdG9vbGJhci1jaGFydGluZy1zaG93LWNoYXJ0cyI6IlZpZXcgQ2hhcnRzIiwibGFuZ3VhZ2UtdG9vbGJhci10YXNrcy1pZGVudGlmeSI6IklkZW50aWZ5IiwibGFuZ3VhZ2UtYnJvd3Nlci10aXRsZSI6Ikdlb2NvcnRleCBWaWV3ZXIgZm9yIEhUTUw1IiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWVkaXQiOiJFZGl0IEZlYXR1cmUiLCJsYW5ndWFnZS10b29sYmFyLWlkZW50aWZ5LXJlY3RhbmdsZS1kZXNjIjoiVG8gbGVhcm4gd2hhdFx1MjAxOXMgdGhlcmUsIGNsaWNrIG9yIHRhcCBhbmQgZHJhZyB0byBkcmF3IGEgcmVjdGFuZ2xlIG9uIHRoZSBtYXAuIiwibGFuZ3VhZ2UtcHJpbnRpbmctbm9uZSI6IihOb25lKSIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1lbGxpcHNlLXRvb2wiOiJEcmFnIG9uIHRoZSBtYXAgdG8gZHJhdyBhbiBlbGxpcHNlIiwibGFuZ3VhZ2UtZW50ZXItb2ZmbGluZS1kZXNjIjoiR28gdG8gb2ZmbGluZSBtb2RlIGFuZCB2aWV3IGNhY2hlZCBtYXAgZGF0YS4iLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1hY2Nlc3NpYmlsaXR5LWljb24iOiJDbGljayB0byB2aWV3IG1vcmUgaW5mb3JtYXRpb24gb24gb3VyIGFjY2Vzc2liaWxpdHkgcG9saWN5IiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtZHJhd21vZGUtZG93bi1hcnJvdyI6IkRvd24gQXJyb3ciLCJsYW5ndWFnZS1oZWF0LW1hcHMtaW50ZW5zaXR5LXNsaWRlci1waXhlbHMiOiJwaXhlbHMiLCJsYW5ndWFnZS1tZW51LWV4cG9ydC1yZXN1bHRzLXRvLXhsc3giOiJFeHBvcnQgdG8gWExTWCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tc2hvdy1sYXllci1saXN0IjoiQWN0aXZhdGVzIHRoZSBMYXllckxpc3QgVmlldy4iLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1zZXJ2aWNlLWxheWVycy1mYWlsdXJlIjoiU2VydmljZSBMYXllcnMgRmFpbHVyZSB7MH0iLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItY2Fubm90LXF1ZXJ5IjoiVGhpcyBsYXllciBjYW5ub3QgYmUgcXVlcmllZC4iLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItZmluZC1pbi1sYXllciI6IkZpbmQgcmVzdWx0cyBpbiB7MH0gd2hlcmU6IiwibGFuZ3VhZ2UtdXBsb2FkLWRhdGEtZXJyb3ItbWVzc2FnZSI6IkFuIHVua25vd24gZXJyb3IgaGFzIG9jY3VycmVkLiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tc3RhcnQtZWRpdGluZy1mZWF0dXJlIjoiQmVnaW5zIGVkaXRpbmcgYW4gZXhpc3RpbmcgZmVhdHVyZS4iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctbWJsLWxpbmUtdG9vbCI6IlRhcCBvbiB0aGUgbWFwIHRvIGFkZCB0d28gbGluZSBwb2ludHMuIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLXJlY3RhbmdsZS10b29sIjoiRHJhZyBvbiB0aGUgbWFwIHRvIGRyYXcgYSByZWN0YW5nbGUuIiwibGFuZ3VhZ2Utd29ya2Zsb3ctcmVwb3J0LXVybCI6IllvdXIgcmVwb3J0IGlzIHJlYWR5IHRvIGRvd25sb2FkLiBDbGljayB0aGUgbGluayBvciByaWdodC1jbGljaywgYW5kIHRoZW4gc2VsZWN0IFwiU2F2ZSBhcy5cIiIsImxhbmd1YWdlLW1lbnUtcmVzdWx0cy1saXN0LWFjdGlvbnMtZGVzYyI6IlJlc3VsdHMgTGlzdCBBY3Rpb25zIiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLW9wZXJhdG9yLWxlc3MtdGhhbiI6IjwiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctcGFja2FnZS1yZXF1aXJlZCI6ImVzcmkudG9vbGJhcnMuZWRpdCBuZWVkcyB0byBiZSBpbmNsdWRlZCBpbiB5b3VyIGFwcGxpY2F0aW9uIHZpYSBhIGRvam8ucmVxdWlyZSBzdGF0ZW1lbnQgaW4gb3JkZXIgZm9yIGZlYXR1cmUgZWRpdGluZyB0byB3b3JrIHByb3Blcmx5LiIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWVkaXQtZGVzYy1zaG9ydGN1dHMtem9vbSI6IlVzZSBhcnJvd3MgdG8gbW92ZSwgUyB0byBzY2FsZS4gQ29tYmluZSB3aXRoIEFMVCBmb3IgZmluZXIgY29udHJvbC4gQ29tYmluZSB3aXRoIFNISUZUIHRvIHJldmVyc2UuIiwibGFuZ3VhZ2UtY29tbW9uLWhpZGUiOiJIaWRlIiwibGFuZ3VhZ2UtZmVhdHVyZS1hdHRyaWJ1dGVzIjoiRGV0YWlscyIsImxhbmd1YWdlLWRpc3BsYXktcmVzdWx0LXBpY2tlci1uby1yZXN1bHRzLXNlbGVjdGVkIjoiUGxlYXNlIHNlbGVjdCBvbmUgb2YgdGhlIHJlc3VsdHMiLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtdG9vbC1uYW1lIjoiUGxvdCBDb29yZGluYXRlcyIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWZlYXR1cmUtbGF5ZXItbGlzdCI6Ik1hbmFnZSBTeW5jIFNldHRpbmdzIHswfSIsImxhbmd1YWdlLWV4cG9ydC1tYXAtbm9uZSI6IihOb25lKSIsImxhbmd1YWdlLWNvbW1vbi1yZXN1bHRzIjoiUmVzdWx0cyIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tZ2V0LXJlbGF0ZWQtZmVhdHVyZSI6IkdldHMgZmVhdHVyZXMgcmVsYXRlZCB0byB0aGUgZmVhdHVyZS4iLCJsYW5ndWFnZS1tZW51LW1hcHRpcC1hY3Rpb25zIjoiQWN0aW9ucyIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXJlc3VsdHMtZmVhdHVyZS1zZXQtbmFtZSI6InswfSB7MX0iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctc2VsZi1pbnRlcnNlY3RpbmctcG9seWdvbi1uZWVkLWZpeGluZyI6IlRoaXMgcG9seWdvbiBpbnRlcnNlY3RzIGl0c2VsZi4gWW91IG11c3QgZml4IHRoZSBwb2x5Z29uIGJlZm9yZSBzYXZpbmcuIiwibGFuZ3VhZ2UtdXBsb2FkLWRhdGEtZXJyb3ItcHVibGlzaC1uYW1lLXRha2VuLW1lc3NhZ2UiOiJDb3VsZCBub3QgcHVibGlzaCBiZWNhdXNlIHRoZSBmaWxlIG5hbWUgJ3swfScgaXMgYWxyZWFkeSBwcmVzZW50IG9uIHlvdXIgQXJjR0lTIE9ubGluZSBhY2NvdW50LiBXb3VsZCB5b3UgbGlrZSB0byBwcm9jZWVkIHdpdGhvdXQgcHVibGlzaGluZz8iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1lcmFzZS10b29sdGlwIjoiQ2xlYXIgYSBjaG9zZW4gZGlzdGFuY2UvYXJlYSBjYWxjdWxhdGlvbiBmcm9tIHRoZSBtYXAiLCJsYW5ndWFnZS11cGxvYWRlci1lcnJvci1jb3JzLW1lc3NhZ2UiOiJUaGUgdXBsb2FkIHNlcnZlciBhcHBlYXJzIG5vdCB0byBhbGxvdyB1cGxvYWRzIGZyb20gdGhpcyB2aWV3ZXIuIiwibGFuZ3VhZ2UtbWVudS1vZmZsaW5lLW1hcC1lZGl0b3ItZ2VvbWV0cnktYWN0aW9ucy1jaXJjbGUtZGVzYyI6IkRyYXcgYSBjaXJjbGUgZm9yIHRoZSBhcmVhIG9mIGludGVyZXN0IGdlb21ldHJ5LiIsImxhbmd1YWdlLW5hdGl2ZS1pbWFnZS1zZWxlY3QtaGVhZGluZyI6IlBsZWFzZSBzZWxlY3QgYW4gaW1hZ2UgdG8gdXBsb2FkIiwibGFuZ3VhZ2UtY29tbW9uLWxvYWRpbmciOiJMb2FkaW5nLi4uIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLXktdGl0bGUiOiJZIiwibGFuZ3VhZ2Utc2hhcmUtcHJvamVjdC1saW5rcy1wdWJsaWMtZWRpdC1sYWJlbCI6IkVkaXQgTGluayAoc2lnbi1pbiBub3QgcmVxdWlyZWQpIiwibGFuZ3VhZ2UtdG9vbGJhci10YWItYW5hbHlzaXMiOiJBbmFseXNpcyIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWF0dGFjaC1maWxlIjoiQXR0YWNoIEZpbGUgezB9IiwibGFuZ3VhZ2UtY2xlYXItc3RvcmFnZS1kb21haW4iOiJDbGVhciBvZmZsaW5lIGRhdGEgZm9yIHRoaXMgZG9tYWluIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1sYXllcnMtdGV4dCI6IlRoZXJlIGFyZSB7MH0gbGF5ZXJzIHNlbGVjdGVkLiIsImxhbmd1YWdlLW9mZmxpbmUtcHJvdmlzaW9uaW5nLWZhaWxlZC1pbmRleC1nZXQiOiJUaGUgZG93bmxvYWQgZm9yIG9mZmxpbmUgdXNlIGZhaWxlZC4gQ291bGQgbm90IHJldHJpZXZlIGluZGV4LiIsImxhbmd1YWdlLWdlb2xvY2F0ZS1lcnJvci1vZmZsaW5lIjoiQ291bGQgbm90IGNvbXB1dGUgeW91ciBwb3NpdGlvbiBpbiBvZmZsaW5lIG1vZGUuIiwibGFuZ3VhZ2UtbmF0aXZlLWFkZC10by1mYXZvcml0ZXMtc3VjY2Vzcy10aXRsZSI6IkZhdm9yaXRlIEFkZGVkIiwibGFuZ3VhZ2UtZnJhbWV3b3JrLXVpLXZpZXctY29udGFpbmVyLXZpZXctYmFjayI6IkdvIEJhY2sgezB9IiwibGFuZ3VhZ2UtbmF0aXZlLXBob3RvLWZyb20tZ2FsbGVyeSI6IkF0dGFjaCBhIHBob3RvIGZyb20gdGhlIGdhbGxlcnkiLCJsYW5ndWFnZS10b29sYmFyLWlkZW50aWZ5LWZyZWVoYW5kLXRvb2x0aXAiOiJGaW5kIG91dCBhYm91dCBhbiBhcmVhIG9uIHRoZSBtYXAgZGVmaW5lZCBieSBhIGZyZWVoYW5kIHNoYXBlIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1lcnJvciI6IlRoZSBiYXNlbWFwIGNvbmZpZ3VyYXRpb24gaGFzIHByb2JsZW1zLiIsImxhbmd1YWdlLW5hdGl2ZS1kb3dubG9hZC1jb21wbGV0ZSI6IkRvd25sb2FkIENvbXBsZXRlOiB7MH0uIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbWVhc3VyZS1mcmVlaGFuZC1wb2x5Z29uLXRvb2wtbmFtZSI6IkZyZWVoYW5kIFNoYXBlIiwibGFuZ3VhZ2UtbWVudS1zb2NpYWwtbGlua3MtbWVudS1kZXNjIjoiU29jaWFsIExpbmtzIiwibGFuZ3VhZ2UtY2FwdHVyZS1nZW9tZXRyeS1kZWZhdWx0IjoiRHJhdyBhbiBhcmVhIG9uIHRoZSBtYXAuIiwibGFuZ3VhZ2Utb2ZmbGluZS1kYXRhLWNhbnQtY2xlYXIiOiJObyBkYXRhIHRvIGNsZWFyLiIsImxhbmd1YWdlLXdvcmtmbG93LWlzLWJ1c3kiOiJUaGUgd29ya2Zsb3cgaXMgYnVzeS4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC11bml0LW1ldGVyLXNob3J0IjoibSIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXVuaXQtc3FraWxvbWV0ZXItc2hvcnQiOiJrbcKyIiwibGFuZ3VhZ2UtdG9vbGJhci1uYXZpZ2F0aW9uLXBhbi10b29sdGlwIjoiQ2FuY2VsIGFueSBhY3RpdmUgdG9vbHMgYW5kIHB1dCB0aGUgbWFwIGludG8gcGFuIG1vZGUiLCJsYW5ndWFnZS1jb21tb24tZmVhdHVyZS1lZGl0bG9nLWRlc2MiOiJEaXNwbGF5cyBpbmZvcm1hdGlvbiBhYm91dCBlZGl0aW5nIGhpc3Rvcnkgb2YgdGhlIGZlYXR1cmUgbGF5ZXIuIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtZHJhd21vZGUtbGVmdC1hcnJvdyI6IkxlZnQgQXJyb3ciLCJsYW5ndWFnZS1sYXllci1zZWxlY3Rvci1kZWZhdWx0LXNlbGVjdC1hbGwtdG9vbHRpcCI6IlNlbGVjdCBhbGwgbGF5ZXJzIiwibGFuZ3VhZ2UtbWFwLWxvYWRpbmctc3RhZ2UzIjoiU3RpbGwgd29ya2luZy4gIExvYWRpbmcgezB9IG1hcCBkYXRhLi4uIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zaGFyaW5nLXRleHQtc29tZSI6IlRoaXMgb2ZmbGluZSBtYXAgaXMgc2hhcmVkLiIsImxhbmd1YWdlLW1hcC1sb2FkaW5nLXN0YWdlMiI6IlN0aWxsIGxvYWRpbmcgezB9IG1hcCBkYXRhLi4uIiwibGFuZ3VhZ2UtZXhwb3J0LW1hcC1kZXNjcmlwdGlvbiI6IkV4cG9ydCBhIE1hcCBJbWFnZSIsImxhbmd1YWdlLW1hcC1sb2FkaW5nLXN0YWdlMSI6IkxvYWRpbmcgezB9IG1hcCBkYXRhLi4uIiwibGFuZ3VhZ2UtcHJvamVjdC1jb25maXJtLWxvYWQtb3ZlcndyaXRlIjoiVGhpcyB3aWxsIG92ZXJ3cml0ZSB5b3VyIGV4aXN0aW5nIGFwcGxpY2F0aW9uIHN0YXRlLiIsImxhbmd1YWdlLXNhdmVkLXJlc3VsdHMtaXRlbS1yZXN0b3JlLWRlc2NyaXB0aW9uIjoiUmVzdG9yZSBzYXZlZCByZXN1bHRzICd7MH0nIGludG8gdGhlIHJlc3VsdHMgdmlldyIsImxhbmd1YWdlLW1lbnUtc2hvdy1yZXN1bHRzLWxpc3QiOiJMaXN0IFZpZXciLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctZXJyb3ItZmVhdHVyZS1lZGl0cyI6IlRoZXJlIHdhcyBhbiBlcnJvciBhcHBseWluZyBmZWF0dXJlIGVkaXRzOiB7MH0iLCJsYW5ndWFnZS1ncmlkIjoiR3JpZCIsImxhbmd1YWdlLXVzZXItc2lnbmVkLWluLWFzIjoiWW91IGFyZSBzaWduZWQgaW4gYXM6IiwibGFuZ3VhZ2UtYnVmZmVyLXN0YXR1cy1tc2ciOiJCdWZmZXJpbmcgaW4gcHJvZ3Jlc3MgLi4uIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLXNob3ctY29vcmRpbmF0ZS1kZXNjIjoiVW5oaWRlIHRoaXMgY29vcmRpbmF0ZSBhbmQgc2hvdyBpdCBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWRyYXdpbmctdG9vbHMiOiJEcmF3IiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWRzay1wb2x5Z29uLXRvb2wta2V5Ym9hcmQiOiJVc2UgYXJyb3dzIHRvIG1vdmUgdGhlIHBvaW50LiBIaXQgRU5URVIgdG8gcGxvdCBhbmQgYmVnaW4gbW92aW5nIHRoZSBuZXh0IHBvaW50LiBIaXQgRU5URVIgdHdpY2UgdG8gZmluaXNoLiIsImxhbmd1YWdlLW9mZmxpbmUtdmlld2VyLXByb3Zpc2lvbmluZy1mYWlsZWQtc3RhdHVzNTAwIjoiVGhlIGRvd25sb2FkIG9mIHJlc291cmNlcyBmb3Igb2ZmbGluZSB1c2UgZmFpbGVkOiBUaGVyZSB3YXMgYW4gaW50ZXJuYWwgc2VydmVyIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLiIsImxhbmd1YWdlLW1lbnUtc2hvdy1jaGFydGluZy12aWV3IjoiQ2hhcnRpbmcgVmlldyIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tY2xlYXItZGVmYXVsdC1oaWdobGlnaHRzIjoiUmVtb3ZlcyB0aGUgaGlnaGxpZ2h0cyBmcm9tIHRoZSBkZWZhdWx0IGhpZ2hsaWdodCBsYXllci4iLCJsYW5ndWFnZS1uYXRpdmUtZmlsZS1zZWxlY3QtaGVhZGluZyI6IlBsZWFzZSBzZWxlY3QgYSBmaWxlIHRvIHVwbG9hZCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tY2hhbmdlLWVkaXQtbG9nLWVudHJ5IjoiQ2hhbmdlIGFuIGV4aXN0aW5nIGVkaXQgbG9nIGVudHJ5LiIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWZyZWVoYW5kLWRlc2MiOiJIb2xkIHRoZSBtb3VzZSBidXR0b24gb3IgeW91ciBmaW5nZXJ0aXAgZG93biwgdGhlbiBkcmF3IGEgZnJlZWhhbmQgbGluZS4iLCJsYW5ndWFnZS1tYXAtY29vcmRpbmF0ZXMtRERNIjoiRERNIiwibGFuZ3VhZ2UtbG9nLWNsZWFyIjoiQ2xlYXIiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctbm8tdGVtcGxhdGVzIjoiTm8gdGVtcGxhdGVzIGF2YWlsYWJsZS4iLCJsYW5ndWFnZS11aS10YWJsZS11bnNvcnRlZCI6IkNvbHVtbiBoZWFkZXIuIHswfSAtIFVuc29ydGVkIiwibGFuZ3VhZ2UtbWVudS1idWZmZXItaWRlbnRpZnktZmVhdHVyZS1kZXNjIjoiSWRlbnRpZnkgbmVhcmJ5IGZlYXR1cmVzIiwibGFuZ3VhZ2UtZmVhdHVyZS1hdHRhY2htZW50cy1maWxlLXNpemUiOiJCeXRlcyIsImxhbmd1YWdlLXByaW50aW5nLWVtYWlsLW5vdGlmaWNhdGlvbiI6Iihmb3Igbm90aWZpY2F0aW9uIHdoZW4gdGhlIHByaW50IGpvYiBpcyBjb21wbGV0ZSkiLCJsYW5ndWFnZS10b29sYmFyLWdyb3VwLWFyY2dpcyI6IkFyY0dJUyIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXByaW50aW5nIjoiUHJpbnRpbmcgezB9IiwibGFuZ3VhZ2UtY29tbW9uLWRvbmUiOiJEb25lIiwibGFuZ3VhZ2UtcHJvamVjdHMtZmlsdGVyLWNsZWFyIjoiQ2xlYXIgdGhlIFByb2plY3QgZmlsdGVyIiwibGFuZ3VhZ2UtbWVudS1nbG9iYWwtc2VhcmNoLWRlc2MiOiJTZWFyY2ggZm9yIGZlYXR1cmVzIG9uIHRoZSBtYXAuIiwibGFuZ3VhZ2UtbWVudS1lbnRlci1vZmZsaW5lIjoiR28gdG8gb2ZmbGluZSBtb2RlIiwibGFuZ3VhZ2UtbWVudS1jb21iaW5lLXJlc3VsdHMtaW50ZXJzZWN0LWRlc2MiOiJPbmx5IHNob3cgcmVzdWx0cyB0aGF0IGFyZSBpbiBib3RoIHlvdXIgY3VycmVudCBsaXN0IGFuZCBhIHNhdmVkIHNldCBvZiByZXN1bHRzIiwibGFuZ3VhZ2UtdG9vbGJhci1pZGVudGlmeS1wb2x5Z29uLWRlc2Mta2V5Ym9hcmQiOiJUbyBsZWFybiB3aGF0XHUyMDE5cyB0aGVyZSwgdXNlIGFycm93cyB0byBtb3ZlIHRoZSBwb2ludC4gSGl0IEVOVEVSIHRvIHBsb3QgYW5kIGJlZ2luIG1vdmluZyB0aGUgbmV4dCBwb2ludC4gSGl0IEVOVEVSIHR3aWNlIHRvIGZpbmlzaC4iLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtYWN0aW9ucy10b29sdGlwIjoiQ2xpY2sgdG8gc2VlIGFjdGlvbnMgYXZhaWxhYmxlIGZvciB0aGlzIGNvb3JkaW5hdGUiLCJsYW5ndWFnZS11cGxvYWRlci1lcnJvci11bmtub3duLXRpdGxlIjoiVXBsb2FkIEVycm9yIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWNyZWF0ZS1lZGl0LWN1cnJlbnQtbG9jYXRpb24tZGVzY3JpcHRpb24iOiJIb3cgd291bGQgeW91IGxpa2UgdG8gc2VsZWN0IHlvdXIgZmVhdHVyZSdzIGxvY2F0aW9uPyIsImxhbmd1YWdlLWNhcHR1cmUtZ2VvbWV0cnktbXVsdGktcG9pbnRfdG9vbHRpcCI6IlNlbGVjdCB1c2luZyBtdWx0aXBsZSBwb2ludHMiLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtY29vcmRpbmF0ZS1zeXN0ZW0tc2VsZWN0b3IiOiJTZWxlY3QgQ29vcmRpbmF0ZSBTeXN0ZW0iLCJsYW5ndWFnZS1zYXZlZC1yZXN1bHRzLWRlbGV0ZS1wcm9tcHQiOiJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcGVybWFuZW50bHkgZGVsZXRlIHRoZSBzYXZlZCByZXN1bHRzPyIsImxhbmd1YWdlLW9mZmxpbmUtcHJvdmlzaW9uaW5nLXNlY3VyZS1zaXRlLWVycm9yIjoiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgc2F2aW5nIHRoZSBzZWN1cmUgdmVyc2lvbiBvZiB0aGUgU2l0ZTogezB9IiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbWVhc3VyZS1hcmVhLXRvb2wtc3RhdHVzLWtleWJvYXJkIjoiVXNlIGFycm93cyB0byBtb3ZlIHRoZSBwb2ludC4gSGl0IEVOVEVSIHRvIHBsb3QgYW5kIGJlZ2luIG1vdmluZyB0aGUgbmV4dCBwb2ludC4gSGl0IEVOVEVSIHR3aWNlIHRvIGZpbmlzaC4iLCJsYW5ndWFnZS1jb21tb24tc2F2aW5nIjoiU2F2aW5nLi4uIiwibGFuZ3VhZ2UtY2FwdHVyZS1nZW9tZXRyeS1yZWN0YW5nbGVfdG9vbHRpcCI6IlNlbGVjdCBieSByZWN0YW5nbGUiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1sZW5ndGgtc2VsZWN0IjoiU2VsZWN0IGxlbmd0aCB1bml0IiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtdmlzaWJsZS1mZWF0dXJlLXVuY2hhbmdlZCI6InVuY2hhbmdlZC4iLCJsYW5ndWFnZS1yYXN0ZXJJZGVudGlmeS1jYXRhbG9nSXRlbS1sYWJlbEZvcm1hdCI6IkNhdGFsb2c6IHswfSwgezF9IiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWdlb21ldHJ5LW11bHRpLXBvaW50IjoiTW92ZSB0aGUgc2VsZWN0ZWQgcG9pbnRzIGJ5IGhvbGRpbmcgZG93biBhbmQgZHJhZ2dpbmcuIFJlbGVhc2UgdG8gc3RvcCIsImxhbmd1YWdlLW1lbnUtY2VudGVyLW1hcCI6IkNlbnRlciB0aGUgTWFwIEhlcmUiLCJsYW5ndWFnZS1tYXJrdXAtYWRkLXRleHQiOiJUeXBlIHRoZSB0ZXh0IHlvdSB3YW50IHRvIGFkZCBhdCB0aGlzIGxvY2F0aW9uIG9uIHRoZSBtYXAuIiwibGFuZ3VhZ2UtdG9vbGJhci1idWZmZXJpbmctZW5hYmxlIjoiRW5hYmxlIGJ1ZmZlcmluZyIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1oaWRlLWFsbC1jb29yZGluYXRlcyI6IkhpZGUgQWxsIENvb3JkaW5hdGVzIiwibGFuZ3VhZ2UtaWRlbnRpZnktcmVjdGFuZ2xlLXRvb2wiOiJEcmFnIG9uIHRoZSBtYXAgdG8gZHJhdyBhIHJlY3RhbmdsZS4iLCJsYW5ndWFnZS1tZW51LWV4cG9ydC1yZXN1bHRzLXRvLWNzdiI6IkV4cG9ydCB0byBDU1YiLCJsYW5ndWFnZS1jb21tb24tZmVhdHVyZS10ZW1wbGF0ZS1waWNrZXItZGVzYyI6IlNlbGVjdCBhIGZlYXR1cmUgdHlwZS4iLCJsYW5ndWFnZS13b3JrZmxvdy1ub25lLWF2YWlsYWJsZSI6Ik5vIHRhc2tzIGF2YWlsYWJsZS4iLCJsYW5ndWFnZS13b3JrZmxvdy1vZmZsaW5lLXRpdGxlIjoiV29ya2Zsb3cgTm90IEF2YWlsYWJsZSIsImxhbmd1YWdlLWZpbGUtcGlja2VyLW5vdC1zdXBwb3J0ZWQiOiJUaGUgZmlsZSBwaWNrZXIgaXMgbm90IHN1cHBvcnRlZCBieSB5b3VyIGJyb3dzZXIuIiwibGFuZ3VhZ2Utc2l0ZS1sb2ctb24tcmVxdWlyZWQtZXJyb3IiOiJZb3UgbXVzdCBsb2cgb24gdG8gYWNjZXNzIHRoaXMgYXBwbGljYXRpb24uIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWludmFsaWQtbnVtYmVyIjoiezB9IG11c3QgYmUgYSB2YWxpZCBudW1iZXIgYmV0d2VlbiB7MX0gYW5kIHsyfS4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXNldC1oaWdobGlnaHQtZmlsbC1jb2xvciI6IlNldHMgdGhlIGZpbGwgY29sb3IgdXNlZCBmb3IgbmV3IGhpZ2hsaWdodHMsIHNwZWNpZmllZCBpbiA2IG9yIDggZGlnaXQgaGV4IGluIFJHQiBvciBBUkdCIGZvcm0uIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci10aXRsZSI6IkVkaXQgT2ZmbGluZSBNYXAiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWZlYXR1cmUtbGF5ZXItY2xlYXItY2FjaGUtc3BlYyI6IlNwZWNpZnkgdGhpcyBsYXllciBhcyBub3QgdG8gYmUgY2FjaGVkIG9uIG5leHQgc3luYy4iLCJsYW5ndWFnZS1jb21wYWN0LXRvb2xiYXItbW9yZS10b29scyI6IlZpZXcgTW9yZSBUb29scyIsImxhbmd1YWdlLXN5bWJvbG9neS1zZXR0aW5ncy1tYXJrZXItc3R5bGUtZGlhbW9uZCI6IkRpYW1vbmQiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1jaGFuZ2UtbWFya3VwLXN0eWxlIjoiU3R5bGVzIiwibGFuZ3VhZ2UtbWFwLW9wZXJhdGlvbi1wcm9qZWN0LWZhaWxlZCI6IlRoaXMgb3BlcmF0aW9uIGZhaWxlZCBiZWNhdXNlIG9mIGEgcHJvamVjdGlvbiBlcnJvci4iLCJsYW5ndWFnZS1tZW51LWZvb3Rlci1tZW51LWRlc2MiOiJGb290ZXIgTWVudSIsImxhbmd1YWdlLXNoYXJlLXByb2plY3QtbGlua3MtcmVtb3ZlLWJ1dHRvbi10aXRsZSI6IlJlbW92ZSBsaW5rIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbWVhc3VyZS1mcmVlaGFuZC1saW5lLXRvb2wtdG9vbHRpcCI6IkRyYXcgYSBmcmVlaGFuZCBsaW5lIHRvIG1lYXN1cmUgYSBkaXN0YW5jZSIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWZyZWVoYW5kLXBvbHlnb24tdG9vbHRpcCI6IkRyYXcgYSBmcmVlaGFuZCBzaGFwZSBvbiB0aGUgbWFwIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLW11bHRpLWZlYXR1cmUtc2VsZWN0b3ItZXJyb3ItbWVzc2FnZSI6IllvdSBtdXN0IHNlbGVjdCBhIGZlYXR1cmUgdG8gY29udGludWUiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItc3BhdGlhbC1maWx0ZXItY3VycmVudC1leHRlbnQiOiJDdXJyZW50IEV4dGVudCIsImxhbmd1YWdlLW1lbnUtYWRkLXRleHQtZGVzYyI6IkFkZCBzb21lIHRleHQgdG8gdGhlIG1hcC4iLCJsYW5ndWFnZS1oZWF0LW1hcHMtaW50ZW5zaXR5LXNsaWRlci1pbnRlbnNpdHkiOiJoZWF0IG1hcCBpbnRlbnNpdHkiLCJsYW5ndWFnZS1idWZmZXItdW5pdC1tZXRlci1kaXNwbGF5LW5hbWUiOiJNZXRlcnMgKG0pIiwibGFuZ3VhZ2UtcHJvamVjdC1lZGl0b3ItZGVzY3JpcHRpb24tbGFiZWwiOiJEZXNjcmlwdGlvbiIsImxhbmd1YWdlLW1lbnUtb2ZmbGluZS1tYXAtZWRpdG9yLWdlb21ldHJ5LWFjdGlvbnMtY3VycmVudGV4dGVudC1kZXNjIjoiVXNlIHRoZSBjdXJyZW50IGV4dGVudCBmb3IgdGhlIGFyZWEgb2YgaW50ZXJlc3QgZ2VvbWV0cnkuIiwibGFuZ3VhZ2UtdG9vbGJhci1zbmFwcGluZy1zZWxlY3QtbGF5ZXJzIjoiU2VsZWN0IFNuYXBwaW5nIExheWVycyIsImxhbmd1YWdlLXRvb2xiYXItaWRlbnRpZnktZnJlZWhhbmQtcG9seWdvbiI6IkZyZWVoYW5kIFNoYXBlIElkZW50aWZ5IiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLXNlbGVjdGVkLWxheWVyIjoiU2VsZWN0ZWQgRmVhdHVyZSBMYXllciIsImxhbmd1YWdlLW1hcC10aXAtZmVhdHVyZS1uZXh0IjoiTmV4dCIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXBvbHlsaW5lLXRvb2x0aXAiOiJEcmF3IGEgbGluZSBvbiB0aGUgbWFwIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtd29ya2Zsb3ctbGlzdCI6IldvcmtmbG93IExpc3QgezB9IiwibGFuZ3VhZ2UtbWVudS1yZW1vdmUtdXNlci1hZGRlZC1sYXllciI6IlJlbW92ZSBMYXllciIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWNpcmNsZSI6IkNpcmNsZSIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1kc2stcG9seWdvbi10b29sIjoiQ2xpY2sgb3IgdGFwIG9uIHRoZSBtYXAgdG8gYWRkIHBvaW50cyB0byBhIHBvbHlnb24uIERvdWJsZSBjbGljay90YXAgdG8gc3RvcCIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXVuaXQtbWlsZSI6Ik1pbGVzIChtaSkiLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtbWFuYWdlLXNob3dpbmctb25saW5lLW1hcCI6IlNob3dpbmcgb25saW5lIG1hcCBkYXRhIHdoaWxlIG1hbmFnaW5nIG9mZmxpbmUgbWFwcy4iLCJsYW5ndWFnZS1mZWF0dXJlLWNoYXJ0cyI6IkNoYXJ0cyIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWNyZWF0ZS1vci1lZGl0IjoiQ3JlYXRlIG9yIEVkaXQgezB9IiwibGFuZ3VhZ2UtY29tbW9uLWZlYXR1cmUtdGVtcGxhdGUtcGlja2VyIjoiQ3JlYXRlIGEgZmVhdHVyZSIsImxhbmd1YWdlLWN1cnJlbnRfZXh0ZW50X3Rvb2x0aXAiOiJVc2UgdGhlIGN1cnJlbnQgbWFwIGFyZWEiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLWV4cG9ydHRpbGVzLXJlZnJlc2gtbGFiZWwiOiJEYXlzIEJldHdlZW4gUmVmcmVzaDoiLCJsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LWxpbmtzLWVkaXQtbGFiZWwiOiJFZGl0IExpbmsgKHNpZ24taW4gcmVxdWlyZWQpIiwibGFuZ3VhZ2UtbWVudS1ydW4td29ya2Zsb3ctZGVzYyI6IlNlbGVjdCBmcm9tIGEgbGlzdCBvZiBhdmFpbGFibGUgdGFza3MuIiwibGFuZ3VhZ2UtdG9vbGJhci1ncm91cC1sYXllcnMiOiJMYXllcnMiLCJsYW5ndWFnZS1uYXRpdmUtb2ZmbGluZS1maWxlLXVwbG9hZCI6IkhUTUwgVmlld2VyIGlzIGluIG9mZmxpbmUgbW9kZS4gQXR0YWNobWVudCB3aWxsIGJlIHVwbG9hZGVkIHdoZW4gY29ubmVjdGVkLiIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1hZGQtYW5vdGhlci1jb29yZGluYXRlIjoiQWRkIEFub3RoZXIgQ29vcmRpbmF0ZSIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1vcGVyYXRvci1lcXVhbHMiOiI9IiwibGFuZ3VhZ2Utc3ltYm9sb2d5LXNldHRpbmdzLWxpbmUtc3R5bGUtc2hvcnRkYXNoZG90ZG90IjoiU2hvcnQtZGFzaC1kb3QtZG90IiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtZHJhd21vZGUtZWxsaXBzZSI6IkVsbGlwc2UiLCJsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtbGluZS1zdHlsZS1zaG9ydGRhc2giOiJTaG9ydC1kYXNoIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLW1ibC1wb2x5bGluZS10b29sIjoiVGFwIG9uIHRoZSBtYXAgdG8gYWRkIHBvaW50cyB0byBhIGxpbmUuIiwibGFuZ3VhZ2UtdXBsb2FkLWRhdGEtZXJyb3ItbXVzdC1iZS1zaWduZWQtaW4tdG8tcHVibGlzaC1nZW9kYXRhYmFzZSI6IlNpZ24gaW4gdG8gUHVibGlzaCIsImxhbmd1YWdlLW9mZmxpbmUtYnVuZGxlLWluZGV4LWVycm9yIjoiVGhlcmUgd2FzIGFuIGVycm9yIHNhdmluZyB0aGUgaW5kZXggZm9yIG9mZmxpbmUgZGF0YS4gWW91IG1heSBiZSBvdXQgb2Ygc3BhY2UuIEVycm9yOiB7MH0iLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1jb21wYWN0LXRvb2xiYXItdmlldyI6IkNvbXBhY3RUb29sYmFyVmlldyIsImxhbmd1YWdlLXRvb2xiYXItbWVudS1nbG9iYWwtb3BlbiI6Ik9wZW4iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctbWJsLXBvbHlnb24tdG9vbCI6IlRhcCBvbiB0aGUgbWFwIHRvIGFkZCBwb2ludHMgdG8gYSBwb2x5Z29uLiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXJlc3VsdHMtZmllbGQtbGVuZ3RoIjoiTGVuZ3RoIiwibGFuZ3VhZ2UtdG9vbGJhci1uYXZpZ2F0aW9uLWZ1bGwtZXh0ZW50IjoiRnVsbCBFeHRlbnQiLCJsYW5ndWFnZS10b29sYmFyLWdyb3VwLWVkaXQtZmVhdHVyZXMiOiJFZGl0IEZlYXR1cmVzIiwibGFuZ3VhZ2UtbGF5ZXItZGV0YWlscy1wdWJsaXNoIjoiV291bGQgeW91IGxpa2UgdG8gcHVibGlzaCB0aGlzIGxheWVyIHRvIHlvdXIgQXJjR0lTIE9ubGluZSBhY2NvdW50PyIsImxhbmd1YWdlLWZlYXR1cmUtZGV0YWlscy1hdHRhY2htZW50LW5vdC1hdmFpbGFibGUtb2ZmbGluZSI6IlRoaXMgYXR0YWNobWVudCBpcyBub3QgYXZhaWxhYmxlIG9mZmxpbmUuIiwibGFuZ3VhZ2UtY29tbW9uLXJlc3VsdHMtdW5pb24tY29uZmlybWF0aW9uIjoiJ3swfScgdW5pb25lZCB3aXRoIHsxfSIsImxhbmd1YWdlLW1lbnUtcHJvamVjdC1hY3Rpb25zLWRlc2MiOiJWaWV3IG9wdGlvbnMgcmVsYXRlZCB0byB0aGUgcHJvamVjdC4iLCIvL2RhdGVwaWNrZXIucmVnaW9uYWwuaGVscCI6IkNvcHkgc2V0dGluZ3MgZnJvbSBvbmUgb2YgdGhlIGZpbGVzIGluIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5LXVpL3RyZWUvbWFzdGVyL3VpL2kxOG4iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctaW52YWxpZC1kZWNpbWFsIjoiezB9IG11c3QgYmUgYSB2YWxpZCBkZWNpbWFsIG51bWJlci4iLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1wb2x5Z29uLWRlc2MiOiJDbGljayBvciB0YXAgbG9jYXRpb25zIHRvIGRlZmluZSBhIHBvbHlnb24uIERvdWJsZS1jbGljay90YXAgdG8gZmluaXNoLiIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWVkaXQtbG9nLXZpZXciOiJTeW5jIE9mZmxpbmUgRGF0YSB7MH0iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLWV4cG9ydHRpbGVzLWxldmVsIjoiRGV0YWlsIExldmVsczoiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1kcmF3bW9kZS1hcnJvdyI6IkFycm93IiwibGFuZ3VhZ2UtYnVmZmVyLWVycm9yLWRldGFpbHMtdW5hdmFpbGFibGUiOiJFcnJvciBkZXRhaWxzIHVuYXZhaWxhYmxlLiIsImxhbmd1YWdlLXByb2plY3QtcHJvamVjdHMtdGl0bGUiOiJQcm9qZWN0cyIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1zaW1wbGUtZmlsdGVyLXRpdGxlIjoiRmlsdGVyIiwibGFuZ3VhZ2UtcHJvbXB0LWRlZmF1bHQtdGl0bGUiOiJQcm9tcHQiLCJsYW5ndWFnZS1ydW4tcmVwb3J0LWVycm9yLW1lc3NhZ2UtZ2VuZXJpYyI6IkFuIGVycm9yIG9jY3VycmVkIHdoZW4gYXR0ZW1wdGluZyB0byBydW4geW91ciByZXBvcnQuIiwibGFuZ3VhZ2Utc2VhcmNoLXBsYWNlaG9sZGVyIjoiU2VhcmNoLi4uIiwibGFuZ3VhZ2Utc2F2ZWQtcmVzdWx0cy1pdGVtLWRlbGV0ZS1kZXNjcmlwdGlvbiI6IkRlbGV0ZSBzYXZlZCByZXN1bHRzICd7MH0nIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi11cGRhdGUtYXR0YWNobWVudCI6IlVwZGF0ZXMgYSBmZWF0dXJlIGF0dGFjaG1lbnQuIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLXVuZG9hYmxlLWFkZCI6IkFkZCBGZWF0dXJlcyIsImxhbmd1YWdlLXBhZ2luZy1wYWdlLW9mIjoiT2YiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC11bml0LXNxeWFyZC1zaG9ydCI6InlkwrIiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctbXVsdGktZmVhdHVyZS1zZWxlY3Rvci1tZXNzYWdlIjoiU2VsZWN0IGEgZmVhdHVyZSB0byBlZGl0IiwibGFuZ3VhZ2Utbm8tcHJpbnQtdGVtcGxhdGUiOiJObyBwcmludCB0ZW1wbGF0ZXMgYXJlIGNvbmZpZ3VyZWQgZm9yIHRoaXMgc2l0ZS4iLCJsYW5ndWFnZS1idWZmZXItdGFyZ2V0LW1vZHVsZXMtZXJyb3IiOiJ7MH06IFRhcmdldCBtb2R1bGVzIG5vdCBzZXQuIFBsZWFzZSBjaGVjayB5b3VyIGNvbmZpZ3VyYXRpb24uIiwibGFuZ3VhZ2UtbGF5ZXItc2VsZWN0b3ItaWRlbnRpZnktY2xlYXItYWxsLXRvb2x0aXAiOiJDbGVhciBhbGwgaWRlbnRpZmlhYmxlIGxheWVycyIsImxhbmd1YWdlLW1hcC1jb29yZGluYXRlcy1ETVMiOiJETVMiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1lZGl0LXRvb2x0aXAiOiJFZGl0IGFuIGV4aXN0aW5nIGRyYXdpbmciLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1kcmF3bW9kZS1wb2x5Z29uIjoiUG9seWdvbiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tcmVtb3ZlLWZlYXR1cmUtc2V0LWNvbGxlY3Rpb24tYnktaWQiOiJSZW1vdmVzIHRoZSBzcGVjaWZpZWQgY29sbGVjdGlvbiBmcm9tIHRoZSBmZWF0dXJlIHNldCBtYW5hZ2VyLiIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1taW51dGVzLXRpdGxlIjoiTWludXRlcyIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1kZWxldGUtd2l0aC1yZWxhdGlvbi1mb3JiaWRkZW4iOiJUaGlzIGZlYXR1cmUgaXMgcmVsYXRlZCB0byBvdGhlcnMgYW5kIGNhbm5vdCBiZSBkZWxldGVkIHVudGlsIHRoZSByZWxhdGVkIHJlY29yZHMgYXJlIGRlbGV0ZWQuIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtdW5pdC1zcW5hdXRpY2FsbWlsZSI6Ik5hdXRpY2FsIE1pbGXCsiAoTk3CsikiLCJsYW5ndWFnZS10b29sYmFyLXRhc2tzLXNoYXJlLXRvb2x0aXAiOiJTaGFyZSB0aGUgY3VycmVudCBtYXAgb24gdGhlIG1vc3QgY29tbW9uIHNvY2lhbCBtZWRpYSIsImxhbmd1YWdlLW1lbnUtdmlzdWFsaXphdGlvbiI6IlR1cm4gb24vb2ZmIGxheWVyIHZpc3VhbGl6YXRpb25zIiwibGFuZ3VhZ2UtZW50ZXItb25saW5lLWRlc2MiOiJHbyB0byBvbmxpbmUgbW9kZSBhbmQgdmlldyBsaXZlIG1hcCBkYXRhIGZyb20gdGhlIHdlYi4iLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1wb2x5Z29uLXRvb2x0aXAiOiJEcmF3IGEgY3VzdG9tIHNoYXBlIG9uIHRoZSBtYXAiLCJsYW5ndWFnZS1zYXZlZC1yZXN1bHRzLWNyZWF0ZS1jb25maXJtYXRpb24iOiJ7MX0gZmVhdHVyZXMgYWRkZWQgdG8gc2F2ZWQgcmVzdWx0cyAnezB9JyIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWVkaXQtZGVzYy1rZXlib2FyZCI6IlVzZSBhcnJvd3MgdG8gbW92ZSB0aGUgcG9pbnQuIEhpdCBFTlRFUiB0byBiZWdpbiBlZGl0aW5nIGFuIGV4aXN0aW5nIGRyYXdpbmcuIiwibGFuZ3VhZ2UtdG9vbGJhci1idWZmZXItdG9nZ2xlLXRvb2x0aXAiOiJCdWZmZXIgYW4gYXJlYSBhcm91bmQgeW91ciBzZWxlY3Rpb24iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy1hbHQtZXJyb3IiOiJYIGljb24gaW5zaWRlIGEgcmVkIGNpcmNsZSIsImxhbmd1YWdlLXByb2plY3QtY29uZmlybS1zaGFyZS1wdWJsaWMtdGl0bGUiOiJTaGFyZSBQcm9qZWN0IiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtc2hhcmUiOiJTaGFyZSB7MH0iLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1lZGl0LWZlYXR1cmUiOiJFZGl0IEZlYXR1cmUgezB9IiwibGFuZ3VhZ2UtcnVuLXJlcG9ydC1lcnJvci10aXRsZSI6IlJlcG9ydCBFcnJvciIsImxhbmd1YWdlLW1lbnUtaWRlbnRpZnktZnJlZWhhbmQtZGVzYyI6IkRyYXcgYSBzaGFwZSB0byB2aWV3IGluZm9ybWF0aW9uIGFib3V0IHRoYXQgYXJlYS4iLCJsYW5ndWFnZS1hdXRoLXRpdGxlIjoiQXV0aGVudGljYXRpb24gUmVxdWlyZWQiLCJsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LWxpbmtzLWRlc2NyaXB0aW9uIjoiR3Vlc3QgbGlua3MgYWxsb3cgdXNlcnMgd2hvIGFyZSBub3QgYXNzaWduZWQgcHJvamVjdCBwcml2aWxlZ2VzIHRvIGFjY2VzcyB0aGUgcHJvamVjdC4iLCJsYW5ndWFnZS1vZmZsaW5lLXZpZXdlci1wcm92aXNpb25pbmctZmFpbGVkIjoiVGhlIGRvd25sb2FkIG9mIHJlc291cmNlcyBmb3Igb2ZmbGluZSB1c2UgZmFpbGVkLiIsImxhbmd1YWdlLW1lbnUtYWRkLXRleHQiOiJBZGQgU29tZSBUZXh0IiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWNyZWF0ZS1yZWxhdGVkLWZlYXR1cmUiOiJDcmVhdGUgYSBuZXcgcmVsYXRlZCB7MH0gcmVjb3JkIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWVycm9yLW5vLW1hcHNlcnZpY2UiOiJUaGUgZmVhdHVyZSBpcyBub3QgYXNzb2NpYXRlZCB3aXRoIGFueSBrbm93biBtYXAgc2VydmljZS4iLCJsYW5ndWFnZS1zbmFwcGluZy1kZWFjdGl2YXRlZCI6IlNuYXBwaW5nIGRlYWN0aXZhdGVkIiwibGFuZ3VhZ2UtbWVudS16b29tLWluaXRpYWwtZXh0ZW50LWRlc2MiOiJSZXR1cm4gdG8gdGhlIGluaXRpYWwgbWFwIHBvc2l0aW9uIGFuZCB6b29tIGxldmVsLiIsImxhbmd1YWdlLWNvbW1vbi1xdWVyeS1yZXN1bHRzIjoiUXVlcnkgUmVzdWx0cyIsImxhbmd1YWdlLWJvb2ttYXJrcy1tYXAtc2NhbGUiOiJNYXAgU2NhbGU6IDE6IiwibGFuZ3VhZ2UtbWFwLXNpdGUtYXV0aG9yaXphdGlvbi1mYWlsZWQiOiJBY2Nlc3MgRGVuaWVkLiIsImxhbmd1YWdlLXRhYmxlLW1hcHBpbmctbG9jYXRpb24tdHlwZS1jb29yZGluYXRlcyI6IlNwYXRpYWwgQ29vcmRpbmF0ZXMiLCJsYW5ndWFnZS1jbGVhci1zdG9yYWdlLXZpZXctZGVzY3JpcHRpb24iOiJDbGVhciBhbGwgb2ZmbGluZSBkYXRhIGZvcjoiLCJsYW5ndWFnZS1wcm9qZWN0cy1zb3J0LWNyZWF0ZWRieS1kaXNwbGF5LW5hbWUiOiJDcmVhdGVkIEJ5IiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLWxhYmVsLWZvcm1hdCI6InswfTogezF9XG57Mn06IHszfSIsImxhbmd1YWdlLXNoZWxsLWRhdGFmcmFtZS1yZXNpemUiOiJEcmFnIHRvIHJlc2l6ZSB0aGUgcGFuZWwiLCJsYW5ndWFnZS1mZWF0dXJlLWxvYWRpbmctcmVsYXRlZC1mZWF0dXJlcyI6IkxvYWRpbmcgcmVsYXRlZCBmZWF0dXJlcy4uLiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tbWFwLXJlc2l6ZSI6IlRlbGxzIHRoZSBtYXAgY29udHJvbCB0byByZXNpemUgaXRzZWxmLiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgYWZ0ZXIgYWx0ZXJpbmcgdGhlIG1hcCBjb250YWluZXIncyBkaW1lbnNpb25zLiIsImxhbmd1YWdlLW1lbnUtb2ZmbGluZS1tYXAtZWRpdG9yLWdlb21ldHJ5LWFjdGlvbnMtZnJlZWhhbmRwb2x5Z29uLWRlc2MiOiJEcmF3IGEgZnJlZWhhbmQgcG9seWdvbiBmb3IgdGhlIGFyZWEgb2YgaW50ZXJlc3QgZ2VvbWV0cnkuIiwibGFuZ3VhZ2UtaGVhdC1tYXBzLW5vbmUiOiJOb25lIiwibGFuZ3VhZ2UtYnVmZmVyLWFjdGl2ZS10b29sLWFkZG9uLW1lc3NhZ2UiOiJOb3RlOiBCdWZmZXJpbmcgaXMgYWN0aXZlLiBBIGJ1ZmZlciBvZiB7MH0gezF9IHdpbGwgYmUgYXBwbGllZC4iLCJsYW5ndWFnZS1iYXNlbWFwLXN3aXRjaGVyLXZpZXctZGVzY3JpcHRpb24iOiJTZWxlY3Qgb25lIG9mIHRoZSBhdmFpbGFibGUgYmFzZW1hcHMiLCJsYW5ndWFnZS1mZWF0dXJlLWNvb3JkaW5hdGVzLXRvZ2dsZS1idXR0b24iOiJPcGVuIGFuZCBjbG9zZSBjb29yZGluYXRlcyB3aWRnZXQiLCJsYW5ndWFnZS1jb21tb24tdmlldy1sb2ciOiJWaWV3IExvZyIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXBvbHlnb24tcHJlZGljdGl2ZS1tYXJrdXAtbGFiZWwiOiJDdXJyZW50OiB7MH0gezF9XG5BcmVhOiB7Mn0gezN9XG5QZXJpbWV0ZXI6IHs0fSB7NX0iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWxheWVycy1udW1mZWF0dXJlcy11bmtub3duIjoidW5rbm93biIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tc2V0LWVkaXQtbG9nIjoiU2V0cyB0aGUgZWRpdCBsb2csIHBhc3NpbmcgaXQgaW50byBhIGNhbGxiYWNrLiBJZiBhbiBlcnJvciBvY2N1cnMsIHRoZSBlcnJvciBpcyBwYXNzZWQgaW50byB0aGUgY2FsbGJhY2suIiwibGFuZ3VhZ2UtdG9vbGJhci1uYXZpZ2F0aW9uLWluaXRpYWwtZXh0ZW50IjoiSW5pdGlhbCBWaWV3IiwibGFuZ3VhZ2UtY29tbW9uLWV4dHJhY3QtZGF0YSI6IkV4dHJhY3QgRGF0YSIsImxhbmd1YWdlLXByb2plY3QtY29uZmlybS1zdG9wLXNoYXJpbmctdGl0bGUiOiJTdG9wIFNoYXJpbmcgUHJvamVjdCIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXBvbHlsaW5lLXByZWRpY3RpdmUtbWFya3VwLWxhYmVsIjoiQ3VycmVudDogezB9IHsxfVxuVG90YWw6IHsyfSB7M30iLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1wb2x5bGluZSI6IkxpbmUiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItZGF0YS1zb3VyY2UiOiJEYXRhIFNvdXJjZToiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXNob3ctbWFwLWVsZW1lbnQiOiJEaXNwbGF5cyBhbiBlbGVtZW50IGFuY2hvcmVkIHRvIGEgc3BlY2lmaWMgcG9pbnQgb24gdGhlIG1hcC4iLCJsYW5ndWFnZS10b29sYmFyLWdyb3VwLXRhc2tzIjoiVGFza3MiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1pZGVudGlmaWFibGUtbGF5ZXJzIjoiSWRlbnRpZmlhYmxlIExheWVycyB7MH0iLCJsYW5ndWFnZS1pbnRlZ3JhdGlvbi1uby1pdGVtcyI6Ik5vIGl0ZW1zIHRvIGRpc3BsYXkiLCJsYW5ndWFnZS1mZWF0dXJlLWNvb3JkaW5hdGVzLVdLSUQiOiJXS0lEIiwibGFuZ3VhZ2UtdXBsb2FkZXItbGVnYWN5LWJ1dHRvbi1hZGQtaW5wdXQiOiJBZGQgaW5wdXQiLCJsYW5ndWFnZS1wcm9qZWN0LWNvbmZpcm0tc2hhcmUtcHVibGljLWVkaXQtZGVzY3JpcHRpb24iOiJBcmUgeW91IHN1cmUgeW91IHdpc2ggdG8gc2hhcmUgcHJvamVjdCBcInswfVwiIHB1YmxpY2x5PyBVc2VycyBjb3VsZCBiZSBhbGxvd2VkIHRvIHZpZXcgb3IgZWRpdCB0aGlzIHByb2plY3Qgd2l0aG91dCBzaWduaW5nIGluLiIsImxhbmd1YWdlLW1vbnRocy0xMSI6IkRlY2VtYmVyIiwibGFuZ3VhZ2UtbW9udGhzLTEwIjoiTm92ZW1iZXIiLCJsYW5ndWFnZS1sYXllcmxpc3QtZXhwYW5kIjoiQ29sbGFwc2Ugb3IgZXhwYW5kIHswfSBsYXllciBncm91cCIsImxhbmd1YWdlLWxheWVyLWRldGFpbHMtZGlhbG9nLWJ1dHRvbi1jYW5jZWwiOiJDYW5jZWwiLCJsYW5ndWFnZS10b29sYmFyLXRhYi1maWxlIjoiRmlsZSIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1uby1jb29yZGluYXRlcyI6Ik5vIGNvb3JkaW5hdGVzIGhhdmUgY3VycmVudGx5IGJlZW4gcGxvdHRlZC4iLCJsYW5ndWFnZS1wcm9qZWN0cy1zb3J0LW1vZGlmaWVkYnktZGlzcGxheS1uYW1lIjoiTW9kaWZpZWQgQnkiLCJsYW5ndWFnZS1wcmludGluZy1jdXJyZW50LWV4dGVudCI6IkN1cnJlbnQgRXh0ZW50IiwibGFuZ3VhZ2UtY29tbW9uLW5vLXJlc3VsdHMtZGVzYyI6Ikl0ZW1zIGFwcGVhciBhZnRlciB5b3UgcGVyZm9ybSBhIHZhbGlkIHNlYXJjaCBvciBvdGhlciB0YXNrIHRoYXQgcmV0dXJucyByZXN1bHRzLiIsImxhbmd1YWdlLWZlYXR1cmUtZGV0YWlscy1jb21wYWN0LWRlc2MiOiJTd2l0Y2ggdG8gdGhlIGZlYXR1cmUgZGV0YWlscyBjb21wYWN0IHZpZXciLCJsYW5ndWFnZS10b29sYmFyLWlkZW50aWZ5LXBvbHlnb24tZGVzYyI6IlRvIGxlYXJuIHdoYXRcdTIwMTlzIHRoZXJlLCBkcmF3IGEgc2hhcGUgb24gdGhlIG1hcC4gRG91YmxlLWNsaWNrL3RhcCB0byBmaW5pc2guIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtb3BlbiI6Im9wZW4uICAiLCJsYW5ndWFnZS1leHBvcnQtd2ViLW1hcC1lcnJvciI6IlRoZXJlIHdhcyBhbiBlcnJvciBleHBvcnRpbmcgdGhlIHdlYiBtYXAuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1oaWRlLW1hcC1lbGVtZW50IjoiUmVtb3ZlcyBhbiBlbGVtZW50IHByZXZpb3VzbHkgYW5jaG9yZWQgdG8gdGhlIG1hcCB1c2luZyBTaG93TWFwRWxlbWVudC4iLCJsYW5ndWFnZS1sYXllci1kZXRhaWxzLXZhbGlkYXRpb24tZXJyb3ItbmFtZS1jYW5ub3QtYmUtZW1wdHkiOiJMYXllciBuYW1lIGlzIHJlcXVpcmVkLiIsImxhbmd1YWdlLWJvb2ttYXJrcy10aXRsZSI6IkJvb2ttYXJrZWQgTG9jYXRpb25zIiwibGFuZ3VhZ2UtZ2VvbG9jYXRlLWluLXByb2dyZXNzIjoiRmluZGluZyB5b3VyIGxvY2F0aW9uLi4uIiwibGFuZ3VhZ2UtcnVuLXJlcG9ydC1jb21wbGV0ZS1saW5rLXN5bmMiOiJEb3dubG9hZCByZXBvcnQgZmlsZSIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc2hhcmluZy1idXR0b24iOiJTaGFyaW5nIiwibGFuZ3VhZ2UtY29tbW9uLWZlYXR1cmUtbGF5ZXItZGV0YWlscy1kZXNjIjoiTWFuYWdlIGNhY2hpbmcgb2YgYSBmZWF0dXJlIGxheWVyIGZvciBvZmZsaW5lIHVzZS4iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWxheWVycy1maWx0ZXItdG9vbHRpcCI6IkVkaXQgdGhlIGxheWVyIGZpbHRlciIsImxhbmd1YWdlLXRvb2xiYXItZWRpdGluZy1jcmVhdGUtbmV3LWZlYXR1cmUiOiJDcmVhdGUgTmV3IEZlYXR1cmUiLCJsYW5ndWFnZS1mZWF0dXJlLWNyZWF0ZS1yZWxhdGVkLWZlYXR1cmVzIjoiQ3JlYXRlIEEgTmV3IFJlbGF0ZWQgRmVhdHVyZSIsImxhbmd1YWdlLW1lbnUtb2ZmbGluZS1tYXAtZWRpdG9yLWdlb21ldHJ5LWFjdGlvbnMtZnJlZWhhbmRwb2x5Z29uIjoiRnJlZWhhbmQgUG9seWdvbiIsImxhbmd1YWdlLWNvbW1vbi1zaGFyZSI6IlNoYXJlIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtdW5pdC1hY3JlLXNob3J0IjoiYWMiLCJsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LXByaXZpbGVnZXMtZGVzY3JpcHRpb24iOiJQcm9qZWN0IHByaXZpbGVnZXMgYWxsb3cgdGhlIHVzZXJzIHRoYXQgeW91IHNwZWNpZnkgdG8gYWNjZXNzIHRoZSBwcm9qZWN0IHVzaW5nIHRoZSBQcm9qZWN0IFVSTCBvciBieSBicm93c2luZyB0aGUgbGlzdCBvZiBwcm9qZWN0cy4iLCJsYW5ndWFnZS1hdXRoLWVycm9yIjoiSW52YWxpZCB1c2VybmFtZSBvciBwYXNzd29yZC4gUGxlYXNlIHRyeSBhZ2Fpbi4iLCJsYW5ndWFnZS1tZW51LXJlc3VsdHMtcmVtb3ZlLWZlYXR1cmUtZGVzYyI6IlJlbW92ZSB0aGlzIGZlYXR1cmUgZnJvbSB0aGUgY3VycmVudCBzZXQgb2YgcmVzdWx0cyIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXJlc3VsdHMtZmVhdHVyZS1kZXNjcmlwdGlvbi1wb2x5Z29uIjoiUGVyaW1ldGVyOiB7TGVuZ3RofXtVbml0c31cbkFyZWE6IHtBcmVhfXtBcmVhIFVuaXRzfSIsImxhbmd1YWdlLWNvbW1vbi1sb2dpbiI6IkxvZyBJbiIsImxhbmd1YWdlLXRvb2xiYXItdGl0bGUiOiJUb29sYmFyIiwibGFuZ3VhZ2Utc2VsZWN0LWZlYXR1cmVzLXN1YnRyYWN0LWNvbmZpcm1hdGlvbiI6InsxfSBmZWF0dXJlKHMpIHN1YnRyYWN0ZWQgZnJvbSAnezB9JyIsImxhbmd1YWdlLXJ1bi1yZXBvcnQtcHJvZ3Jlc3MtbWVzc2FnZS1zeW5jIjoiUGxlYXNlIHdhaXQgd2hpbGUgeW91ciByZXBvcnQgZmlsZSBpcyBnZW5lcmF0aW5nLiIsImxhbmd1YWdlLWxheWVybGlzdC1zaG93LWxlZ2VuZCI6IlNob3cgTGVnZW5kIiwibGFuZ3VhZ2UtdXBsb2FkLWRhdGEtY29uZmlybS1hZGQtbGF5ZXIiOiJBZGQgTGF5ZXIiLCJsYW5ndWFnZS1zbmFwcGluZy1sYXllci1yZWdpc3RlcmVkIjoiTGF5ZXIgezB9IHdhcyByZWdpc3RlcmVkIGZvciBzbmFwcGluZy4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXN0YXJ0LWVkaXRpbmctZWRpdC1sb2ctZW50cnkiOiJDcmVhdGVzIGEgYXZpZXcgdG8gY2hhbmdlIGFuIGV4aXN0aW5nIGVkaXQuIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtcmVzdWx0cy1mZWF0dXJlLWRlc2NyaXB0aW9uLXBvbHlsaW5lIjoiTGVuZ3RoOiB7TGVuZ3RofXtVbml0c30iLCJsYW5ndWFnZS10b29sYmFyLW5hdmlnYXRpb24tem9vbS1pbi1kZXNjIjoiQ2xpY2sgb3IgdGFwLCB0aGVuIGRyYWcgYXJlYSBvZiBpbnRlcmVzdCBvbiB0aGUgbWFwLiBNYXAgd2lsbCB6b29tIHRvIHRoYXQgbG9jYXRpb24uIiwibGFuZ3VhZ2UtdG9vbGJhci1ob21lLXN1YiI6IkhvbWUiLCJsYW5ndWFnZS1jb21tb24tc2F2ZSI6IlNhdmUiLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtcmVzdWx0cy1jb2xsZWN0aW9uLW5hbWUiOiJDb29yZGluYXRlIFJlc3VsdHMiLCJsYW5ndWFnZS1wcm9qZWN0LWNvbmZpcm0tc2F2ZS10aXRsZSI6IlNhdmUgUHJvamVjdCIsImxhbmd1YWdlLWludGVncmF0aW9uLXZpZXdwb2ludC1pbmRpY2F0b3ItZGVzYyI6IkRyYWcgdGhlIG1hcmtlciBvbiB0aGUgbWFwIHRvIHVwZGF0ZSB0aGUgY29ycmVzcG9uZGluZyBtYXAgdmlldy4iLCJsYW5ndWFnZS1yZXNvbHV0aW9uIjoiUmVzb2x1dGlvbiIsImxhbmd1YWdlLXRhYmxlLW1hcHBpbmctc291cmNlLXNwYXRpYWwtcmVmZXJlbmNlLW1hcC13a3QiOiJXS1QiLCJsYW5ndWFnZS1wcm9qZWN0LWNvbmZpcm0tZGVsZXRlLWRlc2NyaXB0aW9uIjoiQXJlIHlvdSBzdXJlIHlvdSB3aXNoIHRvIGRlbGV0ZSB0aGlzIHByb2plY3Q/IiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWZlYXR1cmUtYXR0cmlidXRlcyI6IlZpZXcvRWRpdCBBdHRyaWJ1dGVzIiwibGFuZ3VhZ2UtZ2VvbG9jYXRlLWVycm9yLWJyb3dzZXIiOiJZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBnZW9sb2NhdGlvbi4iLCJsYW5ndWFnZS1mZWF0dXJlLWNvb3JkaW5hdGVzLWNoYW5nZS1zeXN0ZW0iOiJTZWxlY3QgY29vcmRpbmF0ZSBzeXN0ZW0iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctY3JlYXRlLWVkaXQtbmV3LWZlYXR1cmUiOiJDcmVhdGUgRmVhdHVyZSIsImxhbmd1YWdlLWFwcC1nb25lLW9mZmxpbmUiOiJZb3UgYXJlIG9mZmxpbmUuIiwibGFuZ3VhZ2UtdGFibGUtcmVjb3JkLXJlc3VsdHMtZGlhbG9nLXJlamVjdGVkLXJlY29yZHMtbWVzc2FnZSI6InswfSByZWNvcmQocykgd2VyZSByZWplY3RlZC4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWZlYXR1cmUtbGF5ZXItY2FjaGUtZGF0YSI6IkNhY2hlcyB0aGUgZGF0YSBmb3IgYSBnaXZlbiBtYXAgc2VydmljZSBVUkwuIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1nZXQtZWRpdC1sb2ciOiJHZXRzIHRoZSBlZGl0IGxvZywgcGFzc2luZyBpdCBpbnRvIGEgY2FsbGJhY2suIElmIGFuIGVycm9yIG9jY3VycywgdGhlIGVycm9yIGlzIHBhc3NlZCBpbnRvIHRoZSBjYWxsYmFjay4iLCJsYW5ndWFnZS1sYXllci1kZXRhaWxzLWRpYWxvZy10aXRsZSI6IkxheWVyIERldGFpbHMiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWhpZ2hsaWdodC1mZWF0dXJlLWRlZmF1bHQiOiJIaWdobGlnaHRzIHRoZSBmZWF0dXJlIGluIHRoZSBkZWZhdWx0IGhpZ2hsaWdodCBsYXllci4iLCJsYW5ndWFnZS1mZWF0dXJlLWNvb3JkaW5hdGVzLWludmFsaWQtdmFsdWUiOiJJbnZhbGlkIFJlc3VsdCIsImxhbmd1YWdlLWZlYXR1cmUtYXR0YWNobWVudHMtbm90LXN1cHBvcnRlZCI6IlRoZXJlIGFyZSBubyBhdHRhY2htZW50cyBmb3IgdGhpcyBmZWF0dXJlLiIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWNsb3NlZCI6ImNsb3NlZC4gICIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1jb29yZGluYXRlLWFjdGlvbnMtdGl0bGUiOiJDb29yZGluYXRlIHswfSBBY3Rpb25zIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1lcnJvci1sb2FkIjoiVGhlcmUgd2FzIGFuIGVycm9yIGxvYWRpbmcgeW91ciBvZmZsaW5lIG1hcC4gezB9IiwibGFuZ3VhZ2UtbWVudS1wb3dlcmVkLWJ5LWdlb2NvcnRleC1kZXNjIjoiUG93ZXJlZCBieSBHZW9jb3J0ZXgiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctdmFsdWUtdG9vLWxvbmciOiJ7MH0gbXVzdCBiZSBubyBsb25nZXIgdGhhbiB7MX0gY2hhcmFjdGVycy4iLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtY2FuY2VsLWFkZC1jb29yZGluYXRlLWJ1dHRvbi10aXRsZSI6IkNsaWNrIHRvIHN0b3AgZWRpdGluZyB0aGlzIGNvb3JkaW5hdGUiLCJsYW5ndWFnZS10YWJsZS1tYXBwaW5nLXZhbGlkYXRpb24tZXJyb3Itc291cmNlLXNwYXRpYWwtbWFwcGluZy1pbnZhbGlkLW1lc3NhZ2UiOiJZb3UgbXVzdCBzZWxlY3Qgb3IgZW50ZXIgYSB2YWxpZCBzb3VyY2Ugc3BhdGlhbCByZWZlcmVuY2UgZm9yIHlvdXIgZGF0YS4iLCJsYW5ndWFnZS1idWZmZXItb3B0aW9ucy1kaXN0YW5jZS1sYWJlbCI6IkRpc3RhbmNlIiwibGFuZ3VhZ2UtdG9vbGJhci1pZGVudGlmeS1mcmVlaGFuZC1wb2x5Z29uLWRlc2MiOiJEcmF3IGEgZnJlZWhhbmQgc2hhcGUgb24gdGhlIG1hcCB0byBzZWUgd2hhdCdzIHRoZXJlIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtYnVmZmVyLW9wdGlvbnMiOiJCdWZmZXIgT3B0aW9ucyB7MH0iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXJ1bi13b3JrZmxvdy1ieS1pZCI6IlJ1bnMgYSB3b3JrZmxvdy4iLCJsYW5ndWFnZS1tZW51LWdsb2JhbC1vcGVuIjoiT3BlbiIsImxhbmd1YWdlLW1lbnUtZXhwb3J0LXJlc3VsdHMtdG8tY3N2LWRlc2MiOiJFeHBvcnQgcmVzdWx0cyB0byBDU1YiLCJsYW5ndWFnZS1zaXRlLXNlcnZpY2UtbGF5ZXJzLWZhaWx1cmUtdmlldy1lcnJvciI6IlRoZXJlIHdhcyBhIHByb2JsZW0gbG9hZGluZyBvbmUgb3IgbW9yZSBjcml0aWNhbCBtYXAgc2VydmljZXMuIFRoZSBhcHBsaWNhdGlvbiBjYW5ub3QgYmUgdXNlZCBhdCB0aGlzIHRpbWUuIFRoZSBmb2xsb3dpbmcgc2VydmljZXMgZmFpbGVkIHRvIGxvYWQ6IiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtdW5pdC1oZWN0YXJlLXNob3J0IjoiaGEiLCJsYW5ndWFnZS1tZW51LWRlc2NyaXB0aW9uIjoiUXVpY2sgYWNjZXNzIHRvIGNvbW1vbiB0YXNrcyIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWRhdGEtZnJhbWUtb3BlbiI6IkRhdGEgZnJhbWUgb3Blbi4gICIsImxhbmd1YWdlLWxheWVyLWFjdGlvbnMiOiJQZXJmb3JtIGFuIGFjdGlvbiBvbiB7MH0iLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtZGVsZXRlLWFsbC1jb29yZGluYXRlcy1jb25maXJtIjoiVGhpcyB3aWxsIGNsZWFyIGFsbCBwbG90dGVkIGNvb3JkaW5hdGVzIGZyb20gdGhlIG1hcC4gQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNvbnRpbnVlPyIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXVuaXQtZmVldCI6IkZlZXQgKGZ0KSIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy11cGRhdGUtcHJvZmlsZS1lcnJvciI6IlVuYWJsZSB0byB1cGRhdGUgdGhlIG9mZmxpbmUgbWFwLiB7MH0iLCJsYW5ndWFnZS1nZW9sb2NhdGUtZXJyb3ItY2Fubm90LWNvbnZlcnQtY29vcmRpbmF0ZSI6IkVycm9yIiwibGFuZ3VhZ2UtdG9vbGJhci1uYXZpZ2F0aW9uLXBhbiI6IlBhbiIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWVkaXQtZGVzYy1zaG9ydGN1dHMiOiJVc2UgYXJyb3dzIHRvIG1vdmUsIFIgdG8gcm90YXRlLCBTIHRvIHNjYWxlLCBWIHRvIHNlbGVjdCB2ZXJ0ZXguIENvbWJpbmUgd2l0aCBBTFQgZm9yIGZpbmVyIGNvbnRyb2wuIENvbWJpbmUgd2l0aCBTSElGVCB0byByZXZlcnNlLiIsImxhbmd1YWdlLWNhcHR1cmUtZ2VvbWV0cnktZnJlZWhhbmQtcG9seWxpbmVfdG9vbHRpcCI6IlNlbGVjdCBieSBmcmVlaGFuZCBsaW5lIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtcG9pbnQtZGVzYyI6IkNsaWNrIG9yIHRhcCBhIG1hcCBsb2NhdGlvbiB0byBhZGQgYSBwb2ludC4iLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1wYWxldHRlLXNtYWxsLWNoYW5nZS1zdHlsZSI6IlN0eWxlcyIsImxhbmd1YWdlLW1hcC1jb250ZXh0LW1lbnUtcmV2ZXJzZS1nZW9jb2RlLXNlYXJjaC1pbi1wcm9ncmVzcyI6IlNlYXJjaGluZy4uLiIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLWNhbm5vdC1wcm9jZWVkLXdoZW4taW52YWxpZC1tZXNzYWdlIjoiQ2Fubm90IHByb2NlZWQgd2l0aCBhbiBpbnZhbGlkIGZvcm0iLCJsYW5ndWFnZS1wcm9qZWN0LWNvbmZpcm0tc2hhcmUtcHVibGljLWRlc2NyaXB0aW9uIjoiQXJlIHlvdSBzdXJlIHlvdSB3aXNoIHRvIHNoYXJlIHByb2plY3QgXCJ7MH1cIiBwdWJsaWNseT8gVXNlcnMgY291bGQgYmUgYWxsb3dlZCB0byB2aWV3IHRoaXMgcHJvamVjdCB3aXRob3V0IHNpZ25pbmcgaW4uIiwibGFuZ3VhZ2UtbGF5ZXJsaXN0LW11bHRpcGxlLWxlZ2VuZC1pY29uLXRvb2x0aXAiOiJDbGljayB0byBzZWUgbGVnZW5kIGluZm9ybWF0aW9uIGZvciB7MH0gbGF5ZXIiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1wb2x5bGluZS1kZXNjLWtleWJvYXJkIjoiVXNlIGFycm93cyB0byBtb3ZlIHRoZSBwb2ludC4gSGl0IEVOVEVSIHRvIHBsb3QgYW5kIGJlZ2luIG1vdmluZyB0aGUgbmV4dCBwb2ludC4gSGl0IEVOVEVSIHR3aWNlIHRvIGZpbmlzaC4iLCJsYW5ndWFnZS11aS10YWJsZS1zb3J0ZWQtYXNjZW5kaW5nIjoiQ29sdW1uIGhlYWRlci4gezB9IC0gU29ydGVkIGFzY2VuZGluZy4iLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItc2ltcGxlLWZpbHRlci1kZXNjcmlwdGlvbiI6IlNob3cgc2ltcGxlIGZpbHRlciBidWlsZGVyLiIsImxhbmd1YWdlLXByb2plY3Qtc2F2ZS10aXRsZSI6IlNhdmUgUHJvamVjdCIsImxhbmd1YWdlLW1lYXN1cmVtZW50LWFkZC1hcy1kcmF3aW5nLXRvb2x0aXAiOiJBZGQgbWVhc3VyZW1lbnRzIHRvIHRoZSBkcmF3aW5nIGxheWVyIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtcmVzdWx0cy1maWVsZC11bml0cyI6IlVuaXRzIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtcmVzdWx0cy1maWVsZC1hcmVhLXVuaXRzIjoiQXJlYSBVbml0cyIsImxhbmd1YWdlLXJ1bi1yZXBvcnQtY29tcGxldGUtbGluay1hc3luYyI6IkdvIHRvIFJlcG9ydCBQYWdlIiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLXNpbXBsZS10b29sdGlwIjoiU2hvdyBzaW1wbGUgcXVlcnkgYnVpbGRlciIsImxhbmd1YWdlLWRpc3BsYXktcmVzdWx0LXBpY2tlci1maWx0ZXItdGV4dC1ib3gtd2F0ZXJtYXJrIjoiRmlsdGVyIHJlc3VsdHMiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC11bml0LXNxZmVldCI6IkZlZXTCsiAoZnTCsikiLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtc2hvdy1jb29yZGluYXRlIjoiU2hvdyBDb29yZGluYXRlIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLXRvb2wtdG9vbHRpcCI6IlBsb3QgY29vcmRpbmF0ZXMgb24gdGhlIG1hcCIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1uby12YWxpZC1xdWVyeS1sYXllcnMiOiJUaGUgYXBwbGljYXRpb24gZG9lcyBub3QgY29udGFpbiBhbnkgcXVlcnlhYmxlIGxheWVycy4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLW9wZW4td2ViLXBhZ2UiOiJPcGVucyBhIHdlYiBwYWdlIGluIGFub3RoZXIgdGFiL3dpbmRvdy4iLCJsYW5ndWFnZS11cGxvYWRlci1lcnJvci1jb3JzLXRpdGxlIjoiVXBsb2FkIERlbmllZCAoQ09SUykiLCJsYW5ndWFnZS1jYXB0dXJlLWdlb21ldHJ5LXJlY3RhbmdsZSI6IkRyYXcgYSByZWN0YW5nbGUgb24gdGhlIG1hcC4iLCJsYW5ndWFnZS1jbGVhci1zdG9yYWdlLXZpZXctdGhpcy12aWV3ZXIiOiJUaGlzIGFwcGxpY2F0aW9uIiwibGFuZ3VhZ2UtbmF0aXZlLWxvdy1tZW1vcnkiOiJUaGUgZGV2aWNlIGlzIGN1cnJlbnRseSBsb3cgb24gbWVtb3J5LiIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc3RhdHVzLXRpdGxlLWVycm9yIjoiVGhlcmUgaXMgYW4gZXJyb3Igd2l0aCB0aGUgc2VsZWN0aW9uLiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LWRyYXdtb2RlLWV4dGVudCI6IkV4dGVudCIsImxhbmd1YWdlLXByb2plY3QtYWN0aW9ucy1lZGl0IjoiRWRpdCBEZXRhaWxzIiwibGFuZ3VhZ2UtbWFya3VwLWNoYW5nZS10ZXh0LXRleHQtdGl0bGUiOiJDaGFuZ2UgVGV4dCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tZ2xvYmFsLXNlYXJjaCI6IlBlcmZvcm1zIGEgc2VhcmNoIG9uIGFsbCBhY3RpdmUgcHJvdmlkZXJzLiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXByb2plY3Rpb24tZXJyb3IiOiJQcm9qZWN0aW9uIHRvIFdLSUQgezB9IGZhaWxlZC4gezF9IiwibGFuZ3VhZ2UtcHJpbnQiOiJQcmludCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tc2V0LWhpZ2hsaWdodC1ib3JkZXItY29sb3IiOiJTZXRzIHRoZSBib3JkZXIgY29sb3IgdXNlZCBmb3IgbmV3IGhpZ2hsaWdodHMsIHNwZWNpZmllZCBpbiA2IG9yIDggZGlnaXQgaGV4IGluIFJHQiBvciBBUkdCIGZvcm0uIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbWVhc3VyZS1hcmVhLXRvb2wtbmFtZSI6IkFyZWEiLCJsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtZmlsbC1zdHlsZS1ob3Jpem9udGFsIjoiSG9yaXpvbnRhbCIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1zeW5jLWRvbmUiOiJTeW5jIGNvbXBsZXRlLiIsImxhbmd1YWdlLW5hdGl2ZS1pbnRlcm5hbC1zZXJ2ZXItZXJyb3IiOiJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiLCJsYW5ndWFnZS1wcm9qZWN0LXN0YXR1cy1zYXZlZC11cmwtZGVzY3JpcHRpb24iOiJZb3UgY2FuIGFsc28gY29weSBhbmQgcGFzdGUgdGhlIGZvbGxvd2luZyBsaW5rIGludG8geW91ciBicm93c2VyIHRvIG9wZW4gdGhpcyBwcm9qZWN0LiIsImxhbmd1YWdlLW1hcmt1cC1hZGQtdGV4dC10aXRsZSI6IkVudGVyIFlvdXIgVGV4dCIsImxhbmd1YWdlLW1hcC10aXRsZSI6Ik1hcCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tc2hvdy1tYXAtdGlwIjoiQ3JlYXRlcyBhIE1hcCBUaXAgVmlldyBhbmQgZGlzcGxheXMgdGhlIGZlYXR1cmUgaW4gaXQuIiwibGFuZ3VhZ2UtdGFibGUtbWFwcGluZy1pcy1maXJzdC1yb3ctaGVhZGVyIjoiVXNlIGZpcnN0IHJvdyBhcyBoZWFkZXIiLCJsYW5ndWFnZS11cGxvYWRlci1lcnJvci1pbnZhbGlkLWZvcm0tbWVzc2FnZSI6IlBsZWFzZSBjb3JyZWN0IHRoZSB2YWxpZGF0aW9uIGVycm9ycyBiZWZvcmUgcHJvY2VlZGluZyB3aXRoIHRoZSB1cGxvYWQuIiwibGFuZ3VhZ2UtZ2VvbWV0cnktdG9vbGJhci1pbnN0cnVjdGlvbnMiOiJEZWZpbmUgeW91ciBjdXN0b20gZ2VvbWV0cnkgYnkgY2hvb3Npbmcgb25lIG9mIHRoZSB0b29scyBiZWxvdywgYW5kIHNlbGVjdGluZyBhbiBhcmVhIG9uIHRoZSBtYXAuIiwibGFuZ3VhZ2UtbWVudS1nbG9iYWwtc2F2ZS1hcy1kZXNjIjoiU2F2ZSB0aGUgc3RhdGUgb2YgeW91ciB2aWV3ZXIgaW4gYSBuZXcgcHJvamVjdCIsImxhbmd1YWdlLWNsZWFyLXN0b3JhZ2UtZG9tYWluLWNvbmZpcm0iOiJXYXJuaW5nOiBDbGVhcmluZyBhbGwgdGhlIGRhdGEgc3RvcmVkIGZvciB0aGlzIGRvbWFpbiByZW1vdmVzIGFsbCBvZmZsaW5lIGRhdGEgc3RvcmVkIGZvciB0aGlzIGRvbWFpbiwgaW5jbHVkaW5nIGFueSBlZGl0cyBtYWRlIHdoaWxlIG9mZmxpbmUuIElmIHlvdSBjbGVhciBzdG9yZWQgZG9tYWluIGRhdGEsIHlvdSB3aWxsIG5lZWQgdG8gcmVjYWNoZSBtYXAgZGF0YSB3aGlsZSBvbmxpbmUgYmVmb3JlIHlvdSBjYW4gY29udGludWUgd29ya2luZyBvZmZsaW5lLiIsImxhbmd1YWdlLXNhdmVkLXJlc3VsdHMtY29tYmluZS10aXRsZSI6IkNvbWJpbmUgUmVzdWx0cyIsImxhbmd1YWdlLW1hcC10aXAtbnVsbC1nZW9tZXRyeS1zdGF0dXMtbWVzc2FnZS10ZXh0IjoiVGhlIHNlbGVjdGVkIGZlYXR1cmUgY29udGFpbnMgbm8gc3BhdGlhbCBkYXRhIGFuZCBjYW5ub3QgYmUgaGlnaGxpZ2h0ZWQgb24gdGhlIG1hcC4iLCJsYW5ndWFnZS10b29sYmFyLWFuYWx5c2lzLW1lYXN1cmVtZW50LXRvb2xzIjoiTWVhc3VyZSIsImxhbmd1YWdlLXVwbG9hZGVyLWtpbG9ieXRlLWFiYnJldmlhdGlvbiI6IktCIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLXJlbGF0aW9uc2hpcHMta2V5LWZpZWxkLW1pc3NpbmciOiJFZGl0aW5nIHRoZSByZWxhdGlvbnNoaXAgZmFpbGVkIGJlY2F1c2UgYSBrZXkgZmllbGQgaXMgbm90IGlkZW50aWZpZWQuIiwibGFuZ3VhZ2UtbGF5ZXJsaXN0LXNpbmdsZS1sZWdlbmQtaWNvbi10b29sdGlwIjoiezB9IC0gTGVnZW5kIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1zZXQtYWN0aXZlLXRvb2wiOiJTZXRzIHRoZSBhY3RpdmUgdG9vbC4iLCJsYW5ndWFnZS1tZW51LW9mZmxpbmUtbWFwLWVkaXRvci1nZW9tZXRyeS1hY3Rpb25zLXJlY3RhbmdsZSI6IlJlY3RhbmdsZSIsImxhbmd1YWdlLWZlYXR1cmUtbm90LWF2YWlsYWJsZSI6Ik4vQSIsImxhbmd1YWdlLXRvb2xiYXItc2hvdy1sYXllcmxpc3QiOiJMYXllciBMaXN0IiwibGFuZ3VhZ2UtYnVmZmVyLWV4Y2Vzcy1mZWF0dXJlcy13YXJuaW5nIjoiQnVmZmVyaW5nIHswfSBmZWF0dXJlcyBtYXkgdGFrZSBzb21lIHRpbWUgdG8gcHJvY2Vzcy4gWW91ciBicm93c2VyIG1heSBiZWNvbWUgdW5yZXNwb25zaXZlIGR1cmluZyB0aGlzIHBlcmlvZC4gRG8geW91IHdhbnQgdG8gY29udGludWU/IiwibGFuZ3VhZ2UtcHJvamVjdC1lZGl0b3ItbmFtZS1sYWJlbCI6Ik5hbWUiLCJsYW5ndWFnZS1zZWFyY2gtYmluZy1wb3N0YWwtdG93biI6IlBvc3RhbCBUb3duIiwibGFuZ3VhZ2UtdGFibGUtbWFwcGluZy12YWxpZGF0aW9uLWVycm9yLWFsbC1jb29yZGluYXRlcy1tdXN0LWJlLXNldC1tZXNzYWdlIjoiQ29vcmRpbmF0ZXMgc3VjaCBhcyBYIGFuZCBZIG11c3QgYmUgbWFwcGVkIHRvIHRhYmxlIGNvbHVtbnMuIiwibGFuZ3VhZ2UtcHJpbnRpbmctY3VycmVudC1zY2FsZSI6IkN1cnJlbnQgU2NhbGUiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctbWJsLWZyZWVoYW5kLXBvbHlnb24tdG9vbCI6IkRyYXcgYSBwb2x5Z29uIHNoYXBlIG9uIHRoZSBtYXAuIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLXByb2dyZXNzLXBlbmRpbmciOiJQZW5kaW5nLiIsImxhbmd1YWdlLXNoYXJlLXByb2plY3Qtc2F2ZS1idXR0b24tdGV4dCI6IlNhdmUgU2hhcmluZyIsImxhbmd1YWdlLW1lbnUtZGVmYXVsdC10aXRsZSI6Ik9wdGlvbnMiLCJsYW5ndWFnZS1uYXRpdmUtYXR0YWNoLWZpbGUiOiJBdHRhY2ggYSBmaWxlIG9yIHBob3RvIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtZXJhc2UtbXVsdGlwbGUtcHJvbXB0LXRpdGxlIjoiV2FybmluZzogTXVsdGlwbGUgaXRlbXMgc2VsZWN0ZWQgZm9yIGRlbGV0aW9uISIsImxhbmd1YWdlLWlkZW50aWZ5LWVycm9yLW1lc3NhZ2UiOiJUaGUgcmVxdWVzdGVkIG9wZXJhdGlvbiBmYWlsZWQuIFRyeSBhZ2FpbiBsYXRlciwgb3IgaW5mb3JtIHlvdXIgYXBwbGljYXRpb24gYWRtaW5pc3RyYXRvciBvZiB0aGUgcHJvYmxlbS4iLCJsYW5ndWFnZS1tZW51LW9mZmxpbmUtbWFwLWVkaXRvci1nZW9tZXRyeS1hY3Rpb25zLWVsbGlwc2UiOiJFbGxpcHNlIiwibGFuZ3VhZ2UtY29tbW9uLWxheWVyLWRhdGEiOiJMYXllciBEYXRhIiwibGFuZ3VhZ2UtcHJvamVjdC1zdGF0dXMtc2hhcmUtYnV0dG9uLXRpdGxlIjoiU2hhcmUgUHJvamVjdCIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1jYWNoZS1sYXllci1jYXB0aW9uIjoiQ2FjaGUgTGF5ZXIiLCJsYW5ndWFnZS1sYXllci1hY3Rpb25zLXRpdGxlIjoiTGF5ZXIgQWN0aW9ucyIsImxhbmd1YWdlLW1hcC10aXAtc2VsZWN0IjoiU2VsZWN0IGEgTWFwIFRpcCIsImxhbmd1YWdlLW1lYXN1cmVtZW50LWRyYXdtb2RlLXJpZ2h0LWFycm93IjoiUmlnaHQgQXJyb3ciLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1yZXN1bHRzLXRvdGFsIjoiVG90YWwiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1tZWFzdXJlLWRpc3RhbmNlLXRvb2wtc3RhdHVzIjoiQ2xpY2sgb3IgdGFwIHRvIGRyYXcgYSBtZWFzdXJlbWVudCBsaW5lLiBEb3VibGUtY2xpY2svdGFwIHRvIGZpbmlzaC4iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWxheWVycy1yZWFkb25seS1vZmZsaW5lIjoiUmVhZC1vbmx5IG9mZmxpbmUiLCJsYW5ndWFnZS1wcm9qZWN0cy1wcml2YXRlLXByb2plY3RzLWxhYmVsIjoiU2hvdyBteSBwcm9qZWN0cyBvbmx5IiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtcmVzdWx0cy1maWVsZC1hbmdsZSI6IkFuZ2xlIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtaW5mbyI6IkhvbWUgUGFuZWwgezB9IiwibGFuZ3VhZ2UtdXBsb2FkLWRhdGEtd2FpdC1mb3ItbWFpbi1yZXNwb25zZSI6IlByb2Nlc3NpbmcgbGF5ZXIuLi4iLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1vZmZsaW5lLW1hbmFnZW1lbnQtb3B0aW9ucyI6Ik9mZmxpbmUgTWFuYWdlbWVudCBPcHRpb25zIHswfSIsImxhbmd1YWdlLWJvb2ttYXJrcy1hZGQiOiJCb29rbWFyayBDdXJyZW50IEV4dGVudCIsImxhbmd1YWdlLWNvbW1vbi1yZXN1bHRzLXN1YnRyYWN0LWNvbmZpcm1hdGlvbiI6InsxfSBzdWJ0cmFjdGVkIGZyb20gJ3swfSciLCJsYW5ndWFnZS1tZW51LXNhdmUtcmVzdWx0cy1kZXNjIjoiU2F2ZSB0aGUgbGlzdCBvZiByZXN1bHRzIGZvciBmdXR1cmUgdXNlIiwibGFuZ3VhZ2UtY29tbW9uLW5vLXJlc3VsdHMiOiJObyByZXN1bHRzIHRvIGRpc3BsYXkiLCJsYW5ndWFnZS10YWJsZS1tYXBwaW5nLXZhbGlkYXRpb24tZXJyb3ItYWxsLWNvb3JkaW5hdGVzLW11c3QtYmUtc2V0IjoiQWxsIGNvb3JkaW5hdGVzIG11c3QgYmUgc2V0LiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tY3JlYXRlLWhpZ2hsaWdodC1sYXllciI6IkNyZWF0ZXMgYSBuZXcgaGlnaGxpZ2h0IGxheWVyIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lLiIsImxhbmd1YWdlLW1lbnUtaWRlbnRpZnktcmVjdGFuZ2xlIjoiSWRlbnRpZnkgYnkgcmVjdGFuZ2xlIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLXN5bmMtd2FybmluZ3MiOiJXYXJuaW5ncyIsImxhbmd1YWdlLXRvb2xiYXItYm9va21hcmstb3BlbiI6Ik9wZW4gdGhlIGJvb2ttYXJrcyB2aWV3IiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLW9wZXJhdG9yLWxlc3MtdGhhbi1lcXVhbC10byI6Ijw9IiwibGFuZ3VhZ2UtdXBsb2FkLWRhdGEtZXJyb3ItaW52YWxpZC16aXAtbWVzc2FnZSI6IlRoZSB6aXAgZmlsZSB5b3UgdXBsb2FkZWQgd2Fzbid0IHJlY29nbml6ZWQgYnkgdGhlIHNlcnZlci4gQSB6aXBwZWQgc2hhcGVmaWxlIG11c3QgY29udGFpbiBhICcuc2hwJyBmaWxlLiBBIHppcHBlZCBmaWxlIGdlb2RhdGFiYXNlIG11c3QgY29udGFpbiBhIGZvbGRlciBlbmRpbmcgaW4gJy5nZGInLiIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1oYXMtZ2VvbWV0cnkiOiJUaGlzIGZlYXR1cmUgaGFzIGdlb21ldHJ5LiIsImxhbmd1YWdlLXNoZWxsLWRhdGFmcmFtZSI6IkV4cGFuZC9Db2xsYXBzZSB0aGUgZGF0YSBmcmFtZS4iLCJsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtbGluZS1zdHlsZS1kYXNoIjoiRGFzaCIsImxhbmd1YWdlLWxheWVyLXNlbGVjdG9yLWRlZmF1bHQtY2xlYXItYWxsLXRleHQiOiJDbGVhciBBbGwiLCJsYW5ndWFnZS1idWZmZXItdW5pdC1mZWV0LWRpc3BsYXktbmFtZSI6IkZlZXQgKGZ0KSIsImxhbmd1YWdlLXRvb2xiYXItYnVmZmVyaW5nLWRpc2FibGUiOiJEaXNhYmxlIGJ1ZmZlcmluZyIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tdXBkYXRlLXJlbGF0ZWQtcmVjb3JkIjoiVXBkYXRlcyBhIHJlbGF0ZWQgdGFibGUgcmVjb3JkLiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LWRyYXdtb2RlLXBvaW50IjoiUG9pbnQiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXRvZ2dsZS1sb2ctdmlldyI6IkFjdGl2YXRlcyBvciBkZWFjdGl2YXRlcyBsb2cgdmlldy4iLCJsYW5ndWFnZS1zZWxlY3QtZmVhdHVyZXMtcmVwbGFjZS1jb25maXJtYXRpb24iOiInezB9JyByZXBsYWNlZCB3aXRoIHsxfSBmZWF0dXJlKHMpIiwibGFuZ3VhZ2UtbGF5ZXItZGV0YWlscy12YWxpZGF0aW9uLWVycm9yLWludmFsaWQtcHVibGlzaC1uYW1lLW1lc3NhZ2UiOiJXaGVuIHB1Ymxpc2hpbmcsIHNwYWNlcyBhbmQgc3BlY2lhbCBjaGFyYWN0ZXJzIGFyZSBub3QgYWxsb3dlZC4iLCJsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtbWFya2VyLXN0eWxlLXgiOiJYIiwibGFuZ3VhZ2UtaWRlbnRpZnktZnJlZWhhbmQtcG9seWxpbmUtdG9vbCI6IkRyYWcgb24gdGhlIG1hcCB0byBkcmF3IGEgbGluZS4iLCJsYW5ndWFnZS1tYmwtaWRlbnRpZnktcG9pbnQtdG9vbCI6IlRhcCB0byBmaW5kIGZlYXR1cmVzIG9uIHRoZSBtYXAuIiwibGFuZ3VhZ2UtdXBsb2FkZXItZXJyb3ItaW52YWxpZC1mb3JtLXRpdGxlIjoiVmFsaWRhdGlvbiBFcnJvciIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tc2hvdy1tYXAtdGlwLXJlc3VsdHMiOiJTaG93cyBtYXAgdGlwIHJlc3VsdHMgZm9yIGEgRmVhdHVyZVNldENvbGxlY3Rpb24gcHJldmlvdXNseSBhZGRlZCB0byB0aGUgRmVhdHVyZVNldE1hbmFnZXIuIiwibGFuZ3VhZ2UtbWFya3VwLWRlbGV0ZS1tdWx0aXBsZS1wcm9tcHQtdGl0bGUiOiJXYXJuaW5nOiBNdWx0aXBsZSBpdGVtcyBzZWxlY3RlZCBmb3IgZGVsZXRpb24hIiwibGFuZ3VhZ2UtYmFzZW1hcC1zbGlkZXItdG9vbHRpcCI6IlNlbGVjdCBhIGJhc2VtYXAiLCJsYW5ndWFnZS1vZmZsaW5lLXZpZXdlci1wcm92aXNpb25pbmctZmFpbGVkLXN0YXR1czQwNCI6IlRoZSBkb3dubG9hZCBvZiByZXNvdXJjZXMgZm9yIG9mZmxpbmUgdXNlIGZhaWxlZDogVGhlIG9mZmxpbmUgZGF0YSBjb3VsZCBub3QgYmUgZm91bmQuIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1zaG93LXJlc3VsdHMtZmVhdHVyZS1hY3Rpb24iOiJDcmVhdGVzIFJlc3VsdHNMaXN0RmVhdHVyZUFjdGlvbnNWaWV3IGFuZCBkaXNwbGF5cyB0aGUgRmVhdHVyZSBBY3Rpb25zLiIsImxhbmd1YWdlLXRhYmxlLW1hcHBpbmctdmFsaWRhdGlvbi1lcnJvci1heGVzLW11c3QtYmUtdW5pcXVlIjoiQXhlcyBjYW5ub3Qgc2hhcmUgdGFibGUgY29sdW1ucy4iLCJsYW5ndWFnZS1zYXZlZC1yZXN1bHRzLW92ZXJ3cml0ZS1wcm9tcHQtdGl0bGUiOiJPdmVyd3JpdGUgc2F2ZWQgcmVzdWx0cyAnezB9Jz8iLCJsYW5ndWFnZS1vZmZsaW5lLXZpZXdlci1wcm92aXNpb25pbmctZmFpbGVkLXN0YXR1czQwMyI6IlRoZSBkb3dubG9hZCBvZiByZXNvdXJjZXMgZm9yIG9mZmxpbmUgdXNlIGZhaWxlZDogUGVybWlzc2lvbiBkZW5pZWQuIiwibGFuZ3VhZ2UtcHJvamVjdC1jb25maXJtLXJlbW92ZS1ndWVzdC1saW5rLXRpdGxlIjoiUmVtb3ZlIEd1ZXN0IExpbmsiLCJsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LWNsZWFyLWJ1dHRvbi10ZXh0IjoiU3RvcCBTaGFyaW5nIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtcGxhY2Vob2xkZXIiOiJQbGFjZWhvbGRlciBWaWV3IHswfSIsImxhbmd1YWdlLWxheWVyLXNlbGVjdG9yLXNuYXBwaW5nLXNlbGVjdC1hbGwtdG9vbHRpcCI6IlNlbGVjdCBhbGwgc25hcHBhYmxlIGxheWVycyIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLWlvcy13YXJuaW5nLW1lc3NhZ2UiOiJVcGxvYWQgRGF0YSBmdW5jdGlvbmFsaXR5IGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIG9uIGlPUyBkZXZpY2VzLiIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1hZGQtZXJyb3IiOiJVbmFibGUgdG8gYWRkIHRoZSBPZmZsaW5lIE1hcC4gezB9IiwibGFuZ3VhZ2UtZmVhdHVyZS1hY3Rpb25zLWRlc2NyaXB0aW9uIjoiRmVhdHVyZSBBY3Rpb25zIiwibGFuZ3VhZ2UtcHJvamVjdHMtc29ydC1tb2RpZmllZC1kaXNwbGF5LW5hbWUiOiJOZXdlc3QgTW9kaWZpZWQiLCJsYW5ndWFnZS1zeW1ib2wtZGlhbG9nLWJ1dHRvbi1wcm9jZWVkIjoiUHJvY2VlZCIsImxhbmd1YWdlLXRvb2xiYXItZ3JvdXAtYWR2YW5jZWQtbWVhc3VyZW1lbnQiOiJBZHZhbmNlZCBNZWFzdXJlbWVudCIsImxhbmd1YWdlLW1lYXN1cmVtZW50LWFyZWEtc2VsZWN0IjoiU2VsZWN0IGFyZWEgdW5pdCIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtdGV4dCI6IlRoZXJlIGFyZSB7MH0gYmFzZW1hcHMgc2VsZWN0ZWQuIiwibGFuZ3VhZ2UtdG9vbGJhci1ncm91cC1maW5kLWRhdGEiOiJGaW5kIERhdGEiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctbmV3LXJlbGF0ZWQtZmVhdHVyZS1kZWZhdWx0IjoiTmV3IFJlbGF0ZWQgRmVhdHVyZSIsImxhbmd1YWdlLXRvb2xiYXItZ3JvdXAtYW5hbHlzaXMiOiJBbmFseXNpcyIsImxhbmd1YWdlLW1lbnUtdGl0bGUiOiJJIHdhbnQgdG8uLi4iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctY3JlYXRlLWVkaXQtc2VsZWN0LXBvaW50LXRvb2wiOiJDbGljayBvciB0YXAgb24gdGhlIG1hcCB0byBzZWxlY3QgYSBmZWF0dXJlLiIsImxhbmd1YWdlLXByb2plY3Qtc3RhdHVzLXNhdmluZyI6IlNhdmluZyBwcm9qZWN0IiwibGFuZ3VhZ2UtbWVudS1vZmZsaW5lLW1hcC1lZGl0b3ItZ2VvbWV0cnktYWN0aW9ucy1lbGxpcHNlLWRlc2MiOiJEcmF3IGFuIGVsbGlwc2UgZm9yIHRoZSBhcmVhIG9mIGludGVyZXN0IGdlb21ldHJ5LiIsImxhbmd1YWdlLW1lbnUtb2ZmbGluZS1tYXAtZWRpdG9yLWdlb21ldHJ5LWFjdGlvbnMtY3VycmVudGV4dGVudCI6IkN1cnJlbnQgRXh0ZW50IiwibGFuZ3VhZ2UtdG9vbGJhci1pZGVudGlmeS1zbmFwcGluZy10b29sdGlwIjoiRW5hYmxlL0Rpc2FibGUgc25hcHBpbmcgd2hpbGUgaWRlbnRpZnlpbmciLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItb3BlcmF0b3ItZW5kcy13aXRoIjoiZW5kcyB3aXRoIiwibGFuZ3VhZ2UtZXhwb3J0LXdlYi1tYXAtZGVzY3JpcHRpb24iOiJFeHBvcnQgV2ViIE1hcCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tc3RlcC16b29tLW91dCI6Ilpvb21zIG91dCBhIHN0ZXAiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWNsZWFyLXN0b3JhZ2UtZm9yLWFwcGxpY2F0aW9uIjoiQ2xlYXJzIHRoZSBvZmZsaW5lIGRhdGEgZm9yIHRoZSBjdXJyZW50IGFwcGxpY2F0aW9uLiIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWl3dG0iOiJJIFdhbnQgVG8gTWVudSB7MH0iLCJsYW5ndWFnZS1ydW4tcmVwb3J0LXByb2dyZXNzLWhlYWRpbmctc3luYyI6IkdlbmVyYXRpbmcgUmVwb3J0Li4uIiwibGFuZ3VhZ2UtdG9vbGJhci10YXNrcy11cGxvYWQtZGF0YS10b29sdGlwIjoiVXBsb2FkIGxheWVycyBmcm9tIHlvdXIgY29tcHV0ZXIgb250byB0aGUgbWFwIiwibGFuZ3VhZ2UtYnVmZmVyLXVuaXQta2lsb21ldGVyLWRpc3BsYXktbmFtZSI6IktpbG9tZXRlcnMgKGttKSIsImxhbmd1YWdlLXByaW50LWhpZGUtcHJldmlldy1jZW50ZXIiOiJIaWRlIHByaW50IHByZXZpZXciLCJsYW5ndWFnZS1nZW9tZXRyeS1jYXB0dXJlZCI6Ikdlb21ldHJ5IGNhcHR1cmVkLiIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy10b29sLXN0YXR1cyI6IkNsaWNrIG9yIHRhcCBhIGxvY2F0aW9uIG9uIHRoZSBtYXAgdG8gcGxvdCBhIGNvb3JkaW5hdGUuIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1ydW4td29ya2Zsb3ctd2l0aC1hcmd1bWVudHMiOiJSdW5zIGEgd29ya2Zsb3cgd2l0aCBhIHNldCBvZiBpbnB1dCBhcmd1bWVudHMuIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtcmVjdGFuZ2xlLXRvb2x0aXAiOiJEcmF3IGEgcmVjdGFuZ2xlIG9uIHRoZSBtYXAiLCJsYW5ndWFnZS1jbGVhci1zdG9yYWdlLWRlc2MiOiJDbGVhcnMgYWxsIGRhdGEgc3RvcmVkIGJ5IHRoaXMgdmlld2VyLiIsImxhbmd1YWdlLW9mZmxpbmUtYXV0b21hdGljLXByb3Zpc2lvbmluZy1zdGFydGVkIjoiUHJvdmlzaW9uaW5nIHZpZXdlciBmb3Igb2ZmbGluZSB1c2UuLi4iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLW5ldy10aXRsZSI6Ik5ldyBPZmZsaW5lIE1hcCIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXJlc3VsdHMtdGFibGUiOiJSZXN1bHRzIFRhYmxlIHswfSIsImxhbmd1YWdlLXNoZWxsLWRhdGFmcmFtZS1kaXNhYmxlZC1sYXllci1saXN0IjoiT3BlbiB0aGUgTGF5ZXIgTGlzdCIsImxhbmd1YWdlLXRhYmxlLW1hcHBpbmctc291cmNlLXNwYXRpYWwtcmVmZXJlbmNlLW1hcC13a2lkIjoiV0tJRCIsImxhbmd1YWdlLWFwcC1nb25lLW9ubGluZSI6IllvdSBhcmUgb25saW5lLiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tZnNtLWNvbGxlY3Rpb24tc2V0LWNvbW1hbmQiOiJTZXQgdGhlIHByZWZlcnJlZCBjb21tYW5kIHRvIG9wZW4gdGhlIGZlYXR1cmUgc2V0IGNvbGxlY3Rpb24gZm9yIHRoZSBnaXZlbiBzb3VyY2UgbmFtZS4iLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtdXBkYXRlLWNvb3JkaW5hdGUtYnV0dG9uLXRleHQiOiJVcGRhdGUiLCJsYW5ndWFnZS1wcmludGluZy1lbWFpbC1hZGRyZXNzIjoiRW1haWwgQWRkcmVzcyIsImxhbmd1YWdlLXJ1bi1yZXBvcnQtZXJyb3ItbWVzc2FnZS10aW1lb3V0IjoiQW4gZXJyb3Igb2NjdXJyZWQ6IHRoZSByZXBvcnQgdGltZWQgb3V0IChpdCB0b29rIHRvbyBsb25nIHRvIGdlbmVyYXRlLCBvciB0aGVyZSBpcyBhIHByb2JsZW0gd2l0aCB5b3VyIGNvbm5lY3Rpb24pLiIsImxhbmd1YWdlLXRvb2xiYXItdGFza3MtcHJpbnQtbWFwLXRvb2x0aXAiOiJDcmVhdGUgYSBwcmludGFibGUgdmVyc2lvbiBvZiB0aGUgbWFwIiwibGFuZ3VhZ2UtcHJvamVjdHMtbG9hZC1idXR0b24tdGl0bGUiOiJMb2FkIFByb2plY3QiLCJsYW5ndWFnZS1uYXRpdmUtbm8tcGhvdG8tbm8tY2FtZXJhLWRldGVjdGVkIjoiTm8gY2FtZXJhIGRldGVjdGVkLiIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1zaW1wbGUtZmlsdGVyLXRvb2x0aXAiOiJTaG93IHNpbXBsZSBmaWx0ZXIgYnVpbGRlciIsImxhbmd1YWdlLXRvb2xiYXItbWVudS1nbG9iYWwtc2F2ZSI6IlNhdmUiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXRvZ2dsZS1kYXRhLWZyYW1lIjoiQWN0aXZhdGVzIG9yIGRlYWN0aXZhdGVzIGRhdGEgZnJhbWUuIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLXVzZS1vbmxpbmUtZGF0YS1kZXNjIjoiU3RvcCB1c2luZyBvZmZsaW5lIG1hcHMgYW5kIHN3aXRjaCB0byB1c2Ugb25saW5lIG1hcHMiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWdlb21ldHJ5LXRpdGxlIjoiU2VsZWN0IEFyZWEgb2YgSW50ZXJlc3QiLCJsYW5ndWFnZS1wcm9qZWN0cy1sYXN0LW1vZGlmaWVkLWJ5LWxhYmVsIjoiTGFzdCBtb2RpZmllZCBieToiLCJsYW5ndWFnZS1tYXAtdGlwLXRpdGxlIjoiTWFwIFRpcCIsImxhbmd1YWdlLXByaW50aW5nLXByaW50LWpvYi1zdGF0dXMiOiJQcmludCBKb2IgU3RhdHVzIiwibGFuZ3VhZ2UtbWVudS1yZXN1bHRzLXJlbW92ZS1mZWF0dXJlIjoiUmVtb3ZlIGZyb20gUmVzdWx0cyIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXRleHQiOiJUZXh0IiwibGFuZ3VhZ2Utc2VhcmNoLWluc3RhbnQtcHJvdmlkZXItc2VhcmNoLWNhbmNlbGxlZCI6Ikluc3RhbnQgc2VhcmNoIGNhbmNlbGxlZC4iLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1wb2ludC1kZXNjLWtleWJvYXJkIjoiVXNlIGFycm93cyB0byBtb3ZlIHRoZSBwb2ludC4gSGl0IEVOVEVSIHRvIGFkZCBpdCB0byB0aGUgbWFwLiIsImxhbmd1YWdlLXRvb2xiYXItZ3JvdXAtZWRpdGluZyI6IkVkaXQgRHJhd2luZ3MiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctZWRpdC1sb2ctY2FwdGlvbiI6IlZpZXcgRWRpdCBMb2ciLCJsYW5ndWFnZS1uYXRpdmUtYWRkLXRvLWZhdm9yaXRlcy1zdWNjZXNzIjoiVGhpcyBhcHBsaWNhdGlvbiBoYXMgYmVlbiBhZGRlZCB0byB5b3VyIGZhdm9yaXRlcy4iLCJsYW5ndWFnZS1zbmFwcGluZy1sYXllci1zZWxlY3Rvci10aXRsZSI6IlNuYXBwYWJsZSBMYXllcnMiLCJsYW5ndWFnZS1zZWxlY3QtbGF5b3V0IjoiU2VsZWN0IExheW91dCIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWVkaXQtZGVzYyI6IkNsaWNrIG9yIHRhcCBhbiBleGlzdGluZyBkcmF3aW5nIHRvIGJlZ2luIGVkaXRpbmcgaXQuIiwibGFuZ3VhZ2UtZmVhdHVyZS1jb29yZGluYXRlcy1ETVMiOiJETVMiLCJsYW5ndWFnZS1ydW4tcmVwb3J0LXByb2dyZXNzLXN0YXR1cyI6IlJlcG9ydCAnezB9JyBpcyBydW5uaW5nLi4iLCJsYW5ndWFnZS10b29sYmFyLWlkZW50aWZ5LWZyZWVoYW5kIjoiRnJlZWhhbmQiLCJsYW5ndWFnZS1sb2ctdGl0bGUiOiJEZWJ1ZyBMb2ciLCJsYW5ndWFnZS1uYXRpdmUtZG93bmxvYWQtZmFpbGVkIjoiRG93bmxvYWQgRmFpbGVkOiB7MH0uIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtY3JlYXRlLWZlYXR1cmUiOiJDcmVhdGUgRmVhdHVyZSB7MH0iLCJsYW5ndWFnZS10b29sYmFyLW11bHRpdG9vbCI6Ik11bHRpLXRvb2wiLCJsYW5ndWFnZS1tZW51LXNob3ctY2hhcnRpbmctdmlldy1kZXNjIjoiU3dpdGNoIHRvIGNoYXJ0aW5nIHZpZXciLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWFkZC10ZXh0LW1hcmt1cCI6IlByb21wdHMgdGhlIHVzZXIgZm9yIHRleHQgdG8gYWRkIGFzIG1hcmt1cC4gV2hlbiBjb21wbGV0ZWQsIHRleHQgbWFya3VwIGlzIGFkZGVkIGF0IHRoZSBwcm92aWRlZCBnZW9tZXRyeS4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXpvb20tb3V0LXRvLWV4dGVudCI6Ilpvb21zIG91dCB0byB0aGUgZ2l2ZW4gZXh0ZW50LiIsImxhbmd1YWdlLW1lbnUtbWFwdGlwLWFjdGlvbnMtdmlldy1kZXRhaWxzLWRlc2MiOiJWaWV3IGFkZGl0aW9uYWwgZGV0YWlscyBhYm91dCB0aGlzIGZlYXR1cmUiLCJsYW5ndWFnZS1tZW51LXJ1bi13b3JrZmxvdyI6IlBlcmZvcm0gYSB0YXNrIiwibGFuZ3VhZ2UtdXBsb2FkLWRpYWxvZy12YWxpZGF0aW9uLWVycm9yLXRvby1tYW55IjoiVG9vIG1hbnkgZmlsZXMuIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLWxpc3QtYWN0aW9ucy1kZXNjIjoiQ29vcmRpbmF0ZSBMaXN0IEFjdGlvbnMiLCJsYW5ndWFnZS10b29sYmFyLWVkaXRpbmctbWFuYWdlLW9mZmxpbmUtZGF0YSI6Ik1hbmFnZSBPZmZsaW5lIERhdGEiLCJsYW5ndWFnZS1tZW51LXJlc3VsdHMtdGFibGUtYWN0aW9ucy1kZXNjIjoiUmVzdWx0cyBUYWJsZSBBY3Rpb25zIiwibGFuZ3VhZ2UtY2FwdHVyZS1nZW9tZXRyeS1wb2x5bGluZS1rZXlib2FyZCI6IlVzZSBhcnJvd3MgdG8gbW92ZSB0aGUgcG9pbnQuIEhpdCBFTlRFUiB0byBwbG90IGFuZCBiZWdpbiBtb3ZpbmcgdGhlIG5leHQgcG9pbnQuIEhpdCBFTlRFUiB0d2ljZSB0byBmaW5pc2guIiwibGFuZ3VhZ2UtdG9vbGJhci1pZGVudGlmeS1wb2ludC1kZXNjIjoiQ2xpY2sgb3IgdGFwIGEgbG9jYXRpb24gb24gdGhlIG1hcCB0byBsZWFybiB3aGF0XHUyMDE5cyB0aGVyZS4iLCJsYW5ndWFnZS10b29sYmFyLWlkZW50aWZ5LXBvbHlnb24tdG9vbHRpcCI6IkRyYXcgYSBjdXN0b20gc2hhcGUgb24gdGhlIG1hcCB0byBmaW5kIG91dCBhYm91dCBhbiBhcmVhIiwibGFuZ3VhZ2UtYmFyY29kZS1zY2FubmVyLXVuYXZhaWxhYmxlIjoiUVIgc2Nhbm5lciBpcyB1bmF2YWlsYWJsZS4iLCJsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtY29sb3IiOiJDb2xvciIsImxhbmd1YWdlLXRvb2xiYXItM3JkLXBhcnR5LW1hcHMtc2hvdy1tYXBzLXRvb2x0aXAiOiJEaXNwbGF5IGxpbmtlZCBtYXBzIGluIHRoZSBleHRlcm5hbCBjb21wb25lbnQgdmlldyIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXVuaXQtc3F5YXJkIjoiWWFyZMKyICh5ZMKyKSIsImxhbmd1YWdlLW1hcC10aXAtZmVhdHVyZXMtb2YiOiJvZiIsImxhbmd1YWdlLW1lbnUtcGxvdC1jb29yZGluYXRlLWRlc2MiOiJQbG90IGEgY29vcmRpbmF0ZSBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLW5hdGl2ZS1kb3dubG9hZC1kb3dubG9hZGluZyI6IkRvd25sb2FkaW5nIHswfTogezF9JSBjb21wbGV0ZS4iLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItb3BlcmF0b3Itc3RhcnRzLXdpdGgiOiJzdGFydHMgd2l0aCIsImxhbmd1YWdlLXRvb2xiYXItYnVmZmVyaW5nLWFsdC1lbmFibGUiOiJFbmFibGUgYnVmZmVyaW5nIGZvciBhY3RpdmUgdG9vbCIsImxhbmd1YWdlLXRvb2xiYXItaWRlbnRpZnktbGF5ZXJzLWNoYW5nZSI6IklkZW50aWZpYWJsZSBMYXllcnMiLCJsYW5ndWFnZS1sYXllcmxpc3Qtb3BhY2l0eS1zbGlkZXItaGFuZGxlIjoiU2xpZGVyIGhhbmRsZSIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1mZWF0dXJlLXNldC1jb2xsZWN0aW9uLWRpc3BsYXktbmFtZSI6IlF1ZXJ5IFJlc3VsdHMiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1yZWN0YW5nbGUiOiJSZWN0YW5nbGUiLCJsYW5ndWFnZS1iYXJjb2RlLXNjYW5uZXItc3dpdGNoIjoiU3dpdGNoIFNvdXJjZSIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWVkaXRhYmxlLW9mZmxpbmUiOiJFZGl0YWJsZSBvZmZsaW5lIiwibGFuZ3VhZ2UtdG9vbGJhci1hbmFseXNpcy1sb2NhdGlvbi1pbmZvcm1hdGlvbiI6IkxvY2F0aW9uIEluZm9ybWF0aW9uIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtZmVhdHVyZS1kZXRhaWxzLWV4cGFuZGVkIjoiRXhwYW5kZWQgRmVhdHVyZSBEZXRhaWxzIHswfSIsImxhbmd1YWdlLWRpc3BsYXktcmVzdWx0LXBpY2tlci1zZWxlY3Qtbm9uZSI6IlNlbGVjdCBOb25lIiwibGFuZ3VhZ2UtdG9vbGJhci1jbGVhci1hbGwiOiJDbGVhciIsImxhbmd1YWdlLXRvb2xiYXItdGFza3MtcHJpbnRpbmciOiJQcmludGluZyIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1jcmVhdGUtZWRpdC1kZXNjcmlwdGlvbiI6IlNlbGVjdCB0byBzdGFydCBlZGl0aW5nIGEgbmV3IG9yIGV4aXN0aW5nIGZlYXR1cmUiLCJsYW5ndWFnZS1wcm9qZWN0cy1kZXNjcmlwdGlvbi1tb3JlIjoiTW9yZSIsImxhbmd1YWdlLXNlYXJjaC1hcmNnaXMtc2NvcmUiOiJTY29yZSIsInRpbWVwaWNrZXIucmVnaW9uYWwiOnsic2Vjb25kVGV4dCI6IlNlY29uZCIsInRpbWV6b25lVGV4dCI6IlRpbWUgWm9uZSIsImFtTmFtZXMiOlsiQU0iLCJBIl0sIm1pY3Jvc2VjVGV4dCI6Ik1pY3Jvc2Vjb25kIiwidGltZVN1ZmZpeCI6IiIsImN1cnJlbnRUZXh0IjoiTm93IiwiaG91clRleHQiOiJIb3VyIiwibWlsbGlzZWNUZXh0IjoiTWlsbGlzZWNvbmQiLCJ0aW1lRm9ybWF0IjoiSEg6bW0iLCJ0aW1lVGV4dCI6IlRpbWUiLCJjbG9zZVRleHQiOiJEb25lIiwicG1OYW1lcyI6WyJQTSIsIlAiXSwibWludXRlVGV4dCI6Ik1pbnV0ZSIsImlzUlRMIjpmYWxzZSwidGltZU9ubHlUaXRsZSI6IkNob29zZSBUaW1lIn0sImxhbmd1YWdlLW1lbnUtbWFwLWxheWVycy1leHBhbmQiOiJFeHBhbmQgYW5kIGNvbGxhcHNlIHswfSBsYXllciBncm91cCIsImxhbmd1YWdlLWF1dGgtcGFzc3dvcmQiOiJQYXNzd29yZDoiLCJsYW5ndWFnZS1wcm9qZWN0LWVkaXRvci1lcnJvci1uYW1lLXJlcXVpcmVkIjoiUHJvamVjdCBuYW1lIGlzIHJlcXVpcmVkLiIsImxhbmd1YWdlLXN5bWJvbG9neS1zZXR0aW5ncy1tYXJrZXItc3R5bGUiOiJNYXJrZXIgU3R5bGUiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1lbGxpcHNlLWRlc2MiOiJDbGljayBhbmQgZHJhZyB0byBkcmF3IGFuIGVsbGlwc2Ugb24gdGhlIG1hcC4iLCJsYW5ndWFnZS1sYXllcmxpc3QtdGhlbWUtc2VsZWN0b3IiOiJTZWxlY3QgbGF5ZXIgdGhlbWUiLCJsYW5ndWFnZS10YWJsZS1tYXBwaW5nLXktYXhpcyI6IlkgQXhpcyBDb2x1bW4iLCJsYW5ndWFnZS10b29sYmFyLW5hdmlnYXRpb24tem9vbS1pbi10b29sdGlwIjoiRHJhdyBhbiBhcmVhIG9uIHRoZSBtYXAgdG8gem9vbSB0byIsImxhbmd1YWdlLXRvb2xiYXItaWRlbnRpZnktcG9pbnQtZGVzYy1rZXlib2FyZCI6IlVzZSBhcnJvd3MgdG8gbW92ZSB0aGUgcG9pbnQuIEhpdCBFTlRFUiB0byBsZWFybiB3aGF0XHUyMDE5cyB0aGVyZS4iLCJsYW5ndWFnZS10b29sYmFyLWdyb3VwLWVkaXQiOiJFZGl0IiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWFkZC1mZWF0dXJlLWJ1dHRvbiI6IkFkZCBGZWF0dXJlIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtZXh0ZXJuYWwtY29tcG9uZW50IjoiRXh0ZXJuYWwgQ29tcG9uZW50IHswfSIsImxhbmd1YWdlLWZlYXR1cmUtYXR0YWNobWVudHMtbm8tYXR0YWNobWVudHMtb2ZmbGluZSI6IkF0dGFjaG1lbnRzIGFyZSBub3QgYXZhaWxhYmxlIHdoZW4gb2ZmbGluZS4iLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtbmV3LWJ1dHRvbiI6Ik5ldyIsImxhbmd1YWdlLWxlZ2VuZC1jbHVzdGVycy1kZWZhdWx0LXRpdGxlIjoiQ2x1c3RlcnMiLCJsYW5ndWFnZS1jYXB0dXJlLWdlb21ldHJ5LWZyZWVoYW5kLXBvbHlsaW5lIjoiRHJhdyBhIGZyZWVoYW5kIGxpbmUgb24gdGhlIG1hcC4iLCJsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtdHJhbnNwYXJlbmN5IjoiVHJhbnNwYXJlbmN5IiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zdGF0dXMtdGl0bGUtb2siOiJBbGwgc2VsZWN0aW9ucyBhcmUgT0suIiwibGFuZ3VhZ2UtcHJvamVjdC1hY3Rpb25zLWRlc2NyaXB0aW9uIjoiVGhlIHByb2plY3QgYWN0aW9uIG1lbnUgaXRlbXMiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItb3BlcmF0b3ItZ3JlYXRlci10aGFuLWVxdWFsLXRvIjoiPj0iLCJsYW5ndWFnZS10b29sYmFyLWlkZW50aWZ5LWZyZWVoYW5kLXBvbHlnb24tdG9vbHRpcCI6IklkZW50aWZ5IHRoaW5ncyBvbiB0aGUgbWFwIGJ5IGRyYXdpbmcgYSBmcmVlaGFuZCBzaGFwZSIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWZlYXR1cmUtbGF5ZXItZGV0YWlscyI6IkZlYXR1cmUgTGF5ZXIgRGV0YWlscyB7MH0iLCJsYW5ndWFnZS1zYXZlZC1yZXN1bHRzLXJlbmFtZS1wcm9tcHQtZXJyb3IiOiJUaGUgbmFtZSAnezB9JyBhbHJlYWR5IGV4aXN0cy4iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctaW52YWxpZC1kYXRlIjoiezB9IG11c3QgYmUgYSB2YWxpZCBkYXRlLiIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1tYW5hZ2UtYnV0dG9uLWRlc2MiOiJBZGQgb3IgcmVtb3ZlIG9mZmxpbmUgbWFwcyBmcm9tIHRoZSBzZXJ2ZXIuIiwibGFuZ3VhZ2UtbWVudS1zd2l0Y2gtdG8tbGF5ZXJsaXN0LWRlc2MiOiJEaXNwbGF5IHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBsYXllcnMiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1zaW1wbGUtZmlsdGVyIjoiU2ltcGxlIEZpbHRlciB7MH0iLCJsYW5ndWFnZS1tYXJrdXAtY2xlYXItYWxsLXByb21wdC10b29sdGlwIjoiRXJhc2UgYWxsIGl0ZW1zIGFkZGVkIHRvIHRoZSBtYXAiLCJsYW5ndWFnZS1zaGVsbC1kYXRhZnJhbWUtZGlzYWJsZWQtb3B0aW9ucyI6IlVzZSBvbmUgb2YgdGhlIGZvbGxvd2luZyBsaW5rcyB0byByZXN0b3JlIGNvbnRlbnQgdG8gdGhpcyB2aWV3OiIsImxhbmd1YWdlLWNhcHR1cmUtZ2VvbWV0cnktZnJlZWhhbmQtcG9seWdvbl90b29sdGlwIjoiU2VsZWN0IGJ5IGZyZWVoYW5kIHNoYXBlIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1kZWxldGUtZmVhdHVyZSI6IkRlbGV0ZXMgZWl0aGVyIGEgbmV3IG9yIGV4aXN0aW5nIGZlYXR1cmUuIiwiZGF0ZXBpY2tlci5yZWdpb25hbCI6eyJkYXRlRm9ybWF0IjoibW0vZGQveXkiLCJuZXh0VGV4dCI6Ik5leHQiLCJkYXlOYW1lcyI6WyJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSJdLCJwcmV2VGV4dCI6IlByZXYiLCJkYXlOYW1lc1Nob3J0IjpbIlN1biIsIk1vbiIsIlR1ZSIsIldlZCIsIlRodSIsIkZyaSIsIlNhdCJdLCJ3ZWVrSGVhZGVyIjoiV2siLCJjdXJyZW50VGV4dCI6IlRvZGF5IiwiZmlyc3REYXkiOjAsImNsb3NlVGV4dCI6IkRvbmUiLCJzaG93TW9udGhBZnRlclllYXIiOmZhbHNlLCJkYXlOYW1lc01pbiI6WyJTdSIsIk1vIiwiVHUiLCJXZSIsIlRoIiwiRnIiLCJTYSJdLCJtb250aE5hbWVzU2hvcnQiOlsiSmFuIiwiRmViIiwiTWFyIiwiQXByIiwiTWF5IiwiSnVuIiwiSnVsIiwiQXVnIiwiU2VwIiwiT2N0IiwiTm92IiwiRGVjIl0sImlzUlRMIjpmYWxzZSwibW9udGhOYW1lcyI6WyJKYW51YXJ5IiwiRmVicnVhcnkiLCJNYXJjaCIsIkFwcmlsIiwiTWF5IiwiSnVuZSIsIkp1bHkiLCJBdWd1c3QiLCJTZXB0ZW1iZXIiLCJPY3RvYmVyIiwiTm92ZW1iZXIiLCJEZWNlbWJlciJdLCJ5ZWFyU3VmZml4IjoiIn0sImxhbmd1YWdlLXNhdmVkLXJlc3VsdHMtZXJyb3ItbWVzc2FnZSI6IkFuIGVycm9yIGhhcyBvY2N1cnJlZC4iLCJsYW5ndWFnZS1tZW51LWdsb2JhbC1zZWFyY2giOiJTZWFyY2giLCJsYW5ndWFnZS1vZmZsaW5lLXByb3Zpc2lvbmluZy1mYWlsZWQtaW52YWxpZC1idW5kbGUiOiJUaGUgZG93bmxvYWQgZm9yIG9mZmxpbmUgdXNlIGZhaWxlZC4gSW52YWxpZCBidW5kbGUuIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1sYXllcnMtbnVtZmVhdHVyZXMtdW5rbm93bi10aXRsZSI6IlRoZXJlIHdhcyBhIHByb2JsZW0gY2FsY3VsYXRpbmcgdGhlIG51bWJlciBvZiBmZWF0dXJlcyB3aXRoaW4gdGhlIGFyZWEgb2YgaW50ZXJlc3QuICBUaGlzIGNhbiBoYXBwZW4gaWYgdGhlIG51bWJlciBvZiBmZWF0dXJlcyBpcyBodWdlLiIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1xdWVyeS10YWJsZXMiOiJUYWJsZXM6IiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1hZGQtdGVtcG9yYXJ5LW1hcmt1cC1nZW9tZXRyeSI6IkFkZHMgYSB0ZW1wb3JhcnkgbWFya3VwIGdyYXBoaWMgdG8gdGhlIG1hcC4gVGhlIENsZWFyVGVtcG9yYXJ5TWFya3VwIGNvbW1hbmQgd2lsbCBjbGVhciB0aGlzIG1hcmt1cC4iLCJsYW5ndWFnZS1jb21tb24tY2xvc2UiOiJDbG9zZSIsImxhbmd1YWdlLWZlYXR1cmUtZGVzY3JpcHRpb24iOiJEZXNjcmlwdGlvbiIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtc2l6ZS1jYWxjdWxhdGluZyI6ImNhbGN1bGF0aW5nLi4uIiwibGFuZ3VhZ2UtdXBsb2FkZXItdmFsaWRhdGlvbi1lcnJvci1uby1maWxlLW1lc3NhZ2UiOiJZb3UgbXVzdCBzZWxlY3QgYSBmaWxlIGJlZm9yZSB5b3UgY2FuIHVwbG9hZCBpdC4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1sZW5ndGgtbGFiZWwiOiJMZW5ndGgiLCJsYW5ndWFnZS1tZW51LWlkZW50aWZ5LWJ1ZmZlcmVkLWZlYXR1cmUtc2V0LWNvbGxlY3Rpb24tZGVzYyI6IklkZW50aWZ5IGZlYXR1cmVzIG5lYXIgdGhlc2UgcmVzdWx0cyIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1uby1jb29yZGluYXRlLWFjdGlvbnMiOiJObyBjb29yZGluYXRlIGFjdGlvbnMgYXZhaWxhYmxlLiIsImxhbmd1YWdlLXJlc3VsdHMtdG9nZ2xlLWxpc3Qtdmlldy1kZXNjIjoiVmlldyByZXN1bHRzIGluIGxpc3QgZm9ybWF0IiwibGFuZ3VhZ2UtbWVudS16b29tLXRvLWxheWVyLWRlc2MiOiJab29tIHRoZSBtYXAgdG8gdGhlIGZ1bGwgZXh0ZW50IG9mIHRoZSBsYXllci4iLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1jb29yZGluYXRlcy1zb3V0aCI6InswfSDCsCBTb3V0aCIsImxhbmd1YWdlLXNhdmVkLXJlc3VsdHMtYnJvd3NlLXRpdGxlIjoiU2F2ZWQgUmVzdWx0cyIsImxhbmd1YWdlLWNsZWFyLXN0b3JhZ2UiOiJDbGVhciBvZmZsaW5lIGRhdGEiLCJsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtbGluZS1zdHlsZS1kYXNoZG90IjoiRGFzaC1kb3QiLCJsYW5ndWFnZS11c2VyLXNpZ24taW4iOiJTaWduIGluIiwibGFuZ3VhZ2UtY2x1c3RlcmluZy10aXRsZSI6IkNsdXN0ZXJpbmcgT3B0aW9ucyIsImxhbmd1YWdlLWJ1ZmZlci1vcHRpb25zLWxlbmd0aC11bml0LXNlbGVjdCI6IlNlbGVjdCBidWZmZXIgbGVuZ3RoIHVuaXQiLCJsYW5ndWFnZS1tZW51LWlkZW50aWZ5LXBvaW50IjoiSWRlbnRpZnkgYnkgcG9pbnQiLCJsYW5ndWFnZS1zYXZlZC1yZXN1bHRzLWJyb3dzZS1uby1pdGVtcyI6Ik5vIHNhdmVkIHJlc3VsdHMgdG8gZGlzcGxheS4iLCJsYW5ndWFnZS1zbmFwcGluZy1sYXllci11bnJlZ2lzdGVyZWQiOiJMYXllciB7MH0gd2FzIHVucmVnaXN0ZXJlZCBmcm9tIHNuYXBwaW5nLiIsImxhbmd1YWdlLXNlYXJjaC10aXRsZSI6IlNlYXJjaCIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXdvcmtmbG93cyI6IldvcmtmbG93cyB7MH0iLCJsYW5ndWFnZS1vZmZsaW5lLXByb3Zpc2lvbmluZy1mYWlsZWQiOiJUaGUgZG93bmxvYWQgZm9yIG9mZmxpbmUgdXNlIGZhaWxlZC4gVGhlcmUgd2FzIGFuIGVycm9yIHNhdmluZyBhbiBvZmZsaW5lIHJlc291cmNlLiBZb3UgbWF5IGJlIG91dCBvZiBzcGFjZS4iLCJsYW5ndWFnZS1tZW51LWlkZW50aWZ5LWRlc2MiOiJDbGljaywgdGFwLCBvciBkcmF3IGEgcmVjdGFuZ2xlIG9uIHRoZSBtYXAgdG8gaWRlbnRpZnkgZmVhdHVyZXMuIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbWVhc3VyZS1saW5lLXRvb2wtc3RhdHVzIjoiQ2xpY2sgb3IgdGFwIHRvIGRyYXcgYSBtZWFzdXJlbWVudCBsaW5lLiBEb3VibGUtY2xpY2svdGFwIHRvIGZpbmlzaC4iLCJsYW5ndWFnZS1sYXllci1hY3Rpb25zLWRlc2MiOiJEaXNwbGF5IGEgbGlzdCBvZiBsYXllciBhY3Rpb25zIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1ydW4td29ya2Zsb3ctd2l0aC1nZW9tZXRyeSI6IlJ1bnMgYSB3b3JrZmxvdyB3aXRoIGEgZ2VvbWV0cnkgdXNlZCBhcyBhbiBpbnB1dCBhcmd1bWVudC4iLCJsYW5ndWFnZS10b29sYmFyLW5hdmlnYXRpb24taW5pdGlhbC1leHRlbnQtdG9vbHRpcCI6IlJldHVybiB0byB0aGUgaW5pdGlhbCBwb3NpdGlvbiBvZiB0aGUgbWFwIiwibGFuZ3VhZ2UtdXBsb2FkLWRpYWxvZy12YWxpZGF0aW9uLWVycm9yLWV4dGVuc2lvbi1ub3QtYWxsb3dlZC1tZXNzYWdlIjoiWW91ciBzZWxlY3Rpb24ncyBmaWxlIGV4dGVuc2lvbnMgZG9uJ3QgbG9vayByaWdodC4iLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1mcmVlaGFuZC1wb2x5Z29uLWRlc2MiOiJIb2xkIHRoZSBtb3VzZSBidXR0b24gb3IgeW91ciBmaW5nZXJ0aXAgZG93biwgdGhlbiBkcmF3IGEgZnJlZWhhbmQgc2hhcGUuIiwibGFuZ3VhZ2UtYm9va21hcmtzLWRlbGV0ZSI6IkRlbGV0ZSBib29rbWFyayIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXVuaXQtaGVjdGFyZSI6IkhlY3RhcmVzIChoYSkiLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtcmVzdWx0cy1kaXNwbGF5LW5hbWUiOiJDb29yZGluYXRlcyIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1kZWxldGUtY29uZmlybWF0aW9uIjoiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHBlcm1hbmVudGx5IGRlbGV0ZSB0aGlzIGZlYXR1cmUgb24gdGhlIHNlcnZlcj8iLCJsYW5ndWFnZS1zZWFyY2gtaW5zdGFudC1wcm92aWRlci1uYW1lIjoiSW5zdGFudFNlYXJjaFByb3ZpZGVyIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtY2lyY2xlLWRlc2MiOiJEcmFnIGEgY2lyY2xlIG9uIHRvIHRoZSBtYXAiLCJsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtbGluZS13aWR0aC1zdWZmaXgiOiJweCIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXBhbGV0dGUtc21hbGwtZWRpdCI6IkVkaXQiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LWZvcm0tdW5uYW1lZC1jb250YWluZXItaGlkZGVuIjoiRm9ybSBncm91cCBoaWRkZW4uIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1leHBvcnR0aWxlcy1lcnJvci1hZ29sbG9naW4iOiJZb3UgbXVzdCBsb2cgaW4gdG8gQXJjR0lTIFBvcnRhbCB0byBhY2Nlc3MgdGhlIGNvbmZpZ3VyZWQgTWFwIFNlcnZpY2UgZm9yIHRoZSBDdXN0b20gT2ZmbGluZSBCYXNlbWFwLiIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1kZWxldGUtYWxsLWNvb3JkaW5hdGVzLWRlc2MiOiJEZWxldGUgYWxsIGN1cnJlbnRseSBwbG90dGVkIGNvb3JkaW5hdGVzIGFuZCByZW1vdmUgdGhlbSBmcm9tIHRoZSBtYXAuIiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLWZpbHRlci1hbHJlYWR5LWFwcGxpZWQiOiJBIGZpbHRlciBoYXMgYWxyZWFkeSBiZWVuIGRlZmluZWQgZm9yIHRoaXMgbGF5ZXIuIFVzZSB0aGUgY2xlYXIgYnV0dG9uIGJlbG93IHRvIGNsZWFyIHRoZSBleGlzdGluZyBmaWx0ZXIgYW5kIGRlZmluZSBhIG5ldyBmaWx0ZXIuIiwibGFuZ3VhZ2UtbWVudS1zaG93LXJlc3VsdHMtdGFibGUiOiJUYWJsZSBWaWV3IiwibGFuZ3VhZ2Utc2VhcmNoLXJlZmluZSI6IlJlZmluZSBzZWFyY2giLCJsYW5ndWFnZS1nZW9sb2NhdGUtZXJyb3Itbm8tcmVzdWx0cyI6Ikdlb2xvY2F0aW9uIGNvbW1hbmQgcmV0dXJuZWQgbm8gcmVzdWx0cy4iLCJsYW5ndWFnZS1mZWF0dXJlLWNvb3JkaW5hdGVzLURETSI6IkRETSIsImxhbmd1YWdlLWJhc2VtYXAtc3dpdGNoZXItdmlldy1uYW1lIjoiU2VsZWN0IGEgQmFzZW1hcCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tZ2VvbG9jYXRlIjoiWm9vbXMgdG8gdGhlIGN1cnJlbnQgbG9jYXRpb24gb2YgdGhlIGRldmljZS4iLCJsYW5ndWFnZS10b29sYmFyLWdyb3VwLW5hdmlnYXRpb24iOiJOYXZpZ2F0aW9uIiwibGFuZ3VhZ2UtbWVudS1lbnRlci1vZmZsaW5lLWRlc2MiOiJHbyB0byBvZmZsaW5lIG1vZGUgYW5kIHZpZXcgY2FjaGVkIG1hcCBkYXRhLiIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1yZWxhdGlvbnNoaXBzLXJlcXVpcmUtYXJjZ2lzLXZlcnNpb24iOiJFZGl0aW5nIHJlbGF0aW9uc2hpcHMgcmVxdWlyZXMgQXJjR0lTIHNlcnZlciB2ZXJzaW9uIDEwLjEgb3IgaGlnaGVyLiIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1hZGQtZXJyb3ItdGl0bGUiOiJFcnJvciIsImxhbmd1YWdlLXBhZ2luZy1wYWdlIjoiUGFnZSIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWNsZWFyLW9mZmxpbmUtZGF0YSI6IkNsZWFyIE9mZmxpbmUgRGF0YSB7MH0iLCJsYW5ndWFnZS1mZWF0dXJlLWRldGFpbHMtbm8tZmVhdHVyZSI6IlRoZXJlIGFyZSBubyBmZWF0dXJlcyBzZWxlY3RlZC4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1tZWFzdXJlLWRpc3RhbmNlLXRvb2wtdG9vbHRpcCI6IkRyYXcgYSBtdWx0aS1wYXJ0IGxpbmUgdG8gbWVhc3VyZSBhIGRpc3RhbmNlIiwibGFuZ3VhZ2UtZXhwb3J0LXdlYi1tYXAtZXhwb3J0LWJ1dHRvbiI6IkV4cG9ydCIsImxhbmd1YWdlLWZlYXR1cmUtc2NhbGUtaW5wdXQtYm94LXRvZ2dsZS1idXR0b24iOiJPcGVuIGFuZCBjbG9zZSBzY2FsZSBpbnB1dCBib3giLCJsYW5ndWFnZS1tZW51LW9mZmxpbmUtbWFwLWVkaXRvci1nZW9tZXRyeS1hY3Rpb25zLWNsZWFyLWRlc2MiOiJDbGVhciB0aGUgYXJlYSBvZiBpbnRlcmVzdCBnZW9tZXRyeS4iLCJsYW5ndWFnZS1tYXAtY29vcmRpbmF0ZXMtREQiOiJMYXQvTG9uZyIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tY2xlYXItc3RvcmFnZS1mb3ItZG9tYWluIjoiQ2xlYXJzIGFsbCBvZmZsaW5lIGRhdGEgZm9yIHRoZSBjdXJyZW50IGRvbWFpbi4gVGhpcyBpbmNsdWRlcyBkYXRhIGZvciBhbGwgYXBwbGljYXRpb25zIGxvYWRlZCBmcm9tIHRoZSBjdXJyZW50IGRvbWFpbi4iLCJsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtdHJhbnNwYXJlbmN5LXN1ZmZpeCI6IiUiLCJsYW5ndWFnZS10YWJsZS1tYXBwaW5nLXZhbGlkYXRpb24tZXJyb3ItbGFja2luZy1yZXF1aXJlZC1hZGRyZXNzLWZpZWxkcyI6IkxhY2tpbmcgcmVxdWlyZWQgYWRkcmVzcyBmaWVsZHMuIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1sYXllcnMtbnVtZmVhdHVyZXMtY2FsY3VsYXRpbmctdGl0bGUiOiJDYWxjdWxhdGluZyB0aGUgbnVtYmVyIG9mIGZlYXR1cmVzIGN1cnJlbnRseSB3aXRoaW4gdGhlIGFyZWEgb2YgaW50ZXJlc3QuIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtZWRpdC16b29taW4tdG9vbCI6Ilpvb21JblRvb2wiLCJsYW5ndWFnZS1zaXRlLXNlcnZpY2UtbGF5ZXJzLWZhaWx1cmUtdmlldy10aXRsZSI6IkVycm9yIExvYWRpbmcgTWFwIFNlcnZpY2VzIiwibGFuZ3VhZ2UtZ2VvbG9jYXRlLWZpbmQtZGVzYyI6IkZpbmQgeW91ciBjdXJyZW50IHBvc2l0aW9uLiIsImxhbmd1YWdlLWZlYXR1cmUtZGV0YWlscy1leHBhbmRlZCI6IlNob3cgRXhwYW5kZWQgVmlldyIsImxhbmd1YWdlLWxheWVyLWRldGFpbHMtcHVibGlzaC1kaXNhYmxlZC1zaGFwZWZpbGUiOiJUbyBwdWJsaXNoIGEgc2hhcGVmaWxlLCB5b3UgbXVzdCBpbmNsdWRlIGEgLnNocCwgLnNoeCwgYW5kIC5kYmYgZmlsZS4iLCJsYW5ndWFnZS1ydW4tcmVwb3J0LWVycm9yLW1lc3NhZ2Utb2ZmbGluZSI6IlJlcG9ydHMgY2Fubm90IGJlIHJ1biB3aGlsZSBpbiBvZmZsaW5lIG1vZGUuIiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLXNlYXJjaCI6IlNlYXJjaCIsImxhbmd1YWdlLW5hdGl2ZS1waG90by1mcm9tLWNhbWVyYSI6IkF0dGFjaCBwaG90byBmcm9tIHRoZSBjYW1lcmEiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1tZWFzdXJlLWNpcmNsZS10b29sLXN0YXR1cyI6IkNsaWNrIG9yIHRhcCwgdGhlbiBkcmFnIHRvIGRyYXcgYSBjaXJjbGUgYW5kIGZpbmQgYXJlYS4iLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMteC10aXRsZSI6IlgiLCJsYW5ndWFnZS1vcGVuLWZpbGUiOiJPcGVuIEZpbGUiLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtaGlkZS1jb29yZGluYXRlIjoiSGlkZSBDb29yZGluYXRlIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zdGF0dXMtYWx0LW9rIjoiQSBjaGVja21hcmsgaWNvbiBpbnNpZGUgYSBncmVlbiBjaXJjbGUiLCJsYW5ndWFnZS10b29sYmFyLWJ1ZmZlcmluZy1hbHQtZGlzYWJsZSI6IkRpc2FibGUgYnVmZmVyaW5nIGZvciBhY3RpdmUgdG9vbCIsImxhbmd1YWdlLW1lYXN1cmVtZW50LWNsZWFyLWFsbC1wcm9tcHQtdGl0bGUiOiJDbGVhciBBbGwgTWVhc3VyZW1lbnRzPyIsImxhbmd1YWdlLXRvb2xiYXItbXVsdGktdG9vbCI6Ik11bHRpLXRvb2wiLCJsYW5ndWFnZS1tZW51LXBvd2VyZWQtYnktZ2VvY29ydGV4IjoiUG93ZXJlZCBieSBHZW9jb3J0ZXgiLCJsYW5ndWFnZS1idWZmZXItZXJyb3ItaW5wdXQtdmFsaWRhdGlvbiI6IkNvdWxkIG5vdCByZXRyaWV2ZSBjaGlsZCB2aWV3IG1vZGVsIGZvciB2aWV3IHdpdGggaWQgezB9IGZvciBpbnB1dCB2YWxpZGF0aW9uLiIsImxhbmd1YWdlLXNoYXJlLXByb2plY3QtY2xlYXItYnV0dG9uLXRpdGxlIjoiU3RvcCBzaGFyaW5nIHdpdGggYWxsIHVzZXJzIGFuZCBncm91cHMiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItb3BlcmF0b3Itbm90LWVxdWFscyI6IiE9IiwibGFuZ3VhZ2UtY29tbW9uLXJlc3VsdHMtcmVtb3ZlZC1jb25maXJtYXRpb24iOiJ7MH0gcmVzdWx0KHMpIHJlbW92ZWQgZnJvbSAnezF9JyIsImxhbmd1YWdlLW1lYXN1cmVtZW50LW1lYXN1cmUtcmVjdGFuZ2xlLXRvb2wtbmFtZSI6IlJlY3RhbmdsZSIsImxhbmd1YWdlLW1lbnUtc3dpdGNoLXRvLWxlZ2VuZCI6IlNob3cgTGVnZW5kIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtcGFsZXR0ZS1zbWFsbC1kZWxldGUiOiJEZWxldGUiLCJsYW5ndWFnZS1leHBvcnQtd2ViLW1hcC1jb21wbGV0ZS1kZXNjcmlwdGlvbiI6IllvdXIgbWFwIGhhcyBiZWVuIGV4cG9ydGVkIHRvIEFyY0dJUy4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1kcmF3bW9kZS1tdWx0aS1wb2ludCI6Ik11bHRpcG9pbnQiLCJsYW5ndWFnZS1jb21tb24tZWRpdGluZyI6IkVkaXRpbmciLCJsYW5ndWFnZS1jb21tb24tcmVmcmVzaCI6IlJlZnJlc2giLCJsYW5ndWFnZS1vdXRwdXQtZm9ybWF0IjoiT3V0cHV0IEZvcm1hdCIsImxhbmd1YWdlLWJ1ZmZlci1vcHRpb25zLXVuaXRzLWxhYmVsIjoiVW5pdHMiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1tZWFzdXJlLXBvbHlnb24tdG9vbC10b29sdGlwIjoiQ2FsY3VsYXRlIGFyZWEgZm9yIGEgcG9seWdvbiIsImxhbmd1YWdlLXNoYXJlLXByb2plY3Qtc2hhcmUtd2l0aC1sYWJlbCI6IlNoYXJlIHdpdGgiLCJsYW5ndWFnZS1tZW51LXJ1bi1hLXdvcmtmbG93IjoiUGVyZm9ybSBhIHRhc2siLCJsYW5ndWFnZS11cGxvYWQtZGF0YS1jb25maXJtLWJlZm9yZS1wdWJsaXNoLW1lc3NhZ2UiOiJQdWJsaXNoaW5nIHRvIEFyY0dJUyBPbmxpbmUgY2FuIHRha2Ugc2V2ZXJhbCBtaW51dGVzLCBhcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcHJvY2VlZD8iLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC10aXRsZSI6Ikdlb2NvcnRleCBBY2Nlc3NpYmlsaXR5IiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtY2hhbmdlZC1pbmZvcm1hdGlvbiI6Ik1hcCBDaGFuZ2VkLiB7MH0iLCJsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtZmlsbC1zdHlsZS1kaWFnb25hbC1jcm9zcyI6IkRpYWdvbmFsIENyb3NzIiwibGFuZ3VhZ2UtdGFrZS1hcHAtb2ZmbGluZS1kZXNjIjoiR28gdG8gb2ZmbGluZSBtb2RlLiIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXRleHQtdG9vbHRpcCI6IkFkZCB5b3VyIG93biB0ZXh0IHRvIHRoZSBtYXAiLCJsYW5ndWFnZS1leHRyYWN0LWRhdGEtZGVzY3JpcHRpb24iOiJFeHRyYWN0IGZlYXR1cmUgZGF0YSBmcm9tIHRoZSBtYXAuIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtbGVnZW5kIjoiTGVnZW5kIHswfSIsImxhbmd1YWdlLXNpdGUtc2lnbmluZy1pbiI6IlRoZSB2aWV3ZXIgbWF5IG5lZWQgdG8gbG9nIGluIHRvIGNvbnRpbnVlLiAgSWYgYW5vdGhlciBicm93c2VyIHdpbmRvdyBvcGVuZWQsIHBsZWFzZSB1c2UgdGhhdCB3aW5kb3cgdG8gY29tcGxldGUgdGhlIGxvZ2luIHByb2Nlc3MuIiwibGFuZ3VhZ2UtY29tbW9uLXZhbGlkYXRpb24tc3ltYm9sIjoiKiIsImxhbmd1YWdlLXRvb2xiYXItdGFza3MtZXhwb3J0LW1hcCI6IkV4cG9ydCIsImxhbmd1YWdlLWZlYXR1cmUtaHlwZXJsaW5rcyI6Ikh5cGVybGlua3MiLCJsYW5ndWFnZS1ydW4tcmVwb3J0LXByb2dyZXNzLW1lc3NhZ2UtYXN5bmMiOiJQbGVhc2Ugd2FpdCB3aGlsZSB5b3VyIHJlcG9ydCBwYWdlIGlzIGdlbmVyYXRpbmcuIiwibGFuZ3VhZ2Utc2hhcmUtc2hhcmUtb24tcHJvbXB0LWNvbnRlbnQiOiJTaGFyZSB0aGUgbGluayB0byB0aGlzIGFwcGxpY2F0aW9uIG9uIHswfT8iLCJsYW5ndWFnZS1tYXJrdXAtZGVsZXRlLW11bHRpcGxlLXByb21wdCI6Ik11bHRpcGxlIGRyYXdpbmdzIGV4aXN0IGF0IHRoZSBsb2NhdGlvbiB5b3UganVzdCBzcGVjaWZpZWQsIGFuZCBhbGwgd2lsbCBiZSBwZXJtYW5lbnRseSBlcmFzZWQgaWYgeW91IHByb2NlZWQuIEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgYWxsIHRoZXNlIGl0ZW1zPyIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1yZW1vdmUtcXVlcnktY29uZGl0aW9uIjoiUmVtb3ZlIHF1ZXJ5IGNvbmRpdGlvbiIsImxhbmd1YWdlLWZlYXR1cmUtYWN0aW9ucyI6IkFjdGlvbnMiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXJlbW92ZS1mZWF0dXJlLXNldC1jb2xsZWN0aW9uIjoiUmVtb3ZlcyB0aGUgc3BlY2lmaWVkIGNvbGxlY3Rpb24gZnJvbSB0aGUgZmVhdHVyZSBzZXQgbWFuYWdlci4iLCJsYW5ndWFnZS1ib29rbWFya3MtZW50ZXItbmFtZSI6IkJvb2ttYXJrIE5hbWU6IiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbWVhc3VyZS1wb2x5Z29uLXRvb2wtbmFtZSI6IlBvbHlnb24iLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtYWRkLWNvb3JkaW5hdGUtYnV0dG9uLXRleHQiOiJBZGQiLCJsYW5ndWFnZS1nZW9sb2NhdGUtZXJyb3ItcGVybWlzc2lvbiI6Ikluc3VmZmljaWVudCBwZXJtaXNzaW9ucyBmb3IgZ2VvbG9jYXRpb24uIiwibGFuZ3VhZ2UtdG9vbGJhci1ncm91cC1kcmF3IjoiRHJhdyIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1hY3Rpb25zLWRlc2MiOiJDb29yZGluYXRlIEFjdGlvbnMiLCJsYW5ndWFnZS10b29sYmFyLWlkZW50aWZ5LXBvaW50IjoiUG9pbnQiLCJsYW5ndWFnZS1tYXAtc3VyZmFjZSI6Ik1hcCBTdXJmYWNlIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtZHJhd2luZy1lZGl0LXRvb2xzIjoiRWRpdCIsImxhbmd1YWdlLW1lYXN1cmVtZW50LWluY29ycmVjdC1kcmF3LW1vZGUiOiJUaGUgbWVhc3VyZW1lbnQgdG9vbCBvbmx5IHN1cHBvcnRzIHRoZSBQT0xZTElORSBhbmQgUE9MWUdPTiBkcmF3IG1vZGVzLiBQbGVhc2UgdmVyaWZ5IGNvbmZpZ3VyYXRpb24gc2V0dGluZ3MiLCJsYW5ndWFnZS10YWtlLWFwcC1vbmxpbmUiOiJHbyBPbmxpbmUiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1tZWFzdXJlLWFyZWEtdG9vbC10b29sdGlwIjoiQ2FsY3VsYXRlIGFyZWEgZm9yIGEgZGVmaW5lZCBzaGFwZSIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWNvbXBhY3QtdG9vbGJhciI6IkNvbXBhY3QgVG9vbGJhciB7MH0iLCJsYW5ndWFnZS1jb21tb24td2VsY29tZSI6IkhvbWUiLCJsYW5ndWFnZS1tZW51LW1hcC1jb250ZXh0LW1lbnUtdGl0bGUtZGVzYyI6Ik9wdGlvbnMgcmVsYXRlZCB0byBhIGdpdmVuIHBvaW50IG9uIHRoZSBtYXAuIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi16b29tLXRvLWluaXRpYWwtZXh0ZW50IjoiWm9vbXMgdG8gdGhlIGluaXRpYWwgZXh0ZW50IG9mIHRoZSBjdXJyZW50IFNpdGUuIiwibGFuZ3VhZ2UtdGFibGUtcmVjb3JkLXJlc3VsdHMtZGlhbG9nLXJlamVjdGVkLXJlY29yZHMtbGluayI6IkRvd25sb2FkIHJlamVjdGVkIHJlY29yZHMiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWNsZWFyLWFjdGl2ZS10b29sIjoiQ2xlYXJzIHRoZSBhY3RpdmUgdG9vbC4iLCJsYW5ndWFnZS13b3JrZmxvdy1zaXRlLXdvcmtmbG93cyI6IlNpdGUgV29ya2Zsb3dzIiwibGFuZ3VhZ2UtbWVudS16b29tLWluIjoiWm9vbSBpbiIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWNvb3JkaW5hdGVzLW5vcnRoIjoiezB9IMKwIE5vcnRoIiwibGFuZ3VhZ2UtZHNrLWlkZW50aWZ5LXBvbHlsaW5lLXRvb2wiOiJDbGljayBvciB0YXAgb25jZSB0byBhZGQgcG9pbnRzLCB0d2ljZSB0byBmaW5pc2guIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLW1ibC1mcmVlaGFuZC1wb2x5bGluZS10b29sIjoiRHJhZyBvbiB0aGUgbWFwIHRvIGRyYXcgYSBmcmVlaGFuZCBsaW5lLiIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtYnV0dG9uIjoiQmFzZW1hcHMiLCJsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtbGluZS1zdHlsZS1zaG9ydGRvdCI6IlNob3J0LWRvdCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tY2xvc2UtZGF0YS1mcmFtZSI6IkNsb3NlcyB0aGUgRGF0YVJlZ2lvbiwgaWYgaXQgaXMgcHJlc2VudCBpbiB0aGUgY3VycmVudCBzaGVsbC4iLCJsYW5ndWFnZS1tZW51LXJ1bi1yZXBvcnQtZGVzYyI6IlJ1biBhIFJlcG9ydCBvbiB0aGUgc2VsZWN0ZWQgcmVzdWx0cyIsImxhbmd1YWdlLW5hdGl2ZS1maWxlLXVwbG9hZC1mYWlsZWQiOiJGaWxlIGF0dGFjaG1lbnQgZmFpbGVkLiAiLCJsYW5ndWFnZS1pZGVudGlmeS1yZXN1bHRzLWhlYWRlciI6IklkZW50aWZ5IFJlc3VsdHMiLCJsYW5ndWFnZS1zZWFyY2gtaW5zdGFudC1wcm92aWRlci1zZWFyY2gtc3RhcnRlZCI6IlN0YXJ0aW5nIGluc3RhbnQgc2VhcmNoLiIsImxhbmd1YWdlLWxheWVybGlzdC1vcGFjaXR5IjoiQWRqdXN0IGxheWVyIG9wYWNpdHkuIiwibGFuZ3VhZ2Utc3ltYm9sb2d5LXNldHRpbmdzLW1hcmtlci1zdHlsZS1jaXJjbGUiOiJDaXJjbGUiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1kcmF3bW9kZS1mcmVlaGFuZC1wb2x5Z29uIjoiRnJlZWhhbmQgU2hhcGUiLCJsYW5ndWFnZS1jb21tb24tY2FuY2VsIjoiQ2FuY2VsIiwibGFuZ3VhZ2UtbWVudS16b29tLXRvLXZpc2libGUtc2NhbGUtZGVzYyI6Ilpvb20gdGhlIG1hcCB0byBhIHNjYWxlIHdoZXJlIHRoZSBsYXllciBpcyB2aXNpYmxlLiIsImxhbmd1YWdlLWZlYXR1cmUtZGV0YWlscy1jb21wYWN0IjoiU2hvdyBDb21wYWN0IFZpZXciLCJsYW5ndWFnZS1kb3dubG9hZC1idW5kbGUtZGVzYyI6IkRvd25sb2FkIHRoZSByZXNvdXJjZXMgbmVlZGVkIHRvIG9wZXJhdGUgb2ZmbGluZS4iLCJsYW5ndWFnZS10b29sYmFyLWZpbmQtZGF0YSI6IkZpbmQgRGF0YSIsImxhbmd1YWdlLXJ1bi1yZXBvcnQtcHJvZ3Jlc3MtaGVhZGluZy1hc3luYyI6IkdlbmVyYXRpbmcgUmVwb3J0IFBhZ2UuLi4iLCJsYW5ndWFnZS1jb21tb24tc2hvdy1kZXRhaWxzLWRlc2NyaXB0aW9uIjoiU2VlIGFkZGl0aW9uYWwgZGV0YWlscyBmb3IgdGhpcyBmZWF0dXJlLiIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1hZGQtY29uZGl0aW9uIjoiQWRkIEFub3RoZXIgQ29uZGl0aW9uIiwibGFuZ3VhZ2UtdXBsb2FkLWRpYWxvZy1zdXBwb3J0ZWQtZmlsZXMtbGFiZWwiOiJTdXBwb3J0ZWQgZmlsZSB0eXBlcyBpbmNsdWRlIiwibGFuZ3VhZ2UtdG9vbGJhci1lZGl0aW5nLWNyZWF0ZS1uZXctZmVhdHVyZS1nZW9sb2NhdGlvbi10b29sdGlwIjoiQ3JlYXRlIGEgcG9pbnQtYmFzZWQgZmVhdHVyZSB1c2luZyBnZW9sb2NhdGlvbiIsImxhbmd1YWdlLWV4dHJhY3QtZGF0YSI6IkV4dHJhY3QgZGF0YSIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tY2xlYXItbWFya3VwIjoiUHJvbXB0cyB0aGUgdXNlciBmb3IgY29uZmlybWF0aW9uLCBhbmQgaWYgYXBwcm92ZWQsIGNsZWFycyBhbGwgb2YgdGhlIG1hcmt1cCBmcm9tIHRoZSBtYXJrdXAgbGF5ZXIuIiwibGFuZ3VhZ2UtcnVuLXJlcG9ydC1lcnJvci1tZXNzYWdlLW91dHB1dC1mb3JtYXQtdW5hdmFpbGFibGUiOiJDb3VsZCBub3QgcnVuIHJlcG9ydDogc2VsZWN0ZWQgb3V0cHV0IGZvcm1hdCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgcmVwb3J0LiIsImxhbmd1YWdlLXNhdmVkLXJlc3VsdHMtZGVsZXRlLXByb21wdC10aXRsZSI6IkRlbGV0ZSBzYXZlZCByZXN1bHRzICd7MH0nIiwibGFuZ3VhZ2UtbWJsLW1hcC1jZW50ZXIiOiJUYXAgdG8gY2VudGVyIHRoZSBtYXAgYXQgdGhhdCBwb2ludC4iLCJsYW5ndWFnZS1zZWFyY2gtYmluZy1sb2NhbGl0eSI6IkxvY2FsaXR5IiwibGFuZ3VhZ2Utc3ltYm9sb2d5LXNldHRpbmdzLXRpdGxlIjoiU3ltYm9sb2d5IFNldHRpbmdzIiwibGFuZ3VhZ2UtdXBsb2FkLWRhdGEtZXJyb3ItaW52YWxpZC16aXAiOiJJbnZhbGlkIFppcCIsImxhbmd1YWdlLWNvbW1vbi1yZXN1bHRzLWFkZGVkLWNvbmZpcm1hdGlvbiI6InswfSByZXN1bHQocykgYWRkZWQgdG8gJ3sxfSciLCJsYW5ndWFnZS1mZWF0dXJlLWF0dGFjaG1lbnRzIjoiQXR0YWNobWVudHMiLCJsYW5ndWFnZS1wcm9qZWN0LXN0YXR1cy11cGRhdGluZyI6IlVwZGF0aW5nIFByb2plY3QuLi4iLCJsYW5ndWFnZS11cGxvYWQtZGF0YS1lcnJvci1pbnZhbGlkLXNoYXBlZmlsZSI6IkludmFsaWQgU2hhcGVmaWxlIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLW1hbmFnZS1idXR0b24iOiJNYW5hZ2UiLCJsYW5ndWFnZS1tZW51LXpvb20taW5pdGlhbC1leHRlbnQiOiJSZXR1cm4gdG8gaW5pdGlhbCBtYXAgZXh0ZW50IiwibGFuZ3VhZ2Utc2hhcmUtcHJvamVjdC1saW5rcy1hZGQtYnV0dG9uLXRpdGxlIjoiQ3JlYXRlIGEgbmV3IGxpbmsiLCJsYW5ndWFnZS1wcm9qZWN0LXN0YXR1cy10aXRsZSI6IlByb2plY3RzIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtZHJhd21vZGUtbGluZSI6IkxpbmUiLCJsYW5ndWFnZS1zZWFyY2gtYmluZy1hZG1pbi1kaXN0cmljdCI6IkFkbWluaXN0cmF0aXZlIERpc3RyaWN0IiwibGFuZ3VhZ2Utb2ZmbGluZS12aWV3ZXItcHJvdmlzaW9uLW9ubGluZS1vbmx5IjoiWW91IG11c3QgYmUgb25saW5lIHRvIGRvd25sb2FkIHJlc291cmNlcyB0byB1c2Ugb2ZmbGluZS4iLCJsYW5ndWFnZS11cGxvYWQtZGF0YS1jb25maXJtLWJlZm9yZS1wdWJsaXNoIjoiUHJvY2VlZCB3aXRoIFB1Ymxpc2giLCJsYW5ndWFnZS1sYXllcmxpc3QtdG9nZ2xlIjoiVG9nZ2xlIGxheWVyIHZpc2liaWxpdHkiLCJsYW5ndWFnZS1jb21tb24tZmVhdHVyZS1zeW5jLXNldHRpbmdzLWRlc2MiOiJEaXNwbGF5cyBhIGxpc3Qgb2YgZmVhdHVyZSBsYXllcnMgdG8gY2hvb3NlIGZyb20uIiwibGFuZ3VhZ2UtYnVmZmVyLXVuaXQtbmF1dGljYWxtaWxlLWRpc3BsYXktbmFtZSI6Ik5hdXRpY2FsIE1pbGVzIChOTSkiLCJsYW5ndWFnZS1ib29rbWFya3MtanVtcCI6Ikp1bXAgdG8gYSBib29rbWFyay4uLiIsImxhbmd1YWdlLWRvd25sb2FkLWJ1bmRsZSI6IkRvd25sb2FkIGZvciBvZmZsaW5lIHVzZSIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLXBvbHlnb24tZGVzYy1rZXlib2FyZCI6IlVzZSBhcnJvd3MgdG8gbW92ZSB0aGUgcG9pbnQuIEhpdCBFTlRFUiB0byBwbG90IGFuZCBiZWdpbiBtb3ZpbmcgdGhlIG5leHQgcG9pbnQuIEhpdCBFTlRFUiB0d2ljZSB0byBmaW5pc2guIiwibGFuZ3VhZ2UtcHJvamVjdC1hY3Rpb25zLXRvb2x0aXAiOiJDbGljayB0byBzZWUgcHJvamVjdCBhY3Rpb25zIGF2YWlsYWJsZSBmb3IgdGhpcyBwcm9qZWN0IiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtcmVzdWx0cy1maWVsZC14IjoiWCIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXJlc3VsdHMtZmllbGQteSI6IlkiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItYW55LXZhbHVlIjoiKGFueSB2YWx1ZSkiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWZlYXR1cmUtbGF5ZXItbW9kdWxlLXN0YXJ0LXN5bmMiOiJTdGFydHMgc3luY2hyb25pemVzIHRoZSBmZWF0dXJlIGVkaXRzIHRvIHRoZSBzZXJ2ZXIuIiwibGFuZ3VhZ2Utc2VhcmNoLWVycm9yIjoiU2VhcmNoIGVycm9yOiB7MH0iLCJsYW5ndWFnZS1wcm9qZWN0LWNvbmZpcm0tc2F2ZS1kZXNjcmlwdGlvbiI6IlRoaXMgcHJvamVjdCBpcyByZWFkIG9ubHkuIFdvdWxkIHlvdSBsaWtlIHRvIHNhdmUgeW91ciBvd24gY29weSBvZiB0aGlzIHByb2plY3Q/IiwibGFuZ3VhZ2UtbW9udGhzLTIiOiJNYXJjaCIsImxhbmd1YWdlLW1vbnRocy0xIjoiRmVicnVhcnkiLCJsYW5ndWFnZS1jYXB0dXJlLWdlb21ldHJ5LW11bHRpLXBvaW50IjoiU2VsZWN0IHNldmVyYWwgcG9pbnRzIG9uIHRoZSBtYXAuIERvdWJsZS1jbGljayBvciB0YXAgdG8gZmluaXNoLiIsImxhbmd1YWdlLW1vbnRocy00IjoiTWF5IiwibGFuZ3VhZ2Utc2VhcmNoLWluc3RhbnQtcHJvdmlkZXItbm90LWF2YWlsYWJsZSI6Ikluc3RhbnQgU2VhcmNoIGhhcyBiZWVuIGRpc2FibGVkLiBJdCBpcyBvbmx5IGF2YWlsYWJsZSBpbiBFc3NlbnRpYWxzIDQuMCBhbmQgbGF0ZXIuIFBsZWFzZSB1cGdyYWRlIGlmIHlvdSB3YW50IHRvIGVuYWJsZSB0aGlzIGZ1bmN0aW9uYWxpdHkuIiwibGFuZ3VhZ2UtbW9udGhzLTMiOiJBcHJpbCIsImxhbmd1YWdlLW1vbnRocy0wIjoiSmFudWFyeSIsImxhbmd1YWdlLW1vbnRocy05IjoiT2N0b2JlciIsImxhbmd1YWdlLW1vbnRocy02IjoiSnVseSIsImxhbmd1YWdlLW1vbnRocy01IjoiSnVuZSIsImxhbmd1YWdlLW1lbnUtc3dpdGNoLXRvLWxheWVybGlzdCI6IlNob3cgTGF5ZXIgTGlzdCIsImxhbmd1YWdlLW1vbnRocy04IjoiU2VwdGVtYmVyIiwibGFuZ3VhZ2UtbW9udGhzLTciOiJBdWd1c3QiLCJsYW5ndWFnZS1tZW51LWlkZW50aWZ5LXBvaW50LWRlc2MiOiJEcmF3IGEgcG9pbnQgb24gdGhlIG1hcCB0byB2aWV3IGluZm9ybWF0aW9uIGF0IHRoYXQgcG9pbnQgb24gdGhlIG1hcC4iLCJsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtbWFya2VyLXN0eWxlLXNxdWFyZSI6IlNxdWFyZSIsImxhbmd1YWdlLWxlZ2VuZC1zaG93LWxheWVyLWxpc3QiOiJTaG93IExheWVyIExpc3QiLCJsYW5ndWFnZS1wcm9qZWN0LWNvbmZpcm0tbG9hZC1kZXNjcmlwdGlvbi13aXRoLXRpdGxlIjoiQXJlIHlvdSBzdXJlIHlvdSB3aXNoIHRvIGxvYWQgcHJvamVjdCBcInswfVwiPyIsImxhbmd1YWdlLW1lbnUtYnJvd3NlLXNhdmVkLXJlc3VsdHMtZGVzYyI6IkNob29zZSBmcm9tIGEgbGlzdCBvZiBzYXZlZCByZXN1bHRzIHRvIHZpZXcgdGhlbSIsImxhbmd1YWdlLXNjYWxlLWxhYmVsIjoiU2NhbGUgMToiLCJsYW5ndWFnZS1oZWF0LW1hcHMtaW50ZW5zaXR5LW11bHRpcGxpZXIiOiJJbnRlbnNpdHkgTXVsdGlwbGllciIsImxhbmd1YWdlLWJ1ZmZlci1lcnJvci1wcm9jZXNzLWFyZ3MiOiJFcnJvciBwcm9jZXNzaW5nIGJ1ZmZlciBBcmdzIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLWRlbGV0ZS1mcm9tLWRldmljZS1idXR0b24iOiJGb3JnZXQiLCJsYW5ndWFnZS10b29sYmFyLW5hdmlnYXRpb24tem9vbS1vdXQtZGVzYyI6IkRyYWcgYSByZWN0YW5nbGUgb24gdGhlIG1hcCB0byB6b29tIG91dCB3aGlsZSBrZWVwaW5nIHRoYXQgYXJlYSBjZW50ZXJlZCIsImxhbmd1YWdlLXRvb2xiYXItZ3JvdXAtcGxvdGNvb3JkaW5hdGVzIjoiQ29vcmRpbmF0ZXMiLCJsYW5ndWFnZS10b29sYmFyLW5hdmlnYXRpb24tem9vbS1vdXQiOiJab29tIE91dCIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWRlbGV0ZS1kZXNjLWtleWJvYXJkIjoiVXNlIGFycm93cyB0byBtb3ZlIHRoZSBwb2ludC4gSGl0IEVOVEVSIHRvIGltbWVkaWF0ZWx5IGFuZCBwZXJtYW5lbnRseSBkZWxldGUgYSBkcmF3aW5nLiBUaGlzIGNhbm5vdCBiZSB1bmRvbmUuIiwibGFuZ3VhZ2UtbGF5ZXItc2VsZWN0b3ItZGVmYXVsdC1zZWxlY3QtYWxsLXRleHQiOiJTZWxlY3QgQWxsIiwibGFuZ3VhZ2UtdG9vbGJhci1zZWxlY3QtbGF5ZXJzLXRvZ2dsZS1vbi1uYW1lIjoiRmlsdGVyIExheWVycyIsImxhbmd1YWdlLXRhYmxlLW1hcHBpbmctdmFsaWRhdGlvbi1lcnJvci1sYWNraW5nLXJlcXVpcmVkLWFkZHJlc3MtZmllbGRzLW1lc3NhZ2UiOiJUaGUgZm9sbG93aW5nIGFkZHJlc3MgZmllbGRzIGFyZSByZXF1aXJlZDogezB9IiwibGFuZ3VhZ2UtdG9vbGJhci1zbmFwcGluZy1zZWxlY3QtbGF5ZXJzLXRvb2x0aXAiOiJDaGFuZ2Ugd2hpY2ggbGF5ZXJzIGFyZSBzbmFwcGFibGUiLCJsYW5ndWFnZS10YWJsZS1tYXBwaW5nLXZhbGlkYXRpb24tZXJyb3Itc291cmNlLXNwYXRpYWwtbWFwcGluZy1pbnZhbGlkIjoiU3BhdGlhbCByZWZlcmVuY2UgaW52YWxpZC4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWNsb3NlLW1vZGFsLXJlZ2lvbiI6IkNsb3NlcyB0aGUgTW9kYWxXaW5kb3dSZWdpb24uIiwibGFuZ3VhZ2UtdG9vbGJhci1uYXZpZ2F0aW9uLWhvbWUtc3ViIjoiSG9tZSIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktZm9ybS1uYW1lZC1jb250YWluZXItaGlkZGVuIjoiRm9ybSBncm91cCAnezB9JyBoaWRkZW4uIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtdW5pdC1zcWZlZXQtc2hvcnQiOiJmdMKyIiwibGFuZ3VhZ2UtdmlzdWFsaXphdGlvbi10aXRsZSI6IlZpc3VhbGl6YXRpb24gT3B0aW9ucyIsImxhbmd1YWdlLWJ1ZmZlci1jb25maWctdW5pdHMtZXJyb3IiOiJDb25maWd1cmF0aW9uIGVycm9yLiBCdWZmZXIgdW5pdHMgb3IgZGVmYXVsdCBidWZmZXIgdW5pdCBub3Qgc3BlY2lmaWVkIG9yIHVuc3VwcG9ydGVkLiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LW1lYXN1cmUtZWxsaXBzZS10b29sLXN0YXR1cyI6IkNsaWNrIG9yIHRhcCwgdGhlbiBkcmFnIHRvIGRyYXcgYW4gZWxsaXBzZSBhbmQgZmluZCBhcmVhLiIsImxhbmd1YWdlLW1lbnUtZWRpdC1mZWF0dXJlIjoiRWRpdCB0aGlzIEZlYXR1cmUiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1wb2ludC10b29sdGlwIjoiQWRkIGEgcG9pbnQgdG8gdGhlIG1hcCIsImxhbmd1YWdlLXNoYXJlLXNoYXJlLW9uLXByb21wdC10aXRsZSI6IlNoYXJlIG9uIHswfSIsImxhbmd1YWdlLXByb2plY3QtYWN0aW9ucy10aXRsZSI6IlByb2plY3QiLCJsYW5ndWFnZS1tYXAtdGlwLXJlc3VsdHMiOiJSZXN1bHRzIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1sZXZlbHMtbGVzcy1kZXRhaWwiOiIoTGVzcyBEZXRhaWwpIiwibGFuZ3VhZ2Utc3ltYm9sb2d5LXNldHRpbmdzLWxpbmUtc3R5bGUtc29saWQiOiJTb2xpZCIsImxhbmd1YWdlLWxvZy10aW1lc3RhbXAiOiJUaW1lc3RhbXAiLCJsYW5ndWFnZS1vZmZsaW5lLWRhdGEtY2xlYXJlZCI6Ik9mZmxpbmUgZGF0YSBjbGVhcmVkLiIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtbGV2ZWxzLW1vcmUtZGV0YWlsIjoiKE1vcmUgRGV0YWlsKSIsImxhbmd1YWdlLXByaW50LXNob3ctcHJldmlldy1jZW50ZXIiOiJTaG93IHByaW50IHByZXZpZXciLCJsYW5ndWFnZS1vZmZsaW5lLXJlc291cmNlLXNhdmUtZXJyb3IiOiJUaGVyZSB3YXMgYW4gZXJyb3Igc2F2aW5nIGFuIG9mZmxpbmUgcmVzb3VyY2UuIFlvdSBtYXkgYmUgb3V0IG9mIHNwYWNlLiBFcnJvcjogezB9IiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLWVkaXQtY29vcmRpbmF0ZSI6IkVkaXQiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1wb2x5bGluZS1kZXNjIjoiQ2xpY2sgb3IgdGFwIGxvY2F0aW9ucyBhbG9uZyB0aGUgbWFwIHRvIGNyZWF0ZSBhIGxpbmUuIERvdWJsZSBjbGljay90YXAgdG8gZmluaXNoLiIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1oaWRlLWNvb3JkaW5hdGUtZGVzYyI6IlRlbXBvcmFyaWx5IGhpZGUgdGhpcyBjb29yZGluYXRlLiIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1zcGF0aWFsLWZpbHRlciI6IlNwYXRpYWwgRmlsdGVyOiIsImxhbmd1YWdlLW1hcC10aXAtbnVsbC1nZW9tZXRyeS1zdGF0dXMtbWVzc2FnZS11cmkiOiJSZXNvdXJjZXMvSW1hZ2VzL01hbmFnZXIvYWxlcnQtMTYucG5nIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtZXJhc2UtbXVsdGlwbGUtcHJvbXB0IjoiTXVsdGlwbGUgbWVhc3VyZW1lbnRzIGV4aXN0IGF0IHRoZSBsb2NhdGlvbiB5b3UganVzdCBzcGVjaWZpZWQsIGFuZCBhbGwgd2lsbCBiZSBwZXJtYW5lbnRseSBlcmFzZWQgaWYgeW91IHByb2NlZWQuIEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgYWxsIHRoZXNlIGl0ZW1zPyIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItYmFzZW1hcHMtbGV2ZWxzLWxldmVscyI6IkxldmVsczogIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1nZW9tZXRyeS10ZXh0LWRlZmF1bHQiOiJUaGUgZGVmYXVsdCBhcmVhIGlzIHlvdXIgY3VycmVudCBleHRlbnQuIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLWZldGNoLWVycm9yLXRpdGxlIjoiRXJyb3IiLCJsYW5ndWFnZS1wcmludGluZy1wcmludC1yZXF1ZXN0LWRlc2NyaXB0aW9uIjoiQW4gZW1haWwgd2lsbCBiZSBzZW50IHRvIHRoZSBzcGVjaWZpZWQgYWRkcmVzcyB3aGVuIHRoZSBqb2IgaXMgY29tcGxldGUuIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWFwcGx5aW5nIjoiQXBwbHlpbmcgZWRpdHMuLi4iLCJsYW5ndWFnZS1sYXllci1kZXRhaWxzLWRpYWxvZy1idXR0b24tcHJvY2VlZCI6IlByb2NlZWQiLCJsYW5ndWFnZS1zZWFyY2gtZ28iOiJHbyIsImxhbmd1YWdlLWxheWVyLWRldGFpbHMtbGF5ZXItbmFtZSI6IkxheWVyIE5hbWUiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctZ2VvbWV0cnktcmVjdGFuZ2xlIjoiTW92ZSB0aGUgc2hhcGUgYnkgZHJhZ2dpbmcuIFJlc2l6ZSBieSBncmFiYmluZyBlZGdlcyBvciBjb3JuZXJzLiBDbGljayBvciB0YXAgb24gdGhlIG1hcCB0byBzdG9wIGVkaXRpbmciLCJsYW5ndWFnZS1mZWF0dXJlLXJlbGF0ZWQtY2hlY2tpbmciOiJDaGVja2luZyBmb3IgcmVsYXRlZCBmZWF0dXJlcy4uLiIsImxhbmd1YWdlLW1hcC1jb250ZXh0LW1lbnUtcmV2ZXJzZS1nZW9jb2RlLXNlYXJjaC1uby1yZXN1bHQiOiJObyBhZGRyZXNzIGZvdW5kIiwibGFuZ3VhZ2UtbWVudS1yZW1vdmUtdXNlci1hZGRlZC1sYXllci1kZXNjIjoiUmVtb3ZlIHRoaXMgdXNlciBhZGRlZCBsYXllciBvZmYgdGhlIG1hcC4iLCJsYW5ndWFnZS1tZW51LWV4cG9ydC1yZXN1bHRzLXRvLXNocCI6IkV4cG9ydCB0byBTaGFwZWZpbGUiLCJsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtbGluZS1zdHlsZS1sb25nZGFzaCI6IkxvbmctZGFzaCIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1hZGQtY29uZmlybSI6IkRvIHlvdSB3YW50IHRvIGRvd25sb2FkIGFuZCBzeW5jIHRoaXMgb2ZmbGluZSBtYXA/IFRoaXMgY291bGQgYmUgYSB2ZXJ5IGxhcmdlIGRvd25sb2FkLiIsImxhbmd1YWdlLWxheWVybGlzdC1uby1mZWF0dXJlLWFjdGlvbnMiOiJObyBhY3Rpb25zIGF2YWlsYWJsZS4iLCJsYW5ndWFnZS1zZWFyY2gtZ2VvY29kaW5nLXNjb3JlLWRlc2NyaXB0aW9uIjoiU2NvcmU6ICIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXNuYXBwYWJsZS1sYXllcnMiOiJTbmFwcGFibGUgTGF5ZXJzIHswfSIsImxhbmd1YWdlLXVzZXItc2lnbi1pbi1kZXNjIjoiTmF2aWdhdGUgdG8gdGhlIHNpZ24taW4gcGFnZSIsImxhbmd1YWdlLW1lYXN1cmVtZW50LWNsZWFyLWFsbC1wcm9tcHQiOiJJZiB5b3UgcHJvY2VlZCwgYWxsIG1lYXN1cmVtZW50IGNhbGN1bGF0aW9ucyBvbiB0aGUgbWFwIHdpbGwgYmUgcGVybWFuZW50bHkgZXJhc2VkLiBDb250aW51ZT8iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctcmVsYXRlZC1mZWF0dXJlLWZhaWxlZCI6IkNvdWxkIG5vdCBlZGl0IGEgcmVsYXRlZCBmZWF0dXJlIC0gbm8gcmVsYXRlZCBsYXllciBjb3VsZCBiZSBsb2FkZWQgZm9yIHJlbGF0aW9uc2hpcCB7MH0iLCJsYW5ndWFnZS1wcm9qZWN0cy1zb3J0LWNyZWF0ZWQtZGlzcGxheS1uYW1lIjoiTmV3ZXN0IENyZWF0ZWQiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItZmVhdHVyZS1zZXQtZGlzcGxheS1uYW1lIjoiezB9IiwibGFuZ3VhZ2UtcmVzdWx0cy10b2dnbGUtdGFibGUtdmlldy1kZXNjIjoiVmlldyByZXN1bHRzIGluIHRhYmxlIGZvcm1hdCIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXVuaXQteWFyZC1zaG9ydCI6InlkIiwibGFuZ3VhZ2UtbG9nLW1lc3NhZ2UiOiJNZXNzYWdlIiwibGFuZ3VhZ2UtcHJvamVjdC1lZGl0b3ItbmFtZS10aXRsZSI6IlByb2plY3QgTmFtZSIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tdGFrZS1hcHBsaWNhdGlvbi1vZmZsaW5lIjoiUHV0cyB0aGUgYXBwbGljYXRpb24gaW4gYW4gb2ZmbGluZSBzdGF0ZS4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1tZWFzdXJlLXJlY3RhbmdsZS10b29sLXN0YXR1cyI6IkNsaWNrIG9yIHRhcCwgdGhlbiBkcmFnIHRvIGRyYXcgYSByZWN0YW5nbGUgYW5kIGZpbmQgYXJlYS4iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctaW52YWxpZC1sYXllciI6IlRoaXMgZmVhdHVyZSBoYXMgbm8gZWRpdGFibGUgZmllbGRzLiIsImxhbmd1YWdlLW1lbnUtY29tYmluZS1yZXN1bHRzLWludGVyc2VjdCI6Ik1hdGNoIGludGVyc2VjdGluZyByZXN1bHRzIiwibGFuZ3VhZ2UtbGVnZW5kLXRpdGxlIjoiTGVnZW5kIiwibGFuZ3VhZ2Utc3ltYm9sb2d5LXNldHRpbmdzLW1hcmtlci1zaXplLXN1ZmZpeCI6InB4IiwibGFuZ3VhZ2UtbmF0aXZlLWFkZC10by1mYXZvcml0ZXMtbmFtZS1pbnZhbGlkIjoiVGhlIG5hbWUgcHJvdmlkZWQgd2FzIGludmFsaWQuIiwibGFuZ3VhZ2UtcHJvamVjdHMtYXV0aG9yLWd1ZXN0IjoiQW5vbnltb3VzIiwibGFuZ3VhZ2UtYnVmZmVyLW9wdGlvbnMtY29udGludWUtYnV0dG9uLXRleHQiOiJDb250aW51ZSIsImxhbmd1YWdlLWxpc3QtcmVwb3J0cy1leGNsdXNpb24td2FybmluZy10aXRsZSI6IlJlcG9ydCBkb2Vzbid0IGNvdmVyIGFsbCBzZWxlY3RlZCBmZWF0dXJlcyIsImxhbmd1YWdlLXZpc3VhbGl6YXRpb24tYXBwbHkiOiJBcHBseSIsImxhbmd1YWdlLWZlYXR1cmUtZGV0YWlscy1leHBhbmRlZC1kZXNjIjoiU3dpdGNoIHRvIHRoZSBmZWF0dXJlIGRldGFpbHMgZXhwYW5kZWQgdmlldyIsImxhbmd1YWdlLXRvb2xiYXItdGFiLW5hdmlnYXRpb24iOiJOYXZpZ2F0aW9uIiwibGFuZ3VhZ2UtbGlzdC1yZXBvcnRzLWRldGFpbHMiOiJDb3ZlcnMgezB9IG9mIHsxfSBzZWxlY3RlZCBmZWF0dXJlcy4iLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtdXBkYXRlLXRvb2wtc3RhdHVzIjoiQ2xpY2sgb3IgdGFwIG9uIHRoZSBtYXAsIG9yIG1hbnVhbGx5IGVudGVyIGEgbG9jYXRpb24gdG8gdXBkYXRlIHRoZSBjb29yZGluYXRlLiIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1kZWxldGUtY29vcmRpbmF0ZS1kZXNjIjoiRGVsZXRlIHRoaXMgY29vcmRpbmF0ZSBhbmQgcmVtb3ZlIGl0IGZyb20gdGhlIG1hcC4iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJ1dHRvbi1uZXh0IjoiTmV4dCIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWVkaXQtem9vbW91dC10b29sIjoiWm9vbU91dFRvb2wiLCJsYW5ndWFnZS1jb21tb24tbG9hZCI6IkxvYWQiLCJsYW5ndWFnZS1tYXAtb3BlcmF0aW9uLXVuYXZhaWxhYmxlLW9mZmxpbmUiOiJZb3UgY2Fubm90IHBlcmZvcm0gdGhpcyBvcGVyYXRpb24gb2ZmbGluZS4iLCJsYW5ndWFnZS1ydW4tcmVwb3J0LWNvbXBsZXRlLWhlYWRpbmctYXN5bmMiOiJSZXBvcnQiLCJsYW5ndWFnZS1tZW51LWJyb3dzZS1zYXZlZC1yZXN1bHRzIjoiT3BlbiBTYXZlZCBSZXN1bHRzIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtZnJlZWhhbmQiOiJGcmVlaGFuZCIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWV4cG9ydC10b29sdGlwIjoiRXhwb3J0IGRyYXdpbmdzIHRvIHNoYXBlZmlsZSIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1kc2stcG9seWxpbmUtdG9vbCI6IkNsaWNrIG9yIHRhcCBvbiB0aGUgbWFwIHRvIGFkZCB0d28gb3IgbW9yZSBsaW5lIHBvaW50cy4gRG91YmxlIGNsaWNrL3RhcCB0byBzdG9wIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1wcm9qZWN0IjoiQ2FsbHMgYSBnZW9tZXRyeSBzZXJ2aWNlIHRvIHByb2plY3QgZ2VvbWV0cmllcyBiZXR3ZWVuIGRpZmZlcmVudCBjb29yZGluYXRlIHN5c3RlbXMuIiwibGFuZ3VhZ2UtbWVudS1vZmZsaW5lLW1hcC1lZGl0b3ItZ2VvbWV0cnktYWN0aW9ucy1wb2x5Z29uIjoiUG9seWdvbiIsImxhbmd1YWdlLXNjYWxlLXN3aXRjaCI6IlN3aXRjaCIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWFjY2Vzc2liaWxpdHktaWNvbi1kZXNjIjoiQWNjZXNzaWJpbGl0eSBpY29uIiwibGFuZ3VhZ2UtY29tbW9uLWJhY2siOiJCYWNrIiwibGFuZ3VhZ2UtbWVudS1lbnRlci1vbmxpbmUtZGVzYyI6IkdvIHRvIG9ubGluZSBtb2RlIGFuZCB2aWV3IGxpdmUgbWFwIGRhdGEgZnJvbSB0aGUgd2ViLiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LWNsZWFyLWFsbC10b29sdGlwIjoiQ2xlYXIgYWxsIG1lYXN1cmVtZW50IG1hcmt1cCIsImxhbmd1YWdlLXNuYXBwaW5nLXBvaW50LWZvdW5kIjoiU25hcHBpbmcgcG9pbnQgZm91bmQuIiwibGFuZ3VhZ2UtdGFrZS1hcHAtb2ZmbGluZSI6IkdvIG9mZmxpbmUiLCJsYW5ndWFnZS1tZW51LXZpc3VhbGl6YXRpb24tZGVzYyI6IkVuYWJsZSBIZWF0IE1hcHMgb3IgQ2x1c3RlcmluZyB0byBiZSBzaG93bi4iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctY3JlYXRlLWVkaXQtc2VsZWN0LWxvY2F0aW9uIjoiU2VsZWN0IGEgbG9jYXRpb24iLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtZGVsZXRlLWZyb20tc2VydmVyIjoiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSAnezB9Jz8iLCJsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtZmlsbC1zdHlsZS1zb2xpZCI6IlNvbGlkIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1nZW9tZXRyeS10ZXh0IjoiQW4gYXJlYSBoYXMgYmVlbiBzZWxlY3RlZC4iLCJsYW5ndWFnZS1oeXBlcmxpbmstbm8tdXJsLXdhcm5pbmciOiJIeXBlcmxpbmsgZGV0ZWN0ZWQsIGJ1dCBsaW5rJ3MgVVJJIGNvdWxkIG5vdCBiZSBwYXJzZWQuIiwiLy90aW1lcGlja2VyLnJlZ2lvbmFsLmhlbHAiOiJDb3B5IHNldHRpbmdzIGZyb20gb25lIG9mIHRoZSBmaWxlcyBpbiBodHRwczovL2dpdGh1Yi5jb20vdHJlbnRyaWNoYXJkc29uL2pRdWVyeS1UaW1lcGlja2VyLUFkZG9uL3RyZWUvbWFzdGVyL3NyYy9pMThuIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1wYW4tdG8tcG9pbnQiOiJQYW5zIHRvIGEgcG9pbnQgb3Igb3RoZXIgdHlwZSBvZiBHZW9tZXRyeS4iLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1lbGxpcHNlIjoiRWxsaXBzZSIsImxhbmd1YWdlLXNoYXJlLXByb2plY3QtcHJpdmlsZWdlcy10aXRsZSI6IlByb2plY3QgUHJpdmlsZWdlcyIsImxhbmd1YWdlLXJ1bi1yZXBvcnQtY29tcGxldGUtZG9uZS1idXR0b24iOiJEb25lIiwibGFuZ3VhZ2UtdXBsb2FkLWRhdGEtY29uZmlybS1hZGQtbGF5ZXItbWVzc2FnZSI6IlRoZSBsYXllciBiZWluZyBhZGRlZCBjb250YWlucyB7MH0gZmVhdHVyZXMsIHdoaWNoIG1heSBjYXVzZSB0aGUgYnJvd3NlciB0byBiZWNvbWUgc2xvdyBvciB1bnJlc3BvbnNpdmUuIEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBwcm9jZWVkPyIsImxhbmd1YWdlLXRhYmxlLW1hcHBpbmctZGlhbG9nLWNhbmNlbCI6IkNhbmNlbCIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItZXJyb3Itbm9uYW1lIjoiVGhlIG9mZmxpbmUgbWFwIG5lZWRzIGEgbmFtZS4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWZlYXR1cmUtbGF5ZXItY2xlYXItZGF0YSI6IkNsZWFycyB0aGUgZGF0YSBmb3IgYSBnaXZlbiBtYXAgc2VydmljZSBVUkwuIiwibGFuZ3VhZ2Utc2l0ZS1sb2ctb24tcmVxdWlyZWQtdGl0bGUiOiJMb2cgT24gUmVxdWlyZWQiLCJsYW5ndWFnZS1wcm9qZWN0LWVkaXRvci1jYW5jZWwtYnV0dG9uLXRpdGxlIjoiQ2FuY2VsIFNhdmUgUHJvamVjdCIsImxhbmd1YWdlLW1hcC1jb29yZGluYXRlcy1XS1QiOiJXS1QiLCJsYW5ndWFnZS1jb21tb24tY3JlYXRlIjoiQ3JlYXRlIiwibGFuZ3VhZ2UtcHJvamVjdC1zaGFyZS10aXRsZSI6IlNoYXJlIFByb2plY3QiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1zaW1wbGUtZmlsdGVyLWJ1aWxkZXItY29udGFpbmVyIjoiU2ltcGxlIEZpbHRlciBCdWlsZGVyIENvbnRhaW5lciB7MH0iLCJsYW5ndWFnZS1zeW1ib2wtZGlhbG9nLXRpdGxlIjoiU3ltYm9saXplIERhdGEiLCJsYW5ndWFnZS1tZW51LW9mZmxpbmUtbWFwLWVkaXRvci1nZW9tZXRyeS1hY3Rpb25zLXBvbHlnb24tZGVzYyI6IkRyYXcgYSBwb2x5Z29uIGZvciB0aGUgYXJlYSBvZiBpbnRlcmVzdCBnZW9tZXRyeS4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1tZWFzdXJlLWRpc3RhbmNlLXRvb2wtbmFtZSI6IkRpc3RhbmNlIiwibGFuZ3VhZ2UtYmFubmVyLXRpdGxlIjoiQXBwbGljYXRpb24gVGl0bGUiLCJsYW5ndWFnZS1tZW51LWFkZC1hLWZlYXR1cmUiOiJDcmVhdGUgYSBmZWF0dXJlIiwibGFuZ3VhZ2UtcGFnaW5nLXRvdGFsIjoiVG90YWwiLCJsYW5ndWFnZS11aS10YWJsZS1zb3J0ZWQtZGVzY2VuZGluZyI6IkNvbHVtbiBoZWFkZXIuIHswfSAtIFNvcnRlZCBkZXNjZW5kaW5nLiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXJlc3VsdHMtZmVhdHVyZS1sYWJlbC10b3RhbCI6InswfSIsImxhbmd1YWdlLXdvcmtmbG93LWF2YWlsYWJsZS13b3JrZmxvd3MiOiJBdmFpbGFibGUgVGFza3MiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLWRlc2NyaXB0aW9uIjoiSG93IGJhc2VtYXBzIHdpbGwgYmUgcmVwcmVzZW50ZWQgb2ZmbGluZS4iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctdW5kb2FibGUtdXBkYXRlIjoiVXBkYXRlIEZlYXR1cmVzIiwibGFuZ3VhZ2UtbWFwLXRpcC1udWxsLWdlb21ldHJ5IjoiTm8gc3BhdGlhbCBkYXRhIiwibGFuZ3VhZ2UtbWVudS1jZW50ZXItdGV4dG1hcC1kZXNjIjoiQ2VudGVyIHRoZSBtYXAgb24gdGhlIHBvaW50IHNwZWNpZmllZC4iLCJsYW5ndWFnZS1zaXRlLWluaXRpYWxpemF0aW9uLWZhaWx1cmUtZXhwbGFuYXRpb24iOiIgVGhlIGVycm9yIHdhczogezB9IiwibGFuZ3VhZ2UtdG9vbGJhci1pbmZvcm1hdGlvbi1hY3Rpb25zIjoiSW5mb3JtYXRpb24gJiBBY3Rpb25zIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtY29vcmRpbmF0ZXMtaW50cm9kdWN0aW9uIjoiQ2VudGVyIGxhdGl0dWRlOiB7MH0uIENlbnRlciBsb25naXR1ZGU6IHsxfS4iLCJsYW5ndWFnZS1jb21tb24tZmVhdHVyZS1sYXllci1kZXRhaWxzIjoiU3luYyBTZXR0aW5ncyBmb3IgezB9IiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1zaG93LXJlc3VsdHMtdGFibGUiOiJEaXNwbGF5cyB0aGUgbGlzdCBvZiBmZWF0dXJlcyBpbiB0aGUgZ2l2ZW4gZmVhdHVyZSBzZXQgY29sbGVjdGlvbiBpbiBhIHRhYnVsYXIgdmlldy4iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLWxldmVscy1tYXBpbnN0cnVjdGlvbnMiOiJab29tIHRoZSBtYXAgdG8gZGVmaW5lIHRoZSBtYXhpbXVtIGxldmVsIG9mIGRldGFpbC4iLCJsYW5ndWFnZS1wcm9qZWN0LXVybC1sYWJlbCI6IlByb2plY3QgVVJMIiwibGFuZ3VhZ2UtZ2VvbG9jYXRlLWZvbGxvdyI6IkZvbGxvdyBNZSIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXRvb2xiYXIiOiJUb29sYmFyIHswfSIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1iZWFyaW5nLXRpdGxlIjoiQmVhcmluZyIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWRhdGEtZnJhbWUtdmlldy1jb250YWluZXIiOiJEYXRhIEZyYW1lIFZpZXcgQ29udGFpbmVyIHswfSIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1zeW5jLXRpdGxlIjoiU3luYyBPZmZsaW5lIERhdGEiLCJsYW5ndWFnZS1tYXAtdGlwLWZlYXR1cmUtcHJldiI6IlByZXZpb3VzIiwibGFuZ3VhZ2UtbWVudS1tYXB0aXAtYWN0aW9ucy1kZXNjIjoiTWFwVGlwIEFjdGlvbnMiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1kcmF3bW9kZS1yZWN0YW5nbGUiOiJSZWN0YW5nbGUiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWNvbmZpcm0iOiJEaXNwbGF5cyBhIGNvbmZpcm0uIiwibGFuZ3VhZ2UtdXBsb2FkLWRpYWxvZy12YWxpZGF0aW9uLWVycm9yLXRvby1tYW55LW1lc3NhZ2UiOiJZb3UgY2FuIG9ubHkgdXBsb2FkIHRoZSBkYXRhIGZvciBvbmUgbGF5ZXIgYXQgYSB0aW1lLiBEYXRhIGZyb20gezB9IGRpZmZlcmVudCBsYXllcnMgYXBwZWFycyB0byBoYXZlIGJlZW4gc2VsZWN0ZWQuIiwibGFuZ3VhZ2UtdXBsb2FkLWRhdGEtd2FpdC1vbi1wdWJsaXNoLWpvYiI6IlB1Ymxpc2hpbmcgdG8gQXJjR0lTIE9ubGluZS4uLiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LW1lYXN1cmUtZWxsaXBzZS10b29sLW5hbWUiOiJFbGxpcHNlIiwibGFuZ3VhZ2UtaGVhdC1tYXBzLWludGVuc2l0eS1zbGlkZXItaGFuZGxlIjoiU2xpZGVyIGhhbmRsZSIsImxhbmd1YWdlLXByb2plY3QtY29uZmlybS1kZWxldGUtZGVzY3JpcHRpb24td2l0aC10aXRsZSI6IkFyZSB5b3Ugc3VyZSB5b3Ugd2lzaCB0byBkZWxldGUgcHJvamVjdCBcInswfVwiPyIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXVuaXQteWFyZCI6IllhcmRzICh5ZCkiLCJsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LWxpbmtzLXZpZXctbGFiZWwiOiJWaWV3IExpbmsgKHNpZ24taW4gcmVxdWlyZWQpIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtZWxsaXBzZS10b29sdGlwIjoiRHJhdyBhbiBlbGxpcHNlIG9uIHRoZSBtYXAiLCJsYW5ndWFnZS1tYXAtem9vbS1vdXQiOiJEcmFnIG9uIHRoZSBtYXAgdG8gem9vbSBvdXQuIFRoZSBzbWFsbGVyIHRoZSBhcmVhLCB0aGUgZmFydGhlciB5b3Ugem9vbSBvdXQuIiwibGFuZ3VhZ2UtZXhwb3J0LW1hcC12aWV3LWltYWdlIjoiVmlldyBJbWFnZSIsImxhbmd1YWdlLWxheWVybGlzdC1hY3Rpb25zLWRlc2MiOiJUaGUgbGF5ZXIgbGlzdCAvIGxlZ2VuZCBhY3Rpb24gbWVudSBpdGVtcyIsImxhbmd1YWdlLXBhZ2luZy1kaXNwbGF5aW5nIjoiRGlzcGxheWluZyIsImxhbmd1YWdlLXNpdGUtc2VydmljZS1sYXllcnMtZmFpbHVyZS12aWV3LXdhcm5pbmciOiJUaGVyZSB3YXMgYSBwcm9ibGVtIGxvYWRpbmcgb25lIG9yIG1vcmUgbWFwIHNlcnZpY2VzLiBUaGUgZm9sbG93aW5nIG1hcCBzZXJ2aWNlcyBtYXkgYmUgdW5hdmFpbGFibGU6IiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLW1hbmFnZS10aXRsZSI6Ik1hbmFnZSBPZmZsaW5lIE1hcHMiLCJsYW5ndWFnZS1zZWFyY2gtYmluZy1kaXN0cmljdCI6IkRpc3RyaWN0IiwibGFuZ3VhZ2Utc2F2ZWQtcmVzdWx0cy1jb21iaW5lLWxpc3QtZXhwbGFuYXRpb24iOiJTZWxlY3QgTXVsdGlwbGUiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLXRpdGxlIjoiU2VsZWN0IEJhc2VtYXBzIiwibGFuZ3VhZ2UtdG9vbGJhci10YXNrcy1zaGFyZSI6IlNoYXJlIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtZmVhdHVyZS1lZGl0aW5nLWNvbnRhaW5lciI6IkZlYXR1cmUgRWRpdGluZyBDb250YWluZXIgezB9IiwibGFuZ3VhZ2UtdGFibGUtbWFwcGluZy1zb3VyY2Utc3BhdGlhbC1yZWZlcmVuY2UtbWFwIjoiTWFwJ3MgQ3VycmVudCIsImxhbmd1YWdlLWJhc2VtYXAtc3dpdGNoZXItdmlldy10aXRsZSI6IkJhc2VtYXBzIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1sYXllcnMtZGVzY3JpcHRpb24iOiJXaGF0IGxheWVycyB3aWxsIGJlIGF2YWlsYWJsZSBvZmZsaW5lLiIsImxhbmd1YWdlLXNuYXBwaW5nLWFjdGl2YXRlZCI6IlNuYXBwaW5nIGFjdGl2YXRlZCIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWZlYXR1cmUtZGV0YWlscy1jb21wYWN0IjoiQ29tcGFjdCBGZWF0dXJlIERldGFpbHMgezB9IiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1uYW1lLWNhbnQtY2hhbmdlIjoiWW91IGRvbid0IGhhdmUgcGVybWlzc2lvbiB0byBjaGFuZ2UgdGhlIG5hbWUuIiwibGFuZ3VhZ2UtbWVudS1jb21iaW5lLXJlc3VsdHMtc3VidHJhY3QiOiJTdWJ0cmFjdCBzYXZlZCByZXN1bHRzIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1zdGVwLXpvb20taW4iOiJab29tcyBpbiBhIHN0ZXAiLCJsYW5ndWFnZS10YWJsZS1yZWNvcmQtcmVzdWx0cy1kaWFsb2ctdGl0bGUiOiJUYWJsZSBSZWNvcmQgUmVzdWx0cyIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tdG9nZ2xlLXZpZXciOiJBY3RpdmF0ZXMgb3IgZGVhY3RpdmF0ZXMgYSB2aWV3LiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tdGFrZS1hcHBsaWNhdGlvbi1vbmxpbmUiOiJDb25uZWN0cyB0aGUgYXBwbGljYXRpb24gdG8gdGhlIGludGVybmV0LiIsImxhbmd1YWdlLXRvb2xiYXItaWRlbnRpZnktcG9seWxpbmUiOiJMaW5lIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1leHBvcnR0aWxlcy1lcnJvci1taXNjb25maWd1cmVkIjoiVGhlIGNvbmZpZ3VyZWQgTWFwIFNlcnZpY2UgZm9yIHRoZSBDdXN0b20gT2ZmbGluZSBCYXNlbWFwIGNvdWxkIG5vdCBiZSByZWFjaGVkLiIsImxhbmd1YWdlLWNhcHR1cmUtZ2VvbWV0cnktdGl0bGUiOiJEaXNwbGF5IENhcHR1cmUgR2VvbWV0cnkiLCJsYW5ndWFnZS1tYXAtc2l0ZS1pbml0aWFsaXphdGlvbi1mYWlsZWQiOiJUaGUgc2l0ZSBmYWlsZWQgdG8gaW5pdGlhbGl6ZS4iLCJsYW5ndWFnZS1mZWF0dXJlLXJlbGF0ZWQtbm8tZGF0YSI6Ik5vIGRhdGEiLCJsYW5ndWFnZS10b29sYmFyLXRvZ2dsZS1idWZmZXItb2ZmLW5hbWUiOiJCdWZmZXJpbmcgT24iLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1kYXRhLWZyYW1lLWNsb3NlZCI6IkRhdGEgZnJhbWUgY2xvc2VkLiAgIiwibGFuZ3VhZ2UtdXNlci1zaWduLW91dCI6IlNpZ24gb3V0IiwibGFuZ3VhZ2UtZ2VvbG9jYXRlLXN0b3AtZGVzYyI6IlN0b3AgYWN0aXZlbHkgdXBkYXRpbmcgeW91ciBjdXJyZW50IHBvc2l0aW9uLiIsImxhbmd1YWdlLWlkZW50aWZ5LW5vLWdlb21ldHJ5LWZvci1tYXAtdGlwLXJlc3VsdHMiOiJDYW4ndCBleGVjdXRlIHRoZSBTaG93TWFwVGlwUmVzdWx0cyBjb21tYW5kIHdpdGhvdXQgYSBnZW9tZXRyeS4iLCJsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtZmlsbC1zdHlsZS12ZXJ0aWNhbCI6IlZlcnRpY2FsIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtbGF5ZXItZGF0YS1jb250YWluZXIiOiJMYXllciBEYXRhIENvbnRhaW5lciB7MH0iLCJsYW5ndWFnZS1mZWF0dXJlLWF0dGFjaG1lbnRzLWNoZWNraW5nIjoiQ2hlY2tpbmcgZm9yIGF0dGFjaG1lbnRzLi4uIiwibGFuZ3VhZ2UtZmVhdHVyZS1kYXRhbGlua3MiOiJEYXRhTGlua3MiLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtdXBkYXRlLXByb2ZpbGUtZXJyb3ItdGl0bGUiOiJFcnJvciIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy11c2Utb25saW5lLWRhdGEiOiJHbyBPbmxpbmUiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctaW52YWxpZC1udW1lcmljLXJhbmdlIjoiVGhlIHZhbHVlIGZvciB7MH0gaXMgb3V0IG9mIHJhbmdlLiIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLWVycm9yIjoiVXBsb2FkIERhdGEgRXJyb3IiLCJsYW5ndWFnZS1sYXllcmxpc3QtdGl0bGUiOiJMYXllcnMiLCJsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtZmlsbC1zdHlsZS1jcm9zcyI6IkNyb3NzIiwibGFuZ3VhZ2UtcHJvamVjdC1jb25maXJtLXNhdmUtZGVzY3JpcHRpb24td2l0aC10aXRsZSI6IlRoaXMgcHJvamVjdCBpcyByZWFkIG9ubHkuIFdvdWxkIHlvdSBsaWtlIHRvIHNhdmUgeW91ciBvd24gY29weSBvZiBwcm9qZWN0IFwiezB9XCI/IiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWRzay1wb2x5bGluZS10b29sLWtleWJvYXJkIjoiVXNlIGFycm93cyB0byBtb3ZlIHRoZSBwb2ludC4gSGl0IEVOVEVSIHRvIHBsb3QgYW5kIGJlZ2luIG1vdmluZyB0aGUgbmV4dCBwb2ludC4gSGl0IEVOVEVSIHR3aWNlIHRvIGZpbmlzaC4iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy1hbHQtYWxlcnQiOiJPcmFuZ2UgdHJpYW5nbGUgd2l0aCBhbmQgZXhjbGFtYXRpb24gcG9pbnQgaW4gdGhlIG1pZGRsZSIsImxhbmd1YWdlLXZpc3VhbGl6YXRpb24tZG9uZSI6IkRvbmUiLCJsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtbGluZS1zdHlsZS1zaG9ydGRhc2hkb3QiOiJTaG9ydC1kYXNoLWRvdCIsImxhbmd1YWdlLXRvb2xiYXItc2VsZWN0LWxheWVycy10b2dnbGUtb2ZmLW5hbWUiOiJMYXllcnMgYXJlIEZpbHRlcmVkIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtY2lyY2xlLXRvb2x0aXAiOiJEcmF3IGEgY2lyY2xlIG9uIHRoZSBtYXAiLCJsYW5ndWFnZS13b3JrZmxvdy1yZXBvcnQtdXJsLXRpdGxlIjoiUmVwb3J0IENvbXBsZXRlIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1jbGVhci1tYXJrdXAtcXVpZXQiOiJDbGVhcnMgYWxsIG9mIHRoZSBtYXJrdXAgZnJvbSB0aGUgbWFya3VwIGxheWVyIHdpdGhvdXQgcHJvbXB0aW5nIGZvciBjb25maXJtYXRpb24uIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLWxpc3QtdGl0bGUiOiJPZmZsaW5lIE1hcHMiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1kcmF3bW9kZS10cmlhbmdsZSI6IlRyaWFuZ2xlIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtZHJhd21vZGUtcG9seWxpbmUiOiJMaW5lIiwibGFuZ3VhZ2UtdG9vbGJhci1pZGVudGlmeS1wb2x5bGluZS10b29sdGlwIjoiRmluZCBvdXQgYWJvdXQgYW4gYXJlYSBvbiB0aGUgbWFwIGRlZmluZWQgYnkgYSBsaW5lIiwibGFuZ3VhZ2UtbWVudS1jb21iaW5lLXJlc3VsdHMtZGVzYyI6IlBlcmZvcm0gYWR2YW5jZWQgb3BlcmF0aW9ucyB3aXRoIG11bHRpcGxlIGxpc3RzIG9mIHJlc3VsdHMiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1sYXllci1hY3Rpb25zIjoiTGF5ZXIgQWN0aW9ucyB7MH0iLCJsYW5ndWFnZS10b29sYmFyLXRhYi1lZGl0aW5nIjoiRWRpdGluZyIsImxhbmd1YWdlLWdlb2xvY2F0ZS1lcnJvciI6IlRoZXJlIHdhcyBhbiBlcnJvciBpbiBnZW9sb2NhdGlvbjogIiwibGFuZ3VhZ2UtbWVudS1yZXN1bHRzLWFkZC1mZWF0dXJlIjoiQWRkIHRvIFJlc3VsdHMiLCJsYW5ndWFnZS1idWZmZXItb3B0aW9ucy1jb250aW51ZS1idXR0b24tdGl0bGUiOiJDb250aW51ZSBidWZmZXJpbmciLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXJlbW92ZS1oaWdobGlnaHQtbGF5ZXIiOiJSZW1vdmVzIHRoZSBoaWdobGlnaHQgbGF5ZXIgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUsIGlmIHRoZXJlIGlzIG9uZS4iLCJsYW5ndWFnZS1zZWFyY2gtYXJjZ2lzLWFkZHJlc3MiOiJBZGRyZXNzIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1zaG93LW1hcC1jYWxsb3V0IjoiRGlzcGxheXMgYSBtYXAgY2FsbG91dCBhbmNob3JlZCB0byBhIGdpdmVuIHBvaW50LiIsImxhbmd1YWdlLXNlYXJjaC1wZXJmb3JtLWdsb2JhbC1zZWFyY2giOiJQZXJmb3JtIGEgU2VhcmNoIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWRzay1mcmVlaGFuZC1wb2x5Z29uLXRvb2wiOiJDbGljayBvciB0YXAgb24gdGhlIG1hcCB0byBkcmF3IGEgcG9seWdvbiBzaGFwZS4gRG91YmxlIGNsaWNrL3RhcCB0byBzdG9wIiwibGFuZ3VhZ2UtdG9vbGJhci1uYXZpZ2F0aW9uLWZ1bGwtZXh0ZW50LXRvb2x0aXAiOiJSZXR1cm4gdG8gdGhlIGZ1bGwgZXh0ZW50IG9mIHRoZSBtYXAiLCJsYW5ndWFnZS10b29sYmFyLW1lbnUtZ2xvYmFsLXNhdmUtYXMtZGVzYyI6IlNhdmUgdGhlIHN0YXRlIG9mIHlvdXIgdmlld2VyIGluIGEgbmV3IHByb2plY3QiLCJsYW5ndWFnZS1oZWF0LW1hcHMtdGl0bGUiOiJIZWF0IE1hcCBPcHRpb25zIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbnVsbC1ncmFwaGljcy1lcnJvciI6IlRoZSBncmFwaGljcyBmb3IgdGhpcyBNYXAgYXJlIHVuZGVmaW5lZCBvciBub3QgeWV0IGxvYWRlZC4gTWVhc3VyZW1lbnQgVG9vbHMgY2Fubm90IGNvbnRpbnVlLiIsImxhbmd1YWdlLW1lbnUtYm9va21hcmstYWRkLWRlc2MiOiJBZGQgdGhlIGN1cnJlbnQgbWFwIGV4dGVudCB0byB0aGUgbGlzdCBvZiBib29rbWFya3MsIHNvIHRoYXQgSSBjYW4gcmV0dXJuIHRvIGl0IGxhdGVyLiIsImxhbmd1YWdlLWNhcHR1cmUtZ2VvbWV0cnktcG9seWdvbl90b29sdGlwIjoiU2VsZWN0IGJ5IHBvbHlnb24iLCJsYW5ndWFnZS1vZmZsaW5lLXByb3Zpc2lvbmluZy1mYWlsZWQtY29kZTIyIjoiVGhlIGRvd25sb2FkIGZvciBvZmZsaW5lIHVzZSBmYWlsZWQuIFRoZSBkb3dubG9hZGVkIHJlc291cmNlcyBtYXkgYmUgdG9vIGxhcmdlIGZvciB0aGUgb2ZmbGluZSBzdG9yYWdlIHNwYWNlLiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LW1lYXN1cmUtcG9seWdvbi10b29sLXN0YXR1cyI6IkNsaWNrIG9yIHRhcCB0byBkcmF3IGEgbXVsdGktc2lkZWQgc2hhcGUgYW5kIGZpbmQgYXJlYS4gRG91YmxlLWNsaWNrL3RhcCB0byBmaW5pc2guIiwibGFuZ3VhZ2UtbWFwLXpvb20taW4iOiJEcmFnIG9uIHRoZSBtYXAgdG8gem9vbSBpbiB0byB0aGF0IGFyZWEuIFRoZSBzbWFsbGVyIHRoZSBhcmVhLCB0aGUgZnVydGhlciB5b3Ugem9vbSBpbi4iLCJsYW5ndWFnZS1tZW51LXNob3ctcmVzdWx0cy1saXN0LWRlc2MiOiJTd2l0Y2ggdG8gTGlzdCBWaWV3IiwibGFuZ3VhZ2UtdG9vbGJhci1ncm91cC1maW5kLWRhdGEtdG9vbHMiOiJGaW5kIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtdmlzdWFsaXphdGlvbi12aWV3IjoiVmlzdWFsaXphdGlvbiBWaWV3IHswfSIsImxhbmd1YWdlLW1lYXN1cmVtZW50LW1lYXN1cmUtbGluZS10b29sLXRvb2x0aXAiOiJEcmF3IGEgbXVsdGktcGFydCBsaW5lIHRvIG1lYXN1cmUgYSBkaXN0YW5jZSIsImxhbmd1YWdlLWV4cG9ydC13ZWItbWFwLW5hcnJhdGUtdmlldy1hY3RpdmF0ZWQiOiJQbGVhc2UgZW50ZXIgYSB0aXRsZSIsImxhbmd1YWdlLW1lbnUtY29tYmluZS1yZXN1bHRzLXVuaW9uLWRlc2MiOiJDb21iaW5lIGEgc2F2ZWQgc2V0IG9mIHJlc3VsdHMgd2l0aCB5b3VyIGN1cnJlbnQgcmVzdWx0cyBsaXN0IiwibGFuZ3VhZ2UtdG9vbGJhci1lZGl0aW5nLXRvb2xzIjoiRWRpdCBGZWF0dXJlcyIsImxhbmd1YWdlLXByaW50LXByZXZpZXctY2VudGVyIjoiQ2VudGVyIHByaW50IGhlcmUiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItb3BlcmF0b3ItbnVsbCI6ImlzIG51bGwiLCJsYW5ndWFnZS1tZW51LXJ1bi1yZXBvcnQiOiJSdW4gYSBSZXBvcnQiLCJsYW5ndWFnZS1zYXZlZC1yZXN1bHRzLWl0ZW0tcmVuYW1lLWRlc2NyaXB0aW9uIjoiR2l2ZSBzYXZlZCByZXN1bHRzICd7MH0nIGEgbmV3IG5hbWUiLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1kZWxldGUtdG9vbHRpcCI6IkRlbGV0ZSBhbiBleGlzdGluZyBkcmF3aW5nIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1pbml0aWFsaXplLXNpdGUiOiJUZWxscyB0aGUgR2VvY29ydGV4IEVzc2VudGlhbHMgU2l0ZSBvYmplY3QgdG8gYmVnaW4gaW5pdGlhbGl6YXRpb24uIiwibGFuZ3VhZ2UtdG9vbGJhci1uYXRpdmUtc2hvd29mZmxpbmVtYXBzIjoiT2ZmbGluZSBNYXBzIiwibGFuZ3VhZ2UtYWNjZXNzaWJpbGl0eS1tYXAtY29vcmRpbmF0ZXMtZWFzdCI6InswfSDCsCBFYXN0IiwibGFuZ3VhZ2UtbWVudS1idWZmZXItaWRlbnRpZnktZmVhdHVyZSI6IlNob3cgQnVmZmVyIE9wdGlvbnMiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1kcmF3bW9kZS1jaXJjbGUiOiJDaXJjbGUiLCJsYW5ndWFnZS10b29sYmFyLW9wZW4tdG9vbGJhciI6Ik9wZW4gdG9vbGJhciIsImxhbmd1YWdlLXByb2plY3RzLXNvcnQtbmFtZS1kaXNwbGF5LW5hbWUiOiJQcm9qZWN0IE5hbWUiLCJsYW5ndWFnZS1zbmFwcGluZy1lcnJvciI6IkFuIGVycm9yIG9jY3VyZWQgZHVyaW5nIHNuYXBwaW5nLiIsImxhbmd1YWdlLXRvb2xiYXItdGFiLW1hcCI6Ik1hcCIsImxhbmd1YWdlLXRvb2xiYXItbmF2aWdhdGlvbiI6Ik5hdmlnYXRpb24iLCJsYW5ndWFnZS1tYXAtdGlwLWNsb3NlIjoiQ2xvc2UgTWFwIFRpcCIsImxhbmd1YWdlLW1lYXN1cmVtZW50LW1lYXN1cmUtYXJlYS10b29sLXN0YXR1cyI6IkNsaWNrIG9yIHRhcCB0byBkcmF3IGEgbXVsdGktc2lkZWQgc2hhcGUgYW5kIGZpbmQgYXJlYS4gRG91YmxlLWNsaWNrL3RhcCB0byBmaW5pc2guIiwibGFuZ3VhZ2Utc3ltYm9sb2d5LXNldHRpbmdzLWxpbmUtc3R5bGUtbG9uZ2Rhc2hkb3QiOiJMb25nLWRhc2gtZG90IiwibGFuZ3VhZ2UtdG9vbGJhci10YXNrcy1wcmludC1tYXAiOiJQcmludCIsImxhbmd1YWdlLWJ1ZmZlci1lcnJvci1pZGVudGlmeS1idWZmZXJlZC1mZWF0dXJlLXNldCI6IkNvdWxkIG5vdCBleGVjdXRlIElkZW50aWZ5QnVmZmVyZWRGZWF0dXJlU2V0IG9wZXJhdGlvbi4gRmVhdHVyZSBTZXQgb3IgRmVhdHVyZSBTZXQgQ29sbGVjdGlvbiBub3QgZm91bmQuIiwibGFuZ3VhZ2UtZ2VvbG9jYXRlLWZvbGxvdy1kZXNjIjoiS2VlcCB0aGUgc2NyZWVuIGNlbnRlcmVkIG9uIHlvdXIgbG9jYXRpb24uIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLWRlZ3JlZXMtdGl0bGUiOiJEZWdyZWVzIiwibGFuZ3VhZ2UtcHJpbnRpbmctcHJpbnQtcmVxdWVzdC1zdGF0dXMtZGVzY3JpcHRpb24iOiJUbyB2aWV3IHRoZSBzdGF0dXMsIHBsZWFzZSBjbGljayAnUHJpbnQgSm9iIFN0YXR1cycgYW5kIHJlZnJlc2guIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtbWVhc3VyZS1jaXJjbGUtdG9vbC1uYW1lIjoiQ2lyY2xlIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLW1vZHVsZS10aXRsZSI6IkZlYXR1cmUgRWRpdGluZyIsImxhbmd1YWdlLXRvb2xiYXItYXJjZ2lzLWV4cG9ydC13ZWItbWFwIjoiU2F2ZSB0byBBcmNHSVMiLCJsYW5ndWFnZS10YWJsZS1yZWNvcmQtcmVzdWx0cy1kaWFsb2ctYnV0dG9uLXByb2NlZWQiOiJEb25lIiwibGFuZ3VhZ2UtdG9vbGJhci1zbmFwcGluZy1lbmFibGUiOiJFbmFibGUgU25hcHBpbmciLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLWNsb3NlLXJlc3VsdHMtZnJhbWUiOiJEZWFjdGl2YXRlcyB0aGUgUmVzdWx0c1JlZ2lvbi4iLCJsYW5ndWFnZS10b29sYmFyLWdyb3VwLTNyZC1wYXJ0eS1tYXBzIjoiTGlua2VkIE1hcHMiLCJsYW5ndWFnZS10YWJsZS1tYXBwaW5nLXNvdXJjZS1zcGF0aWFsLXJlZmVyZW5jZSI6IlNwYXRpYWwgUmVmZXJlbmNlIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1hY3RpdmF0ZS12aWV3IjoiQWN0aXZhdGVzIGEgdmlldy4iLCJsYW5ndWFnZS13b3JrZmxvdy1yZXBvcnQtdXJsLXRleHQiOiJDbGljayBoZXJlLiIsImxhbmd1YWdlLXJlc3VsdHMtdG9nZ2xlLXRhYmxlLXZpZXciOiJTd2l0Y2ggdG8gVGFibGUiLCJsYW5ndWFnZS10b29sYmFyLW1lbnUtZ2xvYmFsLXNhdmUtZGVzYyI6IlNhdmUgdGhlIHN0YXRlIG9mIHlvdXIgdmlld2VyIGluIGEgcHJvamVjdCIsImxhbmd1YWdlLXBsb3Rjb29yZGluYXRlcy1hZGQtY29vcmRpbmF0ZS1idXR0b24tdGl0bGUiOiJDbGljayB0byBhZGQgdGhpcyBjb29yZGluYXRlIHRvIHRoZSBtYXAiLCJsYW5ndWFnZS1tYXJrdXAtY2hhbmdlLXRleHQtdGV4dCI6IkVudGVyIG5ldyB0ZXh0LiIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1zeW5jLXNob3ctZGV0YWlscyI6IkRldGFpbHMiLCJsYW5ndWFnZS1sZWdlbmQtbm8taXRlbXMiOiJObyBpdGVtcyB0byBkaXNwbGF5LiIsImxhbmd1YWdlLWxheWVyLXNlbGVjdG9yLWRlZmF1bHQtY2xlYXItYWxsLXRvb2x0aXAiOiJDbGVhciBhbGwgbGF5ZXJzIiwibGFuZ3VhZ2UtYnVmZmVyLXVuaXQteWFyZC1kaXNwbGF5LW5hbWUiOiJZYXJkcyAoeWQpIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLWRlbGV0ZS1hbGwtY29vcmRpbmF0ZXMiOiJEZWxldGUgQWxsIENvb3JkaW5hdGVzIiwibGFuZ3VhZ2UtYmFzZW1hcC1zbGlkZXItdG9nZ2xlLWJ1dHRvbiI6Ik9wZW4gYW5kIGNsb3NlIGJhc2VtYXAgc2xpZGVyIiwibGFuZ3VhZ2UtZmVhdHVyZS1jb29yZGluYXRlcy1sYXQtbG9uZyI6IkxhdC9Mb25nIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1iYXNlbWFwcy1leHBvcnR0aWxlcy1lcnJvci1hdXRoIjoiQWNjZXNzIGRlbmllZCB0byB0aGUgY29uZmlndXJlZCBNYXAgU2VydmljZSBmb3IgdGhlIEN1c3RvbSBPZmZsaW5lIEJhc2VtYXAuIiwibGFuZ3VhZ2UtbWVudS1leHBvcnQtcmVzdWx0cy10by14bHN4LWRlc2MiOiJFeHBvcnQgcmVzdWx0cyB0byBYTFNYIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWNvbmZpcm0tbG93LWFjY3VyYWN5LWdlb2xvY2F0aW9uLXRpdGxlIjoiR2VvbG9jYXRpb24gUmVzdWx0IiwibGFuZ3VhZ2UtdXBsb2FkLWRpYWxvZy1idXR0b24tY2FuY2VsIjoiQ2FuY2VsIiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLW5vdC1hdmFpbGFibGUtb2ZmbGluZSI6IiIsImxhbmd1YWdlLWhlYXQtbWFwcy1uby1maWVsZHMiOiJObyBhdmFpbGFibGUgZmllbGRzIiwibGFuZ3VhZ2UtdXBsb2FkLWRpYWxvZy1kZXNjcmlwdGlvbiI6IkNob29zZSBmaWxlcyB0byB1cGxvYWQgZnJvbSB5b3VyIGNvbXB1dGVyLCBhbmQgdGhleSB3aWxsIGJlY29tZSB0ZW1wb3JhcmlseSBhdmFpbGFibGUgb24gdGhlIG1hcC4iLCJsYW5ndWFnZS1tZW51LW9mZmxpbmUtbWFwLWVkaXRvci1nZW9tZXRyeS1hY3Rpb25zLWNsZWFyIjoiQ2xlYXIiLCJsYW5ndWFnZS1iYXNlbWFwLXN3aXRjaGVyLXN3aXRjaCI6IlNlbGVjdCBhIGJhc2VtYXAiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXNldC1lZGl0b3ItZmVhdHVyZS1nZW9tZXRyeSI6IlNldHMgdGhlIGdlb21ldHJ5IG9mIHRoZSBmZWF0dXJlIHRoYXQgaXMgY3VycmVudGx5IGJlaW5nIGVkaXRlZCBpbiB0aGUgQXR0cmlidXRlIEVkaXRvciwgYW5kIGFjdGl2YXRlcyB0aGUgQXR0cmlidXRlRWRpdG9yIFZpZXcuIiwibGFuZ3VhZ2UtbWFwLXNjYWxlIjoiTWFwIFNjYWxlIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1wYW4tdG8tZmVhdHVyZSI6IlBhbnMgdG8gdGhlIEdlb2NvcnRleCBmZWF0dXJlLiIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1sYXN0LXN5bmMtdGltZSI6Ikxhc3Qgc3luYzogIiwibGFuZ3VhZ2UtbWVudS1tYXB0aXAtYWN0aW9ucy12aWV3LWRldGFpbHMiOiJWaWV3IEFkZGl0aW9uYWwgRGV0YWlscyIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tZGlzcGxheS13b3JrZmxvdy1jb250YWluZXItY29udGVudCI6IkRpc3BsYXlzIGEgdmlldyBpbiBhIHdvcmtmbG93IGNvbnRhaW5lci4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC11bml0LWtpbG9tZXRlci1zaG9ydCI6ImttIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWVkaXQtZGVzYyI6IkVkaXQgdGhlIGF0dHJpYnV0ZXMgb2YgdGhlIGZlYXR1cmUiLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtZW1wdHktb2ZmbGluZSI6IlVuYWJsZSB0byBjb250YWN0IHRoZSBPZmZsaW5lIE1hcHMgc2VydmVyLiAgQ2hlY2sgeW91ciBuZXR3b3JrIGNvbm5lY3Rpb24uIiwibGFuZ3VhZ2UtbWVudS1sYXRpdHVkZS1nZW9ncmFwaGljcy1kZXNjIjoiTGF0aXR1ZGUgR2VvZ3JhcGhpY3MgR3JvdXAgTHRkLiIsImxhbmd1YWdlLW1lbnUtZ2xvYmFsLXNhdmUtYXMiOiJTYXZlIGFzIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWNyZWF0ZS1lZGl0LW5vLWZlYXR1cmVzLWZvdW5kIjoiTm8gZmVhdHVyZXMgd2VyZSBmb3VuZCB3aXRoIG1hdGNoaW5nIHZhbHVlLiBXaGF0IHdvdWxkIHlvdSBsaWtlIHRvIGRvPyIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1jaXJjbGUtdG9vbCI6IkRyYWcgb24gdGhlIG1hcCB0byBkcmF3IGEgY2lyY2xlIiwibGFuZ3VhZ2Utc3ltYm9sb2d5LXNldHRpbmdzLWZpbGwtc3R5bGUtYmFja3dhcmQtZGlhZ29uYWwiOiJCYWNrd2FyZCBEaWFnb25hbCIsImxhbmd1YWdlLW1lbnUtZ2xvYmFsLXNhdmUiOiJTYXZlIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1zaG93LWZlYXR1cmUtZGV0YWlscyI6IkNyZWF0ZXMgYW5kIGRpc3BsYXlzIHRoZSBGZWF0dXJlIERldGFpbHMgZGlhbG9nIGZvciB0aGUgZmVhdHVyZSBvciBmZWF0dXJlIHNldCBjb2xsZWN0aW9uIHNwZWNpZmllZC4iLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtZWRpdC1jb29yZGluYXRlLWRlc2MiOiJFZGl0IHRoZSBsb2NhdGlvbiBvZiB0aGlzIGNvb3JkaW5hdGUuIiwibGFuZ3VhZ2UtdGFibGUtbWFwcGluZy1nZW5lcmF0ZWQtY29sdW1uLXByZWZpeCI6IkNvbHVtbiIsImxhbmd1YWdlLXJ1bi1yZXBvcnQtY29tcGxldGUtaGVhZGluZy1zeW5jIjoiUmVwb3J0IFJlYWR5IiwibGFuZ3VhZ2UtbGVnZW5kLWttbC1kZWZhdWx0LXRpdGxlIjoiS01MIiwibGFuZ3VhZ2UtZnJhbWV3b3JrLXVpLXZpZXctY29udGFpbmVyLXZpZXctY2xvc2UiOiJDbG9zZSB7MH0iLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1mcmVlaGFuZC10b29sdGlwIjoiRHJhdyBhIGZyZWVoYW5kIGxpbmUgb24gdGhlIG1hcCIsImxhbmd1YWdlLWxheWVybGlzdC1vcGFjaXR5LXNsaWRlci1kZXNjcmlwdGlvbiI6ImxheWVyIG9wYWNpdHkiLCJsYW5ndWFnZS10b29sYmFyLWlkZW50aWZ5LWxheWVycy1jaGFuZ2UtdG9vbHRpcCI6IkVuYWJsZS9EaXNhYmxlIGxheWVycyBzZWxlY3RlZCBmb3IgaWRlbnRpZnkgb3BlcmF0aW9ucyIsImxhbmd1YWdlLW1lYXN1cmVtZW50LWFsZXJ0LXRpdGxlIjoiTWVhc3VyZW1lbnQgVG9vbHMgU3RhdHVzIEFsZXJ0IiwibGFuZ3VhZ2UtbGF5ZXJsaXN0LXNlcnZpY2UtdW5hdmFpbGFibGUiOiJUaGlzIHNlcnZpY2UgbWF5IGJlIGN1cnJlbnRseSB1bmF2YWlsYWJsZS4iLCJsYW5ndWFnZS1wcm9qZWN0LXN0YXR1cy1zYXZlZC1jb21wbGV0ZSI6IllvdXIgcHJvamVjdCBoYXMgYmVlbiBzYXZlZC4iLCJsYW5ndWFnZS1zeW1ib2xvZ3ktc2V0dGluZ3MtbGluZS1zdHlsZS1udWxsIjoiTm9uZSIsImxhbmd1YWdlLXByb2plY3QtY29uZmlybS1zdG9wLXNoYXJpbmctZGVzY3JpcHRpb24iOiJBcmUgeW91IHN1cmUgeW91IHdpc2ggdG8gc3RvcCBzaGFyaW5nIHByb2plY3QgXCJ7MH1cIj8gVGhpcyB3aWxsIHJlbW92ZSBhY2Nlc3MgdG8gdGhlIHByb2plY3QgZXhjZXB0IGZvciB5b3UgYW5kIGFueSBvdGhlciBvd25lcnMuIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtdW5pdC1uYXV0aWNhbG1pbGUtc2hvcnQiOiJOTSIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1jYW5ub3QtY3JlYXRlIjoiWW91IG11c3QgYmUgbG9nZ2VkIGluIHRvIGNyZWF0ZSBvZmZsaW5lIG1hcHMuIiwibGFuZ3VhZ2UtY29tbW9uLWRlYnVnLWxvZy1rZXlzIjoiVG8gdmlldyB0aGUgbG9nIG9uIGEgZGVza3RvcCBtYWNoaW5lLCBwcmVzcyBDdHJsICsgU2hpZnQgKyB+LiBPbiBhIG1vYmlsZSBkZXZpY2UsIHByZXNzIGFuZCBob2xkIHRoZSB0b29sYmFyLiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tYWN0aXZhdGUtY29udGFpbmVycy1mb3Itd29ya2Zsb3ciOiJBY3RpdmF0ZXMgYW55IHdvcmtmbG93IGNvbnRhaW5lciB2aWV3cyBhc3NvY2lhdGVkIHdpdGggYSBnaXZlbiB3b3JrZmxvdy4iLCJsYW5ndWFnZS1jYXB0dXJlLWdlb21ldHJ5LXJlcXVpcmVkLW1lc3NhZ2UiOiJQbGVhc2Ugc2VsZWN0IGEgZ2VvbWV0cnkgb24gdGhlIG1hcCB0byBwcm9jZWVkIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLXN0b3AtZWRpdGluZy1nZW9tZXRyeS1jYXB0aW9uIjoiU2F2ZSBHZW9tZXRyeSIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXVuaXQtbmF1dGljYWxtaWxlIjoiTmF1dGljYWwgTWlsZXMgKE5NKSIsImxhbmd1YWdlLXNlYXJjaC1pbnN0YW50LXByb3ZpZGVyLXNlYXJjaC1jb21wbGV0ZWQiOiJGaW5pc2hpbmcgaW5zdGFudCBzZWFyY2guIiwibGFuZ3VhZ2UtY29tbW9uLXNob3ciOiJTaG93IiwibGFuZ3VhZ2UtY29tbW9uLXJlc3VsdHMtaW50ZXJzZWN0LWNvbmZpcm1hdGlvbiI6Iid7MH0nIGludGVyc2VjdGVkIHdpdGggezF9IiwibGFuZ3VhZ2UtZmVhdHVyZS1kZXRhaWxzLWZvciI6IkRldGFpbHMgRm9yIiwibGFuZ3VhZ2UtZ2VvbG9jYXRlLWZpbmQiOiJGaW5kIE1lIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtdGV4dC1kZXNjIjoiQ2xpY2sgYSBsb2NhdGlvbiB3aGVyZSB5b3Ugd2FudCB0byBhZGQgdGV4dCBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWRhdGEtZnJhbWUtcmVzdWx0cy1jb250YWluZXIiOiJEYXRhIEZyYW1lIFJlc3VsdHMgQ29udGFpbmVyIHswfSIsImxhbmd1YWdlLXByb2plY3RzLWZpbHRlci1wbGFjZWhvbGRlciI6IkZpbHRlciBQcm9qZWN0cy4uLiIsImxhbmd1YWdlLW1lbnUtY29tYmluZS1yZXN1bHRzLXVuaW9uIjoiQWRkIHRvIHJlc3VsdHMiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctZXJyb3ItdGl0bGUiOiJFcnJvciIsImxhbmd1YWdlLXByb2plY3Qtc3RhdHVzLXNhdmVkLWRlc2NyaXB0aW9uIjoiVG8gb3BlbiB0aGlzIHByb2plY3QsIHVzZSB0aGUgT3BlbiBQcm9qZWN0IGJ1dHRvbi4gVG8gc2hhcmUgdGhpcyBwcm9qZWN0IHdpdGggb3RoZXJzLCB1c2UgdGhlIFNoYXJlIGJ1dHRvbi4iLCJsYW5ndWFnZS10b29sYmFyLW1hcmt1cC1wb2x5Z29uIjoiUG9seWdvbiIsImxhbmd1YWdlLWJhbm5lci1zdWItdGl0bGUiOiIiLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtZGVsZXRlLWNvb3JkaW5hdGUiOiJEZWxldGUiLCJsYW5ndWFnZS1tZW51LW1hcC1jb250ZXh0LW1lbnUtdGl0bGUiOiJQb2ludCBPcHRpb25zIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLW1ibC1yZWN0YW5nbGUtdG9vbCI6IkRyYWcgb24gdGhlIG1hcCB0byBkcmF3IGEgcmVjdGFuZ2xlLiIsImxhbmd1YWdlLWNhcHR1cmUtZ2VvbWV0cnktcG9pbnQta2V5Ym9hcmQiOiJVc2UgYXJyb3dzIHRvIG1vdmUgdGhlIHBvaW50LiBIaXQgRU5URVIgdG8gZmluaXNoLiIsImxhbmd1YWdlLXRhYmxlLW1hcHBpbmcteC1heGlzIjoiWCBBeGlzIENvbHVtbiIsImxhbmd1YWdlLXVwbG9hZC1kaWFsb2ctdmFsaWRhdGlvbi1lcnJvci1zaGFwZWZpbGUtaW5jb21wbGV0ZS1tZXNzYWdlIjoiU2hhcGVmaWxlIHVwbG9hZHMgbXVzdCBpbmNsdWRlIGF0IGxlYXN0IHRoZSBwcmltYXJ5ICcuc2hwJyBmaWxlLiIsImxhbmd1YWdlLWJhc2VtYXAtc3dpdGNoZXItbGF5ZXItdGhlbWVzIjoiTGF5ZXIgVGhlbWVzIiwibGFuZ3VhZ2UtcHJvamVjdHMtZGVzY3JpcHRpb24tbGVzcyI6Ikxlc3MiLCJsYW5ndWFnZS1pZGVudGlmeS1saW5lLXRvb2wiOiJEcmFnIG9uIHRoZSBtYXAgdG8gZHJhdyBhIGxpbmUuIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1nZXQtZmVhdHVyZS1kZXRhaWxzLXByb3ZpZGVycyI6IkNyZWF0ZXMgdmlldyBmb3IgYWxsIGNvbmZpZ3VyZWQgZmVhdHVyZSBkZXRhaWxzIHByb3ZpZGVycyBhbmQgZW1iZWRzIHRoZW0gaW50byBmZWF0dXJlIGRldGFpbHMgZGlhbG9nLiIsImxhbmd1YWdlLXRvb2xiYXItaWRlbnRpZnktcG9pbnQtdG9vbHRpcCI6IkZpbmQgb3V0IGFib3V0IGEgbG9jYXRpb24gb24gdGhlIG1hcCIsImxhbmd1YWdlLXNoZWxsLWRhdGFmcmFtZS1kaXNhYmxlZCI6IlRoZXJlIGlzIGN1cnJlbnRseSBubyBjb250ZW50IGluIHRoaXMgdmlldyIsImxhbmd1YWdlLWJ1ZmZlci1lcnJvci1pbnZhbGlkLXJlc3VsdHMiOiJUaGUgYnVmZmVyIG9wZXJhdGlvbiByZXR1cm5lZCBpbnZhbGlkIHJlc3VsdHMuIiwibGFuZ3VhZ2UtY29tcGFjdC10b29sYmFyLWJ1dHRvbi1kZXNjcmlwdGlvbiI6IlRvb2xzIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1hZGQtc3RhdHVzIjoiQWRkcyBhIHN0YXR1cyBpbmRpY2F0b3IgdG8gdGhlIHNjcmVlbi4iLCJsYW5ndWFnZS1wcmludC1tYXAiOiJQcmludCBNYXAiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctbXVsdGktZmVhdHVyZS1zZWxlY3RvciI6IlNlbGVjdCBGZWF0dXJlIEZvciBFZGl0aW5nIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWdlb21ldHJ5LXBvaW50IjoiTW92ZSB0aGUgc2VsZWN0ZWQgcG9pbnQgYnkgaG9sZGluZyBkb3duIG9uIGl0IGFuZCBkcmFnZ2luZy4gUmVsZWFzZSB0byBzdG9wIiwibGFuZ3VhZ2UtbWFwLWNvb3JkaW5hdGVzLVhZIjoiWC9ZIiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1kZWxldGUtcmVsYXRlZC1yZWNvcmQiOiJEZWxldGVzIGEgcmVsYXRlZCB0YWJsZSByZWNvcmQuIiwibGFuZ3VhZ2UtYWxlcnQtZGVmYXVsdC10aXRsZSI6IkFsZXJ0IiwibGFuZ3VhZ2UtaGVhdC1tYXBzLWludGVuc2l0eS1zbGlkZXItbWF4LWxhYmVsIjoiMTAwIiwibGFuZ3VhZ2UtYnVmZmVyLWVycm9yLXVuaW9uLW9wZXJhdGlvbiI6IkEgdW5pb24gY291bGQgbm90IGJlIHBlcmZvcm1lZCBvbiB0aGUgYnVmZmVyIG9wZXJhdGlvbiByZXN1bHRzLiIsImxhbmd1YWdlLW1lbnUtaWRlbnRpZnkiOiJGaW5kIGRhdGEgb24gdGhlIG1hcCIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1zaXplIjoiU2l6ZTogIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWNyZWF0ZS1lZGl0IjoiQ3JlYXRlIE9yIEVkaXQgRmVhdHVyZSIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3Itc2hhcmluZy10ZXh0LW5vbmUiOiJUaGlzIG9mZmxpbmUgbWFwIGlzIHNoYXJlZCB3aXRoIG5vIG9uZS4iLCJsYW5ndWFnZS1tZW51LXByb2plY3RzLWFjdGlvbnMtZGVzYyI6IlByb2plY3RzIEFjdGlvbnMiLCJsYW5ndWFnZS1tZW51LW5vLWl0ZW1zIjoiTm8gbWVudSBvcHRpb25zLiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LWFkZC1hcy1kcmF3aW5nIjoiUHJlc2VydmUiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWxheWVycy1lcnJvci1lbXB0eSI6IlRoZSBvZmZsaW5lIG1hcCBuZWVkcyBhdCBsZWFzdCBvbmUgbGF5ZXIuIiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtZGVsZXRlIjoiRXJhc2UiLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWJhc2VtYXBzLW5vbmVzdXBwb3J0ZWQiOiJObyBQcmUtZ2VuZXJhdGVkIG9yIEN1c3RvbSBPZmZsaW5lIEJhc2VtYXAgaXMgY29uZmlndXJlZC4iLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXJlZ2lzdGVyLXNlYXJjaC1wcm92aWRlciI6IlJlZ2lzdGVycyBhIHNlYXJjaCBwcm92aWRlciBpZiBub3QgYWxyZWFkeSByZWdpc3RlcmVkLiIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1jcmVhdGUtZWRpdC1zZWxlY3QtZ2VvbWV0cnkiOiJTZWxlY3QgR2VvbWV0cnkgSW5wdXQiLCJsYW5ndWFnZS10YWJsZS1tYXBwaW5nLXZhbGlkYXRpb24tZXJyb3ItYXhlcy1tdXN0LWJlLXVuaXF1ZS1tZXNzYWdlIjoiQ29vcmRpbmF0ZSBheGVzIG11c3QgYmUgYXNzaWduZWQgdG8gcmVzcGVjdGl2ZWx5IHVuaXF1ZSB0YWJsZSBjb2x1bW5zLiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXJlc3VsdHMtZmVhdHVyZS1kZXNjcmlwdGlvbi1zZWdtZW50IjoiTGVuZ3RoOiB7TGVuZ3RofXtVbml0c31cbkFuZ2xlOiB7QW5nbGV9XG5CZWFyaW5nOiB7QmVhcmluZ30iLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtc2hvdy1hbGwtY29vcmRpbmF0ZXMiOiJTaG93IEFsbCBDb29yZGluYXRlcyIsImxhbmd1YWdlLWdlb2xvY2F0ZS10cmFjay1kZXNjIjoiS2VlcCBhbiBpbmRpY2F0b3Igb24geW91ciBsb2NhdGlvbi4iLCJsYW5ndWFnZS1zYXZlZC1yZXN1bHRzLXVwZGF0ZS1jb25maXJtYXRpb24iOiJTYXZlZCByZXN1bHRzICd7MH0nIHVwZGF0ZWQgd2l0aCB7MX0gZmVhdHVyZXMiLCJsYW5ndWFnZS1zaGFyZS1wcm9qZWN0LXNhdmUtYnV0dG9uLXRpdGxlIjoiU2F2ZSB0aGUgc2hhcmluZyBzZXR0aW5ncyIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tc2hvdy1yZXN1bHRzLWxpc3QiOiJEaXNwbGF5cyB0aGUgbGlzdCBvZiBmZWF0dXJlcyBpbiB0aGUgZ2l2ZW4gZmVhdHVyZSBzZXQgY29sbGVjdGlvbiBhcyBhIGxpc3QuIiwibGFuZ3VhZ2UtdG9vbGJhci10b29sYmFyIjoiVG9vbGJhciIsImxhbmd1YWdlLW5hdGl2ZS1mZWF0dXJlLW5vLWxheWVyIjoiRXJyb3I6IFRoaXMgZmVhdHVyZSBkb2VzIG5vdCBzZWVtIHRvIGJlIGFzc29jaWF0ZWQgd2l0aCBhbnkgbGF5ZXIuIFBsZWFzZSB0cnkgaWRlbnRpZnlpbmcgdGhlIGZlYXR1cmUgYWdhaW4uIiwibGFuZ3VhZ2UtdG9vbGJhci1pZGVudGlmeS1wb2x5bGluZS1kZXNjIjoiVG8gbGVhcm4gd2hhdFx1MjAxOXMgdGhlcmUsIGRyYXcgYSBsaW5lIG9mIGludGVyZXN0IGFsb25nIHRoZSBtYXAuIERvdWJsZS1jbGljay90YXAgdG8gZmluaXNoLiIsImxhbmd1YWdlLXNoZWxsLWRhdGFmcmFtZS1kaXNhYmxlZC1ob21lLXBhbmVsIjoiT3BlbiB0aGUgSG9tZSBQYW5lbCIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1jcmVhdGUtZWRpdC11c2UtY3VycmVudC1sb2NhdGlvbiI6IlVzZSBteSBsb2NhdGlvbiIsImxhbmd1YWdlLW1lbnUtc2F2ZS1yZXN1bHRzIjoiU2F2ZSBSZXN1bHRzIiwibGFuZ3VhZ2UtY2FwdHVyZS1nZW9tZXRyeS1wb2x5bGluZSI6IkRyYXcgYSBsaW5lIG9uIHRoZSBtYXAuIERvdWJsZS1jbGljayB0byBmaW5pc2guIiwibGFuZ3VhZ2UtYnVmZmVyLWludmFsaWQtZGlzdGFuY2UiOiJUaGUgZGlzdGFuY2UgbXVzdCBiZSBhIG5vbi16ZXJvIG51bWJlci4gSWYgZXh0cmVtZSBudW1iZXJzIGFyZSBlbnRlcmVkLCBidWZmZXJpbmcgbWF5IGZhaWwuIiwibGFuZ3VhZ2Utc3ltYm9sb2d5LXNldHRpbmdzLWZpbGwtc3R5bGUtZm9yd2FyZC1kaWFnb25hbCI6IkZvcndhcmQgRGlhZ29uYWwiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctZHNrLWZyZWVoYW5kLXBvbHlsaW5lLXRvb2wiOiJEcmFnIG9uIHRoZSBtYXAgdG8gZHJhdyBhIGZyZWVoYW5kIGxpbmUiLCJsYW5ndWFnZS1nZW9sb2NhdGUtZm9sbG93LWluLXByb2dyZXNzIjoiRm9sbG93aW5nIHZpYSBnZW9sb2NhdGlvbi4uLiIsImxhbmd1YWdlLWF1dGgtYXV0aGVudGljYXRpbmciOiJBdXRoZW50aWNhdGluZy4uLiIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWV4cG9ydCI6IkV4cG9ydCBEcmF3aW5ncyIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWJ1dHRvbiI6IkxheWVycyIsImxhbmd1YWdlLW1lbnUtbWVudXMtZGVzY3JpcHRpb24iOiJJIFdhbnQgVG8uLi4gTWVudXMiLCJsYW5ndWFnZS1tZW51LWxpc3Qtb2ZmbGluZS1tYXBzLWFjdGlvbnMtcmVmcmVzaC1kZXNjIjoiUmVmcmVzaCB0aGUgbGlzdCBvZiBvZmZsaW5lIG1hcHMuIiwibGFuZ3VhZ2UtbWFwLXNpdGUtY3JpdGljYWwtc2VydmljZXMtZmFpbGVkLW1lc3NhZ2UiOiJUaGUgYXBwbGljYXRpb24gY2Fubm90IGJlIHVzZWQgYXQgdGhpcyB0aW1lLiIsImxhbmd1YWdlLXNlbGVjdC1mZWF0dXJlcy1pbnRlcnNlY3QtY29uZmlybWF0aW9uIjoiJ3swfScgaW50ZXJzZWN0ZWQgd2l0aCB7MX0gZmVhdHVyZShzKSIsImxhbmd1YWdlLWxheWVyLWRldGFpbHMtdmFsaWRhdGlvbi1lcnJvci1uYW1lLWNhbm5vdC1iZS1lbXB0eS1tZXNzYWdlIjoiUGxlYXNlIGVudGVyIGEgbmFtZSBmb3IgdGhlIGxheWVyLiIsImxhbmd1YWdlLXRvb2xiYXItY2hhcnRpbmctc2hvdy1jaGFydHMtdG9vbHRpcCI6IkxhdW5jaCB0aGUgY2hhcnRpbmcgdmlldyIsImxhbmd1YWdlLWhlYXQtbWFwcy1uYW1lIjoiSGVhdCBNYXAiLCJsYW5ndWFnZS1jb21tb24tc2hvdy1kZXRhaWxzIjoiU2VlIERldGFpbHMiLCJsYW5ndWFnZS10b29sYmFyLWdyb3VwLWdsb2JhbC10YXNrcyI6Ikdsb2JhbCBUYXNrcyIsImxhbmd1YWdlLXRvb2xiYXItZWRpdGluZy1jcmVhdGUtbmV3LWZlYXR1cmUtdG9vbHRpcCI6IkNyZWF0ZSBhIG5ldyBmZWF0dXJlIG9uIHRoZSBtYXAiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXNob3ctZmVhdHVyZS10ZW1wbGF0ZS1waWNrZXIiOiJTaG93cyB0aGUgZmVhdHVyZSB0ZW1wbGF0ZSBwaWNrZXIgdXNlZCB0byBjcmVhdGUgbmV3IGZlYXR1cmVzLiBJZiBhIGxheWVyIGlzIHN1cHBsaWVkLCBzaG93cyB0aGUgdGVtcGxhdGVzIGZvciB0aGUgbGF5ZXIuIiwibGFuZ3VhZ2UtbWVudS1wbG90LWNvb3JkaW5hdGUiOiJQbG90IGEgQ29vcmRpbmF0ZSIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXVuaXQtZmVldC1zaG9ydCI6ImZ0IiwibGFuZ3VhZ2UtdXBsb2FkZXItZXJyb3ItdW5rbm93bi1tZXNzYWdlIjoiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZC4iLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtc3luYy1zeW5jaW5nLXByb2ZpbGUiOiJTeW5jaW5nIG9mZmxpbmUgbWFwOiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tYWxlcnQiOiJEaXNwbGF5cyBhbiBhbGVydC4iLCJsYW5ndWFnZS1mZWF0dXJlLWRldGFpbHMtdGl0bGUiOiJGZWF0dXJlIERldGFpbHMiLCJsYW5ndWFnZS1tZW51LWFjY2Vzc2liaWxpdHktcGFuZWwtZGVzYyI6IlZpZXcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGFjY2Vzc2liaWxpdHkgb2YgdGhpcyBhcHBsaWNhdGlvbi4iLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC12aXNpYmxlLWZlYXR1cmUtaW5mb3JtYXRpb24iOiJ7MH0gZmVhdHVyZXMgdmlzaWJsZSBvbiB7MX0uIiwibGFuZ3VhZ2UtYnVmZmVyLWNhbmNlbC1idXR0b24tdGV4dCI6IkNhbmNlbCIsImxhbmd1YWdlLXByb2plY3RzLWNyZWF0ZWQtYnktbGFiZWwiOiJDcmVhdGVkIGJ5OiIsImxhbmd1YWdlLW1lbnUtc3dpdGNoLXRvLWxlZ2VuZC1kZXNjIjoiRGlzcGxheSB0aGUgbGVnZW5kIGZvciB2aXNpYmxlIGxheWVycyIsImxhbmd1YWdlLW9mZmxpbmVtYXBlZGl0b3ItbGF5ZXJzLWludmFsaWQtZGVmaW5pdGlvbi1leHByZXNzaW9uLXRpdGxlIjoiVGhlIGxheWVyIGRlZmluaXRpb24gZXhwcmVzc2lvbiBpcyBub3QgdmFsaWQuIiwibGFuZ3VhZ2UtbWFwLXNpdGUtY3JpdGljYWwtc2VydmljZXMtZmFpbGVkIjoiQ3JpdGljYWwgc2VydmljZXMgZmFpbGVkLiIsImxhbmd1YWdlLW1lbnUtc2V0dGluZ3MtZGVzY3JpcHRpb24iOiJNb2JpbGUgU2V0dGluZ3MiLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1leHBvcnQtbWFwIjoiRXhwb3J0IE1hcCB7MH0iLCJsYW5ndWFnZS10b29sYmFyLXRhYi10YXNrcyI6IlRhc2tzIiwibGFuZ3VhZ2UtdG9vbGJhci1ob21lLXRvb2x0aXAiOiJPcGVuIHRoZSBIb21lIFBhbmVsIiwibGFuZ3VhZ2UtZ2VvbG9jYXRlLXRyYWNrIjoiVHJhY2sgTWUiLCJsYW5ndWFnZS11cGxvYWRlci12YWxpZGF0aW9uLWVycm9yLW5vLWZpbGUtdGl0bGUiOiJObyBmaWxlIHNlbGVjdGVkLiIsImxhbmd1YWdlLW1lbnUtem9vbSI6Ilpvb20gdG8gRmVhdHVyZSIsImxhbmd1YWdlLWJvb2ttYXJrcy1jaG9vc2UiOiJKdW1wIHRvIGEgbWFwIGJvb2ttYXJrLi4uIiwibGFuZ3VhZ2UtbWVhc3VyZW1lbnQtcmVzdWx0cy1maWVsZC1zZWdtZW50IjoiU2VnbWVudCIsImxhbmd1YWdlLXF1ZXJ5YnVpbGRlci1vcGVyYXRvci1jb250YWlucyI6ImNvbnRhaW5zIiwibGFuZ3VhZ2UtY29tbW9uLWNsZWFyIjoiQ2xlYXIiLCJsYW5ndWFnZS1tZW51LWhvbWUtcGFuZWwiOiJWaWV3IHRoZSBob21lIHBhbmVsIiwibGFuZ3VhZ2UtbGVnZW5kLWhlYXQtbWFwcy1sb3ciOiJMb3ciLCJsYW5ndWFnZS1vZmZsaW5lLW1hcHMtbm90LW5hdGl2ZSI6Ik9mZmxpbmUgbWFwcyBjYW4gYmUgbWFuYWdlZCBmcm9tIHRoZSBicm93c2VyLCBidXQgY2FuIG9ubHkgYmUgdXNlZCBvZmZsaW5lIGluIHRoZSBuYXRpdmUgY2xpZW50LiIsImxhbmd1YWdlLW1lYXN1cmVtZW50LW1lYXN1cmUtZnJlZWhhbmQtbGluZS10b29sLXN0YXR1cyI6IkhvbGQgdGhlIG1vdXNlIGJ1dHRvbiBvciB5b3VyIGZpbmdlcnRpcCBkb3duLCB0aGVuIGRyYXcgYSBmcmVlaGFuZCBtZWFzdXJlbWVudCBsaW5lLiIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy11bmRvYWJsZS1jdXQiOiJDdXQgRmVhdHVyZXMiLCJsYW5ndWFnZS1tZW51LW9mZmxpbmUtbWFwLWVkaXRvci1nZW9tZXRyeS1hY3Rpb25zLWNpcmNsZSI6IkNpcmNsZSIsImxhbmd1YWdlLW5hdGl2ZS1hZGQtdG8tZmF2b3JpdGVzLWRlc2MiOiJBZGRzIHRoZSBjdXJyZW50IGFwcGxpY2F0aW9uIHRvIHRoZSBmYXZvcml0ZXMgb24gdGhlIG1haW4gbWVudS4iLCJsYW5ndWFnZS10b29sYmFyLW5hdmlnYXRpb24tem9vbS1vdXQtdG9vbHRpcCI6IkRyYXcgYW4gYXJlYSBvZiBpbnRlcmVzdCBvbiB0aGUgbWFwIGFuZCB6b29tIG91dCwga2VlcGluZyB0aGUgYXJlYSBjZW50ZXJlZCIsImxhbmd1YWdlLXRvb2xiYXItc25hcHBpbmctYWx0LWRpc2FibGUiOiJEaXNhYmxlIHNuYXBwaW5nIGZvciBhY3RpdmUgdG9vbCIsImxhbmd1YWdlLWJ1ZmZlci1jbGVhci1idXR0b24tdGV4dCI6IkNsZWFyIiwibGFuZ3VhZ2UtdXBsb2FkLWRhdGEtZXJyb3ItZ2VvY29kaW5nLXVuYXV0aGVudGljYXRlZCI6Ikdlb2NvZGVyIEF1dGhlbnRpY2F0aW9uIEVycm9yIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLXVuZG9hYmxlLXVuaW9uIjoiVW5pb24gRmVhdHVyZXMiLCJsYW5ndWFnZS1vZmZsaW5lLXByb3Zpc2lvbmluZy1zZWN1cmUtbGF5ZXJzLWVycm9yIjoiRXJyb3IgY2FjaGluZyBmZWF0dXJlIHNlcnZpY2UgezB9LiBUaGUgc2VydmljZSBtYXkgbmVlZCB0byBiZSBhbGxvd2VkIHRocm91Z2ggdGhlIHByb3h5IHBhZ2UuIiwibGFuZ3VhZ2UtbGlzdC1yZXBvcnRzLXRpdGxlIjoiQ2hvb3NlIFJlcG9ydCIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1nZW9tZXRyeS1kZWZhdWx0IjoiRWRpdCB0aGUgc2VsZWN0ZWQgZ2VvbWV0cnkuIiwibGFuZ3VhZ2Utb2ZmbGluZS1tYXBzLW9ycGhhbmVkIjoiUmVtb3ZlZCBmcm9tIFNlcnZlciIsImxhbmd1YWdlLXVwbG9hZC1kYXRhLWVycm9yLW11c3QtYmUtc2lnbmVkLWluLXRvLXB1Ymxpc2gtZ2VvZGF0YWJhc2UtbWVzc2FnZSI6IllvdSBhcmUgbm90IHNpZ25lZCBpbnRvIEFyY0dJUyBPbmxpbmUsIHdoaWNoIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIEdlb2RhdGFiYXNlcyBsaWtlIHRoZSBvbmUgeW91IHVwbG9hZGVkIG11c3QgYmUgcHVibGlzaGVkIGluIG9yZGVyIHRvIGZ1bmN0aW9uLiBQbGVhc2UgdHJ5IGFnYWluLiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tc2VhcmNoIjoiUGVyZm9ybXMgYSBzZWFyY2ggb24gYWxsIGFjdGl2ZSBwcm92aWRlcnMuIiwibGFuZ3VhZ2Utc2hhcmUtcHJvamVjdC1jYW5jZWwtYnV0dG9uLXRpdGxlIjoiQ2FuY2VsIFNoYXJlIFByb2plY3QiLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctY2FyZGluYWxpdHktdmlvbGF0aW9uIjoiVGhlIHZhbHVlICd7MH0nIGluIHsxfSB2aW9sYXRlcyByZWxhdGlvbnNoaXAgY2FyZGluYWxpdHkuIENoYW5nZXMgbm90IHNhdmVkLiIsImxhbmd1YWdlLXRvb2xiYXItbmF0aXZlLXNob3dvZmZsaW5lbWFwcy10b29sdGlwIjoiT3BlbiB0aGUgbGlzdCBvZiBvZmZsaW5lIG1hcHMiLCJsYW5ndWFnZS1xdWVyeWJ1aWxkZXItcXVlcnktbGF5ZXJzIjoiTGF5ZXJzOiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tY2xlYXItaGlnaGxpZ2h0cyI6IlJlbW92ZXMgdGhlIGhpZ2hsaWdodHMgZnJvbSB0aGUgYWN0aXZlIGhpZ2hsaWdodCBsYXllci4iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLWxheWVycy1hdHRhY2htZW50cy1sYWJlbCI6IkluY2x1ZGUgQXR0YWNobWVudHMiLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtY29vcmRpbmF0ZXMtbGFiZWwiOiJDb29yZGluYXRlIFN5c3RlbToiLCJsYW5ndWFnZS1wbG90Y29vcmRpbmF0ZXMtaW52YWxpZC1jb29yZGluYXRlLWFsZXJ0IjoiSW52YWxpZCBjb29yZGluYXRlcyBlbnRlcmVkLiBQbGVhc2UgY2hlY2sgeW91ciBlbnRyeSBhbmQgdHJ5IGFnYWluLiIsImxhbmd1YWdlLXByb2plY3QtZWRpdG9yLXRpdGxlIjoiRWRpdCBEZXRhaWxzIiwibGFuZ3VhZ2UtcXVlcnlidWlsZGVyLXNlbGVjdC1vcGVyYXRvciI6IlNlbGVjdCBvcGVyYXRvciIsImxhbmd1YWdlLXRvb2xiYXItbmF2aWdhdGlvbi1wcmV2aW91cy1leHRlbnQtdG9vbHRpcCI6Ilpvb20gdG8gdGhlIHByZXZpb3VzIGV4dGVudCIsImxhbmd1YWdlLW9mZmxpbmUtcHJvdmlzaW9uaW5nLXN1Y2NlZWRlZC10aXRsZSI6IkNvbXBsZXRlZCIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tY2FuY2VsLXNlYXJjaCI6IkNhbmNlbCB0aGUgc2VhcmNoIG9uIGFsbCBwcm92aWRlcnMuIiwibGFuZ3VhZ2UtY29tbW9uLXdvcmtmbG93IjoiV29ya2Zsb3ciLCJsYW5ndWFnZS1tZW51LWRvbmUiOiJEb25lIiwibGFuZ3VhZ2UtdXBsb2FkLWRhdGEtZXJyb3ItaW52YWxpZC1zaGFwZWZpbGUtbWVzc2FnZSI6IkNvdWxkIG5vdCBwdWJsaXNoIGJlY2F1c2UgdGhlIHNoYXBlZmlsZSBpcyBtaXNzaW5nIGEgJy5zaHAnLCAnLnNoeCcsIG9yICcuZGJmJyBmaWxlLiIsImxhbmd1YWdlLXRvb2xiYXItM3JkLXBhcnR5LW1hcHMtc2hvdy1tYXBzIjoiTGlua2VkIE1hcHMiLCJsYW5ndWFnZS1tZW51LXpvb20tZGVzY3JpcHRpb24iOiJab29tIHRvIHRoaXMgZmVhdHVyZSBvbiB0aGUgbWFwIiwibGFuZ3VhZ2Utd29ya2Zsb3ctb2ZmbGluZSI6IllvdSBjYW5ub3QgcnVuIGEgd29ya2Zsb3cgaW4gb2ZmbGluZSBtb2RlLiIsImxhbmd1YWdlLW1lbnUtc2hvdy1sb2ciOiJTaG93IExvZyIsImxhbmd1YWdlLW1lYXN1cmVtZW50LXVuaXQtbWlsZS1zaG9ydCI6Im1pIiwibGFuZ3VhZ2UtdG9vbGJhci1zZWxlY3QtbGF5ZXJzLXRvZ2dsZS10b29sdGlwIjoiRmlsdGVyIGxheWVycyBmb3IgSWRlbnRpZnkgcmVzdWx0cyIsImxhbmd1YWdlLXNjYWxlLWdvIjoiR28iLCJsYW5ndWFnZS11cGxvYWRlci12YWxpZGF0aW9uLWVycm9yLXRpdGxlIjoiVmFsaWRhdGlvbiBlcnJvci4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1kcmF3bW9kZS1mcmVlaGFuZC1wb2x5bGluZSI6IkZyZWVoYW5kIExpbmUiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1tZWFzdXJlLWNpcmNsZS10b29sLXRvb2x0aXAiOiJDYWxjdWxhdGUgYXJlYSBmb3IgYSBjaXJjbGUiLCJsYW5ndWFnZS1zYXZlZC1yZXN1bHRzLXJlbmFtZS1wcm9tcHQtdGl0bGUiOiJFbnRlciBuZXcgbmFtZSIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy11bmRvYWJsZS1kZWxldGUiOiJEZWxldGUgRmVhdHVyZXMiLCJsYW5ndWFnZS1ydW4tcmVwb3J0LWVycm9yLW1lc3NhZ2UtYWxyZWFkeS1ydW5uaW5nIjoiQSByZXBvcnQgaXMgYWxyZWFkeSBydW5uaW5nICh5b3UgY2FuIG9ubHkgcnVuIG9uZSByZXBvcnQgYXQgYSB0aW1lKS4iLCJsYW5ndWFnZS1jdXJyZW50X2V4dGVudCI6IkN1cnJlbnQgRXh0ZW50IiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi1oaWdobGlnaHQtZXNyaS1mZWF0dXJlLXNldCI6IkhpZ2hsaWdodHMgYWxsIG9mIHRoZSBmZWF0dXJlcyBpbiB0aGUgc3BlY2lmaWVkIGZlYXR1cmUgc2V0IGluIHRoZSBhY3RpdmUgaGlnaGxpZ2h0IGxheWVyLiIsImxhbmd1YWdlLXNlYXJjaC1pbnN0YW50LXByb3ZpZGVyLWRlc2NyaXB0aW9uIjoiU2VhcmNoIHByb3ZpZGVyIGZvciBzZWFyY2hpbmcgYSBHZW9jb3J0ZXggc2l0ZSB1c2luZyBHZW9jb3J0ZXggSW5zdGFudCBTZWFyY2guIiwibGFuZ3VhZ2UtcHJvamVjdC11cmwtdGl0bGUiOiJQcm9qZWN0IFVSTCIsImxhbmd1YWdlLW1lbnUtY29tYmluZS1yZXN1bHRzLXN1YnRyYWN0LWRlc2MiOiJSZW1vdmUgYSBzYXZlZCBzZXQgb2YgcmVzdWx0cyBmcm9tIHlvdXIgY3VycmVudCBsaXN0IG9mIHJlc3VsdHMiLCJsYW5ndWFnZS1tZW51LWlkZW50aWZ5LXJlY3RhbmdsZS1kZXNjIjoiRHJhdyBhIHJlY3RhbmdsZSB0byB2aWV3IGluZm9ybWF0aW9uIGFib3V0IHRoYXQgYXJlYS4iLCJsYW5ndWFnZS1uYXRpdmUtYWRkLXRvLWZhdm9yaXRlcy1lcnJvciI6IkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGF0dGVtcHRpbmcgdG8gYWRkIHRoZSBmYXZvcml0ZTogezB9LiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tZGVhY3RpdmF0ZS1jb250YWluZXJzLWZvci13b3JrZmxvdyI6IkRlYWN0aXZhdGVzIGFueSB3b3JrZmxvdyB2aWV3cyBhc3NvY2lhdGVkIHdpdGggYSBnaXZlbiB3b3JrZmxvdy4iLCJsYW5ndWFnZS1hY2Nlc3NpYmlsaXR5LW1hcC1zaWduLWluLWVycm9yIjoiU2lnbi1pbiBFcnJvciB7MH0iLCJsYW5ndWFnZS1zZWxlY3QtZmVhdHVyZXMtdW5pb24tY29uZmlybWF0aW9uIjoiJ3swfScgdW5pb25lZCB3aXRoIHsxfSBmZWF0dXJlKHMpIiwibGFuZ3VhZ2UtbWVudS1saXN0LW9mZmxpbmUtbWFwcy1hY3Rpb25zLWRlc2MiOiJPZmZsaW5lIFByb2ZpbGUgQWN0aW9ucyIsImxhbmd1YWdlLXRvb2xiYXItbWFya3VwLWNsZWFyLXRvb2x0aXAiOiJDbGVhciBhbGwgZHJhd2luZ3MgZnJvbSB0aGUgbWFwIiwibGFuZ3VhZ2UtY29tbW9uLWZlYXR1cmUtb2ZmbGluZS10b29scyI6Ik1hbmFnZSBPZmZsaW5lIERhdGEiLCJsYW5ndWFnZS1zYXZlZC1yZXN1bHRzLWJyb3dzZS1uby1pdGVtcy1kZXNjIjoiVG8gY3JlYXRlIGEgc2V0IG9mIHNhdmVkIHJlc3VsdHMgcGVyZm9ybSBhIHZhbGlkIHNlYXJjaCBvciBvdGhlciB0YXNrIHRoYXQgcmV0dXJucyByZXN1bHRzLiBUaGVuIGNob29zZSB0byBzYXZlIHRoZSByZXN1bHRzIGZyb20gd2l0aGluIHRoZSByZXN1bHRzIGFjdGlvbiBtZW51LiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tZGVhY3RpdmF0ZS12aWV3IjoiRGVhY3RpdmF0ZXMgYSB2aWV3LiIsImxhbmd1YWdlLW1ibC1pZGVudGlmeS1wb2x5bGluZS10b29sIjoiQ2xpY2sgb3IgdGFwIG9uY2UgdG8gYWRkIHBvaW50cywgdHdpY2UgdG8gZmluaXNoLiIsImxhbmd1YWdlLXRvb2xiYXItZmluZC1kYXRhLXRvb2xzIjoiRmluZCBEYXRhIFRvb2xzIiwibGFuZ3VhZ2UtdG9vbGJhci1uYW1lIjoiVG9vbGJhciIsImxhbmd1YWdlLXNoYXJlLXByb2plY3QtbGlua3MtdGl0bGUiOiJHdWVzdCBMaW5rcyIsImxhbmd1YWdlLXNlYXJjaC13b3JsZC1wbGFjZS1uYW1lcyI6IldvcmxkIFBsYWNlIE5hbWVzIiwibGFuZ3VhZ2UtdXBsb2FkZXItdmFsaWRhdGlvbi1lcnJvci1tZXNzYWdlIjoiQW4gdW5rbm93biB2YWxpZGF0aW9uIGVycm9yIGhhcyBvY2N1cnJlZC4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1wb2x5Z29uLWZpbmFsLW1hcmt1cC1sYWJlbCI6IkFyZWE6IHswfSB7MX1cblBlcmltZXRlcjogezJ9IHszfSIsImxhbmd1YWdlLWNvbW1vbi1ub3QtYXZhaWxhYmxlLW9mZmxpbmUiOiJUaGlzIGZ1bmN0aW9uIGlzIG5vdCBhdmFpbGFibGUgd2hlbiBvZmZsaW5lLiIsImxhbmd1YWdlLXRvb2xiYXItbmF2aWdhdGlvbi1ob21lLXRvb2x0aXAiOiJSZXR1cm5zIHRvIGludHJvZHVjdG9yeSBwYWdlIiwibGFuZ3VhZ2UtZmVhdHVyZS1jb29yZGluYXRlcy1tYXAtZGVmYXVsdC1jb29yZGluYXRlLXN5c3RlbSI6IkRlZmF1bHQiLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1lcmFzZS1zdGF0dXMiOiJDbGljayB0aGUgZGlzdGFuY2Ugb3IgYXJlYSBjYWxjdWxhdGlvbiBvbiB0aGUgbWFwIHlvdSB3aXNoIHRvIHJlbW92ZS4iLCJsYW5ndWFnZS1tZWFzdXJlbWVudC1oaWdoLWxpbmUtc2VnbWVudHMtd2FybmluZyI6IlRoaXMgZmVhdHVyZSBjb250YWlucyB7MH0gbGluZSBzZWdtZW50cyBhbmQgbWF5IHRha2Ugc29tZSB0aW1lIHRvIHByb2Nlc3MuIFlvdXIgYnJvd3NlciBtYXkgYmVjb21lIHVucmVzcG9uc2l2ZSBkdXJpbmcgdGhpcyBwZXJpb2QuIERvIHlvdSB3YW50IHRvIGNvbnRpbnVlPyIsImxhbmd1YWdlLW5hdGl2ZS1maWxlLXVwbG9hZGluZyI6IlVwbG9hZGluZyBmaWxlLiBQbGVhc2Ugd2FpdCAuLi4iLCJsYW5ndWFnZS1tZW51LWRyYXctcG9pbnQtZGVzYyI6IkRyYXcgYSBwb2ludCBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLWNvbW1hbmQtZGVzY3JpcHRpb24tdXBkYXRlLWZlYXR1cmUtbGF5ZXItbW9kYWwtbWVzc2FnZSI6IlVwZGF0ZSB0aGUgdmlzaWJsZSBNb2RlbE1lc3NhZ2VWaWV3IHRvIGFsc28gaW5jbHVkZSB0aGUgZ2l2ZW4gbWVzc2FnZS4iLCJsYW5ndWFnZS1jb21tb24tZmVhdHVyZS1lZGl0bG9nIjoiVmlldyBFZGl0IExvZyIsImxhbmd1YWdlLWZlYXR1cmUtZWRpdGluZy1lZGl0LWdlb21ldHJ5LWNhcHRpb24iOiJFZGl0IEdlb21ldHJ5IiwibGFuZ3VhZ2UtY29tbWFuZC1kZXNjcmlwdGlvbi16b29tLXRvLWV4dGVudCI6Ilpvb21zIHRvIHRoZSBnaXZlbiBleHRlbnQuIiwibGFuZ3VhZ2UtbmF0aXZlLWNsb3NlLWFwcGxpY2F0aW9uIjoiUmV0dXJuIHRvIHRoZSBtYWluIG1lbnUiLCJsYW5ndWFnZS1jb21tb24tbm8tcmVzdWx0cy1zaG9ydCI6Ik5vIHJlc3VsdHMiLCJsYW5ndWFnZS10b29sYmFyLW1lbnUtZ2xvYmFsLXNhdmUtc2F2ZS1hcyI6IlNhdmUvU2F2ZSBhcyIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLXNpbXBsZS1xdWVyeS1idWlsZGVyLWNvbnRhaW5lciI6IlNpbXBsZSBRdWVyeSBCdWlsZGVyIENvbnRhaW5lciB7MH0iLCJsYW5ndWFnZS1leHBvcnQtbWFwLWVycm9yIjoiRXhwb3J0IGVycm9yOiB7MH0iLCJsYW5ndWFnZS1vZmZsaW5lbWFwZWRpdG9yLXN0YXR1cy10aXRsZS1hbGVydCI6IlRoZXJlIGlzIGEgcHJvYmxlbSB3aXRoIHRoZSBzZWxlY3Rpb24uIiwibGFuZ3VhZ2UtdG9vbGJhci1pZGVudGlmeS1yZWN0YW5nbGUtdG9vbHRpcCI6IkZpbmQgb3V0IGFib3V0IGFuIGFyZWEgb24gdGhlIG1hcCBkZWZpbmVkIGJ5IGEgcmVjdGFuZ2xlIiwibGFuZ3VhZ2UtcGxvdGNvb3JkaW5hdGVzLXRvb2wtc3RhdHVzLWtleWJvYXJkIjoiVXNlIGFycm93cyB0byBtb3ZlIHRoZSBwb2ludC4gSGl0IEVOVEVSIHRvIHBsb3QgdGhlIGNvb3JkaW5hdGUgb24gdGhlIG1hcC4iLCJsYW5ndWFnZS10YWtlLWFwcC1vbmxpbmUtZGVzYyI6IkdvIHRvIG9ubGluZSBtb2RlLiIsImxhbmd1YWdlLW1lbnUtbGF0aXR1ZGUtZ2VvZ3JhcGhpY3MiOiJMYXRpdHVkZSBHZW9ncmFwaGljcyBHcm91cCBMdGQuIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1zdGF0dXMtdGl0bGUtZGVmYXVsdCI6Ik5vIGNoYW5nZXMgaGF2ZSBiZWVuIG1hZGUuIiwibGFuZ3VhZ2UtbGlzdC1yZXBvcnRzLWV4Y2x1c2lvbi13YXJuaW5nLW1lc3NhZ2UiOiJUaGUgcmVwb3J0IFwiezB9XCIgd2lsbCBub3QgY292ZXIgYWxsIHNlbGVjdGVkIGZlYXR1cmVzOiB7MX0gd2lsbCBiZSBleGNsdWRlZCAob2YgezJ9IHRvdGFsKS4gRG8geW91IHdpc2ggdG8gcnVuIHRoZSByZXBvcnQgKG9uIHszfSkgYW55d2F5cz8iLCJsYW5ndWFnZS1vZmZsaW5lLXByb3Zpc2lvbmluZy1zZWN1cmUtbGF5ZXJzIjoiU2F2aW5nIHswfSBsYXllcnMgd2l0aCBzZWN1cml0eSBhcHBsaWVkLi4uIiwibGFuZ3VhZ2UtcHJvamVjdC1lZGl0b3Itc2F2ZS1idXR0b24tdGl0bGUiOiJTYXZlIFByb2plY3QiLCJsYW5ndWFnZS1jbGVhci1zdG9yYWdlLWRvbWFpbi1kZXNjIjoiQ2xlYXJzIGFsbCBkYXRhIHN0b3JlZCBieSB0aGUgZW50aXJlIGRvbWFpbi4iLCJsYW5ndWFnZS1uYXRpdmUtYWRkLXRvLWZhdm9yaXRlcy12aWV3ZXItbmFtZS10aXRsZSI6IlZpZXdlciBOYW1lIiwibGFuZ3VhZ2UtdG9vbGJhci1hcmNnaXMtZXhwb3J0LXdlYi1tYXAtdG9vbHRpcCI6IlNhdmUgdGhlIGN1cnJlbnQgbWFwIHRvIEFyY0dJUyIsImxhbmd1YWdlLW9mZmxpbmUtbWFwcy1zaXplLWdiIjoiezB9IEdCIiwibGFuZ3VhZ2UtdGFibGUtbWFwcGluZy1kaWFsb2ctdGl0bGUiOiJUYWJsZSBNYXBwaW5nIERldGFpbHMiLCJsYW5ndWFnZS1jb21tYW5kLWRlc2NyaXB0aW9uLXByb21wdCI6IkRpc3BsYXlzIGEgcHJvbXB0LiIsImxhbmd1YWdlLWdlb2xvY2F0ZS10aXRsZSI6Ikdlb2xvY2F0aW9uIiwibGFuZ3VhZ2Utb2ZmbGluZW1hcGVkaXRvci1nZW9tZXRyeS1idXR0b24iOiJBcmVhIG9mIEludGVyZXN0IiwibGFuZ3VhZ2UtdG9vbGJhci1tYXJrdXAtcGFsZXR0ZS1zbWFsbC1jbGVhci1hbGwiOiJDbGVhciBBbGwiLCJsYW5ndWFnZS1mZWF0dXJlLWNvb3JkaW5hdGVzLXVwLWFycm93Ijoi4payIiwibGFuZ3VhZ2UtZXhwb3J0LXdlYi1tYXAtaXMtZXhwb3J0aW5nIjoiRXhwb3J0aW5nIHdlYiBtYXAuIFBsZWFzZSB3YWl0Li4uIiwibGFuZ3VhZ2UtbG9nLWhpZGUiOiJIaWRlIiwibGFuZ3VhZ2Utc3ltYm9sb2d5LXNldHRpbmdzLWZpbGwtc3R5bGUiOiJGaWxsIFN0eWxlIiwibGFuZ3VhZ2UtZXhwb3J0LW1hcC1jb21wbGV0ZS1kZXNjcmlwdGlvbiI6IlRvIGRvd25sb2FkIGFuZCBkaXNwbGF5IHRoZSBtYXAgaW1hZ2UsIGNsaWNrIFZpZXcgSW1hZ2UuIiwibGFuZ3VhZ2UtZmVhdHVyZS1lZGl0aW5nLWdlb21ldHJ5LXBvbHlsaW5lIjoiRWRpdCB2ZXJ0aWNlcyBieSBkcmFnZ2luZyB0aGVtLCBvciByaWdodCBjbGljayB0byBkZWxldGUuIERyYWcgdGhlIHNoYXBlIHRvIG1vdmUgaXQuIENsaWNrIG9yIHRhcCBvbiB0aGUgbWFwIHRvIHN0b3AgZWRpdGluZyIsImxhbmd1YWdlLXByb2plY3Qtc3RhdHVzLWxvYWRpbmciOiJMb2FkaW5nIHByb2plY3QiLCJsYW5ndWFnZS1jYXB0dXJlLWdlb21ldHJ5LXBvbHlnb24iOiJEcmF3IGEgcG9seWdvbiBvbiB0aGUgbWFwLiBEb3VibGUtY2xpY2sgb3IgdGFwIHRvIGZpbmlzaC4iLCJsYW5ndWFnZS1mZWF0dXJlLWVkaXRpbmctbXVsdGktZmVhdHVyZS1zZWxlY3Rvci1kZXNjcmlwdGlvbiI6IlNob3cgZGlhbG9nIHRvIHNlbGVjdCBhIGZlYXR1cmUgZm9yIGF0dHJpYnV0ZSBlZGl0aW5nIiwibGFuZ3VhZ2UtdG9vbGJhci1ib29rbWFyayI6IkJvb2ttYXJrcyIsImxhbmd1YWdlLWFjY2Vzc2liaWxpdHktbWFwLWNvb3JkaW5hdGVzLXdlc3QiOiJ7MH0gwrAgV2VzdCIsImxhbmd1YWdlLWdlb2xvY2F0ZS1lcnJvci1wb3NpdGlvbi11bmF2YWlsYWJsZSI6IllvdXIgY3VycmVudCBsb2NhdGlvbiBpcyBub3QgYXZhaWxhYmxlLiJ9");
geocortex.framework.notifyLibraryDownload("Mapping");
