/*
	
	Copyright (c) 2015, Latitude Geographics Group Ltd.
	All rights reserved.
	       
	Redistribution is not permitted. 
	
	Use in binary form, without modification, is permitted provided that neither 
	the name of the organization nor the names of its contributors may be used 
	to endorse or promote products derived from this software without specific 
	prior written permission.
	       
	THIS SOFTWARE IS PROVIDED BY COPYRIGHT HOLDER ''AS IS'' AND ANY
	EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
	WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
	DISCLAIMED. IN NO EVENT SHALL LATITUDE GEOGRAPHICS GROUP LTD. BE LIABLE FOR ANY
	DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
	(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
	LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
	ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
	(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
	SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

var geocortex;
(function(d){(function(c){var e=function(){function b(a){this.sortingSeries=this.displaySeries=this.series=this.seriesBreakSortingValue=this.seriesBreakDisplayValue=this.seriesBreakValue=this.sortingCategory=this.displayCategory=this.category=this.seriesDefinition=this.categoryDefinition=null;this.isSelected=false;this.displayValue=this.value=null;this.attributes={};this.formatProvider=null;this.uniqueId="cp_"+d.framework.utils.alphaNumericToken();if(a)this.formatProvider=a.formatProvider,this.attributes=
a.attributes||{},this.isSelected=!!a.isSelected,this.setCategoryDefinition(a.categoryDefinition),this.setSeriesDefinition(a.seriesDefinition),this.setCategory(a.category),this.setSeries(a.series),this.setSeriesBreakValue(a.seriesBreakValue),this.setValue(a.value)}b.tryGetFormattedString=function(a,b,k){k===void 0&&(k=null);return a===null||typeof a==="undefined"?"":k!==null?k.toString(a,b):c.ChartUtils.toString(a)};b.prototype.setCategoryDefinition=function(a){if(this.categoryDefinition!=a)this.categoryDefinition=
a,this._setCategoryStrings()};b.prototype.setSeriesDefinition=function(a){if(this.seriesDefinition!=a)this.seriesDefinition=a,this._setSeriesStrings(),this._setSeriesBreakStrings(),this._setDisplayValue()};b.prototype.setCategory=function(a){if(this.category!=a)this.category=a,this._setCategoryStrings()};b.prototype.setSeries=function(a){if(this.series!=a)this.series=a,this._setSeriesStrings()};b.prototype.setSeriesBreakValue=function(a){if(this.seriesBreakValue!=a)this.seriesBreakValue=a,this._setSeriesBreakStrings()};
b.prototype.setValue=function(a){if(this.value!=a)this.value=a,this._setDisplayValue()};b.prototype.clone=function(){var a={};if(this.attributes)for(var l in this.attributes)this.attributes.hasOwnProperty(l)&&(a[l]=this.attributes[l]);return new b({attributes:a,value:this.value,category:this.category,categoryDefinition:this.categoryDefinition,formatProvider:this.formatProvider,isSelected:this.isSelected,series:this.series,seriesDefinition:this.seriesDefinition,seriesBreakValue:this.seriesBreakValue})};
b.prototype.destroy=function(){this.attributes=this.formatProvider=null;this.setCategoryDefinition(null);this.setSeriesDefinition(null);this.setCategory(null);this.setSeries(null);this.setSeriesBreakValue(null);this.setValue(null)};b.prototype._setSeriesStrings=function(){this.series!=null&&typeof this.series!=="undefined"?this.seriesDefinition!=null?(this.displaySeries=b.tryGetFormattedString(this.series,this.seriesDefinition.field.displayFormat,this.formatProvider),this.sortingSeries=b.tryGetFormattedString(this.series,
this.seriesDefinition.field.sortingFormat,this.formatProvider)):(this.displaySeries=c.ChartUtils.toString(this.series),this.sortingSeries=c.ChartUtils.toString(this.series)):this.displaySeries=this.sortingSeries="Empty_Series_Field"};b.prototype._setCategoryStrings=function(){this.category!=null&&typeof this.category!=="undefined"?this.categoryDefinition!=null?(this.displayCategory=b.tryGetFormattedString(this.category,this.categoryDefinition.field.displayFormat,this.formatProvider),this.sortingCategory=
b.tryGetFormattedString(this.category,this.categoryDefinition.field.sortingFormat,this.formatProvider)):(this.displayCategory=c.ChartUtils.toString(this.category),this.sortingCategory=c.ChartUtils.toString(this.category)):this.displayCategory=this.sortingCategory="Empty_Category_Field"};b.prototype._setSeriesBreakStrings=function(){this.seriesBreakValue!==null&&typeof this.seriesBreakValue!=="undefined"?this.seriesDefinition!=null?(this.seriesBreakDisplayValue=b.tryGetFormattedString(this.seriesBreakValue,
this.seriesDefinition.seriesBreak.field.displayFormat,this.formatProvider),this.seriesBreakSortingValue=b.tryGetFormattedString(this.seriesBreakValue,this.seriesDefinition.seriesBreak.field.sortingFormat,this.formatProvider)):(this.seriesBreakDisplayValue=c.ChartUtils.toString(this.seriesBreakValue),this.seriesBreakSortingValue=c.ChartUtils.toString(this.seriesBreakValue)):this.seriesBreakDisplayValue=this.seriesBreakSortingValue="Empty_Series_Break_Field"};b.prototype._setDisplayValue=function(){this.displayValue=
this.value!==null&&typeof this.value!=="undefined"?this.seriesDefinition!=null?b.tryGetFormattedString(this.value,this.seriesDefinition.valueFormat,this.formatProvider):c.ChartUtils.toString(this.value):"0"};return b}();c.ChartPoint=e})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){var d=function(){function b(a){this.items=[];a&&(a instanceof b?this.set(a.items):a instanceof Array&&this.set(a))}b.prototype.isEmpty=function(){return this.items&&this.items.length===0};b.prototype.clear=function(a){a===void 0&&(a=false);if(this.items&&this.items.length>0)a&&this.items.forEach(function(a){a.destroy()}),this.items.length=0};b.prototype.set=function(a,b){b===void 0&&(b=false);this.clear(b);if(a)this.items=this.items.concat(a)};b.prototype.sort=function(a){a===
null||typeof a==="undefined"?this.items.sort(b._defaultSortingPredicate):this.items.sort(a);return this};b._defaultSortingPredicate=function(a,b){return(a.category===b.category?0:a.category>b.category?1:-1)||(a.sortingSeries===b.sortingSeries?0:a.sortingSeries>b.sortingSeries?1:-1)||(a.value===b.value?0:a.value>b.value?1:-1)};return b}();c.ChartPointCollection=d})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){var d=function(){return function(){this.items=this.sortingSeries=this.sortingCategory=this.seriesDefinition=this.categoryDefinition=null}}();c.ChartPointGroup=d})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){var e=function(){function b(){}b.getBounds=function(a,b){var c=0,h=0,f;if(a&&a.length>0&&typeof b==="function")for(var h=c=b(a[0]),e=a.length;e--;)f=b(a[e]),c=Math.min(f,c),h=Math.max(f,h);return new d.framework.utils.Tuple(c,h)};b.getCategorySortingStrings=function(a){return a?(a=a.items.map(function(a){return a.sortingCategory}),d.framework.utils.ArrayUtils.distinct(a)):null};b.getCategoryDisplayValues=function(a){return a?(a=a.items.map(function(a){return a.displayCategory}),
d.framework.utils.ArrayUtils.distinct(a)):null};b.getSeriesDisplayValues=function(a){return a?(a=a.items.map(function(a){return a.displayValue}),d.framework.utils.ArrayUtils.distinct(a)):null};b.getGroupedChartPoints=function(a){for(var b=[],a=d.framework.utils.ArrayUtils.groupBy(a.items,function(a){return{seriesDefinitionId:a.seriesDefinition.id,sortingSeries:a.sortingSeries,sortingCategory:a.sortingCategory,seriesBreakSortingValue:a.seriesBreakSortingValue}}),c=0;c<a.length;c++){var h=a[c];if(h&&
h.items){var f=h.items[0],e=new d.charting.ChartPointGroup;e.seriesDefinition=f.seriesDefinition;e.categoryDefinition=f.categoryDefinition;e.sortingSeries=f.sortingSeries;e.sortingCategory=f.sortingCategory;e.items=h.items;b.push(e)}}return b};b.getSeriesChartPoints=function(){throw Error("Method not implemented yet.");};b.getSeriesGroupedChartPoints=function(a){for(var b=[],a=d.framework.utils.ArrayUtils.groupBy(a.items,function(a){return{seriesDefinitionId:a.seriesDefinition.id,seriesBreakSortingValue:a.seriesBreakSortingValue,
sortingSeries:a.sortingSeries}}),c=0;c<a.length;c++){var h=a[c];if(h&&h.items){var f=h.items[0],e=new d.charting.ChartPointGroup;e.seriesDefinition=f.seriesDefinition;e.categoryDefinition=f.categoryDefinition;e.sortingSeries=f.sortingSeries;e.sortingCategory=f.sortingCategory;e.items=h.items;b.push(e)}}return b};b.getSeriesStrings=function(){throw Error("Method not implemented yet.");};b.sortChartPointCollection=function(a,l){l===null||typeof l==="undefined"?a.items.sort(b._defaultSortingPredicate):
a.items.sort(l);return a};b._defaultSortingPredicate=function(a,b){return(a.category===b.category?0:a.category>b.category?1:-1)||(a.sortingSeries===b.sortingSeries?0:a.sortingSeries>b.sortingSeries?1:-1)||(a.value===b.value?0:a.value>b.value?1:-1)};b.compareFields=function(a,b){return a&&(a.displaySeries==b||a.displaySeries==a.seriesDefinition.field.displayName)?true:false};return b}();c.ChartPointUtils=e})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){var e=function(){function b(){}b.toString=function(a){return a===null||typeof a==="undefined"?"":typeof a==="object"&&typeof a.toString==="function"?a.toString():a+""};b.decimalToByte=function(a){return Math.round(255*a)};b.byteToDecimal=function(a,b){b===void 0&&(b=1);return a/255*b};b.isNumeric=function(a){return!(a instanceof Array)&&a-parseFloat(a)+1>=0};b.numericValue=function(a){if(a===null||typeof a==="undefined")return null;a=parseFloat(a);return!isNaN(a)&&isFinite(a)?
a:null};b.round=function(a,b){var c=Math.pow(10,b||0);return Math.round(a*c)/c};b.ceil=function(a,c){return b.round(Math.ceil(a/c)*c,b.DEFAULT_PRECISION)};b.floor=function(a,c){return b.round(Math.floor(a/c)*c,b.DEFAULT_PRECISION)};b.remainderClose=function(a,c,d){a=b.round(Math.abs(a%c),b.DEFAULT_PRECISION);return a===0||a>c*(1-d)};b.isDefined=function(a){return typeof a!=="undefined"&&a!==null};b.valueOrDefault=function(a,c){return b.isDefined(a)?a:c};b.tryGetFieldValue=function(a,b,d){d===void 0&&
(d=null);if(a){var h=c.ChartPointAdapterRegistry.getAdapterBySourceType(c.ChartFieldSourceType[a.sourceType]);if(h)return h.getFieldValue(a,b,d)}return null};b.getSeriesPriority=function(a){var b=0;switch(a){case 3:case 4:b=0;break;case 0:b=1;break;case 1:case 2:case 5:b=2;break;default:b=0}return b};b.containsDataLinks=function(a){return a?a.category.field.sourceType==1||a.series.some(function(a){return a.field.sourceType==1}):false};b.findSeriesViewModelFromChartPoint=function(a,b){for(var c=b!==
null?b.length:0;c--;){var d=b[c];if(d.items.items.some(function(b){return b.uniqueId===a.uniqueId}))return d}return null};b.findSeriesViewModelById=function(a,b){return d.framework.utils.ArrayUtils.firstOrDefault(a,function(a){return!a.isSeriesInternal&&a.seriesDefinition.id===b})};b.findSeriesViewModelByTitle=function(a,b,c){c===void 0&&(c=true);return d.framework.utils.ArrayUtils.firstOrDefault(a,function(a){var d;if(d=!a.isSeriesInternal){d=c;d===void 0&&(d=true);var a=a.seriesDefinition.title||
"",e=b||"";d&&(a=a.toLowerCase(),e=e.toLowerCase());d=a===e}return d})};b.equalsDefinition=function(a,b){return!a||!b?false:a.sourceType!=b.sourceType?false:a.name!=b.name?false:a.sourceType==1&&a.dataLinkId!=b.dataLinkId?false:a.sortingFormat!=b.sortingFormat||a.displayFormat!=b.displayFormat?false:true};b.getResponsiveLegendPosition=function(a,b){b===void 0&&(b=false);if(a&&a.chartDefinition&&a.chartDefinition.legend.position!==0){var c=a.chartDefinition.legend.position;switch(c){case 4:case 2:c=
b?c:3;break;case 1:case 3:c=b?2:c;break}return c}return 0};b.DEFAULT_PRECISION=6;b.COORD_PRECISION=3;return b}();c.ChartUtils=e})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){var d=function(){function b(a){this.blue=this.green=this.red=0;this.alpha=1;if(a!==null&&typeof a!=="undefined"&&a instanceof Array){if(a.hasOwnProperty("0"))this.red=c.ChartUtils.byteToDecimal(a[0]);if(a.hasOwnProperty("1"))this.green=c.ChartUtils.byteToDecimal(a[1]);if(a.hasOwnProperty("2"))this.blue=c.ChartUtils.byteToDecimal(a[2]);if(a.hasOwnProperty("3"))this.alpha=c.ChartUtils.byteToDecimal(a[3])}}b.fromRgb=function(a){var c=new b;c.red=a.r;c.green=a.g;c.blue=a.b;return c};
b.fromRgba=function(a){var c=b.fromRgb(a);c.alpha=a.a;return c};b.fromHsv=function(a){var c=new b;c.setWithHSV(a);return c};b.fromHsva=function(a){var c=b.fromHsv(a);c.alpha=a.a;return c};b.fromString=function(a){var c=new b;c.setWithString(a);return c};b.fromArray=function(a){return new b(a)};b.prototype.setWithHSV=function(a){if(a.h!==null)a.h=Math.max(0,b.MIN_H,Math.min(6,b.MAX_H,a.h));if(a.s!==null)a.s=Math.max(0,b.MIN_S,Math.min(1,b.MAX_S,a.s));if(a.v!==null)a.v=Math.max(0,b.MIN_V,Math.min(1,
b.MAX_V,a.v));a=this.hsvToRgb(a);this.red=a.r;this.green=a.g;this.blue=a.b};b.prototype.setWithString=function(a){var b=a.match(/^#?\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);if(b){var c;b[1].length===6?(a=parseInt(b[1].substr(0,2),16)/255,c=parseInt(b[1].substr(2,2),16)/255,b=parseInt(b[1].substr(4,2),16)/255):(a=parseInt(b[1].charAt(0)+b[1].charAt(0),16)/255,c=parseInt(b[1].charAt(1)+b[1].charAt(1),16)/255,b=parseInt(b[1].charAt(2)+b[1].charAt(2),16)/255);this.red=a;this.green=c;this.blue=b}};b.prototype.getHsv=
function(){var a=null,b=this.red,c=this.green,d=this.blue,e=Math.min(Math.min(b,c),d),g=Math.max(Math.max(b,c),d),j=g-e;j===0?a={h:null,s:0,v:g}:(b=b===e?3+(d-c)/j:c===e?5+(b-d)/j:1+(c-b)/j,a.h=b===6?0:b,a.s=j/g,a.v=g);return a};b.prototype.toString=function(a){a===void 0&&(a=false);return a?"#"+((256|c.ChartUtils.decimalToByte(this.alpha)).toString(16).substr(1)+(256|c.ChartUtils.decimalToByte(this.red)).toString(16).substr(1)+(256|c.ChartUtils.decimalToByte(this.green)).toString(16).substr(1)+(256|
c.ChartUtils.decimalToByte(this.blue)).toString(16).substr(1)):"#"+((256|c.ChartUtils.decimalToByte(this.red)).toString(16).substr(1)+(256|c.ChartUtils.decimalToByte(this.green)).toString(16).substr(1)+(256|c.ChartUtils.decimalToByte(this.blue)).toString(16).substr(1))};b.prototype.toCss=function(a){a===void 0&&(a=false);var b=[c.ChartUtils.decimalToByte(this.red),c.ChartUtils.decimalToByte(this.green),c.ChartUtils.decimalToByte(this.blue)];return a?(b.push(this.alpha),"rgba("+b.join(", ")+")"):"rgb("+
b.join(", ")+")"};b.prototype.toJson=function(){var a=[0,0,0,255];a[0]=c.ChartUtils.decimalToByte(this.red);a[1]=c.ChartUtils.decimalToByte(this.green);a[2]=c.ChartUtils.decimalToByte(this.blue);a[3]=c.ChartUtils.decimalToByte(this.alpha);return a};b.prototype.hsvToRgb=function(a){if(a.h===null)return{r:a.v,g:a.v,b:a.v};var b=Math.floor(a.h),c=a.v*(1-a.s),d=a.v*(1-a.s*(b%2?a.h-b:1-(a.h-b))),e;switch(b){case 6:case 0:case 1:case 2:case 3:case 4:case 5:e=[a.v,c,d]}return{r:e[0],g:e[1],b:e[2]}};b.MAX_H=
0;b.MIN_H=6;b.MAX_S=0;b.MIN_S=1;b.MAX_V=0;b.MIN_V=1;b.Black=b.fromString("#000000");b.White=b.fromString("#FFFFFF");b.Red=b.fromString("#FF0000");b.Green=b.fromString("#00FF00");b.Blue=b.fromString("#0000FF");b.Transparent=new b([0,0,0,0]);return b}();c.Color=d})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){(function(b){b[b.Linear=0]="Linear";b[b.Pie=1]="Pie"})(c.ChartType||(c.ChartType={}));(function(b){b[b.SingleFeature=0]="SingleFeature";b[b.MultiFeature=1]="MultiFeature"})(c.ChartFeatureType||(c.ChartFeatureType={}));(function(b){b[b.Bar=0]="Bar";b[b.Line=1]="Line";b[b.Spline=2]="Spline";b[b.Area=3]="Area";b[b.SplineArea=4]="SplineArea";b[b.ScatterPoint=5]="ScatterPoint"})(c.ChartSeriesType||(c.ChartSeriesType={}));(function(b){b[b.Field=0]="Field";b[b.DataLink=1]="DataLink"})(c.ChartFieldSourceType||
(c.ChartFieldSourceType={}));(function(b){b[b.None=0]="None";b[b.Top=1]="Top";b[b.Right=2]="Right";b[b.Bottom=3]="Bottom";b[b.Left=4]="Left"})(c.ChartLegendPosition||(c.ChartLegendPosition={}));(function(b){b[b.None=0]="None";b[b.Smart=1]="Smart";b[b.SmartWithConnectors=2]="SmartWithConnectors"})(c.ChartPointLabelType||(c.ChartPointLabelType={}));(function(b){b[b.Smart=0]="Smart";b[b.All=1]="All"})(c.ChartAxisLabelMode||(c.ChartAxisLabelMode={}));(function(b){b[b.None=0]="None";b[b.Zoom=1]="Zoom";
b[b.Pan=2]="Pan"})(c.ChartAreaDragMode||(c.ChartAreaDragMode={}));(function(b){b[b.None=0]="None";b[b.Circle=1]="Circle";b[b.Square=2]="Square";b[b.Triangle=3]="Triangle";b[b.Diamond=4]="Diamond"})(c.ChartPointMarkerType||(c.ChartPointMarkerType={}));(function(b){b[b.None=0]="None";b[b.UniqueValue=1]="UniqueValue"})(c.ChartSeriesBreakType||(c.ChartSeriesBreakType={}));(function(b){b[b.Arctic=0]="Arctic";b[b.Autumn=1]="Autumn";b[b.Cold=2]="Cold";b[b.Flower=3]="Flower";b[b.Forest=4]="Forest";b[b.Grayscale=
5]="Grayscale";b[b.Ground=6]="Ground";b[b.Lilac=7]="Lilac";b[b.Natural=8]="Natural";b[b.Office2013=9]="Office2013";b[b.Pastel=10]="Pastel";b[b.Rainbow=11]="Rainbow";b[b.Spring=12]="Spring";b[b.Summer=13]="Summer";b[b.Warm=14]="Warm";b[b.Windows8=15]="Windows8"})(c.ChartColorPalette||(c.ChartColorPalette={}));var d;(function(b){b[b.Sum=0]="Sum";b[b.Count=1]="Count";b[b.Min=2]="Min";b[b.Max=3]="Max";b[b.Average=4]="Average"})(d||(d={}));(function(b){b[b.Full=0]="Full";b[b.Day=1]="Day";b[b.Month=2]=
"Month";b[b.Year=3]="Year";b[b.DayOfWeek=4]="DayOfWeek";b[b.Hour=5]="Hour";b[b.Custom=6]="Custom"})(c.DateTimeFormats||(c.DateTimeFormats={}));(function(b){b[b.None=0]="None";b[b.Currency=1]="Currency";b[b.FixedPoint=2]="FixedPoint";b[b.Number=3]="Number";b[b.Percent=4]="Percent";b[b.Custom=5]="Custom"})(c.NumericFormats||(c.NumericFormats={}))})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){(function(d){var b=function(){return function(a){this.background=c.Color.White;this.foreground=c.Color.Black;this.showToolTips=true;this.showLabels=false;this.showHorizontalGridLines=true;this.enableHorizontalZoom=this.enableVerticalZoom=this.showVerticalStrips=this.showVerticalGridLines=this.showHorizontalStrips=false;this.actionSelect=true;this.actionRunCommand=this.actionFeatureDetails=this.actionZoom=this.actionPan=false;this.commandParameter=this.commandName=null;this.dragMode=
1;this.enableColorPalette=this.enableTrackBall=false;this.colorPalette=15;this.enableCommonSeriesRange=false;if(a)this.background=new c.Color(a.background),this.foreground=new c.Color(a.foreground),this.showToolTips=!!a.showToolTips,this.showLabels=!!a.showLabels,this.showHorizontalGridLines=!!a.showHorizontalGridLines,this.showHorizontalStrips=!!a.showHorizontalStrips,this.showVerticalGridLines=!!a.showVerticalGridLines,this.showVerticalStrips=!!a.showVerticalStrips,this.enableVerticalZoom=!!a.enableVerticalZoom,
this.enableHorizontalZoom=!!a.enableHorizontalZoom,this.actionSelect=!!a.actionSelect,this.actionPan=!!a.actionPan,this.actionZoom=!!a.actionZoom,this.actionFeatureDetails=!!a.actionFeatureDetails,this.actionRunCommand=!!a.actionRunCommand,this.enableTrackBall=!!a.enableTrackBall,this.enableColorPalette=!!a.enableColorPalette,this.enableCommonSeriesRange=!!a.enableCommonSeriesRange,this.commandName=a.commandName,this.commandParameter=a.commandParameter,this.dragMode=typeof a.dragMode!=="undefined"?
a.dragMode:this.dragMode,this.colorPalette=typeof a.colorPalette!=="undefined"?a.colorPalette:this.colorPalette}}();d.ChartAreaDefinition=b})(c.configuration||(c.configuration={}))})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){(function(c){var b=function(){return function(a){this.title="Axis";this.showLabels=this.visible=true;this.maximum=this.minimum=null;this.positionOpposite=false;this.axisLabelMode=0;this.showTicks=true;this.reverseValues=false;if(a)this.title=a.title,this.visible=!!a.visible,this.showLabels=!!a.showLabels,this.minimum=a.minimum,this.maximum=a.maximum,this.positionOpposite=!!a.positionOpposite,this.axisLabelMode=a.axisLabelMode!==void 0?a.axisLabelMode:this.axisLabelMode,this.showTicks=
!!a.showTicks,this.reverseValues=!!a.reverseValues}}();c.ChartAxisDefinition=b})(c.configuration||(c.configuration={}))})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){(function(c){var b=function(){return function(a){this.axis=this.field=null;a?(this.field=new c.ChartFieldDefinition(a.field),this.axis=new c.ChartAxisDefinition(a.axis)):(this.field=new c.ChartFieldDefinition,this.axis=new c.ChartAxisDefinition)}}();c.ChartCategoryDefinition=b})(c.configuration||(c.configuration={}))})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){(function(e){var b=function(){return function(a){this.displayName=this.id=null;this.chartType=0;this.flipChart=false;this.visible=true;this.category=this.legend=this.area=null;this.series=[];if(a){this.chartType=a.chartType?c.ChartType[a.chartType]:this.chartType;this.id=a.id?a.id:d.framework.utils.alphaNumericToken();this.displayName=a.displayName?a.displayName:this.id;this.flipChart=!!a.flipChart;this.visible=!!a.visible;this.area=new e.ChartAreaDefinition(a.area);this.legend=
new e.ChartLegendDefinition(a.legend);this.category=new e.ChartCategoryDefinition(a.category);for(var b=a.series?a.series.length:0,k=0;k<b;k++)this.series.push(new e.ChartSeriesDefinition(a.series[k]))}else this.id=this.displayName=d.framework.utils.alphaNumericToken(),this.area=new e.ChartAreaDefinition,this.legend=new e.ChartLegendDefinition,this.category=new e.ChartCategoryDefinition}}();e.ChartDefinition=b})(c.configuration||(c.configuration={}))})(d.charting||(d.charting={}))})(geocortex||(geocortex=
{}));
(function(d){(function(c){(function(c){var b=function(){return function(a){this.sortingFormat=this.displayFormat=this.displayName=this.name=null;this.isNumerical=this.isContinuous=false;this.sourceType=0;this.dataLinkId=null;if(a)this.name=a.name,this.displayName=a.displayName||a.name,this.displayFormat=a.displayFormat,this.sortingFormat=a.sortingFormat,this.isContinuous=!!a.isContinuous,this.isNumerical=!!a.isNumerical,this.sourceType=typeof a.sourceType!=="undefined"?a.sourceType:this.sourceType,this.dataLinkId=
a.dataLinkId}}();c.ChartFieldDefinition=b})(c.configuration||(c.configuration={}))})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));(function(d){(function(c){(function(d){var b=function(){return function(a){this.title="Legend";this.position=2;if(a)this.title=a.title,this.position=a.position?c.ChartLegendPosition[a.position]:this.position}}();d.ChartLegendDefinition=b})(c.configuration||(c.configuration={}))})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){(function(c){var b=function(){return function(a){this.breakType=0;this.field=null;a?(this.breakType=typeof a.breakType!=="undefined"?a.breakType:this.breakType,this.field=new c.ChartFieldDefinition(a.field)):this.field=new c.ChartFieldDefinition}}();c.ChartSeriesBreakDefinition=b})(c.configuration||(c.configuration={}))})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){(function(e){var b=function(){return function(a){this.displayName=this.id=null;this.seriesType=0;this.valueFormat=this.title=this.seriesBreak=this.axis=this.field=null;this.color=c.Color.Red;this.labelType=0;this.markerType=1;this.valueAggregatorName="Sum";a?(this.id=a.id?a.id:d.framework.utils.alphaNumericToken(),this.displayName=a.displayName,this.seriesType=a.seriesType?c.ChartSeriesType[a.seriesType]:this.seriesType,this.labelType=a.labelType?c.ChartPointLabelType[a.labelType]:
this.labelType,this.markerType=a.markerType?c.ChartPointMarkerType[a.markerType]:this.markerType,this.title=a.title,this.valueFormat=a.valueFormat,this.valueAggregatorName=a.valueAggregatorName||"Sum",this.color=new c.Color(a.color),this.field=new e.ChartFieldDefinition(a.field),this.axis=new e.ChartAxisDefinition(a.axis),this.seriesBreak=new e.ChartSeriesBreakDefinition(a.seriesBreak)):(this.id=d.framework.utils.alphaNumericToken(),this.field=new e.ChartFieldDefinition,this.axis=new e.ChartAxisDefinition,
this.seriesBreak=new e.ChartSeriesBreakDefinition)}}();e.ChartSeriesDefinition=b})(c.configuration||(c.configuration={}))})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){var d=function(){function b(){}b.registerAdapter=function(a,c){c&&(b._adapters[c]=a)};b.getAdapterBySourceType=function(a){return this._adapters.hasOwnProperty(a)?b._adapters[a]:null};b.getAdapters=function(){var a=[],c;for(c in b._adapters)b._adapters.hasOwnProperty(c)&&a.push(b._adapters[c]);return a};b.clear=function(){b._adapters={}};b._adapters={};return b}();c.ChartPointAdapterRegistry=d})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){(function(d){var b=function(){function a(){this.displayName=this.name="Sum"}a.prototype.aggregate=function(a){if(a&&a.length>0){for(var b=0,d,f=a.length;f--;)d=c.ChartUtils.numericValue(a[f].value),b+=d!==null?d:0;return b}return 0};return a}();d.SumValueAggregator=b})(c.aggregation||(c.aggregation={}))})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){(function(c){var b=function(){function a(){this.displayName=this.name="Count"}a.prototype.aggregate=function(a){return a?a.length:0};return a}();c.CountValueAggregator=b})(c.aggregation||(c.aggregation={}))})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){(function(d){var b=function(){function a(){this.displayName=this.name="Average"}a.prototype.aggregate=function(a){if(a&&a.length>0){for(var b=0,d,f=a.length;f--;)d=c.ChartUtils.numericValue(a[f].value),b+=d!==null?d:0;return b/a.length}return 0};return a}();d.AverageValueAggregator=b})(c.aggregation||(c.aggregation={}))})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){(function(d){var b=function(){function a(){this.displayName=this.name="Min"}a.prototype.aggregate=function(a){if(a&&a.length>0){for(var b=c.ChartUtils.numericValue(a[0].value),d,f=1;f<a.length;f++)d=c.ChartUtils.numericValue(a[f].value),b=d!==null&&d<b?d:b;return b}return 0};return a}();d.MinValueAggregator=b})(c.aggregation||(c.aggregation={}))})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){(function(d){var b=function(){function a(){this.displayName=this.name="Max"}a.prototype.aggregate=function(a){if(a&&a.length>0){for(var b=c.ChartUtils.numericValue(a[0].value),d,f=1;f<a.length;f++)d=c.ChartUtils.numericValue(a[f].value),b=d!==null&&d>b?d:b;return b}return 0};return a}();d.MaxValueAggregator=b})(c.aggregation||(c.aggregation={}))})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){var d=function(){function b(){}b._builtinAggregators=function(){var a=new c.aggregation.SumValueAggregator,b=new c.aggregation.CountValueAggregator,d=new c.aggregation.AverageValueAggregator,e=new c.aggregation.MinValueAggregator,f=new c.aggregation.MaxValueAggregator,g={};g[a.name]=a;g[b.name]=b;g[d.name]=d;g[e.name]=e;g[f.name]=f;return g};b.registerAggregator=function(a){if(!a||!a.name)throw Error("The value aggregator's name cannot be null.");b._aggregators[a.name]=a};
b.getAggregatorByName=function(a){return a&&this._aggregators.hasOwnProperty(a)?b._aggregators[a]:null};b.getAggregators=function(){var a=[],c;for(c in b._aggregators)b._aggregators.hasOwnProperty(c)&&a.push(b._aggregators[c]);return a};b.clear=function(){b._aggregators=b._builtinAggregators()};b._aggregators=b._builtinAggregators();return b}();c.ValueAggregatorRegistry=d})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){(function(e){var b=function(){function a(){this.formatProvider=null}a.prototype.aggregate=function(a){for(var b=this,e=[],a=c.ChartPointUtils.getGroupedChartPoints(a).map(function(a){var c=b.getAggregator(a.seriesDefinition);return b.aggregateGroup(a,c)}),a=a.filter(function(a){return a!==null}),a=d.framework.utils.ArrayUtils.groupBy(a,function(a){return a.seriesDefinition.id}),f=0;f<a.length;f++){var g=a[f];g&&(g.items.length>1&&(g=new c.ChartPointCollection(g.items),g.sort()),
e=e.concat(g.items))}return new c.ChartPointCollection(e)};a.prototype.aggregateGroup=function(a,b){b===void 0&&(b=null);if(a&&a.items&&a.items.length>0){var d=b||c.ValueAggregatorRegistry.getAggregatorByName("Sum"),f=a.items[0],d=new c.ChartPoint({seriesDefinition:f.seriesDefinition,categoryDefinition:f.categoryDefinition,category:f.category,series:f.series,seriesBreakValue:f.seriesBreakValue,formatProvider:f.formatProvider||this.formatProvider,value:d.aggregate(a.items)});this.attachAttributes(d,
a);return d}return null};a.prototype.attachAttributes=function(){};a.prototype.getAggregator=function(a){return a&&a.valueAggregatorName&&(a=c.ValueAggregatorRegistry.getAggregatorByName(a.valueAggregatorName),a!==null)?a:c.ValueAggregatorRegistry.getAggregatorByName("Sum")};return a}();e.ChartPointCollectionAggregator=b})(c.aggregation||(c.aggregation={}))})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){var d=function(){function b(a,b){this.name=null;this.entries=[];this.name=a;if(b!==null&&b instanceof Array&&b.length>0){var d=b[0];if(d&&d instanceof c.Color)this.entries=b.slice();if(typeof d==="string")this.entries=b.map(function(a){return c.Color.fromString(a)})}}b.prototype.toHexColors=function(){return this.entries?this.entries.map(function(a){return a.toString()}):[]};b.prototype.toCssColors=function(a){a===void 0&&(a=false);return this.entries?this.entries.map(function(b){return b.toCss(a)}):
[]};b.Arctic=new b(c.ChartColorPalette[0],"#8FCAEE,#4CA9D7,#1E7BA9,#BDC1C5,#8C8C8C,#CF1C1F,#F0484B,#FF867F".split(","));b.Autumn=new b(c.ChartColorPalette[1],"#97A035,#BFAD61,#E2CB70,#ECB552,#DD7F33,#D15B27,#B54824,#7D3B25".split(","));b.Cold=new b(c.ChartColorPalette[2],"#83D4F1,#4BAEDB,#288DBA,#7CCCD6,#4BADB9,#97CFE5,#63B2CF,#4593AC".split(","));b.Flower=new b(c.ChartColorPalette[3],"#DD789B,#AAC271,#9F8E7C,#E0D26D,#E494BB,#85B379,#AAA1A1,#DEB3B7".split(","));b.Forest=new b(c.ChartColorPalette[4],
"#ADB827,#F1A54C,#A66940,#DB6340,#DCA063,#8BA041,#C09366,#F2BE4B".split(","));b.Grayscale=new b(c.ChartColorPalette[5],"#404040,#808080,#B3B3B3,#595959,#999999,#C0C0C0,#666666,#A6A6A6".split(","));b.Ground=new b(c.ChartColorPalette[6],"#FFBE8C,#F2875A,#CC4343,#6C524E,#8A7161,#B09176,#DAB89B,#B65845".split(","));b.Lilac=new b(c.ChartColorPalette[7],"#88C97F,#80D5CF,#C3AAEF,#6E8FD4,#A4D386,#A4B5EF,#61BBD1,#A0A0D2".split(","));b.Natural=new b(c.ChartColorPalette[8],"#EF7513,#F0A13F,#EFD159,#C1CA5F,#97A031,#ADA17E,#8B473A,#CE4226".split(","));
b.Office2013=new b(c.ChartColorPalette[9],"#0072C6,#007133,#DD5800,#00178F,#682079,#A13B39,#005646,#1B9DDE".split(","));b.Pastel=new b(c.ChartColorPalette[10],"#C9A2C8,#98BED9,#9CD084,#719BAE,#80C4B2,#94A0BC,#A0CBD3,#D9CAD1".split(","));b.Rainbow=new b(c.ChartColorPalette[11],"#1171CA,#3294DA,#45B5B2,#8CC221,#AFDA3D,#E3DA20,#F58E13,#E03D0B".split(","));b.Spring=new b(c.ChartColorPalette[12],"#BED781,#F8A6C4,#84C3BA,#C0B2B2,#9DCE67,#F48EAD,#E0CCCA,#A0CBDA".split(","));b.Summer=new b(c.ChartColorPalette[13],
"#3FA7C4,#9ED552,#E1DB63,#C49FD9,#C5DF5E,#55C0CD,#86D8A6,#ADADD7".split(","));b.Warm=new b(c.ChartColorPalette[14],"#F3D24F,#FAC24D,#F9AC3B,#F58E13,#FA6800,#F04600,#DE2E05,#CB0C0C".split(","));b.Windows8=new b(c.ChartColorPalette[15],"#8EC441,#1B9DDE,#F59700,#D4DF32,#339933,#00ABA9,#DC5B20,#E8BC34".split(","));return b}();c.ColorPalette=d})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){var d=function(){function b(){}b._builtinPalettes=function(){var a={};a[c.ColorPalette.Arctic.name]=c.ColorPalette.Arctic;a[c.ColorPalette.Autumn.name]=c.ColorPalette.Autumn;a[c.ColorPalette.Cold.name]=c.ColorPalette.Cold;a[c.ColorPalette.Flower.name]=c.ColorPalette.Flower;a[c.ColorPalette.Forest.name]=c.ColorPalette.Forest;a[c.ColorPalette.Grayscale.name]=c.ColorPalette.Grayscale;a[c.ColorPalette.Ground.name]=c.ColorPalette.Ground;a[c.ColorPalette.Lilac.name]=c.ColorPalette.Lilac;
a[c.ColorPalette.Natural.name]=c.ColorPalette.Natural;a[c.ColorPalette.Office2013.name]=c.ColorPalette.Office2013;a[c.ColorPalette.Pastel.name]=c.ColorPalette.Pastel;a[c.ColorPalette.Rainbow.name]=c.ColorPalette.Rainbow;a[c.ColorPalette.Spring.name]=c.ColorPalette.Spring;a[c.ColorPalette.Summer.name]=c.ColorPalette.Summer;a[c.ColorPalette.Warm.name]=c.ColorPalette.Warm;a[c.ColorPalette.Windows8.name]=c.ColorPalette.Windows8;return a};b.registerColorPalette=function(a){if(!a||!a.name)throw Error("The chart color palette's name cannot be null.");
b._palettes[a.name]=a};b.getColorPaletteByName=function(a){return a&&this._palettes.hasOwnProperty(a)?b._palettes[a]:null};b.getColorPalettes=function(){var a=[],c;for(c in b._palettes)b._palettes.hasOwnProperty(c)&&a.push(b._palettes[c]);return a};b.clear=function(){b._palettes=b._builtinPalettes()};b._palettes=b._builtinPalettes();return b}();c.ColorPaletteRegistry=d})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){var d=function(){function b(){}b.getRange=function(a,d,e){e===void 0&&(e=true);var h={min:0,max:1},f,g=a.axis.minimum,j=a.axis.maximum;if(c.ChartUtils.isDefined(g)&&c.ChartUtils.isDefined(j))h.min=g,h.max=j;else{if(d&&d.items&&d.items.length>0){d=d.items.filter(function(b){return b.seriesDefinition.id===a.id});f=c.ChartPointUtils.getBounds(d,function(a){return c.ChartUtils.numericValue(a.value)});d=f.item1;f=f.item2;var i=b.calculateMajorUnit({min:d,max:f});e!==false&&(d<
0&&c.ChartUtils.remainderClose(d,i,1/3)&&(d-=i),f>0&&c.ChartUtils.remainderClose(f,i,1/3)&&(f+=i));d=c.ChartUtils.floor(d,i);f=c.ChartUtils.ceil(f,i)}else d=f=0;h.min=c.ChartUtils.valueOrDefault(g,d);h.max=c.ChartUtils.valueOrDefault(j,f)}return h};b.calculateMajorUnit=function(a){if(!c.ChartUtils.isDefined(a))throw Error("Required parameter range cannot be null");var b=c.ChartUtils.round(a.max-a.min,c.ChartUtils.DEFAULT_PRECISION-1);if(b===0){if(a.max===0)return 0.1;b=Math.abs(a.max)}var a=Math.pow(10,
Math.floor(Math.log(b)/Math.log(10))),b=c.ChartUtils.round(b/a,c.ChartUtils.DEFAULT_PRECISION),d=1;return c.ChartUtils.round(a*(b<1.904762?0.2:b<4.761904?0.5:b<9.523809?1:2),c.ChartUtils.DEFAULT_PRECISION)};b.calculateMinorUnit=function(a){return typeof a==="number"?a/5:b.calculateMajorUnit(a)/5};b.calculateVisibleTickCount=function(a,d){if(!c.ChartUtils.isDefined(a))throw Error("Required parameter range cannot be null");d=c.ChartUtils.valueOrDefault(d,b.calculateMajorUnit(a));return Math.floor(c.ChartUtils.round((a.max-
a.min)/d,c.ChartUtils.COORD_PRECISION))+1};return b}();c.ValueAxisUtils=d})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));(function(d){(function(c){(function(c){var b=function(){return function(a){this.chartViewModel=null;if(a)this.chartViewModel=a}}();c.ChartDataChangedEventArgs=b})(c.eventArgs||(c.eventArgs={}))})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){(function(c){var b=function(){return function(a,b){this.chartViewModel=this.chartPoint=null;this.chartPoint=a;this.chartViewModel=b}}();c.ChartPointEventArgs=b})(c.eventArgs||(c.eventArgs={}))})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){var d=function(){function b(){}b.generateSatLumPalette=function(a,b,d,e){b===void 0&&(b=1);d===void 0&&(d=0.8);e===void 0&&(e=0.8);var f=c.HslColor.fromColor(a),g=f.h,j=f.l,f=f.s,i=1;b>1&&(i=b-1);var n=[];d/=i;e/=i;for(i=0;i<b;i++){var o=j==0?j:1-(b-i)*d,p=f==0?f:1-(b-i)*e,m=new c.HslColor;m.a=a.alpha;m.h=g;m.l=o;m.s=p;n.push(m.toColor())}return n};b.generateSelectionColor=function(a){return c.Color.fromRgba({r:a.red,g:a.green,b:a.blue,a:a.alpha/2})};return b}();c.ColorUtils=
d})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){var e=function(){function b(){}b.prototype.fill=function(){throw Error("This method is abstract");};b.prototype.getFieldValue=function(){throw Error("This method is abstract");};b.prototype.createChartPoint=function(){throw Error("This method is abstract");};b.prototype.createChartPointCore=function(a,b,e,h,f,g){g===void 0&&(g=null);if(e==null||typeof e==="undefined"||!f)return null;var j=null;switch(f.chartSeries.seriesBreak.breakType){case 1:j=d.charting.ChartUtils.tryGetFieldValue(f.chartSeries.seriesBreak.field,
a,g)}var i=c.ChartUtils.isNumeric(e),b=new d.charting.ChartPoint({category:h,series:!i?e:b,value:i?e:1,seriesBreakValue:j,categoryDefinition:f.chartCategory,seriesDefinition:f.chartSeries,formatProvider:f.formatProvider});this.attachAttributes(b,a,f,g);return b};b.prototype.attachAttributes=function(){};return b}();c.ChartPointAdapterBase=e})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
(function(d){(function(c){var d=function(){function b(){this.l=this.s=this.h=this.a=0}b.fromColor=function(a){return b.fromArgb(a.alpha,a.red,a.green,a.blue)};b.fromArgb=function(a,c,d,e){c=b.fromRgb(c,d,e);c.a=a;return c};b.fromRgb=function(a,c,d){var e=new b;e.a=1;var f=Math.max(d,Math.max(a,c)),g=Math.min(d,Math.min(a,c));if(f==g)e.h=0;else if(f==a&&c>=d)e.h=60*((c-d)/(f-g));else if(f==a&&c<d)e.h=60*((c-d)/(f-g))+360;else if(f==c)e.h=60*((d-a)/(f-g))+120;else if(f==d)e.h=60*((a-c)/(f-g))+240;e.l=
0.5*(f+g);if(f==g)e.s=0;else if(e.l<=0.5)e.s=(f-g)/(2*e.l);else if(e.l>0.5)e.s=(f-g)/(2*(1-e.l));return e};b.prototype.toColor=function(){var a=0,a=this.l<0.5?this.l*(1+this.s):this.l+this.s-this.l*this.s,b=2*this.l-a,d=this.h/360,e=this._getComponent(this._norm(d+1/3),b,a),f=this._getComponent(this._norm(d),b,a),a=this._getComponent(this._norm(d-1/3),b,a);return c.Color.fromRgba({a:this.a,r:e,g:f,b:a})};b.prototype._norm=function(a){a<0&&(a+=1);a>1&&(a-=1);return a};b.prototype._getComponent=function(a,
b,c){return a<1/6?b+(c-b)*6*a:a<0.5?c:a<2/3?b+(c-b)*6*(2/3-a):b};return b}();c.HslColor=d})(d.charting||(d.charting={}))})(geocortex||(geocortex={}));
