!function(){var i="<div class='gcx-notify' data-binding='{@visible: isTopNotification}'>    <div class='gcx-notify-container'>        <div class='gcx-icon notify-item' data-binding='{@visible: iconUri}'>            <img data-binding='{src: iconUri}{alt: iconAltText}' aria-hidden='true' />        </div>        <div class='gcx-notify-content notify-item'>            <span class='notify-text' data-binding='{@text: truncatedNotificationText}{title: notificationText}'></span>        </div>        <ul class='gcx-buttons-list notify-item' data-binding='{@source: notificationButtons}{@visible: notificationButtons}'>            <li class='gcx-button-item' data-binding='{@template-for: notificationButtons}'>                <button class='button' data-binding='{@text: text}{@event-onclick: handleClickNotificationButton}'></button>            </li>        </ul>        <div class='gcx-panel-close notify-item' data-binding='{@source: closeButton}'>            <button class='icon-button close-16' data-binding='{@template-for: closeButton}{title: @language-common-close}{@event-onclick: handleClose}'></button>        </div>    </div></div>";require({cache:{"Mapping/modules/Notifications/NotificationsModule":function(){var e,s=this&&this.__extends||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])})(t,i)},function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)});define(["require","exports","geocortex/framework/application/ModuleBase","./NotificationViewModel"],function(t,i,o,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e,n=(e=o.ModuleBase,s(a,e),a.prototype.displayNotification=function(t){"string"==typeof t&&(t={id:String.format("{0}{1}",this._defaultNotificationViewId,this.totalViewInstancesAdded),closeButton:{},text:t}),t.id||(t.id=String.format("{0}{1}",this._defaultNotificationViewId,this.totalViewInstancesAdded));var i=t.id,o=this.app.viewManager.getViewById(i),e=o?o.viewModel:null,n=void 0===o;if(n){0<this._notificationViewIds.length&&this._getTopNotificationView().viewModel.isTopNotification.set(!1);var a=t.regionName||this.configuration.region||"TopMapRegion";o=this.createView("NotificationView",i,a),this._storeNotificationView(i)}e||(e=new c.NotificationViewModel(this.app,this.libraryId),o.attach(e)),e.notificationId=i;var s=n||this._isTopNotificationView(i);e.isTopNotification.set(s),e.setNotificationText(t.text),t.iconProperties&&(e.iconUri.set(t.iconProperties.uri),e.iconAltText.set(t.iconProperties.altText)),t.buttons&&(e.notificationButtons.clear(),e.notificationButtons.addItems(t.buttons)),t.closeButton&&(t.closeButton.text||(t.closeButton.text=this.getResource("language-common-close")),e.closeButton.set(t.closeButton))},a.prototype.removeNotification=function(t){var i,o=null;t&&(i=this._isTopNotificationView(t),o=this._removeNotificationView(t)),o&&(this.app.viewManager.destroyView(o),i&&0<this._notificationViewIds.length&&this._getTopNotificationView().viewModel.isTopNotification.set(!0))},a.prototype.createView=function(t,i,o){return this.app.viewManager.createView({viewId:i,typeName:"geocortex.essentialsHtmlViewer.mapping.modules.notifications."+t,markupResource:this.libraryId+"/modules/Notifications/"+t+".html",isVisible:!0,libraryId:this.libraryId,regionName:o})},a.prototype._storeNotificationView=function(t){this._notificationViewIds.push(t),this.viewInstanceCounter++,this.totalViewInstancesAdded++},a.prototype._removeNotificationView=function(t){for(var i=0;i<this._notificationViewIds.length;i++)if(this._notificationViewIds[i]===t)return this._notificationViewIds.splice(i,1),this.viewInstanceCounter--,this.app.viewManager.getViewById(t)},a.prototype._isTopNotificationView=function(t){return this._notificationViewIds[this.viewInstanceCounter-1]===t},a.prototype._getTopNotificationView=function(){var t=this._notificationViewIds[this.viewInstanceCounter-1];return this.app.viewManager.getViewById(t)},a.prototype.initialize=function(t){e.prototype.initialize.call(this,t)},a);function a(t,i){var o=e.call(this,t,i)||this;return o.viewInstanceCounter=0,o.totalViewInstancesAdded=0,o._defaultNotificationViewId="NotificationView",o._notificationViewIds=[],o.app.command("DisplayNotification").register(o,o.displayNotification),o.app.command("RemoveNotification").register(o,o.removeNotification),o}i.NotificationsModule=n})},"Mapping/modules/Notifications/NotificationView":function(){var e,s=this&&this.__extends||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])})(t,i)},function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)});define(["require","exports","geocortex/framework/ui/ViewBase"],function(t,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e,n=(e=o.ViewBase,s(a,e),a.prototype.handleClickNotificationButton=function(t,i,o){o.callback()},a.prototype.handleClose=function(t,i,o){this.app.command("RemoveNotification").execute(this.viewModel.notificationId),o.callback&&o.callback()},a);function a(t,i){return e.call(this,t,i)||this}i.NotificationView=n})},"Mapping/modules/Notifications/NotificationViewModel":function(){var e,c=this&&this.__extends||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])})(t,i)},function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)});define(["require","exports","geocortex/framework/ui/ViewModelBase","geocortex/framework/observables"],function(t,i,o,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n,a=(n=o.ViewModelBase,c(s,n),s.prototype.setNotificationText=function(t){this.notificationText.set(t);var i=this._getTruncatedNotificationText(t,0<this.notificationButtons.length());this.truncatedNotificationText.set(i)},s.prototype._getTruncatedNotificationText=function(t,i){var o=i?this.MAX_CHARS_BUTTON-3:this.MAX_CHARS_NO_BUTTON-3;return t.length>o?String.format("{0}...",t.substr(0,o)):t},s);function s(){var t=null!==n&&n.apply(this,arguments)||this;return t.isTopNotification=new e.Observable,t.iconUri=new e.Observable,t.iconAltText=new e.Observable,t.notificationText=new e.Observable,t.truncatedNotificationText=new e.Observable,t.notificationButtons=new e.ObservableCollection,t.closeButton=new e.Observable,t.MAX_CHARS_NO_BUTTON=160,t.MAX_CHARS_BUTTON=125,t}i.NotificationViewModel=a})},"url:/Mapping/modules/Notifications/NotificationView.html":i}}),require(["geocortex/framework/resourceManager"],function(t){t.resourceManager.register("Mapping","inv","Mapping/modules/Notifications/CSS/common.css","css","LmdjeC1ub3RpZnkgew0KICAgIGJhY2tncm91bmQtY29sb3I6ICNGRkY2QzA7DQogICAgcGFkZGluZzogMC41ZW0gMCAwIDAuNzVlbTsNCiAgICBtaW4taGVpZ2h0OiAzLjI1ZW07DQogICAgbWF4LWhlaWdodDogNmVtOw0KICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgd2lkdGg6IDEwMCU7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgcG9zaXRpb246IHJlbGF0aXZlOw0KfQ0KLnNoZWxsLWxhcmdlIC5nY3gtbm90aWZ5IHsNCiAgICBwYWRkaW5nLWxlZnQ6IDMuNWVtOw0KfQ0KLnRvdWNoIC5zaGVsbC1sYXJnZSAuZ2N4LW5vdGlmeSB7DQogICAgcGFkZGluZy1sZWZ0OiA0LjVlbTsNCn0NCi5zaGVsbC1zbWFsbCAuZ2N4LW5vdGlmeS1jb250ZW50IHsNCiAgICBmb250LXNpemU6IDAuOWVtOw0KICAgIGxpbmUtaGVpZ2h0OiAxLjM3NWVtOw0KfQ0KLm5vdGlmeS1pdGVtIHsNCiAgICBkaXNwbGF5OiB0YWJsZS1jZWxsOw0KICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7DQogICAgcGFkZGluZzogMCAwLjc1ZW0gMC41ZW0gMDsNCn0NCi5nY3gtbm90aWZ5LWNvbnRlbnQubm90aWZ5LWl0ZW0gew0KICAgIHRleHQtYWxpZ246IGxlZnQ7DQp9DQouZ2N4LWljb24uZmxleC1pdGVtLA0KLmdjeC1wYW5lbC1jbG9zZS5mbGV4LWl0ZW0gIHsNCiAgICBmbGV4LWdyb3c6IDA7DQogICAgZmxleC1zaHJpbms6IDA7DQogICAgZmxleC1iYXNpczogMS44NzVlbTsNCn0NCi5pY29uLWJ1dHRvbiB7DQogICAgZGlzcGxheTogYmxvY2s7DQogICAgd2lkdGg6IDEwMCU7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7DQogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIGNlbnRlcjsNCn0NCi5nY3gtcGFuZWwtY2xvc2Ugew0KICAgIHdpZHRoOiAzZW07DQogICAgaGVpZ2h0OiAzZW07DQogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCglwYWRkaW5nLXJpZ2h0OiAwDQp9DQoudG91Y2ggLmdjeC1wYW5lbC1jbG9zZSB7DQoJd2lkdGg6IDMuNWVtOw0KCWhlaWdodDogMy41ZW07DQp9DQouZ2N4LWJ1dHRvbnMtbGlzdCwNCi5nY3gtYnV0dG9uLWl0ZW0gew0KICAgIG1hcmdpbjogMDsNCiAgICBwYWRkaW5nOiAwOw0KICAgIGxpc3Qtc3R5bGU6IG5vbmU7DQp9DQouZ2N4LWJ1dHRvbnMtbGlzdCB7DQogICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQp9DQouZ2N4LWJ1dHRvbi1pdGVtIHsNCiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICAgcGFkZGluZzogMCAwLjVlbSAwLjVlbSAwOw0KICAgIG1hcmdpbi1ib3R0b206IC00cHg7IC8qIE9mZnNldHRpbmcgaW5saW5lIGVsZW1lbnQgaW5oZXJpdCBzcGFjaW5nICovDQp9DQouZ2N4LW5vdGlmeS1jb250YWluZXIgew0KICAgIGRpc3BsYXk6IHRhYmxlOw0KICAgIG1heC13aWR0aDogNTBlbTsNCgltYXJnaW46IDAgYXV0bzsNCn0="),t.resourceManager.register("Mapping","inv","Mapping/modules/Notifications/NotificationView.html","html",i)}),require({cache:{}}),define(["Mapping/modules/Notifications/NotificationView"],function(t){!function(t,i,o){if("string"==typeof t&&(o=i,i=t),void 0!==o)for(var e=i.split("."),n=null,a=window,s=0,c=e.length;s<c;s++)n=e[s],s==c-1?a[n]=o:a[n]||(a[n]={}),a=a[n];else console.warn("Undefined shim for: "+i)}(t,"geocortex.essentialsHtmlViewer.mapping.modules.notifications.NotificationView",t.NotificationView)})}();