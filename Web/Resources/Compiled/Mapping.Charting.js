/*
	
	Copyright (c) 2016, Latitude Geographics Group Ltd.
	All rights reserved.
	       
	Redistribution is not permitted. 
	
	Use in binary form, without modification, is permitted provided that neither 
	the name of the organization nor the names of its contributors may be used 
	to endorse or promote products derived from this software without specific 
	prior written permission.
	       
	THIS SOFTWARE IS PROVIDED BY COPYRIGHT HOLDER ''AS IS'' AND ANY
	EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
	WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
	DISCLAIMED. IN NO EVENT SHALL LATITUDE GEOGRAPHICS GROUP LTD. BE LIABLE FOR ANY
	DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
	(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
	LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
	ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
	(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
	SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

var __extends=this&&this.__extends||function(e,d){function f(){this.constructor=e}for(var h in d)d.hasOwnProperty(h)&&(e[h]=d[h]);e.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)},geocortex;
(function(e){(function(d){(function(f){(function(f){(function(f){var d=function(e){function b(a,c){e.call(this,a,c);this.infrastructureLibraryId="Charting";this.title=new Observable("");this.headerIsVisible=new Observable(!0);this.showXButton=new Observable(!0);this.showBusyIndicator=new Observable(!1);this.responsiveLegendPositioning=new Observable(!1);this.currentChart=new Observable(null);this.autoSize=new Observable(!1);this.height=new Observable(0);this.width=new Observable(0);this.currentChart.bind(this,
this._handleCurrentChartChanged)}__extends(b,e);b.prototype.initialize=function(a){e.prototype.initialize.call(this,a);a&&(a.hasOwnProperty("infrastructureLibraryId")&&(this.infrastructureLibraryId=a.infrastructureLibraryId),a.hasOwnProperty("headerIsVisible")&&this.headerIsVisible.set(!!a.headerIsVisible),a.hasOwnProperty("showXButton")&&this.showXButton.set(!!a.showXButton))};b.prototype.setSize=function(a,c){isNaN(a)||isNaN(c)||(this.width.set(a),this.height.set(c))};b.prototype.onDestroy=function(){e.prototype.onDestroy.call(this);
this.currentChart.set(null);this.app=this.currentChart=null};b.prototype._handleCurrentChartChanged=function(a){this.title.set(a.displayName.get())};return b}(e.framework.ui.ViewModelBase);f.ChartPaneViewModel=d})(f.charting||(f.charting={}))})(f.modules||(f.modules={}))})(d.mapping||(d.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(d){(function(f){(function(f){(function(f){var d=function(f){function b(a,c){f.call(this,a,c);this._chartView=null;this._isDestroyed=!1}__extends(b,f);b.prototype.attach=function(a){var c=this;f.prototype.attach.call(this,a);this.viewModel&&this.containerElement&&(this.auto(this.viewModel.width,this,function(a){return $(c.containerElement).width(a)}),this.auto(this.viewModel.height,this,function(a){return $(c.containerElement).height(a)}))};b.prototype.resolveWidget=function(a,
c,b){return c&&"ChartWidget"===a?(this._chartView=this.app.viewManager.createView({markupResource:"Charting/charting/Chart.html",typeName:"geocortex.charting.Chart",isVisible:!0,libraryId:this.viewModel.infrastructureLibraryId||"Charting"}),this.viewModel&&this.viewModel.responsiveLegendPositioning.get()&&this._overrideLegendPosition(c),this._chartView.attach(c),this.viewModel.showBusyIndicator.sync(this._chartView.isBusy),this._chartView):f.prototype.resolveWidget.call(this,a,c)};b.prototype.refresh=
function(){this.viewModel&&this.viewModel.responsiveLegendPositioning.get()&&this.viewModel.currentChart.get()&&this._overrideLegendPosition(this.viewModel.currentChart.get());this._chartView&&this._chartView.updateLayout()};b.prototype.destroy=function(){f.prototype.destroy.call(this);this._chartView&&this._chartView.destroy();this.viewModel&&(this.viewModel.showBusyIndicator.removeSync(),this.viewModel.destroy());this.app=this.root=this.viewModel=this._chartView=null;this._isDestroyed=!0};b.prototype.displayChart=
function(a){this.viewModel.currentChart.set(a);var c=this._chartView;c&&(c.destroyBindings(),c.attach(a),this.app.command("ActivateView").execute(c.id))};b.prototype.onClose=function(a){};b.prototype.handleClickClose=function(a,c,b){if(this.viewModel&&this.onClose)this.onClose(this.viewModel.currentChart.get());this._isDestroyed||this.app.command("DestroyView").execute(this.id)};b.prototype._overrideLegendPosition=function(a){if(this.root&&a){var c=this.app.configuration.mobileMode?$(window).width():
$(this.root).width(),b=this.app.configuration.mobileMode?$(window).height():$(this.root).height(),c=e.charting.ChartUtils.getResponsiveLegendPosition(a,c>b);a.legendPosition.set(c)}};return b}(e.framework.ui.ViewBase);f.ChartPane=d})(f.charting||(f.charting={}))})(f.modules||(f.modules={}))})(d.mapping||(d.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(d){(function(f){(function(d){(function(d){var h=function(m){function b(a,c){m.call(this,a,c);this.infrastructureLibraryId="Charting";this._savedFillColor=this._savedBorderColor=this._behavior=null;this._lookupTable=new f.infrastructure.Dictionary;this._subscribeToEvents()}__extends(b,m);b.prototype.initialize=function(a){var c=this;m.prototype.initialize.call(this,a);this.doWhenLibrariesDownloaded(function(a){a&&a.hasOwnProperty("infrastructureLibraryId")&&(c.infrastructureLibraryId=
a.infrastructureLibraryId);c.initializeChartFactory();c._registerCommands();a&&a.hasOwnProperty("adapters")&&c._loadAdapters(a.adapters);var g=c.app.command("CreateHighlightLayer"),e=b.DEFAULT_HIGHLIGHT_LAYER_NAME;if(g.canExecute(e))g.execute(e);else var f=g.canExecuteChanged.subscribe(c,function(){g.canExecute(e)&&(g.canExecuteChanged.unsubscribe(f),g.execute(e))})},a)};b.prototype.getStateFilter=function(){return{results:{item:this.app.project.filter.featureSetCollection},displayedCharts:{item:!0}}};
b.prototype.exportState=function(){var a=this,c={results:void 0,displayedCharts:[]};return Promise["try"](function(){a.app.command("_ExportChartingState").execute(c);return c})};b.prototype.applyState=function(a){var c=this,b={state:a,stateAppliedPromises:[]};return Promise["try"](function(){return c.app.command("_ApplyChartingState").execute(b)}).then(function(){return Promise.all(b.stateAppliedPromises)})["return"]()};b.prototype.initializeChartFactory=function(){var a=new d.FormatProvider,c=new e.charting.ChartSeriesProvider(this.app,
this.infrastructureLibraryId),b=new e.essentialsHtmlViewer.mapping.modules.charting.ChartPointCollectionFeatureAggregator;b.formatProvider=a;this.chartFactory=new e.charting.ChartViewModelFactory(this.app,this.infrastructureLibraryId);this.chartFactory.id="ChartViewModelFactory";this.chartFactory.initialize({formatProvider:a,seriesProvider:c,aggregator:b});this.app.registerFrameworkObject(this.chartFactory)};b.prototype.doWhenLibrariesDownloaded=function(a,c){var b=this;if(a)if(this.app.allLibrariesLoaded)a(c);
else var g=this.app.event("ViewerLibrariesDownloadedEvent").subscribe(this,function(){b.app.event("ViewerLibrariesDownloadedEvent").unsubscribe(g);a(c)})};b.prototype._registerCommands=function(){this.app.command("RegisterChartPointAdapter").register(this,this._executeRegisterAdapter);this.app.command("ClearChartHighlights").register(this,this._executeClearChartHighlights,this._canExecuteClearChartHighlights);this.app.command("HighlightChartFeatureSet").register(this,this._executeHighlightChartFeatureSet,
this._canExecuteHighlightChartFeatureSet);this.app.command("RunChartFeatureActions").register(this,this._executeRunChartFeatureActions,this._isValidFeatureSet)};b.prototype._subscribeToEvents=function(){this.app.event("ChartPointMouseHoverBeginEvent").subscribe(this,this._chartPointMouseHoverBeginEventHandler)};b.prototype._executeRegisterAdapter=function(a){if(!a.adapter)throw Error("Cannot register a null chart data adapter.");e.charting.ChartPointAdapterRegistry.registerAdapter(a.adapter,a.sourceType)};
b.prototype._executeClearChartHighlights=function(){this.app.command("SetActiveHighlightLayer").execute(b.DEFAULT_HIGHLIGHT_LAYER_NAME);this.app.command("ClearHighlights").execute();this._savedFillColor&&this.app.command("SetHighlightFillColor").execute(this._savedFillColor);this._savedBorderColor&&this.app.command("SetHighlightBorderColor").execute(this._savedBorderColor)};b.prototype._canExecuteClearChartHighlights=function(){return this.app.command("SetActiveHighlightLayer").canExecute(b.DEFAULT_HIGHLIGHT_LAYER_NAME)&&
this.app.command("ClearHighlights").canExecute()&&this.app.command("SetHighlightFillColor").canExecute(void 0)&&this.app.command("SetHighlightBorderColor").canExecute(void 0)};b.prototype._executeHighlightChartFeatureSet=function(a){a=this._convertParameterToFeatureSet(a);this._savedBorderColor=this.app.highlightManager.getHighlightBorderColor();this._savedFillColor=this.app.highlightManager.getHighlightFillColor();this.app.command("SetActiveHighlightLayer").execute(b.DEFAULT_HIGHLIGHT_LAYER_NAME);
if(this._lookupTable.containsKey(a.uniqueId)){var c=this._lookupTable.get(a.uniqueId);if(c=e.charting.ChartUtils.findSeriesViewModelFromChartPoint(c.chartPoint,c.chartViewModel.seriesViewModels.getItems())){var k=b.DEFAULT_FILL_COLOR,g=b.DEFAULT_BORDER_COLOR;c.distinctColor?(k=c.distinctColor.toString(!0),g=e.charting.ColorUtils.generateSelectionColor(c.distinctColor).toString(!0)):c.seriesDefinition&&c.seriesDefinition.color&&(k=c.seriesDefinition.color.toString(!0),g=e.charting.ColorUtils.generateSelectionColor(c.seriesDefinition.color).toString(!0));
this.app.command("SetHighlightFillColor").execute(g);this.app.command("SetHighlightBorderColor").execute(k)}}this.app.command("HighlightFeatureSet").execute(a)};b.prototype._canExecuteHighlightChartFeatureSet=function(a){a=this._convertParameterToFeatureSet(a);return this.app.command("SetActiveHighlightLayer").canExecute(b.DEFAULT_HIGHLIGHT_LAYER_NAME)&&this.app.command("SetHighlightFillColor").canExecute(void 0)&&this.app.command("SetHighlightBorderColor").canExecute(void 0)&&this.app.command("HighlightFeatureSet").canExecute(a)};
b.prototype._convertParameterToFeatureSet=function(a){var c=null;a instanceof e.charting.eventArgs.ChartPointEventArgs?c=d.ChartUtils.getFeaturesFromChartPoint(a.chartPoint):a instanceof f.infrastructure.FeatureSet&&(c=a);return c};b.prototype._executeRunChartFeatureActions=function(a){var c=this,b=this._convertParameterToFeatureSet(a),g;a instanceof e.charting.eventArgs.ChartPointEventArgs?g=a.chartViewModel:this._lookupTable.containsKey(b.uniqueId)&&(g=this._lookupTable.get(b.uniqueId).chartViewModel);
if(g){if(a=g.chartDefinition.area){a.actionZoom?this.app.command("ZoomToAllFeatures").execute(b.features.getItems()):a.actionPan&&this.app.command("PanToAllFeatures").execute(b.features.getItems());if(a.actionFeatureDetails){var f=b.features.getAt(0);this.app.command("ClearChartHighlights").execute();this.app.configuration.mobileMode&&$(".k-chart").trigger("mouseout");setTimeout(function(){c.app.command("ShowFeatureDetails").execute(f)},0)}a.actionRunCommand&&(b=a.commandName,a=a.commandParameter?
a.commandParameter:null,b&&this.app.command(b).execute(a))}}else this.app.trace.warning("Could not execute actions associated with clicking on a chart. Chart configuration not found.")};b.prototype._isValidFeatureSet=function(a){a=this._convertParameterToFeatureSet(a);return null!==a&&a instanceof f.infrastructure.FeatureSet&&0<a.features.getLength()};b.prototype._chartPointMouseHoverBeginEventHandler=function(a){if(a){var c={chartPoint:a.chartPoint,chartViewModel:a.chartViewModel};(a=d.ChartUtils.getFeaturesFromChartPoint(a.chartPoint))&&
this._lookupTable.set(a.uniqueId,c)}};b.prototype._loadAdapters=function(a){for(var c=0;c<a.length;c++){var b=a[c];b&&this._loadAdapter(b)}};b.prototype._loadAdapter=function(a){var c=dojo.getObject(a.type);c&&(c=new c,"function"==typeof c.initialize&&c.initialize(a.configuration),a={adapter:c,sourceType:a.source||"Field"},this.app.command("RegisterChartPointAdapter").execute(a))};b.DEFAULT_HIGHLIGHT_LAYER_NAME="Charts";b.DEFAULT_FILL_COLOR="#99ECEC3A";b.DEFAULT_BORDER_COLOR="#FFCCCC33";return b}(e.framework.application.ModuleBase);
d.ChartingModule=h})(d.charting||(d.charting={}))})(f.modules||(f.modules={}))})(d.mapping||(d.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(d){(function(f){(function(f){(function(f){var d=function(f){function b(a,c){f.call(this,a,c);this._handles={appEvents:[],mapEvents:[],fsEvents:[]};this._chartConfig={animationsEnabled:!0,gradientsEnabled:!1,interactiveLegendEnabled:!1,pieStartAngle:180,renderAs:"svg",chartWidth:0,chartHeight:0};this._chartFactory=null;this.enabled=!0;this.featureSetCollection=new Observable;this.charts=new ObservableCollection;this.defaultCharts=new ObservableCollection;this.displayedCharts=
new ObservableCollection;this.expanded=new Observable(!1);this.infrastructureLibraryId="Charting";this.headerIsVisible=new Observable(!0);this.showXButton=new Observable(!0);this.isGenerated=new Observable(!1);this.featureSetCollection.bind(this,this._handleCollectionChanged)}__extends(b,f);b.prototype.initialize=function(a){f.prototype.initialize.call(this,a);a&&(a.hasOwnProperty("chartingEnabled")&&(this.enabled=!!a.chartingEnabled),a.hasOwnProperty("infrastructureLibraryId")&&(this.infrastructureLibraryId=
a.infrastructureLibraryId),a.hasOwnProperty("headerIsVisible")&&this.headerIsVisible.set(!!a.headerIsVisible),a.hasOwnProperty("showXButton")&&this.showXButton.set(!!a.showXButton),a=a.chartConfiguration)&&(a.hasOwnProperty("chartWidth")&&(this._chartConfig.chartWidth=parseInt(a.chartWidth)),a.hasOwnProperty("chartHeight")&&(this._chartConfig.chartHeight=parseInt(a.chartHeight)),a.hasOwnProperty("renderAs")&&(this._chartConfig.renderAs=a.renderAs),a.hasOwnProperty("animationsEnabled")&&(this._chartConfig.animationsEnabled=
!!a.animationsEnabled),a.hasOwnProperty("gradientsEnabled")&&(this._chartConfig.gradientsEnabled=!!a.gradientsEnabled),a.hasOwnProperty("interactiveLegendEnabled")&&(this._chartConfig.interactiveLegendEnabled=!!a.interactiveLegendEnabled),a.hasOwnProperty("pieStartAngle")&&(this._chartConfig.pieStartAngle=a.pieStartAngle));this._registerCommands();this._subscribeEvents()};b.prototype.refresh=function(){this.featureSetCollection.pulse()};b.prototype.getChartFactory=function(){null===this._chartFactory&&
(this._chartFactory=this.app.getFrameworkObjectById("ChartViewModelFactory"));return this._chartFactory};b.prototype.doWhenChartGenerationCompleted=function(a){var c=this;if(a)if(this.isGenerated.get())a(this);else var b=this.isGenerated.bind(this,function(g){g&&(c.isGenerated.unbind(b),a(c))})};b.prototype.applyChartOptions=function(a){a&&a.setOptions(this._chartConfig)};b.prototype.findChartById=function(a){return e.framework.utils.ArrayUtils.firstOrDefault(this.charts.getItems(),function(c){return c.chartDefinition.id===
a})};b.prototype.findDisplayedChartById=function(a){return e.framework.utils.ArrayUtils.firstOrDefault(this.displayedCharts.getItems(),function(c){return c.chartDefinition.id===a})};b.prototype.createChart=function(a){a=this.getChartFactory().createInstance(a.chartDefinition,a.chartFeatureType);this.applyChartOptions(a);return a};b.prototype.chartPointCollectionLoadDelegate=function(a,c){var b=this;return function(){return b.getChartFactory()?b.getChartFactory().createChartPointCollection(a.chartDefinition,
c,a.chartFeatureType):null}};b.prototype.initializeCharts=function(a){var c=this;if(a&&!a.features.isEmpty()&&a.layer&&a.layer.charts&&0!=a.layer.charts.length){this.isGenerated.set(!1);var b=this.charts.getItems().map(function(a){return a.chartDefinition.id}),b=this._createCharts(a.layer,b);this.charts.addItems(b);this.cleanup();if(0==this.charts.getLength())this.defaultCharts.clear();else{for(var b=a.layer.charts.filter(function(a){return a.chartDefinition.visible&&a.defaultChart&&a.chartFeatureType==
e.charting.ChartFeatureType.MultiFeature}),g=0;g<b.length;g++){var f=b[g],d=e.framework.utils.ArrayUtils.firstOrDefault(this.charts.getItems(),function(a){return a.chartDefinition.id===f.id});d&&!this.defaultCharts.contains(d)&&this.defaultCharts.addItem(d)}0==this.defaultCharts.getLength()&&this.defaultCharts.addItem(this.charts.getAt(0));a.layer.charts&&a.layer.charts.some(function(a){return e.charting.ChartUtils.containsDataLinks(a.chartDefinition)})?a.doWhenDataLinkingCompleted(function(a){c._buildChartPointCollections(a);
c.isGenerated.set(!0)}):(this._buildChartPointCollections(a),this.isGenerated.set(!0))}}};b.prototype.cleanup=function(){if(this.featureSetCollection.get())for(var a=this.featureSetCollection.get().featureSets.getItems().map(function(a){return a.layer}),c=this.charts.getLength();c--;){var b=this.charts.getAt(c);this.displayedCharts.contains(b)||null!=a&&e.framework.utils.ArrayUtils.contains(a,b.tag)||(this.defaultCharts.removeItem(b),this.charts.removeAt(c))}};b.prototype.updateDisplayedCharts=function(){this.displayedCharts.get().forEach(function(a){a.chartPointCollection.get()})};
b.prototype._registerCommands=function(){this.app.command("SetCollectionOfInterest").register(this,this._executeChangeCollectionOfInterest)};b.prototype._subscribeEvents=function(){this._disconnectAppEvents();this._connectAppEvent("FSMCollectionChangedEvent",this._fsmCollectionChangedEventHandler);this._connectAppEvent("FSMCollectionRemovedEvent",this._fsmCollectionRemovedEventHandler)};b.prototype._handleCollectionChanged=function(a){this.cleanup();this._disconnectFeatureSetChanges(a);if(a&&0<a.featureSets.getLength()){for(var c=
0;c<a.featureSets.getLength();c++)this.initializeCharts(a.featureSets.getAt(c));this._connectFeatureSetChanges(a)}};b.prototype._fsmCollectionChangedEventHandler=function(a){var c=this;this.featureSetCollection.get()&&a&&a.featureSetCollection&&a.featureSetCollection.id==this.featureSetCollection.get().id&&(!a.collectionChangedEventArgs||"clear"!==a.collectionChangedEventArgs.type&&"remove"!==a.collectionChangedEventArgs.type?this.featureSetCollection.set(a.featureSetCollection):setTimeout(function(){c.featureSetCollection.set(a.featureSetCollection)},
0))};b.prototype._featureSetChanged=function(a,c){};b.prototype._fsmCollectionRemovedEventHandler=function(a){this.featureSetCollection.get()&&a&&a.featureSetCollectionId&&a.featureSetCollectionId==this.featureSetCollection.get().id&&(this._disconnectFeatureSetChanges(),this.featureSetCollection.set(null))};b.prototype._executeChangeCollectionOfInterest=function(a){(a=this.app.featureSetManager.getCollectionById(a))&&a!==this.featureSetCollection.get()&&(this._disconnectFeatureSetChanges(),this.featureSetCollection.set(a))};
b.prototype._createCharts=function(a,c){void 0===c&&(c=null);var b=[];if(a&&a.charts)for(var g=0;g<a.charts.length;g++){var f=a.charts[g];f&&f.chartDefinition.id&&f.chartDefinition.visible&&f.chartFeatureType==e.charting.ChartFeatureType.MultiFeature&&!(c&&0<=c.indexOf(f.chartDefinition.id))&&(f=this.createChart(f),f.tag=a,b.push(f))}return b};b.prototype._buildChartPointCollections=function(a){for(var c=a.layer.charts.map(function(a){return a.id}),b=0;b<this.charts.getLength();b++){var g=this.charts.getAt(b);
if(g&&c&&!(0>c.indexOf(g.chartDefinition.id))){var e=this.chartPointCollectionLoadDelegate(g,a),g=g.chartPointCollection;g.clear();g.delegateGetter=e;g.cacheDelegateResults=!0}}this.expanded.get()&&this.updateDisplayedCharts()};b.prototype._connectAppEvent=function(a,c){var b=this.app.event(a).subscribe(this,c);this._handles.appEvents.push({eventName:a,token:b})};b.prototype._disconnectAppEvents=function(){if(0<this._handles.appEvents.length)for(var a=0;a<this._handles.appEvents.length;a++){var c=
this._handles.appEvents[a];this.app.event(c.eventName).unsubscribe(c.token)}this._handles.appEvents.length=0};b.prototype._connectFeatureSetChanges=function(a){for(var c=this,b=0;b<a.featureSets.getLength();b++){var g=a.featureSets.getAt(b);if(!this._handles.fsEvents.some(function(a){return a.collection===g.features})){var e=g.features.bind(this,function(b){return c._featureSetChanged(a.id,b)});this._handles.fsEvents.push({collection:g.features,token:e})}}};b.prototype._disconnectFeatureSetChanges=
function(a){a=a?a.featureSets.getRange(0):null;for(var c=0;c<this._handles.fsEvents.length;c++){var b=this._handles.fsEvents[c];!b.collection||a&&a.some(function(a){return a.features===b.collection})||(b.collection.unbind(b.token),this._handles.fsEvents.splice(c,1),c--)}};return b}(e.essentialsHtmlViewer.mapping.infrastructure.ui.components.SmartPanel.SmartPanelViewModel);f.ChartingViewModel=d})(f.charting||(f.charting={}))})(f.modules||(f.modules={}))})(d.mapping||(d.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(d){(function(f){(function(f){(function(f){var d=function(d){function b(a,c){d.call(this,a,c);this._delayedResizeHandle=null;this._panes=[];this._activePanes=[];this._registerCommandsAndEvents()}__extends(b,d);b.prototype._registerCommandsAndEvents=function(){this.app.command("ShowChartingView").register(this,this._executeShowChartingView,this._canExecuteShowChartingView);this.app.command("DisplayChartById").register(this,this.addChartById,this._canExecuteDisplayChartById);this.app.command("RemoveChartById").register(this,
this.destroyChartById,this._canExecuteRemoveChartById);this.app.command("ClearCharts").register(this,this.clearCharts,this._canExecuteClearCharts);this.app.event("ApplicationResizedEvent").subscribe(this,this.handleApplicationResizedEvent);this.app.event("ViewDimensionsChangedEvent").subscribe(this,this.handleViewDimensionsChangedEvent);this.app.event("ViewHostedEvent").subscribe(this,this.handleViewHostedEvent);this.app.event("ViewUnhostedEvent").subscribe(this,this.handleViewUnhostedEvent);this.app.event("ViewActivatedEvent").subscribe(this,
this.handleViewActivatedEvent);this.app.event("ViewDeactivatedEvent").subscribe(this,this.handleViewDeactivatedEvent);this.app.event("ViewContainerActivatedEvent").subscribe(this,this.handleViewContainerActivatedEvent);this.app.event("FSMCollectionOpenedEvent").subscribe(this,this._enableOrDisableShowChartingView);this.app.event("FSMCollectionChangedEvent").subscribe(this,this._enableOrDisableShowChartingView);this.app.event("FSMCollectionAddedEvent").subscribe(this,this._enableOrDisableShowChartingView);
this.app.event("FSMCollectionRemovedEvent").subscribe(this,this._enableOrDisableShowChartingView);this.app.command("_ExportChartingState").register(this,this._exportState);this.app.command("_ApplyChartingState").register(this,this._applyState)};b.prototype._enableOrDisableShowChartingView=function(a){this.app.command("ShowChartingView").raiseCanExecuteChanged()};b.prototype.resize=function(){d.prototype.resize.call(this);e.framework.utils.isNullOrUndefined(this.scrollRegionElement)||dojo.style(this.scrollRegionElement,
"top","")};b.prototype.activated=function(){d.prototype.activated.call(this);this.viewModel&&(this.viewModel.expanded.set(!0),!1===this.isActive&&(this._delayedResizeHandle=this._delayedResizeContainer()));this.isActive=!0};b.prototype.deactivated=function(){d.prototype.deactivated.call(this);this.viewModel&&this.viewModel.expanded.set(!1);this.isActive=!1;this.app.command("ClearChartHighlights").execute()};b.prototype.resolveWidget=function(a,c,b){var g=this;return"ChartSelector"===a?(this._selectorView=
this.app.viewManager.createView({typeName:"geocortex.framework.ui.Selector.SelectorView",markupResource:"Framework.UI/geocortex/framework/ui/Selector/SelectorView.html",isVisible:!0,title:this.app.getResource(this.libraryId,"language-feature-charts"),libraryId:"Framework.UI"}),this.selector=new e.framework.ui.Selector.SelectorViewModel(this.app,this.libraryId,!!this.app.configuration.mobileMode,!!this.app.configuration.mobileMode),this.selector.setCollection(this.viewModel.charts,"displayName",null),
this.selector.selectorText.set(this.app.getResource(this.libraryId,"language-charting-selector-text")),this.selector.noItemsText.set(this.app.getResource(this.libraryId,"language-charting-no-items")),this.selector.onSelectItem=function(a){return g.handleSelectChart(a.item)},this.selector.onUnselectItem=function(a){return g.handleUnSelectChart(a.item)},this._selectorView.attach(this.selector),this._selectorView):d.prototype.resolveWidget.call(this,a,c,null)};b.prototype.addDefaultCharts=function(){if(!(0<
this.viewModel.displayedCharts.getLength()))for(var a=0;a<this.viewModel.defaultCharts.getLength();a++){var c=this.viewModel.defaultCharts.getAt(a);this.addChart(c)}};b.prototype.addChartById=function(a){a=this.viewModel.findChartById(a);this.addChart(a)};b.prototype.addChart=function(a){if(!a||!this.canAddChart(a))return null;!1===this.isActive&&this.activateContainer();this.viewModel.displayedCharts.addItem(a);this.app.command("ClearCharts").raiseCanExecuteChanged();this.selector&&this.selector.hasItemViewModelFor(a)&&
this.selector.selectItem(a);this.viewModel.applyChartOptions(a);a.chartPointCollection.get();return this._hostChartInPane(a)};b.prototype.canAddChart=function(a){return a&&this.viewModel?!this.viewModel.displayedCharts.contains(a):!1};b.prototype.destroyChartById=function(a){a=this.viewModel.findDisplayedChartById(a);this.destroyChart(a)};b.prototype.destroyChart=function(a){if(!a||!this.canDestroyChart(a))return!1;this.viewModel.displayedCharts.removeItem(a);this.app.command("ClearCharts").raiseCanExecuteChanged();
this.selector&&this.selector.hasItemViewModelFor(a)&&this.selector.unselectItem(a);a.destroyChartPoints();this.viewModel.cleanup();var c=this.findChartPaneForViewModel(a);if(c)return this.app.command("DestroyView").execute(c.id),!0;this.app.trace.warning("Could not destroy chart '{0}': Chart not found.".format(a.chartId.get()));return!1};b.prototype.canDestroyChart=function(a){return a&&this.viewModel?this.viewModel.displayedCharts.contains(a):!1};b.prototype.clearCharts=function(){for(var a=this.viewModel.displayedCharts.getLength();a--;){var c=
this.viewModel.displayedCharts.getAt(a);this.destroyChart(c)}};b.prototype.handleSelectChart=function(a){this.addChart(a)};b.prototype.handleUnSelectChart=function(a){this.destroyChart(a)};b.prototype.handleClickClose=function(a,c,b){this.deactivateContainer()};b.prototype.handleViewHostedEvent=function(a){this.viewModel&&a.region.name===this.viewModel.regionName.get()&&!e.framework.utils.ArrayUtils.contains(this._panes,a.view)&&this._panes.push(a.view)};b.prototype.handleViewUnhostedEvent=function(a){this.viewModel&&
a.region.name===this.viewModel.regionName.get()&&e.framework.utils.ArrayUtils.contains(this._panes,a.view)&&(e.framework.utils.ArrayUtils.removeItem(this._panes,a.view),e.framework.utils.ArrayUtils.removeItem(this._activePanes,a.view))};b.prototype.handleViewActivatedEvent=function(a){if(a&&this.viewModel){var c=this.app.viewManager.getRegionForViewId(a.id);if(c&&c.name===this.viewModel.regionName.get()){var c=e.framework.utils.ArrayUtils.contains(this._panes,a),b=e.framework.utils.ArrayUtils.contains(this._activePanes,
a);c&&!b&&(this._activePanes.push(a),this._resizeContainer())}}};b.prototype.handleViewDeactivatedEvent=function(a){if(a&&this.viewModel){var c=this.app.viewManager.getRegionForViewId(a.id);if(c&&c.name===this.viewModel.regionName.get()){var c=e.framework.utils.ArrayUtils.contains(this._panes,a),b=e.framework.utils.ArrayUtils.contains(this._activePanes,a);c&&b&&(e.framework.utils.ArrayUtils.removeItem(this._activePanes,a),this._resizeContainer())}}};b.prototype.handleViewDimensionsChangedEvent=function(a){"ShellView"===
a.view.id&&this._resizeContainer()};b.prototype.handleApplicationResizedEvent=function(){this._resizeContainer()};b.prototype.handleViewContainerActivatedEvent=function(a){this.isActive&&this._isViewHostedInContainer(a)&&(this._cancelDelayedResizeContainer(),this._delayedResizeContainer())};b.prototype._isViewHostedInContainer=function(a){if(a instanceof e.framework.ui.ViewContainer.ViewContainerView){a=a.viewModel.regionName.get();var c=this.app.viewManager.getRegionForViewId(this.id);if(c&&c.name===
a)return!0}return!1};b.prototype._cancelDelayedResizeContainer=function(){this._delayedResizeHandle&&this._delayedResizeHandle.stop();this._delayedResizeHandle=null};b.prototype._delayedResizeContainer=function(){this._delayedResizeHandle=new e.framework.utils.TimeDelayedAction(0,this._resizeContainer,this);this._delayedResizeHandle.start();return this._delayedResizeHandle};b.prototype._resizeContainer=function(a){this._cancelDelayedResizeContainer();if(this.viewModel&&!1!==this.isActive&&!1!==this._active){a=
-1<this.viewModel.regionType.get().indexOf("Stack");var c=this.scrollRegionElement,b=$(".view.active .chart-pane",c);if(a&&0!==b.length)for(a=Math.floor(c.clientWidth/b.length-2),c=c.clientHeight,b=0;b<this._panes.length;b++){var e=this._panes[b];e&&e.viewModel&&(e.viewModel.setSize(a,c),e.refresh())}}};b.prototype.findChartPaneForViewModel=function(a){return e.framework.utils.ArrayUtils.firstOrDefault(this._panes,function(c){return c&&c.viewModel&&c.viewModel.currentChart.get()===a})};b.prototype._hostChartInPane=
function(a){var c=this,b=new f.ChartPaneViewModel(this.app,this.libraryId);b.id="ChartPaneViewModel-"+e.framework.utils.alphaNumericToken();b.currentChart.set(a);b.responsiveLegendPositioning.set(!!this.app.configuration.mobileMode);b.initialize({title:a.chartDefinition.displayName,infrastructureLibraryId:this.viewModel.infrastructureLibraryId,headerIsVisible:this.viewModel.headerIsVisible.get(),showXButton:this.viewModel.showXButton.get()});a=this.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.modules.charting.ChartPane",
markupResource:"Mapping.Charting/modules/Charting/ChartPane.html",libraryId:this.libraryId||"Mapping.Charting",title:this.app.getResource(this.libraryId,"language-feature-charts"),regionName:this.viewModel.regionName.get(),isVisible:!0,viewModel:b});a.onClose=function(a){return c.destroyChart(a)};return a};b.prototype._executeShowChartingView=function(){this.addDefaultCharts();this.viewModel.updateDisplayedCharts();!1===this.isActive&&this.activateContainer()};b.prototype._canExecuteShowChartingView=
function(){if(this.viewModel&&this.viewModel.featureSetCollection.get())for(var a=this.viewModel.featureSetCollection.get().featureSets.getLength();a--;){var c=this.viewModel.featureSetCollection.get().featureSets.getAt(a);if(c.features&&c.layer&&c.layer.charts&&c.layer.charts.some(function(a){return a.chartDefinition.visible&&a.chartFeatureType===e.charting.ChartFeatureType.MultiFeature}))return!0}return!1};b.prototype._canExecuteDisplayChartById=function(a){return this.viewModel&&this.canAddChart(this.viewModel.findChartById(a))};
b.prototype._canExecuteRemoveChartById=function(a){return this.viewModel&&this.canDestroyChart(this.viewModel.findDisplayedChartById(a))};b.prototype._canExecuteClearCharts=function(){return this.viewModel&&0<this.viewModel.displayedCharts.getLength()};b.prototype._exportState=function(a){a.results=this.app.project.convert.fromGcxFeatureSetCollection(this.viewModel.featureSetCollection.get());a.displayedCharts=this.viewModel.displayedCharts.get().map(function(a){return a.chartId.get()})};b.prototype._applyState=
function(a){var c=this;a.stateAppliedPromises.push(this.app.project.convert.toGcxFeatureSetCollection(a.state.results).then(function(b){c.viewModel.featureSetCollection.set(b);c.clearCharts();(a.state.displayedCharts||[]).forEach(function(a){c.addChartById(a)})}))};return b}(e.essentialsHtmlViewer.mapping.infrastructure.ui.components.SmartPanel.SmartPanelView);f.ChartingView=d})(f.charting||(f.charting={}))})(f.modules||(f.modules={}))})(d.mapping||(d.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer=
{}))})(geocortex||(geocortex={}));
(function(e){(function(d){(function(f){(function(d){(function(d){var h=function(e){function b(){e.apply(this,arguments)}__extends(b,e);b.prototype.attachAttributes=function(a,c){e.prototype.attachAttributes.call(this,a,c);if(c&&c.items&&0<c.items.length){for(var b=this._getFeatureFromChartPoint(c.items[0]),g=b?b.layer:null,b=[],d=0;d<c.items.length;d++){var h=this._getFeatureFromChartPoint(c.items[d]);null!==h&&h instanceof f.infrastructure.Feature&&b.push(h)}g=new f.infrastructure.FeatureSet({layer:g});g.features.addItems(b);
a.attributes=a.attributes||{};a.attributes.features=g}};b.prototype._getFeatureFromChartPoint=function(a){return a&&a.attributes&&a.attributes.hasOwnProperty("feature")?a.attributes.feature:null};return b}(e.charting.aggregation.ChartPointCollectionAggregator);d.ChartPointCollectionFeatureAggregator=h})(d.charting||(d.charting={}))})(f.modules||(f.modules={}))})(d.mapping||(d.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(d){(function(f){(function(d){(function(d){var h=function(){function d(){}d.findDataLinkingResultById=function(b,a){if(b&&b.layer&&b.dataLinkingResults){var c=e.essentials.utilities.SiteResourceIdComparer.lookUp(b.layer.dataLinks,a);if(c)return e.framework.utils.ArrayUtils.firstOrDefault(b.dataLinkingResults.getItems(),function(a){return null!=a&&a.dataLink.get().id===c.id})}return null};d.getFeaturesFromChartPoint=function(b){var a=null;b&&b.attributes&&(b.attributes.hasOwnProperty("feature")?
(b=b.attributes.feature,null!==b&&b instanceof f.infrastructure.Feature&&(a=new f.infrastructure.FeatureSet({layer:b.layer}),a.features.addItem(b))):b.attributes.hasOwnProperty("features")&&(a=b.attributes.features));return a};d.createCompareFunction=function(b){return function(a,c){var e=b(a),g=b(c);return e===g?0:e>g?1:-1}};d.applyChartOptions=function(b,a){b&&a&&b.setOptions(a)};return d}();d.ChartUtils=h})(d.charting||(d.charting={}))})(f.modules||(f.modules={}))})(d.mapping||(d.mapping={}))})(e.essentialsHtmlViewer||
(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(d){(function(f){(function(d){(function(d){var h=function(h){function b(){h.apply(this,arguments)}__extends(b,h);b.prototype.fill=function(a,c,b){if(b&&b.chartCategory&&b.chartSeries&&c&&c instanceof f.infrastructure.FeatureSet&&0!=c.features.getLength()){a||(a=new e.charting.ChartPointCollection);var g=c.features.getAt(0),l=d.ChartUtils.findDataLinkingResultById(g,b.chartSeries.field.dataLinkId);if(l&&!l.dataLink.get().isOneToOne)switch(b.chartFeatureType){case e.charting.ChartFeatureType.SingleFeature:this._fillFromDataLink(a,g,
l,b);break;case e.charting.ChartFeatureType.MultiFeature:for(var h=0;h<c.features.getLength();h++)g=c.features.getAt(h),(l=d.ChartUtils.findDataLinkingResultById(g,b.chartSeries.field.dataLinkId))&&this._fillFromDataLink(a,g,l,b)}else for(l=0;l<c.features.getLength();l++)g=c.features.getAt(l),(g=this.createChartPoint(g,b,null))&&a.items.push(g)}};b.prototype.createChartPoint=function(a,b,f){void 0===f&&(f=null);if(!b||!b.chartCategory||!b.chartSeries)return null;if(null==b.chartType||"undefined"===
typeof b.chartType)b.chartType=e.charting.ChartType.Linear;var g=this.getFieldValue(b.chartSeries.field,a,f),d=null;switch(b.chartType){case e.charting.ChartType.Linear:d=e.charting.ChartUtils.tryGetFieldValue(b.chartCategory.field,a,f)}return this.createChartPointCore(a,b.chartSeries.title,g,d,b,f)};b.prototype.getFieldValue=function(a,b,k){void 0===k&&(k=null);var g=k?k.dataLink:null;k=k?k.dataLinkRow:null;if(!(b&&b instanceof f.infrastructure.Feature&&a&&a.sourceType==e.charting.ChartFieldSourceType.DataLink))return null;
g||(g=d.ChartUtils.findDataLinkingResultById(b,a.dataLinkId),k=null);return g&&g.table.get()?(b=g.table.get())&&0<b.rows.length&&(k||(k=b.rows[0]),a=b.columns.indexOf(a.name),-1<a)?k.row[a]:null:null};b.prototype._fillFromDataLink=function(a,b,f,g){if(b&&f){a||(a=new e.charting.ChartPointCollection);var d=f.table.get();if(d&&0!=d.columns.length)for(var h=0;h<d.rows.length;h++){var m=this.createChartPoint(b,g,{dataLink:f,dataLinkRow:d.rows[h]});m&&a.items.push(m)}}};b.prototype.attachAttributes=function(a,
b,e,g){void 0===g&&(g=null);h.prototype.attachAttributes.call(this,a,b,e,g);a&&b&&b instanceof f.infrastructure.Feature&&(a.attributes=a.attributes||{},a.attributes.feature=b)};return b}(e.charting.ChartPointAdapterBase);d.DataLinkChartPointAdapter=h})(d.charting||(d.charting={}))})(f.modules||(f.modules={}))})(d.mapping||(d.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(d){(function(f){(function(d){(function(d){var h=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.fill=function(a,b,d){if(d&&d.chartCategory&&d.chartSeries&&b&&b instanceof f.infrastructure.FeatureSet){a||(a=new e.charting.ChartPointCollection);for(var g=0;g<b.features.getLength();g++){var h=b.features.getAt(g);(h=this.createChartPoint(h,d))&&a.items.push(h)}}};b.prototype.createChartPoint=function(a,b,d){void 0===d&&(d=null);if(!b||!b.chartCategory||
!b.chartSeries)return null;if(null==b.chartType||"undefined"===typeof b.chartType)b.chartType=e.charting.ChartType.Linear;var f=this.getFieldValue(b.chartSeries.field,a,d),h=null;switch(b.chartType){case e.charting.ChartType.Linear:h=e.charting.ChartUtils.tryGetFieldValue(b.chartCategory.field,a,d)}return this.createChartPointCore(a,b.chartSeries.title,f,h,b,d)};b.prototype.getFieldValue=function(a,b,d){if(!(b&&b instanceof f.infrastructure.Feature&&a&&a.sourceType==e.charting.ChartFieldSourceType.Field))return null;
var g;if(b.attributes)for(d=0;d<b.attributes.getLength();d++){var h=b.attributes.getAt(d);if(h.name.get()==a.name){g=h;break}}return g?this._normalizeAttribute(g.value.get(),g.type.get()):(b=b.esriFeature.get())&&b.attributes?b.attributes[a.name]:null};b.prototype.attachAttributes=function(a,b,e,g){void 0===g&&(g=null);d.prototype.attachAttributes.call(this,a,b,e,g);a&&b&&b instanceof f.infrastructure.Feature&&(a.attributes=a.attributes||{},a.attributes.feature=b)};b.prototype._normalizeAttribute=
function(a,b){if(b)if("datetime"===b.toLowerCase()){if("number"===typeof a){var e=new Date(a);"Invalid Date"==e&&(e=new Date(parseInt(a.toString())));return e}if("string"===typeof a&&(e=Date.parse(a),"number"===typeof e))return new Date(e)}else{if(-1<["single","double","float"].indexOf(b.toLowerCase()))return parseFloat(a);if(-1<["int32","short"].indexOf(b.toLowerCase()))return parseInt(a)}return a};return b}(e.charting.ChartPointAdapterBase);d.FeatureChartPointAdapter=h})(d.charting||(d.charting=
{}))})(f.modules||(f.modules={}))})(d.mapping||(d.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(d){(function(d){(function(d){(function(d){var f=e.essentialsHtmlViewer.mapping.infrastructure.FormatUtils,h=e.essentialsHtmlViewer.mapping.infrastructure.TimeZoneUtils,b=function(){function a(){this._kendoFormatProvider=new e.charting.globalization.KendoFormatProvider}a.prototype.toString=function(a,b,e,d){return a instanceof Date?(a=d?h.correctDatesForDisplayInDisplayTimeZone(a,e,d):h.correctDatesForDisplayInLocalTime(a,e),f.formatDate(a,b)):"number"===typeof a?f.formatNumber(a,
b):this._kendoFormatProvider.toString(a,b)};return a}();d.FormatProvider=b})(d.charting||(d.charting={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(d){(function(d){(function(d){(function(d){var f=function(f){function b(a,b){f.call(this,a,b);this._chartPane=null;this.app.event("ApplicationResizedEvent").subscribe(this,this.handleApplicationResizedEvent)}__extends(b,f);b.prototype.attach=function(a){var b=this;f.prototype.attach.call(this,a);a&&(a.currentChart.bind(this,this._onCurrentChartChanged),a.onNewFeatureInitialized=function(){return b._onNewFeatureInitialized()})};b.prototype.activated=function(){f.prototype.activated.call(this);
this._refreshChartPane()};b.prototype.resolveWidget=function(a,b,d){var g=this;return"ChartSelector"===a?(this._selectorView=this.app.viewManager.createView({typeName:"geocortex.framework.ui.Selector.SelectorView",markupResource:"Framework.UI/geocortex/framework/ui/Selector/SelectorView.html",isVisible:!0,libraryId:"Framework.UI"}),this.selector=new e.framework.ui.Selector.SelectorViewModel(this.app,this.libraryId,!0),this.selector.showNativeSelect.get()&&(this.selector.dummyItemText=this.app.getResource(this.libraryId,
"language-feature-no-chart")),this.selector.setCollection(this.viewModel.charts,"displayName",null),this.selector.selectorText.set(this.app.getResource(this.libraryId,"language-charting-selector-text")),this.selector.noItemsText.set(this.app.getResource(this.libraryId,"language-charting-no-items")),this.selector.onSelectItem=function(a){return g.handleSelectChart(a.item)},this.selector.onUnselectItem=function(a){return g.handleUnSelectChart(a.item)},this._selectorView.attach(this.selector),this._selectorView):
b&&"ChartPaneWidget"===a?this._chartPane=this._hostChartInPane(b):f.prototype.resolveWidget.call(this,a,b)};b.prototype._hostChartInPane=function(a){var b=this,f=new d.ChartPaneViewModel(this.app,this.libraryId);f.id="ChartPaneViewModel-"+e.framework.utils.alphaNumericToken();f.responsiveLegendPositioning.set(!0);f.currentChart.set(a);f.initialize({title:a.chartDefinition.displayName,infrastructureLibraryId:this.viewModel.infrastructureLibraryId,headerIsVisible:!0,showXButton:!0});a=this.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.modules.charting.ChartPane",
markupResource:"Mapping.Charting/modules/Charting/ChartPane.html",libraryId:this.libraryId||"Mapping.Charting",isVisible:!0,viewModel:f});a.onClose=function(a){return b.destroyChart(a)};return a};b.prototype.handleSelectChart=function(a){this.addChart(a)};b.prototype.handleUnSelectChart=function(a){this.destroyChart(a)};b.prototype.handleApplicationResizedEvent=function(){this.viewModel&&this._chartPane&&this._chartPane.refresh()};b.prototype.addChart=function(a){return a&&this.viewModel.currentChart.get()!==
a?(a.chartPointCollection.get(),this.viewModel.currentChart.set(a),this.selector.selectItem(a),this.handleApplicationResizedEvent(),this._chartPane):null};b.prototype.destroyChart=function(a){if(a&&this.viewModel.currentChart.get()===a){if(!this._chartPane)return this.app.trace.warning("Could not destroy chart '{0}': Chart not found.".format(a.chartId.get())),!1;this.viewModel.currentChart.set(null);this.selector.unselectItem(a);a.destroyChartPoints();this.cleanup();return!0}return!1};b.prototype.cleanup=
function(){this._chartPane&&(this._chartPane.destroy(),this._chartPane=null)};b.prototype._onCurrentChartChanged=function(a){a||this.cleanup()};b.prototype._onNewFeatureInitialized=function(){this.viewModel.charts.length()&&(this.addChart(this.viewModel.charts.getAt(0)),this._refreshChartPane())};b.prototype._refreshChartPane=function(){var a=this;setTimeout(function(){return a.handleApplicationResizedEvent()},0)};return b}(e.framework.ui.ViewBase);d.SingleFeatureChartView=f})(d.charting||(d.charting=
{}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(e){(function(d){(function(d){(function(h){(function(h){var n=function(h){function b(a,b){h.call(this,a,b);this._chartFactory=null;this._chartConfig={animationsEnabled:!0,gradientsEnabled:!1,interactiveLegendEnabled:!1,interactiveChart:!1,pieStartAngle:180,renderAs:"svg",chartWidth:0,chartHeight:0};this._syncSource=this._syncToken=null;this.charts=new ObservableCollection;this.currentChart=new Observable;this.infrastructureLibraryId="Charting";this.containerRegionName=new Observable("")}
__extends(b,h);b.prototype.onNewFeatureInitialized=function(){};b.prototype.getChartFactory=function(){null===this._chartFactory&&(this._chartFactory=this.app.getFrameworkObjectById("ChartViewModelFactory"));return this._chartFactory};b.prototype.initialize=function(a){h.prototype.initialize.call(this,a);a&&(a.hasOwnProperty("infrastructureLibraryId")&&(this.infrastructureLibraryId=a.infrastructureLibraryId),a.hasOwnProperty("containerRegionName")&&this.containerRegionName.set(a.containerRegionName),
a=a.chartConfiguration)&&(a.hasOwnProperty("chartWidth")&&(this._chartConfig.chartWidth=parseInt(a.chartWidth)),a.hasOwnProperty("chartHeight")&&(this._chartConfig.chartHeight=parseInt(a.chartHeight)),a.hasOwnProperty("renderAs")&&(this._chartConfig.renderAs=a.renderAs),a.hasOwnProperty("animationsEnabled")&&(this._chartConfig.animationsEnabled=!!a.animationsEnabled),a.hasOwnProperty("gradientsEnabled")&&(this._chartConfig.gradientsEnabled=!!a.gradientsEnabled),a.hasOwnProperty("interactiveLegendEnabled")&&
(this._chartConfig.interactiveLegendEnabled=!!a.interactiveLegendEnabled),a.hasOwnProperty("pieStartAngle")&&(this._chartConfig.pieStartAngle=a.pieStartAngle))};b.prototype.handleCurrentFeatureChanged=function(a){this.charts.clear();this.currentChart.set(null);this._syncToken&&this._syncSource&&(this._syncSource.unbind(this._syncToken),this._syncToken=this._syncSource=null);var b=this.getChartFactory();if(b&&a&&a.layer&&a.layer.charts){for(var d=[],f=0;f<a.layer.charts.length;f++){var h=a.layer.charts[f];
h&&h.chartDefinition.visible&&h.chartFeatureType==e.charting.ChartFeatureType.SingleFeature&&(h=b.createInstance(h.chartDefinition,e.charting.ChartFeatureType.SingleFeature),h.tag=a.layer,this.applyChartOptions(h),d.push(h))}this.charts.addItems(d);this.charts.getItems().some(function(a){return e.charting.ChartUtils.containsDataLinks(a.chartDefinition)})&&(this._syncSource=a.dataLinkingResults,this._syncToken=a.dataLinkingResults.bind(this,this._handleDataLinksChanged));this.buildChartPointCollections(a);
this.updateDisplayedCharts();this.onNewFeatureInitialized()}this.updateProviderState(!!this.charts.length())};b.prototype.applyChartOptions=function(a){a&&a.setOptions(this._chartConfig)};b.prototype.updateDisplayedCharts=function(){this.currentChart.get()&&this.currentChart.get().chartPointCollection.get()};b.prototype.chartPointCollectionLoadDelegate=function(a,b){var h=this;return function(){if(h.getChartFactory()){var g=new d.infrastructure.FeatureSet({layer:b.layer,app:h.app});g.addFeature(b);
return h.getChartFactory().createChartPointCollection(a.chartDefinition,g,e.charting.ChartFeatureType.SingleFeature)}return null}};b.prototype.buildChartPointCollections=function(a){for(var b=0;b<this.charts.getLength();b++){var d=this.charts.getAt(b),e=this.chartPointCollectionLoadDelegate(d,a),d=d.chartPointCollection;d.clear();d.delegateGetter=e;d.cacheDelegateResults=!0}};b.prototype._handleDataLinksChanged=function(a){this.buildChartPointCollections(this.currentFeature.get());this.updateDisplayedCharts()};
return b}(d.infrastructure.featureDetails.FeatureProviderBase);h.SingleFeatureChartViewModel=n})(h.charting||(h.charting={}))})(d.modules||(d.modules={}))})(d.mapping||(d.mapping={}))})(e.essentialsHtmlViewer||(e.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));geocortex.resourceManager.register("Mapping.Charting","inv","Mapping.Charting/modules/Charting/ChartingView.html","html","PGRpdiBjbGFzcz0idmlldy1jb250YWluZXItdmlldyBjaGFydGluZyIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogY29udGFpbmVyRWxlbWVudH17QGNsYXNzLWNoYXJ0aW5nLW1vYmlsZTogbW9iaWxlTW9kZX17QG5vY2xhc3Mtbm8taGVhZGVyOiBoZWFkZXJJc1Zpc2libGV9Ij4gIDxidXR0b24gY2xhc3M9ImJvdHRvbS1wYW5lbC1yZXNpemUgcmVzaXplLWhhbmRsZSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHJlc2l6ZVl9e0BldmVudC1tb3VzZWRvd246IGhhbmRsZUhlYWRlck1vdXNlRG93bn17QGV2ZW50LXRvdWNoc3RhcnQ6IGhhbmRsZUhlYWRlclRvdWNoU3RhcnR9e3RpdGxlOiBAbGFuZ3VhZ2UtY2hhcnRpbmctc21hcnQtcGFuZWwtcmVzaXplfSI+IDxzcGFuIGNsYXNzPSJpY29uLWRyYWciPjwvc3Bhbj4gPC9idXR0b24+IDxkaXYgY2xhc3M9InBhbmVsLWhlYWRlciBiYW5uZXItbm9zZWxlY3QiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBoZWFkZXJJc1Zpc2libGV9e0B2YXI6IGhlYWRlckVsZW1lbnR9e0BldmVudC1tb3VzZWRvd246IGhhbmRsZUhlYWRlck1vdXNlRG93bn0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtAZXZlbnQtdG91Y2hzdGFydDogaGFuZGxlSGVhZGVyVG91Y2hTdGFydH17QGNsYXNzLXJlc2l6ZS1ob3Jpem9udGFsLWhpbnQ6IHJlc2l6ZVh9e0BjbGFzcy1yZXNpemUtdmVydGljYWwtaGludDogcmVzaXplWX0iPiA8YnV0dG9uIGNsYXNzPSJwYW5lbC1oZWFkZXItYnV0dG9uIHJpZ2h0IGNsb3NlLTE2IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd1hCdXR0b259e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0Nsb3NlfXt0aXRsZTogQGxhbmd1YWdlLWNvbW1vbi1jbG9zZX0iPjwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJwYW5lbC1oZWFkZXItYnV0dG9uIHJpZ2h0IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd2luZ01heGltaXplQnV0dG9ufXtAY2xhc3MtbWluaW1pemUtMTY6IHBhbmVsTWF4aW1pemVkfXtAbm9jbGFzcy1tYXhpbWl6ZS0xNjogcGFuZWxNYXhpbWl6ZWR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVNYXhpbWl6ZVRvZ2dsZUNsaWNrfXtAZXZlbnQtdG91Y2hzdGFydDogaGFuZGxlTWF4aW1pemVUb2dnbGVDbGlja317dGl0bGU6IEBsYW5ndWFnZS1jaGFydGluZy1zbWFydC1wYW5lbC1tYXhpbWl6ZS1yZXN0b3JlfSI+PC9idXR0b24+IDxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL2NoYXJ0aW5nLTI0LnBuZyIgYWx0PSIgIiAvPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IENoYXJ0U2VsZWN0b3J9e0B3aWRnZXQtcmVwbGFjZTogdHJ1ZX0iPjwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0icGFuZWwtc2Nyb2xsLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7ZGF0YS1yZWdpb24tbmFtZTogcmVnaW9uTmFtZX17ZGF0YS1yZWdpb24tYWRhcHRlcjogcmVnaW9uVHlwZX17QHZhcjogc2Nyb2xsUmVnaW9uRWxlbWVudH17QGV2ZW50LW9uc2Nyb2xsOiBoYW5kbGVTY3JvbGxDaGFuZ2V9Ij48L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping.Charting","inv","Mapping.Charting/modules/Charting/ChartPane.html","html","PGRpdiBjbGFzcz0iY2hhcnQtcGFuZSIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogY29udGFpbmVyRWxlbWVudH17QGNsYXNzLWF1dG8tc2l6ZTogYXV0b1NpemV9e0Bub2NsYXNzLW5vLWhlYWRlcjogaGVhZGVySXNWaXNpYmxlfSI+IDxkaXYgY2xhc3M9InBhbmVsLWhlYWRlciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGhlYWRlcklzVmlzaWJsZX0iPiA8YnV0dG9uIGNsYXNzPSJwYW5lbC1oZWFkZXItYnV0dG9uIHJpZ2h0IGNsb3NlLTE2IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd1hCdXR0b259e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0Nsb3NlfXt0aXRsZTogQGxhbmd1YWdlLWNvbW1vbi1jbG9zZX0iPjwvYnV0dG9uPiA8aDIgY2xhc3M9InBhbmVsLXRpdGxlIj4gPGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvbG9hZGVyLXNtYWxsLmdpZiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dCdXN5SW5kaWNhdG9yfSIgYWx0PSIgIiAvPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogdGl0bGV9e0B2aXNpYmxlOiB0aXRsZX0iPjwvc3Bhbj4gPC9oMj4gPC9kaXY+IDxkaXYgY2xhc3M9ImNoYXJ0LXBhbmUtYm9keSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogQ2hhcnRXaWRnZXR9e0B3aWRnZXQtY29udGV4dDogY3VycmVudENoYXJ0fXtAd2lkZ2V0LXJlcXVpcmVkOiB0cnVlfXtAd2lkZ2V0LXJlcGxhY2U6IHRydWV9Ij48L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping.Charting","inv","Mapping.Charting/modules/Charting/SingleFeatureChartView.html","html","PGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAgc2luZ2xlLWZlYXR1cmUtY2hhcnQiIGRhdGEtYmluZGluZz0ie0B2YXI6IGNvbnRhaW5lckVsZW1lbnR9e0B2aXNpYmxlOiBwcm92aWRlckVuYWJsZWR9Ij4gPGgzIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1jaGFydHN9Ij48L2gzPiA8ZGl2IGNsYXNzPSJzaW5nbGUtZmVhdHVyZS1jaGFydC1zZWxlY3RvciI+IDxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL2NoYXJ0aW5nLTI0LnBuZyIgYWx0PSIgIiAvPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IENoYXJ0U2VsZWN0b3J9e0B3aWRnZXQtcmVwbGFjZTogdHJ1ZX0iPjwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0ic2luZ2xlLWZlYXR1cmUtY2hhcnQtd2lkZ2V0IiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBDaGFydFBhbmVXaWRnZXR9e0B3aWRnZXQtY29udGV4dDogY3VycmVudENoYXJ0fXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX0iPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping.Charting","inv","Mapping.Charting/modules/Charting/CSS/common.css","css","LmNoYXJ0LXBhbmV7cG9zaXRpb246cmVsYXRpdmU7cGFkZGluZzowO21hcmdpbjowO292ZXJmbG93OmhpZGRlbjtiYWNrZ3JvdW5kOndoaXRlfS5jaGFydC1wYW5lIC5wYW5lbC1oZWFkZXIgaDJ7Zm9udC1zaXplOjEuMWVtfS5jaGFydC1wYW5lIC5wYW5lbC1oZWFkZXItYnV0dG9ue3dpZHRoOjEuN2VtfS5jaGFydC1wYW5lIC5jaGFydHt3aWR0aDphdXRvO21hcmdpbjphdXRvO2NsZWFyOmJvdGg7cGFkZGluZzowIC41ZW19LnNpbmdsZS1mZWF0dXJlLWNoYXJ0LXNlbGVjdG9ye3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjEwMCU7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2VlZX0uc2luZ2xlLWZlYXR1cmUtY2hhcnQtc2VsZWN0b3IgaW1ne21hcmdpbjoxZW0gMCAwIDFlbTtsZWZ0OjA7dG9wOjA7cG9zaXRpb246YWJzb2x1dGV9LnNpbmdsZS1mZWF0dXJlLWNoYXJ0LXNlbGVjdG9yIC5mdWktc2VsZWN0b3J7dmVydGljYWwtYWxpZ246bWlkZGxlO3BhZGRpbmc6MWVtIC41ZW0gMWVtIDNlbTt3aWR0aDo4MCU7ZGlzcGxheTppbmxpbmUtYmxvY2s7ZmxvYXQ6bGVmdDt0b3A6MH0KLnNpbmdsZS1mZWF0dXJlLWNoYXJ0LXNlbGVjdG9yIC5mdWktc2VsZWN0b3ItaGVhZGVye3dpZHRoOjEwMCV9LnNpbmdsZS1mZWF0dXJlLWNoYXJ0LXNlbGVjdG9yIHVsLmZ1aS1zZWxlY3Rvci1ib2R5IGxpIGRpdntwYWRkaW5nOjFlbX0uc2luZ2xlLWZlYXR1cmUtY2hhcnQtc2VsZWN0b3IgLnNlbGVjdG9yLWl0ZW0gc3Bhbnt3aWR0aDphdXRvfS5zaW5nbGUtZmVhdHVyZS1jaGFydC1zZWxlY3RvciAuc2VsZWN0b3ItaXRlbSBpbnB1dHt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7bWFyZ2luLXJpZ2h0Oi41ZW19LnNpbmdsZS1mZWF0dXJlLWNoYXJ0LXdpZGdldHtjbGVhcjpib3RoO21hcmdpbi10b3A6LjVlbX0uc2luZ2xlLWZlYXR1cmUtY2hhcnQgLmNoYXJ0LXBhbmV7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0uRmVhdHVyZURldGFpbHNDb21wYWN0VmlldyAuY2hhcnQtcGFuZSAuY2hhcnR7bWluLWhlaWdodDo0MDBweH0uQ2hhcnRpbmdWaWV3IC5jaGFydC1wYW5lIC5wYW5lbC1oZWFkZXIsLnNpbmdsZS1mZWF0dXJlLWNoYXJ0IC5jaGFydC1wYW5lIC5wYW5lbC1oZWFkZXJ7Ym9yZGVyOjB9Ci5GZWF0dXJlRGV0YWlsc0V4cGFuZGVkVmlldyAucmVnaW9uLXZpZXctc3dpdGNoZXIuYm91bmQtdmlzaWJsZSsucmVnaW9uIC52aWV3LmFjdGl2ZSAucGFuZWwtZ3JvdXAuc2luZ2xlLWZlYXR1cmUtY2hhcnR7dG9wOjIuMmVtfS5GZWF0dXJlRGV0YWlsc0V4cGFuZGVkVmlldyAuc2luZ2xlLWZlYXR1cmUtY2hhcnR7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTt0b3A6MDtib3R0b206MH0uRmVhdHVyZURldGFpbHNFeHBhbmRlZFZpZXcgLnNpbmdsZS1mZWF0dXJlLWNoYXJ0LXdpZGdldHtwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW46MDt3aWR0aDoxMDAlO3RvcDozLjRlbTtib3R0b206MDttaW4taGVpZ2h0OjB9LkNoYXJ0aW5nVmlldyAuY2hhcnQtcGFuZSAuY2hhcnQsLkZlYXR1cmVEZXRhaWxzRXhwYW5kZWRWaWV3IC5jaGFydC1wYW5lIC5jaGFydHtoZWlnaHQ6MTAwJX0uQ2hhcnRpbmdWaWV3IC5jaGFydC1wYW5lLWJvZHksLkZlYXR1cmVEZXRhaWxzRXhwYW5kZWRWaWV3IC5jaGFydC1wYW5lLWJvZHl7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTt0b3A6My43NWVtO2JvdHRvbTowO292ZXJmbG93OmhpZGRlbjtiYWNrZ3JvdW5kOndoaXRlfQoubm8tdG91Y2ggLkNoYXJ0aW5nVmlldyAuY2hhcnQtcGFuZS1ib2R5LC5uby10b3VjaCAuRmVhdHVyZURldGFpbHNFeHBhbmRlZFZpZXcgLmNoYXJ0LXBhbmUtYm9keXt0b3A6M2VtfS5DaGFydGluZ1ZpZXcgLm5vLWhlYWRlciAuY2hhcnQtcGFuZS1ib2R5LC5GZWF0dXJlRGV0YWlsc0V4cGFuZGVkVmlldyAubm8taGVhZGVyIC5jaGFydC1wYW5lLWJvZHl7dG9wOjB9LkNoYXJ0aW5nVmlldyAucGFuZWwtaGVhZGVyIGltZ3tkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW4tbGVmdDouN2VtO3ZlcnRpY2FsLWFsaWduOm1pZGRsZX0uQ2hhcnRpbmdWaWV3IC5mdWktc2VsZWN0b3J7dmVydGljYWwtYWxpZ246bWlkZGxlO3BhZGRpbmc6MDttYXJnaW46MDt3aWR0aDoxNmVtO2Zsb2F0Om5vbmU7aGVpZ2h0OmF1dG99LkNoYXJ0aW5nVmlldyB1bC5mdWktc2VsZWN0b3ItYm9keSBzcGFue3ZlcnRpY2FsLWFsaWduOnRvcDtsaW5lLWhlaWdodDoxLjZlbTtmb250LXNpemU6Ljk1ZW07ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6OTMlfQouQ2hhcnRpbmdWaWV3IC5jaGFydGluZy1tb2JpbGUgdWwuZnVpLXNlbGVjdG9yLWJvZHl7cG9zaXRpb246Zml4ZWQ7bGVmdDowO3JpZ2h0OjA7dG9wOjQ1cHg7Ym90dG9tOjA7bWF4LWhlaWdodDppbml0aWFsO2JvcmRlcjowfS5DaGFydGluZ1ZpZXcgLmNoYXJ0aW5nLW1vYmlsZSB1bC5mdWktc2VsZWN0b3ItYm9keS5leHBhbmRlZHtib3JkZXItcmlnaHQ6MXB4IHNvbGlkICNjY2N9LkNoYXJ0aW5nVmlldyAucGFuZWwtc2Nyb2xsLWNvbnRhaW5lcntib3JkZXI6MDtvdmVyZmxvdzpoaWRkZW47dG9wOjMuNzVlbTttYXJnaW4tdG9wOjJweH0ubm8tdG91Y2ggLkNoYXJ0aW5nVmlldyAucGFuZWwtc2Nyb2xsLWNvbnRhaW5lcnt0b3A6M2VtfS5DaGFydGluZ1ZpZXcgLm5vLWhlYWRlciAucGFuZWwtc2Nyb2xsLWNvbnRhaW5lcnt0b3A6MDttYXJnaW46MH0uQ2hhcnRpbmdWaWV3IC5wYW5lbC1zY3JvbGwtY29udGFpbmVyPi52aWV3LmFjdGl2ZXtkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW46MH0KLkNoYXJ0aW5nVmlldyAuY2hhcnQtcGFuZXtib3JkZXItbGVmdDoxcHggc29saWQgI2VlZX0uQ2hhcnRpbmdWaWV3IC5jaGFydGluZy1tb2JpbGUgLmNoYXJ0LXBhbmUgLnBhbmVsLWhlYWRlci1idXR0b257ZGlzcGxheTpub25lfS5rLWNoYXJ0IC5rLXRvb2x0aXB7d2hpdGUtc3BhY2U6bm9ybWFsO21heC13aWR0aDo3ZW19LmstY2hhcnQgLmstdG9vbHRpcD5kaXZ7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7dGV4dC1hbGlnbjpsZWZ0fQ==");
geocortex.resourceManager.register("Mapping.Charting","inv","Mapping.Charting/modules/Charting/CSS/small.css","css","LmNoYXJ0LXBhbmUgLnBhbmVsLWhlYWRlci1idXR0b24uY2xvc2UtMTZ7ZGlzcGxheTpub25lfS5zaGVsbC1zbWFsbCAuY2hhcnQtcGFuZSAuY2hhcnR7cGFkZGluZzowfS5zaGVsbC1zbWFsbCAuY2hhcnQtcGFuZSAucGFuZWwtaGVhZGVye3BhZGRpbmc6MH0=");geocortex.resourceManager.register("Mapping.Charting","inv","Mapping.Charting/common.css","css","");geocortex.resourceManager.register("Mapping.Charting","inv","Invariant","json","eyJsYW5ndWFnZS1mcmFtZXdvcmstdWktdmlldy1jb250YWluZXItdmlldy1jbG9zZSI6IkNsb3NlIHswfSIsImxhbmd1YWdlLWNoYXJ0aW5nLXNtYXJ0LXBhbmVsLW1heGltaXplLXJlc3RvcmUiOiJNYXhpbWl6ZS9SZXN0b3JlIFBhbmVsIiwibGFuZ3VhZ2UtZmVhdHVyZS1uby1jaGFydCI6Ik5vIGNoYXJ0IiwibGFuZ3VhZ2UtY29tbW9uLWNsb3NlIjoiQ2xvc2UiLCJsYW5ndWFnZS1jaGFydGluZy1zZWxlY3Rvci10ZXh0IjoiU2VsZWN0IENoYXJ0cyIsImxhbmd1YWdlLWNoYXJ0aW5nLXNtYXJ0LXBhbmVsLXJlc2l6ZSI6IkRyYWcgdG8gcmVzaXplIHRoZSBwYW5lbCIsImxhbmd1YWdlLWZlYXR1cmUtY2hhcnRzIjoiQ2hhcnRzIiwibGFuZ3VhZ2UtY2hhcnRpbmctbm8taXRlbXMiOiJObyBjaGFydHMgdG8gZGlzcGxheSIsImxhbmd1YWdlLWZyYW1ld29yay11aS12aWV3LWNvbnRhaW5lci12aWV3LWJhY2siOiJHbyBCYWNrIHswfSJ9");
geocortex.framework.notifyLibraryDownload("Mapping.Charting");
