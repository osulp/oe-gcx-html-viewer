/*
	
	Copyright (c) 2017, Latitude Geographics Group Ltd.
	All rights reserved.
	       
	Redistribution is not permitted. 
	
	Use in binary form, without modification, is permitted provided that neither 
	the name of the organization nor the names of its contributors may be used 
	to endorse or promote products derived from this software without specific 
	prior written permission.
	       
	THIS SOFTWARE IS PROVIDED BY COPYRIGHT HOLDER ''AS IS'' AND ANY
	EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
	WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
	DISCLAIMED. IN NO EVENT SHALL LATITUDE GEOGRAPHICS GROUP LTD. BE LIABLE FOR ANY
	DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
	(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
	LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
	ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
	(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
	SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

var __extends=this&&this.__extends||function(f,e){function g(){this.constructor=f}for(var k in e)e.hasOwnProperty(k)&&(f[k]=e[k]);f.prototype=null===e?Object.create(e):(g.prototype=e.prototype,new g)},geocortex;
(function(f){(function(e){(function(g){(function(e){(function(e){var k=function(h){function b(a,d){var c=h.call(this,a,d)||this;c.infrastructureLibraryId="Charting";c._behavior=null;c._savedBorderColor=null;c._savedFillColor=null;c._lookupTable=new g.infrastructure.Dictionary;c._subscribeToEvents();return c}__extends(b,h);b.prototype.initialize=function(a){var d=this;h.prototype.initialize.call(this,a);this.doWhenLibrariesDownloaded(function(a){a&&a.hasOwnProperty("infrastructureLibraryId")&&(d.infrastructureLibraryId=
a.infrastructureLibraryId);d.initializeChartFactory();d._registerCommands();a&&a.hasOwnProperty("adapters")&&d._loadAdapters(a.adapters);var l=d.app.command("CreateHighlightLayer"),f=b.CHART_HIGHLIGHT_LAYER_NAME;if(l.canExecute(f))l.execute(f,b.DEFAULT_FILL_COLOR,b.DEFAULT_BORDER_COLOR,!0);else var h=l.canExecuteChanged.subscribe(d,function(){l.canExecute(f)&&(l.canExecuteChanged.unsubscribe(h),l.execute(f,b.DEFAULT_FILL_COLOR,b.DEFAULT_BORDER_COLOR,!0))})},a)};b.prototype.getStateFilter=function(){return{results:{item:this.app.project.filter.featureSetCollection},
displayedCharts:{item:!0}}};b.prototype.exportState=function(){var a=this,d={results:void 0,displayedCharts:[]};return Promise["try"](function(){a.app.command("_ExportChartingState").execute(d);return d})};b.prototype.applyState=function(a){var d=this,c={state:a,stateAppliedPromises:[]};return Promise["try"](function(){return d.app.command("_ApplyChartingState").execute(c)}).then(function(){return Promise.all(c.stateAppliedPromises)})["return"]()};b.prototype.initializeChartFactory=function(){var a=
new e.FormatProvider,d=new f.charting.ChartSeriesProvider(this.app,this.infrastructureLibraryId),c=new f.essentialsHtmlViewer.mapping.modules.charting.ChartPointCollectionFeatureAggregator;c.formatProvider=a;this.chartFactory=new f.charting.ChartViewModelFactory(this.app,this.infrastructureLibraryId);this.chartFactory.id="ChartViewModelFactory";this.chartFactory.initialize({formatProvider:a,seriesProvider:d,aggregator:c});this.app.registerFrameworkObject(this.chartFactory)};b.prototype.doWhenLibrariesDownloaded=
function(a,d){var c=this;if(a)if(this.app.allLibrariesLoaded)a(d);else var b=this.app.event("ViewerLibrariesDownloadedEvent").subscribe(this,function(){c.app.event("ViewerLibrariesDownloadedEvent").unsubscribe(b);a(d)})};b.prototype._registerCommands=function(){this.app.command("RegisterChartPointAdapter").register(this,this._executeRegisterAdapter);this.app.command("ClearChartHighlights").register(this,this._executeClearChartHighlights,this._canExecuteClearChartHighlights);this.app.command("HighlightChartFeatureSet").register(this,
this._executeHighlightChartFeatureSet,this._canExecuteHighlightChartFeatureSet);this.app.command("RunChartFeatureActions").register(this,this._executeRunChartFeatureActions,this._isValidFeatureSet)};b.prototype._subscribeToEvents=function(){this.app.event("ChartPointMouseHoverBeginEvent").subscribe(this,this._chartPointMouseHoverBeginEventHandler)};b.prototype._executeRegisterAdapter=function(a){if(!a.adapter)throw Error("Cannot register a null chart data adapter.");f.charting.ChartPointAdapterRegistry.registerAdapter(a.adapter,
a.sourceType)};b.prototype._executeClearChartHighlights=function(){this.app.highlightManager.clearHighlights(b.CHART_HIGHLIGHT_LAYER_NAME)};b.prototype._canExecuteClearChartHighlights=function(){return this.app.command("ClearHighlights").canExecute()&&this.app.command("SetHighlightFillColor").canExecute(void 0)&&this.app.command("SetHighlightBorderColor").canExecute(void 0)};b.prototype._executeHighlightChartFeatureSet=function(a){a=this._convertParameterToFeatureSet(a);this._savedBorderColor=this.app.highlightManager.getHighlightBorderColor();
this._savedFillColor=this.app.highlightManager.getHighlightFillColor();if(this._lookupTable.containsKey(a.uniqueId)){var d=this._lookupTable.get(a.uniqueId);if(d=f.charting.ChartUtils.findSeriesViewModelFromChartPoint(d.chartPoint,d.chartViewModel.seriesViewModels.getItems())){var c=b.DEFAULT_FILL_COLOR,l=b.DEFAULT_BORDER_COLOR;d.distinctColor?(c=d.distinctColor.toString(!0),l=f.charting.ColorUtils.generateSelectionColor(d.distinctColor).toString(!0)):d.seriesDefinition&&d.seriesDefinition.color&&
(c=d.seriesDefinition.color.toString(!0),l=f.charting.ColorUtils.generateSelectionColor(d.seriesDefinition.color).toString(!0));this.app.command("SetHighlightFillColor").execute(l,b.CHART_HIGHLIGHT_LAYER_NAME);this.app.command("SetHighlightBorderColor").execute(c,b.CHART_HIGHLIGHT_LAYER_NAME)}}this.app.command("ClearAndHighlightFeatures").execute({feature:a.features.get(),layer:b.CHART_HIGHLIGHT_LAYER_NAME})};b.prototype._canExecuteHighlightChartFeatureSet=function(a){a=this._convertParameterToFeatureSet(a);
return this.app.command("SetHighlightFillColor").canExecute(void 0)&&this.app.command("SetHighlightBorderColor").canExecute(void 0)&&this.app.command("HighlightFeatures").canExecute(a.features.get())};b.prototype._convertParameterToFeatureSet=function(a){var d=null;a instanceof f.charting.eventArgs.ChartPointEventArgs?d=e.ChartUtils.getFeaturesFromChartPoint(a.chartPoint):a instanceof g.infrastructure.FeatureSet&&(d=a);return d};b.prototype._executeRunChartFeatureActions=function(a){var d=this,c=
this._convertParameterToFeatureSet(a),b;a instanceof f.charting.eventArgs.ChartPointEventArgs?b=a.chartViewModel:this._lookupTable.containsKey(c.uniqueId)&&(b=this._lookupTable.get(c.uniqueId).chartViewModel);if(b){if(a=b.chartDefinition.area){a.actionZoom?this.app.command("ZoomToAllFeatures").execute(c.features.getItems()):a.actionPan&&this.app.command("PanToAllFeatures").execute(c.features.getItems());if(a.actionFeatureDetails){var m=c.features.getAt(0);this.app.command("ClearChartHighlights").execute();
this.app.configuration.mobileMode&&$(".k-chart").trigger("mouseout");setTimeout(function(){d.app.command("ShowFeatureDetails").execute(m)},0)}a.actionRunCommand&&(c=a.commandName,a=a.commandParameter?a.commandParameter:null,c&&this.app.command(c).execute(a))}}else this.app.trace.warning("Could not execute actions associated with clicking on a chart. Chart configuration not found.")};b.prototype._isValidFeatureSet=function(a){a=this._convertParameterToFeatureSet(a);return null!==a&&a instanceof g.infrastructure.FeatureSet&&
0<a.features.getLength()};b.prototype._chartPointMouseHoverBeginEventHandler=function(a){if(a){var d={chartPoint:a.chartPoint,chartViewModel:a.chartViewModel};(a=e.ChartUtils.getFeaturesFromChartPoint(a.chartPoint))&&this._lookupTable.set(a.uniqueId,d)}};b.prototype._loadAdapters=function(a){for(var d=0;d<a.length;d++){var c=a[d];c&&this._loadAdapter(c)}};b.prototype._loadAdapter=function(a){var d=dojo.getObject(a.type);d&&(d=new d,"function"==typeof d.initialize&&d.initialize(a.configuration),a=
{adapter:d,sourceType:a.source||"Field"},this.app.command("RegisterChartPointAdapter").execute(a))};return b}(f.framework.application.ModuleBase);k.CHART_HIGHLIGHT_LAYER_NAME="Charts";k.DEFAULT_FILL_COLOR="#99ECEC3A";k.DEFAULT_BORDER_COLOR="#FFCCCC33";e.ChartingModule=k})(e.charting||(e.charting={}))})(g.modules||(g.modules={}))})(e.mapping||(e.mapping={}))})(f.essentialsHtmlViewer||(f.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(f){(function(e){(function(g){(function(g){(function(g){var e=function(g){function b(a,d){var c=g.call(this,a,d)||this;c._handles={appEvents:[],mapEvents:[],fsEvents:[]};c._chartConfig={animationsEnabled:!0,gradientsEnabled:!1,interactiveLegendEnabled:!1,pieStartAngle:180,renderAs:"svg",chartWidth:0,chartHeight:0};c._chartFactory=null;c.enabled=!0;c.featureSetCollection=new Observable;c.charts=new ObservableCollection;c.defaultCharts=new ObservableCollection;c.displayedCharts=new ObservableCollection;
c.expanded=new Observable(!1);c.infrastructureLibraryId="Charting";c.headerIsVisible=new Observable(!0);c.showXButton=new Observable(!0);c.isGenerated=new Observable(!1);c.featureSetCollection.bind(c,c._handleCollectionChanged);return c}__extends(b,g);b.prototype.initialize=function(a){g.prototype.initialize.call(this,a);a&&(a.hasOwnProperty("chartingEnabled")&&(this.enabled=!!a.chartingEnabled),a.hasOwnProperty("infrastructureLibraryId")&&(this.infrastructureLibraryId=a.infrastructureLibraryId),
a.hasOwnProperty("headerIsVisible")&&this.headerIsVisible.set(!!a.headerIsVisible),a.hasOwnProperty("showXButton")&&this.showXButton.set(!!a.showXButton),a=a.chartConfiguration)&&(a.hasOwnProperty("chartWidth")&&(this._chartConfig.chartWidth=parseInt(a.chartWidth)),a.hasOwnProperty("chartHeight")&&(this._chartConfig.chartHeight=parseInt(a.chartHeight)),a.hasOwnProperty("renderAs")&&(this._chartConfig.renderAs=a.renderAs),a.hasOwnProperty("animationsEnabled")&&(this._chartConfig.animationsEnabled=
!!a.animationsEnabled),a.hasOwnProperty("gradientsEnabled")&&(this._chartConfig.gradientsEnabled=!!a.gradientsEnabled),a.hasOwnProperty("interactiveLegendEnabled")&&(this._chartConfig.interactiveLegendEnabled=!!a.interactiveLegendEnabled),a.hasOwnProperty("pieStartAngle")&&(this._chartConfig.pieStartAngle=a.pieStartAngle));this._registerCommands();this._subscribeEvents()};b.prototype.refresh=function(){this.featureSetCollection.pulse()};b.prototype.getChartFactory=function(){null===this._chartFactory&&
(this._chartFactory=this.app.getFrameworkObjectById("ChartViewModelFactory"));return this._chartFactory};b.prototype.doWhenChartGenerationCompleted=function(a){var d=this;if(a)if(this.isGenerated.get())a(this);else var c=this.isGenerated.bind(this,function(b){b&&(d.isGenerated.unbind(c),a(d))})};b.prototype.applyChartOptions=function(a){a&&a.setOptions(this._chartConfig)};b.prototype.findChartById=function(a){return f.framework.utils.ArrayUtils.firstOrDefault(this.charts.getItems(),function(d){return d.chartDefinition.id===
a})};b.prototype.findDisplayedChartById=function(a){return f.framework.utils.ArrayUtils.firstOrDefault(this.displayedCharts.getItems(),function(d){return d.chartDefinition.id===a})};b.prototype.createChart=function(a){a=this.getChartFactory().createInstance(a.chartDefinition,a.chartFeatureType);this.applyChartOptions(a);return a};b.prototype.chartPointCollectionLoadDelegate=function(a,d){var c=this;return function(){return c.getChartFactory()?c.getChartFactory().createChartPointCollection(a.chartDefinition,
d,a.chartFeatureType):null}};b.prototype.initializeCharts=function(a){var d=this;if(a&&!a.features.isEmpty()&&a.layer&&a.layer.charts&&0!=a.layer.charts.length){this.isGenerated.set(!1);var c=this.charts.getItems().map(function(a){return a.chartDefinition.id}),c=this._createCharts(a.layer,c);this.charts.addItems(c);this.cleanup();if(0==this.charts.getLength())this.defaultCharts.clear();else{for(var c=a.layer.charts.filter(function(a){return a.chartDefinition.visible&&a.defaultChart&&a.chartFeatureType==
f.charting.ChartFeatureType.MultiFeature}),b=0;b<c.length;b++){var g=c[b],h=f.framework.utils.ArrayUtils.firstOrDefault(this.charts.getItems(),function(a){return a.chartDefinition.id===g.id});h&&!this.defaultCharts.contains(h)&&this.defaultCharts.addItem(h)}0==this.defaultCharts.getLength()&&this.defaultCharts.addItem(this.charts.getAt(0));a.layer.charts&&a.layer.charts.some(function(a){return f.charting.ChartUtils.containsDataLinks(a.chartDefinition)})?a.doWhenDataLinkingCompleted(function(a){d._buildChartPointCollections(a);
d.isGenerated.set(!0)}):(this._buildChartPointCollections(a),this.isGenerated.set(!0))}}};b.prototype.cleanup=function(){if(this.featureSetCollection.get())for(var a=this.featureSetCollection.get().featureSets.getItems().map(function(a){return a.layer}),d=this.charts.getLength();d--;){var c=this.charts.getAt(d);this.displayedCharts.contains(c)||null!=a&&f.framework.utils.ArrayUtils.contains(a,c.tag)||(this.defaultCharts.removeItem(c),this.charts.removeAt(d))}};b.prototype.updateDisplayedCharts=function(){this.displayedCharts.get().forEach(function(a){a.chartPointCollection.get()})};
b.prototype._registerCommands=function(){this.app.command("SetCollectionOfInterest").register(this,this._executeChangeCollectionOfInterest)};b.prototype._subscribeEvents=function(){this._disconnectAppEvents();this._connectAppEvent("FSMCollectionChangedEvent",this._fsmCollectionChangedEventHandler);this._connectAppEvent("FSMCollectionRemovedEvent",this._fsmCollectionRemovedEventHandler)};b.prototype._handleCollectionChanged=function(a){this.cleanup();this._disconnectFeatureSetChanges(a);if(a&&0<a.featureSets.getLength()){for(var d=
0;d<a.featureSets.getLength();d++)this.initializeCharts(a.featureSets.getAt(d));this._connectFeatureSetChanges(a)}};b.prototype._fsmCollectionChangedEventHandler=function(a){var d=this;this.featureSetCollection.get()&&a&&a.featureSetCollection&&a.featureSetCollection.id==this.featureSetCollection.get().id&&(!a.collectionChangedEventArgs||"clear"!==a.collectionChangedEventArgs.type&&"remove"!==a.collectionChangedEventArgs.type?this.featureSetCollection.set(a.featureSetCollection):setTimeout(function(){d.featureSetCollection.set(a.featureSetCollection)},
0))};b.prototype._featureSetChanged=function(a,d){};b.prototype._fsmCollectionRemovedEventHandler=function(a){this.featureSetCollection.get()&&a&&a.featureSetCollectionId&&a.featureSetCollectionId==this.featureSetCollection.get().id&&(this._disconnectFeatureSetChanges(),this.featureSetCollection.set(null))};b.prototype._executeChangeCollectionOfInterest=function(a){(a=this.app.featureSetManager.getCollectionById(a))&&a!==this.featureSetCollection.get()&&(this._disconnectFeatureSetChanges(),this.featureSetCollection.set(a))};
b.prototype._createCharts=function(a,d){void 0===d&&(d=null);var c=[];if(a&&a.charts)for(var b=0;b<a.charts.length;b++){var g=a.charts[b];g&&g.chartDefinition.id&&g.chartDefinition.visible&&g.chartFeatureType==f.charting.ChartFeatureType.MultiFeature&&!(d&&0<=d.indexOf(g.chartDefinition.id))&&(g=this.createChart(g),g.tag=a,c.push(g))}return c};b.prototype._buildChartPointCollections=function(a){for(var d=a.layer.charts.map(function(a){return a.id}),c=0;c<this.charts.getLength();c++){var b=this.charts.getAt(c);
if(b&&d&&!(0>d.indexOf(b.chartDefinition.id))){var f=this.chartPointCollectionLoadDelegate(b,a),b=b.chartPointCollection;b.clear();b.delegateGetter=f;b.cacheDelegateResults=!0}}this.expanded.get()&&this.updateDisplayedCharts()};b.prototype._connectAppEvent=function(a,d){var c=this.app.event(a).subscribe(this,d);this._handles.appEvents.push({eventName:a,token:c})};b.prototype._disconnectAppEvents=function(){if(0<this._handles.appEvents.length)for(var a=0;a<this._handles.appEvents.length;a++){var d=
this._handles.appEvents[a];this.app.event(d.eventName).unsubscribe(d.token)}this._handles.appEvents.length=0};b.prototype._connectFeatureSetChanges=function(a){for(var d=this,c=0;c<a.featureSets.getLength();c++){var b=a.featureSets.getAt(c);if(!this._handles.fsEvents.some(function(a){return a.collection===b.features})){var f=b.features.bind(this,function(c){return d._featureSetChanged(a.id,c)});this._handles.fsEvents.push({collection:b.features,token:f})}}};b.prototype._disconnectFeatureSetChanges=
function(a){a=a?a.featureSets.getRange(0):null;for(var d=0;d<this._handles.fsEvents.length;d++){var c=this._handles.fsEvents[d];!c.collection||a&&a.some(function(a){return a.features===c.collection})||(c.collection.unbind(c.token),this._handles.fsEvents.splice(d,1),d--)}};return b}(f.essentialsHtmlViewer.mapping.infrastructure.ui.components.SmartPanel.SmartPanelViewModel);g.ChartingViewModel=e})(g.charting||(g.charting={}))})(g.modules||(g.modules={}))})(e.mapping||(e.mapping={}))})(f.essentialsHtmlViewer||
(f.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(f){(function(e){(function(g){(function(g){(function(g){var e=function(f){function b(a,d){var c=f.call(this,a,d)||this;c.infrastructureLibraryId="Charting";c.title=new Observable("");c.headerIsVisible=new Observable(!0);c.showXButton=new Observable(!0);c.showBusyIndicator=new Observable(!1);c.responsiveLegendPositioning=new Observable(!1);c.currentChart=new Observable(null);c.autoSize=new Observable(!1);c.height=new Observable(0);c.width=new Observable(0);c.currentChart.bind(c,c._handleCurrentChartChanged);
return c}__extends(b,f);b.prototype.initialize=function(a){f.prototype.initialize.call(this,a);a&&(a.hasOwnProperty("infrastructureLibraryId")&&(this.infrastructureLibraryId=a.infrastructureLibraryId),a.hasOwnProperty("headerIsVisible")&&this.headerIsVisible.set(!!a.headerIsVisible),a.hasOwnProperty("showXButton")&&this.showXButton.set(!!a.showXButton))};b.prototype.setSize=function(a,d){isNaN(a)||isNaN(d)||(this.width.set(a),this.height.set(d))};b.prototype.onDestroy=function(){f.prototype.onDestroy.call(this);
this.currentChart.set(null);this.app=this.currentChart=null};b.prototype._handleCurrentChartChanged=function(a){this.title.set(a.displayName.get())};return b}(f.framework.ui.ViewModelBase);g.ChartPaneViewModel=e})(g.charting||(g.charting={}))})(g.modules||(g.modules={}))})(e.mapping||(e.mapping={}))})(f.essentialsHtmlViewer||(f.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(f){(function(e){(function(g){(function(g){(function(g){var e=function(g){function b(a,d){var c=g.call(this,a,d)||this;c._chartView=null;c._isDestroyed=!1;c._chartBBox=null;return c}__extends(b,g);b.prototype.attach=function(a){var d=this;g.prototype.attach.call(this,a);this.viewModel&&this.containerElement&&(this.auto(this.viewModel.width,this,function(a){return $(d.containerElement).width(a)}),this.auto(this.viewModel.height,this,function(a){return $(d.containerElement).height(a)}),this._chartBBox=
this.containerElement.getBoundingClientRect())};b.prototype.resolveWidget=function(a,d,c){return d&&"ChartWidget"===a?(this._chartView=this.app.viewManager.createView({markupResource:"Charting/charting/Chart.html",typeName:"geocortex.charting.Chart",isVisible:!0,libraryId:this.viewModel.infrastructureLibraryId||"Charting"}),this.viewModel&&this.viewModel.responsiveLegendPositioning.get()&&this._overrideLegendPosition(d),this._chartView.attach(d),this.viewModel.showBusyIndicator.sync(this._chartView.isBusy),
this._chartView):g.prototype.resolveWidget.call(this,a,d)};b.prototype.refresh=function(){this.viewModel&&this.viewModel.responsiveLegendPositioning.get()&&this.viewModel.currentChart.get()&&this._overrideLegendPosition(this.viewModel.currentChart.get());if(this._chartView){var a=this.containerElement.getBoundingClientRect();!this._chartBBox||a.width===this._chartBBox.width&&a.height===this._chartBBox.height||this._chartView.updateLayout();this._chartBBox=a}};b.prototype.destroy=function(){g.prototype.destroy.call(this);
this._chartView&&this._chartView.destroy();this.viewModel&&(this.viewModel.showBusyIndicator.removeSync(),this.viewModel.destroy());this.app=this.root=this.viewModel=this._chartView=null;this._isDestroyed=!0};b.prototype.displayChart=function(a){this.viewModel.currentChart.set(a);var d=this._chartView;d&&(d.destroyBindings(),d.attach(a),this.app.command("ActivateView").execute(d.id))};b.prototype.onClose=function(a){};b.prototype.handleClickClose=function(a,d,c){if(this.viewModel&&this.onClose)this.onClose(this.viewModel.currentChart.get());
this._isDestroyed||this.app.command("DestroyView").execute(this.id)};b.prototype._overrideLegendPosition=function(a){if(this.root&&a){var d=this.app.configuration.mobileMode?$(window).width():$(this.root).width(),c=this.app.configuration.mobileMode?$(window).height():$(this.root).height(),d=f.charting.ChartUtils.getResponsiveLegendPosition(a,d>c);a.legendPosition.set(d)}};return b}(f.framework.ui.ViewBase);g.ChartPane=e})(g.charting||(g.charting={}))})(g.modules||(g.modules={}))})(e.mapping||(e.mapping=
{}))})(f.essentialsHtmlViewer||(f.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(f){(function(e){(function(g){(function(g){(function(g){var e=function(e){function b(a,d){var c=e.call(this,a,d)||this;c._delayedResizeHandle=null;c._panes=[];c._activePanes=[];c._registerCommandsAndEvents();return c}__extends(b,e);b.prototype._registerCommandsAndEvents=function(){this.app.command("ShowChartingView").register(this,this._executeShowChartingView,this._canExecuteShowChartingView);this.app.command("DisplayChartById").register(this,this.addChartById,this._canExecuteDisplayChartById);
this.app.command("RemoveChartById").register(this,this.destroyChartById,this._canExecuteRemoveChartById);this.app.command("ClearCharts").register(this,this.clearCharts,this._canExecuteClearCharts);this.app.event("ApplicationResizedEvent").subscribe(this,this.handleApplicationResizedEvent);this.app.event("ViewDimensionsChangedEvent").subscribe(this,this.handleViewDimensionsChangedEvent);this.app.event("ViewHostedEvent").subscribe(this,this.handleViewHostedEvent);this.app.event("ViewUnhostedEvent").subscribe(this,
this.handleViewUnhostedEvent);this.app.event("ViewActivatedEvent").subscribe(this,this.handleViewActivatedEvent);this.app.event("ViewDeactivatedEvent").subscribe(this,this.handleViewDeactivatedEvent);this.app.event("ViewContainerActivatedEvent").subscribe(this,this.handleViewContainerActivatedEvent);this.app.event("FSMCollectionOpenedEvent").subscribe(this,this._enableOrDisableShowChartingView);this.app.event("FSMCollectionChangedEvent").subscribe(this,this._enableOrDisableShowChartingView);this.app.event("FSMCollectionAddedEvent").subscribe(this,
this._enableOrDisableShowChartingView);this.app.event("FSMCollectionRemovedEvent").subscribe(this,this._enableOrDisableShowChartingView);this.app.command("_ExportChartingState").register(this,this._exportState);this.app.command("_ApplyChartingState").register(this,this._applyState)};b.prototype._enableOrDisableShowChartingView=function(a){this.app.command("ShowChartingView").raiseCanExecuteChanged()};b.prototype.resize=function(){e.prototype.resize.call(this);f.framework.utils.isNullOrUndefined(this.scrollRegionElement)||
dojo.style(this.scrollRegionElement,"top","")};b.prototype.activated=function(){e.prototype.activated.call(this);this.viewModel&&(this.viewModel.expanded.set(!0),!1===this.isActive&&(this._delayedResizeHandle=this._delayedResizeContainer()));this.isActive=!0};b.prototype.deactivated=function(){e.prototype.deactivated.call(this);this.viewModel&&this.viewModel.expanded.set(!1);this.isActive=!1;this.app.command("ClearChartHighlights").execute()};b.prototype.resolveWidget=function(a,d,c){var b=this;return"ChartSelector"===
a?(this._selectorView=this.app.viewManager.createView({typeName:"geocortex.framework.ui.Selector.SelectorView",markupResource:"Framework.UI/geocortex/framework/ui/Selector/SelectorView.html",isVisible:!0,title:this.app.getResource(this.libraryId,"language-feature-charts"),libraryId:"Framework.UI"}),this.selector=new f.framework.ui.Selector.SelectorViewModel(this.app,this.libraryId,!!this.app.configuration.mobileMode,!!this.app.configuration.mobileMode),this.selector.setCollection(this.viewModel.charts,
"displayName",null),this.selector.selectorText.set(this.app.getResource(this.libraryId,"language-charting-selector-text")),this.selector.noItemsText.set(this.app.getResource(this.libraryId,"language-charting-no-items")),this.selector.onSelectItem=function(a){return b.handleSelectChart(a.item)},this.selector.onUnselectItem=function(a){return b.handleUnSelectChart(a.item)},this._selectorView.attach(this.selector),this._selectorView):e.prototype.resolveWidget.call(this,a,d,null)};b.prototype.addDefaultCharts=
function(){if(!(0<this.viewModel.displayedCharts.getLength()))for(var a=0;a<this.viewModel.defaultCharts.getLength();a++){var d=this.viewModel.defaultCharts.getAt(a);this.addChart(d)}};b.prototype.addChartById=function(a){a=this.viewModel.findChartById(a);this.addChart(a)};b.prototype.addChart=function(a){if(!a||!this.canAddChart(a))return null;!1===this.isActive&&this.activateContainer();this.viewModel.displayedCharts.addItem(a);this.app.command("ClearCharts").raiseCanExecuteChanged();this.selector&&
this.selector.hasItemViewModelFor(a)&&this.selector.selectItem(a);this.viewModel.applyChartOptions(a);a.chartPointCollection.get();return this._hostChartInPane(a)};b.prototype.canAddChart=function(a){return a&&this.viewModel?!this.viewModel.displayedCharts.contains(a):!1};b.prototype.destroyChartById=function(a){a=this.viewModel.findDisplayedChartById(a);this.destroyChart(a)};b.prototype.destroyChart=function(a){if(!a||!this.canDestroyChart(a))return!1;this.viewModel.displayedCharts.removeItem(a);
this.app.command("ClearCharts").raiseCanExecuteChanged();this.selector&&this.selector.hasItemViewModelFor(a)&&this.selector.unselectItem(a);a.destroyChartPoints();this.viewModel.cleanup();var d=this.findChartPaneForViewModel(a);if(d)return this.app.command("DestroyView").execute(d.id),!0;this.app.trace.warning("Could not destroy chart '{0}': Chart not found.".format(a.chartId.get()));return!1};b.prototype.canDestroyChart=function(a){return a&&this.viewModel?this.viewModel.displayedCharts.contains(a):
!1};b.prototype.clearCharts=function(){for(var a=this.viewModel.displayedCharts.getLength();a--;){var d=this.viewModel.displayedCharts.getAt(a);this.destroyChart(d)}};b.prototype.handleSelectChart=function(a){this.addChart(a)};b.prototype.handleUnSelectChart=function(a){this.destroyChart(a)};b.prototype.handleClickClose=function(a,d,c){this.deactivateContainer()};b.prototype.handleViewHostedEvent=function(a){this.viewModel&&a.region.name===this.viewModel.regionName.get()&&!f.framework.utils.ArrayUtils.contains(this._panes,
a.view)&&this._panes.push(a.view)};b.prototype.handleViewUnhostedEvent=function(a){this.viewModel&&a.region.name===this.viewModel.regionName.get()&&f.framework.utils.ArrayUtils.contains(this._panes,a.view)&&(f.framework.utils.ArrayUtils.removeItem(this._panes,a.view),f.framework.utils.ArrayUtils.removeItem(this._activePanes,a.view))};b.prototype.handleViewActivatedEvent=function(a){if(a&&this.viewModel){var d=this.app.viewManager.getRegionForViewId(a.id);if(d&&d.name===this.viewModel.regionName.get()){var d=
f.framework.utils.ArrayUtils.contains(this._panes,a),c=f.framework.utils.ArrayUtils.contains(this._activePanes,a);d&&!c&&(this._activePanes.push(a),this._resizeContainer())}}};b.prototype.handleViewDeactivatedEvent=function(a){if(a&&this.viewModel){var d=this.app.viewManager.getRegionForViewId(a.id);if(d&&d.name===this.viewModel.regionName.get()){var d=f.framework.utils.ArrayUtils.contains(this._panes,a),c=f.framework.utils.ArrayUtils.contains(this._activePanes,a);d&&c&&(f.framework.utils.ArrayUtils.removeItem(this._activePanes,
a),this._resizeContainer())}}};b.prototype.handleViewDimensionsChangedEvent=function(a){"ShellView"===a.view.id&&this._resizeContainer()};b.prototype.handleApplicationResizedEvent=function(){this._resizeContainer()};b.prototype.handleViewContainerActivatedEvent=function(a){this.isActive&&this._isViewHostedInContainer(a)&&(this._cancelDelayedResizeContainer(),this._delayedResizeContainer())};b.prototype._isViewHostedInContainer=function(a){if(a instanceof f.framework.ui.ViewContainer.ViewContainerView){a=
a.viewModel.regionName.get();var d=this.app.viewManager.getRegionForViewId(this.id);if(d&&d.name===a)return!0}return!1};b.prototype._cancelDelayedResizeContainer=function(){this._delayedResizeHandle&&this._delayedResizeHandle.stop();this._delayedResizeHandle=null};b.prototype._delayedResizeContainer=function(){this._delayedResizeHandle=new f.framework.utils.TimeDelayedAction(0,this._resizeContainer,this);this._delayedResizeHandle.start();return this._delayedResizeHandle};b.prototype._resizeContainer=
function(a){this._cancelDelayedResizeContainer();if(this.viewModel&&!1!==this.isActive&&!1!==this._active){a=-1<this.viewModel.regionType.get().indexOf("Stack");var d=this.scrollRegionElement,c=$(".view.active .chart-pane",d);if(a&&0!==c.length)for(a=Math.floor(d.clientWidth/c.length-2),d=d.clientHeight,c=0;c<this._panes.length;c++){var b=this._panes[c];b&&b.viewModel&&(b.viewModel.setSize(a,d),b.refresh())}}};b.prototype.findChartPaneForViewModel=function(a){return f.framework.utils.ArrayUtils.firstOrDefault(this._panes,
function(d){return d&&d.viewModel&&d.viewModel.currentChart.get()===a})};b.prototype._hostChartInPane=function(a){var d=this,c=new g.ChartPaneViewModel(this.app,this.libraryId);c.id="ChartPaneViewModel-"+f.framework.utils.alphaNumericToken();c.currentChart.set(a);c.responsiveLegendPositioning.set(!!this.app.configuration.mobileMode);c.initialize({title:a.chartDefinition.displayName,infrastructureLibraryId:this.viewModel.infrastructureLibraryId,headerIsVisible:this.viewModel.headerIsVisible.get(),
showXButton:this.viewModel.showXButton.get()});a=this.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.modules.charting.ChartPane",markupResource:"Mapping.Charting/modules/Charting/ChartPane.html",libraryId:this.libraryId||"Mapping.Charting",title:this.app.getResource(this.libraryId,"language-feature-charts"),regionName:this.viewModel.regionName.get(),isVisible:!0,viewModel:c});a.onClose=function(a){return d.destroyChart(a)};return a};b.prototype._executeShowChartingView=
function(){!1===this.isActive&&this.activateContainer();this.addDefaultCharts();this.viewModel.updateDisplayedCharts()};b.prototype._canExecuteShowChartingView=function(){if(this.viewModel&&this.viewModel.featureSetCollection.get())for(var a=this.viewModel.featureSetCollection.get().featureSets.getLength();a--;){var d=this.viewModel.featureSetCollection.get().featureSets.getAt(a);if(d.features&&d.layer&&d.layer.charts&&d.layer.charts.some(function(a){return a.chartDefinition.visible&&a.chartFeatureType===
f.charting.ChartFeatureType.MultiFeature}))return!0}return!1};b.prototype._canExecuteDisplayChartById=function(a){return this.viewModel&&this.canAddChart(this.viewModel.findChartById(a))};b.prototype._canExecuteRemoveChartById=function(a){return this.viewModel&&this.canDestroyChart(this.viewModel.findDisplayedChartById(a))};b.prototype._canExecuteClearCharts=function(){return this.viewModel&&0<this.viewModel.displayedCharts.getLength()};b.prototype._exportState=function(a){a.results=this.app.project.convert.fromGcxFeatureSetCollection(this.viewModel.featureSetCollection.get());
a.displayedCharts=this.viewModel.displayedCharts.get().map(function(a){return a.chartId.get()})};b.prototype._applyState=function(a){var d=this;a.stateAppliedPromises.push(this.app.project.convert.toGcxFeatureSetCollection(a.state.results).then(function(c){d.viewModel.featureSetCollection.set(c);d.clearCharts();(a.state.displayedCharts||[]).forEach(function(a){d.addChartById(a)})}))};return b}(f.essentialsHtmlViewer.mapping.infrastructure.ui.components.SmartPanel.SmartPanelView);g.ChartingView=e})(g.charting||
(g.charting={}))})(g.modules||(g.modules={}))})(e.mapping||(e.mapping={}))})(f.essentialsHtmlViewer||(f.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(f){(function(e){(function(g){(function(e){(function(e){var k=function(f){function b(){return null!==f&&f.apply(this,arguments)||this}__extends(b,f);b.prototype.attachAttributes=function(a,d){f.prototype.attachAttributes.call(this,a,d);if(d&&d.items&&0<d.items.length){for(var c=this._getFeatureFromChartPoint(d.items[0]),b=c?c.layer:null,c=[],e=0;e<d.items.length;e++){var k=this._getFeatureFromChartPoint(d.items[e]);null!==k&&k instanceof g.infrastructure.Feature&&c.push(k)}b=new g.infrastructure.FeatureSet({layer:b});
b.features.addItems(c);a.attributes=a.attributes||{};a.attributes.features=b}};b.prototype._getFeatureFromChartPoint=function(a){return a&&a.attributes&&a.attributes.hasOwnProperty("feature")?a.attributes.feature:null};return b}(f.charting.aggregation.ChartPointCollectionAggregator);e.ChartPointCollectionFeatureAggregator=k})(e.charting||(e.charting={}))})(g.modules||(g.modules={}))})(e.mapping||(e.mapping={}))})(f.essentialsHtmlViewer||(f.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(f){(function(e){(function(g){(function(e){(function(e){var k=function(){function e(){}e.findDataLinkingResultById=function(b,a){if(b&&b.layer&&b.dataLinkingResults){var d=f.essentials.utilities.SiteResourceIdComparer.lookUp(b.layer.dataLinks,a);if(d)return f.framework.utils.ArrayUtils.firstOrDefault(b.dataLinkingResults.getItems(),function(a){return null!=a&&a.dataLink.get().id===d.id})}return null};e.getFeaturesFromChartPoint=function(b){var a=null;b&&b.attributes&&(b.attributes.hasOwnProperty("feature")?
(b=b.attributes.feature,null!==b&&b instanceof g.infrastructure.Feature&&(a=new g.infrastructure.FeatureSet({layer:b.layer}),a.features.addItem(b))):b.attributes.hasOwnProperty("features")&&(a=b.attributes.features));return a};e.createCompareFunction=function(b){return function(a,d){var c=b(a),f=b(d);return c===f?0:c>f?1:-1}};e.applyChartOptions=function(b,a){b&&a&&b.setOptions(a)};return e}();e.ChartUtils=k})(e.charting||(e.charting={}))})(g.modules||(g.modules={}))})(e.mapping||(e.mapping={}))})(f.essentialsHtmlViewer||
(f.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(f){(function(e){(function(g){(function(e){(function(e){var k=function(h){function b(){return null!==h&&h.apply(this,arguments)||this}__extends(b,h);b.prototype.fill=function(a,d,c){if(c&&c.chartCategory&&c.chartSeries&&d&&d instanceof g.infrastructure.FeatureSet&&0!=d.features.getLength()){a||(a=new f.charting.ChartPointCollection);var b=d.features.getAt(0),m=e.ChartUtils.findDataLinkingResultById(b,c.chartSeries.field.dataLinkId);if(m&&!m.dataLink.get().isOneToOne)switch(c.chartFeatureType){case f.charting.ChartFeatureType.SingleFeature:this._fillFromDataLink(a,
b,m,c);break;case f.charting.ChartFeatureType.MultiFeature:for(var h=0;h<d.features.getLength();h++)b=d.features.getAt(h),(m=e.ChartUtils.findDataLinkingResultById(b,c.chartSeries.field.dataLinkId))&&this._fillFromDataLink(a,b,m,c)}else for(m=0;m<d.features.getLength();m++)b=d.features.getAt(m),(b=this.createChartPoint(b,c,null))&&a.items.push(b)}};b.prototype.createChartPoint=function(a,d,b){void 0===b&&(b=null);if(!d||!d.chartCategory||!d.chartSeries)return null;if(null==d.chartType||"undefined"===
typeof d.chartType)d.chartType=f.charting.ChartType.Linear;var g=this.getFieldValue(d.chartSeries.field,a,b),e=null;switch(d.chartType){case f.charting.ChartType.Linear:e=f.charting.ChartUtils.tryGetFieldValue(d.chartCategory.field,a,b)}return this.createChartPointCore(a,d.chartSeries.title,g,e,d,b)};b.prototype.getFieldValue=function(a,d,b){void 0===b&&(b=null);var l=b?b.dataLink:null;b=b?b.dataLinkRow:null;if(!(d&&d instanceof g.infrastructure.Feature&&a&&a.sourceType==f.charting.ChartFieldSourceType.DataLink))return null;
l||(l=e.ChartUtils.findDataLinkingResultById(d,a.dataLinkId),b=null);return l&&l.table.get()?(d=l.table.get())&&0<d.rows.length&&(b||(b=d.rows[0]),a=d.columns.indexOf(a.name),-1<a)?b.row[a]:null:null};b.prototype._fillFromDataLink=function(a,d,b,g){if(d&&b){a||(a=new f.charting.ChartPointCollection);var e=b.table.get();if(e&&0!=e.columns.length)for(var h=0;h<e.rows.length;h++){var k=this.createChartPoint(d,g,{dataLink:b,dataLinkRow:e.rows[h]});k&&a.items.push(k)}}};b.prototype.attachAttributes=function(a,
d,b,f){void 0===f&&(f=null);h.prototype.attachAttributes.call(this,a,d,b,f);a&&d&&d instanceof g.infrastructure.Feature&&(a.attributes=a.attributes||{},a.attributes.feature=d)};return b}(f.charting.ChartPointAdapterBase);e.DataLinkChartPointAdapter=k})(e.charting||(e.charting={}))})(g.modules||(g.modules={}))})(e.mapping||(e.mapping={}))})(f.essentialsHtmlViewer||(f.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(f){(function(e){(function(g){(function(e){(function(e){var k=function(e){function b(){return null!==e&&e.apply(this,arguments)||this}__extends(b,e);b.prototype.fill=function(a,b,c){if(c&&c.chartCategory&&c.chartSeries&&b&&b instanceof g.infrastructure.FeatureSet){a||(a=new f.charting.ChartPointCollection);for(var e=0;e<b.features.getLength();e++){var h=b.features.getAt(e);(h=this.createChartPoint(h,c))&&a.items.push(h)}}};b.prototype.createChartPoint=function(a,b,c){void 0===c&&(c=null);
if(!b||!b.chartCategory||!b.chartSeries)return null;if(null==b.chartType||"undefined"===typeof b.chartType)b.chartType=f.charting.ChartType.Linear;var e=this.getFieldValue(b.chartSeries.field,a,c),g=null;switch(b.chartType){case f.charting.ChartType.Linear:g=f.charting.ChartUtils.tryGetFieldValue(b.chartCategory.field,a,c)}return this.createChartPointCore(a,b.chartSeries.title,e,g,b,c)};b.prototype.getFieldValue=function(a,b,c){if(!(b&&b instanceof g.infrastructure.Feature&&a&&a.sourceType==f.charting.ChartFieldSourceType.Field))return null;
var e;if(b.attributes)for(c=0;c<b.attributes.getLength();c++){var h=b.attributes.getAt(c);if(h.name.get()==a.name){e=h;break}}return e?this._normalizeAttribute(e.value.get(),e.type.get()):(b=b.esriFeature.get())&&b.attributes?b.attributes[a.name]:null};b.prototype.attachAttributes=function(a,b,c,f){void 0===f&&(f=null);e.prototype.attachAttributes.call(this,a,b,c,f);a&&b&&b instanceof g.infrastructure.Feature&&(a.attributes=a.attributes||{},a.attributes.feature=b)};b.prototype._normalizeAttribute=
function(a,b){if(b)if("datetime"===b.toLowerCase()){if("number"===typeof a){var c=new Date(a);"Invalid Date"==c&&(c=new Date(parseInt(a.toString())));return c}if("string"===typeof a&&(c=Date.parse(a),"number"===typeof c))return new Date(c)}else{if(-1<["single","double","float"].indexOf(b.toLowerCase()))return parseFloat(a);if(-1<["int16","int32","short"].indexOf(b.toLowerCase()))return parseInt(a)}return a};return b}(f.charting.ChartPointAdapterBase);e.FeatureChartPointAdapter=k})(e.charting||(e.charting=
{}))})(g.modules||(g.modules={}))})(e.mapping||(e.mapping={}))})(f.essentialsHtmlViewer||(f.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(f){(function(e){(function(e){(function(k){(function(k){var n=function(){function h(){this._kendoFormatProvider=new f.charting.globalization.KendoFormatProvider}h.prototype.toString=function(b,a,d,c){return b instanceof Date?(b=c?e.infrastructure.TimeZoneUtils.correctDatesForDisplayInDisplayTimeZone(b,d,c):e.infrastructure.TimeZoneUtils.correctDatesForDisplayInLocalTime(b,d),e.infrastructure.FormatUtils.formatDate(b,a)):"number"===typeof b?e.infrastructure.FormatUtils.formatNumber(b,a):this._kendoFormatProvider.toString(b,
a)};return h}();k.FormatProvider=n})(k.charting||(k.charting={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(f.essentialsHtmlViewer||(f.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(f){(function(e){(function(e){(function(e){(function(e){var g=function(g){function b(a,b){var c=g.call(this,a,b)||this;c._chartPane=null;c.app.event("ApplicationResizedEvent").subscribe(c,c.handleApplicationResizedEvent);return c}__extends(b,g);b.prototype.attach=function(a){var b=this;g.prototype.attach.call(this,a);a&&(a.currentChart.bind(this,this._onCurrentChartChanged),a.onNewFeatureInitialized=function(){return b._onNewFeatureInitialized()})};b.prototype.activated=function(){g.prototype.activated.call(this);
this._refreshChartPane()};b.prototype.resolveWidget=function(a,b,c){var e=this;return"ChartSelector"===a?(this._selectorView=this.app.viewManager.createView({typeName:"geocortex.framework.ui.Selector.SelectorView",markupResource:"Framework.UI/geocortex/framework/ui/Selector/SelectorView.html",isVisible:!0,libraryId:"Framework.UI"}),this.selector=new f.framework.ui.Selector.SelectorViewModel(this.app,this.libraryId,!0),this.selector.showNativeSelect.get()&&(this.selector.dummyItemText=this.app.getResource(this.libraryId,
"language-feature-no-chart")),this.selector.setCollection(this.viewModel.charts,"displayName",null),this.selector.selectorText.set(this.app.getResource(this.libraryId,"language-charting-selector-text")),this.selector.noItemsText.set(this.app.getResource(this.libraryId,"language-charting-no-items")),this.selector.onSelectItem=function(a){return e.handleSelectChart(a.item)},this.selector.onUnselectItem=function(a){return e.handleUnSelectChart(a.item)},this._selectorView.attach(this.selector),this._selectorView):
b&&"ChartPaneWidget"===a?this._chartPane=this._hostChartInPane(b):g.prototype.resolveWidget.call(this,a,b)};b.prototype._hostChartInPane=function(a){var b=this,c=new e.ChartPaneViewModel(this.app,this.libraryId);c.id="ChartPaneViewModel-"+f.framework.utils.alphaNumericToken();c.responsiveLegendPositioning.set(!0);c.currentChart.set(a);c.initialize({title:a.chartDefinition.displayName,infrastructureLibraryId:this.viewModel.infrastructureLibraryId,headerIsVisible:!0,showXButton:!0});a=this.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.modules.charting.ChartPane",
markupResource:"Mapping.Charting/modules/Charting/ChartPane.html",libraryId:this.libraryId||"Mapping.Charting",isVisible:!0,viewModel:c});a.onClose=function(a){return b.destroyChart(a)};return a};b.prototype.handleSelectChart=function(a){this.addChart(a)};b.prototype.handleUnSelectChart=function(a){this.destroyChart(a)};b.prototype.handleApplicationResizedEvent=function(){this.viewModel&&this._chartPane&&this._chartPane.refresh()};b.prototype.addChart=function(a){return a&&this.viewModel.currentChart.get()!==
a?(a.chartPointCollection.get(),this.viewModel.currentChart.set(a),this.selector.selectItem(a),this.handleApplicationResizedEvent(),this._chartPane):null};b.prototype.destroyChart=function(a){if(a&&this.viewModel.currentChart.get()===a){if(!this._chartPane)return this.app.trace.warning("Could not destroy chart '{0}': Chart not found.".format(a.chartId.get())),!1;this.viewModel.currentChart.set(null);this.selector.unselectItem(a);a.destroyChartPoints();this.cleanup();return!0}return!1};b.prototype.cleanup=
function(){this._chartPane&&(this._chartPane.destroy(),this._chartPane=null)};b.prototype._onCurrentChartChanged=function(a){a||this.cleanup()};b.prototype._onNewFeatureInitialized=function(){this.viewModel.charts.length()&&(this.addChart(this.viewModel.charts.getAt(0)),this._refreshChartPane())};b.prototype._refreshChartPane=function(){var a=this;setTimeout(function(){return a.handleApplicationResizedEvent()},0)};return b}(f.framework.ui.ViewBase);e.SingleFeatureChartView=g})(e.charting||(e.charting=
{}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(f.essentialsHtmlViewer||(f.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));
(function(f){(function(e){(function(e){(function(k){(function(k){var n=function(h){function b(a,b){var c=h.call(this,a,b)||this;c._chartFactory=null;c._chartConfig={animationsEnabled:!0,gradientsEnabled:!1,interactiveLegendEnabled:!1,interactiveChart:!1,pieStartAngle:180,renderAs:"svg",chartWidth:0,chartHeight:0};c._syncToken=null;c._syncSource=null;c.charts=new ObservableCollection;c.currentChart=new Observable;c.infrastructureLibraryId="Charting";c.containerRegionName=new Observable("");return c}
__extends(b,h);b.prototype.onNewFeatureInitialized=function(){};b.prototype.getChartFactory=function(){null===this._chartFactory&&(this._chartFactory=this.app.getFrameworkObjectById("ChartViewModelFactory"));return this._chartFactory};b.prototype.initialize=function(a){h.prototype.initialize.call(this,a);a&&(a.hasOwnProperty("infrastructureLibraryId")&&(this.infrastructureLibraryId=a.infrastructureLibraryId),a.hasOwnProperty("containerRegionName")&&this.containerRegionName.set(a.containerRegionName),
a=a.chartConfiguration)&&(a.hasOwnProperty("chartWidth")&&(this._chartConfig.chartWidth=parseInt(a.chartWidth)),a.hasOwnProperty("chartHeight")&&(this._chartConfig.chartHeight=parseInt(a.chartHeight)),a.hasOwnProperty("renderAs")&&(this._chartConfig.renderAs=a.renderAs),a.hasOwnProperty("animationsEnabled")&&(this._chartConfig.animationsEnabled=!!a.animationsEnabled),a.hasOwnProperty("gradientsEnabled")&&(this._chartConfig.gradientsEnabled=!!a.gradientsEnabled),a.hasOwnProperty("interactiveLegendEnabled")&&
(this._chartConfig.interactiveLegendEnabled=!!a.interactiveLegendEnabled),a.hasOwnProperty("pieStartAngle")&&(this._chartConfig.pieStartAngle=a.pieStartAngle))};b.prototype.handleCurrentFeatureChanged=function(a){this.charts.clear();this.currentChart.set(null);this._syncToken&&this._syncSource&&(this._syncSource.unbind(this._syncToken),this._syncToken=this._syncSource=null);var b=this.getChartFactory();if(b&&a&&a.layer&&a.layer.charts){for(var c=[],e=0;e<a.layer.charts.length;e++){var g=a.layer.charts[e];
g&&g.chartDefinition.visible&&g.chartFeatureType==f.charting.ChartFeatureType.SingleFeature&&(g=b.createInstance(g.chartDefinition,f.charting.ChartFeatureType.SingleFeature),g.tag=a.layer,this.applyChartOptions(g),c.push(g))}this.charts.addItems(c);this.charts.getItems().some(function(a){return f.charting.ChartUtils.containsDataLinks(a.chartDefinition)})&&(this._syncSource=a.dataLinkingResults,this._syncToken=a.dataLinkingResults.bind(this,this._handleDataLinksChanged));this.buildChartPointCollections(a);
this.updateDisplayedCharts();this.onNewFeatureInitialized()}this.updateProviderState(!!this.charts.length())};b.prototype.applyChartOptions=function(a){a&&a.setOptions(this._chartConfig)};b.prototype.updateDisplayedCharts=function(){this.currentChart.get()&&this.currentChart.get().chartPointCollection.get()};b.prototype.chartPointCollectionLoadDelegate=function(a,b){var c=this;return function(){if(c.getChartFactory()){var h=new e.infrastructure.FeatureSet({layer:b.layer,app:c.app});h.addFeature(b);
return c.getChartFactory().createChartPointCollection(a.chartDefinition,h,f.charting.ChartFeatureType.SingleFeature)}return null}};b.prototype.buildChartPointCollections=function(a){for(var b=0;b<this.charts.getLength();b++){var c=this.charts.getAt(b),e=this.chartPointCollectionLoadDelegate(c,a),c=c.chartPointCollection;c.clear();c.delegateGetter=e;c.cacheDelegateResults=!0}};b.prototype._handleDataLinksChanged=function(a){this.buildChartPointCollections(this.currentFeature.get());this.updateDisplayedCharts()};
return b}(e.infrastructure.featureDetails.FeatureProviderBase);k.SingleFeatureChartViewModel=n})(k.charting||(k.charting={}))})(e.modules||(e.modules={}))})(e.mapping||(e.mapping={}))})(f.essentialsHtmlViewer||(f.essentialsHtmlViewer={}))})(geocortex||(geocortex={}));geocortex.resourceManager.register("Mapping.Charting","inv","Mapping.Charting/modules/Charting/ChartingView.html","html","PGRpdiBjbGFzcz0idmlldy1jb250YWluZXItdmlldyBjaGFydGluZyIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogY29udGFpbmVyRWxlbWVudH17QGNsYXNzLWNoYXJ0aW5nLW1vYmlsZTogbW9iaWxlTW9kZX17QG5vY2xhc3Mtbm8taGVhZGVyOiBoZWFkZXJJc1Zpc2libGV9Ij4gIDxidXR0b24gY2xhc3M9ImJvdHRvbS1wYW5lbC1yZXNpemUgcmVzaXplLWhhbmRsZSIgdGFiaW5kZXg9Ii0xIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogcmVzaXplWX17QGV2ZW50LW1vdXNlZG93bjogaGFuZGxlSGVhZGVyTW91c2VEb3dufXtAZXZlbnQtdG91Y2hzdGFydDogaGFuZGxlSGVhZGVyVG91Y2hTdGFydH17dGl0bGU6IEBsYW5ndWFnZS1jaGFydGluZy1zbWFydC1wYW5lbC1yZXNpemV9Ij4gPHNwYW4gY2xhc3M9Imljb24tZHJhZyI+PC9zcGFuPiA8L2J1dHRvbj4gPGRpdiBjbGFzcz0icGFuZWwtaGVhZGVyIGJhbm5lci1ub3NlbGVjdCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGhlYWRlcklzVmlzaWJsZX17QHZhcjogaGVhZGVyRWxlbWVudH17QGV2ZW50LW1vdXNlZG93bjogaGFuZGxlSGVhZGVyTW91c2VEb3dufQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0BldmVudC10b3VjaHN0YXJ0OiBoYW5kbGVIZWFkZXJUb3VjaFN0YXJ0fXtAY2xhc3MtcmVzaXplLWhvcml6b250YWwtaGludDogcmVzaXplWH17QGNsYXNzLXJlc2l6ZS12ZXJ0aWNhbC1oaW50OiByZXNpemVZfSI+IDxidXR0b24gY2xhc3M9InBhbmVsLWhlYWRlci1idXR0b24gcmlnaHQgY2xvc2UtMTYiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93WEJ1dHRvbn17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrQ2xvc2V9e3RpdGxlOiBAbGFuZ3VhZ2UtY29tbW9uLWNsb3NlfSI+PC9idXR0b24+IDxidXR0b24gY2xhc3M9InBhbmVsLWhlYWRlci1idXR0b24gcmlnaHQiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93aW5nTWF4aW1pemVCdXR0b259e0BjbGFzcy1taW5pbWl6ZS0xNjogcGFuZWxNYXhpbWl6ZWR9e0Bub2NsYXNzLW1heGltaXplLTE2OiBwYW5lbE1heGltaXplZH17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZU1heGltaXplVG9nZ2xlQ2xpY2t9e0BldmVudC10b3VjaHN0YXJ0OiBoYW5kbGVNYXhpbWl6ZVRvZ2dsZUNsaWNrfXt0aXRsZTogQGxhbmd1YWdlLWNoYXJ0aW5nLXNtYXJ0LXBhbmVsLW1heGltaXplLXJlc3RvcmV9Ij48L2J1dHRvbj4gPGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvY2hhcnRpbmctMjQucG5nIiBhbHQ9IiAiIC8+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogQ2hhcnRTZWxlY3Rvcn17QHdpZGdldC1yZXBsYWNlOiB0cnVlfSI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJwYW5lbC1zY3JvbGwtY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntkYXRhLXJlZ2lvbi1uYW1lOiByZWdpb25OYW1lfXtkYXRhLXJlZ2lvbi1hZGFwdGVyOiByZWdpb25UeXBlfXtAdmFyOiBzY3JvbGxSZWdpb25FbGVtZW50fXtAZXZlbnQtb25zY3JvbGw6IGhhbmRsZVNjcm9sbENoYW5nZX0iPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping.Charting","inv","Mapping.Charting/modules/Charting/ChartPane.html","html","PGRpdiBjbGFzcz0iY2hhcnQtcGFuZSIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogY29udGFpbmVyRWxlbWVudH17QGNsYXNzLWF1dG8tc2l6ZTogYXV0b1NpemV9e0Bub2NsYXNzLW5vLWhlYWRlcjogaGVhZGVySXNWaXNpYmxlfSI+IDxkaXYgY2xhc3M9InBhbmVsLWhlYWRlciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGhlYWRlcklzVmlzaWJsZX0iPiA8YnV0dG9uIGNsYXNzPSJwYW5lbC1oZWFkZXItYnV0dG9uIHJpZ2h0IGNsb3NlLTE2IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd1hCdXR0b259e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0Nsb3NlfXt0aXRsZTogQGxhbmd1YWdlLWNvbW1vbi1jbG9zZX0iPjwvYnV0dG9uPiA8aDIgY2xhc3M9InBhbmVsLXRpdGxlIj4gPGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvbG9hZGVyLXNtYWxsLmdpZiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dCdXN5SW5kaWNhdG9yfSIgYWx0PSIgIiAvPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogdGl0bGV9e0B2aXNpYmxlOiB0aXRsZX0iPjwvc3Bhbj4gPC9oMj4gPC9kaXY+IDxkaXYgY2xhc3M9ImNoYXJ0LXBhbmUtYm9keSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHdpZGdldDogQ2hhcnRXaWRnZXR9e0B3aWRnZXQtY29udGV4dDogY3VycmVudENoYXJ0fXtAd2lkZ2V0LXJlcXVpcmVkOiB0cnVlfXtAd2lkZ2V0LXJlcGxhY2U6IHRydWV9Ij48L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping.Charting","inv","Mapping.Charting/modules/Charting/SingleFeatureChartView.html","html","PGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAgc2luZ2xlLWZlYXR1cmUtY2hhcnQiIGRhdGEtYmluZGluZz0ie0B2YXI6IGNvbnRhaW5lckVsZW1lbnR9e0B2aXNpYmxlOiBwcm92aWRlckVuYWJsZWR9Ij4gPGgzIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1jaGFydHN9Ij48L2gzPiA8ZGl2IGNsYXNzPSJzaW5nbGUtZmVhdHVyZS1jaGFydC1zZWxlY3RvciI+IDxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL2NoYXJ0aW5nLTI0LnBuZyIgYWx0PSIgIiAvPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B3aWRnZXQ6IENoYXJ0U2VsZWN0b3J9e0B3aWRnZXQtcmVwbGFjZTogdHJ1ZX0iPjwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0ic2luZ2xlLWZlYXR1cmUtY2hhcnQtd2lkZ2V0IiBkYXRhLWJpbmRpbmc9IntAd2lkZ2V0OiBDaGFydFBhbmVXaWRnZXR9e0B3aWRnZXQtY29udGV4dDogY3VycmVudENoYXJ0fXtAd2lkZ2V0LXJlcXVpcmVkOiBmYWxzZX0iPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping.Charting","inv","Mapping.Charting/modules/Charting/CSS/common.css","css","LmNoYXJ0LXBhbmV7cG9zaXRpb246cmVsYXRpdmU7cGFkZGluZzowO21hcmdpbjowO292ZXJmbG93OmhpZGRlbjtiYWNrZ3JvdW5kOndoaXRlfS5jaGFydC1wYW5lIC5wYW5lbC1oZWFkZXIgaDJ7Zm9udC1zaXplOjEuMWVtfS5jaGFydC1wYW5lIC5wYW5lbC1oZWFkZXItYnV0dG9ue3dpZHRoOjEuN2VtfS5jaGFydC1wYW5lIC5jaGFydHt3aWR0aDphdXRvO21hcmdpbjphdXRvO2NsZWFyOmJvdGg7cGFkZGluZzowIC41ZW19LnNpbmdsZS1mZWF0dXJlLWNoYXJ0LXNlbGVjdG9ye3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjEwMCU7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2VlZX0uc2luZ2xlLWZlYXR1cmUtY2hhcnQtc2VsZWN0b3IgaW1ne21hcmdpbjoxZW0gMCAwIDFlbTtsZWZ0OjA7dG9wOjA7cG9zaXRpb246YWJzb2x1dGV9LnNpbmdsZS1mZWF0dXJlLWNoYXJ0LXNlbGVjdG9yIC5mdWktc2VsZWN0b3J7dmVydGljYWwtYWxpZ246bWlkZGxlO3BhZGRpbmc6MWVtIC41ZW0gMWVtIDNlbTt3aWR0aDo4MCU7ZGlzcGxheTppbmxpbmUtYmxvY2s7ZmxvYXQ6bGVmdDt0b3A6MH0KLnNpbmdsZS1mZWF0dXJlLWNoYXJ0LXNlbGVjdG9yIC5mdWktc2VsZWN0b3ItaGVhZGVye3dpZHRoOjEwMCV9LnNpbmdsZS1mZWF0dXJlLWNoYXJ0LXNlbGVjdG9yIHVsLmZ1aS1zZWxlY3Rvci1ib2R5IGxpIGRpdntwYWRkaW5nOjFlbX0uc2luZ2xlLWZlYXR1cmUtY2hhcnQtc2VsZWN0b3IgLnNlbGVjdG9yLWl0ZW0gc3Bhbnt3aWR0aDphdXRvfS5zaW5nbGUtZmVhdHVyZS1jaGFydC1zZWxlY3RvciAuc2VsZWN0b3ItaXRlbSBpbnB1dHt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7bWFyZ2luLXJpZ2h0Oi41ZW19LnNpbmdsZS1mZWF0dXJlLWNoYXJ0LXdpZGdldHtjbGVhcjpib3RoO21hcmdpbi10b3A6LjVlbX0uc2luZ2xlLWZlYXR1cmUtY2hhcnQgLmNoYXJ0LXBhbmV7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0uRmVhdHVyZURldGFpbHNDb21wYWN0VmlldyAuY2hhcnQtcGFuZSAuY2hhcnR7bWluLWhlaWdodDo0MDBweH0uQ2hhcnRpbmdWaWV3IC5jaGFydC1wYW5lIC5wYW5lbC1oZWFkZXIsLnNpbmdsZS1mZWF0dXJlLWNoYXJ0IC5jaGFydC1wYW5lIC5wYW5lbC1oZWFkZXJ7Ym9yZGVyOjB9Ci5GZWF0dXJlRGV0YWlsc0V4cGFuZGVkVmlldyAucmVnaW9uLXZpZXctc3dpdGNoZXIuYm91bmQtdmlzaWJsZSsucmVnaW9uIC52aWV3LmFjdGl2ZSAucGFuZWwtZ3JvdXAuc2luZ2xlLWZlYXR1cmUtY2hhcnR7dG9wOjIuMmVtfS5GZWF0dXJlRGV0YWlsc0V4cGFuZGVkVmlldyAuc2luZ2xlLWZlYXR1cmUtY2hhcnR7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTt0b3A6MDtib3R0b206MH0uRmVhdHVyZURldGFpbHNFeHBhbmRlZFZpZXcgLnNpbmdsZS1mZWF0dXJlLWNoYXJ0LXdpZGdldHtwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW46MDt3aWR0aDoxMDAlO3RvcDozLjRlbTtib3R0b206MDttaW4taGVpZ2h0OjB9LkNoYXJ0aW5nVmlldyAuY2hhcnQtcGFuZSAuY2hhcnQsLkZlYXR1cmVEZXRhaWxzRXhwYW5kZWRWaWV3IC5jaGFydC1wYW5lIC5jaGFydHtoZWlnaHQ6MTAwJX0uQ2hhcnRpbmdWaWV3IC5jaGFydC1wYW5lLWJvZHksLkZlYXR1cmVEZXRhaWxzRXhwYW5kZWRWaWV3IC5jaGFydC1wYW5lLWJvZHl7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTt0b3A6My43NWVtO2JvdHRvbTowO292ZXJmbG93OmhpZGRlbjtiYWNrZ3JvdW5kOndoaXRlfQoubm8tdG91Y2ggLkNoYXJ0aW5nVmlldyAuY2hhcnQtcGFuZS1ib2R5LC5uby10b3VjaCAuRmVhdHVyZURldGFpbHNFeHBhbmRlZFZpZXcgLmNoYXJ0LXBhbmUtYm9keXt0b3A6M2VtfS5DaGFydGluZ1ZpZXcgLm5vLWhlYWRlciAuY2hhcnQtcGFuZS1ib2R5LC5GZWF0dXJlRGV0YWlsc0V4cGFuZGVkVmlldyAubm8taGVhZGVyIC5jaGFydC1wYW5lLWJvZHl7dG9wOjB9LkNoYXJ0aW5nVmlldyAucGFuZWwtaGVhZGVyIGltZ3tkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW4tbGVmdDouN2VtO3ZlcnRpY2FsLWFsaWduOm1pZGRsZX0uQ2hhcnRpbmdWaWV3IC5mdWktc2VsZWN0b3J7dmVydGljYWwtYWxpZ246bWlkZGxlO3BhZGRpbmc6MDttYXJnaW46MDt3aWR0aDoxNmVtO2Zsb2F0Om5vbmU7aGVpZ2h0OmF1dG99LkNoYXJ0aW5nVmlldyB1bC5mdWktc2VsZWN0b3ItYm9keSBzcGFue3ZlcnRpY2FsLWFsaWduOnRvcDtsaW5lLWhlaWdodDoxLjZlbTtmb250LXNpemU6Ljk1ZW07ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6OTMlfQouQ2hhcnRpbmdWaWV3IC5jaGFydGluZy1tb2JpbGUgdWwuZnVpLXNlbGVjdG9yLWJvZHl7cG9zaXRpb246Zml4ZWQ7bGVmdDowO3JpZ2h0OjA7dG9wOjQ1cHg7Ym90dG9tOjA7bWF4LWhlaWdodDppbml0aWFsO2JvcmRlcjowfS5DaGFydGluZ1ZpZXcgLmNoYXJ0aW5nLW1vYmlsZSB1bC5mdWktc2VsZWN0b3ItYm9keS5leHBhbmRlZHtib3JkZXItcmlnaHQ6MXB4IHNvbGlkICNjY2N9LkNoYXJ0aW5nVmlldyAucGFuZWwtc2Nyb2xsLWNvbnRhaW5lcntib3JkZXI6MDtvdmVyZmxvdzpoaWRkZW47dG9wOjMuNzVlbTttYXJnaW4tdG9wOjJweH0ubm8tdG91Y2ggLkNoYXJ0aW5nVmlldyAucGFuZWwtc2Nyb2xsLWNvbnRhaW5lcnt0b3A6M2VtfS5DaGFydGluZ1ZpZXcgLm5vLWhlYWRlciAucGFuZWwtc2Nyb2xsLWNvbnRhaW5lcnt0b3A6MDttYXJnaW46MH0uQ2hhcnRpbmdWaWV3IC5wYW5lbC1zY3JvbGwtY29udGFpbmVyPi52aWV3LmFjdGl2ZXtkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW46MH0KLkNoYXJ0aW5nVmlldyAuY2hhcnQtcGFuZXtib3JkZXItbGVmdDoxcHggc29saWQgI2VlZX0uQ2hhcnRpbmdWaWV3IC5jaGFydGluZy1tb2JpbGUgLmNoYXJ0LXBhbmUgLnBhbmVsLWhlYWRlci1idXR0b257ZGlzcGxheTpub25lfS5rLWNoYXJ0IC5rLXRvb2x0aXB7d2hpdGUtc3BhY2U6bm9ybWFsO21heC13aWR0aDo3ZW19LmstY2hhcnQgLmstdG9vbHRpcD5kaXZ7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7dGV4dC1hbGlnbjpsZWZ0fQ==");
geocortex.resourceManager.register("Mapping.Charting","inv","Mapping.Charting/modules/Charting/CSS/small.css","css","LmNoYXJ0LXBhbmUgLnBhbmVsLWhlYWRlci1idXR0b24uY2xvc2UtMTZ7ZGlzcGxheTpub25lfS5zaGVsbC1zbWFsbCAuY2hhcnQtcGFuZSAuY2hhcnR7cGFkZGluZzowfS5zaGVsbC1zbWFsbCAuY2hhcnQtcGFuZSAucGFuZWwtaGVhZGVye3BhZGRpbmc6MH0=");geocortex.resourceManager.register("Mapping.Charting","inv","Mapping.Charting/common.css","css","");geocortex.resourceManager.register("Mapping.Charting","inv","Invariant","json","eyJsYW5ndWFnZS1mcmFtZXdvcmstdWktdmlldy1jb250YWluZXItdmlldy1jbG9zZSI6IkNsb3NlIHswfSIsImxhbmd1YWdlLWNoYXJ0aW5nLXNtYXJ0LXBhbmVsLW1heGltaXplLXJlc3RvcmUiOiJNYXhpbWl6ZS9SZXN0b3JlIFBhbmVsIiwibGFuZ3VhZ2UtZmVhdHVyZS1uby1jaGFydCI6Ik5vIGNoYXJ0IiwibGFuZ3VhZ2UtY29tbW9uLWNsb3NlIjoiQ2xvc2UiLCJsYW5ndWFnZS1jaGFydGluZy1zZWxlY3Rvci10ZXh0IjoiU2VsZWN0IENoYXJ0cyIsImxhbmd1YWdlLWNoYXJ0aW5nLXNtYXJ0LXBhbmVsLXJlc2l6ZSI6IkRyYWcgdG8gcmVzaXplIHRoZSBwYW5lbCIsImxhbmd1YWdlLWZlYXR1cmUtY2hhcnRzIjoiQ2hhcnRzIiwibGFuZ3VhZ2UtY2hhcnRpbmctbm8taXRlbXMiOiJObyBjaGFydHMgdG8gZGlzcGxheSIsImxhbmd1YWdlLWZyYW1ld29yay11aS12aWV3LWNvbnRhaW5lci12aWV3LWJhY2siOiJHbyBCYWNrIHswfSJ9");
geocortex.framework.notifyLibraryDownload("Mapping.Charting");
