function shim(e,i,t){if("string"==typeof e&&(t=i,i=e),"undefined"==typeof t)return void console.warn("Undefined shim for: "+i);for(var s=i.split("."),l=null,o=window,a=0,n=s.length;a<n;a++)l=s[a],a==n-1?o[l]=t:o[l]||(o[l]={}),o=o[l]}require({cache:{"Mapping/modules/LabelOptions/LabelConfig":function(){define(["require","exports"],function(e,i){"use strict";var t=function(){function e(e,i,t){this.labelClass=t,this.showLabels=i,this.layer=e}return e}();i.LabelConfig=t})},"Mapping/modules/LabelOptions/LabelOptionsModule":function(){define(["require","exports","geocortex/framework/application/ModuleBase"],function(e,i,t){"use strict";var s=function(e){function i(i,t){return e.call(this,i,t)||this}return __extends(i,e),i.prototype.initialize=function(i){e.prototype.initialize.call(this,i),this._config=i},i}(t.ModuleBase);i.LabelOptionsModule=s})},"Mapping/modules/LabelOptions/LabelOptionsView":function(){define(["require","exports","geocortex/framework/ui/ViewBase","geocortex/infrastructure/symbology/widgets/TextSymbolWidgetViewModel"],function(e,i,t,s){"use strict";var l=function(e){function i(i,t){var s=e.call(this,i,t)||this;return s.registerCommands(),s}return __extends(i,e),i.prototype.attach=function(i){e.prototype.attach.call(this,i)},i.prototype.activated=function(){var e=this;this.viewModel.textSymbolWidget&&setTimeout(function(){e.viewModel.textSymbolWidget.activated()},0)},i.prototype.registerCommands=function(){var e=this;this.app.commandRegistry.command("ShowLabelOptionsView").register(this,this.showLabelOptionsView,this.canExecuteShowLabelOptionsView),this.app.command("HideLabelOptionsView").register(this,function(){e.isActive&&e.app.viewManager.deactivateView(e)})},i.prototype.canExecuteShowLabelOptionsView=function(e){var i=this;if(null!=e&&null!=e.mapService&&"None"!=e.featureType&&e.mapService.supportsDynamicLayers&&e.mapService.serviceLayer instanceof esri.layers.ArcGISDynamicMapServiceLayer){var t=e.mapService.serviceLayer;if(!t.layerDrawingOptions){for(var s=t.layerInfos[0].id,l=1;l<t.layerInfos.length;l++)t.layerInfos[l].id>s&&(s=t.layerInfos[l].id);t.setLayerDrawingOptions(new Array(s)),t.layerInfos.forEach(function(e){t.layerDrawingOptions[e.id]=new esri.layers.LayerDrawingOptions,t.layerDrawingOptions[e.id].showLabels=!0,i.viewModel.showLabels.set(!0)}),t.refresh()}return!0}return!1},i.prototype.showLabelOptionsView=function(e){this.viewModel.obsLayer.set(e),this.title.set(e.displayName),this.app.command("ActivateView").execute(this.id)},i.prototype.resolveWidget=function(i,t,l){if(e.prototype.resolveWidget.call(this,i,t),"LabelOptionsTextWidget"===i){var o="LabelOptionsTextWidget";return this.viewModel.textSymbolWidget=this.app.viewManager.createView({viewId:o,markupResource:"Mapping/infrastructure/symbology/widgets/TextSymbolWidget.html",typeName:"geocortex.essentialsHtmlViewer.mapping.infrastructure.symbology.TextSymbolWidget",isVisible:!0,libraryId:"Mapping.Infrastructure"}),this.viewModel.widgetViewModel=new s.TextSymbolWidgetViewModel(this.app,"Mapping.Infrastructure"),this.viewModel.widgetViewModel.initialize({fontSize:this.viewModel.viewConfig.fontSize,fontFamilies:this.viewModel.viewConfig.fontFamilies}),this.viewModel.textSymbolWidget.attach(this.viewModel.widgetViewModel),this.viewModel.widgetViewModel.showFontColor.sync(this.viewModel.fontColorIsVisible),this.viewModel.widgetViewModel.showFontFamilies.sync(this.viewModel.fontFamiliesIsVisible),this.viewModel.widgetViewModel.showFontSize.sync(this.viewModel.fontSizeIsVisible),this.viewModel.widgetViewModel.showFontStyle.sync(this.viewModel.fontStyleIsVisible),this.viewModel.widgetViewModel.showHaloColor.sync(this.viewModel.haloColorIsVisible),this.viewModel.widgetViewModel.showHaloSize.sync(this.viewModel.haloSizeIsVisible),this.viewModel.widgetViewModel.fontFamilies.sync(this.viewModel.fontFamilies),this.viewModel.fontIsBold.sync(this.viewModel.widgetViewModel.fontIsBold),this.viewModel.fontIsItalic.sync(this.viewModel.widgetViewModel.fontIsItalic),this.viewModel.fontIsUnderline.sync(this.viewModel.widgetViewModel.fontIsUnderline),this.viewModel.fontSize.sync(this.viewModel.widgetViewModel.fontSize),this.viewModel.haloSize.sync(this.viewModel.widgetViewModel.haloSize),this.viewModel.selectedFont.sync(this.viewModel.widgetViewModel.fontFamily),this.viewModel.selectedFontColor.sync(this.viewModel.widgetViewModel.fontColor.color),this.viewModel.selectedHaloColor.sync(this.viewModel.widgetViewModel.fontHalo.color),this.viewModel.widgetViewModel.showText.set(!1),this.viewModel.widgetViewModel.showTextAngle.set(!1),this.viewModel.textSymbolWidget}},i.prototype.handleClickButtonOK=function(e,i,t){this.viewModel.applyLabelOptions(),this.app.viewManager.deactivateView(this)},i.prototype.handleClickButtonCancel=function(e,i,t){this.app.viewManager.deactivateView(this)},i.prototype.handleClickButtonApply=function(e,i,t){this.viewModel.applyLabelOptions()},i.prototype.handleClickButtonReset=function(e,i,t){this.viewModel.warningAcknowledged.set(!1),this.viewModel.resetLabelOptions()},i.prototype.handleClickButtonCustomize=function(e,i,t){this.viewModel.warningAcknowledged.set(!0)},i}(t.ViewBase);i.LabelOptionsView=l})},"Mapping/modules/LabelOptions/LabelOptionsViewModel":function(){define(["require","exports","geocortex/framework/ui/ViewModelBase","geocortex/framework/observables","./LabelConfig","geocortex/geocortex","geocortex/infrastructure/ArrayUtils","geocortex/essentials/utilities/DecomposedUri","geocortex/infrastructure/symbology/SymbolColor","geocortex/infrastructure/BrowserUtils"],function(e,i,t,s,l,o,a,n,r,b){"use strict";var g=function(e){function i(i,t){var l=e.call(this,i,t)||this;l.obsLayer=new s.Observable,l.labelClassOriginal=[],l.labelClassConfigured=[],l.showLabels=new s.Observable((!0)),l.layerName=new s.Observable(""),l.layerFields=new s.ObservableCollection,l.fontFamilies=new s.ObservableCollection,l.fontSize=new s.Observable,l.fontIsBold=new s.Observable((!1)),l.fontIsItalic=new s.Observable((!1)),l.fontIsUnderline=new s.Observable((!1)),l.haloSize=new s.Observable,l.isLayerFeatureTypePoint=new s.Observable((!1)),l.isLayerFeatureTypePolygon=new s.Observable((!1)),l.pointLabelPlacements=[],l.lineLabelPlacements=[],l.labelPlacements=new s.ObservableCollection,l.selectedFieldName=new s.Observable(""),l.selectedFont=new s.Observable(""),l.selectedFontColor=new s.Observable(new r.SymbolColor("#000000")),l.selectedHaloColor=new s.Observable(new r.SymbolColor("#FFFFFF")),l.selectedPlacement=new s.Observable(""),l.selectedFontSizeChoice=new s.Observable(""),l.isIE9or11=!1,l.showLabelsIsVisible=new s.Observable((!0)),l.haloSizeIsVisible=new s.Observable((!0)),l.haloColorIsVisible=new s.Observable((!0)),l.fontStyleIsVisible=new s.Observable((!0)),l.fontSizeIsVisible=new s.Observable((!0)),l.fontColorIsVisible=new s.Observable((!0)),l.fontFamiliesIsVisible=new s.Observable((!0)),l.fieldIsVisible=new s.Observable((!0)),l.labelPlacementIsVisible=new s.Observable((!0)),l.tailoredWarning=new s.Observable(""),l.warningAcknowledged=new s.Observable((!1)),l.hasDrawingInfo=new s.Observable((!1)),l.defaultColor="#000000",l.defaultFontSize=16,l.isLabelCustom=new s.Observable((!1)),l.toggledOnly=new s.Observable((!0));var o=b.isIE();return l.isIE9or11=9===o||11===o,l.haloColorIsVisible.set(!l.isIE9or11),l.haloColorIsVisible.set(!l.isIE9or11),l}return __extends(i,e),i.prototype.initialize=function(i){var t=this;e.prototype.initialize.call(this,i),this.viewConfig=i,this.fontSize.set(this.defaultFontSize),this.warningAcknowledged.bind(this,function(){t.haloSizeIsVisible.set(t.warningAcknowledged.get()&&t.viewConfig.haloSizeIsVisible&&!t.isIE9or11),t.haloColorIsVisible.set(t.warningAcknowledged.get()&&t.viewConfig.haloColorIsVisible&&!t.isIE9or11),t.fontStyleIsVisible.set(t.warningAcknowledged.get()&&t.viewConfig.fontStyleIsVisible),t.fontSizeIsVisible.set(t.warningAcknowledged.get()&&t.viewConfig.fontSizeIsVisible),t.fontColorIsVisible.set(t.warningAcknowledged.get()&&t.viewConfig.fontColorIsVisible),t.fontFamiliesIsVisible.set(t.warningAcknowledged.get()&&t.viewConfig.fontFamiliesIsVisible),t.fieldIsVisible.set(t.warningAcknowledged.get()&&t.viewConfig.fieldIsVisible),t.labelPlacementIsVisible.set(t.warningAcknowledged.get()&&!t.isLayerFeatureTypePolygon.get()&&t.viewConfig.labelPlacementIsVisible)}),this.isLayerFeatureTypePolygon.bind(this,function(){t.labelPlacementIsVisible.set(!t.isLayerFeatureTypePolygon.get()&&t.warningAcknowledged.get()&&t.viewConfig.labelPlacementIsVisible)}),this._registerCommands()},i.prototype._registerCommands=function(){var e=this;this.obsLayer.bind(this,function(i){e.populateLabelOptionsView(i)}),this.app.commandRegistry.command("ToggleDynamicLabels").register(this,this.toggleDynamicLabels,this.canExecuteToggleDynamicLabels)},i.prototype.populateLabelOptionsView=function(e){var i=this;this.layer=e,this.tailoredWarning.set(this.getResource("language-labelOptions-unknown-label-warning").format(this.layer.displayName)),this.loadLabelPlacements(),this.loadLayerInformation(),this.loadFonts();var t=e.mapService.serviceLayer,s=t.layerDrawingOptions,o=s[e.id];this.isLabelClassStored(this.labelClassOriginal)||this.labelClassOriginal.push(new l.LabelConfig(e,o.showLabels,o.labelingInfo));var a=this.getLabelClass(this.labelClassOriginal).labelClass,r=!!a&&a.length;if(this.isLabelClassStored(this.labelClassConfigured))return r?this.hasDrawingInfo.set(!0):this.hasDrawingInfo.set(!1),this.warningAcknowledged.set(!0),void this.loadConfiguration();if(r)return this.hasDrawingInfo.set(!0),this.warningAcknowledged.set(!0),void this.loadOriginalValues();var b=n.DecomposedUri.appendToPath(t.url,"/"+this.layer.id),g=[];this.requestLabelInfo(b).then(function(e){e&&g.push(e)}).then(function(){return g.length?(i.setLabelClass(g,i.labelClassOriginal),o.labelingInfo=g,s[e.id]=o,t.setLayerDrawingOptions(s),t.refresh(),void i.populateLabelOptionsView(i.layer)):(i.hasDrawingInfo.set(!1),i.warningAcknowledged.set(!1),void i.loadDefaultConfiguration())})["catch"](function(){i.hasDrawingInfo.set(!1),i.warningAcknowledged.set(!1),i.loadDefaultConfiguration()})},i.prototype.requestLabelInfo=function(e){var i=this;return new Promise(function(t,s){var l=new n.DecomposedUri(e);l.query.f="json";var a={url:l.recompose()};o.request(a).then(function(e){e||t(null);var i=e,s=i?i.drawingInfo:null,l=s?s.labelingInfo:null;if(l&&l.length>0){var o=new esri.layers.LabelClass(l[0]);t(o)}else t(null)},function(e){i.app.trace.error("LabelOptions - Error requesting labels: "+e.message),s(e)})})},i.prototype.loadLayerInformation=function(){this.layerName.set(this.layer.displayName),this.layerFields.clear();var e=this.layer.fields.filter(function(e){return e.visible&&!!e.dataType&&!/Object/i.test(e.dataType)&&!/GUID/i.test(e.dataType)});switch(this.layerFields.set(a.ArrayUtils.sortBy(e,function(e){return e.displayName})),this.layerFields.getLength()?(this.selectedFieldName.set(this.layerFields.getAt(0).name),this.fieldIsVisible.set(!0)):this.fieldIsVisible.set(!1),this.layer.featureType){case"Point":case"Multipoint":this.isLayerFeatureTypePoint.set(!0),this.isLayerFeatureTypePolygon.set(!1);break;case d.Polygon.toString():this.isLayerFeatureTypePolygon.set(!0);break;default:this.isLayerFeatureTypePoint.set(!1),this.isLayerFeatureTypePolygon.set(!1)}this.isLayerFeatureTypePoint.get()?this.labelPlacements.set(this.pointLabelPlacements):this.labelPlacements.set(this.lineLabelPlacements),this.selectedPlacement.set(this.labelPlacements.getAt(0).config)},i.prototype.loadFonts=function(){this.widgetViewModel.fontFamilies.clear(),this.viewConfig.fontFamilies.length>0?this.widgetViewModel.fontFamilies.set(this.viewConfig.fontFamilies):this.fontFamiliesIsVisible.set(!1)},i.prototype.loadLabelPlacements=function(){this.pointLabelPlacements=[{config:"above-center",displayName:this.getResource("language-labelOptions-above-center")},{config:"above-left",displayName:this.getResource("language-labelOptions-above-left")},{config:"above-right",displayName:this.getResource("language-labelOptions-above-right")},{config:"center-center",displayName:this.getResource("language-labelOptions-center-center")},{config:"center-left",displayName:this.getResource("language-labelOptions-center-left")},{config:"center-right",displayName:this.getResource("language-labelOptions-center-right")},{config:"below-center",displayName:this.getResource("language-labelOptions-below-center")},{config:"below-left",displayName:this.getResource("language-labelOptions-below-left")},{config:"below-right",displayName:this.getResource("language-labelOptions-below-right")}],this.lineLabelPlacements=[{config:"above-after",displayName:this.getResource("language-labelOptions-above-after")},{config:"above-along",displayName:this.getResource("language-labelOptions-above-along")},{config:"above-before",displayName:this.getResource("language-labelOptions-above-before")},{config:"above-start",displayName:this.getResource("language-labelOptions-above-start")},{config:"above-end",displayName:this.getResource("language-labelOptions-above-end")},{config:"below-after",displayName:this.getResource("language-labelOptions-below-after")},{config:"below-along",displayName:this.getResource("language-labelOptions-below-along")},{config:"below-before",displayName:this.getResource("language-labelOptions-below-before")},{config:"below-start",displayName:this.getResource("language-labelOptions-below-start")},{config:"below-end",displayName:this.getResource("language-labelOptions-below-end")},{config:"center-after",displayName:this.getResource("language-labelOptions-center-after")},{config:"center-along",displayName:this.getResource("language-labelOptions-center-along")},{config:"center-before",displayName:this.getResource("language-labelOptions-center-before")},{config:"center-start",displayName:this.getResource("language-labelOptions-center-start")},{config:"center-end",displayName:this.getResource("language-labelOptions-center-end")}]},i.prototype.loadDefaultConfiguration=function(){this.showLabels.get()&&this.showLabels.set(this.viewConfig.showLabels),this.widgetViewModel.fontIsBold.set(this.viewConfig.fontIsBold),this.widgetViewModel.fontIsItalic.set(this.viewConfig.fontIsItalic),this.widgetViewModel.fontIsUnderline.set(this.viewConfig.fontIsUnderline),this.widgetViewModel.fontColor.color.set(new r.SymbolColor(this.viewConfig.fontColor)),this.widgetViewModel.haloSize.set(this.viewConfig.haloSize),this.widgetViewModel.fontHalo.color.set(new r.SymbolColor(this.viewConfig.haloColor)),this.app.event("LabelsResetEvent").publish(),this.setIsVisibles(),this.fieldIsVisible.get()&&this.fieldIsVisible.set(this.viewConfig.fieldIsVisible),this.fontFamiliesIsVisible.get()&&this.fontFamiliesIsVisible.set(this.viewConfig.fontFamiliesIsVisible),this.warningAcknowledged.pulse()},i.prototype.loadConfiguration=function(){var e=this.getLabelClass(this.labelClassConfigured),i=e.labelClass[0].symbol;this.originalSymbol=new esri.symbol.TextSymbol(JSON.stringify(i.toJson()));var t=this.layer,s=t.mapService.serviceLayer,l=s.layerDrawingOptions,o=l[t.id];this.showLabels.set(o.showLabels),this.selectedFieldName.set(e.labelClass[0].labelExpression.replace("[","").replace("]","")),this.textSymbolWidget.setFromSymbol(i),this.selectedPlacement.set(e.labelClass[0].labelPlacement);var a=new esri.Color(i.haloColor);this.selectedHaloColor.set(new r.SymbolColor(a)),this.app.event("LabelsResetEvent").publish(),this.haloSize.set(i.haloSize),this.isLabelCustom.set(!0)},i.prototype.loadOriginalValues=function(){var e=this.layer,i=e.mapService.serviceLayer,t=i.layerDrawingOptions,s=t[e.id];this.showLabels.set(s.showLabels);var l=s.labelingInfo;if(this.selectedPlacement.set(l[0].labelPlacement),this.textSymbolWidget.setFromSymbol(l[0].symbol),this.app.event("LabelsResetEvent").publish(),this.setIsVisibles(),this.fieldIsVisible.get()){this.fieldIsVisible.set(this.viewConfig.fieldIsVisible);for(var o=l[0].labelExpression.replace("[","").replace("]",""),a=0;a<this.layerFields.getLength();a++)if(o===this.layerFields.getAt(a).displayName){o=this.layerFields.getAt(a).name;break}this.selectedFieldName.set(o)}this.fontFamiliesIsVisible.get()&&(this.fontFamiliesIsVisible.set(this.viewConfig.fontFamiliesIsVisible),this.selectedFont.set(l[0].symbol.font.family)),this.warningAcknowledged.pulse(),this.isLabelCustom.set(!1)},i.prototype.setIsVisibles=function(){this.showLabelsIsVisible.set(this.viewConfig.showLabelsIsVisible),this.fontSizeIsVisible.set(this.viewConfig.fontSizeIsVisible),this.fontStyleIsVisible.set(this.viewConfig.fontStyleIsVisible),this.fontColorIsVisible.set(this.viewConfig.fontColorIsVisible),this.haloSizeIsVisible.set(this.viewConfig.haloSizeIsVisible&&!this.isIE9or11),this.haloColorIsVisible.set(this.viewConfig.haloColorIsVisible&&!this.isIE9or11)},i.prototype.applyLabelOptions=function(){var e,i=this.layer,t=i.mapService.serviceLayer,s=t.layerDrawingOptions,o=s[i.id];if(o.labelingInfo&&o.labelingInfo.length&&(e=o.labelingInfo[0]),this.isLabelClassStored(this.labelClassOriginal)||this.labelClassOriginal.push(new l.LabelConfig(i,o.showLabels,o.labelingInfo)),o.showLabels=this.showLabelsIsVisible.get()||null==e?this.showLabels.get():o.showLabels,!this.warningAcknowledged.get())return s[i.id]=o,t.setLayerDrawingOptions(s),void t.refresh();var a=this.fieldIsVisible.get()||null==e?this.selectedFieldName.get():e.labelExpression.replace("[","").replace("]",""),n=new esri.symbol.Font;n.setFamily(this.fontFamiliesIsVisible.get()||null==e?this.selectedFont.get():e.symbol.font.family),n.setSize((this.fontSizeIsVisible.get()||null==e?this.fontSize.get():e.symbol.font.size)+"pt"),this.fontStyleIsVisible.get()||null==e?(this.fontIsBold.get()?n.setWeight("bold"):n.setWeight("normal"),this.fontIsItalic.get()?n.setStyle("italic"):n.setStyle("normal"),this.fontIsUnderline.get()?n.setDecoration("underline"):n.setDecoration("normal")):(n.setWeight(e.symbol.font.weight),n.setStyle(e.symbol.font.style),n.setDecoration(e.symbol.font.decoration));var r,b=this.fontColorIsVisible.get()||null==e?this.selectedFontColor.get().toEsriColor():e.symbol.color;this.labelPlacementIsVisible.get()||null==e?(r="always-horizontal","Polygon"!=i.featureType&&(r=this.selectedPlacement.get())):r=e.labelPlacement;var g=this.textSymbolWidget.getSymbol(),d=esri.symbol.fromJson(JSON.parse(g));d.haloColor&&(d.haloColor.a=1),d.setFont(n),d.setColor(b);var h=new esri.layers.LabelClass;h.labelExpression=String.format("[{0}]",a),h.useCodedValues=!1,h.symbol=d,h.labelPlacement=r,o.labelingInfo=[h],s[i.id]=o,t.setLayerDrawingOptions(s),t.refresh(),this.isLabelCustom.set(!0),this.toggledOnly.set(!1),this.setLabelClass([h],this.labelClassConfigured),this.app.eventRegistry.event("LabelOptionsChanged").publish()},i.prototype.resetLabelOptions=function(){this.textSymbolWidget.setFromSymbol(this.originalSymbol),this.app.event("LabelsResetEvent").publish();var e=this.layer,i=e.mapService.serviceLayer,t=i.layerDrawingOptions,s=t[e.id],l=this.getLabelClass(this.labelClassOriginal);s.labelingInfo=l.labelClass,s.showLabels=l.showLabels,t[e.id]=s,i.setLayerDrawingOptions(t),i.refresh(),this.removeConfiguredLabelClass(),this.showLabels.set(l.showLabels),this.populateLabelOptionsView(e),this.isLabelCustom.set(!1),this.toggledOnly.set(!0)},i.prototype.canExecuteToggleDynamicLabels=function(e){var i=this;if(null!=e&&null!=e.mapService&&"None"!=e.featureType&&e.mapService.supportsDynamicLayers&&e.mapService.serviceLayer instanceof esri.layers.ArcGISDynamicMapServiceLayer){var t=e.mapService.serviceLayer;if(!t.layerDrawingOptions){for(var s=t.layerInfos[0].id,l=1;l<t.layerInfos.length;l++)t.layerInfos[l].id>s&&(s=t.layerInfos[l].id);t.setLayerDrawingOptions(new Array(s)),t.layerInfos.forEach(function(e){t.layerDrawingOptions[e.id]=new esri.layers.LayerDrawingOptions,t.layerDrawingOptions[e.id].showLabels=!0,i.showLabels.set(!0)}),t.refresh()}return this.layer=e,!0}return!1},i.prototype.toggleDynamicLabels=function(e){var i=e.mapService.serviceLayer,t=i.layerDrawingOptions,s=t[e.id];this.isLabelClassStored(this.labelClassOriginal)||this.labelClassOriginal.push(new l.LabelConfig(e,s.showLabels,s.labelingInfo)),s.showLabels?(s.showLabels=!1,this.showLabels.set(!1)):(s.showLabels=!0,this.showLabels.set(!0)),this.labelClassOriginal[0].showLabels!=this.showLabels.get()?this.isLabelCustom.set(!0):this.toggledOnly.get()&&this.isLabelCustom.set(!1),t[e.id]=s,i.setLayerDrawingOptions(t),i.refresh()},i.prototype.isLabelClassStored=function(e){for(var i=!1,t=0;t<e.length;t++)if(this.layer===e[t].layer){i=!0;break}return i},i.prototype.getLabelClass=function(e){for(var i=null,t=0;t<e.length;t++)if(this.layer===e[t].layer){i=e[t];break}return i},i.prototype.setLabelClass=function(e,i){for(var t=!1,s=0;s<i.length;s++)if(this.layer===i[s].layer)return i[s].labelClass=e,void(t=!0);t||i.push(new l.LabelConfig(this.layer,this.showLabels.get(),e))},i.prototype.removeConfiguredLabelClass=function(){var e,i=!1;for(e=0;e<this.labelClassConfigured.length;e++)if(this.layer===this.labelClassConfigured[e].layer){i=!0;break}i&&this.labelClassConfigured.splice(e,1)},i}(t.ViewModelBase);i.LabelOptionsViewModel=g;var d;!function(e){e[e.Polygon="Polygon"]="Polygon"}(d||(d={}))})},"Mapping/modules/LabelOptions/ViewConfig":function(){define(["require","exports"],function(e,i){"use strict"})},"url:/Mapping/modules/LabelOptions/LabelOptionsView.html":'<div class="labelOptions panel-group-contents">\r\n    <div class="labelOptions-selector form-item">\r\n        <div class="form-stacked">\r\n            <!--Show Labels-->\r\n            <div class="form-item" data-binding="{@visible: showLabelsIsVisible}">\r\n                <div class="form-control">\r\n                    <label class="labelOptions-item-ctrl">\r\n                        <input class="checkbox" type="checkbox" data-binding="{@value: showLabels}">\r\n                        <span class="checkbox-label" data-binding="{@text: @language-labelOptions-show-labels}"></span>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n            <!--Field-->\r\n            <div class="form-item" data-binding="{@visible: fieldIsVisible}">\r\n                <div class="symbology-form-control">\r\n                    <label class="form-label">\r\n                        <span data-binding="{@text: @language-labelOptions-field}"></span>\r\n                        <select class="symbology-select" data-binding="{@enabled: showLabels}{@source: layerFields}{@value: selectedFieldName}">\r\n                            <option data-binding="{@template-for: layerFields}{value: name}{@text: displayName}"></option>\r\n                        </select>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n\r\n            <div data-binding="{@widget: LabelOptionsTextWidget}{@widget-replace: true}"></div>\r\n\r\n            <!--Label Placement-->\r\n            <div class="form-item" data-binding="{@visible: labelPlacementIsVisible}">\r\n                <label class="form-label" data-binding="{@text: @language-labelOptions-label-placement}"></label>\r\n                <div class="form-control">\r\n                    <select class="attribute-value" data-binding="{@enabled: showLabels}{@source: labelPlacements}{@value: selectedPlacement}">\r\n                        <option data-binding="{@template-for: labelPlacements}{value: config}{@text: displayName}"></option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <!--Warning-->\r\n            <div class="warning-label" data-binding="{@hidden: hasDrawingInfo}{@text: tailoredWarning}"></div>\r\n            <!--Action Buttons-->\r\n            <div class="form-item">\r\n                <div class="form-btns">\r\n                    <button class="button" data-binding="{@event-onclick: handleClickButtonApply}{@text: @language-labelOptions-apply}"></button>\r\n                    <button class="button" data-binding="{@event-onclick: handleClickButtonOK}{@text: @language-labelOptions-done}"></button>\r\n                    <button class="button" data-binding="{@event-onclick: handleClickButtonReset}{@enabled: isLabelCustom}{@text: @language-labelOptions-reset}{@visible: warningAcknowledged}"></button>\r\n                    <button class="button" data-binding="{@event-onclick: handleClickButtonCustomize}{@text: @language-labelOptions-customize}{@hidden: warningAcknowledged}"></button>\r\n                    <button class="button" data-binding="{@event-onclick: handleClickButtonCancel}{@text: @language-labelOptions-cancel}"></button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="labelOptions-cover"></div>\r\n</div>'}}),define(["Mapping/modules/LabelOptions/LabelConfig","Mapping/modules/LabelOptions/LabelOptionsModule","Mapping/modules/LabelOptions/LabelOptionsView","Mapping/modules/LabelOptions/LabelOptionsViewModel"],function(e,i,t,s){shim(e,"geocortex.essentialsHtmlViewer.mapping.modules.labelOptions.LabelConfig",e.LabelConfig),shim(i,"geocortex.essentialsHtmlViewer.mapping.modules.labelOptions.LabelOptionsModule",i.LabelOptionsModule),shim(t,"geocortex.essentialsHtmlViewer.mapping.modules.labelOptions.LabelOptionsView",t.LabelOptionsView),shim(s,"geocortex.essentialsHtmlViewer.mapping.modules.labelOptions.LabelOptionsViewModel",s.LabelOptionsViewModel)});