!function(){var i="<div class='skiplinks-view' data-binding='{@var: skipLinksHtmlElement}'>    <div class='widget' data-binding='{@visible: enabled}{@widget: SkipLinksActionsWidget}{@widget-required: false}{@widget-context: resolvedWidget}' data-menu-id='SkipLinksActions' data-menu-template='Mapping/infrastructure/menus/MenuHyperlinkView.html'></div></div>";require({cache:{"Mapping/modules/SkipLinks/SkipLinksModule":function(){var n,a=this&&this.__extends||(n=function(e,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var t in i)i.hasOwnProperty(t)&&(e[t]=i[t])})(e,i)},function(e,i){function t(){this.constructor=e}n(e,i),e.prototype=null===i?Object.create(i):(t.prototype=i.prototype,new t)});define(["require","exports","geocortex/framework/application/ModuleBase"],function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o,n=(o=t.ModuleBase,a(s,o),s.prototype.initialize=function(e){if(o.prototype.initialize.call(this,e),e&&e.menus){if(e.menus[0]&&e.menus[0].items&&e.menus[0].items.length){var i="onFocusCommand",t="ShowSkipLinks",n=e.menus[0].items.length;(e.menus[0].items&&e.menus[0].items[n-1])[i]=t,e.menus[0].items[0][i]=t}this.app.menuRegistry.loadMenus(e)}},s);function s(){return null!==o&&o.apply(this,arguments)||this}i.SkipLinksModule=n})},"Mapping/modules/SkipLinks/SkipLinksView":function(){var n,a=this&&this.__extends||(n=function(e,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var t in i)i.hasOwnProperty(t)&&(e[t]=i[t])})(e,i)},function(e,i){function t(){this.constructor=e}n(e,i),e.prototype=null===i?Object.create(i):(t.prototype=i.prototype,new t)});define(["require","exports","geocortex/framework/ui/ViewBase"],function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s,n=(s=t.ViewBase,a(o,s),o.prototype.resolveWidget=function(e,i,t){var n=this;if(s.prototype.resolveWidget.call(this,e,i),!i)return null;if(e)switch(e){case"SkipLinksActionsWidget":var o=this.app.menuRegistry.createMenuWidget(this,i,t);return this.viewModel.skipLinksHtmlElement=this.skipLinksHtmlElement,this.app.waitUntilApplicationReady().then(function(){return n.app.event("ViewActivatedEvent").publish(o)}),o;default:return null}},o.prototype.activated=function(){s.prototype.activated.call(this)},o);function o(e,i){return s.call(this,e,i)||this}i.SkipLinksView=n})},"Mapping/modules/SkipLinks/SkipLinksViewModel":function(){var n,r=this&&this.__extends||(n=function(e,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var t in i)i.hasOwnProperty(t)&&(e[t]=i[t])})(e,i)},function(e,i){function t(){this.constructor=e}n(e,i),e.prototype=null===i?Object.create(i):(t.prototype=i.prototype,new t)});define(["require","exports","geocortex/framework/ui/ViewModelBase","geocortex/framework/observables"],function(e,i,t,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o,s=(o=t.ViewModelBase,r(a,o),a.prototype._canShowSkipLinks=function(){return!(this._isModalActive||!this.resolvedWidget||!this.resolvedWidget.get())},a.prototype._canExecuteShowSkipLinks=function(){return this._canShowSkipLinks()},a.prototype._showSkipLinks=function(){this.enabled.get()||this.enabled.set(!0)},a.prototype._handleGVHload=function(){var i=this;function e(e){return i._interceptTabsAfterGVHLoad(e)}this.resolvedWidget.set(!0),$(document).off("keydown.skiplinks",e),$(document).off("mousedown.skiplinks",e),$(document).on("keydown.skiplinks",e),$(document).on("mousedown.skiplinks",e)},a.prototype._interceptTabsAfterGVHLoad=function(e){if(this._canShowSkipLinks){if(9===(e.keyCode||e.which)){var i=document.activeElement;if("TEXTAREA"===i.nodeName||"INPUT"===i.nodeName||"A"===i.nodeName||"BUTTON"===i.nodeName||"SELECT"===i.nodeName);else{var t=$(this.skipLinksHtmlElement).find("button");t&&0<t.length&&t[0].focus(),e.preventDefault()}}$(document).off("mousedown.skiplinks"),$(document).off("keydown.skiplinks")}},a.prototype._captureKeyPressAndMouseClicksAfterShowingSkipLinks=function(){function e(e){return i._interceptAfterShowingSkipLinks(e)}var i=this;$(document).off("keyup.skiplinks",e),$(document).off("mouseup.skiplinks",e),$(document).on("keyup.skiplinks",e),$(document).on("mouseup.skiplinks",e)},a.prototype._interceptAfterShowingSkipLinks=function(e){if(this._canShowSkipLinks){var i=e.keyCode||e.which;13===i||0===i||1===i||2===i||4===i?(this.enabled.set(!1),$(document).off("keyup.skiplinks"),$(document).off("mouseup.skiplinks")):9===i&&(this.skipLinksHtmlElement.contains(document.activeElement)||this.skipLinksHtmlElement===document.activeElement||(this.enabled.set(!1),$(document).off("keyup.skiplinks"),$(document).off("mouseup.skiplinks")))}},a);function a(e,i){var t=o.call(this,e,i)||this;return t.enabled=null,t.resolvedWidget=new n.Observable(!1),t.app.waitUntilShellStabilized().then(function(){return t._handleGVHload()}),t.enabled=new n.Observable(!1),t._isModalActive=!1,t.app.commandRegistry.command("ShowSkipLinks").register(t,t._showSkipLinks,t._canExecuteShowSkipLinks),t.enabled.bind(t,function(){t.enabled.get()&&t._captureKeyPressAndMouseClicksAfterShowingSkipLinks()}),t.app.event("RegionActivatedEvent").subscribe(t,function(e){"ModalWindowRegion"===e.name&&(t._isModalActive=!0)}),t.app.event("RegionDeactivatedEvent").subscribe(t,function(e){"ModalWindowRegion"===e.name&&(t._isModalActive=!1)}),t}i.SkipLinksViewModel=s})},"url:/Mapping/modules/SkipLinks/SkipLinksView.html":i}}),require(["geocortex/framework/resourceManager"],function(e){e.resourceManager.register("Mapping","inv","Mapping/modules/SkipLinks/CSS/common.css","css","LnNraXBsaW5rcy12aWV3IHsNCiAgICBkaXNwbGF5OiBibG9jazsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBtYXJnaW46IDA7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIHRvcDogMDsNCiAgICBsZWZ0OiAwOw0KICAgIHotaW5kZXg6IDkwMDsNCiAgICB0cmFuc2l0aW9uOiBtYXJnaW4gMC4zczsNCn0NCi5za2lwbGlua3MtdmlldyAud2lkZ2V0LmJvdW5kLWludmlzaWJsZSB7DQogICAgbWFyZ2luLXRvcDogLTNlbTsNCiAgICB0cmFuc2l0aW9uOiBtYXJnaW4gMC4zczsNCiAgICBkaXNwbGF5OiBibG9jazsNCn0NCi5za2lwbGlua3MtdmlldyAud2lkZ2V0LmJvdW5kLXZpc2libGUgew0KICAgIG1hcmdpbi10b3A6IDA7DQogICAgdHJhbnNpdGlvbjogbWFyZ2luIDAuM3M7DQp9DQouc2tpcGxpbmtzLXZpZXcgLmxpc3QtbWVudSB7DQogICAgbWFyZ2luOiAwOw0KICAgIHBhZGRpbmc6IDA7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KfQ0KLnNraXBsaW5rcy12aWV3IC5saXN0LW1lbnUtaXRlbSB7DQogICAgbWFyZ2luOiAwOw0KICAgIHBhZGRpbmc6IDA7DQogICAgYm9yZGVyLWNvbG9yOiAjRkZGRkZGOw0KfQ0KLnNraXBsaW5rcy12aWV3IC5saXN0LW1lbnUtYnV0dG9uIHsNCiAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMUE3MkM0Ow0KICAgIGNvbG9yOiAjRkZGRkZGOw0KICAgIHBhZGRpbmc6IDAuNWVtIDFlbTsNCiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7DQp9DQouc2tpcGxpbmtzLXZpZXcgLmxpc3QtbWVudS1pdGVtOmZpcnN0LWNoaWxkIC5saXN0LW1lbnUtYnV0dG9uIHsNCiAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwLjI1cmVtOw0KfQ0KLnNraXBsaW5rcy12aWV3IC5saXN0LW1lbnUtaXRlbTpsYXN0LWNoaWxkIC5saXN0LW1lbnUtYnV0dG9uIHsNCiAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMC4yNXJlbTsNCn0NCi5za2lwbGlua3MtdmlldyAubGlzdC1tZW51LWJ1dHRvbjpob3ZlciwNCi5za2lwbGlua3MtdmlldyAubGlzdC1tZW51LWJ1dHRvbjpmb2N1cywNCi5rZXlib2FyZC1mb2N1cy1hY3RpdmUgLnNraXBsaW5rcy12aWV3IC5saXN0LW1lbnUtYnV0dG9uOmZvY3VzIHsNCiAgICBib3JkZXItY29sb3I6ICMxQTcyQzQ7DQogICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRkZGRjsNCiAgICBjb2xvcjogIzFBNzJDNDsNCn0="),e.resourceManager.register("Mapping","inv","Mapping/modules/SkipLinks/SkipLinksView.html","html",i)})}();