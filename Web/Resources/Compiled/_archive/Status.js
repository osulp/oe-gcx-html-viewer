!function(){function e(e,t,i){if("string"==typeof e&&(i=t,t=e),void 0!==i)for(var s=t.split("."),a=null,o=window,n=0,r=s.length;n<r;n++)a=s[n],n==r-1?o[a]=i:o[a]||(o[a]={}),o=o[a];else console.warn("Undefined shim for: "+t)}var t="<div class='status-indicator anim-zoom-in' data-region-name='StatusIndicatorMessageRegion' data-region-adapter='geocortex.framework.ui.MultiDivRegionAdapter'></div>",i="<div class='status-window' data-binding='{@var: containerElement}'>    <table>        <tr>            <td class='status-img-container'>                <img class='status-img' data-binding='{src: imageUri}{alt: imageAltText}{@visible: imageUri}' aria-hidden='true' />            </td>            <td class='status-msg-container'>                <span class='status-msg' data-binding='{@text: text}{title: text}'></span>            </td>            <td class='status-close'>                <button class='status-btn' data-binding='{@event-onclick: handleClickClose}{title: closeTitle}'>                    <span>&nbsp;</span>                </button>            </td>        </tr>    </table></div>";require({cache:{"Mapping/modules/Status/StatusIndicatorView":function(){var e=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}();define(["require","exports","geocortex/framework/ui/ViewBase"],function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return e(i,t),i.prototype.added=function(e){var i=this;if(t.prototype.added.call(this,e),!this.app.site||!this.app.site.isInitialized){this.app.command("AddStatus").execute({text:this.app.getResource(this.libraryId,"language-common-loading"),id:"initializeSiteMsg",showBusyIcon:!0}),this.app.waitUntilShellStabilized().then(function(){return i.app.command("RemoveStatus").execute("initializeSiteMsg")})}},i}(s.ViewBase);i.StatusIndicatorView=a})},"Mapping/modules/Status/StatusMessageView":function(){var e=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}();define(["require","exports","geocortex/framework/ui/ViewBase"],function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return e(i,t),i.prototype.attach=function(e){if(t.prototype.attach.call(this,e),e){this.updateClassBinding(e.statusClass.get());var i=e.statusClass.bind(this,this.updateClassBinding);this.addDisposableBinding(e.statusClass,i)}},i.prototype.updateClassBinding=function(e){e=e||"";var t=this._previousClass||"";e&&e!==t&&(this._previousClass=e,dojo.removeClass(this.containerElement,t),dojo.addClass(this.containerElement,e))},i.prototype.handleClickClose=function(e,t,i){this.app.viewManager.destroyView(this),i&&i.userClosedCallback&&i.userClosedCallback.call(this,this)},i}(s.ViewBase);i.StatusMessageView=a})},"Mapping/modules/Status/StatusMessageViewModel":function(){var e=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}();define(["require","exports","geocortex/framework/ui/ViewModelBase","geocortex/framework/observables"],function(t,i,s,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.text=new a.Observable,e.closeTitle=new a.Observable,e.imageUri=new a.Observable,e.imageClass=new a.Observable,e.imageAltText=new a.Observable,e.statusClass=new a.Observable,e.userClosedCallback=null,e}return e(i,t),i}(s.ViewModelBase);i.StatusMessageViewModel=o})},"Mapping/modules/Status/StatusModule":function(){var e=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}();define(["require","exports","geocortex/framework/application/ModuleBase","geocortex/infrastructure/Dictionary","geocortex/infrastructure/commandArgs/AddStatusArgs","./StatusMessageViewModel","geocortex/framework/utils/TimeDelayedOperation"],function(t,i,s,a,o,n,r){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var u=function(t){function i(e,i){var s=t.call(this,e,i)||this;return s.messageRegionName="StatusIndicatorMessageRegion",s.statusViewName="StatusIndicatorView",s.lastTestAddArgs=null,s.viewInstanceCounter=0,s._regionNames=new a.Dictionary,s.app.command("AddStatus").register(s,s.addStatus),s.app.command("UpdateStatus").register(s,s.updateStatus),s.app.command("PulseStatus").register(s,s.pulseStatus),s.app.command("RemoveStatus").register(s,s.removeStatus),s.app.event("ViewUnhostedEvent").subscribe(s,s.viewUnhostedHandler),s}return e(i,t),i.prototype.initialize=function(e){t.prototype.initialize.call(this,e),e.busyIcon||(e.busyIcon="Resources/Images/loader-small.gif"),this._defaultCloseTitle=this.getResource("language-common-close")},i.prototype.addStatus=function(e){var t;t="string"==typeof e||e instanceof String?new o.AddStatusArgs(e):e,this.app.command("ScreenReaderNarrate").execute(t.text);var i=!0,s=t.regionName||this.messageRegionName,a=this.app.viewManager.getExistingRegionByName(s);if(a){var u=a.ownerView;u&&u.configuration&&"boolean"==typeof u.configuration.showStatusMessages&&(i=u.configuration.showStatusMessages)}if(i){this._trackRegion(s),s==this.messageRegionName&&this.app.command("ActivateView").execute(this.statusViewName);var l=t.id?t.id:"StatusMessageView"+this.viewInstanceCounter++,g=this.app.viewManager.getViewById(l),c=g?g.viewModel:null;g||(g=this.createView("StatusMessageView",l,s)),t.id=l,c||(c=new n.StatusMessageViewModel(this.app,this.libraryId),g.attach(c)),c.text.set(t.text),c.closeTitle.set(t.closeTitle||this._defaultCloseTitle),t.imageProperties&&(c.imageUri.set(t.imageProperties.uri),c.imageClass.set(t.imageProperties.class),c.imageAltText.set(t.imageProperties.altText)),c.statusClass.set(t.statusClass),c.userClosedCallback=t.userClosedCallback,t.showBusyIcon&&c.imageUri.set(this.configuration.busyIcon),c.timer?c.timer.reset():t.timeoutMS&&t.timeoutMS>0&&(c.timer=new r.TimeDelayedAction(t.timeoutMS,function(){this.removeStatus(l)},this),c.timer.start())}},i.prototype.updateStatus=function(e){var t,i=(t="string"==typeof e||e instanceof String?new o.AddStatusArgs(e):e).regionName||this.messageRegionName;i==this.messageRegionName&&this.app.command("ActivateView").execute(this.statusViewName);var s=null;if(t.id)s=this.app.viewManager.getViewById(t.id);else{var a=this.app.viewManager.getExistingRegionByName(i);a.views.length>=1&&(s=a.views[a.views.length-1])}if(s){var n=s.viewModel;n&&(t.text&&n.text.set(t.text),t.closeTitle&&n.closeTitle.set(t.closeTitle),t.imageProperties&&t.imageProperties.uri&&n.imageUri.set(t.imageProperties.uri),t.imageProperties&&t.imageProperties.class&&n.imageClass.set(t.imageProperties.class),t.imageProperties&&t.imageProperties.altText&&n.imageAltText.set(t.imageProperties.altText),t.statusClass&&n.statusClass.set(t.statusClass),"function"==typeof t.userClosedCallback&&(n.userClosedCallback=t.userClosedCallback),n.timer&&n.timer.reset())}},i.prototype.pulseStatus=function(e){if(e){var t=this.app.viewManager.getViewById(e);if(t){var i=t.viewModel;i&&i.timer&&i.timer.reset()}}},i.prototype.removeStatus=function(e){var t=null;if(e)t=this.app.viewManager.getViewById(e);else{var i=this.app.viewManager.getExistingRegionByName(this.messageRegionName);i.views.length>=1&&(t=i.views[i.views.length-1])}t&&this.app.viewManager.destroyView(t)},i.prototype.createView=function(e,t,i){return this.app.viewManager.createView({viewId:t,typeName:"geocortex.essentialsHtmlViewer.mapping.modules.status."+e,markupResource:this.libraryId+"/modules/Status/"+e+".html",isVisible:!0,libraryId:this.libraryId,regionName:i})},i.prototype.viewUnhostedHandler=function(e){var t=e.region,i=e.view;this._regionNames.containsKey(t.name)&&(i&&i.viewModel&&i.viewModel.timer&&i.viewModel.timer.stop(),0==t.views.length&&(this._regionNames.remove(t.name),t.name==this.messageRegionName&&this.app.command("DeactivateView").execute(this.statusViewName)))},i.prototype._trackRegion=function(e){this._regionNames.set(e,e)},i}(s.ModuleBase);i.StatusModule=u})},"url:/Mapping/modules/Status/StatusIndicatorView.html":t,"url:/Mapping/modules/Status/StatusMessageView.html":i}}),require(["geocortex/framework/resourceManager"],function(e){e.resourceManager.register("Mapping","inv","Mapping/modules/Status/CSS/common.css","css","DQovKiBTVEFUVVMgSU5ESUNBVE9SIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLw0KDQouc3RhdHVzLWluZGljYXRvciBpbWcsDQouc3RhdHVzLWluZGljYXRvciBzcGFuIHsNCiAgICBkaXNwbGF5OiBibG9jazsNCn0NCg0KLnN0YXR1cy13aW5kb3cgew0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICAgbWFyZ2luOiAuNGVtIDAuNGVtOw0KICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMSk7DQogICAgYm9yZGVyLXJhZGl1czogMC4yNXJlbTsNCiAgICB2ZXJ0aWNhbC1hbGlnbjogYm90dG9tOw0KICAgIGJvcmRlcjogMXB4IHNvbGlkICM5OTk5OTk7DQogICAgcGFkZGluZzogMC43OGVtOw0KfQ0KDQouc3RhdHVzLXdpbmRvdyAuc3RhdHVzLWltZywNCi5zdGF0dXMtd2luZG93IC5zdGF0dXMtbXNnIHsNCiAgICBtYXJnaW46IC43NWVtOw0KfQ0KDQouc3RhdHVzLXdpbmRvdyAuc3RhdHVzLWltZyB7DQogICAgbWFyZ2luLXJpZ2h0OiAwOw0KfQ0KDQouc3RhdHVzLWJ0biwNCi5zdGF0dXMtYnRuOmhvdmVyLA0KLnN0YXR1cy1idG46YWN0aXZlIHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoIlJlc291cmNlcy9JbWFnZXMvSWNvbnMvcGFuZWwtY2xvc2UucG5nIikgY2VudGVyIGNlbnRlciBuby1yZXBlYXQ7DQogICAgYm9yZGVyOiBub25lOw0KfQ0KDQouc3RhdHVzLWJ0biB7DQogICAgd2lkdGg6IDMuMTI1ZW07DQogICAgaGVpZ2h0OiAzLjEyNWVtOw0KICAgIHBhZGRpbmc6IDA7DQp9DQoNCi5zdGF0dXMtYnRuIHNwYW4gew0KICAgIGhlaWdodDogMi4zNGVtOw0KICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI0NDQ0NDQzsNCn0NCg0KLnN0YXR1cy1idG4gew0KICAgIGJveC1zaGFkb3c6IG5vbmU7DQogICAgLW1vei1ib3gtc2hhZG93OiBub25lOw0KICAgIC13ZWJraXQtYm94LXNoYWRvdzogbm9uZTsNCn0NCi5zdGF0dXMtd2luZG93LmFjdGl2ZS10b29sIC5zdGF0dXMtaW1nIHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzhlOWZmOw0KICAgIGJvcmRlcjogMXB4IHNvbGlkICM4ZmMzZTY7DQogICAgbWFyZ2luOiAwOw0KICAgIHBhZGRpbmc6IDAuNjI1ZW07DQogICAgYm9yZGVyLXJhZGl1czogMC4yNXJlbTsNCn0NCi5zdGF0dXMtd2luZG93LmFjdGl2ZS10b29sIC5zdGF0dXMtYnRuIHsNCiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoIlJlc291cmNlcy9JbWFnZXMvSWNvbnMvZGVsZXRlLTE2LnBuZyIpOw0KfQ0KDQovKiAtLS0tLS0gU1RBUlQ6IFBhbmVsIFN0YXR1cyAtLS0tLS0gKi8NCi5wYW5lbC1zdGF0dXMtcmVnaW9uLnJlZ2lvbi1hY3RpdmUgew0KICAgIGJhY2tncm91bmQ6ICNGRkZBQ0Q7DQogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNEOUQ5RDk7DQp9DQoucGFuZWwtc3RhdHVzLXJlZ2lvbiAuc3RhdHVzLXdpbmRvdyB7DQogICAgd2lkdGg6IDEwMCU7DQogICAgYm9yZGVyOiBub25lOw0KICAgIG1hcmdpbjogMDsNCiAgICBwYWRkaW5nOiAwOw0KICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50Ow0KICAgIGJvcmRlci1yYWRpdXM6IDA7DQp9DQoucGFuZWwtc3RhdHVzLXJlZ2lvbiAuc3RhdHVzLXdpbmRvdyB0YWJsZSB7DQogICAgd2lkdGg6IDEwMCU7DQogICAgdGFibGUtbGF5b3V0OiBmaXhlZDsNCn0NCg0KLnBhbmVsLXN0YXR1cy1yZWdpb24gLnN0YXR1cy13aW5kb3cgLnN0YXR1cy1pbWctY29udGFpbmVyIHsNCiAgICB3aWR0aDogMDsNCn0NCg0KLnBhbmVsLXN0YXR1cy1yZWdpb24gLnN0YXR1cy13aW5kb3cgLnN0YXR1cy1tc2ctY29udGFpbmVyIHsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOw0KICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7DQp9DQoNCi5wYW5lbC1zdGF0dXMtcmVnaW9uIC5zdGF0dXMtd2luZG93IC5zdGF0dXMtYnRuIHNwYW4gew0KICAgIGJvcmRlcjogbm9uZTsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBoZWlnaHQ6IDEwMCU7DQp9DQoucGFuZWwtc3RhdHVzLXJlZ2lvbiAuc3RhdHVzLWNsb3NlIHsNCiAgICB3aWR0aDogM2VtOw0KICAgIHRleHQtYWxpZ246IHJpZ2h0Ow0KfQ0KLyogLS0tLS0tIEVORDogUGFuZWwgU3RhdHVzIC0tLS0tLSAqLw=="),e.resourceManager.register("Mapping","inv","Mapping/modules/Status/CSS/small.css","css","DQovKiBTVEFUVVMgSU5ESUNBVE9SIChTTUFMTCkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovDQoNCi5zdGF0dXMtd2luZG93IHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDEpOw0KICAgIG1hcmdpbi1yaWdodDogNC4yNWVtOyAvKiBNYXJnaW4gdG8gbWFrZSByb29tIGZvciB0aGUgcGFuZWwgc3dpdGNoZXIgYnV0dG9uIHRvIGJlIHZpc2libGUgYXQgYWxsIHRpbWVzLiAqLw0KfQ0KDQouc3RhdHVzLWNsb3NlIHsNCiAgICBvcGFjaXR5OiAxMDA7DQp9DQouc3RhdHVzLXdpbmRvdyB7DQogICAgcGFkZGluZzogMC4zOWVtOw0KfQ0KLnN0YXR1cy1idG4gew0KICAgIGhlaWdodDogNGVtOw0KfQ=="),e.resourceManager.register("Mapping","inv","Mapping/modules/Status/StatusIndicatorView.html","html",t),e.resourceManager.register("Mapping","inv","Mapping/modules/Status/StatusMessageView.html","html",i)}),require({cache:{}}),define(["Mapping/modules/Status/StatusIndicatorView","Mapping/modules/Status/StatusMessageView","Mapping/modules/Status/StatusMessageViewModel","Mapping/modules/Status/StatusModule"],function(t,i,s,a){e(t,"geocortex.essentialsHtmlViewer.mapping.modules.status.StatusIndicatorView",t.StatusIndicatorView),e(i,"geocortex.essentialsHtmlViewer.mapping.modules.status.StatusMessageView",i.StatusMessageView),e(s,"geocortex.essentialsHtmlViewer.mapping.modules.status.StatusMessageViewModel",s.StatusMessageViewModel),e(a,"geocortex.essentialsHtmlViewer.mapping.modules.status.StatusModule",a.StatusModule)})}();