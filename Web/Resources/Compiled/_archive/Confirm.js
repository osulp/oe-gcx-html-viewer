!function(){function e(e,i,t){if("string"==typeof e&&(t=i,i=e),void 0!==t)for(var n=i.split("."),o=null,r=window,a=0,c=n.length;a<c;a++)o=n[a],a==c-1?r[o]=t:r[o]||(r[o]={}),r=r[o];else console.warn("Undefined shim for: "+i)}var i="<div class='module notification confirm'>    <p class='desc' data-binding='{@text: confirmBody}'></p>    <div class='form-btns'>        <button class='button' data-binding='{@event-onclick: handleClickOk}{@text: okLabel}' />        <button class='button' data-binding='{@var: cancelButtonElement}{@event-onclick: handleClickCancel}{@text: cancelLabel}' />    </div></div>";require({cache:{"Mapping/modules/Confirm/ConfirmModule":function(){var e=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var t in i)i.hasOwnProperty(t)&&(e[t]=i[t])};return function(i,t){function n(){this.constructor=i}e(i,t),i.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();define(["require","exports","geocortex/framework/application/ModuleBase"],function(i,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.confirmRegion="ModalWindowRegion",e.nativeImplementation=null,e.overrideNativeConfirm=!1,e}return e(t,i),t.prototype.initialize=function(e){var t=this;i.prototype.initialize.call(this,e),this.nativeImplementation=window.confirm,this.confirmRegion=e.confirmRegion,this.overrideNativeConfirm=e.overrideNativeConfirm;var n=function(e,i,n,o){if(!n)return t.nativeImplementation.apply(window,[e]);(o=o||{}).okLabel=o.okLabel||t.app.getResource(t.libraryId,"language-common-ok"),o.cancelLabel=o.cancelLabel||t.app.getResource(t.libraryId,"language-common-cancel");try{var r=t.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.modules.confirm.ConfirmView",markupResource:"Mapping/modules/Confirm/ConfirmView.html",isVisible:!0,regionName:t.confirmRegion,libraryId:t.libraryId,configuration:{sticky:!!o.sticky||null}});i||(i=t.app.getResource(t.libraryId,"language-confirm-default-title"));var a={title:i,confirmBody:e,callback:n,isOpen:!0,pending:[],okLabel:o.okLabel,cancelLabel:o.cancelLabel};r.title.set(i),r.attach(a),t.app.viewManager.activateView(r)}catch(e){t.app.trace.error("Error: Could not display confirm: "+e)}};this.overrideNativeConfirm&&(window.confirm=n),this.app.command("Confirm").register(this,function(e,i,t,o){i||(i=this.app.getResource(this.libraryId,"language-confirm-default-title")),t||(t=function(){}),n(e,i,t,o)})},t}(n.ModuleBase);t.ConfirmModule=o})},"Mapping/modules/Confirm/ConfirmView":function(){var e=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var t in i)i.hasOwnProperty(t)&&(e[t]=i[t])};return function(i,t){function n(){this.constructor=i}e(i,t),i.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();define(["require","exports","geocortex/framework/ui/ViewBase"],function(i,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.userHasClicked=!1,e.userCanceled=!1,e}return e(t,i),t.prototype.attach=function(e){if(i.prototype.attach.call(this,e),this.title.set(e.title),this.cancelButtonElement)try{this.cancelButtonElement.focus()}catch(e){}this.viewContainerViewClosedEventToken||(this.viewContainerViewClosedEventToken=this.app.event("ViewContainerViewClosedEvent").subscribe(this,function(e){e&&e.viewId===this.id&&this._deactivateForUser(!0)}))},t.prototype.destroyBindings=function(){i.prototype.destroyBindings.call(this),this.viewContainerViewClosedEventToken&&(this.app.event("ViewContainerViewClosedEvent").unsubscribe(this.viewContainerViewClosedEventToken),this.viewContainerViewClosedEventToken=null)},t.prototype.handleClickOk=function(e,i,t){return this._deactivateForUser(!1),!1},t.prototype.handleClickCancel=function(e,i,t){return this._deactivateForUser(!0),!1},t.prototype._deactivateForUser=function(e){this.userCanceled=e,this.userHasClicked=!0,this.app.viewManager.deactivateView(this),this.app.viewManager.destroyView(this),this.userHasClicked&&this.viewModel&&this.viewModel.callback&&this.viewModel.callback(!this.userCanceled)},t}(n.ViewBase);t.ConfirmView=o})},"url:/Mapping/modules/Confirm/ConfirmView.html":i}}),require(["geocortex/framework/resourceManager"],function(e){e.resourceManager.register("Mapping","inv","Mapping/modules/Confirm/ConfirmView.html","html",i)}),require({cache:{}}),define(["Mapping/modules/Confirm/ConfirmModule","Mapping/modules/Confirm/ConfirmView"],function(i,t){e(i,"geocortex.essentialsHtmlViewer.mapping.modules.confirm.ConfirmModule",i.ConfirmModule),e(t,"geocortex.essentialsHtmlViewer.mapping.modules.confirm.ConfirmView",t.ConfirmView)})}();