!function(){function t(t,e,o){if("string"==typeof t&&(o=e,e=t),void 0!==o)for(var s=e.split("."),i=null,a=window,n=0,r=s.length;n<r;n++)i=s[n],n==r-1?a[i]=o:a[i]||(a[i]={}),a=a[i];else console.warn("Undefined shim for: "+e)}require({cache:{"Mapping/modules/Tools/ToolsModule":function(){var t=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function s(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(s.prototype=o.prototype,new s)}}();define(["require","exports","geocortex/framework/application/ModuleBase","geocortex/infrastructure/accessibility/InputMethod"],function(e,o,s,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.cssClasses={activeTool:"active-tool"},t}return t(o,e),o.prototype.initialize=function(t){e.prototype.initialize.call(this,t),t.tools&&this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(t.tools,!0),t.hasOwnProperty("showStatusMessages")||(t.showStatusMessages=!0),t.showStatusMessages&&(this.app.event("ActiveToolChangedEvent").subscribe(this,this.activeToolChanged),this.app.event("ToolInputMethodChangedEvent").subscribe(this,this.toolInputMethodChanged))},o.prototype.activeToolChanged=function(t){if(this.configuration.showStatusMessages){var e;if(t&&t.tool){var o=t.tool;if(o.statusText){e=o.name+"StatusMessageView";var s=o.statusText;o.libraryId&&s&&s.length>0&&"@"===s[0]&&(s=this.app.getResource(o.libraryId,s.substring(1)));var i=o.closeTitle||this.getResource("language-common-deactivate-tool");o.libraryId&&i&&i.length>0&&"@"===i[0]&&(i=this.app.getResource(o.libraryId,i.substring(1)));var a={id:e,text:s,iconProperties:{uri:o.iconUri,altText:o.name},closeButton:{callback:function(){return o.setActive(!1)}}};this.app.command("DisplayNotification").execute(a),this.app.command("ScreenReaderNarrate").execute(o.statusText)}}else e=t.previousTool.name+"StatusMessageView",this.app.command("RemoveNotification").execute(e)}},o.prototype.toolInputMethodChanged=function(t){if(this.configuration.showStatusMessages&&t&&t.tool){var e=t.tool,o=(t.previousMethod,(t.newMethod||null)===i.InputMethod.KEYBOARD),s=o?e.keyboardStatusText:e.statusText;if(e.libraryId&&s&&s.length>0&&"@"===s[0]&&(s=this.app.getResource(e.libraryId,s.substring(1))),s){var a={id:e.name+"StatusMessageView",text:s,closeButton:{}};this.app.command("DisplayNotification").execute(a),o&&this.app.command("ScreenReaderNarrate").execute(s)}}},o}(s.ModuleBase);o.ToolsModule=a})}}}),require({cache:{}}),define(["Mapping/modules/Tools/ToolsModule"],function(e){t(e,"geocortex.essentialsHtmlViewer.mapping.modules.tools.ToolsModule",e.ToolsModule)})}();