require({cache:{"geocortex/charting/infrastructure/aggregation/AverageValueAggregator":function(){define(["require","exports","./../ChartUtils"],function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(i.prototype.aggregate=function(e){if(e&&0<e.length){for(var t,r=0,i=e.length;i--;)r+=null!==(t=a.ChartUtils.numericValue(e[i].value))?t:0;return r/e.length}return 0},i);function i(){this.name="Average",this.displayName="Average"}t.AverageValueAggregator=r})},"geocortex/charting/infrastructure/aggregation/ChartPointCollectionAggregator":function(){define(["require","exports","./../ChartPointCollection","./../ChartPoint","./../ChartPointUtils","geocortex/framework/utils/ArrayUtils","./../ValueAggregatorRegistry"],function(e,t,u,n,l,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(i.prototype.aggregate=function(e){var r=this,t=[],i=l.ChartPointUtils.getGroupedChartPoints(e).map(function(e){var t=r.getAggregator(e.seriesDefinition);return r.aggregateGroup(e,t)});i=i.filter(function(e){return null!==e});for(var a=s.groupBy(i,function(e){return e.seriesDefinition.id}),n=0;n<a.length;n++){var o=a[n];if(o)if(1<o.items.length){var g=new u.ChartPointCollection(o.items);g.sort(),t=t.concat(g.items)}else t=t.concat(o.items)}return new u.ChartPointCollection(t)},i.prototype.aggregateGroup=function(e,t){if(void 0===t&&(t=null),e&&e.items&&0<e.items.length){var r=t||o.ValueAggregatorRegistry.getAggregatorByName("Sum"),i=e.items[0],a=new n.ChartPoint({seriesDefinition:i.seriesDefinition,categoryDefinition:i.categoryDefinition,category:i.category,series:i.series,seriesBreakValue:i.seriesBreakValue,formatProvider:i.formatProvider||this.formatProvider,value:r.aggregate(e.items)});return this.attachAttributes(a,e),a}return null},i.prototype.attachAttributes=function(e,t){},i.prototype.getAggregator=function(e){if(e&&e.valueAggregatorName){var t=o.ValueAggregatorRegistry.getAggregatorByName(e.valueAggregatorName);if(null!==t)return t}return o.ValueAggregatorRegistry.getAggregatorByName("Sum")},i);function i(){this.formatProvider=null}t.ChartPointCollectionAggregator=r})},"geocortex/charting/infrastructure/aggregation/ChartPointCollectionAggregatorInterface":function(){define(["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})})},"geocortex/charting/infrastructure/aggregation/CountValueAggregator":function(){define(["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(i.prototype.aggregate=function(e){return e?e.length:0},i);function i(){this.name="Count",this.displayName="Count"}t.CountValueAggregator=r})},"geocortex/charting/infrastructure/aggregation/MaxValueAggregator":function(){define(["require","exports","./../ChartUtils"],function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(i.prototype.aggregate=function(e){if(e&&0<e.length){for(var t,r=a.ChartUtils.numericValue(e[0].value),i=1;i<e.length;i++)r=null!==(t=a.ChartUtils.numericValue(e[i].value))&&r<t?t:r;return r}return 0},i);function i(){this.name="Max",this.displayName="Max"}t.MaxValueAggregator=r})},"geocortex/charting/infrastructure/aggregation/MinValueAggregator":function(){define(["require","exports","./../ChartUtils"],function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(i.prototype.aggregate=function(e){if(e&&0<e.length){for(var t,r=a.ChartUtils.numericValue(e[0].value),i=1;i<e.length;i++)r=null!==(t=a.ChartUtils.numericValue(e[i].value))&&t<r?t:r;return r}return 0},i);function i(){this.name="Min",this.displayName="Min"}t.MinValueAggregator=r})},"geocortex/charting/infrastructure/aggregation/SumValueAggregator":function(){define(["require","exports","./../ChartUtils"],function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(i.prototype.aggregate=function(e){if(e&&0<e.length){for(var t,r=0,i=e.length;i--;)r+=null!==(t=a.ChartUtils.numericValue(e[i].value))?t:0;return r}return 0},i);function i(){this.name="Sum",this.displayName="Sum"}t.SumValueAggregator=r})},"geocortex/charting/infrastructure/aggregation/ValueAggregatorInterface":function(){define(["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})})}}});require({cache:{"geocortex/charting/infrastructure/ChartInterface":function(){define(["require","exports"],function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})})}}});require({cache:{"geocortex/charting/infrastructure/ChartOptions":function(){define(["require","exports"],function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})})}}});require({cache:{"geocortex/charting/infrastructure/ChartPoint":function(){define(["require","exports","./ChartUtils","geocortex/framework/utils/utils"],function(i,t,o,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=(r.tryGetFormattedString=function(i,t,e,s,r){return void 0===e&&(e=null),void 0===s&&(s=null),void 0===r&&(r=null),null==i?"":null!==e?e.toString(i,t,s,r):o.ChartUtils.toString(i)},r.prototype.setCategoryDefinition=function(i){this.categoryDefinition!=i&&(this.categoryDefinition=i,this._setCategoryStrings())},r.prototype.setSeriesDefinition=function(i){this.seriesDefinition!=i&&(this.seriesDefinition=i,this._setSeriesStrings(),this._setSeriesBreakStrings(),this._setDisplayValue())},r.prototype.setCategory=function(i){this.category!=i&&(this.category=i,this._setCategoryStrings())},r.prototype.setSeries=function(i){this.series!=i&&(this.series=i,this._setSeriesStrings())},r.prototype.setSeriesBreakValue=function(i){this.seriesBreakValue!=i&&(this.seriesBreakValue=i,this._setSeriesBreakStrings())},r.prototype.setValue=function(i){this.value!=i&&(this.value=i,this._setDisplayValue())},r.prototype.clone=function(){var i={};if(this.attributes)for(var t in this.attributes)this.attributes.hasOwnProperty(t)&&(i[t]=this.attributes[t]);return new r({attributes:i,value:this.value,category:this.category,categoryDefinition:this.categoryDefinition,formatProvider:this.formatProvider,isSelected:this.isSelected,series:this.series,seriesDefinition:this.seriesDefinition,seriesBreakValue:this.seriesBreakValue})},r.prototype.destroy=function(){this.formatProvider=null,this.attributes=null,this.setCategoryDefinition(null),this.setSeriesDefinition(null),this.setCategory(null),this.setSeries(null),this.setSeriesBreakValue(null),this.setValue(null)},r.prototype._setSeriesStrings=function(){null!=this.series&&void 0!==this.series?null!=this.seriesDefinition?(this.displaySeries=r.tryGetFormattedString(this.series,this.seriesDefinition.field.displayFormat,this.formatProvider,this.seriesDefinition.timeZoneId,this.seriesDefinition.displayTimeZoneId),this.series instanceof Date&&"ddd"===this.seriesDefinition.field.sortingFormat?this.sortingSeries=this.series.getDay():this.series instanceof Date&&"mmm"===this.seriesDefinition.field.sortingFormat?this.sortingSeries=this.series.getMonth():(this.sortingSeries=r.tryGetFormattedString(this.series,this.seriesDefinition.field.sortingFormat,this.formatProvider,this.seriesDefinition.timeZoneId,this.seriesDefinition.displayTimeZoneId),o.ChartUtils.isNumeric(this.sortingSeries)?this.sortingSeries=Number(this.sortingSeries):this.series instanceof Date&&(this.sortingSeries=this.series))):(this.displaySeries=o.ChartUtils.toString(this.series),this.sortingSeries=o.ChartUtils.toString(this.series)):this.displaySeries=this.sortingSeries="Empty_Series_Field"},r.prototype._setCategoryStrings=function(){null!=this.category&&void 0!==this.category?null!=this.categoryDefinition?(this.displayCategory=r.tryGetFormattedString(this.category,this.categoryDefinition.field.displayFormat,this.formatProvider,this.seriesDefinition.timeZoneId,this.seriesDefinition.displayTimeZoneId),this.category instanceof Date&&"ddd"===this.categoryDefinition.field.sortingFormat?this.sortingCategory=this.category.getDay():this.category instanceof Date&&"mmm"===this.categoryDefinition.field.sortingFormat?this.sortingCategory=this.category.getMonth():(this.sortingCategory=r.tryGetFormattedString(this.category,this.categoryDefinition.field.sortingFormat,this.formatProvider,this.seriesDefinition.timeZoneId,this.seriesDefinition.displayTimeZoneId),o.ChartUtils.isNumeric(this.sortingCategory)?this.sortingCategory=Number(this.sortingCategory):this.category instanceof Date&&(this.sortingCategory=this.category))):(this.displayCategory=o.ChartUtils.toString(this.category),this.sortingCategory=o.ChartUtils.toString(this.category)):this.displayCategory=this.sortingCategory="Empty_Category_Field"},r.prototype._setSeriesBreakStrings=function(){null!==this.seriesBreakValue&&void 0!==this.seriesBreakValue?null!=this.seriesDefinition?(this.seriesBreakDisplayValue=r.tryGetFormattedString(this.seriesBreakValue,this.seriesDefinition.seriesBreak.field.displayFormat,this.formatProvider,this.seriesDefinition.timeZoneId,this.seriesDefinition.displayTimeZoneId),this.seriesBreakSortingValue=r.tryGetFormattedString(this.seriesBreakValue,this.seriesDefinition.seriesBreak.field.sortingFormat,this.formatProvider,this.seriesDefinition.timeZoneId,this.seriesDefinition.displayTimeZoneId)):(this.seriesBreakDisplayValue=o.ChartUtils.toString(this.seriesBreakValue),this.seriesBreakSortingValue=o.ChartUtils.toString(this.seriesBreakValue)):this.seriesBreakDisplayValue=this.seriesBreakSortingValue="Empty_Series_Break_Field"},r.prototype._setDisplayValue=function(){null!==this.value&&void 0!==this.value?null!=this.seriesDefinition?this.displayValue=r.tryGetFormattedString(this.value,this.seriesDefinition.valueFormat,this.formatProvider,this.seriesDefinition.timeZoneId,this.seriesDefinition.displayTimeZoneId):this.displayValue=o.ChartUtils.toString(this.value):this.displayValue="0"},r);function r(i){this.categoryDefinition=null,this.seriesDefinition=null,this.category=null,this.displayCategory=null,this.sortingCategory=null,this.seriesBreakValue=null,this.seriesBreakDisplayValue=null,this.seriesBreakSortingValue=null,this.series=null,this.displaySeries=null,this.sortingSeries=null,this.isSelected=!1,this.value=null,this.displayValue=null,this.attributes={},this.formatProvider=null,this.uniqueId="cp_"+e.alphaNumericToken(),i&&(this.formatProvider=i.formatProvider,this.attributes=i.attributes||{},this.isSelected=!!i.isSelected,this.setCategoryDefinition(i.categoryDefinition),this.setSeriesDefinition(i.seriesDefinition),this.setCategory(i.category),this.setSeries(i.series),this.setSeriesBreakValue(i.seriesBreakValue),this.setValue(i.value))}t.ChartPoint=s})}}});require({cache:{"geocortex/charting/infrastructure/ChartPointAdapterBase":function(){define(["require","exports","./ChartPoint","./Enums","./ChartUtils"],function(e,t,c,h,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(i.prototype.fill=function(e,t,r){throw new Error("This method is abstract")},i.prototype.getFieldValue=function(e,t,r){throw void 0===r&&(r=null),new Error("This method is abstract")},i.prototype.createChartPoint=function(e,t,r){throw void 0===r&&(r=null),new Error("This method is abstract")},i.prototype.createChartPointCore=function(e,t,r,i,a,o){if(void 0===o&&(o=null),null==r||isNaN(r)&&r!=r||void 0===r||!a)return null;var n=null;switch(a.chartSeries.seriesBreak.breakType){case h.ChartSeriesBreakType.UniqueValue:n=l.ChartUtils.tryGetFieldValue(a.chartSeries.seriesBreak.field,e,o);break;case h.ChartSeriesBreakType.None:}var s=l.ChartUtils.isNumeric(r),u=new c.ChartPoint({category:i,series:s?t:r,value:s?r:1,seriesBreakValue:n,categoryDefinition:a.chartCategory,seriesDefinition:a.chartSeries,formatProvider:a.formatProvider});return this.attachAttributes(u,e,a,o),u},i.prototype.attachAttributes=function(e,t,r,i){void 0===i&&(i=null)},i);function i(){}t.ChartPointAdapterBase=r})}}});require({cache:{"geocortex/charting/infrastructure/ChartPointAdapterInterface":function(){define(["require","exports"],function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})})}}});require({cache:{"geocortex/charting/infrastructure/ChartPointAdapterRegistry":function(){define(["require","exports"],function(r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(a.registerAdapter=function(r,e){e&&(a._adapters[e]=r)},a.getAdapterBySourceType=function(r){return a._adapters.hasOwnProperty(r)?a._adapters[r]:null},a.getAdapters=function(){var r=[];for(var e in a._adapters)if(a._adapters.hasOwnProperty(e)){var t=a._adapters[e];r.push(t)}return r},a.clear=function(){a._adapters={}},a._adapters={},a);function a(){}e.ChartPointAdapterRegistry=t})}}});require({cache:{"geocortex/charting/infrastructure/ChartPointCollection":function(){define(["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(r.prototype.isEmpty=function(){return this.items&&0===this.items.length},r.prototype.clear=function(t){void 0===t&&(t=!1),this.items&&0<this.items.length&&(t&&this.items.forEach(function(t){t.destroy()}),this.items.length=0)},r.prototype.set=function(t,e){void 0===e&&(e=!1),this.clear(e),t&&(this.items=this.items.concat(t))},r.prototype.sort=function(t){return null==t?this.items.sort(r._defaultSortingPredicate):this.items.sort(t),this},r._defaultSortingPredicate=function(t,e){function i(t,e){return t===e?0:e<t?1:-1}return i(t.category,e.category)||i(t.sortingSeries,e.sortingSeries)||i(t.value,e.value)},r);function r(t){this.items=[],t&&(t instanceof r?this.set(t.items):t instanceof Array&&this.set(t))}e.ChartPointCollection=i})}}});require({cache:{"geocortex/charting/infrastructure/ChartPointGroup":function(){define(["require","exports"],function(e,i){"use strict";function t(){this.categoryDefinition=null,this.seriesDefinition=null,this.sortingCategory=null,this.sortingSeries=null,this.items=null}Object.defineProperty(i,"__esModule",{value:!0}),i.ChartPointGroup=t})}}});require({cache:{"geocortex/charting/infrastructure/ChartPointUtils":function(){define(["require","exports","geocortex/framework/utils/Tuple","geocortex/framework/utils/ArrayUtils","./ChartUtils","./ChartPointGroup"],function(e,t,s,a,i,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(n.getBounds=function(e,t){var r,i=0,n=0;if(e&&0<e.length&&"function"==typeof t){n=i=t(e[0]);for(var o=e.length;o--;)r=t(e[o]),i=Math.min(r,i),n=Math.max(r,n)}return new s.Tuple(i,n)},n.getCategorySortingValues=function(e){if(e){var t=e.items.map(function(e,t,r){return e.sortingCategory}),r=a.distinct(t);return r.every(function(e){return i.ChartUtils.isNumeric(e)})?r.map(Number):r}return null},n.getCategorySortingStrings=function(e){return this.getCategorySortingValues(e).map(String)},n.getCategoryDisplayValues=function(e){if(e){var t=e.items.map(function(e,t,r){return e.displayCategory});return a.distinct(t)}return null},n.getSeriesDisplayValues=function(e){if(e){var t=e.items.map(function(e,t,r){return e.displayValue});return a.distinct(t)}return null},n.getGroupedChartPoints=function(e){for(var t=[],r=a.groupBy(e.items,function(e){return{seriesDefinitionId:e.seriesDefinition.id,sortingSeries:e.sortingSeries,sortingCategory:e.sortingCategory,seriesBreakSortingValue:e.seriesBreakSortingValue}}),i=0;i<r.length;i++){var n=r[i];if(n&&n.items){var o=n.items[0],s=new u.ChartPointGroup;s.seriesDefinition=o.seriesDefinition,s.categoryDefinition=o.categoryDefinition,s.sortingSeries=o.sortingSeries,s.sortingCategory=o.sortingCategory,s.items=n.items,t.push(s)}}return t},n.getSeriesChartPoints=function(e,t,r){throw new Error("Method not implemented yet.")},n.getSeriesGroupedChartPoints=function(e){for(var t=[],r=a.groupBy(e.items,function(e){return{seriesDefinitionId:e.seriesDefinition.id,seriesBreakSortingValue:e.seriesBreakSortingValue,sortingSeries:e.sortingSeries}}),i=0;i<r.length;i++){var n=r[i];if(n&&n.items){var o=n.items[0],s=new u.ChartPointGroup;s.seriesDefinition=o.seriesDefinition,s.categoryDefinition=o.categoryDefinition,s.sortingSeries=o.sortingSeries,s.sortingCategory=o.sortingCategory,s.items=n.items,t.push(s)}}return t},n.getSeriesStrings=function(e){throw new Error("Method not implemented yet.")},n.sortChartPointCollection=function(e,t){return null==t?e.items.sort(n._defaultSortingPredicate):e.items.sort(t),e},n._defaultSortingPredicate=function(e,t){function r(e,t){return e===t?0:t<e?1:-1}return r(e.category,t.category)||r(e.sortingSeries,t.sortingSeries)||r(e.value,t.value)},n.compareFields=function(e,t){return!(!e||e.displaySeries!=t&&e.displaySeries!=e.seriesDefinition.field.displayName)},n);function n(){}t.ChartPointUtils=r})}}});require({cache:{"geocortex/charting/infrastructure/ChartSeriesProviderInterface":function(){define(["require","exports"],function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})})}}});require({cache:{"geocortex/charting/infrastructure/ChartUtils":function(){define(["require","exports","./Enums","./ChartPointAdapterRegistry","geocortex/framework/utils/ArrayUtils"],function(e,t,o,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(i.toString=function(e){return null==e?"":"object"==typeof e&&"function"==typeof e.toString?e.toString():e+""},i.decimalToByte=function(e){return Math.round(255*e)},i.byteToDecimal=function(e,t){return void 0===t&&(t=1),e/255*t},i.isNumeric=function(e){return!(e instanceof Array)&&0<=e-parseFloat(e)+1},i.numericValue=function(e){if(null==e)return null;var t=parseFloat(e);return!isNaN(t)&&isFinite(t)?t:null},i.round=function(e,t){var r=Math.pow(10,t||0);return Math.round(e*r)/r},i.ceil=function(e,t){return i.round(Math.ceil(e/t)*t,i.DEFAULT_PRECISION)},i.floor=function(e,t){return i.round(Math.floor(e/t)*t,i.DEFAULT_PRECISION)},i.remainderClose=function(e,t,r){var n=i.round(Math.abs(e%t),i.DEFAULT_PRECISION);return 0===n||t*(1-r)<n},i.isDefined=function(e){return null!=e},i.valueOrDefault=function(e,t){return i.isDefined(e)?e:t},i.tryGetFieldValue=function(e,t,r){if(void 0===r&&(r=null),e){var n=o.ChartFieldSourceType[e.sourceType],i=a.ChartPointAdapterRegistry.getAdapterBySourceType(n);if(i)return i.getFieldValue(e,t,r)}return null},i.getSeriesPriority=function(e){var t=0;switch(e){case o.ChartSeriesType.Area:case o.ChartSeriesType.SplineArea:t=0;break;case o.ChartSeriesType.Bar:t=1;break;case o.ChartSeriesType.Line:case o.ChartSeriesType.Spline:case o.ChartSeriesType.ScatterPoint:t=2;break;default:t=0}return t},i.containsDataLinks=function(e){return!!e&&(e.category.field.sourceType==o.ChartFieldSourceType.DataLink||e.series.some(function(e){return e.field.sourceType==o.ChartFieldSourceType.DataLink}))},i.findSeriesViewModelFromChartPoint=function(t,e){for(var r=null!==e?e.length:0;r--;){var n=e[r];if(n.items.items.some(function(e){return e.uniqueId===t.uniqueId}))return n}return null},i.findSeriesViewModelById=function(e,t){return n.firstOrDefault(e,function(e){return!e.isSeriesInternal&&e.seriesDefinition.id===t})},i.findSeriesViewModelByTitle=function(e,t,r){return void 0===r&&(r=!0),n.firstOrDefault(e,function(e){return!e.isSeriesInternal&&function(e,t,r){void 0===r&&(r=!0);var n=e||"",i=t||"";return r&&(n=n.toLowerCase(),i=i.toLowerCase()),n===i}(e.seriesDefinition.title,t,r)})},i.equalsDefinition=function(e,t){return!(!e||!t||e.sourceType!=t.sourceType||e.name!=t.name||e.sourceType==o.ChartFieldSourceType.DataLink&&e.dataLinkId!=t.dataLinkId||e.sortingFormat!=t.sortingFormat||e.displayFormat!=t.displayFormat)},i.getResponsiveLegendPosition=function(e,t){if(void 0===t&&(t=!1),e&&e.chartDefinition&&e.chartDefinition.legend.position!==o.ChartLegendPosition.None){var r,n=e.chartDefinition.legend.position;switch(n){case o.ChartLegendPosition.Left:case o.ChartLegendPosition.Right:r=t?n:o.ChartLegendPosition.Bottom;break;case o.ChartLegendPosition.Top:case o.ChartLegendPosition.Bottom:r=t?o.ChartLegendPosition.Right:n;break;default:r=n}return r}return o.ChartLegendPosition.None},i.isScatterChart=function(e){return e.some(function(e){return e.seriesType==o.ChartSeriesType.ScatterPoint})},i.DEFAULT_PRECISION=6,i.COORD_PRECISION=3,i);function i(){}t.ChartUtils=r})}}});require({cache:{"geocortex/charting/infrastructure/ChartViewModelInterface":function(){define(["require","exports"],function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})})}}});require({cache:{"geocortex/charting/infrastructure/Color":function(){define(["require","exports","./ChartUtils"],function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=(a.fromRgb=function(t){var r=new a;return r.red=t.r,r.green=t.g,r.blue=t.b,r},a.fromRgba=function(t){var r=a.fromRgb(t);return r.alpha=t.a,r},a.fromHsv=function(t){var r=new a;return r.setWithHSV(t),r},a.fromHsva=function(t){var r=a.fromHsv(t);return r.alpha=t.a,r},a.fromString=function(t){var r=new a;return r.setWithString(t),r},a.fromArray=function(t){return new a(t)},a.prototype.setWithHSV=function(t){null!==t.h&&(t.h=Math.max(0,a.MIN_H,Math.min(6,a.MAX_H,t.h))),null!==t.s&&(t.s=Math.max(0,a.MIN_S,Math.min(1,a.MAX_S,t.s))),null!==t.v&&(t.v=Math.max(0,a.MIN_V,Math.min(1,a.MAX_V,t.v)));var r=this.hsvToRgb(t);this.red=r.r,this.green=r.g,this.blue=r.b},a.prototype.setWithString=function(t){var r,e,i,a=t.match(/^#?\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);a&&(e=6===a[1].length?(r=parseInt(a[1].substr(0,2),16)/255,i=parseInt(a[1].substr(2,2),16)/255,parseInt(a[1].substr(4,2),16)/255):(r=parseInt(a[1].charAt(0)+a[1].charAt(0),16)/255,i=parseInt(a[1].charAt(1)+a[1].charAt(1),16)/255,parseInt(a[1].charAt(2)+a[1].charAt(2),16)/255),this.red=r,this.green=i,this.blue=e)},a.prototype.getHsv=function(){var t=null,r=this.red,e=this.green,i=this.blue,a=Math.min(Math.min(r,e),i),s=Math.max(Math.max(r,e),i),n=s-a;if(0==n)t={h:null,s:0,v:s};else{var h=r===a?3+(i-e)/n:e===a?5+(r-i)/n:1+(e-r)/n;t.h=6==h?0:h,t.s=n/s,t.v=s}return t},a.prototype.toString=function(t){return void 0===t&&(t=!1),t?"#"+((256|e.ChartUtils.decimalToByte(this.alpha)).toString(16).substr(1)+(256|e.ChartUtils.decimalToByte(this.red)).toString(16).substr(1)+(256|e.ChartUtils.decimalToByte(this.green)).toString(16).substr(1)+(256|e.ChartUtils.decimalToByte(this.blue)).toString(16).substr(1)):"#"+((256|e.ChartUtils.decimalToByte(this.red)).toString(16).substr(1)+(256|e.ChartUtils.decimalToByte(this.green)).toString(16).substr(1)+(256|e.ChartUtils.decimalToByte(this.blue)).toString(16).substr(1))},a.prototype.toCss=function(t){void 0===t&&(t=!1);var r=[e.ChartUtils.decimalToByte(this.red),e.ChartUtils.decimalToByte(this.green),e.ChartUtils.decimalToByte(this.blue)];return t?(r.push(this.alpha),"rgba("+r.join(", ")+")"):"rgb("+r.join(", ")+")"},a.prototype.toJson=function(){var t=[0,0,0,255];return t[0]=e.ChartUtils.decimalToByte(this.red),t[1]=e.ChartUtils.decimalToByte(this.green),t[2]=e.ChartUtils.decimalToByte(this.blue),t[3]=e.ChartUtils.decimalToByte(this.alpha),t},a.prototype.hsvToRgb=function(t){if(null===t.h)return{r:t.v,g:t.v,b:t.v};var r,e=Math.floor(t.h),i=e%2?t.h-e:1-(t.h-e),a=t.v*(1-t.s),s=t.v*(1-t.s*i);switch(e){case 6:case 0:r=[t.v,s,a];case 1:r=[s,t.v,a];case 2:r=[a,t.v,s];case 3:r=[a,s,t.v];case 4:r=[s,a,t.v];case 5:r=[t.v,a,s]}return{r:r[0],g:r[1],b:r[2]}},a.MAX_H=0,a.MIN_H=6,a.MAX_S=0,a.MIN_S=1,a.MAX_V=0,a.MIN_V=1,a.Black=a.fromString("#000000"),a.White=a.fromString("#FFFFFF"),a.Red=a.fromString("#FF0000"),a.Green=a.fromString("#00FF00"),a.Blue=a.fromString("#0000FF"),a.Transparent=new a([0,0,0,0]),a);function a(t){this.red=0,this.green=0,this.blue=0,this.alpha=1,null!=t&&t instanceof Array&&(t.hasOwnProperty("0")&&(this.red=e.ChartUtils.byteToDecimal(t[0])),t.hasOwnProperty("1")&&(this.green=e.ChartUtils.byteToDecimal(t[1])),t.hasOwnProperty("2")&&(this.blue=e.ChartUtils.byteToDecimal(t[2])),t.hasOwnProperty("3")&&(this.alpha=e.ChartUtils.byteToDecimal(t[3])))}r.Color=i})}}});require({cache:{"geocortex/charting/infrastructure/ColorPalette":function(){define(["require","exports","./Enums","./Color"],function(t,e,C,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=(a.prototype.toHexColors=function(){return this.entries?this.entries.map(function(t){return t.toString()}):[]},a.prototype.toCssColors=function(e){return void 0===e&&(e=!1),this.entries?this.entries.map(function(t){return t.toCss(e)}):[]},a.Arctic=new a(C.ChartColorPalette[C.ChartColorPalette.Arctic],["#8FCAEE","#4CA9D7","#1E7BA9","#BDC1C5","#8C8C8C","#CF1C1F","#F0484B","#FF867F"]),a.Autumn=new a(C.ChartColorPalette[C.ChartColorPalette.Autumn],["#97A035","#BFAD61","#E2CB70","#ECB552","#DD7F33","#D15B27","#B54824","#7D3B25"]),a.Cold=new a(C.ChartColorPalette[C.ChartColorPalette.Cold],["#83D4F1","#4BAEDB","#288DBA","#7CCCD6","#4BADB9","#97CFE5","#63B2CF","#4593AC"]),a.Flower=new a(C.ChartColorPalette[C.ChartColorPalette.Flower],["#DD789B","#AAC271","#9F8E7C","#E0D26D","#E494BB","#85B379","#AAA1A1","#DEB3B7"]),a.Forest=new a(C.ChartColorPalette[C.ChartColorPalette.Forest],["#ADB827","#F1A54C","#A66940","#DB6340","#DCA063","#8BA041","#C09366","#F2BE4B"]),a.Grayscale=new a(C.ChartColorPalette[C.ChartColorPalette.Grayscale],["#404040","#808080","#B3B3B3","#595959","#999999","#C0C0C0","#666666","#A6A6A6"]),a.Ground=new a(C.ChartColorPalette[C.ChartColorPalette.Ground],["#FFBE8C","#F2875A","#CC4343","#6C524E","#8A7161","#B09176","#DAB89B","#B65845"]),a.Lilac=new a(C.ChartColorPalette[C.ChartColorPalette.Lilac],["#88C97F","#80D5CF","#C3AAEF","#6E8FD4","#A4D386","#A4B5EF","#61BBD1","#A0A0D2"]),a.Natural=new a(C.ChartColorPalette[C.ChartColorPalette.Natural],["#EF7513","#F0A13F","#EFD159","#C1CA5F","#97A031","#ADA17E","#8B473A","#CE4226"]),a.Office2013=new a(C.ChartColorPalette[C.ChartColorPalette.Office2013],["#0072C6","#007133","#DD5800","#00178F","#682079","#A13B39","#005646","#1B9DDE"]),a.Pastel=new a(C.ChartColorPalette[C.ChartColorPalette.Pastel],["#C9A2C8","#98BED9","#9CD084","#719BAE","#80C4B2","#94A0BC","#A0CBD3","#D9CAD1"]),a.Rainbow=new a(C.ChartColorPalette[C.ChartColorPalette.Rainbow],["#1171CA","#3294DA","#45B5B2","#8CC221","#AFDA3D","#E3DA20","#F58E13","#E03D0B"]),a.Spring=new a(C.ChartColorPalette[C.ChartColorPalette.Spring],["#BED781","#F8A6C4","#84C3BA","#C0B2B2","#9DCE67","#F48EAD","#E0CCCA","#A0CBDA"]),a.Summer=new a(C.ChartColorPalette[C.ChartColorPalette.Summer],["#3FA7C4","#9ED552","#E1DB63","#C49FD9","#C5DF5E","#55C0CD","#86D8A6","#ADADD7"]),a.Warm=new a(C.ChartColorPalette[C.ChartColorPalette.Warm],["#F3D24F","#FAC24D","#F9AC3B","#F58E13","#FA6800","#F04600","#DE2E05","#CB0C0C"]),a.Windows8=new a(C.ChartColorPalette[C.ChartColorPalette.Windows8],["#8EC441","#1B9DDE","#F59700","#D4DF32","#339933","#00ABA9","#DC5B20","#E8BC34"]),a);function a(t,e){if(this.name=null,this.entries=[],this.name=t,null!==e&&e instanceof Array&&0<e.length){var C=e[0];C&&C instanceof r.Color&&(this.entries=e.slice()),"string"==typeof C&&(this.entries=e.map(function(t){return r.Color.fromString(t)}))}}e.ColorPalette=o})}}});require({cache:{"geocortex/charting/infrastructure/ColorPaletteRegistry":function(){define(["require","exports","./ColorPalette"],function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(a._builtinPalettes=function(){var e={};return e[l.ColorPalette.Arctic.name]=l.ColorPalette.Arctic,e[l.ColorPalette.Autumn.name]=l.ColorPalette.Autumn,e[l.ColorPalette.Cold.name]=l.ColorPalette.Cold,e[l.ColorPalette.Flower.name]=l.ColorPalette.Flower,e[l.ColorPalette.Forest.name]=l.ColorPalette.Forest,e[l.ColorPalette.Grayscale.name]=l.ColorPalette.Grayscale,e[l.ColorPalette.Ground.name]=l.ColorPalette.Ground,e[l.ColorPalette.Lilac.name]=l.ColorPalette.Lilac,e[l.ColorPalette.Natural.name]=l.ColorPalette.Natural,e[l.ColorPalette.Office2013.name]=l.ColorPalette.Office2013,e[l.ColorPalette.Pastel.name]=l.ColorPalette.Pastel,e[l.ColorPalette.Rainbow.name]=l.ColorPalette.Rainbow,e[l.ColorPalette.Spring.name]=l.ColorPalette.Spring,e[l.ColorPalette.Summer.name]=l.ColorPalette.Summer,e[l.ColorPalette.Warm.name]=l.ColorPalette.Warm,e[l.ColorPalette.Windows8.name]=l.ColorPalette.Windows8,e},a.registerColorPalette=function(e){if(!e||!e.name)throw new Error("The chart color palette's name cannot be null.");a._palettes[e.name]=e},a.getColorPaletteByName=function(e){return e&&this._palettes.hasOwnProperty(e)?a._palettes[e]:null},a.getColorPalettes=function(){var e=[];for(var t in a._palettes)if(a._palettes.hasOwnProperty(t)){var l=a._palettes[t];e.push(l)}return e},a.clear=function(){a._palettes=a._builtinPalettes()},a._palettes=a._builtinPalettes(),a);function a(){}t.ColorPaletteRegistry=o})}}});require({cache:{"geocortex/charting/infrastructure/ColorUtils":function(){define(["require","exports","./Color","./HslColor"],function(r,o,e,h){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var t=(l.generateSatLumPalette=function(r,o,e,t){void 0===o&&(o=1),void 0===e&&(e=.8),void 0===t&&(t=.8);var l=h.HslColor.fromColor(r),n=l.h,a=l.l,i=l.s,u=1;1<o&&(u=o-1);for(var c=[],s=e/u,f=t/u,C=0;C<o;C++){var v=0==a?a:1-(o-C)*s,d=0==i?i:1-(o-C)*f,g=new h.HslColor;g.a=r.alpha,g.h=n,g.l=v,g.s=d,c.push(g.toColor())}return c},l.generateSelectionColor=function(r){return e.Color.fromRgba({r:r.red,g:r.green,b:r.blue,a:r.alpha/2})},l);function l(){}o.ColorUtils=t})}}});require({cache:{"geocortex/charting/infrastructure/configuration/ChartAreaDefinition":function(){define(["require","exports","./../Color","./../Enums"],function(i,e,t,s){"use strict";function n(i){this.background=t.Color.White,this.foreground=t.Color.Black,this.showToolTips=!0,this.showLabels=!1,this.showHorizontalGridLines=!0,this.showHorizontalStrips=!1,this.showVerticalGridLines=!1,this.showVerticalStrips=!1,this.actionSelect=!0,this.actionPan=!1,this.actionZoom=!1,this.actionFeatureDetails=!1,this.actionRunCommand=!1,this.commandName=null,this.commandParameter=null,this.enablePanAndZoom=!0,this.enableColorPalette=!1,this.colorPalette=s.ChartColorPalette.Windows8,this.enableCommonSeriesRange=!1,i&&(this.background=new t.Color(i.background),this.foreground=new t.Color(i.foreground),this.showToolTips=!!i.showToolTips,this.showLabels=!!i.showLabels,this.showHorizontalGridLines=!!i.showHorizontalGridLines,this.showHorizontalStrips=!!i.showHorizontalStrips,this.showVerticalGridLines=!!i.showVerticalGridLines,this.showVerticalStrips=!!i.showVerticalStrips,this.actionSelect=!!i.actionSelect,this.actionPan=!!i.actionPan,this.actionZoom=!!i.actionZoom,this.actionFeatureDetails=!!i.actionFeatureDetails,this.actionRunCommand=!!i.actionRunCommand,this.enableColorPalette=!!i.enableColorPalette,this.enableCommonSeriesRange=!!i.enableCommonSeriesRange,this.commandName=i.commandName,this.commandParameter=i.commandParameter,this.enablePanAndZoom=!!i.enableHorizontalZoom,this.colorPalette=void 0!==i.colorPalette?i.colorPalette:this.colorPalette)}Object.defineProperty(e,"__esModule",{value:!0}),e.ChartAreaDefinition=n})},"geocortex/charting/infrastructure/configuration/ChartAxisDefinition":function(){define(["require","exports","../Enums"],function(i,e,t){"use strict";function s(i){this.title="Axis",this.visible=!0,this.showLabels=!0,this.minimum=null,this.maximum=null,this.positionOpposite=!1,this.axisLabelMode=t.ChartAxisLabelMode.All,this.showTicks=!0,this.reverseValues=!1,i&&(this.title=i.title,this.visible=!!i.visible,this.showLabels=!!i.showLabels,this.minimum=i.minimum,this.maximum=i.maximum,this.positionOpposite=!!i.positionOpposite,this.axisLabelMode=null!=i.axisLabelMode?i.axisLabelMode:this.axisLabelMode,this.showTicks=!!i.showTicks,this.reverseValues=!!i.reverseValues)}Object.defineProperty(e,"__esModule",{value:!0}),e.ChartAxisDefinition=s})},"geocortex/charting/infrastructure/configuration/ChartCategoryDefinition":function(){define(["require","exports","./ChartFieldDefinition","./ChartAxisDefinition"],function(i,e,t,s){"use strict";function n(i){this.field=null,this.axis=null,i?(this.field=new t.ChartFieldDefinition(i.field),this.axis=new s.ChartAxisDefinition(i.axis)):(this.field=new t.ChartFieldDefinition,this.axis=new s.ChartAxisDefinition)}Object.defineProperty(e,"__esModule",{value:!0}),e.ChartCategoryDefinition=n})},"geocortex/charting/infrastructure/configuration/ChartDefinition":function(){define(["require","exports","./../Enums","./ChartAreaDefinition","./ChartLegendDefinition","./ChartCategoryDefinition","./ChartSeriesDefinition","geocortex/framework/utils/utils"],function(i,e,s,n,o,r,a,h){"use strict";function t(i){if(this.id=null,this.displayName=null,this.caption=null,this.chartType=s.ChartType.Linear,this.flipChart=!1,this.visible=!0,this.area=null,this.legend=null,this.category=null,this.series=[],i){this.chartType=i.chartType?s.ChartType[i.chartType]:this.chartType,this.id=i.id?i.id:h.alphaNumericToken(),this.displayName=i.displayName?i.displayName:this.id,this.caption=i.caption,this.flipChart=!!i.flipChart,this.visible=!!i.visible,this.area=new n.ChartAreaDefinition(i.area),this.legend=new o.ChartLegendDefinition(i.legend),this.category=new r.ChartCategoryDefinition(i.category);for(var e=i.series?i.series.length:0,t=0;t<e;t++)this.series.push(new a.ChartSeriesDefinition(i.series[t]))}else this.id=this.displayName=h.alphaNumericToken(),this.area=new n.ChartAreaDefinition,this.legend=new o.ChartLegendDefinition,this.category=new r.ChartCategoryDefinition}Object.defineProperty(e,"__esModule",{value:!0}),e.ChartDefinition=t})},"geocortex/charting/infrastructure/configuration/ChartFieldDefinition":function(){define(["require","exports","./../Enums"],function(i,e,t){"use strict";function s(i){this.name=null,this.displayName=null,this.displayFormat=null,this.sortingFormat=null,this.isContinuous=!1,this.isNumerical=!1,this.sourceType=t.ChartFieldSourceType.Field,this.dataLinkId=null,i&&(this.name=i.name,this.displayName=i.displayName||i.name,this.displayFormat=i.displayFormat,this.sortingFormat=i.sortingFormat,this.isContinuous=!!i.isContinuous,this.isNumerical=!!i.isNumerical,this.sourceType=void 0!==i.sourceType?i.sourceType:this.sourceType,this.dataLinkId=i.dataLinkId)}Object.defineProperty(e,"__esModule",{value:!0}),e.ChartFieldDefinition=s})},"geocortex/charting/infrastructure/configuration/ChartLegendDefinition":function(){define(["require","exports","./../Enums"],function(i,e,t){"use strict";function s(i){this.title="Legend",this.position=t.ChartLegendPosition.Right,i&&(this.title=i.title,this.position=i.position?t.ChartLegendPosition[i.position]:this.position)}Object.defineProperty(e,"__esModule",{value:!0}),e.ChartLegendDefinition=s})},"geocortex/charting/infrastructure/configuration/ChartSeriesBreakDefinition":function(){define(["require","exports","./../Enums","./ChartFieldDefinition"],function(i,e,t,s){"use strict";function n(i){this.breakType=t.ChartSeriesBreakType.None,this.field=null,i?(this.breakType=void 0!==i.breakType?i.breakType:this.breakType,this.field=new s.ChartFieldDefinition(i.field)):this.field=new s.ChartFieldDefinition}Object.defineProperty(e,"__esModule",{value:!0}),e.ChartSeriesBreakDefinition=n})},"geocortex/charting/infrastructure/configuration/ChartSeriesDefinition":function(){define(["require","exports","./../Enums","./ChartFieldDefinition","./ChartAxisDefinition","./ChartSeriesBreakDefinition","./../Color","geocortex/framework/utils/utils"],function(i,e,t,s,n,o,r,a){"use strict";function h(i){this.id=null,this.displayName=null,this.seriesType=t.ChartSeriesType.Bar,this.field=null,this.axis=null,this.seriesBreak=null,this.title=null,this.valueFormat=null,this.color=r.Color.Red,this.labelType=t.ChartPointLabelType.None,this.markerType=t.ChartPointMarkerType.Circle,this.valueAggregatorName="Sum",i?(this.id=i.id?i.id:a.alphaNumericToken(),this.displayName=i.displayName,this.seriesType=i.seriesType?t.ChartSeriesType[i.seriesType]:this.seriesType,this.labelType=i.labelType?t.ChartPointLabelType[i.labelType]:this.labelType,this.markerType=i.markerType?t.ChartPointMarkerType[i.markerType]:this.markerType,this.title=i.title,this.timeZoneId=i.timeZoneId,this.displayTimeZoneId=i.displayTimeZoneId,this.valueFormat=i.valueFormat,this.valueAggregatorName=i.valueAggregatorName||"Sum",this.color=new r.Color(i.color),this.field=new s.ChartFieldDefinition(i.field),this.axis=new n.ChartAxisDefinition(i.axis),this.seriesBreak=new o.ChartSeriesBreakDefinition(i.seriesBreak)):(this.id=a.alphaNumericToken(),this.field=new s.ChartFieldDefinition,this.axis=new n.ChartAxisDefinition,this.seriesBreak=new o.ChartSeriesBreakDefinition)}Object.defineProperty(e,"__esModule",{value:!0}),e.ChartSeriesDefinition=h})}}});require({cache:{"geocortex/charting/infrastructure/Enums":function(){define(["require","exports"],function(e,r){"use strict";var a,t,o,i,n,u,l,C,m,c,s,h,S,p,d;Object.defineProperty(r,"__esModule",{value:!0}),(a=r.ChartType||(r.ChartType={}))[a.Linear=0]="Linear",a[a.Pie=1]="Pie",(t=r.ChartFeatureType||(r.ChartFeatureType={}))[t.SingleFeature=0]="SingleFeature",t[t.MultiFeature=1]="MultiFeature",(o=r.ChartSeriesType||(r.ChartSeriesType={}))[o.Bar=0]="Bar",o[o.Line=1]="Line",o[o.Spline=2]="Spline",o[o.Area=3]="Area",o[o.SplineArea=4]="SplineArea",o[o.ScatterPoint=5]="ScatterPoint",(i=r.ChartFieldSourceType||(r.ChartFieldSourceType={}))[i.Field=0]="Field",i[i.DataLink=1]="DataLink",(n=r.ChartLegendPosition||(r.ChartLegendPosition={}))[n.None=0]="None",n[n.Top=1]="Top",n[n.Right=2]="Right",n[n.Bottom=3]="Bottom",n[n.Left=4]="Left",(u=r.ChartPointLabelType||(r.ChartPointLabelType={}))[u.None=0]="None",u[u.Smart=1]="Smart",u[u.SmartWithConnectors=2]="SmartWithConnectors",(l=r.ChartAxisLabelMode||(r.ChartAxisLabelMode={}))[l.All=0]="All",l[l.Smart=1]="Smart",(C=r.ChartAreaDragMode||(r.ChartAreaDragMode={}))[C.None=0]="None",C[C.Zoom=1]="Zoom",C[C.Pan=2]="Pan",(m=r.ChartPointMarkerType||(r.ChartPointMarkerType={}))[m.None=0]="None",m[m.Circle=1]="Circle",m[m.Square=2]="Square",m[m.Triangle=3]="Triangle",m[m.Diamond=4]="Diamond",(c=r.ChartSeriesBreakType||(r.ChartSeriesBreakType={}))[c.None=0]="None",c[c.UniqueValue=1]="UniqueValue",(s=r.ChartColorPalette||(r.ChartColorPalette={}))[s.Arctic=0]="Arctic",s[s.Autumn=1]="Autumn",s[s.Cold=2]="Cold",s[s.Flower=3]="Flower",s[s.Forest=4]="Forest",s[s.Grayscale=5]="Grayscale",s[s.Ground=6]="Ground",s[s.Lilac=7]="Lilac",s[s.Natural=8]="Natural",s[s.Office2013=9]="Office2013",s[s.Pastel=10]="Pastel",s[s.Rainbow=11]="Rainbow",s[s.Spring=12]="Spring",s[s.Summer=13]="Summer",s[s.Warm=14]="Warm",s[s.Windows8=15]="Windows8",(S=h=h||{})[S.Sum=0]="Sum",S[S.Count=1]="Count",S[S.Min=2]="Min",S[S.Max=3]="Max",S[S.Average=4]="Average",(p=r.DateTimeFormats||(r.DateTimeFormats={}))[p.Full=0]="Full",p[p.Day=1]="Day",p[p.Month=2]="Month",p[p.Year=3]="Year",p[p.DayOfWeek=4]="DayOfWeek",p[p.Hour=5]="Hour",p[p.Custom=6]="Custom",(d=r.NumericFormats||(r.NumericFormats={}))[d.None=0]="None",d[d.Currency=1]="Currency",d[d.FixedPoint=2]="FixedPoint",d[d.Number=3]="Number",d[d.Percent=4]="Percent",d[d.Custom=5]="Custom"})}}});require({cache:{"geocortex/charting/infrastructure/eventArgs/ChartDataChangedEventArgs":function(){define(["require","exports"],function(e,t){"use strict";function r(e){this.chartViewModel=null,e&&(this.chartViewModel=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ChartDataChangedEventArgs=r})},"geocortex/charting/infrastructure/eventArgs/ChartPointEventArgs":function(){define(["require","exports"],function(e,t){"use strict";function r(e,t){this.chartPoint=null,this.chartViewModel=null,this.chartPoint=e,this.chartViewModel=t}Object.defineProperty(t,"__esModule",{value:!0}),t.ChartPointEventArgs=r})}}});require({cache:{"geocortex/charting/infrastructure/events":function(){define(["require","exports"],function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})})}}});require({cache:{"geocortex/charting/infrastructure/globalization/FormatProviderInterface":function(){define(["require","exports"],function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})})}}});require({cache:{"geocortex/charting/infrastructure/HslColor":function(){define(["require","exports","./Color"],function(t,r,h){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=(s.fromColor=function(t){return s.fromArgb(t.alpha,t.red,t.green,t.blue)},s.fromArgb=function(t,r,o,n){var e=s.fromRgb(r,o,n);return e.a=t,e},s.fromRgb=function(t,r,o){var n=new s;n.a=1;var e=Math.max(o,Math.max(t,r)),i=Math.min(o,Math.min(t,r));return e==i?n.h=0:e==t&&o<=r?n.h=(r-o)/(e-i)*60:e==t&&r<o?n.h=(r-o)/(e-i)*60+360:e==r?n.h=(o-t)/(e-i)*60+120:e==o&&(n.h=(t-r)/(e-i)*60+240),n.l=.5*(e+i),e==i?n.s=0:n.l<=.5?n.s=(e-i)/(2*n.l):.5<n.l&&(n.s=(e-i)/(2*(1-n.l))),n},s.prototype.toColor=function(){var t=0;t=this.l<.5?this.l*(1+this.s):this.l+this.s-this.l*this.s;var r=2*this.l-t,o=this.h/360,n=this._getComponent(this._norm(o+1/3),r,t),e=this._getComponent(this._norm(o),r,t),i=this._getComponent(this._norm(o-1/3),r,t);return h.Color.fromRgba({a:this.a,r:n,g:e,b:i})},s.prototype._norm=function(t){return t<0&&(t+=1),1<t&&(t-=1),t},s.prototype._getComponent=function(t,r,o){return t<1/6?r+6*(o-r)*t:t<.5?o:t<2/3?r+6*(o-r)*(2/3-t):r},s);function s(){this.a=0,this.h=0,this.s=0,this.l=0}r.HslColor=o})}}});require({cache:{"geocortex/charting/infrastructure/JsonSerializable":function(){define(["require","exports"],function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})})}}});require({cache:{"geocortex/charting/infrastructure/SeriesViewModelInterface":function(){define(["require","exports"],function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})})}}});require({cache:{"geocortex/charting/infrastructure/ValueAggregatorRegistry":function(){define(["require","exports","./aggregation/SumValueAggregator","./aggregation/CountValueAggregator","./aggregation/AverageValueAggregator","./aggregation/MinValueAggregator","./aggregation/MaxValueAggregator"],function(g,r,o,u,i,s,l){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var e=(a._builtinAggregators=function(){var g=new o.SumValueAggregator,r=new u.CountValueAggregator,e=new i.AverageValueAggregator,a=new s.MinValueAggregator,t=new l.MaxValueAggregator,n={};return n[g.name]=g,n[r.name]=r,n[e.name]=e,n[a.name]=a,n[t.name]=t,n},a.registerAggregator=function(g){if(!g||!g.name)throw new Error("The value aggregator's name cannot be null.");a._aggregators[g.name]=g},a.getAggregatorByName=function(g){return g&&this._aggregators.hasOwnProperty(g)?a._aggregators[g]:null},a.getAggregators=function(){var g=[];for(var r in a._aggregators)if(a._aggregators.hasOwnProperty(r)){var e=a._aggregators[r];g.push(e)}return g},a.clear=function(){a._aggregators=a._builtinAggregators()},a._aggregators=a._builtinAggregators(),a);function a(){}r.ValueAggregatorRegistry=e})}}});require({cache:{"geocortex/charting/infrastructure/ValueAxisRange":function(){define(["require","exports"],function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})})}}});require({cache:{"geocortex/charting/infrastructure/ValueAxisUtils":function(){define(["require","exports","./ChartUtils","./ChartPointUtils"],function(t,i,c,U){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=(f.getRange=function(i,t,r){void 0===r&&(r=!0);var e,a,n={min:0,max:1},l=i.axis.minimum,u=i.axis.maximum;if(c.ChartUtils.isDefined(l)&&c.ChartUtils.isDefined(u))n.min=l,n.max=u;else{if(t&&t.items&&0<t.items.length){var s=t.items.filter(function(t){return t.seriesDefinition.id===i.id}),o=U.ChartPointUtils.getBounds(s,function(t){return c.ChartUtils.numericValue(t.value)});e=o.item1,a=o.item2;var h=f.calculateMajorUnit({min:e,max:a});!1!==r&&(e<0&&c.ChartUtils.remainderClose(e,h,1/3)&&(e-=h),0<a&&c.ChartUtils.remainderClose(a,h,1/3)&&(a+=h)),e=c.ChartUtils.floor(e,h),a=c.ChartUtils.ceil(a,h)}else e=a=0;n.min=c.ChartUtils.valueOrDefault(l,e),n.max=c.ChartUtils.valueOrDefault(u,a)}return n},f.calculateMajorUnit=function(t){if(!c.ChartUtils.isDefined(t))throw new Error("Required parameter range cannot be null");var i=c.ChartUtils.round(t.max-t.min,c.ChartUtils.DEFAULT_PRECISION-1);if(0===i){if(0===t.max)return.1;i=Math.abs(t.max)}var r=Math.pow(10,Math.floor(Math.log(i)/Math.log(10))),e=c.ChartUtils.round(i/r,c.ChartUtils.DEFAULT_PRECISION),a=1;return a=e<1.904762?.2:e<4.761904?.5:e<9.523809?1:2,c.ChartUtils.round(r*a,c.ChartUtils.DEFAULT_PRECISION)},f.calculateMinorUnit=function(t){return"number"==typeof t?t/5:f.calculateMajorUnit(t)/5},f.calculateVisibleTickCount=function(t,i){if(!c.ChartUtils.isDefined(t))throw new Error("Required parameter range cannot be null");i=c.ChartUtils.valueOrDefault(i,f.calculateMajorUnit(t));var r=t.max-t.min;return Math.floor(c.ChartUtils.round(r/i,c.ChartUtils.COORD_PRECISION))+1},f);function f(){}i.ValueAxisUtils=r})}}});