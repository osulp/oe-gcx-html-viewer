!function(){function e(e,t,i){if("string"==typeof e&&(i=t,t=e),void 0!==i)for(var a=t.split("."),l=null,s=window,n=0,r=a.length;n<r;n++)l=a[n],n==r-1?s[l]=i:s[l]||(s[l]={}),s=s[l];else console.warn("Undefined shim for: "+t)}var t="<div class='timeslider-settings'>        <span class='info-message' data-binding='{@visible: sliderSettingsInfoMessage}{@text: sliderSettingsInfoMessage}{title: sliderSettingsInfoMessage}'></span>    <div class='form-item'>        <label class='form-label'>            <span data-binding='{@text: @language-timeslider-settings-timeslider-profiles}'></span>            <select data-binding='{@source: timeSliders}{@value: selectedSliderId}{title: @language-timeslider-profile-select-title}'>                <option data-binding='{@template-for: timeSliders}{value: id}{@text: displayName}' />            </select>        </label>    </div>    <div class='form-item'>        <label class='form-label'>            <span data-binding='{@text: @language-timeslider-settings-timeslider-mode}'></span>            <select data-binding='{@source: sliderModes}{@value: selectedSliderMode}{title: @language-timeslider-mode-select-title}'>                <option data-binding='{@template-for: sliderModes}{value: mode}{@text: displayName}' />            </select>        </label>    </div>    <div class='form-item'>        <label class='form-label'>            <span data-binding='{@text: @language-timeslider-settings-time-interval}{title: @language-timeslider-time-interval-title}'></span>            <input type='number' min='1' data-binding='{@value: timeInterval}' />        </label>\t\t<span class='time-settings-error-message' data-binding='{@visible: sliderSettingsTimeIntervalError}{@text: sliderSettingsTimeIntervalError}'></span>    </div>    <div class='form-item'>        <label class='form-label'>            <span data-binding='{@text: @language-timeslider-settings-time-interval-unit}'></span>            <select data-binding='{@source: timeIntervalUnits}{@value: selectedTimeIntervalUnit}{title: @language-timeslider-time-interval-unit-title}'>                <option data-binding='{@template-for: timeIntervalUnits}{value: timeIntervalUnit}{@text: displayName}' />            </select>        </label>    </div>    <div class='form-item'>        <label class='form-label'>            <span data-binding='{@text: @language-timeslider-settings-playback-delay}{title: @language-timeslider-playback-delay-title}'></span>            <input type='number' min='1' data-binding='{@value: playbackDelaySeconds}' />        </label>\t\t<span class='time-settings-error-message' data-binding='{@visible: sliderSettingsPlaybackDelayError}{@text: sliderSettingsPlaybackDelayError}'></span>    </div>    <div class='form-item'>        <label class='form-label'>            <input class='checkbox' type='checkbox' data-binding='{@value: loopPlayback}' />            <span class='checkbox-label' data-binding='{@text: @language-timeslider-loop-playback-checkbox}'></span>        </label>    </div></div>",i="<div class='timeslider-container'>    <div class='current-profile-title' data-binding='{@visible: currentProfile}{@text: currentProfile}{title: currentProfile}'></div>    <div class='main-row'>        <div class='slider-widget' data-binding='{@widget: TimeSliderElement}{@widget-context: sliderViewModel}{@widget-required: false}{@widget-replace: true}' tabindex='0'></div>        <div class='slider-actions-toggle item-actions'>            <button data-binding='{@noclass-chevron-down-24: showActionsContainer}{@class-chevron-up-24: showActionsContainer}{title: @language-timeslider-show-actions-tooltip}{@event-click: handleToggleActionsContainer}'></button>        </div>    </div>    <div class='actions-container' data-binding='{@visible: showActionsContainer}'>        <div class='info-message' data-binding='{@visible: infoMessage}{@text: infoMessage}{title: infoMessage}'></div>        <div class='slider-date-pickers'>            <div class='slider-start-date-picker' data-binding='{@widget: DatePickerFormItem}{@widget-context: startDateViewModel}{title: @language-timeslider-start-time-select-tooltip}'></div>            <div class='slider-start-to-end-date-label' data-binding='{@text: @language-timeslider-start-to-end-date-label}'></div>            <div class='slider-end-date-picker' data-binding='{@widget: DatePickerFormItem}{@widget-context: endDateViewModel}{title: @language-timeslider-end-time-select-tooltip}'></div>        </div>        <div class='gcx-error-message' data-binding='{@visible: datePickerErrorMessage}'>            <span data-binding='{@text: datePickerErrorMessage}{title: datePickerErrorMessage}'></span>        </div>        <ul class='slider-actions'>            <li class='list-menu-item'>                <button class='slider-actions-button' data-binding='{@class-stop-timeline-24: isPlayingBack}{@noclass-play-timeline-24: isPlayingBack}{title: @language-timeslider-play-timeline-tooltip}{@event-click: handlePlayTimelineClick}'>                        <img src='Resources/Images/Icons/playback-play-24.png' data-binding='{@hidden: isPlayingBack}{alt: @language-timeslider-playback-play}' />                        <img src='Resources/Images/Icons/playback-stop-24.png' data-binding='{@visible: isPlayingBack}{alt: @language-timeslider-playback-stop}' />                        <span class='action-label' data-binding='{@hidden: isPlayingBack}{@text: @language-timeslider-play-timeline-button-label}'></span>                        <span class='action-label' data-binding='{@visible: isPlayingBack}{@text: @language-timeslider-stop-timeline-button-label}'></span>                </button>            </li>            <li class='list-menu-item'>                <button class='slider-actions-button' data-binding='{title: @language-timeslider-step-back-tooltip}{@event-click: handleStepBackClick}'>                        <img src='Resources/Images/Icons/playback-previous-24.png' data-binding='{alt: @language-timeslider-playback-previous}'/>                        <span class='action-label' data-binding='{@text: @language-timeslider-step-back-button-label}'></span>                </button>            </li>            <li class='list-menu-item'>                <button class='slider-actions-button' data-binding='{title: @language-timeslider-step-forward-tooltip}{@event-click: handleStepForwardClick}'>                        <img src='Resources/Images/Icons/playback-next-24.png' data-binding='{alt: @language-timeslider-playback-next}'/>                        <span class='action-label' data-binding='{@text: @language-timeslider-step-forward-button-label}'></span>                </button>            </li>            <li class='list-menu-item'>                <button class='slider-actions-button' data-binding='{title: @language-timeslider-more-settings-tooltip}{@event-click: handleMoreActionsClick}'>                        <img src='Resources/Images/Icons/Toolbar/more-24.png' data-binding='{alt: @language-timeslider-playback-more}' />                        <span class='action-label' data-binding='{@text: @language-timeslider-more-settings-button-label}'></span>                </button>            </li>            <li class='list-menu-item'>                <button class='slider-actions-button' data-binding='{title: @language-timeslider-close-timeline-tooltip}{@event-click: handleCloseClick}'>                        <img src='Resources/Images/Icons/close-24.png' data-binding='{alt: @language-timeslider-playback-close}'/>                        <span class='action-label' data-binding='{@text: @language-timeslider-close-timeline-button-label}'></span>                </button>            </li>        </ul>    </div></div>";require({cache:{"Mapping/modules/TimeSlider/TimeSliderModule":function(){var e=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function a(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}();define(["require","exports","geocortex/framework/application/ModuleBase"],function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return e(i,t),i.prototype.getStateFilter=function(){return{isActive:!0,showActionsContainer:!0,selectedSliderId:!0,sliderMode:!0,timeIntervalOverride:!0,timeIntervalUnitOverride:!0,sliderCurrentStartDate:!0,sliderCurrentEndDate:!0,timeSliderViewActive:!0,playbackDelaySeconds:!0,loopPlayback:!0,timeSliderSettingsViewActive:!0}},i.prototype.exportState=function(){var e=this,t={isActive:!1,showActionsContainer:!1,selectedSliderId:null,sliderMode:null,timeIntervalOverride:0,timeIntervalUnitOverride:null,sliderCurrentStartDate:0,sliderCurrentEndDate:0,playbackDelaySeconds:0,loopPlayback:!1,timeSliderViewActive:!1,timeSliderSettingsViewActive:!1};return Promise.try(function(){return e.app.command("_ExportTimeSliderState").execute(t),t})},i.prototype.applyState=function(e){var t=this,i={state:e,completePromise:null};return this.app.waitUntilAllLibrariesLoaded().then(function(){return t.app.command("_ApplyTimeSliderState").execute(i),i.completePromise})},i}(a.ModuleBase);i.TimeSliderModule=l})},"Mapping/modules/TimeSlider/TimeSliderSettingsView":function(){var e=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function a(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}();define(["require","exports","geocortex/framework/ui/ViewBase"],function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=function(t){function i(e,i){var a=t.call(this,e,i)||this;return a.registerCommands(),a}return e(i,t),i.prototype.registerCommands=function(){var e=this;this.app.command("ShowTimeSliderSettings").register(this,function(){return e.app.command("ActivateView").execute(e.id)}),this.app.command("HideTimeSliderSettings").register(this,function(){return e.isActive&&e.app.command("DeactivateView").execute(e.id)}),this.app.command("_ExportTimeSliderState").register(this,this._exportState)},i.prototype._exportState=function(e){e.timeSliderSettingsViewActive=this.isActive},i}(a.ViewBase);i.TimeSliderSettingsView=l})},"Mapping/modules/TimeSlider/TimeSliderState":function(){define(["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})})},"Mapping/modules/TimeSlider/TimeSliderView":function(){var e=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function a(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}();define(["require","exports","geocortex/framework/ui/ViewBase","geocortex/essentials/TimeSliderMode"],function(t,i,a,l){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=function(t){function i(e,i){var a=t.call(this,e,i)||this;return a._sliderView=null,a._appResizeToken=null,a._viewModelEnabledToken=null,a.registerCommands(),a}return e(i,t),i.prototype.registerCommands=function(){var e=this;this.app.command("ToggleTimeSliderActions").register(this,function(){return e.viewModel&&e.viewModel.showActionsContainer.set(!e.viewModel.showActionsContainer.get())}),this.app.command("HideTimeSlider").register(this,function(){return e.app.command("DeactivateView").execute(e.id)}),this.app.command("_ExportTimeSliderState").register(this,this._exportState)},i.prototype.subscribeEvents=function(){this._appResizeToken||(this._appResizeToken=this.app.event("ApplicationResizedEvent").subscribe(this,this._handleApplicationResizedEvent))},i.prototype.attach=function(e){e&&(e.selectedSliderMode.bind(this,this._handleSliderModeChanged),this._viewModelEnabledToken=e.isEnabled.bind(this,this._onViewModelEnabled),this._onViewModelEnabled(this.viewModel.isEnabled.get()),t.prototype.attach.call(this,e))},i.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this._appResizeToken&&(this.app.event("ApplicationResizedEvent").unsubscribe(this._appResizeToken),this._appResizeToken=null)},i.prototype.resolveWidget=function(e,t,i){if(t)switch(e){case"TimeSliderElement":var a=this.app.viewManager.createView({markupResource:"Mapping/infrastructure/ui/components/Slider/SliderView.html",libraryId:"Mapping.Infrastructure",typeName:"geocortex.essentialsHtmlViewer.mapping.infrastructure.ui.components.Slider.SliderViewBase",isVisible:!0});return a&&a.attach(t),this._sliderView=a,a;default:return}},i.prototype.handleToggleActionsContainer=function(e,t,i){this.viewModel.isEnabled.get()&&(this._handleSliderModeChanged(this.viewModel.selectedSliderMode.get()),this.app.command("ToggleTimeSliderActions").execute())},i.prototype.handlePlayTimelineClick=function(e,t,i){this.viewModel.isEnabled.get()&&(this.viewModel.isPlayingBack.get()?this.viewModel.stopPlayTimeline():this.viewModel.playTimeline())},i.prototype.handleStepBackClick=function(e,t,i){this.viewModel.isEnabled.get()&&(this.viewModel.stepBack(),this._refreshSliderLabelPositions())},i.prototype.handleStepForwardClick=function(e,t,i){this.viewModel.isEnabled.get()&&(this.viewModel.stepForward(),this._refreshSliderLabelPositions())},i.prototype.handleMoreActionsClick=function(e,t,i){this.viewModel.isEnabled.get()&&this.app.behavior("TimeSliderMoreSettingsActionInvokedBehavior").run()},i.prototype.handleCloseClick=function(e,t,i){this.viewModel.stopPlayTimeline(),this.app.behavior("TimeSliderCloseTimelineActionInvokedBehavior").run()},i.prototype._onViewModelEnabled=function(e){e&&(this._viewModelEnabledToken&&(this.viewModel.isEnabled.unbind(this._viewModelEnabledToken),this._viewModelEnabledToken=null),this.viewModel.isActive.bind(this,this._onTimeSliderActivated),this.subscribeEvents(),this._onTimeSliderActivated(this.viewModel.isActive.get()))},i.prototype._onTimeSliderActivated=function(e){e?(this.app.viewManager.activateView(this),this._refreshSliderLabelPositions()):(this.viewModel.stopPlayTimeline(),this.app.behavior("TimeSliderCloseTimelineActionInvokedBehavior").run(),this.app.viewManager.deactivateView(this))},i.prototype._handleApplicationResizedEvent=function(){this.viewModel.isEnabled.get()&&(this._refreshSliderLabelPositions(),this.isActive&&($(".slider-start-date-picker .hasDatepicker.gcxDatepicker",this.root).datepicker("hide"),$(".slider-end-date-picker .hasDatepicker.gcxDatepicker",this.root).datepicker("hide")))},i.prototype._refreshSliderLabelPositions=function(){this._sliderView&&this._sliderView.refreshLabelPositions()},i.prototype._handleSliderModeChanged=function(e){var t=this;if("string"!=typeof e){var i=function(e){e?$(".slider-start-date-picker",t.root).addClass("disable-date-picker"):$(".slider-start-date-picker",t.root).removeClass("disable-date-picker"),$(".slider-start-date-picker :input",t.root).prop("disabled",e),$(".slider-start-date-picker .hasDatepicker.gcxDatepicker",t.root).prop("disabled",e),$(".slider-start-date-picker .ui-datepicker-trigger",t.root).prop("disabled",e)},a=function(e){e?$(".slider-end-date-picker",t.root).addClass("disable-date-picker"):$(".slider-end-date-picker",t.root).removeClass("disable-date-picker"),$(".slider-end-date-picker :input",t.root).prop("disabled",e),$(".slider-end-date-picker .hasDatepicker.gcxDatepicker",t.root).prop("disabled",e),$(".slider-end-date-picker .ui-datepicker-trigger",t.root).prop("disabled",e)};e===l.TimeSliderMode.Instant?(i(!1),a(!0)):e===l.TimeSliderMode.Cumulative?(i(!0),a(!1)):(i(!1),a(!1))}},i.prototype._exportState=function(e){e.timeSliderViewActive=this.isActive},i}(a.ViewBase);i.TimeSliderView=s})},"Mapping/modules/TimeSlider/TimeSliderViewModel":function(){var e=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function a(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}();define(["require","exports","geocortex/framework/ui/ViewModelBase","geocortex/framework/observables","geocortex/infrastructure/ui/components/Slider/SliderViewModelBase","geocortex/forms/items/DatePickerFormItem","geocortex/infrastructure/DateFormat","geocortex/essentials/TimeSliderMode","geocortex/essentials/TimeUnits","geocortex/forms/items/TimePickerFormItem","geocortex/infrastructure/TimeSliderUtils","geocortex/infrastructure/FormatUtils","geocortex/infrastructure/TimeZoneUtils"],function(t,i,a,l,s,n,r,d,o,c,g,m,p){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var u=function(t){function i(e,i){var a=t.call(this,e,i)||this;return a.isEnabled=new l.Observable(!1),a.isActive=new l.Observable(!1),a.showActionsContainer=new l.Observable(!1),a.timeSliders=new l.ObservableCollection([]),a.selectedSliderId=new l.Observable(""),a.selectedTimeSlider=new l.Observable(null),a.sliderViewModel=new l.Observable(null),a.startDateViewModel=new l.Observable(null),a.endDateViewModel=new l.Observable(null),a.currentProfile=new l.Observable(""),a.infoMessage=new l.Observable(""),a.datePickerErrorMessage=new l.Observable(""),a.sliderSettingsInfoMessage=new l.Observable(""),a.sliderSettingsTimeIntervalError=new l.Observable(""),a.sliderSettingsPlaybackDelayError=new l.Observable(""),a.displayFormat=new l.Observable(r.DateFormat.DEFAULT),a.sliderModes=new l.ObservableCollection([]),a.selectedSliderMode=new l.Observable(null),a.timeInterval=new l.Observable(1),a.timeIntervalUnits=new l.ObservableCollection([]),a.selectedTimeIntervalUnit=new l.Observable(null),a.loopPlayback=new l.Observable(!0),a.playbackDelaySeconds=new l.Observable(1),a.isPlayingBack=new l.Observable(!1),a.labelGenerator=null,a._animateSlider=!0,a._invalidDateString="Invalid Date",a._sliderViewModelOnHandle=null,a._enabledInConfig=!0,a._playbackDelaySeconds=1,a._activateSliderOnStartup=!0,a._mapTimeExtentSetTimeoutToken=null,a._mapTimeExtentSetDelayMs=300,a._maxSignificantTimeExtentDisplayUnits=3,a._playTimelineTimeoutToken=null,a._noOfflineSupportStatusMsgSecs=10,a._notificationDisplayId="TimeSliderNotificationView",a.labelGenerator=a._defaultSliderLabelGenerator,a.startDateViewModel.set(new n.DatePickerFormItem(null,null)),a.endDateViewModel.set(new n.DatePickerFormItem(null,null)),a.sliderViewModel.set(new s.SliderViewModelBase(a.app,a.libraryId)),a._populateAvailableSliderModes(),a._populateAvailableTimeIntervalUnits(),a.registerCommands(),a}return e(i,t),i.prototype.initialize=function(e){var t=this;e&&(this._enabledInConfig=void 0===e.enabled||null===e.enabled||!!e.enabled,this._animateSlider=void 0===e.animateSlider||null===e.animateSlider||!!e.animateSlider,this._activateSliderOnStartup=void 0===e.activateOnStartup||null===e.activateOnStartup||!!e.activateOnStartup,this._maxSignificantTimeExtentDisplayUnits=void 0!==e.maxTimeExtentDisplayUnits&&null!==e.maxTimeExtentDisplayUnits?parseInt(e.maxTimeExtentDisplayUnits)||3:3,this._noOfflineSupportStatusMsgSecs=void 0!==e.noOfflineSupportStatusMsgTimeoutSecs&&null!==e.noOfflineSupportStatusMsgTimeoutSecs?parseInt(e.noOfflineSupportStatusMsgTimeoutSecs)||10:10),this.app.waitUntilSiteInitialized().then(function(){if(t._populateTimeSliderProfiles()){var i=t.selectedTimeSlider.get()||t.timeSliders.getAt(0);t.selectedTimeSlider.set(i)}t.app.site&&t.app.site.serviceLayersLoaded?t._onSiteServiceLayersLoaded(e):t.app.event("SiteServiceLayersLoadedEvent").once(t,function(){return t._onSiteServiceLayersLoaded(e)})}),this.app.event("ProjectLoadingEvent").subscribe(this,function(){return t.app.command("DeactivateTimeSlider").execute()})},i.prototype.registerCommands=function(){var e=this;this.app.command("ActivateTimeSlider").register(this,this._activateTimeSliderCommandImpl,this._canExecuteActivateTimeSlider),this.app.command("DeactivateTimeSlider").register(this,this._deactivateTimeSliderCommandImpl,this._canExecuteDeactivateTimeSlider),this.app.command("StartTimeSliderPlayback").register(this,this._startTimeSliderPlaybackCommandImpl,this._canExecuteStartTimeSliderPlayback),this.app.command("StopTimeSliderPlayback").register(this,this._stopTimeSliderPlaybackCommandImpl,this._canExecuteStopTimeSliderPlayback),this.app.command("StepTimeSliderForward").register(this,this._stepTimeSliderForwardCommandImpl,this._canExecuteStepTimeSliderForward),this.app.command("StepTimeSliderBack").register(this,this._stepTimeSliderBackCommandImpl,this._canExecuteStepTimeSliderBack),this.app.command("SetTimeSliderProfile").register(this,this._setTimeSliderProfileCommandHandler,this._canExecuteSetTimeSliderProfile),this.isEnabled.bind(this,function(t){e.app.command("StartTimeSliderPlayback").raiseCanExecuteChanged(),e.app.command("StopTimeSliderPlayback").raiseCanExecuteChanged(),e.app.command("StepTimeSliderForward").raiseCanExecuteChanged(),e.app.command("StepTimeSliderBack").raiseCanExecuteChanged(),e.app.command("SetTimeSliderProfile").raiseCanExecuteChanged()}),this.app.command("_ExportTimeSliderState").register(this,this._exportState),this.app.command("_ApplyTimeSliderState").register(this,this._applyState)},i.prototype.handleSliderItemSlide=function(e,t){var i=this;if(this.sliderViewModel.get()||this.app.trace.error("TimeSliderViewModel: Failed to set time extent for the Time Slider. Slider ViewModel undefined."),this.app.map.timeExtent){var a=this.sliderViewModel.get().sliderMinHandleCurrentItem.get(),l=a?a.value:null;if(null===l||isNaN(parseInt(l,10)))this.app.trace.error("TimeSliderViewModel: Failed to set time extent for the Time Slider. Minimum time not defined.");else{var s=this.sliderViewModel.get().sliderMaxHandleCurrentItem.get(),n=s?s.value:null,r=this._applyTimezoneOffset(new Date(l)),d=null===n?null:this._applyTimezoneOffset(new Date(n));0===t?this.startDateViewModel.get()&&(this.startDateViewModel.get().date.set(r),this.startDateViewModel.pulse()):this.sliderViewModel.get().range&&null!==d&&this.endDateViewModel.get()&&(this.endDateViewModel.get().date.set(d),this.endDateViewModel.pulse()),this._updateCurrentlyDisplayedTimeExtent(l,n),this._mapTimeExtentSetTimeoutToken&&clearTimeout(this._mapTimeExtentSetTimeoutToken),this._mapTimeExtentSetTimeoutToken=setTimeout(function(){var e=new esri.TimeExtent(new Date(l),i.sliderViewModel.get().range?new Date(n):new Date(l)),t=i.app.map.timeExtent.startTime.getTime(),a=i.app.map.timeExtent.endTime.getTime(),s=e.startTime.getTime(),r=e.endTime.getTime();t===s&&a===r||(i.app.map.setTimeExtent(e),i._fireTimeSliderFrameChangedEvent())},this._mapTimeExtentSetDelayMs)}}},i.prototype.stepForward=function(){if(!this.sliderViewModel.get())return this.app.trace.error("TimeSliderViewModel: Could not step forward in time. Slider ViewModel not defined."),!1;if(this.sliderViewModel.get().range){if(this.sliderViewModel.get().setNextSliderItem(1)){if(this.selectedSliderMode.get()===d.TimeSliderMode.Extent)return this.sliderViewModel.get().setNextSliderItem(0);if(this.selectedSliderMode.get()===d.TimeSliderMode.Cumulative)return!0}return!1}return this.sliderViewModel.get().setNextSliderItem(0)},i.prototype.stepBack=function(){return this.sliderViewModel.get()?this.sliderViewModel.get().range?this.selectedSliderMode.get()===d.TimeSliderMode.Cumulative?this.sliderViewModel.get().setPreviousSliderItem(1):this.selectedSliderMode.get()===d.TimeSliderMode.Extent&&(!!this.sliderViewModel.get().setPreviousSliderItem(0)&&this.sliderViewModel.get().setPreviousSliderItem(1)):this.sliderViewModel.get().setPreviousSliderItem(0):(this.app.trace.error("TimeSliderViewModel: Could not step back in time. Slider ViewModel not defined."),!1)},i.prototype._fireTimeSliderFrameChangedEvent=function(){this.app.event("TimeSliderFrameChangedEvent").publish(this.selectedTimeSlider.get())},i.prototype.playTimeline=function(){var e=this,t=this.sliderViewModel.get();if(t){if(!this.isPlayingBack.get()){this.isPlayingBack.set(!0),this.app.event("TimeSliderPlayTimelineStartedEvent").publish(this.selectedTimeSlider.get());var i=!0,a=null,l=function(){if(i=e.stepForward(),t.range&&(a=null!==a?a:t.getRawSliderValueForItem(t.sliderMaxHandleCurrentItem.get())-t.getRawSliderValueForItem(t.sliderMinHandleCurrentItem.get())),!i&&e.loopPlayback.get()){var s=t.isNumeric?t.numericSliderMinVal:0,n=t.getSliderItemByRawSliderValue(s);if(t.range){var r=e.selectedSliderMode.get()===d.TimeSliderMode.Cumulative?t.getNextActiveSliderItem(n):t.getSliderItemByRawSliderValue(a+s);e.selectedSliderMode.get()===d.TimeSliderMode.Extent&&t.setSelectedSliderItem(0,n),t.setSelectedSliderItem(1,r)}else t.setSelectedSliderItem(0,n);i=!0}e.isPlayingBack.get()&&i?e._playTimelineTimeoutToken=setTimeout(l,1e3*e._playbackDelaySeconds):e.stopPlayTimeline()};setTimeout(l,1e3*this._playbackDelaySeconds)}}else this.app.trace.error("TimeSliderViewModel: Could not play timeline. Slider ViewModel not defined.")},i.prototype.stopPlayTimeline=function(){null!==this._playTimelineTimeoutToken&&(clearTimeout(this._playTimelineTimeoutToken),this._playTimelineTimeoutToken=null),this.isPlayingBack.set(!1),this.app.event("TimeSliderPlayTimelineStoppedEvent").publish(this.selectedTimeSlider.get())},i.prototype._activateTimeSliderCommandImpl=function(){this._activateTimeSlider()},i.prototype._canExecuteActivateTimeSlider=function(){return this.isEnabled.get()&&!this.app.isOffline.get()},i.prototype._deactivateTimeSliderCommandImpl=function(){this._deactivateTimeSlider()},i.prototype._canExecuteDeactivateTimeSlider=function(){return!0},i.prototype._startTimeSliderPlaybackCommandImpl=function(){this.playTimeline()},i.prototype._canExecuteStartTimeSliderPlayback=function(){return this.isEnabled.get()},i.prototype._stopTimeSliderPlaybackCommandImpl=function(){this.stopPlayTimeline()},i.prototype._canExecuteStopTimeSliderPlayback=function(){return this.isEnabled.get()},i.prototype._stepTimeSliderForwardCommandImpl=function(){this.stepForward()},i.prototype._canExecuteStepTimeSliderForward=function(){return this.isEnabled.get()},i.prototype._stepTimeSliderBackCommandImpl=function(){this.stepBack()},i.prototype._canExecuteStepTimeSliderBack=function(){return this.isEnabled.get()},i.prototype._canExecuteSetTimeSliderProfile=function(e){return this.isEnabled.get()},i.prototype._onSiteServiceLayersLoaded=function(e){var t=this;this.isEnabled.set(this._enabledInConfig&&this.timeSliders.getLength()>0),this.isEnabled.get()&&this.app.map&&(this._setupBindings(),this._initializeDatePickerViewModels(),this.app.map.on("time-extent-change",function(e){return t._handleMapTimeExtentChanged(e.timeExtent)}),this._activateSliderOnStartup&&this.app.waitUntilShellStabilized().then(function(){t._activateTimeSlider()}))},i.prototype._activateTimeSlider=function(){if(this.isEnabled.get()&&!this.app.isOffline.get()){var e=this.selectedTimeSlider.get()||this.timeSliders.getAt(0);this.selectedTimeSlider.set(e),this.isActive.set(!0)}else this.isActive.set(!1)},i.prototype._deactivateTimeSlider=function(){var e=this;if(this.isActive.get()){if(this.app.map&&this.app.map.timeExtent)if(!this.app.isOffline.get()||this.app.isOffline.get()&&!this.app.map.updating)this.app.map.setTimeExtent(null);else var t=this.app.map.on("update-end",function(){t.remove(),e.app.map.setTimeExtent(null)});this.isActive.set(!1)}else this.isActive.pulse()},i.prototype._setupBindings=function(){var e=this;this.selectedTimeSlider.bind(this,this._setTimeSliderProfileImpl),this.selectedSliderId.bind(this,this.handleSliderIdChange),this.displayFormat.bind(this,function(t){return e.startDateViewModel.get().dateFormat.set(t)}),this.displayFormat.bind(this,function(t){return e.endDateViewModel.get().dateFormat.set(t)}),this.startDateViewModel.get().date.bind(this,this._handleDatePickerStartDateChanged),this.endDateViewModel.get().date.bind(this,this._handleDatePickerEndDateChanged),this.selectedSliderMode.bind(this,this._handleSliderModeChanged),this.selectedTimeIntervalUnit.bind(this,this._handleTimeIntervalUnitChanged),this.timeInterval.bind(this,this._handleTimeIntervalChanged),this.playbackDelaySeconds.bind(this,this._handlePlaybackDelayChanged),this.app.isOffline.bind(this,this._handleIsOffline)},i.prototype._initializeDatePickerViewModels=function(){this._setupDatePickerViewModel(this.startDateViewModel.get()),this._setupDatePickerViewModel(this.endDateViewModel.get()),this.startDateViewModel.pulse(),this.endDateViewModel.pulse()},i.prototype._setupDatePickerViewModel=function(e){e.timePickerItem=new c.TimePickerFormItem(null,null),e.timePickerItem.jQueryPickerTimeAsInfoMsg.set(!0),e.includeTimePicker.set(!0),e.isRequired.set(!1),e.nullable.set(!1)},i.prototype._configureSliderViewModel=function(e,t,i,a){var l,s,n,r,o=this,c=null!==t&&void 0!==t?t:e.mode||this.selectedSliderMode.get(),m=e.timeExtent,p=e.initialTimeExtent;if(m&&m.startTime&&((u=m.startTime)instanceof Date||(u=new Date(u)),l=u.getTime()),m&&m.endTime&&((h=m.endTime)instanceof Date||(h=new Date(h)),s=h.getTime()),p&&p.startTime){var u=p.startTime;u instanceof Date||(u=new Date(u)),n=u.getTime()}if(p&&p.endTime){var h=p.endTime;h instanceof Date||(h=new Date(h)),r=h.getTime()}if(c===d.TimeSliderMode.Cumulative&&n!==l&&(n=l),c===d.TimeSliderMode.Instant&&r!==n&&(r=n),!this._validateSliderTimes(l,s,n,r))return!1;var I=null!==i&&void 0!==i?i:e.timeInterval||this.timeInterval.get(),b=a||(e.timeIntervalUnit||this.selectedTimeIntervalUnit.get());this._sliderViewModelOnHandle&&this._sliderViewModelOnHandle.remove();var C={};C.range=c!==d.TimeSliderMode.Instant,C.animate=this._animateSlider,C.disableSnappingForNumericValues=!e.snapToTimeIntervals,C.lockMinSliderHandleAtMinVal=c===d.TimeSliderMode.Cumulative,C.sliderMinHandleAriaLabel=this.getResource("language-timeslider-range-mode-min-handle-aria-label"),C.sliderMaxHandleAriaLabel=this.getResource("language-timeslider-range-mode-max-handle-aria-label"),C.sliderSingleHandleAriaLabel=this.getResource("language-timeslider-instant-mode-single-handle-aria-label");var S=g.computeTimeIntervalInMs(I,b);(S=isNaN(S)?1:S)>=s-l?this.sliderSettingsInfoMessage.set(this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-exceeds-time-extent")):this.sliderSettingsInfoMessage.set("");var v=this.sliderViewModel.get();return this._sliderViewModelOnHandle=dojo.aspect.after(v,"sliderHandleSlide",function(e,t){return o.handleSliderItemSlide(e,t)},!0),v.initialize(C),v.setupDateSlider(l,s,I,b,function(e,t){return o.labelGenerator(e,t)},null,[n,r]),!0},i.prototype._populateTimeSliderProfiles=function(){var e=this;if(!this.app.site.hasTimeSliders||!this.app.site.timeSliders||!this.app.site.timeSliders.length)return!1;var t=this.app.site.timeSliders.filter(function(t){return e._validateProfile(t)});return 0!==t.length&&(this.timeSliders.set(t),!0)},i.prototype._setTimeSliderProfileCommandHandler=function(e){var t={profile:this.selectedTimeSlider.get(),isPlayingBack:this.isPlayingBack.get()};this.app.event("TimeSliderProfileChangingEvent").publish(t),this._setTimeSliderProfileImpl(e)},i.prototype._setTimeSliderProfileImpl=function(e){if(this.stopPlayTimeline(),this.selectedTimeSlider.get()&&void 0===e.id)$.extend(this.selectedTimeSlider.get(),e),e=this.selectedTimeSlider.get();else if(this.selectedTimeSlider.get()!==e){var t=$.extend({},e);return void this.selectedTimeSlider.set(t)}var i=e.mode;if(void 0===i||this.selectedSliderMode.get()===i){var a=e.timeInterval;if(void 0===a||this.timeInterval.get()===a){var l=e.timeIntervalUnit;if(void 0===l||this.selectedTimeIntervalUnit.get()===l)if(void 0!==e.id&&this.selectedSliderId.get()!==e.id&&this.selectedSliderId.set(e.id),this.displayFormat.set(e.displayFormat),this._configureSliderViewModel(e,this.selectedSliderMode.get(),this.timeInterval.get(),this.selectedTimeIntervalUnit.get())){this.currentProfile.set(e.displayName);var s=jQuery.extend({},e);this.app.event("TimeSliderProfileChangedEvent").publish(s)}else this.app.trace.error("TimeSliderViewModel: Could not set slider profile with name: {0}.".format(e.displayName));else this.selectedTimeIntervalUnit.set(l)}else this.timeInterval.set(a)}else this.selectedSliderMode.set(i)},i.prototype._updateCurrentlyDisplayedTimeExtent=function(e,t){this.infoMessage.set(""),null===e||void 0===e||null===t||void 0===t||isNaN(e)||isNaN(t)||this.infoMessage.set(this._formatMilliSecondsAsString(e,t,this._maxSignificantTimeExtentDisplayUnits))},i.prototype._defaultSliderLabelGenerator=function(e,t){var i=new Date(e);if(isNaN(e)||isNaN(i.getTime()))return this._invalidDateString;var a={timeZoneId:"",displayTimeZoneId:this.app.site.displayTimeZoneId};return m.formatDate(i,this.displayFormat.get(),a)},i.prototype._applyTimezoneOffset=function(e,t){void 0===t&&(t=!1);var i=p.UTC_ZONE_ID,a=this.app.site.displayTimeZoneId;return t?p.correctDatesToSubmitInDatabaseTime(e,i,a):p.correctDatesForDisplayInDisplayTimeZone(e,i,a)},i.prototype._validateSliderTimes=function(e,t,i,a){if(isNaN(parseInt(e,10))||isNaN(parseInt(t,10))||isNaN(parseInt(i,10))||isNaN(parseInt(a,10)))return!1;var l=!0;return l=l&&e<=t,l=l&&i<=a,l=l&&i>=e&&i<=t&&a>=e&&a<=t},i.prototype._validateTimeSliderAdditionalSettings=function(){var e=parseFloat(+this.timeInterval.get()),t=parseFloat(+this.playbackDelaySeconds.get()),i=isNaN(e)||e%1!=0||e<1,a=isNaN(t)||t%1!=0||t<1;this.sliderSettingsTimeIntervalError.set(i?this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-error"):""),this.sliderSettingsPlaybackDelayError.set(a?this.app.getResource(this.libraryId,"language-timeslider-settings-playback-delay-error"):"");var l=!i&&!a;return this.sliderSettingsInfoMessage.set(l?"":this.app.getResource(this.libraryId,"language-timeslider-settings-contains-errors")),l},i.prototype.handleSliderIdChange=function(e){if(!this.selectedTimeSlider.get()||this.selectedTimeSlider.get().id!==e){var t=this.timeSliders.get().filter(function(t){return t.id===e})[0];t&&this.selectedTimeSlider.set(t)}},i.prototype._handleDatePickerStartDateChanged=function(e){this._handleDatePickerDateChanged(!0,e)},i.prototype._handleDatePickerEndDateChanged=function(e){this._handleDatePickerDateChanged(!1,e)},i.prototype._handleDatePickerDateChanged=function(e,t){var i=this._applyTimezoneOffset(t,!0).getTime(),a=this.sliderViewModel.get();if(a){this.datePickerErrorMessage.set("");var l=a.sliderMinHandleCurrentItem.get()&&a.sliderMinHandleCurrentItem.get().value,s=a.sliderMaxHandleCurrentItem.get()&&a.sliderMaxHandleCurrentItem.get().value;this.selectedSliderMode.get()===d.TimeSliderMode.Instant?s=a.numericSliderMaxVal:this.selectedSliderMode.get()===d.TimeSliderMode.Cumulative&&(l=a.numericSliderMinVal);var n=e?l:s;if(null===n||void 0===n||n!==i){var r=a.numericSliderMinVal,o=a.numericSliderMaxVal;this._validateSliderTimes(r,o,e?i:l,e?s:i)?a.setSelectedSliderItem(e?0:1,a.getSliderItemByItemValue(i)):this.datePickerErrorMessage.set(this.app.getResource(this.libraryId,"language-timeslider-datepicker-range-error"))}}else this.app.trace.error("TimeSliderViewModel: Could not handle datepicker date change. Slider view model not defined.")},i.prototype._handleSliderModeChanged=function(e){null!==e&&(this.stopPlayTimeline(),"string"!=typeof e?this.selectedTimeSlider.get()&&null!==e&&void 0!==e&&(this.selectedTimeSlider.get().mode=e,this._setTimeSliderProfileImpl(this.selectedTimeSlider.get())):this.selectedSliderMode.set(parseInt(e,10)))},i.prototype._handlePlaybackDelayChanged=function(e){null!==e&&this._validateTimeSliderAdditionalSettings()&&(this._playbackDelaySeconds=e)},i.prototype._handleTimeIntervalChanged=function(e){null!==e&&this._validateTimeSliderAdditionalSettings()&&(this.stopPlayTimeline(),"string"!=typeof e?this.selectedTimeSlider.get()&&null!==e&&void 0!==e&&(this.selectedTimeSlider.get().timeInterval=e,this._setTimeSliderProfileImpl(this.selectedTimeSlider.get())):this.timeInterval.set(parseInt(e,10)))},i.prototype._handleTimeIntervalUnitChanged=function(e){null!==e&&(this.stopPlayTimeline(),this.selectedTimeSlider.get()&&e&&(this.selectedTimeSlider.get().timeIntervalUnit=e,this._setTimeSliderProfileImpl(this.selectedTimeSlider.get())))},i.prototype._handleMapTimeExtentChanged=function(e){var t=this;if(this.app.map&&this.isActive.get()){var i=!e||!e.startTime&&!e.endTime,a=this.app.map.graphicsLayerIds.map(function(e){return t.app.map.getLayer(e)}).filter(function(e){return e instanceof esri.layers.FeatureLayer&&e.timeInfo&&(!0===e._collection||!e.url)});if(a.length){var l=function(e,t){e&&e.visible!==t&&(t?e.show():e.hide())};a.forEach(function(a){for(var s=0;s<a.graphics.length;s++){var n=a.graphics[s];if(n&&n.attributes)if(i)l(n,!0);else{var r=n.attributes[a.timeInfo.startTimeField],d=n.attributes[a.timeInfo.endTimeField];if(d=d||r,r&&d){r=t._applyTimezoneOffset(new Date(r)).getTime(),d=t._applyTimezoneOffset(new Date(d)).getTime();var o=e.startTime.getTime(),c=e.endTime?e.endTime.getTime():o;r>=o&&r<=c&&d>=o&&d<=c?l(n,!0):l(n,!1)}}}})}}},i.prototype._handleIsOffline=function(e){if(e&&this.isActive.get()){this.app.command("DeactivateTimeSlider").execute();var t=this.getResource("language-timeslider-not-supported-offline"),i={id:this._notificationDisplayId,text:t,closeButton:{}};this.app.command("DisplayNotification").execute(i),this.app.trace.info(t)}this.app.command("ActivateTimeSlider").raiseCanExecuteChanged()},i.prototype._populateAvailableSliderModes=function(){this.sliderModes.clear();var e=[];e.push(this._getTimeSliderModeDataContract(d.TimeSliderMode.Cumulative)),e.push(this._getTimeSliderModeDataContract(d.TimeSliderMode.Extent)),e.push(this._getTimeSliderModeDataContract(d.TimeSliderMode.Instant)),this.sliderModes.addItems(e)},i.prototype._populateAvailableTimeIntervalUnits=function(){this.timeIntervalUnits.clear();var e=[];e.push(this._getTimeIntervalUnitDataContract(o.TimeUnits.UNIT_MILLISECONDS)),e.push(this._getTimeIntervalUnitDataContract(o.TimeUnits.UNIT_SECONDS)),e.push(this._getTimeIntervalUnitDataContract(o.TimeUnits.UNIT_MINUTES)),e.push(this._getTimeIntervalUnitDataContract(o.TimeUnits.UNIT_HOURS)),e.push(this._getTimeIntervalUnitDataContract(o.TimeUnits.UNIT_DAYS)),e.push(this._getTimeIntervalUnitDataContract(o.TimeUnits.UNIT_WEEKS)),e.push(this._getTimeIntervalUnitDataContract(o.TimeUnits.UNIT_MONTHS)),e.push(this._getTimeIntervalUnitDataContract(o.TimeUnits.UNIT_YEARS)),e.push(this._getTimeIntervalUnitDataContract(o.TimeUnits.UNIT_DECADES)),e.push(this._getTimeIntervalUnitDataContract(o.TimeUnits.UNIT_CENTURIES)),this.timeIntervalUnits.addItems(e)},i.prototype._getTimeSliderModeDataContract=function(e){var t={};switch(t.mode=e.toString(),e){case d.TimeSliderMode.Instant:t.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-timeslider-mode-instant");break;case d.TimeSliderMode.Cumulative:t.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-timeslider-mode-cumulative");break;case d.TimeSliderMode.Extent:default:t.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-timeslider-mode-extent")}return t},i.prototype._validateProfile=function(e){if(!e||null===e.mode||void 0===e.mode||!e.timeExtent||!e.initialTimeExtent)return!1;var t,i,a,l,s=e.mode;return t=e.timeExtent.startTime.getTime(),i=e.timeExtent.endTime.getTime(),a=e.initialTimeExtent.startTime.getTime(),l=e.initialTimeExtent.endTime.getTime(),s===d.TimeSliderMode.Cumulative&&a!==t&&(a=t),s===d.TimeSliderMode.Instant&&l!==a&&(l=a),!!this._validateSliderTimes(t,i,a,l)},i.prototype._getTimeIntervalUnitDataContract=function(e){var t={};switch(t.timeIntervalUnit=e.toString(),e){case o.TimeUnits.UNIT_CENTURIES:t.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-unit-century");break;case o.TimeUnits.UNIT_DAYS:t.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-unit-day");break;case o.TimeUnits.UNIT_DECADES:t.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-unit-decade");break;case o.TimeUnits.UNIT_HOURS:t.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-unit-hour");break;case o.TimeUnits.UNIT_MILLISECONDS:t.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-unit-millisecond");break;case o.TimeUnits.UNIT_MINUTES:t.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-unit-minute");break;case o.TimeUnits.UNIT_MONTHS:t.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-unit-month");break;case o.TimeUnits.UNIT_SECONDS:t.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-unit-second");break;case o.TimeUnits.UNIT_WEEKS:t.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-unit-week");break;case o.TimeUnits.UNIT_YEARS:default:t.displayName=this.app.getResource(this.libraryId,"language-timeslider-settings-time-interval-unit-year")}return t},i.prototype._formatMilliSecondsAsString=function(e,t,i){var a=this,l=parseInt(t-e,10);if(isNaN(l)||l<=0)return null;var s=new Date(l),n="",r=0,d=null,o=null,c=null,g=null,m=null,p=null,u=function(e,t){r>=i||0===r&&0===t||(n+=t+a.getResource(e)+" ",r++)},h=function(){var e=a.sliderViewModel.get(),t=s.getUTCMonth(),i=e.sliderMinHandleCurrentItem.get()&&new Date(e.sliderMinHandleCurrentItem.get().value),l=e.sliderMaxHandleCurrentItem.get()&&new Date(e.sliderMaxHandleCurrentItem.get().value);if(!isNaN(i.getTime())&&!isNaN(l.getTime()))return i.getUTCDate()===l.getUTCDate()&&i.getUTCHours()===l.getUTCHours()&&i.getUTCMinutes()===l.getUTCMinutes()&&(s.getUTCDate()>=28&&(t+=1),12==t&&(d=s.getUTCFullYear()-1970+1,t=0),o=0,c=0,g=0,m=0,p=0),t}();return u("language-timeslider-current-time-extent-info-year-abbr",null===d?s.getUTCFullYear()-1970:d),u("language-timeslider-current-time-extent-info-month-abbr",h),u("language-timeslider-current-time-extent-info-day-abbr",null===o?s.getUTCDate()-1:o),u("language-timeslider-current-time-extent-info-hour-abbr",null===c?s.getUTCHours():c),u("language-timeslider-current-time-extent-info-minute-abbr",null===g?s.getUTCMinutes():g),u("language-timeslider-current-time-extent-info-second-abbr",null===m?s.getUTCSeconds():m),u("language-timeslider-current-time-extent-info-millisecond-abbr",null===p?s.getMilliseconds():p),n.trim()?this.getResource("language-timeslider-current-time-extent-info").format(n.trim()):null},i.prototype._exportState=function(e){this.stopPlayTimeline(),e.isActive=this.isActive.get(),e.selectedSliderId=this.selectedSliderId.get(),e.showActionsContainer=this.showActionsContainer.get(),e.sliderCurrentStartDate=this.sliderViewModel.get().sliderMinHandleCurrentItem.get().value,e.sliderCurrentEndDate=this.sliderViewModel.get().sliderMaxHandleCurrentItem.get()&&this.sliderViewModel.get().sliderMaxHandleCurrentItem.get().value,e.sliderMode=this.selectedSliderMode.get().toString(),e.timeIntervalOverride=this.sliderViewModel.get().dateModeTimeInterval,e.timeIntervalUnitOverride=this.sliderViewModel.get().dateModeTimeIntervalUnit,e.playbackDelaySeconds=this.playbackDelaySeconds.get(),e.loopPlayback=this.loopPlayback.get()},i.prototype._applyState=function(e){var t=e.state,i=this.timeSliders.get().filter(function(e){return e.id===t.selectedSliderId})[0];if(!this.isEnabled.get())return this.app.trace.info("Saved Project: Time Slider state could not be applied. Time Slider not enabled or no time slider profiles defined."),void(e.completePromise=Promise.resolve());i||(this.app.trace.info("Saved Project: Time Slider profile with id {0} not found. Applying first available profile."),i=this.timeSliders.getAt(0)),this.app.command("ActivateTimeSlider").execute(),this.selectedTimeSlider.get()!==i&&this.selectedTimeSlider.set(i),this.selectedSliderMode.set(t.sliderMode),this.timeInterval.get()!==t.timeIntervalOverride&&this.timeInterval.set(t.timeIntervalOverride),this.selectedTimeIntervalUnit.set(t.timeIntervalUnitOverride),this.showActionsContainer.set(t.showActionsContainer),this.playbackDelaySeconds.set(t.playbackDelaySeconds),this.loopPlayback.set(t.loopPlayback);var a=this._applyTimezoneOffset(new Date(t.sliderCurrentStartDate)),l=this._applyTimezoneOffset(new Date(t.sliderCurrentEndDate));this.sliderViewModel.get().range||isNaN(a.getTime())?!this.sliderViewModel.get().range||isNaN(a.getTime())||isNaN(l.getTime())||(this.startDateViewModel.get()&&this.startDateViewModel.get().date.set(a),this.endDateViewModel.get()&&this.endDateViewModel.get().date.set(l)):this.startDateViewModel.get()&&this.startDateViewModel.get().date.set(a),t.timeSliderViewActive||this.app.command("HideTimeSlider").execute(),t.timeSliderSettingsViewActive?this.app.command("ShowTimeSliderSettings").execute():this.app.command("HideTimeSliderSettings").execute(),t.isActive||this.app.command("DeactivateTimeSlider").execute(),e.completePromise=Promise.resolve()},i}(a.ViewModelBase);i.TimeSliderViewModel=u})},"url:/Mapping/modules/TimeSlider/TimeSliderSettingsView.html":t,"url:/Mapping/modules/TimeSlider/TimeSliderView.html":i}}),require(["geocortex/framework/resourceManager"],function(e){e.resourceManager.register("Mapping","inv","Mapping/modules/TimeSlider/CSS/common.css","css","LyotLS0tLVNUQVJUOiBNYWluIFJvdy0tLS0tKi8NCg0KLnRpbWVzbGlkZXItY29udGFpbmVyIHsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgdG9wOiAwLjRlbTsNCiAgICBsZWZ0OiAzMyU7DQogICAgd2lkdGg6IDMzJTsNCiAgICBtaW4td2lkdGg6IDI1ZW07DQogICAgbWF4LXdpZHRoOiAzNWVtOw0KICAgIGJvcmRlcjogMXB4IHNvbGlkICNEOUQ5RDk7DQogICAgYm9yZGVyLXJhZGl1czogMC4yNWVtOw0KICAgIGJhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7DQogICAgei1pbmRleDogMTAxOw0KfQ0KDQouY3VycmVudC1wcm9maWxlLXRpdGxlIHsNCiAgICBwYWRkaW5nOiAwLjI1ZW07DQogICAgYmFja2dyb3VuZDogI0ZGRkZGRjsNCiAgICBjb2xvcjogIzc2NzY3NjsNCiAgICBmb250LXNpemU6IDEuMWVtOw0KICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgY3Vyc29yOiBkZWZhdWx0Ow0KICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjRDlEOUQ5Ow0KICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDAuMjVlbTsNCiAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMC4yNWVtOw0KfQ0KDQoubWFpbi1yb3cgew0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCn0NCg0KLm1haW4tcm93IC5nY3gtc2xpZGVyLWNvbnRhaW5lciB7DQogICAgd2lkdGg6IDEwMCU7DQp9DQoNCi5zbGlkZXItYWN0aW9ucy10b2dnbGUgew0KICAgIGhlaWdodDogMTAwJTsNCn0NCg0KLnNsaWRlci1hY3Rpb25zLXRvZ2dsZSBidXR0b24gew0KICAgIGJvcmRlcjogbm9uZTsNCiAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMC4yNWVtOw0KfQ0KDQouc2xpZGVyLWFjdGlvbnMtdG9nZ2xlIGJ1dHRvbiwNCi5zbGlkZXItYWN0aW9ucy10b2dnbGUgYnV0dG9uOmZvY3VzIHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsNCn0NCg0KLyotLS0tLUVORDogTWFpbiBSb3ctLS0tLSovDQoNCi5pbmZvLW1lc3NhZ2Ugew0KICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgIHBhZGRpbmc6IDAuNWVtOw0KICAgIGJhY2tncm91bmQ6ICNGRkZBQ0Q7DQogICAgZm9udC1zaXplOiAwLjllbTsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICAgIGJvcmRlcjogMXB4IHNvbGlkICNEOUQ5RDk7DQogICAgYm9yZGVyLXJhZGl1czogMC4yNWVtOw0KICAgIGN1cnNvcjogZGVmYXVsdDsNCiAgICBsaW5lLWhlaWdodDogMS41ZW07DQp9DQoNCi50aW1lc2xpZGVyLWNvbnRhaW5lciAuaW5mby1tZXNzYWdlIHsNCiAgICBwYWRkaW5nOiAwLjI1ZW07DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIGJvcmRlci1sZWZ0OiBub25lOw0KICAgIGJvcmRlci1yaWdodDogbm9uZTsNCiAgICBib3JkZXItcmFkaXVzOiAwOw0KfQ0KDQovKi0tLS0tU1RBUlQ6IFNsaWRlciBEYXRlIFBpY2tlcnMtLS0tLSovDQoNCi5zbGlkZXItZGF0ZS1waWNrZXJzIHsNCiAgICBwYWRkaW5nOiAwLjVlbTsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRkZGOw0KICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjRDlEOUQ5Ow0KfQ0KDQouc2xpZGVyLWRhdGUtcGlja2VycywNCi5zbGlkZXItYWN0aW9ucyB7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCn0NCg0KLnNsaWRlci1hY3Rpb25zOjphZnRlciwNCi5zbGlkZXItZGF0ZS1waWNrZXJzOjphZnRlciB7DQogICAgY29udGVudDogIiI7DQogICAgZGlzcGxheTogYmxvY2s7DQogICAgY2xlYXI6IGJvdGg7DQp9DQoNCi5zbGlkZXItZGF0ZS1waWNrZXJzIC5mb3JtLWxhYmVsIHsNCiAgICBwYWRkaW5nOiAwOw0KfQ0KDQouc2xpZGVyLWRhdGUtcGlja2VycyAuZm9ybS1jb250cm9sLA0KLnNsaWRlci1kYXRlLXBpY2tlcnMgLmlubGluZS1ibG9jayB7DQogICAgd2lkdGg6IDEwMCU7DQp9DQoNCi5zbGlkZXItc3RhcnQtZGF0ZS1waWNrZXIsDQouc2xpZGVyLWVuZC1kYXRlLXBpY2tlciB7DQogICAgd2lkdGg6IDEwMCU7DQp9DQoNCi5uby10b3VjaCAuc2xpZGVyLXN0YXJ0LWRhdGUtcGlja2VyLA0KLm5vLXRvdWNoIC5zbGlkZXItZW5kLWRhdGUtcGlja2VyIHsNCiAgICB3aWR0aDogNDcuNSU7DQogICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRkZGRjsNCiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KfQ0KDQoubm8tdG91Y2ggLnNsaWRlci1zdGFydC1kYXRlLXBpY2tlciB7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgcGFkZGluZy1yaWdodDogMC4yNWVtOw0KfQ0KDQoubm8tdG91Y2ggLnNsaWRlci1lbmQtZGF0ZS1waWNrZXIgew0KICAgIGZsb2F0OiByaWdodDsNCiAgICBwYWRkaW5nLWxlZnQ6IDAuMjVlbTsNCn0NCg0KLmRwLXRwLXNlbGVjdCB7DQogICAgZGlzcGxheTogYmxvY2s7DQp9DQoNCi5zbGlkZXItZGF0ZS1waWNrZXJzIC5kYXRldGltZS1zZWxlY3QgbGFiZWwgew0KICAgIG1hcmdpbjogMDsNCiAgICBtYXJnaW4tcmlnaHQ6IDQlOw0KfQ0KDQouc2xpZGVyLWRhdGUtcGlja2VycyAuc2xpZGVyLXN0YXJ0LXRvLWVuZC1kYXRlLWxhYmVsIHsNCiAgICBkaXNwbGF5OiBibG9jazsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBtYXJnaW4tYm90dG9tOiAwLjVlbTsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQp9DQoNCi5uby10b3VjaCAuc2xpZGVyLWRhdGUtcGlja2VycyAuc2xpZGVyLXN0YXJ0LXRvLWVuZC1kYXRlLWxhYmVsIHsNCiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICAgd2lkdGg6IDUlOw0KICAgIG1hcmdpbi1ib3R0b206IDA7DQp9DQoNCi5kYXRldGltZS1zZWxlY3Qgc2VsZWN0LA0KLmRhdGUtcGlja2VyLWNvbnRhaW5lciBzZWxlY3Qgew0KICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCiAgICBtaW4taGVpZ2h0OiAxLjg3NWVtOw0KfQ0KDQouZGF0ZXRpbWUtc2VsZWN0IC55ZWFyLXNlbGVjdCB7DQogICAgd2lkdGg6IDI4JTsNCiAgICBtYXJnaW4tcmlnaHQ6IDIlOw0KfQ0KDQouZGF0ZXRpbWUtc2VsZWN0IC5tb250aC1zZWxlY3Qgew0KICAgIHdpZHRoOiA0NyU7DQogICAgbWFyZ2luOiAwIC00cHg7DQp9DQoNCi5kYXRldGltZS1zZWxlY3QgLmRheS1zZWxlY3Qgew0KICAgIHdpZHRoOiAxOCU7DQogICAgbWFyZ2luLWxlZnQ6IDIlOw0KfQ0KDQoudGltZS1zZWxlY3Qgew0KICAgIHdpZHRoOiAyOCU7DQogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAgIHBhZGRpbmctbGVmdDogMC45ZW07DQogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQp9DQoNCi50aW1lLXNlbGVjdC1sYWJlbCB7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIHRvcDogMC4zZW07DQogICAgbGVmdDogMDsNCn0NCg0KLm5hdGl2ZS1kYXRlLXBpY2tlciB7DQogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAgIHdpZHRoOiAzNSU7DQogICAgcGFkZGluZy1yaWdodDogMWVtOw0KICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQp9DQoNCi5uYXRpdmUtZGF0ZS1waWNrZXIgaW5wdXQgew0KICAgIG1pbi13aWR0aDogMTAwJTsNCiAgICBmb250LXdlaWdodDogaW5pdGlhbDsNCn0NCg0KLnRpbWUtc2VsZWN0b3JzIHsNCiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICAgZmxvYXQ6IHJpZ2h0Ow0KICAgIHdpZHRoOiA2NSU7DQogICAgcGFkZGluZy1sZWZ0OiAxJTsNCiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KfQ0KDQouc2xpZGVyLWRhdGUtcGlja2VycyAuZGF0ZXRpbWUtcGlja2VyIC50aW1lLXNlbGVjdDpmaXJzdC1jaGlsZCB7DQogICAgbWFyZ2luLWxlZnQ6IDA7DQp9DQoNCi5zbGlkZXItZGF0ZS1waWNrZXJzIC5kYXRldGltZS1waWNrZXIgLnRpbWUtc2VsZWN0IHsNCiAgICB3aWR0aDogMzIlOw0KICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCiAgICBwYWRkaW5nLWxlZnQ6IDEuMWVtOw0KICAgIG1hcmdpbi1yaWdodDogLTRweDsNCiAgICBtYXJnaW4tbGVmdDogMiU7DQp9DQoNCi5zbGlkZXItZGF0ZS1waWNrZXJzIC5uYXRpdmUtZGF0ZS1waWNrZXIgLnRpbWUtc2VsZWN0IHsNCiAgICB3aWR0aDogMzElOw0KICAgIG1hcmdpbi1sZWZ0OiAyLjUlOw0KICAgIHBhZGRpbmctbGVmdDogMC44ZW07DQp9DQoNCi5kYXRldGltZS1zZWxlY3QgLnRpbWUtc2VsZWN0IHNlbGVjdCB7DQogICAgd2lkdGg6IDEwMCU7DQp9DQoNCi5kYXRlLXBpY2tlci1jb250YWluZXIgew0KICAgIHBhZGRpbmctcmlnaHQ6IDIuMTllbTsNCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCn0NCg0KLmRhdGUtcGlja2VyLWNvbnRhaW5lciAuaGFzRGF0ZXBpY2tlciB7DQogICAgaGVpZ2h0OiAxLjg3NWVtOw0KICAgIHdpZHRoOiAxMDAlOw0KfQ0KDQouZGF0ZS1waWNrZXItY29udGFpbmVyIC51aS1kYXRlcGlja2VyLXRyaWdnZXIgeyAgICANCiAgICBoZWlnaHQ6IDEuODc1ZW07DQogICAgd2lkdGg6IDEuODc1ZW07ICAgIA0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICByaWdodDogMnB4Ow0KICAgIG1hcmdpbjogMDsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9jYWxlbmRhci0yNC5wbmcpIG5vLXJlcGVhdCBjZW50ZXIgY2VudGVyOw0KICAgIHRleHQtaW5kZW50OiAtOTk5OTllbTsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KfQ0KDQouc2xpZGVyLWRhdGUtcGlja2VycyAuZGlzYWJsZS1kYXRlLXBpY2tlciB7DQogICAgcG9pbnRlci1ldmVudHM6IG5vbmU7DQogICAgb3BhY2l0eTogMC40Ow0KfQ0KDQovKi0tLS0tRU5EOiBTbGlkZXIgRGF0ZSBQaWNrZXJzLS0tLS0qLw0KDQovKi0tLS0tU1RBUlQ6IFNsaWRlciBBY3Rpb25zIExpc3QgTWVudS0tLS0tKi8NCg0KLnNsaWRlci1hY3Rpb25zIHsNCiAgICBtYXJnaW46IDA7DQogICAgcGFkZGluZzogMDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjhGOEY4Ow0KfQ0KDQouc2xpZGVyLWFjdGlvbnMgLmxpc3QtbWVudS1pdGVtIHsNCiAgICB3aWR0aDogMjAlOw0KICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgIGZsb2F0OiBsZWZ0Ow0KICAgIHBhZGRpbmc6IDA7DQogICAgYm9yZGVyLWJvdHRvbTogbm9uZTsNCn0NCg0KLnNsaWRlci1hY3Rpb25zIC5saXN0LW1lbnUtaXRlbTpmb2N1cyB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogbm9uZTsNCn0NCg0KLnNsaWRlci1hY3Rpb25zLWJ1dHRvbiB7DQogICAgd2lkdGg6IDEwMCU7DQogICAgcGFkZGluZzogMC41ZW0gMC4yNWVtOw0KICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI0VFRUVFRTsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQp9DQoNCi5zbGlkZXItYWN0aW9ucy1idXR0b246aG92ZXIgew0KICAgIGJhY2tncm91bmQtY29sb3I6ICNERUYyRkY7DQp9DQoNCi5zbGlkZXItYWN0aW9ucy1idXR0b24gLmFjdGlvbi1sYWJlbCB7DQogICAgbWFyZ2luLXRvcDogMC4xNWVtOw0KICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgIGxpbmUtaGVpZ2h0OiBpbml0aWFsOw0KICAgIGZvbnQtc2l6ZTogMC45ZW07DQp9DQoNCi8qLS0tLS1FTkQ6IFNsaWRlciBBY3Rpb25zIExpc3QgTWVudS0tLS0tKi8NCg0KLyotLS0tLVNUQVJUOiBUaW1lIFNsaWRlciBTZXR0aW5ncy0tLS0tKi8NCg0KLnRpbWVzbGlkZXItc2V0dGluZ3Mgew0KICAgIHBhZGRpbmc6IDFlbTsNCn0NCg0KLnRpbWVzbGlkZXItc2V0dGluZ3MgLmZvcm0tbGFiZWwgew0KICAgIHdpZHRoOiAxMDAlOw0KICAgIHBhZGRpbmc6IDA7DQogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCn0NCg0KLmNoZWNrYm94LA0KLmNoZWNrYm94LWxhYmVsIHsNCiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOw0KfQ0KDQoudGltZS1zZXR0aW5ncy1lcnJvci1tZXNzYWdlIHsNCiAgICBjb2xvcjogI0ZGMDAwMDsNCn0NCg0KLyotLS0tLUVORDogVGltZSBTbGlkZXIgU2V0dGluZ3MtLS0tLSovDQoNCi8qLS0tLS1TVEFSVDogRGF0ZSBQaWNrZXItLS0tLSovDQovKlVzZWQgIWltcG9ydGFudCB0aHJvdWdob3V0IHRoaXMgc2VjdGlvbiB0byBvdmVycmlkZSBqcXVlcnkgc3R5bGluZyovDQoudWktZGF0ZXBpY2tlciB7DQogICAgd2lkdGg6IDE5ZW07DQogICAgcGFkZGluZzogMC41ZW07DQp9DQoNCi51aS1kYXRlcGlja2VyLnVpLXdpZGdldCAudWktZGF0ZXBpY2tlci1oZWFkZXIgew0KICAgIGJhY2tncm91bmQ6IG5vbmU7DQp9DQoNCi51aS1kYXRlcGlja2VyLWhlYWRlciAudWktZGF0ZXBpY2tlci1wcmV2IC51aS1pY29uLA0KLnVpLWRhdGVwaWNrZXItaGVhZGVyIC51aS1kYXRlcGlja2VyLXByZXYudWktc3RhdGUtaG92ZXIgLnVpLWljb24gew0KICAgIGJhY2tncm91bmQ6IHVybChSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL2NoZXZyb24tbGVmdC0xNi5wbmcpIWltcG9ydGFudDsNCn0NCg0KLnVpLWRhdGVwaWNrZXItaGVhZGVyIC51aS1kYXRlcGlja2VyLW5leHQgLnVpLWljb24sDQoudWktZGF0ZXBpY2tlci1oZWFkZXIgLnVpLWRhdGVwaWNrZXItbmV4dC51aS1zdGF0ZS1ob3ZlciAudWktaWNvbiB7DQogICAgYmFja2dyb3VuZDogdXJsKFJlc291cmNlcy9JbWFnZXMvSWNvbnMvY2hldnJvbi1yaWdodC0xNi5wbmcpIWltcG9ydGFudDsNCn0NCg0KLnVpLWRhdGVwaWNrZXIudWktd2lkZ2V0IC51aS1kYXRlcGlja2VyLWNhbGVuZGFyIC51aS1zdGF0ZS1kZWZhdWx0IHsNCiAgICBiYWNrZ3JvdW5kOiAjRjVGNUY1Ow0KICAgIGNvbG9yOiAjMUE3MkM0Ow0KICAgIGhlaWdodDogMTAwJTsNCiAgICBsaW5lLWhlaWdodDogMmVtOw0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCn0NCg0KLnVpLWRhdGVwaWNrZXIudWktd2lkZ2V0IC51aS1kYXRlcGlja2VyLWNhbGVuZGFyIC51aS1zdGF0ZS1hY3RpdmUgew0KICAgIGJhY2tncm91bmQ6ICMxQTcyQzQ7DQogICAgYm9yZGVyOiAxcHggc29saWQgI0NDQ0NDQzsNCiAgICBjb2xvcjogI0ZGRkZGRjsNCn0NCg0KLnVpLWRhdGVwaWNrZXIudWktd2lkZ2V0IC51aS1kYXRlcGlja2VyLWNhbGVuZGFyIC51aS1zdGF0ZS1hY3RpdmUudWktc3RhdGUtaG92ZXIgew0KICAgIGJhY2tncm91bmQ6ICMxQTcyQzQhaW1wb3J0YW50Ow0KICAgIGJvcmRlcjogMXB4IHNvbGlkICNDQ0NDQ0MhaW1wb3J0YW50Ow0KICAgIGNvbG9yOiAjRkZGRkZGIWltcG9ydGFudDsNCiAgICBjdXJzb3I6IGRlZmF1bHQ7DQp9DQoNCi51aS1kYXRlcGlja2VyLWhlYWRlciAudWktZGF0ZXBpY2tlci1wcmV2LnVpLXN0YXRlLWhvdmVyLA0KLnVpLWRhdGVwaWNrZXItaGVhZGVyIC51aS1kYXRlcGlja2VyLW5leHQudWktc3RhdGUtaG92ZXIsDQoudWktZGF0ZXBpY2tlci51aS13aWRnZXQgLnVpLWRhdGVwaWNrZXItY2FsZW5kYXIgLnVpLXN0YXRlLWhvdmVyLA0KLnVpLWRhdGVwaWNrZXIudWktd2lkZ2V0IC51aS1kYXRlcGlja2VyLWNhbGVuZGFyIC51aS1zdGF0ZS1kZWZhdWx0OmZvY3VzIHsNCiAgICBib3JkZXI6IDFweCBzb2xpZCAjMUE3MkM0IWltcG9ydGFudDsNCiAgICBiYWNrZ3JvdW5kOiAjRTlGNkZGIWltcG9ydGFudDsNCn0NCg0KLnVpLWRhdGVwaWNrZXIgLnVpLXRpbWVwaWNrZXItZGl2IGRkIHsNCiAgICBwYWRkaW5nOiAwIDAuNWVtOw0KfQ0KDQoudWktZGF0ZXBpY2tlciAudWktdGltZXBpY2tlci1kaXYgZHQgew0KICAgIHBhZGRpbmc6IDFlbSAuNWVtIDAuNzVlbSAwLjVlbTsNCn0NCg0KLnVpLXRpbWVwaWNrZXItZGl2IC51aS1zbGlkZXItaG9yaXpvbnRhbCB7DQogICAgaGVpZ2h0OiAzcHg7DQp9DQoNCi51aS10aW1lcGlja2VyLWRpdiAudWktc2xpZGVyIC51aS1zbGlkZXItaGFuZGxlIHsNCiAgICBoZWlnaHQ6IDE2cHg7DQogICAgdG9wOiAtN3B4Ow0KfQ0KDQoudWktZGF0ZXBpY2tlci51aS13aWRnZXQgLnVpLWRhdGVwaWNrZXItYnV0dG9ucGFuZSB7DQogICAgYmFja2dyb3VuZDogbm9uZTsNCn0NCg0KLnVpLXRpbWVwaWNrZXItZGl2IC5pbmZvLW1lc3NhZ2Ugew0KICAgIG1hcmdpbjogMS41ZW0gMC4yZW0gMDsNCiAgICBmb250LXNpemU6IDFlbTsNCn0NCg0KLnVpLWRhdGVwaWNrZXIgLnVpLWRhdGVwaWNrZXItYnV0dG9ucGFuZSAudWktZGF0ZXBpY2tlci1jdXJyZW50LA0KLnVpLWRhdGVwaWNrZXIgLnVpLWRhdGVwaWNrZXItYnV0dG9ucGFuZSAudWktZGF0ZXBpY2tlci1jbG9zZSB7DQogICAgcGFkZGluZzogLjVlbTsNCiAgICBvdXRsaW5lOiBub25lOw0KICAgIGJhY2tncm91bmQ6ICNGNUY1RjU7DQogICAgYm9yZGVyOiAxcHggc29saWQgI0NDQ0NDQzsNCiAgICBib3JkZXItcmFkaXVzOiAwLjI1cmVtOw0KICAgIGZvbnQtd2VpZ2h0OiA2MDA7DQogICAgY29sb3I6ICMxQTcyQzQ7DQogICAgYm94LXNoYWRvdzogMDsNCiAgICBtYXJnaW46IDAuNWVtIDA7DQp9DQoNCi51aS1kYXRlcGlja2VyIC51aS1kYXRlcGlja2VyLWJ1dHRvbnBhbmUgLnVpLWRhdGVwaWNrZXItY3VycmVudC51aS1zdGF0ZS1ob3ZlciwNCi51aS1kYXRlcGlja2VyIC51aS1kYXRlcGlja2VyLWJ1dHRvbnBhbmUgLnVpLWRhdGVwaWNrZXItY2xvc2UudWktc3RhdGUtaG92ZXIgew0KICAgIGJhY2tncm91bmQtY29sb3I6ICMxQTcyQzQhaW1wb3J0YW50Ow0KICAgIGNvbG9yOiAjRkZGRkZGIWltcG9ydGFudDsNCiAgICB0ZXh0LXNoYWRvdzogbm9uZTsNCn0NCg0KLyotLS0tLUVORDogRGF0ZSBQaWNrZXItLS0tLSov"),e.resourceManager.register("Mapping","inv","Mapping/modules/TimeSlider/CSS/small.css","css","LlRpbWVTbGlkZXJWaWV3IHsNCiAgICB3aWR0aDogMTAwJTsNCiAgICB0b3A6IDMuM2VtOw0KICAgIC13ZWJraXQtdHJhbnNpdGlvbjogdG9wIDUwMG1zOyAvKiBTYWZhcmkgKi8NCiAgICB0cmFuc2l0aW9uOiB0b3AgNTAwbXM7DQp9DQoNCi50aW1lc2xpZGVyLWNvbnRhaW5lciB7DQogICAgd2lkdGg6IDEwMCU7DQogICAgbWluLXdpZHRoOiBpbml0aWFsOw0KICAgIG1heC13aWR0aDogaW5pdGlhbDsNCiAgICB0b3A6IDA7DQogICAgbWFyZ2luOiAwOw0KICAgIHotaW5kZXg6IDEwMDsNCiAgICBsZWZ0OiAwOw0KICAgIGJvcmRlci1sZWZ0OiBub25lOw0KICAgIGJvcmRlci1yaWdodDogbm9uZTsNCiAgICBib3JkZXItcmFkaXVzOiAwOw0KICAgIG92ZXJmbG93LXk6IGF1dG87DQp9DQoNCi5oZWFkZXItcmVnaW9uLmhpZGRlbi1ieS1zY3JlZW4tZWxlbWVudCAuVGltZVNsaWRlclZpZXcgew0KICAgIHRvcDogMDsNCn0NCg0KLyoqIC5zaGVsbC1zbWFsbCBuZWVkcyB0byBiZSBwcmVwZW5kZWQgdG8gdGhlIGNzcyBydWxlIGJlbG93IHRvIG92ZXJyaWRlIFNtYWxsU2hlbGwuY3NzIHdoaWNoIHNldHMgLnNoZWxsLXNtYWxsIC5yZWdpb24uaGVhZGVyLXJlZ2lvbiAudmlldy5pbmFjdGl2ZSB0byBkaXNwbGF5IGJsb2NrLiovDQouc2hlbGwtc21hbGwgLnJlZ2lvbi5oZWFkZXItcmVnaW9uIC52aWV3LlRpbWVTbGlkZXJWaWV3LmluYWN0aXZlIHsNCiAgICBkaXNwbGF5OiBub25lOw0KfQ0KDQoudGltZXNsaWRlci1jb250YWluZXIgLmFjdGlvbnMtY29udGFpbmVyIC5zbGlkZXItZGF0ZS1waWNrZXJzIC5pbmxpbmUtYmxvY2sgYnV0dG9uLnVpLWRhdGVwaWNrZXItdHJpZ2dlciB7DQogICAgcGFkZGluZzogLjZlbTsNCn0NCg0KLnVpLXRpbWVwaWNrZXItZGl2IC51aS1zbGlkZXIgLnVpLXNsaWRlci1oYW5kbGUgew0KICAgIHRvcDogLTlweCFpbXBvcnRhbnQ7DQp9DQoNCi8qLS0tLS1TVEFSVDogTWVkaWEgUXVlcmllcyBmb3IgU2Nyb2xsIEJhci0tLS0tKi8NCkBtZWRpYSBhbGwgYW5kICggbWluLWhlaWdodDogMHB4KSB7DQogICAgLnRpbWVzbGlkZXItY29udGFpbmVyIHsNCiAgICAgICAgbWF4LWhlaWdodDogMjAwcHg7DQogICAgfQ0KfQ0KQG1lZGlhIGFsbCBhbmQgKCBtaW4taGVpZ2h0OiA0MDBweCkgew0KICAgIC50aW1lc2xpZGVyLWNvbnRhaW5lciB7DQogICAgICAgIG1heC1oZWlnaHQ6IDMwMHB4Ow0KICAgIH0NCn0NCkBtZWRpYSBhbGwgYW5kICggbWluLWhlaWdodDogNTAwcHgpIHsNCiAgICAudGltZXNsaWRlci1jb250YWluZXIgew0KICAgICAgICBtYXgtaGVpZ2h0OiA0MDBweDsNCiAgICB9DQp9DQpAbWVkaWEgYWxsIGFuZCAoIG1pbi1oZWlnaHQ6IDYwMHB4KSB7DQogICAgLnRpbWVzbGlkZXItY29udGFpbmVyIHsNCiAgICAgICAgbWF4LWhlaWdodDogNTAwcHg7DQogICAgfQ0KfQ=="),e.resourceManager.register("Mapping","inv","Mapping/modules/TimeSlider/TimeSliderSettingsView.html","html",t),e.resourceManager.register("Mapping","inv","Mapping/modules/TimeSlider/TimeSliderView.html","html",i)}),require({cache:{}}),define(["Mapping/modules/TimeSlider/TimeSliderModule","Mapping/modules/TimeSlider/TimeSliderSettingsView","Mapping/modules/TimeSlider/TimeSliderView","Mapping/modules/TimeSlider/TimeSliderViewModel"],function(t,i,a,l){e(t,"geocortex.essentialsHtmlViewer.mapping.modules.timeSlider.TimeSliderModule",t.TimeSliderModule),e(i,"geocortex.essentialsHtmlViewer.mapping.modules.timeSlider.TimeSliderSettingsView",i.TimeSliderSettingsView),e(a,"geocortex.essentialsHtmlViewer.mapping.modules.timeSlider.TimeSliderView",a.TimeSliderView),e(l,"geocortex.essentialsHtmlViewer.mapping.modules.timeSlider.TimeSliderViewModel",l.TimeSliderViewModel)})}();