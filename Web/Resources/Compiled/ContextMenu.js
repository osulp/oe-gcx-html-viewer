function shim(e,t,i){if("string"==typeof e&&(i=t,t=e),"undefined"==typeof i)return void console.warn("Undefined shim for: "+t);for(var n=t.split("."),o=null,a=window,s=0,u=n.length;s<u;s++)o=n[s],s==u-1?a[o]=i:a[o]||(a[o]={}),a=a[o]}require({cache:{"Mapping/modules/ContextMenu/ContextMenuModule":function(){define(["require","exports","geocortex/framework/application/ModuleBase"],function(e,t,i){"use strict";var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.initialize=function(t){e.prototype.initialize.call(this,t),t&&t.menus&&this.app.menuRegistry.loadMenus(t)},t}(i.ModuleBase);t.ContextMenuModule=n})},"Mapping/modules/ContextMenu/ContextMenuView":function(){define(["require","exports","geocortex/framework/ui/ViewBase"],function(e,t,i){"use strict";var n=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.app.command("ActivateContextMenu").register(n,n._positionAndActivateMenu),n.app.command("DeactivateContextMenu").register(n,n._deactivateMenu),n}return __extends(t,e),t.prototype.attach=function(t){e.prototype.attach.call(this,t)},t.prototype.activated=function(){var t=this;e.prototype.activated.call(this),this.app.command("TapToDismiss").execute({view:this,onOtherInteracted:function(e){return t._onOtherViewTapped(e)}}),this.app.event("ContextMenuActivated").publish()},t.prototype.deactivated=function(){e.prototype.deactivated.call(this),this.viewModel.isOffsetLeft.set(!1),this.viewModel.isOffsetUp.set(!1),this.app.event("ContextMenuDeactivated").publish()},t.prototype._positionAndActivateMenu=function(e){if(this._tryActivateView(e.viewId),!this.app.configuration.mobileMode){this.root.style.left=e.pageX+"px",this.root.style.top=e.pageY+"px";var t=this.contextMenu;t.style.opacity="0",this.app.viewManager.activateView(this);var i=document.body.clientWidth,n=document.body.clientHeight,o=t.getBoundingClientRect();e.pageX+o.width>i?(this.viewModel.isOffsetLeft.set(!0),this.root.style.left=e.pageX-o.width+"px"):this.viewModel.isOffsetLeft.set(!1),e.pageY+o.height>n?(this.viewModel.isOffsetUp.set(!0),this.root.style.top=e.pageY-o.height+"px"):this.viewModel.isOffsetUp.set(!1),t.style.opacity="1"}},t.prototype._tryActivateView=function(e){var t=this.app.viewManager.getViewById(e);t?this.app.viewManager.activateView(t):this.app.trace.error(String.format("ContextMenuView: Could not find view by id when activating the context menu: {0}",e))},t.prototype._deactivateMenu=function(){this.app.viewManager.deactivateView(this)},t.prototype._onOtherViewTapped=function(e){this._deactivateMenu()},t}(i.ViewBase);t.ContextMenuView=n})},"Mapping/modules/ContextMenu/ContextMenuViewModel":function(){define(["require","exports","geocortex/framework/ui/ViewModelBase","geocortex/framework/observables"],function(e,t,i,n){"use strict";var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isOffsetLeft=new n.Observable((!1)),t.isOffsetUp=new n.Observable((!1)),t}return __extends(t,e),t}(i.ViewModelBase);t.ContextMenuViewModel=o})},"url:/Mapping/modules/ContextMenu/ContextMenuView.html":'<div class="region context-menu-region" data-binding="{@var: contextMenu}{@class-offset-left: isOffsetLeft}{@class-offset-up: isOffsetUp}" data-region-name="ContextMenuContentRegion" data-region-adapter="geocortex.framework.ui.MultiDivRegionAdapter"></div>'}}),define(["Mapping/modules/ContextMenu/ContextMenuModule","Mapping/modules/ContextMenu/ContextMenuView","Mapping/modules/ContextMenu/ContextMenuViewModel"],function(e,t,i){shim(e,"geocortex.essentialsHtmlViewer.mapping.modules.ContextMenu.ContextMenuModule",e.ContextMenuModule),shim(t,"geocortex.essentialsHtmlViewer.mapping.modules.ContextMenu.ContextMenuView",t.ContextMenuView),shim(i,"geocortex.essentialsHtmlViewer.mapping.modules.ContextMenu.ContextMenuViewModel",i.ContextMenuViewModel)});