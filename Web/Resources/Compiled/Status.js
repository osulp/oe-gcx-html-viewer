!function(){var t="<div class='status-indicator anim-zoom-in' data-region-name='StatusIndicatorMessageRegion' data-region-adapter='geocortex.framework.ui.MultiDivRegionAdapter'></div>",s="<div class='status-window' data-binding='{@var: containerElement}'>    <table>        <tr>            <td class='status-img-container'>                <img class='status-img' data-binding='{src: imageUri}{alt: imageAltText}{@visible: imageUri}' aria-hidden='true' />            </td>            <td class='status-msg-container'>                <span class='status-msg' data-binding='{@text: text}{title: text}'></span>            </td>            <td class='status-close'>                <button class='status-btn' data-binding='{@event-onclick: handleClickClose}{title: closeTitle}'>                    <span>&nbsp;</span>                </button>            </td>        </tr>    </table></div>";function a(e,t,s){if("string"==typeof e&&(s=t,t=e),void 0!==s)for(var i=t.split("."),a=null,o=window,n=0,r=i.length;n<r;n++)a=i[n],n==r-1?o[a]=s:o[a]||(o[a]={}),o=o[a];else console.warn("Undefined shim for: "+t)}require({cache:{"Mapping/modules/Status/StatusIndicatorView":function(){var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)});define(["require","exports","geocortex/framework/ui/ViewBase"],function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=(i=s.ViewBase,n(o,i),o.prototype.added=function(e){var t=this;if(i.prototype.added.call(this,e),!this.app.site||!this.app.site.isInitialized){var s="initializeSiteMsg";this.app.command("AddStatus").execute({text:this.app.getResource(this.libraryId,"language-common-loading"),id:s,showBusyIcon:!0}),this.app.waitUntilShellStabilized().then(function(){return t.app.command("RemoveStatus").execute(s)})}},o);function o(){return null!==i&&i.apply(this,arguments)||this}t.StatusIndicatorView=a})},"Mapping/modules/Status/StatusMessageView":function(){var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)});define(["require","exports","geocortex/framework/ui/ViewBase"],function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=(i=s.ViewBase,n(o,i),o.prototype.attach=function(e){if(i.prototype.attach.call(this,e),e){this.updateClassBinding(e.statusClass.get());var t=e.statusClass.bind(this,this.updateClassBinding);this.addDisposableBinding(e.statusClass,t)}},o.prototype.updateClassBinding=function(e){e=e||"";var t=this._previousClass||"";e&&e!==t&&(this._previousClass=e,dojo.removeClass(this.containerElement,t),dojo.addClass(this.containerElement,e))},o.prototype.handleClickClose=function(e,t,s){this.app.viewManager.destroyView(this),s&&s.userClosedCallback&&s.userClosedCallback.call(this,this)},o);function o(){return null!==i&&i.apply(this,arguments)||this}t.StatusMessageView=a})},"Mapping/modules/Status/StatusMessageViewModel":function(){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)});define(["require","exports","geocortex/framework/ui/ViewModelBase","geocortex/framework/observables"],function(e,t,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=(a=s.ViewModelBase,r(n,a),n);function n(){var e=null!==a&&a.apply(this,arguments)||this;return e.text=new i.Observable,e.closeTitle=new i.Observable,e.imageUri=new i.Observable,e.imageClass=new i.Observable,e.imageAltText=new i.Observable,e.statusClass=new i.Observable,e.userClosedCallback=null,e}t.StatusMessageViewModel=o})},"Mapping/modules/Status/StatusModule":function(){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)});define(["require","exports","geocortex/framework/application/ModuleBase","geocortex/infrastructure/Dictionary","geocortex/infrastructure/commandArgs/AddStatusArgs","./StatusMessageViewModel","geocortex/framework/utils/TimeDelayedOperation"],function(e,t,s,i,l,g,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=(a=s.ModuleBase,r(n,a),n.prototype.initialize=function(e){a.prototype.initialize.call(this,e),e.busyIcon||(e.busyIcon="Resources/Images/loader-small.gif"),this._defaultCloseTitle=this.getResource("language-common-close")},n.prototype.addStatus=function(e){var t;t="string"==typeof e||e instanceof String?new l.AddStatusArgs(e):e,this.app.command("ScreenReaderNarrate").execute(t.text);var s=!0,i=t.regionName||this.messageRegionName,a=this.app.viewManager.getExistingRegionByName(i);if(a){var o=a.ownerView;o&&o.configuration&&"boolean"==typeof o.configuration.showStatusMessages&&(s=o.configuration.showStatusMessages)}if(s){this._trackRegion(i),i==this.messageRegionName&&this.app.command("ActivateView").execute(this.statusViewName);var n=t.id?t.id:"StatusMessageView"+this.viewInstanceCounter++,r=this.app.viewManager.getViewById(n),u=r?r.viewModel:null;r=r||this.createView("StatusMessageView",n,i),t.id=n,u||(u=new g.StatusMessageViewModel(this.app,this.libraryId),r.attach(u)),u.text.set(t.text),u.closeTitle.set(t.closeTitle||this._defaultCloseTitle),t.imageProperties&&(u.imageUri.set(t.imageProperties.uri),u.imageClass.set(t.imageProperties.class),u.imageAltText.set(t.imageProperties.altText)),u.statusClass.set(t.statusClass),u.userClosedCallback=t.userClosedCallback,t.showBusyIcon&&u.imageUri.set(this.configuration.busyIcon),u.timer?u.timer.reset():t.timeoutMS&&0<t.timeoutMS&&(u.timer=new c.TimeDelayedAction(t.timeoutMS,function(){this.removeStatus(n)},this),u.timer.start())}},n.prototype.updateStatus=function(e){var t,s=(t="string"==typeof e||e instanceof String?new l.AddStatusArgs(e):e).regionName||this.messageRegionName;s==this.messageRegionName&&this.app.command("ActivateView").execute(this.statusViewName);var i=null;if(t.id)i=this.app.viewManager.getViewById(t.id);else{var a=this.app.viewManager.getExistingRegionByName(s);1<=a.views.length&&(i=a.views[a.views.length-1])}if(i){var o=i.viewModel;o&&(t.text&&o.text.set(t.text),t.closeTitle&&o.closeTitle.set(t.closeTitle),t.imageProperties&&t.imageProperties.uri&&o.imageUri.set(t.imageProperties.uri),t.imageProperties&&t.imageProperties.class&&o.imageClass.set(t.imageProperties.class),t.imageProperties&&t.imageProperties.altText&&o.imageAltText.set(t.imageProperties.altText),t.statusClass&&o.statusClass.set(t.statusClass),"function"==typeof t.userClosedCallback&&(o.userClosedCallback=t.userClosedCallback),o.timer&&o.timer.reset())}},n.prototype.pulseStatus=function(e){if(e){var t=this.app.viewManager.getViewById(e);if(t){var s=t.viewModel;s&&s.timer&&s.timer.reset()}}},n.prototype.removeStatus=function(e){var t=null;if(e)t=this.app.viewManager.getViewById(e);else{var s=this.app.viewManager.getExistingRegionByName(this.messageRegionName);1<=s.views.length&&(t=s.views[s.views.length-1])}t&&this.app.viewManager.destroyView(t)},n.prototype.createView=function(e,t,s){return this.app.viewManager.createView({viewId:t,typeName:"geocortex.essentialsHtmlViewer.mapping.modules.status."+e,markupResource:this.libraryId+"/modules/Status/"+e+".html",isVisible:!0,libraryId:this.libraryId,regionName:s})},n.prototype.viewUnhostedHandler=function(e){var t=e.region,s=e.view;this._regionNames.containsKey(t.name)&&(s&&s.viewModel&&s.viewModel.timer&&s.viewModel.timer.stop(),0==t.views.length&&(this._regionNames.remove(t.name),t.name==this.messageRegionName&&this.app.command("DeactivateView").execute(this.statusViewName)))},n.prototype._trackRegion=function(e){this._regionNames.set(e,e)},n);function n(e,t){var s=a.call(this,e,t)||this;return s.messageRegionName="StatusIndicatorMessageRegion",s.statusViewName="StatusIndicatorView",s.lastTestAddArgs=null,s.viewInstanceCounter=0,s._regionNames=new i.Dictionary,s.app.command("AddStatus").register(s,s.addStatus),s.app.command("UpdateStatus").register(s,s.updateStatus),s.app.command("PulseStatus").register(s,s.pulseStatus),s.app.command("RemoveStatus").register(s,s.removeStatus),s.app.event("ViewUnhostedEvent").subscribe(s,s.viewUnhostedHandler),s}t.StatusModule=o})},"url:/Mapping/modules/Status/StatusIndicatorView.html":t,"url:/Mapping/modules/Status/StatusMessageView.html":s}}),require(["geocortex/framework/resourceManager"],function(e){e.resourceManager.register("Mapping","inv","Mapping/modules/Status/CSS/common.css","css","DQovKiBTVEFUVVMgSU5ESUNBVE9SIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLw0KDQouc3RhdHVzLWluZGljYXRvciBpbWcsDQouc3RhdHVzLWluZGljYXRvciBzcGFuIHsNCiAgICBkaXNwbGF5OiBibG9jazsNCn0NCg0KLnN0YXR1cy13aW5kb3cgew0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICAgbWFyZ2luOiAuNGVtIDAuNGVtOw0KICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMSk7DQogICAgYm9yZGVyLXJhZGl1czogMC4yNXJlbTsNCiAgICB2ZXJ0aWNhbC1hbGlnbjogYm90dG9tOw0KICAgIGJvcmRlcjogMXB4IHNvbGlkICM5OTk5OTk7DQogICAgcGFkZGluZzogMC43OGVtOw0KfQ0KDQouc3RhdHVzLXdpbmRvdyAuc3RhdHVzLWltZywNCi5zdGF0dXMtd2luZG93IC5zdGF0dXMtbXNnIHsNCiAgICBtYXJnaW46IC43NWVtOw0KfQ0KDQouc3RhdHVzLXdpbmRvdyAuc3RhdHVzLWltZyB7DQogICAgbWFyZ2luLXJpZ2h0OiAwOw0KfQ0KDQouc3RhdHVzLWJ0biwNCi5zdGF0dXMtYnRuOmhvdmVyLA0KLnN0YXR1cy1idG46YWN0aXZlIHsNCiAgICBiYWNrZ3JvdW5kOiB1cmwoIlJlc291cmNlcy9JbWFnZXMvSWNvbnMvcGFuZWwtY2xvc2UucG5nIikgY2VudGVyIGNlbnRlciBuby1yZXBlYXQ7DQogICAgYm9yZGVyOiBub25lOw0KfQ0KDQouc3RhdHVzLWJ0biB7DQogICAgd2lkdGg6IDMuMTI1ZW07DQogICAgaGVpZ2h0OiAzLjEyNWVtOw0KICAgIHBhZGRpbmc6IDA7DQp9DQoNCi5zdGF0dXMtYnRuIHNwYW4gew0KICAgIGhlaWdodDogMi4zNGVtOw0KICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI0NDQ0NDQzsNCn0NCg0KLnN0YXR1cy1idG4gew0KICAgIGJveC1zaGFkb3c6IG5vbmU7DQogICAgLW1vei1ib3gtc2hhZG93OiBub25lOw0KICAgIC13ZWJraXQtYm94LXNoYWRvdzogbm9uZTsNCn0NCi5zdGF0dXMtd2luZG93LmFjdGl2ZS10b29sIC5zdGF0dXMtaW1nIHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzhlOWZmOw0KICAgIGJvcmRlcjogMXB4IHNvbGlkICM4ZmMzZTY7DQogICAgbWFyZ2luOiAwOw0KICAgIHBhZGRpbmc6IDAuNjI1ZW07DQogICAgYm9yZGVyLXJhZGl1czogMC4yNXJlbTsNCn0NCi5zdGF0dXMtd2luZG93LmFjdGl2ZS10b29sIC5zdGF0dXMtYnRuIHsNCiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoIlJlc291cmNlcy9JbWFnZXMvSWNvbnMvZGVsZXRlLTE2LnBuZyIpOw0KfQ0KDQovKiAtLS0tLS0gU1RBUlQ6IFBhbmVsIFN0YXR1cyAtLS0tLS0gKi8NCi5wYW5lbC1zdGF0dXMtcmVnaW9uLnJlZ2lvbi1hY3RpdmUgew0KICAgIGJhY2tncm91bmQ6ICNGRkZBQ0Q7DQogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNEOUQ5RDk7DQp9DQoucGFuZWwtc3RhdHVzLXJlZ2lvbiAuc3RhdHVzLXdpbmRvdyB7DQogICAgd2lkdGg6IDEwMCU7DQogICAgYm9yZGVyOiBub25lOw0KICAgIG1hcmdpbjogMDsNCiAgICBwYWRkaW5nOiAwOw0KICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50Ow0KICAgIGJvcmRlci1yYWRpdXM6IDA7DQp9DQoucGFuZWwtc3RhdHVzLXJlZ2lvbiAuc3RhdHVzLXdpbmRvdyB0YWJsZSB7DQogICAgd2lkdGg6IDEwMCU7DQogICAgdGFibGUtbGF5b3V0OiBmaXhlZDsNCn0NCg0KLnBhbmVsLXN0YXR1cy1yZWdpb24gLnN0YXR1cy13aW5kb3cgLnN0YXR1cy1pbWctY29udGFpbmVyIHsNCiAgICB3aWR0aDogMDsNCn0NCg0KLnBhbmVsLXN0YXR1cy1yZWdpb24gLnN0YXR1cy13aW5kb3cgLnN0YXR1cy1tc2ctY29udGFpbmVyIHsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOw0KICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7DQp9DQoNCi5wYW5lbC1zdGF0dXMtcmVnaW9uIC5zdGF0dXMtd2luZG93IC5zdGF0dXMtYnRuIHNwYW4gew0KICAgIGJvcmRlcjogbm9uZTsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBoZWlnaHQ6IDEwMCU7DQp9DQoucGFuZWwtc3RhdHVzLXJlZ2lvbiAuc3RhdHVzLWNsb3NlIHsNCiAgICB3aWR0aDogM2VtOw0KICAgIHRleHQtYWxpZ246IHJpZ2h0Ow0KfQ0KLyogLS0tLS0tIEVORDogUGFuZWwgU3RhdHVzIC0tLS0tLSAqLw=="),e.resourceManager.register("Mapping","inv","Mapping/modules/Status/CSS/small.css","css","DQovKiBTVEFUVVMgSU5ESUNBVE9SIChTTUFMTCkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovDQoNCi5zdGF0dXMtd2luZG93IHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDEpOw0KICAgIG1hcmdpbi1yaWdodDogNC4yNWVtOyAvKiBNYXJnaW4gdG8gbWFrZSByb29tIGZvciB0aGUgcGFuZWwgc3dpdGNoZXIgYnV0dG9uIHRvIGJlIHZpc2libGUgYXQgYWxsIHRpbWVzLiAqLw0KfQ0KDQouc3RhdHVzLWNsb3NlIHsNCiAgICBvcGFjaXR5OiAxMDA7DQp9DQouc3RhdHVzLXdpbmRvdyB7DQogICAgcGFkZGluZzogMC4zOWVtOw0KfQ0KLnN0YXR1cy1idG4gew0KICAgIGhlaWdodDogNGVtOw0KfQ=="),e.resourceManager.register("Mapping","inv","Mapping/modules/Status/StatusIndicatorView.html","html",t),e.resourceManager.register("Mapping","inv","Mapping/modules/Status/StatusMessageView.html","html",s)}),require({cache:{}}),define(["Mapping/modules/Status/StatusIndicatorView","Mapping/modules/Status/StatusMessageView","Mapping/modules/Status/StatusMessageViewModel","Mapping/modules/Status/StatusModule"],function(e,t,s,i){a(e,"geocortex.essentialsHtmlViewer.mapping.modules.status.StatusIndicatorView",e.StatusIndicatorView),a(t,"geocortex.essentialsHtmlViewer.mapping.modules.status.StatusMessageView",t.StatusMessageView),a(s,"geocortex.essentialsHtmlViewer.mapping.modules.status.StatusMessageViewModel",s.StatusMessageViewModel),a(i,"geocortex.essentialsHtmlViewer.mapping.modules.status.StatusModule",i.StatusModule)})}();