require({cache:{"Mapping/modules/Tools/ToolsModule":function(){var s,r=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});define(["require","exports","geocortex/framework/application/ModuleBase","geocortex/infrastructure/accessibility/InputMethod"],function(t,e,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,i=(s=o.ModuleBase,r(n,s),n.prototype.initialize=function(t){s.prototype.initialize.call(this,t),t.tools&&this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(t.tools,!0),t.hasOwnProperty("showStatusMessages")||(t.showStatusMessages=!0),t.showStatusMessages&&(this.app.event("ActiveToolChangedEvent").subscribe(this,this.activeToolChanged),this.app.event("ToolInputMethodChangedEvent").subscribe(this,this.toolInputMethodChanged))},n.prototype.activeToolChanged=function(t){var e;if(this.configuration.showStatusMessages)if(t&&t.tool){var o=t.tool;if(o.statusText){e=o.name+"StatusMessageView";var s=o.statusText;o.libraryId&&s&&0<s.length&&"@"===s[0]&&(s=this.app.getResource(o.libraryId,s.substring(1)));var i=o.closeTitle||this.getResource("language-common-deactivate-tool");o.libraryId&&i&&0<i.length&&"@"===i[0]&&(i=this.app.getResource(o.libraryId,i.substring(1)));var a={id:e,text:s,iconProperties:{uri:o.iconUri,altText:o.name},closeButton:{callback:function(){return o.setActive(!1)}}};this.app.command("DisplayNotification").execute(a),this.app.command("ScreenReaderNarrate").execute(o.statusText)}}else e=t.previousTool.name+"StatusMessageView",this.app.command("RemoveNotification").execute(e)},n.prototype.toolInputMethodChanged=function(t){if(this.configuration.showStatusMessages&&t&&t.tool){var e=t.tool,o=(t.newMethod||null)===a.InputMethod.KEYBOARD,s=o?e.keyboardStatusText:e.statusText;if(e.libraryId&&s&&0<s.length&&"@"===s[0]&&(s=this.app.getResource(e.libraryId,s.substring(1))),s){var i={id:e.name+"StatusMessageView",text:s,closeButton:{callback:function(){return e.setActive(!1)}}};this.app.command("DisplayNotification").execute(i),o&&this.app.command("ScreenReaderNarrate").execute(s)}}},n);function n(){var t=null!==s&&s.apply(this,arguments)||this;return t.cssClasses={activeTool:"active-tool"},t}e.ToolsModule=i})}}}),require({cache:{}}),define(["Mapping/modules/Tools/ToolsModule"],function(t){!function(t,e,o){if("string"==typeof t&&(o=e,e=t),void 0!==o)for(var s=e.split("."),i=null,a=window,n=0,r=s.length;n<r;n++)i=s[n],n==r-1?a[i]=o:a[i]||(a[i]={}),a=a[i];else console.warn("Undefined shim for: "+e)}(t,"geocortex.essentialsHtmlViewer.mapping.modules.tools.ToolsModule",t.ToolsModule)});