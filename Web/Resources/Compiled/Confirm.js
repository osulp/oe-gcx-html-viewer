function shim(e,i,n){if("string"==typeof e&&(n=i,i=e),"undefined"==typeof n)return void console.warn("Undefined shim for: "+i);for(var t=i.split("."),o=null,r=window,a=0,l=t.length;a<l;a++)o=t[a],a==l-1?r[o]=n:r[o]||(r[o]={}),r=r[o]}require({cache:{"Mapping/modules/Confirm/ConfirmModule":function(){define(["require","exports","geocortex/framework/application/ModuleBase"],function(e,i,n){"use strict";var t=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.confirmRegion="ModalWindowRegion",i.nativeImplementation=null,i.overrideNativeConfirm=!1,i}return __extends(i,e),i.prototype.initialize=function(i){var n=this;e.prototype.initialize.call(this,i),this.nativeImplementation=window.confirm,this.confirmRegion=i.confirmRegion,this.overrideNativeConfirm=i.overrideNativeConfirm;var t=function(e,i,t,o){if(!t)return n.nativeImplementation.apply(window,[e]);o=o||{},o.okLabel=o.okLabel||n.app.getResource(n.libraryId,"language-common-ok"),o.cancelLabel=o.cancelLabel||n.app.getResource(n.libraryId,"language-common-cancel");try{var r=n.app.viewManager.createView({typeName:"geocortex.essentialsHtmlViewer.mapping.modules.confirm.ConfirmView",markupResource:"Mapping/modules/Confirm/ConfirmView.html",isVisible:!0,regionName:n.confirmRegion,libraryId:n.libraryId});i||(i=n.app.getResource(n.libraryId,"language-confirm-default-title"));var a={title:i,confirmBody:e,callback:t,isOpen:!0,pending:[],okLabel:o.okLabel,cancelLabel:o.cancelLabel};r.title.set(i),r.attach(a),n.app.viewManager.activateView(r)}catch(l){n.app.trace.error("Error: Could not display confirm: "+l)}};this.overrideNativeConfirm&&(window.confirm=t),this.app.command("Confirm").register(this,function(e,i,n,o){i||(i=this.app.getResource(this.libraryId,"language-confirm-default-title")),n||(n=function(){}),t(e,i,n,o)})},i}(n.ModuleBase);i.ConfirmModule=t})},"Mapping/modules/Confirm/ConfirmView":function(){define(["require","exports","geocortex/framework/ui/ViewBase"],function(e,i,n){"use strict";var t=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.userHasClicked=!1,i.userCanceled=!1,i}return __extends(i,e),i.prototype.attach=function(i){if(e.prototype.attach.call(this,i),this.title.set(i.title),this.cancelButtonElement)try{this.cancelButtonElement.focus()}catch(n){}this.viewContainerViewClosedEventToken||(this.viewContainerViewClosedEventToken=this.app.event("ViewContainerViewClosedEvent").subscribe(this,function(e){e&&e.viewId===this.id&&this._deactivateForUser(!0)}))},i.prototype.destroyBindings=function(){e.prototype.destroyBindings.call(this),this.viewContainerViewClosedEventToken&&(this.app.event("ViewContainerViewClosedEvent").unsubscribe(this.viewContainerViewClosedEventToken),this.viewContainerViewClosedEventToken=null)},i.prototype.handleClickOk=function(e,i,n){return this._deactivateForUser(!1),!1},i.prototype.handleClickCancel=function(e,i,n){return this._deactivateForUser(!0),!1},i.prototype._deactivateForUser=function(e){this.userCanceled=e,this.userHasClicked=!0,this.app.viewManager.deactivateView(this),this.app.viewManager.destroyView(this),this.userHasClicked&&this.viewModel&&this.viewModel.callback&&this.viewModel.callback(!this.userCanceled)},i}(n.ViewBase);i.ConfirmView=t})},"url:/Mapping/modules/Confirm/ConfirmView.html":'\r\n<div class="module notification confirm">\r\n    <p class="desc" data-binding="{@text: confirmBody}"></p>\r\n    <div class="form-btns">\r\n        <button class="button" data-binding="{@event-onclick: handleClickOk}{@text: okLabel}" />\r\n        <button class="button" data-binding="{@var: cancelButtonElement}{@event-onclick: handleClickCancel}{@text: cancelLabel}" />\r\n    </div>\r\n</div>'}}),define(["Mapping/modules/Confirm/ConfirmModule","Mapping/modules/Confirm/ConfirmView"],function(e,i){shim(e,"geocortex.essentialsHtmlViewer.mapping.modules.confirm.ConfirmModule",e.ConfirmModule),shim(i,"geocortex.essentialsHtmlViewer.mapping.modules.confirm.ConfirmView",i.ConfirmView)});