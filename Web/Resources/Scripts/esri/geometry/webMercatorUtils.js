// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.27/esri/copyright.txt for details.
//>>built
define("esri/geometry/webMercatorUtils","dojo/_base/array dojo/_base/lang dojo/has ../kernel ../SpatialReference ./Point".split(" "),function(l,g,p,q,h,c){function f(a,b,d,c){if("point"===a.type){var e=b(a.x,a.y,c);return new a.constructor(e[0],e[1],new h(d))}if("extent"===a.type){var e=b(a.xmin,a.ymin,c),f=b(a.xmax,a.ymax,c);return new a.constructor(e[0],e[1],f[0],f[1],new h(d))}if("polyline"===a.type||"polygon"===a.type){var e="polyline"===a.type,m=[],g;l.forEach(e?a.paths:a.rings,function(a){m.push(g=
[]);l.forEach(a,function(a){g.push(b(a[0],a[1],c))})});return e?new a.constructor({paths:m,spatialReference:new h(d)}):new a.constructor({rings:m,spatialReference:new h(d)})}if("multipoint"===a.type){var k=[];l.forEach(a.points,function(a){k.push(b(a[0],a[1],c))});return new a.constructor({points:k,spatialReference:new h(d)})}}function k(a,b){a=a&&(null!=a.wkid?a:a.spatialReference);b=b&&(null!=b.wkid?b:b.spatialReference);return a&&b?b.equals(a)?!0:b._canProject(a):!1}var n={canProject:k,project:function(a,
b){var d=a&&a.spatialReference;b=b&&(null!=b.wkid?b:b.spatialReference);d&&b?d.equals(b)?a=new a.constructor(a.toJson()):k(d,b)?b.isWebMercator()?a=f(a,c.lngLatToXY,{wkid:102100}):4326===b.wkid&&(a=f(a,c.xyToLngLat,{wkid:4326})):a=null:a=null;return a},lngLatToXY:c.lngLatToXY,xyToLngLat:c.xyToLngLat,metersPerDegree:c.metersPerDegree,geographicToWebMercator:function(a){return f(a,c.lngLatToXY,{wkid:102100})},webMercatorToGeographic:function(a,b){return f(a,c.xyToLngLat,{wkid:4326},b)}};p("extend-esri")&&
g.mixin(g.getObject("geometry",!0,q),n);return n});