// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.27/esri/copyright.txt for details.
//>>built
define("esri/geometry/Point","dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ../SpatialReference ./Geometry ../srUtils".split(" "),function(c,l,q,m,n,f,r,t){function g(a,b){89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;return[111319.49079327169*a,3189068.5*Math.log((1+Math.sin(b))/(1-Math.sin(b)))]}function h(a,b,d){a=a/6378137*57.29577951308232;return d?[a,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)))]:[a-360*Math.floor((a+180)/360),
57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)))]}function k(){}function e(){}function p(a){var b=a._json;a._unquantizeFn?(b=a._unquantizeFn({x:b.x,y:b.y}),a._xVal=b.x,a._yVal=b.y,a._unquantizeFn=null):(a._xVal=b.x,a._yVal=b.y);a._json=null}f={type:"point",x:0,y:0};c=c(r,{declaredClass:"esri.geometry.Point",type:"point",x:0,y:0,constructor:function(a,b,d){l.isArray(a)?(this.x=a[0],this.y=a[1],this.spatialReference=b):n.isObject(a)?(n.mixin(this,a),null!=this.latitude&&(this.y=
this.latitude),null!=this.longitude&&(this.x=this.longitude),this.spatialReference&&(this.spatialReference=t.createSpatialReference(this.spatialReference))):(this.x=a,this.y=b,this.spatialReference=d);this.verifySR()},offset:function(a,b){return new this.constructor(this.x+a,this.y+b,this.spatialReference)},setX:function(a){this.x=a;this.clearCache();return this},setY:function(a){this.y=a;this.clearCache();return this},setLongitude:function(a){var b=this.spatialReference;b&&(b._isWebMercator()?this.setX(g(a,
this.y)[0]):4326===b.wkid&&this.setX(a));return this},setLatitude:function(a){var b=this.spatialReference;b&&(b._isWebMercator()?this.setY(g(this.x,a)[1]):4326===b.wkid&&this.setY(a));return this},getLongitude:function(){var a=this.spatialReference,b;a&&(a._isWebMercator()?b=h(this.x,this.y)[0]:4326===a.wkid&&(b=this.x));return b},getLatitude:function(){var a=this.spatialReference,b;a&&(a._isWebMercator()?b=h(this.x,this.y)[1]:4326===a.wkid&&(b=this.y));return b},update:function(a,b){this.x=a;this.y=
b;this.clearCache();return this},normalize:function(){var a=this.x,b=this.spatialReference;if(b){var d=b._getInfo();d&&(a=this._normalizeX(a,d))}return new this.constructor(a,this.y,b)},_normalizeX:function(a,b){var d=b.valid[0],c=b.valid[1];b=2*c;a>c?(d=Math.ceil(Math.abs(a-c)/b),a-=d*b):a<d&&(d=Math.ceil(Math.abs(a-d)/b),a+=d*b);return a},toJson:function(){var a={x:this.x,y:this.y},b=this.spatialReference;b&&(a.spatialReference=b.toJson());return a}});k.prototype=c.prototype;e.prototype=new k;Object.defineProperty(e.prototype,
"x",{get:function(){this._json&&p(this);return this._xVal},set:function(a){this._xVal=a}});Object.defineProperty(e.prototype,"y",{get:function(){this._json&&p(this);return this._yVal},set:function(a){this._yVal=a}});e.prototype.setupLazyUnquantization=function(a,b){this._unquantizeFn=a;this._json=b};c.simpleConstructor=k;c.accessorConstructor=e;c.lngLatToXY=g;c.xyToLngLat=h;c.defaultProps=f;c.metersPerDegree=6378137*Math.PI/180;q("extend-esri")&&(l.setObject("geometry.Point",c,m),m.geometry.defaultPoint=
f);return c});