// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.25/esri/copyright.txt for details.
//>>built
(function(g,n){var m,l=function(){return"undefined"!==typeof A&&"function"!==typeof A?A:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),p=function(){},t=function(a){for(var c in a)return 0;return 1},u={}.toString,w=function(a){return"[object Function]"==u.call(a)},f=function(a){return"[object String]"==u.call(a)},b=function(a){return"[object Array]"==u.call(a)},e=function(a,c){if(a)for(var b=0;b<a.length;)c(a[b++])},d=function(a,c){for(var b in c)a[b]=c[b];return a},C=function(a,
c){return d(Error(a),{src:"dojoLoader",info:c})},Ha=1,Z=function(){return"_"+Ha++},k=function(a,c,b){return oa(a,c,b,0,k)},A=l,N=A.document,Ia=N&&N.createElement("DiV"),r=k.has=function(a){return w(E[a])?E[a]=E[a](A,N,Ia):E[a]},E=r.cache=n.hasCache;w(g)&&(g=g(l));r.add=function(a,c,b,h){(void 0===E[a]||h)&&(E[a]=c);return b&&r(a)};d(n.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0});n.loaderPatch={injectUrl:function(a,
c){try{importScripts(a),c()}catch(v){console.info("failed to load resource ("+a+")"),console.error(v)}}};for(var F in g.has)r.add(F,g.has[F],0,1);k.async=1;var Ja=r("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");k.eval=function(a,c){return Ja(a+"\r\n//# sourceURL\x3d"+c)};var aa={},D=k.signal=function(a,c){var v=aa[a];e(v&&v.slice(0),function(a){a.apply(null,b(c)?c:[c])})};F=k.on=function(a,c){var b=aa[a]||(aa[a]=[]);b.push(c);return{remove:function(){for(var a=0;a<b.length;a++)if(b[a]===
c){b.splice(a,1);break}}}};var pa=[],Ka={},qa=[],H={},ra=k.map={},O=[],x={},ba="",I={},P={},l={},da=function(a){var c,b,h,d;for(c in P)b=P[c],(h=c.match(/^url\:(.+)/))?I["url:"+sa(h[1],a)]=b:"*now"==c?d=b:"*noref"!=c&&(h=Q(c,a,!0),I[h.mid]=I["url:"+h.url]=b);d&&d(ca(a));P={}},ta=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return"\\"+a})},ea=function(a,c){c.splice(0,c.length);for(var b in a)c.push([b,a[b],new RegExp("^"+ta(b)+"(/|$)"),b.length]);c.sort(function(a,c){return c[3]-
a[3]});return c},La=function(a,c){e(a,function(a){c.push([f(a[0])?new RegExp("^"+ta(a[0])+"$"):a[0],a[1]])})},ua=function(a){var c=a.name;c||(c=a,a={name:c});a=d({main:"main"},a);a.location=a.location?a.location:c;a.packageMap&&(ra[c]=a.packageMap);a.main.indexOf("./")||(a.main=a.main.substring(2));H[c]=a},va=[],K=function(a,c,b){for(var h in a){"waitSeconds"==h&&(k.waitms=1E3*(a[h]||0));"cacheBust"==h&&(ba=a[h]?f(a[h])?a[h]:(new Date).getTime()+"":"");if("baseUrl"==h||"combo"==h)k[h]=a[h];a[h]!==
E&&(k.rawConfig[h]=a[h],"has"!=h&&r.add("config-"+h,a[h],0,c))}k.baseUrl||(k.baseUrl="./");/\/$/.test(k.baseUrl)||(k.baseUrl+="/");for(h in a.has)r.add(h,a.has[h],0,c);e(a.packages,ua);for(var v in a.packagePaths)e(a.packagePaths[v],function(a){var c=v+"/"+a;f(a)&&(a={name:a});a.location=c;ua(a)});ea(d(ra,a.map),O);e(O,function(a){a[1]=ea(a[1],[]);"*"==a[0]&&(O.star=a)});ea(d(Ka,a.paths),qa);La(a.aliases,pa);if(c)va.push({config:a.config});else for(h in a.config)c=G(h,b),c.config=d(c.config||{},a.config[h]);
a.cache&&(da(),P=a.cache,a.cache["*noref"]&&da());D("config",[a,k.rawConfig])};if(r("dojo-cdn")){var wa=N.getElementsByTagName("script");m=0;for(var R,y,S,L;m<wa.length;)if(R=wa[m++],(S=R.getAttribute("src"))&&(L=S.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(y=L[3]||"",n.baseUrl=n.baseUrl||y),S=R.getAttribute("data-dojo-config")||R.getAttribute("djConfig"))l=k.eval("({ "+S+" })","data-dojo-config")}k.rawConfig={};K(n,1);r("dojo-cdn")&&((H.dojo.location=y)&&(y+="/"),H.dijit.location=y+"../dijit/",H.dojox.location=
y+"../dojox/");K(g,1);K(l,1);var ga=function(a){fa(function(){e(a.deps,xa)})},oa=function(a,c,v,h,e){var q;if(f(a)){if((q=G(a,h,!0))&&q.executed)return q.result;throw C("undefinedModule",a);}b(a)||(K(a,0,h),a=c,c=v);if(b(a))if(a.length){v="require*"+Z();for(var g,l=[],m=0;m<a.length;)g=a[m++],l.push(G(g,h));q=d(T("",v,0,""),{injected:2,deps:l,def:c||p,require:h?h.require:k,gc:1});x[q.mid]=q;ga(q);var n=M&&!0;fa(function(){ha(q,n)});q.executed||B.push(q);ia()}else c&&c();return e},ca=function(a){if(!a)return k;
var c=a.require;c||(c=function(b,h,d){return oa(b,h,d,a,c)},a.require=d(c,k),c.module=a,c.toUrl=function(c){return sa(c,a)},c.toAbsMid=function(c){return ja(c,a)});return c},B=[],U=[],z={},Na=function(a){a.injected=1;z[a.mid]=1;a.url&&(z[a.url]=a.pack||1);ya()},W=function(a){a.injected=2;delete z[a.mid];a.url&&delete z[a.url];t(z)&&V()},Oa=k.idle=function(){return!U.length&&t(z)&&!B.length&&!M},ka=function(a,c){if(c)for(var b=0;b<c.length;b++)if(c[b][2].test(a))return c[b];return 0},za=function(a){var c=
[],b,h;for(a=a.replace(/\\/g,"/").split("/");a.length;)b=a.shift(),".."==b&&c.length&&".."!=h?(c.pop(),h=c[c.length-1]):"."!=b&&c.push(h=b);return c.join("/")},T=function(a,b,d,h){return{pid:a,mid:b,pack:d,url:h,executed:0,def:0}},Aa=function(a,b,d,h,f,k,g,l,m){var c,v,q,p;p=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||p&&!b)return T(0,a,0,a);a=za(p?b.mid+"/../"+a:a);if(/^\./.test(a))throw C("irrationalPath",a);b&&(q=ka(b.mid,k));(q=(q=q||k.star)&&ka(a,q[1]))&&(a=q[1]+a.substring(q[3]));b=(L=a.match(/^([^\/]+)(\/(.+))?$/))?
L[1]:"";(c=d[b])?a=b+"/"+(v=L[3]||c.main):b="";var n=0;e(l,function(b){var c=a.match(b[0]);c&&0<c.length&&(n=w(b[1])?a.replace(b[0],b[1]):b[1])});if(n)return Aa(n,0,d,h,f,k,g,l,m);if(d=h[a])return m?T(d.pid,d.mid,d.pack,d.url):h[a];h=(q=ka(a,g))?q[1]+a.substring(q[3]):b?("/"===c.location.slice(-1)?c.location.slice(0,-1):c.location)+"/"+v:r("config-tlmSiblingOfDojo")?"../"+a:a;/(^\/)|(\:)/.test(h)||(h=f+h);return T(b,a,c,za(h+".js"))},Q=function(a,b,d){return Aa(a,b,H,x,k.baseUrl,d?[]:O,d?[]:qa,d?
[]:pa)},Ba=function(a,b,d){return a.normalize?a.normalize(b,function(a){return ja(a,d)}):ja(b,d)},Ca=0,G=function(a,b,d){var c,e;(c=a.match(/^(.+?)\!(.*)$/))?(e=G(c[1],b,d),5!==e.executed||e.load||la(e),e.load?(c=Ba(e,c[2],b),a=e.mid+"!"+(e.dynamic?++Ca+"!":"")+c):(c=c[2],a=e.mid+"!"+ ++Ca+"!waitingForPlugin"),a={plugin:e,mid:a,req:ca(b),prid:c}):a=Q(a,b);return x[a.mid]||!d&&(x[a.mid]=a)},ja=k.toAbsMid=function(a,b){return Q(a,b).mid},sa=k.toUrl=function(a,b){var c=Q(a+"/x",b),d=c.url;return Da(0===
c.pid?a:d.substring(0,d.length-5))},Ea={injected:2,executed:5,def:3,result:3};y=function(a){return x[a]=d({mid:a},Ea)};var Pa=y("require"),Qa=y("exports"),Ra=y("module"),X={},ma=0,la=function(a){var b=a.result;a.dynamic=b.dynamic;a.normalize=b.normalize;a.load=b.load;return a},Sa=function(a){var b={};e(a.loadQ,function(c){var e=Ba(a,c.prid,c.req.module),h=a.dynamic?c.mid.replace(/waitingForPlugin$/,e):a.mid+"!"+e,e=d(d({},c),{mid:h,prid:e,injected:0});x[h]&&x[h].injected||Fa(x[h]=e);b[c.mid]=x[h];
W(c);delete x[c.mid]});a.loadQ=0;var f=function(a){for(var c=a.deps||[],d=0;d<c.length;d++)(a=b[c[d].mid])&&(c[d]=a)},h;for(h in x)f(x[h]);e(B,f)},na=function(a){k.trace("loader-finish-exec",[a.mid]);a.executed=5;a.defOrder=ma++;a.loadQ&&(la(a),Sa(a));for(m=0;m<B.length;)B[m]===a?B.splice(m,1):m++;/^require\*/.test(a.mid)&&delete x[a.mid]},Ta=[],ha=function(a,b){if(4===a.executed)return k.trace("loader-circular-dependency",[Ta.concat(a.mid).join("-\x3e")]),!a.def||b?X:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return X;
var c=a.mid,d=a.deps||[],e,f=[],g=0;for(a.executed=4;e=d[g++];){e=e===Pa?ca(a):e===Qa?a.cjs.exports:e===Ra?a.cjs:ha(e,b);if(e===X)return a.executed=0,k.trace("loader-exec-module",["abort",c]),X;f.push(e)}k.trace("loader-run-factory",[a.mid]);var c=a.def,l;if(r("config-dojo-loader-catches"))try{l=w(c)?c.apply(null,f):c}catch(Ma){D("error",a.result=C("factoryThrew",[a,Ma]))}else l=w(c)?c.apply(null,f):c;a.result=void 0===l&&a.cjs?a.cjs.exports:l;na(a)}return a.result},M=0,fa=function(a){try{M++,a()}catch(c){throw c;
}finally{M--}Oa()&&D("idle",[])},ia=function(){M||fa(function(){for(var a,b,d=0;d<B.length;)a=ma,b=B[d],ha(b),a!=ma?d=0:d++})},Da="function"==typeof g.fixupUrl?g.fixupUrl:function(a){a+="";return a+(ba?(/\?/.test(a)?"\x26":"?")+ba:"")};void 0===r("dojo-loader-eval-hint-url")&&r.add("dojo-loader-eval-hint-url",1);var Fa=function(a){var b=a.plugin;5!==b.executed||b.load||la(b);var d=function(b){a.result=b;W(a);na(a);ia()};b.load?b.load(a.prid,a.req,d):b.loadQ?b.loadQ.push(a):(b.loadQ=[a],B.unshift(b),
xa(b))},J=0,Ua=function(a,b){r("config-stripStrict")&&(a=a.replace(/(["'])use strict\1/g,""));if(r("config-dojo-loader-catches"))try{a===J?J.call(null):k.eval(a,r("dojo-loader-eval-hint-url")?b.url:b.mid)}catch(v){D("error",C("evalModuleThrew",b))}else a===J?J.call(null):k.eval(a,r("dojo-loader-eval-hint-url")?b.url:b.mid)},xa=function(a){var b=a.mid,e=a.url;if(!(a.executed||a.injected||z[b]||a.url&&(a.pack&&z[a.url]===a.pack||1==z[a.url])))if(Na(a),a.plugin)Fa(a);else{var h=function(){Va(a);if(2!==
a.injected){if(r("dojo-enforceDefine")){D("error",C("noDefine",a));return}W(a);d(a,Ea);k.trace("loader-define-nonmodule",[a.url])}ia()};(J=I[b]||I["url:"+a.url])?(k.trace("loader-inject",["cache",a.mid,e]),Ua(J,a),h()):(k.trace("loader-inject",["script",a.mid,e]),k.injectUrl(Da(e),h,a))}},Ga=function(a,b,e){k.trace("loader-define-module",[a.mid,b]);if(2===a.injected)return D("error",C("multipleDefine",a)),a;d(a,{deps:b,def:e,cjs:{id:a.mid,uri:a.url,exports:a.result={},setExports:function(b){a.cjs.exports=
b},config:function(){return a.config}}});for(var c=0;b[c];c++)b[c]=G(b[c],a);W(a);w(e)||b.length||(a.result=e,na(a));return a},Va=function(a,b){for(var c=[],d,f;U.length;)f=U.shift(),b&&(f[0]=b.shift()),d=f[0]&&G(f[0])||a,c.push([d,f[1],f[2]]);da(a);e(c,function(a){ga(Ga.apply(null,a))})},Y=0,V=p,ya=p,V=function(){Y&&clearTimeout(Y);Y=0},ya=function(){V();k.waitms&&(Y=A.setTimeout(function(){V();D("error",C("timeout",z))},k.waitms))};k.log=function(){try{for(var a=0;a<arguments.length;a++)console.log(arguments[a])}catch(c){}};
k.trace=p;y=function(a,b,d){var c=arguments.length,e=["require","exports","module"],g=[0,a,b];1==c?g=[0,w(a)?e:[],a]:2==c&&f(a)?g=[a,w(b)?e:[],b]:3==c&&(g=[a,b,d]);k.trace("loader-define",g.slice(0,2));(c=g[0]&&G(g[0]))&&!z[c.mid]?ga(Ga(c,g[1],g[2])):(r("ie-event-behavior"),U.push(g))};y.amd={vendor:"dojotoolkit.org"};d(d(k,n.loaderPatch),g.loaderPatch);F("error",function(a){try{if(console.error(a),a instanceof Error){for(var b in a)console.log(b+":",a[b]);console.log(".")}}catch(v){}});d(k,{uid:Z,
cache:I,packs:H});A.define?D("error",C("defineAlreadyDefined",0)):(A.define=y,A.require=k,e(va,function(a){K(a)}),F=l.deps||g.deps||n.deps,l=l.callback||g.callback||n.callback,k.boot=F||l?[F||[],l]:0)})(function(g){return g.dojoConfig||g.djConfig||g.require||{}},{async:1,hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},
{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dgrid1",main:"OnDemandGrid",name:"dgrid1"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../put-selector",main:"put",name:"put-selector"},{location:"../xstyle",name:"xstyle"},{location:"../moment",main:"moment.js",name:"moment"},{location:"../esri",name:"esri"}]});
require({cache:{"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(g,n){n.add("bug-for-in-skips-shadowed",function(){for(var b in{toString:1})return 0;return 1});var m=n("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],l=m.length,p=function(b,e,d){d||(d=b[0]&&g.scopeMap[b[0]]?g.scopeMap[b.shift()][1]:g.global);try{for(var f=0;f<b.length;f++){var l=b[f];if(!(l in d))if(e)d[l]={};else return;
d=d[l]}return d}catch(Z){}},t=Object.prototype.toString,u=function(b,e,d){return(d||[]).concat(Array.prototype.slice.call(b,e||0))},w=/\{([^\}]+)\}/g,f={_extraNames:m,_mixin:function(b,e,d){var f,g,p,k={};for(f in e)g=e[f],f in b&&(b[f]===g||f in k&&k[f]===g)||(b[f]=d?d(g):g);if(n("bug-for-in-skips-shadowed")&&e)for(p=0;p<l;++p)f=m[p],g=e[f],f in b&&(b[f]===g||f in k&&k[f]===g)||(b[f]=d?d(g):g);return b},mixin:function(b,e){b||(b={});for(var d=1,g=arguments.length;d<g;d++)f._mixin(b,arguments[d]);
return b},setObject:function(b,e,d){var f=b.split(".");b=f.pop();return(d=p(f,!0,d))&&b?d[b]=e:void 0},getObject:function(b,e,d){return b?p(b.split("."),e,d):d},exists:function(b,e){return void 0!==f.getObject(b,!1,e)},isString:function(b){return"string"==typeof b||b instanceof String},isArray:Array.isArray||function(b){return"[object Array]"==t.call(b)},isFunction:function(b){return"[object Function]"===t.call(b)},isObject:function(b){return void 0!==b&&(null===b||"object"==typeof b||f.isArray(b)||
f.isFunction(b))},isArrayLike:function(b){return!!b&&!f.isString(b)&&!f.isFunction(b)&&!(b.tagName&&"form"==b.tagName.toLowerCase())&&(f.isArray(b)||isFinite(b.length))},isAlien:function(b){return b&&!f.isFunction(b)&&/\{\s*\[native code\]\s*\}/.test(String(b))},extend:function(b,e){for(var d=1,g=arguments.length;d<g;d++)f._mixin(b.prototype,arguments[d]);return b},_hitchArgs:function(b,e){var d=f._toArray(arguments,2),l=f.isString(e);return function(){var p=f._toArray(arguments),m=l?(b||g.global)[e]:
e;return m&&m.apply(b||this,d.concat(p))}},hitch:function(b,e){if(2<arguments.length)return f._hitchArgs.apply(g,arguments);e||(e=b,b=null);if(f.isString(e)){b=b||g.global;if(!b[e])throw['lang.hitch: scope["',e,'"] is null (scope\x3d"',b,'")'].join("");return function(){return b[e].apply(b,arguments||[])}}return b?function(){return e.apply(b,arguments||[])}:e},delegate:function(){function b(){}return function(e,d){b.prototype=e;var g=new b;b.prototype=null;d&&f._mixin(g,d);return g}}(),_toArray:n("ie")?
function(){function b(b,d,f){f=f||[];for(d=d||0;d<b.length;d++)f.push(b[d]);return f}return function(e){return(e.item?b:u).apply(this,arguments)}}():u,partial:function(b){return f.hitch.apply(g,[null].concat(f._toArray(arguments)))},clone:function(b){if(!b||"object"!=typeof b||f.isFunction(b))return b;if(b.nodeType&&"cloneNode"in b)return b.cloneNode(!0);if(b instanceof Date)return new Date(b.getTime());if(b instanceof RegExp)return new RegExp(b);var e,d,g;if(f.isArray(b))for(e=[],d=0,g=b.length;d<
g;++d)d in b&&(e[d]=f.clone(b[d]));else e=b.constructor?new b.constructor:{};return f._mixin(e,b,f.clone)},trim:String.prototype.trim?function(b){return b.trim()}:function(b){return b.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(b,e,d){return b.replace(d||w,f.isFunction(e)?e:function(b,d){return f.getObject(d,!1,e)})}};f.mixin(g,f);return f})},"dojo/_base/kernel":function(){define(["../global","../has","./config","require","module"],function(g,n,m,l,p){var t,u={},w={},f={config:m,global:g,
dijit:u,dojox:w},u={dojo:["dojo",f],dijit:["dijit",u],dojox:["dojox",w]};p=l.map&&l.map[p.id.match(/[^\/]+/)[0]];for(t in p)u[t]?u[t][0]=p[t]:u[t]=[p[t],{}];for(t in u)p=u[t],p[1]._scopeName=p[0],m.noGlobals||(g[p[0]]=p[1]);f.scopeMap=u;f.baseUrl=f.config.baseUrl=l.baseUrl;f.isAsync=l.async;f.locale=m.locale;g="$Rev: aaa6750 $".match(/[0-9a-f]{7,}/);f.version={major:1,minor:13,patch:0,flag:"",revision:g?g[0]:NaN,toString:function(){var b=f.version;return b.major+"."+b.minor+"."+b.patch+b.flag+" ("+
b.revision+")"}};n("csp-restrictions")||Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(f);f.exit=function(){};n.add("dojo-debug-messages",!!m.isDebug);f.deprecated=f.experimental=function(){};n("dojo-debug-messages")&&(f.deprecated=function(b,e,d){b="DEPRECATED: "+b;e&&(b+=" "+e);d&&(b+=" -- will be removed in version: "+d);console.warn(b)},f.experimental=function(b,e){var d="EXPERIMENTAL: "+b+" -- APIs subject to change without notice.";
e&&(d+=" "+e);console.warn(d)});if(m.modulePaths){f.deprecated("dojo.modulePaths","use paths configuration");n={};for(t in m.modulePaths)n[t.replace(/\./g,"/")]=m.modulePaths[t];l({paths:n})}f.moduleUrl=function(b,e){f.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var d=null;b&&(d=l.toUrl(b.replace(/\./g,"/")+(e?"/"+e:"")+"/*.*").replace(/\/\*\.\*/,"")+(e?"":"/"));return d};f._hasResource={};return f})},"dojo/global":function(){define(function(){return"undefined"!==typeof global&&"function"!==
typeof global?global:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this})},"dojo/has":function(){define(["./global","require","module"],function(g,n,m){var l=n.has||function(){};l.clearElement=function(g){g.innerHTML="";return g};l.normalize=function(g,m){var p=g.match(/[\?:]|[^:\?]*/g),n=0,f=function(b){var e=p[n++];if(":"==e)return 0;if("?"==p[n++]){if(!b&&l(e))return f();f(!0);return f(b)}return e||0};return(g=f())&&m(g)};l.load=function(g,l,m){g?l([g],m):m()};return l})},"dojo/_base/config":function(){define(["../global",
"../has","require"],function(g,n,m){g={};m=m.rawConfig;for(var l in m)g[l]=m[l];!g.locale&&"undefined"!=typeof navigator&&(l=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||navigator.userLanguage)&&(g.locale=l.toLowerCase());return g})},"dojo/sniff":function(){define(["./has"],function(g){return g})}}});(function(){var g=this.require;g({cache:{}});!g.async&&g(["dojo"]);g.boot&&g.apply(null,g.boot)})();
//>>built
require({cache:{"esri/config":function(){define(["dojo/_base/config","dojo/topic","dojo/has","./kernel"],function(p,a,g,n){var f=function(){return this}(),e={defaults:{screenDPI:96,geometryService:null,kmlService:null,map:{width:400,height:400,layerNamePrefix:"layer",graphicsLayerNamePrefix:"graphicsLayer",slider:{left:"30px",top:"30px",width:null,height:"200px"},sliderLabel:{tick:5,labels:null,style:"width:2em; font-family:Verdana; font-size:75%;"},sliderChangeImmediate:!0,zoomSymbol:{color:[0,0,
0,64],outline:{color:[255,0,0,255],width:1.25,style:"esriSLSSolid"},style:"esriSFSSolid"},zoomDuration:500,zoomRate:25,zoomAnimationThrottled:!0,panDuration:350,panRate:25,logoLink:"http://www.esri.com"},autoSpatialIndexing:f.Worker&&!1,io:{errorHandler:function(e,b){a.publish("esri.Error",[e])},proxyUrl:null,alwaysUseProxy:!1,useCors:"with-credentials",corsEnabledServers:[/^https?:\/\/.+\.arcgis\.com(\/|$)/i,"server.arcgisonline.com","services.arcgisonline.com","www.arcgis.com","js.arcgis.com","jsdev.arcgis.com",
"jsqa.arcgis.com","tiles.arcgis.com","tiles1.arcgis.com","tiles2.arcgis.com","tiles3.arcgis.com","tiles4.arcgis.com","basemaps.arcgis.com","basemapsbeta.arcgis.com","elevation3d.arcgis.com","services.arcgis.com","services1.arcgis.com","services2.arcgis.com","services3.arcgis.com","services4.arcgis.com","services5.arcgis.com","services6.arcgis.com","services7.arcgis.com","services8.arcgis.com","services9.arcgis.com","cdn.arcgis.com","cdn-a.arcgis.com","cdn-b.arcgis.com","static.arcgis.com","utility.arcgis.com",
"utility.arcgisonline.com","geocode.arcgis.com","geoenrich.arcgis.com","qaext.arcgis.com","staticqa.arcgis.com","tilesqa.arcgis.com","servicesqa.arcgis.com","servicesqa1.arcgis.com","servicesqa2.arcgis.com","servicesqa3.arcgis.com","geocodeqa.arcgis.com","geoenrichqa.arcgis.com","dev.arcgis.com","devext.arcgis.com","localvtiles.arcgis.com","staticdev.arcgis.com","tilesdevext.arcgis.com","elevation3ddev.arcgis.com","servicesdev.arcgis.com","servicesdev1.arcgis.com","servicesdev2.arcgis.com","servicesdev3.arcgis.com",
"geocodedev.arcgis.com","geoenrichdev.arcgis.com","basemapsdev.arcgis.com","basemapsbetadev.arcgis.com"],corsDetection:f.cordova?!1:!0,corsDetectionTimeout:15,corsStatus:{},webTierAuthServers:[],proxyRules:[],postLength:2E3,timeout:6E4,useWorkers:"on-request",maxRequestWorkers:5,httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" ")},workers:{loaderConfig:{has:{},
paths:{},map:{},packages:[]}}}};g("extend-esri")&&(n.config=e);p.noGlobals||(f.esriConfig=e);return e})},"dojo/topic":function(){define(["./Evented"],function(p){var a=new p;return{publish:function(g,n){return a.emit.apply(a,arguments)},subscribe:function(g,n){return a.on.apply(a,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(p,a){function g(){}var n=p.after;g.prototype={on:function(f,e){return a.parse(this,f,e,function(a,b){return n(a,"on"+b,e,!0)})},emit:function(f,
e){var k=[this];k.push.apply(k,arguments);return a.emit.apply(a,k)}};return g})},"dojo/aspect":function(){define([],function(){function p(a,b,d,h){var c=a[b],e="around"==b,f;if(e){var k=d(function(){return c.advice(this,arguments)});f={remove:function(){k&&(k=a=d=null)},advice:function(b,a){return k?k.apply(b,a):c.advice(b,a)}}}else f={remove:function(){if(f.advice){var c=f.previous,h=f.next;h||c?(c?c.next=h:a[b]=h,h&&(h.previous=c)):delete a[b];a=d=f.advice=null}},id:a.nextId++,advice:d,receiveArguments:h};
if(c&&!e)if("after"==b){for(;c.next&&(c=c.next););c.next=f;f.previous=c}else"before"==b&&(a[b]=f,f.next=c,c.previous=f);else a[b]=f;return f}function a(a){return function(b,d,h,c){var e=b[d],f;e&&e.target==b||(b[d]=f=function(){for(var b=f.nextId,c=arguments,a=f.before;a;)a.advice&&(c=a.advice.apply(this,c)||c),a=a.next;if(f.around)var d=f.around.advice(this,c);for(a=f.after;a&&a.id<b;){if(a.advice)if(a.receiveArguments)var h=a.advice.apply(this,c),d=h===g?d:h;else d=a.advice.call(this,d,c);a=a.next}return d},
e&&(f.around={advice:function(b,c){return e.apply(b,c)}}),f.target=b,f.nextId=f.nextId||0);b=p(f||e,a,h,c);h=null;return b}}var g,n=a("after"),f=a("before"),e=a("around");return{before:f,around:e,after:n}})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(p,a,g){function n(a,d,h,e,f){if(e=d.match(/(.*):(.*)/))return d=e[2],e=e[1],k.selector(e,d).call(f,a,h);g("touch")&&(b.test(d)&&(h=x(h)),g("event-orientationchange")||"orientationchange"!=
d||(d="resize",a=window,h=x(h)));r&&(h=r(h));if(a.addEventListener){var q=d in c,t=q?c[d]:d;a.addEventListener(t,h,q);return{remove:function(){a.removeEventListener(t,h,q)}}}if(v&&a.attachEvent)return v(a,"on"+d,h);throw Error("Target must be an event emitter");}function f(){this.cancelable=!1;this.defaultPrevented=!0}function e(){this.bubbles=!1}var k=function(b,c,a,d){return"function"!=typeof b.on||"function"==typeof c||b.nodeType?k.parse(b,c,a,n,d,this):b.on(c,a)};k.pausable=function(b,c,a,d){var h;
b=k(b,c,function(){if(!h)return a.apply(this,arguments)},d);b.pause=function(){h=!0};b.resume=function(){h=!1};return b};k.once=function(b,c,a,d){var h=k(b,c,function(){h.remove();return a.apply(this,arguments)});return h};k.parse=function(b,c,a,d,h,e){var f;if(c.call)return c.call(e,b,a);c instanceof Array?f=c:-1<c.indexOf(",")&&(f=c.split(/\s*,\s*/));if(f){var q=[];c=0;for(var t;t=f[c++];)q.push(k.parse(b,t,a,d,h,e));q.remove=function(){for(var b=0;b<q.length;b++)q[b].remove()};return q}return d(b,
c,a,h,e)};var b=/^touch/;k.matches=function(b,c,d,h,e){e=e&&"function"==typeof e.matches?e:a.query;h=!1!==h;1!=b.nodeType&&(b=b.parentNode);for(;!e.matches(b,c,d);)if(b==d||!1===h||!(b=b.parentNode)||1!=b.nodeType)return!1;return b};k.selector=function(b,c,a){return function(d,h){function e(c){return k.matches(c,b,d,a,f)}var f="function"==typeof b?{matches:b}:this,q=c.bubble;return q?k(d,q(e),h):k(d,c,function(b){var c=e(b.target);if(c)return b.selectorTarget=c,h.call(c,b)})}};var d=[].slice,h=k.emit=
function(b,c,a){var h=d.call(arguments,2),q="on"+c;if("parentNode"in b){var k=h[0]={},t;for(t in a)k[t]=a[t];k.preventDefault=f;k.stopPropagation=e;k.target=b;k.type=c;a=k}do b[q]&&b[q].apply(b,h);while(a&&a.bubbles&&(b=b.parentNode));return a&&a.cancelable&&a},c=g("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!g("event-stopimmediatepropagation"))var q=function(){this.modified=this.immediatelyStopped=!0},r=function(b){return function(c){if(!c.immediatelyStopped)return c.stopImmediatePropagation=
q,b.apply(this,arguments)}};if(g("dom-addeventlistener"))k.emit=function(b,c,a){if(b.dispatchEvent&&document.createEvent){var d=(b.ownerDocument||document).createEvent("HTMLEvents");d.initEvent(c,!!a.bubbles,!!a.cancelable);for(var e in a)e in d||(d[e]=a[e]);return b.dispatchEvent(d)&&d}return h.apply(k,arguments)};else{k._fixEvent=function(b,c){b||(b=(c&&(c.ownerDocument||c.document||c).parentWindow||window).event);if(!b)return b;try{t&&b.type==t.type&&b.srcElement==t.target&&(b=t)}catch(O){}if(!b.target)switch(b.target=
b.srcElement,b.currentTarget=c||b.srcElement,"mouseover"==b.type&&(b.relatedTarget=b.fromElement),"mouseout"==b.type&&(b.relatedTarget=b.toElement),b.stopPropagation||(b.stopPropagation=z,b.preventDefault=C),b.type){case "keypress":var a="charCode"in b?b.charCode:b.keyCode;10==a?(a=0,b.keyCode=13):13==a||27==a?a=0:3==a&&(a=99);b.charCode=a;a=b;a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}return b};var t,G=function(b){this.handle=b};G.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};
var y=function(b){return function(c){c=k._fixEvent(c,this);var a=b.call(this,c);c.modified&&(t||setTimeout(function(){t=null}),t=c);return a}},v=function(b,c,a){a=y(a);if(((b.ownerDocument?b.ownerDocument.parentWindow:b.parentWindow||b.window||window)!=top||5.8>g("jscript"))&&!g("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var d=b[c];if(!d||!d.listeners){var h=d,d=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
d.listeners=[];b[c]=d;d.global=this;h&&d.listeners.push(_dojoIEListeners_.push(h)-1)}d.listeners.push(b=d.global._dojoIEListeners_.push(a)-1);return new G(b)}return p.after(b,c,a,!0)},z=function(){this.cancelBubble=!0},C=k._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(w){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(g("touch"))var E=function(){},D=window.orientation,x=function(b){return function(c){var a=c.corrected;if(!a){var d=
c.type;try{delete c.type}catch(Q){}if(c.type){if(g("touch-can-modify-event-delegate"))E.prototype=c,a=new E;else{var a={},h;for(h in c)a[h]=c[h]}a.preventDefault=function(){c.preventDefault()};a.stopPropagation=function(){c.stopPropagation()}}else a=c,a.type=d;c.corrected=a;if("resize"==d){if(D==window.orientation)return null;D=window.orientation;a.type="orientationchange";return b.call(this,a)}"rotation"in a||(a.rotation=0,a.scale=1);if(window.TouchEvent&&c instanceof TouchEvent){var d=a.changedTouches[0],
e;for(e in d)delete a[e],a[e]=d[e]}}return b.call(this,a)}};return k})},"esri/kernel":function(){define(["dojo/_base/kernel","dojo/_base/config","dojo/has"],function(p,a,g){var n=function(){return this}(),f=n.location,e=f.pathname,k=f.protocol,f={version:"3.25",_appBaseUrl:k+"//"+f.host+e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]))};a.noGlobals||(n.esri=f);p.isAsync||g.add("extend-esri",1);(f.dijit=f.dijit||{})._arcgisUrl=("http:"===k||"https:"===k?k:"http:")+"//www.arcgis.com/sharing/rest";
return f})},"esri/layers/vectorTiles/core/workers/RemoteClient":function(){define("require exports dojo/Deferred ../Error ../promiseUtils ./utils".split(" "),function(p,a,g,n,f,e){function k(b,c){b["delete"](c)}var b=e.MessageType.CLOSE,d=e.MessageType.CANCEL,h=e.MessageType.INVOKE,c=e.MessageType.RESPONSE,q=e.MessageType.OPEN_PORT,r=function(){function b(b){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=b;this._timer=null;this._process=this._process.bind(this)}
b.prototype.push=function(b){b.type===e.MessageType.CANCEL?this._cancelledJobIds.add(b.jobId):(this._invokeMessages.push(b),null===this._timer&&(this._timer=setTimeout(this._process,0)))};b.prototype.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null};b.prototype._process=function(){this._timer=null;for(var b=0,c=this._invokeMessages;b<c.length;b++){var a=c[b];this._cancelledJobIds.has(a.jobId)||this._invoke(a)}this._cancelledJobIds.clear();this._invokeMessages.length=
0};return b}();return function(){function a(b,c,a){this._outJobs=new Map;this._inJobs=new Map;this._queue=new r(this._onInvoke.bind(this));this._onMessage=this._onMessage.bind(this);this._client=c;this._port=b;this._port.addEventListener("message",this._onMessage);this._port.start();this._channel=a}a.connect=function(b){var c=new MessageChannel;b="function"===typeof b?new b:"default"in b&&"function"===typeof b.default?new b.default:b;b.remoteClient=new a(c.port1,b,c);return c.port2};a.prototype.close=
function(){this._post({type:b});this._close()};a.prototype.isBusy=function(){return 0<this._outJobs.size};a.prototype.invoke=function(b,c,a){var q=this;if(!this._port)return f.reject(new n("remote-client:port-closed","Can't invoke(), port is closed"));var t=e.newJobId(),r=new g(function(){k(q._outJobs,t);q._post({type:d,jobId:t})});this._outJobs.set(t,r);this._post({type:h,jobId:t,methodName:b},c,a);return r.promise};a.prototype.openPort=function(){var b=this,c=e.newJobId(),a=new g(function(){k(b._outJobs,
c);b._post({type:d,jobId:c})});this._outJobs.set(c,a);this._post({type:q,jobId:c});return a.promise};a.prototype._close=function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(function(b){b.cancel()});this._inJobs.clear();this._outJobs.clear();this._queue.clear();this._port=this._client=null};a.prototype._onMessage=function(a){if(a=e.receiveMessage(a))switch(a.type){case c:this._onResponse(a);break;case h:this._queue.push(a);
break;case d:this._onCancel(a);break;case b:this._close();break;case q:this._onOpenPort(a)}};a.prototype._onCancel=function(b){var c=this._inJobs,a=b.jobId,d=c.get(a);this._queue.push(b);d&&(k(c,a),d.cancel())};a.prototype._onInvoke=function(b){var a=this,d=b.methodName,h=b.jobId;b=b.data;var q=this._inJobs,t=this._client,r=t[d],x;try{if(!r&&d&&-1!==d.indexOf("."))for(var g=d.split("."),n=0;n<g.length-1;n++)t=t[g[n]],r=t[g[n+1]];if("function"!==typeof r)throw new TypeError(d+" is not a function");
x=r.call(t,b,this)}catch(U){this._post({type:c,jobId:h,error:e.toInvokeError(U)});return}f.isThenable(x)?(q.set(h,x),x.then(function(b){q.has(h)&&(k(q,h),a._post({type:c,jobId:h},b))}).catch(function(b){q.has(h)&&(k(q,h),b&&"cancel"===b.dojoType||a._post({type:c,jobId:h,error:e.toInvokeError(b||{message:"Error encountered at method "+d})}))})):this._post({type:c,jobId:h},x)};a.prototype._onOpenPort=function(b){var d=new MessageChannel;new a(d.port1,this._client);this._post({type:c,jobId:b.jobId},
d.port2,[d.port2])};a.prototype._onResponse=function(b){var c=b.jobId,a=b.error;b=b.data;var d=this._outJobs;if(d.has(c)){var h=d.get(c);k(d,c);a?h.reject(n.fromJSON(JSON.parse(a))):h.resolve(b)}};a.prototype._post=function(b,c,a){return e.postMessage(this._port,b,c,a)};return a}()})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(p,a,g,n,f){var e=Object.freeze||function(){},k=function(a,d,h,e,f){2===d&&c.instrumentRejected&&
0===a.length&&c.instrumentRejected(h,!1,e,f);for(f=0;f<a.length;f++)b(a[f],d,h,e)},b=function(b,a,e,f){var q=b[a],k=b.deferred;if(q)try{var t=q(e);if(0===a)"undefined"!==typeof t&&h(k,a,t);else{if(t&&"function"===typeof t.then){b.cancel=t.cancel;t.then(d(k,1),d(k,2),d(k,0));return}h(k,1,t)}}catch(C){h(k,2,C)}else h(k,a,e);2===a&&c.instrumentRejected&&c.instrumentRejected(e,!!q,f,k.promise)},d=function(b,c){return function(a){h(b,c,a)}},h=function(b,c,a){if(!b.isCanceled())switch(c){case 0:b.progress(a);
break;case 1:b.resolve(a);break;case 2:b.reject(a)}},c=function(a){var d=this.promise=new n,h=this,f,q,v,z=!1,C=[];Error.captureStackTrace&&(Error.captureStackTrace(h,c),Error.captureStackTrace(d,c));this.isResolved=d.isResolved=function(){return 1===f};this.isRejected=d.isRejected=function(){return 2===f};this.isFulfilled=d.isFulfilled=function(){return!!f};this.isCanceled=d.isCanceled=function(){return z};this.progress=function(b,c){if(f){if(!0===c)throw Error("This deferred has already been fulfilled.");
return d}k(C,0,b,null,h);return d};this.resolve=function(b,c){if(f){if(!0===c)throw Error("This deferred has already been fulfilled.");return d}k(C,f=1,q=b,null,h);C=null;return d};var E=this.reject=function(b,c){if(f){if(!0===c)throw Error("This deferred has already been fulfilled.");return d}Error.captureStackTrace&&Error.captureStackTrace(v={},E);k(C,f=2,q=b,v,h);C=null;return d};this.then=d.then=function(a,h,e){var k=[e,a,h];k.cancel=d.cancel;k.deferred=new c(function(b){return k.cancel&&k.cancel(b)});
f&&!C?b(k,f,q,v):C.push(k);return k.deferred.promise};this.cancel=d.cancel=function(b,c){if(!f){if(a){var d=a(b);b="undefined"===typeof d?b:d}z=!0;if(!f)return"undefined"===typeof b&&(b=new g),E(b),b;if(2===f&&q===b)return b}else if(!0===c)throw Error("This deferred has already been fulfilled.");};e(d)};c.prototype.toString=function(){return"[object Deferred]"};f&&f(c);return c})},"dojo/errors/CancelError":function(){define(["./create"],function(p){return p("CancelError",null,null,{dojoType:"cancel",
log:!1})})},"dojo/errors/create":function(){define(["../_base/lang"],function(p){return function(a,g,n,f){n=n||Error;var e=function(a){if(n===Error){Error.captureStackTrace&&Error.captureStackTrace(this,e);var b=Error.call(this,a),d;for(d in b)b.hasOwnProperty(d)&&(this[d]=b[d]);this.message=a;this.stack=b.stack}else n.apply(this,arguments);g&&g.apply(this,arguments)};e.prototype=p.delegate(n.prototype,f);e.prototype.name=a;return e.prototype.constructor=e}})},"dojo/promise/Promise":function(){define(["../_base/lang"],
function(p){function a(){throw new TypeError("abstract");}return p.extend(function(){},{then:function(g,n,f){a()},cancel:function(g,n){a()},isResolved:function(){a()},isRejected:function(){a()},isFulfilled:function(){a()},isCanceled:function(){a()},always:function(a){return this.then(a,a)},"catch":function(a){return this.then(null,a)},otherwise:function(a){return this.then(null,a)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},
"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(p,a,g,n){function f(b,c,a){if(!b||!1!==b.log){var d="";b&&b.stack&&(d+=b.stack);c&&c.stack&&(d+="\n    ----------------------------------------\n    rejected"+c.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));a&&a.stack&&(d+="\n    ----------------------------------------\n"+a.stack);console.error(b,d)}}function e(b,c,a,d){c||f(b,a,d)}function k(a,e,f,k){n.some(d,function(b){if(b.error===
a)return e&&(b.handled=!0),!0})||d.push({error:a,rejection:f,handled:e,deferred:k,timestamp:(new Date).getTime()});h||(h=setTimeout(b,c))}function b(){var a=(new Date).getTime(),e=a-c;d=n.filter(d,function(b){return b.timestamp<e?(b.handled||f(b.error,b.rejection,b.deferred),!1):!0});h=d.length?setTimeout(b,d[0].timestamp+c-a):!1}a.add("config-useDeferredInstrumentation","report-unhandled-rejections");var d=[],h=!1,c=1E3;return function(b){var d=a("config-useDeferredInstrumentation");if(d){p.on("resolved",
g.hitch(console,"log","resolved"));p.on("rejected",g.hitch(console,"log","rejected"));p.on("progress",g.hitch(console,"log","progress"));var h=[];"string"===typeof d&&(h=d.split(","),d=h.shift());if("report-rejections"===d)b.instrumentRejected=e;else if("report-unhandled-rejections"===d||!0===d||1===d)b.instrumentRejected=k,c=parseInt(h[0],10)||c;else throw Error("Unsupported instrumentation usage \x3c"+d+"\x3e");}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],
function(p,a,g){function n(a){setTimeout(function(){e.apply(f,a)},0)}var f=new g,e=f.emit;f.emit=null;a.prototype.trace=function(){var a=p._toArray(arguments);this.then(function(b){n(["resolved",b].concat(a))},function(b){n(["rejected",b].concat(a))},function(b){n(["progress",b].concat(a))});return this};a.prototype.traceRejected=function(){var a=p._toArray(arguments);this.otherwise(function(b){n(["rejected",b].concat(a))});return this};return f})},"dojo/_base/array":function(){define(["./kernel",
"../has","./lang"],function(p,a,g){function n(b){return k[b]=new Function("item","index","array",b)}function f(b){var c=!b;return function(a,d,h){var e=0,f=a&&a.length||0,q;f&&"string"==typeof a&&(a=a.split(""));"string"==typeof d&&(d=k[d]||n(d));if(h)for(;e<f;++e){if(q=!d.call(h,a[e],e,a),b^q)return!q}else for(;e<f;++e)if(q=!d(a[e],e,a),b^q)return!q;return c}}function e(a){var c=1,h=0,e=0;a||(c=h=e=-1);return function(f,k,q,r){if(r&&0<c)return d.lastIndexOf(f,k,q);r=f&&f.length||0;var t=a?r+e:h;
q===b?q=a?h:r+e:0>q?(q=r+q,0>q&&(q=h)):q=q>=r?r+e:q;for(r&&"string"==typeof f&&(f=f.split(""));q!=t;q+=c)if(f[q]==k)return q;return-1}}var k={},b,d={every:f(!1),some:f(!0),indexOf:e(!0),lastIndexOf:e(!1),forEach:function(b,c,a){var d=0,h=b&&b.length||0;h&&"string"==typeof b&&(b=b.split(""));"string"==typeof c&&(c=k[c]||n(c));if(a)for(;d<h;++d)c.call(a,b[d],d,b);else for(;d<h;++d)c(b[d],d,b)},map:function(b,c,a,d){var h=0,e=b&&b.length||0;d=new (d||Array)(e);e&&"string"==typeof b&&(b=b.split(""));
"string"==typeof c&&(c=k[c]||n(c));if(a)for(;h<e;++h)d[h]=c.call(a,b[h],h,b);else for(;h<e;++h)d[h]=c(b[h],h,b);return d},filter:function(b,c,a){var d=0,h=b&&b.length||0,e=[],f;h&&"string"==typeof b&&(b=b.split(""));"string"==typeof c&&(c=k[c]||n(c));if(a)for(;d<h;++d)f=b[d],c.call(a,f,d,b)&&e.push(f);else for(;d<h;++d)f=b[d],c(f,d,b)&&e.push(f);return e},clearCache:function(){k={}}};g.mixin(p,d);return d})},"esri/layers/vectorTiles/core/Error":function(){define(["require","exports","./tsSupport/extendsHelper",
"./lang","./Message"],function(p,a,g,n,f){p=function(a){function e(b,d,h){var c=a.call(this,b,d,h)||this;return c instanceof e?c:new e(b,d,h)}g(e,a);e.prototype.toJSON=function(){return{name:this.name,message:this.message,details:n.clone(this.details),dojoType:this.dojoType}};e.fromJSON=function(b){var a=new e(b.name,b.message,b.details);null!=b.dojoType&&(a.dojoType=b.dojoType);return a};return e}(f);p.prototype.type="error";return p})},"esri/layers/vectorTiles/core/tsSupport/extendsHelper":function(){define([],
function(){return function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,g){a.__proto__=g}||function(a,g){for(var n in g)g.hasOwnProperty(n)&&(a[n]=g[n])};return function(a,g){function n(){this.constructor=a}p(a,g);a.prototype=null===g?Object.create(g):(n.prototype=g.prototype,new n)}}()})},"esri/layers/vectorTiles/core/lang":function(){define("dojo/_base/kernel dojo/_base/lang dojo/date dojo/number dojo/date/locale dojo/i18n!../nls/common".split(" "),function(p,a,g,n,
f,e){function k(b){return void 0!==b&&null!==b}function b(b){return k(b)?b:""}function d(c,d,h){var e=h.match(/([^\(]+)(\([^\)]+\))?/i),t=a.trim(e[1]);h=d[c];var e=JSON.parse((e[2]?a.trim(e[2]):"{}").replace(/^\(/,"{").replace(/\)$/,"}").replace(/([{,])\s*([0-9a-zA-Z\_]+)\s*:/gi,'$1"$2":').replace(/\"\s*:\s*\'/gi,'":"').replace(/\'\s*(,|\})/gi,'"$1')),r=e.utcOffset;if(-1===q.indexOf(t))t=a.getObject(t),a.isFunction(t)&&(h=t(h,c,d,e));else if("number"===typeof h||"string"===typeof h&&h&&!isNaN(Number(h)))switch(h=
Number(h),t){case "NumberFormat":c=a.mixin({},e);d=parseFloat(c.places);if(isNaN(d)||0>d)c.places=Infinity;return n.format(h,c);case "DateString":h=new Date(h);if(e.local||e.systemLocale)return e.systemLocale?h.toLocaleDateString()+(e.hideTime?"":" "+h.toLocaleTimeString()):h.toDateString()+(e.hideTime?"":" "+h.toTimeString());h=h.toUTCString();e.hideTime&&(h=h.replace(/\s+\d\d\:\d\d\:\d\d\s+(utc|gmt)/i,""));return h;case "DateFormat":return h=new Date(h),k(r)&&(h=g.add(h,"minute",h.getTimezoneOffset()-
r)),f.format(h,e)}return b(h)}function h(b,c){var a;if(c)for(a in b)b.hasOwnProperty(a)&&(void 0===b[a]?delete b[a]:b[a]instanceof Object&&h(b[a],!0));else for(a in b)b.hasOwnProperty(a)&&void 0===b[a]&&delete b[a];return b}function c(b){if(!b||"object"!=typeof b||a.isFunction(b))return b;if(b instanceof Int8Array||b instanceof Uint8Array||b instanceof Uint8ClampedArray||b instanceof Int16Array||b instanceof Int32Array||b instanceof Uint16Array||b instanceof Uint32Array||b instanceof Float32Array||
b instanceof Float64Array||b instanceof Date)return new b.constructor(b);if(b instanceof ArrayBuffer)return b.slice(0,b.byteLength);if("function"===typeof b.clone)b=b.clone();else if("function"===typeof b.map&&"function"===typeof b.forEach)b=b.map(c);else if("function"===typeof b.notifyChange&&"function"===typeof b.watch)b=b.clone();else{var d={},h,e,f={};for(h in b){e=b[h];var k=!(h in f)||f[h]!==e;if(!(h in d)||d[h]!==e&&k)d[h]=c?c(e):e}b=d}return b}var q=["NumberFormat","DateString","DateFormat"],
r=/<\/?[^>]+>/g;return{equals:function(b,c){return b===c||"number"===typeof b&&isNaN(b)&&"number"===typeof c&&isNaN(c)||a.isFunction((b||{}).getTime)&&a.isFunction((c||{}).getTime)&&b.getTime()==c.getTime()||a.isFunction((b||{}).equals)&&b.equals(c)||a.isFunction((c||{}).equals)&&c.equals(b)||!1},mixin:a.mixin,valueOf:function(b,c){for(var a in b)if(b[a]==c)return a;return null},stripTags:function(b){if(b){var c=typeof b;if("string"===c)b=b.replace(r,"");else if("object"===c)for(var a in b)(c=b[a])&&
"string"===typeof c&&(c=c.replace(r,"")),b[a]=c}return b},substitute:function(c,h,f){var q,r,n;k(f)&&(a.isObject(f)?(q=f.first,r=f.dateFormat,n=f.numberFormat):q=f);if(h&&"{*}"!==h)return a.replace(h,a.hitch({obj:c},function(c,a){var h=a.split(":");return 1<h.length?(a=h[0],h.shift(),d(a,this.obj,h.join(":"))):r&&-1!==(r.properties||[]).indexOf(a)?d(a,this.obj,r.formatter||"DateString"):n&&-1!==(n.properties||[]).indexOf(a)?d(a,this.obj,n.formatter||"NumberFormat"):b(this.obj[a])}));h=[];var g;h.push('\x3ctable class\x3d"esri-widget__table" summary\x3d"'+
e.fieldsSummary+'"\x3e\x3ctbody\x3e');for(g in c)if(f=c[g],r&&-1!==(r.properties||[]).indexOf(g)?f=d(g,c,r.formatter||"DateString"):n&&-1!==(n.properties||[]).indexOf(g)&&(f=d(g,c,n.formatter||"NumberFormat")),h.push("\x3ctr\x3e\x3cth\x3e"+g+"\x3c/th\x3e\x3ctd\x3e"+b(f)+"\x3c/td\x3e\x3c/tr\x3e"),q)break;h.push("\x3c/tbody\x3e\x3c/table\x3e");return h.join("")},filter:function(b,c,d){c=[a.isString(b)?b.split(""):b,d||p.global,a.isString(c)?new Function("item","index","array",c):c];d={};var h;b=c[0];
for(h in b)c[2].call(c[h],b[h],h,b)&&(d[h]=b[h]);return d},startsWith:function(b,c,a){a=a||0;return b.indexOf(c,a)===a},endsWith:function(b,c,a){if("number"!==typeof a||!isFinite(a)||Math.floor(a)!==a||a>b.length)a=b.length;a-=c.length;b=b.indexOf(c,a);return-1!==b&&b===a},isDefined:k,fixJson:h,clone:c}})},"dojo/date":function(){define(["./has","./_base/lang"],function(p,a){var g={getDaysInMonth:function(a){var f=a.getMonth();return 1==f&&g.isLeapYear(a)?29:[31,28,31,30,31,30,31,31,30,31,30,31][f]},
isLeapYear:function(a){a=a.getFullYear();return!(a%400)||!(a%4)&&!!(a%100)},getTimezoneName:function(a){var f=a.toString(),e="",k=f.indexOf("(");if(-1<k)e=f.substring(++k,f.indexOf(")"));else if(k=/([A-Z\/]+) \d{4}$/,f=f.match(k))e=f[1];else if(f=a.toLocaleString(),k=/ ([A-Z\/]+)$/,f=f.match(k))e=f[1];return"AM"==e||"PM"==e?"":e},compare:function(a,f,e){a=new Date(+a);f=new Date(+(f||new Date));"date"==e?(a.setHours(0,0,0,0),f.setHours(0,0,0,0)):"time"==e&&(a.setFullYear(0,0,0),f.setFullYear(0,0,
0));return a>f?1:a<f?-1:0},add:function(a,f,e){var k=new Date(+a),b=!1,d="Date";switch(f){case "day":break;case "weekday":var h;(f=e%5)?h=parseInt(e/5):(f=0<e?5:-5,h=0<e?(e-5)/5:(e+5)/5);var c=a.getDay(),q=0;6==c&&0<e?q=1:0==c&&0>e&&(q=-1);c+=f;if(0==c||6==c)q=0<e?2:-2;e=7*h+f+q;break;case "year":d="FullYear";b=!0;break;case "week":e*=7;break;case "quarter":e*=3;case "month":b=!0;d="Month";break;default:d="UTC"+f.charAt(0).toUpperCase()+f.substring(1)+"s"}if(d)k["set"+d](k["get"+d]()+e);b&&k.getDate()<
a.getDate()&&k.setDate(0);return k},difference:function(a,f,e){f=f||new Date;e=e||"day";var k=f.getFullYear()-a.getFullYear(),b=1;switch(e){case "quarter":a=a.getMonth();f=f.getMonth();b=Math.floor(f/3)+1+4*k-(Math.floor(a/3)+1);break;case "weekday":k=Math.round(g.difference(a,f,"day"));e=parseInt(g.difference(a,f,"week"));if(0==k%7)k=5*e;else{var b=0,d=a.getDay(),h=f.getDay();e=parseInt(k/7);f=k%7;a=new Date(a);a.setDate(a.getDate()+7*e);a=a.getDay();if(0<k)switch(!0){case 6==d:b=-1;break;case 0==
d:b=0;break;case 6==h:b=-1;break;case 0==h:b=-2;break;case 5<a+f:b=-2}else if(0>k)switch(!0){case 6==d:b=0;break;case 0==d:b=1;break;case 6==h:b=2;break;case 0==h:b=1;break;case 0>a+f:b=2}k=k+b-2*e}b=k;break;case "year":b=k;break;case "month":b=f.getMonth()-a.getMonth()+12*k;break;case "week":b=parseInt(g.difference(a,f,"day")/7);break;case "day":b/=24;case "hour":b/=60;case "minute":b/=60;case "second":b/=1E3;case "millisecond":b*=f.getTime()-a.getTime()}return Math.round(b)}};a.mixin(a.getObject("dojo.date",
!0),g);return g})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(p,a,g,n,f){var e={};p.setObject("dojo.number",e);e.format=function(b,d){d=p.mixin({},d||{});var h=a.normalizeLocale(d.locale),h=a.getLocalization("dojo.cldr","number",h);d.customs=h;h=d.pattern||h[(d.type||"decimal")+"Format"];return isNaN(b)||Infinity==Math.abs(b)?null:e._applyPattern(b,h,d)};e._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;e._applyPattern=function(b,a,
h){h=h||{};var c=h.customs.group,d=h.customs.decimal;a=a.split(";");var f=a[0];a=a[0>b?1:0]||"-"+f;if(-1!=a.indexOf("%"))b*=100;else if(-1!=a.indexOf("\u2030"))b*=1E3;else if(-1!=a.indexOf("\u00a4"))c=h.customs.currencyGroup||c,d=h.customs.currencyDecimal||d,a=a.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/,function(b,a,c,d){return(b=h[["symbol","currency","displayName"][c.length-1]]||h.currency||"")?a+b+d:""});else if(-1!=a.indexOf("E"))throw Error("exponential notation not supported");var k=e._numberPatternRE,
f=f.match(k);if(!f)throw Error("unable to find a number expression in pattern: "+a);!1===h.fractional&&(h.places=0);return a.replace(k,e._formatAbsolute(b,f[0],{decimal:d,group:c,places:h.places,round:h.round}))};e.round=function(b,a,h){h=10/(h||10);return(h*+b).toFixed(a)/h};if(0==(.9).toFixed()){var k=e.round;e.round=function(b,a,h){var c=Math.pow(10,-a||0),d=Math.abs(b);if(!b||d>=c)c=0;else if(d/=c,.5>d||.95<=d)c=0;return k(b,a,h)+(0<b?c:-c)}}e._formatAbsolute=function(b,a,h){h=h||{};!0===h.places&&
(h.places=0);Infinity===h.places&&(h.places=6);a=a.split(".");var c="string"==typeof h.places&&h.places.indexOf(","),d=h.places;c?d=h.places.substring(c+1):0<=d||(d=(a[1]||[]).length);0>h.round||(b=e.round(b,d,h.round));b=String(Math.abs(b)).split(".");var f=b[1]||"";a[1]||h.places?(c&&(h.places=h.places.substring(0,c)),c=void 0!==h.places?h.places:a[1]&&a[1].lastIndexOf("0")+1,c>f.length&&(b[1]=n.pad(f,c,"0",!0)),d<f.length&&(b[1]=f.substr(0,d))):b[1]&&b.pop();d=a[0].replace(",","");c=d.indexOf("0");
-1!=c&&(c=d.length-c,c>b[0].length&&(b[0]=n.pad(b[0],c)),-1==d.indexOf("#")&&(b[0]=b[0].substr(b[0].length-c)));var d=a[0].lastIndexOf(","),k,g;-1!=d&&(k=a[0].length-d-1,a=a[0].substr(0,d),d=a.lastIndexOf(","),-1!=d&&(g=a.length-d-1));a=[];for(d=b[0];d;)c=d.length-k,a.push(0<c?d.substr(c):d),d=0<c?d.slice(0,c):"",g&&(k=g,g=void 0);b[0]=a.reverse().join(h.group||",");return b.join(h.decimal||".")};e.regexp=function(b){return e._parseInfo(b).regexp};e._parseInfo=function(b){b=b||{};var d=a.normalizeLocale(b.locale),
d=a.getLocalization("dojo.cldr","number",d),h=b.pattern||d[(b.type||"decimal")+"Format"],c=d.group,k=d.decimal,g=1;if(-1!=h.indexOf("%"))g/=100;else if(-1!=h.indexOf("\u2030"))g/=1E3;else{var n=-1!=h.indexOf("\u00a4");n&&(c=d.currencyGroup||c,k=d.currencyDecimal||k)}d=h.split(";");1==d.length&&d.push("-"+d[0]);d=f.buildGroupRE(d,function(a){a="(?:"+f.escapeString(a,".")+")";return a.replace(e._numberPatternRE,function(a){var d={signed:!1,separator:b.strict?c:[c,""],fractional:b.fractional,decimal:k,
exponent:!1};a=a.split(".");var h=b.places;1==a.length&&1!=g&&(a[1]="###");1==a.length||0===h?d.fractional=!1:(void 0===h&&(h=b.pattern?a[1].lastIndexOf("0")+1:Infinity),h&&void 0==b.fractional&&(d.fractional=!0),!b.places&&h<a[1].length&&(h+=","+a[1].length),d.places=h);a=a[0].split(",");1<a.length&&(d.groupSize=a.pop().length,1<a.length&&(d.groupSize2=a.pop().length));return"("+e._realNumberRegexp(d)+")"})},!0);n&&(d=d.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(a,c,d,h){a=f.escapeString(b[["symbol",
"currency","displayName"][d.length-1]]||b.currency||"");if(!a)return"";c=c?"[\\s\\xa0]":"";h=h?"[\\s\\xa0]":"";return b.strict?c+a+h:(c&&(c+="*"),h&&(h+="*"),"(?:"+c+a+h+")?")}));return{regexp:d.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:c,decimal:k,factor:g}};e.parse=function(b,a){var d=e._parseInfo(a),c=(new RegExp("^"+d.regexp+"$")).exec(b);if(!c)return NaN;var f=c[1];if(!c[1]){if(!c[2])return NaN;f=c[2];d.factor*=-1}f=f.replace(new RegExp("["+d.group+"\\s\\xa0]","g"),"").replace(d.decimal,".");return f*
d.factor};e._realNumberRegexp=function(b){b=b||{};"places"in b||(b.places=Infinity);"string"!=typeof b.decimal&&(b.decimal=".");"fractional"in b&&!/^0/.test(b.places)||(b.fractional=[!0,!1]);"exponent"in b||(b.exponent=[!0,!1]);"eSigned"in b||(b.eSigned=[!0,!1]);var a=e._integerRegexp(b),h=f.buildGroupRE(b.fractional,function(a){var c="";a&&0!==b.places&&(c="\\"+b.decimal,c=Infinity==b.places?"(?:"+c+"\\d+)?":c+("\\d{"+b.places+"}"));return c},!0),c=f.buildGroupRE(b.exponent,function(a){return a?
"([eE]"+e._integerRegexp({signed:b.eSigned})+")":""}),a=a+h;h&&(a="(?:(?:"+a+")|(?:"+h+"))");return a+c};e._integerRegexp=function(b){b=b||{};"signed"in b||(b.signed=[!0,!1]);"separator"in b?"groupSize"in b||(b.groupSize=3):b.separator="";var a=f.buildGroupRE(b.signed,function(b){return b?"[-+]":""},!0),h=f.buildGroupRE(b.separator,function(a){if(!a)return"(?:\\d+)";a=f.escapeString(a);" "==a?a="\\s":"\u00a0"==a&&(a="\\s\\xa0");var c=b.groupSize,d=b.groupSize2;return d?(a="(?:0|[1-9]\\d{0,"+(d-1)+
"}(?:["+a+"]\\d{"+d+"})*["+a+"]\\d{"+c+"})",0<c-d?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(c-1)+"}))":a):"(?:0|[1-9]\\d{0,"+(c-1)+"}(?:["+a+"]\\d{"+c+"})*)"},!0);return a+h};return e})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang require ./json module".split(" "),function(p,a,g,n,f,e,k,b,d){g.add("dojo-preload-i18n-Api",1);k=p.i18n={};var h=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,c=function(b,a,c,d){var h=[c+d];a=a.split("-");for(var e="",f=0;f<a.length;f++)if(e+=
(e?"-":"")+a[f],!b||b[e])h.push(c+e+"/"+d),h.specificity=e;return h},q={},r=function(b,a,c){c=c?c.toLowerCase():p.locale;b=b.replace(/\./g,"/");a=a.replace(/\./g,"/");return/root/i.test(c)?b+"/nls/"+a:b+"/nls/"+c+"/"+a},t=p.getL10nName=function(b,a,c){return b=d.id+"!"+r(b,a,c)},G=function(b,a,d,h,f,k){b([a],function(g){var r=e.clone(g.root||g.ROOT),x=c(!g._v1x&&g,f,d,h);b(x,function(){for(var b=1;b<x.length;b++)r=e.mixin(e.clone(r),arguments[b]);q[a+"/"+f]=r;r.$locale=x.specificity;k()})})},y=function(b){var a=
f.extraLocale||[],a=e.isArray(a)?a:[a];a.push(b);return a},v=function(a,c,d){var f=h.exec(a),k=f[1]+"/",r=f[5]||f[4],t=k+r,v=(f=f[5]&&f[4])||p.locale||"",z=t+"/"+v,f=f?[v]:y(v),w=f.length,A=function(){--w||d(e.delegate(q[z]))},v=a.split("*"),J="preload"==v[1];if(g("dojo-preload-i18n-Api")){if(J&&(q[a]||(q[a]=1,D(v[2],b.parse(v[3]),1,c)),d(1)),(v=J)||(C&&E.push([a,c,d]),v=C&&!q[z]),v)return}else if(J){d(1);return}n.forEach(f,function(b){var a=t+"/"+b;g("dojo-preload-i18n-Api")&&x(a);q[a]?A():G(c,t,
k,r,b,A)})};g("dojo-preload-i18n-Api");var z=k.normalizeLocale=function(b){b=b?b.toLowerCase():p.locale;return"root"==b?"ROOT":b},C=0,E=[],D=k._preloadLocalizations=function(b,c,d,h){function f(b,a){h([b],a)}function k(b,a){for(var c=b.split("-");c.length;){if(a(c.join("-")))return;c.pop()}a("ROOT")}function g(){for(--C;!C&&E.length;)v.apply(null,E.shift())}function r(d){d=z(d);k(d,function(r){if(0<=n.indexOf(c,r)){var x=b.replace(/\./g,"/")+"_"+r;C++;f(x,function(b){for(var c in b){var f=b[c],x=
c.match(/(.+)\/([^\/]+)$/),n;if(x&&(n=x[2],x=x[1]+"/",f._localized)){var t;if("ROOT"===r){var v=t=f._localized;delete f._localized;v.root=f;q[a.toAbsMid(c)]=v}else t=f._localized,q[a.toAbsMid(x+n+"/"+r)]=f;r!==d&&function(b,c,f,r){var x=[],n=[];k(d,function(d){r[d]&&(x.push(a.toAbsMid(b+d+"/"+c)),n.push(a.toAbsMid(b+c+"/"+d)))});x.length?(C++,h(x,function(){for(var h=x.length-1;0<=h;h--)f=e.mixin(e.clone(f),arguments[h]),q[n[h]]=f;q[a.toAbsMid(b+c+"/"+d)]=e.clone(f);g()})):q[a.toAbsMid(b+c+"/"+d)]=
f}(x,n,f,t)}}g()});return!0}return!1})}h=h||a;r();n.forEach(p.config.extraLocale,r)},x=function(){},x=function(b){for(var a,c=b.split("/"),d=p.global[c[0]],h=1;d&&h<c.length-1;d=d[c[h++]]);d&&((a=d[c[h]])||(a=d[c[h].replace(/-/g,"_")]),a&&(q[b]=a));return a};k.getLocalization=function(b,c,d){var h;b=r(b,c,d);v(b,a,function(b){h=b});return h};return e.mixin(k,{dynamic:!0,normalize:function(b,a){return/^\./.test(b)?a(b):b},load:v,cache:q,getL10nName:t})})},"dojo/json":function(){define(["./has"],function(p){var a=
"undefined"!=typeof JSON;p.add("json-parse",a);p.add("json-stringify",a&&'{"a":1}'==JSON.stringify({a:0},function(a,f){return f||1}));if(p("json-stringify"))return JSON;var g=function(a){return('"'+a.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:p("json-parse")?JSON.parse:function(a,f){if(f&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(a))throw new SyntaxError("Invalid characters in JSON");
return eval("("+a+")")},stringify:function(a,f,e){function k(a,h,c){f&&(a=f(c,a));var d;d=typeof a;if("number"==d)return isFinite(a)?a+"":"null";if("boolean"==d)return a+"";if(null===a)return"null";if("string"==typeof a)return g(a);if("function"==d||"undefined"==d)return b;if("function"==typeof a.toJSON)return k(a.toJSON(c),h,c);if(a instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(b,c,d){b=a["getUTC"+c]()+(d?1:0);return 10>b?"0"+
b:b});if(a.valueOf()!==a)return k(a.valueOf(),h,c);var r=e?h+e:"",n=e?" ":"",G=e?"\n":"";if(a instanceof Array){var n=a.length,y=[];for(c=0;c<n;c++)d=k(a[c],r,c),"string"!=typeof d&&(d="null"),y.push(G+r+d);return"["+y.join(",")+G+h+"]"}y=[];for(c in a){var v;if(a.hasOwnProperty(c)){if("number"==typeof c)v='"'+c+'"';else if("string"==typeof c)v=g(c);else continue;d=k(a[c],r,c);"string"==typeof d&&y.push(G+r+v+":"+n+d)}}return"{"+y.join(",")+G+h+"}"}var b;"string"==typeof f&&(e=f,f=null);return k(a,
"","")}}})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(p,a){var g=/[&<>'"\/]/g,n={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},f={};a.setObject("dojo.string",f);f.escape=function(a){return a?a.replace(g,function(a){return n[a]}):""};f.rep=function(a,f){if(0>=f||!a)return"";for(var b=[];;){f&1&&b.push(a);if(!(f>>=1))break;a+=a}return b.join("")};f.pad=function(a,k,b,d){b||(b="0");a=String(a);k=f.rep(b,Math.ceil((k-
a.length)/b.length));return d?a+k:k+a};f.substitute=function(e,f,b,d){d=d||p.global;b=b?a.hitch(d,b):function(b){return b};return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(h,c,e){if(""==c)return"$";h=a.getObject(c,!1,f);e&&(h=a.getObject(e,!1,d).call(d,h,c));e=b(h,c);if("undefined"===typeof e)throw Error('string.substitute could not find key "'+c+'" in template');return e.toString()})};f.trim=String.prototype.trim?a.trim:function(a){a=a.replace(/^\s+/,"");for(var e=a.length-1;0<=
e;e--)if(/\S/.test(a.charAt(e))){a=a.substring(0,e+1);break}return a};return f})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(p,a){var g={};a.setObject("dojo.regexp",g);g.escapeString=function(a,f){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(a){return f&&-1!=f.indexOf(a)?a:"\\"+a})};g.buildGroupRE=function(a,f,e){if(!(a instanceof Array))return f(a);for(var k=[],b=0;b<a.length;b++)k.push(f(a[b]));return g.group(k.join("|"),e)};g.group=function(a,f){return"("+
(f?"?:":"")+a+")"};return g})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(p,a,g,n,f,e,k,b,d){function h(b,a,c,d){return d.replace(/([a-z])\1*/ig,function(h){var e,f,q=h.charAt(0);h=h.length;var g=["abbr","wide","narrow"];switch(q){case "G":e=a[4>h?"eraAbbr":"eraNames"][0>b.getFullYear()?0:1];break;case "y":e=b.getFullYear();switch(h){case 1:break;case 2:if(!c.fullYear){e=
String(e);e=e.substr(e.length-2);break}default:f=!0}break;case "Q":case "q":e=Math.ceil((b.getMonth()+1)/3);f=!0;break;case "M":case "L":e=b.getMonth();3>h?(e+=1,f=!0):(q=["months","L"==q?"standAlone":"format",g[h-3]].join("-"),e=a[q][e]);break;case "w":e=r._getWeekOfYear(b,0);f=!0;break;case "d":e=b.getDate();f=!0;break;case "D":e=r._getDayOfYear(b);f=!0;break;case "e":case "c":if(e=b.getDay(),2>h){e=(e-n.getFirstDayOfWeek(c.locale)+8)%7;break}case "E":e=b.getDay();3>h?(e+=1,f=!0):(q=["days","c"==
q?"standAlone":"format",g[h-3]].join("-"),e=a[q][e]);break;case "a":q=12>b.getHours()?"am":"pm";e=c[q]||a["dayPeriods-format-wide-"+q];break;case "h":case "H":case "K":case "k":f=b.getHours();switch(q){case "h":e=f%12||12;break;case "H":e=f;break;case "K":e=f%12;break;case "k":e=f||24}f=!0;break;case "m":e=b.getMinutes();f=!0;break;case "s":e=b.getSeconds();f=!0;break;case "S":e=Math.round(b.getMilliseconds()*Math.pow(10,h-3));f=!0;break;case "v":case "z":if(e=r._getZone(b,!0,c))break;h=4;case "Z":q=
r._getZone(b,!1,c);q=[0>=q?"+":"-",k.pad(Math.floor(Math.abs(q)/60),2),k.pad(Math.abs(q)%60,2)];4==h&&(q.splice(0,0,"GMT"),q.splice(3,0,":"));e=q.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+d);}f&&(e=k.pad(e,h));return e})}function c(b,c,d,h){var e=function(b){return b};c=c||e;d=d||e;h=h||e;var f=b.match(/(''|[^'])+/g),k="'"==b.charAt(0);a.forEach(f,function(b,a){b?(f[a]=(k?d:c)(b.replace(/''/g,"'")),k=!k):f[a]=""});return h(f.join(""))}function q(b,a,c,d){d=
e.escapeString(d);c.strict||(d=d.replace(" a"," ?a"));return d.replace(/([a-z])\1*/ig,function(d){var h;h=d.charAt(0);var e=d.length,f="",k="";c.strict?(1<e&&(f="0{"+(e-1)+"}"),2<e&&(k="0{"+(e-2)+"}")):(f="0?",k="0{0,2}");switch(h){case "y":h="\\d{2,4}";break;case "M":case "L":2<e?(h=a["months-"+("L"==h?"standAlone":"format")+"-"+t[e-3]].slice(0).join("|"),c.strict||(h=h.replace(/\./g,""),h="(?:"+h+")\\.?")):h="1[0-2]|"+f+"[1-9]";break;case "D":h="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+f+"[1-9][0-9]|"+
k+"[1-9]";break;case "d":h="3[01]|[12]\\d|"+f+"[1-9]";break;case "w":h="[1-4][0-9]|5[0-3]|"+f+"[1-9]";break;case "E":case "e":case "c":h=".+?";break;case "h":h="1[0-2]|"+f+"[1-9]";break;case "k":h="1[01]|"+f+"\\d";break;case "H":h="1\\d|2[0-3]|"+f+"\\d";break;case "K":h="1\\d|2[0-4]|"+f+"[1-9]";break;case "m":case "s":h="[0-5]\\d";break;case "S":h="\\d{"+e+"}";break;case "a":e=c.am||a["dayPeriods-format-wide-am"];f=c.pm||a["dayPeriods-format-wide-pm"];h=e+"|"+f;c.strict||(e!=e.toLowerCase()&&(h+=
"|"+e.toLowerCase()),f!=f.toLowerCase()&&(h+="|"+f.toLowerCase()),-1!=h.indexOf(".")&&(h+="|"+h.replace(/\./g,"")));h=h.replace(/\./g,"\\.");break;default:h=".*"}b&&b.push(d);return"("+h+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var r={};p.setObject(d.id.replace(/\//g,"."),r);r._getZone=function(b,a,c){return a?g.getTimezoneName(b):b.getTimezoneOffset()};r.format=function(b,a){a=a||{};var d=f.normalizeLocale(a.locale),e=a.formatLength||"short",d=r._getGregorianBundle(d),k=[],q=p.hitch(this,h,b,d,a);
if("year"==a.selector)return c(d["dateFormatItem-yyyy"]||"yyyy",q);var g;"date"!=a.selector&&(g=a.timePattern||d["timeFormat-"+e])&&k.push(c(g,q));"time"!=a.selector&&(g=a.datePattern||d["dateFormat-"+e])&&k.push(c(g,q));return 1==k.length?k[0]:d["dateTimeFormat-"+e].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(b,a){return k[a]})};r.regexp=function(b){return r._parseInfo(b).regexp};r._parseInfo=function(b){b=b||{};var a=f.normalizeLocale(b.locale),a=r._getGregorianBundle(a),d=b.formatLength||"short",
h=b.datePattern||a["dateFormat-"+d],e=b.timePattern||a["timeFormat-"+d],d="date"==b.selector?h:"time"==b.selector?e:a["dateTimeFormat-"+d].replace(/\{(\d+)\}/g,function(b,a){return[e,h][a]}),k=[];return{regexp:c(d,p.hitch(this,q,k,a,b)),tokens:k,bundle:a}};r.parse=function(b,c){var d=/[\u200E\u200F\u202A\u202E]/g,h=r._parseInfo(c),e=h.tokens,f=h.bundle,d=(new RegExp("^"+h.regexp.replace(d,"")+"$",h.strict?"":"i")).exec(b&&b.replace(d,""));if(!d)return null;var k=["abbr","wide","narrow"],q=[1970,0,
1,0,0,0,0],n="",d=a.every(d,function(b,d){if(!d)return!0;var h=e[d-1],g=h.length,h=h.charAt(0);switch(h){case "y":if(2!=g&&c.strict)q[0]=b;else if(100>b)b=Number(b),h=""+(new Date).getFullYear(),g=100*h.substring(0,2),h=Math.min(Number(h.substring(2,4))+20,99),q[0]=b<h?g+b:g-100+b;else{if(c.strict)return!1;q[0]=b}break;case "M":case "L":if(2<g){if(g=f["months-"+("L"==h?"standAlone":"format")+"-"+k[g-3]].concat(),c.strict||(b=b.replace(".","").toLowerCase(),g=a.map(g,function(b){return b.replace(".",
"").toLowerCase()})),b=a.indexOf(g,b),-1==b)return!1}else b--;q[1]=b;break;case "E":case "e":case "c":g=f["days-"+("c"==h?"standAlone":"format")+"-"+k[g-3]].concat();c.strict||(b=b.toLowerCase(),g=a.map(g,function(b){return b.toLowerCase()}));b=a.indexOf(g,b);if(-1==b)return!1;break;case "D":q[1]=0;case "d":q[2]=b;break;case "a":g=c.am||f["dayPeriods-format-wide-am"];h=c.pm||f["dayPeriods-format-wide-pm"];if(!c.strict){var r=/\./g;b=b.replace(r,"").toLowerCase();g=g.replace(r,"").toLowerCase();h=
h.replace(r,"").toLowerCase()}if(c.strict&&b!=g&&b!=h)return!1;n=b==h?"p":b==g?"a":"";break;case "K":24==b&&(b=0);case "h":case "H":case "k":if(23<b)return!1;q[3]=b;break;case "m":q[4]=b;break;case "s":q[5]=b;break;case "S":q[6]=b}return!0}),h=+q[3];"p"===n&&12>h?q[3]=h+12:"a"===n&&12==h&&(q[3]=0);h=new Date(q[0],q[1],q[2],q[3],q[4],q[5],q[6]);c.strict&&h.setFullYear(q[0]);var t=e.join(""),v=-1!=t.indexOf("d"),t=-1!=t.indexOf("M");if(!d||t&&h.getMonth()>q[1]||v&&h.getDate()>q[2])return null;if(t&&
h.getMonth()<q[1]||v&&h.getDate()<q[2])h=g.add(h,"hour",1);return h};var t=["abbr","wide","narrow"],G=[],y={};r.addCustomFormats=function(b,a){G.push({pkg:b,name:a});y={}};r._getGregorianBundle=function(b){if(y[b])return y[b];var c={};a.forEach(G,function(a){a=f.getLocalization(a.pkg,a.name,b);c=p.mixin(c,a)},this);return y[b]=c};r.addCustomFormats(d.id.replace(/\/date\/locale$/,".cldr"),"gregorian");r.getNames=function(b,a,c,d){var h;d=r._getGregorianBundle(d);b=[b,c,a];"standAlone"==c&&(c=b.join("-"),
h=d[c],1==h[0]&&(h=void 0));b[1]="format";return(h||d[b.join("-")]).concat()};r.isWeekend=function(b,a){var c=n.getWeekend(a),d=(b||new Date).getDay();c.end<c.start&&(c.end+=7,d<c.start&&(d+=7));return d>=c.start&&d<=c.end};r._getDayOfYear=function(b){return g.difference(new Date(b.getFullYear(),0,1,b.getHours()),b)+1};r._getWeekOfYear=function(b,a){1==arguments.length&&(a=0);var c=(new Date(b.getFullYear(),0,1)).getDay(),d=(c-a+7)%7,d=Math.floor((r._getDayOfYear(b)+d-1)/7);c==a&&d++;return d};return r})},
"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(p,a){var g={};p.setObject("dojo.cldr.supplemental",g);g.getFirstDayOfWeek=function(a){a={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,
sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[g._region(a)];return void 0===a?1:a};g._region=function(g){g=a.normalizeLocale(g);g=g.split("-");var f=g[1];f?4==f.length&&(f=g[2]):f={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",
fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",
mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",
ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",
dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",
kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",
niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",
tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[g[0]];return f};g.getWeekend=function(a){var f=g._region(a);a={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[f];f={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,
ma:6,qa:6,sd:6,sy:6,tn:6}[f];void 0===a&&(a=6);void 0===f&&(f=0);return{start:a,end:f}};return g})},"esri/layers/vectorTiles/core/Message":function(){define(["require","exports","dojo/string"],function(p,a,g){return function(){function a(f,e,k){this instanceof a&&(this.name=f,this.message=e&&g.substitute(e,k,function(b){return null==b?"":b})||"",this.details=k)}a.prototype.toString=function(){return"["+this.name+"]: "+this.message};return a}()})},"esri/layers/vectorTiles/core/promiseUtils":function(){define("require exports dojo/Deferred dojo/when dojo/promise/all ./Error".split(" "),
function(p,a,g,n,f,e){function k(b){if(b){if("function"!==typeof b.forEach){var a=Object.keys(b),h=a.map(function(a){return b[a]});return k(h).then(function(b){var c={};a.forEach(function(a,d){return c[a]=b[d]});return c})}var c=new g,e=[],f=b.length;0===f&&c.resolve(e);b.forEach(function(b){var a={promise:b};e.push(a);b.then(function(b){a.value=b}).catch(function(b){a.error=b}).then(function(){--f;0===f&&c.resolve(e)})});return c.promise}}Object.defineProperty(a,"__esModule",{value:!0});a.all=function(b){return f(b)};
a.filter=function(b,a){var d=b.slice();return f(b.map(function(b,d){return a(b,d)})).then(function(b){return d.filter(function(a,c){return b[c]})})};a.eachAlways=k;a.create=function(b,a){var d=new g(a);b(function(b){void 0===b&&(b=null);return n(b).then(d.resolve)},d.reject);return d.promise};a.reject=function(b){var a=new g;a.reject(b);return a.promise};a.resolve=function(b){void 0===b&&(b=null);var a=new g;a.resolve(b);return a.promise};a.after=function(b,a){void 0===a&&(a=null);var d=0,c=new g(function(){d&&
(clearTimeout(d),d=0)}),d=setTimeout(function(){c.resolve(a)},b);return c.promise};a.timeout=function(b,a,h){var c=0,d=new g(b.cancel);b.then(function(b){d.isFulfilled()||(d.resolve(b),c&&(clearTimeout(c),c=0))});b.catch(function(b){d.isFulfilled()||(d.reject(b),c&&(clearTimeout(c),c=0))});c=setTimeout(function(){var b=h||new e("promiseUtils:timeout","The wrapped promise did not resolve within "+a+" ms");d.reject(b)},a);return d.promise};a.wrapCallback=function(b){var a=!1,h=new g(function(){return a=
!0});b(function(b){a||h.resolve(b)});return h.promise};a.isThenable=function(b){return b&&"function"===typeof b.then};a.when=function(b){return n(b)}})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(p,a){return function(g,n,f,e){var k=g&&"function"===typeof g.then,b=k&&g instanceof a;if(!k)return 1<arguments.length?n?n(g):g:(new p).resolve(g);b||(k=new p(g.cancel),g.then(k.resolve,k.reject,k.progress),g=k.promise);return n||f||e?g.then(n,f,e):g}})},"dojo/promise/all":function(){define(["../_base/array",
"../Deferred","../when"],function(p,a,g){var n=p.some;return function(f){var e,k;f instanceof Array?k=f:f&&"object"===typeof f&&(e=f);var b,d=[];if(e){k=[];for(var h in e)Object.hasOwnProperty.call(e,h)&&(d.push(h),k.push(e[h]));b={}}else k&&(b=[]);if(!k||!k.length)return(new a).resolve(b);var c=new a;c.promise.always(function(){b=d=null});var q=k.length;n(k,function(a,h){e||d.push(h);g(a,function(a){c.isFulfilled()||(b[d[h]]=a,0===--q&&c.resolve(b))},c.reject);return c.isFulfilled()});return c.promise}})},
"esri/layers/vectorTiles/core/workers/utils":function(){define(["require","exports","dojo/has"],function(p,a,g){function n(a){return a&&"object"===typeof a&&("result"in a||"transferList"in a)}Object.defineProperty(a,"__esModule",{value:!0});(function(a){a[a.HANDSHAKE=0]="HANDSHAKE";a[a.CONFIGURE=1]="CONFIGURE";a[a.CONFIGURED=2]="CONFIGURED";a[a.OPEN=3]="OPEN";a[a.OPENED=4]="OPENED";a[a.RESPONSE=5]="RESPONSE";a[a.INVOKE=6]="INVOKE";a[a.CANCEL=7]="CANCEL";a[a.CLOSE=8]="CLOSE";a[a.OPEN_PORT=9]="OPEN_PORT"})(a.MessageType||
(a.MessageType={}));var f=0;a.newJobId=function(){return f++};a.isTranferableResult=n;a.toInvokeError=function(a){return a?a.toJSON?JSON.stringify(a):JSON.stringify({name:a.name,message:a.message,details:a.details,stack:a.stack}):null};a.postMessage=function(a,f,b,d){2===arguments.length||void 0===b&&void 0===d?a.postMessage(f):(g("esri-workers-supports-transfer-arraybuffer")||(d?(d=d.filter(function(b){return!(b instanceof ArrayBuffer)}),d.length||(d=null)):n(b)&&b.transferList&&(b.transferList=
b.transferList.filter(function(b){return!(b instanceof ArrayBuffer)}),b.transferList.length||(b.transferList=null))),d?(f.data=b,a.postMessage(f,d)):n(b)?(f.data=b.result,b.transferList?a.postMessage(f,b.transferList):a.postMessage(f)):(f.data=b,a.postMessage(f)))};a.receiveMessage=function(a){return a?(a=a.data)?"string"===typeof a?JSON.parse(a):a:null:null}})},"esri/layers/vectorTiles/views/vectorTiles/WorkerTileHandler":function(){define("require exports dojo/Deferred ../../core/promiseUtils ../2d/tiling/enums ./WorkerTile ./style/StyleRepository".split(" "),
function(p,a,g,n,f,e,k){return function(){function b(){this._tiles=new Map;this._spriteInfo={};this._glyphInfo={}}b.prototype.reset=function(){var b=new g;this._spriteInfo={};this._glyphInfo={};var a=this._tiles;a.forEach(function(b){return b.setObsolete()});a.clear();b.resolve();return b.promise};b.prototype.getLayers=function(){return this._layers};b.prototype.setLayers=function(b){this._layers=(new k(b)).layers;return n.resolve({data:""})};b.prototype.getTile=function(b,a){var c=this,d=b.key,h=
e.pool.acquire();h.initialize(b.key,b.refKey,this,b.rotation);var k=b.cacheTile;return a.invoke("fetchTileData",b.refKey).then(function(b){return h.setDataAndParse(b,a).then(function(b){k&&h.status!==f.TileStatus.INVALID&&c._tiles.set(d,h);return b}).catch(function(b){h.setObsolete();e.pool.release(h);c._tiles["delete"](h.tileKey);return n.reject(b)})}).catch(function(b){h.setObsolete();if(c._tiles.has(h.tileKey))c._tiles["delete"](h.tileKey);return n.reject(b)}).always(function(b){k||e.pool.release(h);
return b})};b.prototype.update=function(b){var a=this._tiles.get(b.key);return a?a.updateSymbols(b.rotation):n.reject()};b.prototype.destructTileData=function(b){this._tiles.has(b)&&(e.pool.release(this._tiles.get(b)),this._tiles["delete"](b));return n.resolve()};b.prototype.fetchSprites=function(b,a){var c=[],d=this._spriteInfo;b.forEach(function(b){void 0===d[b]&&c.push(b)});return 0===c.length?n.resolve():a.invoke("getSprites",c).then(function(b){for(var a in b)d[a]=b[a]})};b.prototype.getSpriteItems=
function(){return this._spriteInfo};b.prototype.fetchGlyphs=function(b,a,c,f){var d=[],h=this._glyphInfo[a];h?c.forEach(function(b){h[b]||d.push(b)}):(h=this._glyphInfo[a]=[],c.forEach(function(b){return d.push(b)}));return 0===d.length?n.resolve():f.invoke("getGlyphs",{tileID:b,font:a,codePoints:d}).then(function(b){for(var a in b)h[a]=b[a]})};b.prototype.getGlyphItems=function(b){return this._glyphInfo[b]};return b}()})},"esri/layers/vectorTiles/views/2d/tiling/enums":function(){define(["require",
"exports"],function(p,a){Object.defineProperty(a,"__esModule",{value:!0});var g=a.TileStatus||(a.TileStatus={});g[g.INITIALIZED=0]="INITIALIZED";g[g.NO_DATA=1]="NO_DATA";g[g.READY=2]="READY";g[g.MODIFIED=3]="MODIFIED";g[g.INVALID=4]="INVALID"})},"esri/layers/vectorTiles/views/vectorTiles/WorkerTile":function(){define("require exports dojo/Deferred ../../core/executeAsync ../../core/ObjectPool ../../core/promiseUtils ../2d/tiling/enums ./BackgroundBucket ./CircleBucket ./FillBucket ./GeometryUtils ./IndexMemoryBuffer ./LineBucket ./Placement ./SymbolBucket ./TileParser ./VertexMemoryBuffer".split(" "),
function(p,a,g,n,f,e,k,b,d,h,c,q,r,t,G,y,v){return function(){function a(){this.rotation=0;this.status=k.TileStatus.INITIALIZED;this._symbolBuckets=[];this.placementEngine=new t.PlacementEngine;this.fillVertexBuffer=new v.FillVertexBuffer(!1);this.fillDDVertexBuffer=new v.FillVertexBuffer(!0);this.fillIndexBuffer=new q.TriangleIndexBuffer;this.outlineVertexBuffer=new v.OutlineVertexBuffer(!1);this.outlineDDVertexBuffer=new v.OutlineVertexBuffer(!0);this.outlineIndexBuffer=new q.TriangleIndexBuffer;
this.lineVertexBuffer=new v.LineVertexBuffer(!1);this.lineDDVertexBuffer=new v.LineVertexBuffer(!0);this.lineIndexBuffer=new q.TriangleIndexBuffer;this.iconVertexBuffer=new v.SymbolVertexBuffer(!1);this.iconDDVertexBuffer=new v.SymbolVertexBuffer(!0);this.iconIndexBuffer=new q.TriangleIndexBuffer;this.textVertexBuffer=new v.SymbolVertexBuffer(!1);this.textDDVertexBuffer=new v.SymbolVertexBuffer(!0);this.textIndexBuffer=new q.TriangleIndexBuffer;this.circleVertexBuffer=new v.CircleVertexBuffer;this.circleIndexBuffer=
new q.TriangleIndexBuffer}a.prototype.initialize=function(b,a,d,h){void 0===h&&(h=0);this.tileKey=b;this.refKey=a;this._workerTileHandler=d;this.rotation=h;this.placementEngine.setAngle(c.C_DEG_TO_RAD*h)};a.prototype.release=function(){this.tileKey=this.refKey="";this.status=k.TileStatus.INITIALIZED;this.rotation=0;this.fillVertexBuffer.reset();this.fillDDVertexBuffer.reset();this.fillIndexBuffer.reset();this.outlineVertexBuffer.reset();this.outlineDDVertexBuffer.reset();this.outlineIndexBuffer.reset();
this.lineVertexBuffer.reset();this.lineDDVertexBuffer.reset();this.lineIndexBuffer.reset();this.iconVertexBuffer.reset();this.iconDDVertexBuffer.reset();this.iconIndexBuffer.reset();this.textVertexBuffer.reset();this.textDDVertexBuffer.reset();this.textIndexBuffer.reset();this.circleVertexBuffer.reset();this.circleIndexBuffer.reset();this.placementEngine.reset();this._symbolBuckets.length=0;this._workerTileHandler=null};a.prototype.setDataAndParse=function(a,c){var f=this,e=new g(function(b){f.status=
k.TileStatus.INVALID});this._parse(a,c).then(function(a){f.status=k.TileStatus.READY;for(var c=new Uint32Array([1,f.fillVertexBuffer.sizeInBytes,2,f.fillDDVertexBuffer.sizeInBytes,3,f.fillIndexBuffer.sizeInBytes,4,f.outlineVertexBuffer.sizeInBytes,5,f.outlineDDVertexBuffer.sizeInBytes,6,f.outlineIndexBuffer.sizeInBytes,7,f.lineVertexBuffer.sizeInBytes,8,f.lineDDVertexBuffer.sizeInBytes,9,f.lineIndexBuffer.sizeInBytes,10,f.iconVertexBuffer.sizeInBytes,11,f.iconDDVertexBuffer.sizeInBytes,12,f.iconIndexBuffer.sizeInBytes,
13,f.textVertexBuffer.sizeInBytes,14,f.textDDVertexBuffer.sizeInBytes,15,f.textIndexBuffer.sizeInBytes,16,f.circleVertexBuffer.sizeInBytes,17,f.circleIndexBuffer.sizeInBytes]),q=[],g=a.length,n=0;n<g;n++){var t=a[n];if(t instanceof h)q.push(t.layerIndex),q.push(1),q.push(t.fillIndexStart),q.push(t.fillIndexCount),q.push(t.outlineIndexStart),q.push(t.outlineIndexCount);else if(t instanceof r)q.push(t.layerIndex),q.push(2),q.push(t.lineIndexStart),q.push(t.lineIndexCount);else if(t instanceof G){q.push(t.layerIndex);
q.push(3);q.push(t.sdfMarker?1:0);var x=t.markerPageMap;q.push(x.size);x.forEach(function(b,a){q.push(a);q.push(b[0]);q.push(b[1])});t=t.glyphsPageMap;q.push(t.size);t.forEach(function(b,a){q.push(a);q.push(b[0]);q.push(b[1])})}else t instanceof d?(q.push(t.layerIndex),q.push(4),q.push(t.circleIndexStart),q.push(t.circleIndexCount)):t instanceof b&&(q.push(t.layerIndex),q.push(0))}a=new Uint32Array(q);var g=f.fillVertexBuffer.toBuffer(),n=f.fillDDVertexBuffer.toBuffer(),t=f.fillIndexBuffer.toBuffer(),
x=f.outlineVertexBuffer.toBuffer(),y=f.outlineDDVertexBuffer.toBuffer(),v=f.outlineIndexBuffer.toBuffer(),w=f.lineVertexBuffer.toBuffer(),z=f.lineDDVertexBuffer.toBuffer(),J=f.lineIndexBuffer.toBuffer(),H=f.iconVertexBuffer.toBuffer(),D=f.iconDDVertexBuffer.toBuffer(),E=f.iconIndexBuffer.toBuffer(),C=f.textVertexBuffer.toBuffer(),p=f.textDDVertexBuffer.toBuffer(),W=f.textIndexBuffer.toBuffer(),V=f.circleVertexBuffer.toBuffer(),fa=f.circleIndexBuffer.toBuffer();e.resolve({result:{bufferDataInfo:c.buffer,
bucketDataInfo:a.buffer,bufferData:[g,n,t,x,y,v,w,z,J,H,D,E,C,p,W,V,fa]},transferList:[g,n,t,x,y,v,w,z,J,H,D,E,C,p,W,V,fa,c.buffer,a.buffer]})});return e.promise};a.prototype.addBucket=function(b){this._symbolBuckets.push(b)};a.prototype.updateSymbols=function(b){var a=this,d=this._symbolBuckets;if(!d||0===d.length)return e.resolve();this.rotation=b;var h=this.placementEngine;h.reset();h.setAngle(b/256*360*c.C_DEG_TO_RAD);var f=this.iconVertexBuffer;f.reset();var q=this.iconDDVertexBuffer;q.reset();
var g=this.iconIndexBuffer;g.reset();var r=this.textVertexBuffer;r.reset();var t=this.textDDVertexBuffer;t.reset();var y=this.textIndexBuffer;y.reset();var v=[],G=d.length,z=0;return n(function(){if(a.status===k.TileStatus.INVALID||a.status===k.TileStatus.INITIALIZED)return!0;if(z<G){var b=d[z++],c=b.layer;if(b=b.copy(c.hasDataDrivenIcon?q:f,g,c.hasDataDrivenText?t:r,y,h))v.push(b),b.updateSymbols()}return z>=G}).then(function(){if(a.status===k.TileStatus.INVALID||a.status===k.TileStatus.INITIALIZED||
0===f.sizeInBytes&&0===q.sizeInBytes&&0===g.sizeInBytes&&0===r.sizeInBytes&&0===t.sizeInBytes&&0===y.sizeInBytes)return{result:null,transferList:null};var b=new Uint32Array([10,f.sizeInBytes,11,q.sizeInBytes,12,g.sizeInBytes,13,r.sizeInBytes,14,t.sizeInBytes,15,y.sizeInBytes]),c=[];G=v.length;for(var d=0;d<G;d++){var h=v[d];c.push(h.layerIndex);c.push(3);c.push(h.sdfMarker?1:0);var e=h.markerPageMap;c.push(e.size);e.forEach(function(b,a){c.push(a);c.push(b[0]);c.push(b[1])});h=h.glyphsPageMap;c.push(h.size);
h.forEach(function(b,a){c.push(a);c.push(b[0]);c.push(b[1])})}var d=new Uint32Array(c),h=f.toBuffer(),e=q.toBuffer(),n=g.toBuffer(),x=r.toBuffer(),z=t.toBuffer(),w=y.toBuffer();return{result:{bufferDataInfo:b.buffer,bucketDataInfo:d.buffer,bufferData:[h,e,n,x,z,w]},transferList:[h,e,n,x,z,w,b.buffer,d.buffer]}}).catch(function(){return null})};a.prototype.setObsolete=function(){this.status=k.TileStatus.INVALID};a.prototype.getLayers=function(){return this._workerTileHandler.getLayers()};a.prototype.getWorkerTileHandler=
function(){return this._workerTileHandler};a.prototype._parse=function(b,a){if(!b||0===b.byteLength)return e.resolve([]);this.status=k.TileStatus.MODIFIED;return(new y(b,this,a)).parse()};a.pool=new f(a);return a}()})},"esri/layers/vectorTiles/core/executeAsync":function(){define("require exports dojo/has ./nextTick ./now ./promiseUtils".split(" "),function(p,a,g,n,f,e){function k(){var a=0===b.length;if(!a){for(var e=f();!a&&200>f()-e;){var g=b[h];if(g){if(!0===g()){var t=d.get(g);b[h]=null;d.delete(g);
t()}h=(h+1)%b.length}else b.splice(h,1),h=(a=0===b.length)?0:h%b.length}a||n(k)}}var b=[],d=new Map,h=0;return function(a){return a?e.create(function(c){b.push(a);d.set(a,c);1===b.length&&n(k)},function(){b[b.indexOf(a)]=null;d.delete(a)}):e.reject(new TypeError("callback is not a function"))}})},"esri/layers/vectorTiles/core/nextTick":function(){define(["require","exports","./global"],function(p,a,g){function n(){if(g.postMessage&&!g.importScripts){var a=g.onmessage,f=!0;g.onmessage=function(){f=
!1};g.postMessage("","*");g.onmessage=a;return f}return!1}var f=g.MutationObserver||g.WebKitMutationObserver;return function(){var a;if(g.process&&g.process.nextTick)a=function(b){g.process.nextTick(b)};else if(g.Promise)a=function(b){g.Promise.resolve().then(b)};else if(f){var k=[],b=document.createElement("div");(new f(function(){for(;0<k.length;)k.shift()()})).observe(b,{attributes:!0});a=function(a){k.push(a);b.setAttribute("queueStatus","1")}}else if(n()){var d=[];g.addEventListener("message",
function(b){if(b.source===g&&"esri-nexttick-message"===b.data)for(b.stopPropagation();d.length;)d.shift()()},!0);a=function(b){d.push(b);g.postMessage("esri-nexttick-message","*")}}else a=g.setImmediate?function(b){return g.setImmediate(b)}:function(b){return g.setTimeout(b,0)};return a}()})},"esri/layers/vectorTiles/core/global":function(){define(["require","exports"],function(p,a){return function(){if("undefined"!==typeof global)return global;if("undefined"!==typeof window)return window;if("undefined"!==
typeof self)return self}()})},"esri/layers/vectorTiles/core/now":function(){define(["require","exports","./global"],function(p,a,g){return function(){var a=g.performance||{};if(a.now)return function(){return a.now()};if(a.webkitNow)return function(){return a.webkitNow()};if(a.mozNow)return function(){return a.mozNow()};if(a.msNow)return function(){return a.msNow()};if(a.oNow)return function(){return a.oNow()};var f;f=a.timing&&a.timing.navigationStart?a.timing.navigationStart:Date.now();return function(){return Date.now()-
f}}()})},"esri/layers/vectorTiles/core/ObjectPool":function(){define(["require","exports"],function(p,a){var g=function(){return function(){}}();return function(){function a(a,e,k,b,d){void 0===b&&(b=1);void 0===d&&(d=0);this.classConstructor=a;this.acquireFunctionOrWithConstructor=e;this.releaseFunction=k;this.growthSize=b;!0===e?this.acquireFunction=this._constructorAcquireFunction:"function"===typeof e&&(this.acquireFunction=e);this._pool=Array(d);this._set=new Set;this._initialSize=d;for(a=0;a<
d;a++)this._pool[a]=new this.classConstructor;this.growthSize=Math.max(b,1)}a.prototype.acquire=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];e=this.classConstructor||g;if(0===this._pool.length)for(var k=this.growthSize,b=0;b<k;b++)this._pool[b]=new e;e=this._pool.shift();this.acquireFunction?this.acquireFunction.apply(this,[e].concat(a)):e&&e.acquire&&"function"===typeof e.acquire&&e.acquire.apply(e,a);this._set.delete(e);return e};a.prototype.release=function(a){a&&!this._set.has(a)&&
(this.releaseFunction?this.releaseFunction(a):a&&a.release&&"function"===typeof a.release&&a.release(),this._pool.push(a),this._set.add(a))};a.prototype.prune=function(a){void 0===a&&(a=this._initialSize);if(!(this._pool.length<=a))for(var f;a>this._pool.length;)f=this._pool.shift(),this._set.delete(f),f.dispose&&"function"===typeof f.dispose&&f.dispose()};a.prototype._constructorAcquireFunction=function(a){for(var f=[],k=1;k<arguments.length;k++)f[k-1]=arguments[k];(b=this.classConstructor).call.apply(b,
[a].concat(f));var b};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/BackgroundBucket":function(){define(["require","exports","../../core/tsSupport/extendsHelper","../../core/tsSupport/decorateHelper","./Bucket"],function(p,a,g,n,f){return function(a){function f(b,d){return a.call(this,b,d)||this}g(f,a);return f}(f)})},"esri/layers/vectorTiles/core/tsSupport/decorateHelper":function(){define([],function(){return function(p,a,g,n){var f=arguments.length,e=3>f?a:null===n?n=Object.getOwnPropertyDescriptor(a,
g):n,k;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)e=Reflect.decorate(p,a,g,n);else for(var b=p.length-1;0<=b;b--)if(k=p[b])e=(3>f?k(e):3<f?k(a,g,e):k(a,g))||e;return 3<f&&e&&Object.defineProperty(a,g,e),e}})},"esri/layers/vectorTiles/views/vectorTiles/Bucket":function(){define(["require","exports"],function(p,a){return function(){function a(a,f){this.layerExtent=4096;this._features=[];this.layer=a;this.zoom=f;this._filter=a.getFeatureFilter()}a.prototype.pushFeature=function(a){this._filter.filter(a)&&
this._features.push(a)};a.prototype.hasFeatures=function(){return 0<this._features.length};a.prototype.processFeatures=function(a,f){};a.prototype.assignBufferInfo=function(a){};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/CircleBucket":function(){define(["require","exports","../../core/tsSupport/extendsHelper","../../core/tsSupport/decorateHelper","./Bucket"],function(p,a,g,n,f){return function(a){function f(b,d,h,c){b=a.call(this,b,d)||this;b._circleVertexBuffer=h;b._circleIndexBuffer=
c;return b}g(f,a);Object.defineProperty(f.prototype,"circleIndexStart",{get:function(){return this._circleIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"circleIndexCount",{get:function(){return this._circleIndexCount},enumerable:!0,configurable:!0});f.prototype.assignBufferInfo=function(a){a._circleIndexStart=this._circleIndexStart;a._circleIndexCount=this._circleIndexCount};f.prototype.processFeatures=function(a,d){var b=this._circleVertexBuffer,c=this._circleIndexBuffer;
this._circleIndexStart=c.index;this._circleIndexCount=0;var f=this.layer,e=this.zoom;a&&a.setExtent(this.layerExtent);for(var k=1,g=[1,1,1,1],n=1,v=0,z=1,C=[1,1,1,1],E=1,D=0,x=this._features;D<x.length;D++){var w=x[D],A=w.getGeometry(a);if(A)for(f.hasDataDrivenRadius&&(k=f.getPaintValue("circle-radius",e,w)),f.hasDataDrivenColor&&(g=f.getPaintValue("circle-color",e,w)),f.hasDataDrivenOpacity&&(n=f.getPaintValue("circle-opacity",e,w)),f.hasDataDrivenStrokeWidth&&(z=f.getPaintValue("circle-stroke-width",
e,w)),f.hasDataDrivenStrokeColor&&(C=f.getPaintValue("circle-stroke-color",e,w)),f.hasDataDrivenStrokeOpacity&&(E=f.getPaintValue("circle-stroke-opacity",e,w)),f.hasDataDrivenBlur&&(v=f.getPaintValue("circle-blur",e,w)),w=0;w<A.length;w++){var p=A[w];if(p)for(var O=0;O<p.length;O++){var B=p[O],I=b.index;b.add(B.x,B.y,0,0,k,g,n,v,z,C,E);b.add(B.x,B.y,0,1,k,g,n,v,z,C,E);b.add(B.x,B.y,1,0,k,g,n,v,z,C,E);b.add(B.x,B.y,1,1,k,g,n,v,z,C,E);c.add(I+0,I+1,I+2);c.add(I+1,I+2,I+3);this._circleIndexCount+=6}}}};
return f}(f)})},"esri/layers/vectorTiles/views/vectorTiles/FillBucket":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ../../core/ArrayPool ../../core/libs/earcut/earcut ../2d/engine/webgl/Geometry ./Bucket".split(" "),function(p,a,g,n,f,e,k,b){return function(a){function b(b,d,h,f,e,k){d=a.call(this,b,d)||this;if(b.hasDataDrivenFill!==h.isDataDriven())throw Error("incompatible fill buffer");if(b.hasDataDrivenOutline!==e.isDataDriven())throw Error("incompatible outline buffer");
d._fillVertexBuffer=h;d._fillIndexBuffer=f;d._outlineVertexBuffer=e;d._outlineIndexBuffer=k;return d}g(b,a);Object.defineProperty(b.prototype,"fillIndexStart",{get:function(){return this._fillIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"fillIndexCount",{get:function(){return this._fillIndexCount},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"outlineIndexStart",{get:function(){return this._outlineIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"outlineIndexCount",{get:function(){return this._outlineIndexCount},enumerable:!0,configurable:!0});b.prototype.assignBufferInfo=function(a){a._fillIndexStart=this._fillIndexStart;a._fillIndexCount=this._fillIndexCount;a.layer.getPaintProperty("fill-outline-color")?(a._outlineIndexStart=this._outlineIndexStart,a._outlineIndexCount=this._outlineIndexCount):(a._outlineIndexStart=0,a._outlineIndexCount=0)};b.prototype.processFeatures=function(a,b){this._fillIndexStart=this._fillIndexBuffer.index;this._fillIndexCount=
0;this._outlineIndexStart=this._outlineIndexBuffer.index;this._outlineIndexCount=0;var c=this.layer,d=this.zoom,h=c.hasDataDrivenFill,f=c.hasDataDrivenOutline;a&&a.setExtent(this.layerExtent);var e=c.getPaintValue("fill-pattern",d),k=c.getPaintValue("fill-antialias",d)&&void 0===e,q=[1,1,1,1],g=[1,1,1,1],n=1;if(c.outlineUsesFillColor){if(k&&!c.hasDataDrivenOpacity){var x=c.getPaintValue("fill-opacity",d),w=c.getPaintValue("fill-opacity",d+1);1>x&&1>w&&(k=!1)}k&&!c.hasDataDrivenColor&&(x=c.getPaintValue("fill-color",
d),w=c.getPaintValue("fill-color",d+1),1>x[3]&&1>w[3]&&(k=!1))}x=0;for(w=this._features;x<w.length;x++){var A=w[x];!e&&c.hasDataDrivenColor&&(q=c.getPaintValue("fill-color",d,A));c.hasDataDrivenOpacity&&(n=c.getPaintValue("fill-opacity",d,A));!e&&c.hasDataDrivenOutlineColor&&(g=c.getPaintValue("fill-outline-color",d,A));var p=void 0;h&&(p={color:q,opacity:n});var O=void 0;f&&(O={color:c.outlineUsesFillColor?q:g,opacity:n});A=A.getGeometry(a);this._processFeature(A,k,c.outlineUsesFillColor,p,O)}};
b.prototype._processFeature=function(a,d,h,f,e){if(a){var c=a.length;if(d&&(!h||!e||1===e.color[3]*e.opacity))for(d=0;d<c;d++)this._processOutline(a[d],e);var k;for(d=0;d<c;d++)e=b._area(a[d]),128<e?(void 0!==k&&this._processFill(a,k,f),k=[d]):-128>e&&void 0!==k&&k.push(d);void 0!==k&&this._processFill(a,k,f)}};b.prototype._processOutline=function(a,b){var c=this._outlineVertexBuffer,d=this._outlineIndexBuffer,h=d.index,f,e,g,q=new k.Point(0,0),n=new k.Point(0,0),D=new k.Point(0,0),x=-1,w=-1,A=-1,
p=-1,O=-1,B=!1,I=a.length;if(!(2>I)){var Q=a[0];for(f=a[I-1];I&&f.isEqual(Q);)--I,f=a[I-1];if(!(2>I-0)){for(Q=0;Q<I;++Q){0===Q?(f=a[I-1],e=a[0],g=a[1],q.assignSub(e,f),q.normalize(),q.rightPerpendicular()):(f=e,e=g,g=Q!==I-1?a[Q+1]:a[0],q.assign(n));f=this._isClipEdge(f,e);-1===p&&(B=f);n.assignSub(g,e);n.normalize();n.rightPerpendicular();A=q.x*n.y-q.y*n.x;D.assignAdd(q,n);D.normalize();var K=-D.x*-q.x+-D.y*-q.y,K=Math.abs(0!==K?1/K:1);8<K&&(K=8);0<=A?(A=c.add(e.x,e.y,q.x,q.y,0,1,b),-1===p&&(p=A),
0<=x&&0<=w&&0<=A&&!f&&d.add(x,w,A),w=c.add(e.x,e.y,K*-D.x,K*-D.y,0,-1,b),-1===O&&(O=w),0<=x&&0<=w&&0<=A&&!f&&d.add(x,w,A),x=w,w=A,A=c.add(e.x,e.y,D.x,D.y,0,1,b),0<=x&&0<=w&&0<=A&&!f&&d.add(x,w,A),w=c.add(e.x,e.y,n.x,n.y,0,1,b)):(A=c.add(e.x,e.y,K*D.x,K*D.y,0,1,b),-1===p&&(p=A),0<=x&&0<=w&&0<=A&&!f&&d.add(x,w,A),w=c.add(e.x,e.y,-q.x,-q.y,0,-1,b),-1===O&&(O=w),0<=x&&0<=w&&0<=A&&!f&&d.add(x,w,A),x=w,w=A,A=c.add(e.x,e.y,-D.x,-D.y,0,-1,b),0<=x&&0<=w&&0<=A&&!f&&d.add(x,w,A),x=c.add(e.x,e.y,-n.x,-n.y,0,
-1,b));0<=x&&0<=w&&0<=A&&!f&&d.add(x,w,A)}0<=x&&0<=w&&0<=p&&!B&&d.add(x,w,p);0<=x&&0<=p&&0<=O&&!B&&d.add(x,O,p);this._outlineIndexCount+=3*(d.index-h)}}};b.prototype._processFill=function(a,b,d){var c;1<b.length&&(c=[]);for(var h=0,k=0;k<b.length;k++){var g=b[k];0!==h&&c.push(h);h+=a[g].length}for(var k=2*h,h=f.acquire(),q=0;q<b.length;q++)for(var g=b[q],g=a[g],n=g.length,r=0;r<n;++r)h.push(g[r].x),h.push(g[r].y);a=e(h,c,2);b=a.length;if(0<b){c=this._fillVertexBuffer.index;for(q=0;q<k;)this._fillVertexBuffer.add(h[q++],
h[q++],d);for(d=0;d<b;)this._fillIndexBuffer.add(c+a[d++],c+a[d++],c+a[d++]);this._fillIndexCount+=b}f.release(h)};b.prototype._isClipEdge=function(a,b){return a.x===b.x?-64>=a.x||4160<=a.x:a.y===b.y?-64>=a.y||4160<=a.y:!1};b._area=function(a){for(var b=0,c=a.length-1,d=0;d<c;d++)b+=(a[d].x-a[d+1].x)*(a[d].y+a[d+1].y);b+=(a[c].x-a[0].x)*(a[c].y+a[0].y);return.5*b};return b}(b)})},"esri/layers/vectorTiles/core/ArrayPool":function(){define(["require","exports","./ObjectPool"],function(p,a,g){function n(a){a.length=
0}var f=Array.prototype.splice;p=function(){function a(a,d){void 0===a&&(a=50);void 0===d&&(d=50);this._pool=new g(Array,!1,n,d,a)}a.prototype.acquire=function(){return this._pool.acquire()};a.prototype.copy=function(a){var b=this.acquire();a.unshift(0,0);f.apply(b,a);a.splice(0,2);return b};a.prototype.release=function(a){this._pool.release(a)};a.acquire=function(){return e.acquire()};a.copy=function(a){return e.copy(a)};a.release=function(a){return e.release(a)};return a}();var e=new p(100);return p})},
"esri/layers/vectorTiles/core/libs/earcut/earcut":function(){define([],function(){function p(b,c,h){h=h||2;E=b.length/h+(c?2*c.length:0);D=!1;var f=c&&c.length,q=f?c[0]*h:b.length,r=a(b,0,q,h,!0),x=[];if(!r)return x;var t,y,v,z;if(f)a:{var w=h,f=[],J,H,R;z=0;for(J=c.length;z<J;z++)H=c[z]*w,R=z<J-1?c[z+1]*w:b.length,H=a(b,H,R,w,!1),H===H.next&&(H.steiner=!0),f.push(d(H));f.sort(e);for(z=0;z<f.length;z++){if(!r){r=null;break a}c=f[z];w=r;if(w=k(c,w))c=G(w,c),g(c,c.next);r=g(r,r.next)}}if(D)return x;
if(b.length>80*h){t=v=b[0];y=f=b[1];for(w=h;w<q;w+=h)z=b[w],c=b[w+1],z<t&&(t=z),c<y&&(y=c),z>v&&(v=z),c>f&&(f=c);v=Math.max(v-t,f-y)}n(r,x,h,t,y,v);return x}function a(a,b,c,d,h){var f;if(h===0<C(a,b,c,d))for(h=b;h<c;h+=d)f=y(h,a[h],a[h+1],f);else for(h=c-d;h>=b;h-=d)f=y(h,a[h],a[h+1],f);f&&q(f,f.next)&&(v(f),f=f.next);return f}function g(a,b){if(!a)return a;b||(b=a);var d=a,h,f=0,e=E*E/2;do{h=!1;if(d.steiner||!q(d,d.next)&&0!==c(d.prev,d,d.next))d=d.next;else{v(d);d=b=d.prev;if(d===d.next)return null;
h=!0}if(f++>e)return D=!0,null}while(h||d!==b);return b}function n(a,d,e,k,y,z,I){if(a){if(!I&&z){var x=a,w=x;do null===w.z&&(w.z=b(w.x,w.y,k,y,z)),w.prevZ=w.prev,w=w.nextZ=w.next;while(w!==x);w.prevZ.nextZ=null;w.prevZ=null;var x=w,B,A,F,J,H,R,E=1;do{w=x;F=x=null;for(J=0;w;){J++;A=w;for(B=H=0;B<E&&(H++,A=A.nextZ,A);B++);for(R=E;0<H||0<R&&A;)0===H?(B=A,A=A.nextZ,R--):0!==R&&A?w.z<=A.z?(B=w,w=w.nextZ,H--):(B=A,A=A.nextZ,R--):(B=w,w=w.nextZ,H--),F?F.nextZ=B:x=B,B.prevZ=F,F=B;w=A}F.nextZ=null;E*=2}while(1<
J)}for(x=a;a.prev!==a.next;){w=a.prev;A=a.next;if(z)a:{F=a;R=k;var p=y,O=z;J=F.prev;H=F;E=F.next;if(0<=c(J,H,E))F=!1;else{var C=J.x>H.x?J.x>E.x?J.x:E.x:H.x>E.x?H.x:E.x,U=J.y>H.y?J.y>E.y?J.y:E.y:H.y>E.y?H.y:E.y;B=b(J.x<H.x?J.x<E.x?J.x:E.x:H.x<E.x?H.x:E.x,J.y<H.y?J.y<E.y?J.y:E.y:H.y<E.y?H.y:E.y,R,p,O);R=b(C,U,R,p,O);for(p=F.nextZ;p&&p.z<=R;){if(p!==F.prev&&p!==F.next&&h(J.x,J.y,H.x,H.y,E.x,E.y,p.x,p.y)&&0<=c(p.prev,p,p.next)){F=!1;break a}p=p.nextZ}for(p=F.prevZ;p&&p.z>=B;){if(p!==F.prev&&p!==F.next&&
h(J.x,J.y,H.x,H.y,E.x,E.y,p.x,p.y)&&0<=c(p.prev,p,p.next)){F=!1;break a}p=p.prevZ}F=!0}}else F=f(a);if(F)d.push(w.i/e),d.push(a.i/e),d.push(A.i/e),v(a),x=a=A.next;else{if(D)break;a=A;if(a===x){if(!I)n(g(a),d,e,k,y,z,1);else if(1===I){I=d;x=e;w=a;do A=w.prev,F=w.next.next,!q(A,F)&&r(A,w,w.next,F)&&t(A,F)&&t(F,A)&&(I.push(A.i/x),I.push(w.i/x),I.push(F.i/x),v(w),v(w.next),w=a=F),w=w.next;while(w!==a);a=w;n(a,d,e,k,y,z,2)}else if(2===I)a:{I=a;do{for(x=I.next.next;x!==I.prev;){if(w=I.i!==x.i){w=I;A=x;
F=void 0;if(F=w.next.i!==A.i&&w.prev.i!==A.i){F=void 0;b:{F=w;do{if(F.i!==w.i&&F.next.i!==w.i&&F.i!==A.i&&F.next.i!==A.i&&r(F,F.next,w,A)){F=!0;break b}F=F.next}while(F!==w);F=!1}F=!F}J=void 0;if(J=F&&t(w,A)&&t(A,w)){F=w;J=!1;H=(w.x+A.x)/2;A=(w.y+A.y)/2;do F.y>A!==F.next.y>A&&H<(F.next.x-F.x)*(A-F.y)/(F.next.y-F.y)+F.x&&(J=!J),F=F.next;while(F!==w)}w=J}if(w){a=G(I,x);I=g(I,I.next);a=g(a,a.next);n(I,d,e,k,y,z);n(a,d,e,k,y,z);break a}x=x.next}I=I.next}while(I!==a)}break}}}}}function f(a){var b=a.prev,
d=a.next;if(0<=c(b,a,d))return!1;for(var f=a.next.next,e=0;f!==a.prev;){if(h(b.x,b.y,a.x,a.y,d.x,d.y,f.x,f.y)&&0<=c(f.prev,f,f.next))return!1;f=f.next;if(e++>E)return D=!0,!1}return!0}function e(a,b){return a.x-b.x}function k(a,b){var c=b,d=a.x,f=a.y,e=-Infinity,k;do{if(!c)return null;if(f<=c.y&&f>=c.next.y){var g=c.x+(f-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(g<=d&&g>e){e=g;if(g===d){if(f===c.y)return c;if(f===c.next.y)return c.next}k=c.x<c.next.x?c:c.next}}c=c.next}while(c!==b);if(!k)return null;
if(d===e)return k.prev;for(var g=k,q=k.x,n=k.y,r=Infinity,x,c=k.next;c!==g;)d>=c.x&&c.x>=q&&h(f<n?d:e,f,q,n,f<n?e:d,f,c.x,c.y)&&(x=Math.abs(f-c.y)/(d-c.x),(x<r||x===r&&c.x>k.x)&&t(c,a)&&(k=c,r=x)),c=c.next;return k}function b(a,b,c,d,h){a=32767*(a-c)/h;b=32767*(b-d)/h;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function d(a){var b=a,c=a;do b.x<c.x&&(c=b),b=b.next;while(b!==
a);return c}function h(a,b,c,d,h,f,e,k){return 0<=(h-e)*(b-k)-(a-e)*(f-k)&&0<=(a-e)*(d-k)-(c-e)*(b-k)&&0<=(c-e)*(f-k)-(h-e)*(d-k)}function c(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function q(a,b){return a.x===b.x&&a.y===b.y}function r(a,b,d,h){return q(a,b)&&q(d,h)||q(a,h)&&q(d,b)?!0:0<c(a,b,d)!==0<c(a,b,h)&&0<c(d,h,a)!==0<c(d,h,b)}function t(a,b){return 0>c(a.prev,a,a.next)?0<=c(a,b,a.next)&&0<=c(a,a.prev,b):0>c(a,b,a.prev)||0>c(a,a.next,b)}function G(a,b){var c=new z(a.i,a.x,a.y),
d=new z(b.i,b.x,b.y),h=a.next,f=b.prev;a.next=b;b.prev=a;c.next=h;h.prev=c;d.next=c;c.prev=d;f.next=d;d.prev=f;return d}function y(a,b,c,d){a=new z(a,b,c);d?(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a):(a.prev=a,a.next=a);return a}function v(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function z(a,b,c){this.i=a;this.x=b;this.y=c;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function C(a,b,c,d){for(var h=0,f=
c-d;b<c;b+=d)h+=(a[f]-a[b])*(a[b+1]+a[f+1]),f=b;return h}var E,D;p.deviation=function(a,b,c,d){var h=b&&b.length,f=Math.abs(C(a,0,h?b[0]*c:a.length,c));if(h)for(var h=0,e=b.length;h<e;h++)f-=Math.abs(C(a,b[h]*c,h<e-1?b[h+1]*c:a.length,c));for(h=b=0;h<d.length;h+=3){var e=d[h]*c,k=d[h+1]*c,g=d[h+2]*c;b+=Math.abs((a[e]-a[g])*(a[k+1]-a[e+1])-(a[e]-a[k])*(a[g+1]-a[e+1]))}return 0===f&&0===b?0:Math.abs((b-f)/f)};p.flatten=function(a){for(var b=a[0][0].length,c={vertices:[],holes:[],dimensions:b},d=0,h=
0;h<a.length;h++){for(var f=0;f<a[h].length;f++)for(var e=0;e<b;e++)c.vertices.push(a[h][f][e]);0<h&&(d+=a[h-1].length,c.holes.push(d))}return c};return p})},"esri/layers/vectorTiles/views/2d/engine/webgl/Geometry":function(){define(["require","exports"],function(p,a){Object.defineProperty(a,"__esModule",{value:!0});var g=function(){function a(a,e){this.x=a;this.y=e}a.prototype.clone=function(){return new a(this.x,this.y)};a.prototype.equals=function(a,e){return a===this.x&&e===this.y};a.prototype.isEqual=
function(a){return a.x===this.x&&a.y===this.y};a.prototype.setCoords=function(a,e){this.x=a;this.y=e};a.prototype.normalize=function(){var a=this.x,e=this.y,a=Math.sqrt(a*a+e*e);this.x/=a;this.y/=a};a.prototype.rightPerpendicular=function(){var a=this.x;this.x=this.y;this.y=-a};a.prototype.move=function(a,e){this.x+=a;this.y+=e};a.prototype.assign=function(a){this.x=a.x;this.y=a.y};a.prototype.assignAdd=function(a,e){this.x=a.x+e.x;this.y=a.y+e.y};a.prototype.assignSub=function(a,e){this.x=a.x-e.x;
this.y=a.y-e.y};a.prototype.rotate=function(a,e){var f=this.x,b=this.y;this.x=f*a-b*e;this.y=f*e+b*a};a.prototype.scale=function(a){this.x*=a;this.y*=a};a.prototype.length=function(){var a=this.x,e=this.y;return Math.sqrt(a*a+e*e)};a.distance=function(a,e){var f=e.x-a.x,b=e.y-a.y;return Math.sqrt(f*f+b*b)};a.add=function(f,e){return new a(f.x+e.x,f.y+e.y)};a.sub=function(f,e){return new a(f.x-e.x,f.y-e.y)};return a}();a.Point=g})},"esri/layers/vectorTiles/views/vectorTiles/GeometryUtils":function(){define(["require",
"exports"],function(p,a){function g(a,e){a%=e;return 0<=a?a:a+e}Object.defineProperty(a,"__esModule",{value:!0});a.C_INFINITY=Number.POSITIVE_INFINITY;a.C_PI=Math.PI;a.C_2PI=2*a.C_PI;a.C_PI_BY_2=a.C_PI/2;a.C_RAD_TO_256=128/a.C_PI;a.C_256_TO_RAD=a.C_PI/128;a.C_DEG_TO_256=256/360;a.C_DEG_TO_RAD=a.C_PI/180;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/a.C_SQRT2;var n=1/Math.LN2;a.positiveMod=g;a.radToByte=function(f){return g(f*a.C_RAD_TO_256,256)};a.degToByte=function(f){return g(f*a.C_DEG_TO_256,256)};a.log2=
function(a){return Math.log(a)*n};a.sqr=function(a){return a*a};a.clamp=function(a,e,k){return Math.min(Math.max(a,e),k)};a.interpolate=function(a,e,k){return a*(1-k)+e*k};a.between=function(a,e,k){return a>=e&&a<=k||a>=k&&a<=e}})},"esri/layers/vectorTiles/views/vectorTiles/IndexMemoryBuffer":function(){define(["require","exports","../../core/tsSupport/extendsHelper","../../core/tsSupport/decorateHelper","./MemoryBuffer"],function(p,a,g,n,f){Object.defineProperty(a,"__esModule",{value:!0});p=function(a){function f(){return a.call(this,
12)||this}g(f,a);f.prototype.add=function(a,d,h){var b=this.array;b.push(a);b.push(d);b.push(h)};return f}(f);a.TriangleIndexBuffer=p;f=function(a){function f(){return a.call(this,4)||this}g(f,a);f.prototype.add=function(a){this.array.push(a)};return f}(f);a.PointElementMemoryBuffer=f})},"esri/layers/vectorTiles/views/vectorTiles/MemoryBuffer":function(){define(["require","exports"],function(p,a){return function(){function a(a){this._array=[];0>=a&&console.error("strideInBytes must be positive!");
this._stride=a}Object.defineProperty(a.prototype,"array",{get:function(){return this._array},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"index",{get:function(){return 4*this._array.length/this._stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"itemSize",{get:function(){return this._stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"sizeInBytes",{get:function(){return 4*this._array.length},enumerable:!0,configurable:!0});a.prototype.reset=
function(){this.array.length=0};a.prototype.toBuffer=function(){return(new Uint32Array(this._array)).buffer};a.i1616to32=function(a,f){return 65535&a|f<<16};a.i8888to32=function(a,f,e,k){return a&255|(f&255)<<8|(e&255)<<16|k<<24};a.i8816to32=function(a,f,e){return a&255|(f&255)<<8|e<<16};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/LineBucket":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ../2d/engine/webgl/LineTess ./Bucket ./style/StyleLayer".split(" "),
function(p,a,g,n,f,e,k){var b=new f.Tessellator({distanceAlongCorrection:!0});return function(a){function d(b,d,h,e){d=a.call(this,b,d)||this;d.extrudeVectorsDoubleBuffer=[f.allocExtrudeVectors(),f.allocExtrudeVectors()];d.firstExtrudeVectors=f.allocExtrudeVectors();d.recycledTriangleBridge=f.allocTriangles(20);d.recycledTrianglePie=f.allocTriangles(20);if(b.hasDataDrivenLine!==h.isDataDriven())throw Error("incompatible line buffer");d._lineVertexBuffer=h;d._lineIndexBuffer=e;return d}g(d,a);Object.defineProperty(d.prototype,
"lineIndexStart",{get:function(){return this._lineIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"lineIndexCount",{get:function(){return this._lineIndexCount},enumerable:!0,configurable:!0});d.prototype.assignBufferInfo=function(a){a._lineIndexStart=this._lineIndexStart;a._lineIndexCount=this._lineIndexCount};d.prototype.processFeatures=function(a,b){this._lineIndexStart=this._lineIndexBuffer.index;this._lineIndexCount=0;var c=this.layer,d=this.zoom,h=c.hasDataDrivenLine;
a&&a.setExtent(this.layerExtent);for(var f=c.getPaintValue("line-pattern",d),e=[1,1,1,1],g=1,q=1,n=0,D=this._features;n<D.length;n++){var x=D[n],w=new k.LineLayout(c,d,x);!f&&c.hasDataDrivenColor&&(e=c.getPaintValue("line-color",d,x));c.hasDataDrivenOpacity&&(g=c.getPaintValue("line-opacity",d,x));c.hasDataDrivenWidth&&(q=c.getPaintValue("line-width",d,x));var p=void 0;if(h&&(p={color:e,opacity:g,size:Math.max(Math.min(q,256),0)},0>=p.size||0>=p.opacity||0>=p.color[3]))continue;x=x.getGeometry(a);
this._processFeature(w,x,p)}};d.prototype._processFeature=function(a,b,d){if(b)for(var c=b.length,h=0;h<c;h++)this._processGeometry(b[h],a,d)};d.prototype._processGeometry=function(a,b,d){if(!(2>a.length)){for(var c=a[0],h=a[a.length-1],e=h.x-c.x,h=h.y-c.y,c=1E-6>e*e+h*h,k=a[0],g=1;g<a.length;)e=a[g].x-k.x,h=a[g].y-k.y,1E-6>e*e+h*h?a.splice(g,1):(k=a[g],++g);if(!(2>a.length)){this.vertices=a;this.verticesLen=a.length;this.isClosed=c;this.cap=b.cap;this.join=b.join;this.almostParallelRads=.05;this.veryShallowRads=
.1;this.miterSafeRads=f.MITER_SAFE_RADS;this.miterLimitMag=Math.min(b.miterLimit,f.SYSTEM_MAG_LIMIT);this.roundLimitRads=Math.min(b.roundLimit,.5);this.newRoundJoinsSafeRads=2.3;b=this._lineIndexBuffer.index;for(var e=0,q=void 0,h=this.verticesLen,k=0;k<h;++k){var g=a[k],n=a[(k+h-1)%h],r=c&&this._isClipEdge(n,g),n=q===this.extrudeVectorsDoubleBuffer[k%2]?this.extrudeVectorsDoubleBuffer[(k+1)%2]:this.extrudeVectorsDoubleBuffer[k%2];k<h-1||!c||this.hasPattern?(this._computeExtrudeVectors(n,k),this._writeGPUVertices(g.x,
g.y,e,n,d),!n.capCenter||c&&k===h-1||this._writeGPUPieElements(n,r),c&&0===k&&!this.hasPattern&&f.copyExtrudeVectors(this.firstExtrudeVectors,n)):f.copyExtrudeVectors(n,this.firstExtrudeVectors);q&&this._writeGPUBridgeElements(q,n,r);k<h-1&&(q=a[k+1],g=f.length([q.x-g.x,q.y-g.y]),e+=g);q=n}this._lineIndexCount+=3*(this._lineIndexBuffer.index-b)}}};d.prototype._computeExtrudeVectors=function(a,b){var c=this.vertices,d=this.verticesLen,h=this.isClosed,e=c[b],k=[void 0,void 0],g=[void 0,void 0];if(0<
b&&b<d-1){var q=c[(b+d-1)%d],n=c[(b+1)%d];f.normalize(k,[e.x-q.x,e.y-q.y]);f.normalize(g,[n.x-e.x,n.y-e.y])}else if(0===b)n=c[(b+1)%d],f.normalize(g,[n.x-e.x,n.y-e.y]),h?(c=c[d-2],f.normalize(k,[e.x-c.x,e.y-c.y])):k=g;else if(b===d-1)q=c[(b+d-1)%d],f.normalize(k,[e.x-q.x,e.y-q.y]),h?(c=c[1],f.normalize(g,[c.x-e.x,c.y-e.y])):g=k;else{console.error("Vertex index 'i' out of range.");return}h||0!==b?h||b!==d-1?this._computeJoinExtrudeVectors(a,k,g):this._computeCapExtrudeVectors(a,k,g,f.CapPosition.END):
this._computeCapExtrudeVectors(a,k,g,f.CapPosition.START)};d.prototype._computeCapExtrudeVectors=function(a,d,h,e){0===this.cap?b.buttCap(a,d,h):1===this.cap?b.roundCap(a,d,h,e,f.getNumberOfSlices(Math.PI),e===f.CapPosition.START?-1:1):2===this.cap?b.squareCap(a,d,h,e):b.buttCap(a,d,h)};d.prototype._computeJoinExtrudeVectors=function(a,d,h){var c=f.getRads(d,h);if(c>Math.PI-this.almostParallelRads)b.rectJoin(a,d,h);else if(0===this.join&&c>=this.veryShallowRads)b.bevelJoin(a,d,h,1);else if(1===this.join&&
c>=this.veryShallowRads){var e=f.getNumberOfSlices(c);c<this.newRoundJoinsSafeRads?2>e||c<this.roundLimitRads?b.bevelJoin(a,d,h,1):b.roundJoin(a,d,h,e):b.unitRoundJoin(a,d,h,e)}else c<this.almostParallelRads?b.fastMiterJoin(a,d,h):c<this.miterSafeRads?b.miterJoin(a,d,h):b.bevelJoin(a,d,h,this.miterLimitMag)};d.prototype._writeGPUVertices=function(a,b,d,h,f){for(var c=0;c<h.vectors.count;++c){var e=h.vectors.items[c].vector[0],k=h.vectors.items[c].vector[1],g=h.vectors.items[c].texCoords[0],q=h.vectors.items[c].texCoords[1];
h.vectors.items[c].base=this._lineVertexBuffer.index;this._lineVertexBuffer.add(a,b,e,k,g,q,d,f)}};d.prototype._writeGPUBridgeElements=function(a,d,h){b.bridge(this.recycledTriangleBridge,a,d);if(!h)for(a=0;a<this.recycledTriangleBridge.count;++a)d=this.recycledTriangleBridge.items[a],this._lineIndexBuffer.add(d.v1.base,d.v2.base,d.v3.base)};d.prototype._writeGPUPieElements=function(a,d){b.pie(this.recycledTrianglePie,a);if(!d)for(var c=0;c<this.recycledTrianglePie.count;++c){var h=this.recycledTrianglePie.items[c];
this._lineIndexBuffer.add(h.v1.base,h.v2.base,h.v3.base)}};d.prototype._isClipEdge=function(a,b){return a.x===b.x?-64>=a.x||4160<=a.x:a.y===b.y?-64>=a.y||4160<=a.y:!1};return d}(e)})},"esri/layers/vectorTiles/views/2d/engine/webgl/LineTess":function(){define(["require","exports"],function(p,a){function g(a){var b={items:[],count:0},c;for(c=0;c<a;++c)b.items.push(void 0);return b}function n(a,b){E.vector[0]=a.vector[0];E.vector[1]=a.vector[1];E.texCoords[0]=a.texCoords[0];E.texCoords[1]=a.texCoords[1];
E.direction[0]=a.direction[0];E.direction[1]=a.direction[1];E.base=a.base;a.vector[0]=b.vector[0];a.vector[1]=b.vector[1];a.texCoords[0]=b.texCoords[0];a.texCoords[1]=b.texCoords[1];a.direction[0]=b.direction[0];a.direction[1]=b.direction[1];a.base=b.base;b.vector[0]=E.vector[0];b.vector[1]=E.vector[1];b.texCoords[0]=E.texCoords[0];b.texCoords[1]=E.texCoords[1];b.direction[0]=E.direction[0];b.direction[1]=E.direction[1];b.base=E.base}function f(a,b){return a[0]*b[0]+a[1]*b[1]}function e(a){return Math.sqrt(f(a,
a))}function k(a,b){var c=e(b);a[0]=b[0]/c;a[1]=b[1]/c;return a}function b(a,b){a[0]=-b[1];a[1]=b[0];return a}function d(a,b){return a[0]*b[1]-a[1]*b[0]}function h(a,b){a[0]=-b[0];a[1]=-b[1];return a}function c(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;return a}function q(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];return a}function r(a,b){var c=f(a,b);return.999<c?0:-.999>c?Math.PI:Math.acos(c)}function t(a,b,d,h,f){if(0===h)a.count=0;else{var k=e(b),g=c(D[0],b,1/k);d=c(D[1],d,1/k);g=r(g,d);g=(f?-1:1)*g/h;f=Math.cos(g);
g=Math.sin(g);d=b[0];var q=b[1];for(b=0;b<h-1;++b)k=d,d=f*k-g*q,q=g*k+f*q,a.items[b][0]=d,a.items[b][1]=q;a.count=h-1}}function G(a){var b=a.count,c=Math.floor(b/2),d;for(d=0;d<c;++d){var h=a.items[d];a.items[d]=a.items[b-d-1];a.items[b-d-1]=h}}Object.defineProperty(a,"__esModule",{value:!0});var y;(function(a){a[a.ENTRY=1]="ENTRY";a[a.EXIT=2]="EXIT";a[a.CAP=3]="CAP"})(y=a.VectorRole||(a.VectorRole={}));var v;(function(a){a[a.START=1]="START";a[a.END=2]="END"})(v=a.CapPosition||(a.CapPosition={}));
a.SYSTEM_MAG_LIMIT=3.8;a.MITER_SAFE_RADS=2*Math.acos(1/a.SYSTEM_MAG_LIMIT);var z=a.SYSTEM_MAG_LIMIT*a.SYSTEM_MAG_LIMIT,C=16/(2*Math.PI);a.allocTriangles=function(a){var b={items:[],count:0},c;for(c=0;c<a;++c)b.items.push({v1:{vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]},v2:{vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]},v3:{vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]}});return b};a.allocExtrudeVectors=function(){var a=
{items:[],count:0},b;for(b=0;30>b;++b)a.items.push({vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]});b={};b[y.ENTRY]=g(20);b[y.EXIT]=g(20);b[y.CAP]=g(20);return{vectors:a,lists:b}};a.copyExtrudeVectors=function(a,b){var c;for(c=0;c<b.vectors.count;++c)a.vectors.items[c].vector[0]=b.vectors.items[c].vector[0],a.vectors.items[c].vector[1]=b.vectors.items[c].vector[1],a.vectors.items[c].texCoords[0]=b.vectors.items[c].texCoords[0],a.vectors.items[c].texCoords[1]=b.vectors.items[c].texCoords[1],
a.vectors.items[c].direction[0]=b.vectors.items[c].direction[0],a.vectors.items[c].direction[1]=b.vectors.items[c].direction[1],a.vectors.items[c].base=b.vectors.items[c].base;a.vectors.count=b.vectors.count;var d=b.lists[y.ENTRY],h=a.lists[y.ENTRY],f=b.lists[y.EXIT],e=a.lists[y.EXIT],k=b.lists[y.CAP],g=a.lists[y.CAP];for(c=0;c<d.count;++c)h.items[c]=d.items[c];h.count=d.count;for(c=0;c<f.count;++c)e.items[c]=f.items[c];e.count=f.count;for(c=0;c<k.count;++c)g.items[c]=k.items[c];g.count=k.count;a.capCenter=
b.capCenter};var E={vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0],base:void 0};a.swapExtrudeVectors=n;var D=[],x;for(x=0;32>x;++x)D.push([void 0,void 0]);var w=function(a){var b={items:[],count:0},c;for(c=0;c<a;++c)b.items.push([void 0,void 0]);return b}(16);a.length=e;a.normalize=k;a.getNumberOfSlices=function(a){return Math.max(Math.round(a*C),1)};a.getRads=r;a.reverse=G;var A=[void 0,void 0],U=[void 0,void 0],O=[0,0],B=[0,0],I=[0,0],Q=[0,0],K=Math.cos(Math.PI/4),S=
Math.sin(Math.PI/4),L=Math.sqrt(2);x=function(){function a(a){this._distanceAlongCorrection=a.distanceAlongCorrection}a.prototype.bridge=function(a,b,c){var d=b.vectors;b=b.lists[y.EXIT];var h=c.vectors,f=c.lists[y.ENTRY],e,k;if(b.count===f.count+1)c=b.items,e=d.items,k=f.items,h=h.items;else if(f.count===b.count+1)c=f.items,e=h.items,k=b.items,h=d.items;else if(b.count===f.count)c=f.items,e=h.items,k=b.items,h=d.items;else{console.error("Cannot bridge "+b.count+" to "+f.count+".");a.count=0;return}d=
b.count+f.count-2;a.count=d;A[0]=c;A[1]=k;U[0]=e;U[1]=h;for(b=0;b<d;++b)c=a.items[b],e=(b+0)%2,e=U[e][A[e][Math.floor((b+0)/2)]],c.v1.vector[0]=e.vector[0],c.v1.vector[1]=e.vector[1],c.v1.texCoords[0]=e.texCoords[0],c.v1.texCoords[1]=e.texCoords[1],c.v1.direction[0]=e.direction[0],c.v1.direction[1]=e.direction[1],c.v1.base=e.base,e=(b+1)%2,e=U[e][A[e][Math.floor((b+1)/2)]],c.v2.vector[0]=e.vector[0],c.v2.vector[1]=e.vector[1],c.v2.texCoords[0]=e.texCoords[0],c.v2.texCoords[1]=e.texCoords[1],c.v2.direction[0]=
e.direction[0],c.v2.direction[1]=e.direction[1],c.v2.base=e.base,e=(b+2)%2,e=U[e][A[e][Math.floor((b+2)/2)]],c.v3.vector[0]=e.vector[0],c.v3.vector[1]=e.vector[1],c.v3.texCoords[0]=e.texCoords[0],c.v3.texCoords[1]=e.texCoords[1],c.v3.direction[0]=e.direction[0],c.v3.direction[1]=e.direction[1],c.v3.base=e.base,e=c.v1.base&&c.v1.base.point||O,k=c.v2.base&&c.v2.base.point||O,h=c.v3.base&&c.v3.base.point||O,B[0]=e[0]+c.v1.vector[0],B[1]=e[1]+c.v1.vector[1],I[0]=k[0]+c.v2.vector[0],I[1]=k[1]+c.v2.vector[1],
Q[0]=h[0]+c.v3.vector[0],Q[1]=h[1]+c.v3.vector[1],0>(I[0]-B[0])*(Q[1]-B[1])-(Q[0]-B[0])*(I[1]-B[1])||n(c.v2,c.v3)};a.prototype.pie=function(a,b){if(0===b.lists[y.CAP].count)a.count=0;else if(1===b.lists[y.CAP].count)console.error("A single vector is not enough to define a pie."),a.count=0;else{a.count=b.lists[y.CAP].count-1;var c;for(c=0;c<a.count;++c){var d=a.items[c],h=b.vectors.items[b.lists[y.CAP].items[c]];d.v1.vector[0]=h.vector[0];d.v1.vector[1]=h.vector[1];d.v1.texCoords[0]=h.texCoords[0];
d.v1.texCoords[1]=h.texCoords[1];d.v1.direction[0]=h.direction[0];d.v1.direction[1]=h.direction[1];d.v1.base=h.base;h=b.vectors.items[b.lists[y.CAP].items[c+1]];d.v2.vector[0]=h.vector[0];d.v2.vector[1]=h.vector[1];d.v2.texCoords[0]=h.texCoords[0];d.v2.texCoords[1]=h.texCoords[1];d.v2.direction[0]=h.direction[0];d.v2.direction[1]=h.direction[1];d.v2.base=h.base;h=b.vectors.items[b.capCenter];d.v3.vector[0]=h.vector[0];d.v3.vector[1]=h.vector[1];d.v3.texCoords[0]=h.texCoords[0];d.v3.texCoords[1]=h.texCoords[1];
d.v3.direction[0]=h.direction[0];d.v3.direction[1]=h.direction[1];d.v3.base=h.base;var h=d.v1.base&&d.v1.base.point||O,f=d.v2.base&&d.v2.base.point||O,e=d.v3.base&&d.v3.base.point||O;B[0]=h[0]+d.v1.vector[0];B[1]=h[1]+d.v1.vector[1];I[0]=f[0]+d.v2.vector[0];I[1]=f[1]+d.v2.vector[1];Q[0]=e[0]+d.v3.vector[0];Q[1]=e[1]+d.v3.vector[1];0>(I[0]-B[0])*(Q[1]-B[1])-(Q[0]-B[0])*(I[1]-B[1])||n(d.v2,d.v3)}}};a.prototype.buttCap=function(a,b,c){this.fastMiterJoin(a,b,c)};a.prototype.roundCap=function(a,b,c,d,
h,f){void 0===f&&(f=0);this.fastMiterJoin(a,b,c);c=d===v.START?0:1;d=d===v.START?1:0;a.capCenter=a.vectors.count;b=a.vectors.items[a.capCenter];b.vector[0]=0;b.vector[1]=0;b.texCoords[0]=0;b.texCoords[1]=0;b.direction[0]=0;b.direction[1]=0;++a.vectors.count;t(w,a.vectors.items[c].vector,a.vectors.items[d].vector,h,!1);h=a.vectors.count;b=a.lists[y.CAP];b.items[0]=c;c=a.vectors.items[c].texCoords[1];var e=a.vectors.items[d].texCoords[1],k;for(k=0;k<w.count;++k){var g=f*(1-Math.abs(w.count/2-k)/(w.count/
2)),q=c+k/(w.count-1)*(e-c),n=w.items[k],r=a.vectors.items[h+k];r.vector[0]=n[0];r.vector[1]=n[1];r.texCoords[0]=g;r.texCoords[1]=q;r.direction[0]=0;r.direction[1]=0;b.items[k+1]=h+k}b.items[w.count+1]=d;b.count=w.count+2;a.vectors.count=h+w.count};a.prototype.squareCap=function(a,b,d,h){this.fastMiterJoin(a,b,d);b=h===v.START?0:1;d=h===v.START?1:0;var f=D[0],e=D[1],k=D[2],g=D[3];h=D[4];var q=a.vectors.items[b].vector;f[0]=K*q[0]-S*q[1];f[1]=S*q[0]+K*q[1];c(g,f,L);e[0]=K*f[0]-S*f[1];e[1]=S*f[0]+K*
f[1];k[0]=K*e[0]-S*e[1];k[1]=S*e[0]+K*e[1];c(h,k,L);b=a.vectors.items[b];b.vector[0]=g[0];b.vector[1]=g[1];a=a.vectors.items[d];a.vector[0]=h[0];a.vector[1]=h[1]};a.prototype.fastMiterJoin=function(a,c,d){d=b(D[0],d);c=h(D[1],d);var f=a.vectors.items[0];f.vector[0]=d[0];f.vector[1]=d[1];f.texCoords[0]=0;f.texCoords[1]=-1;f.direction[0]=0;f.direction[1]=0;d=a.vectors.items[1];d.vector[0]=c[0];d.vector[1]=c[1];d.texCoords[0]=0;d.texCoords[1]=1;d.direction[0]=0;d.direction[1]=0;a.vectors.count=2;c=a.lists[y.ENTRY];
c.items[0]=0;c.items[1]=1;c.count=2;c=a.lists[y.EXIT];c.items[0]=0;c.items[1]=1;c.count=2;a.lists[y.CAP].count=0;a.capCenter=void 0};a.prototype.miterJoin=function(a,d,e){var g=b(D[0],d),q=b(D[1],e),n=D[2];n[0]=g[0]+q[0];n[1]=g[1]+q[1];q=k(D[3],n);g=f(q,g);q=c(D[4],q,1/g);g=h(D[5],q);this._distanceAlongCorrection?(n=a.vectors.items[0],n.vector[0]=q[0],n.vector[1]=q[1],n.texCoords[0]=0,n.texCoords[1]=-1,n.direction[0]=d[0],n.direction[1]=d[1],n=a.vectors.items[1],n.vector[0]=g[0],n.vector[1]=g[1],
n.texCoords[0]=0,n.texCoords[1]=1,n.direction[0]=d[0],n.direction[1]=d[1],d=a.vectors.items[2],d.vector[0]=q[0],d.vector[1]=q[1],d.texCoords[0]=0,d.texCoords[1]=-1,d.direction[0]=e[0],d.direction[1]=e[1],d=a.vectors.items[3],d.vector[0]=g[0],d.vector[1]=g[1],d.texCoords[0]=0,d.texCoords[1]=1,d.direction[0]=e[0],d.direction[1]=e[1],a.vectors.count=4,e=a.lists[y.ENTRY],e.items[0]=0,e.items[1]=1,e.count=2,e=a.lists[y.EXIT],e.items[0]=2,e.items[1]=3):(n=a.vectors.items[0],n.vector[0]=q[0],n.vector[1]=
q[1],n.texCoords[0]=0,n.texCoords[1]=-1,n.direction[0]=0,n.direction[1]=0,n=a.vectors.items[1],n.vector[0]=g[0],n.vector[1]=g[1],n.texCoords[0]=0,n.texCoords[1]=1,n.direction[0]=0,n.direction[1]=0,a.vectors.count=2,e=a.lists[y.ENTRY],e.items[0]=0,e.items[1]=1,e.count=2,e=a.lists[y.EXIT],e.items[0]=0,e.items[1]=1);e.count=2;a.lists[y.CAP].count=0;a.capCenter=void 0};a.prototype.bevelJoin=function(a,e,g,n){var r=n*n;n=d(e,g);var t=0<n?[-1,1]:[1,-1],v=t[0],t=t[1],x=0<n?h(D[0],b(D[1],e)):b(D[2],e),w=
0<n?h(D[3],b(D[4],g)):b(D[5],g),p=D[6];p[0]=x[0]+w[0];p[1]=x[1]+w[1];var E=k(D[7],p),B=h(D[8],E),I=f(E,x),p=d(E,x),C=Math.abs(p/I),p=1+C*C,A=p<z?[C,this._distanceAlongCorrection]:[Math.sqrt(z-1),!0],J=A[0],A=A[1],H=p<r?[C,this._distanceAlongCorrection]:[Math.sqrt(r-1),!0],C=H[0];(H=H[1])&&A?(A=a.vectors.items[0],q(A.vector,h(D[9],x),c(D[10],h(D[11],e),J)),A.texCoords[0]=0,A.texCoords[1]=v,A.direction[0]=this._distanceAlongCorrection?e[0]:0,A.direction[1]=this._distanceAlongCorrection?e[1]:0,B=a.vectors.items[1],
q(B.vector,h(D[12],w),c(D[13],g,J)),B.texCoords[0]=0,B.texCoords[1]=v,B.direction[0]=this._distanceAlongCorrection?g[0]:0,B.direction[1]=this._distanceAlongCorrection?g[1]:0,v=a.vectors.items[2],v.vector[0]=0,v.vector[1]=0,v.texCoords[0]=0,v.texCoords[1]=0,v.direction[0]=0,v.direction[1]=0,v=a.vectors.items[3],q(v.vector,x,c(D[14],e,C)),v.texCoords[0]=0,v.texCoords[1]=t,v.direction[0]=this._distanceAlongCorrection?e[0]:0,v.direction[1]=this._distanceAlongCorrection?e[1]:0,e=a.vectors.items[4],q(e.vector,
w,c(D[15],h(D[16],g),C)),e.texCoords[0]=0,e.texCoords[1]=t,e.direction[0]=this._distanceAlongCorrection?g[0]:0,e.direction[1]=this._distanceAlongCorrection?g[1]:0,a.vectors.count=5,g=a.lists[y.ENTRY],g.items[0]=0,g.items[1]=2,g.items[2]=3,g.count=3,g=a.lists[y.EXIT],g.items[0]=1,g.items[1]=2,g.items[2]=4,g.count=3,p<r?(r=a.lists[y.CAP],r.count=0,a.capCenter=void 0):(r=a.lists[y.CAP],r.items[0]=3,r.items[1]=4,r.count=2,a.capCenter=2)):!H&&A?(A=a.vectors.items[0],q(A.vector,h(D[9],x),c(D[10],h(D[11],
e),J)),A.texCoords[0]=0,A.texCoords[1]=v,A.direction[0]=this._distanceAlongCorrection?e[0]:0,A.direction[1]=this._distanceAlongCorrection?e[1]:0,B=a.vectors.items[1],q(B.vector,h(D[12],w),c(D[13],g,J)),B.texCoords[0]=0,B.texCoords[1]=v,B.direction[0]=this._distanceAlongCorrection?g[0]:0,B.direction[1]=this._distanceAlongCorrection?g[1]:0,v=a.vectors.items[2],v.vector[0]=0,v.vector[1]=0,v.texCoords[0]=0,v.texCoords[1]=0,v.direction[0]=0,v.direction[1]=0,v=a.vectors.items[3],c(v.vector,E,1/I),v.texCoords[0]=
0,v.texCoords[1]=t,v.direction[0]=0,v.direction[1]=0,a.vectors.count=4,g=a.lists[y.ENTRY],g.items[0]=0,g.items[1]=2,g.items[2]=3,g.count=3,g=a.lists[y.EXIT],g.items[0]=1,g.items[1]=2,g.items[2]=3,g.count=3,a.lists[y.CAP].count=0,a.capCenter=void 0):H&&!A?(A=a.vectors.items[0],c(A.vector,B,1/I),A.texCoords[0]=0,A.texCoords[1]=v,A.direction[0]=0,A.direction[1]=0,B=a.vectors.items[1],B.vector[0]=0,B.vector[1]=0,B.texCoords[0]=0,B.texCoords[1]=0,B.direction[0]=0,B.direction[1]=0,v=a.vectors.items[2],
q(v.vector,x,c(D[9],e,C)),v.texCoords[0]=0,v.texCoords[1]=t,v.direction[0]=this._distanceAlongCorrection?e[0]:0,v.direction[1]=this._distanceAlongCorrection?e[1]:0,v=a.vectors.items[3],q(v.vector,w,c(D[10],h(D[11],g),C)),v.texCoords[0]=0,v.texCoords[1]=t,v.direction[0]=this._distanceAlongCorrection?g[0]:0,v.direction[1]=this._distanceAlongCorrection?g[1]:0,a.vectors.count=4,g=a.lists[y.ENTRY],g.items[0]=0,g.items[1]=1,g.items[2]=2,g.count=3,g=a.lists[y.EXIT],g.items[0]=0,g.items[1]=1,g.items[2]=3,
g.count=3,p<r?(r=a.lists[y.CAP],r.count=0,a.capCenter=void 0):(r=a.lists[y.CAP],r.items[0]=2,r.items[1]=3,r.count=2,a.capCenter=1)):H||A||(A=a.vectors.items[0],c(A.vector,B,1/I),A.texCoords[0]=0,A.texCoords[1]=v,A.direction[0]=0,A.direction[1]=0,B=a.vectors.items[1],c(B.vector,E,1/I),B.texCoords[0]=0,B.texCoords[1]=t,B.direction[0]=0,B.direction[1]=0,a.vectors.count=2,g=a.lists[y.ENTRY],g.items[0]=0,g.items[1]=1,g.count=2,g=a.lists[y.EXIT],g.items[0]=0,g.items[1]=1,g.count=2,a.lists[y.CAP].count=
0,a.capCenter=void 0);0>n&&(G(a.lists[y.ENTRY]),G(a.lists[y.EXIT]))};a.prototype.roundJoin=function(a,e,g,n){var r=d(e,g),v=0<r?[-1,1]:[1,-1],x=v[0],v=v[1],p=0<r?h(D[0],b(D[1],e)):b(D[2],e),B=0<r?h(D[3],b(D[4],g)):b(D[5],g),E=D[6];E[0]=p[0]+B[0];E[1]=p[1]+B[1];var A=k(D[7],E),E=h(D[8],A),I=f(A,p),A=d(A,p),A=Math.abs(A/I),C=1+A*A<z?[A,this._distanceAlongCorrection]:[Math.sqrt(z-1),!0],A=C[0];C[1]?(C=a.vectors.items[0],C.vector[0]=p[0],C.vector[1]=p[1],C.texCoords[0]=0,C.texCoords[1]=v,C.direction[0]=
0,C.direction[1]=0,C=a.vectors.items[1],C.vector[0]=B[0],C.vector[1]=B[1],C.texCoords[0]=0,C.texCoords[1]=v,C.direction[0]=0,C.direction[1]=0,C=a.vectors.items[2],q(C.vector,h(D[9],p),c(D[10],h(D[11],e),A)),C.texCoords[0]=0,C.texCoords[1]=x,C.direction[0]=this._distanceAlongCorrection?e[0]:0,C.direction[1]=this._distanceAlongCorrection?e[1]:0,e=a.vectors.items[3],q(e.vector,h(D[12],B),c(D[13],g,A)),e.texCoords[0]=0,e.texCoords[1]=x,e.direction[0]=this._distanceAlongCorrection?g[0]:0,e.direction[1]=
this._distanceAlongCorrection?g[1]:0,g=a.vectors.items[4],g.vector[0]=0,g.vector[1]=0,g.texCoords[0]=0,g.texCoords[1]=0,g.direction[0]=0,g.direction[1]=0,a.vectors.count=5,g=a.lists[y.ENTRY],g.items[0]=2,g.items[1]=4,g.items[2]=0,g.count=3,g=a.lists[y.EXIT],g.items[0]=3,g.items[1]=4,g.items[2]=1,g.count=3,a.capCenter=4):(C=a.vectors.items[0],C.vector[0]=p[0],C.vector[1]=p[1],C.texCoords[0]=0,C.texCoords[1]=v,C.direction[0]=0,C.direction[1]=0,C=a.vectors.items[1],C.vector[0]=B[0],C.vector[1]=B[1],
C.texCoords[0]=0,C.texCoords[1]=v,C.direction[0]=0,C.direction[1]=0,C=a.vectors.items[2],c(C.vector,E,1/I),C.texCoords[0]=0,C.texCoords[1]=x,C.direction[0]=0,C.direction[1]=0,e=a.vectors.items[3],e.vector[0]=0,e.vector[1]=0,e.texCoords[0]=0,e.texCoords[1]=0,e.direction[0]=0,e.direction[1]=0,a.vectors.count=4,g=a.lists[y.ENTRY],g.items[0]=2,g.items[1]=3,g.items[2]=0,g.count=3,g=a.lists[y.EXIT],g.items[0]=2,g.items[1]=3,g.items[2]=1,g.count=3,a.capCenter=3);t(w,p,B,n,0>r);n=a.vectors.count;p=a.lists[y.CAP];
for(B=p.items[0]=0;B<w.count;++B)g=w.items[B],x=a.vectors.items[n+B],x.vector[0]=g[0],x.vector[1]=g[1],x.texCoords[0]=0,x.texCoords[1]=v,x.direction[0]=0,x.direction[1]=0,p.items[B+1]=n+B;p.items[w.count+1]=1;p.count=w.count+2;a.vectors.count=n+w.count;0>r&&(G(a.lists[y.ENTRY]),G(a.lists[y.EXIT]))};a.prototype.unitRoundJoin=function(a,c,e,f){var g=d(c,e),k=0<g?[-1,1]:[1,-1],q=k[0],k=k[1];c=0<g?h(D[0],b(D[1],c)):b(D[2],c);e=0<g?h(D[3],b(D[4],e)):b(D[5],e);var n=a.vectors.items[0];n.vector[0]=c[0];
n.vector[1]=c[1];n.texCoords[0]=0;n.texCoords[1]=k;n.direction[0]=0;n.direction[1]=0;n=a.vectors.items[1];n.vector[0]=e[0];n.vector[1]=e[1];n.texCoords[0]=0;n.texCoords[1]=k;n.direction[0]=0;n.direction[1]=0;n=a.vectors.items[2];h(n.vector,c);n.texCoords[0]=0;n.texCoords[1]=q;n.direction[0]=0;n.direction[1]=0;n=a.vectors.items[3];h(n.vector,e);n.texCoords[0]=0;n.texCoords[1]=q;n.direction[0]=0;n.direction[1]=0;q=a.vectors.items[4];q.vector[0]=0;q.vector[1]=0;q.texCoords[0]=0;q.texCoords[1]=0;q.direction[0]=
0;q.direction[1]=0;a.vectors.count=5;q=a.lists[y.ENTRY];q.items[0]=2;q.items[1]=0;q.count=2;q=a.lists[y.EXIT];q.items[0]=3;q.items[1]=1;q.count=2;a.capCenter=4;t(w,c,e,f,0>g);f=a.vectors.count;c=a.lists[y.CAP];for(q=c.items[0]=0;q<w.count;++q)e=w.items[q],n=a.vectors.items[f+q],n.vector[0]=e[0],n.vector[1]=e[1],n.texCoords[0]=0,n.texCoords[1]=k,n.direction[0]=0,n.direction[1]=0,c.items[q+1]=f+q;c.items[w.count+1]=1;c.count=w.count+2;a.vectors.count=f+w.count;0>g&&(G(a.lists[y.ENTRY]),G(a.lists[y.EXIT]))};
a.prototype.rectJoin=function(a,c,d){c=b(D[0],c);d=b(D[1],d);var e=a.vectors.items[0];e.vector[0]=c[0];e.vector[1]=c[1];e.texCoords[0]=0;e.texCoords[1]=-1;e.direction[0]=0;e.direction[1]=0;e=a.vectors.items[1];e.vector[0]=d[0];e.vector[1]=d[1];e.texCoords[0]=0;e.texCoords[1]=-1;e.direction[0]=0;e.direction[1]=0;e=a.vectors.items[2];h(e.vector,c);e.texCoords[0]=0;e.texCoords[1]=1;e.direction[0]=0;e.direction[1]=0;c=a.vectors.items[3];h(c.vector,d);c.texCoords[0]=0;c.texCoords[1]=1;c.direction[0]=0;
c.direction[1]=0;a.vectors.count=4;c=a.lists[y.ENTRY];c.items[0]=0;c.items[1]=2;c.count=2;c=a.lists[y.EXIT];c.items[0]=1;c.items[1]=3;c.count=2;a.capCenter=void 0};return a}();a.Tessellator=x})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleLayer":function(){define("require exports ../../../core/tsSupport/extendsHelper ../../../core/tsSupport/decorateHelper ./Filter ./StyleDefinition ./StyleProperty".split(" "),function(p,a,g,n,f,e,k){Object.defineProperty(a,"__esModule",{value:!0});p=function(){function a(a,
b,c){this.type=a;this.id=b.id;this.source=b.source;this.sourceLayer=b["source-layer"];this.minzoom=b.minzoom;this.maxzoom=b.maxzoom;this.filter=b.filter;this.layout=b.layout;this.paint=b.paint;this.z=c;switch(a){case 0:this._layoutDefinition=e.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=e.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=e.StyleDefinition.fillLayoutDefinition;this._paintDefinition=e.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=
e.StyleDefinition.lineLayoutDefinition;this._paintDefinition=e.StyleDefinition.linePaintDefinition;break;case 3:this._layoutDefinition=e.StyleDefinition.symbolLayoutDefinition;this._paintDefinition=e.StyleDefinition.symbolPaintDefinition;break;case 4:this._layoutDefinition=e.StyleDefinition.circleLayoutDefinition,this._paintDefinition=e.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout);this._paintProperties=this._parsePaint(this.paint)}a.prototype.getFeatureFilter=
function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=f.createFilter(this.filter)};a.prototype.getLayoutProperty=function(a){var b=this._layoutProperties;if(b)return b[a]};a.prototype.getPaintProperty=function(a){var b=this._paintProperties;if(b)return b[a]};a.prototype.getLayoutValue=function(a,b,c){var d,h=this._layoutProperties;h&&(h=h[a])&&(d=h.getValue(b,c));a=this._layoutDefinition[a];void 0===d&&(d=a["default"]);"enum"===a.type&&(d=a.values.indexOf(d));return d};
a.prototype.getPaintValue=function(a,b,c){var d,h=this._paintProperties;h&&(h=h[a])&&(d=h.getValue(b,c));a=this._paintDefinition[a];void 0===d&&(d=a["default"]);"enum"===a.type&&(d=a.values.indexOf(d));return d};a.prototype._parseLayout=function(a){var b={},c;for(c in a){var d=this._layoutDefinition[c];d&&(b[c]=new k(c,d,a[c]))}return b};a.prototype._parsePaint=function(a){var b={},c;for(c in a){var d=this._paintDefinition[c];d&&(b[c]=new k(c,d,a[c]))}return b};return a}();a.StyleLayer=p;n=function(a){function b(b,
c,d){return a.call(this,b,c,d)||this}g(b,a);return b}(p);a.BackgroundStyleLayer=n;n=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;c=b.getPaintProperty("fill-color");b.hasDataDrivenColor=c?c.isDataDriven:!1;c=b.getPaintProperty("fill-opacity");b.hasDataDrivenOpacity=c?c.isDataDriven:!1;b.hasDataDrivenFill=b.hasDataDrivenColor||b.hasDataDrivenOpacity;c=b.getPaintProperty("fill-outline-color");b.outlineUsesFillColor=!c;b.hasDataDrivenOutlineColor=c?c.isDataDriven:!1;b.hasDataDrivenOutline=
(c?b.hasDataDrivenOutlineColor:b.hasDataDrivenColor)||b.hasDataDrivenOpacity;return b}g(b,a);return b}(p);a.FillStyleLayer=n;n=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;c=b.getPaintProperty("line-color");b.hasDataDrivenColor=c?c.isDataDriven:!1;c=b.getPaintProperty("line-opacity");b.hasDataDrivenOpacity=c?c.isDataDriven:!1;c=b.getPaintProperty("line-width");b.hasDataDrivenWidth=c?c.isDataDriven:!1;b.hasDataDrivenLine=b.hasDataDrivenColor||b.hasDataDrivenOpacity||b.hasDataDrivenWidth;
return b}g(b,a);return b}(p);a.LineStyleLayer=n;n=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;c=b.getPaintProperty("icon-color");b.hasDataDrivenIconColor=c?c.isDataDriven:!1;c=b.getPaintProperty("icon-opacity");b.hasDataDrivenIconOpacity=c?c.isDataDriven:!1;c=b.getLayoutProperty("icon-size");b.hasDataDrivenIconSize=c?c.isDataDriven:!1;b.hasDataDrivenIcon=b.hasDataDrivenIconColor||b.hasDataDrivenIconOpacity||b.hasDataDrivenIconSize;c=b.getPaintProperty("text-color");b.hasDataDrivenTextColor=
c?c.isDataDriven:!1;c=b.getPaintProperty("text-opacity");b.hasDataDrivenTextOpacity=c?c.isDataDriven:!1;c=b.getLayoutProperty("text-size");b.hasDataDrivenTextSize=c?c.isDataDriven:!1;b.hasDataDrivenText=b.hasDataDrivenTextColor||b.hasDataDrivenTextOpacity||b.hasDataDrivenTextSize;return b}g(b,a);return b}(p);a.SymbolStyleLayer=n;p=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;c=b.getPaintProperty("circle-radius");b.hasDataDrivenRadius=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-color");
b.hasDataDrivenColor=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-opacity");b.hasDataDrivenOpacity=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-stroke-width");b.hasDataDrivenStrokeWidth=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-stroke-color");b.hasDataDrivenStrokeColor=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-stroke-opacity");b.hasDataDrivenStrokeOpacity=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-blur");b.hasDataDrivenBlur=c?c.isDataDriven:!1;return b}g(b,a);return b}(p);
a.CircleStyleLayer=p;p=function(){return function(a,d,e){this.cap=a.getLayoutValue("line-cap",d,e);this.join=a.getLayoutValue("line-join",d,e);this.miterLimit=a.getLayoutValue("line-miter-limit",d,e);this.roundLimit=a.getLayoutValue("line-round-limit",d,e)}}();a.LineLayout=p;p=function(){return function(a,d,e,c){this.allowOverlap=a.getLayoutValue("icon-allow-overlap",d,c);this.ignorePlacement=a.getLayoutValue("icon-ignore-placement",d,c);this.optional=a.getLayoutValue("icon-optional",d,c);this.rotationAlignment=
a.getLayoutValue("icon-rotation-alignment",d,c);this.size=a.getLayoutValue("icon-size",d,c);this.rotate=a.getLayoutValue("icon-rotate",d,c);this.padding=a.getLayoutValue("icon-padding",d,c);this.keepUpright=a.getLayoutValue("icon-keep-upright",d,c);this.offset=a.getLayoutValue("icon-offset",d,c);2===this.rotationAlignment&&(this.rotationAlignment=e?0:1)}}();a.IconLayout=p;p=function(){return function(a,d,e,c){this.allowOverlap=a.getLayoutValue("text-allow-overlap",d,c);this.ignorePlacement=a.getLayoutValue("text-ignore-placement",
d,c);this.optional=a.getLayoutValue("text-optional",d,c);this.rotationAlignment=a.getLayoutValue("text-rotation-alignment",d,c);this.fontArray=a.getLayoutValue("text-font",d,c);this.maxWidth=a.getLayoutValue("text-max-width",d,c);this.lineHeight=a.getLayoutValue("text-line-height",d,c);this.letterSpacing=a.getLayoutValue("text-letter-spacing",d,c);this.justify=a.getLayoutValue("text-justify",d,c);this.anchor=a.getLayoutValue("text-anchor",d,c);this.maxAngle=a.getLayoutValue("text-max-angle",d,c);
this.size=a.getLayoutValue("text-size",d,c);this.rotate=a.getLayoutValue("text-rotate",d,c);this.padding=a.getLayoutValue("text-padding",d,c);this.keepUpright=a.getLayoutValue("text-keep-upright",d,c);this.transform=a.getLayoutValue("text-transform",d,c);this.offset=a.getLayoutValue("text-offset",d,c);2===this.rotationAlignment&&(this.rotationAlignment=e?0:1)}}();a.TextLayout=p})},"esri/layers/vectorTiles/views/vectorTiles/style/Filter":function(){define(["require","exports"],function(p,a){return function(){function a(g,
f,e){this._op=g;"$type"===f?(this._val=e instanceof Array?e.map(function(e){return a._types.indexOf(e)}):a._types.indexOf(e),this._op+=11):(this._key=f,this._val=e)}a.prototype.filter=function(a){switch(this._op){case 0:return this._val;case 1:return a.values[this._key]===this._val;case 2:return a.values[this._key]!==this._val;case 3:return a.values[this._key]<this._val;case 4:return a.values[this._key]>this._val;case 5:return a.values[this._key]<=this._val;case 6:return a.values[this._key]>=this._val;
case 7:return-1!==this._val.indexOf(a.values[this._key]);case 8:return-1===this._val.indexOf(a.values[this._key]);case 9:for(var f=0,e=this._val;f<e.length;f++){var k=e[f];if(k.filter(a))return!0}return!1;case 10:f=0;for(e=this._val;f<e.length;f++)if(k=e[f],!k.filter(a))return!1;return!0;case 11:f=0;for(e=this._val;f<e.length;f++)if(k=e[f],k.filter(a))return!1;return!0;case 12:return a.type===this._val;case 13:return a.type!==this._val;case 14:return a.type<this._val;case 15:return a.type>this._val;
case 16:return a.type>=this._val;case 17:return a.type<=this._val;case 18:return-1!==this._val.indexOf(a.type);case 19:return-1===this._val.indexOf(a.type);case 20:return undefined!==a.values[this._key];case 21:return undefined===a.values[this._key];}};a.createFilter=function(g){if(!g)return new a(0,void 0,!0);var f=g[0];if(1>=g.length)return new a(0,void 0,"any"!==f);switch(f){case "\x3d\x3d":return new a(1,g[1],g[2]);case "!\x3d":return new a(2,g[1],g[2]);case "\x3e":return new a(4,g[1],g[2]);case "\x3c":return new a(3,g[1],g[2]);case "\x3e\x3d":return new a(6,g[1],g[2]);case "\x3c\x3d":return new a(5,
g[1],g[2]);case "in":return new a(7,g[1],g.slice(2));case "!in":return new a(8,g[1],g.slice(2));case "any":return new a(9,void 0,g.slice(1).map(a.createFilter.bind(this)));case "all":return new a(10,void 0,g.slice(1).map(a.createFilter.bind(this)));case "none":return new a(11,void 0,g.slice(1).map(a.createFilter.bind(this)));case "has":return new a(20,g[1],undefined);case "!has":return new a(21,g[1],undefined);default:throw Error("invalid operator: "+f);}};a._types=["Unknown","Point","LineString","Polygon"];return a}()})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleDefinition":function(){define(["require",
"exports"],function(p,a){Object.defineProperty(a,"__esModule",{value:!0});var g=function(){function a(){}a.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"line-cap":{type:"enum",values:["butt","round","square"],default:"butt"},"line-join":{type:"enum",values:["bevel",
"round","miter"],default:"miter"},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}};a.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"symbol-placement":{type:"enum",values:["point","line"],default:"point"},"symbol-spacing":{type:"number",minimum:1,default:250},"symbol-avoid-edges":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-allow-overlap":{type:"boolean",default:!1},"icon-ignore-placement":{type:"boolean",
default:!1},"icon-optional":{type:"boolean",default:!1},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"icon-size":{type:"number",minimum:0,default:1},"icon-rotate":{type:"number",default:0},"icon-padding":{type:"number",minimum:0,default:2},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-field":{type:"string"},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},
"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-size":{type:"number",minimum:0,default:16},"text-max-width":{type:"number",minimum:0,default:10},"text-line-height":{type:"number",default:1.2},"text-letter-spacing":{type:"number",default:0},"text-justify":{type:"enum",values:["left","center","right"],default:"center"},"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:"center"},
"text-max-angle":{type:"number",minimum:0,default:45},"text-rotate":{type:"number",default:0},"text-padding":{type:"number",minimum:0,default:2},"text-keep-upright":{type:"boolean",default:!0},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:"none"},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-allow-overlap":{type:"boolean",default:!1},"text-ignore-placement":{type:"boolean",default:!1},"text-optional":{type:"boolean",default:!1}};a.circleLayoutDefinition=
{visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.backgroundPaintDefinition={"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-color":{type:"color",default:[0,0,0,1]},"background-pattern":{type:"string"}};a.fillPaintDefinition={"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-translate":{type:"array",
value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"fill-pattern":{type:"string"}};a.linePaintDefinition={"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-color":{type:"color",default:[0,0,0,1]},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"line-width":{type:"number",minimum:0,default:1},"line-gap-width":{type:"number",
minimum:0,default:0},"line-offset":{type:"number",default:0},"line-blur":{type:"number",minimum:0,default:0},"line-dasharray":{type:"array",value:"number",default:[]},"line-pattern":{type:"string"}};a.symbolPaintDefinition={"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-translate":{type:"array",
value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-halo-blur":{type:"number",minimum:0,default:0},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map",
"viewport"],default:"map"}};a.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}};a.circlePaintDefinition=
{"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-color":{type:"color",default:[0,0,0,1]},"circle-blur":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",
minimum:0,maximum:1,default:1}};return a}();a.StyleDefinition=g})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleProperty":function(){define(["require","exports","../../../Color","../GeometryUtils"],function(p,a,g,n){return function(){function a(e,f,b){this.isDataDriven=!1;switch(f.type){case "number":e=!0;break;case "color":e=!0;b=a._parseColor(b);break;case "array":e="number"===f.value;break;default:e=!1}null==b&&(b=f.default);e&&"interval"===b.type&&(e=!1);var d=b&&b.stops&&0<b.stops.length;
if(d)for(var h=0,c=b.stops;h<c.length;h++){var g=c[h];g[1]=this._validate(g[1],f)}if(this.isDataDriven=b?!!b.property:!1)if(void 0!==b.default&&(b.default=this._validate(b.default,f)),d)switch(b.type){case "identity":this.getValue=this._buildIdentity(b,f);break;case "categorical":this.getValue=this._buildCategorical(b,f);break;default:this.getValue=e?this._buildInterpolate(b,f):this._buildInterval(b,f)}else this.getValue=this._buildIdentity(b,f);else d?this.getValue=e?this._buildZoomInterpolate(b):
this._buildZoomInterval(b):(b=this._validate(b,f),this.getValue=this._buildSimple(b))}a.prototype._validate=function(a,f){if("number"===f.type){if(a<f.minimum)return f.minimum;if(a>f.maximum)return f.maximum}return a};a.prototype._buildSimple=function(a){return function(){return a}};a.prototype._buildIdentity=function(e,f){var b=this;return function(d,h){var c;h&&(c=h.values[e.property],"color"===f.type&&(c=a._parseColor(c)));void 0===c&&(c=e.default);return void 0!==c?b._validate(c,f):f.default}};
a.prototype._buildCategorical=function(a,f){var b=this;return function(d,e){var c;e&&(c=e.values[a.property]);c=b._categorical(c,a.stops);return void 0!==c?c:void 0!==a.default?a.default:f.default}};a.prototype._buildInterval=function(a,f){var b=this;return function(d,e){var c;e&&(c=e.values[a.property]);return"number"===typeof c?b._interval(c,a.stops):void 0!==a.default?a.default:f.default}};a.prototype._buildInterpolate=function(a,f){var b=this;return function(d,e){var c;e&&(c=e.values[a.property]);
return"number"===typeof c?b._interpolate(c,a.stops,a.base||1):void 0!==a.default?a.default:f.default}};a.prototype._buildZoomInterpolate=function(a){var e=this;return function(b){return e._interpolate(b,a.stops,a.base||1)}};a.prototype._buildZoomInterval=function(a){var e=this;return function(b){return e._interval(b,a.stops)}};a.prototype._categorical=function(a,f){for(var b=f.length,d=0;d<b;d++)if(f[d][0]===a)return f[d][1]};a.prototype._interval=function(a,f){for(var b=f.length,d=0,e=0;e<b;e++)if(f[e][0]<=
a)d=e;else break;return f[d][1]};a.prototype._interpolate=function(a,f,b){for(var d,e,c=f.length,g=0;g<c;g++){var k=f[g];if(k[0]<=a)d=k;else{e=k;break}}if(d&&e){g=e[0]-d[0];a-=d[0];b=1===b?a/g:(Math.pow(b,a)-1)/(Math.pow(b,g)-1);if(Array.isArray(d[1])){d=d[1];e=e[1];a=[];for(g=0;g<d.length;g++)a.push(n.interpolate(d[g],e[g],b));return a}return n.interpolate(d[1],e[1],b)}if(d)return d[1];if(e)return e[1]};a._isEmpty=function(a){for(var e in a)if(a.hasOwnProperty(e))return!1;return!0};a._parseColor=
function(e){if(Array.isArray(e))return e;if("string"===typeof e){if(e=new g(e),!this._isEmpty(e))return g.toUnitRGBA(e)}else return e&&e.default&&(e.default=a._parseColor(e.default)),e&&e.stops&&(e.stops=e.stops.map(function(e){return[e[0],a._parseColor(e[1])]})),e};return a}()})},"esri/layers/vectorTiles/Color":function(){define(["./core/declare","./core/accessorSupport/ensureType","dojo/colors"],function(p,a,g){function n(e){return Math.max(0,Math.min(a.ensureInteger(e),255))}var f=p([g],{declaredClass:"esri.Color",
toJSON:function(){return[n(this.r),n(this.g),n(this.b),1<this.a?this.a:n(255*this.a)]},clone:function(){return new f(this.toRgba())}});f.toJSON=function(a){return a&&[n(a.r),n(a.g),n(a.b),1<a.a?a.a:n(255*a.a)]};f.fromJSON=function(a){return a&&new f([a[0],a[1],a[2],a[3]/255])};f.toUnitRGB=function(a){return[a.r/255,a.g/255,a.b/255]};f.toUnitRGBA=function(a){return[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]};var e="named blendColors fromRgb fromHex fromArray fromString".split(" ");for(p=0;p<e.length;p++)f[e[p]]=
g[e[p]];f.named.rebeccapurple=[102,51,153];return f})},"esri/layers/vectorTiles/core/declare":function(){define(["require","exports","dojo/_base/declare"],function(p,a,g){function n(a,d){a&&!Array.isArray(a)&&"function"!==typeof a&&(d=a,a=null);a=a||[];d=d||{};return f([this].concat(a),d)}function f(a,d){a&&!Array.isArray(a)&&"function"!==typeof a&&(d=a,a=null);"function"===typeof a?a=[a]:a||(a=[]);d=d||{};var b,c;b=0;for(c=e.length;b<c;b++)e[b](a,d);var f=g(a,d);f.createSubclass=n;b=0;for(c=k.length;b<
c;b++)k[b](f);return f}var e=[],k=[];(function(a){a.hasMixin=function(a,b){var c;c=Array.isArray(a)?a.reduce(function(a,b){return b._meta?a.concat(b._meta.bases):a},[]):a._meta?a._meta.bases:a;if(!c)return!1;if("string"===typeof b)for(var d=c.length-1;0<=d;d--)if(c[d].prototype.declaredClass===b)return!0;return-1!==c.indexOf(b)};a.safeMixin=function(a,b){return g.safeMixin(a,b)};a.before=function(a){e.push(a)};a.after=function(a){k.push(a)}})(f||(f={}));return f})},"dojo/_base/declare":function(){define(["./kernel",
"../has","./lang"],function(p,a,g){function n(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function f(a,b){for(var c=[],d=[{cls:0,refs:[]}],e={},f=1,h=a.length,g=0,k,q,r,t,v;g<h;++g){(k=a[g])?"[object Function]"!=x.call(k)&&n("mixin #"+g+" is not a callable constructor.",b):n("mixin #"+g+" is unknown. Did you use dojo.require to pull it in?",b);q=k._meta?k._meta.bases:[k];r=0;for(k=q.length-1;0<=k;--k)t=q[k].prototype,t.hasOwnProperty("declaredClass")||(t.declaredClass="uniqName_"+A++),t=t.declaredClass,
e.hasOwnProperty(t)||(e[t]={count:0,refs:[],cls:q[k]},++f),t=e[t],r&&r!==t&&(t.refs.push(r),++r.count),r=t;++r.count;d[0].refs.push(r)}for(;d.length;){r=d.pop();c.push(r.cls);for(--f;v=r.refs,1==v.length;){r=v[0];if(!r||--r.count){r=0;break}c.push(r.cls);--f}if(r)for(g=0,h=v.length;g<h;++g)r=v[g],--r.count||d.push(r)}f&&n("can't build consistent linearization",b);k=a[0];c[0]=k?k._meta&&k===c[c.length-k._meta.bases.length]?k._meta.bases.length:1:0;return c}function e(a,b,c,d){var e,f,h,g,k,q,r=this._inherited=
this._inherited||{};"string"===typeof a&&(e=a,a=b,b=c,c=d);if("function"===typeof a)h=a,a=b,b=c;else try{h=a.callee}catch(T){if(T instanceof TypeError)n("strict mode inherited() requires the caller function to be passed before arguments",this.declaredClass);else throw T;}(e=e||h.nom)||n("can't deduce a name to call inherited()",this.declaredClass);c=d=0;g=this.constructor._meta;d=g.bases;q=r.p;if("constructor"!=e){if(r.c!==h&&(q=0,k=d[0],g=k._meta,g.hidden[e]!==h)){(f=g.chains)&&"string"==typeof f[e]&&
n("calling chained method with inherited: "+e,this.declaredClass);do if(g=k._meta,f=k.prototype,g&&(f[e]===h&&f.hasOwnProperty(e)||g.hidden[e]===h))break;while(k=d[++q]);q=k?q:-1}if(k=d[++q])if(f=k.prototype,k._meta&&f.hasOwnProperty(e))c=f[e];else{h=D[e];do if(f=k.prototype,(c=f[e])&&(k._meta?f.hasOwnProperty(e):c!==h))break;while(k=d[++q])}c=k&&c||D[e]}else{if(r.c!==h&&(q=0,(g=d[0]._meta)&&g.ctor!==h)){for((f=g.chains)&&"manual"===f.constructor||n("calling chained constructor with inherited",this.declaredClass);(k=
d[++q])&&(!(g=k._meta)||g.ctor!==h););q=k?q:-1}for(;(k=d[++q])&&!(c=(g=k._meta)?g.ctor:k););c=k&&c}r.c=c;r.p=q;if(c)return!0===b?c:c.apply(this,b||a)}function k(a,b,c){return"string"===typeof a?"function"===typeof b?this.__inherited(a,b,c,!0):this.__inherited(a,b,!0):"function"===typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function b(a,b,c,d){var e=this.getInherited(a,b,c);if(e)return e.apply(this,d||c||b||a)}function d(a){for(var b=this.constructor._meta.bases,c=0,d=b.length;c<d;++c)if(b[c]===
a)return!0;return this instanceof a}function h(b,c){for(var d in c)"constructor"!=d&&c.hasOwnProperty(d)&&(b[d]=c[d]);if(a("bug-for-in-skips-shadowed"))for(var e=g._extraNames,f=e.length;f;)d=e[--f],"constructor"!=d&&c.hasOwnProperty(d)&&(b[d]=c[d])}function c(a){C.safeMixin(this.prototype,a);return this}function q(a,b){a instanceof Array||"function"===typeof a||(b=a,a=void 0);b=b||{};a=a||[];return C([this].concat(a),b)}function r(a,b){return function(){var c=arguments,d=c,e=c[0],f,h;h=a.length;
var g;if(!(this instanceof c.callee))return z(c);if(b&&(e&&e.preamble||this.preamble))for(g=Array(a.length),g[0]=c,f=0;;){(e=c[0])&&(e=e.preamble)&&(c=e.apply(this,c)||c);e=a[f].prototype;(e=e.hasOwnProperty("preamble")&&e.preamble)&&(c=e.apply(this,c)||c);if(++f==h)break;g[f]=c}for(f=h-1;0<=f;--f)e=a[f],(e=(h=e._meta)?h.ctor:e)&&e.apply(this,g?g[f]:c);(e=this.postscript)&&e.apply(this,d)}}function t(a,b){return function(){var c=arguments,d=c,e=c[0];if(!(this instanceof c.callee))return z(c);b&&(e&&
(e=e.preamble)&&(d=e.apply(this,d)||d),(e=this.preamble)&&e.apply(this,d));a&&a.apply(this,c);(e=this.postscript)&&e.apply(this,c)}}function G(a){return function(){var b=arguments,c=0,d,e;if(!(this instanceof b.callee))return z(b);for(;d=a[c];++c)if(d=(e=d._meta)?e.ctor:d){d.apply(this,b);break}(d=this.postscript)&&d.apply(this,b)}}function y(a,b,c){return function(){var d,e,f=0,h=1;c&&(f=b.length-1,h=-1);for(;d=b[f];f+=h)e=d._meta,(d=(e?e.hidden:d.prototype)[a])&&d.apply(this,arguments)}}function v(a){w.prototype=
a.prototype;a=new w;w.prototype=null;return a}function z(a){var b=a.callee,c=v(b);b.apply(c,a);return c}function C(b,z,w){"string"!=typeof b&&(w=z,z=b,b="");w=w||{};var p,A,B,I,F,J,H,O=1,T=z;"[object Array]"==x.call(z)?(J=f(z,b),B=J[0],O=J.length-B,z=J[O]):(J=[0],z?"[object Function]"==x.call(z)?(B=z._meta,J=J.concat(B?B.bases:z)):n("base class is not a callable constructor.",b):null!==z&&n("unknown base class. Did you use dojo.require to pull it in?",b));if(z)for(A=O-1;;--A){p=v(z);if(!A)break;B=
J[A];(B._meta?h:E)(p,B.prototype);I=a("csp-restrictions")?function(){}:new Function;I.superclass=z;I.prototype=p;z=p.constructor=I}else p={};C.safeMixin(p,w);B=w.constructor;B!==D.constructor&&(B.nom="constructor",p.constructor=B);for(A=O-1;A;--A)(B=J[A]._meta)&&B.chains&&(H=E(H||{},B.chains));p["-chains-"]&&(H=E(H||{},p["-chains-"]));z&&z.prototype&&z.prototype["-chains-"]&&(H=E(H||{},z.prototype["-chains-"]));B=!H||!H.hasOwnProperty("constructor");J[0]=I=H&&"manual"===H.constructor?G(J):1==J.length?
t(w.constructor,B):r(J,B);I._meta={bases:J,hidden:w,chains:H,parents:T,ctor:w.constructor};I.superclass=z&&z.prototype;I.extend=c;I.createSubclass=q;I.prototype=p;p.constructor=I;p.getInherited=k;p.isInstanceOf=d;p.inherited=U;p.__inherited=e;b&&(p.declaredClass=b,g.setObject(b,I));if(H)for(F in H)p[F]&&"string"==typeof H[F]&&"constructor"!=F&&(B=p[F]=y(F,J,"after"===H[F]),B.nom=F);return I}var E=g.mixin,D=Object.prototype,x=D.toString,w,A=0;w=a("csp-restrictions")?function(){}:new Function;var U=
p.config.isDebug?b:e;p.safeMixin=C.safeMixin=function(b,c){var d,e;for(d in c)e=c[d],e===D[d]&&d in D||"constructor"==d||("[object Function]"==x.call(e)&&(e.nom=d),b[d]=e);if(a("bug-for-in-skips-shadowed")&&c)for(var f=g._extraNames,h=f.length;h;)d=f[--h],e=c[d],e===D[d]&&d in D||"constructor"==d||("[object Function]"==x.call(e)&&(e.nom=d),b[d]=e);return b};return p.declare=C})},"esri/layers/vectorTiles/core/accessorSupport/ensureType":function(){define(["require","exports","../Logger"],function(p,
a,g){function n(a,b){return b.isInstanceOf?b.isInstanceOf(a):b instanceof a}function f(a){return null==a?a:new Date(a)}function e(a){return null==a?a:!!a}function k(a){return null==a?a:a.toString()}function b(a){return null==a?a:parseFloat(a)}function d(a){return null==a?a:Math.round(parseFloat(a))}function h(a){return a&&a.constructor&&void 0!==a.constructor._meta}function c(a,b){return null!=b&&a&&!n(a,b)}function q(a,b){c(a,b)&&(h(b)?C.error("Accessor#set","Assigning an instance of '"+(b.declaredClass||
"unknown")+"' which is not a subclass of '"+(a&&a.prototype&&a.prototype.declaredClass||"unknown")+"'"):b=new a(b));return b}function r(a){switch(a){case Number:return b;case E:return d;case Boolean:return e;case String:return k;case Date:return f;default:return q.bind(null,a)}}function t(a,b){var c=r(a);return 1===arguments.length?c:c(b)}function G(a,b){return 1===arguments.length?G.bind(null,a):b?Array.isArray(b)?b.map(a):[a(b)]:b}function y(a,b,c){return 0!==b&&Array.isArray(c)?c.map(function(c){return y(a,
b-1,c)}):a(c)}function v(a,b,c){if(2===arguments.length)return v.bind(null,a,b);if(!c)return c;c=y(a,b,c);for(var d=b,e=c;0<d&&Array.isArray(e);)d--,e=e[0];if(void 0!==e)for(e=0;e<d;e++)c=[c];return c}function z(a,b){if(2===arguments.length)return z(a).call(null,b);var d={},e=[],f=[],g;for(g in a.typeMap){var k=a.typeMap[g];d[g]=t(k);e.push(k&&k.prototype&&k.prototype.declaredClass||"unknown");f.push(g)}var q="string"===typeof a.key?function(b){return b[a.key]}:a.key;return function(b){if(a.base&&
!c(a.base,b))return b;var g=q(b)||a.defaultKeyValue,k=d[g];if(!k)return C.error("Accessor#set","Invalid property value, value needs to be one of "+("'"+e.join("', '")+"'")+", or a plain object that can auto-cast (having .type \x3d "+("'"+f.join("', '")+"'")+")"),null;if(!c(a.typeMap[g],b))return b;if("string"!==typeof a.key||h(b))return k(b);var g={},n;for(n in b)n!==a.key&&(g[n]=b[n]);return k(g)}}Object.defineProperty(a,"__esModule",{value:!0});var C=g.getLogger("esri.core.Accessor");a.isInstanceOf=
n;a.ensureDate=f;a.ensureBoolean=e;a.ensureString=k;a.ensureNumber=b;a.ensureInteger=d;a.isClassedType=h;a.requiresType=c;a.ensureClass=q;a.ensureType=t;a.ensureArrayTyped=G;a.ensureArray=function(a,b){return 1===arguments.length?G(t.bind(null,a)):G(t.bind(null,a),b)};a.ensureNArrayTyped=v;a.ensureNArray=function(a,b,c){return 2===arguments.length?v(t.bind(null,a),b):v(t.bind(null,a),b,c)};a.ensureOneOfType=z;var E=function(){return function(){}}();a.Integer=E;a.default=t})},"esri/layers/vectorTiles/core/Logger":function(){define(["require",
"exports","dojo/has"],function(p,a,g){var n={info:0,warn:1,error:2};p=function(){function a(e){void 0===e&&(e={});this.module=e.module||"";this.writer=e.writer||null;this.level=e.level||null;null!=e.enabled&&(this.enabled=!!e.enabled);a._loggers[this.module]=this;e=this.module.lastIndexOf(".");-1!==e&&(this.parent=a.getLogger(this.module.slice(0,e)))}a.prototype.log=function(a){for(var e=[],b=1;b<arguments.length;b++)e[b-1]=arguments[b];this._isEnabled()&&this._matchLevel(a)&&(b=this._inheritedWriter())&&
b.apply(void 0,[a,this.module].concat(e))};a.prototype.error=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];this.log.apply(this,["error"].concat(a))};a.prototype.warn=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];this.log.apply(this,["warn"].concat(a))};a.prototype.info=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];this.log.apply(this,["info"].concat(a))};a.prototype.getLogger=function(e){return a.getLogger(this.module+"."+e)};a.getLogger=
function(e){var f=a._loggers[e];f||(f=new a({module:e}));return f};a.prototype._parentWithMember=function(a,f){for(var b=this;b&&null==b[a];)b=b.parent;return b?b[a]:f};a.prototype._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};a.prototype._consoleWriter=function(a,f){for(var b=[],d=2;d<arguments.length;d++)b[d-2]=arguments[d];console[a].apply(console,["["+f+"]"].concat(b))};a.prototype._matchLevel=function(a){return n[this._parentWithMember("level","error")]<=
n[a]};a.prototype._isEnabled=function(){return this._parentWithMember("enabled",!0)};a._loggers={};return a}();a=p.getLogger("esri");g("dojo-debug-messages")?a.level="info":a.level="warn";return p})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(p,a,g,n){var f={};a.setObject("dojo.colors",f);var e=function(a,d,e){0>e&&++e;1<e&&--e;var b=6*e;return 1>b?a+(d-a)*b:1>2*e?d:2>3*e?a+(d-a)*(2/3-e)*6:a};p.colorFromRgb=g.fromRgb=function(a,d){var b=
a.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(b){var c=b[2].split(/\s*,\s*/),f=c.length,b=b[1];if("rgb"==b&&3==f||"rgba"==b&&4==f)return b=c[0],"%"==b.charAt(b.length-1)?(b=n.map(c,function(a){return 2.56*parseFloat(a)}),4==f&&(b[3]=c[3]),g.fromArray(b,d)):g.fromArray(c,d);if("hsl"==b&&3==f||"hsla"==b&&4==f){var b=(parseFloat(c[0])%360+360)%360/360,k=parseFloat(c[1])/100,t=parseFloat(c[2])/100,k=.5>=t?t*(k+1):t+k-t*k,t=2*t-k,b=[256*e(t,k,b+1/3),256*e(t,k,b),256*e(t,k,b-1/3),1];4==
f&&(b[3]=c[3]);return g.fromArray(b,d)}}return null};var k=function(a,d,e){a=Number(a);return isNaN(a)?e:a<d?d:a>e?e:a};g.prototype.sanitize=function(){this.r=Math.round(k(this.r,0,255));this.g=Math.round(k(this.g,0,255));this.b=Math.round(k(this.b,0,255));this.a=k(this.a,0,1);return this};f.makeGrey=g.makeGrey=function(a,d){return g.fromArray([a,a,a,d])};a.mixin(g.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,
228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,
140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],
greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,
178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,
255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,
128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});return g})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array",
"./config"],function(p,a,g,n){var f=p.Color=function(a){a&&this.setColor(a)};f.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:n.transparentColor||[0,0,0,0]};a.extend(f,{r:255,g:255,b:255,a:1,_set:function(a,f,b,d){this.r=a;this.g=f;this.b=b;this.a=d},setColor:function(e){a.isString(e)?
f.fromString(e,this):a.isArray(e)?f.fromArray(e,this):(this._set(e.r,e.g,e.b,e.a),e instanceof f||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+g.map(["r","g","b"],function(a){a=this[a].toString(16);return 2>a.length?"0"+a:a},this).join("")},toCss:function(a){var e=this.r+", "+this.g+", "+this.b;return(a?"rgba("+e+", "+this.a:"rgb("+e)+")"},toString:function(){return this.toCss(!0)}});
f.blendColors=p.blendColors=function(a,k,b,d){var e=d||new f;g.forEach(["r","g","b","a"],function(c){e[c]=a[c]+(k[c]-a[c])*b;"a"!=c&&(e[c]=Math.round(e[c]))});return e.sanitize()};f.fromRgb=p.colorFromRgb=function(a,g){var b=a.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return b&&f.fromArray(b[1].split(/\s*,\s*/),g)};f.fromHex=p.colorFromHex=function(a,k){var b=k||new f,d=4==a.length?4:8,e=(1<<d)-1;a=Number("0x"+a.substr(1));if(isNaN(a))return null;g.forEach(["b","g","r"],function(c){var f=a&e;
a>>=d;b[c]=4==d?17*f:f});b.a=1;return b};f.fromArray=p.colorFromArray=function(a,g){var b=g||new f;b._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));isNaN(b.a)&&(b.a=1);return b.sanitize()};f.fromString=p.colorFromString=function(a,g){var b=f.named[a];return b&&f.fromArray(b,g)||f.fromRgb(a,g)||f.fromHex(a,g)};return f})},"esri/layers/vectorTiles/views/vectorTiles/Placement":function(){define(["require","exports","../2d/engine/webgl/Geometry","./Conflict","./GeometryUtils"],function(p,a,
g,n,f){Object.defineProperty(a,"__esModule",{value:!0});p=function(){return function(a,b,e,f,g){void 0===e&&(e=0);void 0===f&&(f=-1);void 0===g&&(g=d);this.x=a;this.y=b;this.angle=e;this.segment=f;this.minzoom=g}}();a.Anchor=p;var e=function(){return function(a,b,e,g,k,n,y){void 0===k&&(k=!1);void 0===n&&(n=d);void 0===y&&(y=f.C_INFINITY);this.anchor=a;this.labelAngle=b;this.glyphAngle=e;this.page=g;this.upsideDown=k;this.minzoom=n;this.maxzoom=y}}(),k=function(){return function(a,b,d,e,f,g,k,n,z,
p){this.tl=a;this.tr=b;this.bl=d;this.br=e;this.mosaicRect=f;this.labelAngle=g;this.anchor=k;this.minzoom=n;this.maxzoom=z;this.page=p}}();a.PlacedSymbol=k;var b=function(){return function(a,b){this.footprint=a;this.shapes=b}}();a.Placement=b;var d=.5;p=function(){function a(){this.mapAngle=0;this._conflictEngine=new n.ConflictEngine}a.prototype.reset=function(){this._conflictEngine.reset()};a.prototype.setAngle=function(a){this.mapAngle=a;this._conflictEngine.setAngle(a)};a.prototype.getIconPlacement=
function(a,e,h,t,p,y,v){var c=h.width/h.pixelRatio,q=h.height/h.pixelRatio;p=y.offset[0]-c/2;var r=y.offset[1]-q/2,c=p+c,q=r+q,G=h.rect,x=h.sdf?17:2,w=p-x,A=r-x,U=w+G.width/h.pixelRatio,O=A+G.height/h.pixelRatio;h=new g.Point(w,A);x=new g.Point(U,O);O=new g.Point(w,O);A=new g.Point(U,A);U=y.rotate*f.C_DEG_TO_RAD;w=1===y.rotationAlignment;0<=a.segment&&!w&&(U+=a.angle);if(0!==U){var B=Math.cos(U),I=Math.sin(U);h.rotate(B,I);x.rotate(B,I);O.rotate(B,I);A.rotate(B,I)}B=8*y.padding;I=new g.Point(a.x,
a.y);a=new n.Footprint(this.mapAngle,B,w);a.addBox(I,new n.Box(p,r,c,q),t,U,e,d,f.C_INFINITY);e=new k(h,A,O,x,G,0,I,d,f.C_INFINITY,0);e=new b(a,[e]);t=d;y.allowOverlap||(t=this._conflictEngine.getMinZoom(e.footprint,t,v,w));a.minzoom=t;return e};a.prototype.getTextPlacement=function(a,h,r,t,p,y,v,z){for(var c=new g.Point(a.x,a.y),q=v.rotate*f.C_DEG_TO_RAD,G=0===v.rotationAlignment,x=v.keepUpright,w=d,A=!G,U=A?0:a.angle,O=0<=a.segment&&G,B=new n.Footprint(this.mapAngle,8*v.padding,A),I=[],Q=!O,K=Number.POSITIVE_INFINITY,
S=Number.NEGATIVE_INFINITY,L=K,F=S,J=O?x:G&&x,H,R=0;R<t.length;R++){var T=t[R],P=T.glyphMosaicItem;if(P&&!P.rect.isEmpty){var X=P.rect,W=P.metrics,V=P.page;Q&&(H&&H!==T.y&&(B.addBox(c,new n.Box(K,L,S,F),p,q,h,d,f.C_INFINITY),K=Number.POSITIVE_INFINITY,S=Number.NEGATIVE_INFINITY,L=K,F=S),H=T.y);var fa=[];if(O){if(P=(r.x+T.x+W.left-4+.5*P.metrics.width)*p,w=this._placeGlyph(a,w,P,y,a.segment,1,V,fa),x&&(w=this._placeGlyph(a,w,P,y,a.segment,-1,V,fa)),2<=w)break}else fa.push(new e(c,U,U,V)),G&&x&&fa.push(new e(c,
U+f.C_PI,U+f.C_PI,V,!0));for(var V=T.x+r.x+W.left,T=T.y+r.y-W.top,P=V+W.width,W=T+W.height,ba=new g.Point(V-4,T-4),ga=new g.Point(ba.x+X.width,ba.y+X.height),ca=new g.Point(ba.x,ga.y),ha=new g.Point(ga.x,ba.y),Z=0;Z<fa.length;Z++){var aa=fa[Z],ka=ba.clone(),la=ca.clone(),ma=ha.clone(),na=ga.clone(),ja=T,oa=W,da=aa.glyphAngle+q;if(0!==da){var M=Math.cos(da),Y=Math.sin(da);ka.rotate(M,Y);na.rotate(M,Y);la.rotate(M,Y);ma.rotate(M,Y)}I.push(new k(ka,ma,la,na,X,aa.labelAngle,aa.anchor,aa.minzoom,aa.maxzoom,
aa.page));if(!J||this._legible(aa.labelAngle))Q?(V<K&&(K=V),ja<L&&(L=ja),P>S&&(S=P),oa>F&&(F=oa)):2>aa.minzoom&&B.addBox(aa.anchor,new n.Box(V,ja,P,oa),p,da,h,aa.minzoom,aa.maxzoom)}}}if(2<=w)return null;Q&&B.addBox(c,new n.Box(K,L,S,F),p,q,h,d,f.C_INFINITY);a=new b(B,I);v.allowOverlap||(w=this._conflictEngine.getMinZoom(a.footprint,w,z,A));B.minzoom=w;return a};a.prototype.add=function(a){this._conflictEngine.add(a.footprint)};a.prototype._legible=function(a){a=f.radToByte(a);return 65>a||193<=a};
a.prototype._placeGlyph=function(a,b,d,h,k,n,v,z){var c=0>n?f.positiveMod(a.angle+f.C_PI,f.C_2PI):a.angle,q=this._legible(c),r=0;0>d&&(n*=-1,d*=-1,r=f.C_PI);0<n&&++k;a=new g.Point(a.x,a.y);var t=h[k],y=f.C_INFINITY;if(h.length<=k)return y;for(;;){var p=t.x-a.x,G=t.y-a.y,O=Math.sqrt(p*p+G*G),B=Math.max(d/O,b),p=f.positiveMod(Math.atan2(G/O,p/O)+r,f.C_2PI);z.push(new e(a,c,p,v,q,B,y));if(B<=b)return B;a=t.clone();do{k+=n;if(h.length<=k||0>k)return B;t=h[k]}while(a.isEqual(t));y=t.x-a.x;p=t.y-a.y;G=
Math.sqrt(y*y+p*p);y*=O/G;p*=O/G;a.x-=y;a.y-=p;y=B}};return a}();a.PlacementEngine=p})},"esri/layers/vectorTiles/views/vectorTiles/Conflict":function(){define(["require","exports","../2d/engine/webgl/Geometry","./GeometryUtils"],function(p,a,g,n){Object.defineProperty(a,"__esModule",{value:!0});p=function(){function a(a,d,e,c){this.left=a;this.top=d;this.right=e;this.bottom=c}a.prototype.clone=function(){return new a(this.left,this.top,this.right,this.bottom)};a.prototype.move=function(a,d){this.left+=
a;this.top+=d;this.right+=a;this.bottom+=d};a.prototype.rotate=function(a,d){var b=this.left,c=this.right,e=this.top,f=this.bottom,g=b*a-e*d,k=b*d+e*a,n=c*a-e*d,e=c*d+e*a,v=b*a-f*d,b=b*d+f*a,z=c*a-f*d,c=c*d+f*a;this.left=Math.min(g,n,v,z);this.top=Math.min(k,e,b,c);this.right=Math.max(g,n,v,z);this.bottom=Math.max(k,e,b,c)};a.overlaps=function(a,d){return a.right>d.left&&a.left<d.right&&a.bottom>d.top&&a.top<d.bottom};return a}();a.Box=p;var f=function(){function a(a,d,e,c){this.anchor=a;this.corners=
d;this.minzoom=e;this.maxzoom=c}a.prototype.left=function(){return this.corners[0].x};a.prototype.right=function(){return this.corners[2].x};a.prototype.top=function(){return this.corners[1].y};a.prototype.bottom=function(){return this.corners[3].y};return a}();a.Obstacle=f;p=function(){function a(a,d,f){this.obstacles=[];this.mapAngle=a;this.padding=d;this.isScreenAligned=f;this.minzoom=e}a.prototype.addBox=function(a,d,e,c,k,n,t){var b=d.left*e-this.padding,h=d.top*e-this.padding,q=d.right*e+this.padding;
d=d.bottom*e+this.padding;b=[new g.Point(b,h),new g.Point(q,h),new g.Point(q,d),new g.Point(b,d)];0!==this.mapAngle&&(h=Math.cos(this.mapAngle),q=Math.sin(this.mapAngle),a=a.clone(),a.rotate(h,q));this.isScreenAligned||(c+=this.mapAngle);if(0!==c){h=Math.cos(c);q=Math.sin(c);b[0].rotate(h,q);b[1].rotate(h,q);b[2].rotate(h,q);b[3].rotate(h,q);c=0;for(h=1;4>h;h++)b[h].x<b[c].x?c=h:b[h].x===b[c].x&&b[h].y<b[c].y&&(c=h);if(c){q=[];for(h=0;4>h;h++)q.push(b[(h+c)%4]);b=q}}if(k)for(c=0,h=b;c<h.length;c++)h[c].move(k[0],
k[1]);this.obstacles.push(new f(a,b,n,t))};return a}();a.Footprint=p;var e=.5;p=function(){function a(){this._grid=[]}a.prototype.setAngle=function(a){};a.prototype.reset=function(){this._grid=[]};a.prototype.add=function(b){var d=this._grid,e=0;for(b=b.obstacles;e<b.length;e++)for(var c=b[e],f=c.anchor,g=a._gridClamp(Math.min(c.left()+f.x,f.x)),k=a._gridClamp(Math.max(c.right()+f.x,f.x)),n=a._gridClamp(Math.min(c.top()+f.y,f.y)),f=a._gridClamp(Math.max(c.bottom()+f.y,f.y));n<=f;n++)for(var p=g;p<=
k;p++){var v=d[16*n+p];v||(v=d[16*n+p]=[]);v.push(c)}};a.prototype.getMinZoom=function(b,d,e,c){if(0===b.obstacles.length)return n.C_INFINITY;e=this._grid;c=0;for(b=b.obstacles;c<b.length;c++)for(var f=b[c],h=f.anchor,g=a._gridClamp(Math.min(f.left()+h.x,h.x)),k=a._gridClamp(Math.max(f.right()+h.x,h.x)),p=a._gridClamp(Math.min(f.top()+h.y,h.y)),h=a._gridClamp(Math.max(f.bottom()+h.y,h.y));p<=h;p++)for(var v=g;v<=k;v++){var z=e[16*p+v];if(z)for(var C=0;C<z.length;C++){var E=z[C];if(!(f.minzoom>=E.maxzoom||
E.minzoom>=f.maxzoom)&&(d=a._calcPlacementZoom(f,E,d),2<=d))return n.C_INFINITY}}return 2>d?d:n.C_INFINITY};a._gridClamp=function(a){return n.clamp(a>>9,-7,8)};a._calcPlacementZoom=function(b,d,e){var c=d.anchor.x-b.anchor.x;if(0===c&&(b.right()<d.left()||d.right()<b.left()))return e;var f=d.anchor.y-b.anchor.y;if(0===f&&(b.bottom()<d.top()||d.bottom()<b.top()))return e;var h=n.C_INFINITY;if(0!==c){var g=(0<c?b.right()-d.left():b.left()-d.right())/c;g<h&&(h=g);c=0<c?a._calcExtZoomX(b,d,g):a._calcExtZoomX(d,
b,g);c<h&&(h=c)}0!==f&&(c=(0<f?b.bottom()-d.top():b.top()-d.bottom())/f,c<h&&(h=c),f=0<f?a._calcExtZoomY(b,d,c):a._calcExtZoomY(d,b,c),f<h&&(h=f));if(h<b.minzoom||h<d.minzoom)return e;h=Math.min(h,b.maxzoom,d.maxzoom);h<e&&(h=e);return h};a._calcExtZoomX=function(a,d,e){var b,f,h;if(a.anchor.y+a.corners[2].y/e<d.anchor.y+d.corners[0].y/e){b=a.corners[2].x-a.corners[3].x;h=a.corners[2].y-a.corners[3].y;var g=d.corners[1].x-d.corners[0].x;f=d.corners[1].y-d.corners[0].y;0<=b*f-h*g?a.anchor.y+a.corners[3].y/
e<d.anchor.y+d.corners[0].y/e?(e=a.corners[3],b=d.corners[0],f=d.corners[1],h=1):(e=d.corners[0],b=a.corners[3],f=a.corners[2],h=-1):a.anchor.y+a.corners[2].y/e>d.anchor.y+d.corners[1].y/e?(e=a.corners[2],b=d.corners[0],f=d.corners[1],h=1):(e=d.corners[1],b=a.corners[3],f=a.corners[2],h=-1)}else b=a.corners[2].x-a.corners[1].x,h=a.corners[2].y-a.corners[1].y,g=d.corners[3].x-d.corners[0].x,f=d.corners[3].y-d.corners[0].y,0>b*f-h*g?a.anchor.y+a.corners[1].y/e>d.anchor.y+d.corners[0].y/e?(e=a.corners[1],
b=d.corners[0],f=d.corners[3],h=1):(e=d.corners[0],b=a.corners[1],f=a.corners[2],h=-1):a.anchor.y+a.corners[2].y/e<d.anchor.y+d.corners[3].y/e?(e=a.corners[2],b=d.corners[0],f=d.corners[3],h=1):(e=d.corners[3],b=a.corners[1],f=a.corners[2],h=-1);g=f.x-b.x;f=f.y-b.y;return h*((e.y-b.y)*g-(e.x-b.x)*f)/((a.anchor.x-d.anchor.x)*f-(a.anchor.y-d.anchor.y)*g)};a._calcExtZoomY=function(a,d,e){var b,f,h;if(a.anchor.x+a.corners[3].x/e<d.anchor.x+d.corners[1].x/e){b=a.corners[3].x-a.corners[2].x;h=a.corners[3].y-
a.corners[2].y;var g=d.corners[0].x-d.corners[1].x;f=d.corners[0].y-d.corners[1].y;0>b*f-h*g?a.anchor.x+a.corners[2].x/e<d.anchor.x+d.corners[1].x/e?(e=a.corners[2],b=d.corners[1],f=d.corners[0],h=1):(e=d.corners[1],b=a.corners[2],f=a.corners[3],h=-1):a.anchor.x+a.corners[3].x/e>d.anchor.x+d.corners[0].x/e?(e=a.corners[3],b=d.corners[1],f=d.corners[0],h=1):(e=d.corners[0],b=a.corners[2],f=a.corners[3],h=-1)}else b=a.corners[3].x-a.corners[0].x,h=a.corners[3].y-a.corners[0].y,g=d.corners[2].x-d.corners[1].x,
f=d.corners[2].y-d.corners[1].y,0<b*f-h*g?a.anchor.x+a.corners[0].x/e>d.anchor.x+d.corners[1].x/e?(e=a.corners[0],b=d.corners[1],f=d.corners[2],h=1):(e=d.corners[1],b=a.corners[0],f=a.corners[3],h=-1):a.anchor.x+a.corners[3].x/e<d.anchor.x+d.corners[2].x/e?(e=a.corners[3],b=d.corners[1],f=d.corners[2],h=1):(e=d.corners[2],b=a.corners[0],f=a.corners[3],h=-1);g=f.x-b.x;f=f.y-b.y;return h*((e.y-b.y)*g-(e.x-b.x)*f)/((a.anchor.x-d.anchor.x)*f-(a.anchor.y-d.anchor.y)*g)};return a}();a.ConflictEngine=p})},
"esri/layers/vectorTiles/views/vectorTiles/SymbolBucket":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper dojox/string/BidiEngine ../2d/engine/webgl/Geometry ../2d/engine/webgl/TextShaping ./Bucket ./GeometryUtils ./Placement ./style/StyleLayer".split(" "),function(p,a,g,n,f,e,k,b,d,h,c){function q(a,b){if(a.iconMosaicItem&&b.iconMosaicItem){if(a.iconMosaicItem.page!==b.iconMosaicItem.page)return a.iconMosaicItem.page<b.iconMosaicItem.page?
-1:1}else{if(a.iconMosaicItem&&!b.iconMosaicItem)return 1;if(!a.iconMosaicItem&&b.iconMosaicItem)return-1}return 0}(function(){return function(){}})();return function(a){function b(b,c,d,e,f,h,g,k){c=a.call(this,b,c)||this;c._markerMap=new Map;c._glyphMap=new Map;c._glyphBufferDataStorage=new Map;c._sdfMarkers=!1;if(b.hasDataDrivenIcon!==d.isDataDriven())throw Error("incompatible icon buffer");if(b.hasDataDrivenText!==f.isDataDriven())throw Error("incompatible text buffer");c._iconVertexBuffer=d;
c._iconIndexBuffer=e;c._textVertexBuffer=f;c._textIndexBuffer=h;c._placementEngine=g;c._workerTileHandler=k;return c}g(b,a);Object.defineProperty(b.prototype,"markerPageMap",{get:function(){return this._markerMap},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"glyphsPageMap",{get:function(){return this._glyphMap},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"sdfMarker",{get:function(){return this._sdfMarkers},enumerable:!0,configurable:!0});b.prototype.copy=
function(a,c,d,e,f){a=new b(this.layer,this.zoom,a,c,d,e,f,this._workerTileHandler);a.layerIndex=this.layerIndex;a.layerExtent=this.layerExtent;a._iconIndexStart=c.index;a._textIndexStart=e.index;a._iconIndexCount=0;a._textIndexCount=0;a._symbolInstances=this._symbolInstances;a._workerTileHandler=this._workerTileHandler;a._fontArray=this._fontArray;a._textLayout=this._textLayout;a._iconLayout=this._iconLayout;a._isLinePlacement=this._isLinePlacement;a._avoidEdges=this._avoidEdges;return a};b.prototype.getResources=
function(a,c,d){var e=this.layer,f=this.zoom,h=e.hasDataDrivenIcon,g=e.hasDataDrivenText;a&&a.setExtent(this.layerExtent);for(var k=e.getLayoutProperty("icon-image"),n=e.getLayoutProperty("text-field"),q=e.getLayoutValue("text-font",f),v=e.getLayoutValue("text-transform",f),r=[],p=[1,1,1,1],t=1,y=1,G=[1,1,1,1],S=1,L=1,F=0,J=this._features;F<J.length;F++){var H=J[F],R=H.getGeometry(a);if(R&&0!==R.length){var T=void 0;k&&(T=e.getLayoutValue("icon-image",f,H),k.isDataDriven||(T=this._replaceKeys(T,H.values)),
T&&c.add(T));var P=void 0,X=!1;if(n&&(P=e.getLayoutValue("text-field",f,H),n.isDataDriven||(P=this._replaceKeys(P,H.values)),P=P.replace(/\\n/g,"\n"))){switch(v){case 2:P=P.toLowerCase();break;case 1:P=P.toUpperCase()}b._bidiEngine.hasBidiChar(P)&&(X=void 0,X="rtl"===b._bidiEngine.checkContextual(P)?"IDNNN":"ICNNN",P=b._bidiEngine.bidiTransform(P,X,"VLYSN"),X=!0);var W=P.length;if(0<W)for(var V=0,fa=q;V<fa.length;V++){var ba=fa[V],ga=d[ba];ga||(ga=d[ba]=new Set);for(ba=0;ba<W;ba++){var ca=P.charCodeAt(ba);
ga.add(ca)}}}if(T||P)W=e.getLayoutValue("icon-size",f,H),V=e.getLayoutValue("text-size",f,H),e.hasDataDrivenIconColor&&(p=e.getPaintValue("icon-color",f,H)),e.hasDataDrivenIconOpacity&&(t=e.getPaintValue("icon-opacity",f,H)),e.hasDataDrivenIconSize&&(y=W),e.hasDataDrivenTextColor&&(G=e.getPaintValue("text-color",f,H)),e.hasDataDrivenTextOpacity&&(S=e.getPaintValue("text-opacity",f,H)),e.hasDataDrivenTextSize&&(L=V),H={sprite:T,label:P,rtl:X,type:H.type,geometry:R,iconSize:W,iconRotate:e.getLayoutValue("icon-rotate",
f,H),ddIconValues:h?{color:p,opacity:t,size:y}:null,textSize:V,textRotate:e.getLayoutValue("text-rotate",f,H),ddTextValues:g?{color:G,opacity:S,size:L}:null},r.push(H)}}this._symbolFeatures=r};b.prototype.processFeatures=function(a,e){a&&a.setExtent(this.layerExtent);var f=this.layer,g=this.zoom,n=this._isLinePlacement=1===f.getLayoutValue("symbol-placement",g),r=this._avoidEdges=f.getLayoutValue("symbol-avoid-edges",g)&&!n,p=8*f.getLayoutValue("symbol-spacing",g),t=f.getLayoutProperty("icon-image"),
y=f.getLayoutProperty("text-field"),G=this._workerTileHandler,U,O;t&&(this._iconLayout=new c.IconLayout(f,g,n),U=G.getSpriteItems(),O=this._getTranslate(!0));var B,I,Q;if(y){B=this._textLayout=new c.TextLayout(f,g,n);this._fontArray=B.fontArray;Q=.5;switch(B.anchor){case 5:case 1:case 7:Q=0;break;case 6:case 2:case 8:Q=1}I=.5;switch(B.anchor){case 5:case 3:case 6:I=0;break;case 7:case 4:case 8:I=1}f=.5;switch(B.justify){case 0:f=0;break;case 2:f=1}var g=24*B.letterSpacing,t=n?0:24*B.maxWidth,y=24*
B.lineHeight,K=[24*B.offset[0],24*B.offset[1]];B=this._fontArray.map(function(a){return G.getGlyphItems(a)});I=new k(B,t,y,g,K,Q,I,f);Q=this._getTranslate(!1)}this._iconIndexStart=this._iconIndexBuffer.index;this._textIndexStart=this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();this._symbolInstances=f=[];g=this._textLayout;t=1;g&&g.size&&(t=g.size/24);y=g?g.maxAngle*d.C_DEG_TO_RAD:0;B=g?8*g.size:0;for(var K=0,S=this._symbolFeatures;K<
S.length;K++){var L=S[K],F=void 0;L.sprite&&(F=U[L.sprite])&&F.sdf&&(this._sdfMarkers=!0);var J=void 0,H=L.label,R=0;if(H&&(J=I.getShaping(H,L.rtl))&&0<J.length){for(var R=1E30,H=-1E30,T=0,P=J;T<P.length;T++)var X=P[T],R=Math.min(R,X.x),H=Math.max(H,X.x);R=(H-R+48)*t*8}H=0;for(T=L.geometry;H<T.length;H++){var P=T[H],W=void 0;n?(J&&0<J.length&&g&&g.size&&b._smoothVertices(P,8*g.size*(2+Math.min(2,4*Math.abs(g.offset[1])))),W=b._findAnchors(P,p,R)):W=3===L.type?b._findCentroid(P):[new h.Anchor(P[0].x,
P[0].y)];for(X=0;X<W.length;X++){var V=W[X];0>V.x||4096<V.x||0>V.y||4096<V.y||n&&0<R&&0===g.rotationAlignment&&!b._honorsTextMaxAngle(P,V,R,y,B)||f.push({shaping:J,line:P,iconMosaicItem:F,anchor:V,iconSize:L.iconSize,iconRotate:L.iconRotate,ddIconValues:L.ddIconValues,textSize:L.textSize,textRotate:L.textRotate,ddTextValues:L.ddTextValues})}}}f.sort(q);for(n=0;n<f.length;n++)this._processFeature(f[n],O,Q,r);this._addPlacedGlyphs()};b.prototype.updateSymbols=function(){this._iconIndexStart=this._iconIndexBuffer.index;
this._textIndexStart=this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();var a=this._avoidEdges,b=this.layer,c;b.getLayoutProperty("icon-image")&&(c=this._getTranslate(!0));var d;b.getLayoutProperty("text-field")&&(d=this._getTranslate(!1));for(var b=0,e=this._symbolInstances;b<e.length;b++)this._processFeature(e[b],c,d,a);this._addPlacedGlyphs()};b.prototype._getTranslate=function(a){var b=this.layer.getPaintValue(a?"icon-translate":
"text-translate",this.zoom);if(0!==b[0]||0!==b[1]){var c=this._placementEngine.mapAngle;return 0!==c&&0===this.layer.getPaintValue(a?"icon-translate-anchor":"text-translate-anchor",this.zoom)?(a=Math.sin(c),c=Math.cos(c),[8*(b[0]*c-b[1]*a),8*(b[0]*a+b[1]*c)]):[8*b[0],8*b[1]]}};b.prototype._replaceKeys=function(a,b){return a.replace(/{([^{}]+)}/g,function(a,c){return c in b?b[c]:""})};b.prototype._processFeature=function(a,b,c,f){var h=a.line,g=a.iconMosaicItem,k=a.shaping,n=a.anchor,q=this._iconLayout,
r=q&&!!g,p=!0,t=1;r&&(q.size=a.iconSize,q.rotate=a.iconRotate,t=8*q.size,p=q.optional||!g);var v=this._textLayout,z=v&&k&&0<k.length,y;y=1;var G=!0;z&&(v.size=a.textSize,v.rotate=a.textRotate,y=v.size/24,y*=8,G=v.optional||!k||0===k.length);var S=new e.Point(0,-17),L;r&&(L=this._placementEngine.getIconPlacement(n,b,g,t,h,q,f),n.minzoom>L.footprint.minzoom&&(L.footprint.minzoom=n.minzoom),L.footprint.minzoom===d.C_INFINITY&&(L=null));if(L||p){var F;z&&(F=this._placementEngine.getTextPlacement(n,c,
S,k,y,h,v,f))&&(n.minzoom>F.footprint.minzoom&&(F.footprint.minzoom=n.minzoom),F.footprint.minzoom===d.C_INFINITY&&(F=null));if(F||G)L&&F||(G||p?G||F?p||L||(F=null):L=null:F=L=null),L&&F&&!G&&!p&&(b=Math.max(L.footprint.minzoom,F.footprint.minzoom),L.footprint.minzoom=b,F.footprint.minzoom=b),F&&(v.ignorePlacement||this._placementEngine.add(F),this._storePlacedGlyphs(F.shapes,F.footprint.minzoom,this.zoom,a.ddTextValues)),L&&(q.ignorePlacement||this._placementEngine.add(L),this._addPlacedIcons(L.shapes,
L.footprint.minzoom,this.zoom,g.page,a.ddIconValues))}};b.prototype._addPlacedIcons=function(a,b,c,e,f){b=Math.max(c+d.log2(b),0);for(var h=this._iconVertexBuffer,g=this._iconIndexBuffer,k=0;k<a.length;k++){var n=a[k],q=Math.max(c+d.log2(n.minzoom),b),r=Math.min(c+d.log2(n.maxzoom),25);if(!(r<=q)){var p=n.tl,t=n.tr,v=n.bl,z=n.br,y=n.mosaicRect,G=n.labelAngle,n=n.anchor,C=h.index,F=y.x,J=y.y,H=F+y.width,y=J+y.height;h.add(n.x,n.y,p.x,p.y,F,J,G,q,r,b,f);h.add(n.x,n.y,t.x,t.y,H,J,G,q,r,b,f);h.add(n.x,
n.y,v.x,v.y,F,y,G,q,r,b,f);h.add(n.x,n.y,z.x,z.y,H,y,G,q,r,b,f);g.add(C+0,C+1,C+2);g.add(C+1,C+2,C+3);this._markerMap.has(e)?this._markerMap.get(e)[1]+=6:this._markerMap.set(e,[this._iconIndexStart+this._iconIndexCount,6]);this._iconIndexCount+=2}}};b.prototype._addPlacedGlyphs=function(){var a=this,b=this._textVertexBuffer,c=this._textIndexBuffer;this._glyphBufferDataStorage.forEach(function(d,e){for(var f=0;f<d.length;f++){var h=d[f],g=b.index;b.add(h.glyphAnchor[0],h.glyphAnchor[1],h.tl[0],h.tl[1],
h.xmin,h.ymin,h.labelAngle,h.minLod,h.maxLod,h.placementLod,h.ddValues);b.add(h.glyphAnchor[0],h.glyphAnchor[1],h.tr[0],h.tr[1],h.xmax,h.ymin,h.labelAngle,h.minLod,h.maxLod,h.placementLod,h.ddValues);b.add(h.glyphAnchor[0],h.glyphAnchor[1],h.bl[0],h.bl[1],h.xmin,h.ymax,h.labelAngle,h.minLod,h.maxLod,h.placementLod,h.ddValues);b.add(h.glyphAnchor[0],h.glyphAnchor[1],h.br[0],h.br[1],h.xmax,h.ymax,h.labelAngle,h.minLod,h.maxLod,h.placementLod,h.ddValues);c.add(g+0,g+1,g+2);c.add(g+1,g+2,g+3);a._glyphMap.has(e)?
a._glyphMap.get(e)[1]+=6:a._glyphMap.set(e,[a._textIndexStart+a._textIndexCount,6]);a._textIndexCount+=2}});this._glyphBufferDataStorage.clear()};b.prototype._storePlacedGlyphs=function(a,b,c,e){b=Math.max(c+d.log2(b),0);for(var f=0;f<a.length;f++){var h=a[f],g=Math.max(c+d.log2(h.minzoom),b),k=Math.min(c+d.log2(h.maxzoom),25);if(!(k<=g)){var n=h.tl,q=h.tr,r=h.bl,p=h.br,t=h.labelAngle,v=h.anchor,z=h.mosaicRect;this._glyphBufferDataStorage.has(h.page)||this._glyphBufferDataStorage.set(h.page,[]);this._glyphBufferDataStorage.get(h.page).push({glyphAnchor:[v.x,
v.y],tl:[n.x,n.y],tr:[q.x,q.y],bl:[r.x,r.y],br:[p.x,p.y],xmin:z.x,ymin:z.y,xmax:z.x+z.width,ymax:z.y+z.height,labelAngle:t,minLod:g,maxLod:k,placementLod:b,ddValues:e})}}};b._findAnchors=function(a,b,c){b+=c;for(var f=0,g=a.length-1,k=0;k<g;k++)f+=e.Point.distance(a[k],a[k+1]);k=.5*(c||b);if(f<=k)return[];c=k/f;b=f/Math.max(Math.round(f/b),1);for(var f=0,g=-b/2,n=[],q=a.length-1,k=0;k<q;k++){for(var r=a[k],p=a[k+1],t=p.x-r.x,v=p.y-r.y,y=Math.sqrt(t*t+v*v),G=void 0;g+b<f+y;){var g=g+b,Q=(g-f)/y,K=
d.interpolate(r.x,p.x,Q),Q=d.interpolate(r.y,p.y,Q);void 0===G&&(G=Math.atan2(v,t));n.push(new h.Anchor(K,Q,G,k,c))}f+=y}return n};b._deviation=function(a,b,c){return Math.atan2((b.x-a.x)*(c.y-b.y)-(b.y-a.y)*(c.x-b.x),(b.x-a.x)*(c.x-b.x)+(b.y-a.y)*(c.y-b.y))};b._honorsTextMaxAngle=function(a,b,c,d,f){var h=0;c/=2;for(var g=new e.Point(b.x,b.y),k=b.segment+1;h>-c;){--k;if(0>k)return!1;h-=e.Point.distance(a[k],g);g=a[k]}h+=e.Point.distance(a[k],a[k+1]);b=[];for(var g=0,n=a.length;h<c;){var q=a[k],r=
void 0;do{++k;if(k===n)return!1;r=a[k]}while(r.isEqual(q));var p=k,t=void 0;do{++p;if(p===n)return!1;t=a[p]}while(t.isEqual(r));q=this._deviation(q,r,t);b.push({deviation:q,distToAnchor:h});for(g+=q;h-b[0].distToAnchor>f;)g-=b.shift().deviation;if(Math.abs(g)>d)return!1;h+=e.Point.distance(r,t)}return!0};b._smoothVertices=function(a,b){if(!(0>=b)){var c=a.length;if(!(3>c)){var d=[],f=0;d.push(0);for(var h=1;h<c;h++)f+=e.Point.distance(a[h],a[h-1]),d.push(f);b=Math.min(b,.2*f);f=[];f.push(a[0].x);
f.push(a[0].y);var g=a[c-1].x,k=a[c-1].y,h=e.Point.sub(a[0],a[1]);h.normalize();a[0].x+=b*h.x;a[0].y+=b*h.y;h.assignSub(a[c-1],a[c-2]);h.normalize();a[c-1].x+=b*h.x;a[c-1].y+=b*h.y;for(h=1;h<c;h++)d[h]+=b;d[c-1]+=b;for(var n=.5*b,h=1;h<c-1;h++){for(var q=0,r=0,p=0,t=h-1;0<=t&&!(d[t+1]<d[h]-n);t--){var y=n+d[t+1]-d[h],G=d[t+1]-d[t],K=d[h]-d[t]<n?1:y/G;if(1E-6>Math.abs(K))break;var S=K*K,L=K*y-.5*S*G,F=K*G/b,J=a[t+1],H=a[t].x-J.x,R=a[t].y-J.y,q=q+F/L*(J.x*K*y+.5*S*(y*H-G*J.x)-S*K*G*H/3),r=r+F/L*(J.y*
K*y+.5*S*(y*R-G*J.y)-S*K*G*R/3),p=p+F}for(t=h+1;t<c&&!(d[t-1]>d[h]+n);t++){y=n-d[t-1]+d[h];G=d[t]-d[t-1];K=d[t]-d[h]<n?1:y/G;if(1E-6>Math.abs(K))break;S=K*K;L=K*y-.5*S*G;F=K*G/b;J=a[t-1];H=a[t].x-J.x;R=a[t].y-J.y;q+=F/L*(J.x*K*y+.5*S*(y*H-G*J.x)-S*K*G*H/3);r+=F/L*(J.y*K*y+.5*S*(y*R-G*J.y)-S*K*G*R/3);p+=F}f.push(q/p);f.push(r/p)}f.push(g);f.push(k);for(t=h=0;h<c;h++)a[h].x=f[t++],a[h].y=f[t++]}}};b._findCentroid=function(a){var b=a.length-1,c=0,d=0,e=0,f=a[0].x,g=a[0].y;4096<f&&(f=4096);0>f&&(f=0);
4096<g&&(g=4096);0>g&&(g=0);for(var k=1;k<b;k++){var n=a[k].x,q=a[k].y,r=a[k+1].x,t=a[k+1].y;4096<n&&(n=4096);0>n&&(n=0);4096<q&&(q=4096);0>q&&(q=0);4096<r&&(r=4096);0>r&&(r=0);4096<t&&(t=4096);0>t&&(t=0);var p=(n-f)*(t-g)-(r-f)*(q-g),c=c+p*(f+n+r),d=d+p*(g+q+t),e=e+p}c/=3*e;d/=3*e;return isNaN(c)||isNaN(d)?[]:[new h.Anchor(c,d)]};b._bidiEngine=new f;return b}(b)})},"dojox/string/BidiEngine":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/Stateful"],function(p,a,g){function n(a,c,
d,h,g){var k=a;void 0===c&&(c=g.defInFormat);void 0===d&&(d=g.defOutFormat);void 0===h&&(h=g.defSwap);if(c!==d){var l,m=c.substring(0,1);l=c.substring(1,4);var q=d.substring(0,1),r=d.substring(1,4);"C"===l.charAt(0)&&(l=f(k),l="ltr"===l||"rtl"===l?l.toUpperCase():"L"===c.charAt(2)?"LTR":"RTL",c=m+l);"C"===r.charAt(0)&&(l=f(k),"rtl"===l?r="RTL":"ltr"===l?(k=k.split(""),k.reverse(),l=f(k.join("")),r=l.toUpperCase()):r="L"===d.charAt(2)?"LTR":"RTL",d=q+r)}if(c===d)return a;q=c.substring(0,1);k=c.substring(1,
4);m=d.substring(0,1);r=d.substring(1,4);g.inFormat=c;g.outFormat=d;g.swap=h;if("L"===q&&"VLTR"===d){if("LTR"===k)return g.dir=A,e(a,g);if("RTL"===k)return g.dir=U,e(a,g)}if("V"===q&&"V"===m)return g.dir="RTL"===k?U:A,b(a,g);if("L"===q&&"VRTL"===d)return g.dir="LTR"===k?A:U,a=e(a,g),b(a);if("VLTR"===c&&"LLTR"===d)return g.dir=A,e(a,g);if("V"===q&&"L"===m&&k!==r)return a=b(a),"RTL"===k?n(a,"LLTR","VLTR",h,g):n(a,"LRTL","VRTL",h,g);if("VRTL"===c&&"LRTL"===d)return n(a,"LRTL","VRTL",h,g);if("L"===q&&
"L"===m)return c=g.swap,g.swap=c.substr(0,1)+"N","RTL"===k?(g.dir=U,a=e(a,g),g.swap="N"+c.substr(1,2),g.dir=A,a=e(a,g)):(g.dir=A,a=e(a,g),g.swap="N"+c.substr(1,2),a=n(a,"VLTR","LRTL",g.swap,g)),a}function f(a){return(a=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(a))?"z">=a[0]?"ltr":"rtl":""}function e(a,b){var d=a.split(""),e=[];k(d,e,b);if(0!==b.hiLevel&&b.swap.substr(0,1)!==b.swap.substr(1,2))for(var f=0;f<d.length;f++)if(1===e[f]){var h=f,g;b:{g=d[f];for(var l=
void 0,m=0,n=I.length-1;m<=n;)if(l=Math.floor((m+n)/2),g<I[l][0])n=l-1;else if(g>I[l][0])m=l+1;else{g=I[l][1];break b}}d[h]=g}c(2,d,e,b);c(1,d,e,b);E=e;return d.join("")}function k(a,b,c){var d=a.length,e=c.dir?fa:V,f=null,h=null,g=null,f=0,h=h=null,k=-1,l=h=null,m=[],n=[];c.hiLevel=c.dir;c.lastArabic=!1;c.hasUbatAl=!1;c.hasUbatB=!1;c.hasUbatS=!1;for(h=0;h<d;h++){var l=h,g=a[h].charCodeAt(0),r=qa[g>>8];m[l]=r<da?r:ra[r-da][g&255]}for(l=0;l<d;l++){n[l]=h=q(a,m,n,l,c);f=e[f][h];h=f&240;f&=15;b[l]=g=
e[f][x];if(0<h){if(16===h)for(h=k;h<l;h++)b[h]=1;k=-1}if(h=e[f][w])-1===k&&(k=l);else if(-1<k){for(h=k;h<l;h++)b[h]=g;k=-1}m[l]===aa&&(b[l]=0);c.hiLevel|=g}if(c.hasUbatS)for(a=0;a<d;a++)if(m[a]===ka)for(b[a]=c.dir,e=a-1;0<=e;e--)if(m[e]===ma)b[e]=c.dir;else break}function b(a,b){var c=a.split("");if(b){var d=[];k(c,d,b);E=d}c.reverse();z.reverse();return c.join("")}function d(a){for(var b=0;b<X.length;b++)if(a>=X[b]&&a<=W[b])return!0;return!1}function h(a,b,c,e){for(;b*c<e&&t(a[b]);)b+=c;return b*
c<e&&d(a[b])?!0:!1}function c(a,b,c,d){if(!(d.hiLevel<a))if(1!==a||d.dir!==U||d.hasUbatB){d=b.length;for(var e=0,f,h,g;e<d;){if(c[e]>=a){for(f=e+1;f<d&&c[f]>=a;)f++;for(h=f-1;e<h;e++,h--)g=b[e],b[e]=b[h],b[h]=g,g=z[e],z[e]=z[h],z[h]=g;e=f}e++}}else b.reverse(),z.reverse()}function q(a,b,c,d,e){return{UBAT_L:function(){e.lastArabic=!1;return ba},UBAT_R:function(){e.lastArabic=!1;return ga},UBAT_ON:function(){return Z},UBAT_AN:function(){return ha},UBAT_EN:function(){return e.lastArabic?ha:ca},UBAT_AL:function(){e.lastArabic=
!0;e.hasUbatAl=!0;return ga},UBAT_WS:function(){return Z},UBAT_CS:function(){var a,f;if(1>d||d+1>=b.length||(a=c[d-1])!==ca&&a!==ha||(f=b[d+1])!==ca&&f!==ha)return Z;e.lastArabic&&(f=ha);return f===a?f:Z},UBAT_ES:function(){return(0<d?c[d-1]:aa)===ca&&d+1<b.length&&b[d+1]===ca?ca:Z},UBAT_ET:function(){if(0<d&&c[d-1]===ca)return ca;if(e.lastArabic)return Z;for(var a=d+1,f=b.length;a<f&&b[a]===na;)a++;return a<f&&b[a]===ca?ca:Z},UBAT_NSM:function(){if("VLTR"===e.inFormat){for(var f=b.length,h=d+1;h<
f&&b[h]===ja;)h++;if(h<f&&(f=a[d],h=b[h],(1425<=f&&2303>=f||64286===f)&&(h===ga||h===la)))return ga}return 1>d||b[d-1]===aa?Z:c[d-1]},UBAT_B:function(){e.lastArabic=!0;e.hasUbatB=!0;return e.dir},UBAT_S:function(){e.hasUbatS=!0;return Z},UBAT_LRE:function(){e.lastArabic=!1;return Z},UBAT_RLE:function(){e.lastArabic=!1;return Z},UBAT_LRO:function(){e.lastArabic=!1;return Z},UBAT_RLO:function(){e.lastArabic=!1;return Z},UBAT_PDF:function(){e.lastArabic=!1;return Z},UBAT_BN:function(){return Z}}[oa[b[d]]]()}
function r(a,b){for(var c=0;c<L.length;c++)if(a===L[c])return b[c];return a}function t(a){return"\u064b"<=a&&"\u0655">=a?!0:!1}function G(a){if("L"===a)return"LTR";if("R"===a)return"RTL";if("C"===a)return"CLR";if("D"===a)return"CRL"}function y(a,b){for(var c=0;c<Q.length;c++)if(a===Q[c])return b[c];return a}function v(a,b,c,d){for(var e=0;e<a.length;e++)if(a[e]>b||!c&&a[e]===b)a[e]+=d}p.getObject("string",!0,dojox);p=a("dojox.string.BidiEngine",g,{inputFormat:"ILYNN",outputFormat:"VLNNN",sourceToTarget:[],
targetToSource:[],levels:[],bidiTransform:function(a,b,c){this.sourceToTarget=[];this.targetToSource=[];if(!a)return"";var e=this.sourceToTarget,f=this.targetToSource,g=a.length;z=[];E=[];for(var k=0;k<g;k++)e[k]=k,f[k]=k,z[k]=k;if(!this.checkParameters(b,c))return a;b=this.inputFormat;c=this.outputFormat;var e=a,e=D,k=G(b.charAt(1)),f=G(c.charAt(1)),l="I"===b.charAt(0)?"L":b.charAt(0),g="I"===c.charAt(0)?"L":c.charAt(0),k=l+k,f=g+f,g=b.charAt(2)+c.charAt(2);e.defInFormat=k;e.defOutFormat=f;e.defSwap=
g;a=n(a,k,f,g,e);e=!1;if("R"===c.charAt(1))e=!0;else if("C"===c.charAt(1)||"D"===c.charAt(1))e=this.checkContextual(a);f=this.sourceToTarget=z;g=Array(f.length);for(k=0;k<f.length;k++)g[f[k]]=k;C=this.targetToSource=g;if(b.charAt(3)===c.charAt(3))e=a;else if("S"===c.charAt(3))if(b=e,c=!0,0===a.length)e=void 0;else{void 0===b&&(b=!0);void 0===c&&(c=!0);a=String(a);a=a.split("");var m=0,f=1,e=a.length;b||(m=a.length-1,f=-1,e=1);for(var g=e,k=c,q=0,e=[],l=0;m*f<g;m+=f)if(d(a[m])||t(a[m])){var p;if(p=
"\u0644"===a[m])b:{for(var x=a,u=m+f,w=f,A=g;u*w<A&&t(x[u]);)u+=w;p=" ";if(u*w<A)for(p=x[u],x=0;x<Q.length;x++)if(Q[x]===p){p=!0;break b}p=!1}if(p){a[m]=0===q?y(a[m+f],K):y(a[m+f],S);m+=f;q=a;p=m;x=f;for(u=g;p*x<u&&t(q[p]);)p+=x;p*x<u&&(q[p]=" ");k&&(e[l]=m,l++);q=0}else{p=a[m];if(1===q){x=m;if(h(a,m+f,f,g))b:for(u=a[m],w=0;w<L.length;w++){if(u===L[w]){u=H[w];break b}}else u=r(a[m],J);a[x]=u}else!0===h(a,m+f,f,g)?a[m]=r(a[m],R):a[m]=r(a[m],F);t(p)||(q=1);b:{for(x=0;x<T.length;x++)if(T[x]===p){p=!0;
break b}p=!1}!0===p&&(q=0)}}else q=0;f="";for(g=0;g<a.length;g++){if(k=c){b:{for(k=0;k<e.length;k++)if(e[k]===g)break b;k=-1}k=-1<k}k?(v(C,g,!b,-1),z.splice(g,1)):f+=a[g]}e=f}else if(b=a,c=e,a=!0,0===b.length)e=void 0;else for(void 0===a&&(a=!0),void 0===c&&(c=!0),b=String(b),e="",f=[],f=b.split(""),g=0;g<b.length;g++)k=!1,"\ufe70"<=f[g]&&"\ufeff">f[g]?(l=b.charCodeAt(g),"\ufef5"<=f[g]&&"\ufefc">=f[g]?(c?(0<g&&a&&" "===f[g-1]?e=e.substring(0,e.length-1)+"\u0644":(e+="\u0644",k=!0),e+=Q[(l-65269)/
2]):(e+=Q[(l-65269)/2],e+="\u0644",g+1<b.length&&a&&" "===f[g+1]?g++:k=!0),k&&(v(C,g,!0,1),z.splice(g,0,z[g]))):e+=P[l-65136]):e+=f[g];this.sourceToTarget=z;this.targetToSource=C;this.levels=E;return e},_inputFormatSetter:function(a){if(!O.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=a},_outputFormatSetter:function(a){if(!O.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=a},checkParameters:function(a,
b){a?this.set("inputFormat",a):a=this.inputFormat;b?this.set("outputFormat",b):b=this.outputFormat;return a===b?!1:!0},checkContextual:function(a){a=f(a);if("ltr"!==a&&"rtl"!==a){try{a=document.dir.toLowerCase()}catch(sa){}"ltr"!==a&&"rtl"!==a&&(a="ltr")}return a},hasBidiChar:function(a){return B.test(a)}});var z=[],C=[],E=[],D={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1},x=5,
w=6,A=0,U=1,O=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,B=/[\u0591-\u06ff\ufb1d-\ufefc]/,I=[["(",")"],[")","("],["\x3c","\x3e"],["\x3e","\x3c"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59","\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],
["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]],Q=["\u0622","\u0623","\u0625","\u0627"],K=["\ufef5","\ufef7","\ufef9","\ufefb"],S=["\ufef6","\ufef8","\ufefa","\ufefc"],L="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624".split(""),F="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe89\ufe85".split(""),
J="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8a\ufe86".split(""),H="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80\ufe8c\ufe86".split(""),
R="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8b\ufe85".split(""),T="\u0621\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0649".split(""),P="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split(""),
X=["\u0621","\u0641"],W=["\u063a","\u064a"],V=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],fa=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ba=0,ga=1,ca=2,ha=3,Z=4,aa=5,ka=6,la=7,ma=8,na=11,ja=12,oa="UBAT_L UBAT_R UBAT_EN UBAT_AN UBAT_ON UBAT_B UBAT_S UBAT_AL UBAT_WS UBAT_CS UBAT_ES UBAT_ET UBAT_NSM UBAT_LRE UBAT_RLE UBAT_PDF UBAT_LRO UBAT_RLO UBAT_BN".split(" "),da=100;a=ba;g=ga;var M=ca,Y=ha,l=Z,ia=aa,pa=ka,m=la,ea=ma,
N=na,u=ja,qa=[da+0,a,a,a,a,da+1,da+2,da+3,g,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,da+4,l,l,l,a,l,a,l,a,l,l,l,a,a,l,l,a,a,a,a,a,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,a,a,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,a,a,l,l,a,a,l,l,a,a,l,l,l,l,l,l,l,l,l,l,l,
l,l,l,l,l,l,l,l,l,l,l,l,a,a,a,da+5,m,m,da+6,da+7],ra=[[18,18,18,18,18,18,18,18,18,pa,ia,pa,ea,ia,18,18,18,18,18,18,18,18,18,18,18,18,18,18,ia,ia,ia,pa,ea,l,l,N,N,N,l,l,l,l,l,10,9,10,9,9,M,M,M,M,M,M,M,M,M,M,9,l,l,l,l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,l,l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,l,l,18,18,18,18,18,18,ia,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,l,N,N,N,N,l,l,l,l,a,l,l,18,l,l,N,N,M,M,l,a,l,l,l,M,a,l,l,
l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,a,a,a,a,a,a,a,a],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,l,l,l,l,l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,a,a,a,a,a,a,a,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,a,l,l,l,l,l,l,l,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,
u,u,u,u,u,u,u,g,u,g,u,u,g,u,u,g,u,l,l,l,l,l,l,l,l,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,l,l,l,l,l,g,g,g,g,g,l,l,l,l,l,l,l,l,l,l,l],[Y,Y,Y,Y,l,l,l,l,m,N,N,m,9,m,l,l,u,u,u,u,u,u,u,u,u,u,u,m,l,l,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,N,Y,Y,m,m,m,u,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,
m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,u,u,u,u,u,u,u,Y,l,u,u,u,u,u,u,m,m,u,u,l,u,u,u,u,m,m,M,M,M,M,M,M,M,M,M,M,m,m,m,m,m,m],[m,m,m,m,m,m,m,m,m,m,m,m,m,m,l,m,m,u,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,l,l,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,u,u,u,u,u,
u,u,u,u,u,u,m,l,l,l,l,l,l,l,l,l,l,l,l,l,l,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,u,u,u,u,u,u,u,u,u,g,g,l,l,l,l,g,l,l,l,l,l],[ea,ea,ea,ea,ea,ea,ea,ea,ea,ea,ea,18,18,18,a,g,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,ea,ia,13,14,15,16,17,9,N,N,N,N,N,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,9,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,ea,18,18,18,18,18,l,l,l,l,l,18,18,18,18,18,18,M,a,l,l,M,M,M,M,M,M,10,10,l,l,l,a,M,M,M,M,M,M,M,M,M,M,10,10,l,l,l,l,a,a,
a,a,a,a,a,a,a,a,a,a,a,l,l,l,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l],[a,a,a,a,a,a,a,l,l,l,l,l,l,l,l,l,l,l,l,a,a,a,a,a,l,l,l,l,l,g,u,g,g,g,g,g,g,g,g,g,g,10,g,g,g,g,g,g,g,g,g,g,g,g,g,l,g,g,g,g,g,l,g,l,g,g,l,g,g,l,g,g,g,g,g,g,g,g,g,g,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,
m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m],[u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,u,u,u,u,u,u,u,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,9,l,9,l,l,9,l,l,l,l,l,l,l,l,l,N,l,l,10,10,l,l,l,l,l,N,N,l,l,l,l,l,m,m,m,m,m,l,m,m,m,m,m,m,m,m,m,m,m,m,m,m,
m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,l,l,18],[l,l,l,N,N,N,l,l,l,l,l,10,9,10,9,9,M,M,M,M,M,M,M,M,M,M,9,l,l,l,l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,l,l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,l,l,l,l,l,l,l,l,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,
a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,l,l,l,a,a,a,a,a,a,l,l,a,a,a,a,a,a,l,l,a,a,a,a,a,a,l,l,a,a,a,l,l,l,N,N,l,l,l,N,N,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l]];return p})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(p,a,g,n){return p("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(a){var e=this._attrPairNames;return e[a]?
e[a]:e[a]={s:"_"+a+"Setter",g:"_"+a+"Getter"}},postscript:function(a){a&&this.set(a)},_get:function(a,e){return"function"===typeof this[e.g]?this[e.g]():this[a]},get:function(a){return this._get(a,this._getAttrNames(a))},set:function(a,e){if("object"===typeof a){for(var f in a)a.hasOwnProperty(f)&&"_watchCallbacks"!=f&&this.set(f,a[f]);return this}f=this._getAttrNames(a);var b=this._get(a,f);f=this[f.s];var d;"function"===typeof f?d=f.apply(this,Array.prototype.slice.call(arguments,1)):this[a]=e;
if(this._watchCallbacks){var h=this;n(d,function(){h._watchCallbacks(a,b,e)})}return this},_changeAttrValue:function(a,e){var f=this.get(a);this[a]=e;this._watchCallbacks&&this._watchCallbacks(a,f,e);return this},watch:function(a,e){var f=this._watchCallbacks;if(!f)var b=this,f=this._watchCallbacks=function(a,d,e,h){var c=function(c){if(c){c=c.slice();for(var f=0,h=c.length;f<h;f++)c[f].call(b,a,d,e)}};c(f["_"+a]);h||c(f["*"])};e||"function"!==typeof a?a="_"+a:(e=a,a="*");var d=f[a];"object"!==typeof d&&
(d=f[a]=[]);d.push(e);var h={};h.unwatch=h.remove=function(){var a=g.indexOf(d,e);-1<a&&d.splice(a,1)};return h}})})},"esri/layers/vectorTiles/views/2d/engine/webgl/TextShaping":function(){define(["require","exports","./Rect"],function(p,a,g){return function(){function a(a,e,g,b,d,h,c,n){this._glyphItems=a;this._maxWidth=e;this._lineHeight=g;this._letterSpacing=b;this._offset=d;this._hAnchor=h;this._vAnchor=c;this._justify=n}a.prototype.getShaping=function(a,e){for(var f=this._letterSpacing,b=this._lineHeight,
d=this._justify,h=this._maxWidth,c=[],g=0,n=0,p=0,G=0,y=-1,v=0,z=-1,C=a.length,E=0;E<C;E++){var D=a.charCodeAt(E);if(10===D){if(E!==C-1){if(y>=G){var g=c[y],x=g.x+g.glyphMosaicItem.metrics.advance,v=Math.max(x,v);d&&this._applyJustification(c,G,y);G=c.length}n=e?n-b:n+b;g=0;++p}}else{for(var x=void 0,w=0,A=this._glyphItems;w<A.length&&!(x=A[w][D]);w++);if(x){c.push({codePoint:D,x:g,y:n,glyphMosaicItem:x});g+=x.metrics.advance+f;if(0<h&&g>h&&0<=z){w=z+1;x=c[w].x;v=Math.max(x,v);for(A=w;A<c.length;A++)c[A].y=
e?c[A].y-b:c[A].y+b,c[A].x-=x;d&&this._applyJustification(c,G,z);n=e?n-b:n+b;g-=x;++p;G=w;z=-1}++y;32===D&&(z=c.length-1)}}}y>=G&&(g=c[y],v=Math.max(v,g.x+g.glyphMosaicItem.metrics.advance),d&&this._applyJustification(c,G,y));if(0<c.length)for(f=(d-this._hAnchor)*v,d=(-this._vAnchor*(p+1)+.5)*b,e&&p&&(d+=p*b),f+=this._offset[0],d+=this._offset[1],b=0;b<c.length;b++)p=c[b],p.x+=f,p.y+=d;return c};a.getBox=function(a){var e=a.length;if(0!==e){for(var f=a[0].x+a[0].glyphMosaicItem.metrics.left,b=f,d=
a[0].y,h=d,c=d,g=1;g<e;g++){var n=a[g],p=n.x+n.glyphMosaicItem.metrics.left;p<f&&(f=p);p>b&&(b=p);n=n.y;n<d&&(d=n);n>h&&(h=n);n!==c&&(b=Math.max(b,a[g-1].x+a[g-1].glyphMosaicItem.metrics.left+a[g-1].glyphMosaicItem.metrics.width),c=n)}b=Math.max(b,a[e-1].x+a[e-1].glyphMosaicItem.metrics.left+a[e-1].glyphMosaicItem.metrics.width);h+=12;return{x:f,y:h,width:b-f,height:h-(d-12)}}};a.addDecoration=function(a,e){var f=a.length;if(0!==f){for(var b=a[0].x+a[0].glyphMosaicItem.metrics.left,d=a[0].y,h=1;h<
f;h++){var c=a[h];if(c.y!==d){var n=a[h-1].x+a[h-1].glyphMosaicItem.metrics.left+a[h-1].glyphMosaicItem.metrics.width;a.push({codePoint:0,x:b,y:d+e-3,glyphMosaicItem:{rect:new g(4,0,4,8),metrics:{width:n-b,height:8,left:0,top:0,advance:0},page:0}});d=c.y;b=c.x+c.glyphMosaicItem.metrics.left}}f=a[f-1].x+a[f-1].glyphMosaicItem.metrics.left+a[f-1].glyphMosaicItem.metrics.width;a.push({codePoint:0,x:b,y:d+e-3,glyphMosaicItem:{rect:new g(4,0,4,8),metrics:{width:f-b,height:8,left:0,top:0,advance:0},page:0}})}};
a.prototype._applyJustification=function(a,e,g){for(var b=a[g],b=(b.x+b.glyphMosaicItem.metrics.advance)*this._justify;e<=g;e++)a[e].x-=b};return a}()})},"esri/layers/vectorTiles/views/2d/engine/webgl/Rect":function(){define(["require","exports"],function(p,a){return function(){function a(a,f,e,g){void 0===a&&(a=0);void 0===f&&(f=0);void 0===e&&(e=0);void 0===g&&(g=0);this.x=a;this.y=f;this.width=e;this.height=g}Object.defineProperty(a.prototype,"isEmpty",{get:function(){return 0>=this.width||0>=
this.height},enumerable:!0,configurable:!0});return a}()})},"esri/layers/vectorTiles/views/vectorTiles/TileParser":function(){define("require exports dojo/promise/all ../../core/executeAsync ../../core/pbf ../../core/promiseUtils ../2d/engine/webgl/TileClipper ../2d/tiling/enums ./BackgroundBucket ./CircleBucket ./Feature ./FillBucket ./LineBucket ./SourceLayerData ./SymbolBucket".split(" "),function(p,a,g,n,f,e,k,b,d,h,c,q,r,t,G){return function(){function a(a,b,c){this._pbfTile=new f(new Uint8Array(a),
new DataView(a));this._tile=b;this._connection=c;this._layers=b.getLayers();c=b.tileKey.split("/").map(parseFloat);var d=c[0];a=c[1];c=c[2];this._level=d;b.refKey&&(b=b.refKey.split("/").map(parseFloat)[0],b=d-b,0<b&&(d=(1<<b)-1,this._tileClipper=new k.TileClipper(b,a&d,c&d)));this._tileClipper||(this._tileClipper=new k.SimpleBuilder)}a.prototype.parse=function(){for(var a=this,d=this._parseTileData(this._pbfTile),f=this._layers,h=f.length,k=this._level,q,p=[],r={},t=new Set,h=h-1;0<=h;h--)if(q=f[h],
!(q.minzoom&&k<q.minzoom||q.maxzoom&&k>=q.maxzoom||q.layout&&"none"===q.layout.visibility))if(0===q.type)q=this._createBucket(q),q.layerIndex=h,p.push(q);else{var y=q.sourceLayer,G=d[y];G&&(t.add(y),q=this._createBucket(q))&&(q.layerIndex=h,q.layerExtent=G.extent,(G=r[y])||(G=r[y]=[]),G.push(q))}var I=10*this._level,Q=10*(this._level+1),K=[],S=[],L=[],F=[],J=this._tileClipper,H=new Set,R={},T=[];t.forEach(function(a){return T.push(a)});var P=0,X=0,W=T.length;return n(function(){if(a._tile.status===
b.TileStatus.INVALID)return!0;switch(P){case 0:if(X<W){var e=T[X++],f=d[e],h=r[e];if(h&&0!==h.length)for(e=f.getData();e.next(2);){var g=new c(e.getMessage(),f),k=g.values;if(k){var n=k._minzoom;if(n&&n>=Q)continue;if((k=k._maxzoom)&&k<=I)continue}for(var n=0,q=h;n<q.length;n++)k=q[n],k.pushFeature(g)}}else{f=a._tile;for(e in r)for(h=r[e],g=0;g<h.length;g++)k=h[g],k.hasFeatures()&&(3===k.layer.type?(K.push(k),f.addBucket(k)):k.layer.refLayerId?L.push(k):(S.push(k),F[k.layer.id]=k));P=1;X=0;W=K.length}break;
case 1:X<W?K[X++].getResources(J,H,R):P=2}return 2===P}).then(function(){if(a._tile.status===b.TileStatus.INVALID)return[];var c=[],d=a._tile.getWorkerTileHandler(),f;0<H.size&&(f=d.fetchSprites(H,a._connection),c.push(f));for(var h in R)f=R[h],0<f.size&&(f=d.fetchGlyphs(a._tile.tileKey,h,f,a._connection),c.push(f));return g(c).then(function(c){if(a._tile.status===b.TileStatus.INVALID)return[];var d=0,e=0,f=S.length;return n(function(){if(a._tile.status===b.TileStatus.INVALID)return!0;switch(d){case 0:if(e<
f){var c=S[e++];c.processFeatures(J,a._tile);p.push(c)}else d=1,e=0,f=L.length;break;case 1:for(var h=0;h<L.length;h++){var c=L[h],g=F[c.layer.refLayerId];g&&(g.assignBufferInfo(c),p.push(c))}d=2;e=0;f=K.length;break;case 2:e<f?(c=K[e++],c.processFeatures(J,a._tile),p.push(c)):d=3}return 3===d}).then(function(){p.sort(function(a,b){return a.layerIndex-b.layerIndex});return p})}).catch(function(a){return e.reject(Error(a))})}).catch(function(a){return e.reject(Error(a))})};a.prototype._parseTileData=
function(a){for(var b={};a.next();)switch(a.tag()){case 3:var c=new t(a.getMessage());b[c.name]=c;break;default:a.skip()}return b};a.prototype._createBucket=function(a){switch(a.type){case 0:return this._createBackgroundBucket(a);case 1:return this._createFillBucket(a);case 2:return this._createLineBucket(a);case 4:return this._createCircleBucket(a);case 3:return this._createSymbolBucket(a)}};a.prototype._createBackgroundBucket=function(a){return new d(a,this._level)};a.prototype._createFillBucket=
function(a){var b=this._tile;return new q(a,this._level,a.hasDataDrivenFill?b.fillDDVertexBuffer:b.fillVertexBuffer,b.fillIndexBuffer,a.hasDataDrivenOutline?b.outlineDDVertexBuffer:b.outlineVertexBuffer,b.outlineIndexBuffer)};a.prototype._createLineBucket=function(a){var b=this._tile;return new r(a,this._level,a.hasDataDrivenLine?b.lineDDVertexBuffer:b.lineVertexBuffer,b.lineIndexBuffer)};a.prototype._createCircleBucket=function(a){var b=this._tile;return new h(a,this._level,b.circleVertexBuffer,
b.circleIndexBuffer)};a.prototype._createSymbolBucket=function(a){var b=this._tile;return new G(a,this._level,a.hasDataDrivenIcon?b.iconDDVertexBuffer:b.iconVertexBuffer,b.iconIndexBuffer,a.hasDataDrivenText?b.textDDVertexBuffer:b.textVertexBuffer,b.textIndexBuffer,b.placementEngine,b.getWorkerTileHandler())};return a}()})},"esri/layers/vectorTiles/core/pbf":function(){define(["require","exports"],function(p,a){return function(){function a(a,f,e,g){this._tag=0;this._dataType=99;this._data=a;this._dataView=
f;this._pos=e||0;this._end=g||a.byteLength}a.prototype.clone=function(){return new a(this._data,this._dataView,this._pos,this._end)};a.prototype.pos=function(){return this._pos};a.prototype.next=function(a){for(;;){if(this._pos===this._end)return!1;var f=this._decodeVarint();this._tag=f>>3;this._dataType=f&7;if(!a||a===this._tag)break;this.skip()}return!0};a.prototype.empty=function(){return this._pos>=this._end};a.prototype.tag=function(){return this._tag};a.prototype.getInt32=function(){return this._decodeVarint()};
a.prototype.getInt64=function(){return this._decodeVarint()};a.prototype.getUInt32=function(){var a=4294967295,a=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return a};
a.prototype.getUInt64=function(){return this._decodeVarint()};a.prototype.getSInt32=function(){var a=this.getUInt32();return a>>>1^-(a&1)|0};a.prototype.getSInt64=function(){return this._decodeSVarint()};a.prototype.getBool=function(){var a=0!==this._data[this._pos];this._skip(1);return a};a.prototype.getEnum=function(){return this._decodeVarint()};a.prototype.getFixed64=function(){var a=this._dataView,f=this._pos,a=a.getUint32(f,!0)+4294967296*a.getUint32(f+4,!0);this._skip(8);return a};a.prototype.getSFixed64=
function(){var a=this._dataView,f=this._pos,a=a.getUint32(f,!0)+4294967296*a.getInt32(f+4,!0);this._skip(8);return a};a.prototype.getDouble=function(){var a=this._dataView.getFloat64(this._pos,!0);this._skip(8);return a};a.prototype.getFixed32=function(){var a=this._dataView.getUint32(this._pos,!0);this._skip(4);return a};a.prototype.getSFixed32=function(){var a=this._dataView.getInt32(this._pos,!0);this._skip(4);return a};a.prototype.getFloat=function(){var a=this._dataView.getFloat32(this._pos,
!0);this._skip(4);return a};a.prototype.getString=function(){var a=this._getLength(),f=this._pos,f=this._toString(this._data,f,f+a);this._skip(a);return f};a.prototype.getBytes=function(){var a=this._getLength(),f=this._pos,f=this._toBytes(this._data,f,f+a);this._skip(a);return f};a.prototype.getMessage=function(){var g=this._getLength(),f=this._pos,f=new a(this._data,this._dataView,f,f+g);this._skip(g);return f};a.prototype.skip=function(){switch(this._dataType){case 0:this._decodeVarint();break;
case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");}};a.prototype._skip=function(a){if(this._pos+a>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=a};a.prototype._decodeVarint=function(){var a=this._data,f=this._pos,e=0,g;if(10<=this._end-f){if(g=a[f++],e|=g&127,0!==(g&128)&&(g=a[f++],e|=(g&127)<<7,0!==(g&128)&&(g=a[f++],e|=(g&127)<<14,0!==(g&128)&&(g=a[f++],e|=(g&127)<<21,0!==(g&128)&&
(g=a[f++],e+=268435456*(g&127),0!==(g&128)&&(g=a[f++],e+=34359738368*(g&127),0!==(g&128)&&(g=a[f++],e+=4398046511104*(g&127),0!==(g&128)&&(g=a[f++],e+=562949953421312*(g&127),0!==(g&128)&&(g=a[f++],e+=72057594037927936*(g&127),0!==(g&128)&&(g=a[f++],e+=0x7fffffffffffffff*(g&127),0!==(g&128)))))))))))throw Error("Varint too long!");}else{for(var b=1;f!==this._end;){g=a[f];if(0===(g&128))break;++f;e+=(g&127)*b;b*=128}if(f===this._end)throw Error("Varint overrun!");++f;e+=g*b}this._pos=f;return e};a.prototype._decodeSVarint=
function(){var a=this._decodeVarint();return a%2?-(a+1)/2:a/2};a.prototype._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()};a.prototype._toString=function(a,f,e){var g="",b="";for(e=Math.min(this._end,e);f<e;++f){var d=a[f];d&128?b+="%"+d.toString(16):(g+=decodeURIComponent(b)+String.fromCharCode(d),b="")}b.length&&(g+=decodeURIComponent(b));return g};a.prototype._toBytes=function(a,f,e){e=Math.min(this._end,e);return new Uint8Array(a.buffer,
f,e-f)};return a}()})},"esri/layers/vectorTiles/views/2d/engine/webgl/TileClipper":function(){define(["require","exports","./Geometry","./GeometryUtils"],function(p,a,g,n){Object.defineProperty(a,"__esModule",{value:!0});var f=function(){return function(a,b,d){this.ratio=a;this.x=b;this.y=d}}();p=function(){function a(a,d,e,c,f){void 0===c&&(c=8);void 0===f&&(f=8);this.lines=[];this.starts=[];this.pixelRatio=c;this.pixelMargin=f;this.tileSize=512*c;this.dz=a;this.yPos=d;this.xPos=e}a.prototype.setExtent=
function(a){this.finalRatio=this.tileSize/a*(1<<this.dz);var b=this.pixelRatio*this.pixelMargin,b=b/this.finalRatio;a>>=this.dz;b>a&&(b=a);this.margin=b;this.xmin=a*this.xPos-b;this.ymin=a*this.yPos-b;this.xmax=this.xmin+a+2*b;this.ymax=this.ymin+a+2*b};a.prototype.reset=function(a){this.type=a;this.lines=[];this.starts=[];this.line=null;this.start=0};a.prototype.moveTo=function(a,d){this._pushLine();this._prevIsIn=this._isIn(a,d);this._moveTo(a,d,this._prevIsIn);this._prevPt=new g.Point(a,d);this._firstPt=
new g.Point(a,d);this._dist=0};a.prototype.lineTo=function(a,d){var b=this._isIn(a,d),c=new g.Point(a,d),e=g.Point.distance(this._prevPt,c),k,n,p,y,v;if(b)this._prevIsIn?this._lineTo(a,d,!0):(k=this._prevPt,n=c,p=this._intersect(n,k),this.start=this._dist+e*(1-this._r),this._lineTo(p.x,p.y,!0),this._lineTo(n.x,n.y,!0));else if(this._prevIsIn)n=this._prevPt,k=c,p=this._intersect(n,k),this._lineTo(p.x,p.y,!0),this._lineTo(k.x,k.y,!1);else{var z=this._prevPt;if(!(z.x<=this.xmin&&c.x<=this.xmin||z.x>=
this.xmax&&c.x>=this.xmax||z.y<=this.ymin&&c.y<=this.ymin||z.y>=this.ymax&&c.y>=this.ymax)){k=[];if(z.x<this.xmin&&c.x>this.xmin||z.x>this.xmin&&c.x<this.xmin)n=(this.xmin-z.x)/(c.x-z.x),v=z.y+n*(c.y-z.y),v<=this.ymin?y=!1:v>=this.ymax?y=!0:k.push(new f(n,this.xmin,v));if(z.x<this.xmax&&c.x>this.xmax||z.x>this.xmax&&c.x<this.xmax)n=(this.xmax-z.x)/(c.x-z.x),v=z.y+n*(c.y-z.y),v<=this.ymin?y=!1:v>=this.ymax?y=!0:k.push(new f(n,this.xmax,v));if(z.y<this.ymin&&c.y>this.ymin||z.y>this.ymin&&c.y<this.ymin)n=
(this.ymin-z.y)/(c.y-z.y),v=z.x+n*(c.x-z.x),v<=this.xmin?p=!1:v>=this.xmax?p=!0:k.push(new f(n,v,this.ymin));if(z.y<this.ymax&&c.y>this.ymax||z.y>this.ymax&&c.y<this.ymax)n=(this.ymax-z.y)/(c.y-z.y),v=z.x+n*(c.x-z.x),v<=this.xmin?p=!1:v>=this.xmax?p=!0:k.push(new f(n,v,this.ymax));if(0===k.length)p?y?this._lineTo(this.xmax,this.ymax,!0):this._lineTo(this.xmax,this.ymin,!0):y?this._lineTo(this.xmin,this.ymax,!0):this._lineTo(this.xmin,this.ymin,!0);else if(1<k.length&&k[0].ratio>k[1].ratio)this.start=
this._dist+e*k[1].ratio,this._lineTo(k[1].x,k[1].y,!0),this._lineTo(k[0].x,k[0].y,!0);else for(this.start=this._dist+e*k[0].ratio,n=0;n<k.length;n++)this._lineTo(k[n].x,k[n].y,!0)}this._lineTo(c.x,c.y,!1)}this._dist+=e;this._prevIsIn=b;this._prevPt=c};a.prototype.close=function(){if(2<this.line.length){var a=this._firstPt,d=this._prevPt;a.x===d.x&&a.y===d.y||this.lineTo(a.x,a.y);a=this.line;for(d=a.length;4<=d;)if(a[0].x===a[1].x&&a[0].x===a[d-2].x||a[0].y===a[1].y&&a[0].y===a[d-2].y)a.pop(),a[0].x=
a[d-2].x,a[0].y=a[d-2].y,--d;else break}};a.prototype.result=function(a){void 0===a&&(a=!0);this._pushLine();if(0===this.lines.length)return null;3===this.type&&a&&e.simplify(this.tileSize,this.margin*this.finalRatio,this.lines);return this.lines};a.prototype.resultWithStarts=function(){if(2!==this.type)throw Error("Only valid for lines");this._pushLine();var a=this.lines,d=a.length;if(0===d)return null;for(var e=[],c=0;c<d;c++)e.push({line:a[c],start:this.starts[c]||0});return e};a.prototype._isIn=
function(a,d){return a>=this.xmin&&a<=this.xmax&&d>=this.ymin&&d<=this.ymax};a.prototype._intersect=function(a,d){var b,c,e;if(d.x>=this.xmin&&d.x<=this.xmax)c=d.y<=this.ymin?this.ymin:this.ymax,e=(c-a.y)/(d.y-a.y),b=a.x+e*(d.x-a.x);else if(d.y>=this.ymin&&d.y<=this.ymax)b=d.x<=this.xmin?this.xmin:this.xmax,e=(b-a.x)/(d.x-a.x),c=a.y+e*(d.y-a.y);else{c=d.y<=this.ymin?this.ymin:this.ymax;b=d.x<=this.xmin?this.xmin:this.xmax;var f=(b-a.x)/(d.x-a.x),k=(c-a.y)/(d.y-a.y);f<k?(e=f,c=a.y+f*(d.y-a.y)):(e=
k,b=a.x+k*(d.x-a.x))}this._r=e;return new g.Point(b,c)};a.prototype._pushLine=function(){this.line&&(1===this.type?0<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):2===this.type?1<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):3===this.type&&3<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)));this.line=[];this.start=0};a.prototype._moveTo=function(a,d,e){3!==this.type?e&&(a=Math.round((a-(this.xmin+this.margin))*
this.finalRatio),d=Math.round((d-(this.ymin+this.margin))*this.finalRatio),this.line.push(new g.Point(a,d))):(e||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),d<this.ymin&&(d=this.ymin),d>this.ymax&&(d=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),d=Math.round((d-(this.ymin+this.margin))*this.finalRatio),this.line.push(new g.Point(a,d)),this._is_v=this._is_h=!1)};a.prototype._lineTo=function(a,d,e){if(3!==this.type)if(e){a=Math.round((a-(this.xmin+this.margin))*this.finalRatio);
d=Math.round((d-(this.ymin+this.margin))*this.finalRatio);if(0<this.line.length&&(e=this.line[this.line.length-1],e.equals(a,d)))return;this.line.push(new g.Point(a,d))}else this.line&&0<this.line.length&&this._pushLine();else if(e||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),d<this.ymin&&(d=this.ymin),d>this.ymax&&(d=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),d=Math.round((d-(this.ymin+this.margin))*this.finalRatio),this.line&&0<this.line.length){e=this.line[this.line.length-
1];var b=e.x===a,f=e.y===d;b&&f||(this._is_h&&b?(e.x=a,e.y=d,e=this.line[this.line.length-2],e.x===a&&e.y===d?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(e=this.line[this.line.length-2],this._is_h=e.x===a,this._is_v=e.y===d)):(this._is_h=e.x===a,this._is_v=e.y===d)):this._is_v&&f?(e.x=a,e.y=d,e=this.line[this.line.length-2],e.x===a&&e.y===d?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(e=this.line[this.line.length-2],this._is_h=e.x===a,this._is_v=e.y===d)):(this._is_h=
e.x===a,this._is_v=e.y===d)):(this.line.push(new g.Point(a,d)),this._is_h=b,this._is_v=f))}else this.line.push(new g.Point(a,d))};return a}();a.TileClipper=p;p=function(){function a(){}a.prototype.setExtent=function(a){this._ratio=4096===a?1:4096/a};a.prototype.reset=function(a){this.type=a;this.lines=[];this.line=null};a.prototype.moveTo=function(a,d){this.line&&this.lines.push(this.line);this.line=[];var b=this._ratio;this.line.push(new g.Point(Math.round(a*b),Math.round(d*b)))};a.prototype.lineTo=
function(a,d){var b=this._ratio;this.line.push(new g.Point(Math.round(a*b),Math.round(d*b)))};a.prototype.close=function(){var a=this.line;a&&!a[0].isEqual(a[a.length-1])&&a.push(a[0])};a.prototype.result=function(){this.line&&this.lines.push(this.line);if(0===this.lines.length)return null;3===this.type&&1!==this._ratio&&e.simplify(4096,64,this.lines);return this.lines};return a}();a.SimpleBuilder=p;var e=function(){function a(){}a.simplify=function(b,d,e){if(e){var c=-d,f=b+d,h=-d,g=b+d;b=[];d=[];
for(var k=e.length,n=0;n<k;++n){var p=e[n];if(p&&!(2>p.length))for(var z=p[0],C=void 0,E=p.length,D=1;D<E;++D)C=p[D],z.x===C.x&&(z.x<=c&&(z.y>C.y?(b.push(n),b.push(D),b.push(0),b.push(-1)):(d.push(n),d.push(D),d.push(0),d.push(-1))),z.x>=f&&(z.y<C.y?(b.push(n),b.push(D),b.push(1),b.push(-1)):(d.push(n),d.push(D),d.push(1),d.push(-1)))),z.y===C.y&&(z.y<=h&&(z.x<C.x?(b.push(n),b.push(D),b.push(2),b.push(-1)):(d.push(n),d.push(D),d.push(2),d.push(-1))),z.y>=g&&(z.x>C.x?(b.push(n),b.push(D),b.push(3),
b.push(-1)):(d.push(n),d.push(D),d.push(3),d.push(-1)))),z=C}0!==b.length&&0!==d.length&&(a.fillParent(e,d,b),a.fillParent(e,b,d),c=[],a.calcDeltas(c,d,b),a.calcDeltas(c,b,d),a.addDeltas(c,e))}};a.fillParent=function(a,d,e){for(var b=e.length,f=d.length,h=0;h<f;h+=4){for(var g=d[h],k=d[h+1],p=d[h+2],v=a[g][k-1],g=a[g][k],k=8092,z=-1,C=0;C<b;C+=4)if(e[C+2]===p){var E=e[C],D=e[C+1],x=a[E][D-1],E=a[E][D];switch(p){case 0:case 1:n.between(v.y,x.y,E.y)&&n.between(g.y,x.y,E.y)&&(x=Math.abs(E.y-x.y),x<k&&
(k=x,z=C));break;case 2:case 3:n.between(v.x,x.x,E.x)&&n.between(g.x,x.x,E.x)&&(x=Math.abs(E.x-x.x),x<k&&(k=x,z=C))}}d[h+3]=z}};a.calcDeltas=function(b,d,e){for(var c=d.length,f=0;f<c;f+=4){var h=a.calcDelta(f,d,e,[]);b.push(d[f]);b.push(d[f+1]);b.push(d[f+2]);b.push(h)}};a.calcDelta=function(b,d,e,c){b=d[b+3];if(-1===b)return 0;var f=c.length;if(1<f&&c[f-2]===b)return 0;c.push(b);return a.calcDelta(b,e,d,c)+1};a.addDeltas=function(a,d){for(var b=a.length,c=0,e=0;e<b;e+=4){var f=a[e+3];f>c&&(c=f)}for(e=
0;e<b;e+=4){var g=d[a[e]],k=a[e+1],f=c-a[e+3];switch(a[e+2]){case 0:g[k-1].x-=f;g[k].x-=f;1===k&&(g[g.length-1].x-=f);k===g.length-1&&(g[0].x-=f);break;case 1:g[k-1].x+=f;g[k].x+=f;1===k&&(g[g.length-1].x+=f);k===g.length-1&&(g[0].x+=f);break;case 2:g[k-1].y-=f;g[k].y-=f;1===k&&(g[g.length-1].y-=f);k===g.length-1&&(g[0].y-=f);break;case 3:g[k-1].y+=f,g[k].y+=f,1===k&&(g[g.length-1].y+=f),k===g.length-1&&(g[0].y+=f)}}};return a}()})},"esri/layers/vectorTiles/views/2d/engine/webgl/GeometryUtils":function(){define(["require",
"exports"],function(p,a){function g(a,e){a%=e;return 0<=a?a:a+e}Object.defineProperty(a,"__esModule",{value:!0});a.C_INFINITY=Number.POSITIVE_INFINITY;a.C_PI=Math.PI;a.C_2PI=2*a.C_PI;a.C_PI_BY_2=a.C_PI/2;a.C_RAD_TO_256=128/a.C_PI;a.C_256_TO_RAD=a.C_PI/128;a.C_DEG_TO_256=256/360;a.C_DEG_TO_RAD=a.C_PI/180;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/a.C_SQRT2;var n=1/Math.LN2;a.positiveMod=g;a.radToByte=function(f){return g(f*a.C_RAD_TO_256,256)};a.degToByte=function(f){return g(f*a.C_DEG_TO_256,256)};a.log2=
function(a){return Math.log(a)*n};a.sqr=function(a){return a*a};a.clamp=function(a,e,g){return Math.min(Math.max(a,e),g)};a.interpolate=function(a,e,g){return a*(1-g)+e*g};a.between=function(a,e,g){return a>=e&&a<=g||a>=g&&a<=e}})},"esri/layers/vectorTiles/views/vectorTiles/Feature":function(){define(["require","exports","../2d/engine/webgl/Geometry"],function(p,a,g){return function(){function a(a,e){this.values={};for(var f=e.keys,b=e.values;a.next();)switch(a.tag()){case 1:this.id=a.getUInt64();
break;case 2:for(var d=a.getMessage(),h=this.values;!d.empty();){var c=d.getUInt32(),g=d.getUInt32();h[f[c]]=b[g]}break;case 3:this.type=a.getUInt32();break;case 4:this._pbfGeometry=a.getMessage();break;default:a.skip()}}a.prototype.getGeometry=function(a){if(void 0!==this._geometry)return this._geometry;var e=this._pbfGeometry,f,b;a?a.reset(this.type):f=[];for(var d=1,h=0,c=0,n=0;!e.empty();)switch(0===h&&(h=e.getUInt32(),d=h&7,h>>=3),h--,d){case 1:c+=e.getSInt32();n+=e.getSInt32();a?a.moveTo(c,
n):(b&&f.push(b),b=[],b.push(new g.Point(c,n)));break;case 2:c+=e.getSInt32();n+=e.getSInt32();a?a.lineTo(c,n):b.push(new g.Point(c,n));break;case 7:a?a.close():b&&!b[0].equals(c,n)&&b.push(b[0].clone());break;default:throw Error("Invalid path operation");}a?a=a.result():(b&&f.push(b),a=f);return this._geometry=a};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/SourceLayerData":function(){define(["require","exports"],function(p,a){return function(){function a(g){this.extent=4096;this.keys=
[];this.values=[];for(this._pbfLayer=g.clone();g.next();)switch(g.tag()){case 1:this.name=g.getString();break;case 3:this.keys.push(g.getString());break;case 4:this.values.push(a._parseValue(g.getMessage()));break;case 5:this.extent=g.getUInt32();break;default:g.skip()}}a.prototype.getData=function(){return this._pbfLayer};a._parseValue=function(a){for(;a.next();)switch(a.tag()){case 1:return a.getString();case 2:return a.getFloat();case 3:return a.getDouble();case 4:return a.getInt64();case 5:return a.getUInt64();
case 6:return a.getSInt64();case 7:return a.getBool();default:a.skip()}return null};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/VertexMemoryBuffer":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ./GeometryUtils ./MemoryBuffer".split(" "),function(p,a,g,n,f,e){Object.defineProperty(a,"__esModule",{value:!0});var k=new Float32Array(1),b=new Uint32Array(k.buffer);p=function(a){function d(b){var c=a.call(this,b?20:12)||this;c._isDataDriven=
b;return c}g(d,a);d.prototype.isDataDriven=function(){return this._isDataDriven};d.prototype.add=function(a,d,f,g,h,n,p,z){var c=this.array;a=e.i1616to32(a,d);c.push(a);a=e.i8888to32(Math.round(31*f),Math.round(31*g),Math.round(31*h),Math.round(31*n));c.push(a);a=e.i1616to32(p,0);c.push(a);if(this._isDataDriven){if(!z)throw Error("Expecting data driven values.");f=z.color;g=f[3]*z.opacity*255;c.push(e.i8888to32(f[0]*g,f[1]*g,f[2]*g,g));k[0]=z.size;c.push(b[0])}};return d}(e);a.LineVertexBuffer=p;
p=function(a){function b(b){var c=a.call(this,b?8:4)||this;c._isDataDriven=b;return c}g(b,a);b.prototype.isDataDriven=function(){return this._isDataDriven};b.prototype.add=function(a,b,d){var c=this.array;c.push(e.i1616to32(a,b));if(this._isDataDriven){if(!d)throw Error("Expecting data driven values.");a=d.color;d=a[3]*d.opacity*255;c.push(e.i8888to32(a[0]*d,a[1]*d,a[2]*d,d))}};return b}(e);a.FillVertexBuffer=p;p=function(a){function b(b){var c=a.call(this,b?12:8)||this;c._isDataDriven=b;return c}
g(b,a);b.prototype.isDataDriven=function(){return this._isDataDriven};b.prototype.add=function(a,b,d,f,g,h,k){var c=this.array,n=this.index;a=e.i1616to32(a,b);c.push(a);a=e.i8888to32(Math.round(15*d),Math.round(15*f),g,h);c.push(a);if(this._isDataDriven){if(!k)throw Error("Expecting data driven values.");d=k.color;k=d[3]*k.opacity*255;c.push(e.i8888to32(d[0]*k,d[1]*k,d[2]*k,k))}return n};return b}(e);a.OutlineVertexBuffer=p;p=function(a){function d(b){var c=a.call(this,b?24:16)||this;c._isDataDriven=
b;return c}g(d,a);d.prototype.isDataDriven=function(){return this._isDataDriven};d.prototype.add=function(a,d,g,h,n,p,v,z,C,E,D){var c=this.array;a=e.i1616to32(a,d);c.push(a);a=e.i1616to32(Math.round(8*g),Math.round(8*h));c.push(a);a=e.i8888to32(n/4,p/4,0,0);c.push(a);a=e.i8888to32(Math.ceil(10*E),f.radToByte(v),10*z,Math.min(10*C,255));c.push(a);if(this._isDataDriven){if(!D)throw Error("Expecting data driven values.");g=D.color;h=g[3]*D.opacity*255;c.push(e.i8888to32(g[0]*h,g[1]*h,g[2]*h,h));k[0]=
D.size;c.push(b[0])}};return d}(e);a.SymbolVertexBuffer=p;p=function(a){function b(){return a.call(this,16)||this}g(b,a);b.prototype.add=function(a,b,d,f,g,h,k,n,p,E,D){var c=this.array;a=e.i1616to32(2*a+d,2*b+f);c.push(a);k=h[3]*k*255;a=e.i8888to32(h[0]*k,h[1]*k,h[2]*k,k);c.push(a);h=E[3]*D*255;a=e.i8888to32(E[0]*h,E[1]*h,E[2]*h,h);c.push(a);a=e.i8888to32(Math.min(32*n,255),Math.min(4*p,255),Math.min(g,255),0);c.push(a)};return b}(e);a.CircleVertexBuffer=p})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleRepository":function(){define(["require",
"exports","dojo/has","./StyleLayer"],function(p,a,g,n){return function(){function a(e,f){this.styleJSON=e;this.version=parseFloat(e.version);this.sprite=f?f.spriteUrl:e.sprite;this.glyphs=f?f.glyphsUrl:e.glyphs;if(g("stable-symbol-rendering")){var b=(e.layers||[]).filter(function(a){return a.layout&&a.layout["text-font"]})[0];b&&(e.layers||[]).forEach(function(a){a.layout&&a.layout["text-font"]&&(a.layout["text-font"]=b.layout["text-font"])})}this.layers=(e.layers||[]).map(a._create);this._identifyRefLayers()}
a.prototype._identifyRefLayers=function(){for(var a=[],f=[],b=0,d=0,g=this.layers;d<g.length;d++){var c=g[d];if(1===c.type){var n=c,p=c.sourceLayer,p=p+("|"+JSON.stringify(c.minzoom)),p=p+("|"+JSON.stringify(c.maxzoom)),p=p+("|"+JSON.stringify(c.filter));if(n.hasDataDrivenFill||n.hasDataDrivenOutline)p+="|"+JSON.stringify(b);a.push({key:p,layer:c})}2===c.type&&(n=c,p=c.sourceLayer,p+="|"+JSON.stringify(c.minzoom),p+="|"+JSON.stringify(c.maxzoom),p+="|"+JSON.stringify(c.filter),p+="|"+JSON.stringify(c.layout&&
c.layout["line-cap"]),p+="|"+JSON.stringify(c.layout&&c.layout["line-join"]),n.hasDataDrivenLine&&(p+="|"+JSON.stringify(b)),f.push({key:p,layer:c}));++b}this._assignRefLayers(a);this._assignRefLayers(f)};a.prototype._assignRefLayers=function(a){a.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0});for(var e,b,d=a.length,f=0;f<d;f++){var c=a[f];if(c.key===e)c.layer.refLayerId=b;else if(e=c.key,b=c.layer.id,1===c.layer.type&&!c.layer.getPaintProperty("fill-outline-color"))for(var g=f+1;g<d;g++){var n=
a[g];if(n.key===e){if(n.layer.getPaintProperty("fill-outline-color")){a[f]=n;a[g]=c;b=n.layer.id;break}}else break}}};a._create=function(a,f,b){f=1-1/(b.length+1)*(1+f);switch(a.type){case "background":return new n.BackgroundStyleLayer(0,a,f);case "fill":return new n.FillStyleLayer(1,a,f);case "line":return new n.LineStyleLayer(2,a,f);case "symbol":return new n.SymbolStyleLayer(3,a,f);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new n.CircleStyleLayer(4,a,
f)}throw Error("Unknown vector tile layer");};return a}()})},"*now":function(p){p(['dojo/i18n!*preload*esri/layers/vectorTiles/core/workers/nls/worker-init*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});define("esri/layers/vectorTiles/core/workers/worker-init",[],1);